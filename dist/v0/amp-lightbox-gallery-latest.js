(self.AMP=self.AMP||[]).push({n:"amp-lightbox-gallery",v:"0",f:(function(AMP,_){
var g;function l(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};function aa(a){if(!a)return[];for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return b};self.log=self.log||{user:null,dev:null,userForEmbed:null};var n=self.log;function p(){if(!n.user)throw Error("failed to call initLogConstructor");return n.user}function r(){if(n.dev)return n.dev;throw Error("failed to call initLogConstructor");};function ba(a){var b=Object.create(null);a&&Object.assign(b,a);return b};function ca(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function t(a,b){a=a.__AMP_TOP||a;return u(a,b)}function da(a,b){a=v(a);a=w(a);return u(a,b)}function ea(a,b){return fa(w(a),b)}function v(a){return a.nodeType?t((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function w(a){a=v(a);return a.isSingleDoc()?a.win:a}function u(a,b){ga(a,b);var c=x(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function fa(a,b){var c=x(a)[b];if(c){if(c.promise)return c.promise;u(a,b);return c.promise=Promise.resolve(c.obj)}return null}function x(a){var b=a.services;b||(b=a.services={});return b}function ga(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var ha=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function ia(a,b,c,d,e){return e?e:b?"\ufffd":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a};function y(a,b,c){for(var d=a;d&&d!==c;d=d.parentElement)if(b(d))return d;return null}function ja(a){var b="figure";if(a.closest)return a.closest(b);b=b.toUpperCase();return y(a,function(a){return a.tagName==b})}function z(a,b){return a.closest?a.closest(b):y(a,function(a){var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return c?c.call(a,b):!1})}
function A(a,b){var c;return(c="function"===typeof a.getElementsByTagName?a.getElementsByTagName(b):a.querySelectorAll(b))&&c[0]||null}function ka(a,b){for(var c=a.firstElementChild;c;c=c.nextElementSibling)if(b(c))return c;return null}var B;
function C(a,b){if(null==B){var c=a.ownerDocument;try{var d=c.createElement("div"),e=c.createElement("div");d.appendChild(e);B=d.querySelector(":scope div")===e}catch(h){B=!1}}if(B)return a.querySelector(":scope "+b);var f="i-amphtml-scoped";a.classList.add(f);b=a.querySelector("."+f+" "+b);a.classList.remove(f);return b};function la(a){return ma(a,"amp-lightbox-manager","amp-lightbox-gallery",void 0).then(function(a){return p().assert(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","amp-lightbox-manager","amp-lightbox-gallery","amp-lightbox-gallery","amp-lightbox-gallery")})}
function ma(a,b,c,d){var e=v(a),f=ea(a,b);return f?f:e.whenBodyAvailable().then(function(){var a;a=e.win;var b=e.getHeadNode(),d;if(b){d=[];for(var b=b.querySelectorAll("script[custom-element]"),f=0;f<b.length;f++)d.push(b[f].getAttribute("custom-element"))}else d=[];a=d.includes(c)?t(a,"extensions").waitForExtension(a,c):Promise.resolve();return a}).then(function(){var f;if(d)f=ea(a,b);else if(f=e.win,f.ampExtendedElements&&f.ampExtendedElements[c]){f=w(a);var k=fa(f,b);if(!k){var q=new ca,k=q.promise,
q=q.resolve;x(f)[b]={obj:null,promise:k,resolve:q,context:null,ctor:null}}f=k}else f=null;return f})};var D;function na(a,b){var c=void 0,d=a,e=b,f;f=function(a){try{return e(a)}catch(m){throw self.reportError(m),m;}};var h=oa(),k=!1;c&&(k=c.capture);d.addEventListener("click",f,h?c:k);return function(){d&&d.removeEventListener("click",f,h?c:k);f=d=e=null}}function oa(){if(void 0!==D)return D;D=!1;try{var a={get capture(){D=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return D};var E,pa="Webkit webkit Moz moz ms O o".split(" ");function qa(a,b){var c=void 0;if(2>b.length?0:0==b.lastIndexOf("--",0))return b;E||(E=ba());var d=E[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<pa.length;f++){var h=pa[f]+e;if(void 0!==a[h]){e=h;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(E[b]=d)}return d}function F(a,b,c){var d;(b=qa(a.style,b))&&(a.style[b]=d?c+d:c)}function G(a,b){for(var c in b)F(a,c,b[c])}
function H(a,b){if(void 0===b){var c;c=(c=qa(a.style,"display"))?a.style[c]:void 0;b="none"==c}F(a,"display",b?"":"none")};function I(a,b){var c={};ma(a,"amp-analytics-instrumentation","amp-analytics").then(function(d){d&&d.triggerEventForTarget(a,b,c)})};function ra(a){var b=Number(a.left),c=Number(a.top),d=Number(a.width),e=Number(a.height);return{left:b,top:c,width:d,height:e,bottom:c+e,right:b+d,x:b,y:c}};function sa(){this.C=null}g=sa.prototype;g.add=function(a){var b=this;this.C||(this.C=[]);this.C.push(a);return function(){b.remove(a)}};g.remove=function(a){this.C&&(a=this.C.indexOf(a),-1<a&&this.C.splice(a,1))};g.removeAll=function(){this.C&&(this.C.length=0)};g.fire=function(a){if(this.C)for(var b=this.C,c=0;c<b.length;c++)(0,b[c])(a)};g.getHandlerCount=function(){return this.C?this.C.length:0};function ta(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1};function J(a,b,c){var d=this;this.La=t(a,"timer");this.Ra=b;this.Pa=c||0;this.aa=-1;this.sa=0;this.L=!1;this.Na=function(){return d.ja()}}J.prototype.isPending=function(){return-1!=this.aa};J.prototype.schedule=function(a){var b=a||this.Pa;this.L&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.sa?(this.cancel(),this.sa=c,this.aa=this.La.delay(this.Na,b),!0):!1};J.prototype.ja=function(){this.aa=-1;this.sa=0;this.L=!0;this.Ra();this.L=!1};
J.prototype.cancel=function(){this.isPending()&&(this.La.cancel(this.aa),this.aa=-1)};var ua=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g;function va(a){var b=a.getAttribute("srcset");if(b){a=[];for(var c;c=ua.exec(b);){var d=c[1],e=void 0,f;if(c[2]){var h=c[3].toLowerCase();if("w"==h)e=parseInt(c[2],10);else if("x"==h)f=parseFloat(c[2]);else continue}else f=1;a.push({url:d,width:e,dpr:f})}return new L(a)}var k=p().assert(a.getAttribute("src"),'Either non-empty "srcset" or "src" attribute must be specified: %s',a);return wa(k)}
function wa(a){return new L([{url:a,width:void 0,dpr:1}])}function L(a){p().assert(0<a.length,"Srcset must have at least one source");this.ba=a;for(var b=!1,c=!1,d=0;d<a.length;d++)var e=a[d],b=b||!!e.width,c=c||!!e.dpr;p().assert(!!(b^c),"Srcset must have width or dpr sources, but not both");a.sort(b?xa:ya);this.Ma=b}
L.prototype.select=function(a,b){if(this.Ma){b*=a;a=this.ba;for(var c=0,d=Infinity,e=Infinity,f=0;f<a.length;f++){var h=a[f].width,k=Math.abs(h-b);if(k<=1.1*d||1.2<b/e)c=f,d=k,e=h;else break}}else for(a=this.ba,c=0,d=Infinity,e=0;e<a.length;e++)if(f=Math.abs(a[e].dpr-b),f<=d)c=e,d=f;else break;b=c;return this.ba[b].url};L.prototype.getUrls=function(){return this.ba.map(function(a){return a.url})};
L.prototype.stringify=function(a){for(var b=[],c=this.ba,d=0;d<c.length;d++){var e=c[d],f=e.url;a&&(f=a(f));f=this.Ma?f+(" "+e.width+"w"):f+(" "+e.dpr+"x");b.push(f)}return b.join(", ")};function xa(a,b){p().assert(a.width!=b.width,"Duplicate width: %s",a.width);return a.width-b.width}function ya(a,b){p().assert(a.dpr!=b.dpr,"Duplicate dpr: %s",a.dpr);return a.dpr-b.dpr};function za(a,b,c){var d=Date.now();this.type=a;this.data=b;this.time=d;this.event=c}
function Aa(a,b){this.H=a;this.j=[];this.T=[];this.D=[];this.m=[];this.B=null;this.eb=b;this.oa=!1;this.ja=new J(a.ownerDocument.defaultView,this.Fa.bind(this));this.Ga=new sa;this.Z=Object.create(null);this.Ca=this.Ya.bind(this);this.Aa=this.Wa.bind(this);this.Ba=this.Xa.bind(this);this.za=this.Va.bind(this);this.H.addEventListener("touchstart",this.Ca);this.H.addEventListener("touchend",this.Aa);this.H.addEventListener("touchmove",this.Ba);this.H.addEventListener("touchcancel",this.za);this.ta=
!1}function Ba(a){var b;b=void 0===b?!1:b;var c=a.__AMP_Gestures;c||(c=new Aa(a,b),a.__AMP_Gestures=c);return c}g=Aa.prototype;g.cleanup=function(){this.H.removeEventListener("touchstart",this.Ca);this.H.removeEventListener("touchend",this.Aa);this.H.removeEventListener("touchmove",this.Ba);this.H.removeEventListener("touchcancel",this.za);delete this.H.__AMP_Gestures;this.ja.cancel()};g.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.Z[d];e||(this.j.push(c),e=new sa,this.Z[d]=e);return e.add(b)};
g.removeGesture=function(a){var b=(new a(this)).getType();if(a=this.Z[b]){a.removeAll();a=ta(this.j,function(a){return a.getType()==b});if(0>a)return!1;this.j.splice(a,1);this.D.splice(a,1);this.m.splice(a,1);this.T.splice(a,1);delete this.Z[b];return!0}return!1};g.onPointerDown=function(a){return this.Ga.add(a)};
g.Ya=function(a){var b=Date.now();this.oa=!1;this.Ga.fire(a);for(var c=0;c<this.j.length;c++)if(!this.D[c]&&(this.m[c]&&this.m[c]<b&&M(this,c),this.j[c].onTouchStart(a))){var d=c;this.T[d]=!0;this.m[d]=0}N(this,a)};g.Xa=function(a){for(var b=Date.now(),c=0;c<this.j.length;c++)this.T[c]&&(this.m[c]&&this.m[c]<b?M(this,c):this.j[c].onTouchMove(a)||M(this,c));N(this,a)};
g.Wa=function(a){for(var b=Date.now(),c=0;c<this.j.length;c++)this.T[c]&&(this.m[c]&&this.m[c]<b?M(this,c):(this.j[c].onTouchEnd(a),(!this.m[c]||this.m[c]<b)&&M(this,c)));N(this,a)};g.Va=function(a){for(var b=0;b<this.j.length;b++){var c=b;this.D[c]=0;M(this,c)}N(this,a)};function N(a,b){var c=!!a.B||a.oa;a.oa=!1;if(!c)for(var d=Date.now(),e=0;e<a.j.length;e++)if(a.D[e]||a.m[e]&&a.m[e]>=d){c=!0;break}c&&(b.stopPropagation(),a.eb||b.preventDefault());a.ta&&(a.ta=!1,a.Fa())}
g.Fa=function(){for(var a=Date.now(),b=-1,c=0;c<this.j.length;c++)if(!this.D[c])this.m[c]&&this.m[c]<a&&M(this,c);else if(-1==b||this.D[c]>this.D[b])b=c;if(-1!=b){for(var d=0,c=0;c<this.j.length;c++)!this.D[c]&&this.T[c]&&(d=Math.max(d,this.m[c]-a));if(2>d){for(var a=b,c=this.j[a],e=0;e<this.j.length;e++)if(e!=a){var f=e;this.D[f]=0;M(this,f)}this.D[a]=0;this.m[a]=0;this.B=c;c.acceptStart()}else this.ja.schedule(d)}};function M(a,b){a.T[b]=!1;a.m[b]=0;a.D[b]||a.j[b].acceptCancel()}
function Ca(a,b){this.gb=a;this.F=b}g=Ca.prototype;g.getType=function(){return this.gb};g.signalReady=function(a){var b=this.F;if(b.B)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.j.length;d++)b.j[d]==this&&(b.D[d]=c+a,b.m[d]=0);b.ta=!0}};g.signalPending=function(a){var b=this.F;if(b.B)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.j.length;d++)b.j[d]==this&&(b.m[d]=c+a)};g.signalEnd=function(){var a=this.F;a.B==this&&(a.B=null,a.oa=!0)};
g.signalEmit=function(a,b){var c=this.F.Z[this.getType()];c&&c.fire(new za(this.getType(),a,b))};g.acceptStart=function(){};g.acceptCancel=function(){};g.onTouchStart=function(){return!1};g.onTouchMove=function(){return!1};g.onTouchEnd=function(){};function Da(a,b,c){1>b&&(b=1);var d=a/b,e=.5+Math.min(b/33.34,.5);return d*e+c*(1-e)};function O(a,b,c,d){Ca.call(this,a,b);this.ga=c;this.na=d;this.B=!1;this.V=this.U=this.ua=this.ia=this.la=this.wa=this.va=this.P=this.O=this.S=this.R=0}l(O,Ca);g=O.prototype;g.onTouchStart=function(a){return(a=a.touches)&&1==a.length?(this.la=Date.now(),this.R=a[0].clientX,this.S=a[0].clientY,!0):!1};
g.onTouchMove=function(a){var b=a.touches;if(b&&1==b.length){var c=b[0],b=c.clientX,c=c.clientY;this.O=b;this.P=c;if(this.B)Ea(this,!1,!1,a);else if(a=Math.abs(b-this.R),b=Math.abs(c-this.S),this.ga&&this.na)(8<=a||8<=b)&&this.signalReady(-10);else if(this.ga)if(8<=a&&a>b)this.signalReady(-10);else{if(8<=b)return!1}else if(this.na)if(8<=b&&b>a)this.signalReady(-10);else{if(8<=a)return!1}else return!1;return!0}return!1};g.onTouchEnd=function(a){this.B&&(this.B=!1,Ea(this,!1,!0,a),this.signalEnd())};
g.acceptStart=function(){this.B=!0;this.va=this.R;this.wa=this.S;this.ua=this.la;this.R=this.O;this.S=this.P;Ea(this,!0,!1,null)};g.acceptCancel=function(){this.B=!1};
function Ea(a,b,c,d){a.ia=Date.now();var e=a.ia-a.ua;if(!c&&4<e||c&&16<e)a.U=Da(a.O-a.va,e,a.U),a.V=Da(a.P-a.wa,e,a.V),a.U=1E-4<Math.abs(a.U)?a.U:0,a.V=1E-4<Math.abs(a.V)?a.V:0,a.va=a.O,a.wa=a.P,a.ua=a.ia;a.signalEmit({first:b,last:c,time:a.ia,deltaX:a.ga?a.O-a.R:0,deltaY:a.na?a.P-a.S:0,startX:a.R,startY:a.S,lastX:a.O,lastY:a.P,velocityX:a.ga?a.U:0,velocityY:a.na?a.V:0},d)}function Fa(a){O.call(this,"swipe-y",a,!1,!0)}l(Fa,O);function P(a,b,c,d){var e=new Ga(0,0,a,b,c,d,1,1);return e.solveYValueFromXValue.bind(e)}function Ga(a,b,c,d,e,f,h,k){this.x0=a;this.y0=b;this.x1=c;this.y1=d;this.x2=e;this.y2=f;this.x3=h;this.y3=k}g=Ga.prototype;g.solveYValueFromXValue=function(a){return this.getPointY(this.solvePositionFromXValue(a))};
g.solvePositionFromXValue=function(a){var b=1E-6,c=(a-this.x0)/(this.x3-this.x0);if(0>=c)return 0;if(1<=c)return 1;for(var d=0,e=1,f=0,h=0;8>h;h++){var f=this.getPointX(c),k=(this.getPointX(c+b)-f)/b;if(Math.abs(f-a)<b)return c;if(Math.abs(k)<b)break;else f<a?d=c:e=c,c-=(f-a)/k}for(h=0;Math.abs(f-a)>b&&8>h;h++)f<a?(d=c,c=(c+e)/2):(e=c,c=(c+d)/2),f=this.getPointX(c);return c};
g.getPointX=function(a){if(0==a)return this.x0;if(1==a)return this.x3;var b=this.lerp(this.x0,this.x1,a),c=this.lerp(this.x1,this.x2,a),d=this.lerp(this.x2,this.x3,a),b=this.lerp(b,c,a),c=this.lerp(c,d,a);return this.lerp(b,c,a)};g.getPointY=function(a){if(0==a)return this.y0;if(1==a)return this.y3;var b=this.lerp(this.y0,this.y1,a),c=this.lerp(this.y1,this.y2,a),d=this.lerp(this.y2,this.y3,a),b=this.lerp(b,c,a),c=this.lerp(c,d,a);return this.lerp(b,c,a)};g.lerp=function(a,b,c){return a+c*(b-a)};
var Ha=P(.25,.1,.25,1),Ia=P(.42,0,1,1),Ja=P(0,0,.58,1),Ka=P(.42,0,.58,1),La={linear:function(a){return a},ease:Ha,"ease-in":Ia,"ease-out":Ja,"ease-in-out":Ka};function Ma(a){if(!a)return null;if("string"==typeof a){if(-1!=a.indexOf("cubic-bezier")){var b=a.match(/cubic-bezier\((.+)\)/);if(b&&(b=b[1].split(",").map(parseFloat),4==b.length)){for(var c=0;4>c;c++)if(isNaN(b[c]))return null;return P(b[0],b[1],b[2],b[3])}return null}return La[a]}return a};function Na(){}function Q(a,b){this.W=a;(a=b)||(a=t(self,"vsync"));this.ca=a;this.Ea=null;this.w=[]}Q.prototype.setCurve=function(a){a&&(this.Ea=Ma(a));return this};Q.prototype.add=function(a,b,c,d){this.w.push({delay:a,func:b,duration:c,curve:Ma(d)});return this};Q.prototype.start=function(a){var b=new R(this.ca,this.W,this.w,this.Ea,a);return b};
function R(a,b,c,d,e){this.ca=a;this.W=b;this.w=[];for(b=0;b<c.length;b++){var f=c[b];this.w.push({delay:f.delay,func:f.func,duration:f.duration,curve:f.curve||d,started:!1,completed:!1})}this.Qa=e;this.la=Date.now();this.L=!0;this.Ja={};e=new ca;this.Ha=e.promise;this.cb=e.resolve;this.bb=e.reject;this.Ka=this.ca.createAnimTask(this.W,{mutate:this.fb.bind(this)});this.ca.canAnimate(this.W)?this.Ka(this.Ja):(r().warn("Animation","cannot animate"),S(this,!1,0))}
R.prototype.then=function(a,b){return a||b?this.Ha.then(a,b):this.Ha};R.prototype.thenAlways=function(a){a=a||Na;return this.then(a,a)};R.prototype.halt=function(a){S(this,!1,a||0)};function S(a,b,c){if(a.L){a.L=!1;if(0!=c){1<a.w.length&&a.w.sort(function(a,b){return a.delay+a.duration-(b.delay+b.duration)});try{if(0<c)for(c=0;c<a.w.length;c++)a.w[c].func(1,!0);else for(var d=a.w.length-1;0<=d;d--)a.w[d].func(0,!1)}catch(e){r().error("Animation","completion failed: "+e,e),b=!1}}b?a.cb():a.bb()}}
R.prototype.fb=function(){if(this.L){for(var a=Date.now(),b=Math.min((a-this.la)/this.Qa,1),c=0;c<this.w.length;c++){var d=this.w[c];!d.started&&b>=d.delay&&(d.started=!0)}for(c=0;c<this.w.length;c++)if(d=this.w[c],d.started&&!d.completed)a:{var e,f;if(0<d.duration){if(e=f=Math.min((b-d.delay)/d.duration,1),d.curve&&1!=e)try{e=d.curve(f)}catch(h){r().error("Animation","step curve failed: "+h,h);S(this,!1,0);break a}}else e=f=1;1==f&&(d.completed=!0);try{d.func(e,d.completed)}catch(h){r().error("Animation",
"step mutate failed: "+h,h),S(this,!1,0)}}1==b?S(this,!0,0):this.ca.canAnimate(this.W)?this.Ka(this.Ja):(r().warn("Animation","cancel animation"),S(this,!1,0))}};function Oa(a){var b;b=void 0===b?" ":b;return function(c,d){for(var e=[],f=0;f<a.length;f++){var h=(0,a[f])(c,d);"string"==typeof h&&e.push(h)}return e.join(b)}}function T(a,b){return function(c,d){for(var e in b){var f=e;"display"===f&&r().error("STYLE","`display` style detected. You must use toggle instead.");F(a,f,b[e](c,d))}}}function U(a,b){return function(c){return a+(b-a)*c}}
function Qa(a,b){return function(c){var d=a(c);"number"==typeof d&&(d+="px");if(!b)return"translate("+d+")";c=b(c);"number"==typeof c&&(c+="px");return"translate("+d+","+c+")"}}function Ra(a){return function(b){return"scale("+a(b)+")"}};var Sa={"AMP-IMG":!0},Ta={"AMP-IMG":!0},Ua={"AMP-YOUTUBE":!0,"AMP-VIDEO":!0};function Va(a){this.M=a;this.$=null;this.Y=ba({default:[]});this.Oa=0;this.ka=[]}g=Va.prototype;g.maybeInit=function(){var a=this;if(this.$)return this.$;this.$=Wa(this);this.M.getRootNode().addEventListener("amp:dom-update",function(){a.$=Wa(a)});return this.$};
function Wa(a){return a.M.whenReady().then(function(){for(var b=a.M.getRootNode().querySelectorAll("[lightbox]"),c=a.ab.bind(a),d=0,e;void 0!==(e=b[d]);d++)c(e,d)})}function Xa(a,b){var c=b.getAttribute("lightbox")||"carousel"+(b.getAttribute("id")||a.Oa++);Ya(b).then(function(b){b.forEach(function(b){var d=b.hasAttribute("lightbox-exclude")||b.hasAttribute("lightbox")&&b.getAttribute("lightbox")!==c;d||a.ka.includes(b)||(b.setAttribute("lightbox",c),a.ka.push(b),Za(a,b,c))})})}
g.ab=function(a){if(!this.ka.includes(a))if(this.ka.push(a),"AMP-CAROUSEL"==a.tagName)Xa(this,a);else{var b=a.getAttribute("lightbox")||"default";Za(this,a,b)}};function $a(a,b){var c=ka(a,function(a){return"FIGCAPTION"!==a.tagName});c&&c.setAttribute("lightbox",b);return c}
function Za(a,b,c){if("FIGURE"==b.tagName){var d=$a(b,c);if(d)b=d;else return}p().assert(Sa[b.tagName],"The element "+b.tagName+" isn't supported in lightbox yet.");a.Y[c]||(a.Y[c]=[]);a.Y[c].push(b);if(Ta[b.tagName]&&!b.hasAttribute("on")){var e=A(a.M.getRootNode(),"amp-lightbox-gallery");b.setAttribute("on","tap:"+e.id+".activate")}}function Ya(a){return a.signals().whenSignal("load-end").then(function(){return aa(a.querySelectorAll(".amp-carousel-slide"))})}
g.getElementsForLightboxGroup=function(a){var b=this;return this.maybeInit().then(function(){return b.Y[a]})};g.getDescription=function(a){var b=ja(a);if(b){var c=A(b,"figcaption");if(c)return c.innerText}var d=a.getAttribute("aria-describedby");if(d){var e=this.M.getElementById(d);if(e)return e.innerText}return null};function ab(a){return Ua[a.tagName]?a.getImpl().then(function(a){return a.getDuration()}):Promise.resolve()}
g.getThumbnails=function(a){var b=this;return this.Y[a].map(function(a){var c;a:{if(a.hasAttribute("lightbox-thumbnail-id")&&(c=a.getAttribute("lightbox-thumbnail-id"),(c=b.M.getElementById(c))&&"AMP-IMG"==c.tagName)){c=va(c);break a}c=bb(b,a)}var e;a:switch(a.tagName){case "AMP-AD":e='data:image/svg+xml;charset=utf-8,<svg width="128" height="128" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="#1E3B63" d="M0 0h128v128H0z"/><rect fill="#2B6AC0" x="34" y="74" width="8" height="30" rx="2"/><rect fill="#2B6AC0" x="87" y="74" width="8" height="30" rx="2"/><rect fill="#ACC8F0" x="24" y="30" width="81" height="54" rx="4"/><path fill="#D1E5FF" d="M29 35h71v44H29z"/><path d="M64 53.5V66a3 3 0 0 1-6 0v-4h-5v4a3 3 0 0 1-6 0V53.5a8.5 8.5 0 0 1 17 0zm-6 0a2.5 2.5 0 0 0-5 0V56h5v-2.5zM71 45h3v.041C80.16 45.55 85 50.71 85 57s-4.84 11.45-11 11.959V69h-3a3 3 0 0 1-3-3V48a3 3 0 0 1 3-3zm3 6.083v11.834a6.002 6.002 0 0 0 0-11.834z" fill="#225CAC"/></g></svg>';
break a;case "AMP-VIDEO":case "AMP-YOUTUBE":e='data:image/svg+xml;charset=utf-8,<svg width="128" height="128" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="#1E3B63" d="M0 0h128v128H0z"/><path d="M24 51h80v46a4 4 0 0 1-4 4H28a4 4 0 0 1-4-4V51z" fill="#225CAC"/><path fill="#1B519B" d="M24 49h80v12H24z"/><path fill="#D1E5FF" d="M56 49l-8 12h-9l8-12zm16 0l-8 12h-8l8-12zm32 0l-8 12h-8l8-12zm-16 0l-8 12h-8l8-12z"/><path d="M26.916 49.148l77.274-20.705-2.07-7.728a4 4 0 0 0-4.9-2.828L27.674 36.522a4 4 0 0 0-2.829 4.899l2.07 7.727z" fill="#1B519B"/><path fill="#D1E5FF" d="M57.826 40.866l-10.834-9.52-8.693 2.329 10.833 9.52zm15.454-4.141l-10.833-9.52-7.727 2.07 10.833 9.52zm30.91-8.282l-10.833-9.52-7.728 2.07 10.834 9.52zm-15.455 4.141l-10.833-9.52-7.728 2.07 10.834 9.52z"/><path d="M28 37h9.86a4 4 0 0 1 3.327 1.781L48 49l-8 12H24V41a4 4 0 0 1 4-4z" fill="#2B6AC0"/><circle fill="#D1E5FF" cx="29.5" cy="44.5" r="1.5"/><circle fill="#D1E5FF" cx="29.5" cy="55.5" r="1.5"/></g></svg>';
break a;default:e='data:image/svg+xml;charset=utf-8,<svg width="128" height="128" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M9 20.5a1.5 1.5 0 0 1-3 0c0-6.488 5-8.53 5-13.5a4 4 0 1 0-8 0 1.5 1.5 0 0 1-3 0 7 7 0 1 1 14 0c0 5.483-5 7.485-5 13.5z" id="a"/><circle id="b" cx="7.5" cy="29.5" r="1.5"/></defs><g fill="none" fill-rule="evenodd"><path fill="#1E3B63" d="M0 0h128v128H0z"/><path d="M33 24.5h62a4 4 0 0 1 4 4v54.952L78.081 104.5H33a4 4 0 0 1-4-4v-72a4 4 0 0 1 4-4z" fill="#D1E5FF"/><g transform="translate(57 48)"><use fill="#225CAC" xlink:href="#a"/><path stroke="#225CAC" d="M9.5 20.5a2 2 0 1 1-4 0c0-2.85.756-4.755 2.58-7.59l.385-.595c.152-.236.265-.412.373-.584C10.006 9.873 10.5 8.601 10.5 7a3.5 3.5 0 1 0-7 0 2 2 0 1 1-4 0 7.5 7.5 0 0 1 15 0c0 2.273-.642 3.81-2.314 6.409l-.266.412C10.133 16.592 9.5 18.103 9.5 20.5z"/></g><g transform="translate(57 48)"><use fill="#225CAC" xlink:href="#b"/><circle stroke="#225CAC" cx="7.5" cy="29.5" r="2"/></g><path d="M82 83.5h17l-21 21v-17a4 4 0 0 1 4-4z" fill="#ACC8F0"/></g></svg>'}return{srcset:c,
placeholderSrc:e,element:a,timestampPromise:ab(a)}})};function bb(a,b){if("AMP-IMG"==b.tagName)return va(b);if("AMP-VIDEO"==b.tagName)return(a=b.getAttribute("poster"))?wa(a):null;var c=C(b,"> [placeholder]");return c?bb(a,c):null};var V=P(.8,0,.2,1),cb=P(.8,0,.2,1);function db(a){a=AMP.BaseElement.call(this,a)||this;a.ha=!1;a.qa=-1;a.K=-1;a.ya=a.Ta.bind(a);a.F=null;a.ra=null;a.xa=null;a.X={default:[]};a.l=null;a.da=null;a.o=null;a.I=null;a.c=null;a.h=null;a.fa=null;a.N=null;a.A=null;a.J=null;a.pa=1;a.ma=null;a.G="default";a.Ia=null;return a}l(db,AMP.BaseElement);g=db.prototype;g.renderOutsideViewport=function(){return!0};
g.buildCallback=function(){var a=this;return la(this.getAmpDoc()).then(function(b){a.F=b;b=a.getAmpDoc();b=v(b);b=w(b);b=u(b,"history");a.ra=b;a:{b=a.getAmpDoc();if(b.nodeType){var c=(b.ownerDocument||b).defaultView;if(c=c!=(c.__AMP_TOP||c)&&ga(c,"action")?u(c,"action"):null){b=c;break a}}b=da(b,"action")}a.xa=b;var d=da(a.getAmpDoc(),"viewer");return d.whenFirstVisible()}).then(function(){a.l=a.win.document.createElement("div");a.l.classList.add("i-amphtml-lbg");a.element.appendChild(a.l);a.F.maybeInit();
eb(a);a.registerAction("open",function(b){return a.activate(b)})})};g.layoutCallback=function(){return Promise.resolve()};function fb(a){a.o=a.win.document.createElement("div");a.o.classList.add("i-amphtml-lbg-controls");gb(a);hb(a);ib(a);a.mutateElement(function(){a.l.appendChild(a.o)})}function jb(a,b){a.da||(a.da=a.win.document.createElement("div"),a.l.appendChild(a.da));a.o||fb(a);return kb(a,b)}
function eb(a){var b=a.win.document.createElement("div");b.classList.add("i-amphtml-lbg-mask");a.l.appendChild(b)}
function lb(a,b){var c=0;a.X[a.G]=[];b.forEach(function(b){b.lightboxItemId=c++;var d=b.cloneNode(!b.classList.contains("i-amphtml-element"));d.removeAttribute("on");d.removeAttribute("id");d.removeAttribute("i-amphtml-layout");var f=a.F.getDescription(b),h={descriptionText:f,tagName:d.tagName,sourceElement:b,element:d};b=d;if(Ta[d.tagName]){b=a.element.ownerDocument.createElement("div");var k=a.win.document.createElement("amp-image-viewer");k.setAttribute("layout","fill");d.removeAttribute("class");
k.appendChild(d);b.appendChild(k);h.imageViewer=k}a.c.appendChild(b);a.X[a.G].push(h)})}function kb(a,b){var c=a.element.querySelector("amp-carousel[amp-lightbox-group="+String(b).replace(ha,ia)+"]");return c?(a.c=c,a.mutateElement(function(){var c=a.X[b].length;mb(a,c);H(a.c,!0)})):nb(a,b)}
function nb(a,b){return Promise.all([t(a.win,"extensions").installExtensionForDoc(a.getAmpDoc(),"amp-carousel"),t(a.win,"extensions").installExtensionForDoc(a.getAmpDoc(),"amp-image-viewer")]).then(function(){return a.F.getElementsForLightboxGroup(b)}).then(function(c){a.c=a.win.document.createElement("amp-carousel");a.c.setAttribute("type","slides");a.c.setAttribute("layout","fill");a.c.setAttribute("loop","");a.c.setAttribute("amp-lightbox-group",b);lb(a,c);return a.mutateElement(function(){a.da.appendChild(a.c);
mb(a,c.length)})})}function mb(a,b){1<b?a.o.classList.remove("i-amphtml-lbg-single"):a.o.classList.add("i-amphtml-lbg-single")}
function gb(a){a.h=a.win.document.createElement("div");a.h.classList.add("i-amphtml-lbg-desc-box");a.h.classList.add("i-amphtml-lbg-standard");a.fa=a.win.document.createElement("div");a.fa.classList.add("i-amphtml-lbg-desc-text");a.N=a.win.document.createElement("div");a.N.classList.add("i-amphtml-lbg-desc-mask");a.h.appendChild(a.N);a.h.appendChild(a.fa);a.h.addEventListener("click",function(b){ob(a);b.stopPropagation()});a.o.appendChild(a.h)}
function W(a){var b=X(a).descriptionText;b?a.mutateElement(function(){a.fa.innerText=b;a.h.classList.remove("i-amphtml-lbg-fade-out");H(a.h,!0)}).then(function(){function b(){G(a.N,{visibility:e||f?"visible":"hidden"});f&&pb(a)}function d(){e=a.h.scrollHeight-a.h.clientHeight>=a.N.clientHeight;f=a.h.classList.contains("i-amphtml-lbg-overflow")}var e,f;a.measureMutateElement(d,b)}):a.mutateElement(function(){H(a.h,!1)})}
function ob(a){I(a.element,"descriptionOverflowToggled");var b,c,d;a.measureMutateElement(function(){b=a.h.classList.contains("i-amphtml-lbg-standard");c=a.h.classList.contains("i-amphtml-lbg-overflow");d=a.h.scrollHeight-a.h.clientHeight>=a.N.clientHeight},function(){b&&d?(a.h.classList.remove("i-amphtml-lbg-standard"),a.h.classList.add("i-amphtml-lbg-overflow"),H(a.I,!1),H(a.J,!1)):c&&pb(a)})}
function pb(a){a.h.scrollTop=0;a.h.classList.remove("i-amphtml-lbg-overflow");a.h.classList.add("i-amphtml-lbg-standard");H(a.I,!0);H(a.J,!0)}g.Sa=function(){this.c.getImpl().then(function(a){a.interactionNext()})};g.$a=function(){this.c.getImpl().then(function(a){a.interactionPrev()})};
function ib(a){a.I=a.win.document.createElement("div");var b=a.Sa.bind(a),c=a.$a.bind(a),d=Y(a,"Next","i-amphtml-lbg-button-next",b),e=Y(a,"Prev","i-amphtml-lbg-button-prev",c);t(a.win,"input").isMouseDetected()||(e.classList.add("i-amphtml-screen-reader"),d.classList.add("i-amphtml-screen-reader"));a.I.appendChild(e);a.I.appendChild(d);a.o.appendChild(a.I)}
function hb(a){a.J=a.win.document.createElement("div");a.J.classList.add("i-amphtml-lbg-top-bar");var b=a.ea.bind(a),c=a.Za.bind(a),d=a.Da.bind(a),e=Y(a,"Close","i-amphtml-lbg-button-close",b),f=Y(a,"Gallery","i-amphtml-lbg-button-gallery",c),h=Y(a,"Content","i-amphtml-lbg-button-slide",d);a.J.appendChild(e);a.J.appendChild(f);a.J.appendChild(h);a.o.appendChild(a.J)}
function Y(a,b,c,d){var e=a.win.document.createElement("div");e.setAttribute("role","button");e.setAttribute("aria-label",b);var f=a.win.document.createElement("span");f.classList.add("i-amphtml-lbg-icon");e.appendChild(f);e.classList.add(c);e.classList.add("i-amphtml-lbg-button");e.addEventListener("click",function(a){d();a.stopPropagation();a.preventDefault()});return e}
function qb(a,b){b=b.target;var c=y(b,function(a){return"BUTTON"==a.tagName||"A"==a.tagName||"button"==a.getAttribute("role")},a.l),d=null!==c,e=a.xa.hasAction(b,"tap",a.l);return!(d||e)}g.Ua=function(a){qb(this,a)&&(0==this.pa?rb(this):this.l.hasAttribute("gallery-view")||(this.o.classList.remove("i-amphtml-lbg-fade-in"),this.o.classList.add("i-amphtml-lbg-fade-out"),this.pa=0));I(this.element,"controlsToggled")};
function rb(a){a.o.classList.remove("i-amphtml-lbg-fade-out");a.o.classList.remove("i-amphtml-lbg-hidden");a.o.classList.add("i-amphtml-lbg-fade-in");a.l.hasAttribute("gallery-view")||W(a);a.pa=1}function sb(a){var b=a.Ua.bind(a),c;c=na(a.l,b);a.ma=c}function tb(a){var b=Ba(a.c);b.onGesture(Fa,function(b){b.data.last&&10<Math.abs(b.data.deltaY)&&a.ea()})}function ub(a){var b=a.G,c=a.X[b].map(function(a){return a.element});a.schedulePause(c)}function X(a){return a.X[a.G][a.K]}
g.activate=function(a){var b=this,c=a.caller;if(a.args&&a.args.id){var d=a.args.id,c=this.getAmpDoc().getElementById(d);p().assert(c,"amp-lightbox-gallery.open: element with id: %s not found",d)}vb(this,c).then(function(){return b.ra.push(b.ea.bind(b))}).then(function(a){b.qa=a})};
function vb(a,b){a.Ia=b;var c=b.getAttribute("lightbox")||"default";a.G=c;return jb(a,c).then(function(){return a.mutateElement(function(){H(a.element,!0);G(a.element,{opacity:0});a.o.classList.remove("i-amphtml-lbg-fade-in");a.o.classList.add("i-amphtml-lbg-hidden")})}).then(function(){a.getViewport().enterLightboxMode();a.ha=!0;a.updateInViewport(a.l,!0);a.scheduleLayout(a.l);a.win.document.documentElement.addEventListener("keydown",a.ya);a.c.addEventListener("slideChange",function(b){a.K=b.data.index;
W(a)});tb(a);sb(a);return a.c.signals().whenSignal("load-end")}).then(function(){return wb(a,b)}).then(function(){rb(a);I(a.element,"lightboxOpened")})}function wb(a,b){a.K=b.lightboxItemId;a.c.getImpl().then(function(b){return b.showSlideWhenReady(a.K)});W(a);return xb(a)}function yb(a){return a&&(a.complete||"complete"==a.readyState||a.document&&"complete"==a.document.readyState)&&Ta[a.tagName]&&A(a,"img")?!0:!1}
function zb(a,b){var c=A(b,"img");return a.measureElement(function(){var a=c.naturalWidth/c.naturalHeight,e=b.offsetHeight,f=b.offsetWidth,h=f/e;return.01>Math.abs(a-h)})}function Ab(a){var b=X(a).sourceElement;return Bb(a,b)&&yb(b)?zb(a,b).then(function(a){return a}):Promise.resolve(!1)}function Bb(a,b){if(b==a.Ia||b.isInViewport())return!0;var c=z(b,'amp-carousel[type="slides"]');return c&&c.isInViewport()?!0:!1}
function Cb(a,b){var c=new Q(a.element),d=500,e=a.element.ownerDocument.createElement("div");e.classList.add("i-amphtml-lightbox-gallery-trans");var f=C(b,"> img"),h=f.cloneNode(!0);h.removeAttribute("class");e.appendChild(h);return X(a).imageViewer.getImpl().then(function(f){var k=f.getImageBoxWithOffset();if(!k)return Z(a,0,1);c.add(0,T(a.element,{opacity:U(0,1)}),.8,V);c.add(.79,T(a.c,{opacity:U(0,1)}),.01);c.add(.9,T(e,{opacity:U(1,.01)}),.1,cb);return a.measureMutateElement(function(){var e=
ra(b.getBoundingClientRect());G(h,{position:"absolute",top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",transformOrigin:"top left",willChange:"transform"});var f=k.left-e.left,Pa=k.top-e.top,q=0!=e.width?k.width/e.width:1,Hb=a.getViewport().getSize().height;d=Db(Math.abs(Pa),Hb);c.add(0,T(h,{transform:Oa([Qa(U(0,f),U(0,Pa)),Ra(U(1,q))])}),.8,V)},function(){var c=a.c;H(c,!0);G(c,{opacity:0});b.classList.add("i-amphtml-ghost");a.element.ownerDocument.body.appendChild(e)})}).then(function(){return c.start(d).thenAlways(function(){return a.mutateElement(function(){G(a.element,
{opacity:""});G(a.c,{opacity:""});b.classList.remove("i-amphtml-ghost");e&&a.element.ownerDocument.body.removeChild(e)})})})}function Z(a,b,c){var d=new Q(a.element);d.add(0,T(a.element,{opacity:U(b,c)}),.8,V);return d.start(500).thenAlways(function(){return a.mutateElement(function(){G(a.element,{opacity:""});0==c&&(H(a.c,!1),H(a.element,!1))})})}
function xb(a){var b=X(a).sourceElement;if(!yb(b))return Z(a,0,1);var c=[zb(a,b),X(a).imageViewer.signals().whenSignal("load-end")];return Promise.all(c).then(function(c){return c[0]?Cb(a,b):Z(a,0,1)})}
function Eb(a){var b=X(a),c=b.sourceElement,d=500,e=new Q(a.element),f=a.element.ownerDocument.createElement("div");f.classList.add("i-amphtml-lightbox-gallery-trans");return b.imageViewer.getImpl().then(function(b){function h(){c.classList.add("i-amphtml-ghost");a.element.ownerDocument.body.appendChild(f);G(a.c,{opacity:0})}function q(){var b=ra(c.getBoundingClientRect()),f=b.left-m.left,h=b.top-m.top,b=0!=m.width?b.width/m.width:1,k=a.getViewport().getSize().height;d=Db(Math.abs(h),k);var q=T(K,
{transform:Oa([Qa(U(0,f),U(0,h)),Ra(U(1,b))])});e.add(0,function(a,b){q(a);b&&c.classList.remove("i-amphtml-ghost")},.8,cb)}var m=b.getImageBoxWithOffset();b=b.getImage();if(!m)return Z(a,1,0);var K=b.cloneNode(!0);K.removeAttribute("class");K.removeAttribute("style");G(K,{position:"absolute",top:m.top+"px",left:m.left+"px",width:m.width+"px",height:m.height+"px",transform:"",transformOrigin:"top left",willChange:"transform"});f.appendChild(K);e.add(0,T(a.element,{opacity:U(1,0)}),.8,V);e.add(.8,
T(f,{opacity:U(1,.01)}),.2,cb);return a.measureMutateElement(q,h)}).then(function(){return e.start(d).thenAlways(function(){return a.mutateElement(function(){G(a.element,{opacity:""});G(a.c,{opacity:""});H(a.c,!1);H(a.element,!1);a.element.ownerDocument.body.removeChild(f)})})})}function Fb(a){return Ab(a).then(function(b){return b?Eb(a):Z(a,1,0)})}function Db(a,b){var c,d;b=void 0===b?250:b;c=void 0===c?500:c;d=void 0===d?1E3:d;var e=Math.abs(a)/b*d;return Math.min(Math.max(e,c),d)}
function Gb(a){a=X(a).sourceElement;var b=z(a,'amp-carousel[type="slides"]');if(b){var c=z(a,"div.i-amphtml-slide-item"),d=aa(c.parentNode.children).indexOf(c);b.getImpl().then(function(a){return a.showSlideWhenReady(d)})}}
g.ea=function(){var a=this;if(!this.ha)return Promise.resolve();Gb(this);this.ha=!1;this.ma&&(this.ma(),this.ma=null);this.win.document.documentElement.removeEventListener("keydown",this.ya);this.c.removeEventListener("slideChange",function(b){a.K=b.data.index;W(a)});Ba(this.c).cleanup();return this.mutateElement(function(){a.l.removeAttribute("gallery-view");a.A&&(a.A.classList.add("i-amphtml-lbg-gallery-hidden"),a.A=null);pb(a)}).then(function(){return Fb(a)}).then(function(){a.getViewport().leaveLightboxMode();
a.schedulePause(a.l);ub(a);a.c=null;-1!=a.qa&&a.ra.pop(a.qa)})};g.Ta=function(a){if(this.ha){var b=a.keyCode;switch(b){case 27:this.ea();break;case 37:Ib(this,-1);break;case 39:Ib(this,1)}}};function Ib(a,b){var c=a.l.hasAttribute("gallery-view");c||a.c.getImpl().then(function(a){a.goCallback(b,!0,!1)})}g.Za=function(){var a=this;this.A||Jb(this);this.mutateElement(function(){a.l.setAttribute("gallery-view","");H(a.I,!1);H(a.c,!1);H(a.h,!1)});I(this.element,"thumbnailsViewToggled")};
g.Da=function(){var a=this;return this.mutateElement(function(){a.l.removeAttribute("gallery-view");H(a.I,!0);H(a.c,!0);W(a);H(a.h,!0)})};
function Jb(a){var b=a.G;a.A=a.element.querySelector(".i-amphtml-lbg-gallery[amp-lightbox-group="+String(b).replace(ha,ia)+"]");a.A?(a.A.classList.remove("i-amphtml-lbg-gallery-hidden"),Kb(a)):(a.A=a.win.document.createElement("div"),a.A.classList.add("i-amphtml-lbg-gallery"),a.A.setAttribute("amp-lightbox-group",a.G),Lb(a),a.mutateElement(function(){a.l.appendChild(a.A)}))}
function Kb(a){var b=a.F.getThumbnails(a.G).map(function(a,b){return Object.assign({index:b},a)}).filter(function(a){return Ua[a.element.tagName]});a.mutateElement(function(){b.forEach(function(b){b.timestampPromise.then(function(c){if(c&&!isNaN(c)){var d=Mb(c),f=a.A.childNodes[b.index],h=C(f,"> div");1<h.childNodes.length&&h.removeChild(h.childNodes[1]);h.appendChild(a.win.document.createTextNode(d));h.classList.add("i-amphtml-lbg-has-timestamp")}})})})}
function Lb(a){var b=[];a.F.getThumbnails(a.G).forEach(function(c){if("AMP-AD"!=c.element.tagName){var d=Nb(a,c);b.push(d)}});a.mutateElement(function(){b.forEach(function(b){a.A.appendChild(b)})})}function Ob(a){var b=2,c="0";if(a.length>=b)return a;for(var b=b-a.length,d=c;b>d.length;)d+=c;return d.slice(0,b)+a}function Mb(a){var b=Math.floor(a/60),c=Math.floor(a%60),d=Ob(Math.floor(a/3600).toString()),e=Ob(b.toString()),f=Ob(c.toString());return d+":"+e+":"+f}
function Pb(a,b,c){b.stopPropagation();Promise.all([a.Da(),a.c.getImpl()]).then(function(b){a.K=c;b[1].showSlideWhenReady(a.K);W(a)})}
function Nb(a,b){var c=a.win.document.createElement("div");c.classList.add("i-amphtml-lbg-gallery-thumbnail");var d=a.win.document.createElement("img");d.classList.add("i-amphtml-lbg-gallery-thumbnail-img");b.srcset?d.setAttribute("srcset",b.srcset.stringify()):d.setAttribute("src",b.placeholderSrc);c.appendChild(d);if(Ua[b.element.tagName]){var e=a.win.document.createElement("span");e.classList.add("i-amphtml-lbg-thumbnail-play-icon");var f=a.win.document.createElement("div");f.classList.add("i-amphtml-lbg-thumbnail-timestamp-container");
f.appendChild(e);b.timestampPromise.then(function(b){b&&!isNaN(b)&&(b=Mb(b),f.appendChild(a.win.document.createTextNode(b)),f.classList.add("i-amphtml-lbg-has-timestamp"))});c.appendChild(f)}c.addEventListener("click",function(c){Pb(a,c,b.element.lightboxItemId)});return c}
function Qb(a){return a.whenBodyAvailable().then(function(b){var c=A(a.getRootNode(),"amp-lightbox-gallery");if(!c){var d=a.win.document.createElement("amp-lightbox-gallery");d.setAttribute("layout","nodisplay");d.setAttribute("id","amp-lightbox-gallery");b.appendChild(d)}})}
(function(a){a.registerElement("amp-lightbox-gallery",db,"amp-lightbox-gallery .amp-carousel-button{display:none}.i-amphtml-lbg-icon{width:100%!important;height:100%!important;display:block!important;background-repeat:no-repeat!important;background-position:50%!important}.i-amphtml-lbg-button-close{top:0!important;right:0!important}.i-amphtml-lbg-button-close .i-amphtml-lbg-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.295 5.705a.997.997 0 0 0-1.41 0L12 10.59 7.115 5.705a.997.997 0 1 0-1.41 1.41L10.59 12l-4.885 4.885a.997.997 0 0 0 1.41 1.41L12 13.41l4.885 4.885a.997.997 0 0 0 1.41-1.41L13.41 12l4.885-4.885a.997.997 0 0 0 0-1.41z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\")}.i-amphtml-lbg-button-gallery{top:0!important;left:0!important}.i-amphtml-lbg-button-gallery .i-amphtml-lbg-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 3h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm8 0h8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM4 13h8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zm12 0h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1z' fill='%23fff' fill-rule='evenodd'/%3E%3C/svg%3E\")}.i-amphtml-lbg-button-slide{top:0!important;left:0!important;display:none}.i-amphtml-lbg-button-slide .i-amphtml-lbg-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm14 12V5H5v8l3-3 5 5 3-3 3 3zm-3.5-5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z' fill='%23fff' fill-rule='evenodd'/%3E%3C/svg%3E\")}.i-amphtml-lbg-button.i-amphtml-lbg-button-next,.i-amphtml-lbg-button.i-amphtml-lbg-button-prev{top:0!important;bottom:0!important;margin:auto!important;-webkit-filter:drop-shadow(0 0 1px #000)!important;filter:drop-shadow(0 0 1px black)!important;width:40px;height:40px;padding:20px}.i-amphtml-lbg-button-next{right:0!important}.i-amphtml-lbg-button-next .i-amphtml-lbg-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.182 12l-3.89-3.89a1 1 0 0 1 1.415-1.413l4.596 4.596a1 1 0 0 1 0 1.414l-4.596 4.596a1 1 0 0 1-1.414-1.414L13.182 12z' fill='%23fff' fill-rule='evenodd'/%3E%3C/svg%3E\")}.i-amphtml-lbg-button-prev{left:0!important}.i-amphtml-lbg-button-prev .i-amphtml-lbg-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.828 12l3.89 3.89a1 1 0 1 1-1.415 1.413l-4.596-4.596a1 1 0 0 1 0-1.414l4.596-4.596a1 1 0 1 1 1.415 1.414L10.828 12z' fill='%23fff' fill-rule='evenodd'/%3E%3C/svg%3E\")}.i-amphtml-lbg-button{position:absolute!important;cursor:pointer!important;width:24px;height:24px;padding:16px;box-sizing:content-box}.i-amphtml-lbg{position:fixed!important;z-index:2147483642}.i-amphtml-lbg,.i-amphtml-lbg-gallery,.i-amphtml-lbg-mask{top:0!important;left:0!important;right:0!important;bottom:0!important}.i-amphtml-lbg-gallery,.i-amphtml-lbg-mask{background-color:#000!important;position:absolute!important}.i-amphtml-lbg-gallery{display:none;top:56px!important;overflow:auto!important}@media (min-width:1024px){.i-amphtml-lbg-gallery{top:80px!important}}.i-amphtml-lbg-top-bar{position:absolute!important;left:0!important;right:0!important;top:0!important;height:56px!important;z-index:1!important;background:-webkit-linear-gradient(rgba(0,0,0,0.3),transparent);background:linear-gradient(rgba(0,0,0,0.3),transparent)}@media (min-width:1024px){.i-amphtml-lbg-top-bar{height:80px!important}}.i-amphtml-lbg-controls.i-amphtml-lbg-single .i-amphtml-lbg-button-gallery,.i-amphtml-lbg-controls.i-amphtml-lbg-single .i-amphtml-lbg-button-next,.i-amphtml-lbg-controls.i-amphtml-lbg-single .i-amphtml-lbg-button-prev{display:none}.i-amphtml-lbg-controls.i-amphtml-lbg-hidden{opacity:0;visibility:hidden}.i-amphtml-lbg-controls.i-amphtml-lbg-fade-in{-webkit-animation:fadeIn ease-in 0.4s 1 forwards;animation:fadeIn ease-in 0.4s 1 forwards}.i-amphtml-lbg-controls.i-amphtml-lbg-fade-out{-webkit-animation:fadeOut linear 0.4s 1 forwards;animation:fadeOut linear 0.4s 1 forwards}.i-amphtml-lbg-desc-box{position:absolute!important;left:0!important;right:0!important;bottom:0!important;color:#fff}.i-amphtml-lbg-desc-box.i-amphtml-lbg-standard{background:-webkit-linear-gradient(transparent,rgba(0,0,0,0.5));background:linear-gradient(transparent,rgba(0,0,0,0.5));max-height:6rem!important;-webkit-transition:max-height 0.3s ease-out!important;transition:max-height 0.3s ease-out!important;overflow:hidden!important}.i-amphtml-lbg-desc-box.i-amphtml-lbg-overflow{overflow-y:auto!important;-webkit-overflow-scrolling:touch!important;max-height:100%!important;-webkit-transition:max-height 0.7s ease-out!important;transition:max-height 0.7s ease-out!important}.i-amphtml-lbg-desc-mask{width:100%!important;position:fixed!important;bottom:0!important}.i-amphtml-lbg-desc-text{padding:20px!important;position:relative!important}.i-amphtml-lbg-desc-box.i-amphtml-lbg-overflow .i-amphtml-lbg-desc-text{padding-top:40px!important}.i-amphtml-lbg-desc-box.i-amphtml-lbg-standard .i-amphtml-lbg-desc-mask{z-index:1!important;height:1rem!important;background:-webkit-linear-gradient(transparent,rgba(0,0,0,0.9));background:linear-gradient(transparent,rgba(0,0,0,0.9));-webkit-transition:background-color 0.5s ease-out!important;transition:background-color 0.5s ease-out!important}.i-amphtml-lbg-desc-box.i-amphtml-lbg-overflow .i-amphtml-lbg-desc-mask{background-color:rgba(0,0,0,0.4)!important;top:0!important;z-index:0!important;-webkit-transition:background-color 0.4s ease-in!important;transition:background-color 0.4s ease-in!important}.i-amphtml-lbg[gallery-view] .i-amphtml-lbg-gallery{display:grid!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;grid-gap:5px!important;grid-template-columns:repeat(3,1fr);grid-auto-rows:-webkit-min-content!important;grid-auto-rows:min-content!important;padding:5px}@media (min-width:1024px){.i-amphtml-lbg[gallery-view] .i-amphtml-lbg-gallery{grid-template-columns:repeat(4,249.75px)}}.i-amphtml-lbg[gallery-view] .i-amphtml-lbg-gallery.i-amphtml-lbg-gallery-hidden{display:none!important}.i-amphtml-lbg-gallery-thumbnail{position:relative!important;padding-top:100%!important}.i-amphtml-lbg-gallery-thumbnail-img{width:100%!important;height:100%!important;position:absolute!important;top:0!important;-o-object-fit:cover!important;object-fit:cover!important;cursor:pointer!important}.i-amphtml-lbg-thumbnail-timestamp-container{background-color:#292d33;color:#fff;position:absolute;bottom:10px;left:10px;height:20px;border-radius:2px;opacity:0.8;width:20px}.i-amphtml-lbg-thumbnail-timestamp-container.i-amphtml-lbg-has-timestamp{font-size:12px;padding:0 5px 0 18px;line-height:1.3rem;width:auto}.i-amphtml-lbg-thumbnail-play-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");height:16px;width:16px;position:absolute;left:2px;bottom:2px}@media (min-width:1024px){.i-amphtml-lbg-button{width:40px;height:40px;padding:20px}}.i-amphtml-lbg[gallery-view] .i-amphtml-lbg-button-gallery{display:none}.i-amphtml-lbg[gallery-view] .i-amphtml-lbg-button-slide{display:block}.i-amphtml-lightbox-gallery-trans{pointer-events:none!important;position:fixed!important;z-index:1001!important;top:0!important;left:0!important;bottom:0!important;right:0!important}amp-lightbox-gallery .i-amphtml-slide-item>*{height:auto}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1;visibility:visible}}@keyframes fadeIn{0%{opacity:0}to{opacity:1;visibility:visible}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0;visibility:hidden}}@keyframes fadeOut{0%{opacity:1}to{opacity:0;visibility:hidden}}@-webkit-keyframes slideUp{0%{max-height:6rem}to{max-height:100%}}@keyframes slideUp{0%{max-height:6rem}to{max-height:100%}}\n/*# sourceURL=/extensions/amp-lightbox-gallery/0.1/amp-lightbox-gallery.css*/");a.registerServiceForDoc("amp-lightbox-manager",
Va);t(global,"extensions").addDocFactory(Qb)})(self.AMP);
})});
//# sourceMappingURL=amp-lightbox-gallery-0.1.js.map

