(self.AMP=self.AMP||[]).push({n:"amp-call-tracking",v:"0",f:(function(AMP,_){
function f(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};self.log=self.log||{user:null,dev:null,userForEmbed:null};var g=self.log;function h(){if(!g.user)throw Error("failed to call initLogConstructor");return g.user};function k(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;if(b=b!=(b.__AMP_TOP||b)&&l(b,"url-replace")?m(b,"url-replace"):null)return b}b=n(a);b=n(b);b=b.isSingleDoc()?b.win:b;return m(b,"url-replace")}function p(a,b){a=a.__AMP_TOP||a;return m(a,b)}function n(a){return a.nodeType?p((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}
function m(a,b){l(a,b);var c=a.services;c||(c=a.services={});var d=c;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function l(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function q(a){this.o=a;this.h=this.l=0;this.c=Object.create(null)}q.prototype.has=function(a){return!!this.c[a]};q.prototype.get=function(a){var b=this.c[a];if(b)return b.access=++this.h,b.payload};
q.prototype.put=function(a,b){this.has(a)||this.l++;this.c[a]={payload:b,access:this.h};if(!(this.l<=this.o)){if(g.dev)a=g.dev;else throw Error("failed to call initLogConstructor");a.warn("lru-cache","Trimming LRU cache");a=this.c;var c=this.h+1,d,e;for(e in a){var t=a[e].access;t<c&&(c=t,d=e)}void 0!==d&&(delete a[d],this.l--)}};var r,u;
function v(a){if("string"==typeof a){r||(r=self.document.createElement("a"),u=self.UrlCache||(self.UrlCache=new q(100)));var b=u,c=r;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;
d.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}}(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b};var w={};function x(a,b){b in w||(w[b]=p(a,"xhr").fetchJson(b,{credentials:"include"}).then(function(a){return a.json()}));return w[b]}function y(a){a=AMP.BaseElement.call(this,a)||this;a.j=null;a.m=null;return a}f(y,AMP.BaseElement);y.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a||"container"==a};
y.prototype.buildCallback=function(){var a=this.element.getAttribute("config"),b=this.element,c;c=void 0===c?"source":c;h().assert(null!=a,"%s %s must be available",b,c);h().assert(v(a)||/^(\/\/)/.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a);this.m=a;this.j=this.element.firstElementChild};
y.prototype.layoutCallback=function(){var a=this;return k(this.getAmpDoc()).expandUrlAsync(h().assertString(this.m)).then(function(b){return x(a.win,b)}).then(function(b){h().assert("phoneNumber"in b,"Response must contain a non-empty phoneNumber field %s",a.element);a.j.setAttribute("href","tel:"+b.phoneNumber);a.j.textContent=b.formattedPhoneNumber||b.phoneNumber})};(function(a){a.registerElement("amp-call-tracking",y)})(self.AMP);
})});
//# sourceMappingURL=amp-call-tracking-0.1.js.map

