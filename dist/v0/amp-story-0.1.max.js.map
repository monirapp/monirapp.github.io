{"version":3,"sources":["node_modules/browser-pack/_prelude.js","build/amp-story-0.1.css.js","build/amp-story-bookend-0.1.css.js","build/amp-story-consent-0.1.css.js","build/amp-story-hint-0.1.css.js","build/amp-story-info-dialog-0.1.css.js","build/amp-story-share-menu-0.1.css.js","build/amp-story-system-layer-0.1.css.js","build/amp-story-unsupported-browser-layer-0.1.css.js","build/amp-story-viewport-warning-layer-0.1.css.js","build/video-autoplay.css.js","extensions/amp-animation/0.1/web-animation-types.js","extensions/amp-story/0.1/_locales/default.js","extensions/amp-story/0.1/_locales/en.js","extensions/amp-story/0.1/amp-story-base-layer.js","extensions/amp-story/0.1/amp-story-bookend.js","extensions/amp-story/0.1/amp-story-consent.js","extensions/amp-story/0.1/amp-story-cta-layer.js","extensions/amp-story/0.1/amp-story-grid-layer.js","extensions/amp-story/0.1/amp-story-hint.js","extensions/amp-story/0.1/amp-story-info-dialog.js","extensions/amp-story/0.1/amp-story-page.js","extensions/amp-story/0.1/amp-story-request-service.js","extensions/amp-story/0.1/amp-story-share-menu.js","extensions/amp-story/0.1/amp-story-share.js","extensions/amp-story/0.1/amp-story-store-service.js","extensions/amp-story/0.1/amp-story-system-layer.js","extensions/amp-story/0.1/amp-story-unsupported-browser-layer.js","extensions/amp-story/0.1/amp-story-viewport-warning-layer.js","extensions/amp-story/0.1/amp-story.js","extensions/amp-story/0.1/analytics.js","extensions/amp-story/0.1/animation-presets-utils.js","extensions/amp-story/0.1/animation-presets.js","extensions/amp-story/0.1/animation-types.js","extensions/amp-story/0.1/animation.js","extensions/amp-story/0.1/audio.js","extensions/amp-story/0.1/background.js","extensions/amp-story/0.1/default-media.js","extensions/amp-story/0.1/development-ui.js","extensions/amp-story/0.1/embed-mode.js","extensions/amp-story/0.1/events.js","extensions/amp-story/0.1/jsonld.js","extensions/amp-story/0.1/loading-spinner.js","extensions/amp-story/0.1/localization.js","extensions/amp-story/0.1/logging.js","extensions/amp-story/0.1/media-pool.js","extensions/amp-story/0.1/media-tasks.js","extensions/amp-story/0.1/navigation-state.js","extensions/amp-story/0.1/origin-whitelist.js","extensions/amp-story/0.1/page-advancement.js","extensions/amp-story/0.1/page-scaling.js","extensions/amp-story/0.1/pagination-buttons.js","extensions/amp-story/0.1/progress-bar.js","extensions/amp-story/0.1/related-articles.js","extensions/amp-story/0.1/simple-template.js","extensions/amp-story/0.1/sources.js","extensions/amp-story/0.1/toast.js","extensions/amp-story/0.1/utils.js","extensions/amp-story/0.1/variable-service.js","node_modules/document-register-element/build/document-register-element.patched.js","node_modules/promise-pjs/promise.js","src/action-constants.js","src/analytics.js","src/clipboard.js","src/common-signals.js","src/config.js","src/cookies.js","src/dom.js","src/element-service.js","src/event-helper-listen.js","src/event-helper.js","src/experiments.js","src/gesture-recognizers.js","src/gesture.js","src/json.js","src/layout-rect.js","src/layout.js","src/log.js","src/mode-object.js","src/mode.js","src/motion.js","src/observable.js","src/pass.js","src/polyfills.js","src/polyfills/array-includes.js","src/polyfills/custom-elements.js","src/polyfills/document-contains.js","src/polyfills/domtokenlist-toggle.js","src/polyfills/math-sign.js","src/polyfills/object-assign.js","src/polyfills/promise.js","src/render-delaying-services.js","src/service.js","src/service/position-observer/position-observer-impl.js","src/service/position-observer/position-observer-worker.js","src/service/video-service-interface.js","src/service/video-service-sync-impl.js","src/service/video/autoplay.js","src/service/video/install-autoplay-styles.js","src/services.js","src/shadow-embed.js","src/static-template.js","src/string.js","src/style-installer.js","src/style.js","src/types.js","src/url-parse-query-string.js","src/url-try-decode-uri-component.js","src/url.js","src/utils/array.js","src/utils/function.js","src/utils/key-codes.js","src/utils/lru-cache.js","src/utils/object.js","src/utils/promise.js","src/utils/rate-limit.js","src/utils/video.js","src/video-interface.js","src/web-components.js","third_party/css-escape/css-escape.js","third_party/webcomponentsjs/ShadowCSS.js"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACn6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACngBA;;;;;;;;;;;;;;;;AAgBA;;;;;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","file":"amp-story-0.1.max.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const CSS = \".i-amphtml-story-background{background-color:transparent}amp-story[standalone][desktop]{max-width:none!important;max-height:none!important;width:100vw!important}[desktop] .i-amphtml-story-logo{display:block!important}.i-amphtml-story-background-container{opacity:.8!important;position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;overflow:hidden!important}.i-amphtml-story-background-overlay,.i-amphtml-story-background-overlay:after{position:absolute!important;left:0!important;top:0!important;height:100%!important;width:100%!important;z-index:1!important;background-color:rgba(0,0,0,0.2)!important}.i-amphtml-story-background-overlay:after{content:\\\"\\\"!important;display:block!important;opacity:0!important;background-color:rgba(0,0,0,0.5)!important;-webkit-transition:opacity 0.3s!important;transition:opacity 0.3s!important}.i-amphtml-story-bookend-active .i-amphtml-story-background-overlay:after{opacity:1!important}.i-amphtml-story-background{position:absolute!important;top:-150px!important;right:-150px!important;bottom:-150px!important;left:-150px!important;opacity:0!important;-webkit-filter:blur(50px)!important;filter:blur(50px)!important;background-size:cover!important;background-color:transparent!important;background-position:50%!important;will-change:opacity,z-index!important;z-index:0!important}.i-amphtml-story-background.active{opacity:1!important;z-index:1!important}[desktop] amp-story-page{-webkit-transform:scale(1.0) translateX(-200vw) translateY(0%)!important;transform:scale(1.0) translateX(-200vw) translateY(0%)!important;opacity:.05!important;-webkit-transform-origin:left!important;transform-origin:left!important;border-radius:16px!important}[desktop] amp-story-page[distance=\\\"0\\\"],[desktop] amp-story-page[distance=\\\"1\\\"]{-webkit-transition:opacity 300ms linear,-webkit-transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important;transition:opacity 300ms linear,-webkit-transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important;transition:opacity 300ms linear,transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important;transition:opacity 300ms linear,transform 300ms cubic-bezier(0.4,0.0,0.2,1),-webkit-transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important}[desktop] .i-amphtml-story-button-container{position:absolute!important;top:0!important;bottom:0!important;left:0!important;right:0!important;z-index:100002!important;pointer-events:none!important;display:block!important}[desktop] .i-amphtml-story-button-container:before{content:\\\"\\\";position:absolute!important;top:0!important;bottom:0!important;width:calc(50vw - 23vh - 32px)!important}.i-amphtml-story-back-prev>.i-amphtml-story-page-sentinel,.i-amphtml-story-button-move,.i-amphtml-story-fwd-next>.i-amphtml-story-page-sentinel{pointer-events:all!important}.i-amphtml-story-button-hidden>.i-amphtml-story-button-move{cursor:default!important;pointer-events:none!important;opacity:0!important}[desktop]>.next-container:before{right:0!important;background:-webkit-linear-gradient(left,rgba(33,33,33,0),rgba(33,33,33,0.32))!important;background:linear-gradient(90deg,rgba(33,33,33,0) 0%,rgba(33,33,33,0.32))!important}[desktop]>.prev-container:before{left:0!important;background:-webkit-linear-gradient(left,rgba(33,33,33,0.32),rgba(33,33,33,0))!important;background:linear-gradient(90deg,rgba(33,33,33,0.32) 0%,rgba(33,33,33,0))!important}[desktop]>.next-container>.i-amphtml-story-button-move{right:0!important}.prev-container>.i-amphtml-story-page-sentinel,[desktop] amp-story-page[pre-active]{-webkit-transform:scale(0.9) translateX(calc(-150% - 64px)) translateY(0%)!important;transform:scale(0.9) translateX(calc(-150% - 64px)) translateY(0%)!important}[desktop] amp-story-page[active]{-webkit-transform:scale(1.0) translateX(-50%) translateY(0%)!important;transform:scale(1.0) translateX(-50%) translateY(0%)!important;opacity:1!important}.next-container>.i-amphtml-story-page-sentinel,[desktop] amp-story-page[active]+amp-story-page{-webkit-transform:scale(0.9) translate(calc(50% + 64px))!important;transform:scale(0.9) translate(calc(50% + 64px))!important}[desktop] amp-story-page[active]+amp-story-page~amp-story-page{-webkit-transform:scale(0.9) translateX(55vw) translateY(0%)!important;transform:scale(0.9) translateX(55vw) translateY(0%)!important}[dir=rtl] [desktop] amp-story-page{-webkit-transform:scale(0.9) translateX(55vw) translateY(0%)!important;transform:scale(0.9) translateX(55vw) translateY(0%)!important}[dir=rtl] [desktop] amp-story-page[pre-active]{-webkit-transform:scale(0.9) translateX(calc(50% + 64px)) translateY(0%)!important;transform:scale(0.9) translateX(calc(50% + 64px)) translateY(0%)!important}[dir=rtl] [desktop] amp-story-page[active]{-webkit-transform:scale(1.0) translateX(-50%) translateY(0%)!important;transform:scale(1.0) translateX(-50%) translateY(0%)!important;opacity:1!important}[dir=rtl] [desktop] amp-story-page[active]+amp-story-page{-webkit-transform:scale(0.9) translateX(calc(-150% - 64px)) translateY(0%)!important;transform:scale(0.9) translateX(calc(-150% - 64px)) translateY(0%)!important}[dir=rtl] [desktop] amp-story-page[active]+amp-story-page~amp-story-page{-webkit-transform:scale(0.9) translateX(-200vw) translateY(0%)!important;transform:scale(0.9) translateX(-200vw) translateY(0%)!important}.i-amphtml-story-page-sentinel,[desktop]>amp-story-page{left:50%!important;right:auto!important;margin:auto!important;max-height:75vh!important;max-width:45vh!important;min-width:320px!important;min-height:533px!important}[desktop]>amp-story-page{box-shadow:0 0 15px rgba(0,0,0,0.4)!important}.i-amphtml-story-page-sentinel{width:100vw!important;height:100vh!important;margin-left:-32px!important;cursor:pointer}.i-amphtml-story-button-move,.i-amphtml-story-page-sentinel{position:absolute!important;top:0!important;bottom:0!important;z-index:100002!important}.i-amphtml-story-button-move{margin:auto 40px!important;width:60px!important;height:60px!important;border-radius:50%!important;border:0!important;background-color:#fff!important;background-repeat:no-repeat!important;background-size:12px 17px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;opacity:.5!important;-webkit-transition:opacity 150ms linear,-webkit-transform 300ms linear!important;transition:opacity 150ms linear,-webkit-transform 300ms linear!important;transition:opacity 150ms linear,transform 300ms linear!important;transition:opacity 150ms linear,transform 300ms linear,-webkit-transform 300ms linear!important;cursor:pointer!important;outline:none!important}.i-amphtml-story-prev-hover>amp-story-page[pre-active]{opacity:0.3!important}.i-amphtml-story-next-hover>amp-story-page[active]+amp-story-page{opacity:0.3!important}.prev-container>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.7 22l-9.5-9.5L15.7 3l-3-3L.4 12.6 12.8 25'/%3E%3C/svg%3E\\\")!important;background-position:45% 50%!important;left:0!important}.i-amphtml-story-fwd-next>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.3 3l9.5 9.5L.3 22l3 3 12.4-12.5L3.2 0'/%3E%3C/svg%3E\\\")!important;background-position:55% 50%!important}.i-amphtml-story-fwd-replay>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important;background-position:50%;background-size:32px 32px!important}.i-amphtml-story-fwd-more>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important;background-position:50%;background-size:32px 32px!important}.i-amphtml-story-next-hover>.next-container>.i-amphtml-story-button-move,.i-amphtml-story-prev-hover>.prev-container>.i-amphtml-story-button-move{-webkit-transform:scale(1.1)!important;transform:scale(1.1)!important;opacity:1!important}.i-amphtml-story-prev-hover>.i-amphtml-story-button-hidden>.i-amphtml-story-button-move{opacity:0!important}.i-amphtml-story-next-hover>.i-amphtml-story-fwd-next>.i-amphtml-story-button-move{-webkit-transform:translateX(8px)!important;transform:translateX(8px)!important;opacity:1!important}.i-amphtml-story-prev-hover>.i-amphtml-story-back-close-bookend>.i-amphtml-story-button-move,.i-amphtml-story-prev-hover>.i-amphtml-story-back-prev>.i-amphtml-story-button-move{-webkit-transform:translateX(-8px)!important;transform:translateX(-8px)!important;opacity:1!important}div.i-amphtml-story-top{position:relative!important;display:block!important;height:96px!important;width:100%!important;z-index:1!important;background:-webkit-linear-gradient(top,rgba(33,33,33,0.32),rgba(33,33,33,0))!important;background:linear-gradient(180deg,rgba(33,33,33,0.32) 0%,rgba(33,33,33,0))!important}.i-amphtml-story-share-pill{display:none!important;position:absolute!important;top:0!important;right:40px!important;bottom:0!important;margin:auto!important;height:40px!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}[desktop] .i-amphtml-story-share-pill{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}span.i-amphtml-story-share-pill-label{font-family:Roboto,sans-serif!important;position:absolute!important;right:15px!important;text-align:center!important;width:60px!important;font-size:12px!important;font-weight:700!important;letter-spacing:.5px!important;margin:auto!important;color:#fff!important;box-sizing:initial!important;text-transform:uppercase!important}.i-amphtml-story-share-pill:before{position:absolute!important;content:\\\"\\\"!important;width:58px!important;height:40px!important;padding:0 16px!important;background-color:hsla(0,0%,100%,0.2)!important;border-radius:500px!important;box-sizing:initial!important;-webkit-transition:width 300ms ease-in-out!important;transition:width 300ms ease-in-out!important;right:0!important}.i-amphtml-story-share-pill .i-amphtml-story-share-item{opacity:0!important;-webkit-transition:opacity 300ms linear!important;transition:opacity 300ms linear!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item{opacity:1!important}.i-amphtml-story-share-pill .i-amphtml-story-share-item{margin:0!important;width:48px!important;height:48px!important;padding:0!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(9){-webkit-transition-delay:30ms!important;transition-delay:30ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(8){-webkit-transition-delay:60ms!important;transition-delay:60ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(7){-webkit-transition-delay:90ms!important;transition-delay:90ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(6){-webkit-transition-delay:120ms!important;transition-delay:120ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(5){-webkit-transition-delay:150ms!important;transition-delay:150ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(4){-webkit-transition-delay:180ms!important;transition-delay:180ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(3){-webkit-transition-delay:210ms!important;transition-delay:210ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(2){-webkit-transition-delay:240ms!important;transition-delay:240ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:first-child{-webkit-transition-delay:270ms!important;transition-delay:270ms!important}.i-amphtml-story-share-pill .i-amphtml-story-share-list{padding:0!important;margin:0 72px 0 0!important}.i-amphtml-story-share-pill:hover:before{width:calc(100% - 32px)!important}.i-amphtml-story-share-pill .i-amphtml-story-share-icon{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:48px!important;height:48px!important;padding:0}[desktop] .i-amphtml-story-share-icon{font-size:0px!important;background-size:24px 24px!important;background-position:50%!important;padding:0!important}[desktop] .i-amphtml-story-share-icon.amp-social-share-facebook{background-size:28px 28px!important;background-position:50%!important}[desktop] .i-amphtml-story-share-icon:before{display:none!important}[desktop] .i-amphtml-story-share-icon:active:before{display:none!important}[desktop] .i-amphtml-story-share-list{margin-right:72px!important}[desktop] .i-amphtml-story-top{z-index:100002!important}amp-story{font-display:optional}.i-amphtml-story-grid-template-vertical{-ms-flex-line-pack:start;align-content:start;grid-gap:16px;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;justify-items:start;padding:32px}.i-amphtml-story-grid-template-vertical>*{width:100%}.i-amphtml-story-grid-template-horizontal{-ms-flex-line-pack:stretch;align-content:stretch;-webkit-box-align:start;-ms-flex-align:start;align-items:start;grid-gap:16px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;padding:32px}.i-amphtml-story-grid-template-thirds{padding:32px}amp-story-grid-layer{padding:68px 32px 32px}.amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;height:66px!important;overflow:auto!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}amp-story,amp-story-cta-layer,amp-story-grid-layer,amp-story-page{contain:strict!important;overflow:hidden!important}amp-consent{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:none!important;z-index:initial!important}.i-amphtml-story-system-reset,.i-amphtml-story-system-reset *{border:none!important;box-sizing:initial!important;color:initial!important;font-family:Roboto,sans-serif!important;font-size:initial!important;font-weight:initial!important;height:auto!important;margin:0!important;padding:0!important;text-align:left!important;width:auto!important}amp-story{height:100%!important;position:relative!important;text-rendering:geometricPrecision!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;width:100%!important}html.i-amphtml-story-standalone,html.i-amphtml-story-standalone body{height:100%!important;margin:0!important;padding:0!important;width:100%!important;cursor:auto!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important}html.i-amphtml-story-standalone #i-amphtml-wrapper body{border-top:none!important;overflow:hidden!important}amp-story[standalone]{-ms-flex-item-align:center!important;align-self:center!important;box-shadow:2px 2px 20px rgba(0,0,0,0.5)!important;height:100%!important;justify-self:center!important;max-height:initial!important;max-width:initial!important;min-height:initial!important;min-width:initial!important}amp-story[standalone]:-webkit-full-screen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:-moz-full-screen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:-ms-fullscreen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:fullscreen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story .amp-video-eq{height:14px!important;width:14px!important}amp-story .amp-video-eq .amp-video-eq-col{margin-right:2px!important}amp-story .amp-video-eq .amp-video-eq-col:last-child{margin-right:0!important}amp-story .amp-video-eq:not(.amp-video-eq-play){display:none!important}amp-story-page{bottom:0!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;opacity:1!important;-webkit-transition:none!important;transition:none!important;z-index:0!important}amp-story-page[active]{z-index:1!important}.i-amphtml-story-fallback amp-story-page{display:none!important}amp-story:not([desktop])>amp-story-page.i-amphtml-layout-container:not([active]){-webkit-transform:translateY(1000%)!important;transform:translateY(1000%)!important}amp-story-page[active],amp-story:not([desktop])>amp-story-page.i-amphtml-layout-container[distance=\\\"0\\\"],amp-story:not([desktop])>amp-story-page.i-amphtml-layout-container[distance=\\\"1\\\"]{-webkit-transform:translateY(0)!important;transform:translateY(0)!important}amp-story:not([desktop])>amp-story-page.i-amphtml-layout-container[distance=\\\"2\\\"]{-webkit-transform:translateY(100%)!important;transform:translateY(100%)!important}.i-amphtml-story-bookend-active:not([desktop])>amp-story-page.i-amphtml-layout-container[active]{-webkit-transform:translateY(0) scale(1.2)!important;transform:translateY(0) scale(1.2)!important;-webkit-filter:blur(15px)!important;filter:blur(15px)!important}.i-amphtml-story-bookend-active>amp-story-page[active]:after{content:\\\"\\\"!important;display:block!important;left:0!important;top:0!important;bottom:0!important;right:0!important;position:absolute!important;background:hsla(0,0%,45.9%,0.3)!important;z-index:2!important}amp-story amp-video:after{content:\\\"\\\"!important;position:absolute!important;height:100%!important;width:100%!important;top:0!important;left:0!important}amp-story-cta-layer{display:block!important;top:80%!important;margin:0!important;z-index:3!important}amp-story-cta-layer,amp-story-grid-layer{position:absolute!important;right:0!important;bottom:0!important;left:0!important}amp-story-grid-layer{display:grid!important;top:0!important;z-index:2!important}amp-story-grid-layer *{box-sizing:border-box!important;margin:0!important}.i-amphtml-story-grid-template-with-full-bleed-animation{position:absolute!important;display:block!important;padding:0!important}.i-amphtml-story-grid-template-fill>:not(:first-child){display:none!important}.i-amphtml-story-logo{display:none!important;margin:15px!important}.i-amphtml-story-grid-template-fill>:first-child{bottom:0!important;display:block!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;width:auto!important}.i-amphtml-story-grid-template-fill>amp-anim img,.i-amphtml-story-grid-template-fill>amp-img img,.i-amphtml-story-grid-template-fill>amp-video video{-o-object-fit:cover!important;object-fit:cover!important}.i-amphtml-story-grid-template-vertical{grid-auto-flow:row!important;grid-template-columns:100%!important}.i-amphtml-story-grid-template-horizontal{grid-auto-flow:column!important;grid-template-rows:100%!important}.i-amphtml-story-grid-template-thirds{grid-template-rows:33% 33% 33%!important;grid-template-areas:\\\"upper-third\\\" \\\"middle-third\\\" \\\"lower-third\\\"!important}.i-amphtml-story-bookend-active .i-amphtml-story-dev-logs-button,.i-amphtml-story-dev-logs-button[data-count=\\\"0\\\"]{display:none!important}.i-amphtml-story-dev-logs-button{background-position:50%!important;background-repeat:no-repeat!important}.i-amphtml-story-dev-logs-button:after{background-color:#fff!important;border-radius:6px!important;box-sizing:border-box!important;color:#444;content:attr(data-count)!important;display:inline-block!important;font-family:Roboto!important;font-size:11px!important;height:12px!important;line-height:12px!important;padding:0 6px!important;position:absolute!important;right:0!important;top:6px!important}.i-amphtml-story-error-button{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23DB4437'%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-warning-button{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFC107'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-success-button{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%230F9D58'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E\\\")!important}amp-story[standalone] .i-amphtml-story-developer-log{background:rgba(0,0,0,0.85)!important;bottom:0!important;box-sizing:border-box!important;color:#fff!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;font-family:Roboto!important;left:0!important;max-height:45%!important;padding:0!important;position:fixed!important;right:0!important;text-align:left!important;z-index:100002!important}.i-amphtml-story-developer-log-header{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;background:rgba(3,169,244,0.85)!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;font-weight:700!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important;padding:12px 20px!important;text-align:center!important}.i-amphtml-story-developer-log-close,.i-amphtml-story-developer-log-header{-webkit-box-flex:0!important;-ms-flex-positive:0!important;flex-grow:0!important;-ms-flex-negative:0!important;flex-shrink:0!important}.i-amphtml-story-developer-log-close{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23FFF' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-developer-log-context{color:#000!important;font-family:Roboto Mono!important}.i-amphtml-story-developer-log-entries{list-style-type:none!important;margin:0!important;overflow-x:hidden!important;overflow-y:auto!important;padding:0!important}.i-amphtml-story-developer-log-entry{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;border-bottom:1px solid hsla(0,0%,100%,0.5)!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;padding:20px!important}.i-amphtml-story-developer-log-entry:before{background-position:50%!important;background-repeat:no-repeat!important;background-size:cover!important;content:\\\"\\\";display:inline-block!important;-webkit-box-flex:0!important;-ms-flex-positive:0!important;flex-grow:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;height:32px!important;margin-right:20px!important;width:32px!important}.i-amphtml-story-developer-log-entry-error:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23DB4437'%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-developer-log-entry-warning:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFC107'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-developer-log-entry-success:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%230F9D58'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-experiment-error{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-line-pack:center!important;align-content:center!important;background-color:#222!important;bottom:0!important;color:#f0f0f0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;font-family:Roboto,sans-serif!important;font-size:20px!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;left:0!important;padding:32px!important;position:absolute!important;right:0!important;top:0!important;z-index:999999!important;text-align:center!important}.i-amphtml-story-experiment-icon{background-repeat:no-repeat!important;background-size:cover!important;height:64px!important;margin:0 auto 16px!important;width:64px!important}.i-amphtml-story-experiment-icon-error{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-experiment-icon-done{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-experiment-error button{background-color:transparent!important;border:1px solid #f0f0f0!important;border-radius:8px!important;color:#f0f0f0!important;cursor:pointer!important;font-size:20px!important;font-family:Roboto,sans-serif!important;margin:16px 0 0!important;outline:none!important;padding:8px 32px!important;text-transform:uppercase!important;width:50%!important}.i-amphtml-story-experiment-error button:active,.i-amphtml-story-experiment-error button:focus{background-color:#f0f0f0!important;color:#222!important}.i-amphtml-story-toast{position:absolute!important;bottom:0!important;left:0!important;right:0!important;display:inline-block!important;padding:1.16em 1.33em!important;line-height:1.33!important;color:#fff!important;background:#212121!important;-webkit-animation:toast 2.2s!important;animation:toast 2.2s!important;-webkit-animation-fill-mode:both!important;animation-fill-mode:both!important;font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:12px!important;max-width:640px!important;z-index:100002!important}@media (min-width:640px){.i-amphtml-story-toast{right:auto!important;font-size:14px!important;margin:0 auto 1.16em 1.16em!important;border-radius:6px}}@-webkit-keyframes toast{0%{-webkit-transform:translateY(100px);transform:translateY(100px);easing:cubic-bezier(0.0,0.0,0.2,1)}8%{-webkit-transform:translateY(0);transform:translateY(0)}92%{-webkit-transform:translateY(0);transform:translateY(0);easing:cubic-bezier(0.4,0.0,1,1)}to{-webkit-transform:translateY(100px);transform:translateY(100px)}}@keyframes toast{0%{-webkit-transform:translateY(100px);transform:translateY(100px);easing:cubic-bezier(0.0,0.0,0.2,1)}8%{-webkit-transform:translateY(0);transform:translateY(0)}92%{-webkit-transform:translateY(0);transform:translateY(0);easing:cubic-bezier(0.4,0.0,1,1)}to{-webkit-transform:translateY(100px);transform:translateY(100px)}}.i-amphtml-story-copy-successful{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E\\\")!important;background-repeat:no-repeat!important;background-size:16px 16px!important;padding-left:24px!important;color:#fff!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-story-copy-url{-webkit-box-flex:1!important;-ms-flex:1!important;flex:1!important;color:hsla(0,0%,100%,0.5)!important;margin-left:40px!important;text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important}.i-amphtml-story-button-container{display:none!important}.i-amphtml-story-spinner{display:inline-block!important;position:absolute!important;top:calc(100% - 36px)!important;right:12px!important;width:24px!important;height:24px!important;z-index:10!important}.i-amphtml-story-spinner-container{width:100%!important;height:100%!important;direction:ltr!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-container{-webkit-animation:container-rotate 1294ms linear infinite!important;animation:container-rotate 1294ms linear infinite!important}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes container-rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.i-amphtml-story-spinner-layer{position:absolute!important;width:100%!important;height:100%!important;opacity:0!important;white-space:nowrap!important;color:#fff!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-layer{-webkit-animation-name:fill-unfill-rotate!important;animation-name:fill-unfill-rotate!important;-webkit-animation-duration:4400ms!important;animation-duration:4400ms!important;-webkit-animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;-webkit-animation-iteration-count:infinite!important;animation-iteration-count:infinite!important;opacity:1!important}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg);transform:rotate(1080deg)}}@keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg);transform:rotate(1080deg)}}.i-amphtml-story-spinner-circle-clipper{display:inline-block!important;position:relative!important;width:50%!important;height:100%!important;overflow:hidden!important}.i-amphtml-story-spinner-layer:after{left:45%!important;width:10%!important;border-top-style:solid!important}.i-amphtml-story-spinner-circle-clipper:after,.i-amphtml-story-spinner-layer:after{content:\\\"\\\"!important;box-sizing:border-box!important;position:absolute!important;top:0!important;border-width:3px!important;border-radius:50%!important}.i-amphtml-story-spinner-circle-clipper:after{bottom:0!important;width:200%!important;border-style:solid!important;border-bottom-color:transparent!important}.i-amphtml-story-spinner-circle-clipper.left:after{left:0!important;border-right-color:transparent!important;-webkit-transform:rotate(129deg)!important;transform:rotate(129deg)!important}.i-amphtml-story-spinner-circle-clipper.right:after{left:-100%!important;border-left-color:transparent!important;-webkit-transform:rotate(-129deg)!important;transform:rotate(-129deg)!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper:after{-webkit-animation-duration:1100ms!important;animation-duration:1100ms!important;-webkit-animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;-webkit-animation-iteration-count:infinite!important;animation-iteration-count:infinite!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper.left:after{-webkit-animation-name:left-spin!important;animation-name:left-spin!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper.right:after{-webkit-animation-name:right-spin!important;animation-name:right-spin!important}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}}@keyframes left-spin{0%{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}}@keyframes right-spin{0%{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;height:66px!important;overflow:auto!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-bookend{text-align:left!important;color:#fff!important;bottom:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;left:0!important;position:absolute!important;right:0!important;top:0!important;z-index:100001!important;-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.3s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-bookend.i-amphtml-hidden{-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.2s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;-webkit-transform:translateY(100vh)!important;transform:translateY(100vh)!important;pointer-events:none!important}.i-amphtml-story-bookend-overflow{overflow:auto!important;-webkit-overflow-scrolling:touch!important;margin-top:auto!important}.i-amphtml-story-bookend-inner{margin:88px 0 0!important;position:relative!important;padding-top:32px!important;overflow:hidden!important}.i-amphtml-story-bookend-inner:before{content:\\\" \\\"!important;display:block!important;z-index:-1!important;background:rgba(0,0,0,0.7)!important;position:absolute!important;left:8px!important;top:8px!important;bottom:8px!important;right:8px!important;border-radius:8px!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-bookend-inner:before,[desktop] .i-amphtml-story-bookend-inner:before{left:0!important;top:0!important;bottom:0!important;right:0!important;border-radius:0!important}.i-amphtml-story-bookend-heading{text-transform:uppercase!important;font-size:12px!important;padding-bottom:8px!important;margin:48px 0 8px!important;border-bottom:1px solid hsla(0,0%,100%,0.25)!important;color:hsla(0,0%,100%,0.54)!important;font-family:Roboto,sans-serif;font-weight:700!important;letter-spacing:0.83px!important;line-height:1!important}.i-amphtml-story-bookend-consent{margin:0 32px 32px!important}.i-amphtml-story-bookend-consent .i-amphtml-story-bookend-heading{margin-left:0!important;margin-right:0!important}.i-amphtml-story-bookend-article-meta{font-family:Roboto,sans-serif;font-weight:400!important;font-size:14px!important;line-height:1!important;color:hsla(0,0%,100%,0.6)!important}.i-amphtml-story-bookend-article{box-sizing:border-box!important;display:block!important;text-decoration:none!important;color:inherit!important;overflow:hidden!important;-webkit-box-flex:1!important;-ms-flex:1 0 320px!important;flex:1 0 320px!important;min-width:33%!important;margin:24px 0!important;padding:0 32px!important}@media (min-width:640px){.i-amphtml-story-bookend-article{max-width:50%!important}}@media (min-width:960px){.i-amphtml-story-bookend-article{max-width:33%!important}}.i-amphtml-story-bookend-article-heading,.i-amphtml-story-bookend-consent-button{font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:16px!important;color:#fff!important;line-height:1.4;margin:0 0 8px!important}.i-amphtml-story-bookend-article-image,.i-amphtml-story-bookend-replay-image{width:100px!important;height:100px!important;border-radius:8px!important;overflow:hidden}.i-amphtml-story-bookend-article-image.amp-notsupported{display:none!important}.i-amphtml-story-bookend-article-image>img{-o-object-fit:cover!important;object-fit:cover!important;width:100%!important;height:100%!important}.i-amphtml-story-bookend-replay-image{background-position:50%!important;background-size:cover!important}.i-amphtml-story-bookend-article-image,.i-amphtml-story-bookend-replay-icon,.i-amphtml-story-bookend-replay-image{float:right!important;margin-left:24px!important;position:relative!important}.i-amphtml-story-bookend-replay{padding:16px 0!important;margin:0 0 24px!important;overflow:hidden!important}.i-amphtml-story-bookend-replay-icon{background:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\") 50% no-repeat!important}.i-amphtml-story-bookend-replay-image>.i-amphtml-story-bookend-replay-icon{width:100%!important;height:100%!important;background-color:rgba(0,0,0,0.3)!important;position:absolute!important;margin-left:0!important}.i-amphtml-story-bookend-replay>.i-amphtml-story-bookend-replay-icon{width:48px!important;height:48px!important;background-color:rgba(60,60,60,0.5)!important;position:static!important;border-radius:4px!important}.i-amphtml-story-bookend-heading+.i-amphtml-story-bookend-article-set{border-top:none!important}.i-amphtml-story-bookend-article-set{border-top:1px solid hsla(0,0%,100%,0.25)!important;margin-bottom:32px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.i-amphtml-story-bookend-heading,.i-amphtml-story-bookend-replay{margin-left:32px!important;margin-right:32px!important}.i-amphtml-story-bookend-fullbleed:before{content:\\\" \\\"!important;display:block!important;background-image:-webkit-linear-gradient(bottom,rgba(1,1,1,0),#000)!important;background-image:linear-gradient(0deg,rgba(1,1,1,0),#000)!important;position:absolute!important;top:0!important;left:0!important;right:0!important;height:40px!important;pointer-events:none!important;z-index:1!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}[desktop].i-amphtml-story-bookend{-webkit-transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;-webkit-transform:translateY(0)!important;transform:translateY(0)!important;opacity:1!important}[desktop].i-amphtml-story-bookend.i-amphtml-hidden{-webkit-transition:opacity 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.2s cubic-bezier(0.4,0.0,1,1)!important;-webkit-transform:translateY(100vh)!important;transform:translateY(100vh)!important;opacity:0!important}[desktop].i-amphtml-story-bookend .i-amphtml-story-share-widget{display:none!important}[desktop] .i-amphtml-story-bookend-inner{box-sizing:border-box!important;min-height:100vh!important;padding:104px 156px 64px!important;margin:0!important}[desktop] .i-amphtml-story-bookend-inner:before{display:none!important}[desktop] .i-amphtml-story-bookend-replay{display:none!important}[desktop] .i-amphtml-story-bookend-overflow{margin-top:0!important;margin-bottom:0!important}@media (min-width:952px){[desktop] .i-amphtml-story-bookend-article{max-width:50%!important}}@media (min-width:1272px){[desktop] .i-amphtml-story-bookend-article{max-width:33%!important}}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-bookend.css*/\";\n","export const CSS = \".i-amphtml-story-consent{position:absolute!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100003!important}.i-amphtml-story-consent:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0.4!important}.i-amphtml-story-consent-overflow{margin-top:auto!important;overflow-y:auto!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-story-consent-container{position:relative!important;margin:88px 8px 72px!important;background:#fff!important;border-radius:8px 8px 0 0!important;color:rgba(0,0,0,0.87)!important;font-family:Roboto,sans-serif!important;text-align:left!important;overflow:hidden!important}.i-amphtml-story-consent-fullbleed .i-amphtml-story-consent-container{margin:88px 0px 72px!important;padding:0 8px!important;border-radius:initial!important}.i-amphtml-story-consent-header{position:relative!important;height:80px!important;min-height:80px!important;background:var(--primary-color,#f0f0f0)!important;z-index:2!important;margin:0 -8px!important}.i-amphtml-story-consent-logo{position:absolute!important;bottom:-32px!important;margin-left:-32px!important;left:50%!important;height:64px!important;width:64px!important;background:#f0f0f0!important;background-position:50%!important;background-repeat:no-repeat!important;background-size:contain!important;border-radius:5px!important}.i-amphtml-story-consent-logo:before{content:\\\"\\\"!important;position:absolute!important;top:-6px!important;bottom:-6px!important;left:-6px!important;right:-6px!important;background:#fff!important;border-radius:6px!important;box-shadow:0 2px 3px rgba(0,0,0,0.12)!important;z-index:-1!important}.i-amphtml-story-consent-content{padding:42px 16px 16px!important;font-size:14px!important;z-index:0!important}.i-amphtml-story-consent-vendors{margin:0!important;padding:0!important;list-style:none!important}.i-amphtml-story-consent-vendor{height:40px!important;border-bottom:1px solid #f0f0f0!important;line-height:40px!important;text-overflow:ellipsis!important;overflow:hidden!important}.i-amphtml-story-consent-external-link{position:relative!important;display:inline-block!important;margin:24px 0!important;color:rgba(0,0,0,0.87)!important;font-size:15px!important;font-weight:700!important;text-decoration:none!important}.i-amphtml-story-consent-external-link:hover{text-decoration:underline!important}.i-amphtml-story-consent-external-link:after{content:\\\"\\\"!important;position:absolute!important;display:block!important;height:16px!important;width:16px!important;top:3px!important;right:-20px!important;background:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='rgba(0, 0, 0, 0.87)'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\") 50% no-repeat!important}.i-amphtml-story-consent-external-link.i-amphtml-hidden{display:none!important}.i-amphtml-story-consent-actions{position:absolute!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;bottom:0!important;left:8px!important;right:8px!important;height:72px!important;min-height:72px!important;background:#fff!important;box-shadow:0 -2px 3px rgba(0,0,0,0.12)!important;z-index:1!important}.i-amphtml-story-consent-fullbleed .i-amphtml-story-consent-actions{left:0px!important;right:0px!important}.i-amphtml-story-consent-action{position:relative!important;padding:0 24px!important;margin:0 12px!important;height:40px!important;width:40vw!important;background:#fff!important;border:none!important;border-radius:40px!important;box-sizing:border-box!important;cursor:pointer!important;font-size:13px!important;font-weight:700!important;line-height:40px!important;text-transform:uppercase!important}.i-amphtml-story-consent-action.i-amphtml-hidden{display:none!important}.i-amphtml-story-consent-action-accept{background:var(--primary-color,#000)!important;color:#fff!important}.i-amphtml-story-consent-action-reject{border:1px solid #000!important}@media (min-width:420px){.i-amphtml-story-consent{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-consent-overflow{margin-top:0!important}.i-amphtml-story-consent-container{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;margin:0!important;max-height:80vh!important;min-height:40vh!important;width:calc(100vw - 80px)!important;max-width:800px!important}.i-amphtml-story-consent-content{margin:0 auto!important;max-width:424px!important;-webkit-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important;overflow-y:auto!important}.i-amphtml-story-consent-content::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-consent-actions{position:relative!important;left:0px!important;right:0px!important}.i-amphtml-story-consent-action{width:33vw!important;max-width:200px!important}}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-consent.css*/\";\n","export const CSS = \".i-amphtml-story-hint-container{-webkit-transition-property:opacity!important;transition-property:opacity!important;-webkit-transition-duration:200ms!important;transition-duration:200ms!important;contain:strict!important;pointer-events:none!important;position:absolute!important;left:0!important;top:0!important;right:0!important;bottom:0!important;z-index:2!important}.i-amphtml-story-hint-container.i-amphtml-hidden{opacity:0!important}.i-amphtml-story-hint-container .i-amphtml-story-navigation-help-overlay{position:absolute!important;left:0!important;top:0!important;right:0!important;bottom:0!important;background:rgba(0,0,0,0.7)!important;-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important;color:#fff!important;font-size:20px!important;padding:16px 0!important}.i-amphtml-story-navigation-help-section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.prev-page{-webkit-box-flex:1!important;-ms-flex:1!important;flex:1!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay{background:transparent!important}.show-first-page-overlay .prev-page{background:-webkit-linear-gradient(left,rgba(0,0,0,0.5),transparent)!important;background:linear-gradient(90deg,rgba(0,0,0,0.5),transparent)!important}.show-first-page-overlay .next-page{opacity:0!important}.show-first-page-overlay .i-amphtml-story-hint-placeholder{display:none!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay{padding:0px!important}.i-amphtml-story-hint-container .next-page{-webkit-box-flex:3!important;-ms-flex:3!important;flex:3!important;border-left:1px dashed transparent!important;border-image-source:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30'%3E%3Cpath fill='none' stroke-linecap='square' stroke-dasharray='6,6' stroke='%23fff' d='M0 0v30'/%3E%3C/svg%3E\\\")!important;border-image-slice:33% 33%!important;border-image-repeat:repeat!important;border-image-width:14px!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay,.show-navigation-overlay .i-amphtml-story-navigation-help-overlay{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.show-first-page-overlay .prev-page .i-amphtml-story-hint-tap-button{visibility:hidden}.show-navigation-overlay .prev-page .i-amphtml-story-hint-tap-button-icon:before{content:\\\"\\\"!important;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24'%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important;width:30px!important;height:30px!important;display:inline-block!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button{position:relative!important;width:44px!important;height:44px!important}.i-amphtml-story-hint-tap-button:after,.i-amphtml-story-hint-tap-button:before{position:absolute!important;content:\\\"\\\"!important;width:44px!important;height:44px!important;border-radius:50%!important;background-color:hsla(0,0%,100%,0.5)!important;left:0!important;right:0!important}.i-amphtml-story-hint-tap-button:before{-webkit-animation:expandingBubble 1000ms infinite cubic-bezier(0.4,0,0.2,1)!important;animation:expandingBubble 1000ms infinite cubic-bezier(0.4,0,0.2,1)!important}.i-amphtml-story-hint-tap-button:after{background-color:#fff!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button-icon{position:absolute!important;z-index:1!important;height:44px!important;width:44px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-story-hint-tap-button-icon:after,.i-amphtml-story-hint-tap-button-icon:before{vertical-align:middle!important;margin:0 2px!important;background-position:50%}.next-page .i-amphtml-story-hint-tap-button-icon:after{content:\\\"\\\"!important;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important;width:24px!important;height:24px!important;display:inline-block!important}.i-amphtml-story-hint-placeholder{top:50%!important;position:absolute;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button-text{color:#fff!important;font-size:16px!important;font-family:Roboto-Medium,sans-serif!important;margin-top:24px!important;text-align:center!important}@-webkit-keyframes expandingBubble{0%{-webkit-transform:scale(1);transform:scale(1);opacity:0}50%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:1}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}@keyframes expandingBubble{0%{-webkit-transform:scale(1);transform:scale(1);opacity:0}50%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:1}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-hint.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;height:66px!important;overflow:auto!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-info-dialog{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100001!important;-webkit-transform:translate3d(0,-100%,0)!important;transform:translate3d(0,-100%,0)!important;-webkit-transition-delay:0.15s!important;transition-delay:0.15s!important}.i-amphtml-story-info-dialog-visible{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition-delay:0s!important;transition-delay:0s!important}.i-amphtml-story-info-dialog:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0!important;-webkit-transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-info-dialog.i-amphtml-story-info-dialog-visible:before{opacity:0.4!important;-webkit-transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-info-dialog-container{position:absolute!important;top:0!important;left:0!important;right:0!important;height:auto!important;background:#fff!important;-webkit-transform:translate3d(0,-100%,0)!important;transform:translate3d(0,-100%,0)!important;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;padding:20px!important;font-family:Roboto,sans-serif!important}.i-amphtml-story-info-dialog-visible .i-amphtml-story-info-dialog-container{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-info-heading{display:block!important;font-size:14px!important;font-weight:700!important;margin:0 0 8px!important}.i-amphtml-story-info-link{color:#000!important;display:block!important;margin:0!important;opacity:0.64!important;font-size:12px!important;text-decoration:none!important}.i-amphtml-story-info-moreinfo{color:#4285f4!important;display:none!important;font-family:Roboto-Medium,sans-serif!important;font-size:12px!important;letter-spacing:0.5px!important;margin:16px 0 0;text-decoration:none!important}.i-amphtml-story-info-moreinfo.i-amphtml-story-info-moreinfo-visible{display:block!important}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-info-dialog.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;height:66px!important;overflow:auto!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-menu{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100001!important;-webkit-transform:translate3d(0,100vh,0)!important;transform:translate3d(0,100vh,0)!important;-webkit-transition-delay:0.15s!important;transition-delay:0.15s!important}.i-amphtml-story-share-menu-visible{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition-delay:0s!important;transition-delay:0s!important}.i-amphtml-story-share-menu:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0!important;-webkit-transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-share-menu.i-amphtml-story-share-menu-visible:before{opacity:0.4!important;-webkit-transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-share-menu-container{position:absolute!important;bottom:0!important;left:0!important;right:0!important;height:auto!important;background:rgba(0,0,0,0.9)!important;-webkit-transform:translate3d(0,100%,0)!important;transform:translate3d(0,100%,0)!important;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-share-menu-visible .i-amphtml-story-share-menu-container{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-share-menu.css*/\";\n","export const CSS = \".i-amphtml-story-system-layer{background:-webkit-linear-gradient(top,rgba(0,0,0,0.35),transparent)!important;background:linear-gradient(180deg,rgba(0,0,0,0.35),transparent)!important;position:absolute!important;top:0!important;left:0!important;right:0!important;height:56px!important;z-index:100000!important;box-sizing:border-box!important;-webkit-transition:opacity 0.3s!important;transition:opacity 0.3s!important;pointer-events:none!important}.i-amphtml-story-bookend-active.i-amphtml-story-system-layer{opacity:0.3!important}.i-amphtml-story-system-layer-buttons{margin-top:8px;float:right!important;pointer-events:auto!important}.i-amphtml-story-button{background-repeat:no-repeat!important;background-position:50%!important;height:48px!important;width:48px!important;cursor:pointer!important;border-radius:50%!important;box-sizing:border-box!important;position:relative!important;background:50% no-repeat!important}.i-amphtml-story-button:active{background-color:rgba(0,0,0,0.2)!important}.i-amphtml-story-system-layer .i-amphtml-story-button{float:left!important}.i-amphtml-story-progress-bar{border:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;height:2px!important;left:0!important;margin:4px 0 0!important;padding:0 2px!important;position:absolute!important;right:0!important;top:0!important;visibility:visible!important;z-index:100001!important}.i-amphtml-story-page-progress-bar{background:hsla(0,0%,100%,0.4)!important;border-radius:1px!important;height:100%!important;list-style-type:none!important;margin:0 2px!important;overflow:hidden!important;width:100%!important;-webkit-mask-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)!important}.i-amphtml-story-page-progress-value{background:#fff!important;height:100%!important;width:100%!important;-webkit-transform:translateZ(0) scaleX(0)!important;transform:translateZ(0) scaleX(0)!important;-webkit-transform-origin:left!important;transform-origin:left!important;will-change:transform,transition!important}[dir=rtl] .i-amphtml-story-progress-value{-webkit-transform-origin:right!important;transform-origin:right!important}.i-amphtml-story-mute-audio-control,.i-amphtml-story-unmute-audio-control{display:none!important}.audio-playing:not([muted]) .i-amphtml-story-mute-audio-control,.audio-playing[muted] .i-amphtml-story-unmute-audio-control{display:block!important}.i-amphtml-story-ui-no-buttons .i-amphtml-story-button,.i-amphtml-story-ui-no-buttons .i-amphtml-story-system-layer-buttons{display:none!important}.i-amphtml-story-unmute-audio-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-mute-audio-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")!important}[ios] .i-amphtml-story-share-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6a2 2 0 0 1-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3a2 2 0 0 1 2 2z'/%3E%3C/svg%3E\\\")!important;background-position-y:calc(50% - 2px)!important}.i-amphtml-story-info-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 48 48' fill='%23FFF'%3E%3Cpath d='M0 0h48v48H0z' fill='none'/%3E%3Cpath d='M22 34h4V22h-4v12zm2-30C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z'/%3E%3C/svg%3E\\\")!important;display:none!important}.i-amphtml-embedded.first-page-active .i-amphtml-story-info-control{display:block!important}.i-amphtml-story-no-sharing .i-amphtml-story-info-control,.i-amphtml-story-no-sharing .i-amphtml-story-share-control{display:none!important}[desktop].i-amphtml-story-system-layer{background:-webkit-linear-gradient(top,rgba(33,33,33,0),rgba(33,33,33,0.32))!important;background:linear-gradient(180deg,rgba(33,33,33,0) 0%,rgba(33,33,33,0.32))!important;top:auto!important;bottom:0!important;height:96px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}[desktop] .i-amphtml-story-progress-bar{position:relative!important;margin:0px 24px!important;height:3px!important;width:33.33333vw!important}[desktop] .i-amphtml-story-page-progress-bar{border-radius:100px!important}[desktop].i-amphtml-story-system-layer .i-amphtml-story-system-layer-buttons{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin-top:0px!important;height:40px!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}[desktop] .i-amphtml-story-share-control{display:none!important}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-system-layer.css*/\";\n","export const CSS = \".i-amphtml-story-unsupported-browser-overlay{position:absolute!important;z-index:200001!important;font-family:Roboto,sans-serif;font-weight:700!important;line-height:1.5;padding:32px;background-color:#000!important;color:#fff!important;top:0!important;left:0!important;right:0!important;bottom:0!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important;display:none!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-gear-icon{background-repeat:no-repeat!important;background-position:50%!important;border-radius:50%!important;background-color:#fff!important;padding:16px!important;height:24px!important;width:24px!important;margin:16px auto!important;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34a.4.4 0 0 0-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E\\\")!important}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-unsupported-browser-layer.css*/\";\n","export const CSS = \".i-amphtml-story-no-rotation-overlay{position:absolute!important;z-index:200000!important;font-family:Roboto,sans-serif;font-weight:700!important;line-height:1.5;padding:32px;background-color:#000!important;color:#fff!important;top:0!important;left:0!important;right:0!important;bottom:0!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important;display:none!important}.i-amphtml-story-landscape.i-amphtml-story-no-rotation-overlay{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-desktop-size-icon,.i-amphtml-rotate-icon{background-repeat:no-repeat!important;background-position:50%!important;border-radius:50%!important;background-color:#fff!important;padding:16px!important;height:24px!important;width:24px!important;margin:16px auto!important}.i-amphtml-rotate-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M16.48 2.52c3.27 1.55 5.61 4.72 5.97 8.48h1.5C23.44 4.84 18.29 0 12 0l-.66.03 3.81 3.81 1.33-1.32zm-6.25-.77a1.49 1.49 0 0 0-2.12 0L1.75 8.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12L10.23 1.75zm4.6 19.44L2.81 9.17l6.36-6.36 12.02 12.02-6.36 6.36zm-7.31.29A10.487 10.487 0 0 1 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-desktop-size-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z'/%3E%3C/svg%3E\\\")!important}\\n/*# sourceURL=/extensions/amp-story/0.1/amp-story-viewport-warning-layer.css*/\";\n","export const cssText = \"i-amphtml-video-mask{z-index:1}.amp-video-eq{display:none}.i-amphtml-video-component:not(amp-video) .amp-video-eq,amp-story .amp-video-eq,amp-video[controls] .amp-video-eq{display:-webkit-box;display:-ms-flexbox;display:flex}[noaudio] .amp-video-eq{display:none!important}.amp-video-eq{pointer-events:none!important;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:7px;height:12px;opacity:0.8;overflow:hidden;position:absolute;right:7px;width:20px;z-index:1}.amp-video-eq .amp-video-eq-col{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;margin-right:1px;position:relative}.amp-video-eq .amp-video-eq-col div{-webkit-animation-name:amp-video-eq-animation;animation-name:amp-video-eq-animation;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;background-color:#fafafa;height:100%;position:absolute;width:100%;will-change:transform;-webkit-animation-play-state:paused;animation-play-state:paused}.amp-video-eq[unpausable] .amp-video-eq-col div{-webkit-animation-name:none;animation-name:none}.amp-video-eq[unpausable].amp-video-eq-play .amp-video-eq-col div{-webkit-animation-name:amp-video-eq-animation;animation-name:amp-video-eq-animation}.amp-video-eq.amp-video-eq-play .amp-video-eq-col div{-webkit-animation-play-state:running;animation-play-state:running}.amp-video-eq-1-1{-webkit-animation-duration:0.3s;animation-duration:0.3s}.amp-video-eq-1-1,.amp-video-eq-1-2{-webkit-transform:translateY(60%);transform:translateY(60%)}.amp-video-eq-1-2{-webkit-animation-duration:0.45s;animation-duration:0.45s}.amp-video-eq-2-1{-webkit-animation-duration:0.5s;animation-duration:0.5s}.amp-video-eq-2-1,.amp-video-eq-2-2{-webkit-transform:translateY(30%);transform:translateY(30%)}.amp-video-eq-2-2{-webkit-animation-duration:0.4s;animation-duration:0.4s}.amp-video-eq-3-1{-webkit-animation-duration:0.3s;animation-duration:0.3s}.amp-video-eq-3-1,.amp-video-eq-3-2{-webkit-transform:translateY(70%);transform:translateY(70%)}.amp-video-eq-3-2{-webkit-animation-duration:0.35s;animation-duration:0.35s}.amp-video-eq-4-1{-webkit-animation-duration:0.4s;animation-duration:0.4s}.amp-video-eq-4-1,.amp-video-eq-4-2{-webkit-transform:translateY(50%);transform:translateY(50%)}.amp-video-eq-4-2{-webkit-animation-duration:0.25s;animation-duration:0.25s}@-webkit-keyframes amp-video-eq-animation{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes amp-video-eq-animation{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}\\n/*# sourceURL=/css/video-autoplay.css*/\"","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// WARNING\n// WARNING\n// WARNING\n// WARNING\n// File must be synced with amp.extens.js\n\n\n/**\n * @typedef {\n *   !WebMultiAnimationDef|\n *   !WebSwitchAnimationDef|\n *   !WebCompAnimationDef|\n *   !WebKeyframeAnimationDef\n * }\n */\nexport let WebAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   animations: !Array<!WebAnimationDef>,\n * }}\n */\nexport let WebMultiAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   switch: !Array<!WebAnimationDef>,\n * }}\n */\nexport let WebSwitchAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   animation: string,\n * }}\n */\nexport let WebCompAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   keyframes: (string|!WebKeyframesDef),\n * }}\n */\nexport let WebKeyframeAnimationDef;\n\n\n/**\n * @typedef {!Object<string, *>|!Array<!Object<string, *>>}\n */\nexport let WebKeyframesDef;\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffectTimingProperties\n *\n * @mixin\n * @typedef {{\n *   duration: (time|undefined),\n *   delay: (time|undefined),\n *   endDelay: (time|undefined),\n *   iterations: (number|string|undefined),\n *   iterationStart: (number|undefined),\n *   easing: (string|undefined),\n *   direction: (!WebAnimationTimingDirection|undefined),\n *   fill: (!WebAnimationTimingFill|undefined),\n * }}\n */\nexport let WebAnimationTimingDef;\n\n\n/**\n * Indicates an extension to a type that allows specifying vars. Vars are\n * specified as properties with the name in the format of `--varName`.\n *\n * @mixin\n * @typedef {Object}\n */\nexport let WebAnimationVarsDef;\n\n\n/**\n * Defines media parameters for an animation.\n *\n * @mixin\n * @typedef {{\n *   media: (string|undefined),\n *   supports: (string|undefined),\n * }}\n */\nexport let WebAnimationConditionalDef;\n\n\n/**\n * @typedef {{\n *   target: (!Element|undefined),\n *   selector: (string|undefined),\n *   subtargets: (!Array<!WebAnimationSubtargetDef>|undefined),\n * }}\n */\nexport let WebAnimationSelectorDef;\n\n\n/**\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @typedef {{\n *   matcher: (function(!Element, number):boolean|undefined),\n *   index: (number|undefined),\n *   selector: (string|undefined),\n * }}\n */\nexport let WebAnimationSubtargetDef;\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/Animation/playState\n * @enum {string}\n */\nexport const WebAnimationPlayState = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RUNNING: 'running',\n  PAUSED: 'paused',\n  FINISHED: 'finished',\n};\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffectTimingProperties/direction\n * @enum {string}\n */\nexport const WebAnimationTimingDirection = {\n  NORMAL: 'normal',\n  REVERSE: 'reverse',\n  ALTERNATE: 'alternate',\n  ALTERNATE_REVERSE: 'alternate-reverse',\n};\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffectTimingProperties/fill\n * @enum {string}\n */\nexport const WebAnimationTimingFill = {\n  NONE: 'none',\n  FORWARDS: 'forwards',\n  BACKWARDS: 'backwards',\n  BOTH: 'both',\n  AUTO: 'auto',\n};\n\n\n/** @const {!Object<string, boolean>} */\nconst WHITELISTED_RPOPS = {\n  'opacity': true,\n  'transform': true,\n  'transform-origin': true,\n  'visibility': true,\n  'offset-distance': true,\n  'offsetDistance': true,\n};\n\n\n/**\n * @param {string} prop\n * @return {boolean}\n */\nexport function isWhitelistedProp(prop) {\n  return WHITELISTED_RPOPS[prop] || false;\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for English strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE]: {\n    string: 'Privacy settings',\n  },\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL]: {\n    string: 'Change data privacy settings',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accept',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Decline',\n  },\n  [LocalizedStringId.AMP_STORY_EXPERIMENT_ENABLE_BUTTON_LABEL]: {\n    string: 'Enable',\n  },\n  [LocalizedStringId.AMP_STORY_EXPERIMENT_ENABLED_TEXT]: {\n    string: 'Experiment enabled.  Please reload.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: ':(',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Share',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Expand your window to view this experience',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'You must enable the amp-story experiment to view this content.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'The page is best viewed in portrait mode',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'We\\'re sorry, it looks like your browser doesn\\'t support ' +\n        'this experience',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for English strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE]: {\n    string: 'Privacy settings',\n    description: 'Title for a section that allows the user to configure ' +\n        'their privacy settings',\n  },\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL]: {\n    string: 'Change data privacy settings',\n    description: 'Label for a button that allows the user to change their ' +\n        'choice to consent to providing their cookie access.',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accept',\n    description: 'Label for a button that allows the user to consent to ' +\n        'providing their cookie access.',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Decline',\n    description: 'Label for a button that allows the user to disconsent to ' +\n        'providing their cookie access.',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'View on original domain:',\n    description: 'Label for a heading of a dialog that shows the user the ' +\n        'domain from which the story is served.',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'More about AMP results',\n    description: 'Label for a link to documentation on how AMP links are ' +\n        'handled.',\n  },\n  [LocalizedStringId.AMP_STORY_EXPERIMENT_ENABLE_BUTTON_LABEL]: {\n    string: 'Enable',\n    description: 'Label for a button that enables the amp-story experiment.',\n  },\n  [LocalizedStringId.AMP_STORY_EXPERIMENT_ENABLED_TEXT]: {\n    string: 'Experiment enabled.  Please reload.',\n    description: 'Text that is shown once the amp-story experiment has ' +\n        'been successfully enabled.',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Tap Next',\n    description: 'Label indicating that users can navigate to the next ' +\n        'page, in the amp-story hint UI.',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Tap Back',\n    description: 'Label indicating that users can navigate to the previous ' +\n        'page, in the amp-story hint UI.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Could not copy link to clipboard :(',\n    description: 'String shown in a failure message to inform the user that ' +\n        'a link could not be successfully copied to their clipboard.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link copied!',\n    description: 'String shown in a confirmation message to inform the user ' +\n        'that a link was successfully copied to their clipboard.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n    description: 'Button label for the share target that shares a link via ' +\n        'email.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n    description: 'Button label for the share target that shares a link via ' +\n        'Facebook.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n    description: 'Button label for the share target that shares a link via ' +\n        'Google+.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Get Link',\n    description: 'Button label for the share target that shares a link via ' +\n        'by copying it to the user\\'s clipboard.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n    description: 'Button label for the share target that shares a link via ' +\n        'LinkedIn.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n    description: 'Button label for the share target that shares a link via ' +\n        'Pinterest.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n    description: 'Button label for the share target that shares a link via ' +\n        'SMS.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'More',\n    description: 'Button label for the share target that shares a link via ' +\n        'deferral to the operating system\\'s native sharing handler.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n    description: 'Button label for the share target that shares a link via ' +\n        'Tumblr.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n    description: 'Button label for the share target that shares a link via ' +\n        'Twitter.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n    description: 'Button label for the share target that shares a link via ' +\n        'Whatsapp.',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Share',\n    description: 'Label for the expandable share widget shown in the ' +\n        'desktop UI.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Expand your window to view this experience',\n    description: 'Text for a warning screen that informs the user that ' +\n        'stories are only supported in larger browser windows.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'You must enable the amp-story experiment to view this content.',\n    description: 'Text for a warning screen that informs the user that ' +\n        'they must enable an experiment to use stories.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'The page is best viewed in portrait mode',\n    description: 'Text for a warning screen that informs the user that ' +\n        'stories are only supported in portrait orientation.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'We\\'re sorry, it looks like your browser doesn\\'t support ' +\n        'this experience',\n    description: 'Text for a warning screen that informs the user that ' +\n        'their browser does not support stories.',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Base layer from which other layers in a story page extend from.\n */\n\nimport {Layout} from '../../../src/layout';\n\n/**\n * Base layer template.\n */\nexport class AmpStoryBaseLayer extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n  }\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.CONTAINER;\n  }\n\n  /** @override */\n  buildCallback() {\n    this.element.classList.add('i-amphtml-story-layer');\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Action, StateProperty} from './amp-story-store-service';\nimport {ActionTrust} from '../../../src/action-constants';\nimport {CSS} from '../../../build/amp-story-bookend-0.1.css';\nimport {DEPRECATED_SHARE_PROVIDERS_KEY, SHARE_PROVIDERS_KEY, ScrollableShareWidget} from './amp-story-share';\nimport {EventType, dispatch} from './events';\nimport {KeyCodes} from '../../../src/utils/key-codes';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {closest} from '../../../src/dom';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev, user} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {getAmpdoc} from '../../../src/service';\nimport {getJsonLd} from './jsonld';\nimport {isArray} from '../../../src/types';\nimport {isProtocolValid} from '../../../src/url';\nimport {parseArticlesToClassicApi, relatedArticlesFromJson} from './related-articles';\nimport {parseUrlDeprecated} from '../../../src/url';\nimport {renderAsElement, renderSimpleTemplate} from './simple-template';\nimport {throttle} from '../../../src/utils/rate-limit';\n\n/**\n * Key for omponents in bookend config.\n * @private @const {string}\n */\nconst BOOKEND_VERSION_KEY = 'bookendVersion';\nconst BOOKEND_VERSION_1 = 'v1.0';\n\n/**\n * Deprecated key for components in bookend config.\n * @private @const {string}\n */\nconst DEPRECATED_BOOKEND_VERSION_KEY = 'bookend-version';\n\n/**\n * @typedef {{\n *   shareProviders: (!JsonObject|!Object<string, !JsonObject>),\n *   relatedArticles: !Array<!./related-articles.RelatedArticleSetDef>\n * }}\n */\nexport let BookendConfigDef;\n\n\n/**\n * Scroll amount required for full-bleed in px.\n * @private @const {number}\n */\nconst FULLBLEED_THRESHOLD = 88;\n\n\n/** @private @const {string} */\nconst FULLBLEED_CLASSNAME = 'i-amphtml-story-bookend-fullbleed';\n\n\n/** @private @const {string} */\nconst HIDDEN_CLASSNAME = 'i-amphtml-hidden';\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst ROOT_TEMPLATE = {\n  tag: 'section',\n  attrs: dict({\n    'class': 'i-amphtml-story-bookend i-amphtml-story-system-reset ' +\n        HIDDEN_CLASSNAME}),\n  children: [\n    // Overflow container that gets pushed to the bottom when content height is\n    // smaller than viewport.\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-bookend-overflow'}),\n      children: [\n        // Holds bookend content.\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-bookend-inner'}),\n        },\n      ],\n    },\n  ],\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst REPLAY_ICON_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-bookend-replay-icon'}),\n};\n\n\n/** @type {string} */\nconst TAG = 'amp-story';\n\n\n/**\n * @param {?string} consentId\n * @return {!./simple-template.ElementDef}\n */\nconst buildPromptConsentTemplate = consentId => {\n  return /** @type {!./simple-template.ElementDef} */ ({\n    tag: 'div',\n    attrs: dict({'class': 'i-amphtml-story-bookend-consent'}),\n    children: [\n      {\n        tag: 'h3',\n        attrs: dict({'class': 'i-amphtml-story-bookend-heading'}),\n        localizedStringId:\n            LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE,\n      },\n      {\n        tag: 'h2',\n        attrs: dict({\n          'class': 'i-amphtml-story-bookend-consent-button',\n          'on': `tap:${consentId}.prompt`,\n          'role': 'button',\n          'aria-label': 'Change data privacy settings',\n        }),\n        localizedStringId:\n            LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL,\n      },\n    ],\n  });\n};\n\n\n/**\n * @param {!./related-articles.RelatedArticleDef} articleData\n * @return {!./simple-template.ElementDef}\n */\nfunction buildArticleTemplate(articleData) {\n  const template = /** @type {!./simple-template.ElementDef} */ ({\n    tag: 'a',\n    attrs: dict({\n      'class': 'i-amphtml-story-bookend-article',\n      'href': articleData.url,\n      'target': '_top',\n    }),\n    children: [\n      {\n        tag: 'h2',\n        attrs: dict({'class': 'i-amphtml-story-bookend-article-heading'}),\n        unlocalizedString: articleData.title,\n      },\n      {\n        tag: 'div',\n        attrs: dict({'class': 'i-amphtml-story-bookend-article-meta'}),\n        unlocalizedString: articleData.domainName,\n      },\n    ],\n  });\n\n  if (articleData.image) {\n    template.children.unshift(/** @type {!./simple-template.ElementDef} */ ({\n      tag: 'amp-img',\n      attrs: dict({\n        'class': 'i-amphtml-story-bookend-article-image',\n        'src': articleData.image,\n        'width': 100,\n        'height': 100,\n      }),\n    }));\n  }\n\n  return template;\n}\n\n\n/**\n * @param {!Array<!./related-articles.RelatedArticleSetDef>} articleSets\n * @return {!Array<!./simple-template.ElementDef>}\n */\nfunction buildArticlesContainerTemplate(articleSets) {\n  const template = [];\n\n  articleSets.forEach(articleSet => {\n    if (articleSet.heading) {\n      template.push({\n        tag: 'h3',\n        attrs: dict({'class': 'i-amphtml-story-bookend-heading'}),\n        unlocalizedString: articleSet.heading,\n      });\n    }\n    template.push({\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-bookend-article-set'}),\n      children: articleSet.articles.map(article =>\n        buildArticleTemplate(article)),\n    });\n  });\n\n  return template;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} title\n * @param {string} domainName\n * @param {string=} opt_imageUrl\n * @return {!./simple-template.ElementDef}\n */\nfunction buildReplayButtonTemplate(doc, title, domainName, opt_imageUrl) {\n  return /** @type {!./simple-template.ElementDef} */ ({\n    tag: 'div',\n    attrs: dict({'class': 'i-amphtml-story-bookend-replay'}),\n    children: [\n      !opt_imageUrl ? REPLAY_ICON_TEMPLATE : {\n        tag: 'div',\n        attrs: dict({\n          'class': 'i-amphtml-story-bookend-replay-image',\n          'style': `background-image: url(${opt_imageUrl}) !important`,\n        }),\n        children: [REPLAY_ICON_TEMPLATE],\n      },\n      {\n        tag: 'h2',\n        attrs: dict({'class': 'i-amphtml-story-bookend-article-heading'}),\n        unlocalizedString: title,\n      },\n      {\n        tag: 'div',\n        attrs: dict({'class': 'i-amphtml-story-bookend-article-meta'}),\n        unlocalizedString: domainName,\n      },\n    ],\n  });\n}\n\n\n/**\n * Bookend component for <amp-story>.\n * This component has to be built and preloaded before it can be displayed,\n * through the 'build' and 'loadConfig' method. It can then be toggled by\n * dispatching the store TOGGLE_BOOKEND action.\n */\nexport class Bookend {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl Element where to append the bookend\n   */\n  constructor(win, parentEl) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?./amp-story-bookend.BookendConfigDef|undefined} */\n    this.config_;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {boolean} */\n    this.isConfigRendered_ = false;\n\n    /** @private {?Element} */\n    this.replayButton_ = null;\n\n    /**\n     * Root element containing a shadow DOM root.\n     * @private {?Element}\n     */\n    this.root_ = null;\n\n    /**\n     * Actual bookend.\n     * @private {?Element}\n     */\n    this.bookendEl_ = null;\n\n    /** @private @const {!./amp-story-request-service.AmpStoryRequestService} */\n    this.requestService_ = Services.storyRequestServiceV01(this.win_);\n\n    /** @private {!ScrollableShareWidget} */\n    this.shareWidget_ = ScrollableShareWidget.create(this.win_);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n\n    /** @private @const {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n  }\n\n  /**\n   * Builds the bookend components and appends it to the provided story.\n   */\n  build() {\n    if (this.isBuilt_) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    this.root_ = this.win_.document.createElement('div');\n    this.bookendEl_ = renderAsElement(this.win_.document, ROOT_TEMPLATE);\n\n    createShadowRootWithStyle(this.root_, this.bookendEl_, CSS);\n\n    this.replayButton_ = this.buildReplayButton_();\n\n    const ampdoc = getAmpdoc(this.parentEl_);\n\n    const innerContainer = this.getInnerContainer_();\n    innerContainer.appendChild(this.replayButton_);\n    innerContainer.appendChild(this.shareWidget_.build(ampdoc));\n\n    const consentId = this.storeService_.get(StateProperty.CONSENT_ID);\n\n    if (consentId) {\n      const promptConsentEl =\n          renderAsElement(\n              this.win_.document,\n              buildPromptConsentTemplate(String(consentId)));\n      innerContainer.appendChild(promptConsentEl);\n    }\n\n    this.initializeListeners_();\n\n    this.vsync_.mutate(() => {\n      this.parentEl_.appendChild(this.getRoot());\n    });\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.getShadowRoot()\n        .addEventListener('click', event => this.onClick_(event));\n    this.replayButton_.addEventListener(\n        'click', event => this.onReplayButtonClick_(event));\n\n    this.getOverflowContainer_().addEventListener('scroll',\n        // minInterval is high since this is a step function that does not\n        // require smoothness\n        throttle(this.win_, () => this.onScroll_(), 100));\n\n    this.win_.addEventListener('keyup', event => {\n      if (!this.isActive_()) {\n        return;\n      }\n      if (event.keyCode == KeyCodes.ESCAPE) {\n        event.preventDefault();\n        this.close_();\n      }\n    });\n\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      this.onBookendStateUpdate_(isActive);\n    });\n\n    this.storeService_.subscribe(StateProperty.CAN_SHOW_SHARING_UIS, show => {\n      this.onCanShowSharingUisUpdate_(show);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.DESKTOP_STATE, isDesktop => {\n      this.onDesktopStateUpdate_(isDesktop);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * Whether the bookend is displayed.\n   * @return {boolean}\n   * @private\n   */\n  isActive_() {\n    return !!this.storeService_.get(StateProperty.BOOKEND_STATE);\n  }\n\n  /**\n   * @param {!Event} event\n   * @private\n   */\n  onReplayButtonClick_(event) {\n    event.stopPropagation();\n    dispatch(this.getRoot(), EventType.REPLAY, /* opt_bubbles */ true);\n  }\n\n  /**\n   * Reacts to bookend state updates.\n   * @param {boolean} isActive\n   * @private\n   */\n  onBookendStateUpdate_(isActive) {\n    this.toggle_(isActive);\n  }\n\n  /**\n   * Reacts to updates to whether sharing UIs may be shown, and updates the UI\n   * accordingly.\n   * @param {boolean} canShowSharingUis\n   * @private\n   */\n  onCanShowSharingUisUpdate_(canShowSharingUis) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot()\n          .classList.toggle('i-amphtml-story-no-sharing', !canShowSharingUis);\n    });\n  }\n\n  /**\n   * Reacts to desktop state updates.\n   * @param {boolean} isDesktop\n   * @private\n   */\n  onDesktopStateUpdate_(isDesktop) {\n    this.toggleDesktopAttribute_(isDesktop);\n  }\n\n  /**\n   * Reads the bookend version from the bookend JSON config.\n   * @param {!JsonObject} config\n   * @return {?string}\n   * @private\n   */\n  readBookendVersion_(config) {\n    if (config[DEPRECATED_BOOKEND_VERSION_KEY]) {\n      user().warn('AMP-STORY-BOOKEND', '`bookend-version` and ' +\n      '`share-providers` keys in the bookend config are deprecated, please ' +\n      '`bookendVersion` and `shareProviders` keys');\n    }\n\n    return config[DEPRECATED_BOOKEND_VERSION_KEY] ||\n      config[BOOKEND_VERSION_KEY] || null;\n  }\n\n  /**\n   * Retrieves the publisher bookend configuration. Applying the configuration\n   * will prerender the bookend DOM, but there are cases where we need it before\n   * the component is built. Eg: the desktop share button needs the providers.\n   * @param {boolean=} applyConfig  Whether the config should be set.\n   * @return {!Promise<?./amp-story-bookend.BookendConfigDef>}\n   */\n  loadConfig(applyConfig = true) {\n    if (this.config_ !== undefined) {\n      if (applyConfig && this.config_) {\n        this.setConfig_(this.config_);\n      }\n      return Promise.resolve(this.config_);\n    }\n\n    return this.requestService_.loadBookendConfig()\n        .then(response => {\n          if (!response) {\n            return null;\n          }\n          if (this.readBookendVersion_(response) === BOOKEND_VERSION_1) {\n            this.config_ = {\n              shareProviders:\n                this.shareWidget_.parseProvidersToClassicApi(\n                    response[SHARE_PROVIDERS_KEY] ||\n                    response[DEPRECATED_SHARE_PROVIDERS_KEY]),\n              relatedArticles:\n                parseArticlesToClassicApi(response['components']),\n            };\n          } else {\n            this.config_ = {\n              shareProviders: response['share-providers'],\n              relatedArticles:\n                  relatedArticlesFromJson(response['related-articles']),\n            };\n          }\n\n          // Allows the config to be fetched before the component is built, for\n          // cases like getting the share providers on desktop.\n          if (applyConfig) {\n            this.setConfig_(this.config_);\n          }\n\n          return this.config_;\n        })\n        .catch(e => {\n          user().error(TAG, 'Error fetching bookend configuration', e.message);\n          return null;\n        });\n  }\n\n  /**\n   * Handles click events on the bookend:\n   *   - Closes bookend if tapping outside usable area\n   *   - Forwards AMP actions\n   * @param {!Event} event\n   * @private\n   */\n  onClick_(event) {\n    const target = dev().assertElement(event.target);\n\n    if (this.elementOutsideUsableArea_(target)) {\n      event.stopPropagation();\n      this.close_();\n      return;\n    }\n\n    if (target.hasAttribute('on')) {\n      const ampdoc = getAmpdoc(this.parentEl_);\n      const actionService = Services.actionServiceForDoc(ampdoc);\n      actionService.trigger(target, 'tap', event, ActionTrust.HIGH);\n    }\n  }\n\n  /**\n   * Closes the bookend.\n   */\n  close_() {\n    this.storeService_.dispatch(Action.TOGGLE_BOOKEND, false);\n  }\n\n  /**\n   * @param {!Element} el\n   * @return {boolean}\n   */\n  elementOutsideUsableArea_(el) {\n    return !closest(el, el => el == this.getInnerContainer_());\n  }\n\n  /**\n   * Changes between card view and full-bleed based on scroll position.\n   * @private\n   */\n  onScroll_() {\n    if (!this.isActive_()) {\n      return;\n    }\n    this.vsync_.run({\n      measure: state => {\n        state.shouldBeFullBleed =\n            this.getOverflowContainer_()./*OK*/scrollTop >= FULLBLEED_THRESHOLD;\n      },\n      mutate: state => {\n        this.getShadowRoot().classList.toggle(\n            FULLBLEED_CLASSNAME, state.shouldBeFullBleed);\n      },\n    }, {});\n  }\n\n  /**\n   * @param {boolean} show\n   * @private\n   */\n  toggle_(show) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot().classList.toggle(HIDDEN_CLASSNAME, !show);\n    });\n  }\n\n  /**\n   * Toggles the bookend desktop UI.\n   * @param {boolean} isDesktop\n   * @private\n   */\n  toggleDesktopAttribute_(isDesktop) {\n    this.vsync_.mutate(() => {\n      isDesktop ?\n        this.getShadowRoot().setAttribute('desktop', '') :\n        this.getShadowRoot().removeAttribute('desktop');\n    });\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /** @private */\n  assertBuilt_() {\n    dev().assert(this.isBuilt(), 'Bookend component needs to be built.');\n  }\n\n  /**\n   * @param {!BookendConfigDef} bookendConfig\n   * @private\n   */\n  setConfig_(bookendConfig) {\n    if (this.isConfigRendered_) {\n      return;\n    }\n\n    this.assertBuilt_();\n    this.isConfigRendered_ = true;\n\n    this.setRelatedArticles_(bookendConfig.relatedArticles);\n  }\n\n  /**\n   * @param {!Array<!./related-articles.RelatedArticleSetDef>} articleSets\n   * @private\n   */\n  setRelatedArticles_(articleSets) {\n    this.vsync_.mutate(() => {\n      this.getInnerContainer_().appendChild(\n          renderSimpleTemplate(this.win_.document,\n              buildArticlesContainerTemplate(articleSets)));\n    });\n  }\n\n  /** @return {!Element} */\n  getRoot() {\n    this.assertBuilt_();\n    return dev().assertElement(this.root_);\n  }\n\n  /** @return {!Element} */\n  getShadowRoot() {\n    this.assertBuilt_();\n    return dev().assertElement(this.bookendEl_);\n  }\n\n  /**\n   * Gets container for bookend content.\n   * @return {!Element}\n   * @private\n   */\n  getInnerContainer_() {\n    return dev().assertElement(this.getOverflowContainer_().firstElementChild);\n  }\n\n  /**\n   * Gets outer container that gets scrolled.\n   * @return {!Element}\n   * @private\n   */\n  getOverflowContainer_() {\n    return dev().assertElement(this.getShadowRoot().firstElementChild);\n  }\n\n  /**\n   * @return {{\n   *   title: string,\n   *   domainName: string,\n   *   imageUrl: (string|undefined),\n   * }}\n   * @private\n   */\n  getStoryMetadata_() {\n    const ampdoc = getAmpdoc(this.parentEl_);\n    const jsonLd = getJsonLd(ampdoc.getRootNode());\n\n    const metadata = {\n      title: jsonLd && jsonLd['headline'] ?\n        jsonLd['headline'] :\n        user().assertElement(\n            this.win_.document.head.querySelector('title'),\n            'Please set <title> or structured data (JSON-LD).').textContent,\n\n      domainName: parseUrlDeprecated(\n          Services.documentInfoForDoc(ampdoc).canonicalUrl).hostname,\n    };\n\n    if (jsonLd && isArray(jsonLd['image']) && jsonLd['image'].length) {\n      user().assert(isProtocolValid(jsonLd['image']),\n          `Unsupported protocol for story image URL ${jsonLd['image']}`);\n      metadata.imageUrl = jsonLd['image'][0];\n    }\n\n    return metadata;\n  }\n\n  /**\n   * @return {!Element}\n   * @private\n   */\n  buildReplayButton_() {\n    const metadata = this.getStoryMetadata_();\n    return renderAsElement(this.win_.document, buildReplayButtonTemplate(\n        this.win_.document,\n        metadata.title,\n        metadata.domainName,\n        metadata.imageUrl));\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Action} from './amp-story-store-service';\nimport {ActionTrust} from '../../../src/action-constants';\nimport {CSS} from '../../../build/amp-story-consent-0.1.css';\nimport {Layout} from '../../../src/layout';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {assertAbsoluteHttpOrHttpsUrl} from '../../../src/url';\nimport {\n  childElementByTag,\n  closestByTag,\n  isJsonScriptTag,\n} from '../../../src/dom';\nimport {computedStyle, setImportantStyles} from '../../../src/style';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev, user} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {getRGBFromCssColorValue, getTextColorForRGB} from './utils';\nimport {isArray} from '../../../src/types';\nimport {parseJson} from '../../../src/json';\nimport {renderAsElement} from './simple-template';\nimport {throttle} from '../../../src/utils/rate-limit';\n\n\n/** @const {string} */\nconst TAG = 'amp-story-consent';\n\n/**\n * Default optional config parameters.\n * @const {!Object}\n */\nconst DEFAULT_OPTIONAL_PARAMETERS = {\n  externalLink: {},\n  onlyAccept: false,\n};\n\n// TODO(gmajoulet): switch to `htmlFor` static template helper.\n/**\n * Story consent template.\n * @param {!Object} config\n * @param {string} consentId\n * @param {?string} logoSrc\n * @return {!./simple-template.ElementDef}\n * @private @const\n */\nconst getTemplate = (config, consentId, logoSrc) => ({\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-consent i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-consent-overflow'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-consent-container'}),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-consent-header'}),\n              children: [\n                {\n                  tag: 'div',\n                  attrs: dict({\n                    'class': 'i-amphtml-story-consent-logo',\n                    'style': logoSrc ?\n                      `background-image: url('${logoSrc}') !important;` : '',\n                  }),\n                  children: [],\n                },\n              ],\n            },\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-consent-content'}),\n              children: [\n                {\n                  tag: 'h3',\n                  attrs: dict({}),\n                  children: [],\n                  unlocalizedString: config.title,\n                },\n                {\n                  tag: 'p',\n                  attrs: dict({}),\n                  children: [],\n                  unlocalizedString: config.message,\n                },\n                {\n                  tag: 'ul',\n                  attrs: dict({'class': 'i-amphtml-story-consent-vendors'}),\n                  children: config.vendors && config.vendors.map(vendor => (\n                    {\n                      tag: 'li',\n                      attrs: dict({'class': 'i-amphtml-story-consent-vendor'}),\n                      children: [],\n                      unlocalizedString: vendor,\n                    })\n                  ),\n                },\n                {\n                  tag: 'a',\n                  attrs: dict({\n                    'class': 'i-amphtml-story-consent-external-link ' +\n                        (!(config.externalLink.title &&\n                            config.externalLink.href) ?\n                          'i-amphtml-hidden' : ''),\n                    'href': config.externalLink.href,\n                    'target': '_top',\n                    'title': config.externalLink.title,\n                  }),\n                  children: [],\n                  unlocalizedString: config.externalLink.title,\n                },\n              ],\n            },\n          ],\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-consent-actions'}),\n          children: [\n            {\n              tag: 'button',\n              attrs: dict({\n                'class': 'i-amphtml-story-consent-action ' +\n                    'i-amphtml-story-consent-action-reject' +\n                    (config.onlyAccept === true ? ' i-amphtml-hidden' : ''),\n                'on': `tap:${consentId}.reject`,\n              }),\n              children: [],\n              localizedStringId:\n                  LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL,\n            },\n            {\n              tag: 'button',\n              attrs: dict({\n                'class': 'i-amphtml-story-consent-action ' +\n                    'i-amphtml-story-consent-action-accept',\n                'on': `tap:${consentId}.accept`,\n              }),\n              children: [],\n              localizedStringId:\n                  LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL,\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\n/**\n * The <amp-story-consent> custom element.\n */\nexport class AmpStoryConsent extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @const @private {!../../../src/service/action-impl.ActionService} */\n    this.actions_ = Services.actionServiceForDoc(this.element);\n\n    /** @private {?Element} */\n    this.scrollableEl_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win);\n\n    /** @private {?Object} */\n    this.storyConsentConfig_ = null;\n\n    /** @private {?Element} */\n    this.storyConsentEl_ = null;\n  }\n\n  /** @override */\n  buildCallback() {\n    this.assertAndParseConfig_();\n\n    const storyEl = closestByTag(this.element, 'AMP-STORY');\n    const consentEl = closestByTag(this.element, 'AMP-CONSENT');\n    const consentId = consentEl.id;\n    this.storeService_.dispatch(Action.SET_CONSENT_ID, consentId);\n\n    const logoSrc = storyEl && storyEl.getAttribute('publisher-logo-src');\n\n    if (!logoSrc) {\n      user().warn(\n          TAG, 'Expected \"publisher-logo-src\" attribute on <amp-story>');\n    }\n\n    // Story consent config is set by the `assertAndParseConfig_` method.\n    if (this.storyConsentConfig_) {\n      this.storyConsentEl_ = renderAsElement(\n          this.win.document,\n          getTemplate(this.storyConsentConfig_, consentId, logoSrc));\n      createShadowRootWithStyle(this.element, this.storyConsentEl_, CSS);\n\n      // Allow <amp-consent> actions in STAMP (defaults to no actions allowed).\n      this.actions_.addToWhitelist('AMP-CONSENT.accept');\n      this.actions_.addToWhitelist('AMP-CONSENT.prompt');\n      this.actions_.addToWhitelist('AMP-CONSENT.reject');\n\n      this.setAcceptButtonFontColor_();\n\n      this.initializeListeners_();\n    }\n  }\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.NODISPLAY;\n  }\n\n  /** @override */\n  prerenderAllowed() {\n    return false;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storyConsentEl_.addEventListener(\n        'click', event => this.onClick_(event), true /** useCapture */);\n\n    this.scrollableEl_ =\n        this.storyConsentEl_.querySelector('.i-amphtml-story-consent-overflow');\n    this.scrollableEl_.addEventListener(\n        'scroll', throttle(this.win, () => this.onScroll_(), 100));\n  }\n\n  /**\n   * Listens to click events to trigger the actions programatically.\n   * Since events bubble up from the Shadow DOM but their target is updated to\n   * the Shadow root, the top level actions event listeners would not detect\n   * and trigger the actions upon click events.\n   * @param {!Event} event\n   * @private\n   */\n  onClick_(event) {\n    if (event.target && event.target.hasAttribute('on')) {\n      const targetEl = dev().assertElement(event.target);\n      this.actions_.trigger(targetEl, 'tap', event, ActionTrust.HIGH);\n    }\n  }\n\n  /**\n   * Toggles the fullbleed UI on scroll.\n   * @private\n   */\n  onScroll_() {\n    let isFullBleed;\n\n    const measurer =\n        () => isFullBleed = this.scrollableEl_./*OK*/scrollTop > 88;\n    const mutator = () => {\n      this.storyConsentEl_\n          .classList.toggle('i-amphtml-story-consent-fullbleed', isFullBleed);\n    };\n\n    this.element.getResources()\n        .measureMutateElement(this.storyConsentEl_, measurer, mutator);\n  }\n\n  /**\n   * Validates the story-consent config. `story-consent` is a new parameter\n   * specific to stories, added on the `amp-consent` JSON config.\n   * @private\n   */\n  assertAndParseConfig_() {\n    const storyConsentScript = childElementByTag(this.element, 'script');\n\n    user().assert(\n        storyConsentScript && isJsonScriptTag(storyConsentScript),\n        `${TAG} config should be put in a <script> tag with ` +\n        'type=\"application/json\"');\n\n    this.storyConsentConfig_ =\n        Object.assign(\n            {},\n            DEFAULT_OPTIONAL_PARAMETERS,\n            /** @type {Object} */ (parseJson(storyConsentScript.textContent)));\n\n    user().assertString(\n        this.storyConsentConfig_.title, `${TAG}: config requires a title`);\n    user().assertString(\n        this.storyConsentConfig_.message, `${TAG}: config requires a message`);\n    user().assert(\n        this.storyConsentConfig_.vendors &&\n            isArray(this.storyConsentConfig_.vendors),\n        `${TAG}: config requires an array of vendors`);\n    user().assertBoolean(\n        this.storyConsentConfig_.onlyAccept,\n        `${TAG}: config requires \"onlyAccept\" to be a boolean`);\n\n    // Runs the validation if any of the title or link are provided, since\n    // both have to be provided for the external link to be displayed.\n    if (this.storyConsentConfig_.externalLink.href ||\n        this.storyConsentConfig_.externalLink.title) {\n      user().assertString(\n          this.storyConsentConfig_.externalLink.title,\n          `${TAG}: config requires \"externalLink.title\" to be a string`);\n      user().assertString(\n          this.storyConsentConfig_.externalLink.href,\n          `${TAG}: config requires \"externalLink.href\" to be an absolute URL`);\n      assertAbsoluteHttpOrHttpsUrl(this.storyConsentConfig_.externalLink.href);\n    }\n  }\n\n  /**\n   * Sets the accept button font color to either white or black, depending on\n   * the publisher custom background color.\n   * Must be called from the `buildCallback` or in another vsync mutate state.\n   * @private\n   */\n  setAcceptButtonFontColor_() {\n    const buttonEl =\n        dev().assertElement(this.storyConsentEl_\n            .querySelector('.i-amphtml-story-consent-action-accept'));\n    const styles = computedStyle(this.win, buttonEl);\n\n    const rgb = getRGBFromCssColorValue(styles['background-color']);\n    const color = getTextColorForRGB(rgb);\n\n    setImportantStyles(buttonEl, {color});\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This is a layer that allows a call to action in a story page.\n * With this, a user could link to an external site from inside a story using\n * the call to action layer, for example.\n *\n * Example:\n * ...\n * <amp-story-page>\n *   <amp-story-cta-layer>\n *     <a href=\"wwww.google.com\"> Visit my site! </a>\n *   </amp-story-cta-layer>\n * <amp-story-page>\n * ...\n */\n\nimport {AmpStoryBaseLayer} from './amp-story-base-layer';\n\n/**\n * Call to action button layer template.\n */\nexport class AmpStoryCtaLayer extends AmpStoryBaseLayer {\n\n  /** @override */\n  prerenderAllowed() {\n    /**\n     * Skip pre-rendering to let more computing-intensive elements (like\n     * videos) get pre-rendered first. Since this layer will not contain\n     * computing-intensive resources such as videos, we can just risk rendering\n     * while the user is looking.\n     */\n    return false;\n  }\n\n  /** @override */\n  buildCallback() {\n    super.buildCallback();\n    this.setOrOverwriteTargetAttribute_();\n  }\n\n  /**\n   * Overwrite or set target attribute to _blank in call-to-action links.\n   * @private\n   */\n  setOrOverwriteTargetAttribute_() {\n    const ctaLinks = this.element.querySelectorAll('a');\n    for (let i = 0; i < ctaLinks.length; i++) {\n      ctaLinks[i].setAttribute('target', '_blank');\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This is a layer that lays its children out into a grid. Its\n * implementation is based off of the CSS Grid Spec.\n *\n * Example:\n * <code>\n * <amp-story-grid-layer template=\"fill\">\n *   ...\n * </amp-story-grid-layer>\n * </code>\n */\n\nimport {AmpStoryBaseLayer} from './amp-story-base-layer';\nimport {matches, scopedQuerySelectorAll} from '../../../src/dom';\nimport {setStyle} from '../../../src/style';\n\n/**\n * A mapping of attribute names we support for grid layers to the CSS Grid\n * properties they control.\n * @private @const {!Object<string, string>}\n */\nconst SUPPORTED_CSS_GRID_ATTRIBUTES = {\n  'align-content': 'alignContent',\n  'align-items': 'alignItems',\n  'align-self': 'alignSelf',\n  'grid-area': 'gridArea',\n  'justify-content': 'justifyContent',\n  'justify-items': 'justifyItems',\n  'justify-self': 'justifySelf',\n};\n\n/**\n * Converts the keys of the SUPPORTED_CSS_GRID_ATTRIBUTES object above into a\n * selector for the specified attributes.\n * (e.g. [align-content], [align-items], ...)\n * @private @const {string}\n */\nconst SUPPORTED_CSS_GRID_ATTRIBUTES_SELECTOR =\n    Object.keys(SUPPORTED_CSS_GRID_ATTRIBUTES)\n        .map(key => `[${key}]`)\n        .join(',');\n\n/**\n * The attribute name for grid layer templates.\n * @private @const {string}\n */\nconst TEMPLATE_ATTRIBUTE_NAME = 'template';\n\n/**\n * A mapping of template attribute values to CSS class names.\n * @const {!Object<string, string>}\n */\nexport const GRID_LAYER_TEMPLATE_CLASS_NAMES = {\n  'fill': 'i-amphtml-story-grid-template-fill',\n  'vertical': 'i-amphtml-story-grid-template-vertical',\n  'horizontal': 'i-amphtml-story-grid-template-horizontal',\n  'thirds': 'i-amphtml-story-grid-template-thirds',\n};\n\n/**\n * Grid layer template templating system.\n */\nexport class AmpStoryGridLayer extends AmpStoryBaseLayer {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @private @const {boolean} Only prerender if child of the first page. */\n    this.prerenderAllowed_ = matches(this.element,\n        'amp-story-page:first-of-type amp-story-grid-layer');\n  }\n\n\n  /** @override */\n  buildCallback() {\n    super.buildCallback();\n    this.applyTemplateClassName_();\n    this.setOwnCssGridStyles_();\n    this.setDescendentCssGridStyles_();\n  }\n\n\n  /** @override */\n  prerenderAllowed() {\n    return this.prerenderAllowed_;\n  }\n\n\n  /**\n   * Applies internal CSS class names for the template attribute, so that styles\n   * can use the class name instead of compound\n   * amp-story-grid-layer[template=\"...\"] selectors, since the latter increases\n   * CSS specificity and can prevent users from being able to override styles.\n   * @private\n   */\n  applyTemplateClassName_() {\n    if (this.element.hasAttribute(TEMPLATE_ATTRIBUTE_NAME)) {\n      const templateName = this.element.getAttribute(TEMPLATE_ATTRIBUTE_NAME);\n      const templateClassName = GRID_LAYER_TEMPLATE_CLASS_NAMES[templateName];\n      this.element.classList.add(templateClassName);\n    }\n  }\n\n\n  /**\n   * Copies the whitelisted CSS grid styles for descendants of the\n   * <amp-story-grid-layer> element.\n   * @private\n   */\n  setDescendentCssGridStyles_() {\n    const elementsToUpgradeStyles = scopedQuerySelectorAll(this.element,\n        SUPPORTED_CSS_GRID_ATTRIBUTES_SELECTOR);\n\n    Array.prototype.forEach.call(elementsToUpgradeStyles, element => {\n      this.setCssGridStyles_(element);\n    });\n  }\n\n  /**\n   * Copies the whitelisted CSS grid styles for the <amp-story-grid-layer>\n   * element itself.\n   * @private\n   */\n  setOwnCssGridStyles_() {\n    this.setCssGridStyles_(this.element);\n  }\n\n\n  /**\n   * Copies the values of an element's attributes to its styles, if the\n   * attributes/properties are in the whitelist.\n   *\n   * @param {!Element} element The element whose styles should be copied from\n   *     its attributes.\n   */\n  setCssGridStyles_(element) {\n    for (let i = element.attributes.length - 1; i >= 0; i--) {\n      const attribute = element.attributes[i];\n      const attributeName = attribute.name.toLowerCase();\n      const propertyName = SUPPORTED_CSS_GRID_ATTRIBUTES[attributeName];\n      if (propertyName) {\n        setStyle(element, propertyName, attribute.value);\n        element.removeAttribute(attributeName);\n      }\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CSS} from '../../../build/amp-story-hint-0.1.css';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {StateProperty} from './amp-story-store-service';\nimport {createShadowRootWithStyle} from './utils';\nimport {dict} from '../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst TEMPLATE = {\n  tag: 'aside',\n  attrs: dict({\n    'class': 'i-amphtml-story-hint-container ' +\n        'i-amphtml-story-system-reset i-amphtml-hidden'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-navigation-help-overlay'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-navigation-help-section'\n              + ' prev-page'}),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-hint-placeholder'}),\n              children: [\n                {\n                  tag: 'div',\n                  attrs: dict({'class': 'i-amphtml-story-hint-tap-button'}),\n                  children: [\n                    {\n                      tag: 'div',\n                      attrs: dict({'class':\n                          'i-amphtml-story-hint-tap-button-icon'}),\n                    },\n                  ],\n                },\n                {\n                  tag: 'div',\n                  attrs: dict({'class':\n                      'i-amphtml-story-hint-tap-button-text'}),\n                  localizedStringId:\n                      LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL,\n                },\n              ],\n            },\n          ],\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-navigation-help-section'\n              + ' next-page'}),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-hint-placeholder'}),\n              children: [\n                {\n                  tag: 'div',\n                  attrs: dict({'class': 'i-amphtml-story-hint-tap-button'}),\n                  children: [\n                    {\n                      tag: 'div',\n                      attrs: dict({'class':\n                          'i-amphtml-story-hint-tap-button-icon'}),\n                    },\n                  ],\n                },\n                {\n                  tag: 'div',\n                  attrs: dict({'class':\n                      'i-amphtml-story-hint-tap-button-text'}),\n                  localizedStringId:\n                      LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL,\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n\n/** @type {string} */\nconst NAVIGATION_OVERLAY_CLASS = 'show-navigation-overlay';\n\n/** @type {string} */\nconst FIRST_PAGE_OVERLAY_CLASS = 'show-first-page-overlay';\n\n/** @type {number} */\nconst NAVIGATION_OVERLAY_TIMEOUT = 3000;\n\n/** @type {number} */\nconst FIRST_PAGE_NAVIGATION_OVERLAY_TIMEOUT = 275;\n\n/**\n * User Hint Layer for <amp-story>.\n */\nexport class AmpStoryHint {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl Element where to append the component\n   */\n  constructor(win, parentEl) {\n    /** @private {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} Whether the component is built. */\n    this.isBuilt_ = false;\n\n    /** @private {!Document} */\n    this.document_ = this.win_.document;\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    /** @const @private {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(this.win_);\n\n    /** @private {?Element} */\n    this.hintContainer_ = null;\n\n    /** @private {?(number|string)} */\n    this.hintTimeout_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n  }\n\n  /**\n   * Builds the hint layer DOM.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    const root = this.document_.createElement('div');\n    this.hintContainer_ = renderAsElement(this.document_, TEMPLATE);\n    createShadowRootWithStyle(root, this.hintContainer_, CSS);\n\n    this.vsync_.mutate(() => {\n      this.parentEl_.appendChild(root);\n    });\n  }\n\n  /**\n   * Whether the component is built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * Shows the given hint, only if not desktop.\n   * @param {string} hintClass\n   * @private\n   */\n  showHint_(hintClass) {\n    if (this.storeService_.get(StateProperty.DESKTOP_STATE)) {\n      return;\n    }\n\n    this.build();\n\n    this.vsync_.mutate(() => {\n      this.hintContainer_.classList.toggle(NAVIGATION_OVERLAY_CLASS,\n          hintClass == NAVIGATION_OVERLAY_CLASS);\n      this.hintContainer_.classList.toggle(FIRST_PAGE_OVERLAY_CLASS,\n          hintClass == FIRST_PAGE_OVERLAY_CLASS);\n      this.hintContainer_.classList.remove('i-amphtml-hidden');\n\n      const hideTimeout = hintClass == NAVIGATION_OVERLAY_CLASS\n        ? NAVIGATION_OVERLAY_TIMEOUT : FIRST_PAGE_NAVIGATION_OVERLAY_TIMEOUT;\n      this.hideAfterTimeout(hideTimeout);\n    });\n\n  }\n\n  /**\n   * Show navigation overlay DOM.\n   */\n  showNavigationOverlay() {\n    // Don't show the overlay if the share menu is open.\n    if (this.storeService_.get(StateProperty.SHARE_MENU_STATE)) {\n      return;\n    }\n\n    this.showHint_(NAVIGATION_OVERLAY_CLASS);\n  }\n\n  /**\n   * Show navigation overlay DOM.\n   */\n  showFirstPageHintOverlay() {\n    this.showHint_(FIRST_PAGE_OVERLAY_CLASS);\n  }\n\n  /**\n   * Hides the overlay after a given time\n   * @param {number} timeout\n   */\n  hideAfterTimeout(timeout) {\n    this.hintTimeout_ = this.timer_.delay(\n        () => this.hideInternal_(), timeout);\n  }\n\n  /**\n   * Hide all navigation hints.\n   */\n  hideAllNavigationHint() {\n    this.hideInternal_();\n\n    if (this.hintTimeout_ !== null) {\n      this.timer_.cancel(this.hintTimeout_);\n      this.hintTimeout_ = null;\n    }\n  }\n\n  /** @private */\n  hideInternal_() {\n    if (!this.isBuilt()) {\n      return;\n    }\n\n    this.vsync_.mutate(() => {\n      this.hintContainer_.classList.add('i-amphtml-hidden');\n    });\n  }\n}\n\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Action, StateProperty} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-info-dialog-0.1.css';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {assertAbsoluteHttpOrHttpsUrl} from '../../../src/url';\nimport {closest} from '../../../src/dom';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev} from '../../../src/log';\nimport {getAmpdoc} from '../../../src/service';\nimport {htmlFor} from '../../../src/static-template';\n\n/** @const {string} Class to toggle the info dialog. */\nexport const DIALOG_VISIBLE_CLASS = 'i-amphtml-story-info-dialog-visible';\n\n/** @const {string} Class to toggle the info dialog link. */\nexport const MOREINFO_VISIBLE_CLASS = 'i-amphtml-story-info-moreinfo-visible';\n\n/**\n * A dialog that provides a link to the canonical URL of the story, as well as\n * a link to any more information that the viewer would like to provide about\n * linking on that platform.\n */\nexport class InfoDialog {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl Element where to append the component\n   */\n  constructor(win, parentEl) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.element_ = null;\n\n    /** @private {?Element} */\n    this.innerContainerEl_ = null;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private @const {!./localization.LocalizationService} */\n    this.localizationService_ = Services.localizationServiceV01(this.win_);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n\n    /** @private @const {!../../../src/service/resources-impl.Resources} */\n    this.resources_ = Services.resourcesForDoc(getAmpdoc(this.win_.document));\n\n    /** @private {?Element} */\n    this.moreInfoLinkEl_ = null;\n\n    /** @const @private {!../../../src/service/viewer-impl.Viewer} */\n    this.viewer_ = Services.viewerForDoc(this.parentEl_);\n  }\n\n  /**\n   * Builds and appends the component in the story.\n   * @return {!Promise} used for testing to ensure that the component is built\n   *     before assertions.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return Promise.resolve();\n    }\n\n    this.isBuilt_ = true;\n    const root = this.win_.document.createElement('div');\n    const html = htmlFor(this.parentEl_);\n    this.element_ = html`\n        <div class=\"i-amphtml-story-info-dialog i-amphtml-story-system-reset\">\n          <div class=\"i-amphtml-story-info-dialog-container\">\n            <h1 class=\"i-amphtml-story-info-heading\"></h1>\n            <a class=\"i-amphtml-story-info-link\"></a>\n            <a class=\"i-amphtml-story-info-moreinfo\"></a>\n          </div>\n        </div>`;\n\n    createShadowRootWithStyle(root, this.element_, CSS);\n    this.initializeListeners_();\n\n    this.innerContainerEl_ = this.element_\n        .querySelector('.i-amphtml-story-info-dialog-container');\n\n    const appendPromise = this.resources_.mutateElement(this.parentEl_, () => {\n      this.parentEl_.appendChild(root);\n    });\n\n    const pageUrl = Services.documentInfoForDoc(\n        getAmpdoc(this.parentEl_)).canonicalUrl;\n\n    return Promise.all([\n      appendPromise,\n      this.setHeading_(),\n      this.setPageLink_(pageUrl),\n      this.requestMoreInfoLink_()\n          .then(moreInfoUrl => this.setMoreInfoLinkUrl_(moreInfoUrl)),\n    ]);\n  }\n\n  /**\n   * Whether the element has been built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.INFO_DIALOG_STATE, isOpen => {\n      this.onInfoDialogStateUpdated_(isOpen);\n    });\n\n    this.element_.addEventListener(\n        'click', event => this.onInfoDialogClick_(event));\n  }\n\n  /**\n   * Reacts to menu state updates and decides whether to show either the native\n   * system sharing, or the fallback UI.\n   * @param {boolean} isOpen\n   * @private\n   */\n  onInfoDialogStateUpdated_(isOpen) {\n    this.resources_.mutateElement(dev().assertElement(this.element_), () => {\n      this.element_.classList.toggle(DIALOG_VISIBLE_CLASS, isOpen);\n    });\n  }\n\n  /**\n   * Handles click events and maybe closes the dialog.\n   * @param  {!Event} event\n   */\n  onInfoDialogClick_(event) {\n    const el = dev().assertElement(event.target);\n    // Closes the dialog if click happened outside of the dialog main container.\n    if (!closest(el, el => el === this.innerContainerEl_, this.element_)) {\n      this.close_();\n    }\n  }\n\n  /**\n   * Closes the info dialog.\n   * @private\n   */\n  close_() {\n    this.storeService_.dispatch(Action.TOGGLE_INFO_DIALOG, false);\n  }\n\n  /**\n   * @return {!Promise<?string>} The URL to visit to receive more info on this\n   *     page.\n   * @private\n   */\n  requestMoreInfoLink_() {\n    const messagingPromise = this.viewer_.whenMessagingReady();\n\n    if (!messagingPromise) {\n      // There is no viewer to supply the more info URL.\n      return Promise.resolve();\n    }\n\n    return messagingPromise\n        .then(() => {\n          return this.viewer_./*OK*/sendMessageAwaitResponse('moreInfoLinkUrl',\n              /* data */ undefined);\n        })\n        .then(moreInfoUrl => {\n          if (!moreInfoUrl) {\n            return null;\n          }\n\n          return assertAbsoluteHttpOrHttpsUrl(dev().assertString(moreInfoUrl));\n        });\n  }\n\n  /**\n   * Sets the heading on the dialog.\n   */\n  setHeading_() {\n    const label = this.localizationService_.getLocalizedString(\n        LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL);\n    const headingEl = dev().assertElement(\n        this.element_.querySelector('.i-amphtml-story-info-heading'));\n\n    return this.resources_.mutateElement(headingEl, () => {\n      headingEl.textContent = label;\n    });\n  }\n\n  /**\n   * @param {string} pageUrl The URL to the canonical version of the current\n   *     document.\n   */\n  setPageLink_(pageUrl) {\n    const linkEl = dev().assertElement(\n        this.element_.querySelector('.i-amphtml-story-info-link'));\n\n    return this.resources_.mutateElement(linkEl, () => {\n      linkEl.setAttribute('href', pageUrl);\n\n      // Add zero-width space character (\\u200B) after \".\" and \"/\" characters\n      // to help line-breaks occur more naturally.\n      linkEl.textContent = pageUrl.replace(/([/.]+)/gi, '$1\\u200B');\n    });\n  }\n\n  /**\n   * @param {?string} moreInfoUrl The URL to the \"more info\" page, if there is\n   * one.\n   */\n  setMoreInfoLinkUrl_(moreInfoUrl) {\n    if (!moreInfoUrl) {\n      return Promise.resolve();\n    }\n\n    this.moreInfoLinkEl_ = dev().assertElement(\n        this.element_.querySelector('.i-amphtml-story-info-moreinfo'));\n\n    return this.resources_.mutateElement(this.moreInfoLinkEl_, () => {\n      const label = this.localizationService_.getLocalizedString(\n          LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK);\n      this.moreInfoLinkEl_.classList.add(MOREINFO_VISIBLE_CLASS);\n      this.moreInfoLinkEl_.setAttribute('href',\n          dev().assertString(moreInfoUrl));\n      this.moreInfoLinkEl_.setAttribute('target', '_blank');\n      this.moreInfoLinkEl_.textContent = label;\n    });\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Embeds a story\n *\n * Example:\n * <code>\n * <amp-story-page>\n * </amp-story>\n * </code>\n */\nimport {AdvancementConfig} from './page-advancement';\nimport {\n  AnimationManager,\n  hasAnimations,\n} from './animation';\nimport {Deferred} from '../../../src/utils/promise';\nimport {EventType, dispatch, dispatchCustom} from './events';\nimport {Layout} from '../../../src/layout';\nimport {LoadingSpinner} from './loading-spinner';\nimport {MediaPool} from './media-pool';\nimport {PageScalingService} from './page-scaling';\nimport {Services} from '../../../src/services';\nimport {VideoServiceSync} from '../../../src/service/video-service-sync-impl';\nimport {\n  closestBySelector,\n  matches,\n  scopedQuerySelectorAll,\n} from '../../../src/dom';\nimport {debounce} from '../../../src/utils/rate-limit';\nimport {dev} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {getLogEntries} from './logging';\nimport {getMode} from '../../../src/mode';\nimport {listen} from '../../../src/event-helper';\nimport {toArray} from '../../../src/types';\nimport {upgradeBackgroundAudio} from './audio';\n\n/**\n * CSS class for an amp-story-page that indicates the entire page is loaded.\n * @const {string}\n */\nconst PAGE_LOADED_CLASS_NAME = 'i-amphtml-story-page-loaded';\n\n\n/**\n * Selector for which media to wait for on page layout.\n * @const {string}\n */\nconst PAGE_MEDIA_SELECTOR = 'amp-audio, amp-video, amp-img, amp-anim';\n\n\n/** @private @const {string} */\nconst TAG = 'amp-story-page';\n\n/** @private @const {string} */\nconst ADVERTISEMENT_ATTR_NAME = 'ad';\n\n\n/**\n * The <amp-story-page> custom element, which represents a single page of\n * an <amp-story>.\n */\nexport class AmpStoryPage extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @private {?AnimationManager} */\n    this.animationManager_ = null;\n\n    /** @private @const {!AdvancementConfig} */\n    this.advancement_ = AdvancementConfig.forPage(this);\n\n    /** @private {?LoadingSpinner} */\n    this.loadingSpinner_ = null;\n\n    /** @private @const {!Promise} */\n    this.mediaLayoutPromise_ = this.waitForMediaLayout_();\n\n    /** @private @const {!Promise} */\n    this.pageLoadPromise_ = this.mediaLayoutPromise_.then(() => {\n      this.markPageAsLoaded_();\n    });\n\n    const deferred = new Deferred();\n\n    /** @private @const {!Promise<!MediaPool>} */\n    this.mediaPoolPromise_ = deferred.promise;\n\n    /** @private @const {!function(!MediaPool)} */\n    this.mediaPoolResolveFn_ = deferred.resolve;\n\n    /** @private @const {!function(*)} */\n    this.mediaPoolRejectFn_ = deferred.reject;\n\n    /** @private @const {boolean} Only prerender the first story page. */\n    this.prerenderAllowed_ = matches(this.element,\n        'amp-story-page:first-of-type');\n\n    /** @const @private {!function(boolean)} */\n    this.debounceToggleLoadingSpinner_ = debounce(\n        this.win, isActive => this.toggleLoadingSpinner_(!!isActive), 100);\n\n    /** @private {!Array<function()>} */\n    this.unlisteners_ = [];\n\n    /**\n     * Whether the user agent matches a bot.  This is used to prevent resource\n     * optimizations that make the document less useful at crawl time, e.g.\n     * removing sources from videos.\n     * @private @const {boolean}\n     */\n    this.isBotUserAgent_ = Services.platformFor(this.win).isBot();\n  }\n\n\n  /**\n   * @private\n   */\n  maybeCreateAnimationManager_() {\n    if (!this.animationManager_) {\n      if (!hasAnimations(this.element)) {\n        return;\n      }\n\n      this.animationManager_ = AnimationManager.create(\n          this.element, this.getAmpDoc(), this.getAmpDoc().getUrl());\n    }\n  }\n\n\n  /** @override */\n  buildCallback() {\n    upgradeBackgroundAudio(this.element);\n    this.delegateVideoAutoplay();\n    this.markMediaElementsWithPreload_();\n    this.initializeMediaPool_();\n    this.maybeCreateAnimationManager_();\n    this.advancement_.addPreviousListener(() => this.previous());\n    this.advancement_\n        .addAdvanceListener(() => this.next(/* opt_isAutomaticAdvance */ true));\n    this.advancement_.addOnTapNavigationListener(\n        navigationDirection => this.navigateOnTap(navigationDirection));\n    this.advancement_\n        .addProgressListener(progress => this.emitProgress_(progress));\n  }\n\n\n  /**\n   * Delegates video autoplay so the video manager does not follow the\n   * autoplay attribute that may have been set by a publisher, which could\n   * play videos from an inactive page.\n   */\n  delegateVideoAutoplay() {\n    const videos = this.element.querySelectorAll('amp-video');\n    if (videos.length < 1) {\n      return;\n    }\n    toArray(videos).forEach(el => {\n      VideoServiceSync.delegateAutoplay(/** @type {!AmpElement} */ (el));\n    });\n  }\n\n\n  /** @private */\n  initializeMediaPool_() {\n    const storyEl = dev().assertElement(\n        closestBySelector(this.element, 'amp-story'),\n        'amp-story-page must be a descendant of amp-story.');\n\n    storyEl.getImpl()\n        .then(storyImpl => {\n          this.mediaPoolResolveFn_(MediaPool.for(storyImpl));\n        }, reason => this.mediaPoolRejectFn_(reason));\n  }\n\n\n  /**\n   * Marks any AMP elements that represent media elements with preload=\"auto\".\n   * @private\n   */\n  markMediaElementsWithPreload_() {\n    const mediaSet = this.element.querySelectorAll('amp-audio, amp-video');\n    Array.prototype.forEach.call(mediaSet, mediaItem => {\n      mediaItem.setAttribute('preload', 'auto');\n    });\n  }\n\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.CONTAINER;\n  }\n\n\n  /** @override */\n  pauseCallback() {\n    this.advancement_.stop();\n\n    this.stopListeningToVideoEvents_();\n    this.pauseAllMedia_(true /* rewindToBeginning */);\n\n    if (this.animationManager_) {\n      this.animationManager_.cancelAll();\n    }\n  }\n\n\n  /** @override */\n  resumeCallback() {\n    this.registerAllMedia_();\n\n    if (this.isActive()) {\n      this.advancement_.start();\n      this.maybeStartAnimations();\n      this.preloadAllMedia_()\n          .then(() => this.startListeningToVideoEvents_())\n          .then(() => this.playAllMedia_());\n    }\n\n    this.reportDevModeErrors_();\n  }\n\n\n  /** @override */\n  layoutCallback() {\n    this.muteAllMedia();\n\n    return Promise.all([\n      this.beforeVisible(),\n      this.mediaLayoutPromise_,\n      this.mediaPoolPromise_,\n    ]);\n  }\n\n\n  /** @return {!Promise} */\n  beforeVisible() {\n    return this.scale_().then(() => this.maybeApplyFirstAnimationFrame());\n  }\n\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  waitForMediaLayout_() {\n    const mediaSet = scopedQuerySelectorAll(this.element, PAGE_MEDIA_SELECTOR);\n    const mediaPromises = Array.prototype.map.call(mediaSet, mediaEl => {\n      return new Promise(resolve => {\n        switch (mediaEl.tagName.toLowerCase()) {\n          case 'amp-img':\n          case 'amp-anim':\n            mediaEl.addEventListener('load', resolve, true /* useCapture */);\n            break;\n          case 'amp-audio':\n          case 'amp-video':\n            if (mediaEl.readyState >= 2) {\n              resolve();\n              return;\n            }\n\n            mediaEl.addEventListener('canplay', resolve, true /* useCapture */);\n            break;\n          default:\n            // Any other tags should not block loading.\n            resolve();\n        }\n\n        // We suppress errors so that Promise.all will still wait for all\n        // promises to complete, even if one has failed.  We do nothing with the\n        // error, as the resource itself and/or code that loads it should handle\n        // the error.\n        mediaEl.addEventListener('error', resolve, true /* useCapture */);\n      });\n    });\n\n    return Promise.all(mediaPromises);\n  }\n\n\n  /** @return {!Promise} */\n  whenLoaded() {\n    return this.pageLoadPromise_;\n  }\n\n\n  /** @private */\n  markPageAsLoaded_() {\n    dispatch(this.element, EventType.PAGE_LOADED, true);\n    this.mutateElement(() => {\n      this.element.classList.add(PAGE_LOADED_CLASS_NAME);\n    });\n  }\n\n\n  /** @override */\n  prerenderAllowed() {\n    return this.prerenderAllowed_;\n  }\n\n\n  /**\n   * Gets all media elements on this page.\n   * @return {!NodeList<!Element>}\n   * @private\n   */\n  getAllMedia_() {\n    return this.element.querySelectorAll('audio, video');\n  }\n\n\n  /**\n   * Gets all video elements on this page.\n   * @return {!NodeList<!Element>}\n   * @private\n   */\n  getAllVideos_() {\n    return this.element.querySelectorAll('video');\n  }\n\n\n  /**\n   * Applies the specified callback to each media element on the page, after the\n   * media element is loaded.\n   * @param {!function(!./media-pool.MediaPool, !Element)} callbackFn The\n   *     callback to be applied to each media element.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   */\n  whenAllMediaElements_(callbackFn) {\n    const mediaSet = this.getAllMedia_();\n    return this.mediaPoolPromise_.then(mediaPool => {\n      const promises = Array.prototype.map.call(mediaSet, mediaEl => {\n        return callbackFn(mediaPool, mediaEl);\n      });\n\n      return Promise.all(promises);\n    });\n  }\n\n\n  /**\n   * Pauses all media on this page.\n   * @param {boolean=} rewindToBeginning Whether to rewind the currentTime\n   *     of media items to the beginning.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  pauseAllMedia_(rewindToBeginning = false) {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.pause();\n      } else {\n        return mediaPool.pause(\n            /** @type {!HTMLMediaElement} */ (mediaEl), rewindToBeginning);\n      }\n    });\n  }\n\n\n  /**\n   * Plays all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  playAllMedia_() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.play();\n      } else {\n        return mediaPool.play(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Preloads all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  preloadAllMedia_() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        // No-op.\n      } else {\n        return mediaPool.preload(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Mutes all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   */\n  muteAllMedia() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.muted = true;\n        mediaEl.setAttribute('muted', '');\n      } else {\n        return mediaPool.mute(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Unmutes all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   */\n  unmuteAllMedia() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.muted = false;\n        mediaEl.removeAttribute('muted');\n      } else {\n        return mediaPool.unmute(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Registers all media on this page\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  registerAllMedia_() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        // No-op.\n      } else {\n        return mediaPool.register(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Starts playing animations, if the animation manager is available.\n   */\n  maybeStartAnimations() {\n    if (!this.animationManager_) {\n      return;\n    }\n    this.animationManager_.animateIn();\n  }\n\n\n  /**\n   * @return {!Promise}\n   */\n  maybeApplyFirstAnimationFrame() {\n    if (!this.animationManager_) {\n      return Promise.resolve();\n    }\n    return this.animationManager_.applyFirstFrame();\n  }\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  scale_() {\n    const storyEl = dev().assertElement(this.element.parentNode);\n    return PageScalingService.for(storyEl).scale(this.element);\n  }\n\n  /**\n   * @param {boolean} isActive\n   */\n  setActive(isActive) {\n    if (isActive) {\n      this.element.setAttribute('active', '');\n      this.beforeVisible();\n      this.resumeCallback();\n    } else {\n      this.element.removeAttribute('active');\n      this.pauseCallback();\n    }\n  }\n\n\n  /**\n   * @return {number} The distance from the current page to the active page.\n   */\n  getDistance() {\n    return parseInt(this.element.getAttribute('distance'), 10);\n  }\n\n\n  /**\n   * @param {number} distance The distance from the current page to the active\n   *     page.\n   */\n  setDistance(distance) {\n    // TODO(ccordry) refactor this when pages are managed\n    if (this.isAd()) {\n      distance = Math.min(distance, 2);\n    }\n\n    this.element.setAttribute('distance', distance);\n    this.registerAllMedia_();\n    if (distance > 0 && distance <= 2) {\n      this.preloadAllMedia_();\n      this.scale_();\n    }\n  }\n\n\n  /**\n   * @return {boolean} Whether this page is currently active.\n   */\n  isActive() {\n    return this.element.hasAttribute('active');\n  }\n\n  /**\n   * Emits an event indicating that the progress of the current page has changed\n   * to the specified value.\n   * @param {number} progress The progress from 0.0 to 1.0.\n   */\n  emitProgress_(progress) {\n    const payload = dict({\n      'pageId': this.element.id,\n      'progress': progress,\n    });\n    const eventInit = {bubbles: true};\n    dispatchCustom(this.win, this.element, EventType.PAGE_PROGRESS, payload,\n        eventInit);\n  }\n\n\n  /**\n   * Returns all of the pages that are one hop from this page.\n   * @return {!Array<string>}\n   */\n  getAdjacentPageIds() {\n    const adjacentPageIds = [];\n\n    const autoAdvanceNext =\n        this.getNextPageId(true /* opt_isAutomaticAdvance */);\n    const manualAdvanceNext =\n        this.getNextPageId(false /* opt_isAutomaticAdvance */);\n    const previous = this.getPreviousPageId_();\n\n    if (autoAdvanceNext) {\n      adjacentPageIds.push(autoAdvanceNext);\n    }\n\n    if (manualAdvanceNext && manualAdvanceNext != autoAdvanceNext) {\n      adjacentPageIds.push(manualAdvanceNext);\n    }\n\n    if (previous) {\n      adjacentPageIds.push(previous);\n    }\n\n    return adjacentPageIds;\n  }\n\n\n  /**\n   * Gets the ID of the previous page in the story (before the current page).\n   * @return {?string} Returns the ID of the next page in the story, or null if\n   *     there isn't one.\n   * @private\n   */\n  getPreviousPageId_() {\n    if (this.element.hasAttribute('i-amphtml-return-to')) {\n      return this.element.getAttribute('i-amphtml-return-to');\n    }\n\n    const previousElement = this.element.previousElementSibling;\n    if (previousElement && previousElement.tagName.toLowerCase() === TAG) {\n      return previousElement.id;\n    }\n\n    return null;\n  }\n\n\n  /**\n   * Gets the ID of the next page in the story (after the current page).\n   * @param {boolean=} opt_isAutomaticAdvance Whether this navigation was caused\n   *     by an automatic advancement after a timeout.\n   * @return {?string} Returns the ID of the next page in the story, or null if\n   *     there isn't one.\n   */\n  getNextPageId(opt_isAutomaticAdvance) {\n    if (opt_isAutomaticAdvance &&\n        this.element.hasAttribute('auto-advance-to')) {\n      return this.element.getAttribute('auto-advance-to');\n    }\n\n    if (this.element.hasAttribute('i-amphtml-advance-to')) {\n      return this.element.getAttribute('i-amphtml-advance-to');\n    }\n\n    const nextElement = this.element.nextElementSibling;\n    if (nextElement && nextElement.tagName.toLowerCase() === TAG) {\n      return nextElement.id;\n    }\n\n    return null;\n  }\n\n\n  /**\n   * Navigates to the previous page in the story.\n   */\n  previous() {\n    const targetPageId = this.getPreviousPageId_();\n\n    if (targetPageId === null) {\n      dispatch(this.element, EventType.SHOW_NO_PREVIOUS_PAGE_HELP, true);\n      return;\n    }\n\n    this.switchTo_(targetPageId);\n  }\n\n\n  /**\n   * Navigates to the next page in the story.\n   * @param {boolean=} opt_isAutomaticAdvance Whether this navigation was caused\n   *     by an automatic advancement after a timeout.\n   */\n  next(opt_isAutomaticAdvance) {\n    const pageId = this.getNextPageId(opt_isAutomaticAdvance);\n\n    if (!pageId) {\n      return;\n    }\n\n    this.switchTo_(pageId);\n  }\n\n  /**\n   * Delegated the navigation decision to AMP-STORY via event.\n   * @param {number} direction The direction in which navigation needs to takes place.\n   */\n  navigateOnTap(direction) {\n    const payload = dict({'direction': direction});\n    const eventInit = {bubbles: true};\n    dispatchCustom(this.win, this.element, EventType.TAP_NAVIGATION, payload,\n        eventInit);\n  }\n\n\n  /**\n   * @param {string} targetPageId\n   * @private\n   */\n  switchTo_(targetPageId) {\n    const payload = dict({'targetPageId': targetPageId});\n    const eventInit = {bubbles: true};\n    dispatchCustom(this.win, this.element, EventType.SWITCH_PAGE, payload,\n        eventInit);\n  }\n\n\n  /**\n   * @private\n   */\n  reportDevModeErrors_() {\n    if (!getMode().development) {\n      return;\n    }\n\n    getLogEntries(this.element).then(logEntries => {\n      dispatchCustom(this.win, this.element,\n          EventType.DEV_LOG_ENTRIES_AVAILABLE,\n          // ? is OK because all consumers are internal.\n          /** @type {?} */ (logEntries), {bubbles: true});\n    });\n  }\n\n\n  /**\n   * Displays a loading spinner whenever the video is buffering.\n   * Has to be called after the mediaPool preload method, that swaps the video\n   * elements with new amp elements.\n   * @private\n   */\n  startListeningToVideoEvents_() {\n    const videos = this.getAllVideos_();\n\n    if (videos.length === 0) {\n      return;\n    }\n\n    this.debounceToggleLoadingSpinner_(true);\n    Array.prototype.forEach.call(videos, videoEl => {\n      this.unlisteners_.push(listen(\n          videoEl, 'playing', () => this.debounceToggleLoadingSpinner_(false)));\n      this.unlisteners_.push(listen(\n          videoEl, 'waiting', () => this.debounceToggleLoadingSpinner_(true)));\n    });\n  }\n\n\n  /**\n   * @private\n   */\n  stopListeningToVideoEvents_() {\n    this.debounceToggleLoadingSpinner_(false);\n    this.unlisteners_.forEach(unlisten => unlisten());\n    this.unlisteners_ = [];\n  }\n\n\n  /**\n   * @private\n   */\n  buildAndAppendLoadingSpinner_() {\n    this.loadingSpinner_ = new LoadingSpinner(this.win.document);\n    this.element.appendChild(this.loadingSpinner_.build());\n  }\n\n\n  /**\n   * Has to be called through the `debounceToggleLoadingSpinner_` method, to\n   * avoid the spinner flashing on the screen when the video loops, or during\n   * navigation transitions.\n   * Builds the loading spinner and attaches it to the DOM on first call.\n   * @param {boolean} isActive\n   * @private\n   */\n  toggleLoadingSpinner_(isActive) {\n    this.getVsync().mutate(() => {\n      if (!this.loadingSpinner_) {\n        this.buildAndAppendLoadingSpinner_();\n      }\n\n      this.loadingSpinner_.toggle(isActive);\n    });\n  }\n\n\n  /**\n   * check to see if this page is a wrapper for an ad\n   * @return {boolean}\n   */\n  isAd() {\n    return this.element.hasAttribute(ADVERTISEMENT_ATTR_NAME);\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../../src/services';\nimport {getAmpdoc} from '../../../src/service';\nimport {once} from '../../../src/utils/function';\nimport {user} from '../../../src/log';\n\n/** @private @const {string} */\nexport const BOOKEND_CONFIG_ATTRIBUTE_NAME = 'bookend-config-src';\n\n\n/**\n * Service to send XHRs.\n */\nexport class AmpStoryRequestService {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyElement\n   */\n  constructor(win, storyElement) {\n    /** @private @const {!Element} */\n    this.storyElement_ = storyElement;\n\n    /** @private @const {!../../../src/service/xhr-impl.Xhr} */\n    this.xhr_ = Services.xhrFor(win);\n\n    /** @const @type {function():(!Promise<!JsonObject>|!Promise<null>)} */\n    this.loadBookendConfig = once(() => this.loadBookendConfigImpl_());\n  }\n\n  /**\n   * Retrieves the publisher bookend configuration, including the share\n   * providers.\n   * Has to be called through `loadBookendConfig`.\n   * @return {(!Promise<!JsonObject>|!Promise<null>)}\n   * @private\n   */\n  loadBookendConfigImpl_() {\n    return this.loadJsonFromAttribute_(BOOKEND_CONFIG_ATTRIBUTE_NAME);\n  }\n\n  /**\n   * @param {string} attributeName\n   * @return {(!Promise<!JsonObject>|!Promise<null>)}\n   * @private\n   */\n  loadJsonFromAttribute_(attributeName) {\n    if (!this.storyElement_.hasAttribute(attributeName)) {\n      return Promise.resolve(null);\n    }\n\n    const rawUrl = this.storyElement_.getAttribute(attributeName);\n    const opts = {};\n    opts.requireAmpResponseSourceOrigin = false;\n\n    return Services.urlReplacementsForDoc(getAmpdoc(this.storyElement_))\n        .expandUrlAsync(user().assertString(rawUrl))\n        .then(url => this.xhr_.fetchJson(url, opts))\n        .then(response => {\n          user().assert(response.ok, 'Invalid HTTP response');\n          return response.json();\n        });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Action, StateProperty} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-share-menu-0.1.css';\nimport {Services} from '../../../src/services';\nimport {ShareWidget} from './amp-story-share';\nimport {closest} from '../../../src/dom';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {getAmpdoc} from '../../../src/service';\nimport {renderAsElement} from './simple-template';\nimport {setStyle} from '../../../src/style';\n\n\n/** @const {string} Class to toggle the share menu. */\nexport const VISIBLE_CLASS = 'i-amphtml-story-share-menu-visible';\n\n/** @const {string} Class for the share widget component container. */\nconst SHARE_WIDGET_CONTAINER_CLASS = 'i-amphtml-story-share-menu-container';\n\n/**\n * Quick share template, used as a fallback if native sharing is not supported.\n * @private @const {!./simple-template.ElementDef}\n */\nconst TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-share-menu i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': SHARE_WIDGET_CONTAINER_CLASS}),\n      children: [],\n    },\n  ],\n};\n\n/**\n * System amp-social-share button template.\n * @private @const {!./simple-template.ElementDef}\n */\nconst AMP_SOCIAL_SYSTEM_SHARE_TEMPLATE = {\n  tag: 'amp-social-share',\n  attrs: /** @type {!JsonObject} */ (dict({'type': 'system'})),\n};\n\n\n/**\n * Share menu UI.\n */\nexport class ShareMenu {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl Element where to append the component\n   */\n  constructor(win, parentEl) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.element_ = null;\n\n    /** @private {?Element} */\n    this.innerContainerEl_ = null;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {boolean} */\n    this.isSystemShareSupported_ = false;\n\n    /** @private @const {!ShareWidget} */\n    this.shareWidget_ = ShareWidget.create(this.win_);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n  }\n\n  /**\n   * Builds and appends the component in the story. Could build either the\n   * amp-social-share button to display the native system sharing, or a fallback\n   * UI.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    this.isSystemShareSupported_ =\n        this.shareWidget_.isSystemShareSupported(getAmpdoc(this.parentEl_));\n\n    this.isSystemShareSupported_ ?\n      this.buildForSystemSharing_() :\n      this.buildForFallbackSharing_();\n  }\n\n  /**\n   * Whether the element has been built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * Builds a hidden amp-social-share button that triggers the native system\n   * sharing UI.\n   * @private\n   */\n  buildForSystemSharing_() {\n    this.shareWidget_.loadRequiredExtensions(getAmpdoc(this.parentEl_));\n    this.element_ =\n        renderAsElement(this.win_.document, AMP_SOCIAL_SYSTEM_SHARE_TEMPLATE);\n\n    this.initializeListeners_();\n\n    this.vsync_.mutate(() => {\n      setStyle(this.element_, 'display', 'none');\n      this.parentEl_.appendChild(this.element_);\n    });\n  }\n\n  /**\n   * Builds and appends the fallback UI.\n   * @private\n   */\n  buildForFallbackSharing_() {\n    const root = this.win_.document.createElement('div');\n\n    this.element_ = renderAsElement(this.win_.document, TEMPLATE);\n    createShadowRootWithStyle(root, this.element_, CSS);\n\n    this.initializeListeners_();\n\n    this.vsync_.run({\n      measure: () => {\n        this.innerContainerEl_ =\n            this.element_\n                ./*OK*/querySelector(`.${SHARE_WIDGET_CONTAINER_CLASS}`);\n      },\n      mutate: () => {\n        this.parentEl_.appendChild(root);\n        // Preloads and renders the share widget content.\n        const shareWidget = this.shareWidget_.build(getAmpdoc(this.parentEl_));\n        this.innerContainerEl_.appendChild(shareWidget);\n      },\n    });\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.SHARE_MENU_STATE, isOpen => {\n      this.onShareMenuStateUpdate_(isOpen);\n    });\n\n    // Don't listen to click events if the system share is supported, since the\n    // native layer handles all the UI interactions.\n    if (!this.isSystemShareSupported_) {\n      this.element_.addEventListener(\n          'click', event => this.onShareMenuClick_(event));\n    }\n  }\n\n  /**\n   * Reacts to menu state updates and decides whether to show either the native\n   * system sharing, or the fallback UI.\n   * @param {boolean} isOpen\n   * @private\n   */\n  onShareMenuStateUpdate_(isOpen) {\n    if (this.isSystemShareSupported_ && isOpen) {\n      // Dispatches a click event on the amp-social-share button to trigger the\n      // native system sharing UI. This has to be done upon user interaction.\n      this.element_.dispatchEvent(new Event('click'));\n\n      // There is no way to know when the user dismisses the native system share\n      // menu, so we pretend it is closed on the story end, and let the native\n      // end handle the UI interactions.\n      this.close_();\n    }\n\n    if (!this.isSystemShareSupported_) {\n      this.vsync_.mutate(() => {\n        this.element_.classList.toggle(VISIBLE_CLASS, isOpen);\n      });\n    }\n  }\n\n  /**\n   * Handles click events and maybe closes the menu for the fallback UI.\n   * @param  {!Event} event\n   */\n  onShareMenuClick_(event) {\n    const el = dev().assertElement(event.target);\n    // Closes the menu if click happened outside of the menu main container.\n    if (!closest(el, el => el === this.innerContainerEl_, this.element_)) {\n      this.close_();\n    }\n  }\n\n  /**\n   * Closes the share menu.\n   * @private\n   */\n  close_() {\n    this.storeService_.dispatch(Action.TOGGLE_SHARE_MENU, false);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {Toast} from './toast';\nimport {\n  copyTextToClipboard,\n  isCopyingToClipboardSupported,\n} from '../../../src/clipboard';\nimport {dev, user} from '../../../src/log';\nimport {dict, map} from './../../../src/utils/object';\nimport {isObject} from '../../../src/types';\nimport {listen} from '../../../src/event-helper';\nimport {px, setImportantStyles} from '../../../src/style';\nimport {renderAsElement, renderSimpleTemplate} from './simple-template';\nimport {throttle} from '../../../src/utils/rate-limit';\n\n\n/**\n * Maps share provider type to visible name.\n * If the name only needs to be capitalized (e.g. `facebook` to `Facebook`) it\n * does not need to be included here.\n * @const {!Object<string, !LocalizedStringId>}\n */\nconst SHARE_PROVIDER_LOCALIZED_STRING_ID = map({\n  'system': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM,\n  'email': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL,\n  'facebook': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK,\n  'linkedin': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN,\n  'pinterest': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST,\n  'gplus': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS,\n  'tumblr': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR,\n  'twitter': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER,\n  'whatsapp': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP,\n  'sms': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS,\n});\n\n\n/**\n * Default left/right padding for share buttons.\n * @private @const {number}\n */\nconst DEFAULT_BUTTON_PADDING = 16;\n\n/**\n * Minimum left/right padding for share buttons.\n * @private @const {number}\n */\nconst MIN_BUTTON_PADDING = 10;\n\n/**\n * Key for share providers in bookend config.\n * @private @const {string}\n */\nexport const SHARE_PROVIDERS_KEY = 'shareProviders';\n\n/**\n * Deprecated key for share providers in bookend config.\n * @private @const {string}\n */\nexport const DEPRECATED_SHARE_PROVIDERS_KEY = 'share-providers';\n\n/** @private @const {!./simple-template.ElementDef} */\nconst TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-share-widget'}),\n  children: [{\n    tag: 'ul',\n    attrs: dict({'class': 'i-amphtml-story-share-list'}),\n    children: [\n      {\n        tag: 'li',\n        attrs: dict({'class': 'i-amphtml-story-share-system'}),\n      },\n    ],\n  }],\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst SHARE_ITEM_TEMPLATE = {\n  tag: 'li',\n  attrs: dict({'class': 'i-amphtml-story-share-item'}),\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst LINK_SHARE_ITEM_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class':\n        'i-amphtml-story-share-icon i-amphtml-story-share-icon-link',\n  }),\n  localizedStringId: LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK,\n};\n\n\n/** @private @const {string} */\nconst SCROLLABLE_CLASSNAME = 'i-amphtml-story-share-widget-scrollable';\n\n\n/**\n * @param {!JsonObject=} opt_params\n * @return {!JsonObject}\n */\nfunction buildProviderParams(opt_params) {\n  const attrs = dict();\n\n  if (opt_params) {\n    Object.keys(opt_params).forEach(field => {\n      attrs[`data-param-${field}`] = opt_params[field];\n    });\n  }\n\n  return attrs;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} shareType\n * @param {!JsonObject=} opt_params\n * @return {!Node}\n */\nfunction buildProvider(doc, shareType, opt_params) {\n  const shareProviderLocalizedStringId = dev().assert(\n      SHARE_PROVIDER_LOCALIZED_STRING_ID[shareType],\n      `No localized string to display name for share type ${shareType}.`);\n\n  return renderSimpleTemplate(doc,\n      /** @type {!Array<!./simple-template.ElementDef>} */ ([\n        {\n          tag: 'amp-social-share',\n          attrs: /** @type {!JsonObject} */ (Object.assign(\n              dict({\n                'width': 48,\n                'height': 66,\n                'class': 'i-amphtml-story-share-icon',\n                'type': shareType,\n              }),\n              buildProviderParams(opt_params))),\n          localizedStringId: shareProviderLocalizedStringId,\n        },\n      ]));\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} url\n * @return {!Element}\n */\nfunction buildCopySuccessfulToast(doc, url) {\n  return renderAsElement(doc, /** @type {!./simple-template.ElementDef} */ ({\n    tag: 'div',\n    attrs: dict({'class': 'i-amphtml-story-copy-successful'}),\n    children: [\n      {\n        tag: 'div',\n        localizedStringId:\n            LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT,\n      },\n      {\n        tag: 'div',\n        attrs: dict({'class': 'i-amphtml-story-copy-url'}),\n        unlocalizedString: url,\n      },\n    ],\n  }));\n}\n\n\n/**\n * Social share widget for story bookend.\n */\nexport class ShareWidget {\n  /** @param {!Window} win */\n  constructor(win) {\n    /** @private {?../../../src/service/ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = null;\n\n    /** @protected @const {!Window} */\n    this.win = win;\n\n    /** @protected {?Element} */\n    this.root = null;\n\n    /** @private {?Promise<?./localization.LocalizationService>} */\n    this.localizationServicePromise_ = null;\n\n    /** @private @const {!./amp-story-request-service.AmpStoryRequestService} */\n    this.requestService_ = Services.storyRequestServiceV01(this.win);\n  }\n\n  /** @param {!Window} win */\n  static create(win) {\n    return new ShareWidget(win);\n  }\n\n  /**\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   * @return {!Element}\n   */\n  build(ampdoc) {\n    dev().assert(!this.root, 'Already built.');\n\n    this.ampdoc_ = ampdoc;\n    this.localizationServicePromise_ =\n        Services.localizationServiceForOrNullV01(this.win);\n\n    this.root = renderAsElement(this.win.document, TEMPLATE);\n\n    this.loadProviders();\n    this.maybeAddLinkShareButton_();\n    this.maybeAddSystemShareButton_();\n\n    return this.root;\n  }\n\n  /**\n   * @return {!../../../src/service/ampdoc-impl.AmpDoc}\n   * @private\n   */\n  getAmpDoc_() {\n    return /** @type {!../../../src/service/ampdoc-impl.AmpDoc} */ (\n      dev().assert(this.ampdoc_));\n  }\n\n  /** @private */\n  maybeAddLinkShareButton_() {\n    if (!isCopyingToClipboardSupported(this.win.document)) {\n      return;\n    }\n\n    const linkShareButton =\n        renderAsElement(this.win.document, LINK_SHARE_ITEM_TEMPLATE);\n\n    this.add_(linkShareButton);\n\n    // TODO(alanorozco): Listen for proper tap event (i.e. fastclick)\n    listen(linkShareButton, 'click', e => {\n      e.preventDefault();\n      this.copyUrlToClipboard_();\n    });\n  }\n\n  /** @private */\n  copyUrlToClipboard_() {\n    const url = Services.documentInfoForDoc(this.getAmpDoc_()).canonicalUrl;\n\n    if (!copyTextToClipboard(this.win, url)) {\n      this.localizationServicePromise_.then(localizationService => {\n        dev().assert(localizationService,\n            'Could not retrieve LocalizationService.');\n        const failureString = localizationService.getLocalizedString(\n            LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT);\n        Toast.show(this.win, failureString);\n      });\n      return;\n    }\n\n    Toast.show(this.win, buildCopySuccessfulToast(this.win.document, url));\n  }\n\n  /** @private */\n  maybeAddSystemShareButton_() {\n    if (!this.isSystemShareSupported()) {\n      // `amp-social-share` will hide `system` buttons when not supported, but\n      // we also need to avoid adding it for rendering reasons.\n      return;\n    }\n\n    const container = dev().assertElement(this.root).querySelector(\n        '.i-amphtml-story-share-system');\n\n    this.loadRequiredExtensions();\n\n    container.appendChild(buildProvider(this.win.document, 'system'));\n  }\n\n  /**\n   * NOTE(alanorozco): This is a duplicate of the logic in the\n   * `amp-social-share` component.\n   * @param  {!../../../src/service/ampdoc-impl.AmpDoc=}  ampdoc\n   * @return {boolean} Whether the browser supports native system sharing.\n   */\n  isSystemShareSupported(ampdoc = this.getAmpDoc_()) {\n    const viewer = Services.viewerForDoc(ampdoc);\n\n    const platform = Services.platformFor(this.win);\n\n    // Chrome exports navigator.share in WebView but does not implement it.\n    // See https://bugs.chromium.org/p/chromium/issues/detail?id=765923\n    const isChromeWebview = viewer.isWebviewEmbedded() && platform.isChrome();\n\n    return ('share' in navigator) && !isChromeWebview;\n  }\n\n  /**\n   * Loads and applies the share providers configured by the publisher.\n   * @protected\n   */\n  loadProviders() {\n    this.loadRequiredExtensions();\n\n    this.requestService_.loadBookendConfig().then(config => {\n      const providers = config && (config[SHARE_PROVIDERS_KEY] ||\n        config[DEPRECATED_SHARE_PROVIDERS_KEY]);\n      if (!providers) {\n        return;\n      }\n      this.setProviders_(providers);\n    });\n  }\n\n  /**\n   * @param {!Array<!JsonObject|string>} providers\n   * @return {!Object<string, !JsonObject>} providers\n   */\n  parseProvidersToClassicApi(providers) {\n    const providersMap = {};\n\n    providers.forEach(currentProvider => {\n      if (isObject(currentProvider) &&\n          currentProvider['provider'] == 'facebook') {\n        providersMap['facebook'] = ({'app_id': currentProvider['app_id']});\n      } else if (isObject(currentProvider)) {\n        providersMap[currentProvider['provider']] = true;\n      } else {\n        providersMap[currentProvider] = true;\n      }\n    });\n\n    return providersMap;\n  }\n\n  /**\n   * @param {!Object<string, (!JsonObject|boolean)>} providers\n   * @private\n   * TODO(alanorozco): Set story metadata in share config.\n   */\n  setProviders_(providers) {\n    if (Array.isArray(providers)) {\n      providers = this.parseProvidersToClassicApi(providers);\n    }\n\n    Object.keys(providers).forEach(type => {\n      if (type == 'system') {\n        user().warn('AMP-STORY',\n            '`system` is not a valid share provider type. Native sharing is ' +\n            'enabled by default and cannot be turned off.',\n            type);\n        return;\n      }\n\n      if (isObject(providers[type])) {\n        this.add_(buildProvider(this.win.document, type,\n            /** @type {!JsonObject} */ (providers[type])));\n        return;\n      }\n\n      // Bookend config API requires real boolean, not just truthy\n      if (providers[type] === true) {\n        this.add_(buildProvider(this.win.document, type));\n        return;\n      }\n\n      user().warn('AMP-STORY',\n          `Invalid share providers configuration for \"${type}\" in bookend. ` +\n          'Value must be `true` or a params object.');\n    });\n  }\n\n  /**\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc=} ampdoc\n   */\n  loadRequiredExtensions(ampdoc = this.getAmpDoc_()) {\n    Services.extensionsFor(this.win)\n        .installExtensionForDoc(ampdoc, 'amp-social-share');\n  }\n\n  /**\n   * @param {!Node} node\n   * @private\n   */\n  add_(node) {\n    const list = dev().assert(this.root).firstElementChild;\n    const item = renderAsElement(this.win.document, SHARE_ITEM_TEMPLATE);\n\n    item.appendChild(node);\n\n    // `lastElementChild` is the system share button container, which should\n    // always be last in list\n    list.insertBefore(item, list.lastElementChild);\n  }\n}\n\n\n/**\n * Social share widget for story bookend with a scrollable layout.\n * This class is coupled to the DOM structure for ShareWidget, but that's ok.\n */\nexport class ScrollableShareWidget extends ShareWidget {\n  /** @param {!Window} win */\n  constructor(win) {\n    super(win);\n\n    /** @private @const {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /**\n     * Container width is being tracked to prevent unnecessary layout\n     * calculations.\n     * @private {?number}\n     */\n    this.containerWidth_ = null;\n  }\n\n  /** @param {!Window} win */\n  static create(win) {\n    return new ScrollableShareWidget(win);\n  }\n\n  /**\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   * @return {!Element}\n   */\n  build(ampdoc) {\n    super.build(ampdoc);\n\n    this.root.classList.add(SCROLLABLE_CLASSNAME);\n\n    Services.viewportForDoc(ampdoc).onResize(\n        // we don't require a lot of smoothness here, so we throttle\n        throttle(this.win, () => this.applyButtonPadding_(), 100));\n\n    return this.root;\n  }\n\n  /**\n   * Calculates padding between buttons so that the result is that there's\n   * always one item visually \"cut off\" for scroll affordance.\n   * @private\n   */\n  applyButtonPadding_() {\n    const items = this.getVisibleItems_();\n\n    if (!items.length) {\n      return;\n    }\n\n    this.vsync_.run({\n      measure: state => {\n        const containerWidth = this.root./*OK*/clientWidth;\n\n        if (containerWidth == this.containerWidth_) {\n          // Don't recalculate if width has not changed (i.e. onscreen keyboard)\n          state.noop = true;\n          return;\n        }\n\n        const icon = dev().assert(items[0].firstElementChild);\n\n        const leftMargin = icon./*OK*/offsetLeft - this.root./*OK*/offsetLeft;\n        const iconWidth = icon./*OK*/offsetWidth;\n\n        // Total width that the buttons will occupy with minimum padding.\n        const totalItemWidth =\n            (iconWidth * items.length) + ((2 * MIN_BUTTON_PADDING) *\n                (items.length - 1));\n\n        // If buttons don't fit within the available area, calculate padding so\n        // that there will be an element cut-off.\n        if (totalItemWidth > (containerWidth - (leftMargin * 2))) {\n          const availableWidth = containerWidth - leftMargin - (iconWidth / 2);\n          const amountVisible =\n              Math.floor(\n                  availableWidth / (iconWidth + (MIN_BUTTON_PADDING * 2)));\n\n          state.padding = 0.5 * ((availableWidth / amountVisible) - iconWidth);\n        } else {\n          // Otherwise, calculate padding in from MIN_PADDING to DEFAULT_PADDING\n          // so that all elements fit and take as much area as possible.\n          const totalPadding =\n              ((containerWidth - (leftMargin * 2)) -\n              (iconWidth * items.length)) / (items.length - 1);\n\n          state.padding = Math.min(DEFAULT_BUTTON_PADDING, 0.5 * totalPadding);\n        }\n\n        this.containerWidth_ = containerWidth;\n      },\n      mutate: state => {\n        if (state.noop) {\n          return;\n        }\n        items.forEach((el, i) => {\n          if (i != 0) {\n            setImportantStyles(el, {'padding-left': px(state.padding)});\n          }\n          if (i != items.length - 1) {\n            setImportantStyles(el, {'padding-right': px(state.padding)});\n          }\n        });\n      },\n    }, {});\n  }\n\n  /**\n   * @return {!Array<!Element>}\n   * @private\n   */\n  getVisibleItems_() {\n    return Array.prototype.filter.call(\n        dev().assertElement(this.root).querySelectorAll('li'),\n        el => !!el.firstElementChild);\n  }\n\n  /**\n   * Loads and applies the share providers configured by the publisher.\n   * @protected\n   */\n  loadProviders() {\n    super.loadProviders();\n    this.applyButtonPadding_();\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {EmbedMode, parseEmbedMode} from './embed-mode';\nimport {Observable} from '../../../src/observable';\nimport {dev} from '../../../src/log';\nimport {hasOwn} from '../../../src/utils/object';\n\n\n/** @type {string} */\nconst TAG = 'amp-story';\n\n\n/**\n * @typedef {{\n *    caninsertautomaticad: boolean,\n *    canshowbookend: boolean,\n *    canshownavigationoverlayhint: boolean,\n *    canshowpreviouspagehelp: boolean,\n *    canshowsharinguis: boolean,\n *    canshowsystemlayerbuttons: boolean,\n *    adstate: boolean,\n *    bookendstate: boolean,\n *    desktopstate: boolean,\n *    infodialogstate: boolean,\n *    hasaudiostate: boolean,\n *    landscapestate: boolean,\n *    mutedstate: boolean,\n *    sharemenustate: boolean,\n *    supportedbrowserstate: boolean,\n *    consentid: ?string,\n *    currentpageid: string,\n * }}\n */\nexport let State;\n\n\n/** @private @const @enum {string} */\nexport const StateProperty = {\n  // Embed options.\n  CAN_INSERT_AUTOMATIC_AD: 'caninsertautomaticad',\n  CAN_SHOW_BOOKEND: 'canshowbookend',\n  CAN_SHOW_NAVIGATION_OVERLAY_HINT: 'canshownavigationoverlayhint',\n  CAN_SHOW_PREVIOUS_PAGE_HELP: 'canshowpreviouspagehelp',\n  CAN_SHOW_SHARING_UIS: 'canshowsharinguis',\n  CAN_SHOW_SYSTEM_LAYER_BUTTONS: 'canshowsystemlayerbuttons',\n\n  // App States.\n  AD_STATE: 'adstate',\n  BOOKEND_STATE: 'bookendstate',\n  DESKTOP_STATE: 'desktopstate',\n  HAS_AUDIO_STATE: 'hasaudiostate',\n  INFO_DIALOG_STATE: 'infodialogstate',\n  LANDSCAPE_STATE: 'landscapestate',\n  MUTED_STATE: 'mutedstate',\n  SHARE_MENU_STATE: 'sharemenustate',\n  SUPPORTED_BROWSER_STATE: 'supportedbrowserstate',\n\n  // App data.\n  CONSENT_ID: 'consentid',\n  CURRENT_PAGE_ID: 'currentpageid',\n  CURRENT_PAGE_INDEX: 'currentpageindex',\n};\n\n\n/** @private @const @enum {string} */\nexport const Action = {\n  CHANGE_PAGE: 'changepage',\n  SET_CONSENT_ID: 'setconsentid',\n  TOGGLE_AD: 'togglead',\n  TOGGLE_BOOKEND: 'togglebookend',\n  TOGGLE_DESKTOP: 'toggledesktop',\n  TOGGLE_INFO_DIALOG: 'toggleinfodialog',\n  TOGGLE_HAS_AUDIO: 'togglehasaudio',\n  TOGGLE_LANDSCAPE: 'togglelandscape',\n  TOGGLE_MUTED: 'togglemuted',\n  TOGGLE_SHARE_MENU: 'togglesharemenu',\n  TOGGLE_SUPPORTED_BROWSER: 'togglesupportedbrowser',\n};\n\n\n/**\n * Returns the new sate.\n * @param  {!State} state Immutable state\n * @param  {!Action} action\n * @param  {*} data\n * @return {!State} new state\n */\nconst actions = (state, action, data) => {\n  switch (action) {\n    // Triggers the ad UI.\n    case Action.TOGGLE_AD:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.AD_STATE]: !!data}));\n    // Shows or hides the bookend.\n    case Action.TOGGLE_BOOKEND:\n      if (!state[StateProperty.CAN_SHOW_BOOKEND]) {\n        return state;\n      }\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.BOOKEND_STATE]: !!data}));\n    // Triggers the desktop UI.\n    case Action.TOGGLE_DESKTOP:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.DESKTOP_STATE]: !!data}));\n    // Shows or hides the info dialog.\n    case Action.TOGGLE_INFO_DIALOG:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.INFO_DIALOG_STATE]: !!data}));\n    // Shows or hides the audio controls.\n    case Action.TOGGLE_HAS_AUDIO:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.HAS_AUDIO_STATE]: !!data}));\n    case Action.TOGGLE_LANDSCAPE:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.LANDSCAPE_STATE]: !!data}));\n    // Mutes or unmutes the story media.\n    case Action.TOGGLE_MUTED:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.MUTED_STATE]: !!data}));\n    case Action.TOGGLE_SUPPORTED_BROWSER:\n      if (data) {\n        dev().error(TAG, 'Cannot exit unsupported browser state.');\n      }\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            [StateProperty.CAN_INSERT_AUTOMATIC_AD]: false,\n            [StateProperty.CAN_SHOW_BOOKEND]: false,\n            [StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT]: false,\n            [StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP]: false,\n            [StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS]: false,\n            [StateProperty.BOOKEND_STATE]: false,\n            [StateProperty.DESKTOP_STATE]: false,\n            [StateProperty.HAS_AUDIO_STATE]: false,\n            [StateProperty.MUTED_STATE]: true,\n            [StateProperty.SUPPORTED_BROWSER_STATE]: false,\n          }));\n    case Action.TOGGLE_SHARE_MENU:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.SHARE_MENU_STATE]: !!data}));\n    case Action.SET_CONSENT_ID:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.CONSENT_ID]: data}));\n    case Action.CHANGE_PAGE:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            [StateProperty.CURRENT_PAGE_ID]: data.id,\n            [StateProperty.CURRENT_PAGE_INDEX]: data.index,\n          }));\n    default:\n      dev().error(TAG, `Unknown action ${action}.`);\n      return state;\n  }\n};\n\n\n/**\n * Store service.\n */\nexport class AmpStoryStoreService {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {!Object<string, !Observable>} */\n    this.listeners_ = {};\n\n    /** @private {!State} */\n    this.state_ = /** @type {!State} */ (Object.assign(\n        {}, this.getDefaultState_(), this.getEmbedOverrides_()));\n  }\n\n  /**\n   * Retrieves a state property.\n   * @param  {string} key Property to retrieve from the state.\n   * @return {*}\n   */\n  get(key) {\n    if (!hasOwn(this.state_, key)) {\n      dev().error(TAG, `Unknown state ${key}.`);\n      return;\n    }\n    return this.state_[key];\n  }\n\n  /**\n   * Subscribes to a state property mutations.\n   * @param  {string} key\n   * @param  {!Function} listener\n   * @param  {boolean=} callToInitialize Whether the listener should be\n   *                                     triggered with current value.\n   */\n  subscribe(key, listener, callToInitialize = false) {\n    if (!hasOwn(this.state_, key)) {\n      dev().error(TAG, `Can't subscribe to unknown state ${key}.`);\n      return;\n    }\n    if (!this.listeners_[key]) {\n      this.listeners_[key] = new Observable();\n    }\n    this.listeners_[key].add(listener);\n\n    if (callToInitialize) {\n      listener(this.get(key));\n    }\n  }\n\n  /**\n   * Dispatches an action and triggers the listeners for the updated state\n   * properties.\n   * @param  {!Action} action\n   * @param  {*} data\n   */\n  dispatch(action, data) {\n    const oldState = Object.assign({}, this.state_);\n    this.state_ = actions(this.state_, action, data);\n\n    Object.keys(this.listeners_).forEach(key => {\n      if (oldState[key] !== this.state_[key]) {\n        this.listeners_[key].fire(this.state_[key]);\n      }\n    });\n  }\n\n  /**\n   * Retrieves the default state, that could be overriden by an embed mode.\n   * @return {!State}\n   * @private\n   */\n  getDefaultState_() {\n    // Compiler won't resolve the object keys and trigger an error for missing\n    // properties, so we have to force the type.\n    return /** @type {!State} */ ({\n      [StateProperty.CAN_INSERT_AUTOMATIC_AD]: true,\n      [StateProperty.CAN_SHOW_BOOKEND]: true,\n      [StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT]: true,\n      [StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP]: true,\n      [StateProperty.CAN_SHOW_SHARING_UIS]: true,\n      [StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS]: true,\n      [StateProperty.AD_STATE]: false,\n      [StateProperty.BOOKEND_STATE]: false,\n      [StateProperty.DESKTOP_STATE]: false,\n      [StateProperty.INFO_DIALOG_STATE]: false,\n      [StateProperty.HAS_AUDIO_STATE]: false,\n      [StateProperty.LANDSCAPE_STATE]: false,\n      [StateProperty.MUTED_STATE]: true,\n      [StateProperty.SHARE_MENU_STATE]: false,\n      [StateProperty.SUPPORTED_BROWSER_STATE]: true,\n      [StateProperty.CONSENT_ID]: null,\n      [StateProperty.CURRENT_PAGE_ID]: '',\n      [StateProperty.CURRENT_PAGE_INDEX]: 0,\n    });\n  }\n\n  // @TODO(gmajoulet): These should get their own file if they start growing.\n  /**\n   * Retrieves the embed mode config, that will override the default state.\n   * @return {!Object<StateProperty, *>} Partial state\n   * @private\n   */\n  getEmbedOverrides_() {\n    const embedMode = parseEmbedMode(this.win_.location.hash);\n    switch (embedMode) {\n      case EmbedMode.NAME_TBD:\n        return {\n          [StateProperty.CAN_INSERT_AUTOMATIC_AD]: false,\n          [StateProperty.CAN_SHOW_BOOKEND]: false,\n          [StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT]: false,\n          [StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP]: true,\n          [StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS]: false,\n          [StateProperty.MUTED_STATE]: false,\n        };\n      case EmbedMode.NO_SHARING:\n        return {\n          [StateProperty.CAN_SHOW_SHARING_UIS]: false,\n        };\n      default:\n        return {};\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Action, StateProperty} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-system-layer-0.1.css';\nimport {DevelopmentModeLog, DevelopmentModeLogButtonSet} from './development-ui';\nimport {ProgressBar} from './progress-bar';\nimport {Services} from '../../../src/services';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {getMode} from '../../../src/mode';\nimport {matches} from '../../../src/dom';\nimport {renderAsElement} from './simple-template';\n\n\n\n/** @private @const {string} */\nconst AUDIO_MUTED_ATTRIBUTE = 'muted';\n\n/** @private @const {string} */\nconst MUTE_CLASS = 'i-amphtml-story-mute-audio-control';\n\n/** @private @const {string} */\nconst UNMUTE_CLASS = 'i-amphtml-story-unmute-audio-control';\n\n/** @private @const {string} */\nconst SHARE_CLASS = 'i-amphtml-story-share-control';\n\n/** @private @const {string} */\nconst INFO_CLASS = 'i-amphtml-story-info-control';\n\n/** @private @const {!./simple-template.ElementDef} */\nconst TEMPLATE = {\n  tag: 'aside',\n  attrs: dict(\n      {'class': 'i-amphtml-story-system-layer i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-system-layer-buttons'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': INFO_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': UNMUTE_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': MUTE_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': SHARE_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * System Layer (i.e. UI Chrome) for <amp-story>.\n * Chrome contains:\n *   - mute/unmute button\n *   - story progress bar\n *   - bookend close butotn\n */\nexport class SystemLayer {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /**\n     * Root element containing a shadow DOM root.\n     * @private {?Element}\n     */\n    this.root_ = null;\n\n    /**\n     * Actual system layer.\n     * @private {?Element}\n     */\n    this.systemLayerEl_ = null;\n\n    /** @private {?Element} */\n    this.buttonsContainer_ = null;\n\n    /** @private @const {!ProgressBar} */\n    this.progressBar_ = ProgressBar.create(win);\n\n    /** @private {!DevelopmentModeLog} */\n    this.developerLog_ = DevelopmentModeLog.create(win);\n\n    /** @private {!DevelopmentModeLogButtonSet} */\n    this.developerButtons_ = DevelopmentModeLogButtonSet.create(win);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n  }\n\n  /**\n   * @param {!Array<string>} pageIds the ids of each page in the story\n   * @return {!Element}\n   */\n  build(pageIds) {\n    if (this.isBuilt_) {\n      return this.getRoot();\n    }\n\n    this.isBuilt_ = true;\n\n    this.root_ = this.win_.document.createElement('div');\n    this.systemLayerEl_ = renderAsElement(this.win_.document, TEMPLATE);\n\n    createShadowRootWithStyle(this.root_, this.systemLayerEl_, CSS);\n\n    this.systemLayerEl_.insertBefore(\n        this.progressBar_.build(pageIds), this.systemLayerEl_.lastChild);\n\n    this.buttonsContainer_ =\n        this.systemLayerEl_.querySelector(\n            '.i-amphtml-story-system-layer-buttons');\n\n    this.buildForDevelopmentMode_();\n\n    this.initializeListeners_();\n\n    // TODO(newmuis): Observe this value.\n    if (!this.storeService_.get(StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS)) {\n      this.systemLayerEl_.classList.add('i-amphtml-story-ui-no-buttons');\n    }\n\n    if (Services.platformFor(this.win_).isIos()) {\n      this.systemLayerEl_.setAttribute('ios', '');\n    }\n\n    if (Services.viewerForDoc(this.win_.document.documentElement)\n        .isEmbedded()) {\n      this.systemLayerEl_.classList.add('i-amphtml-embedded');\n    }\n\n    return this.getRoot();\n  }\n\n  /**\n   * @private\n   */\n  buildForDevelopmentMode_() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.buttonsContainer_.appendChild(this.developerButtons_.build(\n        this.developerLog_.toggle.bind(this.developerLog_)));\n    this.getShadowRoot().appendChild(this.developerLog_.build());\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    // TODO(alanorozco): Listen to tap event properly (i.e. fastclick)\n    this.getShadowRoot().addEventListener('click', event => {\n      const target = dev().assertElement(event.target);\n\n      if (matches(target, `.${MUTE_CLASS}, .${MUTE_CLASS} *`)) {\n        this.onMuteAudioClick_();\n      } else if (matches(target, `.${UNMUTE_CLASS}, .${UNMUTE_CLASS} *`)) {\n        this.onUnmuteAudioClick_();\n      } else if (matches(target, `.${SHARE_CLASS}, .${SHARE_CLASS} *`)) {\n        this.onShareClick_();\n      } else if (matches(target, `.${INFO_CLASS}, .${INFO_CLASS} *`)) {\n        this.onInfoClick_();\n      }\n    });\n\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      this.onBookendStateUpdate_(isActive);\n    });\n\n    this.storeService_.subscribe(StateProperty.CAN_SHOW_SHARING_UIS, show => {\n      this.onCanShowSharingUisUpdate_(show);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.DESKTOP_STATE, isDesktop => {\n      this.onDesktopStateUpdate_(isDesktop);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.HAS_AUDIO_STATE, hasAudio => {\n      this.onHasAudioStateUpdate_(hasAudio);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.MUTED_STATE, isMuted => {\n      this.onMutedStateUpdate_(isMuted);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.CURRENT_PAGE_INDEX, index => {\n      this.onPageIndexUpdate_(index);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  getRoot() {\n    return dev().assertElement(this.root_);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  getShadowRoot() {\n    return dev().assertElement(this.systemLayerEl_);\n  }\n\n  /**\n   * Reacts to the bookend state updates and updates the UI accordingly.\n   * @param {boolean} isActive\n   * @private\n   */\n  onBookendStateUpdate_(isActive) {\n    this.getShadowRoot()\n        .classList.toggle('i-amphtml-story-bookend-active', isActive);\n  }\n\n  /**\n   * Reacts to updates to whether sharing UIs may be shown, and updates the UI\n   * accordingly.\n   * @param {boolean} canShowSharingUis\n   * @private\n   */\n  onCanShowSharingUisUpdate_(canShowSharingUis) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot()\n          .classList.toggle('i-amphtml-story-no-sharing', !canShowSharingUis);\n    });\n  }\n\n  /**\n   * Reacts to desktop state updates and triggers the desktop UI.\n   * @param {boolean} isDesktop\n   * @private\n   */\n  onDesktopStateUpdate_(isDesktop) {\n    this.vsync_.mutate(() => {\n      isDesktop ?\n        this.getShadowRoot().setAttribute('desktop', '') :\n        this.getShadowRoot().removeAttribute('desktop');\n    });\n  }\n\n  /**\n   * Reacts to has audio state updates, displays the audio controls if needed.\n   * @param {boolean} hasAudio\n   * @private\n   */\n  onHasAudioStateUpdate_(hasAudio) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot().classList.toggle('audio-playing', hasAudio);\n    });\n  }\n\n  /**\n   * Reacts to muted state updates.\n   * @param {boolean} isMuted\n   * @private\n   */\n  onMutedStateUpdate_(isMuted) {\n    this.vsync_.mutate(() => {\n      isMuted ?\n        this.getShadowRoot().setAttribute(AUDIO_MUTED_ATTRIBUTE, '') :\n        this.getShadowRoot().removeAttribute(AUDIO_MUTED_ATTRIBUTE);\n    });\n  }\n\n  /**\n   * Reacts to the active page index changing.\n   * @param {number} index\n   */\n  onPageIndexUpdate_(index) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot().classList.toggle('first-page-active', index === 0);\n    });\n  }\n\n  /**\n   * Handles click events on the mute button.\n   * @private\n   */\n  onMuteAudioClick_() {\n    this.storeService_.dispatch(Action.TOGGLE_MUTED, true);\n  }\n\n  /**\n   * Handles click events on the unmute button.\n   * @private\n   */\n  onUnmuteAudioClick_() {\n    this.storeService_.dispatch(Action.TOGGLE_MUTED, false);\n  }\n\n  /**\n   * Handles click events on the share button and toggles the share menu.\n   * @private\n   */\n  onShareClick_() {\n    const isOpen = this.storeService_.get(StateProperty.SHARE_MENU_STATE);\n    this.storeService_.dispatch(Action.TOGGLE_SHARE_MENU, !isOpen);\n  }\n\n  /**\n   * Handles click events on the info button and toggles the info dialog.\n   * @private\n   */\n  onInfoClick_() {\n    const isOpen = this.storeService_.get(StateProperty.INFO_DIALOG_STATE);\n    this.storeService_.dispatch(Action.TOGGLE_INFO_DIALOG, !isOpen);\n  }\n\n  /**\n   * @param {string} pageId The page id of the new active page.\n   * @public\n   */\n  setActivePageId(pageId) {\n    // TODO(newmuis) avoid passing progress logic through system-layer\n    this.progressBar_.setActiveSegmentId(pageId);\n  }\n\n  /**\n   * @param {string} pageId The id of the page whose progress should be\n   *     changed.\n   * @param {number} progress A number from 0.0 to 1.0, representing the\n   *     progress of the current page.\n   * @public\n   */\n  updateProgress(pageId, progress) {\n    // TODO(newmuis) avoid passing progress logic through system-layer\n    this.progressBar_.updateProgress(pageId, progress);\n  }\n\n  /**\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry\n   * @private\n   */\n  logInternal_(logEntry) {\n    this.developerButtons_.log(logEntry);\n    this.developerLog_.log(logEntry);\n  }\n\n  /**\n   * Logs an array of entries to the developer logs.\n   * @param {!Array<!./logging.AmpStoryLogEntryDef>} logEntries\n   */\n  logAll(logEntries) {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.vsync_.mutate(() => {\n      logEntries.forEach(logEntry => this.logInternal_(logEntry));\n    });\n  }\n\n  /**\n   * Logs a single entry to the developer logs.\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry\n   */\n  log(logEntry) {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.logInternal_(logEntry);\n  }\n\n  /**\n   * Clears any state held by the developer log or buttons.\n   */\n  resetDeveloperLogs() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.developerButtons_.clear();\n    this.developerLog_.clear();\n  }\n\n  /**\n   * Sets the string providing context for the developer logs window.  This is\n   * often the name or ID of the element that all logs are for (e.g. the page).\n   * @param {string} contextString\n   */\n  setDeveloperLogContextString(contextString) {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.developerLog_.setContextString(contextString);\n  }\n\n  /**\n   * Hides the developer log in the UI.\n   */\n  hideDeveloperLog() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.developerLog_.hide();\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CSS} from '../../../build/amp-story-unsupported-browser-layer-0.1.css';\nimport {LocalizedStringId} from './localization';\nimport {createShadowRootWithStyle} from './utils';\nimport {dict} from './../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/**\n * Full viewport black layer indicating browser is not supported.\n * @private @const {!./simple-template.ElementDef}\n */\nconst UNSUPPORTED_BROWSER_LAYER_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-unsupported-browser-overlay'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-overlay-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-gear-icon'}),\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-overlay-text'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT,\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * Unsupported browser layer UI.\n */\nexport class UnsupportedBrowserLayer {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.root_ = null;\n  }\n\n  /**\n   * Builds and appends the component in the story.\n   */\n  build() {\n    if (this.root_) {\n      return this.root_;\n    }\n\n    this.root_ = this.win_.document.createElement('div');\n    const overlayEl =\n        renderAsElement(this.win_.document, UNSUPPORTED_BROWSER_LAYER_TEMPLATE);\n\n    createShadowRootWithStyle(this.root_, overlayEl, CSS);\n\n    return this.root_;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CSS} from '../../../build/amp-story-viewport-warning-layer-0.1.css';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {StateProperty} from './amp-story-store-service';\nimport {createShadowRootWithStyle} from './utils';\nimport {dict} from './../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/**\n * CSS class indicating the format is landscape.\n * @const {string}\n */\nconst LANDSCAPE_OVERLAY_CLASS = 'i-amphtml-story-landscape';\n\n\n/**\n * Full viewport layer advising the user to rotate his device. Mobile only.\n * @private @const {!./simple-template.ElementDef}\n */\nconst LANDSCAPE_ORIENTATION_WARNING_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-no-rotation-overlay ' +\n        'i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-overlay-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-rotate-icon'}),\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-overlay-text'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT,\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * Full viewport layer advising the user to expand his window. Only displayed\n * for small desktop viewports.\n * @private @const {!./simple-template.ElementDef}\n */\nconst DESKTOP_SIZE_WARNING_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-no-rotation-overlay ' +\n        'i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-overlay-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-desktop-size-icon'}),\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-overlay-text'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT,\n        },\n      ],\n    },\n  ],\n};\n\n\n\n/**\n * Viewport warning layer UI.\n */\nexport class ViewportWarningLayer {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyElement Element where to append the component\n   */\n  constructor(win, storyElement) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {?Element} */\n    this.overlayEl_ = null;\n\n    /** @private @const {!../../../src/service/platform-impl.Platform} */\n    this.platform_ = Services.platformFor(this.win_);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    /** @private @const {!Element} */\n    this.storyElement_ = storyElement;\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    this.initializeListeners_();\n  }\n\n  /**\n   * Builds and appends the component in the story.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    const root = this.win_.document.createElement('div');\n    this.overlayEl_ =\n        renderAsElement(\n            this.win_.document, this.getViewportWarningOverlayTemplate_());\n\n    createShadowRootWithStyle(root, this.overlayEl_, CSS);\n\n    // Initializes the desktop state now that the component is built.\n    this.onDesktopStateUpdate_(\n        !!this.storeService_.get(StateProperty.DESKTOP_STATE));\n\n    this.vsync_.mutate(() => {\n      this.storyElement_.insertBefore(root, this.storyElement_.firstChild);\n    });\n  }\n\n  /**\n   * Whether the element has been built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.DESKTOP_STATE, isDesktop => {\n      this.onDesktopStateUpdate_(isDesktop);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.LANDSCAPE_STATE, isLandscape => {\n      this.onLandscapeStateUpdate_(isLandscape);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * Reacts to the landscape state update, only on mobile.\n   * @param  {boolean} isLandscape\n   * @private\n   */\n  onLandscapeStateUpdate_(isLandscape) {\n    const isDesktop = this.storeService_.get(StateProperty.DESKTOP_STATE);\n\n    // Adds the landscape class if we are mobile landscape.\n    const shouldShowLandscapeOverlay = !isDesktop && isLandscape;\n\n    // Don't build the layer until we need to display it.\n    if (!shouldShowLandscapeOverlay && !this.isBuilt()) {\n      return;\n    }\n\n    this.build();\n\n    this.vsync_.mutate(() => {\n      this.overlayEl_\n          .classList.toggle(LANDSCAPE_OVERLAY_CLASS, !isDesktop && isLandscape);\n    });\n  }\n\n  /**\n   * Reacts to desktop state updates.\n   * @param {boolean} isDesktop\n   * @private\n   */\n  onDesktopStateUpdate_(isDesktop) {\n    if (!this.isBuilt()) {\n      return;\n    }\n\n    this.vsync_.mutate(() => {\n      isDesktop ?\n        this.overlayEl_.setAttribute('desktop', '') :\n        this.overlayEl_.removeAttribute('desktop');\n    });\n  }\n\n  /**\n   * Returns the overlay corresponding to the device currently used.\n   * @return {!./simple-template.ElementDef} template\n   * @private\n   */\n  getViewportWarningOverlayTemplate_() {\n    return (this.platform_.isIos() || this.platform_.isAndroid()) ?\n      LANDSCAPE_ORIENTATION_WARNING_TEMPLATE :\n      DESKTOP_SIZE_WARNING_TEMPLATE;\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Embeds a story\n *\n * Example:\n * <code>\n * <amp-story standalone>\n *   [...]\n * </amp-story>\n * </code>\n */\nimport './amp-story-cta-layer';\nimport './amp-story-grid-layer';\nimport './amp-story-page';\nimport {\n  Action,\n  AmpStoryStoreService,\n  StateProperty,\n} from './amp-story-store-service';\nimport {ActionTrust} from '../../../src/action-constants';\nimport {AmpStoryAnalytics} from './analytics';\nimport {AmpStoryBackground} from './background';\nimport {AmpStoryConsent} from './amp-story-consent';\nimport {AmpStoryCtaLayer} from './amp-story-cta-layer';\nimport {AmpStoryGridLayer} from './amp-story-grid-layer';\nimport {AmpStoryHint} from './amp-story-hint';\nimport {AmpStoryPage} from './amp-story-page';\nimport {AmpStoryRequestService} from './amp-story-request-service';\nimport {AmpStoryVariableService} from './variable-service';\nimport {Bookend} from './amp-story-bookend';\nimport {CSS} from '../../../build/amp-story-0.1.css';\nimport {CommonSignals} from '../../../src/common-signals';\nimport {\n  DoubletapRecognizer,\n  SwipeXYRecognizer,\n} from '../../../src/gesture-recognizers';\nimport {EventType, dispatch} from './events';\nimport {Gestures} from '../../../src/gesture';\nimport {InfoDialog} from './amp-story-info-dialog';\nimport {KeyCodes} from '../../../src/utils/key-codes';\nimport {Layout} from '../../../src/layout';\nimport {\n  LocalizationService,\n  LocalizedStringId,\n  createPseudoLocale,\n} from './localization';\nimport {MediaPool, MediaType} from './media-pool';\nimport {NavigationState} from './navigation-state';\nimport {ORIGIN_WHITELIST} from './origin-whitelist';\nimport {PaginationButtons} from './pagination-buttons';\nimport {Services} from '../../../src/services';\nimport {ShareMenu} from './amp-story-share-menu';\nimport {ShareWidget} from './amp-story-share';\nimport {SystemLayer} from './amp-story-system-layer';\nimport {TapNavigationDirection} from './page-advancement';\nimport {UnsupportedBrowserLayer} from './amp-story-unsupported-browser-layer';\nimport {ViewportWarningLayer} from './amp-story-viewport-warning-layer';\nimport {\n  childElement,\n  childElementByTag,\n  childElements,\n  closest,\n  escapeCssSelectorIdent,\n  matches,\n  removeElement,\n  scopedQuerySelectorAll,\n} from '../../../src/dom';\nimport {\n  computedStyle,\n  resetStyles,\n  setImportantStyles,\n  setStyle,\n} from '../../../src/style';\nimport {debounce} from '../../../src/utils/rate-limit';\nimport {dev, user} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {findIndex} from '../../../src/utils/array';\nimport {getDetail} from '../../../src/event-helper';\nimport {getMode} from '../../../src/mode';\nimport {getSourceOrigin, parseUrlDeprecated} from '../../../src/url';\nimport {isExperimentOn, toggleExperiment} from '../../../src/experiments';\nimport {registerServiceBuilder} from '../../../src/service';\nimport {renderSimpleTemplate} from './simple-template';\nimport {stringHash32} from '../../../src/string';\nimport {upgradeBackgroundAudio} from './audio';\nimport LocalizedStringsDefault from './_locales/default';\nimport LocalizedStringsEn from './_locales/en';\n\n/** @private @const {string} */\nconst PRE_ACTIVE_PAGE_ATTRIBUTE_NAME = 'pre-active';\n\n/** @private @const {string} */\nconst AMP_STORY_STANDALONE_ATTRIBUTE = 'standalone';\n\n/** @private @const {number} */\nconst DESKTOP_WIDTH_THRESHOLD = 1024;\n\n/** @private @const {number} */\nconst DESKTOP_HEIGHT_THRESHOLD = 550;\n\n/** @private @const {number} */\nconst MIN_SWIPE_FOR_HINT_OVERLAY_PX = 50;\n\n/** @private @const {string} */\nconst ADVANCE_TO_ATTR = 'i-amphtml-advance-to';\n\n/** @private @const {string} */\nconst RETURN_TO_ATTR = 'i-amphtml-return-to';\n\n/** @private @const {string} */\nconst AUTO_ADVANCE_TO_ATTR = 'auto-advance-to';\n\n/** @private @const {string} */\nconst AD_SHOWING_ATTR = 'ad-showing';\n\n/**\n * The duration of time (in milliseconds) to wait for a page to be loaded,\n * before the story becomes visible.\n * @const {number}\n */\nconst PAGE_LOAD_TIMEOUT_MS = 5000;\n\n\n/**\n * CSS class for an amp-story that indicates the initial load for the story has\n * completed.\n * @const {string}\n */\nconst STORY_LOADED_CLASS_NAME = 'i-amphtml-story-loaded';\n\n/** @const {!Object<string, number>} */\nconst MAX_MEDIA_ELEMENT_COUNTS = {\n  [MediaType.AUDIO]: 4,\n  [MediaType.VIDEO]: 8,\n};\n\n/** @type {string} */\nconst TAG = 'amp-story';\n\n\n/**\n * Container for \"pill-style\" share widget, rendered on desktop.\n * @private @const {!./simple-template.ElementDef}\n */\nconst SHARE_WIDGET_PILL_CONTAINER = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-share-pill'}),\n  children: [\n    {\n      tag: 'span',\n      attrs: dict({'class': 'i-amphtml-story-share-pill-label'}),\n      localizedStringId:\n          LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL,\n    },\n  ],\n};\n\n\n/**\n * Selector for elements that should be hidden when the bookend is open on\n * desktop view.\n * @private @const {string}\n */\nconst HIDE_ON_BOOKEND_SELECTOR =\n    'amp-story-page, .i-amphtml-story-system-layer';\n\n\n/**\n * @implements {./media-pool.MediaPoolRoot}\n */\nexport class AmpStory extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @private @const {!AmpStoryStoreService} */\n    this.storeService_ = new AmpStoryStoreService(this.win);\n    registerServiceBuilder(\n        this.win, 'story-store', () => this.storeService_);\n\n    /** @private @const {!AmpStoryRequestService} */\n    this.requestService_ = new AmpStoryRequestService(this.win, this.element);\n    registerServiceBuilder(\n        this.win, 'story-request-v01', () => this.requestService_);\n\n    /** @private {!NavigationState} */\n    this.navigationState_ =\n        new NavigationState(this.win, () => this.hasBookend_());\n\n    /** @private {!AmpStoryAnalytics} */\n    this.analytics_ = new AmpStoryAnalytics(this.win, this.element);\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = this.getVsync();\n\n    /** @private @const {!LocalizationService} */\n    this.localizationService_ = new LocalizationService(this.win);\n    this.localizationService_\n        .registerLocalizedStringBundle('default', LocalizedStringsDefault)\n        .registerLocalizedStringBundle('en', LocalizedStringsEn);\n\n    const enXaPseudoLocaleBundle =\n        createPseudoLocale(LocalizedStringsEn, s => `[${s} one two]`);\n    this.localizationService_\n        .registerLocalizedStringBundle('en-xa', enXaPseudoLocaleBundle);\n\n    registerServiceBuilder(\n        this.win, 'localization-v01', () => this.localizationService_);\n\n    /** @private @const {!Bookend} */\n    this.bookend_ = new Bookend(this.win, this.element);\n\n    /** @private @const {!ShareMenu} Preloads and prerenders the share menu. */\n    this.shareMenu_ = new ShareMenu(this.win, this.element);\n\n    /** @private @const {!SystemLayer} */\n    this.systemLayer_ = new SystemLayer(this.win);\n\n    /** @private @const {!UnsupportedBrowserLayer} */\n    this.unsupportedBrowserLayer_ = new UnsupportedBrowserLayer(this.win);\n\n    /** Instantiates the viewport warning layer. */\n    new ViewportWarningLayer(this.win, this.element);\n\n    /** @private @const {!Array<!./amp-story-page.AmpStoryPage>} */\n    this.pages_ = [];\n\n    /** @private @const {!Array<!./amp-story-page.AmpStoryPage>} */\n    this.adPages_ = [];\n\n    /** @const @private {!AmpStoryVariableService} */\n    this.variableService_ = new AmpStoryVariableService();\n    registerServiceBuilder(\n        this.win, 'story-variable', () => this.variableService_.get());\n\n    /** @private {?./amp-story-page.AmpStoryPage} */\n    this.activePage_ = null;\n\n    /** @private @const */\n    this.desktopMedia_ = this.win.matchMedia(\n        `(min-width: ${DESKTOP_WIDTH_THRESHOLD}px) and ` +\n        `(min-height: ${DESKTOP_HEIGHT_THRESHOLD}px)`);\n\n    /** @private @const */\n    this.canRotateToDesktopMedia_ = this.win.matchMedia(\n        `(min-width: ${DESKTOP_HEIGHT_THRESHOLD}px) and ` +\n        `(min-height: ${DESKTOP_WIDTH_THRESHOLD}px)`);\n\n    /** @private {?AmpStoryBackground} */\n    this.background_ = null;\n\n    /** @private {?HTMLMediaElement} */\n    this.backgroundAudioEl_ = null;\n\n    /** @private {?./pagination-buttons.PaginationButtons} */\n    this.paginationButtons_ = null;\n\n    /** @private {?Element} */\n    this.topBar_ = null;\n\n    /** @private {?ShareWidget} */\n    this.shareWidget_ = null;\n\n    /** @private @const {!Array<string>} */\n    this.originWhitelist_ = ORIGIN_WHITELIST;\n\n    /** @private {!AmpStoryHint} */\n    this.ampStoryHint_ = new AmpStoryHint(this.win, this.element);\n\n    /** @private {!MediaPool} */\n    this.mediaPool_ = MediaPool.for(this);\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(this.win);\n\n    /** @private @const {!../../../src/service/platform-impl.Platform} */\n    this.platform_ = Services.platformFor(this.win);\n  }\n\n\n  /** @override */\n  buildCallback() {\n    this.assertAmpStoryExperiment_();\n\n    if (this.element.hasAttribute(AMP_STORY_STANDALONE_ATTRIBUTE)) {\n      this.initializeStandaloneStory_();\n    }\n\n    this.element.querySelector('amp-story-page').setAttribute('active', '');\n\n    this.initializeListeners_();\n    this.initializeListenersForDev_();\n\n    if (this.isDesktop_()) {\n      this.storeService_.dispatch(Action.TOGGLE_DESKTOP, true);\n    }\n\n    this.navigationState_.observe(stateChangeEvent => {\n      this.variableService_.onNavigationStateChange(stateChangeEvent);\n      this.analytics_.onNavigationStateChange(stateChangeEvent);\n    });\n  }\n\n\n  /** @private */\n  initializeStandaloneStory_() {\n    const html = this.win.document.documentElement;\n    html.classList.add('i-amphtml-story-standalone');\n    // Lock body to prevent overflow.\n    this.lockBody_();\n    // Standalone CSS affects sizing of the entire page.\n    this.onResize();\n  }\n\n\n  /**\n   * Builds the system layer DOM.  This is dependent on the pages_ array having\n   * been initialized, so it cannot happen at build time.\n   * @private\n   */\n  buildSystemLayer_() {\n    const pageIds = this.pages_.map(page => page.element.id);\n    this.element.appendChild(this.systemLayer_.build(pageIds));\n    this.updateAudioIcon_();\n  }\n\n  /** @private */\n  initializeListeners_() {\n    this.element.addEventListener(EventType.NEXT_PAGE, () => {\n      this.next_();\n    });\n\n    this.element.addEventListener(EventType.PREVIOUS_PAGE, () => {\n      this.previous_();\n    });\n\n    this.storeService_.subscribe(StateProperty.MUTED_STATE, isMuted => {\n      this.onMutedStateUpdate_(isMuted);\n      this.variableService_.onMutedStateChange(isMuted);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.MUTED_STATE, isMuted => {\n      // We do not want to trigger an analytics event for the initialization of\n      // the muted state.\n      this.analytics_.onMutedStateChange(isMuted);\n    }, false /** callToInitialize */);\n\n    this.storeService_.subscribe(\n        StateProperty.SUPPORTED_BROWSER_STATE, isBrowserSupported => {\n          this.onSupportedBrowserStateUpdate_(isBrowserSupported);\n        });\n\n    this.element.addEventListener(EventType.SWITCH_PAGE, e => {\n      if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n        // Disallow switching pages while the bookend is active.\n        return;\n      }\n\n      this.switchTo_(getDetail(e)['targetPageId']);\n      this.ampStoryHint_.hideAllNavigationHint();\n    });\n\n    this.element.addEventListener(EventType.PAGE_PROGRESS, e => {\n      const detail = getDetail(e);\n      const pageId = detail['pageId'];\n      const progress = detail['progress'];\n\n      if (pageId !== this.activePage_.element.id) {\n        // Ignore progress update events from inactive pages.\n        return;\n      }\n\n      if (!this.activePage_.isAd()) {\n        this.systemLayer_.updateProgress(pageId, progress);\n      }\n    });\n\n    this.element.addEventListener(EventType.REPLAY, () => {\n      this.replay_();\n    });\n\n    this.element.addEventListener(EventType.SHOW_NO_PREVIOUS_PAGE_HELP, () => {\n      if (this.storeService_.get(StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP)) {\n        this.ampStoryHint_.showFirstPageHintOverlay();\n      }\n    });\n\n    this.element.addEventListener(EventType.TAP_NAVIGATION, e => {\n      const direction = getDetail(e)['direction'];\n      this.performTapNavigation_(direction);\n    });\n\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      this.onBookendStateUpdate_(isActive);\n    });\n\n    this.storeService_.subscribe(StateProperty.DESKTOP_STATE, isDesktop => {\n      this.onDesktopStateUpdate_(isDesktop);\n    }, true /** callToInitialize */);\n\n    this.win.document.addEventListener('keydown', e => {\n      this.onKeyDown_(e);\n    }, true);\n\n    this.storeService_.subscribe(StateProperty.CURRENT_PAGE_ID, pageId => {\n      this.onCurrentPageIdUpdate_(pageId);\n    });\n\n    this.getViewport().onResize(debounce(this.win, () => this.onResize(), 300));\n    this.installGestureRecognizers_();\n  }\n\n  /** @private */\n  installGestureRecognizers_() {\n    const {element} = this;\n    const gestures = Gestures.get(element, /* shouldNotPreventDefault */ true);\n\n    // Disables zoom on double-tap.\n    gestures.onGesture(DoubletapRecognizer, gesture => {\n      const {event} = gesture;\n      event.preventDefault();\n    });\n\n    // Shows \"tap to navigate\" hint when swiping.\n    gestures.onGesture(SwipeXYRecognizer, gesture => {\n      const {deltaX, deltaY} = gesture.data;\n      if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n        return;\n      }\n      if (!this.isSwipeLargeEnoughForHint_(deltaX, deltaY)) {\n        return;\n      }\n      if (!this.storeService_\n          .get(StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT)) {\n        return;\n      }\n\n      this.ampStoryHint_.showNavigationOverlay();\n    });\n  }\n\n  /**\n   * @param {number} deltaX\n   * @param {number} deltaY\n   * @return {boolean}\n   * @private\n   */\n  isSwipeLargeEnoughForHint_(deltaX, deltaY) {\n    const sideSwipe = Math.abs(deltaX) >= MIN_SWIPE_FOR_HINT_OVERLAY_PX;\n    const upSwipe = (-1 * deltaY) >= MIN_SWIPE_FOR_HINT_OVERLAY_PX;\n    return sideSwipe || upSwipe;\n  }\n\n  /** @private */\n  initializeListenersForDev_() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.element.addEventListener(EventType.DEV_LOG_ENTRIES_AVAILABLE, e => {\n      this.systemLayer_.logAll(/** @type {?} */ (getDetail(e)));\n    });\n  }\n\n  /** @private */\n  lockBody_() {\n    const {document} = this.win;\n    setImportantStyles(document.documentElement, {\n      'overflow': 'hidden',\n    });\n    setImportantStyles(document.body, {\n      'overflow': 'hidden',\n    });\n\n    this.getViewport().resetTouchZoom();\n    this.getViewport().disableTouchZoom();\n    this.maybeLockScreenOrientation_();\n  }\n\n\n  /** @private */\n  maybeLockScreenOrientation_() {\n    const {screen} = this.win;\n    if (!screen || !this.canRotateToDesktopMedia_.matches) {\n      return;\n    }\n\n    const lockOrientation = screen.lockOrientation ||\n        screen.mozLockOrientation || screen.msLockOrientation ||\n        (unusedOrientation => {});\n\n    try {\n      lockOrientation('portrait');\n    } catch (e) {\n      dev().warn(TAG, 'Failed to lock screen orientation:', e.message);\n    }\n  }\n\n  /** @private */\n  buildPaginationButtons_() {\n    this.paginationButtons_ = PaginationButtons.create(this.win);\n\n    this.paginationButtons_.attach(this.element);\n\n    this.navigationState_.observe(e =>\n      this.paginationButtons_.onNavigationStateChange(e));\n  }\n\n  /** @visibleForTesting */\n  buildPaginationButtonsForTesting() {\n    this.buildPaginationButtons_();\n  }\n\n  /** @private */\n  buildTopBar_() {\n    const doc = this.element.ownerDocument;\n\n    this.topBar_ = doc.createElement('div');\n    this.topBar_.classList.add(\n        'i-amphtml-story-top', 'i-amphtml-story-system-reset');\n    this.topBar_.appendChild(this.buildTopBarShare_());\n\n    this.element.insertBefore(this.topBar_, this.element.firstChild);\n  }\n\n  /**\n   * @return {!Node}\n   * @private\n   */\n  buildTopBarShare_() {\n    const container =\n        renderSimpleTemplate(this.win.document, SHARE_WIDGET_PILL_CONTAINER);\n\n    this.shareWidget_ = new ShareWidget(this.win);\n\n    const shareLabelEl = dev().assertElement(\n        container.querySelector('.i-amphtml-story-share-pill-label'),\n        'Expected share pill label to be present.');\n\n    container.insertBefore(\n        this.shareWidget_.build(this.getAmpDoc()),\n        shareLabelEl);\n\n    return container;\n  }\n\n  /** @override */\n  layoutCallback() {\n    if (!AmpStory.isBrowserSupported(this.win) && !this.platform_.isBot()) {\n      this.storeService_.dispatch(Action.TOGGLE_SUPPORTED_BROWSER, false);\n      return Promise.resolve();\n    }\n\n    const firstPageEl = user().assertElement(\n        this.element.querySelector('amp-story-page'),\n        'Story must have at least one page.');\n\n    const initialPageId = this.getHistoryStatePageId_() || firstPageEl.id;\n\n    if (!this.paginationButtons_) {\n      this.buildPaginationButtons_();\n    }\n\n    const storyLayoutPromise = this.initializePages_()\n        .then(() => this.buildSystemLayer_())\n        .then(() => {\n          this.pages_.forEach(page => {\n            page.setActive(false);\n          });\n        })\n        .then(() => this.switchTo_(initialPageId))\n        .then(() => this.preloadPagesByDistance_())\n        .then(() => {\n          // Preloads and prerenders the share menu if mobile, where the share\n          // button is visible.\n          if (!this.storeService_.get(StateProperty.DESKTOP_STATE)) {\n            this.shareMenu_.build();\n          }\n\n          const infoDialog = Services.viewerForDoc(this.element).isEmbedded() ?\n            new InfoDialog(this.win, this.element) : null;\n          if (infoDialog) {\n            infoDialog.build();\n          }\n        });\n\n    // Do not block the layout callback on the completion of these promises, as\n    // that prevents descendents from being laid out (and therefore loaded).\n    storyLayoutPromise.then(() => this.whenPagesLoaded_(PAGE_LOAD_TIMEOUT_MS))\n        .then(() => this.markStoryAsLoaded_());\n\n    this.validateConsent_();\n\n    return storyLayoutPromise;\n  }\n\n\n  /**\n   * @param {number} timeoutMs The maximum amount of time to wait, in\n   *     milliseconds.\n   * @return {!Promise} A promise that is resolved when the page is loaded or\n   *     the timeout has been exceeded, whichever happens first.\n   * @private\n   */\n  whenPagesLoaded_(timeoutMs = 0) {\n    const pagesToWaitFor = this.isDesktop_() ?\n      [this.pages_[0], this.pages_[1]] :\n      [this.pages_[0]];\n\n    const storyLoadPromise = Promise.all(\n        pagesToWaitFor.filter(page => !!page).map(page => page.whenLoaded()));\n\n    return this.timer_.timeoutPromise(timeoutMs, storyLoadPromise)\n        .catch(() => {});\n  }\n\n\n  /** @private */\n  markStoryAsLoaded_() {\n    dispatch(this.element, EventType.STORY_LOADED, true);\n    this.signals().signal(CommonSignals.INI_LOAD);\n    this.mutateElement(() => {\n      this.element.classList.add(STORY_LOADED_CLASS_NAME);\n    });\n  }\n\n\n  /**\n   * Ensures publishers using amp-consent use amp-story-consent.\n   * @private\n   */\n  validateConsent_() {\n    const consentEl = this.element.querySelector('amp-consent');\n    if (!consentEl) {\n      return;\n    }\n\n    if (!childElementByTag(consentEl, 'amp-story-consent')) {\n      dev().error(TAG, 'amp-consent must have an amp-story-consent child');\n    }\n\n    const allowedTags = ['SCRIPT', 'AMP-STORY-CONSENT'];\n    const toRemoveChildren = childElements(\n        consentEl, el => allowedTags.indexOf(el.tagName) === -1);\n\n    if (toRemoveChildren.length === 0) {\n      return;\n    }\n    dev().error(TAG, `amp-consent only allows tags: ${allowedTags}`);\n    toRemoveChildren.forEach(el => consentEl.removeChild(el));\n  }\n\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.CONTAINER;\n  }\n\n  /** @override */\n  prerenderAllowed() {\n    return true;\n  }\n\n\n  /** @private */\n  isAmpStoryEnabled_() {\n    if (isExperimentOn(this.win, 'amp-story') || getMode().test ||\n        this.win.location.protocol === 'file:') {\n      return true;\n    }\n\n    const origin = getSourceOrigin(this.win.location);\n    return this.isOriginWhitelisted_(origin);\n  }\n\n\n  /**\n   * @param {string} domain The domain part of the origin, to be hashed.\n   * @return {string} The hashed origin.\n   * @private\n   */\n  hashOrigin_(domain) {\n    return stringHash32(domain.toLowerCase());\n  }\n\n\n  /**\n   * @param {string} origin The origin to check.\n   * @return {boolean} Whether the specified origin is whitelisted to use the\n   *     amp-story extension.\n   * @private\n   */\n  isOriginWhitelisted_(origin) {\n    const hostName = parseUrlDeprecated(origin).hostname;\n    const domains = hostName.split('.');\n\n    // Check all permutations of the domain to see if any level of the domain is\n    // whitelisted.  Taking the example of the whitelisted domain\n    // example.co.uk, if the page is served from www.example.co.uk/page.html:\n    //\n    //   www.example.co.uk => false\n    //   example.co.uk => true\n    //   co.uk => false\n    //   uk => false\n    //\n    // This is necessary, since we don't have any guarantees of which level of\n    // the domain is whitelisted.  For many domains (e.g. .com), the second\n    // level of the domain is likely to be whitelisted, whereas for others\n    // (e.g. .co.uk) the third level may be whitelisted.  Additionally, this\n    // allows subdomains to be whitelisted individually.\n    return domains.some((unusedDomain, index) => {\n      const domain = domains.slice(index, domains.length).join('.');\n      const domainHash = this.hashOrigin_(domain);\n      return this.originWhitelist_.includes(domainHash);\n    });\n  }\n\n\n  /** @private */\n  assertAmpStoryExperiment_() {\n    if (this.isAmpStoryEnabled_()) {\n      return;\n    }\n\n    const errorIconEl = this.win.document.createElement('div');\n    errorIconEl.classList.add('i-amphtml-story-experiment-icon');\n    errorIconEl.classList.add('i-amphtml-story-experiment-icon-error');\n\n    const errorMsgEl = this.win.document.createElement('span');\n    errorMsgEl.textContent = this.localizationService_.getLocalizedString(\n        LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT);\n\n    const experimentsLinkEl = this.win.document.createElement('button');\n    experimentsLinkEl.textContent = this.localizationService_\n        .getLocalizedString(\n            LocalizedStringId.AMP_STORY_EXPERIMENT_ENABLE_BUTTON_LABEL);\n    experimentsLinkEl.addEventListener('click', () => {\n      toggleExperiment(this.win, 'amp-story', true);\n      errorIconEl.classList.remove('i-amphtml-story-experiment-icon-error');\n      errorIconEl.classList.add('i-amphtml-story-experiment-icon-done');\n      errorMsgEl.textContent = this.localizationService_.getLocalizedString(\n          LocalizedStringId.AMP_STORY_EXPERIMENT_ENABLED_TEXT);\n      removeElement(experimentsLinkEl);\n    });\n\n    const errorEl = this.win.document.createElement('div');\n    errorEl.classList.add('i-amphtml-story-experiment-error');\n    errorEl.appendChild(errorIconEl);\n    errorEl.appendChild(errorMsgEl);\n    errorEl.appendChild(experimentsLinkEl);\n    this.element.appendChild(errorEl);\n\n    user().error(TAG, 'enable amp-story experiment');\n  }\n\n\n  /** @private */\n  initializePages_() {\n    const pageImplPromises = Array.prototype.map.call(\n        this.element.querySelectorAll('amp-story-page'),\n        (pageEl, index) => {\n          return pageEl.getImpl().then(pageImpl => {\n            this.pages_[index] = pageImpl;\n          });\n        });\n\n    return Promise.all(pageImplPromises);\n  }\n\n\n  /**\n   * Advance to the next screen in the story, if there is one.\n   * @param {boolean=} opt_isAutomaticAdvance Whether this navigation was caused\n   *     by an automatic advancement after a timeout.\n   * @private\n   */\n  next_(opt_isAutomaticAdvance) {\n    const activePage = dev().assert(this.activePage_,\n        'No active page set when navigating to next page.');\n\n    const lastPage = this.pages_[this.getPageCount() - 1];\n    if (activePage.element.hasAttribute(ADVANCE_TO_ATTR) ||\n        activePage !== lastPage) {\n      activePage.next(opt_isAutomaticAdvance);\n    } else {\n      this.hasBookend_().then(hasBookend => {\n        if (hasBookend) {\n          this.showBookend_();\n        }\n      });\n    }\n  }\n\n\n  /**\n   * Go back to the previous screen in the story, if there is one.\n   * @private\n   */\n  previous_() {\n    const activePage = dev().assert(this.activePage_,\n        'No active page set when navigating to next page.');\n    activePage.previous();\n  }\n\n\n  /**\n   * @param {!TapNavigationDirection} direction The direction to navigate.\n   * @private\n   */\n  performTapNavigation_(direction) {\n    if (this.isDesktop_()) {\n      this.next_();\n      return;\n    }\n\n    if (direction === TapNavigationDirection.NEXT) {\n      this.next_();\n    } else if (direction === TapNavigationDirection.PREVIOUS) {\n      this.previous_();\n    }\n  }\n\n\n  /**\n   * Switches to a particular page.\n   * @param {string} targetPageId\n   * @return {!Promise}\n   */\n  switchTo_(targetPageId) {\n    const targetPage = this.getPageById(targetPageId);\n    const pageIndex = this.getPageIndex(targetPage);\n\n    this.storeService_.dispatch(Action.CHANGE_PAGE, {\n      id: targetPageId,\n      index: pageIndex,\n    });\n\n    this.updateBackground_(targetPage.element, /* initial */ !this.activePage_);\n\n    if (targetPage.isAd()) {\n      this.vsync_.mutate(() => {\n        this.element.setAttribute(AD_SHOWING_ATTR, '');\n      });\n    } else {\n      this.vsync_.mutate(() => {\n        this.element.removeAttribute(AD_SHOWING_ATTR);\n      });\n      // TODO(alanorozco): decouple this using NavigationState\n      this.systemLayer_.setActivePageId(targetPageId);\n    }\n\n    // TODO(alanorozco): check if autoplay\n    this.navigationState_.updateActivePage(\n        pageIndex,\n        this.getPageCount(),\n        targetPage.element.id);\n\n    const oldPage = this.activePage_;\n\n    // TODO(cvializ): Move this to the page class?\n    const activePriorSibling = targetPage.element.previousElementSibling;\n    const previousActivePriorSibling = this.element.querySelector(\n        `[${escapeCssSelectorIdent(PRE_ACTIVE_PAGE_ATTRIBUTE_NAME)}]`);\n\n    this.activePage_ = targetPage;\n\n    this.systemLayer_.resetDeveloperLogs();\n    this.systemLayer_.setDeveloperLogContextString(\n        this.activePage_.element.id);\n\n    return targetPage.beforeVisible().then(() => {\n      this.triggerActiveEventForPage_();\n\n      if (oldPage) {\n        oldPage.setActive(false);\n      }\n\n      targetPage.setActive(true);\n\n      if (activePriorSibling &&\n          matches(activePriorSibling, 'amp-story-page')) {\n        activePriorSibling.setAttribute(PRE_ACTIVE_PAGE_ATTRIBUTE_NAME, '');\n      }\n      if (previousActivePriorSibling) {\n        previousActivePriorSibling.removeAttribute(\n            PRE_ACTIVE_PAGE_ATTRIBUTE_NAME);\n      }\n\n      // If first navigation.\n      if (!oldPage) {\n        this.registerAndPreloadBackgroundAudio_();\n      }\n\n      this.preloadPagesByDistance_();\n      this.reapplyMuting_();\n      this.forceRepaintForSafari_();\n      this.maybePreloadBookend_();\n    });\n  }\n\n\n  /** @private */\n  triggerActiveEventForPage_() {\n    // TODO(alanorozco): pass event priority once amphtml-story repo is merged\n    // with upstream.\n    Services.actionServiceForDoc(this.element)\n        .trigger(this.activePage_.element, 'active', /* event */ null,\n            ActionTrust.HIGH);\n  }\n\n\n  /**\n   * For some reason, Safari has an issue where sometimes when pages become\n   * visible, some descendants are not painted.  This is a hack where we detect\n   * that the browser is Safari and force it to repaint, to avoid this case.\n   * See newmuis/amphtml-story#106 for details.\n   * @private\n   */\n  forceRepaintForSafari_() {\n    if (!this.platform_.isSafari() && !this.platform_.isIos()) {\n      return;\n    }\n    if (this.isDesktop_()) {\n      // Force repaint is only needed when transitioning from invisible to\n      // visible\n      return;\n    }\n\n    this.mutateElement(() => {\n      setStyle(this.element, 'display', 'none');\n\n      // Reading the height is what forces the repaint.  The conditional exists\n      // only to workaround the fact that the closure compiler would otherwise\n      // think that only reading the height has no effect.  Since the height is\n      // always >= 0, this conditional will always be executed.\n      const height = this.element./*OK*/offsetHeight;\n      if (height >= 0) {\n        setStyle(this.element, 'display', '');\n      }\n    });\n  }\n\n\n  /**\n   * Handles all key presses within the story.\n   * @param {!Event} e The keydown event.\n   * @private\n   */\n  onKeyDown_(e) {\n    if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n      return;\n    }\n\n    switch (e.keyCode) {\n      // TODO(newmuis): This will need to be flipped for RTL.\n      case KeyCodes.LEFT_ARROW:\n        this.previous_();\n        break;\n      case KeyCodes.RIGHT_ARROW:\n        this.next_();\n        break;\n    }\n  }\n\n\n  /**\n   * @param {string} pageId new current page id\n   * @private\n   * */\n  onCurrentPageIdUpdate_(pageId) {\n    this.setHistoryStatePageId_(pageId);\n  }\n\n\n  /**\n   * Save page id using history API.\n   * @param {string} pageId page id to be saved\n   * @private\n   */\n  setHistoryStatePageId_(pageId) {\n    // Never save ad pages to history as they are unique to each visit.\n    const page = this.getPageById(pageId);\n    if (page.isAd()) {\n      return;\n    }\n\n    const {history} = this.win;\n    if (history.replaceState && this.getHistoryStatePageId_() !== pageId) {\n      history.replaceState({\n        ampStoryPageId: pageId,\n      }, '');\n    }\n  }\n\n\n  /**\n   * @private\n   * @return {?string}\n   */\n  getHistoryStatePageId_() {\n    const {history} = this.win;\n    if (history && history.state) {\n      return history.state.ampStoryPageId;\n    }\n    return null;\n  }\n\n\n  /**\n   * Handle resize events and set the story's desktop state.\n   * @visibleForTesting\n   */\n  onResize() {\n    const isDesktop = this.isDesktop_();\n    this.storeService_.dispatch(Action.TOGGLE_DESKTOP, isDesktop);\n\n    if (isDesktop) {\n      this.storeService_.dispatch(Action.TOGGLE_LANDSCAPE, false);\n      return;\n    }\n\n    // On mobile, maybe display the landscape overlay warning.\n    this.vsync_.run({\n      measure: state => {\n        const {offsetWidth, offsetHeight} = this.element;\n        state.isLandscape = offsetWidth > offsetHeight;\n      },\n      mutate: state => {\n        this.storeService_.dispatch(Action.TOGGLE_LANDSCAPE, state.isLandscape);\n      },\n    }, {});\n  }\n\n  /**\n   * Reacts to desktop state updates.\n   * @param {boolean} isDesktop\n   * @private\n   */\n  onDesktopStateUpdate_(isDesktop) {\n    if (isDesktop) {\n      this.vsync_.mutate(() => {\n        this.element.setAttribute('desktop', '');\n      });\n      if (!this.topBar_) {\n        this.buildTopBar_();\n      }\n      if (!this.background_) {\n        this.background_ = new AmpStoryBackground(this.win, this.element);\n        this.background_.attach();\n      }\n      if (this.activePage_) {\n        this.updateBackground_(this.activePage_.element, /* initial */ true);\n      }\n    } else {\n      // Preloads and prerenders the share menu as the share button gets visible\n      // on the mobile UI. No-op if already built.\n      this.shareMenu_.build();\n\n      this.vsync_.mutate(() => {\n        this.element.removeAttribute('desktop');\n      });\n    }\n  }\n\n  /**\n   * @return {boolean} True if the screen size matches the desktop media query.\n   */\n  isDesktop_() {\n    return this.desktopMedia_.matches && !this.platform_.isBot() &&\n        !isExperimentOn(this.win, 'disable-amp-story-desktop');\n  }\n\n  /**\n   * Displays the unsupported browser UI: either the publisher provided UI, or\n   * fallbacks to a generic default.\n   * @param {boolean} isBrowserSupported\n   * @private\n   */\n  onSupportedBrowserStateUpdate_(isBrowserSupported) {\n    if (isBrowserSupported) {\n      dev().error(TAG, 'No handler to exit unsupported browser state.');\n    }\n\n    const fallbackEl = this.getFallback();\n\n    this.mutateElement(() => {\n      this.element.classList.add('i-amphtml-story-fallback');\n    });\n\n    // Displays the publisher provided fallback, or fallbacks to the default\n    // unsupported browser layer.\n    if (fallbackEl) {\n      this.toggleFallback(true);\n    } else {\n      this.element.appendChild(this.unsupportedBrowserLayer_.build());\n    }\n  }\n\n  /**\n   * Get the URL of the given page's background resource.\n   * @param {!Element} pageElement\n   * @return {?string} The URL of the background resource\n   */\n  getBackgroundUrl_(pageElement) {\n    let fillElement = pageElement.querySelector(\n        '[template=\"fill\"]:not(.i-amphtml-hidden-by-media-query)');\n\n    if (!fillElement) {\n      return null;\n    }\n\n    fillElement = dev().assertElement(fillElement);\n\n    const fillPosterElement = fillElement.querySelector(\n        '[poster]:not(.i-amphtml-hidden-by-media-query)');\n\n    const srcElement = fillElement.querySelector(\n        '[src]:not(.i-amphtml-hidden-by-media-query)');\n\n    const fillPoster = fillPosterElement ?\n      fillPosterElement.getAttribute('poster') : '';\n    const src = srcElement ? srcElement.getAttribute('src') : '';\n\n    return fillPoster || src;\n  }\n\n\n  /**\n   * Update the background to the specified page's background.\n   * @param {!Element} pageElement\n   * @param {boolean=} initial\n   */\n  updateBackground_(pageElement, initial = false) {\n    if (!this.background_) {\n      return;\n    }\n\n    this.getVsync().run({\n      measure: state => {\n        state.url = this.getBackgroundUrl_(pageElement);\n        state.color = computedStyle(this.win, pageElement)\n            .getPropertyValue('background-color');\n      },\n      mutate: state => {\n        this.background_.setBackground(state.color, state.url, initial);\n      },\n    }, {});\n  }\n\n\n  /**\n   * Shows the bookend overlay.\n   * @private\n   */\n  showBookend_() {\n    this.buildAndPreloadBookend_().then(() => {\n      this.storeService_.dispatch(Action.TOGGLE_BOOKEND, true);\n    });\n  }\n\n\n  /**\n   * Hides the bookend overlay.\n   * @private\n   */\n  hideBookend_() {\n    this.storeService_.dispatch(Action.TOGGLE_BOOKEND, false);\n  }\n\n\n  /**\n   * @param {boolean} isActive\n   * @private\n   */\n  onBookendStateUpdate_(isActive) {\n    this.toggleElementsOnBookend_(/* display */ isActive);\n    this.element.classList.toggle('i-amphtml-story-bookend-active', isActive);\n\n    if (isActive) {\n      this.systemLayer_.hideDeveloperLog();\n      this.activePage_.pauseCallback();\n    }\n\n    if (!isActive) {\n      this.activePage_.resumeCallback();\n    }\n  }\n\n\n  /**\n   * Toggle content when bookend is opened/closed.\n   * TODO(gmajoulet): these elements should get hidden by listening to bookend\n   *                  state events.\n   * @param {boolean} isActive\n   * @private\n   */\n  toggleElementsOnBookend_(isActive) {\n    if (!this.isDesktop_()) {\n      return;\n    }\n\n    const elements = scopedQuerySelectorAll(this.element,\n        HIDE_ON_BOOKEND_SELECTOR);\n\n    Array.prototype.forEach.call(elements, el => {\n      if (isActive) {\n        setImportantStyles(el, {\n          opacity: 0,\n          transition: 'opacity 0.1s',\n        });\n      } else {\n        resetStyles(el, ['opacity', 'transition']);\n      }\n    });\n  }\n\n  /**\n   * @return {!Array<!Array<string>>} A 2D array representing lists of pages by\n   *     distance.  The outer array index represents the distance from the\n   *     active page; the inner array is a list of page IDs at the specified\n   *     distance.\n   */\n  getPagesByDistance_() {\n    const distanceMap = this.getPageDistanceMapHelper_(\n        /* distance */ 0, /* map */ {}, this.activePage_.element.id);\n\n    // Transpose the map into a 2D array.\n    const pagesByDistance = [];\n    Object.keys(distanceMap).forEach(pageId => {\n      const distance = distanceMap[pageId];\n      if (!pagesByDistance[distance]) {\n        pagesByDistance[distance] = [];\n      }\n      pagesByDistance[distance].push(pageId);\n    });\n\n    return pagesByDistance;\n  }\n\n  /**\n   * Creates a map of a page and all of the pages reachable from that page, by\n   * distance.\n   *\n   * @param {number} distance The distance that the page with the specified\n   *     pageId is from the active page.\n   * @param {!Object<string, number>} map A mapping from pageId to its distance\n   *     from the active page.\n   * @param {string} pageId The page to be added to the map.\n   * @return {!Object<string, number>} A mapping from page ID to the priority of\n   *     that page.\n   * @private\n   */\n  getPageDistanceMapHelper_(distance, map, pageId) {\n    if (map[pageId] !== undefined && map[pageId] <= distance) {\n      return map;\n    }\n\n    map[pageId] = distance;\n    const page = this.getPageById(pageId);\n    page.getAdjacentPageIds().forEach(adjacentPageId => {\n      if (map[adjacentPageId] !== undefined\n          && map[adjacentPageId] <= distance) {\n        return;\n      }\n\n      // TODO(newmuis): Remove the assignment and return, as they're\n      // unnecessary.\n      map = this.getPageDistanceMapHelper_(distance + 1, map, adjacentPageId);\n    });\n\n    return map;\n  }\n\n\n  /** @private */\n  preloadPagesByDistance_() {\n    if (this.platform_.isBot()) {\n      this.pages_.forEach(page => {\n        page.setDistance(0);\n      });\n      return;\n    }\n\n    const pagesByDistance = this.getPagesByDistance_();\n\n    this.mutateElement(() => {\n      pagesByDistance.forEach((pageIds, distance) => {\n        pageIds.forEach(pageId => {\n          const page = this.getPageById(pageId);\n          page.setDistance(distance);\n        });\n      });\n    });\n  }\n\n\n  /**\n   * Handles a background-audio attribute set on an <amp-story> tag.\n   * @private\n   */\n  registerAndPreloadBackgroundAudio_() {\n    let backgroundAudioEl = upgradeBackgroundAudio(this.element);\n\n    if (!backgroundAudioEl) {\n      return;\n    }\n\n    // Once the media pool is ready, registers and preloads the background\n    // audio, and then gets the swapped element from the DOM to mute/unmute/play\n    // it programmatically later.\n    this.activePage_.whenLoaded()\n        .then(() => {\n          backgroundAudioEl =\n            /** @type {!HTMLMediaElement} */ (backgroundAudioEl);\n          this.mediaPool_.register(backgroundAudioEl);\n          return this.mediaPool_.preload(backgroundAudioEl);\n        }).then(() => {\n          this.backgroundAudioEl_ = /** @type {!HTMLMediaElement} */\n              (childElement(this.element, el => {\n                return el.tagName.toLowerCase() === 'audio';\n              }));\n        });\n  }\n\n\n  /**\n   * Preloads the bookend config if on the last page.\n   * @private\n   */\n  maybePreloadBookend_() {\n    if (!this.activePage_) {\n      return;\n    }\n\n    const pageIndex = this.getPageIndex(this.activePage_);\n\n    if (pageIndex + 1 >= this.getPageCount()) {\n      this.buildAndPreloadBookend_();\n    }\n  }\n\n\n  /**\n   * Builds, fetches and sets the bookend publisher configuration.\n   * @return {!Promise<?./amp-story-bookend.BookendConfigDef>}\n   * @private\n   */\n  buildAndPreloadBookend_() {\n    this.bookend_.build();\n    return this.bookend_.loadConfig();\n  }\n\n\n  /**\n   * @return {!Promise<boolean>}\n   * @private\n   */\n  hasBookend_() {\n    if (!this.storeService_.get(StateProperty.CAN_SHOW_BOOKEND)) {\n      return Promise.resolve(false);\n    }\n\n    // TODO(newmuis): Change this comment.\n    // On mobile there is always a bookend. On desktop, the bookend will only\n    // be shown if related articles have been configured.\n    if (!this.isDesktop_()) {\n      return Promise.resolve(true);\n    }\n    return this.bookend_.loadConfig(false /** applyConfig */).then(config =>\n      !!(config && config.relatedArticles && config.relatedArticles.length));\n  }\n\n\n  /**\n   * @param {string} id The ID of the page whose index should be retrieved.\n   * @return {number} The index of the page.\n   * @private\n   */\n  getPageIndexById_(id) {\n    const pageIndex = findIndex(this.pages_, page => page.element.id === id);\n\n    if (pageIndex < 0) {\n      user().error(TAG,\n          `Story refers to page \"${id}\", but no such page exists.`);\n    }\n\n    return pageIndex;\n  }\n\n\n  /**\n   * @param {string} id The ID of the page to be retrieved.\n   * @return {!./amp-story-page.AmpStoryPage} Retrieves the page with the\n   *     specified ID.\n   */\n  getPageById(id) {\n    const pageIndex = this.getPageIndexById_(id);\n    return dev().assert(this.pages_[pageIndex],\n        `Page at index ${pageIndex} exists, but is missing from the array.`);\n  }\n\n\n  /**\n   * @return {number}\n   */\n  getPageCount() {\n    return this.pages_.length - this.adPages_.length;\n  }\n\n  /**\n   * @param {!./amp-story-page.AmpStoryPage} desiredPage\n   * @return {number} The index of the page.\n   */\n  getPageIndex(desiredPage) {\n    return findIndex(this.pages_, page => page === desiredPage);\n  }\n\n\n  /**\n   * Retrieves the page containing the element, or null. A background audio\n   * set on the <amp-story> tag would not be contained in a page.\n   * @param {!Element} element The element whose containing AmpStoryPage should\n   *     be retrieved\n   * @return {?./amp-story-page.AmpStoryPage} The AmpStoryPage containing the\n   *     specified element, if any.\n   */\n  getPageContainingElement_(element) {\n    const pageIndex = findIndex(this.pages_, page => {\n      const pageEl = closest(element, el => {\n        return el === page.element;\n      });\n\n      return !!pageEl;\n    });\n\n    return this.pages_[pageIndex] || null;\n  }\n\n\n  /** @override */\n  getElementDistance(element) {\n    const page = this.getPageContainingElement_(element);\n\n    // An element not contained in a page is likely to be global to the story,\n    // like a background audio. Setting the distance to -1 ensures it will not\n    // get evicted from the media pool.\n    if (!page) {\n      return -1;\n    }\n\n    return page.getDistance();\n  }\n\n\n  /** @override */\n  getMaxMediaElementCounts() {\n    let audioMediaElementsCount =\n        this.element.querySelectorAll('amp-audio, [background-audio]').length;\n    const videoMediaElementsCount =\n        this.element.querySelectorAll('amp-video').length;\n\n    // The root element (amp-story) might have a background-audio as well.\n    if (this.element.hasAttribute('background-audio')) {\n      audioMediaElementsCount++;\n    }\n\n    return {\n      [MediaType.AUDIO]: Math.min(\n          audioMediaElementsCount, MAX_MEDIA_ELEMENT_COUNTS[MediaType.AUDIO]),\n      [MediaType.VIDEO]: Math.min(\n          videoMediaElementsCount, MAX_MEDIA_ELEMENT_COUNTS[MediaType.VIDEO]),\n    };\n  }\n\n\n  /** @override */\n  getElement() {\n    return this.element;\n  }\n\n  /**\n   * Reacts to muted state updates.\n   * @param  {boolean} isMuted Whether the story just got muted.\n   * @private\n   */\n  onMutedStateUpdate_(isMuted) {\n    isMuted ? this.mute_() : this.unmute_();\n  }\n\n  /**\n   * Mutes the audio for the story.\n   * @private\n   */\n  mute_() {\n    if (this.backgroundAudioEl_) {\n      this.mediaPool_.mute(this.backgroundAudioEl_);\n    }\n    this.pages_.forEach(page => {\n      page.muteAllMedia();\n    });\n  }\n\n  /**\n   * Unmutes the audio for the story.\n   * @private\n   */\n  unmute_() {\n    const unmuteAllMedia = () => {\n      if (this.backgroundAudioEl_) {\n        this.mediaPool_.unmute(this.backgroundAudioEl_);\n        this.mediaPool_.play(this.backgroundAudioEl_);\n      }\n      if (this.activePage_) {\n        this.activePage_.unmuteAllMedia();\n      }\n    };\n\n    this.mediaPool_.blessAll()\n        .then(unmuteAllMedia, unmuteAllMedia);\n  }\n\n  /**\n   * Reapplies the muting status for the currently-active media in the story.\n   * @private\n   */\n  reapplyMuting_() {\n    const isMuted = this.storeService_.get(StateProperty.MUTED_STATE);\n    if (!isMuted) {\n      this.mute_();\n      this.unmute_();\n    }\n  }\n\n  /**\n   * Shows the audio icon if the story has any media elements containing audio,\n   * or background audio at the story or page level.\n   * @private\n   */\n  updateAudioIcon_() {\n    const containsMediaElementWithAudio = !!this.element.querySelector(\n        'amp-audio, amp-video:not([noaudio]), [background-audio]');\n    const hasStoryAudio = this.element.hasAttribute('background-audio');\n\n    this.storeService_.dispatch(Action.TOGGLE_HAS_AUDIO,\n        containsMediaElementWithAudio || hasStoryAudio);\n  }\n\n  /** @private */\n  replay_() {\n    if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n      this.hideBookend_();\n    }\n    this.switchTo_(dev().assertElement(this.pages_[0].element).id);\n  }\n\n  /** @return {!NavigationState} */\n  getNavigationState() {\n    return this.navigationState_;\n  }\n\n\n  /**\n   * Add page to back of pages_ array\n   * @param {!./amp-story-page.AmpStoryPage} page\n   */\n  addPage(page) {\n    this.pages_.push(page);\n\n    if (page.isAd()) {\n      this.adPages_.push(page);\n    }\n  }\n\n  /**\n   * Insert a new page in navigation flow by changing the attr pointers\n   * on amp-story-page elements\n   * @param {string} pageBeforeId\n   * @param {string} pageToBeInsertedId\n   * @return {boolean} was page inserted\n   */\n  insertPage(pageBeforeId, pageToBeInsertedId) {\n    // TODO(ccordry): make sure this method moves to PageManager when\n    // implemented\n    const pageToBeInserted = this.getPageById(pageToBeInsertedId);\n    const pageToBeInsertedEl = pageToBeInserted.element;\n\n    if (pageToBeInserted.isAd() &&\n        !this.storeService_.get(StateProperty.CAN_INSERT_AUTOMATIC_AD)) {\n      dev().expectedError(TAG, 'Inserting ads automatically is disallowed.');\n      return false;\n    }\n\n    const pageBefore = this.getPageById(pageBeforeId);\n    const pageBeforeEl = pageBefore.element;\n\n    const nextPage = this.getNextPage(pageBefore);\n\n    if (!nextPage) {\n      return false;\n    }\n\n    pageBeforeEl.setAttribute(ADVANCE_TO_ATTR, pageToBeInsertedId);\n    pageBeforeEl.setAttribute(AUTO_ADVANCE_TO_ATTR, pageToBeInsertedId);\n    pageToBeInsertedEl.setAttribute(RETURN_TO_ATTR, pageBeforeId);\n\n    const nextPageEl = nextPage.element;\n    const nextPageId = nextPageEl.id;\n    pageToBeInsertedEl.setAttribute(ADVANCE_TO_ATTR, nextPageId);\n    pageToBeInsertedEl.setAttribute(AUTO_ADVANCE_TO_ATTR, nextPageId);\n    nextPageEl.setAttribute(RETURN_TO_ATTR, pageToBeInsertedId);\n\n    return true;\n  }\n\n\n  /**\n   * Get next page object\n   * @param {!./amp-story-page.AmpStoryPage} page\n   * @return {?./amp-story-page.AmpStoryPage}\n   */\n  getNextPage(page) {\n    const nextPageId = page.getNextPageId(true /*opt_isAutomaticAdvance */);\n    if (!nextPageId) {\n      return null;\n    }\n    return this.getPageById(nextPageId);\n  }\n\n\n  /**\n   * @param {!Window} win\n   * @return {boolean} true if the user's browser supports the features needed\n   *     for amp-story.\n   */\n  static isBrowserSupported(win) {\n    return Boolean(win.CSS && win.CSS.supports &&\n        win.CSS.supports('display', 'grid'));\n  }\n}\n\n\nAMP.extension('amp-story', '0.1', AMP => {\n  AMP.registerElement('amp-story', AmpStory, CSS);\n  AMP.registerElement('amp-story-page', AmpStoryPage);\n  AMP.registerElement('amp-story-grid-layer', AmpStoryGridLayer);\n  AMP.registerElement('amp-story-cta-layer', AmpStoryCtaLayer);\n  AMP.registerElement('amp-story-consent', AmpStoryConsent);\n});\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {StateChangeType} from './navigation-state';\nimport {dev} from '../../../src/log';\nimport {triggerAnalyticsEvent} from '../../../src/analytics';\n\n\n/** @enum {string} */\nconst Events = {\n  PAGE_VISIBLE: 'story-page-visible',\n  BOOKEND_ENTER: 'story-bookend-enter',\n  BOOKEND_EXIT: 'story-bookend-exit',\n  STORY_MUTED: 'story-audio-muted',\n  STORY_UNMUTED: 'story-audio-unmuted',\n};\n\n\n/**\n * Intermediate handler for amp-story specific analytics.\n */\nexport class AmpStoryAnalytics {\n  /**\n   * @param {!Window} win\n   * @param {!Element} element\n   */\n  constructor(win, element) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!Element} */\n    this.element_ = element;\n  }\n\n  /**\n   * @param {!./navigation-state.StateChangeEventDef} stateChangeEvent\n   */\n  onNavigationStateChange(stateChangeEvent) {\n    switch (stateChangeEvent.type) {\n      case StateChangeType.ACTIVE_PAGE:\n        this.triggerEvent_(Events.PAGE_VISIBLE);\n        break;\n      case StateChangeType.BOOKEND_ENTER:\n        this.triggerEvent_(Events.BOOKEND_ENTER);\n        break;\n      case StateChangeType.BOOKEND_EXIT:\n        this.triggerEvent_(Events.BOOKEND_EXIT);\n        break;\n    }\n  }\n\n  /**\n   * @param {boolean} isMuted\n   */\n  onMutedStateChange(isMuted) {\n    const event = isMuted ? Events.STORY_MUTED : Events.STORY_UNMUTED;\n    this.triggerEvent_(event);\n  }\n\n  /**\n   * @param {string} eventType\n   * @private\n   */\n  triggerEvent_(eventType) {\n    const variablesPromise = Services.storyVariableServiceForOrNull(this.win_);\n    variablesPromise.then(\n        variables => {\n          triggerAnalyticsEvent(this.element_, eventType,\n              /** @type {!Object<string, string>} */ (variables));\n        },\n        reason => {\n          dev().error('AMP-STORY', 'Could not get analytics variables', reason);\n        });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Common animations utility functions used in the animation\n * presets.\n */\n\nimport {\n  KeyframesDef,\n  StoryAnimationDimsDef,\n} from './animation-types';\nimport {\n  rotate,\n  scale,\n  translate,\n} from '../../../src/style';\n\n/**\n * Translates the element on the 2d plane according to the given points.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function translate2d(startX, startY, endX, endY) {\n  return [\n    {transform: translate(startX, startY)},\n    {transform: translate(endX, endY)},\n  ];\n}\n\n/**\n * Translates and rotates the element on the 2d plane.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @param {number} direction -1 for left, 1 for right\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function rotateAndTranslate(startX, startY, endX, endY, direction) {\n  return [\n    {transform: translate(startX, startY) + ' ' + rotate(direction * 360)},\n    {transform: translate(endX, endY) + ' ' + rotate(0)},\n  ];\n}\n\n/**\n * Gradually shows and grows the element while translating it on the 2d plane.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function whooshIn(startX, startY, endX, endY) {\n  return [\n    {\n      opacity: 0,\n      transform: translate(startX, startY) + ' ' + scale(0.15),\n    },\n    {\n      opacity: 1,\n      transform: translate(endX, endY) + ' ' + scale(1),\n    },\n  ];\n}\n\n/**\n * Checks if either of the target's dimensions are smaller than or equal to\n * those of the page.\n * @param {StoryAnimationDimsDef} dimensions Dimensions of page and target.\n * @return {boolean}\n * @visibleForTesting\n */\nexport function targetFitsWithinPage(dimensions) {\n  return dimensions.targetWidth <= dimensions.pageWidth ||\n         dimensions.targetHeight <= dimensions.pageHeight;\n}\n\n/**\n * Calculate target scaling factor so that it is at least 25% larger than the\n * page.\n * @param {StoryAnimationDimsDef} dimensions Dimensions of page and target.\n * @return {number}\n */\nexport function calculateTargetScalingFactor(dimensions) {\n  if (targetFitsWithinPage(dimensions)) {\n    const scalingFactor = 1.25;\n    const widthFactor = dimensions.pageWidth > dimensions.targetWidth ?\n      dimensions.pageWidth / dimensions.targetWidth : 1;\n    const heightFactor = dimensions.pageHeight > dimensions.targetHeight ?\n      dimensions.pageHeight / dimensions.targetHeight : 1;\n    return Math.max(widthFactor, heightFactor) * scalingFactor;\n  }\n  return 1;\n}\n\n/**\n * Scale the image in every frame by a certain factor.\n * @param {KeyframesDef} keyframes Keyframes that will be used for the animation.\n * @param {number} scalingFactor Scaling factor at which target will be scaled.\n * @return {KeyframesDef}\n */\nfunction enlargeKeyFrames(keyframes, scalingFactor) {\n  keyframes.forEach(frame => {\n    frame['transform'] += ' ' + scale(scalingFactor);\n    frame['transform-origin'] = 'left top';\n  });\n  return keyframes;\n}\n\n/**\n * Translates the element and scales it if necessary.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @param {number} scalingFactor Factor by which target will be scaled.\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function scaleAndTranslate(startX, startY, endX, endY, scalingFactor) {\n  if (scalingFactor === 1) {\n    return translate2d(startX, startY, endX, endY);\n  }\n  return enlargeKeyFrames(\n      translate2d(startX, startY, endX, endY), scalingFactor);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {GRID_LAYER_TEMPLATE_CLASS_NAMES} from './amp-story-grid-layer';\nimport {StoryAnimationPresetDef} from './animation-types';\nimport {\n  calculateTargetScalingFactor,\n  rotateAndTranslate,\n  scaleAndTranslate,\n  translate2d,\n  whooshIn,\n} from './animation-presets-utils';\nimport {px} from '../../../src/style';\n\nconst FULL_BLEED_CATEGORY = 'full-bleed';\nconst FILL_TEMPLATE_LAYOUT = 'fill';\n\n/**\n * A list of animations that are full bleed.\n * @private @const {!Array<string>}\n */\nconst FULL_BLEED_ANIMATION_NAMES = [\n  'pan-up',\n  'pan-down',\n  'pan-right',\n  'pan-left',\n  'zoom-in',\n  'zoom-out',\n];\n\n/**\n * A mapping of animation categories to corresponding CSS class names.\n * @private @const {!Object<string, string>}\n */\nconst ANIMATION_CSS_CLASS_NAMES = {\n  [FULL_BLEED_CATEGORY]:\n      'i-amphtml-story-grid-template-with-full-bleed-animation',\n};\n\n/**\n * Perform style-specific operations for presets.\n * @param {!Element} el\n * @param {string} presetName\n */\nexport function setStyleForPreset(el, presetName) {\n  // For full bleed animations.\n  if (FULL_BLEED_ANIMATION_NAMES.indexOf(presetName) >= 0) {\n    const parent = el.parentElement;\n    if (parent.classList.contains(\n        GRID_LAYER_TEMPLATE_CLASS_NAMES[FILL_TEMPLATE_LAYOUT])) {\n      parent.classList\n          .remove(GRID_LAYER_TEMPLATE_CLASS_NAMES[FILL_TEMPLATE_LAYOUT]);\n    }\n    parent.classList.add(ANIMATION_CSS_CLASS_NAMES[FULL_BLEED_CATEGORY]);\n  }\n}\n\n/** @const {!Object<string, !StoryAnimationPresetDef>} */\n// First keyframe will always be considered offset: 0 and will be applied to the\n// element as the first frame before animation starts.\nexport const PRESETS = {\n  'pulse': {\n    duration: 500,\n    easing: 'linear',\n    keyframes: [\n      {\n        offset: 0,\n        transform: 'scale(1)',\n      },\n      {\n        offset: 0.25,\n        transform: 'scale(0.95)',\n      },\n      {\n        offset: 0.75,\n        transform: 'scale(1.05)',\n      },\n      {\n        offset: 1,\n        transform: 'scale(1)',\n      },\n    ],\n  },\n  'fly-in-left': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = -(dimensions.targetX + dimensions.targetWidth);\n      return translate2d(offsetX, 0, 0, 0);\n    },\n  },\n  'fly-in-right': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = dimensions.pageWidth - dimensions.targetX;\n      return translate2d(offsetX, 0, 0, 0);\n    },\n  },\n  'fly-in-top': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetY = -(dimensions.targetY + dimensions.targetHeight);\n      return translate2d(0, offsetY, 0, 0);\n    },\n  },\n  'fly-in-bottom': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetY = dimensions.pageHeight - dimensions.targetY;\n      return translate2d(0, offsetY, 0, 0);\n    },\n  },\n  'rotate-in-left': {\n    duration: 700,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = -(dimensions.targetX + dimensions.targetWidth);\n      return rotateAndTranslate(offsetX, 0, 0, 0, -1);\n    },\n  },\n  'rotate-in-right': {\n    duration: 700,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = dimensions.pageWidth - dimensions.targetX;\n      return rotateAndTranslate(offsetX, 0, 0, 0, 1);\n    },\n  },\n  'fade-in': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes: [\n      {\n        opacity: 0,\n      },\n      {\n        opacity: 1,\n      },\n    ],\n  },\n  'drop': {\n    duration: 1600,\n    keyframes(dimensions) {\n      const maxBounceHeight =\n          Math.max(160, dimensions.targetY + dimensions.targetHeight);\n\n      return [\n        {\n          offset: 0,\n          transform: `translateY(${px(-maxBounceHeight)})`,\n          easing: 'cubic-bezier(.75,.05,.86,.08)',\n        },\n        {\n          offset: 0.3,\n          transform: 'translateY(0)',\n          easing: 'cubic-bezier(.22,.61,.35,1)',\n        },\n        {\n          offset: 0.52,\n          transform: `translateY(${px(-0.6 * maxBounceHeight)})`,\n          easing: 'cubic-bezier(.75,.05,.86,.08)',\n        },\n        {\n          offset: 0.74,\n          transform: 'translateY(0)',\n          easing: 'cubic-bezier(.22,.61,.35,1)',\n        },\n        {\n          offset: 0.83,\n          transform: `translateY(${px(-0.3 * maxBounceHeight)})`,\n          easing: 'cubic-bezier(.75,.05,.86,.08)',\n        },\n        {\n          offset: 1,\n          transform: 'translateY(0)',\n          easing: 'cubic-bezier(.22,.61,.35,1)',\n        },\n      ];\n    },\n  },\n  'twirl-in': {\n    duration: 1000,\n    easing: 'cubic-bezier(.2,.75,.4,1)',\n    keyframes: [\n      {\n        transform: 'rotate(-540deg) scale(0.1)',\n        opacity: 0,\n      },\n      {\n        transform: 'none',\n        opacity: 1,\n      },\n    ],\n  },\n  'whoosh-in-left': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = -(dimensions.targetX + dimensions.targetWidth);\n      return whooshIn(offsetX, 0, 0, 0);\n    },\n  },\n  'whoosh-in-right': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = dimensions.pageWidth - dimensions.targetX;\n      return whooshIn(offsetX, 0, 0, 0);\n    },\n  },\n  'pan-left': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = dimensions.pageWidth - dimensions.targetWidth;\n      const offsetY = (dimensions.pageHeight - dimensions.targetHeight) / 2;\n\n      return scaleAndTranslate(offsetX, offsetY, 0, offsetY, scalingFactor);\n    },\n  },\n  'pan-right': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = dimensions.pageWidth - dimensions.targetWidth;\n      const offsetY = (dimensions.pageHeight - dimensions.targetHeight) / 2;\n\n      return scaleAndTranslate(0, offsetY, offsetX, offsetY, scalingFactor);\n    },\n  },\n  'pan-down': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = -dimensions.targetWidth / 2;\n      const offsetY = dimensions.pageHeight - dimensions.targetHeight;\n\n      return scaleAndTranslate(offsetX, 0, offsetX, offsetY, scalingFactor);\n    },\n  },\n  'pan-up': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = -dimensions.targetWidth / 2;\n      const offsetY = dimensions.pageHeight - dimensions.targetHeight;\n\n      return scaleAndTranslate(offsetX, offsetY, offsetX, 0, scalingFactor);\n    },\n  },\n  'zoom-in': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes: [\n      {transform: 'scale(1,1)'},\n      {transform: 'scale(3,3)'},\n    ],\n  },\n  'zoom-out': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes: [\n      {transform: 'scale(3,3)'},\n      {transform: 'scale(1,1)'},\n    ],\n  },\n};\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {!Array<!Object<string, *>>} */\nexport let KeyframesDef;\n\n\n/** @typedef {(function(StoryAnimationDimsDef):!KeyframesDef)|!KeyframesDef} */\nexport let KeyframesOrFilterFnDef;\n\n\n/**\n * @typedef {{\n *   pageWidth: number,\n *   pageHeight: number,\n *   targetWidth: number,\n *   targetHeight: number,\n *   targetX: number,\n *   targetY: number,\n * }}\n */\nexport let StoryAnimationDimsDef;\n\n\n/**\n * @typedef {{\n *   duration: number,\n *   easing: (string|undefined),\n *   keyframes: !KeyframesOrFilterFnDef,\n * }}\n */\nexport let StoryAnimationPresetDef;\n\n\n/**\n * @typedef {{\n *  target: !Element,\n *  startAfterId: (string|undefined),\n *  preset: !StoryAnimationPresetDef,\n *  duration: (number|undefined),\n *  delay: (number|undefined),\n * }}\n */\nexport let StoryAnimationDef;\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from '../../../src/utils/promise';\nimport {\n  KeyframesDef,\n  KeyframesOrFilterFnDef,\n  StoryAnimationDef,\n  StoryAnimationDimsDef,\n  StoryAnimationPresetDef,\n} from './animation-types';\nimport {PRESETS, setStyleForPreset} from './animation-presets';\nimport {Services} from '../../../src/services';\nimport {\n  WebAnimationPlayState,\n} from '../../amp-animation/0.1/web-animation-types';\nimport {dev, user} from '../../../src/log';\nimport {escapeCssSelectorIdent, scopedQuerySelector, scopedQuerySelectorAll} from '../../../src/dom';\nimport {map, omit} from '../../../src/utils/object';\nimport {setStyles} from '../../../src/style';\nimport {timeStrToMillis, unscaledClientRect} from './utils';\n\n/** const {string} */\nexport const ANIMATE_IN_ATTRIBUTE_NAME = 'animate-in';\n/** const {string} */\nconst ANIMATE_IN_DURATION_ATTRIBUTE_NAME = 'animate-in-duration';\n/** const {string} */\nconst ANIMATE_IN_DELAY_ATTRIBUTE_NAME = 'animate-in-delay';\n/** const {string} */\nconst ANIMATE_IN_AFTER_ATTRIBUTE_NAME = 'animate-in-after';\n/** const {string} */\nconst ANIMATABLE_ELEMENTS_SELECTOR = `[${ANIMATE_IN_ATTRIBUTE_NAME}]`;\n\n\n/**\n * @param {!Element} element\n * @return {boolean}\n * TODO(alanorozco): maybe memoize?\n */\nexport function hasAnimations(element) {\n  return !!scopedQuerySelector(element, ANIMATABLE_ELEMENTS_SELECTOR);\n}\n\n\n/** @enum {number} */\nconst PlaybackActivity = {\n  START: 0,\n  FINISH: 1,\n};\n\n\n/** Wraps WebAnimationRunner for story page elements. */\nclass AnimationRunner {\n  /**\n   * @param {!Element} page\n   * @param {!StoryAnimationDef} animationDef\n   * @param {!Promise<\n   *    !../../amp-animation/0.1/web-animations.Builder\n   * >} webAnimationBuilderPromise\n   * @param {!../../../src/service/vsync-impl.Vsync} vsync\n   * @param {!../../../src/service/timer-impl.Timer} timer\n   * @param {!AnimationSequence} sequence\n   */\n  constructor(\n    page, animationDef, webAnimationBuilderPromise, vsync, timer, sequence) {\n    /** @private @const */\n    this.page_ = page;\n\n    /** @private @const */\n    this.timer_ = timer;\n\n    /** @private @const */\n    this.vsync_ = vsync;\n\n    /** @private @const */\n    this.target_ = dev().assertElement(animationDef.target);\n\n    /** @private @const */\n    this.sequence_ = sequence;\n\n    /** @private @const */\n    this.animationDef_ = animationDef;\n\n    /** @private @const */\n    this.presetDef_ = animationDef.preset;\n\n    /** @private @const */\n    this.keyframes_ = this.filterKeyframes_(animationDef.preset.keyframes);\n\n    /** @private @const */\n    this.delay_ = animationDef.delay || this.presetDef_.delay || 0;\n\n    /** @private @const */\n    this.duration_ = animationDef.duration || this.presetDef_.duration || 0;\n\n    /**\n     * @private @const {!Promise<\n     *    !../../amp-animation/0.1/web-animations.WebAnimationRunner>}\n     */\n    this.runnerPromise_ = this.getWebAnimationDef_().then(webAnimDef =>\n      webAnimationBuilderPromise.then(builder =>\n        builder.createRunner(webAnimDef)));\n\n    /** @private @const {!Promise<!Object<string, *>>} */\n    this.firstFrameProps_ =\n        this.keyframes_.then(keyframes => omit(keyframes[0], ['offset']));\n\n    /** @private {?../../amp-animation/0.1/web-animations.WebAnimationRunner} */\n    this.runner_ = null;\n\n    /** @private {?PlaybackActivity} */\n    this.scheduledActivity_ = null;\n\n    /** @private {?Promise} */\n    this.scheduledWait_ = null;\n\n    this.keyframes_.then(keyframes => dev().assert(\n        !keyframes[0].offset,\n        'First keyframe offset for animation preset should be 0 or undefined'));\n\n    user().assert(\n        this.delay_ >= 0,\n        'Negative delays are not allowed in amp-story entrance animations.');\n\n    this.runnerPromise_.then(runner => this.onRunnerReady_(runner));\n  }\n\n  /**\n   * @return {!Promise<!StoryAnimationDimsDef>}\n   * @visibleForTesting\n   */\n  getDims() {\n    return this.vsync_.measurePromise(() => {\n      const targetRect = unscaledClientRect(this.target_);\n      const pageRect = unscaledClientRect(this.page_);\n\n      return /** @type {!StoryAnimationDimsDef} */ ({\n        pageWidth: pageRect.width,\n        pageHeight: pageRect.height,\n        targetWidth: targetRect.width,\n        targetHeight: targetRect.height,\n        targetX: targetRect.left - pageRect.left,\n        targetY: targetRect.top - pageRect.top,\n      });\n    });\n  }\n\n  /**\n   * @param {!KeyframesOrFilterFnDef} keyframesArrayOrFn\n   * @return {!Promise<!KeyframesDef>}\n   * @private\n   */\n  filterKeyframes_(keyframesArrayOrFn) {\n    if (Array.isArray(keyframesArrayOrFn)) {\n      return Promise.resolve(keyframesArrayOrFn);\n    }\n    return this.getDims().then(keyframesArrayOrFn);\n  }\n\n  /**\n   * @return {!Promise<\n   *   !../../amp-animation/0.1/web-animation-types.WebKeyframeAnimationDef>}\n   * @private\n   */\n  getWebAnimationDef_() {\n    return this.keyframes_.then(keyframes => ({\n      keyframes,\n      target: this.target_,\n      duration: `${this.duration_}ms`,\n      easing: this.presetDef_.easing,\n      fill: 'forwards',\n    }));\n  }\n\n  /** @return {!Promise<void>} */\n  applyFirstFrame() {\n    if (this.hasStarted()) {\n      return Promise.resolve();\n    }\n\n    if (this.runner_) {\n      this.runner_.cancel();\n    }\n\n    return this.firstFrameProps_.then(firstFrameProps =>\n      this.vsync_.mutatePromise(() => {\n        setStyles(this.target_, firstFrameProps);\n      }));\n  }\n\n  /** Starts or resumes the animation. */\n  start() {\n    if (this.hasStarted()) {\n      return;\n    }\n\n    this.playback_(PlaybackActivity.START, this.getStartWaitPromise_());\n  }\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  getStartWaitPromise_() {\n    let promise = Promise.resolve();\n\n    if (this.animationDef_.startAfterId) {\n      const startAfterId = /** @type {string} */(\n        this.animationDef_.startAfterId);\n      promise = promise.then(() => this.sequence_.waitFor(startAfterId));\n    }\n\n    if (this.delay_) {\n      promise = promise.then(() => this.timer_.promise(this.delay_));\n    }\n\n    return promise;\n  }\n\n  /**\n   * @param {!../../amp-animation/0.1/web-animations.WebAnimationRunner} runner\n   * @private\n   */\n  startWhenReady_(runner) {\n    runner.start();\n  }\n\n  /** @return {boolean} */\n  hasStarted() {\n    return this.isActivityScheduled_(PlaybackActivity.START) ||\n        (!!this.runner_ && dev().assert(this.runner_)\n            .getPlayState() == WebAnimationPlayState.RUNNING);\n  }\n\n  /** Force-finishes all animations. */\n  finish() {\n    if (!this.runner_) {\n      this.notifyFinish_();\n    }\n    this.playback_(PlaybackActivity.FINISH);\n  }\n\n  /**\n   * @param {!../../amp-animation/0.1/web-animations.WebAnimationRunner} runner\n   * @private\n   */\n  finishWhenReady_(runner) {\n    if (runner.getPlayState() == WebAnimationPlayState.RUNNING) {\n      runner.finish();\n    }\n  }\n\n  /** Cancels animation. */\n  cancel() {\n    this.scheduledActivity_ = null;\n    this.scheduledWait_ = null;\n\n    if (this.runner_) {\n      dev().assert(this.runner_).cancel();\n    }\n  }\n\n  /**\n   * @param {!PlaybackActivity} activity\n   * @param {!Promise=} opt_wait\n   * @private\n   */\n  playback_(activity, opt_wait) {\n    const wait = opt_wait || null;\n\n    this.scheduledActivity_ = activity;\n    this.scheduledWait_ = wait;\n\n    if (this.runner_) {\n      this.playbackWhenReady_(activity, wait);\n    }\n  }\n\n  /**\n   * Executes playback activity if runner is ready.\n   * @param {!PlaybackActivity} activity\n   * @param {?Promise} wait\n   * @private\n   */\n  playbackWhenReady_(activity, wait) {\n    const runner =\n        /**\n         * @type {!../../amp-animation/0.1/web-animations.WebAnimationRunner}\n         */\n        (dev().assert(\n            this.runner_,\n            'Tried to execute playbackWhenReady_ before runner was resolved.'));\n\n    (wait || Promise.resolve()).then(() => {\n      if (!this.isActivityScheduled_(activity)) {\n        return;\n      }\n\n      this.scheduledActivity_ = null;\n      this.scheduledWait_ = null;\n\n      switch (activity) {\n        case PlaybackActivity.START: return this.startWhenReady_(runner);\n        case PlaybackActivity.FINISH: return this.finishWhenReady_(runner);\n      }\n    });\n  }\n\n  /**\n   * Marks runner as ready and executes playback activity if needed.\n   * @param {!../../amp-animation/0.1/web-animations.WebAnimationRunner} runner\n   * @private\n   */\n  onRunnerReady_(runner) {\n    this.runner_ = runner;\n\n    runner.onPlayStateChanged(state => {\n      if (state == WebAnimationPlayState.FINISHED) {\n        this.notifyFinish_();\n      }\n    });\n\n    if (!this.isActivityScheduled_()) {\n      return;\n    }\n\n    this.playbackWhenReady_(\n        /** @type {!PlaybackActivity} */ (this.scheduledActivity_),\n        this.scheduledWait_);\n  }\n\n  /**\n   * @param {!PlaybackActivity=} opt_activity\n   * @return {boolean}\n   * @private\n   */\n  isActivityScheduled_(opt_activity) {\n    if (!opt_activity) {\n      return this.scheduledActivity_ !== null;\n    }\n    return this.scheduledActivity_ === opt_activity;\n  }\n\n  /** @private */\n  notifyFinish_() {\n    if (this.target_.id) {\n      this.sequence_.notifyFinish(this.target_.id);\n    }\n  }\n}\n\n\n// TODO(alanorozco): Looping animations\n/** Manager for animations in story pages. */\nexport class AnimationManager {\n  /**\n   * @param {!Element} root\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   */\n  constructor(root, ampdoc) {\n    dev().assert(hasAnimations(root));\n\n    /** @private @const */\n    this.root_ = root;\n\n    /** @private @const */\n    this.ampdoc_ = ampdoc;\n\n    /** @private @const */\n    this.vsync_ = Services.vsyncFor(this.ampdoc_.win);\n\n    /** @private @const */\n    this.timer_ = Services.timerFor(this.ampdoc_.win);\n\n    /** @private @const */\n    this.builderPromise_ = this.createAnimationBuilderPromise_();\n\n    /** @private {?Array<!Promise<!AnimationRunner>>} */\n    this.runners_ = null;\n\n    /** @private */\n    this.sequence_ = AnimationSequence.create();\n  }\n\n  /**\n   * Decouples constructor so it can be stubbed in tests.\n   * @param {!Element} root\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   * @param {string} unusedBaseUrl\n   * @return {!AnimationManager}\n   */\n  static create(root, ampdoc, unusedBaseUrl) {\n    return new AnimationManager(root, ampdoc);\n  }\n\n  /**\n   * Applies first frame to target element before starting animation.\n   * @return {!Promise}\n   */\n  applyFirstFrame() {\n    return Promise.all(\n        this.getOrCreateRunners_().map(runner => runner.applyFirstFrame()));\n  }\n\n  /** Starts all entrance animations for the page. */\n  animateIn() {\n    this.getRunners_().forEach(runner => runner.start());\n  }\n\n  /** Skips all entrance animations for the page. */\n  finishAll() {\n    this.getRunners_().forEach(runner => runner.finish());\n  }\n\n  /** Cancels all entrance animations for the page. */\n  cancelAll() {\n    if (!this.runners_) {\n      // nothing to cancel when the first frame has not been applied yet.\n      return;\n    }\n    this.getRunners_().forEach(runner => runner.cancel());\n  }\n\n  /** Determines if there is an entrance animation running. */\n  hasAnimationStarted() {\n    return this.getRunners_().some(runner => runner.hasStarted());\n  }\n\n  /** @private */\n  getRunners_() {\n    return dev().assert(this.runners_, 'Executed before applyFirstFrame');\n  }\n\n  /**\n   * @return {!Array<!AnimationRunner>}\n   * @private\n   */\n  getOrCreateRunners_() {\n    if (!this.runners_) {\n      this.runners_ = Array.prototype.map.call(\n          scopedQuerySelectorAll(this.root_, ANIMATABLE_ELEMENTS_SELECTOR),\n          el => this.createRunner_(el));\n    }\n    return dev().assert(this.runners_);\n  }\n\n  /**\n   * @param {!Element} el\n   * @return {!AnimationRunner}\n   */\n  createRunner_(el) {\n    const preset = this.getPreset_(el);\n    const animationDef = this.createAnimationDef(el, preset);\n\n    return new AnimationRunner(\n        this.root_,\n        animationDef,\n        dev().assert(this.builderPromise_),\n        this.vsync_,\n        this.timer_,\n        this.sequence_);\n  }\n\n  /**\n   * @param {!Element} el\n   * @param {!StoryAnimationPresetDef} preset\n   * @return {!StoryAnimationDef}\n   */\n  createAnimationDef(el, preset) {\n    const animationDef = {target: el, preset};\n\n    if (el.hasAttribute(ANIMATE_IN_DURATION_ATTRIBUTE_NAME)) {\n      animationDef.duration =\n          timeStrToMillis(el.getAttribute(ANIMATE_IN_DURATION_ATTRIBUTE_NAME));\n    }\n\n    if (el.hasAttribute(ANIMATE_IN_DELAY_ATTRIBUTE_NAME)) {\n      animationDef.delay =\n          timeStrToMillis(el.getAttribute(ANIMATE_IN_DELAY_ATTRIBUTE_NAME));\n    }\n\n    if (el.hasAttribute(ANIMATE_IN_AFTER_ATTRIBUTE_NAME)) {\n      const dependencyId = el.getAttribute(ANIMATE_IN_AFTER_ATTRIBUTE_NAME);\n\n      user().assertElement(\n          this.root_.querySelector(`#${escapeCssSelectorIdent(dependencyId)}`),\n          `The attribute '${ANIMATE_IN_AFTER_ATTRIBUTE_NAME}' in tag ` +\n              `'${el.tagName}' is set to the invalid value ` +\n              `'${dependencyId}'. No children of parenting 'amp-story-page' ` +\n              `exist with id ${dependencyId}.`);\n\n      animationDef.startAfterId =\n          el.getAttribute(ANIMATE_IN_AFTER_ATTRIBUTE_NAME);\n    }\n\n    return animationDef;\n  }\n\n  /**\n   * @return {!Promise<!../../amp-animation/0.1/web-animations.Builder>}\n   * @private\n   */\n  createAnimationBuilderPromise_() {\n    return Services.extensionsFor(this.ampdoc_.win)\n        .installExtensionForDoc(this.ampdoc_, 'amp-animation')\n        .then(() => Services.webAnimationServiceFor(this.ampdoc_))\n        .then(webAnimationService => webAnimationService.createBuilder());\n  }\n\n  /**\n   * @param {!Element} el\n   * @return {!StoryAnimationPresetDef}\n   */\n  getPreset_(el) {\n    const name = el.getAttribute(ANIMATE_IN_ATTRIBUTE_NAME);\n    setStyleForPreset(el, name);\n\n    return user().assert(\n        PRESETS[name],\n        'Invalid %s preset \"%s\" for element %s',\n        ANIMATE_IN_ATTRIBUTE_NAME,\n        name,\n        el);\n  }\n}\n\n\n/** Bus for animation sequencing. */\nclass AnimationSequence {\n  /**\n   * @public\n   */\n  constructor() {\n    /** @private @const {!Object<string, !Promise>} */\n    this.subscriptionPromises_ = map();\n\n    /** @private @const {!Object<string, !Function>} */\n    this.subscriptionResolvers_ = map();\n  }\n\n  /** Decouples constructor for testing. */\n  static create() {\n    return new AnimationSequence();\n  }\n\n  /**\n   * Notifies dependent elements that animation has finished.\n   * @param {string} id\n   */\n  notifyFinish(id) {\n    if (id in this.subscriptionPromises_) {\n      dev().assert(this.subscriptionResolvers_[id])();\n\n      delete this.subscriptionPromises_[id];\n    }\n  }\n\n  /**\n   * Waits for another element to finish animating.\n   * @param {string} id\n   * @return {!Promise<void>}\n   */\n  waitFor(id) {\n    if (!(id in this.subscriptionPromises_)) {\n      const deferred = new Deferred();\n      this.subscriptionPromises_[id] = deferred.promise;\n      this.subscriptionResolvers_[id] = deferred.resolve;\n    }\n    return this.subscriptionPromises_[id];\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {assertHttpsUrl} from '../../../src/url';\n\n/**\n * @const {string}\n */\nconst BACKGROUND_AUDIO_ELEMENT_CLASS_NAME = 'i-amphtml-story-background-audio';\n\n\n/**\n * Adds support for the background-audio property on the specified element.\n * @param {!Element} element The element to upgrade with support for background\n *     audio.\n * @return {?Element} audioEl\n */\nexport function upgradeBackgroundAudio(element) {\n  if (!element.hasAttribute('background-audio')) {\n    return null;\n  }\n\n  const audioEl = element.ownerDocument.createElement('audio');\n  const audioSrc =\n      assertHttpsUrl(element.getAttribute('background-audio'), element);\n  audioEl.setAttribute('src', audioSrc);\n  audioEl.setAttribute('preload', 'auto');\n  audioEl.setAttribute('loop', '');\n  audioEl.setAttribute('autoplay', '');\n  audioEl.setAttribute('muted', '');\n  audioEl.muted = true;\n  audioEl.classList.add(BACKGROUND_AUDIO_ELEMENT_CLASS_NAME);\n  element.appendChild(audioEl);\n\n  return audioEl;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../../src/services';\nimport {listenOncePromise} from '../../../src/event-helper';\nimport {setStyle} from '../../../src/style';\n\n\n/** @const {number} */\nconst SWAP_TIMEOUT_MS = 500;\n\n\nconst BACKGROUND_CLASS = 'i-amphtml-story-background';\n\nconst BACKGROUND_CONTAINER_CLASS = 'i-amphtml-story-background-container';\n\nconst BACKGROUND_OVERLAY_CLASS = 'i-amphtml-story-background-overlay';\n\n\n\n/**\n * @param {?string} url\n * @return {!Promise}\n */\nfunction maybeLoadImage(url) {\n  if (!url) {\n    return Promise.resolve();\n  }\n  const img = new Image;\n  img.src = url;\n  return listenOncePromise(img, 'load');\n}\n\n\n/**\n * TODO(cvializ): Investigate pre-rendering blurred backgrounds to canvas to\n * possibly improve performance?\n */\nexport class AmpStoryBackground {\n  /**\n   * @param {!Window} win\n   * @param {!Element} element\n   */\n  constructor(win, element) {\n    /* @private @const {!Element} */\n    this.element_ = element;\n\n    /* @private @const {!Window} */\n    this.win_ = win;\n\n    /* @private {number} */\n    this.count_ = 0;\n\n    /** @private @const */\n    this.container_ = this.element_.ownerDocument.createElement('div');\n\n    /** @private @const */\n    this.containerOverlay_ = this.element_.ownerDocument.createElement('div');\n\n    /** @private {!Element} */\n    this.hidden_ = this.createBackground_();\n\n    /** @private {!Element} */\n    this.active_ = this.createBackground_();\n\n    this.container_.classList.add(BACKGROUND_CONTAINER_CLASS);\n    this.containerOverlay_.classList.add(BACKGROUND_OVERLAY_CLASS);\n\n    this.container_.appendChild(this.hidden_);\n    this.container_.appendChild(this.active_);\n    this.container_.appendChild(this.containerOverlay_);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  createBackground_() {\n    const bg = this.element_.ownerDocument.createElement('div');\n    bg.classList.add(BACKGROUND_CLASS);\n    return bg;\n  }\n\n  /**\n   * Attach the backgrounds to the document.\n   */\n  attach() {\n    this.element_.insertBefore(this.container_, this.element_.firstChild);\n  }\n\n  /**\n   * Update the background with new background image URL.\n   * @param {string} color\n   * @param {?string} url\n   * @param {boolean=} initial\n   */\n  setBackground(color, url, initial = false) {\n    const countAtAdd = ++this.count_;\n\n    const whenFresh = (promise, callback) => promise.then(() => {\n      if (this.count_ == countAtAdd) {\n        callback();\n      }\n    });\n\n    const imgLoad = maybeLoadImage(url);\n    const timeout =\n        Services.timerFor(this.win_).promise(initial ? 0 : SWAP_TIMEOUT_MS);\n\n    const hidden = this.hidden_;\n\n    setStyle(hidden, 'background-image', 'none');\n\n    // Image will be swapped on load.\n    whenFresh(imgLoad, () => {\n      setStyle(hidden, 'background-image', url ? `url(${url})` : null);\n    });\n\n    // Color will always be swapped on timeout.\n    whenFresh(Promise.race([imgLoad, timeout]), () => {\n      setStyle(hidden, 'background-color', color);\n      this.rotateActiveBackground_();\n    });\n  }\n\n  /**\n   * Rotates the classes on page background to bring the new bacground in\n   * foreground.\n   * @private\n   */\n  rotateActiveBackground_() {\n    const newHidden = this.active_;\n    this.active_ = this.hidden_;\n    this.hidden_ = newHidden;\n    this.active_.classList.add('active');\n    this.hidden_.classList.remove('active');\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const BLANK_AUDIO_SRC = 'data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBA' +\n    'AAAABAAEAIlYAAESsAAACABAAZGF0YRAAAAAAAAAAAAAAAAAAAAAAAA==';\n\nexport const BLANK_VIDEO_SRC = 'data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAG' +\n    'lzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARw' +\n    'AAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIE' +\n    'guMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3' +\n    'd3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYm' +\n    'xvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3' +\n    'JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbG' +\n    'lzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV' +\n    '9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3Rocm' +\n    'VhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb2' +\n    '5zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbn' +\n    'RfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcm' +\n    'M9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcH' +\n    'N0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYW' +\n    'xfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8m' +\n    'KAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX' +\n    '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' +\n    'AAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAAD' +\n    'MAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAA' +\n    'AACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAA' +\n    'kAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAA' +\n    'AACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAA' +\n    'AAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAA' +\n    'AEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ' +\n    '0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAA' +\n    'AAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYX' +\n    'ZmNTUuMzMuMTAw';\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LogLevel, dev} from '../../../src/log';\nimport {Services} from '../../../src/services';\nimport {isArray} from '../../../src/types';\nimport {removeChildren} from '../../../src/dom';\n\n\n/**\n * @param {!../../../src/service/vsync-impl.Vsync} vsync\n * @param {!Element} el\n * @param {boolean} isHidden\n */\nfunction toggleHiddenAttribute(vsync, el, isHidden) {\n  vsync.mutate(() => {\n    if (isHidden) {\n      el.setAttribute('hidden', 'hidden');\n    } else {\n      el.removeAttribute('hidden');\n    }\n  });\n}\n\n\n/**\n * @param {!Window} win\n * @param {string|!Array<string>} classNameOrList\n * @param {function(Event)} handler\n * @return {!Element}\n */\nfunction createButton(win, classNameOrList, handler) {\n  const button = win.document.createElement('div');\n  button.setAttribute('role', 'button');\n\n  if (isArray(classNameOrList)) {\n    classNameOrList.forEach(className => button.classList.add(className));\n  } else {\n    button.classList.add(/** @type {string} */ (classNameOrList));\n  }\n  button.classList.add('i-amphtml-story-button');\n  button.addEventListener('click', handler);\n  return button;\n}\n\n\n/**\n * Development mode logs buttons.\n */\nexport class DevelopmentModeLogButtonSet {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {?Element} */\n    this.errorButton_ = null;\n\n    /** @private {?Element} */\n    this.warningButton_ = null;\n\n    /** @private {?Element} */\n    this.successButton_ = null;\n  }\n\n\n  /**\n   * @param {!Window} win\n   */\n  static create(win) {\n    return new DevelopmentModeLogButtonSet(win);\n  }\n\n\n  /**\n   * Builds the developer log button set element.\n   * @param {function()} logButtonActionFn A callback function to be invoked when\n   *     the log buttons are clicked.\n   * @return {?Element}\n   */\n  build(logButtonActionFn) {\n    this.errorButton_ = createButton(this.win_,\n        ['i-amphtml-story-error-button', 'i-amphtml-story-dev-logs-button'],\n        () => logButtonActionFn());\n\n    this.warningButton_ = createButton(this.win_,\n        ['i-amphtml-story-warning-button', 'i-amphtml-story-dev-logs-button'],\n        () => logButtonActionFn());\n\n    this.successButton_ = createButton(this.win_,\n        ['i-amphtml-story-success-button', 'i-amphtml-story-dev-logs-button'],\n        () => logButtonActionFn());\n\n\n    this.root_ = this.win_.document.createElement('div');\n    this.root_.appendChild(this.errorButton_);\n    this.root_.appendChild(this.warningButton_);\n    this.root_.appendChild(this.successButton_);\n\n    return this.root_;\n  }\n\n\n  /**\n   * Gets the button associated to a given log entry.\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry The log entry for which\n   *     the associated button shouldbe retrieved.\n   * @return {?Element} The button associated to the specified log entry, if one\n   *     exists.\n   * @private\n   */\n  getButtonForLogEntry_(logEntry) {\n    if (logEntry.conforms) {\n      return this.successButton_;\n    }\n\n    switch (logEntry.level) {\n      case LogLevel.ERROR:\n        return this.errorButton_;\n      case LogLevel.WARN:\n        return this.warningButton_;\n      default:\n        return null;\n    }\n  }\n\n\n  /**\n   * Logs an individual entry into the developer log.\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry The entry to log.\n   */\n  log(logEntry) {\n    const button = this.getButtonForLogEntry_(logEntry);\n    if (!button) {\n      return;\n    }\n\n    const oldCount = parseInt(button.getAttribute('data-count') || 0, 10);\n    button.setAttribute('data-count', oldCount + 1);\n  }\n\n\n  /**\n   * Clears any error state held by the buttons.\n   */\n  clear() {\n    this.errorButton_.setAttribute('data-count', 0);\n    this.warningButton_.setAttribute('data-count', 0);\n    this.successButton_.setAttribute('data-count', 0);\n  }\n}\n\n\n/**\n * Development mode log for <amp-story>.\n */\nexport class DevelopmentModeLog {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {?Element} */\n    this.entriesEl_ = null;\n\n    /** @private {?Element} */\n    this.contextStringEl_ = null;\n  }\n\n\n  /**\n   * @param {!Window} win\n   */\n  static create(win) {\n    return new DevelopmentModeLog(win);\n  }\n\n\n  /**\n   * Builds the developer log element.\n   * @return {?Element}\n   */\n  build() {\n    this.contextStringEl_ = this.win_.document.createElement('span');\n    this.contextStringEl_.classList\n        .add('i-amphtml-story-developer-log-context');\n    const titleEl = this.win_.document.createElement('div');\n    titleEl.textContent = 'Developer logs for page ';\n    titleEl.appendChild(this.contextStringEl_);\n\n    const closeDeveloperLogEl = createButton(this.win_,\n        'i-amphtml-story-developer-log-close',\n        () => this.hide());\n\n    const headerEl = this.win_.document.createElement('div');\n    headerEl.classList.add('i-amphtml-story-developer-log-header');\n    headerEl.appendChild(titleEl);\n    headerEl.appendChild(closeDeveloperLogEl);\n\n    this.entriesEl_ = this.win_.document.createElement('ul');\n    this.entriesEl_.classList\n        .add('i-amphtml-story-developer-log-entries');\n\n    this.root_ = this.win_.document.createElement('div');\n    this.root_.classList.add('i-amphtml-story-developer-log');\n    this.root_.setAttribute('hidden', '');\n    this.root_.appendChild(headerEl);\n    this.root_.appendChild(this.entriesEl_);\n\n    this.clear();\n    return this.root_;\n  }\n\n\n  /**\n   * @param {!LogLevel} logLevel\n   * @return {?string} The CSS class to be applied to the log entry, given the\n   *     specified log level, or null if no class should be added.\n   * @private\n   */\n  getCssLogLevelClass_(logLevel) {\n    switch (logLevel) {\n      case LogLevel.WARN:\n        return 'i-amphtml-story-developer-log-entry-warning';\n      case LogLevel.ERROR:\n        return 'i-amphtml-story-developer-log-entry-error';\n      default:\n        return null;\n    }\n  }\n\n\n  /**\n   * @param {boolean} conforms Whether the log entry is for an element that\n   *     conforms to a best practice.\n   * @return {?string} The CSS class to be applied to the log entry, given the\n   *     element's conformance to a best practice, or null if no class should be\n   *     added.\n   * @private\n   */\n  getCssConformanceClass_(conforms) {\n    if (conforms) {\n      return 'i-amphtml-story-developer-log-entry-success';\n    }\n\n    return null;\n  }\n\n\n  /**\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry The entry to be logged.\n   */\n  log(logEntry) {\n    const logLevelClass = this.getCssLogLevelClass_(logEntry.level);\n    const conformanceClass = this.getCssConformanceClass_(logEntry.conforms);\n\n    const logEntryUi = this.win_.document.createElement('li');\n    logEntryUi.classList.add('i-amphtml-story-developer-log-entry');\n\n    if (logLevelClass) {\n      logEntryUi.classList.add(logLevelClass);\n    }\n\n    if (conformanceClass) {\n      logEntryUi.classList.add(conformanceClass);\n    }\n\n    logEntryUi.textContent = logEntry.message;\n    this.entriesEl_.appendChild(logEntryUi);\n  }\n\n\n  /**\n   * Clears all entries from the developer logs.\n   */\n  clear() {\n    Services.vsyncFor(this.win_).mutate(() => {\n      removeChildren(dev().assertElement(this.entriesEl_));\n    });\n  }\n\n\n  /**\n   * Sets the string providing context for the developer logs window.  This is\n   * often the name or ID of the element that all logs are for (e.g. the page).\n   * @param {string} contextString\n   */\n  setContextString(contextString) {\n    this.contextStringEl_.textContent = contextString;\n  }\n\n\n  /**\n   * Toggles the visibility of the developer log.\n   */\n  toggle() {\n    const newHiddenState = !this.root_.hasAttribute('hidden');\n    toggleHiddenAttribute(\n        Services.vsyncFor(this.win_), dev().assertElement(this.root_),\n        newHiddenState);\n  }\n\n\n  /**\n   * Hides the developer log in the UI.\n   */\n  hide() {\n    toggleHiddenAttribute(\n        Services.vsyncFor(this.win_), dev().assertElement(this.root_),\n        /* isHidden */ true);\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {isEnumValue} from '../../../src/types';\nimport {parseQueryString} from '../../../src/url';\n\n\n/**\n * Embed mode for AMP story.  See ../embed-modes.md for details.\n * @enum {number}\n */\nexport const EmbedMode = {\n  /**\n   * Default mode.\n   */\n  NOT_EMBEDDED: 0,\n\n  /**\n   * TBD embed mode.\n   *\n   * This differs from the NOT_EMBEDDED embed mode in the following ways:\n   * - Hides bookend\n   * - Hides all system layer buttons\n   * - Disables swipe-based user education\n   * - Disallows ads\n   * - Unmutes audio in the story by default\n   */\n  NAME_TBD: 1,\n\n  /**\n   * This mode is intended for embedders that natively handle sharing the story,\n   * thereby rendering the sharing functionality within the amp-story extension\n   * redundant.\n   *\n   * This differs from the NOT_EMBEDDED embed mode in the following ways:\n   * - Removes \"share\" pill from desktop UI\n   * - Removes \"share\" icon from mobile UI\n   * - Removes sharing section from bookend\n   * - TODO(#14923): Removes the link information from embedded UIs.\n   */\n  NO_SHARING: 2,\n};\n\n\n/**\n * Parameter to retrieve the embed mode from the location hash.\n * @type {string}\n */\nexport const EmbedModeParam = 'embedMode';\n\n\n/**\n * @param {string} str\n * @return {!EmbedMode}\n * @private\n */\nexport function parseEmbedMode(str) {\n  const params = parseQueryString(str);\n  const unsanitizedEmbedMode = params[EmbedModeParam];\n  const embedModeIndex = parseInt(unsanitizedEmbedMode, 10);\n\n  return isEnumValue(EmbedMode, embedModeIndex)\n    ? /** @type {!EmbedMode} */ (embedModeIndex)\n    : EmbedMode.NOT_EMBEDDED;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createCustomEvent} from '../../../src/event-helper';\n\n\n/** @const {!Object<string, string>} */\nexport const EventType = {\n  // Triggered when the user mutes the story\n  MUTE: 'ampstory:mute',\n\n  // Triggered when the user unmutes the story\n  UNMUTE: 'ampstory:unmute',\n\n  // Triggered when the story should switch to a specified page\n  SWITCH_PAGE: 'ampstory:switchpage',\n\n  // Triggered when the story should switch to the previous page\n  PREVIOUS_PAGE: 'ampstory:previouspage',\n\n  // Triggered when the story should switch to the next page\n  NEXT_PAGE: 'ampstory:nextpage',\n\n  // Triggered when the story should navigate after a tap on active page.\n  TAP_NAVIGATION: 'ampstory:tapnavigation',\n\n  // Triggered when a page updates its progress\n  PAGE_PROGRESS: 'ampstory:pageprogress',\n\n  // Triggered when the story should be replayed\n  REPLAY: 'ampstory:replay',\n\n  // DEVELOPMENT MODE ONLY: Triggered when a story page has log entries (e.g.\n  // warnings or errors).\n  DEV_LOG_ENTRIES_AVAILABLE: 'ampstory:devlogentriesavailable',\n\n  // Triggered when user clicks on left 25% of the first page\n  SHOW_NO_PREVIOUS_PAGE_HELP: 'ampstory:shownopreviouspagehelp',\n\n  // Triggered when a story has loaded at least its initial set of pages.\n  STORY_LOADED: 'ampstory:load',\n\n  // Triggered when a page has loaded at least one frame of all of its media.\n  PAGE_LOADED: 'ampstory:pageload',\n};\n\n\n/**\n * @param {!EventTarget} source\n * @param {string} eventName\n * @param {boolean=} opt_bubbles\n */\nexport function dispatch(source, eventName, opt_bubbles) {\n  const event = new Event(eventName, {bubbles: !!opt_bubbles});\n  if (event.initEvent) {\n    event.initEvent(eventName, /* bubbles */ !!opt_bubbles,\n        /* cancelable */ false);\n  }\n  source.dispatchEvent(event);\n}\n\n\n/**\n * @param {!Window} win\n * @param {!EventTarget} source\n * @param {string} eventName\n * @param {!JsonObject} payload\n * @param {!CustomEventInit=} opt_eventInit\n */\nexport function dispatchCustom(win, source, eventName, payload, opt_eventInit) {\n  const event = createCustomEvent(win, eventName, payload, opt_eventInit);\n  source.dispatchEvent(event);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {isJsonLdScriptTag} from '../../../src/dom';\nimport {tryParseJson} from '../../../src/json';\nimport {user} from '../../../src/log';\n\nconst TAG = 'getJsonLd';\n\n/**\n * @param {!Node} root\n * @return {?JsonObject}\n */\nexport function getJsonLd(root) {\n  const scriptTag = root.querySelector('script[type=\"application/ld+json\"]');\n\n  if (!scriptTag || !isJsonLdScriptTag(scriptTag)) {\n    return null;\n  }\n\n  return tryParseJson(scriptTag.textContent, e => {\n    user().error(TAG, 'Failed to parse ld+json. Is it valid JSON?', e);\n  }) || null;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/** @const {string} */\nconst SPINNER_ACTIVE_ATTRIBUTE = 'active';\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst SPINNER = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-spinner',\n    'aria-hidden': 'true',\n    'aria-label': 'Loading video',\n  }),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({\n        'class': 'i-amphtml-story-spinner-container',\n      }),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({\n            'class': 'i-amphtml-story-spinner-layer',\n          }),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({\n                'class': 'i-amphtml-story-spinner-circle-clipper left',\n              }),\n            },\n            {\n              tag: 'div',\n              attrs: dict({\n                'class': 'i-amphtml-story-spinner-circle-clipper right',\n              }),\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n\n/**\n * Loading spinner UI element.\n */\nexport class LoadingSpinner {\n  /**\n   * @param {!Document} doc\n   */\n  constructor(doc) {\n    /** @private @const {!Document} */\n    this.doc_ = doc;\n\n    /** @public {?Element} */\n    this.root_ = null;\n\n    /** @private {boolean} */\n    this.isActive_ = false;\n  }\n\n  /**\n   * @return {!Element}\n   */\n  build() {\n    if (this.root_) {\n      return this.root_;\n    }\n\n    this.root_ = renderAsElement(this.doc_, SPINNER);\n\n    return this.getRoot();\n  }\n\n  /** @return {!Element} */\n  getRoot() {\n    return dev().assertElement(this.root_);\n  }\n\n  /** @param {boolean} isActive */\n  toggle(isActive) {\n    if (isActive === this.isActive_) {\n      return;\n    }\n    if (isActive) {\n      this.root_.setAttribute(SPINNER_ACTIVE_ATTRIBUTE, '');\n      this.root_.setAttribute('aria-hidden', 'false');\n    } else {\n      this.root_.removeAttribute(SPINNER_ACTIVE_ATTRIBUTE);\n      this.root_.setAttribute('aria-hidden', 'true');\n    }\n    this.isActive_ = isActive;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {closest} from '../../../src/dom';\nimport {parseJson} from '../../../src/json';\n\n\n/**\n * A unique identifier for each localized string.  Localized string IDs should:\n *\n *   - Maintain alphabetical order\n *   - Be prefixed with the name of the extension that uses the string\n *     (e.g. \"AMP_STORY_\"), or with \"AMP_\" if they are general\n *   - NOT be reused; to deprecate an ID, comment it out and prefix its key with\n *     the string \"DEPRECATED_\"\n *\n * Next ID: 29\n *\n * @const @enum {string}\n */\nexport const LocalizedStringId = {\n  // amp-story\n  AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE: '28',\n  AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL: '27',\n  AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL: '22',\n  AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL: '23',\n  AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL: '25',\n  AMP_STORY_DOMAIN_DIALOG_HEADING_LINK: '26',\n  AMP_STORY_EXPERIMENT_ENABLE_BUTTON_LABEL: '0',\n  AMP_STORY_EXPERIMENT_ENABLED_TEXT: '1',\n  AMP_STORY_HINT_UI_NEXT_LABEL: '2',\n  AMP_STORY_HINT_UI_PREVIOUS_LABEL: '3',\n  AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT: '4',\n  AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT: '5',\n  AMP_STORY_SHARING_PROVIDER_NAME_EMAIL: '6',\n  AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK: '7',\n  AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS: '8',\n  AMP_STORY_SHARING_PROVIDER_NAME_LINK: '9',\n  AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN: '10',\n  AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST: '11',\n  AMP_STORY_SHARING_PROVIDER_NAME_SMS: '12',\n  AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM: '13',\n  AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR: '14',\n  AMP_STORY_SHARING_PROVIDER_NAME_TWITTER: '15',\n  AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP: '16',\n  AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL: '17',\n  AMP_STORY_WARNING_DESKTOP_SIZE_TEXT: '18',\n  AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT: '19',\n  AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT: '20',\n  AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT: '21',\n  // DEPRECATED_AMP_STORY_CONSENT_DISMISS_DIALOG_BUTTON_LABEL: '24',\n};\n\n\n/**\n * @typedef {{\n *   string: string,\n *   description: string,\n * }}\n */\nexport let LocalizedStringDef;\n\n\n/**\n * @typedef {!Object<!LocalizedStringId, !LocalizedStringDef>}\n */\nexport let LocalizedStringBundleDef;\n\n\n/**\n * Language code used if there is no language code specified by the document.\n * @const {string}\n */\nconst DEFAULT_LANGUAGE_CODE = 'default';\n\n\n/**\n * @const {!RegExp}\n */\nconst LANGUAGE_CODE_CHUNK_REGEX = /\\w+/gi;\n\n\n/**\n * @param {string} languageCode\n * @return {!Array<string>} A list of language codes.\n */\nexport function getLanguageCodesFromString(languageCode) {\n  if (!languageCode) {\n    return ['en', DEFAULT_LANGUAGE_CODE];\n  }\n  const matches = languageCode.match(LANGUAGE_CODE_CHUNK_REGEX) || [];\n  return matches.reduce((fallbackLanguageCodeList, chunk, index) => {\n    const fallbackLanguageCode = matches.slice(0, index + 1)\n        .join('-')\n        .toLowerCase();\n    fallbackLanguageCodeList.unshift(fallbackLanguageCode);\n    return fallbackLanguageCodeList;\n  }, [DEFAULT_LANGUAGE_CODE]);\n}\n\n\n/**\n * Gets the string matching the specified localized string ID in the language\n * specified.\n * @param {!Object<string, LocalizedStringBundleDef>} localizedStringBundles\n * @param {!Array<string>} languageCodes\n * @param {!LocalizedStringId} localizedStringId\n */\nfunction findLocalizedString(localizedStringBundles, languageCodes,\n  localizedStringId) {\n  let localizedString = null;\n\n  languageCodes.some(languageCode => {\n    const localizedStringBundle = localizedStringBundles[languageCode];\n    if (localizedStringBundle && localizedStringBundle[localizedStringId] &&\n        localizedStringBundle[localizedStringId].string) {\n      localizedString = localizedStringBundle[localizedStringId].string;\n      return true;\n    }\n\n    return false;\n  });\n\n  return localizedString;\n}\n\n\n/**\n * Creates a deep copy of the specified LocalizedStringBundle.\n * @param {!LocalizedStringBundleDef} localizedStringBundle\n * @return {!LocalizedStringBundleDef}\n */\nfunction cloneLocalizedStringBundle(localizedStringBundle) {\n  return /** @type {!LocalizedStringBundleDef} */ (parseJson(\n      JSON.stringify(/** @type {!JsonObject} */ (localizedStringBundle))));\n}\n\n\n/**\n * Creates a pseudo locale by applying string transformations (specified by the\n * localizationFn) to an existing string bundle, without modifying the original.\n * @param {!LocalizedStringBundleDef} localizedStringBundle The localized\n *     string bundle to be transformed.\n * @param {function(string): string} localizationFn The transformation to be\n *     applied to each string in the bundle.\n * @return {!LocalizedStringBundleDef} The new strings.\n */\nexport function createPseudoLocale(localizedStringBundle, localizationFn) {\n  /** @type {!LocalizedStringBundleDef} */\n  const pseudoLocaleStringBundle =\n      cloneLocalizedStringBundle(localizedStringBundle);\n\n  Object.keys(pseudoLocaleStringBundle).forEach(localizedStringIdAsStr => {\n    const localizedStringId =\n    /** @type {!LocalizedStringId} */ (localizedStringIdAsStr);\n    pseudoLocaleStringBundle[localizedStringId].string =\n        localizationFn(localizedStringBundle[localizedStringId].string);\n  });\n\n  return pseudoLocaleStringBundle;\n}\n\n\n/**\n * Localization service.\n */\nexport class LocalizationService {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    const rootEl = win.document.documentElement;\n\n    /**\n     * @private @const {!Array<string>}\n     */\n    this.rootLanguageCodes_ = this.getLanguageCodesForElement_(rootEl);\n\n    /**\n     * A mapping of language code to localized string bundle.\n     * @private @const {!Object<string, !LocalizedStringBundleDef>}\n     */\n    this.localizedStringBundles_ = {};\n  }\n\n\n  /**\n   * @param {!Element} element\n   * @return {!Array<string>}\n   * @private\n   */\n  getLanguageCodesForElement_(element) {\n    const languageEl = closest(element, el => el.hasAttribute('lang'));\n    const languageCode = languageEl ? languageEl.getAttribute('lang') : null;\n    return getLanguageCodesFromString(languageCode || '');\n  }\n\n\n  /**\n   * @param {string} languageCode The language code to associate with the\n   *     specified localized string bundle.\n   * @param {!LocalizedStringBundleDef} localizedStringBundle The localized\n   *     string bundle to register.\n   * @return {!LocalizationService} For chaining.\n   */\n  registerLocalizedStringBundle(languageCode, localizedStringBundle) {\n    if (!this.localizedStringBundles_[languageCode]) {\n      this.localizedStringBundles_[languageCode] = {};\n    }\n\n    Object.assign(this.localizedStringBundles_[languageCode],\n        localizedStringBundle);\n    return this;\n  }\n\n\n  /**\n   * @param {!LocalizedStringId} LocalizedStringId\n   * @param {!Element=} elementToUse The element where the string will be\n   *     used.  The language is based on the language at that part of the\n   *     document.  If unspecified, will use the document-level language, if\n   *     one exists, or the default otherwise.\n   */\n  getLocalizedString(LocalizedStringId, elementToUse = undefined) {\n    const languageCodes = elementToUse ?\n      this.getLanguageCodesForElement_(elementToUse) :\n      this.rootLanguageCodes_;\n\n    return findLocalizedString(this.localizedStringBundles_, languageCodes,\n        LocalizedStringId);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LogLevel, dev} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {scopedQuerySelectorAll} from '../../../src/dom';\nimport {tryResolve} from '../../../src/utils/promise';\n\n\n/** @typedef {function(!Element): (boolean|!Promise<boolean>)} */\nlet ElementPredicateDef;\n\n/**\n * A log type is an abstract rule or best practice that should be followed when\n * constructing a story.  This is internal to this file, which handles finding\n * specific instances of these log types, and returning them as log entries.\n *\n * message: (required) The message shown to developers in development mode if\n *     the best practice is not followed.\n * level: (required) The log level at which this entry should be logged.\n * moreInfo: (optional) A URL to a page containing additional documentation on\n *     the best practice.\n * selector: (optional) A selector to be queried on the currently-active page,\n *     and whose results will be subject to the best practice (given that they\n *     also match the precondition).  If unspecified, the amp-story-page itself\n *     is assumed to be subject to the best practice.\n * precondition: (optional) A predicate that takes an element and returns true\n *     if the specified element should be subject to the best practice.  If\n *     unspecified, all elements that match the selector are subject to the best\n *     practice.\n * predicate: (optional) A predicate that takes an element and returns true if\n *     the element follows the best practice, or false otherwise.  If\n *     unspecified, all elements are assumed not to follow the best practice.\n *\n * @typedef {{\n *   message: string,\n *   level: !LogLevel,\n *   moreInfo: (string|undefined),\n *   selector: (string|undefined),\n *   precondition: (!ElementPredicateDef|undefined),\n *   predicate: (!ElementPredicateDef|undefined),\n * }}\n */\nlet AmpStoryLogTypeDef;\n\n\n/**\n * A log entry is a more concrete version of a rule or best practice; it refers\n * to whether a specific element on a specific page of a specific story conforms\n * to a given best practice.\n *\n * @typedef {{\n *   element: !Element,\n *   rootElement: !Element,\n *   message: string,\n *   level: !LogLevel,\n *   conforms: boolean,\n *   moreInfo: (string|undefined),\n * }}\n */\nexport let AmpStoryLogEntryDef;\n\n\n/** @private @const {string} */\nconst AMPPROJECT_DOCS = 'https://www.ampproject.org/docs';\n\n\n/**\n * @param  {!HTMLMediaElement} el\n * @return {!Promise<Image>}\n */\nfunction getPosterFromVideo(el) {\n  return new Promise((resolve, reject) => {\n    const poster = new Image();\n    poster.onload = () => resolve(poster);\n    poster.onerror = reject;\n    poster.src = el.getAttribute('poster');\n  });\n}\n\n/** @enum {!AmpStoryLogTypeDef} */\nconst LogType = {\n  /** Errors */\n  VIDEOS_POSTER_SPECIFIED: {\n    message: 'Videos should specify a poster image.',\n    moreInfo: AMPPROJECT_DOCS + '/reference/components/amp-video#poster',\n    selector: 'video:not([poster])',\n    level: LogLevel.ERROR,\n  },\n\n  /** Warnings */\n  IMAGES_MAX_720P_OR_SRCSET: {\n    message: 'Images should not be larger than 720p.  If you wish to use' +\n        ' images that are larger than 720p, you should specify a srcset.',\n    moreInfo: AMPPROJECT_DOCS + '/guides/responsive/art_direction#srcset',\n    selector: 'img:not([srcset])',\n    predicate: el => el.naturalWidth <= 720 && el.naturalHeight <= 1280,\n    level: LogLevel.WARN,\n  },\n\n  IMAGES_PORTRAIT: {\n    message: 'Full-bleed images should be in portrait orientation.',\n    selector: 'amp-story-grid-layer[template=\"fill\"] > amp-img > img',\n    predicate: el => el.naturalWidth < el.naturalHeight,\n    level: LogLevel.WARN,\n  },\n\n  VIDEOS_MAX_720P: {\n    message: 'Videos should not be larger than 720p.',\n    selector: 'video',\n    predicate: el => el.videoWidth <= 720 && el.videoHeight <= 1280,\n    level: LogLevel.WARN,\n  },\n\n  VIDEOS_PORTRAIT: {\n    message: 'Full-bleed videos should be in portrait orientation.',\n    selector: 'amp-story-grid-layer[template=\"fill\"] > amp-video > video',\n    predicate: el => el.videoWidth < el.videoHeight,\n    level: LogLevel.WARN,\n  },\n\n  VIDEO_POSTER_MAX_720P: {\n    message: 'Video poster images should not be larger than 720p.',\n    selector: 'video[poster]',\n    predicate: el => getPosterFromVideo(el)\n        .then(poster => {\n          return poster.naturalWidth <= 720 && poster.naturalHeight <= 1280;\n        }),\n    level: LogLevel.WARN,\n  },\n\n  VIDEO_POSTER_POTRAIT: {\n    message: 'Poster images for full-bleed videos should be in portrait ' +\n        'orientation.',\n    selector: 'amp-story-grid-layer[template=\"fill\"] > amp-video > ' +\n        'video[poster]',\n    predicate: el => getPosterFromVideo(el)\n        .then(poster => poster.naturalWidth < poster.naturalHeight),\n    level: LogLevel.WARN,\n  },\n};\n\n\n/**\n * Gets the log type associated with the specified key.\n * @param {string} logTypeKey\n * @return {!AmpStoryLogTypeDef}\n */\nfunction getLogType(logTypeKey) {\n  const logType = LogType[logTypeKey];\n  dev().assert(logType, `There is no log type \"${logTypeKey}\".`);\n  dev().assert(logType.message,\n      `Log type \"${logTypeKey}\" has no associated message.`);\n  dev().assert(logType.level,\n      `Log type \"${logTypeKey}\" has no associated log level.`);\n\n  return logType;\n}\n\n\n/**\n * @param {!Element} rootElement\n * @param {!AmpStoryLogTypeDef} logType\n * @param {!Element} element\n * @return {!Promise<!AmpStoryLogEntryDef>}\n */\nfunction getLogEntry(rootElement, logType, element) {\n  const predicate = logType.predicate || (unusedEl => false);\n\n  return tryResolve(() => predicate(element))\n      .then(conforms => {\n        return new Promise(resolve => {\n          resolve(dict({\n            'rootElement': rootElement,\n            'element': element,\n            'conforms': conforms,\n            'level': logType.level,\n            'message': logType.message,\n            'moreInfo': logType.moreInfo,\n          }));\n        });\n      });\n}\n\n\n/**\n * @param {!Element} rootElement\n * @param {!AmpStoryLogTypeDef} logType\n * @return {!Array<!Promise<!AmpStoryLogEntryDef>>}\n */\nfunction getLogEntriesForType(rootElement, logType) {\n  const precondition = logType.precondition || (unusedEl => true);\n\n  const elements = logType.selector ?\n    [].slice.call(scopedQuerySelectorAll(rootElement, logType.selector)) :\n    [rootElement];\n\n  return elements\n      .filter(precondition)\n      .map(getLogEntry.bind(/** thisArg */ null, rootElement, logType));\n}\n\n/**\n * @param {!AmpStoryLogEntryDef} logEntryA\n * @param {!AmpStoryLogEntryDef} logEntryB\n * @return {number}\n */\nfunction logEntryCompareFn(logEntryA, logEntryB) {\n  if (logEntryA.conforms == logEntryB.conforms) {\n    // For entries within that are all conformant or all non-conformant, sort by\n    // log level, with most severe entries first and least severe entries last.\n    return logEntryA.level <= logEntryB.level ? -1 : 1;\n  } else {\n    // false < true, so non-conformant issues go before conformant ones.\n    return logEntryA.conforms < logEntryB.conforms ? -1 : 1;\n  }\n}\n\n\n/**\n * Gets a promise which yields a list of log entries for the specified element.\n * @param {!Element} rootElement\n * @return {!Promise<!Array<!AmpStoryLogEntryDef>>}\n */\nexport function getLogEntries(rootElement) {\n  const logEntryPromises = Object.keys(LogType).reduce((entries, key) => {\n    const logType = getLogType(key);\n    const newEntries = getLogEntriesForType(rootElement, logType);\n    return entries.concat(newEntries);\n  }, []);\n\n  return Promise.all(logEntryPromises)\n      .then(logEntries => {\n        return logEntries.sort(logEntryCompareFn);\n      });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BLANK_AUDIO_SRC, BLANK_VIDEO_SRC} from './default-media';\nimport {\n  BlessTask,\n  ELEMENT_BLESSED_PROPERTY_NAME,\n  LoadTask,\n  MuteTask,\n  PauseTask,\n  PlayTask,\n  RewindTask,\n  SwapIntoDomTask,\n  SwapOutOfDomTask,\n  UnmuteTask,\n  UpdateSourcesTask,\n} from './media-tasks';\nimport {Services} from '../../../src/services';\nimport {Sources} from './sources';\nimport {ampMediaElementFor} from './utils';\nimport {dev} from '../../../src/log';\nimport {findIndex} from '../../../src/utils/array';\nimport {isConnectedNode} from '../../../src/dom';\nimport {toWin} from '../../../src/types';\n\n\n/** @const @enum {string} */\nexport const MediaType = {\n  UNSUPPORTED: 'unsupported',\n  AUDIO: 'audio',\n  VIDEO: 'video',\n};\n\n\n/**\n * Represents the distance of an element from the current place in the document.\n * @typedef {function(!HTMLMediaElement): number}\n */\nexport let ElementDistanceFnDef;\n\n\n/**\n * Represents a task to be executed on a media element.\n * @typedef {function(!HTMLMediaElement, *): !Promise}\n */\nlet ElementTaskDef;\n\n\n/**\n * @const {string}\n */\nconst DOM_MEDIA_ELEMENT_ID_PREFIX = 'i-amphtml-media-';\n\n\n/**\n * @const {string}\n */\nconst POOL_MEDIA_ELEMENT_PROPERTY_NAME = '__AMP_MEDIA_POOL_ID__';\n\n\n/**\n * @const {string}\n */\nconst ELEMENT_TASK_QUEUE_PROPERTY_NAME = '__AMP_MEDIA_ELEMENT_TASKS__';\n\n\n/**\n * The name for a string attribute that represents the ID of a media element\n * that the element containing this attribute replaced.\n * @const {string}\n */\nexport const REPLACED_MEDIA_PROPERTY_NAME = 'replaced-media';\n\n\n/**\n * @type {!Object<string, !MediaPool>}\n */\nconst instances = {};\n\n\n/**\n * @type {number}\n */\nlet nextInstanceId = 0;\n\n\nlet elId = 0;\n\n\n/**\n * Media pool class, providing an optimized and cross browser interface to\n * handle HTMLMediaElements.\n */\nexport class MediaPool {\n  /**\n   * @param {!Window} win The window object.\n   * @param {!Object<!MediaType, number>} maxCounts The maximum amount of each\n   *     media element that can be allocated by the pool.\n   * @param {!ElementDistanceFnDef} distanceFn A function that, given an\n   *     element, returns the distance of that element from the current position\n   *     in the document.  The definition of \"distance\" can be implementation-\n   *     dependant, as long as it is consistent between invocations.\n   */\n  constructor(win, maxCounts, distanceFn) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(win);\n\n    /**\n     * The function used to retrieve the distance between an element and the\n     * current position in the document.\n     * @private @const {!ElementDistanceFnDef}\n     */\n    this.distanceFn_ = distanceFn;\n\n    /**\n     * Holds all of the media elements that have been allocated.\n     * @const {!Object<!MediaType, !Array<!HTMLMediaElement>>}\n     * @visibleForTesting\n     */\n    this.allocated = {};\n\n    /**\n     * Holds all of the media elements that have not been allocated.\n     * @const {!Object<!MediaType, !Array<!HTMLMediaElement>>}\n     * @visibleForTesting\n     */\n    this.unallocated = {};\n\n    /**\n     * Maps a media element's ID to the object containing its sources.\n     * @private @const {!Object<string, !Sources>}\n     */\n    this.sources_ = {};\n\n    /**\n     * Maps a media element's ID to the element.  This is necessary, as elements\n     * are kept in memory when they are swapped out of the DOM.\n     * @private @const {!Object<string, !HTMLMediaElement>}\n     */\n    this.domMediaEls_ = {};\n\n    /**\n     * Counter used to produce unique IDs for media elements.\n     * @private {number}\n     */\n    this.idCounter_ = 0;\n\n    /**\n     * Whether the media elements in this MediaPool instance have been \"blessed\"\n     * for unmuted playback without user gesture.\n     * @private {boolean}\n     */\n    this.blessed_ = false;\n\n    /** @const {!Object<string, (function(): !HTMLMediaElement)>} */\n    this.mediaFactory_ = {\n      [MediaType.AUDIO]: () => {\n        const audioEl = this.win_.document.createElement('audio');\n        audioEl.setAttribute('muted', '');\n        audioEl.muted = true;\n        audioEl.classList.add('i-amphtml-pool-media');\n        audioEl.classList.add('i-amphtml-pool-audio');\n        return audioEl;\n      },\n      [MediaType.VIDEO]: () => {\n        const videoEl = this.win_.document.createElement('video');\n        videoEl.setAttribute('muted', '');\n        videoEl.muted = true;\n        videoEl.setAttribute('playsinline', '');\n        videoEl.classList.add('i-amphtml-pool-media');\n        videoEl.classList.add('i-amphtml-pool-video');\n        return videoEl;\n      },\n    };\n\n    this.initializeMediaPool_(maxCounts);\n  }\n\n\n  /**\n   * Fills the media pool by creating the maximum number of media elements for\n   * each of the types of media elements.  We need to create these eagerly so\n   * that all media elements exist by the time that blessAll() is invoked,\n   * thereby \"blessing\" all media elements for playback without user gesture.\n   * @param {!Object<!MediaType, number>} maxCounts The maximum amount of each\n   *     media element that can be allocated by the pool.\n   * @private\n   */\n  initializeMediaPool_(maxCounts) {\n    this.forEachMediaType_(key => {\n      const type = MediaType[key];\n      const count = maxCounts[type] || 0;\n\n      if (count <= 0) {\n        return;\n      }\n\n      const ctor = dev().assert(this.mediaFactory_[type],\n          `Factory for media type \\`${type}\\` unset.`);\n\n      // Cloning nodes is faster than building them.\n      // Construct a seed media element as a small optimization.\n      const mediaElSeed = ctor.call(this);\n\n      this.allocated[type] = [];\n      this.unallocated[type] = [];\n\n      // Reverse-looping is generally faster and Closure would usually make\n      // this optimization automatically. However, it skips it due to a\n      // comparison with the itervar below, so we have to roll it by hand.\n      for (let i = count; i > 0; i--) {\n        const mediaEl = /** @type {!HTMLMediaElement} */\n            // Use seed element at end of set to prevent wasting it.\n            (i == 1 ? mediaElSeed : mediaElSeed.cloneNode(/* deep */ true));\n        const sources = this.getDefaultSource_(type);\n        mediaEl.setAttribute('pool-element', elId++);\n        this.enqueueMediaElementTask_(mediaEl,\n            new UpdateSourcesTask(sources));\n        // TODO(newmuis): Check the 'error' field to see if MEDIA_ERR_DECODE\n        // is returned.  If so, we should adjust the pool size/distribution\n        // between media types.\n        this.unallocated[type].push(mediaEl);\n      }\n    });\n  }\n\n\n  /**\n   * @param {!MediaType} mediaType The media type whose source should be\n   *     retrieved.\n   * @return {!Sources} The default source for the specified type of media.\n   */\n  getDefaultSource_(mediaType) {\n    switch (mediaType) {\n      case MediaType.AUDIO:\n        return new Sources(BLANK_AUDIO_SRC);\n      case MediaType.VIDEO:\n        return new Sources(BLANK_VIDEO_SRC);\n      default:\n        dev().error('AMP-STORY', `No default media for type ${mediaType}.`);\n        return new Sources();\n    }\n  }\n\n\n  /**\n   * Comparison function that compares the distance of each element from the\n   * current position in the document.\n   * @param {!HTMLMediaElement} mediaA The first element to compare.\n   * @param {!HTMLMediaElement} mediaB The second element to compare.\n   * @private\n   */\n  compareMediaDistances_(mediaA, mediaB) {\n    const distanceA = this.distanceFn_(mediaA);\n    const distanceB = this.distanceFn_(mediaB);\n    return distanceA < distanceB ? -1 : 1;\n  }\n\n\n  /**\n   * @return {string} A unique ID.\n   * @private\n   */\n  createDomMediaElementId_() {\n    return DOM_MEDIA_ELEMENT_ID_PREFIX + this.idCounter_++;\n  }\n\n  /**\n   * Gets the media type from a given element.\n   * @param {!HTMLMediaElement} mediaElement The element whose media type should\n   *     be retrieved.\n   * @return {!MediaType}\n   * @private\n   */\n  getMediaType_(mediaElement) {\n    const tagName = mediaElement.tagName.toLowerCase();\n    switch (tagName) {\n      case 'audio':\n        return MediaType.AUDIO;\n      case 'video':\n        return MediaType.VIDEO;\n      default:\n        return MediaType.UNSUPPORTED;\n    }\n  }\n\n\n  /**\n   * Reserves an element of the specified type by removing it from the set of\n   * unallocated elements and returning it.\n   * @param {!MediaType} mediaType The type of media element to reserve.\n   * @return {?HTMLMediaElement} The reserved element, if one exists.\n   * @private\n   */\n  reserveUnallocatedMediaElement_(mediaType) {\n    return this.unallocated[mediaType].pop();\n  }\n\n\n  /**\n   * Retrieves the media element from the pool that matches the specified\n   * element, if one exists.\n   * @param {!MediaType} mediaType The type of media element to get.\n   * @param {!HTMLMediaElement} domMediaEl The element whose matching media\n   *     element should be retrieved.\n   * @return {?HTMLMediaElement} The media element in the pool that represents\n   *     the specified media element\n   */\n  getMatchingMediaElementFromPool_(mediaType, domMediaEl) {\n    if (this.isAllocatedMediaElement_(mediaType, domMediaEl)) {\n      return domMediaEl;\n    }\n\n    const allocatedEls = this.allocated[mediaType];\n    const index = findIndex(allocatedEls, poolMediaEl => {\n      return poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME] === domMediaEl.id;\n    });\n\n    return allocatedEls[index];\n  }\n\n\n  /**\n   * Allocates the specified media element of the specified type.\n   * @param {!MediaType} mediaType The type of media element to allocate.\n   * @param {!HTMLMediaElement} poolMediaEl The element to be allocated.\n   * @private\n   */\n  allocateMediaElement_(mediaType, poolMediaEl) {\n    this.allocated[mediaType].push(poolMediaEl);\n\n    const unallocatedEls = this.unallocated[mediaType];\n    const indexToRemove = unallocatedEls.indexOf(poolMediaEl);\n\n    if (indexToRemove >= 0) {\n      unallocatedEls.splice(indexToRemove, 1);\n    }\n  }\n\n\n  /**\n   * Deallocates and returns the media element of the specified type furthest\n   * from the current position in the document.\n   * @param {!MediaType} mediaType The type of media element to deallocate.\n   * @param {!HTMLMediaElement=} opt_elToAllocate If specified, the element that\n   *     is trying to be allocated, such that another element must be evicted.\n   * @return {?HTMLMediaElement} The deallocated element, if one exists.\n   * @private\n   */\n  deallocateMediaElement_(mediaType, opt_elToAllocate) {\n    const allocatedEls = this.allocated[mediaType];\n\n    // Sort the allocated media elements by distance to ensure that we are\n    // evicting the media element that is furthest from the current place in the\n    // document.\n    allocatedEls.sort((a, b) => this.compareMediaDistances_(a, b));\n\n    // Do not deallocate any media elements if the element being loaded or\n    // played is further than the farthest allocated element.\n    if (opt_elToAllocate) {\n      const furthestEl = allocatedEls[allocatedEls.length - 1];\n      if (!furthestEl ||\n          this.distanceFn_(furthestEl) < this.distanceFn_(opt_elToAllocate)) {\n        return null;\n      }\n    }\n\n    // De-allocate a media element.\n    const poolMediaEl = allocatedEls.pop();\n    this.unallocated[mediaType].push(poolMediaEl);\n    return poolMediaEl;\n  }\n\n\n  /**\n   * Forcibly deallocates a specific media element, regardless of its distance\n   * from the current position in the document.\n   * @param {!HTMLMediaElement} poolMediaEl The element to be deallocated.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully deallocated.\n   */\n  forceDeallocateMediaElement_(poolMediaEl) {\n    const mediaType = this.getMediaType_(poolMediaEl);\n    const allocatedEls = this.allocated[mediaType];\n    const removeFromDom = isConnectedNode(poolMediaEl) ?\n      this.swapPoolMediaElementOutOfDom_(poolMediaEl) : Promise.resolve();\n\n    return removeFromDom.then(() => {\n      const index = allocatedEls.indexOf(poolMediaEl);\n      dev().assert(index >= 0, 'Cannot deallocate unallocated media element.');\n      allocatedEls.splice(index, 1);\n      this.unallocated[mediaType].push(poolMediaEl);\n    });\n  }\n\n\n  /**\n   * Evicts an element of the specified type, replaces it in the DOM with the\n   * original media element, and returns it.\n   * @param {!MediaType} mediaType The type of media element to evict.\n   * @param {!HTMLMediaElement=} opt_elToAllocate If specified, the element that\n   *     is trying to be allocated, such that another element must be evicted.\n   * @return {?HTMLMediaElement} A media element of the specified type.\n   * @private\n   */\n  evictMediaElement_(mediaType, opt_elToAllocate) {\n    const poolMediaEl =\n        this.deallocateMediaElement_(mediaType, opt_elToAllocate);\n    if (!poolMediaEl) {\n      return null;\n    }\n\n    this.swapPoolMediaElementOutOfDom_(poolMediaEl);\n    return poolMediaEl;\n  }\n\n\n  /**\n   * @param {!MediaType} mediaType The media type to check.\n   * @param {!HTMLMediaElement} el The element to check.\n   * @return {boolean} true, if the specified element has already been allocated\n   *     as the specified type of media element.\n   * @private\n   */\n  isAllocatedMediaElement_(mediaType, el) {\n    return this.allocated[mediaType].indexOf(el) >= 0;\n  }\n\n\n  /**\n   * Replaces a media element that was originally in the DOM with a media\n   * element from the pool.\n   * @param {!HTMLMediaElement} domMediaEl The media element originating from\n   *     the DOM.\n   * @param {!HTMLMediaElement} poolMediaEl The media element originating from\n   *     the pool.\n   * @param {!Sources} sources The sources for the media element.\n   * @return {!Promise} A promise that is resolved when the media element has\n   *     been successfully swapped into the DOM.\n   * @private\n   */\n  swapPoolMediaElementIntoDom_(domMediaEl, poolMediaEl, sources) {\n    const ampMediaForPoolEl = ampMediaElementFor(poolMediaEl);\n    const ampMediaForDomEl = ampMediaElementFor(domMediaEl);\n    poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME] = domMediaEl.id;\n\n    return this.enqueueMediaElementTask_(poolMediaEl,\n        new SwapIntoDomTask(domMediaEl))\n        .then(() => {\n          this.maybeResetAmpMedia_(ampMediaForPoolEl);\n          this.maybeResetAmpMedia_(ampMediaForDomEl);\n          this.enqueueMediaElementTask_(poolMediaEl,\n              new UpdateSourcesTask(sources));\n          this.enqueueMediaElementTask_(poolMediaEl, new LoadTask());\n        }, () => {\n          this.forceDeallocateMediaElement_(poolMediaEl);\n        });\n  }\n\n\n  /**\n   * @param {?Element} componentEl\n   * @private\n   */\n  maybeResetAmpMedia_(componentEl) {\n    if (!componentEl) {\n      return;\n    }\n\n    if (componentEl.tagName.toLowerCase() == 'amp-audio') {\n      // TODO(alanorozco): Implement reset for amp-audio\n      return;\n    }\n\n    componentEl.getImpl().then(impl => {\n      if (impl.resetOnDomChange) {\n        impl.resetOnDomChange();\n      }\n    });\n  }\n\n\n  /**\n   * @param {!HTMLMediaElement} poolMediaEl The element whose source should be\n   *     reset.\n   * @return {!Promise} A promise that is resolved when the pool media element\n   *     has been reset.\n   */\n  resetPoolMediaElementSource_(poolMediaEl) {\n    const mediaType = this.getMediaType_(poolMediaEl);\n    const defaultSources = this.getDefaultSource_(mediaType);\n\n    return this.enqueueMediaElementTask_(poolMediaEl,\n        new UpdateSourcesTask(defaultSources));\n  }\n\n\n  /**\n   * Removes a pool media element from the DOM and replaces it with the video\n   * that it originally replaced.\n   * @param {!HTMLMediaElement} poolMediaEl The pool media element to remove\n   *     from the DOM.\n   * @return {!Promise} A promise that is resolved when the media element has\n   *     been successfully swapped out of the DOM.\n   * @private\n   */\n  swapPoolMediaElementOutOfDom_(poolMediaEl) {\n    const oldDomMediaElId = poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME];\n    const oldDomMediaEl = /** @type {!HTMLMediaElement} */ (dev().assertElement(\n        this.domMediaEls_[oldDomMediaElId],\n        'No media element to put back into DOM after eviction.'));\n\n    const swapOutOfDom = this.enqueueMediaElementTask_(poolMediaEl,\n        new SwapOutOfDomTask(oldDomMediaEl))\n        .then(() => {\n          poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME] = null;\n        });\n\n    this.resetPoolMediaElementSource_(poolMediaEl);\n    return swapOutOfDom;\n  }\n\n  /**\n   * @param {function(string)} callbackFn\n   * @private\n   */\n  forEachMediaType_(callbackFn) {\n    Object.keys(MediaType).forEach(callbackFn.bind(this));\n  }\n\n  /**\n   * Invokes a function for all media managed by the media pool.\n   * @param {function(!HTMLMediaElement)} callbackFn The function to be\n   *     invoked.\n   * @private\n   */\n  forEachMediaElement_(callbackFn) {\n    [this.allocated, this.unallocated].forEach(mediaSet => {\n      this.forEachMediaType_(key => {\n        const type = MediaType[key];\n        const els = mediaSet[type];\n        if (!els) {\n          return;\n        }\n        els.forEach(callbackFn.bind(this));\n      });\n    });\n  }\n\n\n  /**\n   * Preloads the content of the specified media element in the DOM and returns\n   * a media element that can be used in its stead for playback.\n   * @param {!HTMLMediaElement} domMediaEl The media element, found in the DOM,\n   *     whose content should be loaded.\n   * @return {Promise<!HTMLMediaElement>} A media element from the pool that can be used\n   *     to replace the specified element.\n   */\n  loadInternal_(domMediaEl) {\n    if (!isConnectedNode(domMediaEl)) {\n      // Don't handle nodes that aren't even in the document.\n      return Promise.resolve();\n    }\n\n    const mediaType = this.getMediaType_(domMediaEl);\n    const existingPoolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n    if (existingPoolMediaEl) {\n      // The element being loaded already has an allocated media element.\n      return Promise.resolve(existingPoolMediaEl);\n    }\n\n    const sources = this.sources_[domMediaEl.id];\n    dev().assert(sources instanceof Sources,\n        'Cannot play unregistered element.');\n\n    const poolMediaEl = this.reserveUnallocatedMediaElement_(mediaType) ||\n        this.evictMediaElement_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      // If there is no space in the pool to allocate a new element, and no\n      // element can be evicted, do not return any element.\n      return Promise.resolve();\n    }\n\n    this.allocateMediaElement_(mediaType, poolMediaEl);\n\n    return this.swapPoolMediaElementIntoDom_(domMediaEl, poolMediaEl, sources)\n        .then(() => poolMediaEl);\n  }\n\n\n  /**\n   * \"Blesses\" the specified media element for future playback without a user\n   * gesture.  In order for this to bless the media element, this function must\n   * be invoked in response to a user gesture.\n   * @param {!HTMLMediaElement} poolMediaEl The media element to bless.\n   * @return {!Promise} A promise that is resolved when blessing the media\n   *     element is complete.\n   */\n  bless_(poolMediaEl) {\n    if (poolMediaEl[ELEMENT_BLESSED_PROPERTY_NAME]) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new BlessTask());\n  }\n\n\n  /**\n   * Registers the specified element to be usable by the media pool.  Elements\n   * should be registered as early as possible, in order to prevent them from\n   * being played while not managed by the media pool.  If the media element is\n   * already registered, this is a no-op.  Registering elements from within the\n   * pool is not allowed, and will also be a no-op.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be registered.\n   * @return {!Promise} A promise that is resolved when the element has been\n   *     successfully registered, or rejected otherwise.\n   */\n  register(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    if (this.isAllocatedMediaElement_(mediaType, domMediaEl)) {\n      // This media element originated from the media pool.\n      return Promise.resolve();\n    }\n\n    const id = domMediaEl.id || this.createDomMediaElementId_();\n    if (this.sources_[id] && this.domMediaEls_[id]) {\n      // This media element is already registered.\n      return Promise.resolve();\n    }\n\n    // This media element has not yet been registered.\n    domMediaEl.id = id;\n    const sources = Sources.removeFrom(domMediaEl);\n    this.sources_[id] = sources;\n    this.domMediaEls_[id] = domMediaEl;\n\n    domMediaEl.muted = true;\n    domMediaEl.setAttribute('muted', '');\n    domMediaEl.pause();\n\n    return Promise.resolve();\n  }\n\n\n  /**\n   * Preloads the content of the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element, found in the DOM,\n   *     whose content should be loaded.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has successfully started preloading.\n   */\n  preload(domMediaEl) {\n    // Empty then() invocation hides the value yielded by the loadInternal_\n    // promise, so that we do not leak the pool media element outside of the\n    // scope of the media pool.\n    return this.loadInternal_(domMediaEl).then();\n  }\n\n\n  /**\n   * Plays the specified media element in the DOM by replacing it with a media\n   * element from the pool and playing that.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be played.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully played.\n   */\n  play(domMediaEl) {\n    return this.loadInternal_(domMediaEl)\n        .then(poolMediaEl => {\n          if (!poolMediaEl) {\n            return Promise.resolve();\n          }\n\n          return this.enqueueMediaElementTask_(poolMediaEl, new PlayTask());\n        });\n  }\n\n\n  /**\n   * Pauses the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be paused.\n   * @param {boolean=} rewindToBeginning Whether to rewind the currentTime\n   *     of media items to the beginning.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully paused.\n   */\n  pause(domMediaEl, rewindToBeginning = false) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new PauseTask())\n        .then(() => {\n          if (rewindToBeginning) {\n            this.enqueueMediaElementTask_(\n                /** @type {!HTMLMediaElement} */ (poolMediaEl),\n                new RewindTask());\n          }\n        });\n  }\n\n\n  /**\n   * Rewinds a specified media element in the DOM to 0.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be rewound.\n   * @return {!Promise} A promise that is resolved when the\n   *     specified media element has been successfully rewound.\n   */\n  rewindToBeginning(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new RewindTask());\n  }\n\n\n  /**\n   * Mutes the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be muted.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully muted.\n   */\n  mute(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new MuteTask());\n  }\n\n\n  /**\n   * Unmutes the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be unmuted.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully paused.\n   */\n  unmute(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new UnmuteTask());\n  }\n\n\n  /**\n   * \"Blesses\" all media elements in the media pool for future playback without\n   * a user gesture.  In order for this to bless the media elements, this\n   * function must be invoked in response to a user gesture.\n   * @return {!Promise} A promise that is resolved when all media elements in\n   *     the pool are blessed.\n   */\n  blessAll() {\n    if (this.blessed_) {\n      return Promise.resolve();\n    }\n\n    const blessPromises = [];\n    this.forEachMediaElement_(mediaEl => {\n      blessPromises.push(this.bless_(mediaEl));\n    });\n\n    return Promise.all(blessPromises)\n        .then(() => {\n          this.blessed_ = true;\n        }).catch(reason => {\n          dev().expectedError('AMP-STORY', 'Blessing all media failed: ',\n              reason);\n        });\n  }\n\n\n  /**\n   * @param {!HTMLMediaElement} mediaEl The element whose task queue should be\n   *     executed.\n   * @private\n   */\n  executeNextMediaElementTask_(mediaEl) {\n    const queue = mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME];\n    if (queue.length === 0) {\n      return;\n    }\n\n    const task = queue[0];\n\n    const executionFn = () => {\n      task.execute(mediaEl)\n          .catch(reason => dev().error('AMP-STORY', reason))\n          .then(() => {\n            // Run regardless of success or failure of task execution.\n            queue.shift();\n            this.executeNextMediaElementTask_(mediaEl);\n          });\n    };\n\n    if (task.requiresSynchronousExecution()) {\n      executionFn.call(this);\n    } else {\n      this.timer_.delay(executionFn.bind(this), 0);\n    }\n  }\n\n\n  /**\n   * @param {!HTMLMediaElement} mediaEl The element for which the specified task\n   *     should be executed.\n   * @param {!./media-tasks.MediaTask} task The task to be executed.\n   * @return {!Promise} A promise that is resolved when the specified task is\n   *     completed.\n   * @private\n   */\n  enqueueMediaElementTask_(mediaEl, task) {\n    if (!mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME]) {\n      mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME] = [];\n    }\n\n    const queue = mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME];\n    const isQueueRunning = queue.length !== 0;\n\n    queue.push(task);\n\n    if (!isQueueRunning) {\n      this.executeNextMediaElementTask_(mediaEl);\n    }\n\n    return task.whenComplete();\n  }\n\n\n  /**\n   * @param {!MediaPoolRoot} root\n   * @return {!MediaPool}\n   */\n  static for(root) {\n    const element = root.getElement();\n    const existingId = element[POOL_MEDIA_ELEMENT_PROPERTY_NAME];\n    const hasInstanceAllocated = existingId && instances[existingId];\n\n    if (hasInstanceAllocated) {\n      return instances[existingId];\n    }\n\n    const newId = String(nextInstanceId++);\n    element[POOL_MEDIA_ELEMENT_PROPERTY_NAME] = newId;\n    instances[newId] = new MediaPool(\n        toWin(root.getElement().ownerDocument.defaultView),\n        root.getMaxMediaElementCounts(),\n        element => root.getElementDistance(element));\n\n    return instances[newId];\n  }\n}\n\n\n/**\n * Defines a common interface for elements that contain a MediaPool.\n *\n * @interface\n */\nexport class MediaPoolRoot {\n  /**\n   * @return {!Element} The root element of this media pool.\n   */\n  getElement() {}\n\n  /**\n   * @param {!Element} unusedElement The element whose distance should be\n   *    retrieved.\n   * @return {number} A numerical distance representing how far the specified\n   *     element is from the user's current position in the document.  The\n   *     absolute magnitude of this number is irrelevant; the relative magnitude\n   *     is used to determine which media elements should be evicted (elements\n   *     furthest from the user's current position in the document are evicted\n   *     from the MediaPool first).\n   */\n  getElementDistance(unusedElement) {}\n\n\n  /**\n   * @return {!Object<!MediaType, number>} The maximum amount of each media\n   *     type to allow within this element.\n   */\n  getMaxMediaElementCounts() {}\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from '../../../src/utils/promise';\nimport {Sources} from './sources';\nimport {isConnectedNode} from '../../../src/dom';\nimport {tryResolve} from '../../../src/utils/promise';\n\n\n\n/**\n * The name for a boolean property on an element indicating whether that element\n * has already been \"blessed\".\n * @const {string}\n */\nexport const ELEMENT_BLESSED_PROPERTY_NAME = '__AMP_MEDIA_IS_BLESSED__';\n\n\n/**\n * CSS class names that should not be removed from an element when swapping it\n * into/out of the DOM.\n * @const {!Array<string>}\n */\nconst PROTECTED_CSS_CLASS_NAMES = [\n  'i-amphtml-pool-media',\n  'i-amphtml-pool-audio',\n  'i-amphtml-pool-video',\n];\n\n\n/**\n * Attribute names that should not be removed from an element when swapping it\n * into/out of the DOM.\n * @const {!Array<string>}\n */\nconst PROTECTED_ATTRIBUTES = [\n  'id',\n  'src',\n  'class',\n  'autoplay',\n];\n\n\n\n/**\n * Determines whether a CSS class name is allowed to be removed or copied from\n * media elements.\n * @param {string} cssClassName The CSS class name name to check.\n * @return {boolean} true, if the specified CSS class name is allowed to be\n *     removed or copied from media elements; false otherwise.\n * @private\n */\nfunction isProtectedCssClassName(cssClassName) {\n  return PROTECTED_CSS_CLASS_NAMES.indexOf(cssClassName) >= 0;\n}\n\n\n/**\n * Determines whether an attribute is allowed to be removed or copied from\n * media elements.\n * @param {string} attributeName The attribute name to check.\n * @return {boolean} true, if the specified attribute is allowed to be removed\n *     or copied from media elements; false otherwise.\n * @private\n */\nfunction isProtectedAttributeName(attributeName) {\n  return PROTECTED_ATTRIBUTES.indexOf(attributeName) >= 0;\n}\n\n\n/**\n * Copies all unprotected CSS classes from fromEl to toEl.\n * @param {!HTMLMediaElement} fromEl The element from which CSS classes should\n *     be copied.\n * @param {!HTMLMediaElement} toEl The element to which CSS classes should be\n *     copied.\n * @private\n */\nfunction copyCssClasses(fromEl, toEl) {\n  // Remove all of the unprotected CSS classes from the toEl.\n  for (let i = toEl.classList.length - 1; i >= 0; i--) {\n    const cssClass = toEl.classList.item(i);\n    if (!isProtectedCssClassName(cssClass)) {\n      toEl.classList.remove(cssClass);\n    }\n  }\n\n  // Copy all of the unprotected CSS classes from the fromEl to the toEl.\n  for (let i = 0; i < fromEl.classList.length; i++) {\n    const cssClass = fromEl.classList.item(i);\n    if (!isProtectedCssClassName(cssClass)) {\n      toEl.classList.add(cssClass);\n    }\n  }\n}\n\n\n/**\n * Copies all unprotected attributes from fromEl to toEl.\n * @param {!HTMLMediaElement} fromEl The element from which attributes should\n *     be copied.\n * @param {!HTMLMediaElement} toEl The element to which attributes should be\n *     copied.\n * @private\n */\nfunction copyAttributes(fromEl, toEl) {\n  const fromAttributes = fromEl.attributes;\n  const toAttributes = toEl.attributes;\n\n  // Remove all of the unprotected attributes from the toEl.\n  for (let i = toAttributes.length - 1; i >= 0; i--) {\n    const attributeName = toAttributes[i].name;\n    if (!isProtectedAttributeName(attributeName)) {\n      toEl.removeAttribute(attributeName);\n    }\n  }\n\n  // Copy all of the unprotected attributes from the fromEl to the toEl.\n  for (let i = 0; i < fromAttributes.length; i++) {\n    const {name: attributeName, value: attributeValue} = fromAttributes[i] ;\n    if (!isProtectedAttributeName(attributeName)) {\n      toEl.setAttribute(attributeName, attributeValue);\n    }\n  }\n}\n\n\n\n/**\n * Base class for tasks executed in order on HTMLMediaElements.\n */\nexport class MediaTask {\n  /**\n   * @param {string} name\n   */\n  constructor(name) {\n    /** @private @const {string} */\n    this.name_ = name;\n\n    const deferred = new Deferred();\n\n    /** @private @const {!Promise} */\n    this.completionPromise_ = deferred.promise;\n\n    /** @private {?function()} */\n    this.resolve_ = deferred.resolve;\n\n    /** @private {?function(*)} */\n    this.reject_ = deferred.reject;\n  }\n\n  /**\n   * @return {string} The name of this task.\n   */\n  getName() {\n    return this.name_;\n  }\n\n  /**\n   * @return {!Promise<*>} A promise that is resolved when the task has\n   *     completed execution.\n   */\n  whenComplete() {\n    return this.completionPromise_;\n  }\n\n  /**\n   * @param {!HTMLMediaElement} mediaEl The media element on which this task\n   *     should be executed.\n   * @return {!Promise} A promise that is resolved when the task has completed\n   *     execution.\n   */\n  execute(mediaEl) {\n    return this.executeInternal(mediaEl)\n        .then(this.resolve_, this.reject_);\n  }\n\n  /**\n   * @param {!HTMLMediaElement} unusedMediaEl The media element on which this\n   *     task should be executed.\n   * @protected\n   */\n  executeInternal(unusedMediaEl) {\n    return Promise.resolve();\n  }\n\n  /**\n   * @return {boolean} true, if this task must be executed synchronously, e.g.\n   *    if it requires a user gesture.\n   */\n  requiresSynchronousExecution() {\n    return false;\n  }\n\n  /**\n   * @param {*} reason The reason for failing the task.\n   * @protected\n   */\n  failTask(reason) {\n    this.reject_(reason);\n  }\n}\n\n\n/**\n * Plays the specified media element.\n */\nexport class PlayTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('play');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    if (!mediaEl.paused) {\n      // We do not want to invoke play() if the media element is already\n      // playing, as this can interrupt playback in some browsers.\n      return Promise.resolve();\n    }\n\n    // The play() invocation is wrapped in a Promise.resolve(...) due to the\n    // fact that some browsers return a promise from media elements' play()\n    // function, while others return a boolean.\n    return tryResolve(() => mediaEl.play());\n  }\n}\n\n\n/**\n * Pauses the specified media element.\n */\nexport class PauseTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('pause');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.pause();\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Unmutes the specified media element.\n */\nexport class UnmuteTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('unmute');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.muted = false;\n    mediaEl.removeAttribute('muted');\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Mutes the specified media element.\n */\nexport class MuteTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('mute');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.muted = true;\n    mediaEl.setAttribute('muted', '');\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Seeks the specified media element to the beginning.\n */\nexport class RewindTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('rewind');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.currentTime = 0;\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Loads the specified media element.\n */\nexport class LoadTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('load');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.load();\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * \"Blesses\" the specified media element for future playback without a user\n * gesture.  In order for this to bless the media element, this function must\n * be invoked in response to a user gesture.\n */\nexport class BlessTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('bless');\n  }\n\n  /** @override */\n  requiresSynchronousExecution() {\n    return true;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    const isMuted = mediaEl.muted;\n    mediaEl.muted = false;\n    if (isMuted) {\n      mediaEl.muted = true;\n    }\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Updates the sources of the specified media element.\n */\nexport class UpdateSourcesTask extends MediaTask {\n  /**\n   * @param {!Sources} newSources The sources to which the media element should\n   *     be updated.\n   */\n  constructor(newSources) {\n    super('update-src');\n\n    /** @private @const {!Sources} */\n    this.newSources_ = newSources;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    Sources.removeFrom(mediaEl);\n    this.newSources_.applyToElement(mediaEl);\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Swaps a media element into the DOM, in the place of another media element.\n */\nexport class SwapIntoDomTask extends MediaTask {\n  /**\n   * @param {!HTMLMediaElement} replacedMediaEl The element to be replaced by\n   *     the media element on which this task is executed.\n   */\n  constructor(replacedMediaEl) {\n    super('swap-into-dom');\n\n    /** @private @const {!HTMLMediaElement} */\n    this.replacedMediaEl_ = replacedMediaEl;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    if (!isConnectedNode(this.replacedMediaEl_)) {\n      this.failTask('Cannot swap media for element that is not in DOM.');\n      return Promise.resolve();\n    }\n\n    copyCssClasses(this.replacedMediaEl_, mediaEl);\n    copyAttributes(this.replacedMediaEl_, mediaEl);\n    this.replacedMediaEl_.parentElement\n        .replaceChild(mediaEl, this.replacedMediaEl_);\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Swaps a media element out the DOM, in the place of a placeholder media\n * element.\n */\nexport class SwapOutOfDomTask extends MediaTask {\n  /**\n   * @param {!HTMLMediaElement} placeholderMediaEl The element to be replaced by\n   *     the media element on which this task is executed.\n   */\n  constructor(placeholderMediaEl) {\n    super('swap-out-of-dom');\n\n    /** @private @const {!HTMLMediaElement} */\n    this.placeholderMediaEl_ = placeholderMediaEl;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    copyCssClasses(mediaEl, this.placeholderMediaEl_);\n    copyAttributes(mediaEl, this.placeholderMediaEl_);\n    mediaEl.parentElement.replaceChild(this.placeholderMediaEl_, mediaEl);\n    return Promise.resolve();\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Observable} from '../../../src/observable';\nimport {Services} from '../../../src/services';\nimport {StateProperty} from './amp-story-store-service';\n\n\n/**\n * Types of state changes that can be consumed.\n * @enum {number}\n */\nexport const StateChangeType = {\n  ACTIVE_PAGE: 0,\n  BOOKEND_ENTER: 1,\n  BOOKEND_EXIT: 2,\n  END: 3,\n};\n\n\n/** @typedef {{type: !StateChangeType, value: *}} */\nexport let StateChangeEventDef;\n\n\n/**\n * State store to decouple navigation changes from consumers.\n */\nexport class NavigationState {\n  /**\n   * @param {!Window} win\n   * @param {function():Promise<boolean>} hasBookend\n   */\n  constructor(win, hasBookend) {\n    /** @private @const {!function():Promise<boolean>} */\n    this.hasBookend_ = hasBookend;\n\n    /** @private {!Observable<StateChangeEventDef>} */\n    this.observable_ = new Observable();\n\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = Services.storyStoreServiceV01(this.win_);\n\n    this.initializeListeners_();\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      if (isActive) {\n        this.fire_(StateChangeType.BOOKEND_ENTER);\n        this.fire_(StateChangeType.END);\n      }\n\n      if (!isActive) {\n        this.fire_(StateChangeType.BOOKEND_EXIT);\n      }\n    });\n  }\n\n  /**\n   * @param {function(!StateChangeEventDef):void} stateChangeFn\n   */\n  observe(stateChangeFn) {\n    this.observable_.add(stateChangeFn);\n  }\n\n  /**\n   * @param {number} pageIndex\n   * @param {number} totalPages\n   * @param {string=} pageId\n   * TODO(alanorozco): pass whether change was automatic or on user action.\n   */\n  updateActivePage(pageIndex, totalPages, pageId) {\n    const changeValue = {\n      pageIndex,\n      pageId,\n      totalPages,\n      storyProgress: pageIndex / totalPages,\n    };\n\n    this.fire_(StateChangeType.ACTIVE_PAGE, changeValue);\n\n    if (pageIndex >= totalPages - 1) {\n      this.hasBookend_().then(hasBookend => {\n        if (!hasBookend) {\n          this.fire_(StateChangeType.END);\n        }\n      });\n    }\n  }\n\n  /**\n   * @param {!StateChangeType} type\n   * @param {*=} opt_changeValue\n   */\n  fire_(type, opt_changeValue) {\n    this.observable_.fire({type, value: opt_changeValue});\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A whitelist of djb2a hashes of publisher origins.\n * @const {!Array<string>}\n */\nexport const ORIGIN_WHITELIST = [\n  '1005249088',\n  '1006163429',\n  '1008162951',\n  '10089108',\n  '1010750108',\n  '101608808',\n  '1019348494',\n  '1024745460',\n  '1025683127',\n  '1033170015',\n  '1040387537',\n  '1042067194',\n  '1044520440',\n  '1048639639',\n  '1048768124',\n  '1055309246',\n  '1061774354',\n  '1066656902',\n  '1071568410',\n  '1075430814',\n  '1080553171',\n  '1081382723',\n  '1085278050',\n  '1087738722',\n  '108933955',\n  '1097876642',\n  '1098115586',\n  '1120549175',\n  '1120627104',\n  '1122637707',\n  '1123796379',\n  '1137284944',\n  '1139124777',\n  '1139232118',\n  '1148058575',\n  '1151862878',\n  '1152230187',\n  '1158106191',\n  '1162517776',\n  '1167928101',\n  '1170971680',\n  '1172399292',\n  '1179223384',\n  '1180555863',\n  '1182996899',\n  '1188221598',\n  '1189200007',\n  '1191530385',\n  '1193086302',\n  '1196288955',\n  '1203175957',\n  '1203629527',\n  '1206202368',\n  '1209396307',\n  '1210508580',\n  '1212905960',\n  '1217648514',\n  '1219663970',\n  '1221946827',\n  '1223948430',\n  '1224563123',\n  '1224575240',\n  '122776143',\n  '1230010468',\n  '1235870422',\n  '1239612924',\n  '1252045233',\n  '1266686880',\n  '1267058499',\n  '1271217363',\n  '1271836085',\n  '1272420392',\n  '1275112483',\n  '1279420495',\n  '128315777',\n  '1288425632',\n  '1291233749',\n  '1291285285',\n  '129196458',\n  '1296373605',\n  '1303205228',\n  '1304908597',\n  '1314122247',\n  '1315067761',\n  '1323716407',\n  '1324465699',\n  '1331021272',\n  '1332628692',\n  '1337085136',\n  '1338665863',\n  '1341677116',\n  '1343032467',\n  '1343153594',\n  '134439678',\n  '1346203807',\n  '1348111506',\n  '1358036688',\n  '1358275160',\n  '1362700107',\n  '1363274340',\n  '1365188219',\n  '1366298771',\n  '136948846',\n  '1370863654',\n  '1382180463',\n  '1384161523',\n  '1384885545',\n  '1390195319',\n  '1390422041',\n  '1391355679',\n  '1392973808',\n  '1401234945',\n  '140139328',\n  '1403015859',\n  '1406014587',\n  '1408213495',\n  '1409815047',\n  '1416203172',\n  '1416336576',\n  '1420964370',\n  '1424038674',\n  '1426205130',\n  '1426908974',\n  '142793127',\n  '1429768323',\n  '1433535079',\n  '1436589466',\n  '1444797690',\n  '1446722118',\n  '1448422024',\n  '1451865411',\n  '1452555948',\n  '1452631355',\n  '1454471704',\n  '1456452353',\n  '1462086116',\n  '1463873379',\n  '1465911308',\n  '1472537769',\n  '1474107485',\n  '1476740172',\n  '1485177716',\n  '1491204959',\n  '1491535554',\n  '1495909416',\n  '1496939000',\n  '1502183300',\n  '1502183303',\n  '1505657051',\n  '1506356073',\n  '1510693494',\n  '1512200976',\n  '1515192136',\n  '1516044894',\n  '1516712134',\n  '1527869901',\n  '1527955987',\n  '1531622827',\n  '1542113246',\n  '1542890108',\n  '1544071036',\n  '1544904918',\n  '154680092',\n  '1548043628',\n  '1551216225',\n  '1554302139',\n  '1560556568',\n  '156105329',\n  '1565761663',\n  '1568645882',\n  '1568765576',\n  '1569754863',\n  '1574632236',\n  '1581752952',\n  '1587531568',\n  '1597805481',\n  '1598215278',\n  '1604714840',\n  '1605964375',\n  '1606771939',\n  '1606845272',\n  '1607498054',\n  '1607726622',\n  '1616084341',\n  '1618633174',\n  '1628432066',\n  '1629009934',\n  '1633699767',\n  '1635597923',\n  '1638733129',\n  '1639295851',\n  '1639843601',\n  '164006119',\n  '1641361303',\n  '1641559905',\n  '1641755208',\n  '1645367571',\n  '1648418043',\n  '164958789',\n  '1651834381',\n  '165218748',\n  '1657655384',\n  '1657857651',\n  '166080441',\n  '166550074',\n  '1668265379',\n  '167065142',\n  '1672286708',\n  '167457365',\n  '1686480925',\n  '1692205821',\n  '1696562222',\n  '1710525818',\n  '1712515810',\n  '172062822',\n  '1721539702',\n  '1727000213',\n  '1729406438',\n  '1734343726',\n  '1741775485',\n  '1746787055',\n  '174935976',\n  '1750274567',\n  '1752199172',\n  '1755487660',\n  '1758506884',\n  '176099546',\n  '1761507447',\n  '1762075722',\n  '1762779619',\n  '1765761661',\n  '1766408482',\n  '1777879957',\n  '1778814731',\n  '1782415871',\n  '1786821707',\n  '1790421447',\n  '1793364122',\n  '1796631487',\n  '179954814',\n  '1799580062',\n  '1800644108',\n  '1804754165',\n  '1814333326',\n  '1820719129',\n  '1828302437',\n  '1829392117',\n  '1831449632',\n  '1834315395',\n  '1842365929',\n  '1844097179',\n  '185695994',\n  '1857703569',\n  '1862429134',\n  '1866288580',\n  '1868825623',\n  '1873175698',\n  '1875012067',\n  '1878840548',\n  '188153886',\n  '1881549152',\n  '1885949806',\n  '1888202576',\n  '1890223908',\n  '1890285526',\n  '1890671223',\n  '1890684493',\n  '1891136033',\n  '1892097962',\n  '1892894796',\n  '1897412628',\n  '1897877027',\n  '190058212',\n  '1911273138',\n  '191151933',\n  '1914691069',\n  '1916053925',\n  '1921891253',\n  '19233369',\n  '1924394550',\n  '1925340007',\n  '1926444709',\n  '192946894',\n  '1932332195',\n  '1934543421',\n  '1937775827',\n  '1938906399',\n  '1944707380',\n  '1948987049',\n  '1956324539',\n  '1958476175',\n  '1960309827',\n  '1960384540',\n  '1966744125',\n  '1969495793',\n  '197478601',\n  '1978180435',\n  '1980609434',\n  '198514785',\n  '198596',\n  '1996557418',\n  '2003114268',\n  '200513980',\n  '2025148527',\n  '2025653254',\n  '2028144989',\n  '2034674542',\n  '2038626037',\n  '2038733725',\n  '2045713344',\n  '2046769120',\n  '2050218658',\n  '2051204756',\n  '2052997999',\n  '2062991370',\n  '2064945552',\n  '2065286458',\n  '2068779408',\n  '2072157691',\n  '2072267213',\n  '2074180413',\n  '207690439',\n  '2076974480',\n  '2077125460',\n  '208348204',\n  '2084091630',\n  '2085643881',\n  '209024299',\n  '2105278890',\n  '2109740133',\n  '2114974219',\n  '2115738579',\n  '2116825342',\n  '2117678752',\n  '2118239665',\n  '2120518392',\n  '2124375454',\n  '2126860507',\n  '212690086',\n  '2127261154',\n  '2128662947',\n  '2130032338',\n  '2131418359',\n  '2133539483',\n  '2134891083',\n  '2138194233',\n  '2139925877',\n  '2143498672',\n  '2150296095',\n  '2151200413',\n  '2154124693',\n  '2160565275',\n  '2160983462',\n  '2160997979',\n  '2163333100',\n  '2164891421',\n  '21653271',\n  '2172705717',\n  '2182978707',\n  '218358682',\n  '2183916165',\n  '2185544172',\n  '2193197883',\n  '2199838184',\n  '220103233',\n  '220632861',\n  '2207832807',\n  '2214432888',\n  '2221548842',\n  '2231215830',\n  '2232562594',\n  '2236849121',\n  '2242481580',\n  '2246978037',\n  '2247419316',\n  '2250390055',\n  '2250762825',\n  '2252559194',\n  '2254619785',\n  '2258293519',\n  '2266549358',\n  '2271213671',\n  '2275977064',\n  '2277458929',\n  '2278516260',\n  '2284332078',\n  '2297008443',\n  '2299758819',\n  '2311290044',\n  '2313067530',\n  '2319346288',\n  '2320558357',\n  '2325333010',\n  '2326328585',\n  '2334635490',\n  '2335819407',\n  '2342924379',\n  '234914730',\n  '2355703345',\n  '2360854839',\n  '2362191459',\n  '2373437534',\n  '2374338088',\n  '2375389254',\n  '2380804515',\n  '2388222966',\n  '2391306573',\n  '2393754227',\n  '2406112565',\n  '2408225607',\n  '2408621595',\n  '24124510',\n  '2413038656',\n  '2414533450',\n  '2415015357',\n  '241505564',\n  '2422198952',\n  '2426360694',\n  '2427371871',\n  '2428857403',\n  '2430945021',\n  '2434633986',\n  '2437839027',\n  '2438549543',\n  '2450881433',\n  '2451485116',\n  '2454481433',\n  '2465244303',\n  '2471412274',\n  '2472591333',\n  '2479714660',\n  '2479885882',\n  '2480671357',\n  '2483800093',\n  '2486258543',\n  '2487828098',\n  '2490491327',\n  '2491279653',\n  '2497807902',\n  '2497925282',\n  '2498415300',\n  '2500743291',\n  '25024500',\n  '250464294',\n  '2505963428',\n  '2512768819',\n  '2514009950',\n  '2514987571',\n  '2517493756',\n  '251839354',\n  '25231870',\n  '2527538528',\n  '2529138038',\n  '2529319010',\n  '2540030627',\n  '2544113070',\n  '2556872339',\n  '255752794',\n  '2563128128',\n  '2564618500',\n  '2565653830',\n  '2569424332',\n  '2580152873',\n  '2587850265',\n  '2588277885',\n  '2594064109',\n  '2600368355',\n  '2602595202',\n  '2605626788',\n  '2606715995',\n  '2611729722',\n  '2612967453',\n  '2613072379',\n  '2616846056',\n  '2619537797',\n  '2625905896',\n  '2627761745',\n  '2629810525',\n  '2632114880',\n  '2632194804',\n  '2635588792',\n  '2636391541',\n  '2637085339',\n  '2638013283',\n  '2639830307',\n  '2652634921',\n  '2662207691',\n  '2669510717',\n  '2671290557',\n  '2672599929',\n  '2676022422',\n  '2678501748',\n  '2678784124',\n  '2688673784',\n  '2689355865',\n  '2690235168',\n  '2697147002',\n  '2697162102',\n  '2702577685',\n  '2705736432',\n  '270580042',\n  '2709426781',\n  '2713112922',\n  '2718273594',\n  '2718446350',\n  '2718657511',\n  '2720496885',\n  '2723434276',\n  '2725145135',\n  '2731883839',\n  '2732398879',\n  '2734313767',\n  '273580543',\n  '2738155690',\n  '2741673809',\n  '2749835187',\n  '2754997109',\n  '2755153627',\n  '2759976952',\n  '2761508292',\n  '2762302648',\n  '2766106524',\n  '2766754689',\n  '2767961054',\n  '2769442224',\n  '2771182563',\n  '2771839729',\n  '2773939274',\n  '2774175302',\n  '2777697460',\n  '2780223587',\n  '2780639696',\n  '2784212793',\n  '2784479860',\n  '2787853368',\n  '2790502057',\n  '2791249547',\n  '2795182078',\n  '2797839121',\n  '2797844367',\n  '2798104093',\n  '2803957366',\n  '2812672743',\n  '2814213354',\n  '2814269253',\n  '2818266545',\n  '2820864954',\n  '2824188819',\n  '2825564215',\n  '2826727325',\n  '2830660705',\n  '2835331287',\n  '283661147',\n  '2845803411',\n  '2852627326',\n  '2861134475',\n  '2866448207',\n  '2866470331',\n  '2869433580',\n  '2870769104',\n  '2871678619',\n  '2872980659',\n  '288246341',\n  '2885388648',\n  '2887960156',\n  '2889518419',\n  '2893467144',\n  '2893590542',\n  '2911378586',\n  '2912197083',\n  '2914243153',\n  '2916268499',\n  '2917909858',\n  '2918230434',\n  '2919447987',\n  '2927763036',\n  '2930531110',\n  '2930818498',\n  '2933287666',\n  '2933678691',\n  '2934412348',\n  '2939338957',\n  '2941207893',\n  '294281365',\n  '294281662',\n  '2947883909',\n  '2951025154',\n  '2955070851',\n  '2956714159',\n  '296084766',\n  '296529422',\n  '2970931887',\n  '2972849537',\n  '2981581097',\n  '3003621454',\n  '3017572169',\n  '3018496372',\n  '3018644774',\n  '3021388654',\n  '3022092377',\n  '302251478',\n  '3024284791',\n  '3028558767',\n  '3029994837',\n  '3033234915',\n  '3034807703',\n  '3036809290',\n  '303732921',\n  '3040972817',\n  '3046149777',\n  '3047184436',\n  '305548058',\n  '3057278033',\n  '3058691259',\n  '3060519019',\n  '3060985947',\n  '3063651839',\n  '3071986971',\n  '3075313860',\n  '3084083922',\n  '3090387299',\n  '3090399922',\n  '3092172140',\n  '3107121214',\n  '3108333779',\n  '3109674920',\n  '3121167307',\n  '3125715798',\n  '3129729985',\n  '313079991',\n  '3132221784',\n  '3132507840',\n  '3133369938',\n  '3143386019',\n  '3144086645',\n  '3144741080',\n  '3150411430',\n  '3153172095',\n  '3156001180',\n  '3162265419',\n  '3172876126',\n  '3176449798',\n  '3181090214',\n  '3185535902',\n  '3188249139',\n  '3188949253',\n  '3189406311',\n  '3200093935',\n  '3201739013',\n  '3208039641',\n  '3213623864',\n  '3216947982',\n  '3226517851',\n  '323546264',\n  '3238374737',\n  '3240528713',\n  '3244251087',\n  '3246119198',\n  '3250723869',\n  '3252080663',\n  '3256754508',\n  '3259979025',\n  '3261687030',\n  '3263349802',\n  '3263974103',\n  '3268659322',\n  '3271330177',\n  '3277018274',\n  '3283747143',\n  '3284374556',\n  '3285310371',\n  '32924227',\n  '3295776646',\n  '3301018689',\n  '3301688194',\n  '3305747518',\n  '3307671928',\n  '3308888367',\n  '3309952347',\n  '3317371897',\n  '3318184596',\n  '3319768647',\n  '3320829318',\n  '3321457753',\n  '3322156041',\n  '3326846086',\n  '3341054457',\n  '334796489',\n  '3348379104',\n  '3349409886',\n  '3353312560',\n  '3355368229',\n  '3355514211',\n  '3355865416',\n  '335855777',\n  '335993804',\n  '3361466716',\n  '3362397554',\n  '3367171293',\n  '3376790055',\n  '3377688480',\n  '3381390900',\n  '3381459707',\n  '3385268402',\n  '3385846727',\n  '3387204737',\n  '338844244',\n  '3390751743',\n  '3394315494',\n  '3394334006',\n  '3400713300',\n  '3402978750',\n  '3408249191',\n  '3412968150',\n  '3416831537',\n  '3422087589',\n  '3424311896',\n  '3426850699',\n  '3429649351',\n  '3432208034',\n  '3436742277',\n  '3437958748',\n  '3446215673',\n  '3447835494',\n  '3448620799',\n  '3450221390',\n  '3450932588',\n  '3451824873',\n  '3455711044',\n  '3458310975',\n  '3460779095',\n  '3464002149',\n  '3473901382',\n  '3478297609',\n  '3493836323',\n  '3494887100',\n  '3498056818',\n  '3500123957',\n  '3500124664',\n  '3501893757',\n  '3506413408',\n  '3512587025',\n  '351733085',\n  '3523014533',\n  '3523382932',\n  '35263365',\n  '353380306',\n  '3535681127',\n  '354082441',\n  '3546004700',\n  '3549522247',\n  '3550596029',\n  '3551433075',\n  '3552657708',\n  '3561349461',\n  '3568064118',\n  '3572504894',\n  '3574354948',\n  '3584992110',\n  '3585356855',\n  '3589838638',\n  '3591084947',\n  '3591311390',\n  '3594356251',\n  '3595155179',\n  '3601411955',\n  '3607050633',\n  '3616387476',\n  '3620312512',\n  '3623074634',\n  '3625642354',\n  '3625812674',\n  '3625817820',\n  '3626599030',\n  '3635562717',\n  '3638406088',\n  '363894702',\n  '3651158166',\n  '365125059',\n  '3652728877',\n  '3655120568',\n  '365605518',\n  '3656736643',\n  '3657625030',\n  '3662429216',\n  '3670522374',\n  '3673866953',\n  '3685844947',\n  '3692367215',\n  '3695202375',\n  '369644343',\n  '3699602083',\n  '3700425047',\n  '3700982698',\n  '3710911628',\n  '3711744991',\n  '3712090763',\n  '3715241048',\n  '3718288426',\n  '3720081763',\n  '3723719135',\n  '3724179151',\n  '3739222329',\n  '3739723588',\n  '3741803823',\n  '3742076373',\n  '3743398870',\n  '3747063085',\n  '3748953276',\n  '3751013831',\n  '3751563702',\n  '3759458978',\n  '3760821273',\n  '3768651282',\n  '3774834930',\n  '3782187505',\n  '3783616226',\n  '3785031815',\n  '3802272349',\n  '3803427289',\n  '3808515023',\n  '3817759242',\n  '3821795909',\n  '3828669497',\n  '3828921363',\n  '382915004',\n  '3835330948',\n  '3835931824',\n  '3838983789',\n  '3840525739',\n  '3841844405',\n  '3842213279',\n  '3855175500',\n  '3866956400',\n  '3867683259',\n  '3872981885',\n  '387441557',\n  '3882281943',\n  '3882775575',\n  '3887146960',\n  '3887937944',\n  '3902596111',\n  '3907965689',\n  '3909837387',\n  '3916735828',\n  '3919621757',\n  '3926983707',\n  '3931371606',\n  '3935672072',\n  '3942169396',\n  '39435537',\n  '3949846101',\n  '3950676371',\n  '3952253013',\n  '3952985875',\n  '3956139136',\n  '3960376034',\n  '3964022265',\n  '3965548152',\n  '3966987861',\n  '3969333164',\n  '3980734000',\n  '3981323989',\n  '3984520418',\n  '3984648422',\n  '398689081',\n  '3989863158',\n  '399163616',\n  '4011166599',\n  '4012569232',\n  '4015960781',\n  '402077837',\n  '4022635071',\n  '4031427958',\n  '4038419154',\n  '4038719404',\n  '4040963526',\n  '4045001232',\n  '4045348626',\n  '4047076163',\n  '4050194446',\n  '4051110478',\n  '4053566461',\n  '4062202631',\n  '4064403033',\n  '4067292809',\n  '4071169494',\n  '4072394641',\n  '4083044353',\n  '4084194935',\n  '4088806601',\n  '4092369519',\n  '4092664937',\n  '4096098894',\n  '4097039999',\n  '4098138342',\n  '4100429993',\n  '4101484574',\n  '4102232185',\n  '410737467',\n  '4107833758',\n  '4109200270',\n  '4118237066',\n  '4118683051',\n  '4120045721',\n  '4123031720',\n  '4123388433',\n  '4126100909',\n  '4127212193',\n  '4127351496',\n  '4129698325',\n  '4130370977',\n  '4136314176',\n  '4137128901',\n  '4137746800',\n  '4138310485',\n  '4138329786',\n  '4138748709',\n  '4139415765',\n  '4140762491',\n  '414191242',\n  '4143625838',\n  '4158727075',\n  '416271463',\n  '4162923732',\n  '4165850368',\n  '4166086783',\n  '4166688207',\n  '4171920376',\n  '4177803870',\n  '4188696195',\n  '4189589756',\n  '4189681769',\n  '4190697962',\n  '4192009492',\n  '4192906772',\n  '4194824130',\n  '4195946149',\n  '4197762186',\n  '4199121874',\n  '4200069764',\n  '4205027822',\n  '4205379393',\n  '4206479264',\n  '4214687327',\n  '4218607244',\n  '4220526267',\n  '4225558487',\n  '4236710113',\n  '4237053731',\n  '4237182114',\n  '4237691393',\n  '4239963767',\n  '4248203292',\n  '4249010776',\n  '4249223952',\n  '4265092200',\n  '4266729165',\n  '4269692612',\n  '4273375831',\n  '4278046063',\n  '4279918903',\n  '4280076006',\n  '4280929457',\n  '4282579220',\n  '4283958960',\n  '4286009170',\n  '4287324892',\n  '4288013307',\n  '428973607',\n  '4292132695',\n  '431449824',\n  '436035672',\n  '436895478',\n  '4389594',\n  '439949811',\n  '44587625',\n  '446783407',\n  '451861333',\n  '455553168',\n  '468972428',\n  '473408210',\n  '475325125',\n  '480050636',\n  '481608910',\n  '482157976',\n  '497560025',\n  '499586047',\n  '508331528',\n  '509623217',\n  '509801075',\n  '510469576',\n  '52068258',\n  '524581881',\n  '525657889',\n  '526607860',\n  '527981890',\n  '535848262',\n  '542002382',\n  '54455908',\n  '552831033',\n  '56119367',\n  '589348565',\n  '590180088',\n  '590449081',\n  '605645428',\n  '607649949',\n  '613252162',\n  '616398681',\n  '616652136',\n  '620434036',\n  '628256541',\n  '630124302',\n  '637590687',\n  '645596329',\n  '646925241',\n  '649068147',\n  '663752382',\n  '664849843',\n  '666552315',\n  '667284477',\n  '667802223',\n  '67153338',\n  '672304730',\n  '673490260',\n  '675617839',\n  '676286387',\n  '67750003',\n  '679088556',\n  '679226261',\n  '681317506',\n  '684496063',\n  '687924735',\n  '690204840',\n  '699169033',\n  '699554795',\n  '699835401',\n  '708478954',\n  '709875223',\n  '713842199',\n  '714291084',\n  '721006546',\n  '722659024',\n  '724181429',\n  '72862350',\n  '738209012',\n  '740460396',\n  '743664866',\n  '749072475',\n  '750731789',\n  '759835262',\n  '760180450',\n  '760645918',\n  '76243793',\n  '763580606',\n  '764546410',\n  '769246051',\n  '770400223',\n  '773697188',\n  '777846327',\n  '779185847',\n  '781950191',\n  '785278645',\n  '791888271',\n  '793360597',\n  '795111685',\n  '799038630',\n  '802940860',\n  '803626326',\n  '805461297',\n  '809525143',\n  '812914966',\n  '817596813',\n  '826702818',\n  '829747121',\n  '830059440',\n  '834917366',\n  '835348130',\n  '836634675',\n  '838130347',\n  '839663198',\n  '840748945',\n  '845690173',\n  '851918419',\n  '853535426',\n  '855882027',\n  '856215399',\n  '865387614',\n  '870075114',\n  '870901046',\n  '878041739',\n  '884037848',\n  '884942273',\n  '885000263',\n  '886030867',\n  '887992794',\n  '888009729',\n  '889471570',\n  '9021761',\n  '904920502',\n  '90677328',\n  '907695148',\n  '911963500',\n  '919166850',\n  '926902921',\n  '92732745',\n  '92829579',\n  '93038994',\n  '930681418',\n  '932642421',\n  '932940871',\n  '938755445',\n  '939810501',\n  '947303209',\n  '956771599',\n  '95816379',\n  '958749034',\n  '959889676',\n  '960466505',\n  '962380673',\n  '963095446',\n  '965728075',\n  '968466010',\n  '973612916',\n  '976603789',\n  '978364597',\n  '982152280',\n  '9851868',\n  '986539863',\n  '988140002',\n  '989444878',\n  '990312922',\n  '994801981',\n];\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {VideoEvents} from '../../../src/video-interface';\nimport {closest, escapeCssSelectorIdent} from '../../../src/dom';\nimport {dev, user} from '../../../src/log';\nimport {hasTapAction, timeStrToMillis} from './utils';\nimport {listenOnce} from '../../../src/event-helper';\nimport {map} from '../../../src/utils/object';\n\n\n/** @private @const {number} */\nconst NEXT_SCREEN_AREA_RATIO = 0.75;\n\n/** @const {number} */\nexport const POLL_INTERVAL_MS = 300;\n\n/** @const @enum */\nexport const TapNavigationDirection = {\n  'NEXT': 1,\n  'PREVIOUS': 2,\n};\n\n/** @const */\nconst PROTECTED_ELEMENTS = map({\n  A: true,\n  BUTTON: true,\n});\n\n/**\n * Base class for the AdvancementConfig.  By default, does nothing other than\n * tracking its internal state when started/stopped, and listeners will never be\n * invoked.\n */\nexport class AdvancementConfig {\n  /**\n   * @public\n   */\n  constructor() {\n    /** @private @const {!Array<function(number)>} */\n    this.progressListeners_ = [];\n\n    /** @private @const {!Array<function()>} */\n    this.advanceListeners_ = [];\n\n    /** @private @const {!Array<function()>} */\n    this.previousListeners_ = [];\n\n    /** @private @const {!Array<function(number)>} */\n    this.tapNavigationListeners_ = [];\n\n    /** @private {boolean} */\n    this.isRunning_ = false;\n  }\n\n  /**\n   * @param {function(number)} progressListener A function that handles when the\n   *     progress of the current page has been updated.  It accepts a number\n   *     between 0.0 and 1.0 as its only argument, that represents the current\n   *     progress.\n   */\n  addProgressListener(progressListener) {\n    this.progressListeners_.push(progressListener);\n  }\n\n  /**\n   * @param {function()} advanceListener A function that handles when a\n   *     page should be advanced.\n   */\n  addAdvanceListener(advanceListener) {\n    this.advanceListeners_.push(advanceListener);\n  }\n\n  /**\n   * @param {function()} previousListener A function that handles when a\n   *     page should go back to the previous page.\n   */\n  addPreviousListener(previousListener) {\n    this.previousListeners_.push(previousListener);\n  }\n\n  /**\n   * @param {function(number)} onTapNavigationListener A function that handles when a\n   * navigation listener to be fired.\n   */\n  addOnTapNavigationListener(onTapNavigationListener) {\n    this.tapNavigationListeners_.push(onTapNavigationListener);\n  }\n\n  /**\n   * Invoked when the advancement configuration should begin taking effect.\n   */\n  start() {\n    this.isRunning_ = true;\n  }\n\n  /**\n   * Invoked when the advancement configuration should cease taking effect.\n   */\n  stop() {\n    this.isRunning_ = false;\n  }\n\n  /**\n   * @return {boolean}\n   * @protected\n   */\n  isRunning() {\n    return this.isRunning_;\n  }\n\n  /**\n   * @return {number}\n   * @protected\n   */\n  getProgress() {\n    return 1;\n  }\n\n  /** @protected */\n  onProgressUpdate() {\n    const progress = this.getProgress();\n    this.progressListeners_.forEach(progressListener => {\n      progressListener(progress);\n    });\n  }\n\n  /** @protected */\n  onAdvance() {\n    this.advanceListeners_.forEach(advanceListener => {\n      advanceListener();\n    });\n  }\n\n  /** @protected */\n  onPrevious() {\n    this.previousListeners_.forEach(previousListener => {\n      previousListener();\n    });\n  }\n\n  /**\n   * @param {number} navigationDirection Direction of navigation\n   * @protected\n   */\n  onTapNavigation(navigationDirection) {\n    this.tapNavigationListeners_.forEach(navigationListener => {\n      navigationListener(navigationDirection);\n    });\n  }\n\n  /**\n   * Provides an AdvancementConfig object for the specified amp-story-page.\n   * @param {!./amp-story-page.AmpStoryPage} page\n   * @return {!AdvancementConfig}\n   */\n  static forPage(page) {\n    const rootEl = page.element;\n    const win = /** @type {!Window} */ (rootEl.ownerDocument.defaultView);\n    const autoAdvanceStr = rootEl.getAttribute('auto-advance-after');\n\n    const supportedAdvancementModes = [\n      new ManualAdvancement(rootEl),\n      TimeBasedAdvancement.fromAutoAdvanceString(autoAdvanceStr, win),\n      MediaBasedAdvancement.fromAutoAdvanceString(autoAdvanceStr, win, rootEl),\n    ].filter(x => x !== null);\n\n    if (supportedAdvancementModes.length === 0) {\n      return new AdvancementConfig();\n    }\n\n    if (supportedAdvancementModes.length === 1) {\n      return supportedAdvancementModes[0];\n    }\n\n    return new MultipleAdvancementConfig(supportedAdvancementModes);\n  }\n}\n\n\n/**\n * An AdvancementConfig implementation that composes multiple other\n * AdvancementConfig implementations by simply delegating all of its calls to\n * an array of underlying advancement modes.\n */\nclass MultipleAdvancementConfig extends AdvancementConfig {\n  /**\n   * @param {!Array<!AdvancementConfig>} advancementModes A list of\n   *     AdvancementConfigs to which all calls should be delegated.\n   */\n  constructor(advancementModes) {\n    super();\n\n    /** @private @const {!Array<!AdvancementConfig>} */\n    this.advancementModes_ = advancementModes;\n  }\n\n  /** @override */\n  addProgressListener(progressListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addProgressListener(progressListener);\n    });\n  }\n\n  /** @override */\n  addOnTapNavigationListener(onTapNavigationListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addOnTapNavigationListener(onTapNavigationListener);\n    });\n  }\n\n  /** @override */\n  addAdvanceListener(advanceListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addAdvanceListener(advanceListener);\n    });\n  }\n\n  /** @override */\n  addPreviousListener(previousListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addPreviousListener(previousListener);\n    });\n  }\n\n  /** @override */\n  start() {\n    super.start();\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.start();\n    });\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.stop();\n    });\n  }\n}\n\n\n/**\n * Always provides a progress of 1.0.  Advances when the user taps the rightmost\n * 75% of the screen; triggers the previous listener when the user taps the\n * leftmost 25% of the screen.\n */\nclass ManualAdvancement extends AdvancementConfig {\n  /**\n   * @param {!Element} element The element that, when clicked, can cause\n   *     advancing to the next page or going back to the previous.\n   */\n  constructor(element) {\n    super();\n    this.element_ = element;\n    this.clickListener_ = this.maybePerformNavigation_.bind(this);\n    this.hasAutoAdvanceStr_ = this.element_.getAttribute('auto-advance-after');\n  }\n\n  /** @override */\n  start() {\n    super.start();\n    this.element_.addEventListener('click', this.clickListener_, true);\n    if (!this.hasAutoAdvanceStr_) {\n      super.onProgressUpdate();\n    }\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n    this.element_.removeEventListener('click', this.clickListener_, true);\n  }\n\n  /** @override */\n  getProgress() {\n    return 1.0;\n  }\n\n  /**\n   * Determines whether a click should be used for navigation.  Navigate should\n   * occur unless the click is on the system layer, or on an element that\n   * defines on=\"tap:...\"\n   * @param {!Event} e 'click' event.\n   * @return {boolean} true, if the click should be used for navigation.\n   * @private\n   */\n  isNavigationalClick_(e) {\n    return !closest(dev().assertElement(e.target), el => {\n      return hasTapAction(el);\n    }, /* opt_stopAt */ this.element_);\n  }\n\n  /**\n   * We want clicks on certain elements to be exempted from normal page\n   * navigation\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  isProtectedTarget_(event) {\n    return !!PROTECTED_ELEMENTS[event.target.tagName];\n  }\n\n\n  /**\n   * Performs a system navigation if it is determined that the specified event\n   * was a click intended for navigation.\n   * @param {!Event} event 'click' event\n   * @private\n   */\n  maybePerformNavigation_(event) {\n    if (!this.isNavigationalClick_(event) || this.isProtectedTarget_(event)) {\n      // If the system doesn't need to handle this click, then we can simply\n      // return and let the event propagate as it would have otherwise.\n      return;\n    }\n\n    event.stopPropagation();\n\n    // TODO(newmuis): This will need to be flipped for RTL.\n    const elRect = this.element_./*OK*/getBoundingClientRect();\n\n    // Using `left` as a fallback since Safari returns a ClientRect in some\n    // cases.\n    const offsetLeft = ('x' in elRect) ? elRect.x : elRect.left;\n    const offsetWidth = elRect.width;\n\n    const nextScreenAreaMin = offsetLeft +\n        ((1 - NEXT_SCREEN_AREA_RATIO) * offsetWidth);\n    const nextScreenAreaMax = offsetLeft + offsetWidth;\n\n    if (event.pageX >= nextScreenAreaMin && event.pageX < nextScreenAreaMax) {\n      this.onTapNavigation(TapNavigationDirection.NEXT);\n    } else if (event.pageX >= offsetLeft && event.pageX < nextScreenAreaMin) {\n      this.onTapNavigation(TapNavigationDirection.PREVIOUS);\n    }\n  }\n}\n\n\n/**\n * Provides progress and advancement based on a fixed duration of time,\n * specified in either seconds or milliseconds.\n */\nclass TimeBasedAdvancement extends AdvancementConfig {\n  /**\n   * @param {!Window} win The Window object.\n   * @param {number} delayMs The duration to wait before advancing.\n   */\n  constructor(win, delayMs) {\n    super();\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(win);\n\n    /** @private @const {number} */\n    this.delayMs_ = delayMs;\n\n    /** @private {?number} */\n    this.startTimeMs_ = null;\n\n    /** @private {number|string|null} */\n    this.timeoutId_ = null;\n  }\n\n  /**\n   * @return {number} The current timestamp, in milliseconds.\n   * @private\n   */\n  getCurrentTimestampMs_() {\n    return Date.now();\n  }\n\n  /** @override */\n  start() {\n    super.start();\n    this.startTimeMs_ = this.getCurrentTimestampMs_();\n\n    this.timeoutId_ = this.timer_.delay(() => this.onAdvance(), this.delayMs_);\n\n    this.timer_.poll(POLL_INTERVAL_MS, () => {\n      this.onProgressUpdate();\n      return !this.isRunning();\n    });\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n\n    if (this.timeoutId_ !== null) {\n      this.timer_.cancel(this.timeoutId_);\n    }\n  }\n\n  /** @override */\n  getProgress() {\n    if (this.startTimeMs_ === null) {\n      return 0;\n    }\n\n    const progress =\n        (this.getCurrentTimestampMs_() - this.startTimeMs_) / this.delayMs_;\n\n    return Math.min(Math.max(progress, 0), 1);\n  }\n\n  /**\n   * Gets an instance of TimeBasedAdvancement based on the value of the\n   * auto-advance string (from the 'auto-advance-after' attribute on the page).\n   * @param {string} autoAdvanceStr The value of the auto-advance-after\n   *     attribute.\n   * @param {!Window} win\n   * @return {?AdvancementConfig} An AdvancementConfig, if time-based\n   *     auto-advance is supported for the specified auto-advance string; null\n   *     otherwise.\n   */\n  static fromAutoAdvanceString(autoAdvanceStr, win) {\n    if (!autoAdvanceStr) {\n      return null;\n    }\n\n    const delayMs = timeStrToMillis(autoAdvanceStr);\n    if (delayMs === undefined || isNaN(delayMs)) {\n      return null;\n    }\n\n    return new TimeBasedAdvancement(win, Number(delayMs));\n  }\n}\n\n\n/**\n * Provides progress and advances pages based on the completion percentage of\n * playback of an HTMLMediaElement or a video that implements the AMP\n * video-interface.\n *\n * These are combined into a single AdvancementConfig implementation because we\n * may not know at build time whether a video implements the AMP\n * video-interface, since that is dependent on the amp-video buildCallback\n * having been executed before the amp-story-page buildCallback, which is not\n * guaranteed.\n */\nclass MediaBasedAdvancement extends AdvancementConfig {\n  /**\n   * @param {!Window} win\n   * @param {!Element} element\n   */\n  constructor(win, element) {\n    super();\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(win);\n\n    /** @private @const {!Element} */\n    this.element_ = element;\n\n    /** @private {?Element} */\n    this.mediaElement_ = null;\n\n    /** @private {?../../../src/video-interface.VideoInterface} */\n    this.video_ = null;\n  }\n\n  /**\n   * Determines whether the element for auto advancement implements the video\n   * interface.\n   * @return {boolean} true, if the specified element implements the video\n   *     interface.\n   * @private\n   */\n  isVideoInterfaceVideo_() {\n    return this.element_.classList.contains('i-amphtml-video-interface');\n  }\n\n  /**\n   * Gets an HTMLMediaElement from an element that wraps it.\n   * @return {?Element} The underlying HTMLMediaElement, if one exists.\n   * @private\n   */\n  getMediaElement_() {\n    const tagName = this.element_.tagName.toLowerCase();\n\n    if (this.element_ instanceof HTMLMediaElement) {\n      return this.element_;\n    } else if (this.element_.hasAttribute('background-audio') &&\n        (tagName === 'amp-story' || tagName === 'amp-story-page')) {\n      return this.element_.querySelector('.i-amphtml-story-background-audio');\n    } else if (tagName === 'amp-audio') {\n      return this.element_.querySelector('audio');\n    }\n\n    return null;\n  }\n\n  /** @override */\n  start() {\n    super.start();\n\n    // Prevents race condition when checking for video interface classname.\n    (this.element_.whenBuilt ? this.element_.whenBuilt() : Promise.resolve())\n        .then(() => this.startWhenBuilt_());\n  }\n\n  /** @private */\n  startWhenBuilt_() {\n    if (this.isVideoInterfaceVideo_()) {\n      this.startVideoInterfaceElement_();\n      return;\n    }\n\n    if (!this.mediaElement_) {\n      this.mediaElement_ = this.getMediaElement_();\n    }\n\n    if (this.mediaElement_) {\n      this.startHtmlMediaElement_();\n      return;\n    }\n\n    user().error('AMP-STORY-PAGE',\n        `Element with ID ${this.element_.id} is not a media element ` +\n        'supported for automatic advancement.');\n  }\n\n  /** @private */\n  startHtmlMediaElement_() {\n    const mediaElement = dev().assertElement(this.mediaElement_,\n        'Media element was unspecified.');\n    listenOnce(mediaElement, 'ended', () => this.onAdvance());\n    listenOnce(mediaElement, 'timeupdate', () => this.onProgressUpdate());\n  }\n\n  /** @private */\n  startVideoInterfaceElement_() {\n    this.element_.getImpl().then(video => {\n      this.video_ = video;\n    });\n\n    listenOnce(this.element_, VideoEvents.ENDED, () => this.onAdvance(),\n        {capture: true});\n\n    this.timer_.poll(POLL_INTERVAL_MS, () => {\n      this.onProgressUpdate();\n      return !this.isRunning();\n    });\n  }\n\n  /** @override */\n  stop() {\n    // We don't need to explicitly stop the polling or media events listed\n    // above, since they are already bound to either the playback of the media\n    // on the page, or the isRunning state of this AdvancementConfig.\n    super.stop();\n  }\n\n  /** @override */\n  getProgress() {\n    if (this.isVideoInterfaceVideo_()) {\n      if (this.video_ && this.video_.getDuration()) {\n        return this.video_.getCurrentTime() / this.video_.getDuration();\n      }\n\n      return 0;\n    }\n\n    if (this.mediaElement_ && this.mediaElement_.duration) {\n      return this.mediaElement_.currentTime / this.mediaElement_.duration;\n    }\n\n    return super.getProgress();\n  }\n\n  /**\n   * Gets an instance of MediaBasedAdvancement based on the value of the\n   * auto-advance string (from the 'auto-advance-after' attribute on the page).\n   * @param {string} autoAdvanceStr The value of the auto-advance-after\n   *     attribute.\n   * @param {!Window} win\n   * @param {!Element} rootEl\n   * @return {?AdvancementConfig} An AdvancementConfig, if media-element-based\n   *     auto-advance is supported for the specified auto-advance string; null\n   *     otherwise.\n   */\n  static fromAutoAdvanceString(autoAdvanceStr, win, rootEl) {\n    try {\n      const element = rootEl.querySelector(`#${\n        escapeCssSelectorIdent(autoAdvanceStr)\n      }`);\n\n      if (!element) {\n        return null;\n      }\n\n      return new MediaBasedAdvancement(win, element);\n    } catch (e) {\n      return null;\n    }\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {childElementsByTag, matches} from '../../../src/dom';\nimport {dev, user} from '../../../src/log';\nimport {isExperimentOn} from '../../../src/experiments';\nimport {px, setImportantStyles, setStyle} from '../../../src/style';\nimport {throttle} from '../../../src/utils/rate-limit';\nimport {toArray, toWin} from '../../../src/types';\nimport {tryResolve} from '../../../src/utils/promise';\nimport {unscaledClientRect} from './utils';\n\n\n/** @private @const {number} */\nconst MIN_LAYER_WIDTH_PX = 380;\n\n\n/** @private @const {number} */\nconst MAX_LAYER_WIDTH_PX = 460;\n\n\n/** @private @const {string} */\nconst SCALING_APPLIED_CLASSNAME = 'i-amphtml-story-scaled';\n\n\n/** @struct @typedef {{factor: number, width: number, height: number}} */\nlet TargetDimensionsDef;\n\n\n/**\n * @struct\n * @typedef {{\n *   relativeWidth: number,\n *   relativeHeight: number,\n *   matrix: ?Array<number>,\n * }}\n */\nlet ScalableDimensionsDef;\n\n\n/**\n * @param {!Element} sizer\n * @return {!TargetDimensionsDef}\n */\nfunction targetDimensionsFor(sizer) {\n  const {width, height} = unscaledClientRect(sizer);\n\n  const ratio = width / height;\n\n  const targetWidth = Math.min(MAX_LAYER_WIDTH_PX,\n      Math.max(width, Math.max(1, ratio) * MIN_LAYER_WIDTH_PX));\n\n  const targetHeight = (targetWidth / ratio);\n\n  const factor = width / targetWidth;\n\n  return {factor, width: targetWidth, height: targetHeight};\n}\n\n\n/**\n * @param {number} factor\n * @param {number} width\n * @param {number} height\n * @param {!Array<number>} matrix\n * @return {!Object<string, *>}\n */\nfunction scaleTransform(factor, width, height, matrix) {\n  // TODO(alanorozco, #12934): Translate values are not correctly calculated if\n  // `scale`, `skew` or `rotate` have been user-defined.\n  const translateX = ((width * factor) / 2) - (width / 2);\n  const translateY = ((height * factor) / 2) - (height / 2);\n  return [\n    matrix[0] * factor,\n    matrix[1],\n    matrix[2],\n    matrix[3] * factor,\n    matrix[4] + translateX,\n    matrix[5] + translateY,\n  ];\n}\n\n\n/**\n * @param {!Element} page\n * @return {!Array<!Element>}\n */\nfunction scalableElements(page) {\n  return toArray(childElementsByTag(page, 'amp-story-grid-layer'));\n}\n\n\n/**\n * @param {!Element} page\n * @return {boolean}\n */\nfunction isScalingEnabled(page) {\n  // TODO(alanorozco, #12902): Clean up experiment flag.\n  // NOTE(alanorozco): Experiment flag is temporary. No need to clutter the\n  // signatures in this function path by adding `win` as a parameter.\n  const win = toWin(page.ownerDocument.defaultView);\n  if (isExperimentOn(win, 'amp-story-scaling')) {\n    return true;\n  }\n  return page.getAttribute('scaling') == 'relative';\n}\n\n\n/**\n * @param {!Element} page\n * @return {boolean}\n */\nfunction isScalingApplied(page) {\n  return page.classList.contains(SCALING_APPLIED_CLASSNAME);\n}\n\n\n/**\n * @param {!Element} page\n * @param {boolean} isApplied\n */\nfunction markScalingApplied(page, isApplied = true) {\n  page.classList.toggle(SCALING_APPLIED_CLASSNAME, isApplied);\n}\n\n\n/**\n * Required for lazy evaluation after resize.\n * @param {!Element} page\n * @return {boolean}\n */\nfunction withinRange(page) {\n  return matches(page, '[active], [distance=\"1\"], [desktop] > [distance=\"2\"]');\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isCssZoomSupported(win) {\n  // IE supports `zoom`, but not `CSS.supports`.\n  return Services.platformFor(win).isIe() || win.CSS.supports('zoom', '1');\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isCssCustomPropsSupported(win) {\n  return !Services.platformFor(win).isIe() && win.CSS.supports('(--foo: red)');\n}\n\n\n/** @private {?PageScalingService} */\nlet pageScalingService = null;\n\n\n/**\n * Service for scaling pages dynamically so their layers will be sized within a\n * certain pixel range independent of visual dimensions.\n * TODO(alanorozco): Make this part of the runtime layout system to prevent\n *   FOUC-like jump and allow for SSR.\n */\nexport class PageScalingService {\n  /**\n   * @param {!Window} win\n   * @param {!Element} rootEl\n   */\n  constructor(win, rootEl) {\n    /** @private @const {!Element} */\n    this.rootEl_ = rootEl;\n\n    /** @private @const */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /** @private @const {?Element} */\n    // Assumes active page to be determinant of the target size.\n    this.sizer_ = rootEl.querySelector('amp-story-page[active]');\n\n    /** @private {?TargetDimensionsDef} */\n    this.targetDimensions_ = null;\n\n    /** @private {!Object<string, !Array<!ScalableDimensionsDef>>} */\n    this.scalableElsDimensions_ = {};\n\n    Services.viewportForDoc(rootEl).onResize(\n        throttle(win, () => this.onViewportResize_(), 100));\n  }\n\n  /**\n   * @param {!Element} story\n   * @return {!PageScalingService}\n   */\n  static for(story) {\n    // Implemented as singleton for now, should be mapped to story element.\n    // TODO(alanorozco): Implement mapping to support multiple <amp-story>\n    // instances in one doc.\n    const win = toWin(story.ownerDocument.defaultView);\n    if (!pageScalingService) {\n      // TODO(alanorozco, #13064): Falling back to transform on iOS\n      if (!isCssZoomSupported(win) || Services.platformFor(win).isIos()) {\n        // TODO(alanorozco, #12934): Combine transform matrix.\n        user().warn('AMP-STORY',\n            '`amp-story-scaling` using CSS transforms as fallback.',\n            'Any `amp-story-grid-layer` with user-defined CSS transforms will',\n            'break.',\n            'See https://github.com/ampproject/amphtml/issues/12934');\n        pageScalingService = new TransformScalingService(win, story);\n      } else if (isCssCustomPropsSupported(win)) {\n        pageScalingService = new CssPropsZoomScalingService(win, story);\n      } else {\n        pageScalingService = new ZoomScalingService(win, story);\n      }\n    }\n    return pageScalingService;\n  }\n\n  /**\n   * @param {!Element} page\n   * @return {!Promise}\n   */\n  scale(page) {\n    return tryResolve(() => this.scale_(page));\n  }\n\n  /**\n   * @param {!Element} page\n   * @return {!Promise|undefined}\n   * @private\n   */\n  scale_(page) {\n    if (isScalingApplied(page)) {\n      return;\n    }\n    if (!isScalingEnabled(page)) {\n      return;\n    }\n    if (!withinRange(page)) {\n      return;\n    }\n    return this.vsync_.runPromise({\n      measure: state => {\n        state.targetDimensions = this.measureTargetDimensions_();\n        state.scalableElsDimensions = this.getOrMeasureScalableElsFor(page);\n      },\n      mutate: state => {\n        const {targetDimensions, scalableElsDimensions} = state;\n        scalableElements(page).forEach((el, i) => {\n          // `border-box` required since layer now has a width/height set.\n          setImportantStyles(el, {'box-sizing': 'border-box'});\n          setImportantStyles(el,\n              this.scalingStyles(targetDimensions, scalableElsDimensions[i]));\n        });\n        markScalingApplied(page);\n      },\n    }, /* state */ {});\n  }\n\n  /**\n   * @return {!TargetDimensionsDef}\n   * @private\n   */\n  measureTargetDimensions_() {\n    if (!this.targetDimensions_) {\n      const sizer = dev().assertElement(this.sizer_, 'No sizer.');\n      const dimensions = targetDimensionsFor(sizer);\n      this.targetDimensions_ = dimensions;\n      this.updateRootProps(dimensions);\n    }\n    return /** @type {!TargetDimensionsDef} */ (\n      dev().assert(this.targetDimensions_));\n  }\n\n  /**\n   * @param {!Element} page\n   * @return {!Array<!ScalableDimensionsDef>}\n   * @protected\n   */\n  getOrMeasureScalableElsFor(page) {\n    const pageId = user().assert(page.id, 'No page id.');\n\n    if (!this.scalableElsDimensions_[pageId]) {\n      this.scalableElsDimensions_[pageId] = this.measureScalableElsFor(page);\n    }\n\n    return /** @type {!Array<!ScalableDimensionsDef>} */ (\n      dev().assert(this.scalableElsDimensions_[pageId]));\n  }\n\n  /**\n   * Measures scalable elements in a page.\n   * @param {!Element} page\n   * @return {!Array<!ScalableDimensionsDef>}\n   * @protected\n   */\n  measureScalableElsFor(page) {\n    const {width, height} = unscaledClientRect(page);\n    const pageWidth = width;\n    const pageHeight = height;\n    return scalableElements(page).map(el => {\n      const {width, height} = unscaledClientRect(el);\n      return {\n        matrix: this.getTransformMatrix(el),\n        relativeWidth: width / pageWidth,\n        relativeHeight: height / pageHeight,\n      };\n    });\n  }\n\n  /** @private */\n  onViewportResize_() {\n    this.targetDimensions_ = null;\n    this.vsync_.measure(() => {\n      this.measureTargetDimensions_();\n    });\n    this.updatePagesOnResize();\n  }\n\n  /** @protected */\n  scaleAll() {\n    const pages = toArray(childElementsByTag(this.rootEl_, 'amp-story-page'));\n    pages.forEach(page => {\n      markScalingApplied(page, false);\n      this.scale_(page);\n    });\n  }\n\n  /**\n   * Updates properties on root element when target dimensions have been\n   * re-measured.\n   * @param {!TargetDimensionsDef} unusedTargetDimensions\n   */\n  updateRootProps(unusedTargetDimensions) {\n    // Intentionally left blank.\n  }\n\n  /** @protected */\n  updatePagesOnResize() {\n    // Intentionally left blank.\n  }\n\n  /**\n   * Gets an element's transform matrix.\n   * @param {!Element} unusedEl\n   * @return {?Array<number>}\n   */\n  getTransformMatrix(unusedEl) {\n    // Calculating a transform matrix is optional depending on scaling\n    // implementation.\n    return null;\n  }\n\n  /**\n   * @param {!TargetDimensionsDef} unusedTargetDimensions\n   * @param {!ScalableDimensionsDef} unusedScalableElDimensions\n   * @return {!Object<string, *>}\n   * @protected\n   */\n  scalingStyles(unusedTargetDimensions, unusedScalableElDimensions) {\n    dev().assert(false, 'Empty PageScalingService implementation.');\n    return {};\n  }\n}\n\n\n/** Uses CSS zoom as scaling method. */\nclass ZoomScalingService extends PageScalingService {\n  /** @protected */\n  updatePagesOnResize() {\n    this.scaleAll();\n  }\n\n  /** @override */\n  scalingStyles(targetDimensions, elementDimensions) {\n    const {width, height, factor} = targetDimensions;\n    const {relativeWidth, relativeHeight} = elementDimensions;\n    return {\n      'width': px(width * relativeWidth),\n      'height': px(height * relativeHeight),\n      'zoom': factor,\n    };\n  }\n}\n\n\n/** Uses combined CSS transform as scaling method. */\nclass TransformScalingService extends PageScalingService {\n  /** @protected */\n  updatePagesOnResize() {\n    this.scaleAll();\n  }\n\n  /** @override */\n  getTransformMatrix(unusedEl) {\n    // TODO(alanorozco, #12934): Implement.\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n  /** @override */\n  scalingStyles(targetDimensions, elementDimensions) {\n    const {width, height, factor} = targetDimensions;\n    const {relativeWidth, relativeHeight, matrix} = elementDimensions;\n    const initialMatrix = /** @type {!Array<number>} */ (dev().assert(matrix));\n    const transformedMatrix =\n      scaleTransform(factor, width, height, initialMatrix);\n    return {\n      'width': px(width * relativeWidth),\n      'height': px(height * relativeHeight),\n      'transform': `matrix(${transformedMatrix.join()})`,\n    };\n  }\n}\n\n\n/** Uses CSS zoom and custom CSS properties as scaling method. */\nclass CssPropsZoomScalingService extends PageScalingService {\n  /** @override */\n  getOrMeasureScalableElsFor(page) {\n    // Circumvents element dimensions cache as layers are only mutated once.\n    return this.measureScalableElsFor(page);\n  }\n\n  /** @override */\n  updateRootProps() {\n    const {width, height, factor} = this.targetDimensions_;\n    this.vsync_.mutate(() => {\n      setStyle(this.rootEl_, '--i-amphtml-story-width', px(width));\n      setStyle(this.rootEl_, '--i-amphtml-story-height', px(height));\n      setStyle(this.rootEl_, '--i-amphtml-story-factor', factor.toString());\n    });\n  }\n\n  /** @override */\n  scalingStyles(unusedTargetDimensions, elementDimensions) {\n    const {relativeWidth, relativeHeight} = elementDimensions;\n    return {\n      'width': `calc(var(--i-amphtml-story-width) * ${relativeWidth})`,\n      'height': `calc(var(--i-amphtml-story-height) * ${relativeHeight})`,\n      'zoom': 'var(--i-amphtml-story-factor)',\n    };\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Action} from './amp-story-store-service';\nimport {EventType, dispatch} from './events';\nimport {Services} from '../../../src/services';\nimport {StateChangeType} from './navigation-state';\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/** @struct @typedef {{className: string, triggers: (string|undefined)}} */\nlet ButtonStateDef;\n\n\n/** @const {!Object<string, !ButtonStateDef>} */\nconst BackButtonStates = {\n  CLOSE_BOOKEND: {\n    className: 'i-amphtml-story-back-close-bookend',\n    action: Action.TOGGLE_BOOKEND,\n    data: false,\n  },\n  HIDDEN: {className: 'i-amphtml-story-button-hidden'},\n  PREVIOUS_PAGE: {\n    className: 'i-amphtml-story-back-prev',\n    triggers: EventType.PREVIOUS_PAGE,\n  },\n};\n\n\n/** @const {!Object<string, !ButtonStateDef>} */\nconst ForwardButtonStates = {\n  NEXT_PAGE: {\n    className: 'i-amphtml-story-fwd-next',\n    triggers: EventType.NEXT_PAGE,\n  },\n  REPLAY: {\n    className: 'i-amphtml-story-fwd-replay',\n    triggers: EventType.REPLAY,\n  },\n  SHOW_BOOKEND: {\n    className: 'i-amphtml-story-fwd-more',\n    action: Action.TOGGLE_BOOKEND,\n    data: true,\n  },\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst BUTTON = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-button-container'}),\n  children: [\n    {\n      tag: 'button',\n      attrs: dict({'class': 'i-amphtml-story-button-move'}),\n    },\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-page-sentinel'}),\n    },\n  ],\n};\n\n\n/**\n * @param {!Element} hoverEl\n * @param {!Element} targetEl\n * @param {string} className\n */\nfunction setClassOnHover(hoverEl, targetEl, className) {\n  hoverEl.addEventListener('mouseenter', () => {\n    targetEl.classList.add(className);\n  });\n  hoverEl.addEventListener('mouseleave', () => {\n    targetEl.classList.remove(className);\n  });\n}\n\n\n/**\n * Desktop navigation buttons.\n */\nclass PaginationButton {\n  /**\n   * @param {!Document} doc\n   * @param {!ButtonStateDef} initialState\n   * @param {!./amp-story-store-service.AmpStoryStoreService} storeService\n   */\n  constructor(doc, initialState, storeService) {\n    /** @private {!ButtonStateDef} */\n    this.state_ = initialState;\n\n    /** @public @const {!Element} */\n    this.element = renderAsElement(doc, BUTTON);\n\n    this.element.classList.add(initialState.className);\n\n    this.element.addEventListener('click', e => this.onClick_(e));\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = storeService;\n  }\n\n  /** @param {!ButtonStateDef} state */\n  updateState(state) {\n    if (state === this.state_) {\n      return;\n    }\n    this.element.classList.remove(this.state_.className);\n    this.element.classList.add(state.className);\n    this.state_ = state;\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  onClick_(e) {\n    e.preventDefault();\n    if (this.state_.triggers) {\n      dispatch(this.element, dev().assert(this.state_.triggers),\n          /* opt_bubbles */ true);\n      return;\n    }\n    if (this.state_.action) {\n      this.storeService_.dispatch(this.state_.action, this.state_.data);\n      return;\n    }\n  }\n}\n\n\n/** Pagination buttons layer. */\nexport class PaginationButtons {\n  /** @param {!Window} win */\n  constructor(win) {\n    const doc = win.document;\n    const storeService = Services.storyStoreServiceV01(win);\n\n    /** @private @const {!PaginationButton} */\n    this.forwardButton_ =\n        new PaginationButton(doc, ForwardButtonStates.NEXT_PAGE, storeService);\n\n    /** @private @const {!PaginationButton} */\n    this.backButton_ =\n        new PaginationButton(doc, BackButtonStates.HIDDEN, storeService);\n\n    this.forwardButton_.element.classList.add('next-container');\n    this.backButton_.element.classList.add('prev-container');\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!PaginationButtons}\n   */\n  static create(win) {\n    return new PaginationButtons(win);\n  }\n\n  /** @param {!Element} element */\n  attach(element) {\n    setClassOnHover(\n        this.forwardButton_.element, element, 'i-amphtml-story-next-hover');\n\n    setClassOnHover(\n        this.backButton_.element, element, 'i-amphtml-story-prev-hover');\n\n    element.appendChild(this.forwardButton_.element);\n    element.appendChild(this.backButton_.element);\n  }\n\n  /** @param {!./navigation-state.StateChangeEventDef} event */\n  onNavigationStateChange(event) {\n    switch (event.type) {\n      case StateChangeType.ACTIVE_PAGE:\n        const {pageIndex, totalPages} = event.value;\n\n        this.backButton_.updateState(\n            pageIndex === 0 ?\n              BackButtonStates.HIDDEN :\n              BackButtonStates.PREVIOUS_PAGE);\n\n        this.forwardButton_.updateState(\n            pageIndex === totalPages - 1 ?\n              ForwardButtonStates.SHOW_BOOKEND :\n              ForwardButtonStates.NEXT_PAGE);\n        break;\n\n      case StateChangeType.BOOKEND_ENTER:\n        this.backButton_.updateState(BackButtonStates.CLOSE_BOOKEND);\n        break;\n\n      case StateChangeType.BOOKEND_EXIT:\n        this.backButton_.updateState(BackButtonStates.PREVIOUS_PAGE);\n        this.forwardButton_.updateState(ForwardButtonStates.SHOW_BOOKEND);\n        break;\n\n      case StateChangeType.END:\n        this.forwardButton_.updateState(ForwardButtonStates.REPLAY);\n        break;\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {POLL_INTERVAL_MS} from './page-advancement';\nimport {Services} from '../../../src/services';\nimport {dev} from '../../../src/log';\nimport {escapeCssSelectorNth, scopedQuerySelector} from '../../../src/dom';\nimport {hasOwn, map} from '../../../src/utils/object';\nimport {scale, setImportantStyles} from '../../../src/style';\n\n\n/**\n * Transition used to show the progress of a media. Has to be linear so the\n * animation is smooth and constant.\n * @const {string}\n */\nconst TRANSITION_LINEAR = `transform ${POLL_INTERVAL_MS}ms linear`;\n\n/**\n * Transition used to fully fill or unfill a progress bar item.\n * @const {string}\n */\nconst TRANSITION_EASE = 'transform 200ms ease';\n\n\n/**\n * Progress bar for <amp-story>.\n */\nexport class ProgressBar {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {number} */\n    this.segmentCount_ = 0;\n\n    /** @private {number} */\n    this.activeSegmentIndex_ = 0;\n\n    /** @private @const {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    /** @private {!Object<string, number>} */\n    this.segmentIdMap_ = map();\n  }\n\n  /**\n   * @param {!Window} win\n   */\n  static create(win) {\n    return new ProgressBar(win);\n  }\n\n  /**\n   * @param {!Array<string>} segmentIds The id of each segment in the story.\n   * @return {!Element}\n   */\n  build(segmentIds) {\n    if (this.isBuilt_) {\n      return this.getRoot();\n    }\n\n    const segmentCount = segmentIds.length;\n    dev().assert(segmentCount > 0);\n\n    this.isBuilt_ = true;\n    this.segmentCount_ = segmentCount;\n\n    segmentIds.forEach((id, i) => this.segmentIdMap_[id] = i);\n\n    this.root_ = this.win_.document.createElement('ol');\n    this.root_.classList.add('i-amphtml-story-progress-bar');\n\n    for (let i = 0; i < this.segmentCount_; i++) {\n      const segmentProgressBar = this.win_.document.createElement('li');\n      segmentProgressBar.classList.add('i-amphtml-story-page-progress-bar');\n      const segmentProgressValue = this.win_.document.createElement('div');\n      segmentProgressValue.classList.add('i-amphtml-story-page-progress-value');\n      segmentProgressBar.appendChild(segmentProgressValue);\n      this.root_.appendChild(segmentProgressBar);\n    }\n\n    return this.getRoot();\n  }\n\n\n  /**\n   * @return {!Element}\n   */\n  getRoot() {\n    return dev().assertElement(this.root_);\n  }\n\n\n  /**\n   * @param {string} segmentId The index of the new active segment.\n   * @public\n   */\n  setActiveSegmentId(segmentId) {\n    this.assertVaildSegmentId_(segmentId);\n    const segmentIndex = this.segmentIdMap_[segmentId];\n\n    for (let i = 0; i < this.segmentCount_; i++) {\n      if (i < segmentIndex) {\n        this.updateProgressByIndex_(i, 1.0,\n            /* withTransition */ i == segmentIndex - 1);\n      } else {\n        // The active segment manages its own progress by firing PAGE_PROGRESS\n        // events to amp-story.\n        this.updateProgressByIndex_(i, 0.0, /* withTransition */ (\n          segmentIndex != 0 && this.activeSegmentIndex_ != 1));\n      }\n    }\n  }\n\n  /**\n   * @param {string} segmentId The index to assert validity\n   * @private\n   */\n  assertVaildSegmentId_(segmentId) {\n    dev().assert(hasOwn(this.segmentIdMap_, segmentId),\n        'Invalid segment-id passed to progress-bar');\n  }\n\n  /**\n   * The\n   * @param {string} segmentId the id of the segment whos progress to change\n   * @param {number} progress A number from 0.0 to 1.0, representing the\n   *     progress of the current segment.\n   */\n  updateProgress(segmentId, progress) {\n    this.assertVaildSegmentId_(segmentId);\n    const segmentIndex = this.segmentIdMap_[segmentId];\n    this.updateProgressByIndex_(segmentIndex, progress);\n  }\n\n\n  /**\n   * @param {number} segmentIndex The index of the progress bar segment whose progress should be\n   *     changed.\n   * @param {number} progress A number from 0.0 to 1.0, representing the\n   *     progress of the current segment.\n   * @param {boolean=} withTransition\n   * @public\n   */\n  updateProgressByIndex_(segmentIndex, progress, withTransition = true) {\n    this.activeSegmentIndex_ = segmentIndex;\n\n    // Offset the index by 1, since nth-child indices start at 1 while\n    // JavaScript indices start at 0.\n    const nthChildIndex = segmentIndex + 1;\n    const progressEl = scopedQuerySelector(this.getRoot(),\n        `.i-amphtml-story-page-progress-bar:nth-child(${\n          escapeCssSelectorNth(nthChildIndex)\n        }) .i-amphtml-story-page-progress-value`);\n    this.vsync_.mutate(() => {\n      let transition = 'none';\n      if (withTransition) {\n        // Using an eased transition only if filling the bar to 0 or 1.\n        transition =\n            (progress === 1 || progress === 0) ?\n              TRANSITION_EASE : TRANSITION_LINEAR;\n      }\n      setImportantStyles(dev().assertElement(progressEl), {\n        'transform': scale(`${progress},1`),\n        'transition': transition,\n      });\n    });\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {dev, user} from '../../../src/log';\nimport {getSourceOrigin, isProtocolValid, parseUrlDeprecated} from '../../../src/url';\n\n\nconst TAG = 'amp-story';\n\n\n/**\n * @typedef {{\n *   title: string,\n *   url: string,\n *   domainName: string,\n *   image: (string|undefined),\n * }}\n */\nexport let RelatedArticleDef;\n\n\n/**\n * @typedef {{\n *   heading: (string|undefined),\n *   articles: !Array<!RelatedArticleDef>,\n * }}\n */\nexport let RelatedArticleSetDef;\n\n/** New bookend components only supported in amp-story 1.0. */\nconst NEW_COMPONENTS =\n['landscape', 'portrait', 'cta-link', 'heading', 'textbox'];\n\n/**\n * @param {!JsonObject} articleJson\n * @return {?RelatedArticleDef}\n */\nfunction buildArticleFromJson_(articleJson) {\n  if (!articleJson['title'] || !articleJson['url']) {\n    user().error(TAG,\n        'Articles must contain `title` and `url` fields, skipping invalid.');\n    return null;\n  }\n\n  const articleUrl = dev().assert(articleJson['url']);\n  user().assert(isProtocolValid(articleUrl),\n      `Unsupported protocol for article URL ${articleUrl}`);\n\n  let domain;\n  try {\n    domain = parseUrlDeprecated(getSourceOrigin(articleUrl)).hostname;\n  } catch (e) {\n    // Unknown path prefix in url.\n    domain = parseUrlDeprecated(articleUrl).hostname;\n  }\n\n  const article = {\n    title: dev().assert(articleJson['title']),\n    url: articleUrl,\n    domainName: domain,\n  };\n\n  if (articleJson['image']) {\n    user().assert(isProtocolValid(articleJson['image']),\n        `Unsupported protocol for article image URL ${articleJson['image']}`);\n    article.image = dev().assert(articleJson['image']);\n  }\n\n  return /** @type {!RelatedArticleDef} */ (article);\n}\n\n\n/**\n * @param {!JsonObject=} opt_articleSetsResponse\n * @return {!Array<!RelatedArticleSetDef>}\n */\nexport function relatedArticlesFromJson(opt_articleSetsResponse) {\n  return /** @type {!Array<!RelatedArticleSetDef>} */ (\n    Object.keys(opt_articleSetsResponse || {}).map(headingKey => {\n      const articleSet = {\n        articles:\n              opt_articleSetsResponse[headingKey]\n                  .map(buildArticleFromJson_)\n                  .filter(valid => !!valid),\n      };\n\n      if (headingKey.trim().length) {\n        articleSet.heading = headingKey;\n      }\n\n      return /** @type {!RelatedArticleSetDef} */ (articleSet);\n    }));\n}\n\n/**\n * @param {!Array<!JsonObject>} bookendComponents\n * @return {!Array<!RelatedArticleSetDef>}\n */\nexport function parseArticlesToClassicApi(bookendComponents) {\n  const articleSet = {};\n  articleSet.articles = [];\n\n  bookendComponents.forEach(component => {\n    if (component['type'] == 'small') {\n      articleSet.articles.push(buildArticleFromJson_(component));\n    } else if (NEW_COMPONENTS.includes(component['type'])) {\n      user().warn(TAG, component['type'] + ' is not supported in ' +\n      'amp-story-0.1, upgrade to v1.0 to use this feature.');\n    } else {\n      user().warn(TAG, component['type'] + ' is not valid, ' +\n      'skipping invalid.');\n    }\n  });\n\n  const articles = [];\n  articles.push(articleSet);\n  return articles;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringId} from './localization'; // eslint-disable-line no-unused-vars\nimport {Services} from '../../../src/services';\nimport {createElementWithAttributes} from '../../../src/dom';\nimport {dev} from '../../../src/log';\nimport {isArray, toWin} from '../../../src/types';\n\n\n/**\n * @typedef {{\n *   tag: string,\n *   attrs: (!JsonObject|undefined),\n *   localizedStringId: (!LocalizedStringId|undefined),\n *   unlocalizedString: (string|undefined),\n *   children: (!Array<!ElementDef>|undefined),\n * }}\n */\nexport let ElementDef;\n\n\n/**\n * @param {!Document} doc\n * @param {!ElementDef|!Array<!ElementDef>} elementsDef\n * @return {!Node}\n */\nexport function renderSimpleTemplate(doc, elementsDef) {\n  if (isArray(elementsDef)) {\n    return renderMulti(doc, /** @type {!Array<!ElementDef>} */ (elementsDef));\n  }\n  return renderSingle(doc, /** @type {!ElementDef} */ (elementsDef));\n}\n\n\n/**\n * @param {!Document} doc\n * @param {!ElementDef} elementDef\n * @return {!Element}\n */\nexport function renderAsElement(doc, elementDef) {\n  return renderSingle(doc, elementDef);\n}\n\n\n/**\n * @param {!Document} doc\n * @param {!Array<!ElementDef>} elementsDef\n * @return {!Node}\n */\nfunction renderMulti(doc, elementsDef) {\n  const fragment = doc.createDocumentFragment();\n  elementsDef.forEach(elementDef =>\n    fragment.appendChild(renderSingle(doc, elementDef)));\n  return fragment;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {!ElementDef} elementDef\n * @return {!Element}\n */\nfunction renderSingle(doc, elementDef) {\n  const el = elementDef.attrs ?\n    createElementWithAttributes(doc, elementDef.tag, elementDef.attrs) :\n    doc.createElement(elementDef.tag);\n\n  if (elementDef.localizedStringId) {\n    const win = toWin(doc.defaultView);\n    Services.localizationServiceForOrNullV01(win).then(localizationService => {\n      dev().assert(localizationService,\n          'Could not retrieve LocalizationService.');\n      el.textContent = localizationService\n          .getLocalizedString(/** @type {!LocalizedStringId} */ (\n            elementDef.localizedStringId));\n    });\n  }\n\n  if (elementDef.unlocalizedString) {\n    el.textContent = elementDef.unlocalizedString;\n  }\n\n  if (elementDef.children) {\n    el.appendChild(renderMulti(doc, elementDef.children));\n  }\n\n  return el;\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ampMediaElementFor} from './utils';\nimport {removeElement} from '../../../src/dom';\n\n\n\n/**\n * Class handling HTMLMediaElements sources.\n */\nexport class Sources {\n  /**\n   * @param {?string=} opt_srcAttr The 'src' attribute of the media element.\n   * @param {?IArrayLike<!Element>=} opt_srcEls Any child <source> tags of the\n   *     media element.\n   * @param {?IArrayLike<!Element>=} opt_trackEls Any child <track> tags of the\n   *     media element.\n   */\n  constructor(opt_srcAttr, opt_srcEls, opt_trackEls) {\n    /** @private @const {?string} */\n    this.srcAttr_ = opt_srcAttr && opt_srcAttr.length ? opt_srcAttr : null;\n\n    /** @private @const {!IArrayLike<!Element>} */\n    this.srcEls_ = opt_srcEls || [];\n\n    /** @private @const {!IArrayLike<!Element>} */\n    this.trackEls_ = opt_trackEls || [];\n  }\n\n\n  /**\n   * Applies track tags to a specified element. This is done in a separate\n   * method from the source tags, because we must wait for \"loadedmetadata\"\n   * video event before doing this.\n   * @param {!HTMLMediaElement} element The element to adopt the text tracks\n   *     represented by this object.\n   * @private\n   */\n  applyTracksToElement_(element) {\n    Array.prototype.forEach.call(this.trackEls_, trackEl => {\n      const track = document.createElement('track');\n      track.id = trackEl.id;\n      track.kind = trackEl.kind;\n      track.label = trackEl.label;\n      track.srclang = trackEl.srclang;\n      track.default = trackEl.default;\n      track.src = trackEl.src;\n      track.addEventListener('load', () => {\n        track.mode = 'showing';\n        element.textTracks[0].mode = 'showing';\n      });\n      element.appendChild(track);\n    });\n  }\n\n\n  /**\n   * Applies the src attribute and source tags to a specified element.\n   * @param {!HTMLMediaElement} element The element to adopt the sources\n   *     represented by this object.\n   */\n  applyToElement(element) {\n    Sources.removeFrom(element);\n\n    if (!this.srcAttr_) {\n      element.removeAttribute('src');\n    } else {\n      element.setAttribute('src', this.srcAttr_);\n    }\n\n    Array.prototype.forEach.call(this.srcEls_,\n        srcEl => element.appendChild(srcEl));\n\n    if (this.trackEls_.length > 0) {\n      // Wait for \"loadedmetadata\" before adding tracks.\n      // Firefox adds tracks, but does not toggle them on unless video metadata\n      // is loaded first.\n      if (element.readyState >= 1 /* HAVE_METADATA */) {\n        this.applyTracksToElement_(element);\n      } else {\n        const addTracksHandler = () => {\n          element.removeEventListener('loadedmetadata', addTracksHandler);\n          this.applyTracksToElement_(element);\n        };\n\n        element.addEventListener('loadedmetadata', addTracksHandler);\n      }\n    }\n  }\n\n\n  /**\n   * Removes and returns the sources from a specified element.\n   * @param {!Element} element The element whose sources should be removed and\n   *     returned.\n   * @return {!Sources} An object representing the sources of the specified\n   *     element.\n   */\n  static removeFrom(element) {\n    const elementToUse = ampMediaElementFor(element) || element;\n    const srcAttr = elementToUse.getAttribute('src');\n    elementToUse.removeAttribute('src');\n\n    const srcEls = elementToUse.querySelectorAll('source');\n    Array.prototype.forEach.call(srcEls, srcEl => removeElement(srcEl));\n\n    const trackEls = elementToUse.querySelectorAll('track');\n    Array.prototype.forEach.call(trackEls, trackEl => removeElement(trackEl));\n\n    return new Sources(srcAttr, srcEls, trackEls);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {createElementWithAttributes, removeElement} from '../../../src/dom';\n\n\n/** @private @const {string} */\nconst TOAST_CLASSNAME = 'i-amphtml-story-toast';\n\n\n/**\n * Should be higher than total animation time.\n * @private @const {number}\n */\nconst TOAST_VISIBLE_TIME_MS = 2600;\n\n\n/**\n * UI notifications service, displaying a message to the user for a limited\n * amount of time.\n */\nexport class Toast {\n  /**\n   * @param {!Window} win\n   * @param {!Node|string} childNodeOrText\n   */\n  static show(win, childNodeOrText) {\n    const toast = createElementWithAttributes(win.document, 'div',\n        /** @type {!JsonObject} */ ({'class': TOAST_CLASSNAME}));\n\n    if (typeof childNodeOrText == 'string') {\n      toast.textContent = childNodeOrText;\n    } else {\n      toast.appendChild(childNodeOrText);\n    }\n\n    win.document.body.appendChild(toast);\n\n    Services.timerFor(win)\n        .delay(() => removeElement(toast), TOAST_VISIBLE_TIME_MS);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {closestBySelector} from '../../../src/dom';\nimport {createShadowRoot} from '../../../src/shadow-embed';\nimport {user} from '../../../src/log';\n\n/**\n * Returns millis as number if given a string(e.g. 1s, 200ms etc)\n * @param {string} time\n * @return {number|undefined}\n */\nexport function timeStrToMillis(time) {\n  const match = time.toLowerCase().match(/^([0-9\\.]+)\\s*(s|ms)$/);\n  if (!match) {\n    return NaN;\n  }\n\n  const num = match[1];\n  const units = match[2];\n\n  user().assert(\n      match &&\n          match.length == 3 &&\n          (units == 's' || units == 'ms'),\n      'Invalid time string %s', time);\n\n  return units == 's' ? parseFloat(num) * 1000 : parseInt(num, 10);\n}\n\n\n/**\n * Determines whether the specified element has an action for its on=\"tap:...\"\n * handler.\n * @param {!Element} el\n * @return {boolean}\n */\nexport function hasTapAction(el) {\n  // There are better ways to determine this, but they're all bound to action\n  // service race conditions. This is good enough for our use case.\n  return el.hasAttribute('on') &&\n      !!el.getAttribute('on').match(/(^|;)\\s*tap\\s*:/);\n}\n\n\n/**\n * Calculates a client rect without applying scaling transformations.\n * Note: must be run in a vsync measure context.\n * @param {!Element} el\n * @return {!ClientRect}\n */\nexport function unscaledClientRect(el) {\n  const {width, height, left, top} = el./*OK*/getBoundingClientRect();\n\n  const scaleFactorX = width == 0 ? 1 : width / el./*OK*/offsetWidth;\n  const scaleFactorY = height == 0 ? 1 : height / el./*OK*/offsetHeight;\n\n  return /** @type {!ClientRect} */ ({\n    left: left / scaleFactorX,\n    top: top / scaleFactorY,\n    width: width / scaleFactorX,\n    height: height / scaleFactorY,\n  });\n}\n\n\n/**\n * Finds an amp-video/amp-audio ancestor.\n * @param {!Element} el\n * @return {?AmpElement}\n */\nexport function ampMediaElementFor(el) {\n  return closestBySelector(el, 'amp-video, amp-audio');\n}\n\n\n/**\n * Creates a shadow root for the provided container, and appends the element\n * along with its CSS.\n * @param  {!Element} container\n * @param  {!Element} element\n * @param  {string} css\n * @return {!ShadowRoot}\n */\nexport function createShadowRootWithStyle(container, element, css) {\n  const shadowRoot = createShadowRoot(container);\n\n  const style = self.document.createElement('style');\n  style./*OK*/textContent = css;\n\n  shadowRoot.appendChild(style);\n  shadowRoot.appendChild(element);\n\n  return shadowRoot;\n}\n\n\n/**\n * Parses the resolved CSS color property, that is always in the form of\n * `rgba(0, 0, 0, 1)` or `rgb(0, 0, 0)`, that can be retrieved using\n * `getComputedStyle`.\n * Returns an object containing the R, G, and B 8bit numbers.\n * @param  {string} cssValue\n * @return {!Object<string, number>}\n */\nexport function getRGBFromCssColorValue(cssValue) {\n  const regexPattern = /rgba?\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})/;\n\n  if (!cssValue.match(regexPattern)) {\n    user().error('UTILS', 'getRGBFromCssColorValue expects a parameter in ' +\n        `the form of 'rgba(0, 0, 0, 1)' or 'rgb(0, 0, 0)' but got ${cssValue}`);\n    // Returns a fallback value, to fail 'gracefully' in case a browser we don't\n    // know about gave an unexpected value.\n    return {r: 0, g: 0, b: 0};\n  }\n\n  const matches = regexPattern.exec(cssValue);\n\n  return {\n    r: Number(matches[1]),\n    g: Number(matches[2]),\n    b: Number(matches[3]),\n  };\n}\n\n\n/**\n * Returns the color, either black or white, that has the best contrast ratio\n * against the provided RGB 8bit values.\n * @param  {!Object<string, number>} rgb  ie: {r: 0, g: 0, b: 0}\n * @return {string} '#fff' or '#000'\n */\nexport function getTextColorForRGB({r, g, b}) {\n  // Calculates the relative luminance L.\n  // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n  const getLinearRGBValue = x => {\n    // 8bit to sRGB.\n    x /= 255;\n\n    // Converts the gamma-compressed RGB values to linear RGB.\n    return x <= 0.03928 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n  };\n\n  const linearR = getLinearRGBValue(r);\n  const linearG = getLinearRGBValue(g);\n  const linearB = getLinearRGBValue(b);\n\n  const L = (0.2126 * linearR) + (0.7152 * linearG) + (0.0722 * linearB);\n\n  // Determines which one of the white and black text have a better contrast\n  // ratio against the used background color.\n  // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n  // @TODO(gmajoulet): Improve the text color for high contrast ratio.\n  // 1 is L for #FFF, and 0 is L for #000.\n  // (1 + 0.05) / (L + 0.05) > (L + 0.05) / (0 + 0.05) toggles for L = 0.179.\n  return L > 0.179 ? '#000' : '#FFF';\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {StateChangeType} from './navigation-state';\n\n/**\n * @typedef {!Object<string, *>}\n */\nexport let StoryVariableDef;\n\n\n/** @enum {string} */\nconst Variable = {\n  STORY_PAGE_ID: 'storyPageId',\n  STORY_PAGE_INDEX: 'storyPageIndex',\n  STORY_PAGE_COUNT: 'storyPageCount',\n  STORY_IS_MUTED: 'storyIsMuted',\n  STORY_PROGRESS: 'storyProgress',\n};\n\n\n/**\n * Variable service for amp-story.\n * Used for URL replacement service. See usage in src/url-replacements-impl.\n */\nexport class AmpStoryVariableService {\n  /**\n   * @public\n   */\n  constructor() {\n    /** @private {!StoryVariableDef} */\n    this.variables_ = {\n      [Variable.STORY_PAGE_INDEX]: null,\n      [Variable.STORY_PAGE_ID]: null,\n      [Variable.STORY_PAGE_COUNT]: null,\n      [Variable.STORY_PROGRESS]: null,\n      [Variable.STORY_IS_MUTED]: null,\n    };\n  }\n\n  /**\n   * @param {!./navigation-state.StateChangeEventDef} stateChangeEvent\n   */\n  onNavigationStateChange(stateChangeEvent) {\n    switch (stateChangeEvent.type) {\n      case StateChangeType.ACTIVE_PAGE:\n        const {pageIndex, pageId, storyProgress, totalPages} =\n            stateChangeEvent.value;\n        this.variables_[Variable.STORY_PAGE_INDEX] = pageIndex;\n        this.variables_[Variable.STORY_PAGE_ID] = pageId;\n        this.variables_[Variable.STORY_PROGRESS] = storyProgress;\n        this.variables_[Variable.STORY_PAGE_COUNT] = totalPages;\n        break;\n    }\n  }\n\n  /**\n   * @param {boolean} isMuted\n   */\n  onMutedStateChange(isMuted) {\n    this.variables_[Variable.STORY_IS_MUTED] = isMuted;\n  }\n\n  /**\n   * @return {!StoryVariableDef}\n   */\n  get() {\n    // TODO(newmius): You should probably Object.freeze this in development.\n    return this.variables_;\n  }\n}\n","/*!\n\nCopyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n// global window Object\n// optional polyfill info\n//    'auto' used by default, everything is feature detected\n//    'force' use the polyfill even if not fully needed\nfunction installCustomElements(window, polyfill) {'use strict';\n\n  // DO NOT USE THIS FILE DIRECTLY, IT WON'T WORK\n  // THIS IS A PROJECT BASED ON A BUILD SYSTEM\n  // THIS FILE IS JUST WRAPPED UP RESULTING IN\n  // build/document-register-element.node.js\n\n  var\n    document = window.document,\n    Object = window.Object\n  ;\n\n  var htmlClass = (function (info) {\n    // (C) Andrea Giammarchi - @WebReflection - MIT Style\n    var\n      catchClass = /^[A-Z]+[a-z]/,\n      filterBy = function (re) {\n        var arr = [], tag;\n        for (tag in register) {\n          if (re.test(tag)) arr.push(tag);\n        }\n        return arr;\n      },\n      add = function (Class, tag) {\n        tag = tag.toLowerCase();\n        if (!(tag in register)) {\n          register[Class] = (register[Class] || []).concat(tag);\n          register[tag] = (register[tag.toUpperCase()] = Class);\n        }\n      },\n      register = (Object.create || Object)(null),\n      htmlClass = {},\n      i, section, tags, Class\n    ;\n    for (section in info) {\n      for (Class in info[section]) {\n        tags = info[section][Class];\n        register[Class] = tags;\n        for (i = 0; i < tags.length; i++) {\n          register[tags[i].toLowerCase()] =\n          register[tags[i].toUpperCase()] = Class;\n        }\n      }\n    }\n    htmlClass.get = function get(tagOrClass) {\n      return typeof tagOrClass === 'string' ?\n        (register[tagOrClass] || (catchClass.test(tagOrClass) ? [] : '')) :\n        filterBy(tagOrClass);\n    };\n    htmlClass.set = function set(tag, Class) {\n      return (catchClass.test(tag) ?\n        add(tag, Class) :\n        add(Class, tag)\n      ), htmlClass;\n    };\n    return htmlClass;\n  }({\n    \"collections\": {\n      \"HTMLAllCollection\": [\n        \"all\"\n      ],\n      \"HTMLCollection\": [\n        \"forms\"\n      ],\n      \"HTMLFormControlsCollection\": [\n        \"elements\"\n      ],\n      \"HTMLOptionsCollection\": [\n        \"options\"\n      ]\n    },\n    \"elements\": {\n      \"Element\": [\n        \"element\"\n      ],\n      \"HTMLAnchorElement\": [\n        \"a\"\n      ],\n      \"HTMLAppletElement\": [\n        \"applet\"\n      ],\n      \"HTMLAreaElement\": [\n        \"area\"\n      ],\n      \"HTMLAttachmentElement\": [\n        \"attachment\"\n      ],\n      \"HTMLAudioElement\": [\n        \"audio\"\n      ],\n      \"HTMLBRElement\": [\n        \"br\"\n      ],\n      \"HTMLBaseElement\": [\n        \"base\"\n      ],\n      \"HTMLBodyElement\": [\n        \"body\"\n      ],\n      \"HTMLButtonElement\": [\n        \"button\"\n      ],\n      \"HTMLCanvasElement\": [\n        \"canvas\"\n      ],\n      \"HTMLContentElement\": [\n        \"content\"\n      ],\n      \"HTMLDListElement\": [\n        \"dl\"\n      ],\n      \"HTMLDataElement\": [\n        \"data\"\n      ],\n      \"HTMLDataListElement\": [\n        \"datalist\"\n      ],\n      \"HTMLDetailsElement\": [\n        \"details\"\n      ],\n      \"HTMLDialogElement\": [\n        \"dialog\"\n      ],\n      \"HTMLDirectoryElement\": [\n        \"dir\"\n      ],\n      \"HTMLDivElement\": [\n        \"div\"\n      ],\n      \"HTMLDocument\": [\n        \"document\"\n      ],\n      \"HTMLElement\": [\n        \"element\",\n        \"abbr\",\n        \"address\",\n        \"article\",\n        \"aside\",\n        \"b\",\n        \"bdi\",\n        \"bdo\",\n        \"cite\",\n        \"code\",\n        \"command\",\n        \"dd\",\n        \"dfn\",\n        \"dt\",\n        \"em\",\n        \"figcaption\",\n        \"figure\",\n        \"footer\",\n        \"header\",\n        \"i\",\n        \"kbd\",\n        \"mark\",\n        \"nav\",\n        \"noscript\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"section\",\n        \"small\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"u\",\n        \"var\",\n        \"wbr\"\n      ],\n      \"HTMLEmbedElement\": [\n        \"embed\"\n      ],\n      \"HTMLFieldSetElement\": [\n        \"fieldset\"\n      ],\n      \"HTMLFontElement\": [\n        \"font\"\n      ],\n      \"HTMLFormElement\": [\n        \"form\"\n      ],\n      \"HTMLFrameElement\": [\n        \"frame\"\n      ],\n      \"HTMLFrameSetElement\": [\n        \"frameset\"\n      ],\n      \"HTMLHRElement\": [\n        \"hr\"\n      ],\n      \"HTMLHeadElement\": [\n        \"head\"\n      ],\n      \"HTMLHeadingElement\": [\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\"\n      ],\n      \"HTMLHtmlElement\": [\n        \"html\"\n      ],\n      \"HTMLIFrameElement\": [\n        \"iframe\"\n      ],\n      \"HTMLImageElement\": [\n        \"img\"\n      ],\n      \"HTMLInputElement\": [\n        \"input\"\n      ],\n      \"HTMLKeygenElement\": [\n        \"keygen\"\n      ],\n      \"HTMLLIElement\": [\n        \"li\"\n      ],\n      \"HTMLLabelElement\": [\n        \"label\"\n      ],\n      \"HTMLLegendElement\": [\n        \"legend\"\n      ],\n      \"HTMLLinkElement\": [\n        \"link\"\n      ],\n      \"HTMLMapElement\": [\n        \"map\"\n      ],\n      \"HTMLMarqueeElement\": [\n        \"marquee\"\n      ],\n      \"HTMLMediaElement\": [\n        \"media\"\n      ],\n      \"HTMLMenuElement\": [\n        \"menu\"\n      ],\n      \"HTMLMenuItemElement\": [\n        \"menuitem\"\n      ],\n      \"HTMLMetaElement\": [\n        \"meta\"\n      ],\n      \"HTMLMeterElement\": [\n        \"meter\"\n      ],\n      \"HTMLModElement\": [\n        \"del\",\n        \"ins\"\n      ],\n      \"HTMLOListElement\": [\n        \"ol\"\n      ],\n      \"HTMLObjectElement\": [\n        \"object\"\n      ],\n      \"HTMLOptGroupElement\": [\n        \"optgroup\"\n      ],\n      \"HTMLOptionElement\": [\n        \"option\"\n      ],\n      \"HTMLOutputElement\": [\n        \"output\"\n      ],\n      \"HTMLParagraphElement\": [\n        \"p\"\n      ],\n      \"HTMLParamElement\": [\n        \"param\"\n      ],\n      \"HTMLPictureElement\": [\n        \"picture\"\n      ],\n      \"HTMLPreElement\": [\n        \"pre\"\n      ],\n      \"HTMLProgressElement\": [\n        \"progress\"\n      ],\n      \"HTMLQuoteElement\": [\n        \"blockquote\",\n        \"q\",\n        \"quote\"\n      ],\n      \"HTMLScriptElement\": [\n        \"script\"\n      ],\n      \"HTMLSelectElement\": [\n        \"select\"\n      ],\n      \"HTMLShadowElement\": [\n        \"shadow\"\n      ],\n      \"HTMLSlotElement\": [\n        \"slot\"\n      ],\n      \"HTMLSourceElement\": [\n        \"source\"\n      ],\n      \"HTMLSpanElement\": [\n        \"span\"\n      ],\n      \"HTMLStyleElement\": [\n        \"style\"\n      ],\n      \"HTMLTableCaptionElement\": [\n        \"caption\"\n      ],\n      \"HTMLTableCellElement\": [\n        \"td\",\n        \"th\"\n      ],\n      \"HTMLTableColElement\": [\n        \"col\",\n        \"colgroup\"\n      ],\n      \"HTMLTableElement\": [\n        \"table\"\n      ],\n      \"HTMLTableRowElement\": [\n        \"tr\"\n      ],\n      \"HTMLTableSectionElement\": [\n        \"thead\",\n        \"tbody\",\n        \"tfoot\"\n      ],\n      \"HTMLTemplateElement\": [\n        \"template\"\n      ],\n      \"HTMLTextAreaElement\": [\n        \"textarea\"\n      ],\n      \"HTMLTimeElement\": [\n        \"time\"\n      ],\n      \"HTMLTitleElement\": [\n        \"title\"\n      ],\n      \"HTMLTrackElement\": [\n        \"track\"\n      ],\n      \"HTMLUListElement\": [\n        \"ul\"\n      ],\n      \"HTMLUnknownElement\": [\n        \"unknown\",\n        \"vhgroupv\",\n        \"vkeygen\"\n      ],\n      \"HTMLVideoElement\": [\n        \"video\"\n      ]\n    },\n    \"nodes\": {\n      \"Attr\": [\n        \"node\"\n      ],\n      \"Audio\": [\n        \"audio\"\n      ],\n      \"CDATASection\": [\n        \"node\"\n      ],\n      \"CharacterData\": [\n        \"node\"\n      ],\n      \"Comment\": [\n        \"#comment\"\n      ],\n      \"Document\": [\n        \"#document\"\n      ],\n      \"DocumentFragment\": [\n        \"#document-fragment\"\n      ],\n      \"DocumentType\": [\n        \"node\"\n      ],\n      \"HTMLDocument\": [\n        \"#document\"\n      ],\n      \"Image\": [\n        \"img\"\n      ],\n      \"Option\": [\n        \"option\"\n      ],\n      \"ProcessingInstruction\": [\n        \"node\"\n      ],\n      \"ShadowRoot\": [\n        \"#shadow-root\"\n      ],\n      \"Text\": [\n        \"#text\"\n      ],\n      \"XMLDocument\": [\n        \"xml\"\n      ]\n    }\n  }));\n  \n  \n    \n  // passed at runtime, configurable\n  // via nodejs module\n  if (!polyfill) polyfill = 'auto';\n  \n  var\n    // V0 polyfill entry\n    REGISTER_ELEMENT = 'registerElement',\n  \n    // IE < 11 only + old WebKit for attributes + feature detection\n    EXPANDO_UID = '__' + REGISTER_ELEMENT + (window.Math.random() * 10e4 >> 0),\n  \n    // shortcuts and costants\n    ADD_EVENT_LISTENER = 'addEventListener',\n    ATTACHED = 'attached',\n    CALLBACK = 'Callback',\n    DETACHED = 'detached',\n    EXTENDS = 'extends',\n  \n    ATTRIBUTE_CHANGED_CALLBACK = 'attributeChanged' + CALLBACK,\n    ATTACHED_CALLBACK = ATTACHED + CALLBACK,\n    CONNECTED_CALLBACK = 'connected' + CALLBACK,\n    DISCONNECTED_CALLBACK = 'disconnected' + CALLBACK,\n    CREATED_CALLBACK = 'created' + CALLBACK,\n    DETACHED_CALLBACK = DETACHED + CALLBACK,\n  \n    ADDITION = 'ADDITION',\n    MODIFICATION = 'MODIFICATION',\n    REMOVAL = 'REMOVAL',\n  \n    DOM_ATTR_MODIFIED = 'DOMAttrModified',\n    DOM_CONTENT_LOADED = 'DOMContentLoaded',\n    DOM_SUBTREE_MODIFIED = 'DOMSubtreeModified',\n  \n    PREFIX_TAG = '<',\n    PREFIX_IS = '=',\n  \n    // valid and invalid node names\n    validName = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,\n    invalidNames = [\n      'ANNOTATION-XML',\n      'COLOR-PROFILE',\n      'FONT-FACE',\n      'FONT-FACE-SRC',\n      'FONT-FACE-URI',\n      'FONT-FACE-FORMAT',\n      'FONT-FACE-NAME',\n      'MISSING-GLYPH'\n    ],\n  \n    // registered types and their prototypes\n    types = [],\n    protos = [],\n  \n    // to query subnodes\n    query = '',\n  \n    // html shortcut used to feature detect\n    documentElement = document.documentElement,\n  \n    // ES5 inline helpers || basic patches\n    indexOf = types.indexOf || function (v) {\n      for(var i = this.length; i-- && this[i] !== v;){}\n      return i;\n    },\n  \n    // other helpers / shortcuts\n    OP = Object.prototype,\n    hOP = OP.hasOwnProperty,\n    iPO = OP.isPrototypeOf,\n  \n    defineProperty = Object.defineProperty,\n    empty = [],\n    gOPD = Object.getOwnPropertyDescriptor,\n    gOPN = Object.getOwnPropertyNames,\n    gPO = Object.getPrototypeOf,\n    sPO = Object.setPrototypeOf,\n  \n    // jshint proto: true\n    hasProto = !!Object.__proto__,\n  \n    // V1 helpers\n    fixGetClass = false,\n    DRECEV1 = '__dreCEv1',\n    customElements = window.customElements,\n    usableCustomElements = polyfill !== 'force' && !!(\n      customElements &&\n      customElements.define &&\n      customElements.get &&\n      customElements.whenDefined\n    ),\n    Dict = Object.create || Object,\n    Map = window.Map || function Map() {\n      var K = [], V = [], i;\n      return {\n        get: function (k) {\n          return V[indexOf.call(K, k)];\n        },\n        set: function (k, v) {\n          i = indexOf.call(K, k);\n          if (i < 0) V[K.push(k) - 1] = v;\n          else V[i] = v;\n        }\n      };\n    },\n    Promise = window.Promise || function (fn) {\n      var\n        notify = [],\n        done = false,\n        p = {\n          'catch': function () {\n            return p;\n          },\n          'then': function (cb) {\n            notify.push(cb);\n            if (done) setTimeout(resolve, 1);\n            return p;\n          }\n        }\n      ;\n      function resolve(value) {\n        done = true;\n        while (notify.length) notify.shift()(value);\n      }\n      fn(resolve);\n      return p;\n    },\n    justCreated = false,\n    constructors = Dict(null),\n    waitingList = Dict(null),\n    nodeNames = new Map(),\n    secondArgument = function (is) {\n      return is.toLowerCase();\n    },\n  \n    // used to create unique instances\n    create = Object.create || function Bridge(proto) {\n      // silly broken polyfill probably ever used but short enough to work\n      return proto ? ((Bridge.prototype = proto), new Bridge()) : this;\n    },\n  \n    // will set the prototype if possible\n    // or copy over all properties\n    setPrototype = sPO || (\n      hasProto ?\n        function (o, p) {\n          o.__proto__ = p;\n          return o;\n        } : (\n      (gOPN && gOPD) ?\n        (function(){\n          function setProperties(o, p) {\n            for (var\n              key,\n              names = gOPN(p),\n              i = 0, length = names.length;\n              i < length; i++\n            ) {\n              key = names[i];\n              if (!hOP.call(o, key)) {\n                defineProperty(o, key, gOPD(p, key));\n              }\n            }\n          }\n          return function (o, p) {\n            do {\n              setProperties(o, p);\n            } while ((p = gPO(p)) && !iPO.call(p, o));\n            return o;\n          };\n        }()) :\n        function (o, p) {\n          for (var key in p) {\n            o[key] = p[key];\n          }\n          return o;\n        }\n    )),\n  \n    // DOM shortcuts and helpers, if any\n  \n    MutationObserver = window.MutationObserver ||\n                       window.WebKitMutationObserver,\n  \n    HTMLElementPrototype = (\n      window.HTMLElement ||\n      window.Element ||\n      window.Node\n    ).prototype,\n  \n    IE8 = !iPO.call(HTMLElementPrototype, documentElement),\n  \n    safeProperty = IE8 ? function (o, k, d) {\n      o[k] = d.value;\n      return o;\n    } : defineProperty,\n  \n    isValidNode = IE8 ?\n      function (node) {\n        return node.nodeType === 1;\n      } :\n      function (node) {\n        return iPO.call(HTMLElementPrototype, node);\n      },\n  \n    targets = IE8 && [],\n  \n    attachShadow = HTMLElementPrototype.attachShadow,\n    cloneNode = HTMLElementPrototype.cloneNode,\n    dispatchEvent = HTMLElementPrototype.dispatchEvent,\n    getAttribute = HTMLElementPrototype.getAttribute,\n    hasAttribute = HTMLElementPrototype.hasAttribute,\n    removeAttribute = HTMLElementPrototype.removeAttribute,\n    setAttribute = HTMLElementPrototype.setAttribute,\n  \n    // replaced later on\n    createElement = document.createElement,\n    patchedCreateElement = createElement,\n  \n    // shared observer for all attributes\n    attributesObserver = MutationObserver && {\n      attributes: true,\n      characterData: true,\n      attributeOldValue: true\n    },\n  \n    // useful to detect only if there's no MutationObserver\n    DOMAttrModified = MutationObserver || function(e) {\n      doesNotSupportDOMAttrModified = false;\n      documentElement.removeEventListener(\n        DOM_ATTR_MODIFIED,\n        DOMAttrModified\n      );\n    },\n  \n    // will both be used to make DOMNodeInserted asynchronous\n    asapQueue,\n    asapTimer = 0,\n  \n    // internal flags\n    V0 = REGISTER_ELEMENT in document,\n    setListener = true,\n    justSetup = false,\n    doesNotSupportDOMAttrModified = true,\n    dropDomContentLoaded = true,\n  \n    // needed for the innerHTML helper\n    notFromInnerHTMLHelper = true,\n  \n    // optionally defined later on\n    onSubtreeModified,\n    callDOMAttrModified,\n    getAttributesMirror,\n    observer,\n    observe,\n  \n    // based on setting prototype capability\n    // will check proto or the expando attribute\n    // in order to setup the node once\n    patchIfNotAlready,\n    patch\n  ;\n  \n  // only if needed\n  if (!V0) {\n  \n    if (sPO || hasProto) {\n        patchIfNotAlready = function (node, proto) {\n          if (!iPO.call(proto, node)) {\n            setupNode(node, proto);\n          }\n        };\n        patch = setupNode;\n    } else {\n        patchIfNotAlready = function (node, proto) {\n          if (!node[EXPANDO_UID]) {\n            node[EXPANDO_UID] = Object(true);\n            setupNode(node, proto);\n          }\n        };\n        patch = patchIfNotAlready;\n    }\n  \n    if (IE8) {\n      doesNotSupportDOMAttrModified = false;\n      (function (){\n        var\n          descriptor = gOPD(HTMLElementPrototype, ADD_EVENT_LISTENER),\n          addEventListener = descriptor.value,\n          patchedRemoveAttribute = function (name) {\n            var e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n            e.attrName = name;\n            e.prevValue = getAttribute.call(this, name);\n            e.newValue = null;\n            e[REMOVAL] = e.attrChange = 2;\n            removeAttribute.call(this, name);\n            dispatchEvent.call(this, e);\n          },\n          patchedSetAttribute = function (name, value) {\n            var\n              had = hasAttribute.call(this, name),\n              old = had && getAttribute.call(this, name),\n              e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true})\n            ;\n            setAttribute.call(this, name, value);\n            e.attrName = name;\n            e.prevValue = had ? old : null;\n            e.newValue = value;\n            if (had) {\n              e[MODIFICATION] = e.attrChange = 1;\n            } else {\n              e[ADDITION] = e.attrChange = 0;\n            }\n            dispatchEvent.call(this, e);\n          },\n          onPropertyChange = function (e) {\n            // jshint eqnull:true\n            var\n              node = e.currentTarget,\n              superSecret = node[EXPANDO_UID],\n              propertyName = e.propertyName,\n              event\n            ;\n            if (superSecret.hasOwnProperty(propertyName)) {\n              superSecret = superSecret[propertyName];\n              event = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n              event.attrName = superSecret.name;\n              event.prevValue = superSecret.value || null;\n              event.newValue = (superSecret.value = node[propertyName] || null);\n              if (event.prevValue == null) {\n                event[ADDITION] = event.attrChange = 0;\n              } else {\n                event[MODIFICATION] = event.attrChange = 1;\n              }\n              dispatchEvent.call(node, event);\n            }\n          }\n        ;\n        descriptor.value = function (type, handler, capture) {\n          if (\n            type === DOM_ATTR_MODIFIED &&\n            this[ATTRIBUTE_CHANGED_CALLBACK] &&\n            this.setAttribute !== patchedSetAttribute\n          ) {\n            this[EXPANDO_UID] = {\n              className: {\n                name: 'class',\n                value: this.className\n              }\n            };\n            this.setAttribute = patchedSetAttribute;\n            this.removeAttribute = patchedRemoveAttribute;\n            addEventListener.call(this, 'propertychange', onPropertyChange);\n          }\n          addEventListener.call(this, type, handler, capture);\n        };\n        defineProperty(HTMLElementPrototype, ADD_EVENT_LISTENER, descriptor);\n      }());\n    } else if (!MutationObserver) {\n      documentElement[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, DOMAttrModified);\n      documentElement.setAttribute(EXPANDO_UID, 1);\n      documentElement.removeAttribute(EXPANDO_UID);\n      if (doesNotSupportDOMAttrModified) {\n        onSubtreeModified = function (e) {\n          var\n            node = this,\n            oldAttributes,\n            newAttributes,\n            key\n          ;\n          if (node === e.target) {\n            oldAttributes = node[EXPANDO_UID];\n            node[EXPANDO_UID] = (newAttributes = getAttributesMirror(node));\n            for (key in newAttributes) {\n              if (!(key in oldAttributes)) {\n                // attribute was added\n                return callDOMAttrModified(\n                  0,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  ADDITION\n                );\n              } else if (newAttributes[key] !== oldAttributes[key]) {\n                // attribute was changed\n                return callDOMAttrModified(\n                  1,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  MODIFICATION\n                );\n              }\n            }\n            // checking if it has been removed\n            for (key in oldAttributes) {\n              if (!(key in newAttributes)) {\n                // attribute removed\n                return callDOMAttrModified(\n                  2,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  REMOVAL\n                );\n              }\n            }\n          }\n        };\n        callDOMAttrModified = function (\n          attrChange,\n          currentTarget,\n          attrName,\n          prevValue,\n          newValue,\n          action\n        ) {\n          var e = {\n            attrChange: attrChange,\n            currentTarget: currentTarget,\n            attrName: attrName,\n            prevValue: prevValue,\n            newValue: newValue\n          };\n          e[action] = attrChange;\n          onDOMAttrModified(e);\n        };\n        getAttributesMirror = function (node) {\n          for (var\n            attr, name,\n            result = {},\n            attributes = node.attributes,\n            i = 0, length = attributes.length;\n            i < length; i++\n          ) {\n            attr = attributes[i];\n            name = attr.name;\n            if (name !== 'setAttribute') {\n              result[name] = attr.value;\n            }\n          }\n          return result;\n        };\n      }\n    }\n  \n    // set as enumerable, writable and configurable\n    document[REGISTER_ELEMENT] = function registerElement(type, options) {\n      upperType = type.toUpperCase();\n      if (setListener) {\n        // only first time document.registerElement is used\n        // we need to set this listener\n        // setting it by default might slow down for no reason\n        setListener = false;\n        if (MutationObserver) {\n          observer = (function(attached, detached){\n            function checkEmAll(list, callback) {\n              for (var i = 0, length = list.length; i < length; callback(list[i++])){}\n            }\n            return new MutationObserver(function (records) {\n              for (var\n                current, node, newValue,\n                i = 0, length = records.length; i < length; i++\n              ) {\n                current = records[i];\n                if (current.type === 'childList') {\n                  checkEmAll(current.addedNodes, attached);\n                  checkEmAll(current.removedNodes, detached);\n                } else {\n                  node = current.target;\n                  if (notFromInnerHTMLHelper &&\n                      node[ATTRIBUTE_CHANGED_CALLBACK] &&\n                      current.attributeName !== 'style') {\n                    newValue = getAttribute.call(node, current.attributeName);\n                    if (newValue !== current.oldValue) {\n                      node[ATTRIBUTE_CHANGED_CALLBACK](\n                        current.attributeName,\n                        current.oldValue,\n                        newValue\n                      );\n                    }\n                  }\n                }\n              }\n            });\n          }(executeAction(ATTACHED), executeAction(DETACHED)));\n          observe = function (node) {\n            observer.observe(\n              node,\n              {\n                childList: true,\n                subtree: true\n              }\n            );\n            return node;\n          };\n          observe(document);\n          if (attachShadow) {\n            HTMLElementPrototype.attachShadow = function () {\n              return observe(attachShadow.apply(this, arguments));\n            };\n          }\n        } else {\n          asapQueue = [];\n          document[ADD_EVENT_LISTENER]('DOMNodeInserted', onDOMNode(ATTACHED));\n          document[ADD_EVENT_LISTENER]('DOMNodeRemoved', onDOMNode(DETACHED));\n        }\n  \n        document[ADD_EVENT_LISTENER](DOM_CONTENT_LOADED, onReadyStateChange);\n        document[ADD_EVENT_LISTENER]('readystatechange', onReadyStateChange);\n  \n        HTMLElementPrototype.cloneNode = function (deep) {\n          var\n            node = cloneNode.call(this, !!deep),\n            i = getTypeIndex(node)\n          ;\n          if (-1 < i) patch(node, protos[i]);\n          if (deep && query.length) loopAndSetup(node.querySelectorAll(query));\n          return node;\n        };\n      }\n  \n      if (justSetup) return (justSetup = false);\n  \n      if (-2 < (\n        indexOf.call(types, PREFIX_IS + upperType) +\n        indexOf.call(types, PREFIX_TAG + upperType)\n      )) {\n        throwTypeError(type);\n      }\n  \n      if (!validName.test(upperType) || -1 < indexOf.call(invalidNames, upperType)) {\n        throw new Error('The type ' + type + ' is invalid');\n      }\n  \n      var\n        constructor = function () {\n          return extending ?\n            document.createElement(nodeName, upperType) :\n            document.createElement(nodeName);\n        },\n        opt = options || OP,\n        extending = hOP.call(opt, EXTENDS),\n        nodeName = extending ? options[EXTENDS].toUpperCase() : upperType,\n        upperType,\n        i\n      ;\n  \n      if (extending && -1 < (\n        indexOf.call(types, PREFIX_TAG + nodeName)\n      )) {\n        throwTypeError(nodeName);\n      }\n  \n      i = types.push((extending ? PREFIX_IS : PREFIX_TAG) + upperType) - 1;\n  \n      query = query.concat(\n        query.length ? ',' : '',\n        extending ? nodeName + '[is=\"' + type.toLowerCase() + '\"]' : nodeName\n      );\n  \n      constructor.prototype = (\n        protos[i] = hOP.call(opt, 'prototype') ?\n          opt.prototype :\n          create(HTMLElementPrototype)\n      );\n  \n      if (query.length) loopAndVerify(\n        document.querySelectorAll(query),\n        ATTACHED\n      );\n  \n      return constructor;\n    };\n  \n    document.createElement = (patchedCreateElement = function (localName, typeExtension) {\n      var\n        is = getIs(typeExtension),\n        node = is ?\n          createElement.call(document, localName, secondArgument(is)) :\n          createElement.call(document, localName),\n        name = '' + localName,\n        i = indexOf.call(\n          types,\n          (is ? PREFIX_IS : PREFIX_TAG) +\n          (is || name).toUpperCase()\n        ),\n        setup = -1 < i\n      ;\n      if (is) {\n        node.setAttribute('is', is = is.toLowerCase());\n        if (setup) {\n          setup = isInQSA(name.toUpperCase(), is);\n        }\n      }\n      notFromInnerHTMLHelper = !document.createElement.innerHTMLHelper;\n      if (setup) patch(node, protos[i]);\n      return node;\n    });\n  \n  }\n  \n  function ASAP() {\n    var queue = asapQueue.splice(0, asapQueue.length);\n    asapTimer = 0;\n    while (queue.length) {\n      queue.shift().call(\n        null, queue.shift()\n      );\n    }\n  }\n  \n  function loopAndVerify(list, action) {\n    for (var i = 0, length = list.length; i < length; i++) {\n      verifyAndSetupAndAction(list[i], action);\n    }\n  }\n  \n  function loopAndSetup(list) {\n    for (var i = 0, length = list.length, node; i < length; i++) {\n      node = list[i];\n      patch(node, protos[getTypeIndex(node)]);\n    }\n  }\n  \n  function executeAction(action) {\n    return function (node) {\n      if (isValidNode(node)) {\n        verifyAndSetupAndAction(node, action);\n        if (query.length) loopAndVerify(\n          node.querySelectorAll(query),\n          action\n        );\n      }\n    };\n  }\n  \n  function getTypeIndex(target) {\n    var\n      is = getAttribute.call(target, 'is'),\n      nodeName = target.nodeName.toUpperCase(),\n      i = indexOf.call(\n        types,\n        is ?\n            PREFIX_IS + is.toUpperCase() :\n            PREFIX_TAG + nodeName\n      )\n    ;\n    return is && -1 < i && !isInQSA(nodeName, is) ? -1 : i;\n  }\n  \n  function isInQSA(name, type) {\n    return -1 < query.indexOf(name + '[is=\"' + type + '\"]');\n  }\n  \n  function onDOMAttrModified(e) {\n    var\n      node = e.currentTarget,\n      attrChange = e.attrChange,\n      attrName = e.attrName,\n      target = e.target,\n      addition = e[ADDITION] || 2,\n      removal = e[REMOVAL] || 3\n    ;\n    if (notFromInnerHTMLHelper &&\n        (!target || target === node) &&\n        node[ATTRIBUTE_CHANGED_CALLBACK] &&\n        attrName !== 'style' && (\n          e.prevValue !== e.newValue ||\n          // IE9, IE10, and Opera 12 gotcha\n          e.newValue === '' && (\n            attrChange === addition ||\n            attrChange === removal\n          )\n    )) {\n      node[ATTRIBUTE_CHANGED_CALLBACK](\n        attrName,\n        attrChange === addition ? null : e.prevValue,\n        attrChange === removal ? null : e.newValue\n      );\n    }\n  }\n  \n  function onDOMNode(action) {\n    var executor = executeAction(action);\n    return function (e) {\n      asapQueue.push(executor, e.target);\n      if (asapTimer) clearTimeout(asapTimer);\n      asapTimer = setTimeout(ASAP, 1);\n    };\n  }\n  \n  function onReadyStateChange(e) {\n    if (dropDomContentLoaded) {\n      dropDomContentLoaded = false;\n      e.currentTarget.removeEventListener(DOM_CONTENT_LOADED, onReadyStateChange);\n    }\n    if (query.length) loopAndVerify(\n      (e.target || document).querySelectorAll(query),\n      e.detail === DETACHED ? DETACHED : ATTACHED\n    );\n    if (IE8) purge();\n  }\n  \n  function patchedSetAttribute(name, value) {\n    // jshint validthis:true\n    var self = this;\n    setAttribute.call(self, name, value);\n    onSubtreeModified.call(self, {target: self});\n  }\n  \n  function setupNode(node, proto) {\n    setPrototype(node, proto);\n    if (observer) {\n      observer.observe(node, attributesObserver);\n    } else {\n      if (doesNotSupportDOMAttrModified) {\n        node.setAttribute = patchedSetAttribute;\n        node[EXPANDO_UID] = getAttributesMirror(node);\n        node[ADD_EVENT_LISTENER](DOM_SUBTREE_MODIFIED, onSubtreeModified);\n      }\n      node[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, onDOMAttrModified);\n    }\n    if (node[CREATED_CALLBACK] && notFromInnerHTMLHelper) {\n      node.created = true;\n      node[CREATED_CALLBACK]();\n      node.created = false;\n    }\n  }\n  \n  function purge() {\n    for (var\n      node,\n      i = 0,\n      length = targets.length;\n      i < length; i++\n    ) {\n      node = targets[i];\n      if (!documentElement.contains(node)) {\n        length--;\n        targets.splice(i--, 1);\n        verifyAndSetupAndAction(node, DETACHED);\n      }\n    }\n  }\n  \n  function throwTypeError(type) {\n    throw new Error('A ' + type + ' type is already registered');\n  }\n  \n  function verifyAndSetupAndAction(node, action) {\n    var\n      fn,\n      i = getTypeIndex(node)\n    ;\n    if (-1 < i) {\n      patchIfNotAlready(node, protos[i]);\n      i = 0;\n      if (action === ATTACHED && !node[ATTACHED]) {\n        node[DETACHED] = false;\n        node[ATTACHED] = true;\n        i = 1;\n        if (IE8 && indexOf.call(targets, node) < 0) {\n          targets.push(node);\n        }\n      } else if (action === DETACHED && !node[DETACHED]) {\n        node[ATTACHED] = false;\n        node[DETACHED] = true;\n        i = 1;\n      }\n      if (i && (fn = node[action + CALLBACK])) fn.call(node);\n    }\n  }\n  \n  \n  \n  // V1 in da House!\n  function CustomElementRegistry() {}\n  \n  CustomElementRegistry.prototype = {\n    constructor: CustomElementRegistry,\n    // a workaround for the stubborn WebKit\n    define: usableCustomElements ?\n      function (name, Class, options) {\n        if (options) {\n          CERDefine(name, Class, options);\n        } else {\n          var NAME = name.toUpperCase();\n          constructors[NAME] = {\n            constructor: Class,\n            create: [NAME]\n          };\n          nodeNames.set(Class, NAME);\n          customElements.define(name, Class);\n        }\n      } :\n      CERDefine,\n    get: usableCustomElements ?\n      function (name) {\n        return customElements.get(name) || get(name);\n      } :\n      get,\n    whenDefined: usableCustomElements ?\n      function (name) {\n        return Promise.race([\n          customElements.whenDefined(name),\n          whenDefined(name)\n        ]);\n      } :\n      whenDefined\n  };\n  \n  function CERDefine(name, Class, options) {\n    var\n      is = options && options[EXTENDS] || '',\n      CProto = Class.prototype,\n      proto = create(CProto),\n      attributes = Class.observedAttributes || empty,\n      definition = {prototype: proto}\n    ;\n    // TODO: is this needed at all since it's inherited?\n    // defineProperty(proto, 'constructor', {value: Class});\n    safeProperty(proto, CREATED_CALLBACK, {\n        value: function () {\n          if (justCreated) justCreated = false;\n          else if (!this[DRECEV1]) {\n            this[DRECEV1] = true;\n            new Class(this);\n            if (CProto[CREATED_CALLBACK])\n              CProto[CREATED_CALLBACK].call(this);\n            var info = constructors[nodeNames.get(Class)];\n            if (!usableCustomElements || info.create.length > 1) {\n              notifyAttributes(this);\n            }\n          }\n      }\n    });\n    safeProperty(proto, ATTRIBUTE_CHANGED_CALLBACK, {\n      value: function (name) {\n        if (-1 < indexOf.call(attributes, name))\n          CProto[ATTRIBUTE_CHANGED_CALLBACK].apply(this, arguments);\n      }\n    });\n    if (CProto[CONNECTED_CALLBACK]) {\n      safeProperty(proto, ATTACHED_CALLBACK, {\n        value: CProto[CONNECTED_CALLBACK]\n      });\n    }\n    if (CProto[DISCONNECTED_CALLBACK]) {\n      safeProperty(proto, DETACHED_CALLBACK, {\n        value: CProto[DISCONNECTED_CALLBACK]\n      });\n    }\n    if (is) definition[EXTENDS] = is;\n    name = name.toUpperCase();\n    constructors[name] = {\n      constructor: Class,\n      create: is ? [is, secondArgument(name)] : [name]\n    };\n    nodeNames.set(Class, name);\n    document[REGISTER_ELEMENT](name.toLowerCase(), definition);\n    whenDefined(name);\n    waitingList[name].r();\n  }\n  \n  function get(name) {\n    var info = constructors[name.toUpperCase()];\n    return info && info.constructor;\n  }\n  \n  function getIs(options) {\n    return typeof options === 'string' ?\n        options : (options && options.is || '');\n  }\n  \n  function notifyAttributes(self) {\n    var\n      callback = self[ATTRIBUTE_CHANGED_CALLBACK],\n      attributes = callback ? self.attributes : empty,\n      i = attributes.length,\n      attribute\n    ;\n    while (i--) {\n      attribute =  attributes[i]; // || attributes.item(i);\n      callback.call(\n        self,\n        attribute.name || attribute.nodeName,\n        null,\n        attribute.value || attribute.nodeValue\n      );\n    }\n  }\n  \n  function whenDefined(name) {\n    name = name.toUpperCase();\n    if (!(name in waitingList)) {\n      waitingList[name] = {};\n      waitingList[name].p = new Promise(function (resolve) {\n        waitingList[name].r = resolve;\n      });\n    }\n    return waitingList[name].p;\n  }\n  \n  function polyfillV1() {\n    if (customElements) delete window.customElements;\n    defineProperty(window, 'customElements', {\n      configurable: true,\n      value: new CustomElementRegistry()\n    });\n    defineProperty(window, 'CustomElementRegistry', {\n      configurable: true,\n      value: CustomElementRegistry\n    });\n    for (var\n      patchClass = function (name) {\n        var Class = window[name];\n        if (Class) {\n          window[name] = function CustomElementsV1(self) {\n            var info, isNative;\n            if (!self) self = this;\n            if (!self[DRECEV1]) {\n              justCreated = true;\n              info = constructors[nodeNames.get(self.constructor)];\n              isNative = usableCustomElements && info.create.length === 1;\n              self = isNative ?\n                Reflect.construct(Class, empty, info.constructor) :\n                document.createElement.apply(document, info.create);\n              self[DRECEV1] = true;\n              justCreated = false;\n              if (!isNative) notifyAttributes(self);\n            }\n            return self;\n          };\n          window[name].prototype = Class.prototype;\n          try {\n            Class.prototype.constructor = window[name];\n          } catch(WebKit) {\n            fixGetClass = true;\n            defineProperty(Class, DRECEV1, {value: window[name]});\n          }\n        }\n      },\n      Classes = htmlClass.get(/^HTML[A-Z]*[a-z]/),\n      i = Classes.length;\n      i--;\n      patchClass(Classes[i])\n    ) {}\n    (document.createElement = function (name, options) {\n      var is = getIs(options);\n      return is ?\n        patchedCreateElement.call(this, name, secondArgument(is)) :\n        patchedCreateElement.call(this, name);\n    });\n    if (!V0) {\n      justSetup = true;\n      document[REGISTER_ELEMENT]('');\n    }\n  }\n  \n  // if customElements is not there at all\n  if (!customElements || polyfill === 'force') polyfillV1();\n  else {\n    // if available test extends work as expected\n    try {\n      (function (DRE, options, name) {\n        options[EXTENDS] = 'a';\n        DRE.prototype = create(HTMLAnchorElement.prototype);\n        DRE.prototype.constructor = DRE;\n        window.customElements.define(name, DRE, options);\n        if (\n          getAttribute.call(document.createElement('a', {is: name}), 'is') !== name ||\n          (usableCustomElements && getAttribute.call(new DRE(), 'is') !== name)\n        ) {\n          throw options;\n        }\n      }(\n        function DRE() {\n          return Reflect.construct(HTMLAnchorElement, [], DRE);\n        },\n        {},\n        'document-register-element-a'\n      ));\n    } catch(o_O) {\n      // or force the polyfill if not\n      // and keep internal original reference\n      polyfillV1();\n    }\n  }\n  \n  try {\n    createElement.call(document, 'a', 'a');\n  } catch(FireFox) {\n    secondArgument = function (is) {\n      return {is: is.toLowerCase()};\n    };\n  }\n  \n}\n\nexports.installCustomElements = installCustomElements;\n\n","'use strict';\n\n/**\n * Constructs a ES6/Promises A+ Promise instance.\n *\n * @constructor\n * @param {function(function(*=), function (*=))} resolver\n */\nfunction Promise(resolver) {\n  if (!(this instanceof Promise)) {\n    throw new TypeError('Constructor Promise requires `new`');\n  }\n  if (!isFunction(resolver)) {\n    throw new TypeError('Must pass resolver function');\n  }\n\n  /**\n   * @type {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise}\n   * @private\n   */\n  this._state = PendingPromise;\n\n  /**\n   * @type {*}\n   * @private\n   */\n  this._value = [];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this._isChainEnd = true;\n\n  doResolve(\n    this,\n    adopter(this, FulfilledPromise),\n    adopter(this, RejectedPromise),\n    { then: resolver }\n  );\n}\n\n/****************************\n  Public Instance Methods\n ****************************/\n\n/**\n * Creates a new promise instance that will receive the result of this promise\n * as inputs to the onFulfilled or onRejected callbacks.\n *\n * @param {function(*)} onFulfilled\n * @param {function(*)} onRejected\n */\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  onFulfilled = isFunction(onFulfilled) ? onFulfilled : void 0;\n  onRejected = isFunction(onRejected) ? onRejected : void 0;\n\n  if (onFulfilled || onRejected) {\n    this._isChainEnd = false;\n  }\n\n  return this._state(\n    this._value,\n    onFulfilled,\n    onRejected\n  );\n};\n\n/**\n * Creates a new promise that will handle the rejected state of this promise.\n *\n * @param {function(*)} onRejected\n * @returns {!Promise}\n */\nPromise.prototype.catch = function(onRejected) {\n  return this.then(void 0, onRejected);\n};\n\n/****************************\n  Public Static Methods\n ****************************/\n\n/**\n * Creates a fulfilled Promise of value. If value is itself a then-able,\n * resolves with the then-able's value.\n *\n * @this {!Promise}\n * @param {*=} value\n * @returns {!Promise}\n */\nPromise.resolve = function(value) {\n  var Constructor = this;\n  var promise;\n\n  if (isObject(value) && value instanceof this) {\n    promise = value;\n  } else {\n    promise = new Constructor(function(resolve) {\n      resolve(value);\n    });\n  }\n\n  return /** @type {!Promise} */(promise);\n};\n\n/**\n * Creates a rejected Promise of reason.\n *\n * @this {!Promise}\n * @param {*=} reason\n * @returns {!Promise}\n */\nPromise.reject = function(reason) {\n  var Constructor = this;\n  var promise = new Constructor(function(_, reject) {\n    reject(reason);\n  });\n\n  return /** @type {!Promise} */(promise);\n};\n\n/**\n * Creates a Promise that will resolve with an array of the values of the\n * passed in promises. If any promise rejects, the returned promise will\n * reject.\n *\n * @this {!Promise}\n * @param {!Array<Promise|*>} promises\n * @returns {!Promise}\n */\nPromise.all = function(promises) {\n  var Constructor = this;\n  var promise = new Constructor(function(resolve, reject) {\n    var length = promises.length;\n    var values = new Array(length);\n\n    if (length === 0) {\n      return resolve(values);\n    }\n\n    each(promises, function(promise, index) {\n      Constructor.resolve(promise).then(function(value) {\n        values[index] = value;\n        if (--length === 0) {\n          resolve(values);\n        }\n      }, reject);\n    });\n  });\n\n  return /** @type {!Promise} */(promise);\n};\n\n/**\n * Creates a Promise that will resolve or reject based on the first\n * resolved or rejected promise.\n *\n * @this {!Promise}\n * @param {!Array<Promise|*>} promises\n * @returns {!Promise}\n */\nPromise.race = function(promises) {\n  var Constructor = this;\n  var promise = new Constructor(function(resolve, reject) {\n    for (var i = 0; i < promises.length; i++) {\n      Constructor.resolve(promises[i]).then(resolve, reject);\n    }\n  });\n\n  return /** @type {!Promise} */(promise);\n};\n\nvar onPossiblyUnhandledRejection = function(reason, promise) {\n  throw reason;\n};\n\n/**\n * An internal use static function.\n */\nPromise._overrideUnhandledExceptionHandler = function(handler) {\n  onPossiblyUnhandledRejection = handler;\n};\n\n/****************************\n  Private functions\n ****************************/\n\n/**\n * The Fulfilled Promise state. Calls onFulfilled with the resolved value of\n * this promise, creating a new promise.\n *\n * If there is no onFulfilled, returns the current promise to avoid an promise\n * instance.\n *\n * @this {!Promise} The current promise\n * @param {*=} value The current promise's resolved value.\n * @param {function(*=)=} onFulfilled\n * @param {function(*=)=} unused\n * @param {Deferred} deferred A deferred object that holds a promise and its\n *     resolve and reject functions. It IS NOT passed when called from\n *     Promise#then to save an object instance (since we may return the current\n *     promise). It IS passed in when adopting the Fulfilled state from the\n *     Pending state.\n * @returns {!Promise}\n */\nfunction FulfilledPromise(value, onFulfilled, unused, deferred) {\n  if (!onFulfilled) {\n    deferredAdopt(deferred, FulfilledPromise, value);\n    return this;\n  }\n  if (!deferred) {\n    deferred = new Deferred(this.constructor);\n  }\n  defer(tryCatchDeferred(deferred, onFulfilled, value));\n  return deferred.promise;\n}\n\n/**\n * The Rejected Promise state. Calls onRejected with the resolved value of\n * this promise, creating a new promise.\n *\n * If there is no onRejected, returns the current promise to avoid an promise\n * instance.\n *\n * @this {!Promise} The current promise\n * @param {*=} reason The current promise's rejection reason.\n * @param {function(*=)=} unused\n * @param {function(*=)=} onRejected\n * @param {Deferred} deferred A deferred object that holds a promise and its\n *     resolve and reject functions. It IS NOT passed when called from\n *     Promise#then to save an object instance (since we may return the current\n *     promise). It IS passed in when adopting the Rejected state from the\n *     Pending state.\n * @returns {!Promise}\n */\nfunction RejectedPromise(reason, unused, onRejected, deferred) {\n  if (!onRejected) {\n    deferredAdopt(deferred, RejectedPromise, reason);\n    return this;\n  }\n  if (!deferred) {\n    deferred = new Deferred(this.constructor);\n  }\n  defer(tryCatchDeferred(deferred, onRejected, reason));\n  return deferred.promise;\n}\n\n/**\n * The Pending Promise state. Eventually calls onFulfilled once the promise has\n * resolved, or onRejected once the promise rejects.\n *\n * If there is no onFulfilled and no onRejected, returns the current promise to\n * avoid an promise instance.\n *\n * @this {!Promise} The current promise\n * @param {*=} queue The current promise's pending promises queue.\n * @param {function(*=)=} onFulfilled\n * @param {function(*=)=} onRejected\n * @param {Deferred} deferred A deferred object that holds a promise and its\n *     resolve and reject functions. It IS NOT passed when called from\n *     Promise#then to save an object instance (since we may return the current\n *     promise). It IS passed in when adopting the Pending state from the\n *     Pending state of another promise.\n * @returns {!Promise}\n */\nfunction PendingPromise(queue, onFulfilled, onRejected, deferred) {\n  if (!deferred) {\n    if (!onFulfilled && !onRejected) { return this; }\n    deferred = new Deferred(this.constructor);\n  }\n  queue.push({\n    deferred: deferred,\n    onFulfilled: onFulfilled || deferred.resolve,\n    onRejected: onRejected || deferred.reject\n  });\n  return deferred.promise;\n}\n\n/**\n * Constructs a deferred instance that holds a promise and its resolve and\n * reject functions.\n *\n * @constructor\n */\nfunction Deferred(Promise) {\n  var deferred = this;\n  /** @type {!Promise} */\n  this.promise = new Promise(function(resolve, reject) {\n    /** @type {function(*=)} */\n    deferred.resolve = resolve;\n\n    /** @type {function(*=)} */\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n\n/**\n * Transitions the state of promise to another state. This is only ever called\n * on with a promise that is currently in the Pending state.\n *\n * @param {!Promise} promise\n * @param {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise} state\n * @param {*=} value\n */\nfunction adopt(promise, state, value, adoptee) {\n  var queue = promise._value;\n  promise._state = state;\n  promise._value = value;\n\n  if (adoptee && state === PendingPromise) {\n    adoptee._state(value, void 0, void 0, {\n      promise: promise,\n      resolve: void 0,\n      reject: void 0\n    });\n  }\n\n  for (var i = 0; i < queue.length; i++) {\n    var next = queue[i];\n    promise._state(\n      value,\n      next.onFulfilled,\n      next.onRejected,\n      next.deferred\n    );\n  }\n  queue.length = 0;\n\n  // Determine if this rejected promise will be \"handled\".\n  if (state === RejectedPromise && promise._isChainEnd) {\n    setTimeout(function() {\n      if (promise._isChainEnd) {\n        onPossiblyUnhandledRejection(value, promise);\n      }\n    }, 0);\n  }\n}\n\n/**\n * A partial application of adopt.\n *\n * @param {!Promise} promise\n * @param {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise} state\n * @returns {function(*=)}\n */\nfunction adopter(promise, state) {\n  return function(value) {\n    adopt(promise, state, value);\n  };\n}\n\n/**\n * Updates a deferred promises state. Necessary for updating an adopting\n * promise's state when the adoptee resolves.\n *\n * @param {?Deferred} deferred\n * @param {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise} state\n * @param {*=} value\n */\nfunction deferredAdopt(deferred, state, value) {\n  if (deferred) {\n    var promise = deferred.promise;\n    promise._state = state;\n    promise._value = value;\n  }\n}\n\n/**\n * A no-op function to prevent double resolving.\n */\nfunction noop() {}\n\n/**\n * Tests if fn is a Function\n *\n * @param {*} fn\n * @returns {boolean}\n */\nfunction isFunction(fn) {\n  return typeof fn === 'function';\n}\n\n/**\n * Tests if fn is an Object\n *\n * @param {*} obj\n * @returns {boolean}\n */\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Iterates over each element of an array, calling the iterator with the\n * element and its index.\n *\n * @param {!Array} collection\n * @param {function(*=,number)} iterator\n */\nfunction each(collection, iterator) {\n  for (var i = 0; i < collection.length; i++) {\n    iterator(collection[i], i);\n  }\n}\n\n/**\n * Creates a function that will attempt to resolve the deferred with the return\n * of fn. If any error is raised, rejects instead.\n *\n * @param {!Deferred} deferred\n * @param {function(*=)} fn\n * @param {*} arg\n * @returns {function()}\n */\nfunction tryCatchDeferred(deferred, fn, arg) {\n  var promise = deferred.promise;\n  var resolve = deferred.resolve;\n  var reject = deferred.reject;\n  return function() {\n    try {\n      var result = fn(arg);\n      doResolve(promise, resolve, reject, result, result);\n    } catch (e) {\n      reject(e);\n    }\n  };\n}\n\n/**\n * Queues and executes multiple deferred functions on another run loop.\n */\nvar defer = (function() {\n  /**\n   * Defers fn to another run loop.\n   */\n  var scheduleFlush;\n  if (typeof window !== 'undefined' && window.postMessage) {\n    window.addEventListener('message', flush);\n    scheduleFlush = function() {\n      window.postMessage('macro-task', '*');\n    };\n  } else {\n    scheduleFlush = function() {\n      setTimeout(flush, 0);\n    };\n  }\n\n  var queue = new Array(16);\n  var length = 0;\n\n  function flush() {\n    for (var i = 0; i < length; i++) {\n      var fn = queue[i];\n      queue[i] = null;\n      fn();\n    }\n    length = 0;\n  }\n\n  /**\n   * @param {function()} fn\n   */\n  function defer(fn) {\n    if (length === 0) { scheduleFlush(); }\n    queue[length++] = fn;\n  }\n\n  return defer;\n})();\n\n/**\n * The Promise resolution procedure.\n * https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n *\n * @param {!Promise} promise\n * @param {function(*=)} resolve\n * @param {function(*=)} reject\n * @param {*} value\n * @param {*=} context\n */\nfunction doResolve(promise, resolve, reject, value, context) {\n  var _reject = reject;\n  var then;\n  var _resolve;\n  try {\n    if (value === promise) {\n      throw new TypeError('Cannot fulfill promise with itself');\n    }\n    var isObj = isObject(value);\n    if (isObj && value instanceof promise.constructor) {\n      adopt(promise, value._state, value._value, value);\n    } else if (isObj && (then = value.then) && isFunction(then)) {\n      _resolve = function(value) {\n        _resolve = _reject = noop;\n        doResolve(promise, resolve, reject, value, value);\n      };\n      _reject = function(reason) {\n        _resolve = _reject = noop;\n        reject(reason);\n      };\n      then.call(\n        context,\n        function(value) { _resolve(value); },\n        function(reason) { _reject(reason); }\n      );\n    } else {\n      resolve(value);\n    }\n  } catch (e) {\n    _reject(e);\n  }\n}\n\nmodule.exports = Promise;\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Key string in an action arguments map for an unparsed object literal string.\n *\n * E.g. for the action in <p on=\"tap:AMP.setState({foo: 'bar'})\",\n * then `args[RAW_OBJECT_ARGS_KEY]` is the string \"{foo: 'bar'}\".\n *\n * The action service delegates parsing of object literals to the corresponding\n * extension (in the example above, amp-bind).\n *\n * @see ./service/action-impl.ActionInfoDef\n * @const {string}\n */\nexport const RAW_OBJECT_ARGS_KEY = '__AMP_OBJECT_STRING__';\n\n/**\n * Trust level of an action.\n *\n * Corresponds to degree of user intent, i.e. events triggered with strong\n * user intent have high trust.\n *\n * @enum {number}\n */\nexport const ActionTrust = {\n  LOW: 1,\n  HIGH: 100,\n};\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\n\n/**\n * Helper method to trigger analytics event if amp-analytics is available.\n * TODO: Do not expose this function\n * @param {!Element} target\n * @param {string} eventType\n * @param {!Object<string, string>=} opt_vars A map of vars and their values.\n */\nexport function triggerAnalyticsEvent(target, eventType, opt_vars) {\n  Services.analyticsForDocOrNull(target).then(analytics => {\n    if (!analytics) {\n      return;\n    }\n    analytics.triggerEventForTarget(target, eventType, opt_vars);\n  });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {removeElement} from './dom';\nimport {setStyles} from './style';\n\n\n/**\n * @param {!Window} win\n * @param {string} text\n * @return {boolean}\n */\nexport function copyTextToClipboard(win, text) {\n  let copySuccessful = false;\n  const doc = win.document;\n\n  const textarea = doc.createElement('textarea');\n\n  setStyles(textarea, {\n    'position': 'fixed',\n    'top': 0,\n    'left': 0,\n    'width': '50px',\n    'height': '50px',\n    'padding': 0,\n    'border': 'none',\n    'outline': 'none',\n    'background': 'transparent',\n  });\n\n  textarea.value = text;\n  textarea.readOnly = true;\n  textarea.contentEditable = true;\n\n  doc.body.appendChild(textarea);\n  const range = doc.createRange();\n  range.selectNode(textarea);\n  win.getSelection().removeAllRanges();\n  win.getSelection().addRange(range);\n  textarea.setSelectionRange(0, text.length);\n\n  try {\n    copySuccessful = doc.execCommand('copy');\n  } catch (e) {\n    // \n  }\n\n  removeElement(textarea);\n\n  return copySuccessful;\n}\n\n\n/**\n * @param {!Document} doc\n * @return {boolean}\n */\nexport function isCopyingToClipboardSupported(doc) {\n  return doc.queryCommandSupported('copy');\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Commonly used signals across different elements and documents.\n * @enum {string}\n */\nexport const CommonSignals = {\n\n  /**\n   * The element has been built.\n   */\n  BUILT: 'built',\n\n  /**\n   * The initial contents of an element/document/embed have been loaded.\n   */\n  INI_LOAD: 'ini-load',\n\n  /**\n   * The element has been loaded.\n   */\n  LOAD_END: 'load-end',\n\n  /**\n   * The element has started loading.\n   */\n  LOAD_START: 'load-start',\n\n  /**\n   * Rendering has been confirmed to have been started.\n   */\n  RENDER_START: 'render-start',\n\n  /**\n   * The element has been unlaid out.\n   */\n  UNLOAD: 'unload',\n};\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Allows for runtime configuration. Internally, the runtime should\n * use the src/config.js module for various constants. We can use the\n * AMP_CONFIG global to translate user-defined configurations to this\n * module.\n * @type {!Object<string, string>}\n */\nconst env = self.AMP_CONFIG || {};\n\nconst thirdPartyFrameRegex = typeof env['thirdPartyFrameRegex'] == 'string' ?\n  new RegExp(env['thirdPartyFrameRegex']) : env['thirdPartyFrameRegex'];\n\nconst cdnProxyRegex = typeof env['cdnProxyRegex'] == 'string' ?\n  new RegExp(env['cdnProxyRegex']) : env['cdnProxyRegex'];\n\n/** @type {!Object<string, string|boolean|RegExp>} */\nexport const urls = {\n  thirdParty: env['thirdPartyUrl'] || 'https://3p.ampproject.net',\n  thirdPartyFrameHost: env['thirdPartyFrameHost'] || 'ampproject.net',\n  thirdPartyFrameRegex: thirdPartyFrameRegex || /^d-\\d+\\.ampproject\\.net$/,\n  cdn: env['cdnUrl'] || 'https://cdn.ampproject.org',\n  /* Note that cdnProxyRegex is only ever checked against origins\n   * (proto://host[:port]) so does not need to consider path\n   */\n  cdnProxyRegex: cdnProxyRegex ||\n      /^https:\\/\\/([a-zA-Z0-9_-]+\\.)?cdn\\.ampproject\\.org$/,\n  localhostRegex: /^https?:\\/\\/localhost(:\\d+)?$/,\n  errorReporting: env['errorReportingUrl'] ||\n      'https://amp-error-reporting.appspot.com/r',\n  localDev: env['localDev'] || false,\n};\n\nexport const config = {\n  urls,\n};\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {endsWith} from './string';\nimport {\n  isProxyOrigin,\n  parseUrlDeprecated,\n  tryDecodeUriComponent,\n} from './url';\nimport {urls} from './config';\n\n\n/**\n * Returns the value of the cookie. The cookie access is restricted and must\n * go through the privacy review. Before using this method please file a\n * GitHub issue with \"Privacy Review\" label.\n *\n * Returns the cookie's value or `null`.\n *\n * @param {!Window} win\n * @param {string} name\n * @return {?string}\n */\nexport function getCookie(win, name) {\n  const cookieString = tryGetDocumentCookieNoInline(win);\n  if (!cookieString) {\n    return null;\n  }\n  const cookies = cookieString.split(';');\n  for (let i = 0; i < cookies.length; i++) {\n    const cookie = cookies[i].trim();\n    const eq = cookie.indexOf('=');\n    if (eq == -1) {\n      continue;\n    }\n    if (tryDecodeUriComponent(cookie.substring(0, eq).trim()) == name) {\n      const value = cookie.substring(eq + 1).trim();\n      return tryDecodeUriComponent(value, value);\n    }\n  }\n  return null;\n}\n\n/**\n * This method should not be inlined to prevent TryCatch deoptimization.\n * NoInline keyword at the end of function name also prevents Closure compiler\n * from inlining the function.\n * @param {!Window} win\n * @return {string}\n */\nfunction tryGetDocumentCookieNoInline(win) {\n  try {\n    return win.document.cookie;\n  } catch (e) {\n    // Act as if no cookie is available. Exceptions can be thrown when\n    // AMP docs are opened on origins that do not allow setting\n    // cookies such as null origins.\n    return '';\n  }\n}\n\n/**\n * Sets the value of the cookie. The cookie access is restricted and must\n * go through the privacy review. Before using this method please file a\n * GitHub issue with \"Privacy Review\" label.\n *\n * @param {!Window} win\n * @param {string} name\n * @param {string} value\n * @param {time} expirationTime\n * @param {{\n *   highestAvailableDomain:(boolean|undefined),\n *   domain:(string|undefined)\n * }=} opt_options\n *     - highestAvailableDomain: If true, set the cookie at the widest domain\n *       scope allowed by the browser. E.g. on example.com if we are currently\n *       on www.example.com.\n *     - domain: Explicit domain to set.\n *     - allowOnProxyOrigin: Allow setting a cookie on the AMP Cache.\n */\nexport function setCookie(win, name, value, expirationTime, opt_options) {\n  checkOriginForSettingCookie(win, opt_options, name);\n  if (opt_options && opt_options.highestAvailableDomain) {\n    const parts = win.location.hostname.split('.');\n    let domain = parts[parts.length - 1];\n    for (let i = parts.length - 2; i >= 0; i--) {\n      domain = parts[i] + '.' + domain;\n      trySetCookie(win, name, value, expirationTime, domain);\n      if (getCookie(win, name) == value) {\n        return;\n      }\n    }\n  }\n  let domain = undefined;\n  if (opt_options && opt_options.domain) {\n    domain = opt_options.domain;\n  }\n  trySetCookie(win, name, value, expirationTime, domain);\n}\n\n/**\n * Attempt to set a cookie with the given params.\n *\n * @param {!Window} win\n * @param {string} name\n * @param {string} value\n * @param {time} expirationTime\n * @param {string|undefined} domain\n */\nfunction trySetCookie(win, name, value, expirationTime, domain) {\n  // We do not allow setting cookies on the domain that contains both\n  // the cdn. and www. hosts.\n  if (domain == 'ampproject.org') {\n    // Actively delete them.\n    value = 'delete';\n    expirationTime = 0;\n  }\n  const cookie = encodeURIComponent(name) + '=' +\n      encodeURIComponent(value) +\n      '; path=/' +\n      (domain ? '; domain=' + domain : '') +\n      '; expires=' + new Date(expirationTime).toUTCString();\n  try {\n    win.document.cookie = cookie;\n  } catch (ignore) {\n    // Do not throw if setting the cookie failed Exceptions can be thrown\n    // when AMP docs are opened on origins that do not allow setting\n    // cookies such as null origins.\n  }\n}\n\n/**\n * Throws if a given cookie should not be set on the given origin.\n * This is a defense-in-depth. Callers should never run into this.\n *\n * @param {!Window} win\n * @param {!Object|undefined} options\n * @param {string} name For the error message.\n */\nfunction checkOriginForSettingCookie(win, options, name) {\n  if (options && options.allowOnProxyOrigin) {\n    return;\n  }\n  if (isProxyOrigin(win.location.href)) {\n    throw new Error('Should never attempt to set cookie on proxy origin: '\n        + name);\n  }\n\n  const current = parseUrlDeprecated(win.location.href).hostname.toLowerCase();\n  const proxy = parseUrlDeprecated(urls.cdn).hostname.toLowerCase();\n  if (current == proxy || endsWith(current, '.' + proxy)) {\n    throw new Error('Should never attempt to set cookie on proxy origin.'\n        + ' (in depth check): ' + name);\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from './utils/promise';\nimport {cssEscape} from '../third_party/css-escape/css-escape';\nimport {dev} from './log';\nimport {dict} from './utils/object';\nimport {startsWith} from './string';\nimport {toWin} from './types';\n\nconst HTML_ESCAPE_CHARS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n};\nconst HTML_ESCAPE_REGEX = /(&|<|>|\"|'|`)/g;\n\n/** @const {string} */\nexport const UPGRADE_TO_CUSTOMELEMENT_PROMISE =\n    '__AMP_UPG_PRM';\n\n/** @const {string} */\nexport const UPGRADE_TO_CUSTOMELEMENT_RESOLVER =\n    '__AMP_UPG_RES';\n\n/**\n * Waits until the child element is constructed. Once the child is found, the\n * callback is executed.\n * @param {!Element} parent\n * @param {function(!Element):boolean} checkFunc\n * @param {function()} callback\n */\nexport function waitForChild(parent, checkFunc, callback) {\n  if (checkFunc(parent)) {\n    callback();\n    return;\n  }\n  /** @const {!Window} */\n  const win = toWin(parent.ownerDocument.defaultView);\n  if (win.MutationObserver) {\n    /** @const {MutationObserver} */\n    const observer = new win.MutationObserver(() => {\n      if (checkFunc(parent)) {\n        observer.disconnect();\n        callback();\n      }\n    });\n    observer.observe(parent, {childList: true});\n  } else {\n    /** @const {number} */\n    const interval = win.setInterval(() => {\n      if (checkFunc(parent)) {\n        win.clearInterval(interval);\n        callback();\n      }\n    }, /* milliseconds */ 5);\n  }\n}\n\n/**\n * Waits until the child element is constructed. Once the child is found, the\n * promise is resolved.\n * @param {!Element} parent\n * @param {function(!Element):boolean} checkFunc\n * @return {!Promise}\n */\nexport function waitForChildPromise(parent, checkFunc) {\n  return new Promise(resolve => {\n    waitForChild(parent, checkFunc, resolve);\n  });\n}\n\n/**\n * Waits for document's body to be available.\n * Will be deprecated soon; use {@link AmpDoc#whenBodyAvailable} or\n * @{link DocumentState#onBodyAvailable} instead.\n * @param {!Document} doc\n * @param {function()} callback\n */\nexport function waitForBody(doc, callback) {\n  waitForChild(doc.documentElement, () => !!doc.body, callback);\n}\n\n\n/**\n * Waits for document's body to be available.\n * @param {!Document} doc\n * @return {!Promise}\n */\nexport function waitForBodyPromise(doc) {\n  return new Promise(resolve => {\n    waitForBody(doc, resolve);\n  });\n}\n\n\n/**\n * Removes the element.\n * @param {!Element} element\n */\nexport function removeElement(element) {\n  if (element.parentElement) {\n    element.parentElement.removeChild(element);\n  }\n}\n\n\n/**\n * Removes all child nodes of the specified element.\n * @param {!Element} parent\n */\nexport function removeChildren(parent) {\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n}\n\n\n/**\n * Copies all children nodes of element \"from\" to element \"to\". Child nodes\n * are deeply cloned. Notice, that this method should be used with care and\n * preferably on smaller subtrees.\n * @param {!Element} from\n * @param {!Element|!DocumentFragment} to\n */\nexport function copyChildren(from, to) {\n  const frag = to.ownerDocument.createDocumentFragment();\n  for (let n = from.firstChild; n; n = n.nextSibling) {\n    frag.appendChild(n.cloneNode(true));\n  }\n  to.appendChild(frag);\n}\n\n/**\n * Insert the element in the root after the element named after or\n * if that is null at the beginning.\n * @param {!Element|!ShadowRoot} root\n * @param {!Element} element\n * @param {?Node} after\n */\nexport function insertAfterOrAtStart(root, element, after) {\n  const before = after ? after.nextSibling : root.firstChild;\n  root.insertBefore(element, before);\n}\n\n/**\n * Add attributes to an element.\n * @param {!Element} element\n * @param {!JsonObject<string, string>} attributes\n * @return {!Element} created element\n */\nexport function addAttributesToElement(element, attributes) {\n  for (const attr in attributes) {\n    element.setAttribute(attr, attributes[attr]);\n  }\n  return element;\n}\n\n/**\n * Create a new element on document with specified tagName and attributes.\n * @param {!Document} doc\n * @param {string} tagName\n * @param {!JsonObject<string, string>} attributes\n * @return {!Element} created element\n */\nexport function createElementWithAttributes(doc, tagName, attributes) {\n  const element = doc.createElement(tagName);\n  return addAttributesToElement(element, attributes);\n}\n\n/**\n * Returns true if node is connected (attached).\n * @param {!Node} node\n * @return {boolean}\n * @see https://dom.spec.whatwg.org/#connected\n */\nexport function isConnectedNode(node) {\n  const connected = node.isConnected;\n  if (connected !== undefined) {\n    return connected;\n  }\n\n  // \"An element is connected if its shadow-including root is a document.\"\n  let n = node;\n  do {\n    n = rootNodeFor(n);\n    if (n.host) {\n      n = n.host;\n    } else {\n      break;\n    }\n  } while (true);\n  return n.nodeType === Node.DOCUMENT_NODE;\n}\n\n/**\n * Returns the root for a given node. Does not cross shadow DOM boundary.\n * @param {!Node} node\n * @return {!Node}\n */\nexport function rootNodeFor(node) {\n  if (Node.prototype.getRootNode) {\n    // Type checker says `getRootNode` may return null.\n    return node.getRootNode() || node;\n  }\n  let n;\n  for (n = node; !!n.parentNode; n = n.parentNode) {}\n  return n;\n}\n\n/**\n * Finds the closest element that satisfies the callback from this element\n * up the DOM subtree.\n * @param {!Element} element\n * @param {function(!Element):boolean} callback\n * @param {Element=} opt_stopAt optional elemnt to stop the search at.\n * @return {?Element}\n */\nexport function closest(element, callback, opt_stopAt) {\n  for (let el = element; el && el !== opt_stopAt; el = el.parentElement) {\n    if (callback(el)) {\n      return el;\n    }\n  }\n  return null;\n}\n\n\n/**\n * Finds the closest node that satisfies the callback from this node\n * up the DOM subtree.\n * @param {!Node} node\n * @param {function(!Node):boolean} callback\n * @return {?Node}\n */\nexport function closestNode(node, callback) {\n  for (let n = node; n; n = n.parentNode) {\n    if (callback(n)) {\n      return n;\n    }\n  }\n  return null;\n}\n\n\n/**\n * Finds the closest element with the specified name from this element\n * up the DOM subtree.\n * @param {!Element} element\n * @param {string} tagName\n * @return {?Element}\n */\nexport function closestByTag(element, tagName) {\n  if (element.closest) {\n    return element.closest(tagName);\n  }\n  tagName = tagName.toUpperCase();\n  return closest(element, el => {\n    return el.tagName == tagName;\n  });\n}\n\n/**\n * Finds the closest element with the specified selector from this element\n * @param {!Element} element\n * @param {string} selector\n * @return {?Element} closest ancestor if found.\n */\nexport function closestBySelector(element, selector) {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  return closest(element, el => {\n    return matches(el, selector);\n  });\n}\n\n/**\n * Checks if the given element matches the selector\n * @param  {!Element} el The element to verify\n * @param  {string} selector The selector to check against\n * @return {boolean} True if the element matched the selector. False otherwise.\n */\nexport function matches(el, selector) {\n  const matcher = el.matches ||\n      el.webkitMatchesSelector ||\n      el.mozMatchesSelector ||\n      el.msMatchesSelector ||\n      el.oMatchesSelector;\n  if (matcher) {\n    return matcher.call(el, selector);\n  }\n  return false; // IE8 always returns false.\n}\n\n/**\n * Finds the first descendant element with the specified name.\n * @param {!Element|!Document|!ShadowRoot} element\n * @param {string} tagName\n * @return {?Element}\n */\nexport function elementByTag(element, tagName) {\n  let elements;\n  // getElementsByTagName() is not supported on ShadowRoot.\n  if (typeof element.getElementsByTagName === 'function') {\n    elements = element.getElementsByTagName(tagName);\n  } else {\n    elements = element./*OK*/querySelectorAll(tagName);\n  }\n  return (elements && elements[0]) || null;\n}\n\n\n/**\n * Finds the first child element that satisfies the callback.\n * @param {!Element} parent\n * @param {function(!Element):boolean} callback\n * @return {?Element}\n */\nexport function childElement(parent, callback) {\n  for (let child = parent.firstElementChild; child;\n    child = child.nextElementSibling) {\n    if (callback(child)) {\n      return child;\n    }\n  }\n  return null;\n}\n\n\n/**\n * Finds all child elements that satisfy the callback.\n * @param {!Element} parent\n * @param {function(!Element):boolean} callback\n * @return {!Array<!Element>}\n */\nexport function childElements(parent, callback) {\n  const children = [];\n  for (let child = parent.firstElementChild; child;\n    child = child.nextElementSibling) {\n    if (callback(child)) {\n      children.push(child);\n    }\n  }\n  return children;\n}\n\n\n/**\n * Finds the last child element that satisfies the callback.\n * @param {!Element} parent\n * @param {function(!Element):boolean} callback\n * @return {?Element}\n */\nexport function lastChildElement(parent, callback) {\n  for (let child = parent.lastElementChild; child;\n    child = child.previousElementSibling) {\n    if (callback(child)) {\n      return child;\n    }\n  }\n  return null;\n}\n\n/**\n * Finds all child nodes that satisfy the callback.\n * These nodes can include Text, Comment and other child nodes.\n * @param {!Node} parent\n * @param {function(!Node):boolean} callback\n * @return {!Array<!Node>}\n */\nexport function childNodes(parent, callback) {\n  const nodes = [];\n  for (let child = parent.firstChild; child;\n    child = child.nextSibling) {\n    if (callback(child)) {\n      nodes.push(child);\n    }\n  }\n  return nodes;\n}\n\n/**\n * @type {boolean|undefined}\n * @visibleForTesting\n */\nlet scopeSelectorSupported;\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setScopeSelectorSupportedForTesting(val) {\n  scopeSelectorSupported = val;\n}\n\n/**\n * Test that the :scope selector is supported and behaves correctly.\n * @param {!Element} parent\n * @return {boolean}\n */\nfunction isScopeSelectorSupported(parent) {\n  const doc = parent.ownerDocument;\n  try {\n    const testElement = doc.createElement('div');\n    const testChild = doc.createElement('div');\n    testElement.appendChild(testChild);\n    // NOTE(cvializ, #12383): Firefox's implementation is incomplete,\n    // therefore we test actual functionality of`:scope` as well.\n    return testElement./*OK*/querySelector(':scope div') === testChild;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Finds the first child element that has the specified attribute.\n * @param {!Element} parent\n * @param {string} attr\n * @return {?Element}\n */\nexport function childElementByAttr(parent, attr) {\n  return scopedQuerySelector/*OK*/(parent, `> [${attr}]`);\n}\n\n\n/**\n * Finds the last child element that has the specified attribute.\n * @param {!Element} parent\n * @param {string} attr\n * @return {?Element}\n */\nexport function lastChildElementByAttr(parent, attr) {\n  return lastChildElement(parent, el => {\n    return el.hasAttribute(attr);\n  });\n}\n\n\n/**\n * Finds all child elements that has the specified attribute.\n * @param {!Element} parent\n * @param {string} attr\n * @return {!NodeList<!Element>}\n */\nexport function childElementsByAttr(parent, attr) {\n  return scopedQuerySelectorAll/*OK*/(parent, `> [${attr}]`);\n}\n\n\n/**\n * Finds the first child element that has the specified tag name.\n * @param {!Element} parent\n * @param {string} tagName\n * @return {?Element}\n */\nexport function childElementByTag(parent, tagName) {\n  return scopedQuerySelector/*OK*/(parent, `> ${tagName}`);\n}\n\n\n/**\n * Finds all child elements with the specified tag name.\n * @param {!Element} parent\n * @param {string} tagName\n * @return {!NodeList<!Element>}\n */\nexport function childElementsByTag(parent, tagName) {\n  return scopedQuerySelectorAll/*OK*/(parent, `> ${tagName}`);\n}\n\n\n/**\n * Finds the first element that matches `selector`, scoped inside `root`.\n * Note: in IE, this causes a quick mutation of the element's class list.\n * @param {!Element} root\n * @param {string} selector\n * @return {?Element}\n */\nexport function scopedQuerySelector(root, selector) {\n  if (scopeSelectorSupported == null) {\n    scopeSelectorSupported = isScopeSelectorSupported(root);\n  }\n  if (scopeSelectorSupported) {\n    return root./*OK*/querySelector(`:scope ${selector}`);\n  }\n\n  // Only IE.\n  const unique = 'i-amphtml-scoped';\n  root.classList.add(unique);\n  const element = root./*OK*/querySelector(`.${unique} ${selector}`);\n  root.classList.remove(unique);\n  return element;\n}\n\n\n/**\n * Finds the every element that matches `selector`, scoped inside `root`.\n * Note: in IE, this causes a quick mutation of the element's class list.\n * @param {!Element} root\n * @param {string} selector\n * @return {!NodeList<!Element>}\n */\nexport function scopedQuerySelectorAll(root, selector) {\n  if (scopeSelectorSupported == null) {\n    scopeSelectorSupported = isScopeSelectorSupported(root);\n  }\n  if (scopeSelectorSupported) {\n    return root./*OK*/querySelectorAll(`:scope ${selector}`);\n  }\n\n  // Only IE.\n  const unique = 'i-amphtml-scoped';\n  root.classList.add(unique);\n  const elements = root./*OK*/querySelectorAll(`.${unique} ${selector}`);\n  root.classList.remove(unique);\n  return elements;\n}\n\n\n/**\n * Returns element data-param- attributes as url parameters key-value pairs.\n * e.g. data-param-some-attr=value -> {someAttr: value}.\n * @param {!Element} element\n * @param {function(string):string=} opt_computeParamNameFunc to compute the\n *    parameter name, get passed the camel-case parameter name.\n * @param {!RegExp=} opt_paramPattern Regex pattern to match data attributes.\n * @return {!JsonObject}\n */\nexport function getDataParamsFromAttributes(element, opt_computeParamNameFunc,\n  opt_paramPattern) {\n  const computeParamNameFunc = opt_computeParamNameFunc || (key => key);\n  const {dataset} = element;\n  const params = dict();\n  const paramPattern = opt_paramPattern ? opt_paramPattern : /^param(.+)/;\n  for (const key in dataset) {\n    const matches = key.match(paramPattern);\n    if (matches) {\n      const param = matches[1][0].toLowerCase() + matches[1].substr(1);\n      params[computeParamNameFunc(param)] = dataset[key];\n    }\n  }\n  return params;\n}\n\n/**\n * Whether the element have a next node in the document order.\n * This means either:\n *  a. The element itself has a nextSibling.\n *  b. Any of the element ancestors has a nextSibling.\n * @param {!Element} element\n * @param {?Node} opt_stopNode\n * @return {boolean}\n */\nexport function hasNextNodeInDocumentOrder(element, opt_stopNode) {\n  let currentElement = element;\n  do {\n    if (currentElement.nextSibling) {\n      return true;\n    }\n  } while ((currentElement = currentElement.parentNode) &&\n            currentElement != opt_stopNode);\n  return false;\n}\n\n\n/**\n * Finds all ancestor elements that satisfy predicate.\n * @param {!Element} child\n * @param {function(!Element):boolean} predicate\n * @return {!Array<!Element>}\n */\nexport function ancestorElements(child, predicate) {\n  const ancestors = [];\n  for (let ancestor = child.parentElement; ancestor;\n    ancestor = ancestor.parentElement) {\n    if (predicate(ancestor)) {\n      ancestors.push(ancestor);\n    }\n  }\n  return ancestors;\n}\n\n\n/**\n * Finds all ancestor elements that has the specified tag name.\n * @param {!Element} child\n * @param {string} tagName\n * @return {!Array<!Element>}\n */\nexport function ancestorElementsByTag(child, tagName) {\n  tagName = tagName.toUpperCase();\n  return ancestorElements(child, el => {\n    return el.tagName == tagName;\n  });\n}\n\n/**\n * Returns a clone of the content of a template element.\n *\n * Polyfill to replace .content access for browsers that do not support\n * HTMLTemplateElements natively.\n *\n * @param {!HTMLTemplateElement|!Element} template\n * @return {!DocumentFragment}\n */\nexport function templateContentClone(template) {\n  if ('content' in template) {\n    return template.content.cloneNode(true);\n  } else {\n    const content = template.ownerDocument.createDocumentFragment();\n    copyChildren(template, content);\n    return content;\n  }\n}\n\n/**\n * Iterate over an array-like. Some collections like NodeList are\n * lazily evaluated in some browsers, and accessing `length` forces full\n * evaluation. We can improve performance by iterating until an element is\n * `undefined` to avoid checking the `length` property.\n * Test cases: https://jsperf.com/iterating-over-collections-of-elements\n * @param {!IArrayLike<T>} iterable\n * @param {function(T, number)} cb\n * @template T\n */\nexport function iterateCursor(iterable, cb) {\n  for (let i = 0, value; (value = iterable[i]) !== undefined; i++) {\n    cb(value, i);\n  }\n}\n\n/**\n * This method wraps around window's open method. It first tries to execute\n * `open` call with the provided target and if it fails, it retries the call\n * with the `_top` target. This is necessary given that in some embedding\n * scenarios, such as iOS' WKWebView, navigation to `_blank` and other targets\n * is blocked by default.\n *\n * @param {!Window} win\n * @param {string} url\n * @param {string} target\n * @param {string=} opt_features\n * @return {?Window}\n */\nexport function openWindowDialog(win, url, target, opt_features) {\n  // Try first with the specified target. If we're inside the WKWebView or\n  // a similar environments, this method is expected to fail by default for\n  // all targets except `_top`.\n  let res;\n  try {\n    res = win.open(url, target, opt_features);\n  } catch (e) {\n    dev().error('DOM', 'Failed to open url on target: ', target, e);\n  }\n\n  // Then try with `_top` target.\n  if (!res && target != '_top') {\n    res = win.open(url, '_top');\n  }\n  return res;\n}\n\n/**\n * Whether the element is a script tag with application/json type.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isJsonScriptTag(element) {\n  return element.tagName == 'SCRIPT' &&\n            element.getAttribute('type').toUpperCase() == 'APPLICATION/JSON';\n}\n\n/**\n * Whether the element is a script tag with application/json type.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isJsonLdScriptTag(element) {\n  return element.tagName == 'SCRIPT' &&\n      element.getAttribute('type').toUpperCase() == 'APPLICATION/LD+JSON';\n}\n\n/**\n * Whether the page's direction is right to left or not.\n * @param {!Document} doc\n * @return {boolean}\n */\nexport function isRTL(doc) {\n  const dir = doc.body.getAttribute('dir')\n                 || doc.documentElement.getAttribute('dir')\n                 || 'ltr';\n  return dir == 'rtl';\n}\n\n\n/**\n * Escapes an ident (ID or a class name) to be used as a CSS selector.\n *\n * See https://drafts.csswg.org/cssom/#serialize-an-identifier.\n *\n * @param {string} ident\n * @return {string}\n */\nexport function escapeCssSelectorIdent(ident) {\n  return cssEscape(ident);\n}\n\n/**\n * Escapes an ident in a way that can be used by :nth-child() psuedo-class.\n *\n * See https://github.com/w3c/csswg-drafts/issues/2306.\n *\n * @param {string|number} ident\n * @return {string}\n */\nexport function escapeCssSelectorNth(ident) {\n  const escaped = String(ident);\n  // Ensure it doesn't close the nth-child psuedo class.\n  dev().assert(escaped.indexOf(')') === -1);\n  return escaped;\n}\n\n/**\n * Escapes `<`, `>` and other HTML charcaters with their escaped forms.\n * @param {string} text\n * @return {string}\n */\nexport function escapeHtml(text) {\n  if (!text) {\n    return text;\n  }\n  return text.replace(HTML_ESCAPE_REGEX, escapeHtmlChar);\n}\n\n/**\n * @param {string} c\n * @return {string}\n */\nfunction escapeHtmlChar(c) {\n  return HTML_ESCAPE_CHARS[c];\n}\n\n/**\n * Tries to focus on the given element; fails silently if browser throws an\n * exception.\n * @param {!Element} element\n */\nexport function tryFocus(element) {\n  try {\n    element./*OK*/focus();\n  } catch (e) {\n    // IE <= 7 may throw exceptions when focusing on hidden items.\n  }\n}\n\n/**\n * Whether the given window is in an iframe or not.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isIframed(win) {\n  return win.parent && win.parent != win;\n}\n\n/**\n * Determines if this element is an AMP element\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isAmpElement(element) {\n  const tag = element.tagName;\n  // Use prefix to recognize AMP element. This is necessary because stub\n  // may not be attached yet.\n  return startsWith(tag, 'AMP-') &&\n      // Some \"amp-*\" elements are not really AMP elements. :smh:\n      !(tag == 'AMP-STICKY-AD-TOP-PADDING' || tag == 'AMP-BODY');\n}\n\n/**\n * Return a promise that resolve when an AMP element upgrade from HTMLElement\n * to CustomElement\n * @param {!Element} element\n * @return {!Promise<!Element>}\n */\nexport function whenUpgradedToCustomElement(element) {\n  dev().assert(isAmpElement(element), 'element is not AmpElement');\n  if (element.createdCallback) {\n    // Element already is CustomElement;\n    return Promise.resolve(element);\n  }\n  // If Element is still HTMLElement, wait for it to upgrade to customElement\n  // Note: use pure string to avoid obfuscation between versions.\n  if (!element[UPGRADE_TO_CUSTOMELEMENT_PROMISE]) {\n    const deferred = new Deferred();\n    element[UPGRADE_TO_CUSTOMELEMENT_PROMISE] = deferred.promise;\n    element[UPGRADE_TO_CUSTOMELEMENT_RESOLVER] = deferred.resolve;\n\n  }\n\n  return element[UPGRADE_TO_CUSTOMELEMENT_PROMISE];\n}\n\n/**\n * Replacement for `Element.requestFullscreen()` method.\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen\n * @param {!Element} element\n */\nexport function fullscreenEnter(element) {\n  const requestFs = element.requestFullscreen\n   || element.requestFullScreen\n   || element.webkitRequestFullscreen\n   || element.webkitRequestFullScreen\n   || element.webkitEnterFullscreen\n   || element.webkitEnterFullScreen\n   || element.msRequestFullscreen\n   || element.msRequestFullScreen\n   || element.mozRequestFullscreen\n   || element.mozRequestFullScreen;\n  if (requestFs) {\n    requestFs.call(element);\n  }\n}\n\n/**\n * Replacement for `Document.exitFullscreen()` method.\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/exitFullscreen\n * @param {!Element} element\n */\nexport function fullscreenExit(element) {\n  let exitFs = element.cancelFullScreen\n              || element.exitFullscreen\n              || element.exitFullScreen\n              || element.webkitExitFullscreen\n              || element.webkitExitFullScreen\n              || element.webkitCancelFullScreen\n              || element.mozCancelFullScreen\n              || element.msExitFullscreen;\n  if (exitFs) {\n    exitFs.call(element);\n    return;\n  }\n  if (element.ownerDocument) {\n    exitFs = element.ownerDocument.cancelFullScreen\n             || element.ownerDocument.exitFullscreen\n             || element.ownerDocument.exitFullScreen\n             || element.ownerDocument.webkitExitFullscreen\n             || element.ownerDocument.webkitExitFullScreen\n             || element.ownerDocument.webkitCancelFullScreen\n             || element.ownerDocument.mozCancelFullScreen\n             || element.ownerDocument.msExitFullscreen;\n  }\n  if (exitFs) {\n    exitFs.call(element.ownerDocument);\n    return;\n  }\n}\n\n\n/**\n * Replacement for `Document.fullscreenElement`.\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/fullscreenElement\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isFullscreenElement(element) {\n  const isFullscreen = element.webkitDisplayingFullscreen;\n  if (isFullscreen) {\n    return true;\n  }\n  if (element.ownerDocument) {\n    const fullscreenElement = element.ownerDocument.fullscreenElement\n             || element.ownerDocument.webkitFullscreenElement\n             || element.ownerDocument.mozFullScreenElement\n             || element.webkitCurrentFullScreenElement;\n    if (fullscreenElement == element) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Returns true if node is not disabled.\n *\n * IE8 can return false positives, see {@link matches}.\n * @param {!Element} element\n * @return {boolean}\n * @see https://www.w3.org/TR/html5/forms.html#concept-fe-disabled\n */\nexport function isEnabled(element) {\n  return !(element.disabled || matches(element, ':disabled'));\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as dom from './dom';\nimport {\n  getAmpdoc,\n  getExistingServiceForDocInEmbedScope,\n  getService,\n  getServicePromise,\n  getServicePromiseForDoc,\n  getServicePromiseOrNull,\n  getServicePromiseOrNullForDoc,\n  getTopWindow,\n} from './service';\nimport {toWin} from './types';\nimport {user} from './log';\n\n/**\n * Returns a promise for a service for the given id and window. Also expects an\n * element that has the actual implementation. The promise resolves when the\n * implementation loaded. Users should typically wrap this as a special purpose\n * function (e.g. Services.viewportForDoc(...)) for type safety and because the\n * factory should not be passed around.\n * @param {!Window} win\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an element,\n *     not the extension.\n * @return {!Promise<*>}\n */\nexport function getElementService(win, id, extension, opt_element) {\n  return getElementServiceIfAvailable(win, id, extension, opt_element).then(\n      service => assertService(service, id, extension));\n}\n\n/**\n * Same as getElementService but produces null if the given element is not\n * actually available on the current page.\n * @param {!Window} win\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an\n *     element, not the extension.\n * @return {!Promise<?Object>}\n */\nexport function getElementServiceIfAvailable(win, id, extension, opt_element) {\n  const s = getServicePromiseOrNull(win, id);\n  if (s) {\n    return /** @type {!Promise<?Object>} */ (s);\n  }\n  return getElementServicePromiseOrNull(win, id, extension, opt_element);\n}\n\n/**\n * @param {!Window} win\n * @param {string} elementName Name of an extended custom element.\n * @return {boolean} Whether this element is scheduled to be loaded.\n */\nfunction isElementScheduled(win, elementName) {\n  // Set in custom-element.js\n  if (!win.ampExtendedElements) {\n    return false;\n  }\n  return !!win.ampExtendedElements[elementName];\n}\n\n\n/**\n * Returns a promise for a service for the given id and window. Also expects an\n * element that has the actual implementation. The promise resolves when the\n * implementation loaded. Users should typically wrap this as a special purpose\n * function (e.g. Services.viewportForDoc(...)) for type safety and because the\n * factory should not be passed around.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an element,\n *     not the extension.\n * @return {!Promise<*>}\n */\nexport function getElementServiceForDoc(elementOrAmpDoc, id, extension,\n  opt_element) {\n  return getElementServiceIfAvailableForDoc(\n      elementOrAmpDoc, id, extension, opt_element)\n      .then(service => assertService(service, id, extension));\n}\n\n/**\n * Same as getElementService but produces null if the given element is not\n * actually available on the current page.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an\n *     element, not the extension.\n * @return {!Promise<?Object>}\n */\nexport function getElementServiceIfAvailableForDoc(\n  elementOrAmpDoc, id, extension, opt_element) {\n  const ampdoc = getAmpdoc(elementOrAmpDoc);\n  const s = getServicePromiseOrNullForDoc(elementOrAmpDoc, id);\n  if (s) {\n    return /** @type {!Promise<?Object>} */ (s);\n  }\n\n  return ampdoc.whenBodyAvailable()\n      .then(() => waitForExtensionIfPresent(\n          ampdoc.win, extension,\n          ampdoc.getHeadNode()))\n      .then(() => {\n        // If this service is provided by an element, then we can't depend on\n        // the service (they may not use the element).\n        if (opt_element) {\n          return getServicePromiseOrNullForDoc(elementOrAmpDoc, id);\n        } else if (isElementScheduled(ampdoc.win, extension)) {\n          return getServicePromiseForDoc(elementOrAmpDoc, id);\n        }\n        return null;\n      });\n}\n\n/**\n * Returns a promise for service for the given id in the embed scope of\n * a given node, if it exists. Otherwise, falls back to ampdoc scope IFF\n * the given node is in the top-level window.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id of the service.\n * @param {string} extension Name of the custom element that provides\n *     the implementation of this service.\n * @return {!Promise<?Object>}\n */\nexport function getElementServiceIfAvailableForDocInEmbedScope(\n  elementOrAmpDoc, id, extension) {\n  const s = getExistingServiceForDocInEmbedScope(elementOrAmpDoc, id);\n  if (s) {\n    return /** @type {!Promise<?Object>} */ (Promise.resolve(s));\n  }\n  // Return embed-scope element service promise if scheduled.\n  if (elementOrAmpDoc.nodeType) {\n    const win = toWin(elementOrAmpDoc.ownerDocument.defaultView);\n    const topWin = getTopWindow(win);\n    // In embeds, doc-scope services are window-scope. But make sure to\n    // only do this for embeds (not the top window), otherwise we'd grab\n    // a promise from the wrong service holder which would never resolve.\n    if (win !== topWin) {\n      return getElementServicePromiseOrNull(win, id, extension);\n    } else {\n      // Fallback to ampdoc IFF the given node is _not_ FIE.\n      return getElementServiceIfAvailableForDoc(elementOrAmpDoc, id, extension);\n    }\n  }\n  return /** @type {!Promise<?Object>} */ (Promise.resolve(null));\n}\n\n/**\n * Throws user error if `service` is null.\n * @param {Object} service\n * @param {string} id\n * @param {string} extension\n * @return {!Object}\n * @private\n */\nfunction assertService(service, id, extension) {\n  return /** @type {!Object} */ (user().assert(service,\n      'Service %s was requested to be provided through %s, ' +\n      'but %s is not loaded in the current page. To fix this ' +\n      'problem load the JavaScript file for %s in this page.',\n      id, extension, extension, extension));\n}\n\n/**\n * Get list of all the extension JS files\n * @param {HTMLHeadElement|Element|ShadowRoot} head\n * @return {!Array<string>}\n */\nexport function extensionScriptsInNode(head) {\n  // ampdoc.getHeadNode() can return null\n  if (!head) {\n    return [];\n  }\n  const scripts = [];\n  const list = head.querySelectorAll('script[custom-element]');\n  for (let i = 0; i < list.length; i++) {\n    scripts.push(list[i].getAttribute('custom-element'));\n  }\n  return scripts;\n}\n\n/**\n * Waits for body to be present then verifies that an extension script is\n * present in head for installation.\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc\n * @param {string} extensionId\n * @return {!Promise<boolean>}\n */\nexport function isExtensionScriptInNode(ampdoc, extensionId) {\n  return ampdoc.whenBodyAvailable()\n      .then(() => {\n        return extensionScriptInNode(\n            ampdoc.getHeadNode(), extensionId);\n      });\n}\n\n/**\n * Verifies that an extension script is present in head for\n * installation.\n * @param {HTMLHeadElement|Element|ShadowRoot} head\n * @param {string} extensionId\n * @private\n */\nfunction extensionScriptInNode(head, extensionId) {\n  return extensionScriptsInNode(head).includes(extensionId);\n}\n\n/**\n * Waits for an extension if its script is present\n * @param {!Window} win\n * @param {string} extension\n * @param {HTMLHeadElement|Element|ShadowRoot} head\n * @return {!Promise}\n * @private\n */\nfunction waitForExtensionIfPresent(win, extension, head) {\n  /**\n   * If there is an extension script wait for it to load before trying\n   * to get the service. Prevents a race condition when everything but\n   * the extensions is in cache. If there is no script then it's either\n   * not present, or the service was defined by a test. In those cases\n   * we don't wait around for an extension that does not exist.\n   */\n\n  // TODO(jpettitt) investigate registerExtension to short circuit\n  // the dom call in extensionScriptsInNode()\n  if (!extensionScriptInNode(head, extension)) {\n    return Promise.resolve();\n  }\n\n  const extensions = getService(win, 'extensions');\n  return /** @type {!Promise<?Object>} */ (\n    extensions.waitForExtension(win, extension));\n}\n\n/**\n * Returns the promise for service with `id` on the given window if available.\n * Otherwise, resolves with null (service was not registered).\n * @param {!Window} win\n * @param {string} id\n * @param {string} extension\n * @param {boolean=} opt_element\n * @return {!Promise<Object>}\n * @private\n */\nfunction getElementServicePromiseOrNull(win, id, extension, opt_element) {\n  return dom.waitForBodyPromise(win.document)\n      .then(() => waitForExtensionIfPresent(win, extension, win.document.head))\n      .then(() => {\n        // If this service is provided by an element, then we can't depend on\n        // the service (they may not use the element).\n        if (opt_element) {\n          return getServicePromiseOrNull(win, id);\n        } else if (isElementScheduled(win, extension)) {\n          return getServicePromise(win, id);\n        }\n        return null;\n      });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n  * Whether addEventListener supports options or only takes capture as a boolean\n  * @type {boolean|undefined}\n  * @visibleForTesting\n  */\nlet optsSupported;\n\n/**\n * Listens for the specified event on the element.\n *\n * Do not use this directly. This method is implemented as a shared\n * dependency. Use `listen()` in either `event-helper` or `3p-frame-messaging`,\n * depending on your use case.\n *\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {function(!Event)} listener\n * @param {Object=} opt_evtListenerOpts\n * @return {!UnlistenDef}\n */\nexport function internalListenImplementation(element, eventType, listener,\n  opt_evtListenerOpts) {\n  let localElement = element;\n  let localListener = listener;\n  /**\n   * @type {?Function}\n   */\n  let wrapped;\n\n  wrapped = event => {\n    try {\n      return localListener(event);\n    } catch (e) {\n      // reportError is installed globally per window in the entry point.\n      self.reportError(e);\n      throw e;\n    }\n  };\n  const optsSupported = detectEvtListenerOptsSupport();\n  let capture = false;\n  if (opt_evtListenerOpts) {\n    capture = opt_evtListenerOpts.capture;\n  }\n  localElement.addEventListener(\n      eventType,\n      wrapped,\n      optsSupported ? opt_evtListenerOpts : capture\n  );\n  return () => {\n    if (localElement) {\n      localElement.removeEventListener(\n          eventType,\n          wrapped,\n          optsSupported ? opt_evtListenerOpts : capture\n      );\n    }\n    // Ensure these are GC'd\n    localListener = null;\n    localElement = null;\n    wrapped = null;\n  };\n}\n\n/**\n * Tests whether the browser supports options as an argument of addEventListener\n * or not.\n *\n * @return {boolean}\n */\nexport function detectEvtListenerOptsSupport() {\n  // Only run the test once\n  if (optsSupported !== undefined) {\n    return optsSupported;\n  }\n\n  optsSupported = false;\n  try {\n    // Test whether browser supports EventListenerOptions or not\n    const options = {\n      get capture() {\n        optsSupported = true;\n      },\n    };\n    self.addEventListener('test-options', null, options);\n    self.removeEventListener('test-options', null, options);\n  } catch (err) {\n    // EventListenerOptions are not supported\n  }\n  return optsSupported;\n}\n\n/**\n  * Resets the test for whether addEventListener supports options or not.\n  */\nexport function resetEvtListenerOptsSupportForTesting() {\n  optsSupported = undefined;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {internalListenImplementation} from './event-helper-listen';\nimport {user} from './log';\n\n/** @const {string}  */\nconst LOAD_FAILURE_PREFIX = 'Failed to load:';\n\n/**\n * Returns a CustomEvent with a given type and detail; supports fallback for IE.\n * @param {!Window} win\n * @param {string} type\n * @param {!JsonObject|string|undefined|null} detail\n * @param {EventInit=} opt_eventInit\n * @return {!Event}\n */\nexport function createCustomEvent(win, type, detail, opt_eventInit) {\n  const eventInit = /** @type {!CustomEventInit} */ ({detail});\n  Object.assign(eventInit, opt_eventInit);\n  // win.CustomEvent is a function on Edge, Chrome, FF, Safari but\n  // is an object on IE 11.\n  if (typeof win.CustomEvent == 'function') {\n    return new win.CustomEvent(type, eventInit);\n  } else {\n    // Deprecated fallback for IE.\n    const e = win.document.createEvent('CustomEvent');\n    e.initCustomEvent(\n        type, !!eventInit.bubbles, !!eventInit.cancelable, detail);\n    return e;\n  }\n}\n\n/**\n * Listens for the specified event on the element.\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {function(!Event)} listener\n * @param {Object=} opt_evtListenerOpts\n * @return {!UnlistenDef}\n */\nexport function listen(element, eventType, listener, opt_evtListenerOpts) {\n  return internalListenImplementation(\n      element, eventType, listener, opt_evtListenerOpts);\n}\n\n/**\n * Returns the data property of an event with the correct type.\n * @param {!Event|{data: !JsonObject}} event\n * @return {?JsonObject|string|undefined}\n */\nexport function getData(event) {\n  return /** @type {?JsonObject|string|undefined} */ (event.data);\n}\n\n/**\n * Returns the detail property of an event with the correct type.\n * @param {!Event|{detail: !JsonObject}} event\n * @return {?JsonObject|string|undefined}\n */\nexport function getDetail(event) {\n  return /** @type {?JsonObject|string|undefined} */ (event.detail);\n}\n\n/**\n * Listens for the specified event on the element and removes the listener\n * as soon as event has been received.\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {function(!Event)} listener\n * @param {Object=} opt_evtListenerOpts\n * @return {!UnlistenDef}\n */\nexport function listenOnce(element, eventType, listener, opt_evtListenerOpts) {\n  let localListener = listener;\n  const unlisten = internalListenImplementation(element, eventType, event => {\n    try {\n      localListener(event);\n    } finally {\n      // Ensure listener is GC'd\n      localListener = null;\n      unlisten();\n    }\n  }, opt_evtListenerOpts);\n  return unlisten;\n}\n\n\n/**\n * Returns  a promise that will resolve as soon as the specified event has\n * fired on the element.\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {Object=} opt_evtListenerOpts\n * @param {function(!UnlistenDef)=} opt_cancel An optional function that, when\n *     provided, will be called with the unlistener. This gives the caller\n *     access to the unlistener, so it may be called manually when necessary.\n * @return {!Promise<!Event>}\n */\nexport function listenOncePromise(element, eventType, opt_evtListenerOpts,\n  opt_cancel) {\n  let unlisten;\n  const eventPromise = new Promise(resolve => {\n    unlisten = listenOnce(element, eventType, resolve, opt_evtListenerOpts);\n  });\n  eventPromise.then(unlisten, unlisten);\n  if (opt_cancel) {\n    opt_cancel(unlisten);\n  }\n  return eventPromise;\n}\n\n\n/**\n * Whether the specified element/window has been loaded already.\n * @param {!Element|!Window} eleOrWindow\n * @return {boolean}\n */\nexport function isLoaded(eleOrWindow) {\n  return !!(eleOrWindow.complete || eleOrWindow.readyState == 'complete'\n      // If the passed in thing is a Window, infer loaded state from\n      //\n      || (eleOrWindow.document\n          && eleOrWindow.document.readyState == 'complete'));\n}\n\n/**\n * Returns a promise that will resolve or fail based on the eleOrWindow's 'load'\n * and 'error' events. Optionally this method takes a timeout, which will reject\n * the promise if the resource has not loaded by then.\n * @param {T} eleOrWindow Supports both Elements and as a special case Windows.\n * @return {!Promise<T>}\n * @template T\n */\nexport function loadPromise(eleOrWindow) {\n  let unlistenLoad;\n  let unlistenError;\n  if (isLoaded(eleOrWindow)) {\n    return Promise.resolve(eleOrWindow);\n  }\n  const loadingPromise = new Promise((resolve, reject) => {\n    // Listen once since IE 5/6/7 fire the onload event continuously for\n    // animated GIFs.\n    const {tagName} = eleOrWindow;\n    if (tagName === 'AUDIO' || tagName === 'VIDEO') {\n      unlistenLoad = listenOnce(eleOrWindow, 'loadstart', resolve);\n    } else {\n      unlistenLoad = listenOnce(eleOrWindow, 'load', resolve);\n    }\n    // For elements, unlisten on error (don't for Windows).\n    if (tagName) {\n      unlistenError = listenOnce(eleOrWindow, 'error', reject);\n    }\n  });\n\n  return loadingPromise.then(() => {\n    if (unlistenError) {\n      unlistenError();\n    }\n    return eleOrWindow;\n  }, () => {\n    if (unlistenLoad) {\n      unlistenLoad();\n    }\n    failedToLoad(eleOrWindow);\n  });\n}\n\n/**\n * Emit error on load failure.\n * @param {!Element|!Window} eleOrWindow Supports both Elements and as a special\n *     case Windows.\n */\nfunction failedToLoad(eleOrWindow) {\n  // Report failed loads as user errors so that they automatically go\n  // into the \"document error\" bucket.\n  let target = eleOrWindow;\n  if (target && target.src) {\n    target = target.src;\n  }\n  throw user().createError(LOAD_FAILURE_PREFIX, target);\n}\n\n/**\n * Returns true if this error message is was created for a load error.\n * @param {string} message An error message\n * @return {boolean}\n */\nexport function isLoadErrorMessage(message) {\n  return message.indexOf(LOAD_FAILURE_PREFIX) != -1;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Experiments system allows a developer to opt-in to test\n * features that are not yet fully tested.\n *\n * Experiments page: https://cdn.ampproject.org/experiments.html *\n */\n\nimport {getCookie, setCookie} from './cookies';\nimport {hasOwn} from './utils/object';\nimport {parseQueryString} from './url';\n\n/** @const {string} */\nconst COOKIE_NAME = 'AMP_EXP';\n\n/** @const {number} */\nconst COOKIE_MAX_AGE_DAYS = 180; // 6 month\n\n/** @const {time} */\nconst COOKIE_EXPIRATION_INTERVAL = COOKIE_MAX_AGE_DAYS * 24 * 60 * 60 * 1000;\n\n/** @const {string} */\nconst TOGGLES_WINDOW_PROPERTY = '__AMP__EXPERIMENT_TOGGLES';\n\n/**\n * @typedef {{\n *   isTrafficEligible: function(!Window):boolean,\n *   branches: !Array<string>\n * }}\n */\nexport let ExperimentInfo;\n\n/**\n * Whether we are in canary.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isCanary(win) {\n  return !!(win.AMP_CONFIG && win.AMP_CONFIG.canary);\n}\n\n/**\n * Returns binary type, e.g., canary, control, or production.\n * @param {!Window} win\n * @return {string}\n */\nexport function getBinaryType(win) {\n  return win.AMP_CONFIG && win.AMP_CONFIG.type ?\n    win.AMP_CONFIG.type : 'unknown';\n}\n\n/**\n * Whether the specified experiment is on or off.\n * @param {!Window} win\n * @param {string} experimentId\n * @return {boolean}\n */\nexport function isExperimentOn(win, experimentId) {\n  const toggles = experimentToggles(win);\n  return !!toggles[experimentId];\n}\n\n/**\n * Toggles the experiment on or off. Returns the actual value of the experiment\n * after toggling is done.\n * @param {!Window} win\n * @param {string} experimentId\n * @param {boolean=} opt_on\n * @param {boolean=} opt_transientExperiment  Whether to toggle the\n *     experiment state \"transiently\" (i.e., for this page load only) or\n *     durably (by saving the experiment IDs to the cookie after toggling).\n *     Default: false (save durably).\n * @return {boolean} New state for experimentId.\n */\nexport function toggleExperiment(win, experimentId, opt_on,\n  opt_transientExperiment) {\n  const currentlyOn = isExperimentOn(win, /*OK*/experimentId);\n  const on = !!(opt_on !== undefined ? opt_on : !currentlyOn);\n  if (on != currentlyOn) {\n    const toggles = experimentToggles(win);\n    toggles[experimentId] = on;\n\n    if (!opt_transientExperiment) {\n      const cookieToggles = getExperimentTogglesFromCookie(win);\n      cookieToggles[experimentId] = on;\n      saveExperimentTogglesToCookie(win, cookieToggles);\n    }\n  }\n  return on;\n}\n\n/**\n * Calculate whether the experiment is on or off based off of the\n * cookieFlag or the global config frequency given.\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n */\nexport function experimentToggles(win) {\n  if (win[TOGGLES_WINDOW_PROPERTY]) {\n    return win[TOGGLES_WINDOW_PROPERTY];\n  }\n  win[TOGGLES_WINDOW_PROPERTY] = Object.create(null);\n  const toggles = win[TOGGLES_WINDOW_PROPERTY];\n\n  // Read the default config of this build.\n  if (win.AMP_CONFIG) {\n    for (const experimentId in win.AMP_CONFIG) {\n      const frequency = win.AMP_CONFIG[experimentId];\n      if (typeof frequency === 'number' && frequency >= 0 && frequency <= 1) {\n        toggles[experimentId] = Math.random() < frequency;\n      }\n    }\n  }\n  // Read document level override from meta tag.\n  if (win.AMP_CONFIG\n      && Array.isArray(win.AMP_CONFIG['allow-doc-opt-in'])\n      && win.AMP_CONFIG['allow-doc-opt-in'].length > 0) {\n    const allowed = win.AMP_CONFIG['allow-doc-opt-in'];\n    const meta =\n        win.document.head.querySelector('meta[name=\"amp-experiments-opt-in\"]');\n    if (meta) {\n      const optedInExperiments = meta.getAttribute('content').split(',');\n      for (let i = 0; i < optedInExperiments.length; i++) {\n        if (allowed.indexOf(optedInExperiments[i]) != -1) {\n          toggles[optedInExperiments[i]] = true;\n        }\n      }\n    }\n  }\n\n  Object.assign(toggles, getExperimentTogglesFromCookie(win));\n\n  if (win.AMP_CONFIG\n      && Array.isArray(win.AMP_CONFIG['allow-url-opt-in'])\n      && win.AMP_CONFIG['allow-url-opt-in'].length > 0) {\n    const allowed = win.AMP_CONFIG['allow-url-opt-in'];\n    const hash = win.location.originalHash || win.location.hash;\n    const params = parseQueryString(hash);\n    for (let i = 0; i < allowed.length; i++) {\n      const param = params[`e-${allowed[i]}`];\n      if (param == '1') {\n        toggles[allowed[i]] = true;\n      }\n      if (param == '0') {\n        toggles[allowed[i]] = false;\n      }\n    }\n  }\n  return toggles;\n}\n\n/**\n * Returns the cached experiments toggles, or null if they have not been\n * computed yet.\n * @param {!Window} win\n * @return {Object<string, boolean>}\n */\nexport function experimentTogglesOrNull(win) {\n  return win[TOGGLES_WINDOW_PROPERTY] || null;\n}\n\n/**\n * Returns a set of experiment IDs currently on.\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n */\nfunction getExperimentTogglesFromCookie(win) {\n  const experimentCookie = getCookie(win, COOKIE_NAME);\n  const tokens = experimentCookie ? experimentCookie.split(/\\s*,\\s*/g) : [];\n\n  const toggles = Object.create(null);\n  for (let i = 0; i < tokens.length; i++) {\n    if (tokens[i].length == 0) {\n      continue;\n    }\n    if (tokens[i][0] == '-') {\n      toggles[tokens[i].substr(1)] = false;\n    } else {\n      toggles[tokens[i]] = true;\n    }\n  }\n\n  return toggles;\n}\n\n/**\n * Saves a set of experiment IDs currently on.\n * @param {!Window} win\n * @param {!Object<string, boolean>} toggles\n */\nfunction saveExperimentTogglesToCookie(win, toggles) {\n  const experimentIds = [];\n  for (const experiment in toggles) {\n    experimentIds.push((toggles[experiment] === false ? '-' : '') + experiment);\n  }\n\n  setCookie(win, COOKIE_NAME, experimentIds.join(','),\n      Date.now() + COOKIE_EXPIRATION_INTERVAL, {\n        // Set explicit domain, so the cookie gets send to sub domains.\n        domain: win.location.hostname,\n        allowOnProxyOrigin: true,\n      });\n}\n\n/**\n * See getExperimentTogglesFromCookie().\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n * @visibleForTesting\n */\nexport function getExperimentToglesFromCookieForTesting(win) {\n  return getExperimentTogglesFromCookie(win);\n}\n\n/**\n * Resets the experimentsToggle cache for testing purposes.\n * @param {!Window} win\n * @visibleForTesting\n */\nexport function resetExperimentTogglesForTesting(win) {\n  setCookie(win, COOKIE_NAME, '', 0, {\n    domain: win.location.hostname,\n  });\n  win[TOGGLES_WINDOW_PROPERTY] = null;\n}\n\n/**\n * In some browser implementations of Math.random(), sequential calls of\n * Math.random() are correlated and can cause a bias.  In particular,\n * if the previous random() call was < 0.001 (as it will be if we select\n * into an experiment), the next value could be less than 0.5 more than\n * 50.7% of the time.  This provides an implementation that roots down into\n * the crypto API, when available, to produce less biased samples.\n *\n * @return {number} Pseudo-random floating-point value on the range [0, 1).\n */\nfunction slowButAccuratePrng() {\n  // TODO(tdrl): Implement.\n  return Math.random();\n}\n\n/**\n * Container for alternate random number generator implementations.  This\n * allows us to set an \"accurate\" PRNG for branch selection, but to mock it\n * out easily in tests.\n *\n * @visibleForTesting\n * @const {!{accuratePrng: function():number}}\n */\nexport const RANDOM_NUMBER_GENERATORS = {\n  accuratePrng: slowButAccuratePrng,\n};\n\n/**\n * Selects, uniformly at random, a single item from the array.\n * @param {!Array<string>} arr Object to select from.\n * @return {?string} Single item from arr or null if arr was empty.\n */\nfunction selectRandomItem(arr) {\n  const rn = RANDOM_NUMBER_GENERATORS.accuratePrng();\n  return arr[Math.floor(rn * arr.length)] || null;\n}\n\n/**\n * Selects which page-level experiment branches are enabled. If a given\n * experiment name is already set (including to the null / no branches selected\n * state), this won't alter its state.\n *\n * Check whether a given experiment is set using isExperimentOn(win,\n * experimentName) and, if it is on, look for which branch is selected in\n * win.experimentBranches[experimentName].\n *\n * @param {!Window} win Window context on which to save experiment\n *     selection state.\n * @param {!Object<string, !ExperimentInfo>} experiments  Set of experiments to\n *     configure for this page load.\n * @return {!Object<string, string>} Map of experiment names to selected\n *     branches.\n */\nexport function randomlySelectUnsetExperiments(win, experiments) {\n  win.experimentBranches = win.experimentBranches || {};\n  const selectedExperiments = {};\n  for (const experimentName in experiments) {\n    // Skip experimentName if it is not a key of experiments object or if it\n    // has already been populated by some other property.\n    if (!hasOwn(experiments, experimentName)) {\n      continue;\n    }\n    if (hasOwn(win.experimentBranches, experimentName)) {\n      selectedExperiments[experimentName] =\n          win.experimentBranches[experimentName];\n      continue;\n    }\n\n    if (!experiments[experimentName].isTrafficEligible ||\n        !experiments[experimentName].isTrafficEligible(win)) {\n      win.experimentBranches[experimentName] = null;\n      continue;\n    }\n\n    // If we're in the experiment, but we haven't already forced a specific\n    // experiment branch (e.g., via a test setup), then randomize the branch\n    // choice.\n    if (!win.experimentBranches[experimentName] &&\n      isExperimentOn(win, /*OK*/experimentName)) {\n      const {branches} = experiments[experimentName];\n      win.experimentBranches[experimentName] = selectRandomItem(branches);\n      selectedExperiments[experimentName] =\n          win.experimentBranches[experimentName];\n    }\n  }\n  return selectedExperiments;\n}\n\n/**\n * Returns the experiment branch enabled for the given experiment ID.\n * For example, 'control' or 'experiment'.\n *\n * @param {!Window} win Window context to check for experiment state.\n * @param {string} experimentName Name of the experiment to check.\n * @return {?string} Active experiment branch ID for experimentName (possibly\n *     null if experimentName has been tested but no branch was enabled).\n */\nexport function getExperimentBranch(win, experimentName) {\n  return win.experimentBranches ? win.experimentBranches[experimentName] : null;\n}\n\n/**\n * Force enable (or disable) a specific branch of a given experiment name.\n * Disables the experiment name altogether if branchId is falseish.\n *\n * @param {!Window} win Window context to check for experiment state.\n * @param {string} experimentName Name of the experiment to check.\n * @param {?string} branchId ID of branch to force or null to disable\n *     altogether.\n * @visibleForTesting\n */\nexport function forceExperimentBranch(win, experimentName, branchId) {\n  win.experimentBranches = win.experimentBranches || {};\n  toggleExperiment(win, experimentName, !!branchId, true);\n  win.experimentBranches[experimentName] = branchId;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {GestureRecognizer} from './gesture';\nimport {calcVelocity} from './motion';\n\n\n/**\n * A \"tap\" gesture.\n * @typedef {{\n *   clientX: number,\n *   clientY: number\n * }}\n */\nlet TapDef;\n\n\n/**\n * Recognizes \"tap\" gestures.\n * @extends {GestureRecognizer<TapDef>}\n */\nexport class TapRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('tap', manager);\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {?EventTarget} */\n    this.target_ = null;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    const {touches} = e;\n    this.target_ = e.target;\n    if (touches && touches.length == 1) {\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const touches = e.changedTouches || e.touches;\n    if (touches && touches.length == 1) {\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      const dx = Math.abs(this.lastX_ - this.startX_) >= 8;\n      const dy = Math.abs(this.lastY_ - this.startY_) >= 8;\n      if (dx || dy) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /** @override */\n  onTouchEnd(unusedE) {\n    this.signalReady(0);\n  }\n\n  /** @override */\n  acceptStart() {\n    this.signalEmit({\n      clientX: this.lastX_,\n      clientY: this.lastY_,\n      target: this.target_,\n    }, null);\n    this.signalEnd();\n  }\n}\n\n\n\n/**\n * A \"doubletap\" gesture.\n * @typedef {{\n *   clientX: number,\n *   clientY: number\n * }}\n */\nlet DoubletapDef;\n\n\n/**\n * Recognizes a \"doubletap\" gesture. This gesture will block a single \"tap\"\n * for about 300ms while it's expecting the second \"tap\".\n * @extends {GestureRecognizer<DoubletapDef>}\n */\nexport class DoubletapRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('doubletap', manager);\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {number} */\n    this.tapCount_ = 0;\n\n    /** @private {?Event} */\n    this.event_ = null;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    if (this.tapCount_ > 1) {\n      return false;\n    }\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      const dx = Math.abs(this.lastX_ - this.startX_) >= 8;\n      const dy = Math.abs(this.lastY_ - this.startY_) >= 8;\n      if (dx || dy) {\n        this.acceptCancel();\n        return false;\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    this.tapCount_++;\n    if (this.tapCount_ < 2) {\n      this.signalPending(300);\n    } else {\n      this.event_ = e;\n      this.signalReady(0);\n    }\n  }\n\n  /** @override */\n  acceptStart() {\n    this.tapCount_ = 0;\n    this.signalEmit({clientX: this.lastX_, clientY: this.lastY_}, this.event_);\n    this.signalEnd();\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.tapCount_ = 0;\n  }\n}\n\n\n\n/**\n * A \"swipe-xy\", \"swipe-x\" or \"swipe-y\" gesture. A number of these gestures\n * may be emitted for a single touch series.\n * @typedef {{\n *   first: boolean,\n *   last: boolean,\n *   deltaX: number,\n *   deltaY: number,\n *   velocityX: number,\n *   velocityY: number\n * }}\n */\nexport let SwipeDef;\n\n\n/**\n * Recognizes swipe gestures. This gesture will yield about 10ms to other\n * gestures.\n * @extends {GestureRecognizer<SwipeDef>}\n */\nclass SwipeRecognizer extends GestureRecognizer {\n  /**\n   * @param {string} type\n   * @param {!./gesture.Gestures} manager\n   * @param {boolean} horiz\n   * @param {boolean} vert\n   */\n  constructor(type, manager, horiz, vert) {\n    super(type, manager);\n\n    /** @private {boolean} */\n    this.horiz_ = horiz;\n\n    /** @private {boolean} */\n    this.vert_ = vert;\n\n    /** @private {boolean} */\n    this.eventing_ = false;\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {number} */\n    this.prevX_ = 0;\n\n    /** @private {number} */\n    this.prevY_ = 0;\n\n    /** @private {time} */\n    this.startTime_ = 0;\n\n    /** @private {time} */\n    this.lastTime_ = 0;\n\n    /** @private {time} */\n    this.prevTime_ = 0;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n\n    /** @private {number} */\n    this.velocityY_ = 0;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.startTime_ = Date.now();\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      const {clientX: x, clientY: y} = touches[0] ;\n      this.lastX_ = x;\n      this.lastY_ = y;\n      if (this.eventing_) {\n        this.emit_(false, false, e);\n      } else {\n        const dx = Math.abs(x - this.startX_);\n        const dy = Math.abs(y - this.startY_);\n        // Swipe is penalized slightly since it's one of the least demanding\n        // gesture, thus -10 in signalReady.\n        if (this.horiz_ && this.vert_) {\n          if (dx >= 8 || dy >= 8) {\n            this.signalReady(-10);\n          }\n        } else if (this.horiz_) {\n          if (dx >= 8 && dx > dy) {\n            this.signalReady(-10);\n          } else if (dy >= 8) {\n            return false;\n          }\n        } else if (this.vert_) {\n          if (dy >= 8 && dy > dx) {\n            this.signalReady(-10);\n          } else if (dx >= 8) {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    this.end_(e);\n  }\n\n  /** @override */\n  acceptStart() {\n    this.eventing_ = true;\n    // Reset start coordinates to where the gesture began to avoid visible\n    // jump, but preserve them as \"prev\" coordinates to calculate the right\n    // velocity.\n    this.prevX_ = this.startX_;\n    this.prevY_ = this.startY_;\n    this.prevTime_ = this.startTime_;\n    this.startX_ = this.lastX_;\n    this.startY_ = this.lastY_;\n    this.emit_(true, false, null);\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.eventing_ = false;\n  }\n\n  /**\n   * @param {boolean} first\n   * @param {boolean} last\n   * @param {?Event} event\n   * @private\n   */\n  emit_(first, last, event) {\n    this.lastTime_ = Date.now();\n    const deltaTime = this.lastTime_ - this.prevTime_;\n    // It's often that `touchend` arrives on the next frame. These should\n    // be ignored to avoid a significant velocity downgrade.\n    if ((!last && deltaTime > 4) || (last && deltaTime > 16)) {\n      this.velocityX_ = calcVelocity(this.lastX_ - this.prevX_, deltaTime,\n          this.velocityX_);\n      this.velocityY_ = calcVelocity(this.lastY_ - this.prevY_, deltaTime,\n          this.velocityY_);\n      this.velocityX_ = Math.abs(this.velocityX_) > 1e-4 ? this.velocityX_ : 0;\n      this.velocityY_ = Math.abs(this.velocityY_) > 1e-4 ? this.velocityY_ : 0;\n      this.prevX_ = this.lastX_;\n      this.prevY_ = this.lastY_;\n      this.prevTime_ = this.lastTime_;\n    }\n\n    this.signalEmit({\n      first,\n      last,\n      time: this.lastTime_,\n      deltaX: this.horiz_ ? this.lastX_ - this.startX_ : 0,\n      deltaY: this.vert_ ? this.lastY_ - this.startY_ : 0,\n      startX: this.startX_,\n      startY: this.startY_,\n      lastX: this.lastX_,\n      lastY: this.lastY_,\n      velocityX: this.horiz_ ? this.velocityX_ : 0,\n      velocityY: this.vert_ ? this.velocityY_ : 0,\n    }, event);\n  }\n\n  /**\n   * @param {?Event} event\n   * @private\n   */\n  end_(event) {\n    if (this.eventing_) {\n      this.eventing_ = false;\n      this.emit_(false, true, event);\n      this.signalEnd();\n    }\n  }\n}\n\n\n/**\n * Recognizes \"swipe-xy\" gesture. Yields about 10ms to other gestures.\n */\nexport class SwipeXYRecognizer extends SwipeRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('swipe-xy', manager, true, true);\n  }\n}\n\n\n/**\n * Recognizes \"swipe-x\" gesture. Yields about 10ms to other gestures.\n */\nexport class SwipeXRecognizer extends SwipeRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('swipe-x', manager, true, false);\n  }\n}\n\n\n/**\n * Recognizes \"swipe-y\" gesture. Yields about 10ms to other gestures.\n */\nexport class SwipeYRecognizer extends SwipeRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('swipe-y', manager, false, true);\n  }\n}\n\n\n\n/**\n * A \"tapzoom\" gesture. It has a center, delta off the center center and\n * the velocity of moving away from the center.\n * @typedef {{\n *   first: boolean,\n *   last: boolean,\n *   centerClientX: number,\n *   centerClientY: number,\n *   deltaX: number,\n *   deltaY: number,\n *   velocityX: number,\n *   velocityY: number\n * }}\n */\nlet TapzoomDef;\n\n\n/**\n * Recognizes a \"tapzoom\" gesture. This gesture will block other gestures\n * for about 400ms after first \"tap\" while it's expecting swipe.\n * @extends {GestureRecognizer<TapzoomDef>}\n */\nexport class TapzoomRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('tapzoom', manager);\n\n    /** @private {boolean} */\n    this.eventing_ = false;\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {number} */\n    this.tapCount_ = 0;\n\n    /** @private {number} */\n    this.prevX_ = 0;\n\n    /** @private {number} */\n    this.prevY_ = 0;\n\n    /** @private {time} */\n    this.lastTime_ = 0;\n\n    /** @private {time} */\n    this.prevTime_ = 0;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n\n    /** @private {number} */\n    this.velocityY_ = 0;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    if (this.eventing_) {\n      return false;\n    }\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      if (this.eventing_) {\n        this.emit_(false, false, e);\n      } else {\n        const dx = Math.abs(this.lastX_ - this.startX_) >= 8;\n        const dy = Math.abs(this.lastY_ - this.startY_) >= 8;\n        if (dx || dy) {\n          if (this.tapCount_ == 0) {\n            this.acceptCancel();\n            return false;\n          } else {\n            this.signalReady(0);\n          }\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    if (this.eventing_) {\n      this.end_(e);\n      return;\n    }\n\n    this.tapCount_++;\n    if (this.tapCount_ == 1) {\n      this.signalPending(400);\n      return;\n    }\n\n    this.acceptCancel();\n  }\n\n  /** @override */\n  acceptStart() {\n    this.tapCount_ = 0;\n    this.eventing_ = true;\n    this.emit_(true, false, null);\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.tapCount_ = 0;\n    this.eventing_ = false;\n  }\n\n  /**\n   * @param {boolean} first\n   * @param {boolean} last\n   * @param {?Event} event\n   * @private\n   */\n  emit_(first, last, event) {\n    this.lastTime_ = Date.now();\n    if (first) {\n      this.velocityX_ = this.velocityY_ = 0;\n    } else if (this.lastTime_ - this.prevTime_ > 2) {\n      this.velocityX_ = calcVelocity(this.lastX_ - this.prevX_,\n          this.lastTime_ - this.prevTime_, this.velocityX_);\n      this.velocityY_ = calcVelocity(this.lastY_ - this.prevY_,\n          this.lastTime_ - this.prevTime_, this.velocityY_);\n    }\n    this.prevX_ = this.lastX_;\n    this.prevY_ = this.lastY_;\n    this.prevTime_ = this.lastTime_;\n\n    this.signalEmit({\n      first,\n      last,\n      centerClientX: this.startX_,\n      centerClientY: this.startY_,\n      deltaX: this.lastX_ - this.startX_,\n      deltaY: this.lastY_ - this.startY_,\n      velocityX: this.velocityX_,\n      velocityY: this.velocityY_,\n    }, event);\n  }\n\n  /**\n   * @param {?Event} event\n   * @private\n   */\n  end_(event) {\n    if (this.eventing_) {\n      this.eventing_ = false;\n      this.emit_(false, true, event);\n      this.signalEnd();\n    }\n  }\n}\n\n\n\n/**\n * A \"pinch\" gesture. It has a center, delta off the center center and\n * the velocity of moving away from the center. \"dir\" component of `1`\n * indicates that it's a expand motion and `-1` indicates pinch motion.\n * @typedef {{\n *   first: boolean,\n *   last: boolean,\n *   centerClientX: number,\n *   centerClientY: number,\n *   dir: number,\n *   deltaX: number,\n *   deltaY: number,\n *   velocityX: number,\n *   velocityY: number\n * }}\n */\nlet PinchDef;\n\n/**\n * Threshold in pixels for how much two touches move away from\n * each other before we recognize the gesture as a pinch.\n */\nconst PINCH_ACCEPT_THRESHOLD = 4;\n\n/**\n * Threshold in pixels for how much two touches move in the same\n * direction before we reject the gesture as a pinch.\n */\nconst PINCH_REJECT_THRESHOLD = 10;\n\n/**\n * Recognizes a \"pinch\" gesture.\n * @extends {GestureRecognizer<PinchDef>}\n */\nexport class PinchRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('pinch', manager);\n\n    /** @private {boolean} */\n    this.eventing_ = false;\n\n    /** @private {number} */\n    this.startX1_ = 0;\n    /** @private {number} */\n    this.startY1_ = 0;\n\n    /** @private {number} */\n    this.startX2_ = 0;\n    /** @private {number} */\n    this.startY2_ = 0;\n\n    /** @private {number} */\n    this.lastX1_ = 0;\n    /** @private {number} */\n    this.lastY1_ = 0;\n\n    /** @private {number} */\n    this.lastX2_ = 0;\n    /** @private {number} */\n    this.lastY2_ = 0;\n\n    /** @private {number} */\n    this.prevDeltaX_ = 0;\n    /** @private {number} */\n    this.prevDeltaY_ = 0;\n\n    /** @private {number} */\n    this.centerClientX_ = 0;\n    /** @private {number} */\n    this.centerClientY_ = 0;\n\n    /** @private {time} */\n    this.startTime_ = 0;\n    /** @private {time} */\n    this.lastTime_ = 0;\n    /** @private {time} */\n    this.prevTime_ = 0;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n    /** @private {number} */\n    this.velocityY_ = 0;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    const {touches} = e;\n    // Pinch touches are not always simultaneous, continue to listen\n    // for second touch.\n    if (touches && touches.length == 1) {\n      return true;\n    } else if (touches && touches.length == 2) {\n      this.startTime_ = Date.now();\n      this.startX1_ = touches[0].clientX;\n      this.startY1_ = touches[0].clientY;\n      this.startX2_ = touches[1].clientX;\n      this.startY2_ = touches[1].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    // Pinch touches are not always simultaneous, continue to listen\n    // for second touch.\n    if (touches && touches.length == 1) {\n      return true;\n    } else if (touches && touches.length == 2) {\n      this.lastX1_ = touches[0].clientX;\n      this.lastY1_ = touches[0].clientY;\n      this.lastX2_ = touches[1].clientX;\n      this.lastY2_ = touches[1].clientY;\n      if (this.eventing_) {\n        this.emit_(false, false, e);\n      } else {\n        const dx1 = this.lastX1_ - this.startX1_;\n        const dy1 = this.lastY1_ - this.startY1_;\n        const dx2 = this.lastX2_ - this.startX2_;\n        const dy2 = this.lastY2_ - this.startY2_;\n        // Fingers should move in opposite directions and go over the threshold.\n        if (dx1 * dx2 <= 0 && dy1 * dy2 <= 0) {\n          if (Math.abs(dx1 - dx2) >= PINCH_ACCEPT_THRESHOLD\n            || Math.abs(dy1 - dy2) >= PINCH_ACCEPT_THRESHOLD) {\n            this.signalReady(0);\n          }\n        } else if (Math.abs(dx1 + dx2) >= PINCH_REJECT_THRESHOLD\n          || Math.abs(dy1 + dy2) >= PINCH_REJECT_THRESHOLD) {\n          // Moving in the same direction over a threshold.\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    this.end_(e);\n  }\n\n  /** @override */\n  acceptStart() {\n    this.eventing_ = true;\n    this.prevTime_ = this.startTime_;\n    this.prevDeltaX_ = 0;\n    this.prevDeltaY_ = 0;\n    this.centerClientX_ = (this.startX1_ + this.startX2_) * 0.5;\n    this.centerClientY_ = (this.startY1_ + this.startY2_) * 0.5;\n    this.emit_(true, false, null);\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.eventing_ = false;\n  }\n\n  /**\n   * @param {boolean} first\n   * @param {boolean} last\n   * @param {?Event} event\n   * @private\n   */\n  emit_(first, last, event) {\n    this.lastTime_ = Date.now();\n    const deltaTime = this.lastTime_ - this.prevTime_;\n    const deltaX = this.deltaX_();\n    const deltaY = this.deltaY_();\n    // It's often that `touchend` arrives on the next frame. These should\n    // be ignored to avoid a significant velocity downgrade.\n    if ((!last && deltaTime > 4) || (last && deltaTime > 16)) {\n      this.velocityX_ = calcVelocity(deltaX - this.prevDeltaX_, deltaTime,\n          this.velocityX_);\n      this.velocityY_ = calcVelocity(deltaY - this.prevDeltaY_, deltaTime,\n          this.velocityY_);\n      this.velocityX_ = Math.abs(this.velocityX_) > 1e-4 ? this.velocityX_ : 0;\n      this.velocityY_ = Math.abs(this.velocityY_) > 1e-4 ? this.velocityY_ : 0;\n      this.prevDeltaX_ = deltaX;\n      this.prevDeltaY_ = deltaY;\n      this.prevTime_ = this.lastTime_;\n    }\n\n    const startSq = this.sqDist_(this.startX1_, this.startX2_,\n        this.startY1_, this.startY2_);\n    const lastSq = this.sqDist_(this.lastX1_, this.lastX2_,\n        this.lastY1_, this.lastY2_);\n    this.signalEmit({\n      first,\n      last,\n      time: this.lastTime_,\n      centerClientX: this.centerClientX_,\n      centerClientY: this.centerClientY_,\n      dir: Math.sign(lastSq - startSq),\n      deltaX: deltaX * 0.5,\n      deltaY: deltaY * 0.5,\n      velocityX: this.velocityX_ * 0.5,\n      velocityY: this.velocityY_ * 0.5,\n    }, event);\n  }\n\n  /**\n   * @param {?Event} event\n   * @private\n   */\n  end_(event) {\n    if (this.eventing_) {\n      this.eventing_ = false;\n      this.emit_(false, true, event);\n      this.signalEnd();\n    }\n  }\n\n  /**\n   * @param {number} x1\n   * @param {number} x2\n   * @param {number} y1\n   * @param {number} y2\n   * @return {number}\n   * @private\n   */\n  sqDist_(x1, x2, y1, y2) {\n    return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  deltaX_() {\n    return Math.abs((this.lastX1_ - this.startX1_) -\n        (this.lastX2_ - this.startX2_));\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  deltaY_() {\n    return Math.abs((this.lastY1_ - this.startY1_) -\n        (this.lastY2_ - this.startY2_));\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Observable} from './observable';\nimport {Pass} from './pass';\nimport {dev} from './log';\nimport {findIndex} from './utils/array';\nimport {toWin} from './types';\n\n\nconst PROP_ = '__AMP_Gestures';\n\n\n/**\n * A gesture object contains the type and data of the gesture such as\n * a tap or a double-tap or a swipe. See {@link GestureRecognizer} for\n * more details.\n * @struct\n * @const\n * @template DATA\n */\nexport class Gesture {\n  /**\n   * @param {string} type The gesture's string type.\n   * @param {DATA} data The data of the gesture.\n   * @param {time} time The time that the gesture has been emitted.\n   * @param {?Event} event An optional browser event that resulted in the\n   *   gesture.\n   */\n  constructor(type, data, time, event) {\n    /** @const {string} */\n    this.type = type;\n    /** @const {DATA} */\n    this.data = data;\n    /** @const {time} */\n    this.time = time;\n    /** @const {?Event} */\n    this.event = event;\n  }\n}\n\n\n/**\n * Gestures object manages all gestures on a particular element. It listens\n * to all pointer events and delegates them to individual gesture recognizers.\n * When a recognizer has recognized a gesture and ready to start emitting it\n * it requests permission to do so from this class which resolves conflicts\n * between competing recognizers to decide which gesture should go forward.\n */\nexport class Gestures {\n\n  /**\n   * Creates if not yet created and returns the shared Gestures instance for\n   * the specified element.\n   * @param {!Element} element\n   * @param {boolean=} opt_shouldNotPreventDefault\n   * @return {!Gestures}\n   */\n  static get(element, opt_shouldNotPreventDefault = false) {\n    let res = element[PROP_];\n    if (!res) {\n      res = new Gestures(element, opt_shouldNotPreventDefault);\n      element[PROP_] = res;\n    }\n    return res;\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {boolean} shouldNotPreventDefault\n   */\n  constructor(element, shouldNotPreventDefault) {\n    /** @private {!Element} */\n    this.element_ = element;\n\n    /** @private {!Array<!GestureRecognizer>} */\n    this.recognizers_ = [];\n\n    /** @private {!Array<boolean>} */\n    this.tracking_ = [];\n\n    /** @private {!Array<time>} */\n    this.ready_ = [];\n\n    /** @private {!Array<time>} */\n    this.pending_ = [];\n\n    /** @private {?GestureRecognizer} */\n    this.eventing_ = null;\n\n    /** @private {boolean} */\n    this.shouldNotPreventDefault_ = shouldNotPreventDefault;\n\n    /**\n     * This variable indicates that the eventing has stopped on this\n     * event cycle.\n     * @private {boolean}\n     */\n    this.wasEventing_ = false;\n\n    /** @private {!Pass} */\n    this.pass_ = new Pass(toWin(element.ownerDocument.defaultView),\n        this.doPass_.bind(this));\n\n    /** @private {!Observable} */\n    this.pointerDownObservable_ = new Observable();\n\n    /**\n     * Observers for each type of registered gesture types.\n     * @private {!Object<string, !Observable<!Gesture>>}\n     */\n    this.overservers_ = Object.create(null);\n\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchStart_ = this.onTouchStart_.bind(this);\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchEnd_ = this.onTouchEnd_.bind(this);\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchMove_ = this.onTouchMove_.bind(this);\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchCancel_ = this.onTouchCancel_.bind(this);\n\n    this.element_.addEventListener('touchstart', this.boundOnTouchStart_);\n    this.element_.addEventListener('touchend', this.boundOnTouchEnd_);\n    this.element_.addEventListener('touchmove', this.boundOnTouchMove_);\n    this.element_.addEventListener('touchcancel', this.boundOnTouchCancel_);\n\n    /** @private {boolean} */\n    this.passAfterEvent_ = false;\n  }\n\n  /**\n   * Unsubscribes from all pointer events and removes the shared cache instance.\n   */\n  cleanup() {\n    this.element_.removeEventListener('touchstart', this.boundOnTouchStart_);\n    this.element_.removeEventListener('touchend', this.boundOnTouchEnd_);\n    this.element_.removeEventListener('touchmove', this.boundOnTouchMove_);\n    this.element_.removeEventListener('touchcancel', this.boundOnTouchCancel_);\n    delete this.element_[PROP_];\n    this.pass_.cancel();\n  }\n\n  /**\n   * Subscribes to a gesture emitted by the specified recognizer. For a first\n   * gesture handler registered in this method the recognizer is installed\n   * and from that point on it participates in the event processing.\n   *\n   * @param {function(new:GestureRecognizer<DATA>, !Gestures)} recognizerConstr\n   * @param {function(!Gesture<DATA>)} handler\n   * @return {!UnlistenDef}\n   * @template DATA\n   */\n  onGesture(recognizerConstr, handler) {\n    const recognizer = new recognizerConstr(this);\n    const type = recognizer.getType();\n    let overserver = this.overservers_[type];\n    if (!overserver) {\n      this.recognizers_.push(recognizer);\n      overserver = new Observable();\n      this.overservers_[type] = overserver;\n    }\n    return overserver.add(handler);\n  }\n\n  /**\n   * Unsubscribes all handlers from the given gesture recognizer. Returns\n   * true if anything was done. Returns false if there were no handlers\n   * registered on the given gesture recognizer in first place.\n   *\n   * @param {function(new:GestureRecognizer<DATA>, !Gestures)} recognizerConstr\n   * @return {boolean}\n   */\n  removeGesture(recognizerConstr) {\n    const type = new recognizerConstr(this).getType();\n    const overserver = this.overservers_[type];\n    if (overserver) {\n      overserver.removeAll();\n      const index = findIndex(this.recognizers_, e => e.getType() == type);\n      if (index < 0) {\n        return false;\n      }\n      // Remove the recognizer as well as all associated tracking state\n      this.recognizers_.splice(index, 1);\n      this.ready_.splice(index, 1);\n      this.pending_.splice(index, 1);\n      this.tracking_.splice(index, 1);\n      delete this.overservers_[type];\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Subscribes to pointer down events, such as \"touchstart\" or \"mousedown\".\n   * @param {!Function} handler\n   * @return {!UnlistenDef}\n   */\n  onPointerDown(handler) {\n    return this.pointerDownObservable_.add(handler);\n  }\n\n  /**\n   * Handles all \"touchstart\" events and dispatches them to the tracking\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchStart_(event) {\n    const now = Date.now();\n    this.wasEventing_ = false;\n\n    this.pointerDownObservable_.fire(event);\n\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.ready_[i]) {\n        // If the recognizer is in the \"ready\" state, it won't receive\n        // any more touch series until it's allowed to emit.\n        continue;\n      }\n      if (this.pending_[i] && this.pending_[i] < now) {\n        // Pending state expired. Reset.\n        this.stopTracking_(i);\n      }\n      if (this.recognizers_[i].onTouchStart(event)) {\n        // When a recognizer is interested in the touch series it returns \"true\"\n        // from its onTouchStart method. For this recognizer we start tracking\n        // the whole series of touch events from touchstart to touchend. Other\n        // recognizers will not receive them unless they return \"true\" from\n        // onTouchStart.\n        this.startTracking_(i);\n      }\n    }\n\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Handles all \"touchmove\" events and dispatches them to the tracking\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchMove_(event) {\n    const now = Date.now();\n\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (!this.tracking_[i]) {\n        // The whole touch series are ignored for non-tracking recognizers.\n        continue;\n      }\n      if (this.pending_[i] && this.pending_[i] < now) {\n        // Pending state expired. Reset.\n        this.stopTracking_(i);\n        continue;\n      }\n      if (!this.recognizers_[i].onTouchMove(event)) {\n        // Recognizer lost interest in the series. Reset.\n        this.stopTracking_(i);\n      }\n    }\n\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Handles all \"touchend\" events and dispatches them to the tracking\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchEnd_(event) {\n    const now = Date.now();\n\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (!this.tracking_[i]) {\n        // The whole touch series are ignored for non-tracking recognizers.\n        continue;\n      }\n      if (this.pending_[i] && this.pending_[i] < now) {\n        // Pending state expired. Reset.\n        this.stopTracking_(i);\n        continue;\n      }\n      this.recognizers_[i].onTouchEnd(event);\n      if (!this.pending_[i] || this.pending_[i] < now) {\n        this.stopTracking_(i);\n      }\n    }\n\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Handles all \"touchcancel\" events. Cancels all tracking/emitting\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchCancel_(event) {\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      this.cancelEventing_(i);\n    }\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Callback for a gesture recognizer to communicate that it's ready to\n   * start emitting gestures. Gestures instance may or may not allow the\n   * recognizer to proceed.\n   * @param {!GestureRecognizer} recognizer\n   * @param {number} offset\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalReady_(recognizer, offset) {\n    // Somebody got here first.\n    if (this.eventing_) {\n      recognizer.acceptCancel();\n      return;\n    }\n\n    // Set the recognizer as ready and wait for the pass to\n    // make the decision.\n    const now = Date.now();\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.recognizers_[i] == recognizer) {\n        this.ready_[i] = now + offset;\n        this.pending_[i] = 0;\n      }\n    }\n    this.passAfterEvent_ = true;\n  }\n\n  /**\n   * Callback for a gesture recognizer to communicate that it's close to\n   * start emitting gestures, but needs more time to see more events. Once\n   * this time expires the recognizer should either signal readiness or it\n   * will be canceled.\n   * @param {!GestureRecognizer} recognizer\n   * @param {number} timeLeft\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalPending_(recognizer, timeLeft) {\n    // Somebody got here first.\n    if (this.eventing_) {\n      recognizer.acceptCancel();\n      return;\n    }\n\n    const now = Date.now();\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.recognizers_[i] == recognizer) {\n        this.pending_[i] = now + timeLeft;\n      }\n    }\n  }\n\n  /**\n   * Callback for a gesture recognizer to communicate that it's done\n   * emitting gestures.\n   * @param {!GestureRecognizer} recognizer\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalEnd_(recognizer) {\n    if (this.eventing_ == recognizer) {\n      this.eventing_ = null;\n      this.wasEventing_ = true;\n    }\n  }\n\n  /**\n   * Callback for a gesture emit the gesture. Only the currently emitting\n   * recognizer is allowed to emit gestures.\n   * @param {!GestureRecognizer} recognizer\n   * @param {*} data\n   * @param {?Event} event\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalEmit_(recognizer, data, event) {\n    dev().assert(this.eventing_ == recognizer,\n        'Recognizer is not currently allowed: %s', recognizer.getType());\n    const overserver = this.overservers_[recognizer.getType()];\n    if (overserver) {\n      overserver.fire(new Gesture(recognizer.getType(), data, Date.now(),\n          event));\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   * @private\n   */\n  afterEvent_(event) {\n    let cancelEvent = !!this.eventing_ || this.wasEventing_;\n    this.wasEventing_ = false;\n    if (!cancelEvent) {\n      const now = Date.now();\n      for (let i = 0; i < this.recognizers_.length; i++) {\n        if (this.ready_[i] ||\n                (this.pending_[i] && this.pending_[i] >= now)) {\n          cancelEvent = true;\n          break;\n        }\n      }\n    }\n    if (cancelEvent) {\n      event.stopPropagation();\n      if (!this.shouldNotPreventDefault_) {\n        event.preventDefault();\n      }\n    }\n    if (this.passAfterEvent_) {\n      this.passAfterEvent_ = false;\n      this.doPass_();\n    }\n  }\n\n  /**\n   * The pass that decides which recognizers can start emitting and which\n   * are canceled.\n   * @private\n   */\n  doPass_() {\n    const now = Date.now();\n\n    // The \"most ready\" recognizer is the youngest in the \"ready\" set.\n    // Otherwise we wouldn't wait for it at all.\n    let readyIndex = -1;\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (!this.ready_[i]) {\n        if (this.pending_[i] && this.pending_[i] < now) {\n          // Pending state expired. Reset.\n          this.stopTracking_(i);\n        }\n        continue;\n      }\n      if (readyIndex == -1 || this.ready_[i] > this.ready_[readyIndex]) {\n        readyIndex = i;\n      }\n    }\n\n    if (readyIndex == -1) {\n      // Nothing to do.\n      return;\n    }\n\n    // Look for conflicts.\n    let waitTime = 0;\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.ready_[i] || !this.tracking_[i]) {\n        continue;\n      }\n      waitTime = Math.max(waitTime, this.pending_[i] - now);\n    }\n\n    if (waitTime < 2) {\n      // We waited long enough.\n      this.startEventing_(readyIndex);\n      return;\n    }\n\n    // Some conflicts: have to wait to see who wins.\n    this.pass_.schedule(waitTime);\n  }\n\n  /**\n   * This recognizer is given \"go ahead\" and all others are canceled.\n   * @param {number} index\n   * @private\n   */\n  startEventing_(index) {\n    const recognizer = this.recognizers_[index];\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (i != index) {\n        this.cancelEventing_(i);\n      }\n    }\n    this.ready_[index] = 0;\n    this.pending_[index] = 0;\n    this.eventing_ = recognizer;\n    recognizer.acceptStart();\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  startTracking_(index) {\n    this.tracking_[index] = true;\n    this.pending_[index] = 0;\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  stopTracking_(index) {\n    this.tracking_[index] = false;\n    this.pending_[index] = 0;\n    if (!this.ready_[index]) {\n      this.recognizers_[index].acceptCancel();\n    }\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  cancelEventing_(index) {\n    this.ready_[index] = 0;\n    this.stopTracking_(index);\n  }\n}\n\n\n/**\n * The gesture recognizer receives the pointer events from Gestures instance.\n * Based on these events, it can \"recognize\" the gesture it's responsible for,\n * request to start emitting and emit gestures. Gestures instances manages\n * several competing recognizers and decides which ones get to emit gestures\n * and which do not.\n *\n * The recognizer can be in several main states:\n * 1. Tracking state. In this state the recognizer is receiving the series of\n *    touch events from touchstart to touchend. To get into this state the\n *    recognizer has to return \"true\" from the {@link onTouchStart}.\n * 2. Pending state (optional). The recognizer matched part of the gesture,\n *    but needs more time to get track more events. It requests more time\n *    by calling {@link signalPending}, By the end of this time the recognizer\n *    has either matched the gesture or has been canceled.\n * 3. Ready state. The recognizer matched the whole gesture and ready to start\n *    emitting. It communicates to the Gestures this readiness by calling\n *    {@link signalReady}.\n * 5. Emitting state. If Gestures decides to go ahead with this recognizer, it\n *    will call {@link acceptStart} method. Otherwise, it will call\n *    {@link acceptCancel} method. Once in the emitting state, the recognizer\n *    can emit any number of events by calling {@link signalEmit}.\n * 6. Complete state. Once done, the recognizer can call {@link signalEnd} to\n *    communicate that it's done.\n *\n * @template DATA\n */\nexport class GestureRecognizer {\n\n  /**\n   * @param {string} type\n   * @param {!Gestures} manager\n   */\n  constructor(type, manager) {\n    /** @private @const {string} */\n    this.type_ = type;\n\n    /** @private @const {!Gestures} */\n    this.manager_ = manager;\n  }\n\n  /**\n   * Returns the type of the gesture emitted by the instance of this class.\n   * It has to be unique in the scope of the Gestures instance.\n   * @return {string}\n   */\n  getType() {\n    return this.type_;\n  }\n\n  /**\n   * The recognizer can call this method to communicate that it's ready to\n   * start emitting the gesture. Optionally it can pass a zero, positive or\n   * negative offset - a time on how much the gesture should be penalized or\n   * given advantage in conflict resolution. The recognizer at this point is\n   * in the \"ready\" state.\n   * @param {time} offset\n   */\n  signalReady(offset) {\n    this.manager_.signalReady_(this, offset);\n  }\n\n  /**\n   * The recognizer can call this method to communicate that it needs more\n   * time (timeLeft) to match the gesture. By the end of this time the\n   * recognizer has to either transit to the ready state using\n   * {@link signalReady} or it will be canceled. The recognizer is in the\n   * \"pending\" state.\n   * @param {time} timeLeft\n   */\n  signalPending(timeLeft) {\n    this.manager_.signalPending_(this, timeLeft);\n  }\n\n  /**\n   * The recognizer can call this method to communicate that it's done\n   * emitting the gestures. It will return to the waiting state. Recognizer\n   * can only call this method if it has previously received the\n   * {@link acceptStart} call.\n   */\n  signalEnd() {\n    this.manager_.signalEnd_(this);\n  }\n\n  /**\n   * The recognizer can call this method to emit the gestures while in the\n   * \"emitting\" state. Recognizer can only call this method if it has\n   * previously received the {@link acceptStart} call.\n   * @param {DATA} data\n   * @param {?Event} event\n   */\n  signalEmit(data, event) {\n    this.manager_.signalEmit_(this, data, event);\n  }\n\n  /**\n   * The Gestures instance calls this method to allow the recognizer to start\n   * emitting the gestures. At this point the recognizer is in the \"emitting\"\n   * state. It will be in this state until it calls {@link signalEnd} or\n   * the {@link acceptCancel} is called by the Gestures instance.\n   */\n  acceptStart() {\n  }\n\n  /**\n   * The Gestures instance calls this method to reset the recognizer. At this\n   * point the recognizer is in the initial waiting state.\n   */\n  acceptCancel() {\n  }\n\n  /**\n   * The Gestures instance calls this method for each \"touchstart\" event. If\n   * the recognizer wants to receive other touch events in the series, it has\n   * to return \"true\".\n   * @param {!Event} unusedEvent\n   * @return {boolean}\n   */\n  onTouchStart(unusedEvent) {\n    return false;\n  }\n\n  /**\n   * The Gestures instance calls this method for each \"touchmove\" event. If\n   * the recognizer wants to continue receiving touch events in the series,\n   * it has to return \"true\".\n   * @param {!Event} unusedEvent\n   * @return {boolean}\n   */\n  onTouchMove(unusedEvent) {\n    return false;\n  }\n\n  /**\n   * The Gestures instance calls this method for the \"touchend\" event.\n   * Somewhere within this touch series the recognizer has to call\n   * {@link signalReady} or {@link signalPending} or it will be reset for the\n   * next touch series.\n   * @param {!Event} unusedEvent\n   */\n  onTouchEnd(unusedEvent) {\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This module declares JSON types as defined in the\n * {@link http://json.org/}.\n */\n\nimport {isObject} from './types';\n\n\n// NOTE Type are changed to {*} because of\n// https://github.com/google/closure-compiler/issues/1999\n\n/**\n * JSON scalar. It's either string, number or boolean.\n * @typedef {*} should be string|number|boolean\n */\nlet JSONScalarDef;\n\n\n/**\n * JSON object. It's a map with string keys and JSON values.\n * @typedef {*} should be !Object<string, ?JSONValueDef>\n */\nlet JSONObjectDef;\n\n\n/**\n * JSON array. It's an array with JSON values.\n * @typedef {*} should be !Array<?JSONValueDef>\n */\nlet JSONArrayDef;\n\n\n/**\n * JSON value. It's either a scalar, an object or an array.\n * @typedef {*} should be !JSONScalarDef|!JSONObjectDef|!JSONArrayDef\n */\nlet JSONValueDef;\n\n/**\n * Recreates objects with prototype-less copies.\n * @param {!JsonObject} obj\n * @return {!JsonObject}\n */\nexport function recreateNonProtoObject(obj) {\n  const copy = Object.create(null);\n  for (const k in obj) {\n    if (!hasOwnProperty(obj, k)) {\n      continue;\n    }\n    const v = obj[k];\n    copy[k] = isObject(v) ? recreateNonProtoObject(v) : v;\n  }\n  return /** @type {!JsonObject} */ (copy);\n}\n\n/**\n * Returns a value from an object for a field-based expression. The expression\n * is a simple nested dot-notation of fields, such as `field1.field2`. If any\n * field in a chain does not exist or is not an object or array, the returned\n * value will be `undefined`.\n *\n * @param {!JsonObject} obj\n * @param {string} expr\n * @return {*}\n */\nexport function getValueForExpr(obj, expr) {\n  // The `.` indicates \"the object itself\".\n  if (expr == '.') {\n    return obj;\n  }\n  // Otherwise, navigate via properties.\n  const parts = expr.split('.');\n  let value = obj;\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n    if (part &&\n        value &&\n        value[part] !== undefined &&\n        hasOwnProperty(value, part)\n    ) {\n      value = value[part];\n      continue;\n    }\n    value = undefined;\n    break;\n  }\n  return value;\n}\n\n/**\n * Simple wrapper around JSON.parse that casts the return value\n * to JsonObject.\n * Create a new wrapper if an array return value is desired.\n * @param {*} json JSON string to parse\n * @return {?JsonObject} May be extend to parse arrays.\n */\nexport function parseJson(json) {\n  return /** @type {?JsonObject} */(JSON.parse(/** @type {string} */ (json)));\n}\n\n/**\n * Parses the given `json` string without throwing an exception if not valid.\n * Returns `undefined` if parsing fails.\n * Returns the `Object` corresponding to the JSON string when parsing succeeds.\n * @param {*} json JSON string to parse\n * @param {function(!Error)=} opt_onFailed Optional function that will be called\n *     with the error if parsing fails.\n * @return {?JsonObject|undefined} May be extend to parse arrays.\n */\nexport function tryParseJson(json, opt_onFailed) {\n  try {\n    return parseJson(json);\n  } catch (e) {\n    if (opt_onFailed) {\n      opt_onFailed(e);\n    }\n    return undefined;\n  }\n}\n\n/**\n * Recursively checks strict equality of items in nested arrays and objects.\n *\n * @param {JSONValueDef} a\n * @param {JSONValueDef} b\n * @param {number} depth The maximum recursion depth. Must be finite.\n * @return {boolean}\n * @throws {Error} If depth argument is not finite.\n */\nexport function recursiveEquals(a, b, depth = 3) {\n  if (!isFinite(depth)) {\n    throw new Error('depth arg must be finite: ' + depth);\n  }\n  if (a === b) {\n    return true;\n  }\n  // Only check shallow equality for depth < 1.\n  if (depth < 1) {\n    return false;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!recursiveEquals(a[i], b[i], depth - 1)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const keysA = Object.keys(/** @type {!Object} */ (a));\n    const keysB = Object.keys(/** @type {!Object} */ (b));\n    if (keysA.length !== keysB.length) {\n      return false;\n    }\n    for (let i = 0; i < keysA.length; i++) {\n      const keyA = keysA[i];\n      const valueA = a[keyA];\n      const valueB = b[keyA];\n      if (!recursiveEquals(valueA, valueB, depth - 1)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\n\n/**\n * @param {*} obj\n * @param {string} key\n * @return {boolean}\n */\nfunction hasOwnProperty(obj, key) {\n  if (obj == null || typeof obj != 'object') {\n    return false;\n  }\n  return Object.prototype.hasOwnProperty.call(\n      /** @type {!Object} */ (obj), key);\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The structure that combines position and size for an element. The exact\n * interpretation of position and size depends on the use case.\n *\n * @typedef {{\n *   top: number,\n *   bottom: number,\n *   left: number,\n *   right: number,\n *   width: number,\n *   height: number,\n *   x: number,\n *   y: number\n * }}\n */\nexport let LayoutRectDef;\n\n\n/**\n * The structure that represents the margins of an Element.\n *\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n */\nexport let LayoutMarginsDef;\n\n\n/**\n * The structure that represents a requested change to the margins of an\n * Element. Any new values specified will replace existing ones (rather than\n * being additive).\n *\n * @typedef {{\n *   top: (number|undefined),\n *   right: (number|undefined),\n *   bottom: (number|undefined),\n *   left: (number|undefined)\n * }}\n */\nexport let LayoutMarginsChangeDef;\n\n/**\n* RelativePositions\n*\n* Describes the relative position of an element to another (whether the\n* first is inside the second, on top of the second or on the bottom\n* @enum {string}\n*/\nexport const RelativePositions = {\n  INSIDE: 'inside',\n  TOP: 'top',\n  BOTTOM: 'bottom',\n};\n\n/**\n * Creates a layout rect based on the left, top, width and height parameters\n * in that order.\n * @param {number} left\n * @param {number} top\n * @param {number} width\n * @param {number} height\n * @return {!LayoutRectDef}\n */\nexport function layoutRectLtwh(left, top, width, height) {\n  return {\n    left,\n    top,\n    width,\n    height,\n    bottom: top + height,\n    right: left + width,\n    x: left,\n    y: top,\n  };\n}\n\n\n/**\n * Creates a layout rect based on the DOMRect, e.g. obtained from calling\n * getBoundingClientRect.\n * @param {!ClientRect} rect\n * @return {!LayoutRectDef}\n */\nexport function layoutRectFromDomRect(rect) {\n  return layoutRectLtwh(Number(rect.left), Number(rect.top),\n      Number(rect.width), Number(rect.height));\n}\n\n/**\n * Returns true if the specified two rects overlap by a single pixel.\n * @param {!LayoutRectDef} r1\n * @param {!LayoutRectDef} r2\n * @return {boolean}\n */\nexport function layoutRectsOverlap(r1, r2) {\n  return (r1.top <= r2.bottom && r2.top <= r1.bottom &&\n      r1.left <= r2.right && r2.left <= r1.right);\n}\n\n\n/**\n * Returns the intersection between a, b or null if there is none.\n * @param {...?LayoutRectDef|undefined} var_args\n * @return {?LayoutRectDef}\n */\nexport function rectIntersection(var_args) {\n  let x0 = -Infinity;\n  let x1 = Infinity;\n  let y0 = -Infinity;\n  let y1 = Infinity;\n  for (let i = 0; i < arguments.length; i++) {\n    const current = arguments[i];\n    if (!current) {\n      continue;\n    }\n    x0 = Math.max(x0, current.left);\n    x1 = Math.min(x1, current.left + current.width);\n    y0 = Math.max(y0, current.top);\n    y1 = Math.min(y1, current.top + current.height);\n    if (x1 < x0 || y1 < y0) {\n      return null;\n    }\n  }\n  if (x1 == Infinity) {\n    return null;\n  }\n  return layoutRectLtwh(x0, y0, x1 - x0, y1 - y0);\n}\n\n/**\n * Returns the position of r2 relative to r1\n * @param {!LayoutRectDef} r1\n * @param {!LayoutRectDef} r2\n * @return {RelativePositions}\n */\nexport function layoutRectsRelativePos(r1, r2) {\n  if (r1.top < r2.top) {\n    return RelativePositions.TOP;\n  } else if (r1.bottom > r2.bottom) {\n    return RelativePositions.BOTTOM;\n  } else {\n    return RelativePositions.INSIDE;\n  }\n}\n\n/**\n * Expand the layout rect using multiples of width and height.\n * @param {!LayoutRectDef} rect Original rect.\n * @param {number} dw Expansion in width, specified as a multiple of width.\n * @param {number} dh Expansion in height, specified as a multiple of height.\n * @return {!LayoutRectDef}\n */\nexport function expandLayoutRect(rect, dw, dh) {\n  return layoutRectLtwh(rect.left - rect.width * dw,\n      rect.top - rect.height * dh,\n      rect.width * (1 + dw * 2),\n      rect.height * (1 + dh * 2));\n}\n\n/**\n * Moves the layout rect using dx and dy.\n * @param {!LayoutRectDef} rect Original rect.\n * @param {number} dx Move horizontally with this value.\n * @param {number} dy Move vertically with this value.\n * @return {!LayoutRectDef}\n */\nexport function moveLayoutRect(rect, dx, dy) {\n  if ((dx == 0 && dy == 0) ||\n      (rect.width == 0 && rect.height == 0)) {\n    return rect;\n  }\n  return layoutRectLtwh(rect.left + dx, rect.top + dy,\n      rect.width, rect.height);\n}\n\n\n/**\n * @param {!LayoutMarginsDef} margins\n * @param {!LayoutMarginsChangeDef} change\n * @return {boolean}\n */\nexport function areMarginsChanged(margins, change) {\n  return (change.top !== undefined && change.top != margins.top) ||\n      (change.right !== undefined && change.right != margins.right) ||\n      (change.bottom !== undefined && change.bottom != margins.bottom) ||\n      (change.left !== undefined && change.left != margins.left);\n}\n\n/**\n * @param {!LayoutRectDef} from\n * @param {!LayoutRectDef} to\n * @return {boolean}\n */\nexport function layoutRectSizeEquals(from, to) {\n  return from.width == to.width &&\n      from.height === to.height;\n}\n\n/**\n * @param {?LayoutRectDef} r1\n * @param {?LayoutRectDef} r2\n * @return {boolean}\n */\nexport function layoutRectEquals(r1, r2) {\n  if (!r1 || !r2) {\n    return false;\n  }\n  return r1.left == r2.left && r1.top == r2.top &&\n      r1.width == r2.width && r1.height == r2.height;\n}\n\n/**\n * @param {LayoutMarginsChangeDef|undefined} marginsChange\n * @return {LayoutMarginsChangeDef|undefined}\n */\nexport function cloneLayoutMarginsChangeDef(marginsChange) {\n  if (!marginsChange) {\n    return marginsChange;\n  }\n  return {\n    top: marginsChange.top,\n    bottom: marginsChange.bottom,\n    left: marginsChange.left,\n    right: marginsChange.right,\n  };\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Implements element layout. See https://goo.gl/9avXuT for\n * details.\n */\n\nimport {dev, user} from './log';\nimport {htmlFor} from './static-template';\nimport {isFiniteNumber} from './types';\nimport {setStyle, setStyles} from './style';\nimport {startsWith} from './string';\n\n/**\n * @enum {string}\n */\nexport const Layout = {\n  NODISPLAY: 'nodisplay',\n  FIXED: 'fixed',\n  FIXED_HEIGHT: 'fixed-height',\n  RESPONSIVE: 'responsive',\n  CONTAINER: 'container',\n  FILL: 'fill',\n  FLEX_ITEM: 'flex-item',\n  FLUID: 'fluid',\n  INTRINSIC: 'intrinsic',\n};\n\n\n/**\n * Layout priorities to use with BaseElement#getLayoutPriority() and\n * BaseElement#updateLayoutPriority().\n * @enum {number}\n */\nexport const LayoutPriority = {\n  CONTENT: 0,\n  METADATA: 1,\n  ADS: 2,\n  BACKGROUND: 3,\n};\n\n\n/**\n * CSS Length type. E.g. \"1px\" or \"20vh\".\n * @typedef {string}\n */\nexport let LengthDef;\n\n\n/**\n * @typedef {{\n *   width: string,\n *   height: string\n * }}\n */\nlet DimensionsDef;\n\n\n/**\n * The set of elements with natural dimensions, that is, elements\n * which have a known dimension either based on their value specified here,\n * or, if the value is null, a dimension specific to the browser.\n * `hasNaturalDimensions` checks for membership in this set.\n * `getNaturalDimensions` determines the dimensions for an element in the\n *    set and caches it.\n * @type {!Object<string, ?DimensionsDef>}\n * @private  Visible for testing only!\n */\nexport const naturalDimensions_ = {\n  'AMP-PIXEL': {width: '0px', height: '0px'},\n  'AMP-ANALYTICS': {width: '1px', height: '1px'},\n  // TODO(dvoytenko): audio should have width:auto.\n  'AMP-AUDIO': null,\n  'AMP-SOCIAL-SHARE': {width: '60px', height: '44px'},\n};\n\n\n/**\n * Elements that the progess can be shown for. This set has to be externalized\n * since the element's implementation may not be downloaded yet.\n * @enum {boolean}\n * @private  Visible for testing only!\n */\nexport const LOADING_ELEMENTS_ = {\n  'AMP-ANIM': true,\n  'AMP-BRIGHTCOVE': true,\n  'AMP-GOOGLE-DOCUMENT-EMBED': true,\n  'AMP-EMBED': true,\n  'AMP-FACEBOOK': true,\n  'AMP-FACEBOOK-COMMENTS': true,\n  'AMP-FACEBOOK-LIKE': true,\n  'AMP-FACEBOOK-PAGE': true,\n  'AMP-IFRAME': true,\n  'AMP-IMG': true,\n  'AMP-INSTAGRAM': true,\n  'AMP-LIST': true,\n  'AMP-OOYALA-PLAYER': true,\n  'AMP-PINTEREST': true,\n  'AMP-PLAYBUZZ': true,\n  'AMP-VIDEO': true,\n  'AMP-YOUTUBE': true,\n};\n\n\n/**\n * @param {string} s\n * @return {Layout|undefined} Returns undefined in case of failure to parse\n *   the layout string.\n */\nexport function parseLayout(s) {\n  for (const k in Layout) {\n    if (Layout[k] == s) {\n      return Layout[k];\n    }\n  }\n  return undefined;\n}\n\n\n/**\n * @param {!Layout} layout\n * @return {string}\n */\nexport function getLayoutClass(layout) {\n  return 'i-amphtml-layout-' + layout;\n}\n\n\n/**\n * Whether an element with this layout inherently defines the size.\n * @param {!Layout} layout\n * @return {boolean}\n */\nexport function isLayoutSizeDefined(layout) {\n  return (layout == Layout.FIXED ||\n      layout == Layout.FIXED_HEIGHT ||\n      layout == Layout.RESPONSIVE ||\n      layout == Layout.FILL ||\n      layout == Layout.FLEX_ITEM ||\n      layout == Layout.FLUID ||\n      layout == Layout.INTRINSIC);\n}\n\n\n/**\n * Whether the tag is an internal (service) AMP tag.\n * @param {!Node|string} tag\n * @return {boolean}\n */\nexport function isInternalElement(tag) {\n  const tagName = (typeof tag == 'string') ? tag : tag.tagName;\n  return tagName && startsWith(tagName.toLowerCase(), 'i-');\n}\n\n\n/**\n * Parses the CSS length value. If no units specified, the assumed value is\n * \"px\". Returns undefined in case of parsing error.\n * @param {string|undefined|null} s\n * @return {!LengthDef|undefined}\n */\nexport function parseLength(s) {\n  if (typeof s == 'number') {\n    return s + 'px';\n  }\n  if (!s) {\n    return undefined;\n  }\n  if (!/^\\d+(\\.\\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(s)) {\n    return undefined;\n  }\n  if (/^\\d+(\\.\\d+)?$/.test(s)) {\n    return s + 'px';\n  }\n  return s;\n}\n\n\n\n/**\n * Asserts that the supplied value is a non-percent CSS Length value.\n * @param {!LengthDef|string|null|undefined} length\n * @return {!LengthDef}\n */\nexport function assertLength(length) {\n  user().assert(\n      /^\\d+(\\.\\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test(length),\n      'Invalid length value: %s', length);\n  return /** @type {!LengthDef} */ (length);\n}\n\n\n\n\n/**\n * Asserts that the supplied value is a CSS Length value\n * (including percent unit).\n * @param {!LengthDef|string} length\n * @return {!LengthDef}\n */\nexport function assertLengthOrPercent(length) {\n  user().assert(/^\\d+(\\.\\d+)?(px|em|rem|vh|vw|vmin|vmax|%)$/.test(length),\n      'Invalid length or percent value: %s', length);\n  return length;\n}\n\n\n/**\n * Returns units from the CSS length value.\n * @param {!LengthDef|string|null|undefined} length\n * @return {string}\n */\nexport function getLengthUnits(length) {\n  assertLength(length);\n  dev().assertString(length);\n  const m = user().assert(length.match(/[a-z]+/i),\n      'Failed to read units from %s', length);\n  return m[0];\n}\n\n\n/**\n * Returns the numeric value of a CSS length value.\n * @param {!LengthDef|string|null|undefined} length\n * @return {number|undefined}\n */\nexport function getLengthNumeral(length) {\n  const res = parseFloat(length);\n  return isFiniteNumber(res) ? res : undefined;\n}\n\n\n/**\n * Determines whether the tagName is a known element that has natural dimensions\n * in our runtime or the browser.\n * @param {string} tagName The element tag name.\n * @return {boolean}\n */\nexport function hasNaturalDimensions(tagName) {\n  tagName = tagName.toUpperCase();\n  return naturalDimensions_[tagName] !== undefined;\n}\n\n\n/**\n * Determines the default dimensions for an element which could vary across\n * different browser implementations, like <audio> for instance.\n * This operation can only be completed for an element whitelisted by\n * `hasNaturalDimensions`.\n * @param {!Element} element\n * @return {DimensionsDef}\n */\nexport function getNaturalDimensions(element) {\n  const tagName = element.tagName.toUpperCase();\n  dev().assert(naturalDimensions_[tagName] !== undefined);\n  if (!naturalDimensions_[tagName]) {\n    const doc = element.ownerDocument;\n    const naturalTagName = tagName.replace(/^AMP\\-/, '');\n    const temp = doc.createElement(naturalTagName);\n    // For audio, should no-op elsewhere.\n    temp.controls = true;\n    setStyles(temp, {\n      position: 'absolute',\n      visibility: 'hidden',\n    });\n    doc.body.appendChild(temp);\n    naturalDimensions_[tagName] = {\n      width: (temp./*OK*/offsetWidth || 1) + 'px',\n      height: (temp./*OK*/offsetHeight || 1) + 'px',\n    };\n    doc.body.removeChild(temp);\n  }\n  return /** @type {DimensionsDef} */ (naturalDimensions_[tagName]);\n}\n\n\n/**\n * Whether the loading can be shown for the specified elemeent. This set has\n * to be externalized since the element's implementation may not be\n * downloaded yet.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isLoadingAllowed(element) {\n  const tagName = element.tagName.toUpperCase();\n  if (tagName == 'AMP-AD' || tagName == 'AMP-EMBED') {\n    return true;\n  }\n  return LOADING_ELEMENTS_[tagName] || false;\n}\n\n\n/**\n * Applies layout to the element. Visible for testing only.\n *\n * \\   \\  /  \\  /   / /   \\     |   _  \\     |  \\ |  | |  | |  \\ |  |  / _____|\n *  \\   \\/    \\/   / /  ^  \\    |  |_)  |    |   \\|  | |  | |   \\|  | |  |  __\n *   \\            / /  /_\\  \\   |      /     |  . `  | |  | |  . `  | |  | |_ |\n *    \\    /\\    / /  _____  \\  |  |\\  \\----.|  |\\   | |  | |  |\\   | |  |__| |\n *     \\__/  \\__/ /__/     \\__\\ | _| `._____||__| \\__| |__| |__| \\__|  \\______|\n *\n * The equivalent of this method is used for server-side rendering (SSR) and\n * any changes made to it must be made in coordination with caches that\n * implement SSR. For more information on SSR see bit.ly/amp-ssr.\n *\n * @param {!Element} element\n * @return {!Layout}\n */\nexport function applyStaticLayout(element) {\n  // Check if the layout has already been done by server-side rendering. The\n  // document may be visible to the user if the boilerplate was removed so\n  // please take care in making changes here.\n  const completedLayoutAttr = element.getAttribute('i-amphtml-layout');\n  if (completedLayoutAttr) {\n    const layout = /** @type {!Layout} */ (dev().assert(\n        parseLayout(completedLayoutAttr)));\n    if ((layout == Layout.RESPONSIVE || layout == Layout.INTRINSIC)\n      && element.firstElementChild) {\n      // Find sizer, but assume that it might not have been parsed yet.\n      element.sizerElement =\n          element.querySelector('i-amphtml-sizer') || undefined;\n    } else if (layout == Layout.NODISPLAY) {\n      applyNoDisplayLayout(element);\n    }\n    return layout;\n  }\n\n  // If the layout was already done by server-side rendering (SSR), then the\n  // code below will not run. Any changes below will necessitate a change to SSR\n  // and must be coordinated with caches that implement SSR. See bit.ly/amp-ssr.\n\n  // Parse layout from the element.\n  const layoutAttr = element.getAttribute('layout');\n  const widthAttr = element.getAttribute('width');\n  const heightAttr = element.getAttribute('height');\n  const sizesAttr = element.getAttribute('sizes');\n  const heightsAttr = element.getAttribute('heights');\n\n  // Input layout attributes.\n  const inputLayout = layoutAttr ? parseLayout(layoutAttr) : null;\n  user().assert(inputLayout !== undefined, 'Unknown layout: %s', layoutAttr);\n  /** @const {string|null|undefined} */\n  const inputWidth = (widthAttr && widthAttr != 'auto') ?\n    parseLength(widthAttr) : widthAttr;\n  user().assert(inputWidth !== undefined, 'Invalid width value: %s', widthAttr);\n  /** @const {string|null|undefined} */\n  const inputHeight = (heightAttr && heightAttr != 'fluid') ?\n    parseLength(heightAttr) : heightAttr;\n  user().assert(inputHeight !== undefined, 'Invalid height value: %s',\n      heightAttr);\n\n  // Effective layout attributes. These are effectively constants.\n  let width;\n  let height;\n  let layout;\n\n  // Calculate effective width and height.\n  if ((!inputLayout || inputLayout == Layout.FIXED ||\n      inputLayout == Layout.FIXED_HEIGHT) &&\n      (!inputWidth || !inputHeight) && hasNaturalDimensions(element.tagName)) {\n    // Default width and height: handle elements that do not specify a\n    // width/height and are defined to have natural browser dimensions.\n    const dimensions = getNaturalDimensions(element);\n    width = (inputWidth || inputLayout == Layout.FIXED_HEIGHT) ? inputWidth :\n      dimensions.width;\n    height = inputHeight || dimensions.height;\n  } else {\n    width = inputWidth;\n    height = inputHeight;\n  }\n\n  // Calculate effective layout.\n  if (inputLayout) {\n    layout = inputLayout;\n  } else if (!width && !height) {\n    layout = Layout.CONTAINER;\n  } else if (height == 'fluid') {\n    layout = Layout.FLUID;\n  } else if (height && (!width || width == 'auto')) {\n    layout = Layout.FIXED_HEIGHT;\n  } else if (height && width && (sizesAttr || heightsAttr)) {\n    layout = Layout.RESPONSIVE;\n  } else {\n    layout = Layout.FIXED;\n  }\n\n  // Verify layout attributes.\n  if (layout == Layout.FIXED || layout == Layout.FIXED_HEIGHT ||\n      layout == Layout.RESPONSIVE || layout == Layout.INTRINSIC) {\n    user().assert(height, 'Expected height to be available: %s', heightAttr);\n  }\n  if (layout == Layout.FIXED_HEIGHT) {\n    user().assert(!width || width == 'auto',\n        'Expected width to be either absent or equal \"auto\" ' +\n        'for fixed-height layout: %s', widthAttr);\n  }\n  if (layout == Layout.FIXED || layout == Layout.RESPONSIVE ||\n      layout == Layout.INTRINSIC) {\n    user().assert(width && width != 'auto',\n        'Expected width to be available and not equal to \"auto\": %s',\n        widthAttr);\n  }\n\n  if (layout == Layout.RESPONSIVE || layout == Layout.INTRINSIC) {\n    user().assert(getLengthUnits(width) == getLengthUnits(height),\n        'Length units should be the same for width and height: %s, %s',\n        widthAttr, heightAttr);\n  } else {\n    user().assert(heightsAttr === null,\n        'Unexpected \"heights\" attribute for none-responsive layout');\n  }\n\n  // Apply UI.\n  element.classList.add(getLayoutClass(layout));\n  if (isLayoutSizeDefined(layout)) {\n    element.classList.add('i-amphtml-layout-size-defined');\n  }\n  if (layout == Layout.NODISPLAY) {\n    // CSS defines layout=nodisplay automatically with `display:none`. Thus\n    // no additional styling is needed.\n    applyNoDisplayLayout(element);\n  } else if (layout == Layout.FIXED) {\n    setStyles(element, {\n      width: dev().assertString(width),\n      height: dev().assertString(height),\n    });\n  } else if (layout == Layout.FIXED_HEIGHT) {\n    setStyle(element, 'height', dev().assertString(height));\n  } else if (layout == Layout.RESPONSIVE) {\n    const sizer = element.ownerDocument.createElement('i-amphtml-sizer');\n    setStyles(sizer, {\n      display: 'block',\n      paddingTop:\n        ((getLengthNumeral(height) / getLengthNumeral(width)) * 100) + '%',\n    });\n    element.insertBefore(sizer, element.firstChild);\n    element.sizerElement = sizer;\n  } else if (layout == Layout.INTRINSIC) {\n    // Intrinsic uses an svg inside the sizer element rather than the padding\n    // trick Note a naked svg won't work becasue other thing expect the\n    // i-amphtml-sizer element\n    const sizer = htmlFor(element)`\n      <i-amphtml-sizer class=\"i-amphtml-sizer\">\n        <img class=\"i-amphtml-intrinsic-sizer\" />\n      </i-amphtml-sizer>`;\n    const intrinsicSizer = sizer.firstElementChild;\n    intrinsicSizer.setAttribute('src',\n        `data:image/svg+xml;charset=utf-8,<svg height=\"${height}\" width=\"${width}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`);\n    element.insertBefore(sizer, element.firstChild);\n    // TODO(jpettitt): sizer is leaked and can't be cleaned up.\n    element.sizerElement = intrinsicSizer;\n  } else if (layout == Layout.FILL) {\n    // Do nothing.\n  } else if (layout == Layout.CONTAINER) {\n    // Do nothing. Elements themselves will check whether the supplied\n    // layout value is acceptable. In particular container is only OK\n    // sometimes.\n  } else if (layout == Layout.FLEX_ITEM) {\n    // Set height and width to a flex item if they exist.\n    // The size set to a flex item could be overridden by `display: flex` later.\n    if (width) {\n      setStyle(element, 'width', width);\n    }\n    if (height) {\n      setStyle(element, 'height', height);\n    }\n  } else if (layout == Layout.FLUID) {\n    element.classList.add('i-amphtml-layout-awaiting-size');\n    if (width) {\n      setStyle(element, 'width', width);\n    }\n    setStyle(element, 'height', 0);\n  }\n  return layout;\n}\n\n\n/**\n * @param {!Element} element\n */\nfunction applyNoDisplayLayout(element) {\n  // TODO(dvoytenko, #9353): once `toggleLayoutDisplay` API has been deployed\n  // everywhere, switch all relevant elements to this API. In the meantime,\n  // simply unblock display toggling via `style=\"display: ...\"`.\n  setStyle(element, 'display', 'none');\n  element.classList.add('i-amphtml-display');\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getMode} from './mode';\nimport {getModeObject} from './mode-object';\nimport {isEnumValue} from './types';\n\n/**\n * Triple zero width space.\n *\n * This is added to user error messages, so that we can later identify\n * them, when the only thing that we have is the message. This is the\n * case in many browsers when the global exception handler is invoked.\n *\n * @const {string}\n */\nexport const USER_ERROR_SENTINEL = '\\u200B\\u200B\\u200B';\n\n\n/**\n * Four zero width space.\n *\n * @const {string}\n */\nexport const USER_ERROR_EMBED_SENTINEL = '\\u200B\\u200B\\u200B\\u200B';\n\n\n/**\n * @param {string} message\n * @return {boolean} Whether this message was a user error.\n */\nexport function isUserErrorMessage(message) {\n  return message.indexOf(USER_ERROR_SENTINEL) >= 0;\n}\n\n/**\n * @param {string} message\n * @return {boolean} Whether this message was a a user error from an iframe embed.\n */\nexport function isUserErrorEmbed(message) {\n  return message.indexOf(USER_ERROR_EMBED_SENTINEL) >= 0;\n}\n\n\n/**\n * @enum {number}\n * @private Visible for testing only.\n */\nexport const LogLevel = {\n  OFF: 0,\n  ERROR: 1,\n  WARN: 2,\n  INFO: 3,\n  FINE: 4,\n};\n\n/**\n * Sets reportError function. Called from error.js to break cyclic\n * dependency.\n * @param {function(*, !Element=)|undefined} fn\n */\nexport function setReportError(fn) {\n  self.reportError = fn;\n}\n\n/**\n * @type {!LogLevel|undefined}\n * @private\n */\nlet levelOverride_ = undefined;\n\n/**\n * @param {!LogLevel} level\n */\nexport function overrideLogLevel(level) {\n  levelOverride_ = level;\n}\n\n/**\n * Logging class. Use of sentinel string instead of a boolean to check user/dev\n * errors because errors could be rethrown by some native code as a new error,\n * and only a message would survive. Also, some browser dont support a 5th\n * error object argument in window.onerror. List of supporting browser can be\n * found here:\n * https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror.html\n * @final\n * @private Visible for testing only.\n */\nexport class Log {\n  /**\n   * opt_suffix will be appended to error message to identify the type of the\n   * error message. We can't rely on the error object to pass along the type\n   * because some browsers do not have this param in its window.onerror API.\n   * See:\n   * https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror.html\n   *\n   * @param {!Window} win\n   * @param {function(!./mode.ModeDef):!LogLevel} levelFunc\n   * @param {string=} opt_suffix\n   */\n  constructor(win, levelFunc, opt_suffix) {\n    /**\n     * In tests we use the main test window instead of the iframe where\n     * the tests runs because only the former is relayed to the console.\n     * @const {!Window}\n     */\n    this.win = (getMode().test && win.AMP_TEST_IFRAME) ? win.parent : win;\n\n    /** @private @const {function(!./mode.ModeDef):!LogLevel} */\n    this.levelFunc_ = levelFunc;\n\n    /** @private @const {!LogLevel} */\n    this.level_ = this.defaultLevel_();\n\n    /** @private @const {string} */\n    this.suffix_ = opt_suffix || '';\n  }\n\n  /**\n   * @return {!LogLevel}\n   * @private\n   */\n  getLevel_() {\n    return (levelOverride_ !== undefined) ? levelOverride_ : this.level_;\n  }\n\n  /**\n   * @return {!LogLevel}\n   * @private\n   */\n  defaultLevel_() {\n    // No console - can't enable logging.\n    if (!this.win.console || !this.win.console.log) {\n      return LogLevel.OFF;\n    }\n\n    // Logging has been explicitly disabled.\n    if (getMode().log == '0') {\n      return LogLevel.OFF;\n    }\n\n    // Logging is enabled for tests directly.\n    if (getMode().test && this.win.ENABLE_LOG) {\n      return LogLevel.FINE;\n    }\n\n    // LocalDev by default allows INFO level, unless overriden by `#log`.\n    if (getMode().localDev && !getMode().log) {\n      return LogLevel.INFO;\n    }\n\n    // Delegate to the specific resolver.\n    return this.levelFunc_(getModeObject());\n  }\n\n  /**\n   * @param {string} tag\n   * @param {string} level\n   * @param {!Array} messages\n   */\n  msg_(tag, level, messages) {\n    if (this.getLevel_() != LogLevel.OFF) {\n      let fn = this.win.console.log;\n      if (level == 'ERROR') {\n        fn = this.win.console.error || fn;\n      } else if (level == 'INFO') {\n        fn = this.win.console.info || fn;\n      } else if (level == 'WARN') {\n        fn = this.win.console.warn || fn;\n      }\n      if (getMode().localDev) {\n        messages.unshift('[' + tag + ']');\n      }\n      fn.apply(this.win.console, messages);\n    }\n  }\n\n  /**\n   * Whether the logging is enabled.\n   * @return {boolean}\n   */\n  isEnabled() {\n    return this.getLevel_() != LogLevel.OFF;\n  }\n\n  /**\n   * Reports a fine-grained message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  fine(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.FINE) {\n      this.msg_(tag, 'FINE', Array.prototype.slice.call(arguments, 1));\n    }\n  }\n\n  /**\n   * Reports a informational message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  info(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.INFO) {\n      this.msg_(tag, 'INFO', Array.prototype.slice.call(arguments, 1));\n    }\n  }\n\n  /**\n   * Reports a warning message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  warn(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.WARN) {\n      this.msg_(tag, 'WARN', Array.prototype.slice.call(arguments, 1));\n    }\n  }\n\n  /**\n   * Reports an error message. If the logging is disabled, the error is rethrown\n   * asynchronously.\n   * @param {string} tag\n   * @param {...*} var_args\n   * @return {!Error|undefined}\n   * @private\n   */\n  error_(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.ERROR) {\n      this.msg_(tag, 'ERROR', Array.prototype.slice.call(arguments, 1));\n    } else {\n      const error = createErrorVargs.apply(null,\n          Array.prototype.slice.call(arguments, 1));\n      this.prepareError_(error);\n      return error;\n    }\n  }\n\n  /**\n   * Reports an error message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  error(tag, var_args) {\n    const error = this.error_.apply(this, arguments);\n    if (error) {\n      error.name = tag || error.name;\n      // reportError is installed globally per window in the entry point.\n      self.reportError(error);\n    }\n  }\n\n  /**\n   * Reports an error message and marks with an expected property. If the\n   * logging is disabled, the error is rethrown asynchronously.\n   * @param {string} unusedTag\n   * @param {...*} var_args\n   */\n  expectedError(unusedTag, var_args) {\n    const error = this.error_.apply(this, arguments);\n    if (error) {\n      error.expected = true;\n      // reportError is installed globally per window in the entry point.\n      self.reportError(error);\n    }\n  }\n\n  /**\n   * Creates an error object.\n   * @param {...*} var_args\n   * @return {!Error}\n   */\n  createError(var_args) {\n    const error = createErrorVargs.apply(null, arguments);\n    this.prepareError_(error);\n    return error;\n  }\n\n  /**\n   * Creates an error object with its expected property set to true.\n   * @param {...*} var_args\n   * @return {!Error}\n   */\n  createExpectedError(var_args) {\n    const error = createErrorVargs.apply(null, arguments);\n    this.prepareError_(error);\n    error.expected = true;\n    return error;\n  }\n\n  /**\n   * Throws an error if the first argument isn't trueish.\n   *\n   * Supports argument substitution into the message via %s placeholders.\n   *\n   * Throws an error object that has two extra properties:\n   * - associatedElement: This is the first element provided in the var args.\n   *   It can be used for improved display of error messages.\n   * - messageArray: The elements of the substituted message as non-stringified\n   *   elements in an array. When e.g. passed to console.error this yields\n   *   native displays of things like HTML elements.\n   *\n   * @param {T} shouldBeTrueish The value to assert. The assert fails if it does\n   *     not evaluate to true.\n   * @param {string=} opt_message The assertion message\n   * @param {...*} var_args Arguments substituted into %s in the message.\n   * @return {T} The value of shouldBeTrueish.\n   * @template T\n   * eslint \"google-camelcase/google-camelcase\": 0\n   */\n  assert(shouldBeTrueish, opt_message, var_args) {\n    let firstElement;\n    if (!shouldBeTrueish) {\n      const message = opt_message || 'Assertion failed';\n      const splitMessage = message.split('%s');\n      const first = splitMessage.shift();\n      let formatted = first;\n      const messageArray = [];\n      pushIfNonEmpty(messageArray, first);\n      for (let i = 2; i < arguments.length; i++) {\n        const val = arguments[i];\n        if (val && val.tagName) {\n          firstElement = val;\n        }\n        const nextConstant = splitMessage.shift();\n        messageArray.push(val);\n        pushIfNonEmpty(messageArray, nextConstant.trim());\n        formatted += toString(val) + nextConstant;\n      }\n      const e = new Error(formatted);\n      e.fromAssert = true;\n      e.associatedElement = firstElement;\n      e.messageArray = messageArray;\n      this.prepareError_(e);\n      // reportError is installed globally per window in the entry point.\n      self.reportError(e);\n      throw e;\n    }\n    return shouldBeTrueish;\n  }\n\n  /**\n   * Throws an error if the first argument isn't an Element\n   *\n   * Otherwise see `assert` for usage\n   *\n   * @param {*} shouldBeElement\n   * @param {string=} opt_message The assertion message\n   * @return {!Element} The value of shouldBeTrueish.\n   * @template T\n   * eslint \"google-camelcase/google-camelcase\": 2\n   */\n  assertElement(shouldBeElement, opt_message) {\n    const shouldBeTrueish = shouldBeElement && shouldBeElement.nodeType == 1;\n    this.assert(shouldBeTrueish, (opt_message || 'Element expected') + ': %s',\n        shouldBeElement);\n    return /** @type {!Element} */ (shouldBeElement);\n  }\n\n  /**\n   * Throws an error if the first argument isn't a string. The string can\n   * be empty.\n   *\n   * For more details see `assert`.\n   *\n   * @param {*} shouldBeString\n   * @param {string=} opt_message The assertion message\n   * @return {string} The string value. Can be an empty string.\n   * eslint \"google-camelcase/google-camelcase\": 2\n   */\n  assertString(shouldBeString, opt_message) {\n    this.assert(typeof shouldBeString == 'string',\n        (opt_message || 'String expected') + ': %s', shouldBeString);\n    return /** @type {string} */ (shouldBeString);\n  }\n\n  /**\n   * Throws an error if the first argument isn't a number. The allowed values\n   * include `0` and `NaN`.\n   *\n   * For more details see `assert`.\n   *\n   * @param {*} shouldBeNumber\n   * @param {string=} opt_message The assertion message\n   * @return {number} The number value. The allowed values include `0`\n   *   and `NaN`.\n   */\n  assertNumber(shouldBeNumber, opt_message) {\n    this.assert(typeof shouldBeNumber == 'number',\n        (opt_message || 'Number expected') + ': %s', shouldBeNumber);\n    return /** @type {number} */ (shouldBeNumber);\n  }\n\n  /**\n   * Throws an error if the first argument isn't a boolean.\n   *\n   * For more details see `assert`.\n   *\n   * @param {*} shouldBeBoolean\n   * @param {string=} opt_message The assertion message\n   * @return {boolean} The boolean value.\n   */\n  assertBoolean(shouldBeBoolean, opt_message) {\n    this.assert(!!shouldBeBoolean === shouldBeBoolean,\n        (opt_message || 'Boolean expected') + ': %s', shouldBeBoolean);\n    return /** @type {boolean} */ (shouldBeBoolean);\n  }\n\n  /**\n   * Asserts and returns the enum value. If the enum doesn't contain such a\n   * value, the error is thrown.\n   *\n   * @param {!Object<T>} enumObj\n   * @param {string} s\n   * @param {string=} opt_enumName\n   * @return {T}\n   * @template T\n   * eslint \"google-camelcase/google-camelcase\": 2\n   */\n  assertEnumValue(enumObj, s, opt_enumName) {\n    if (isEnumValue(enumObj, s)) {\n      return s;\n    }\n    this.assert(false,\n        'Unknown %s value: \"%s\"',\n        opt_enumName || 'enum', s);\n  }\n\n  /**\n   * @param {!Error} error\n   * @private\n   */\n  prepareError_(error) {\n    error = duplicateErrorIfNecessary(error);\n    if (this.suffix_) {\n      if (!error.message) {\n        error.message = this.suffix_;\n      } else if (error.message.indexOf(this.suffix_) == -1) {\n        error.message += this.suffix_;\n      }\n    } else if (isUserErrorMessage(error.message)) {\n      error.message = error.message.replace(USER_ERROR_SENTINEL, '');\n    }\n  }\n}\n\n/**\n * @param {string|!Element} val\n * @return {string}\n */\nfunction toString(val) {\n  // Do check equivalent to `val instanceof Element` without cross-window bug\n  if (val && val.nodeType == 1) {\n    return val.tagName.toLowerCase() + (val.id ? '#' + val.id : '');\n  }\n  return /** @type {string} */ (val);\n}\n\n\n/**\n * @param {!Array} array\n * @param {*} val\n */\nfunction pushIfNonEmpty(array, val) {\n  if (val != '') {\n    array.push(val);\n  }\n}\n\n/**\n * Some exceptions (DOMException, namely) have read-only message.\n * @param {!Error} error\n * @return {!Error};\n */\nexport function duplicateErrorIfNecessary(error) {\n  const {message} = error;\n  const test = String(Math.random());\n  error.message = test;\n\n  if (error.message === test) {\n    error.message = message;\n    return error;\n  }\n\n  const e = new Error(error.message);\n  // Copy all the extraneous things we attach.\n  for (const prop in error) {\n    e[prop] = error[prop];\n  }\n  // Ensure these are copied.\n  e.stack = error.stack;\n  return e;\n}\n\n/**\n * @param {...*} var_args\n * @return {!Error}\n * @visibleForTesting\n */\nexport function createErrorVargs(var_args) {\n  let error = null;\n  let message = '';\n  for (let i = 0; i < arguments.length; i++) {\n    const arg = arguments[i];\n    if (arg instanceof Error && !error) {\n      error = duplicateErrorIfNecessary(arg);\n    } else {\n      if (message) {\n        message += ' ';\n      }\n      message += arg;\n    }\n  }\n\n  if (!error) {\n    error = new Error(message);\n  } else if (message) {\n    error.message = message + ': ' + error.message;\n  }\n  return error;\n}\n\n\n/**\n * Rethrows the error without terminating the current context. This preserves\n * whether the original error designation is a user error or a dev error.\n * @param {...*} var_args\n */\nexport function rethrowAsync(var_args) {\n  const error = createErrorVargs.apply(null, arguments);\n  setTimeout(() => {\n    // reportError is installed globally per window in the entry point.\n    self.reportError(error);\n    throw error;\n  });\n}\n\n\n/**\n * Cache for logs. We do not use a Service since the service module depends\n * on Log and closure literally can't even.\n * @type {{user: ?Log, dev: ?Log, userForEmbed: ?Log}}\n */\nself.log = (self.log || {\n  user: null,\n  dev: null,\n  userForEmbed: null,\n});\n\nconst logs = self.log;\n\n/**\n * Eventually holds a constructor for Log objects. Lazily initialized, so we\n * can avoid ever referencing the real constructor except in JS binaries\n * that actually want to include the implementation.\n * @type {?Function}\n */\nlet logConstructor = null;\n\n/**\n * Initializes log contructor.\n */\nexport function initLogConstructor() {\n  logConstructor = Log;\n  // Initialize instances for use. If a binary (an extension for example) that\n  // does not call `initLogConstructor` invokes `dev()` or `user()` earlier than\n  // the binary that does call `initLogConstructor` (amp.js), the extension will\n  // throw an error as that extension will never be able to initialize the log\n  // instances and we also don't want it to call `initLogConstructor` either\n  // (since that will cause the Log implementation to be bundled into that\n  // binary). So we must initialize the instances eagerly so that they are ready\n  // for use (stored globally) after the main binary calls `initLogConstructor`.\n  dev();\n  user();\n}\n\n/**\n * Resets log contructor for testing.\n */\nexport function resetLogConstructorForTesting() {\n  logConstructor = null;\n}\n\n/**\n * Publisher level log.\n *\n * Enabled in the following conditions:\n *  1. Not disabled using `#log=0`.\n *  2. Development mode is enabled via `#development=1` or logging is explicitly\n *     enabled via `#log=D` where D >= 1.\n *  3. AMP.setLogLevel(D) is called, where D >= 1.\n *\n * @param {!Element=} opt_element\n * @return {!Log}\n */\nexport function user(opt_element) {\n  if (!logs.user) {\n    logs.user = getUserLogger(USER_ERROR_SENTINEL);\n  }\n  if (!isFromEmbed(logs.user.win, opt_element)) {\n    return logs.user;\n  } else {\n    if (logs.userForEmbed) {\n      return logs.userForEmbed;\n    }\n    return logs.userForEmbed = getUserLogger(USER_ERROR_EMBED_SENTINEL);\n  }\n}\n\n/**\n * Getter for user logger\n * @param {string=} suffix\n * @return {!Log}\n */\nfunction getUserLogger(suffix) {\n  if (!logConstructor) {\n    throw new Error('failed to call initLogConstructor');\n  }\n  return new logConstructor(self, mode => {\n    const logNum = parseInt(mode.log, 10);\n    if (mode.development || logNum >= 1) {\n      return LogLevel.FINE;\n    }\n    return LogLevel.WARN;\n  }, suffix);\n}\n\n/**\n * AMP development log. Calls to `devLog().assert` and `dev.fine` are stripped\n * in the PROD binary. However, `devLog().assert` result is preserved in either\n * case.\n *\n * Enabled in the following conditions:\n *  1. Not disabled using `#log=0`.\n *  2. Logging is explicitly enabled via `#log=D`, where D >= 2.\n *  3. AMP.setLogLevel(D) is called, where D >= 2.\n *\n * @return {!Log}\n */\nexport function dev() {\n  if (logs.dev) {\n    return logs.dev;\n  }\n  if (!logConstructor) {\n    throw new Error('failed to call initLogConstructor');\n  }\n  return logs.dev = new logConstructor(self, mode => {\n    const logNum = parseInt(mode.log, 10);\n    if (logNum >= 3) {\n      return LogLevel.FINE;\n    }\n    if (logNum >= 2) {\n      return LogLevel.INFO;\n    }\n    return LogLevel.OFF;\n  });\n}\n\n/**\n * @param {!Window} win\n * @param {!Element=} opt_element\n * @return {boolean} isEmbed\n */\nexport function isFromEmbed(win, opt_element) {\n  if (!opt_element) {\n    return false;\n  }\n  return opt_element.ownerDocument.defaultView != win;\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getMode} from './mode';\n\n/**\n * Provides info about the current app. This return value may be cached and\n * passed around as it will always be DCE'd.\n * @param {?Window=} opt_win\n * @return {!./mode.ModeDef}\n */\nexport function getModeObject(opt_win) {\n  return {\n    localDev: getMode(opt_win).localDev,\n    development: getMode(opt_win).development,\n    filter: getMode(opt_win).filter,\n    minified: getMode(opt_win).minified,\n    lite: getMode(opt_win).lite,\n    test: getMode(opt_win).test,\n    log: getMode(opt_win).log,\n    version: getMode(opt_win).version,\n    rtvVersion: getMode(opt_win).rtvVersion,\n  };\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {parseQueryString_} from './url-parse-query-string';\n\n/**\n * @typedef {{\n *   localDev: boolean,\n *   development: boolean,\n *   filter: (string|undefined),\n *   minified: boolean,\n *   lite: boolean,\n *   test: boolean,\n *   log: (string|undefined),\n *   version: string,\n *   rtvVersion: string,\n * }}\n */\nexport let ModeDef;\n\n/** @type {string} */\nconst version = '$internalRuntimeVersion$';\n\n/**\n * `rtvVersion` is the prefixed version we serve off of the cdn.\n * The prefix denotes canary(00) or prod(01) or an experiment version ( > 01).\n * @type {string}\n */\nlet rtvVersion = '';\n\n/**\n * Provides info about the current app.\n * @param {?Window=} opt_win\n * @return {!ModeDef}\n */\nexport function getMode(opt_win) {\n  const win = opt_win || self;\n  if (win.AMP_MODE) {\n    return win.AMP_MODE;\n  }\n  return win.AMP_MODE = getMode_(win);\n}\n\n/**\n * Provides info about the current app.\n * @param {!Window} win\n * @return {!ModeDef}\n */\nfunction getMode_(win) {\n  // Magic constants that are replaced by closure compiler.\n  // IS_MINIFIED is always replaced with true when closure compiler is used\n  // while IS_DEV is only replaced when `gulp dist` is called without the\n  // --fortesting flag.\n  const IS_DEV = true;\n  const IS_MINIFIED = false;\n\n  const localDevEnabled = !!(self.AMP_CONFIG && self.AMP_CONFIG.localDev);\n  const runningTests = IS_DEV && !!(win.AMP_TEST || win.__karma__);\n  const isLocalDev = IS_DEV && (localDevEnabled || runningTests);\n  const hashQuery = parseQueryString_(\n      // location.originalHash is set by the viewer when it removes the fragment\n      // from the URL.\n      win.location.originalHash || win.location.hash);\n\n  const searchQuery = parseQueryString_(win.location.search);\n\n  if (!rtvVersion) {\n    rtvVersion = getRtvVersion(win, isLocalDev);\n  }\n\n  // The `minified`, `test` and `localDev` properties are replaced\n  // as boolean literals when we run `gulp dist` without the `--fortesting`\n  // flags. This improved DCE on the production file we deploy as the code\n  // paths for localhost/testing/development are eliminated.\n  return {\n    localDev: isLocalDev,\n    // Triggers validation or enable pub level logging. Validation can be\n    // bypassed via #validate=0.\n    // Note that AMP_DEV_MODE flag is used for testing purposes.\n    development: !!(hashQuery['development'] == '1' || win.AMP_DEV_MODE),\n    examiner: hashQuery['development'] == '2',\n    // Allows filtering validation errors by error category. For the\n    // available categories, see ErrorCategory in validator/validator.proto.\n    filter: hashQuery['filter'],\n    // amp-geo override\n    geoOverride: hashQuery['amp-geo'],\n    minified: IS_MINIFIED,\n    // Whether document is in an amp-lite viewer. It signal that the user\n    // would prefer to use less bandwidth.\n    lite: searchQuery['amp_lite'] != undefined,\n    test: runningTests,\n    log: hashQuery['log'],\n    version,\n    rtvVersion,\n  };\n}\n\n/**\n * Retrieve the `rtvVersion` which will have a numeric prefix\n * denoting canary/prod/experiment (unless `isLocalDev` is true).\n *\n * @param {!Window} win\n * @param {boolean} isLocalDev\n * @return {string}\n */\nfunction getRtvVersion(win, isLocalDev) {\n  // If it's local dev then we won't actually have a full version so\n  // just use the version.\n  if (isLocalDev) {\n    return version;\n  }\n\n  if (win.AMP_CONFIG && win.AMP_CONFIG.v) {\n    return win.AMP_CONFIG.v;\n  }\n\n  // Currently `$internalRuntimeVersion$` and thus `mode.version` contain only\n  // major version. The full version however must also carry the minor version.\n  // We will default to production default `01` minor version for now.\n  // TODO(erwinmombay): decide whether $internalRuntimeVersion$ should contain\n  // minor version.\n  return `01${version}`;\n}\n\n\n/**\n * @param {!Window} win\n * @param {boolean} isLocalDev\n * @return {string}\n * @visibleForTesting\n */\nexport function getRtvVersionForTesting(win, isLocalDev) {\n  return getRtvVersion(win, isLocalDev);\n}\n\n\n/** @visibleForTesting */\nexport function resetRtvVersionForTesting() {\n  rtvVersion = '';\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from './utils/promise';\nimport {Services} from './services';\n\n/** @const {function()} */\nconst NOOP_CALLBACK_ = function() {};\n\n/** @const {number} */\nconst MIN_VELOCITY_ = 0.02;\n\n/** @const {number} */\nconst FRAME_CONST_ = 16.67;\n\n/** @const {number} */\nconst EXP_FRAME_CONST_ = Math.round(-FRAME_CONST_ / Math.log(0.95));\n\n/**\n * Depreciation factor of 1/100 of a millisecond. This is how much previous\n * velocity is depreciated when calculating the new velocity.\n * @const {number}\n */\nconst VELOCITY_DEPR_FACTOR_ = FRAME_CONST_ * 2;\n\n\n/**\n * Calculates velocity for an object traveling the distance deltaV in the\n * time deltaTime given the previous velocity prevVelocity. The calculation\n * assumes a basic informational depreciation of previous velocity.\n * @param {number} deltaV\n * @param {time} deltaTime\n * @param {number} prevVelocity\n * @return {number}\n */\nexport function calcVelocity(deltaV, deltaTime, prevVelocity) {\n  if (deltaTime < 1) {\n    deltaTime = 1;\n  }\n\n  // Calculate speed and speed depreciation.\n  const speed = deltaV / deltaTime;\n\n  // Depreciation is simply an informational quality. It basically means:\n  // we can't ignore the velocity we knew recently, but we'd only consider\n  // it proportionally to how long ago we've seen it. Currently, this\n  // depreciation factor is 1/100 of a millisecond. New average velocity is\n  // calculated by weighing toward the new velocity and away from old\n  // velocity based on the depreciation.\n  const depr = 0.5 + Math.min(deltaTime / VELOCITY_DEPR_FACTOR_, 0.5);\n  return speed * depr + prevVelocity * (1 - depr);\n}\n\n\n/**\n * Returns a motion process that will yield when the velocity has run down to\n * zerp. For each iteration, the velocity is depreciated and the coordinates\n * are advanced from start X/Y to the destination according to velocity\n * vectors. For each such iteration the callback is called with the new x and y.\n * @param {!Node} contextNode\n * @param {number} startX Start X coordinate.\n * @param {number} startY Start Y coordinate.\n * @param {number} veloX Starting X velocity.\n * @param {number} veloY Starting Y velocity.\n * @param {function(number, number):boolean} callback The callback for each\n *   step of the deceleration motion.\n * @param {!./service/vsync-impl.Vsync=} opt_vsync Mostly for testing only.\n * @return {!Motion}\n */\nexport function continueMotion(contextNode, startX, startY, veloX, veloY,\n  callback, opt_vsync) {\n  return new Motion(contextNode, startX, startY, veloX, veloY,\n      callback, opt_vsync).start();\n}\n\n\n/**\n * Motion process that allows tracking and monitoring of the running motion.\n * Most importantly it exposes methods \"then\" and \"thenAlways\" that have the\n * semantics of a Promise and signal when the motion has completed or failed.\n * Additionally, it exposes the method \"halt\" which allows to stop/reset the\n * motion.\n * @implements {IThenable}\n */\nexport class Motion {\n  /**\n   * @param {!Node} contextNode Context node.\n   * @param {number} startX Start X coordinate.\n   * @param {number} startY Start Y coordinate.\n   * @param {number} veloX Starting X velocity.\n   * @param {number} veloY Starting Y velocity.\n   * @param {function(number, number):boolean} callback The callback for each\n   *   step of the deceleration motion.\n   * @param {!./service/vsync-impl.Vsync=} opt_vsync\n   */\n  constructor(contextNode, startX, startY, veloX, veloY, callback, opt_vsync) {\n    /** @private @const {!./service/vsync-impl.Vsync} */\n    this.vsync_ = opt_vsync || Services.vsyncFor(self);\n\n    /** @private @const {!Node} */\n    this.contextNode_ = contextNode;\n\n    /** @private @const */\n    this.callback_ = callback;\n\n    /** @private {number} */\n    this.lastX_ = startX;\n\n    /** @private {number} */\n    this.lastY_ = startY;\n\n    /** @private {number} */\n    this.maxVelocityX_ = veloX;\n\n    /** @private {number} */\n    this.maxVelocityY_ = veloY;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n\n    /** @private {number} */\n    this.velocityY_ = 0;\n\n    const deferred = new Deferred();\n\n    /** @private {!Promise} */\n    this.promise_ = deferred.promise;\n\n    /** @private {!Function} */\n    this.resolve_ = deferred.resolve;\n\n    /** @private {!Function} */\n    this.reject_ = deferred.reject;\n\n    /** @private {boolean} */\n    this.continuing_ = false;\n  }\n\n  /** */\n  start() {\n    this.continuing_ = true;\n    if (Math.abs(this.maxVelocityX_) <= MIN_VELOCITY_ &&\n            Math.abs(this.maxVelocityY_) <= MIN_VELOCITY_) {\n      this.fireMove_();\n      this.completeContinue_(true);\n    } else {\n      this.runContinuing_();\n    }\n    return this;\n  }\n\n  /**\n   * Halts the motion. The motion promise will be rejected since the motion\n   * has been interrupted.\n   */\n  halt() {\n    if (this.continuing_) {\n      this.completeContinue_(false);\n    }\n  }\n\n  /**\n   * Chains to the motion's promise that will resolve when the motion has\n   * completed or will reject if motion has failed or was interrupted.\n   * @override\n   */\n  then(opt_resolve, opt_reject) {\n    if (!opt_resolve && !opt_reject) {\n      return this.promise_;\n    }\n    return this.promise_.then(opt_resolve, opt_reject);\n  }\n\n  /**\n   * Callback for regardless whether the motion succeeds or fails.\n   * @param {function()=} opt_callback\n   * @return {!Promise}\n   */\n  thenAlways(opt_callback) {\n    const callback = opt_callback || NOOP_CALLBACK_;\n    return /** @type {!Promise} */ (this.then(callback, callback));\n  }\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  runContinuing_() {\n    this.velocityX_ = this.maxVelocityX_;\n    this.velocityY_ = this.maxVelocityY_;\n    const boundStep = this.stepContinue_.bind(this);\n    const boundComplete = this.completeContinue_.bind(this, true);\n    return this.vsync_.runAnimMutateSeries(this.contextNode_, boundStep, 5000)\n        .then(boundComplete, boundComplete);\n  }\n\n  /**\n   * Returns \"true\" to continue and \"false\" to stop motion process.\n   * @param {time} timeSinceStart\n   * @param {time} timeSincePrev\n   * @return {boolean}\n   * @private\n   */\n  stepContinue_(timeSinceStart, timeSincePrev) {\n    if (!this.continuing_) {\n      return false;\n    }\n\n    this.lastX_ += timeSincePrev * this.velocityX_;\n    this.lastY_ += timeSincePrev * this.velocityY_;\n    if (!this.fireMove_()) {\n      return false;\n    }\n\n    const decel = Math.exp(-timeSinceStart / EXP_FRAME_CONST_);\n    this.velocityX_ = this.maxVelocityX_ * decel;\n    this.velocityY_ = this.maxVelocityY_ * decel;\n    return (Math.abs(this.velocityX_) > MIN_VELOCITY_ ||\n        Math.abs(this.velocityY_) > MIN_VELOCITY_);\n  }\n\n  /**\n   * @param {boolean} success\n   * @private\n   */\n  completeContinue_(success) {\n    if (!this.continuing_) {\n      return;\n    }\n    this.continuing_ = false;\n    this.fireMove_();\n    if (success) {\n      this.resolve_();\n    } else {\n      this.reject_();\n    }\n  }\n\n  /** @private */\n  fireMove_() {\n    return this.callback_(this.lastX_, this.lastY_);\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n/**\n * This class helps to manage observers. Observers can be added, removed or\n * fired through and instance of this class.\n * @template TYPE\n */\nexport class Observable {\n\n  /**\n   * Creates an instance of Observable.\n   */\n  constructor() {\n    /** @type {?Array<function(TYPE)>} */\n    this.handlers_ = null;\n  }\n\n  /**\n   * Adds the observer to this instance.\n   * @param {function(TYPE)} handler Observer's handler.\n   * @return {!UnlistenDef}\n   */\n  add(handler) {\n    if (!this.handlers_) {\n      this.handlers_ = [];\n    }\n    this.handlers_.push(handler);\n    return () => {\n      this.remove(handler);\n    };\n  }\n\n  /**\n   * Removes the observer from this instance.\n   * @param {function(TYPE)} handler Observer's instance.\n   */\n  remove(handler) {\n    if (!this.handlers_) {\n      return;\n    }\n    const index = this.handlers_.indexOf(handler);\n    if (index > -1) {\n      this.handlers_.splice(index, 1);\n    }\n  }\n\n  /**\n   * Removes all observers.\n   */\n  removeAll() {\n    if (!this.handlers_) {\n      return;\n    }\n    this.handlers_.length = 0;\n  }\n\n  /**\n   * Fires an event. All observers are called.\n   * @param {TYPE=} opt_event\n   */\n  fire(opt_event) {\n    if (!this.handlers_) {\n      return;\n    }\n    const handlers = this.handlers_;\n    for (let i = 0; i < handlers.length; i++) {\n      const handler = handlers[i];\n      handler(opt_event);\n    }\n  }\n\n  /**\n   * Returns number of handlers. Mostly needed for tests.\n   * @return {number}\n   */\n  getHandlerCount() {\n    if (!this.handlers_) {\n      return 0;\n    }\n    return this.handlers_.length;\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\n\n\n/**\n * Pass class helps to manage single-pass process. A pass is scheduled using\n * delay method. Only one pass can be pending at a time. If no pass is pending\n * the process is considered to be \"idle\".\n */\nexport class Pass {\n\n  /**\n   * Creates a new Pass instance.\n   * @param {!Window} win\n   * @param {function()} handler Handler to be executed when pass is triggered.\n   * @param {number=} opt_defaultDelay Default delay to be used when schedule\n   *   is called without one.\n   */\n  constructor(win, handler, opt_defaultDelay) {\n    this.timer_ = Services.timerFor(win);\n\n    /** @private @const {function()} */\n    this.handler_ = handler;\n\n    /** @private @const {number} */\n    this.defaultDelay_ = opt_defaultDelay || 0;\n\n    /** @private {number|string} */\n    this.scheduled_ = -1;\n\n    /** @private {number} */\n    this.nextTime_ = 0;\n\n    /** @private {boolean} */\n    this.running_ = false;\n\n    /** @private @const {!Function} */\n    this.boundPass_ = () => this.pass_();\n  }\n\n  /**\n   * Whether or not a pass is currently pending.\n   * @return {boolean}\n   */\n  isPending() {\n    return this.scheduled_ != -1;\n  }\n\n  /**\n   * Tries to schedule a new pass optionally with specified delay. If the new\n   * requested pass is requested before the pending pass, the pending pass is\n   * canceled. If the new pass is requested after the pending pass, the newly\n   * requested pass is ignored.\n   *\n   * Returns {@code true} if the pass has been scheduled and {@code false} if\n   * ignored.\n   *\n   * @param {number=} opt_delay Delay to schedule the pass. If not specified\n   *   the default delay is used, falling back to 0.\n   * @return {boolean}\n   */\n  schedule(opt_delay) {\n    let delay = opt_delay || this.defaultDelay_;\n    if (this.running_ && delay < 10) {\n      // If we get called recursively, wait at least 10ms for the next\n      // execution.\n      delay = 10;\n    }\n\n    const nextTime = Date.now() + delay;\n    // Schedule anew if nothing is scheduled currently or if the new time is\n    // sooner then previously requested.\n    if (!this.isPending() || nextTime - this.nextTime_ < -10) {\n      this.cancel();\n      this.nextTime_ = nextTime;\n      this.scheduled_ = this.timer_.delay(this.boundPass_, delay);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   *\n   */\n  pass_() {\n    this.scheduled_ = -1;\n    this.nextTime_ = 0;\n    this.running_ = true;\n    this.handler_();\n    this.running_ = false;\n  }\n\n  /**\n   * Cancels the pending pass if any.\n   */\n  cancel() {\n    if (this.isPending()) {\n      this.timer_.cancel(this.scheduled_);\n      this.scheduled_ = -1;\n    }\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getMode} from './mode';\nimport {install as installArrayIncludes} from './polyfills/array-includes';\nimport {install as installCustomElements} from './polyfills/custom-elements';\nimport {\n  install as installDOMTokenListToggle,\n} from './polyfills/domtokenlist-toggle';\nimport {install as installDocContains} from './polyfills/document-contains';\nimport {install as installMathSign} from './polyfills/math-sign';\nimport {install as installObjectAssign} from './polyfills/object-assign';\nimport {install as installPromise} from './polyfills/promise';\nimport {installCustomElements as installRegisterElement} from\n  'document-register-element/build/document-register-element.patched';\nimport {isExperimentOn} from './experiments';\n\nif (isExperimentOn(self, 'custom-elements-v1') || getMode().test) {\n  installCustomElements(self, class {});\n} else {\n  installRegisterElement(self, 'auto');\n}\ninstallDOMTokenListToggle(self);\ninstallMathSign(self);\ninstallObjectAssign(self);\ninstallPromise(self);\ninstallDocContains(self);\ninstallArrayIncludes(self);\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Returns true if the element is in the array and false otherwise.\n *\n * @param {*} value\n * @param {number=} opt_fromIndex\n * @return {boolean}\n * @this {Array}\n */\nfunction includes(value, opt_fromIndex) {\n  const fromIndex = opt_fromIndex || 0;\n  const len = this.length;\n  let i = fromIndex >= 0 ? fromIndex : Math.max(len + fromIndex, 0);\n  for (; i < len; i++) {\n    const other = this[i];\n    // If value has been found OR (value is NaN AND other is NaN)\n    /*eslint \"no-self-compare\": 0*/\n    if (other === value || (value !== value && other !== other)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n* Sets the Array.contains polyfill if it does not exist.\n* @param {!Window} win\n*/\nexport function install(win) {\n  if (!win.Array.prototype.includes) {\n    win.Object.defineProperty(Array.prototype, 'includes', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: includes,\n    });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   promise: !Promise<undefined>,\n *   resolve: function(),\n * }}\n */\nlet DeferredDef;\n\n/**\n * @typedef {!Function}\n */\nlet CustomElementConstructorDef;\n\n/**\n * @typedef {{\n *  name: string,\n *  ctor: !CustomElementConstructorDef,\n * }}\n */\nlet CustomElementDef;\n\n/**\n * Validates the custom element's name.\n * This intentionally ignores \"valid\" higher Unicode Code Points.\n * https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n */\nconst VALID_NAME = /^[a-z][a-z0-9._]*-[a-z0-9._-]*$/;\nconst INVALID_NAMES = [\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph',\n];\n\n/**\n * Asserts that the custom element name conforms to the spec.\n *\n * @param {!Function} SyntaxError\n * @param {string} name\n */\nfunction assertValidName(SyntaxError, name) {\n  if (!VALID_NAME.test(name) || INVALID_NAMES.indexOf(name) >= 0) {\n    throw new SyntaxError(`invalid custom element name \"${name}\"`);\n  }\n}\n\n/**\n * Does win have a full Custom Elements registry?\n *\n * @param {!Window} win\n * @return {boolean}\n */\nfunction hasCustomElements(win) {\n  const {customElements} = win;\n\n  return !!(\n    customElements &&\n    customElements.define &&\n    customElements.get &&\n    customElements.whenDefined);\n}\n\n/**\n * Was HTMLElement already patched for this window?\n *\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isPatched(win) {\n  const tag = win.HTMLElement.toString();\n  return tag.indexOf('[native code]') === -1;\n}\n\n/**\n * The public Custom Elements API.\n */\nclass CustomElementRegistry {\n  /**\n   * @param {!Window} win\n   * @param {!Registry} registry\n   */\n  constructor(win, registry) {\n    /**\n     * @const @private\n     */\n    this.win_ = win;\n\n    /**\n     * @const @private\n     */\n    this.registry_ = registry;\n\n    /**\n     * @type {!Object<string, DeferredDef>}\n     * @private\n     * @const\n     */\n    this.pendingDefines_ = this.win_.Object.create(null);\n  }\n\n  /**\n   * Register the custom element.\n   *\n   * @param {string} name\n   * @param {!CustomElementConstructorDef} ctor\n   * @param {!Object=} options\n   */\n  define(name, ctor, options) {\n    this.registry_.define(name, ctor, options);\n\n    // If anyone is waiting for this custom element to be defined, resolve\n    // their promise.\n    const pending = this.pendingDefines_;\n    const deferred = pending[name];\n    if (deferred) {\n      deferred.resolve();\n      delete pending[name];\n    }\n  }\n\n  /**\n   * Get the constructor of the (already defined) custom element.\n   *\n   * @param {string} name\n   * @return {!CustomElementConstructorDef|undefined}\n   */\n  get(name) {\n    const def = this.registry_.getByName(name);\n    if (def) {\n      return def.ctor;\n    }\n  }\n\n  /**\n   * Returns a promise that waits until the custom element is defined.\n   * If the custom element is already defined, returns a resolved promise.\n   *\n   * @param {string} name\n   * @return {!Promise<undefined>}\n   */\n  whenDefined(name) {\n    const {Promise, SyntaxError} = this.win_;\n    assertValidName(SyntaxError, name);\n\n    if (this.registry_.getByName(name)) {\n      return Promise.resolve();\n    }\n\n    const pending = this.pendingDefines_;\n    const deferred = pending[name];\n    if (deferred) {\n      return deferred.promise;\n    }\n\n    let resolve;\n    const promise = new /*OK*/Promise(res => resolve = res);\n    pending[name] = {\n      promise,\n      resolve,\n    };\n\n    return promise;\n  }\n\n  /**\n   * Upgrade all custom elements inside root.\n   *\n   * @param {!Node} root\n   */\n  upgrade(root) {\n    this.registry_.upgrade(root);\n  }\n}\n\n/**\n * This internal APIs necessary to run the CustomElementRegistry.\n * Since Registry is never exposed externally, all methods are actually\n * available on the instance.\n */\nclass Registry {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /**\n     * @private @const\n     */\n    this.win_ = win;\n\n    /**\n     * @private @const\n     */\n    this.doc_ = win.document;\n\n    /**\n     * @type {!Object<string, !CustomElementDef>}\n     * @private\n     * @const\n     */\n    this.definitions_ = win.Object.create(null);\n\n    /**\n     * A up-to-date DOM selector for all custom elements.\n     * @type {string}\n     */\n    this.query_ = '';\n\n    /**\n     * The currently upgrading element.\n     * @private {Element}\n     */\n    this.current_ = null;\n  }\n\n  /**\n   * The currently-being-upgraded custom element.\n   *\n   * When an already created (through the DOM parsing APIs, or innerHTML)\n   * custom element node is being upgraded, we can't just create a new node\n   * (it's illegal in the spec). But we still need to run the custom element's\n   * constructor code on the node. We avoid this conundrum by running the\n   * constructor while returning this current node in the HTMLElement\n   * class constructor (the base class of all custom elements).\n   *\n   * @return {Element}\n   */\n  current() {\n    const current = this.current_;\n    this.current_ = null;\n    return current;\n  }\n\n  /**\n   * Finds the custom element definition by name.\n   *\n   * @param {string} name\n   * @return {CustomElementDef|undefined}\n   */\n  getByName(name) {\n    const definition = this.definitions_[name];\n    if (definition) {\n      return definition;\n    }\n  }\n\n  /**\n   * Finds the custom element definition by constructor instance.\n   *\n   * @param {CustomElementConstructorDef} ctor\n   * @return {CustomElementDef|undefined}\n   */\n  getByConstructor(ctor) {\n    const definitions = this.definitions_;\n\n    for (const name in definitions) {\n      const def = definitions[name];\n      if (def.ctor === ctor) {\n        return def;\n      }\n    }\n  }\n\n  /**\n   * Registers the custom element definition, and upgrades all elements by that\n   * name in the root document.\n   *\n   * @param {string} name\n   * @param {!CustomElementConstructorDef} ctor\n   * @param {!Object|undefined} options\n   */\n  define(name, ctor, options) {\n    const {Error, SyntaxError} = this.win_;\n\n    if (options) {\n      throw new Error('Extending native custom elements is not supported');\n    }\n\n    assertValidName(SyntaxError, name);\n\n    if (this.getByName(name) ||\n        this.getByConstructor(ctor)) {\n      throw new Error(`duplicate definition \"${name}\"`);\n    }\n\n    // TODO(jridgewell): Record connectedCallback, disconnectedCallback,\n    // adoptedCallback, attributeChangedCallback, and observedAttributes.\n    // TODO(jridgewell): If attributeChangedCallback, gather observedAttributes\n    this.definitions_[name] = {\n      name,\n      ctor,\n    };\n\n    this.observe_(name);\n    this.upgrade(this.doc_, name);\n  }\n\n  /**\n   * Upgrades custom elements descendants of root (but not including root).\n   *\n   * When called with an opt_query, it both upgrades and connects the custom\n   * elements (this is used during the custom element define algorithm).\n   *\n   * @param {!Node} root\n   * @param {string=} opt_query\n   */\n  upgrade(root, opt_query) {\n    // Only CustomElementRegistry.p.define provides a query (the newly defined\n    // custom element). In this case, we are both upgrading _and_ connecting\n    // the custom elements.\n    const newlyDefined = !!opt_query;\n    const query = opt_query || this.query_;\n    const upgradeCandidates = this.queryAll_(root, query);\n\n    for (let i = 0; i < upgradeCandidates.length; i++) {\n      const candidate = upgradeCandidates[i];\n      if (newlyDefined) {\n        this.connectedCallback_(candidate);\n      } else {\n        this.upgradeSelf(candidate);\n      }\n    }\n  }\n\n  /**\n   * Upgrades the custom element node, if a custom element has been registered\n   * by this name.\n   *\n   * @param {!Node} node\n   */\n  upgradeSelf(node) {\n    const def = this.getByName(node.localName);\n    if (!def) {\n      return;\n    }\n\n    this.upgradeSelf_(/** @type {!Element} */(node), def);\n  }\n\n  /**\n   * @param {!Node} root\n   * @param {string} query\n   * @return {!Array|!NodeList}\n   */\n  queryAll_(root, query) {\n    if (!query || !root.querySelectorAll) {\n      // Nothing to do...\n      return [];\n    }\n\n    return root.querySelectorAll(query);\n  }\n\n  /**\n   * Upgrades the (already created via DOM parsing) custom element.\n   *\n   * @param {!Element} node\n   * @param {!CustomElementDef} def\n   */\n  upgradeSelf_(node, def) {\n    const {ctor} = def;\n    if (node instanceof ctor) {\n      return;\n    }\n\n    // Despite how it looks, this is not a useless construction.\n    // HTMLElementPolyfill (the base class of all custom elements) will return\n    // the current node, allowing the custom element's subclass constructor to\n    // run on the node. The node itself is already constructed, so the return\n    // value is just the node.\n    this.current_ = node;\n    const el = new ctor();\n\n    if (el !== node) {\n      throw new this.win_.Error(\n          'Constructor illegally returned a different instance.');\n    }\n  }\n\n  /**\n   * Fires connectedCallback on the custom element, if it has one.\n   * This also upgrades the custom element, since it may not have been\n   * accessible via the root document before (a detached DOM tree).\n   *\n   * @param {!Node} node\n   */\n  connectedCallback_(node) {\n    const def = this.getByName(node.localName);\n    if (!def) {\n      return;\n    }\n    this.upgradeSelf_(/** @type {!Element} */(node), def);\n    // TODO(jridgewell): It may be appropriate to adoptCallback, if the node\n    // used to be in another doc.\n    // TODO(jridgewell): I should be calling the definitions connectedCallback\n    // with node as the context.\n    if (node.connectedCallback) {\n      node.connectedCallback();\n    }\n  }\n\n  /**\n   * Fires disconnectedCallback on the custom element, if it has one.\n   *\n   * @param {!Node} node\n   */\n  disconnectedCallback_(node) {\n    // TODO(jridgewell): I should be calling the definitions connectedCallback\n    // with node as the context.\n    if (node.disconnectedCallback) {\n      node.disconnectedCallback();\n    }\n  }\n\n  /**\n   * Records name as a registered custom element to observe.\n   *\n   * Starts the Mutation Observer if this is the first registered custom\n   * element. This is deferred until the first custom element is defined to\n   * speed up initial rendering of the page.\n   *\n   * Mutation Observers are conveniently available in every browser we care\n   * about. When a node is connected to the root document, all custom\n   * elements (including that node iteself) will be upgraded and call\n   * connectedCallback. When a node is disconnectedCallback from the root\n   * document, all custom elements will call disconnectedCallback.\n   *\n   * @param {string} name\n   */\n  observe_(name) {\n    if (this.query_) {\n      this.query_ += `,${name}`;\n      return;\n    }\n\n    this.query_ = name;\n\n    // The first registered name starts the mutation observer.\n    const observer = new this.win_.MutationObserver(records => {\n      if (records) {\n        this.handleRecords_(records);\n      }\n    });\n    observer.observe(this.doc_, {\n      childList: true,\n      subtree: true,\n    });\n  }\n\n  /**\n   * Handle all the Mutation Observer's Mutation Records.\n   * All added custom elements will be upgraded (if not already) and call\n   * connectedCallback. All removed custom elements will call\n   * disconnectedCallback.\n   *\n   * @param {!Array<!MutationRecord>} records\n   */\n  handleRecords_(records) {\n    for (let i = 0; i < records.length; i++) {\n      const record = records[i];\n      if (!record) {\n        continue;\n      }\n\n      const {addedNodes, removedNodes} = record;\n      for (let i = 0; i < addedNodes.length; i++) {\n        const node = addedNodes[i];\n        const connectedCandidates = this.queryAll_(node, this.query_);\n        this.connectedCallback_(node);\n        for (let i = 0; i < connectedCandidates.length; i++) {\n          this.connectedCallback_(connectedCandidates[i]);\n        }\n      }\n\n      for (let i = 0; i < removedNodes.length; i++) {\n        const node = removedNodes[i];\n        const disconnectedCandidates = this.queryAll_(node, this.query_);\n        this.disconnectedCallback_(node);\n        for (let i = 0; i < disconnectedCandidates.length; i++) {\n          this.disconnectedCallback_(disconnectedCandidates[i]);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Does the polyfilling.\n * @param {!Window} win\n */\nfunction polyfill(win) {\n  const {HTMLElement, Element, Node, Document, Object, document} = win;\n  const {createElement, cloneNode, importNode} = document;\n\n  const registry = new Registry(win);\n  const customElements = new CustomElementRegistry(win, registry);\n\n  // Expose the custom element registry.\n  // Object.getOwnPropertyDescriptor(window, 'customElements')\n  // {get: , set: undefined, enumerable: true, configurable: true}\n  Object.defineProperty(win, 'customElements', {\n    enumerable: true,\n    configurable: true,\n    // writable: false,\n    value: customElements,\n  });\n\n  // Patch createElement to immediately upgrade the custom element.\n  // This has the added benefit that it avoids the \"already created but needs\n  // constructor code run\" chicken-and-egg problem.\n  Document.prototype.createElement = function createElementPolyfill(name) {\n    const def = registry.getByName(name);\n    if (def) {\n      return new def.ctor();\n    }\n    return createElement.apply(this, arguments);\n  };\n\n  // Patch importNode to immediately upgrade custom elements.\n  // TODO(jridgewell): Can fire adoptedCallback for cross doc imports.\n  Document.prototype.importNode = function importNodePolyfill() {\n    const imported = importNode.apply(this, arguments);\n    if (imported) {\n      registry.upgradeSelf(imported);\n      registry.upgrade(imported);\n    }\n    return imported;\n  };\n\n  // Patch cloneNode to immediately upgrade custom elements.\n  Node.prototype.cloneNode = function cloneNodePolyfill() {\n    const cloned = cloneNode.apply(this, arguments);\n    registry.upgradeSelf(cloned);\n    registry.upgrade(cloned);\n    return cloned;\n  };\n\n  // Patch the innerHTML setter to immediately upgrade custom elements.\n  // Note, this could technically fire connectedCallbacks if this node was\n  // connected, but we leave that to the Mutation Observer.\n  const innerHTMLDesc = Object.getOwnPropertyDescriptor(Element.prototype,\n      'innerHTML');\n  const innerHTMLSetter = innerHTMLDesc.set;\n  innerHTMLDesc.set = function(html) {\n    innerHTMLSetter.call(this, html);\n    registry.upgrade(this);\n  };\n  Object.defineProperty(Element.prototype, 'innerHTML', innerHTMLDesc);\n\n  /**\n   * You can't use the real HTMLElement constructor, because you can't subclass\n   * it without using native classes. So, mock its approximation using\n   * createElement.\n   */\n  function HTMLElementPolyfill() {\n    const {constructor} = this;\n\n    // If we're upgrading an already created custom element, we can't create\n    // another new node (by the spec, it must be the same node).\n    let el = registry.current();\n\n    // If there's not a already created custom element, we're being invoked via\n    // `new`ing the constructor.\n    //\n    // Technically, we could get here via createElement, but we patched that.\n    // If it the custom element was registered, the patch turned it into a\n    // `new` call.\n    // If it was not registered, the native createElement is used. And if\n    // native createElement is being used and we got to this code, we're really\n    // in an infinite loop (a native createElement call just below) so we've\n    // got bigger problems.\n    //\n    // So just take my word we got here via `new`.\n    if (!el) {\n      // The custom element definition is an invariant. If the custom element\n      // is registered, everything works. If it's not, it throws in the member\n      // property access (only defined custom elements can be directly\n      // constructed via `new`).\n      const def = registry.getByConstructor(constructor);\n      el = createElement.call(document, def.name);\n    }\n\n    // Finally, if the node was already constructed, we need to reset it's\n    // prototype to the custom element prototype. And if it wasn't already\n    // constructed, we created a new node via native createElement, and we need\n    // to reset it's prototype. Basically always reset the prototype.\n    Object.setPrototypeOf(el, constructor.prototype);\n    return el;\n  }\n  subClass(Object, HTMLElement, HTMLElementPolyfill);\n\n  // Expose the polyfilled HTMLElement constructor for everyone to extend from.\n  win.HTMLElement = HTMLElementPolyfill;\n}\n\n/**\n * Wraps HTMLElement in a Reflect.construct constructor, so that transpiled\n * classes can `_this = superClass.call(this)` during their construction.\n *\n * This is only used when Custom Elements v1 is already available _and_ we're\n * using transpiled classes (which use ES5 construction idioms).\n *\n * @param {!Window} win\n */\nfunction wrapHTMLElement(win) {\n  const {HTMLElement, Reflect, Object} = win;\n  /**\n   */\n  function HTMLElementWrapper() {\n    const ctor = /** @type {function(...?):?|undefined} */(\n      /** @type {!HTMLElement} */(this).constructor);\n\n    // Reflect.construct allows us to construct a new HTMLElement without using\n    // `new` (which will always fail because native HTMLElement is a restricted\n    // constructor).\n    return Reflect.construct(HTMLElement, [], ctor);\n  }\n  subClass(Object, HTMLElement, HTMLElementWrapper);\n\n  // Expose the wrapped HTMLElement constructor for everyone to extend from.\n  win.HTMLElement = HTMLElementWrapper;\n}\n\n/**\n * Setups up prototype inheritance\n *\n * @param {!Object} Object\n * @param {!Function} superClass\n * @param {!Function} subClass\n */\nfunction subClass(Object, superClass, subClass) {\n  // Object.getOwnPropertyDescriptor(superClass.prototype, 'constructor')\n  // {value: , writable: true, enumerable: false, configurable: true}\n  subClass.prototype = Object.create(superClass.prototype, {\n    constructor: {\n      // enumerable: false,\n      configurable: true,\n      writable: true,\n      value: subClass,\n    },\n  });\n}\n\n/**\n * Polyfills Custom Elements v1 API. This has 4 modes:\n *\n * 1. Custom elements v1 already supported, using native classes\n * 2. Custom elements v1 already supported, using transpiled classes\n * 3. Custom elements v1 not supported, using native classes\n * 4. Custom elements v1 not supported, using transpiled classes\n *\n * In mode 1, nothing is done. In mode 2, a minimal polyfill is used to support\n * extending the HTMLElement base class. In mode 3 and 4, a full polyfill is\n * done.\n *\n * @param {!Window} win\n * @param {!Function} ctor\n */\nexport function install(win, ctor) {\n  if (isPatched(win)) {\n    return;\n  }\n\n  let install = true;\n  let installWrapper = false;\n\n  if (hasCustomElements(win)) {\n    // If ctor is constructable without new, it's a function. That means it was\n    // compiled down, and we need to do the minimal polyfill because all you\n    // cannot extend HTMLElement without native classes.\n    try {\n      const {Object, Reflect} = win;\n\n      // \"Construct\" ctor using ES5 idioms\n      const instance = Object.create(ctor.prototype);\n      ctor.call(instance);\n\n      // If that succeeded, we're in a transpiled environment\n      // Let's find out if we can wrap HTMLElement and avoid a full patch.\n      installWrapper = !!(Reflect && Reflect.construct);\n    } catch (e) {\n\n      // The ctor threw when we constructed is via ES5, so it's a real class.\n      // We're ok to not install the polyfill.\n      install = false;\n    }\n  }\n\n  if (installWrapper) {\n    wrapHTMLElement(win);\n  } else if (install) {\n    polyfill(win);\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Polyfill for `document.contains()` method. Notice that according to spec\n * `document.contains` is inclusionary.\n * See https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n * @param {?Node} node\n * @return {boolean}\n * @this {Node}\n */\nfunction documentContainsPolyfill(node) {\n  // Per spec, \"contains\" method is inclusionary\n  // i.e. `node.contains(node) == true`. However, we still need to test\n  // equality to the document itself.\n  return node == this || this.documentElement.contains(node);\n}\n\n\n/**\n * Polyfills `HTMLDocument.contains` API.\n * @param {!Window} win\n */\nexport function install(win) {\n  // HTMLDocument is undefined in Internet Explorer 10, but it has Document,\n  // so we use that as a fallback.\n  const documentClass = win.HTMLDocument || win.Document;\n  if (!documentClass.prototype.contains) {\n    win.Object.defineProperty(documentClass.prototype, 'contains', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: documentContainsPolyfill,\n    });\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Polyfill for `DOMTokenList.prototype.toggle(token, opt_force)` method. This\n * is specially important because IE does not support `opt_force` attribute. See\n * https://goo.gl/hgKNYY for details.\n * @param {string} token\n * @param {boolean=} opt_force\n * @this {DOMTokenList}\n * @return {boolean}\n */\nfunction domTokenListTogglePolyfill(token, opt_force) {\n  const remove = opt_force === undefined ? this.contains(token) : !opt_force;\n  if (remove) {\n    this.remove(token);\n    return false;\n  } else {\n    this.add(token);\n    return true;\n  }\n}\n\n\n/**\n * Polyfills `DOMTokenList.prototype.toggle` API in IE.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (isIe(win) && win.DOMTokenList) {\n    win.Object.defineProperty(win.DOMTokenList.prototype, 'toggle', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: domTokenListTogglePolyfill,\n    });\n  }\n}\n\n\n/**\n * Whether the current browser is a IE browser.\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isIe(win) {\n  return /Trident|MSIE|IEMobile/i.test(win.navigator.userAgent);\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Parses the number x and returns its sign. For positive x returns 1, for\n * negative, -1. For 0 and -0, returns 0 and -0 respectively. For any number\n * that parses to NaN, returns NaN.\n *\n * @param {number} x\n * @return {number}\n */\nexport function sign(x) {\n  x = Number(x);\n\n  // If x is 0, -0, or NaN, return it.\n  if (!x) {\n    return x;\n  }\n\n  return x > 0 ? 1 : -1;\n}\n\n\n/**\n * Sets the Math.sign polyfill if it does not exist.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (!win.Math.sign) {\n    win.Object.defineProperty(win.Math, 'sign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: sign,\n    });\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst {hasOwnProperty} = Object.prototype;\n\n/**\n * Copies values of all enumerable own properties from one or more source\n * objects (provided as extended arguments to the function) to a target object.\n *\n * @param {!Object} target\n * @param {...Object} var_args\n * @return {!Object}\n */\nexport function assign(target, var_args) {\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  const output = Object(target);\n  for (let i = 1; i < arguments.length; i++) {\n    const source = arguments[i];\n    if (source != null) {\n      for (const key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          output[key] = source[key];\n        }\n      }\n    }\n  }\n  return output;\n}\n\n\n/**\n * Sets the Object.assign polyfill if it does not exist.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (!win.Object.assign) {\n    win.Object.defineProperty(win.Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign,\n    });\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport * as Promise from 'promise-pjs/promise';\n\n/**\n * Sets the Promise polyfill if it does not exist.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (!win.Promise) {\n    win.Promise = /** @type {?} */ (Promise);\n    // In babel the * export is an Object with a default property.\n    // In closure compiler it is the Promise function itself.\n    if (Promise.default) {\n      win.Promise = Promise.default;\n    }\n    // We copy the individual static methods, because closure\n    // compiler flattens the polyfill namespace.\n    win.Promise.resolve = Promise.resolve;\n    win.Promise.reject = Promise.reject;\n    win.Promise.all = Promise.all;\n    win.Promise.race = Promise.race;\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\nimport {dev} from './log';\nimport {getServicePromise} from './service';\n\n/**\n * A map of services that delay rendering. The key is the name of the service\n * and the value is a DOM query which is used to check if the service is needed\n * in the current document.\n * Do not add a service unless absolutely necessary.\n *\n * \\   \\  /  \\  /   / /   \\     |   _  \\     |  \\ |  | |  | |  \\ |  |  / _____|\n *  \\   \\/    \\/   / /  ^  \\    |  |_)  |    |   \\|  | |  | |   \\|  | |  |  __\n *   \\            / /  /_\\  \\   |      /     |  . `  | |  | |  . `  | |  | |_ |\n *    \\    /\\    / /  _____  \\  |  |\\  \\----.|  |\\   | |  | |  |\\   | |  |__| |\n *     \\__/  \\__/ /__/     \\__\\ | _| `._____||__| \\__| |__| |__| \\__|  \\______|\n *\n * The equivalent of this list is used for server-side rendering (SSR) and any\n * changes made to it must be made in coordination with caches that implement\n * SSR. For more information on SSR see bit.ly/amp-ssr.\n *\n * @const {!Object<string, string>}\n */\nconst SERVICES = {\n  'amp-dynamic-css-classes': '[custom-element=amp-dynamic-css-classes]',\n  'variant': 'amp-experiment',\n  'amp-story': 'amp-story[standalone]',\n};\n\n/**\n * Maximum milliseconds to wait for all extensions to load before erroring.\n * @const\n */\nconst LOAD_TIMEOUT = 3000;\n\n/**\n * Detects any render delaying services that are required on the page, and\n * returns a promise with a timeout.\n * @param {!Window} win\n * @return {!Promise<!Array<*>>} resolves to an Array that has the same length\n *     as the detected render delaying services\n */\nexport function waitForServices(win) {\n  const promises = includedServices(win).map(service => {\n    return Services.timerFor(win).timeoutPromise(\n        LOAD_TIMEOUT,\n        getServicePromise(win, service),\n        `Render timeout waiting for service ${service} to be ready.`\n    );\n  });\n  return Promise.all(promises);\n}\n\n/**\n * Returns true if the page has a render delaying service.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function hasRenderDelayingServices(win) {\n  return includedServices(win).length > 0;\n}\n\n/**\n * Detects which, if any, render-delaying extensions are included on the page.\n * @param {!Window} win\n * @return {!Array<string>}\n */\nexport function includedServices(win) {\n  /** @const {!Document} */\n  const doc = win.document;\n  dev().assert(doc.body);\n\n  return Object.keys(SERVICES).filter(service => {\n    return doc.querySelector(SERVICES[service]);\n  });\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Registration and getter functions for AMP services.\n *\n * Invariant: Service getters never return null for registered services.\n */\n\n// src/polyfills.js must be the first import.\nimport './polyfills'; // eslint-disable-line sort-imports-es6-autofix/sort-imports-es6\n\nimport {Deferred} from './utils/promise';\nimport {dev} from './log';\nimport {toWin} from './types';\n\n\n/**\n * Holds info about a service.\n * - obj: Actual service implementation when available.\n * - promise: Promise for the obj.\n * - resolve: Function to resolve the promise with the object.\n * - context: Argument for ctor, either a window or an ampdoc.\n * - ctor: Function that constructs and returns the service.\n * @typedef {{\n *   obj: (?Object),\n *   promise: (?Promise),\n *   resolve: (?function(!Object)),\n *   context: (?Window|?./service/ampdoc-impl.AmpDoc),\n *   ctor: (?function(new:Object, !Window)|\n *          ?function(new:Object, !./service/ampdoc-impl.AmpDoc)),\n * }}\n */\nlet ServiceHolderDef;\n\n\n/**\n * This interface provides a `dispose` method that will be called by\n * runtime when a service needs to be disposed of.\n * @interface\n */\nexport class Disposable {\n\n  /**\n   * Instructs the service to release any resources it might be holding. Can\n   * be called only once in the lifecycle of a service.\n   */\n  dispose() {}\n}\n\n\n/**\n * This interface provides a `adoptEmbedWindow` method that will be called by\n * runtime for a new embed window.\n * @interface\n */\nexport class EmbeddableService {\n\n  /**\n   * Instructs the service to adopt the embed window and add any necessary\n   * listeners and resources.\n   * @param {!Window} unusedEmbedWin\n   */\n  adoptEmbedWindow(unusedEmbedWin) {}\n}\n\n\n/**\n * Returns a service with the given id. Assumes that it has been registered\n * already.\n * @param {!Window} win\n * @param {string} id\n * @param {boolean=} opt_fallbackToTopWin\n * @return {Object} The service.\n */\nexport function getExistingServiceInEmbedScope(win, id, opt_fallbackToTopWin) {\n  // First, try to resolve via local (embed) window.\n  const local = getLocalExistingServiceForEmbedWinOrNull(win, id);\n  if (local) {\n    return local;\n  }\n  if (opt_fallbackToTopWin) {\n    return getService(win, id);\n  }\n  return null;\n}\n\n/**\n * Returns a service with the given id. Assumes that it has been constructed\n * already.\n *\n * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n * services since sometimes we only have the FIE Document for context.\n *\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @param {string} id\n * @param {boolean=} opt_fallbackToTopWin\n * @return {Object} The service.\n */\nexport function getExistingServiceForDocInEmbedScope(\n  nodeOrDoc, id, opt_fallbackToTopWin) {\n  // First, try to resolve via local (embed) window.\n  if (nodeOrDoc.nodeType) {\n    // If a node is passed, try to resolve via this node.\n    const win = toWin(/** @type {!Document} */ (\n      nodeOrDoc.ownerDocument || nodeOrDoc).defaultView);\n    const local = getLocalExistingServiceForEmbedWinOrNull(win, id);\n    if (local) {\n      return local;\n    }\n  }\n  // If an ampdoc is passed or fallback is allowed, continue resolving.\n  if (!nodeOrDoc.nodeType || opt_fallbackToTopWin) {\n    return getServiceForDocDeprecated(nodeOrDoc, id);\n  }\n  return null;\n}\n\n/**\n * Installs a service override on amp-doc level.\n * @param {!Window} embedWin\n * @param {string} id\n * @param {!Object} service The service.\n */\nexport function installServiceInEmbedScope(embedWin, id, service) {\n  const topWin = getTopWindow(embedWin);\n  dev().assert(embedWin != topWin,\n      'Service override can only be installed in embed window: %s', id);\n  dev().assert(!getLocalExistingServiceForEmbedWinOrNull(embedWin, id),\n      'Service override has already been installed: %s', id);\n  registerServiceInternal(embedWin, embedWin, id, () => service);\n  getServiceInternal(embedWin, id); // Force service to build.\n}\n\n/**\n * @param {!Window} embedWin\n * @param {string} id\n * @return {?Object}\n */\nfunction getLocalExistingServiceForEmbedWinOrNull(embedWin, id) {\n  // Note that this method currently only resolves against the given window.\n  // It does not try to go all the way up the parent window chain. We can change\n  // this in the future, but for now this gives us a better performance.\n  const topWin = getTopWindow(embedWin);\n  if (embedWin != topWin && isServiceRegistered(embedWin, id)) {\n    return getServiceInternal(embedWin, id);\n  } else {\n    return null;\n  }\n}\n\n/**\n * Registers a service given a class to be used as implementation.\n * @param {!Window} win\n * @param {string} id of the service.\n * @param {function(new:Object, !Window)} constructor\n * @param {boolean=} opt_instantiate Whether to immediately create the service\n */\nexport function registerServiceBuilder(win,\n  id,\n  constructor,\n  opt_instantiate) {\n  win = getTopWindow(win);\n  registerServiceInternal(win, win, id, constructor);\n  if (opt_instantiate) {\n    getServiceInternal(win, id);\n  }\n}\n\n\n/**\n * Returns a service and registers it given a class to be used as\n * implementation.\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @param {string} id of the service.\n * @param {function(new:Object, !./service/ampdoc-impl.AmpDoc)} constructor\n * @param {boolean=} opt_instantiate Whether to immediately create the service\n */\nexport function registerServiceBuilderForDoc(nodeOrDoc,\n  id,\n  constructor,\n  opt_instantiate) {\n  const ampdoc = getAmpdoc(nodeOrDoc);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  registerServiceInternal(holder, ampdoc, id, constructor);\n  if (opt_instantiate) {\n    getServiceInternal(holder, id);\n  }\n}\n\n\n/**\n * Returns a service for the given id and window (a per-window singleton). Users\n * should typically wrap this as a special purpose function (e.g.\n * `Services.vsyncFor(win)`) for type safety and because the factory should not\n * be passed around.\n * @param {!Window} win\n * @param {string} id of the service.\n * @template T\n * @return {T}\n */\nexport function getService(win, id) {\n  win = getTopWindow(win);\n  return getServiceInternal(win, id);\n}\n\n\n/**\n * Returns a promise for a service for the given id and window. Also expects an\n * element that has the actual implementation. The promise resolves when the\n * implementation loaded. Users should typically wrap this as a special purpose\n * function (e.g. `Services.vsyncFor(win)`) for type safety and because the\n * factory should not be passed around.\n * @param {!Window} win\n * @param {string} id of the service.\n * @return {!Promise<!Object>}\n */\nexport function getServicePromise(win, id) {\n  return getServicePromiseInternal(win, id);\n}\n\n\n/**\n * Returns a service or null with the given id.\n * @param {!Window} win\n * @param {string} id\n * @return {?Object} The service.\n */\nexport function getExistingServiceOrNull(win, id) {\n  win = getTopWindow(win);\n  if (isServiceRegistered(win, id)) {\n    return getServiceInternal(win, id);\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * Like getServicePromise but returns null if the service was never registered.\n * @param {!Window} win\n * @param {string} id\n * @return {?Promise<!Object>}\n */\nexport function getServicePromiseOrNull(win, id) {\n  return getServicePromiseOrNullInternal(win, id);\n}\n\n\n/**\n * Returns a service for the given id and ampdoc (a per-ampdoc singleton).\n * Expects service `id` to be registered.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id\n * @return {T}\n * @template T\n */\nexport function getServiceForDoc(elementOrAmpDoc, id) {\n  const ampdoc = getAmpdoc(elementOrAmpDoc);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  return getServiceInternal(holder, id);\n}\n\n\n/**\n * tl;dr -- Use getServiceForDoc() instead of this.\n *\n * Privileged variant of getServiceForDoc() that accepts non-element params,\n * e.g. window.document. This is currently necessary for doc-level services\n * used in startup, e.g. Chunks. Eventually we want to remove this function\n * and have callers find the appropriate AmpDoc and use getServiceForDoc().\n *\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @param {string} id\n * @return {T}\n * @template T\n */\nexport function getServiceForDocDeprecated(nodeOrDoc, id) {\n  const ampdoc = getAmpdoc(nodeOrDoc);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  return getServiceInternal(holder, id);\n}\n\n\n/**\n * Returns a promise for a service for the given id and ampdoc. Also expects\n * a service that has the actual implementation. The promise resolves when\n * the implementation loaded.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id\n * @return {!Promise<!Object>}\n */\nexport function getServicePromiseForDoc(elementOrAmpDoc, id) {\n  return getServicePromiseInternal(\n      getAmpdocServiceHolder(elementOrAmpDoc), id);\n}\n\n\n/**\n * Like getServicePromiseForDoc but returns null if the service was never\n * registered for this ampdoc.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id\n * @return {?Promise<!Object>}\n */\nexport function getServicePromiseOrNullForDoc(elementOrAmpDoc, id) {\n  return getServicePromiseOrNullInternal(\n      getAmpdocServiceHolder(elementOrAmpDoc), id);\n}\n\n/**\n * Set the parent and top windows on a child window (friendly iframe).\n * @param {!Window} win\n * @param {!Window} parentWin\n */\nexport function setParentWindow(win, parentWin) {\n  win.__AMP_PARENT = parentWin;\n  win.__AMP_TOP = getTopWindow(parentWin);\n}\n\n\n/**\n * Returns the parent window for a child window (friendly iframe).\n * @param {!Window} win\n * @return {!Window}\n */\nexport function getParentWindow(win) {\n  return win.__AMP_PARENT || win;\n}\n\n\n/**\n * Returns the top window where AMP Runtime is installed for a child window\n * (friendly iframe).\n * @param {!Window} win\n * @return {!Window}\n */\nexport function getTopWindow(win) {\n  return win.__AMP_TOP || win;\n}\n\n\n/**\n * Returns the parent \"friendly\" iframe if the node belongs to a child window.\n * @param {!Node} node\n * @param {!Window} topWin\n * @return {?HTMLIFrameElement}\n */\nexport function getParentWindowFrameElement(node, topWin) {\n  const childWin = (node.ownerDocument || node).defaultView;\n  if (childWin && childWin != topWin && getTopWindow(childWin) == topWin) {\n    try {\n      return /** @type {?HTMLIFrameElement} */ (childWin.frameElement);\n    } catch (e) {\n      // Ignore the error.\n    }\n  }\n  return null;\n}\n\n\n/**\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @return {!./service/ampdoc-impl.AmpDoc}\n */\nexport function getAmpdoc(nodeOrDoc) {\n  if (nodeOrDoc.nodeType) {\n    const win = toWin(/** @type {!Document} */ (\n      nodeOrDoc.ownerDocument || nodeOrDoc).defaultView);\n    return getAmpdocService(win).getAmpDoc(/** @type {!Node} */ (nodeOrDoc));\n  }\n  return /** @type {!./service/ampdoc-impl.AmpDoc} */ (nodeOrDoc);\n}\n\n\n/**\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @return {!./service/ampdoc-impl.AmpDoc|!Window}\n */\nfunction getAmpdocServiceHolder(nodeOrDoc) {\n  const ampdoc = getAmpdoc(nodeOrDoc);\n  return ampdoc.isSingleDoc() ? ampdoc.win : ampdoc;\n}\n\n\n/**\n * This is essentially a duplicate of `ampdoc.js`, but necessary to avoid\n * circular dependencies.\n * @param {!Window} win\n * @return {!./service/ampdoc-impl.AmpDocService}\n */\nfunction getAmpdocService(win) {\n  return /** @type {!./service/ampdoc-impl.AmpDocService} */ (\n    getService(win, 'ampdoc'));\n}\n\n\n/**\n * Get service `id` from `holder`. Assumes the service\n * has already been registered.\n * @param {!Object} holder Object holding the service instance.\n * @param {string} id of the service.\n * @return {Object}\n * @template T\n */\nfunction getServiceInternal(holder, id) {\n  dev().assert(isServiceRegistered(holder, id),\n      `Expected service ${id} to be registered`);\n  const services = getServices(holder);\n  const s = services[id];\n  if (!s.obj) {\n    dev().assert(s.ctor, `Service ${id} registered without ctor nor impl.`);\n    dev().assert(s.context, `Service ${id} registered without context.`);\n    s.obj = new s.ctor(s.context);\n    dev().assert(s.obj, `Service ${id} constructed to null.`);\n    s.ctor = null;\n    s.context = null;\n    // The service may have been requested already, in which case we have a\n    // pending promise we need to fulfill.\n    if (s.resolve) {\n      s.resolve(s.obj);\n    }\n  }\n  return s.obj;\n}\n\n/**\n * @param {!Object} holder Object holding the service instance.\n * @param {!Window|!./service/ampdoc-impl.AmpDoc} context Win or AmpDoc.\n * @param {string} id of the service.\n * @param {?function(new:Object, !Window)|?function(new:Object, !./service/ampdoc-impl.AmpDoc)} ctor Constructor function to new the service. Called with context.\n */\nfunction registerServiceInternal(holder, context, id, ctor) {\n  const services = getServices(holder);\n  let s = services[id];\n\n  if (!s) {\n    s = services[id] = {\n      obj: null,\n      promise: null,\n      resolve: null,\n      context: null,\n      ctor: null,\n    };\n  }\n\n  if (s.ctor || s.obj) {\n    // Service already registered.\n    return;\n  }\n\n  s.ctor = ctor;\n  s.context = context;\n\n  // The service may have been requested already, in which case there is a\n  // pending promise that needs to fulfilled.\n  if (s.resolve) {\n    // getServiceInternal will resolve the promise.\n    getServiceInternal(holder, id);\n  }\n}\n\n/**\n * @param {!Object} holder\n * @param {string} id of the service.\n * @return {!Promise<!Object>}\n */\nfunction getServicePromiseInternal(holder, id) {\n  const cached = getServicePromiseOrNullInternal(holder, id);\n  if (cached) {\n    return cached;\n  }\n  // Service is not registered.\n\n  // TODO(@cramforce): Add a check that if the element is eventually registered\n  // that the service is actually provided and this promise resolves.\n  const deferred = new Deferred();\n  const {promise, resolve} = deferred;\n\n  const services = getServices(holder);\n  services[id] = {\n    obj: null,\n    promise,\n    resolve,\n    context: null,\n    ctor: null,\n  };\n  return promise;\n}\n\n\n/**\n * Returns a promise for service `id` if the service has been registered\n * on `holder`.\n * @param {!Object} holder\n * @param {string} id of the service.\n * @return {?Promise<!Object>}\n */\nfunction getServicePromiseOrNullInternal(holder, id) {\n  const services = getServices(holder);\n  const s = services[id];\n  if (s) {\n    if (s.promise) {\n      return s.promise;\n    } else {\n      // Instantiate service if not already instantiated.\n      getServiceInternal(holder, id);\n      return s.promise = Promise.resolve(/** @type {!Object} */ (s.obj));\n    }\n  }\n  return null;\n}\n\n\n/**\n * Returns the object that holds the services registered in a holder.\n * @param {!Object} holder\n * @return {!Object<string,!ServiceHolderDef>}\n */\nfunction getServices(holder) {\n  let {services} = holder;\n  if (!services) {\n    services = holder.services = {};\n  }\n  return services;\n}\n\n\n/**\n * Whether the specified service implements `Disposable` interface.\n * @param {!Object} service\n * @return {boolean}\n */\nexport function isDisposable(service) {\n  return typeof service.dispose == 'function';\n}\n\n\n/**\n * Asserts that the specified service implements `Disposable` interface and\n * typecasts the instance to `Disposable`.\n * @param {!Object} service\n * @return {!Disposable}\n */\nexport function assertDisposable(service) {\n  dev().assert(isDisposable(service), 'required to implement Disposable');\n  return /** @type {!Disposable} */ (service);\n}\n\n\n/**\n * Disposes all disposable (implements `Disposable` interface) services in\n * ampdoc scope.\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc\n */\nexport function disposeServicesForDoc(ampdoc) {\n  disposeServicesInternal(ampdoc);\n}\n\n\n/**\n * Disposes all disposable (implements `Disposable` interface) services in\n * embed scope.\n * @param {!Window} embedWin\n */\nexport function disposeServicesForEmbed(embedWin) {\n  disposeServicesInternal(embedWin);\n}\n\n\n/**\n * @param {!Object} holder Object holding the service instances.\n */\nfunction disposeServicesInternal(holder) {\n  // TODO(dvoytenko): Consider marking holder as destroyed for later-arriving\n  // service to be canceled automatically.\n  const services = getServices(holder);\n  for (const id in services) {\n    if (!Object.prototype.hasOwnProperty.call(services, id)) {\n      continue;\n    }\n    const serviceHolder = services[id];\n    if (serviceHolder.obj) {\n      disposeServiceInternal(id, serviceHolder.obj);\n    } else if (serviceHolder.promise) {\n      serviceHolder.promise.then(\n          instance => disposeServiceInternal(id, instance));\n    }\n  }\n}\n\n\n/**\n * @param {string} id\n * @param {!Object} service\n */\nfunction disposeServiceInternal(id, service) {\n  if (!isDisposable(service)) {\n    return;\n  }\n  try {\n    assertDisposable(service).dispose();\n  } catch (e) {\n    // Ensure that a failure to dispose a service does not disrupt other\n    // services.\n    dev().error('SERVICE', 'failed to dispose service', id, e);\n  }\n}\n\n\n/**\n * Whether the specified service implements `EmbeddableService` interface.\n * @param {!Object} service\n * @return {boolean}\n */\nexport function isEmbeddable(service) {\n  return typeof service.adoptEmbedWindow == 'function';\n}\n\n\n/**\n * Adopts an embeddable (implements `EmbeddableService` interface) service\n * in embed scope.\n * @param {!Window} embedWin\n * @param {string} serviceId\n */\nexport function adoptServiceForEmbed(embedWin, serviceId) {\n  const adopted = adoptServiceForEmbedIfEmbeddable(embedWin, serviceId);\n  dev().assert(adopted, `Service ${serviceId} not found on parent ` +\n      'or doesn\\'t implement EmbeddableService.');\n}\n\n\n/**\n * Adopts an embeddable (implements `EmbeddableService` interface) service\n * in embed scope.\n * @param {!Window} embedWin\n * @param {string} serviceId\n * @return {boolean}\n */\nexport function adoptServiceForEmbedIfEmbeddable(embedWin, serviceId) {\n  const frameElement = /** @type {!Node} */ (dev().assert(\n      embedWin.frameElement,\n      'frameElement not found for embed'));\n  const ampdoc = getAmpdoc(frameElement);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  if (!isServiceRegistered(holder, serviceId)) {\n    return false;\n  }\n  const service = getServiceForDocDeprecated(frameElement, serviceId);\n  if (!isEmbeddable(service)) {\n    return false;\n  }\n  service.adoptEmbedWindow(embedWin);\n  return true;\n}\n\n\n/**\n * Resets a single service, so it gets recreated on next getService invocation.\n * @param {!Object} holder\n * @param {string} id of the service.\n */\nexport function resetServiceForTesting(holder, id) {\n  if (holder.services) {\n    holder.services[id] = null;\n  }\n}\n\n/**\n * @param {!Object} holder Object holding the service instance.\n * @param {string} id of the service.\n * @return {boolean}\n */\nfunction isServiceRegistered(holder, id) {\n  const service = holder.services && holder.services[id];\n  // All registered services must have an implementation or a constructor.\n  return !!(service && (service.ctor || service.obj));\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use baseInstance file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  PositionObserverFidelity, // eslint-disable-line no-unused-vars\n  PositionObserverWorker, // eslint-disable-line no-unused-vars\n} from './position-observer-worker';\nimport {Services} from '../../services';\nimport {debounce} from '../../utils/rate-limit';\nimport {dev} from '../../log';\nimport {registerServiceBuilderForDoc} from '../../service';\n\n/** @const @private */\nconst TAG = 'POSITION_OBSERVER';\n\n/** @const @private */\nconst SCROLL_TIMEOUT = 500;\n\n\nexport class PositionObserver {\n  /**\n   * @param {!../ampdoc-impl.AmpDoc} ampdoc\n   */\n  constructor(ampdoc) {\n    /** @private {!../ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = ampdoc;\n\n    /** @private {!Window} */\n    this.win_ = ampdoc.win;\n\n    /** @private {!Array<!PositionObserverWorker>} */\n    this.workers_ = [];\n\n    /** @private {!../vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    /** @private {!../viewport/viewport-impl.Viewport} */\n    this.viewport_ = Services.viewportForDoc(ampdoc);\n\n    /** @private {Array<function()>} */\n    this.unlisteners_ = [];\n\n    /** @private {boolean} */\n    this.inScroll_ = false;\n\n    /** @private {boolean} */\n    this.measure_ = false;\n\n    /** @private {boolean} */\n    this.callbackStarted_ = false;\n\n    /** @private {function()} */\n    this.boundStopScroll_ = debounce(this.win_, () => {\n      this.inScroll_ = false;\n    }, SCROLL_TIMEOUT);\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {!PositionObserverFidelity} fidelity\n   * @param {function(?./position-observer-worker.PositionInViewportEntryDef)} handler\n   * @return {!UnlistenDef}\n   */\n  observe(element, fidelity, handler) {\n    const worker =\n        new PositionObserverWorker(this.ampdoc_, element, fidelity, handler);\n\n    this.workers_.push(worker);\n\n    if (!this.callbackStarted_) {\n      this.startCallback_();\n    }\n\n    worker.update();\n\n    return () => {\n      for (let i = 0; i < this.workers_.length; i++) {\n        if (this.workers_[i] == worker) {\n          this.removeWorker_(i);\n          return;\n        }\n      }\n    };\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  unobserve(element) {\n    for (let i = 0; i < this.workers_.length; i++) {\n      if (this.workers_[i].element == element) {\n        this.removeWorker_(i);\n        return;\n      }\n    }\n    dev().error(TAG, 'cannot unobserve unobserved element');\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  removeWorker_(index) {\n    this.workers_.splice(index, 1);\n    if (this.workers_.length == 0) {\n      this.stopCallback_();\n    }\n  }\n\n  /**\n   * Callback function that gets called when start to observe the first element.\n   * @private\n   */\n  startCallback_() {\n    this.callbackStarted_ = true;\n    // listen to viewport scroll event to help pass determine if need to\n    this.unlisteners_.push(this.viewport_.onScroll(() => {\n      this.onScrollHandler_();\n    }));\n    this.unlisteners_.push(this.viewport_.onResize(() => {\n      this.onResizeHandler_();\n    }));\n  }\n\n  /**\n   * Callback function that gets called when unobserve last observed element.\n   * @private\n   */\n  stopCallback_() {\n    this.callbackStarted_ = false;\n    while (this.unlisteners_.length) {\n      const unlisten = this.unlisteners_.pop();\n      unlisten();\n    }\n  }\n\n  /**\n   * This should always be called in vsync.\n   * @param {boolean=} opt_force\n   * @visibleForTesting\n  */\n  updateAllEntries(opt_force) {\n    for (let i = 0; i < this.workers_.length; i++) {\n      const worker = this.workers_[i];\n      worker.update(opt_force);\n    }\n  }\n\n  /**\n   * Handle viewport scroll event\n   * @private\n   */\n  onScrollHandler_() {\n    this.boundStopScroll_();\n    this.inScroll_ = true;\n    if (!this.measure_) {\n      this.schedulePass_();\n    }\n  }\n\n  /**\n   * Handle viewport resize event\n   * @private\n   */\n  onResizeHandler_() {\n    this.updateAllEntries(true);\n  }\n\n  /**\n   * Update all entries during scroll\n   * @private\n   */\n  schedulePass_() {\n    // TODO (@zhouyx, #9208):\n    // P1: account for effective fidelity using this.effectiveFidelity\n    // P2: do passes on onDomMutation (if available using MutationObserver\n    // mostly for in-a-box host, since most DOM mutations are constraint to the\n    // AMP elements).\n    this.updateAllEntries();\n    this.measure_ = true;\n    if (!this.inScroll_) {\n      // Stop measure if viewport is no longer scrolling\n      this.measure_ = false;\n      return;\n    }\n    this.vsync_.measure(() => {\n      this.schedulePass_();\n    });\n  }\n}\n\n/**\n * @param {!../ampdoc-impl.AmpDoc} ampdoc\n */\nexport function installPositionObserverServiceForDoc(ampdoc) {\n  registerServiceBuilderForDoc(ampdoc, 'position-observer', () => {\n    return new PositionObserver(ampdoc);\n  });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use baseInstance file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../services';\nimport {dev} from '../../log';\nimport {\n  layoutRectEquals,\n  layoutRectLtwh,\n  layoutRectsOverlap,\n  layoutRectsRelativePos,\n} from '../../layout-rect';\n\n/** @enum {number} */\nexport const PositionObserverFidelity = {\n  HIGH: 1,\n  LOW: 0,\n};\n\n/** @const @private */\nconst LOW_FIDELITY_FRAME_COUNT = 4;\n\n/**\n * TODO (@zhouyx): rename relativePos to relativePositions\n * The positionObserver returned position value which includes the position rect\n * relative to viewport. And viewport rect which always has top 0, left 0, and\n * viewport width and height.\n * @typedef {{\n *  positionRect: ?../../layout-rect.LayoutRectDef,\n *  viewportRect: !../../layout-rect.LayoutRectDef,\n *  relativePos: string,\n * }}\n */\nexport let PositionInViewportEntryDef;\n\nexport class PositionObserverWorker {\n  /**\n   * @param {!../ampdoc-impl.AmpDoc} ampdoc\n   * @param {!Element} element\n   * @param {!PositionObserverFidelity} fidelity\n   * @param {function(?PositionInViewportEntryDef)} handler\n   */\n  constructor(ampdoc, element, fidelity, handler) {\n    /** @const {!Element} */\n    this.element = element;\n\n    /** @const {function(?PositionInViewportEntryDef)} */\n    this.handler_ = handler;\n\n    /** @type {!PositionObserverFidelity} */\n    this.fidelity = fidelity;\n\n    /** @type {number} */\n    this.turn = (fidelity == PositionObserverFidelity.LOW) ?\n      Math.floor(Math.random() * LOW_FIDELITY_FRAME_COUNT) : 0;\n\n    /** @type {?PositionInViewportEntryDef} */\n    this.prevPosition_ = null;\n\n    /** @private {!../viewport/viewport-impl.Viewport} */\n    this.viewport_ = Services.viewportForDoc(ampdoc);\n  }\n\n  /**\n   * Call to trigger an entry handler\n   * @param {!PositionInViewportEntryDef} position\n   * @private\n   */\n  trigger_(position) {\n    const prevPos = this.prevPosition_;\n    if (prevPos\n        && layoutRectEquals(prevPos.positionRect, position.positionRect)\n        && layoutRectEquals(prevPos.viewportRect, position.viewportRect)) {\n      // position didn't change, do nothing.\n      return;\n    }\n\n    dev().assert(position.positionRect,\n        'PositionObserver should always trigger entry with clientRect');\n    const positionRect =\n    /** @type {!../../layout-rect.LayoutRectDef} */ (position.positionRect);\n    // Add the relative position of the element to its viewport\n    position.relativePos = layoutRectsRelativePos(positionRect,\n        position.viewportRect);\n\n    if (layoutRectsOverlap(positionRect, position.viewportRect)) {\n      // Update position\n      this.prevPosition_ = position;\n      // Only call handler if entry element overlap with viewport.\n      this.handler_(position);\n    } else if (this.prevPosition_) {\n      // Need to notify that element gets outside viewport\n      // NOTE: This is required for inabox position observer.\n      this.prevPosition_ = null;\n      position.positionRect = null;\n      this.handler_(position);\n    }\n  }\n\n  /**\n   * To update the position of entry element when it is ready.\n   * Called when updateAllEntries, or when first observe an element.\n   * @param {boolean=} opt_force\n   */\n  update(opt_force) {\n    if (!opt_force) {\n      if (this.turn != 0) {\n        this.turn--;\n        return;\n      }\n\n      if (this.fidelity == PositionObserverFidelity.LOW) {\n        this.turn = LOW_FIDELITY_FRAME_COUNT;\n      }\n    }\n\n    const viewportSize = this.viewport_.getSize();\n    const viewportBox =\n        layoutRectLtwh(0, 0, viewportSize.width, viewportSize.height);\n    this.viewport_.getClientRectAsync(this.element).then(elementBox => {\n      this.trigger_(\n      /** @type {./position-observer-worker.PositionInViewportEntryDef}*/ ({\n            positionRect: elementBox,\n            viewportRect: viewportBox,\n            relativePos: '',\n          }));\n    });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/** @typedef {../video-interface.VideoAnalyticsDetailsDef} */\nlet VideoAnalyticsDetailsDef; // alias for line length\n\n\n/** @interface */\nexport class VideoServiceInterface {\n\n  /** @param {!../video-interface.VideoInterface} unusedVideo */\n  register(unusedVideo) {}\n\n  /**\n   * Gets the current analytics details for the given video.\n   * Fails silently if the video is not registered.\n   * @param {!AmpElement} unusedVideo\n   * @return {!Promise<!VideoAnalyticsDetailsDef>|!Promise<void>}\n   */\n  getAnalyticsDetails(unusedVideo) {}\n\n  /**\n   * @param {!../video-interface.VideoInterface} unusedVideo\n   * @return {boolean}\n   */\n  isMuted(unusedVideo) {}\n\n  /**\n   * @param {!../video-interface.VideoInterface} unusedVideo\n   * @return {!../video-interface.VideoInterface} PlayingStates\n   */\n  getPlayingState(unusedVideo) {}\n}\n\n\n/** @enum {string} */\nexport const VideoServiceSignals = {\n  USER_INTERACTED: 'user-interacted',\n  AUTOPLAY_DELEGATED: 'autoplay-delegated',\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Autoplay, AutoplayEvents} from './video/autoplay';\nimport {PlayingStates, VideoAttributes, VideoEvents} from '../video-interface';\nimport {Services} from '../services';\nimport {VideoServiceSignals} from './video-service-interface';\nimport {dev} from '../log';\nimport {getAmpdoc} from '../service';\nimport {getElementServiceForDoc} from '../element-service';\nimport {isExperimentOn} from '../experiments';\nimport {listen, listenOncePromise} from '../event-helper';\nimport {once} from '../utils/function';\n\n\n/** @private @const {string} */\nconst EXTENSION = 'amp-video-service';\n\n\n/** @private @const {string} */\nconst TAG = 'video-service';\n\n\n/**\n * @typedef\n * {../../extensions/amp-video-service/0.1/amp-video-service.VideoService}\n */\nlet VideoServiceDef; // alias for line length.\n\n\n/**\n * Provides unified behavior for all videos regardless of implementation.\n *\n * This service is a faade around an async-loaded implementation.\n * See {@link AmpVideoService} for the underlying service.\n *\n * This co-eexists with `VideoManager` (deprecated) while the implementation\n * is migrated.\n *\n * @implements {./video-service-interface.VideoServiceInterface}\n */\nexport class VideoServiceSync {\n\n  /** @param {!./ampdoc-impl.AmpDoc} ampdoc */\n  constructor(ampdoc) {\n    const {win} = ampdoc;\n\n    /** @private @const {!./ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = ampdoc;\n\n    /** @private @const {!Promise<!VideoServiceDef>}  */\n    this.asyncImpl_ = VideoServiceSync.videoServiceFor(win, ampdoc);\n\n    /**\n     * @return {!Autoplay}\n     * @private\n     */\n    this.getAutoplay_ = once(() => new Autoplay(this.ampdoc_));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {boolean}\n   * @visibleForTesting\n   */\n  static shouldBeUsedIn(win) {\n    return isExperimentOn(win, 'video-service');\n  }\n\n  /**\n   * @param {!Window} win\n   * @param {!Node|!./ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!Promise<!VideoServiceDef>}\n   * @visibleForTesting\n   */\n  static videoServiceFor(win, nodeOrDoc) {\n    // Not exposed in ../services.js since we don't want other modules to\n    // instantiate or access the service.\n    const extensions = Services.extensionsFor(win);\n    const ampdoc = getAmpdoc(nodeOrDoc);\n    return extensions.installExtensionForDoc(ampdoc, EXTENSION)\n        .then(() => /** @type {!Promise<!VideoServiceDef>} */ (\n          getElementServiceForDoc(ampdoc, 'video-service', EXTENSION)));\n  }\n\n  /** @override */\n  register(video) {\n    this.asyncImpl_.then(impl =>\n      impl.register(video));\n\n    this.maybeInstallAutoplay_(video);\n\n    new VideoEntry(video);\n  }\n\n  /**\n   * @param  {!../video-interface.VideoOrBaseElementDef} video\n   * @private\n   */\n  maybeInstallAutoplay_(video) {\n    if (!video.element.hasAttribute(VideoAttributes.AUTOPLAY)) {\n      return;\n    }\n\n    this.getAutoplay_().register(video);\n\n    const autoplayDelegated = VideoServiceSignals.AUTOPLAY_DELEGATED;\n    video.signals().whenSignal(autoplayDelegated).then(() => {\n      this.getAutoplay_().delegate(video.element);\n    });\n  }\n\n  /**\n   * @param {!AmpElement|!../base-element.BaseElement} video\n   */\n  static delegateAutoplay(video) {\n    video.signals().signal(VideoServiceSignals.AUTOPLAY_DELEGATED);\n  }\n\n  /** @override */\n  getAnalyticsDetails(video) {\n    return this.asyncImpl_.then(impl =>\n      impl.getAnalyticsDetails(video));\n  }\n\n  /** @override */\n  isMuted(unusedVideo) {\n    dev().warn(TAG, 'isMuted is not implemented');\n    return false;\n  }\n\n  /** @override */\n  getPlayingState(unusedVideo) {\n    dev().warn(TAG, 'getPlayingState is not implemented');\n    return PlayingStates.PAUSED;\n  }\n}\n\n\n/** @visibleForTesting */\nexport class VideoEntry {\n\n  /** @param {!../video-interface.VideoOrBaseElementDef} video */\n  constructor(video) {\n\n    /** @private @const {!../video-interface.VideoOrBaseElementDef} */\n    this.video_ = video;\n\n    /** @private @const {!AmpElement} */\n    this.element_ = video.element;\n\n    /** @private @const {!Promise} */\n    this.loadPromise_ = listenOncePromise(this.element_, VideoEvents.LOAD);\n\n    this.listenToAutoplayEvents_();\n\n    setVideoComponentClassname(this.element_);\n  }\n\n  /**\n   * @param {string} event\n   * @param {function(!Event)} handler\n   * @private\n   */\n  listenOnLoad_(event, handler) {\n    listen(this.element_, event, e => {\n      this.loadPromise_.then(() => {\n        handler(e);\n      });\n    });\n  }\n\n  /** @private */\n  listenToAutoplayEvents_() {\n    // TODO(alanorozco): Keep track of session\n    this.listenOnLoad_(AutoplayEvents.PLAY, () => {\n      this.video_.play(/* auto */ true);\n    });\n\n    this.listenOnLoad_(AutoplayEvents.PAUSE, () => {\n      this.video_.pause();\n    });\n  }\n}\n\n/**\n * @param {!Element} element\n */\nexport function setVideoComponentClassname(element) {\n  element.classList.add('i-amphtml-video-component');\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  MIN_VISIBILITY_RATIO_FOR_AUTOPLAY,\n  VideoEvents,\n} from '../../video-interface';\nimport {\n  PositionObserverFidelity,\n} from '../position-observer/position-observer-worker';\nimport {Services} from '../../services';\nimport {VideoServiceSignals} from '../video-service-interface';\nimport {VideoUtils} from '../../utils/video';\nimport {dev} from '../../log';\nimport {getData, listen, listenOnce} from '../../event-helper';\nimport {getMode} from '../../mode';\nimport {getServiceForDoc} from '../../service';\nimport {htmlFor} from '../../static-template';\nimport {installAutoplayStylesForDoc} from './install-autoplay-styles';\nimport {\n  installPositionObserverServiceForDoc,\n} from '../position-observer/position-observer-impl';\nimport {isFiniteNumber} from '../../types';\nimport {once} from '../../utils/function';\nimport {removeElement} from '../../dom';\n\n\n/** @private @enum {string} */\nexport const AutoplayEvents = {\n  PLAY: 'amp:autoplay',\n  PAUSE: 'amp:autopause',\n};\n\n/**\n * @param {!Element} node\n * @return {!Element}\n */\nfunction cloneDeep(node) {\n  return dev().assertElement(node.cloneNode(/* deep */ true));\n}\n\n\n/**\n * @param {function(!Window, !Element):!Element} renderFn\n * @return {function(!Window, !Element):!Element}\n */\nfunction renderOrClone(renderFn) {\n  const seedFn = once(renderFn);\n  return (win, doc) => cloneDeep(seedFn(win, doc));\n}\n\n\n/**\n * @param {!Window} unusedWin\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nexport function renderInteractionOverlay(unusedWin, elOrDoc) {\n  const html = htmlFor(elOrDoc);\n  return html`<i-amphtml-video-mask class=\"i-amphtml-fill-content\" role=button>\n    </i-amphtml-video-mask>`;\n}\n\n\n/**\n * @param {!Window} win\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nexport function renderIcon(win, elOrDoc) {\n  const icon = htmlFor(elOrDoc)`<i-amphtml-video-icon class=\"amp-video-eq\">\n    <div class=\"amp-video-eq-col\">\n      <div class=\"amp-video-eq-filler\"></div>\n      <div class=\"amp-video-eq-filler\"></div>\n    </div>\n  </i-amphtml-video-icon>`;\n\n  // Copy equalizer column 4x and annotate filler positions for animation.\n  const firstCol = dev().assertElement(icon.firstElementChild);\n  for (let i = 0; i < 4; i++) {\n    const col = cloneDeep(firstCol);\n    const fillers = col.children;\n    for (let j = 0; j < fillers.length; j++) {\n      const filler = fillers[j];\n      filler.classList.add(`amp-video-eq-${i + 1}-${j + 1}`);\n    }\n    icon.appendChild(col);\n  }\n\n  // Remove seed column.\n  removeElement(firstCol);\n\n  if (Services.platformFor(win).isIos()) {\n    // iOS is unable to pause hardware accelerated animations.\n    icon.setAttribute('unpausable', '');\n  }\n\n  return icon;\n}\n\n\n/**\n * @param {!Window} unusedWin\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nconst renderOrCloneInteractionOverlay = renderOrClone(renderInteractionOverlay);\n\n\n/**\n * @param {!Window} unusedWin\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nconst renderOrCloneIcon = renderOrClone(renderIcon);\n\n\n/** Manages autoplay video. */\nexport class Autoplay {\n\n  /** @param {!../ampdoc-impl.AmpDoc} ampdoc */\n  constructor(ampdoc) {\n\n    /** @private @const {!../ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = ampdoc;\n\n    /**\n     * @return {!../position-observer/position-observer-impl.PositionObserver}\n     * @restricted\n     */\n    this.getPositionObserver_ = once(() => this.installPositionObserver_());\n\n    /** @private @const {!Array<!AutoplayEntry>} */\n    this.entries_ = [];\n\n    /**\n     * @return {!Promise<boolean>}\n     * @private\n     */\n    this.isSupported_ = once(() => {\n      // Can't destructure as the compiler expects direct member access for\n      // `getMode`.\n      const {win} = this.ampdoc_;\n      const isLite = getMode(win).lite;\n      return VideoUtils.isAutoplaySupported(win, /* isLiteMode */ isLite);\n    });\n\n    installAutoplayStylesForDoc(this.ampdoc_);\n  }\n\n  /** @private */\n  installPositionObserver_() {\n    installPositionObserverServiceForDoc(this.ampdoc_);\n    // No getter in services.js.\n    return (\n      /** @type {\n       *   !../position-observer/position-observer-impl.PositionObserver\n       * } */ (getServiceForDoc(this.ampdoc_, 'position-observer')));\n  }\n\n  /**\n   * @param {!../../video-interface.VideoOrBaseElementDef} video\n   * @return {!Promise<?AutoplayEntry>} `null` when unsupported.\n   */\n  register(video) {\n    // Controls are hidden before support is determined to prevent visual jump\n    // for the common case where autoplay is supported.\n    if (video.isInteractive()) {\n      video.hideControls();\n    }\n\n    return this.isSupported_().then(isSupported => {\n      if (!isSupported) {\n        // Disable autoplay\n        if (video.isInteractive()) {\n          video.showControls();\n        }\n        return null;\n      }\n      const entry = AutoplayEntry.create(this, video);\n      this.entries_.push(entry);\n      return entry;\n    });\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  delegate(element) {\n    const entry = this.getEntryFor_(element);\n    if (!entry) {\n      return;\n    }\n    entry.delegate();\n  }\n\n  /**\n   * @param {!Element} element\n   * @return {?AutoplayEntry}\n   * @private\n   */\n  getEntryFor_(element) {\n    for (let i = 0; i < this.entries_.length; i++) {\n      const entry = this.entries_[i];\n      if (entry.video.element == element) {\n        return entry;\n      }\n    }\n    return null;\n  }\n}\n\n\n/** @visibleForTesting */\nexport class AutoplayEntry {\n\n  /**\n   * @param {!../ampdoc-impl.AmpDoc} ampdoc\n   * @param {\n   *   !../position-observer/position-observer-impl.PositionObserver\n   * } positionObserver\n   * @param {!../../video-interface.VideoOrBaseElementDef} video\n   */\n  constructor(ampdoc, positionObserver, video) {\n\n    /** @const {!../../video-interface.VideoOrBaseElementDef} */\n    this.video = video;\n\n    /** @private {!../ampdoc-impl.AmpDoc} ampdoc} */\n    this.ampdoc_ = ampdoc;\n\n    /** @private @const {!AmpElement}  */\n    this.element_ = video.element;\n\n    /** @private {boolean} */\n    this.isVisible_ = false;\n\n    /** @private {?Array<!UnlistenDef>} */\n    this.visibilityUnlisteners_ = [\n      this.observeOn_(positionObserver),\n      this.listenToVisibilityChange_(),\n    ];\n\n    // Only muted videos are allowed to autoplay\n    video.mute();\n    video.hideControls();\n\n    this.attachArtifacts_();\n  }\n\n  /**\n   * @param {!Autoplay} manager\n   * @param {!../../video-interface.VideoOrBaseElementDef} video\n   */\n  static create(manager, video) {\n    return new AutoplayEntry(\n        manager.ampdoc_, manager.getPositionObserver_(), video);\n  }\n\n  /**\n   * @param {\n   *   !../position-observer/position-observer-impl.PositionObserver\n   * } positionObserver\n   * @return {!UnlistenDef}\n   * @private\n   */\n  observeOn_(positionObserver) {\n    return positionObserver.observe(\n        this.element_,\n        PositionObserverFidelity.HIGH,\n        () => this.onPositionChange_());\n  }\n\n  /**\n   * @return {!UnlistenDef}\n   * @private\n   */\n  listenToVisibilityChange_() {\n    return listen(this.element_, VideoEvents.VISIBILITY, e => {\n      const data = getData(e);\n      const enforcedByEvent = data && data['visible'];\n      if (enforcedByEvent && !this.isVisible_) {\n        this.isVisible_ = enforcedByEvent;\n        this.trigger_(/* isPlaying */ enforcedByEvent);\n        return;\n      }\n      this.triggerByVisibility_();\n    });\n  }\n\n  /**\n   * Delegates autoplay so that it's triggered by a different module.\n   * @public\n   */\n  delegate() {\n    this.disableTriggerByVisibility_();\n    this.video.pause();\n  }\n\n  /** @private */\n  onPositionChange_() {\n    this.triggerByVisibility_();\n  }\n\n  /** @private */\n  triggerByVisibility_() {\n    const ratio = this.element_.getIntersectionChangeEntry().intersectionRatio;\n    const isVisible = (!isFiniteNumber(ratio) ? 0 : ratio) >=\n        MIN_VISIBILITY_RATIO_FOR_AUTOPLAY;\n    if (this.isVisible_ == isVisible) {\n      return;\n    }\n    this.isVisible_ = isVisible;\n    this.trigger_(/* isPlaying */ isVisible);\n  }\n\n  /**\n   * @param {boolean} isPlaying\n   * @private\n   */\n  trigger_(isPlaying) {\n    this.element_.dispatchCustomEvent(\n        isPlaying ? AutoplayEvents.PLAY : AutoplayEvents.PAUSE);\n  }\n\n  /** @private */\n  attachArtifacts_() {\n    // TODO(alanorozco): AD_START, AD_END\n    const {video} = this;\n    const signals = video.signals();\n    const userInteracted = VideoServiceSignals.USER_INTERACTED;\n\n    if (signals.get(userInteracted) != null) {\n      return;\n    }\n\n    const {win} = this.ampdoc_;\n\n    const icon = renderOrCloneIcon(win, this.element_);\n\n    video.mutateElement(() => {\n      this.element_.appendChild(icon);\n    });\n\n    const {element} = video;\n    const playOrPauseIconAnim = this.playOrPauseIconAnim_.bind(this, icon);\n\n    const unlisteners = [\n      listen(element, VideoEvents.PLAYING, () => playOrPauseIconAnim(true)),\n      listen(element, VideoEvents.PAUSE, () => playOrPauseIconAnim(false)),\n    ];\n\n    signals.whenSignal(userInteracted).then(() => {\n      unlisteners.forEach(unlisten => unlisten());\n      this.onInteraction_();\n    });\n\n    if (!this.video.isInteractive()) {\n      return;\n    }\n\n    const overlay = renderOrCloneInteractionOverlay(win, this.element_);\n\n    listenOnce(overlay, 'click', () => signals.signal(userInteracted));\n\n    video.mutateElement(() => {\n      this.element_.appendChild(overlay);\n    });\n  }\n\n  /** @private */\n  onInteraction_() {\n    const mask = this.element_.querySelector('i-amphtml-video-mask');\n    this.disableTriggerByVisibility_();\n    if (mask) {\n      removeElement(mask);\n    }\n    if (this.video.isInteractive()) {\n      this.video.showControls();\n    }\n    this.video.unmute();\n  }\n\n  /** @private */\n  disableTriggerByVisibility_() {\n    if (!this.visibilityUnlisteners_) {\n      return;\n    }\n    this.visibilityUnlisteners_.forEach(unlistener => unlistener());\n    this.visibilityUnlisteners_ = null; // GC\n  }\n\n  /**\n   * @param {!Element} icon\n   * @param {boolean} isPlaying\n   * @private\n   */\n  playOrPauseIconAnim_(icon, isPlaying) {\n    this.video.mutateElement(() =>\n      icon.classList.toggle('amp-video-eq-play', isPlaying));\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {installStylesForDoc} from '../../style-installer';\n// Source for this constant is css/video-autoplay.css\nimport {cssText} from '../../../build/video-autoplay.css.js';\n\n\n/**\n * @param  {!../ampdoc-impl.AmpDoc} ampdoc\n */\nexport function installAutoplayStylesForDoc(ampdoc) {\n  installStylesForDoc(\n      ampdoc,\n      cssText,\n      /* callback */ null,\n      /* opt_isRuntimeCss */ false,\n      /* opt_ext */ 'amp-video-autoplay');\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getAmpdoc,\n  getExistingServiceForDocInEmbedScope,\n  getExistingServiceOrNull,\n  getService,\n  getServiceForDoc,\n  getServiceForDocDeprecated,\n  getServicePromiseForDoc,\n} from './service';\nimport {\n  getElementServiceForDoc,\n  getElementServiceIfAvailable,\n  getElementServiceIfAvailableForDoc,\n  getElementServiceIfAvailableForDocInEmbedScope,\n} from './element-service';\n\n/** @typedef {!../extensions/amp-subscriptions/0.1/amp-subscriptions.SubscriptionService} */\nexport let SubscriptionService;\n\nexport class Services {\n  /**\n   * Hint: Add extensions folder path to compile.js with\n   * warnings cannot find modules.\n   */\n\n  /**\n   * Returns a promise for the Access service.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!../extensions/amp-access/0.1/amp-access.AccessService>}\n   */\n  static accessServiceForDoc(elementOrAmpDoc) {\n    return (/** @type {!Promise<!../extensions/amp-access/0.1/amp-access.AccessService>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'access', 'amp-access')));\n  }\n\n  /**\n   * Returns a promise for the Access service or a promise for null if the\n   * service is not available on the current page.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-access/0.1/amp-access.AccessService>}\n   */\n  static accessServiceForDocOrNull(elementOrAmpDoc) {\n    return (/** @type {!Promise<?../extensions/amp-access/0.1/amp-access.AccessService>} */ (\n      getElementServiceIfAvailableForDoc(elementOrAmpDoc, 'access',\n          'amp-access')));\n  }\n\n  /**\n   * Returns a promise for the Subscriptions service.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!SubscriptionService>}\n   */\n  static subscriptionsServiceForDoc(elementOrAmpDoc) {\n    return (/** @type {!Promise<!SubscriptionService>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'subscriptions',\n          'amp-subscriptions')));\n  }\n\n  /**\n   * Returns a promise for the Subscriptions service.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?SubscriptionService>}\n   */\n  static subscriptionsServiceForDocOrNull(elementOrAmpDoc) {\n    return (/** @type {!Promise<?SubscriptionService>} */ (\n      getElementServiceIfAvailableForDoc(elementOrAmpDoc, 'subscriptions',\n          'amp-subscriptions')));\n  }\n\n  /**\n   * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n   * services since sometimes we only have the FIE Document for context.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/action-impl.ActionService}\n   */\n  static actionServiceForDoc(nodeOrDoc) {\n    return /** @type {!./service/action-impl.ActionService} */ (\n      getExistingServiceForDocInEmbedScope(\n          nodeOrDoc, 'action', /* opt_fallbackToTopWin */ true));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!Activity>}\n   */\n  static activityForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!Activity>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'activity', 'amp-analytics'));\n  }\n\n  /**\n   * Returns the global instance of the `AmpDocService` service that can be\n   * used to resolve an ampdoc for any node: either in the single-doc or\n   * shadow-doc environment.\n   * @param {!Window} window\n   * @return {!./service/ampdoc-impl.AmpDocService}\n   */\n  static ampdocServiceFor(window) {\n    return /** @type {!./service/ampdoc-impl.AmpDocService} */ (\n      getService(window, 'ampdoc'));\n  }\n\n  /**\n   * Returns the AmpDoc for the specified context node.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/ampdoc-impl.AmpDoc}\n   */\n  static ampdoc(elementOrAmpDoc) {\n    return getAmpdoc(elementOrAmpDoc);\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @param {boolean=} loadAnalytics\n   * @return {!Promise<!../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>}\n   */\n  static analyticsForDoc(elementOrAmpDoc, loadAnalytics = false) {\n    if (loadAnalytics) {\n      // Get Extensions service and force load analytics extension.\n      const ampdoc = getAmpdoc(elementOrAmpDoc);\n      Services.extensionsFor(ampdoc.win)./*OK*/installExtensionForDoc(\n          ampdoc, 'amp-analytics');\n    }\n    return /** @type {!Promise<!../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'amp-analytics-instrumentation',\n          'amp-analytics'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>}\n   */\n  static analyticsForDocOrNull(elementOrAmpDoc) {\n    return /** @type {!Promise<?../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>} */ (\n      getElementServiceIfAvailableForDoc(elementOrAmpDoc,\n          'amp-analytics-instrumentation', 'amp-analytics'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/batched-xhr-impl.BatchedXhr}\n   */\n  static batchedXhrFor(window) {\n    return /** @type {!./service/batched-xhr-impl.BatchedXhr} */ (\n      getService(window, 'batched-xhr'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-bind/0.1/bind-impl.Bind>}\n   */\n  static bindForDocOrNull(elementOrAmpDoc) {\n    return /** @type {!Promise<?../extensions/amp-bind/0.1/bind-impl.Bind>} */ (\n      getElementServiceIfAvailableForDocInEmbedScope(\n          elementOrAmpDoc, 'bind', 'amp-bind'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!./service/cid-impl.Cid>}\n   */\n  static cidForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!./service/cid-impl.Cid>} */ (\n      getServicePromiseForDoc(elementOrAmpDoc, 'cid'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/navigation.Navigation}\n   */\n  static navigationForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/navigation.Navigation} */ (\n      getServiceForDoc(elementOrAmpDoc, 'navigation'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/crypto-impl.Crypto}\n   */\n  static cryptoFor(window) {\n    return (/** @type {!./service/crypto-impl.Crypto} */ (\n      getService(window, 'crypto')));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/document-info-impl.DocumentInfoDef} Info about the doc\n   */\n  static documentInfoForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/document-info-impl.DocInfo} */ (\n      getServiceForDoc(elementOrAmpDoc, 'documentInfo')).get();\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/document-state.DocumentState}\n   */\n  static documentStateFor(window) {\n    return getService(window, 'documentState');\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/extensions-impl.Extensions}\n   */\n  static extensionsFor(window) {\n    return /** @type {!./service/extensions-impl.Extensions} */ (\n      getService(window, 'extensions'));\n  }\n\n  /**\n   * Returns service implemented in service/history-impl.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/history-impl.History}\n   */\n  static historyForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/history-impl.History} */ (\n      getServiceForDoc(elementOrAmpDoc, 'history'));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!./input.Input}\n   */\n  static inputFor(win) {\n    return getService(win, 'input');\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/layers-impl.LayoutLayers}\n   */\n  static layersForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/layers-impl.LayoutLayers} */ (\n      getServiceForDoc(elementOrAmpDoc, 'layers'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/performance-impl.Performance}\n   */\n  static performanceFor(window) {\n    return /** @type {!./service/performance-impl.Performance}*/ (\n      getService(window, 'performance'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/performance-impl.Performance}\n   */\n  static performanceForOrNull(window) {\n    return /** @type {!./service/performance-impl.Performance}*/ (\n      getExistingServiceOrNull(window, 'performance'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/platform-impl.Platform}\n   */\n  static platformFor(window) {\n    return /** @type {!./service/platform-impl.Platform} */ (\n      getService(window, 'platform'));\n  }\n\n  /**\n   * Uses getServiceForDocDeprecated() since Resources is a startup service.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/resources-impl.Resources}\n   */\n  static resourcesForDoc(nodeOrDoc) {\n    return /** @type {!./service/resources-impl.Resources} */ (\n      getServiceForDocDeprecated(nodeOrDoc, 'resources'));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?Promise<?{incomingFragment: string, outgoingFragment: string}>}\n   */\n  static shareTrackingForOrNull(win) {\n    return (/** @type {!Promise<?{incomingFragment: string, outgoingFragment: string}>} */ (\n      getElementServiceIfAvailable(win, 'share-tracking',\n          'amp-share-tracking', true)));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?Promise<?../extensions/amp-story/1.0/variable-service.StoryVariableDef>}\n   */\n  static storyVariableServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/1.0/variable-service.StoryVariableDef>} */\n      (getElementServiceIfAvailable(win, 'story-variable', 'amp-story',\n          true)));\n  }\n\n  /**\n   * Version of the story store service depends on which version of amp-story\n   * the publisher is loading. They all have the same implementation.\n   * @param {!Window} win\n   * @return {?Promise<?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService|?../extensions/amp-story/0.1/amp-story-store-service.AmpStoryStoreService>}\n   */\n  static storyStoreServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService|?../extensions/amp-story/0.1/amp-story-store-service.AmpStoryStoreService>} */\n      (getElementServiceIfAvailable(win, 'story-store', 'amp-story')));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService}\n   */\n  static storyStoreService(win) {\n    return (/** @type {?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService} */\n      (getExistingServiceOrNull(win, 'story-store')));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?../extensions/amp-story/1.0/amp-story-request-service.AmpStoryRequestService}\n   */\n  static storyRequestService(win) {\n    return (/** @type {?../extensions/amp-story/1.0/amp-story-request-service.AmpStoryRequestService} */\n      (getExistingServiceOrNull(win, 'story-request')));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!Promise<?../extensions/amp-story/1.0/localization.LocalizationService>}\n   */\n  static localizationServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/1.0/localization.LocalizationService>} */\n      (getElementServiceIfAvailable(win, 'localization', 'amp-story', true)));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/1.0/localization.LocalizationService}\n   */\n  static localizationService(win) {\n    return getService(win, 'localization');\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/0.1/amp-story-store-service.AmpStoryStoreService}\n   */\n  static storyStoreServiceV01(win) {\n    return getService(win, 'story-store');\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/0.1/amp-story-request-service.AmpStoryRequestService}\n   */\n  static storyRequestServiceV01(win) {\n    return getService(win, 'story-request-v01');\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!Promise<?../extensions/amp-story/0.1/localization.LocalizationService>}\n   */\n  static localizationServiceForOrNullV01(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/0.1/localization.LocalizationService>} */\n      (getElementServiceIfAvailable(win, 'localization-v01', 'amp-story',\n          true)));\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/0.1/localization.LocalizationService}\n   */\n  static localizationServiceV01(win) {\n    return getService(win, 'localization-v01');\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?Promise<?../extensions/amp-viewer-integration/0.1/variable-service.ViewerIntegrationVariableDef>}\n   */\n  static viewerIntegrationVariableServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-viewer-integration/0.1/variable-service.ViewerIntegrationVariableDef>} */\n      (getElementServiceIfAvailable(win, 'viewer-integration-variable',\n          'amp-viewer-integration', true)));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!../extensions/amp-animation/0.1/web-animation-service.WebAnimationService>}\n   */\n  static webAnimationServiceFor(elementOrAmpDoc) {\n    return (/** @type {!Promise<!../extensions/amp-animation/0.1/web-animation-service.WebAnimationService>} */\n      (getElementServiceForDoc(\n          elementOrAmpDoc, 'web-animation', 'amp-animation')));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!./service/storage-impl.Storage>}\n   */\n  static storageForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!./service/storage-impl.Storage>} */ (\n      getServicePromiseForDoc(elementOrAmpDoc, 'storage'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/template-impl.Templates}\n   */\n  static templatesFor(window) {\n    return /** @type {!./service/template-impl.Templates} */ (\n      getService(window, 'templates'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/timer-impl.Timer}\n   */\n  static timerFor(window) {\n    return /** @type {!./service/timer-impl.Timer} */ (\n      getService(window, 'timer'));\n  }\n\n  /**\n   * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n   * services since sometimes we only have the FIE Document for context.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/url-replacements-impl.UrlReplacements}\n   */\n  static urlReplacementsForDoc(nodeOrDoc) {\n    return /** @type {!./service/url-replacements-impl.UrlReplacements} */ (\n      getExistingServiceForDocInEmbedScope(\n          nodeOrDoc, 'url-replace', /* opt_fallbackToTopWin */ true));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!../extensions/amp-user-notification/0.1/amp-user-notification.UserNotificationManager>}\n   */\n  static userNotificationManagerForDoc(elementOrAmpDoc) {\n    return (/** @type {!Promise<!../extensions/amp-user-notification/0.1/amp-user-notification.UserNotificationManager>} */\n      (getElementServiceForDoc(elementOrAmpDoc, 'userNotificationManager',\n          'amp-user-notification')));\n  }\n\n  /**\n   * Returns a promise for the consentPolicy Service or a promise for null if\n   * the service is not available on the current page.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-consent/0.1/consent-policy-manager.ConsentPolicyManager>}\n   */\n  static consentPolicyServiceForDocOrNull(elementOrAmpDoc) {\n    return (/** @type {!Promise<?../extensions/amp-consent/0.1/consent-policy-manager.ConsentPolicyManager>} */\n      (getElementServiceIfAvailableForDoc(elementOrAmpDoc,\n          'consentPolicyManager', 'amp-consent')));\n  }\n\n  /**\n   * Returns a promise for the geo service or a promise for null if\n   * the service is not available on the current page.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-geo/0.1/amp-geo.GeoDef>}\n   */\n  static geoForDocOrNull(elementOrAmpDoc) {\n    return /** @type {!Promise<?../extensions/amp-geo/0.1/amp-geo.GeoDef>} */ (\n      getElementServiceIfAvailableForDoc(\n          elementOrAmpDoc, 'geo', 'amp-geo', true));\n  }\n\n  /**\n   * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n   * services since sometimes we only have the FIE Document for context.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/url-impl.Url}\n   */\n  static urlForDoc(nodeOrDoc) {\n    return /** @type {!./service/url-impl.Url} */ (\n      getExistingServiceForDocInEmbedScope(\n          nodeOrDoc, 'url', /* opt_fallbackToTopWin */ true));\n  }\n\n  /**\n   * Returns a promise for the experiment variants or a promise for null if it\n   * is not available on the current page.\n   * @param {!Window} win\n   * @return {!Promise<?Object<string>>}\n   */\n  static variantForOrNull(win) {\n    return /** @type {!Promise<?Object<string>>} */ (\n      getElementServiceIfAvailable(win, 'variant', 'amp-experiment', true));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/video-service-interface.VideoServiceInterface}\n   */\n  static videoManagerForDoc(elementOrAmpDoc) {\n    return (\n      /** @type {!./service/video-service-interface.VideoServiceInterface} */ (\n        getServiceForDoc(elementOrAmpDoc, 'video-manager')));\n  }\n\n  /**\n   * Uses getServiceForDocDeprecated() since Viewer is a startup service.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/viewer-impl.Viewer}\n   */\n  static viewerForDoc(nodeOrDoc) {\n    return /** @type {!./service/viewer-impl.Viewer} */ (\n      getServiceForDocDeprecated(nodeOrDoc, 'viewer'));\n  }\n\n  /**\n   * Returns promise for the viewer. This is an unusual case and necessary only\n   * for services that need reference to the viewer before it has been\n   * initialized. Most of the code, however, just should use `viewerForDoc`.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!./service/viewer-impl.Viewer>}\n   */\n  static viewerPromiseForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!./service/viewer-impl.Viewer>} */ (\n      getServicePromiseForDoc(elementOrAmpDoc, 'viewer'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/vsync-impl.Vsync}\n   */\n  static vsyncFor(window) {\n    return /** @type {!./service/vsync-impl.Vsync} */ (\n      getService(window, 'vsync'));\n  }\n\n  /**\n   * Uses getServiceForDocDeprecated() since Viewport is a startup service.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/viewport/viewport-impl.Viewport}\n   */\n  static viewportForDoc(nodeOrDoc) {\n    return /** @type {!./service/viewport/viewport-impl.Viewport} */ (\n      getServiceForDocDeprecated(nodeOrDoc, 'viewport'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/xhr-impl.Xhr}\n   */\n  static xhrFor(window) {\n    return /** @type {!./service/xhr-impl.Xhr} */ (getService(window, 'xhr'));\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\nimport {ShadowCSS} from '../third_party/webcomponentsjs/ShadowCSS';\nimport {\n  ShadowDomVersion,\n  getShadowDomSupportedVersion,\n  isShadowCssSupported,\n  isShadowDomSupported,\n} from './web-components';\nimport {\n  childElementsByTag,\n  closestNode,\n  escapeCssSelectorIdent,\n  iterateCursor,\n  removeElement,\n} from './dom';\nimport {dev} from './log';\nimport {installCssTransformer} from './style-installer';\nimport {setStyle} from './style';\nimport {toArray, toWin} from './types';\n\n/**\n * Used for non-composed root-node search. See `getRootNode`.\n * @const {!GetRootNodeOptions}\n */\nconst UNCOMPOSED_SEARCH = {composed: false};\n\n/** @const {!RegExp} */\nconst CSS_SELECTOR_BEG_REGEX = /[^\\.\\-\\_0-9a-zA-Z]/;\n\n/** @const {!RegExp} */\nconst CSS_SELECTOR_END_REGEX = /[^\\-\\_0-9a-zA-Z]/;\n\n/**\n * @type {boolean|undefined}\n */\nlet shadowDomStreamingSupported;\n\n\n/**\n * Creates a shadow root for the specified host and returns it. Polyfills\n * shadow root creation if necessary.\n * @param {!Element} hostElement\n * @return {!ShadowRoot}\n */\nexport function createShadowRoot(hostElement) {\n  const win = toWin(hostElement.ownerDocument.defaultView);\n\n  const existingRoot = hostElement.shadowRoot || hostElement.__AMP_SHADOW_ROOT;\n  if (existingRoot) {\n    existingRoot./*OK*/innerHTML = '';\n    return existingRoot;\n  }\n\n  let shadowRoot;\n  const shadowDomSupported = getShadowDomSupportedVersion();\n  if (shadowDomSupported == ShadowDomVersion.V1) {\n    shadowRoot = hostElement.attachShadow({mode: 'open'});\n    if (!shadowRoot.styleSheets) {\n      Object.defineProperty(shadowRoot, 'styleSheets', {\n        get: function() {\n          const items = [];\n          iterateCursor(shadowRoot.childNodes, child => {\n            if (child.tagName === 'STYLE') {\n              items.push(child.sheet);\n            }\n          });\n          return items;\n        },\n      });\n    }\n  } else if (shadowDomSupported == ShadowDomVersion.V0) {\n    shadowRoot = hostElement.createShadowRoot();\n  } else {\n    shadowRoot = createShadowRootPolyfill(hostElement);\n  }\n\n  if (!isShadowCssSupported()) {\n    const rootId = `i-amphtml-sd-${win.Math.floor(win.Math.random() * 10000)}`;\n    shadowRoot.id = rootId;\n    shadowRoot.host.classList.add(rootId);\n\n    // CSS isolation.\n    installCssTransformer(shadowRoot, css => {\n      return transformShadowCss(shadowRoot, css);\n    });\n  }\n\n  return shadowRoot;\n}\n\n\n/**\n * Shadow root polyfill.\n * @param {!Element} hostElement\n * @return {!ShadowRoot}\n */\nfunction createShadowRootPolyfill(hostElement) {\n  const doc = hostElement.ownerDocument;\n\n  // Host CSS polyfill.\n  hostElement.classList.add('i-amphtml-shadow-host-polyfill');\n  const hostStyle = doc.createElement('style');\n  hostStyle.textContent =\n      '.i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root)'\n      + '{display:none!important}';\n  hostElement.appendChild(hostStyle);\n\n  // Shadow root.\n  const shadowRoot = /** @type {!ShadowRoot} */ (\n    // Cast to ShadowRoot even though it is an Element\n    // TODO(@dvoytenko) Consider to switch to a type union instead.\n    /** @type {?}  */ (doc.createElement('i-amphtml-shadow-root')));\n  hostElement.appendChild(shadowRoot);\n  hostElement.shadowRoot = hostElement.__AMP_SHADOW_ROOT = shadowRoot;\n\n  // API: https://www.w3.org/TR/shadow-dom/#the-shadowroot-interface\n\n  shadowRoot.host = hostElement;\n\n  // `getElementById` is resolved via `querySelector('#id')`.\n  shadowRoot.getElementById = function(id) {\n    const escapedId = escapeCssSelectorIdent(id);\n    return /** @type {HTMLElement|null} */ (\n      shadowRoot./*OK*/querySelector(`#${escapedId}`));\n  };\n\n  // The styleSheets property should have a list of local styles.\n  Object.defineProperty(shadowRoot, 'styleSheets', {\n    get: () => {\n      if (!doc.styleSheets) {\n        return [];\n      }\n      return toArray(doc.styleSheets).filter(\n          styleSheet => shadowRoot.contains(styleSheet.ownerNode));\n    },\n  });\n\n  return shadowRoot;\n}\n\n\n/**\n * Determines if value is actually a `ShadowRoot` node.\n * @param {*} value\n * @return {boolean}\n */\nexport function isShadowRoot(value) {\n  if (!value) {\n    return false;\n  }\n  // Node.nodeType == DOCUMENT_FRAGMENT to speed up the tests. Unfortunately,\n  // nodeType of DOCUMENT_FRAGMENT is used currently for ShadowRoot nodes.\n  if (value.tagName == 'I-AMPHTML-SHADOW-ROOT') {\n    return true;\n  }\n  return (value.nodeType == /* DOCUMENT_FRAGMENT */ 11 &&\n      Object.prototype.toString.call(value) === '[object ShadowRoot]');\n}\n\n\n/**\n * Return shadow root for the specified node.\n * @param {!Node} node\n * @return {?ShadowRoot}\n */\nexport function getShadowRootNode(node) {\n  if (isShadowDomSupported() && Node.prototype.getRootNode) {\n    return /** @type {?ShadowRoot} */ (node.getRootNode(UNCOMPOSED_SEARCH));\n  }\n  // Polyfill shadow root lookup.\n  return /** @type {?ShadowRoot} */ (closestNode(node, n => isShadowRoot(n)));\n}\n\n\n/**\n * Imports a body into a shadow root with the workaround for a polyfill case.\n * @param {!ShadowRoot} shadowRoot\n * @param {!Element} body\n * @param {boolean} deep\n * @return {!Element}\n */\nexport function importShadowBody(shadowRoot, body, deep) {\n  const doc = shadowRoot.ownerDocument;\n  let resultBody;\n  if (isShadowCssSupported()) {\n    resultBody = dev().assertElement(doc.importNode(body, deep));\n  } else {\n    resultBody = doc.createElement('amp-body');\n    setStyle(resultBody, 'display', 'block');\n    for (let i = 0; i < body.attributes.length; i++) {\n      resultBody.setAttribute(\n          body.attributes[0].name, body.attributes[0].value);\n    }\n    if (deep) {\n      for (let n = body.firstChild; !!n; n = n.nextSibling) {\n        resultBody.appendChild(doc.importNode(n, true));\n      }\n    }\n  }\n  setStyle(resultBody, 'position', 'relative');\n  shadowRoot.appendChild(resultBody);\n  Object.defineProperty(shadowRoot, 'body', {value: resultBody});\n  return resultBody;\n}\n\n\n/**\n * If necessary, transforms CSS to isolate AMP CSS within the shaodw root and\n * reduce the possibility of high-level conflicts.\n * @param {!ShadowRoot} shadowRoot\n * @param {string} css\n * @return {string}\n */\nexport function transformShadowCss(shadowRoot, css) {\n  return scopeShadowCss(shadowRoot, css);\n}\n\n\n/**\n * Transforms CSS to isolate AMP CSS within the shadow root and reduce the\n * possibility of high-level conflicts. There are two types of transformations:\n * 1. Root transformation: `body` -> `amp-body`, etc.\n * 2. Scoping: `a {}` -> `.i-amphtml-sd-123 a {}`.\n *\n * @param {!ShadowRoot} shadowRoot\n * @param {string} css\n * @return {string}\n * @visibleForTesting\n */\nexport function scopeShadowCss(shadowRoot, css) {\n  const id = dev().assert(shadowRoot.id);\n  const doc = shadowRoot.ownerDocument;\n  let rules = null;\n  // Try to use a separate document.\n  try {\n    rules = getStylesheetRules(doc.implementation.createHTMLDocument(''), css);\n  } catch (e) {\n    // Ignore.\n  }\n  // Try to use the current document.\n  if (!rules) {\n    try {\n      rules = getStylesheetRules(doc, css);\n    } catch (e) {\n      // Ignore.\n    }\n  }\n\n  // No rules could be parsed - return css as is.\n  if (!rules) {\n    return css;\n  }\n\n  // Patch selectors.\n  // Invoke `ShadowCSS.scopeRules` via `call` because the way it uses `this`\n  // internally conflicts with Closure compiler's advanced optimizations.\n  const {scopeRules} = ShadowCSS;\n  return scopeRules.call(ShadowCSS, rules, `.${id}`, transformRootSelectors);\n}\n\n\n/**\n * Replaces top-level selectors such as `html` and `body` with their polyfill\n * counterparts: `amp-html` and `amp-body`.\n * @param {string} selector\n * @return {string}\n */\nfunction transformRootSelectors(selector) {\n  return selector.replace(/(html|body)/g, rootSelectorPrefixer);\n}\n\n\n/**\n * See `transformRootSelectors`.\n * @param {string} match\n * @param {string} name\n * @param {number} pos\n * @param {string} selector\n * @return {string}\n * @private\n */\nfunction rootSelectorPrefixer(match, name, pos, selector) {\n  const prev = selector.charAt(pos - 1);\n  const next = selector.charAt(pos + match.length);\n  if ((!prev || CSS_SELECTOR_BEG_REGEX.test(prev)) &&\n      (!next || CSS_SELECTOR_END_REGEX.test(next))) {\n    return 'amp-' + match;\n  }\n  return match;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} css\n * @return {?CSSRuleList}\n */\nfunction getStylesheetRules(doc, css) {\n  const style = doc.createElement('style');\n  style./*OK*/textContent = css;\n  try {\n    (doc.head || doc.documentElement).appendChild(style);\n    if (style.sheet) {\n      return style.sheet.cssRules;\n    }\n    return null;\n  } finally {\n    if (style.parentNode) {\n      style.parentNode.removeChild(style);\n    }\n  }\n}\n\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setShadowDomStreamingSupportedForTesting(val) {\n  shadowDomStreamingSupported = val;\n}\n\n\n/**\n * Returns `true` if the Shadow DOM streaming is supported.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isShadowDomStreamingSupported(win) {\n  if (shadowDomStreamingSupported === undefined) {\n    shadowDomStreamingSupported = calcShadowDomStreamingSupported(win);\n  }\n  return shadowDomStreamingSupported;\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction calcShadowDomStreamingSupported(win) {\n  // API must be supported.\n  if (!win.document.implementation ||\n      typeof win.document.implementation.createHTMLDocument != 'function') {\n    return false;\n  }\n  // Firefox does not support DOM streaming.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=867102\n  if (Services.platformFor(win).isFirefox()) {\n    return false;\n  }\n  // Assume full streaming support.\n  return true;\n}\n\n\n/**\n * Creates the Shadow DOM writer available on this platform.\n * @param {!Window} win\n * @return {!ShadowDomWriter}\n */\nexport function createShadowDomWriter(win) {\n  if (isShadowDomStreamingSupported(win)) {\n    return new ShadowDomWriterStreamer(win);\n  }\n  return new ShadowDomWriterBulk(win);\n}\n\n\n/**\n * Takes as an input a text stream, parses it and incrementally reconstructs\n * it in the shadow root.\n *\n * See https://jakearchibald.com/2016/fun-hacks-faster-content/ for more\n * details.\n *\n * @interface\n * @extends {WritableStreamDefaultWriter}\n * @visibleForTesting\n */\nexport class ShadowDomWriter {\n\n  /**\n   * Sets the callback that will be called when body has been parsed.\n   *\n   * Unlike most of other nodes, `<body>` cannot be simply merged to support\n   * SD polyfill where the use of `<body>` element is not possible. The\n   * callback will be given the parsed document and it must return back\n   * the reconstructed `<body>` node in the target DOM where all children\n   * will be streamed into.\n   *\n   * @param {function(!Document):!Element} unusedCallback\n   */\n  onBody(unusedCallback) {}\n\n  /**\n   * Sets the callback that will be called when new nodes have been merged\n   * into the target DOM.\n   * @param {function()} unusedCallback\n   */\n  onBodyChunk(unusedCallback) {}\n\n  /**\n   * Sets the callback that will be called when the DOM has been fully\n   * constructed.\n   * @param {function()} unusedCallback\n   */\n  onEnd(unusedCallback) {}\n}\n\n\n/**\n * Takes as an input a text stream, parses it and incrementally reconstructs\n * it in the shadow root.\n *\n * See https://jakearchibald.com/2016/fun-hacks-faster-content/ for more\n * details.\n *\n * @implements {ShadowDomWriter}\n * @visibleForTesting\n */\nexport class ShadowDomWriterStreamer {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @const @private {!Document} */\n    this.parser_ = win.document.implementation.createHTMLDocument('');\n    this.parser_.open();\n\n    /** @const @private */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /** @private @const */\n    this.boundMerge_ = this.merge_.bind(this);\n\n    /** @private {?function(!Document):!Element} */\n    this.onBody_ = null;\n\n    /** @private {?function()} */\n    this.onBodyChunk_ = null;\n\n    /** @private {?function()} */\n    this.onEnd_ = null;\n\n    /** @private {boolean} */\n    this.mergeScheduled_ = false;\n\n    /** @const @private {!Promise} */\n    this.success_ = Promise.resolve();\n\n    /** @private {boolean} */\n    this.eof_ = false;\n\n    /** @private {?Element} */\n    this.targetBody_ = null;\n  }\n\n  /** @override */\n  onBody(callback) {\n    this.onBody_ = callback;\n  }\n\n  /** @override */\n  onBodyChunk(callback) {\n    this.onBodyChunk_ = callback;\n  }\n\n  /** @override */\n  onEnd(callback) {\n    this.onEnd_ = callback;\n  }\n\n  /** @override */\n  write(chunk) {\n    if (this.eof_) {\n      throw new Error('closed already');\n    }\n    if (chunk) {\n      this.parser_.write(/** @type {string} */ (chunk));\n    }\n    this.schedule_();\n    return this.success_;\n  }\n\n  /** @override */\n  close() {\n    this.parser_.close();\n    this.eof_ = true;\n    this.schedule_();\n    return this.success_;\n  }\n\n  /** @override */\n  abort(unusedReason) {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  releaseLock() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get closed() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get desiredSize() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get ready() {\n    throw new Error('Not implemented');\n  }\n\n  /** @private */\n  schedule_() {\n    dev().assert(this.onBody_ && this.onBodyChunk_ && this.onEnd_);\n    if (!this.mergeScheduled_) {\n      this.mergeScheduled_ = true;\n      this.vsync_.mutate(this.boundMerge_);\n    }\n  }\n\n  /** @private */\n  merge_() {\n    this.mergeScheduled_ = false;\n\n    // Body has been newly parsed.\n    if (!this.targetBody_ && this.parser_.body) {\n      this.targetBody_ = this.onBody_(this.parser_);\n    }\n\n    // Merge body children.\n    if (this.targetBody_) {\n      const inputBody = /** @type !Element */(dev().assert(this.parser_.body));\n      const targetBody = dev().assert(this.targetBody_);\n      let transferCount = 0;\n      removeNoScriptElements(inputBody);\n      while (inputBody.firstChild) {\n        transferCount++;\n        targetBody.appendChild(inputBody.firstChild);\n      }\n      if (transferCount > 0) {\n        this.onBodyChunk_();\n      }\n    }\n\n    // EOF.\n    if (this.eof_) {\n      this.onEnd_();\n    }\n  }\n}\n\n\n/**\n * Takes as an input a text stream, aggregates it and parses it in one bulk.\n * This is a workaround against the browsers that do not support streaming DOM\n * parsing. Mainly currently Firefox.\n *\n * See https://github.com/whatwg/html/issues/2827 and\n * https://bugzilla.mozilla.org/show_bug.cgi?id=867102\n *\n * @implements {ShadowDomWriter}\n * @visibleForTesting\n */\nexport class ShadowDomWriterBulk {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private {!Array<string>} */\n    this.fullHtml_ = [];\n\n    /** @const @private */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /** @private {?function(!Document):!Element} */\n    this.onBody_ = null;\n\n    /** @private {?function()} */\n    this.onBodyChunk_ = null;\n\n    /** @private {?function()} */\n    this.onEnd_ = null;\n\n    /** @const @private {!Promise} */\n    this.success_ = Promise.resolve();\n\n    /** @private {boolean} */\n    this.eof_ = false;\n  }\n\n  /** @override */\n  onBody(callback) {\n    this.onBody_ = callback;\n  }\n\n  /** @override */\n  onBodyChunk(callback) {\n    this.onBodyChunk_ = callback;\n  }\n\n  /** @override */\n  onEnd(callback) {\n    this.onEnd_ = callback;\n  }\n\n  /** @override */\n  write(chunk) {\n    dev().assert(this.onBody_ && this.onBodyChunk_ && this.onEnd_);\n    if (this.eof_) {\n      throw new Error('closed already');\n    }\n    if (chunk) {\n      this.fullHtml_.push(dev().assertString(chunk));\n    }\n    return this.success_;\n  }\n\n  /** @override */\n  close() {\n    dev().assert(this.onBody_ && this.onBodyChunk_ && this.onEnd_);\n    this.eof_ = true;\n    this.vsync_.mutate(() => this.complete_());\n    return this.success_;\n  }\n\n  /** @override */\n  abort(unusedReason) {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  releaseLock() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get closed() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get desiredSize() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get ready() {\n    throw new Error('Not implemented');\n  }\n\n  /** @private */\n  complete_() {\n    const fullHtml = this.fullHtml_.join('');\n    const doc = new DOMParser().parseFromString(fullHtml, 'text/html');\n\n    // Merge body.\n    if (doc.body) {\n      const inputBody = doc.body;\n      const targetBody = this.onBody_(doc);\n      let transferCount = 0;\n      removeNoScriptElements(inputBody);\n      while (inputBody.firstChild) {\n        transferCount++;\n        targetBody.appendChild(inputBody.firstChild);\n      }\n      if (transferCount > 0) {\n        this.onBodyChunk_();\n      }\n    }\n\n    // EOF.\n    this.onEnd_();\n  }\n}\n\n/**\n * Remove any noscript elements.\n *\n * According to the spec\n * (https://w3c.github.io/DOM-Parsing/#the-domparser-interface), with\n * `DOMParser().parseFromString`, contents of `noscript` get parsed as markup,\n * so we need to remove them manually. Why? \\_()_/ `createHTMLDocument()`\n * seems to behave the same way.\n *\n * @param {!Element} parent\n */\nfunction removeNoScriptElements(parent) {\n  const noscriptElements = childElementsByTag(parent, 'noscript');\n  iterateCursor(noscriptElements, element => {\n    removeElement(element);\n  });\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {dev} from './log';\nimport {map} from './utils/object.js';\n\nlet container;\n\n/**\n * Creates the html helper for the doc.\n *\n * @param {!Element|!Document} nodeOrDoc\n * @return {function(!Array<string>):!Element}\n */\nexport function htmlFor(nodeOrDoc) {\n  const doc = nodeOrDoc.ownerDocument || nodeOrDoc;\n  if (!container || container.ownerDocument !== doc) {\n    container = doc.createElement('div');\n  }\n\n  return html;\n}\n\n/**\n * A tagged template literal helper to generate static DOM trees.\n * This must be used as a tagged template, ie\n *\n * ```\n * const div = html`<div><span></span></div>`;\n * ```\n *\n * Only the root element and its subtree will be returned. DO NOT use this to\n * render subtree's with dynamic content, it WILL result in an error!\n *\n * @param {!Array<string>} strings\n * @return {!Element}\n */\nfunction html(strings) {\n  dev().assert(strings.length === 1, 'Improper html template tag usage.');\n  container./*OK*/innerHTML = strings[0];\n\n  const el = container.firstElementChild;\n  dev().assert(el, 'No elements in template');\n  dev().assert(!el.nextElementSibling, 'Too many root elements in template');\n\n  // Clear to free memory.\n  container./*OK*/innerHTML = '';\n\n  return el;\n}\n\n/**\n * Queries an element for all elements with a \"ref\" attribute, removing\n * the attribute afterwards.\n * Returns a named map of all ref elements.\n *\n * @param {!Element} root\n * @return {!Object<string, !Element>}\n */\nexport function htmlRefs(root) {\n  const elements = root.querySelectorAll('[ref]');\n  const refs = map();\n\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n    const ref = dev().assert(element.getAttribute('ref'), 'Empty ref attr');\n    element.removeAttribute('ref');\n    dev().assert(refs[ref] === undefined, 'Duplicate ref');\n    refs[ref] = element;\n  }\n\n  return refs;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @param {string} _match\n * @param {string} character\n * @return {string}\n */\nfunction toUpperCase(_match, character) {\n  return character.toUpperCase();\n}\n\n/**\n * @param {string} match\n * @return {string}\n */\nfunction prependDashAndToLowerCase(match) {\n  return '-' + match.toLowerCase();\n}\n\n/**\n * @param {string} name Attribute name containing dashes.\n * @return {string} Dashes removed and successive character sent to upper case.\n * visibleForTesting\n */\nexport function dashToCamelCase(name) {\n  return name.replace(/-([a-z])/g, toUpperCase);\n}\n\n/**\n * Converts a string that is in camelCase to one that is in dash-case.\n *\n * @param {string} string The string to convert.\n * @return {string} The string in dash-case.\n */\nexport function camelCaseToDash(string) {\n  return string.replace(/(?!^)[A-Z]/g, prependDashAndToLowerCase);\n}\n\n/**\n * @param {string} name Attribute name with dashes\n * @return {string} Dashes replaced by underlines.\n */\nexport function dashToUnderline(name) {\n  return name.replace('-', '_');\n}\n\n/**\n * Polyfill for String.prototype.endsWith.\n * @param {string} string\n * @param {string} suffix\n * @return {boolean}\n */\nexport function endsWith(string, suffix) {\n  const index = string.length - suffix.length;\n  return index >= 0 && string.indexOf(suffix, index) == index;\n}\n\n/**\n * Polyfill for String.prototype.startsWith.\n * @param {string} string\n * @param {string} prefix\n * @return {boolean}\n */\nexport function startsWith(string, prefix) {\n  if (prefix.length > string.length) {\n    return false;\n  }\n  return string.lastIndexOf(prefix, 0) == 0;\n}\n\n/**\n * Expands placeholders in a given template string with values.\n *\n * Placeholders use ${key-name} syntax and are replaced with the value\n * returned from the given getter function.\n *\n * @param {string} template The template string to expand.\n * @param {function(string):*} getter Function used to retrieve a value for a\n *   placeholder. Returns values will be coerced into strings.\n * @param {number=} opt_maxIterations Number of times to expand the template.\n *   Defaults to 1, but should be set to a larger value your placeholder tokens\n *   can be expanded to other placeholder tokens. Take caution with large values\n *   as recursively expanding a string can be exponentially expensive.\n */\nexport function expandTemplate(template, getter, opt_maxIterations) {\n  const maxIterations = opt_maxIterations || 1;\n  for (let i = 0; i < maxIterations; i++) {\n    let matches = 0;\n    template = template.replace(/\\${([^}]*)}/g, (_a, b) => {\n      matches++;\n      return getter(b);\n    });\n    if (!matches) {\n      break;\n    }\n  }\n  return template;\n}\n\n/**\n * Hash function djb2a\n * This is intended to be a simple, fast hashing function using minimal code.\n * It does *not* have good cryptographic properties.\n * @param {string} str\n * @return {string} 32-bit unsigned hash of the string\n */\nexport function stringHash32(str) {\n  const {length} = str;\n  let hash = 5381;\n  for (let i = 0; i < length; i++) {\n    hash = hash * 33 ^ str.charCodeAt(i);\n  }\n  // Convert from 32-bit signed to unsigned.\n  return String(hash >>> 0);\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\nimport {dev, rethrowAsync} from './log';\nimport {insertAfterOrAtStart, waitForBody} from './dom';\nimport {map} from './utils/object';\nimport {setStyles} from './style';\nimport {waitForServices} from './render-delaying-services';\n\nconst TRANSFORMER_PROP = '__AMP_CSS_TR';\nconst STYLE_MAP_PROP = '__AMP_CSS_SM';\nconst bodyVisibleSentinel = '__AMP_BODY_VISIBLE';\n\n\n/**\n * Adds the given css text to the given ampdoc.\n *\n * The style tags will be at the beginning of the head before all author\n * styles. One element can be the main runtime CSS. This is guaranteed\n * to always be the first stylesheet in the doc.\n *\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc The ampdoc that should get the new styles.\n * @param {string} cssText\n * @param {?function(!Element)|undefined} cb Called when the new styles are available.\n *     Not using a promise, because this is synchronous when possible.\n *     for better performance.\n * @param {boolean=} opt_isRuntimeCss If true, this style tag will be inserted\n *     as the first element in head and all style elements will be positioned\n *     after.\n * @param {string=} opt_ext\n * @return {!Element}\n */\nexport function installStylesForDoc(\n  ampdoc, cssText, cb, opt_isRuntimeCss, opt_ext) {\n  const cssRoot = ampdoc.getHeadNode();\n  const style = insertStyleElement(\n      cssRoot,\n      maybeTransform(cssRoot, cssText),\n      opt_isRuntimeCss || false,\n      opt_ext || null);\n\n  if (cb) {\n    const rootNode = ampdoc.getRootNode();\n    // Styles aren't always available synchronously. E.g. if there is a\n    // pending style download, it will have to finish before the new\n    // style is visible.\n    // For this reason we poll until the style becomes available.\n    // Sync case.\n    if (styleLoaded(rootNode, style)) {\n      cb(style);\n      return style;\n    }\n    // Poll until styles are available.\n    const interval = setInterval(() => {\n      if (styleLoaded(rootNode, style)) {\n        clearInterval(interval);\n        cb(style);\n      }\n    }, 4);\n  }\n  return style;\n}\n\n\n/**\n * Adds the given css text to the given document.\n * TODO(dvoytenko, #10705): Remove this method once FIE/ampdoc migration is\n * done.\n *\n * @param {!Document} doc The document that should get the new styles.\n * @param {string} cssText\n * @param {?function(!Element)|undefined} cb Called when the new styles are\n *     available. Not using a promise, because this is synchronous when\n *     possible. for better performance.\n * @param {boolean=} opt_isRuntimeCss If true, this style tag will be inserted\n *     as the first element in head and all style elements will be positioned\n *     after.\n * @param {string=} opt_ext\n * @return {!Element}\n */\nexport function installStylesLegacy(\n  doc, cssText, cb, opt_isRuntimeCss, opt_ext) {\n  const style = insertStyleElement(\n      dev().assertElement(doc.head),\n      cssText,\n      opt_isRuntimeCss || false,\n      opt_ext || null);\n\n  if (cb) {\n    // Styles aren't always available synchronously. E.g. if there is a\n    // pending style download, it will have to finish before the new\n    // style is visible.\n    // For this reason we poll until the style becomes available.\n    // Sync case.\n    if (styleLoaded(doc, style)) {\n      cb(style);\n      return style;\n    }\n    // Poll until styles are available.\n    const interval = setInterval(() => {\n      if (styleLoaded(doc, style)) {\n        clearInterval(interval);\n        cb(style);\n      }\n    }, 4);\n  }\n  return style;\n}\n\n\n/**\n * Creates the properly configured style element.\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {string} cssText\n * @param {boolean} isRuntimeCss\n * @param {?string} ext\n * @return {!Element}\n */\nfunction insertStyleElement(cssRoot, cssText, isRuntimeCss, ext) {\n  let styleMap = cssRoot[STYLE_MAP_PROP];\n  if (!styleMap) {\n    styleMap = cssRoot[STYLE_MAP_PROP] = map();\n  }\n\n  const isExtCss = !isRuntimeCss &&\n      (ext && ext != 'amp-custom' && ext != 'amp-keyframes');\n  const key =\n      isRuntimeCss ? 'amp-runtime' :\n        isExtCss ? `amp-extension=${ext}` : null;\n\n  // Check if it has already been created or discovered.\n  if (key) {\n    const existing = getExistingStyleElement(cssRoot, styleMap, key);\n    if (existing) {\n      return existing;\n    }\n  }\n\n  // Create the new style element and append to cssRoot.\n  const doc = (cssRoot.ownerDocument || cssRoot);\n  const style = doc.createElement('style');\n  style./*OK*/textContent = cssText;\n  let afterElement = null;\n  // Make sure that we place style tags after the main runtime CSS. Otherwise\n  // the order is random.\n  if (isRuntimeCss) {\n    style.setAttribute('amp-runtime', '');\n  } else if (isExtCss) {\n    style.setAttribute('amp-extension', ext || '');\n    afterElement = dev().assertElement(getExistingStyleElement(\n        cssRoot, styleMap, 'amp-runtime'));\n  } else {\n    if (ext) {\n      style.setAttribute(ext, '');\n    }\n    afterElement = cssRoot.lastChild;\n  }\n  insertAfterOrAtStart(cssRoot, style, afterElement);\n  if (key) {\n    styleMap[key] = style;\n  }\n  return style;\n}\n\n\n/**\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {!Object<string, !Element>} styleMap\n * @param {string} key\n * @return {?Element}\n */\nfunction getExistingStyleElement(cssRoot, styleMap, key) {\n  // Already cached.\n  if (styleMap[key]) {\n    return styleMap[key];\n  }\n  // Check if the style has already been added by the server layout.\n  const existing = cssRoot./*OK*/querySelector(`style[${key}]`);\n  if (existing) {\n    styleMap[key] = existing;\n    return existing;\n  }\n  // Nothing found.\n  return null;\n}\n\n\n/**\n * Applies a transformer to the CSS text if it has been registered.\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {function(string):string} transformer\n */\nexport function installCssTransformer(cssRoot, transformer) {\n  cssRoot[TRANSFORMER_PROP] = transformer;\n}\n\n\n/**\n * Applies a transformer to the CSS text if it has been registered.\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {string} cssText\n * @return {string}\n */\nfunction maybeTransform(cssRoot, cssText) {\n  const transformer = cssRoot[TRANSFORMER_PROP];\n  return transformer ? transformer(cssText) : cssText;\n}\n\n\n/**\n * Sets the document's body opacity to 1.\n * If the body is not yet available (because our script was loaded\n * synchronously), polls until it is.\n * @param {!Document} doc The document who's body we should make visible.\n * @param {boolean=} opt_waitForServices Whether the body visibility should\n *     be blocked on key services being loaded.\n */\nexport function makeBodyVisible(doc, opt_waitForServices) {\n  dev().assert(doc.defaultView, 'Passed in document must have a defaultView');\n  const win = /** @type {!Window} */ (doc.defaultView);\n  if (win[bodyVisibleSentinel]) {\n    return;\n  }\n  const set = () => {\n    win[bodyVisibleSentinel] = true;\n    setStyles(dev().assertElement(doc.body), {\n      opacity: 1,\n      visibility: 'visible',\n      'animation': 'none',\n    });\n    renderStartedNoInline(doc);\n  };\n  try {\n    waitForBody(doc, () => {\n      if (win[bodyVisibleSentinel]) {\n        return;\n      }\n      win[bodyVisibleSentinel] = true;\n      if (opt_waitForServices) {\n        waitForServices(win).catch(reason => {\n          rethrowAsync(reason);\n          return [];\n        }).then(services => {\n          set();\n          if (services.length > 0) {\n            Services.resourcesForDoc(doc)./*OK*/schedulePass(\n                1, /* relayoutAll */ true);\n          }\n          try {\n            const perf = Services.performanceFor(win);\n            perf.tick('mbv');\n            perf.flush();\n          } catch (e) {}\n        });\n      } else {\n        set();\n      }\n    });\n  } catch (e) {\n    // If there was an error during the logic above (such as service not\n    // yet installed, definitely try to make the body visible.\n    set();\n    // Avoid errors in the function to break execution flow as this is\n    // often called as a last resort.\n    rethrowAsync(e);\n  }\n}\n\n\n/**\n * @param {!Document} doc\n */\nfunction renderStartedNoInline(doc) {\n  try {\n    Services.resourcesForDoc(doc).renderStarted();\n  } catch (e) {\n    // `makeBodyVisible` is called in the error-processing cycle and thus\n    // could be triggered when runtime's initialization is incomplete which\n    // would cause unrelated errors to be thrown here.\n  }\n}\n\n\n/**\n * Indicates that the body is always visible. For instance, in case of PWA.\n * @param {!Window} win\n */\nexport function bodyAlwaysVisible(win) {\n  win[bodyVisibleSentinel] = true;\n}\n\n\n/**\n * Checks whether a style element was registered in the DOM.\n * @param {!Document|!ShadowRoot} doc\n * @param {!Element} style\n * @return {boolean}\n */\nfunction styleLoaded(doc, style) {\n  const sheets = doc.styleSheets;\n  for (let i = 0; i < sheets.length; i++) {\n    const sheet = sheets[i];\n    if (sheet.ownerNode == style) {\n      return true;\n    }\n  }\n  return false;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Note: loaded by 3p system. Cannot rely on babel polyfills.\nimport {map} from './utils/object.js';\nimport {startsWith} from './string';\n\n\n/** @type {Object<string, string>} */\nlet propertyNameCache;\n\n/** @const {!Array<string>} */\nconst vendorPrefixes = ['Webkit', 'webkit', 'Moz', 'moz', 'ms', 'O', 'o'];\n\n\n/**\n * @export\n * @param {string} camelCase camel cased string\n * @return {string} title cased string\n */\nexport function camelCaseToTitleCase(camelCase) {\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n}\n\n/**\n * Checks the style if a prefixed version of a property exists and returns\n * it or returns an empty string.\n * @private\n * @param {!Object} style\n * @param {string} titleCase the title case version of a css property name\n * @return {string} the prefixed property name or null.\n */\nfunction getVendorJsPropertyName_(style, titleCase) {\n  for (let i = 0; i < vendorPrefixes.length; i++) {\n    const propertyName = vendorPrefixes[i] + titleCase;\n    if (style[propertyName] !== undefined) {\n      return propertyName;\n    }\n  }\n  return '';\n}\n\n/**\n * Returns the possibly prefixed JavaScript property name of a style property\n * (ex. WebkitTransitionDuration) given a camelCase'd version of the property\n * (ex. transitionDuration).\n * @export\n * @param {!Object} style\n * @param {string} camelCase the camel cased version of a css property name\n * @param {boolean=} opt_bypassCache bypass the memoized cache of property\n *   mapping\n * @return {string}\n */\nexport function getVendorJsPropertyName(style, camelCase, opt_bypassCache) {\n  if (startsWith(camelCase, '--')) {\n    // CSS vars are returned as is.\n    return camelCase;\n  }\n  if (!propertyNameCache) {\n    propertyNameCache = map();\n  }\n  let propertyName = propertyNameCache[camelCase];\n  if (!propertyName || opt_bypassCache) {\n    propertyName = camelCase;\n    if (style[camelCase] === undefined) {\n      const titleCase = camelCaseToTitleCase(camelCase);\n      const prefixedPropertyName = getVendorJsPropertyName_(style, titleCase);\n\n      if (style[prefixedPropertyName] !== undefined) {\n        propertyName = prefixedPropertyName;\n      }\n    }\n    if (!opt_bypassCache) {\n      propertyNameCache[camelCase] = propertyName;\n    }\n  }\n  return propertyName;\n}\n\n\n/**\n * Sets the CSS styles of the specified element with !important. The styles\n * are specified as a map from CSS property names to their values.\n * @param {!Element} element\n * @param {!Object<string, *>} styles\n */\nexport function setImportantStyles(element, styles) {\n  for (const k in styles) {\n    element.style.setProperty(\n        getVendorJsPropertyName(styles, k), styles[k].toString(), 'important');\n  }\n}\n\n\n/**\n * Sets the CSS style of the specified element with optional units, e.g. \"px\".\n * @param {?Element} element\n * @param {string} property\n * @param {*} value\n * @param {string=} opt_units\n * @param {boolean=} opt_bypassCache\n */\nexport function setStyle(element, property, value, opt_units, opt_bypassCache) {\n  const propertyName = getVendorJsPropertyName(element.style, property,\n      opt_bypassCache);\n  if (propertyName) {\n    element.style[propertyName] =\n      /** @type {string} */ (opt_units ? value + opt_units : value);\n  }\n}\n\n\n/**\n * Returns the value of the CSS style of the specified element.\n * @param {!Element} element\n * @param {string} property\n * @param {boolean=} opt_bypassCache\n * @return {*}\n */\nexport function getStyle(element, property, opt_bypassCache) {\n  const propertyName = getVendorJsPropertyName(element.style, property,\n      opt_bypassCache);\n  if (!propertyName) {\n    return undefined;\n  }\n  return element.style[propertyName];\n}\n\n\n/**\n * Sets the CSS styles of the specified element. The styles\n * a specified as a map from CSS property names to their values.\n * @param {!Element} element\n * @param {!Object<string, *>} styles\n */\nexport function setStyles(element, styles) {\n  for (const k in styles) {\n    setStyle(element, k, styles[k]);\n  }\n}\n\n\n/**\n * Shows or hides the specified element.\n * @param {!Element} element\n * @param {boolean=} opt_display\n */\nexport function toggle(element, opt_display) {\n  if (opt_display === undefined) {\n    opt_display = getStyle(element, 'display') == 'none';\n  }\n  setStyle(element, 'display', opt_display ? '' : 'none');\n}\n\n\n/**\n * Returns a pixel value.\n * @param {number} value\n * @return {string}\n */\nexport function px(value) {\n  return `${value}px`;\n}\n\n/**\n * Returns a degree value.\n * @param {number} value\n * @return {string}\n */\nexport function deg(value) {\n  return `${value}deg`;\n}\n\n/**\n * Returns a \"translateX\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function translateX(value) {\n  if (typeof value == 'string') {\n    return `translateX(${value})`;\n  }\n  return `translateX(${px(value)})`;\n}\n\n\n/**\n * Returns a \"translateX\" for CSS \"transform\" property.\n * @param {number|string} x\n * @param {(number|string)=} opt_y\n * @return {string}\n */\nexport function translate(x, opt_y) {\n  if (typeof x == 'number') {\n    x = px(x);\n  }\n  if (opt_y === undefined) {\n    return `translate(${x})`;\n  }\n  if (typeof opt_y == 'number') {\n    opt_y = px(opt_y);\n  }\n  return `translate(${x}, ${opt_y})`;\n}\n\n\n/**\n * Returns a \"scale\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function scale(value) {\n  return `scale(${value})`;\n}\n\n/**\n * Returns a \"rotate\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function rotate(value) {\n  if (typeof value == 'number') {\n    value = deg(value);\n  }\n  return `rotate(${value})`;\n}\n\n/**\n * Remove alpha value from a rgba color value.\n * Return the new color property with alpha equals if has the alpha value.\n * Caller needs to make sure the input color value is a valid rgba/rgb value\n * @param {string} rgbaColor\n * @return {string}\n */\nexport function removeAlphaFromColor(rgbaColor) {\n  return rgbaColor.replace(\n      /\\(([^,]+),([^,]+),([^,)]+),[^)]+\\)/g, '($1,$2,$3, 1)');\n}\n\n/**\n * Gets the computed style of the element. The helper is necessary to enforce\n * the possible `null` value returned by a buggy Firefox.\n *\n * @param {!Window} win\n * @param {!Element} el\n * @return {!Object<string, string>}\n */\nexport function computedStyle(win, el) {\n  const style = /** @type {?CSSStyleDeclaration} */(win.getComputedStyle(el));\n  return /** @type {!Object<string, string>} */(style) || map();\n}\n\n\n/**\n * Resets styles that were set dynamically (i.e. inline)\n * @param {!Element} element\n * @param {!Array<string>} properties\n */\nexport function resetStyles(element, properties) {\n  const styleObj = {};\n  properties.forEach(prop => {\n    styleObj[prop] = null;\n  });\n  setStyles(element, styleObj);\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* @const */\nconst toString_ = Object.prototype.toString;\n\n/**\n * Returns the ECMA [[Class]] of a value\n * @param {*} value\n * @return {string}\n */\nfunction toString(value) {\n  return toString_.call(value);\n}\n\n/**\n * Determines if value is actually an Array.\n * @param {*} value\n * @return {boolean}\n */\nexport function isArray(value) {\n  return Array.isArray(value);\n}\n\n/**\n * Converts an array-like object to an array.\n * @param {?IArrayLike<T>|string} arrayLike\n * @return {!Array<T>}\n * @template T\n */\nexport function toArray(arrayLike) {\n  if (!arrayLike) {\n    return [];\n  }\n  const array = new Array(arrayLike.length);\n  for (let i = 0; i < arrayLike.length; i++) {\n    array[i] = arrayLike[i];\n  }\n  return array;\n}\n\n/**\n * Determines if value is actually an Object.\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject(value) {\n  return toString(value) === '[object Object]';\n}\n\n/**\n * Determines if value is of number type and finite.\n * NaN and Infinity are not considered a finite number.\n * String numbers are not considered numbers.\n * @param {*} value\n * @return {boolean}\n */\nexport function isFiniteNumber(value) {\n  return (typeof value === 'number' && isFinite(value));\n}\n\n/**\n * Checks whether `s` is a valid value of `enumObj`.\n *\n * @param {!Object<T>} enumObj\n * @param {T} s\n * @return {boolean}\n * @template T\n */\nexport function isEnumValue(enumObj, s) {\n  for (const k in enumObj) {\n    if (enumObj[k] === s) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Externs declare that access `defaultView` from `document` or\n * `ownerDocument` is of type `(Window|null)` but most of our parameter types\n * assume that it is never null. This is OK in practice as we ever only get\n * null on disconnected documents or old IE.\n * This helper function casts it into just a simple Window return type.\n *\n * @param {!Window|null} winOrNull\n * @return {!Window}\n */\nexport function toWin(winOrNull) {\n  return /** @type {!Window} */ (winOrNull);\n}\n\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {tryDecodeUriComponent_} from './url-try-decode-uri-component';\n\nconst regex = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\n\n/**\n * Parses the query string of an URL. This method returns a simple key/value\n * map. If there are duplicate keys the latest value is returned.\n *\n * DO NOT import the function from this file. Instead, import parseQueryString\n * from `src/url.js`.\n *\n * @param {string} queryString\n * @return {!JsonObject}\n */\nexport function parseQueryString_(queryString) {\n  const params = /** @type {!JsonObject} */ (Object.create(null));\n  if (!queryString) {\n    return params;\n  }\n\n  let match;\n  while ((match = regex.exec(queryString))) {\n    const name = tryDecodeUriComponent_(match[1], match[1]);\n    const value = match[2] ? tryDecodeUriComponent_(match[2], match[2]) : '';\n    params[name] = value;\n  }\n  return params;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Tries to decode a URI component, falling back to opt_fallback (or an empty\n * string)\n *\n * DO NOT import the function from this file. Instead, import\n * tryDecodeUriComponent from `src/url.js`.\n *\n * @param {string} component\n * @param {string=} fallback\n * @return {string}\n */\nexport function tryDecodeUriComponent_(component, fallback = '') {\n  try {\n    return decodeURIComponent(component);\n  } catch (e) {\n    return fallback;\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {LruCache} from './utils/lru-cache';\nimport {dict} from './utils/object';\nimport {endsWith, startsWith} from './string';\nimport {getMode} from './mode';\nimport {isArray} from './types';\nimport {parseQueryString_} from './url-parse-query-string';\nimport {tryDecodeUriComponent_} from './url-try-decode-uri-component';\nimport {urls} from './config';\nimport {user} from './log';\n\n/**\n * @type {!JsonObject}\n */\nconst SERVING_TYPE_PREFIX = dict({\n  // No viewer\n  'c': true,\n  // In viewer\n  'v': true,\n  // Ad landing page\n  'a': true,\n  // Ad\n  'ad': true,\n});\n\n/**\n * Cached a-tag to avoid memory allocation during URL parsing.\n * @type {HTMLAnchorElement}\n */\nlet a;\n\n/**\n * We cached all parsed URLs. As of now there are no use cases\n * of AMP docs that would ever parse an actual large number of URLs,\n * but we often parse the same one over and over again.\n * @type {LruCache}\n */\nlet cache;\n\n/** @private @const Matches amp_js_* parameters in query string. */\nconst AMP_JS_PARAMS_REGEX = /[?&]amp_js[^&]*/;\n\n/** @private @const Matches amp_gsa parameters in query string. */\nconst AMP_GSA_PARAMS_REGEX = /[?&]amp_gsa[^&]*/;\n\n/** @private @const Matches amp_r parameters in query string. */\nconst AMP_R_PARAMS_REGEX = /[?&]amp_r[^&]*/;\n\n/** @private @const Matches usqp parameters from goog experiment in query string. */\nconst GOOGLE_EXPERIMENT_PARAMS_REGEX = /[?&]usqp[^&]*/;\n\nconst INVALID_PROTOCOLS = [\n  /*eslint no-script-url: 0*/ 'javascript:',\n  /*eslint no-script-url: 0*/ 'data:',\n  /*eslint no-script-url: 0*/ 'vbscript:',\n];\n\n/** @const {string} */\nexport const SOURCE_ORIGIN_PARAM = '__amp_source_origin';\n\n/**\n * Returns the correct origin for a given window.\n * @param {!Window} win\n * @return {string} origin\n */\nexport function getWinOrigin(win) {\n  return win.origin || parseUrlDeprecated(win.location.href).origin;\n}\n\n/**\n * Returns a Location-like object for the given URL. If it is relative,\n * the URL gets resolved.\n * Consider the returned object immutable. This is enforced during\n * testing by freezing the object.\n * @param {string} url\n * @param {boolean=} opt_nocache\n * @return {!Location}\n */\nexport function parseUrlDeprecated(url, opt_nocache) {\n  if (!a) {\n    a = /** @type {!HTMLAnchorElement} */ (self.document.createElement('a'));\n    cache = self.UrlCache || (self.UrlCache = new LruCache(100));\n  }\n\n  return parseUrlWithA(a, url, opt_nocache ? null : cache);\n}\n\n/**\n * Returns a Location-like object for the given URL. If it is relative,\n * the URL gets resolved.\n * Consider the returned object immutable. This is enforced during\n * testing by freezing the object.\n * @param {!HTMLAnchorElement} a\n * @param {string} url\n * @param {LruCache=} opt_cache\n * @return {!Location}\n * @restricted\n */\nexport function parseUrlWithA(a, url, opt_cache) {\n  if (opt_cache && opt_cache.has(url)) {\n    return opt_cache.get(url);\n  }\n\n  a.href = url;\n\n  // IE11 doesn't provide full URL components when parsing relative URLs.\n  // Assigning to itself again does the trick #3449.\n  if (!a.protocol) {\n    a.href = a.href;\n  }\n\n  const info = /** @type {!Location} */({\n    href: a.href,\n    protocol: a.protocol,\n    host: a.host,\n    hostname: a.hostname,\n    port: a.port == '0' ? '' : a.port,\n    pathname: a.pathname,\n    search: a.search,\n    hash: a.hash,\n    origin: null, // Set below.\n  });\n\n  // Some IE11 specific polyfills.\n  // 1) IE11 strips out the leading '/' in the pathname.\n  if (info.pathname[0] !== '/') {\n    info.pathname = '/' + info.pathname;\n  }\n\n  // 2) For URLs with implicit ports, IE11 parses to default ports while\n  // other browsers leave the port field empty.\n  if ((info.protocol == 'http:' && info.port == 80)\n      || (info.protocol == 'https:' && info.port == 443)) {\n    info.port = '';\n    info.host = info.hostname;\n  }\n\n  // For data URI a.origin is equal to the string 'null' which is not useful.\n  // We instead return the actual origin which is the full URL.\n  if (a.origin && a.origin != 'null') {\n    info.origin = a.origin;\n  } else if (info.protocol == 'data:' || !info.host) {\n    info.origin = info.href;\n  } else {\n    info.origin = info.protocol + '//' + info.host;\n  }\n\n  // Freeze during testing to avoid accidental mutation.\n  const frozen = (getMode().test && Object.freeze) ? Object.freeze(info) : info;\n\n  if (opt_cache) {\n    opt_cache.put(url, frozen);\n  }\n\n  return frozen;\n}\n\n/**\n * Appends the string just before the fragment part (or optionally\n * to the front of the query string) of the URL.\n * @param {string} url\n * @param {string} paramString\n * @param {boolean=} opt_addToFront\n * @return {string}\n */\nexport function appendEncodedParamStringToUrl(url, paramString,\n  opt_addToFront) {\n  if (!paramString) {\n    return url;\n  }\n  const mainAndFragment = url.split('#', 2);\n  const mainAndQuery = mainAndFragment[0].split('?', 2);\n\n  let newUrl = mainAndQuery[0] + (\n    mainAndQuery[1]\n      ? (opt_addToFront\n        ? `?${paramString}&${mainAndQuery[1]}`\n        : `?${mainAndQuery[1]}&${paramString}`)\n      : `?${paramString}`);\n  newUrl += mainAndFragment[1] ? `#${mainAndFragment[1]}` : '';\n  return newUrl;\n}\n/**\n * Appends a query string field and value to a url. `key` and `value`\n * will be ran through `encodeURIComponent` before appending.\n * @param {string} url\n * @param {string} key\n * @param {string} value\n * @param {boolean=} opt_addToFront\n * @return {string}\n */\nexport function addParamToUrl(url, key, value, opt_addToFront) {\n  const field = `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n  return appendEncodedParamStringToUrl(url, field, opt_addToFront);\n}\n\n/**\n * Appends query string fields and values to a url. The `params` objects'\n * `key`s and `value`s will be transformed into query string keys/values.\n * @param {string} url\n * @param {!JsonObject<string, string|!Array<string>>} params\n * @return {string}\n */\nexport function addParamsToUrl(url, params) {\n  return appendEncodedParamStringToUrl(url, serializeQueryString(params));\n}\n\n/**\n * Serializes the passed parameter map into a query string with both keys\n * and values encoded.\n * @param {!JsonObject<string, string|!Array<string>>} params\n * @return {string}\n */\nexport function serializeQueryString(params) {\n  const s = [];\n  for (const k in params) {\n    const v = params[k];\n    if (v == null) {\n      continue;\n    } else if (isArray(v)) {\n      for (let i = 0; i < v.length; i++) {\n        const sv = /** @type {string} */ (v[i]);\n        s.push(`${encodeURIComponent(k)}=${encodeURIComponent(sv)}`);\n      }\n    } else {\n      const sv = /** @type {string} */ (v);\n      s.push(`${encodeURIComponent(k)}=${encodeURIComponent(sv)}`);\n    }\n  }\n  return s.join('&');\n}\n\n/**\n * Returns `true` if the URL is secure: either HTTPS or localhost (for testing).\n * @param {string|!Location} url\n * @return {boolean}\n */\nexport function isSecureUrlDeprecated(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return (url.protocol == 'https:' ||\n      url.hostname == 'localhost' ||\n      endsWith(url.hostname, '.localhost'));\n}\n\n/**\n * Asserts that a given url is HTTPS or protocol relative. It's a user-level\n * assert.\n *\n * Provides an exception for localhost.\n *\n * @param {?string|undefined} urlString\n * @param {!Element|string} elementContext Element where the url was found.\n * @param {string=} sourceName Used for error messages.\n * @return {string}\n */\nexport function assertHttpsUrl(\n  urlString, elementContext, sourceName = 'source') {\n  user().assert(urlString != null, '%s %s must be available',\n      elementContext, sourceName);\n  // (erwinm, #4560): type cast necessary until #4560 is fixed.\n  const theUrlString = /** @type {string} */ (urlString);\n  user().assert(isSecureUrlDeprecated(theUrlString) || /^(\\/\\/)/.test(theUrlString),\n      '%s %s must start with ' +\n      '\"https://\" or \"//\" or be relative and served from ' +\n      'either https or from localhost. Invalid value: %s',\n      elementContext, sourceName, theUrlString);\n  return theUrlString;\n}\n\n/**\n * Asserts that a given url is an absolute HTTP or HTTPS URL.\n * @param {string} urlString\n * @return {string}\n */\nexport function assertAbsoluteHttpOrHttpsUrl(urlString) {\n  user().assert(/^https?\\:/i.test(urlString),\n      'URL must start with \"http://\" or \"https://\". Invalid value: %s',\n      urlString);\n  return parseUrlDeprecated(urlString).href;\n}\n\n\n/**\n * Parses the query string of an URL. This method returns a simple key/value\n * map. If there are duplicate keys the latest value is returned.\n *\n * This function is implemented in a separate file to avoid a circular\n * dependency.\n *\n * @param {string} queryString\n * @return {!JsonObject}\n */\nexport function parseQueryString(queryString) {\n  return parseQueryString_(queryString);\n}\n\n/**\n * Returns the URL without fragment. If URL doesn't contain fragment, the same\n * string is returned.\n * @param {string} url\n * @return {string}\n */\nexport function removeFragment(url) {\n  const index = url.indexOf('#');\n  if (index == -1) {\n    return url;\n  }\n  return url.substring(0, index);\n}\n\n/**\n * Returns the fragment from the URL. If the URL doesn't contain fragment,\n * the empty string is returned.\n * @param {string} url\n * @return {string}\n */\nexport function getFragment(url) {\n  const index = url.indexOf('#');\n  if (index == -1) {\n    return '';\n  }\n  return url.substring(index);\n}\n\n/**\n * Returns whether the URL has the origin of a proxy.\n * @param {string|!Location} url URL of an AMP document.\n * @return {boolean}\n */\nexport function isProxyOrigin(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return urls.cdnProxyRegex.test(url.origin);\n}\n\n/**\n * For proxy-origin URLs, returns the serving type. Otherwise, returns null.\n * E.g., 'https://amp-com.cdn.ampproject.org/a/s/amp.com/amp_document.html'\n * returns 'a'.\n * @param {string|!Location} url URL of an AMP document.\n * @return {?string}\n */\nexport function getProxyServingType(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  if (!isProxyOrigin(url)) {\n    return null;\n  }\n  const path = url.pathname.split('/', 2);\n  return path[1];\n}\n\n/**\n * Returns whether the URL origin is localhost.\n * @param {string|!Location} url URL of an AMP document.\n * @return {boolean}\n */\nexport function isLocalhostOrigin(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return urls.localhostRegex.test(url.origin);\n}\n\n/**\n * Returns whether the URL has valid protocol.\n * Deep link protocol is valid, but not javascript etc.\n * @param {string|!Location} url\n * @return {boolean}\n */\nexport function isProtocolValid(url) {\n  if (!url) {\n    return true;\n  }\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return !INVALID_PROTOCOLS.includes(url.protocol);\n}\n\n/**\n * Returns a URL without AMP JS parameters.\n * @param {string} url\n * @return {string}\n */\nexport function removeAmpJsParamsFromUrl(url) {\n  const parsed = parseUrlDeprecated(url);\n  const search = removeAmpJsParamsFromSearch(parsed.search);\n  return parsed.origin + parsed.pathname + search + parsed.hash;\n\n}\n\n/**\n * Returns a URL without a query string.\n * @param {string} url\n * @return {string}\n */\nexport function removeSearch(url) {\n  const index = url.indexOf('?');\n  if (index == -1) {\n    return url;\n  }\n  const fragment = getFragment(url);\n  return url.substring(0, index) + fragment;\n}\n\n/**\n * Removes parameters that start with amp js parameter pattern and returns the\n * new search string.\n * @param {string} urlSearch\n * @return {string}\n */\nfunction removeAmpJsParamsFromSearch(urlSearch) {\n  if (!urlSearch || urlSearch == '?') {\n    return '';\n  }\n  const search = urlSearch\n      .replace(AMP_JS_PARAMS_REGEX, '')\n      .replace(AMP_GSA_PARAMS_REGEX, '')\n      .replace(AMP_R_PARAMS_REGEX, '')\n      .replace(GOOGLE_EXPERIMENT_PARAMS_REGEX, '')\n      .replace(/^[?&]/, ''); // Removes first ? or &.\n  return search ? '?' + search : '';\n}\n\n/**\n * Returns the source URL of an AMP document for documents served\n * on a proxy origin or directly.\n * @param {string|!Location} url URL of an AMP document.\n * @return {string}\n */\nexport function getSourceUrl(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n\n  // Not a proxy URL - return the URL itself.\n  if (!isProxyOrigin(url)) {\n    return url.href;\n  }\n\n  // A proxy URL.\n  // Example path that is being matched here.\n  // https://cdn.ampproject.org/c/s/www.origin.com/foo/\n  // The /s/ is optional and signals a secure origin.\n  const path = url.pathname.split('/');\n  const prefix = path[1];\n  user().assert(SERVING_TYPE_PREFIX[prefix],\n      'Unknown path prefix in url %s', url.href);\n  const domainOrHttpsSignal = path[2];\n  const origin = domainOrHttpsSignal == 's'\n    ? 'https://' + decodeURIComponent(path[3])\n    : 'http://' + decodeURIComponent(domainOrHttpsSignal);\n  // Sanity test that what we found looks like a domain.\n  user().assert(origin.indexOf('.') > 0, 'Expected a . in origin %s', origin);\n  path.splice(1, domainOrHttpsSignal == 's' ? 3 : 2);\n  return origin + path.join('/') +\n      removeAmpJsParamsFromSearch(url.search) + (url.hash || '');\n}\n\n/**\n * Returns the source origin of an AMP document for documents served\n * on a proxy origin or directly.\n * @param {string|!Location} url URL of an AMP document.\n * @return {string} The source origin of the URL.\n */\nexport function getSourceOrigin(url) {\n  return parseUrlDeprecated(getSourceUrl(url)).origin;\n}\n\n/**\n * Returns absolute URL resolved based on the relative URL and the base.\n * @param {string} relativeUrlString\n * @param {string|!Location} baseUrl\n * @return {string}\n */\nexport function resolveRelativeUrl(relativeUrlString, baseUrl) {\n  if (typeof baseUrl == 'string') {\n    baseUrl = parseUrlDeprecated(baseUrl);\n  }\n  if (typeof URL == 'function') {\n    return new URL(relativeUrlString, baseUrl.href).toString();\n  }\n  return resolveRelativeUrlFallback_(relativeUrlString, baseUrl);\n}\n\n/**\n * Fallback for URL resolver when URL class is not available.\n * @param {string} relativeUrlString\n * @param {string|!Location} baseUrl\n * @return {string}\n * @private Visible for testing.\n */\nexport function resolveRelativeUrlFallback_(relativeUrlString, baseUrl) {\n  if (typeof baseUrl == 'string') {\n    baseUrl = parseUrlDeprecated(baseUrl);\n  }\n  relativeUrlString = relativeUrlString.replace(/\\\\/g, '/');\n  const relativeUrl = parseUrlDeprecated(relativeUrlString);\n\n  // Absolute URL.\n  if (startsWith(relativeUrlString.toLowerCase(), relativeUrl.protocol)) {\n    return relativeUrl.href;\n  }\n\n  // Protocol-relative URL.\n  if (startsWith(relativeUrlString, '//')) {\n    return baseUrl.protocol + relativeUrlString;\n  }\n\n  // Absolute path.\n  if (startsWith(relativeUrlString, '/')) {\n    return baseUrl.origin + relativeUrlString;\n  }\n\n  // Relative path.\n  return baseUrl.origin + baseUrl.pathname.replace(/\\/[^/]*$/, '/')\n      + relativeUrlString;\n}\n\n\n/**\n * Add \"__amp_source_origin\" query parameter to the URL.\n * @param {!Window} win\n * @param {string} url\n * @return {string}\n */\nexport function getCorsUrl(win, url) {\n  checkCorsUrl(url);\n  const sourceOrigin = getSourceOrigin(win.location.href);\n  return addParamToUrl(url, SOURCE_ORIGIN_PARAM, sourceOrigin);\n}\n\n\n/**\n * Checks if the url has __amp_source_origin and throws if it does.\n * @param {string} url\n */\nexport function checkCorsUrl(url) {\n  const parsedUrl = parseUrlDeprecated(url);\n  const query = parseQueryString(parsedUrl.search);\n  user().assert(!(SOURCE_ORIGIN_PARAM in query),\n      'Source origin is not allowed in %s', url);\n}\n\n/**\n * Tries to decode a URI component, falling back to opt_fallback (or an empty\n * string)\n *\n * @param {string} component\n * @param {string=} opt_fallback\n * @return {string}\n */\nexport function tryDecodeUriComponent(component, opt_fallback) {\n  return tryDecodeUriComponent_(component, opt_fallback);\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Compares if two arrays contains exactly same elements of same number\n * of same order.\n * Notice that it does NOT handle NaN case as expected\n *\n * @param {!Array<T>} arr1\n * @param {!Array<T>} arr2\n * @return {boolean}\n * @template T\n */\nexport function areEqualOrdered(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * A bit like Array#filter, but removes elements that filter false from the\n * array. Returns the filtered items.\n *\n * @param {!Array<T>} array\n * @param {function(T, number, !Array<T>):boolean} filter\n * @return {!Array<T>}\n * @template T\n */\nexport function filterSplice(array, filter) {\n  const splice = [];\n  let index = 0;\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    if (filter(item, i, array)) {\n      if (index < i) {\n        array[index] = item;\n      }\n      index++;\n    } else {\n      splice.push(item);\n    }\n  }\n\n  if (index < array.length) {\n    array.length = index;\n  }\n\n  return splice;\n}\n\n/**\n * Returns the index of the first element matching the predicate.\n * Like Array#findIndex.\n *\n * @param {!Array<T>} array\n * @param {function(T, number, !Array<T>):boolean} predicate\n * @return {number}\n * @template T\n */\nexport function findIndex(array, predicate) {\n  for (let i = 0; i < array.length; i++) {\n    if (predicate(array[i], i, array)) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n/**\n * Converts the given iterator to an array.\n *\n * @param {!Iterator<T>} iterator\n * @return {Array<T>}\n * @template T\n */\nexport function fromIterator(iterator) {\n  const array = [];\n  for (let e = iterator.next(); !e.done; e = iterator.next()) {\n    array.push(e.value);\n  }\n  return array;\n}\n\n/**\n * Adds item to array if it is not already present.\n *\n * @param {Array<T>} array\n * @param {T} item\n * @template T\n */\nexport function pushIfNotExist(array, item) {\n  if (array.indexOf(item) < 0) {\n    array.push(item);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// TODO(rsimha, #15334): Enable this rule.\n/* eslint jsdoc/check-types: 0 */\n\n/**\n * Creates a function that is evaluated only once and returns the cached result\n * subsequently.\n *\n * Please note that `once` only takes the function definition into account,\n * so it will return the same cached value even when the arguments are\n * different.\n *\n * @param {function(...):T} fn\n * @return {function(...):T}\n * @template T\n */\nexport function once(fn) {\n  let evaluated = false;\n  let retValue = null;\n  let callback = fn;\n  return (...args) => {\n    if (!evaluated) {\n      retValue = callback.apply(self, args);\n      evaluated = true;\n      callback = null; // GC\n    }\n    return retValue;\n  };\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @enum {number}\n */\nexport const KeyCodes = {\n  ENTER: 13,\n  ESCAPE: 27,\n  SPACE: 32,\n  LEFT_ARROW: 37,\n  UP_ARROW: 38,\n  RIGHT_ARROW: 39,\n  DOWN_ARROW: 40,\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {dev} from '../log';\n\n/** @const {string} */\nconst TAG = 'lru-cache';\n\n/**\n * @template T\n */\nexport class LruCache {\n  /**\n   * @param {number} capacity\n   */\n  constructor(capacity) {\n    /** @private @const {number} */\n    this.capacity_ = capacity;\n\n    /** @private {number} */\n    this.size_ = 0;\n\n    /**\n     * An incrementing counter to define the last access.\n     * @private {number}\n     */\n    this.access_ = 0;\n\n    /** @private {!Object<(number|string), {payload: T, access: number}>} */\n    this.cache_ = Object.create(null);\n  }\n\n  /**\n   * Returns whether key is cached.\n   *\n   * @param {number|string} key\n   * @return {boolean}\n   */\n  has(key) {\n    return !!this.cache_[key];\n  }\n\n  /**\n   * @param {number|string} key\n   * @return {T} The cached payload.\n   */\n  get(key) {\n    const cacheable = this.cache_[key];\n    if (cacheable) {\n      cacheable.access = ++this.access_;\n      return cacheable.payload;\n    }\n    return undefined;\n  }\n\n  /**\n   * @param {number|string} key\n   * @param {T} payload The payload to cache.\n   */\n  put(key, payload) {\n    if (!this.has(key)) {\n      this.size_++;\n    }\n    this.cache_[key] = {payload, access: this.access_};\n    this.evict_();\n  }\n\n  /**\n   * Evicts the oldest cache entry, if we've exceeded capacity.\n   */\n  evict_() {\n    if (this.size_ <= this.capacity_) {\n      return;\n    }\n\n    dev().warn(TAG, 'Trimming LRU cache');\n    const cache = this.cache_;\n    let oldest = this.access_ + 1;\n    let oldestKey;\n    for (const key in cache) {\n      const {access} = cache[key];\n      if (access < oldest) {\n        oldest = access;\n        oldestKey = key;\n      }\n    }\n\n    if (oldestKey !== undefined) {\n      delete cache[oldestKey];\n      this.size_--;\n    }\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {isObject} from '../types';\n\n/* @const */\nconst hasOwn_ = Object.prototype.hasOwnProperty;\n\n/**\n * Returns a map-like object.\n * If opt_initial is provided, copies its own properties into the\n * newly created object.\n * @param {T=} opt_initial This should typically be an object literal.\n * @return {T}\n * @template T\n */\nexport function map(opt_initial) {\n  const obj = Object.create(null);\n  if (opt_initial) {\n    Object.assign(obj, opt_initial);\n  }\n  return obj;\n}\n\n/**\n * Return an empty JsonObject or makes the passed in object literal\n * an JsonObject.\n * The JsonObject type is just a simple object that is at-dict.\n * See\n * https://github.com/google/closure-compiler/wiki/@struct-and-@dict-Annotations\n * for what a dict is type-wise.\n * The linter enforces that the argument is, in fact, at-dict like.\n * @param {!Object=} opt_initial\n * @return {!JsonObject}\n */\nexport function dict(opt_initial) {\n  // We do not copy. The linter enforces that the passed in object is a literal\n  // and thus the caller cannot have a reference to it.\n  return /** @type {!JsonObject} */ (opt_initial || {});\n}\n\n/**\n * Checks if the given key is a property in the map.\n *\n * @param {T}  obj a map like property.\n * @param {string}  key\n * @return {boolean}\n * @template T\n */\nexport function hasOwn(obj, key) {\n  return hasOwn_.call(obj, key);\n}\n\n/**\n * Returns obj[key] iff key is obj's own property (is not inherited).\n * Otherwise, returns undefined.\n *\n * @param {Object} obj\n * @param {string} key\n * @return {*}\n */\nexport function ownProperty(obj, key) {\n  if (hasOwn(obj, key)) {\n    return obj[key];\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Deep merges source into target.\n *\n * @param {!Object} target\n * @param {!Object} source\n * @param {number} depth The maximum merge depth. If exceeded, Object.assign\n *                       will be used instead.\n * @return {!Object}\n * @throws {Error} If source contains a circular reference.\n * Note: Only nested objects are deep-merged, primitives and arrays are not.\n */\nexport function deepMerge(target, source, depth = 10) {\n  // Keep track of seen objects to detect recursive references.\n  const seen = [];\n\n  /** @type {!Array<{t: !Object, s: !Object, d: number}>} */\n  const queue = [];\n  queue.push({t: target, s: source, d: 0});\n\n  // BFS to ensure objects don't have recursive references at shallower depths.\n  while (queue.length > 0) {\n    const {t, s, d} = queue.shift();\n    if (seen.includes(s)) {\n      throw new Error('Source object has a circular reference.');\n    }\n    seen.push(s);\n    if (t === s) {\n      continue;\n    }\n    if (d > depth) {\n      Object.assign(t, s);\n      continue;\n    }\n    Object.keys(s).forEach(key => {\n      const newValue = s[key];\n      // Perform a deep merge IFF both target and source have the same key\n      // whose corresponding values are objects.\n      if (hasOwn(t, key)) {\n        const oldValue = t[key];\n        if (isObject(newValue) && isObject(oldValue)) {\n          queue.push({t: oldValue, s: newValue, d: d + 1});\n          return;\n        }\n      }\n      t[key] = newValue;\n    });\n  }\n  return target;\n}\n\n/**\n * @param {!Object} o An object to remove properties from\n * @param {!Array<string>} props A list of properties to remove from the Object\n * @return {!Object} An object with the given properties removed\n */\nexport function omit(o, props) {\n  return Object.keys(o).reduce((acc, key) => {\n    if (!props.includes(key)) {\n      acc[key] = o[key];\n    }\n    return acc;\n  }, {});\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns a Deferred struct, which holds a pending promise and its associated\n * resolve and reject functions.\n *\n * This is preferred instead of creating a Promise instance to extract the\n * resolve/reject functions yourself:\n *\n * ```\n * // Avoid doing\n * let resolve;\n * const promise = new Promise(res => {\n *   resolve = res;\n * });\n *\n * // Good\n * const deferred = new Deferred();\n * const { promise, resolve } = deferred;\n * ```\n *\n * @template T\n */\nexport class Deferred {\n  /**\n   * Creates an instance of Deferred.\n   */\n  constructor() {\n    let resolve, reject;\n\n    /**\n     * @const {!Promise<T>}\n     */\n    this.promise = new /*OK*/Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n\n    /**\n     * @const {function(T=)}\n     */\n    this.resolve = resolve;\n\n    /**\n     * @const {function(*=)}\n     */\n    this.reject = reject;\n  }\n}\n\n/**\n * Creates a promise resolved to the return value of fn.\n * If fn sync throws, it will cause the promise to reject.\n *\n * @param {function():T} fn\n * @return {!Promise<T>}\n * @template T\n */\nexport function tryResolve(fn) {\n  return new Promise(resolve => {\n    resolve(fn());\n  });\n}\n\n/**\n * Returns a promise which resolves if a threshold amount of the given promises\n * resolve, and rejects otherwise.\n * @param {!Array<!Promise>} promises The array of promises to test.\n * @param {number} count The number of promises that must resolve for the\n *     returned promise to resolve.\n * @return {!Promise} A promise that resolves if any of the given promises\n *     resolve, and which rejects otherwise.\n */\nexport function some(promises, count = 1) {\n  return new Promise((resolve, reject) => {\n    count = Math.max(count, 0);\n    const extra = promises.length - count;\n    if (extra < 0) {\n      reject(new Error('not enough promises to resolve'));\n    }\n    if (promises.length == 0) {\n      resolve([]);\n    }\n    const values = [];\n    const reasons = [];\n\n    const onFulfilled = value => {\n      if (values.length < count) {\n        values.push(value);\n      }\n      if (values.length == count) {\n        resolve(values);\n      }\n    };\n    const onRejected = reason => {\n      if (reasons.length <= extra) {\n        reasons.push(reason);\n      }\n      if (reasons.length > extra) {\n        reject(reasons);\n      }\n    };\n    for (let i = 0; i < promises.length; i++) {\n      Promise.resolve(promises[i]).then(onFulfilled, onRejected);\n    }\n  });\n}\n\n/**\n * Resolves with the result of the last promise added.\n * @implements {IThenable}\n */\nexport class LastAddedResolver {\n  /**\n   * @param {!Array<!Promise>=} opt_promises\n   */\n  constructor(opt_promises) {\n    let resolve_, reject_;\n    /** @private @const {!Promise} */\n    this.promise_ = new Promise((resolve, reject) => {\n      resolve_ = resolve;\n      reject_ = reject;\n    });\n\n    /** @private */\n    this.resolve_ = resolve_;\n\n    /** @private */\n    this.reject_ = reject_;\n\n    /** @private */\n    this.count_ = 0;\n\n    if (opt_promises) {\n      for (let i = 0; i < opt_promises.length; i++) {\n        this.add(opt_promises[i]);\n      }\n    }\n  }\n\n  /**\n   * Add a promise to possibly be resolved.\n   * @param {!Promise} promise\n   * @return {!Promise}\n   */\n  add(promise) {\n    const countAtAdd = ++this.count_;\n    Promise.resolve(promise).then(result => {\n      if (this.count_ === countAtAdd) {\n        this.resolve_(result);\n      }\n    }, error => {\n      // Don't follow behavior of Promise.all and Promise.race error so that\n      // this will only reject when most recently added promise fails.\n      if (this.count_ === countAtAdd) {\n        this.reject_(error);\n      }\n    });\n    return this.promise_;\n  }\n\n  /** @override */\n  then(opt_resolve, opt_reject) {\n    return this.promise_.then(opt_resolve, opt_reject);\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Wraps a given callback and applies a rate limit.\n * It throttles the calls so that no consequent calls have time interval\n * smaller than the given minimal interval.\n *\n * @param {!Window} win\n * @param {function(...*)} callback\n * @param {number} minInterval the minimum time interval in millisecond\n * @return {function(...*)}\n */\nexport function throttle(win, callback, minInterval) {\n  let locker = 0;\n  let nextCallArgs = null;\n\n  /**\n   * @param {!Object} args\n   */\n  function fire(args) {\n    nextCallArgs = null;\n    // Lock the fire for minInterval milliseconds\n    locker = win.setTimeout(waiter, minInterval);\n\n    callback.apply(null, args);\n  }\n\n  /**\n   * Waiter function\n   */\n  function waiter() {\n    locker = 0;\n    // If during the period there're invocations queued up, fire once.\n    if (nextCallArgs) {\n      fire(nextCallArgs);\n    }\n  }\n\n  return function(...args) {\n    if (locker) {\n      nextCallArgs = args;\n    } else {\n      fire(args);\n    }\n  };\n}\n\n/**\n * Wraps a given callback and applies a wait timer, so that minInterval\n * milliseconds must pass since the last call before the callback is actually\n * invoked.\n *\n * @param {!Window} win\n * @param {function(...*)} callback\n * @param {number} minInterval the minimum time interval in millisecond\n * @return {function(...*)}\n */\nexport function debounce(win, callback, minInterval) {\n  let locker = 0;\n  let timestamp = 0;\n  let nextCallArgs = null;\n\n  /**\n   * @param {?Array} args\n   */\n  function fire(args) {\n    nextCallArgs = null;\n    callback.apply(null, args);\n  }\n\n  /**\n   * Wait function for debounce\n   */\n  function waiter() {\n    locker = 0;\n    const remaining = minInterval - (win.Date.now() - timestamp);\n    if (remaining > 0) {\n      locker = win.setTimeout(waiter, remaining);\n    } else {\n      fire(nextCallArgs);\n    }\n  }\n\n  return function(...args) {\n    timestamp = win.Date.now();\n    nextCallArgs = args;\n    if (!locker) {\n      locker = win.setTimeout(waiter, minInterval);\n    }\n  };\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {dev} from '../log';\nimport {once} from './function';\nimport {setStyles} from '../style';\n\n\n/**\n * @param {!Window} win\n * @param {boolean} isLiteViewer\n * @return {!Promise<boolean>}\n */\nfunction isAutoplaySupportedImpl(win, isLiteViewer) {\n  // We do not support autoplay in amp-lite viewer regardless of platform.\n  if (isLiteViewer) {\n    return Promise.resolve(false);\n  }\n\n  // To detect autoplay, we create a video element and call play on it, if\n  // `paused` is true after `play()` call, autoplay is supported. Although\n  // this is unintuitive, it works across browsers and is currently the lightest\n  // way to detect autoplay without using a data source.\n  const detectionElement = win.document.createElement('video');\n\n  // NOTE(aghassemi): We need both attributes and properties due to Chrome and\n  // Safari differences when dealing with non-attached elements.\n  detectionElement.setAttribute('muted', '');\n  detectionElement.setAttribute('playsinline', '');\n  detectionElement.setAttribute('webkit-playsinline', '');\n  detectionElement.setAttribute('height', '0');\n  detectionElement.setAttribute('width', '0');\n\n  detectionElement.muted = true;\n  detectionElement.playsinline = true;\n  detectionElement.webkitPlaysinline = true;\n\n  setStyles(detectionElement, {\n    position: 'fixed',\n    top: '0',\n    width: '0',\n    height: '0',\n    opacity: '0',\n  });\n\n  // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n  new Promise(resolve => resolve(detectionElement.play())).catch(() => {\n    // Suppress any errors, useless to report as they are expected.\n  });\n\n  return Promise.resolve(!detectionElement.paused);\n}\n\n\n/** @private {?(function(Window, boolean):!Promise<boolean>)} */\nlet isAutoplaySupported = null;\n\n/**\n * Sets if autoplay is supported.\n */\nfunction setIsAutoplaySupported() {\n  isAutoplaySupported =\n    /** @type {function(Window, boolean):!Promise<boolean>} */ (\n      once(isAutoplaySupportedImpl));\n}\n\n\n/**\n * Wrapper around static utilities for testability.\n */\nexport class VideoUtils {\n  /**\n   * Determines autoplay support.\n   *\n   * Note that even if platfrom supports autoplay, users or browsers can disable\n   * autoplay to save data / battery. This detects both platfrom support and\n   * when autoplay has been disabled by the user.\n   *\n   * @param {!Window} win\n   * @param {boolean} isLiteViewer\n   * @return {!Promise<boolean>}\n   */\n  static isAutoplaySupported(win, isLiteViewer) {\n    if (!isAutoplaySupported) {\n      setIsAutoplaySupported();\n    }\n    return isAutoplaySupported(win, isLiteViewer);\n  }\n\n  /** @visibleForTesting */\n  static resetIsAutoplaySupported() {\n    setIsAutoplaySupported();\n  }\n}\n\n/**\n * @param {!Element} element\n * @return {!Element}\n * Note: Not included in `VideoUtils` as we don't need to test a\n * static selector.\n */\nexport function getInternalVideoElementFor(element) {\n  return dev().assertElement(element.querySelector('video, iframe'));\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const MIN_VISIBILITY_RATIO_FOR_AUTOPLAY = 0.5;\n\n/**\n * VideoInterface defines a common video API which any AMP component that plays\n * videos is expected to implement.\n *\n * AMP runtime uses this common API to provide consistent video experience and\n * analytics across all video players.\n *\n * Components implementing this interface must also extend\n * {@link ./base-element.BaseElement} and register with the\n * Video Manager {@link ./service/video-manager-impl.VideoManager} during\n * their `builtCallback`.\n *\n * @interface\n */\nexport class VideoInterface {\n\n  /**\n   * Whether the component supports video playback in the current platform.\n   * If false, component will be not treated as a video component.\n   * @return {boolean}\n   */\n  supportsPlatform() {}\n\n  /**\n   * Whether users can interact with the video such as pausing it.\n   * Example of non-interactive videos include design background videos where\n   * all controls are hidden from the user.\n   *\n   * @return {boolean}\n   */\n  isInteractive() {}\n\n  /**\n   * Current playback time in seconds at time of trigger\n   * @return {number}\n   */\n  getCurrentTime() {}\n\n  /**\n   * Total duration of the video in seconds\n   * @return {number}\n   */\n  getDuration() {}\n\n  /**\n   * Get a 2d array of start and stop times that the user has watched.\n   * @return {!Array<Array<number>>}\n   */\n  getPlayedRanges() {}\n\n  /**\n   * Plays the video..\n   *\n   * @param {boolean} unusedIsAutoplay Whether the call to the `play` method is\n   * triggered by the autoplay functionality. Video players can use this hint\n   * to make decisions such as not playing pre-roll video ads.\n   */\n  play(unusedIsAutoplay) {}\n\n  /**\n   * Pauses the video.\n   */\n  pause() {}\n\n  /**\n   * Mutes the video.\n   */\n  mute() {}\n\n  /**\n   * Unmutes the video.\n   */\n  unmute() {}\n\n  /**\n   * Makes the video UI controls visible.\n   *\n   * AMP will not call this method if `controls` attribute is not set.\n   */\n  showControls() {}\n\n  /**\n   * Hides the video UI controls.\n   *\n   * AMP will not call this method if `controls` attribute is not set.\n   */\n  hideControls() {}\n\n  /**\n   * Returns video's meta data (artwork, title, artist, album, etc.) for use\n   * with the Media Session API\n   * artwork (Array): URL to the poster image (preferably a 512x512 PNG)\n   * title (string): Name of the video\n   * artist (string): Name of the video's author/artist\n   * album (string): Name of the video's album if it exists\n   * @return {!./mediasession-helper.MetadataDef|undefined} metadata\n   */\n  getMetadata() {}\n\n  /**\n   * If this returns true then it will be assumed that the player implements\n   * a feature to enter fullscreen on device rotation internally, so that the\n   * video manager does not override it. If not, the video manager will\n   * implement this feature automatically for videos with the attribute\n   * `rotate-to-fullscreen`.\n   *\n   * @return {boolean}\n   */\n  preimplementsAutoFullscreen() {}\n\n  /**\n   * If this returns true then it will be assumed that the player implements\n   * the MediaSession API internally so that the video manager does not override\n   * it. If not, the video manager will use the metadata variable as well as\n   * inferred meta-data to update the video's Media Session notification.\n   *\n   * @return {boolean}\n   */\n  preimplementsMediaSessionAPI() {}\n\n  /**\n   * Enables fullscreen on the internal video element\n   * NOTE: While implementing, keep in mind that Safari/iOS do not allow taking\n   * any element other than <video> to fullscreen, if the player has an internal\n   * implementation of fullscreen (flash for example) then check\n   * if Services.platformFor(this.win).isSafari is true and use the internal\n   * implementation instead. If not, it is recommended to take the iframe\n   * to fullscreen using fullscreenEnter from dom.js\n   */\n  fullscreenEnter() {}\n\n  /**\n   * Quits fullscreen mode\n   */\n  fullscreenExit() {}\n\n  /**\n   * Returns whether the video is currently in fullscreen mode or not\n   * @return {boolean}\n   */\n  isFullscreen() {}\n}\n\n\n/**\n * Attributes\n *\n * Components implementing the VideoInterface are expected to support\n * the following attributes.\n *\n * @constant {!Object<string, string>}\n */\nexport const VideoAttributes = {\n  /**\n   * autoplay\n   *\n   * Whether the developer has configured autoplay on the component.\n   * This is normally done by setting `autoplay` attribute on the component.\n   *\n   * AMP runtime manages autoplay behaviour itself using methods such as `play`,\n   * `pause`, `showControls`, `hideControls`, `mute`, etc.. therefore components\n   * should not propagate the autoplay attribute to the underlying player\n   * implementation.\n   *\n   * When a video is requested to autoplay, AMP will automatically\n   * mute and hide the controls for the video, when video is 75% visible in\n   * the viewport, AMP will play the video and later pauses it when 25%\n   * or more of the video exits the viewport. If an auto-playing video also has\n   * controls, AMP will install a tap\n   * handler on the video, and when an end-user taps the video, AMP will show\n   * the controls.\n   *\n   */\n  AUTOPLAY: 'autoplay',\n  /**\n   * dock\n   *\n   * Setting the `dock` attribute on the component makes the video minimize\n   * to the corner when scrolled out of view and has been interacted with.\n   */\n  DOCK: 'dock',\n  /**\n   * rotate-to-fullscreen\n   *\n   * If enabled, this automatically expands the currently visible video and\n   * playing to fullscreen when the user changes the device's orientation to\n   * landscape if the video was started following a user interaction\n   * (not autoplay)\n   *\n   * Dependent upon browser support of\n   * http://caniuse.com/#feat=screen-orientation\n   * and http://caniuse.com/#feat=fullscreen\n   */\n  ROTATE_TO_FULLSCREEN: 'rotate-to-fullscreen',\n  /**\n   * noaudio\n   *\n   * If set and autoplay, the equalizer icon will not be displayed.\n   */\n  NO_AUDIO: 'noaudio',\n};\n\n\n/**\n * Events\n *\n * Components implementing the VideoInterface are expected to dispatch\n * the following DOM events.\n *\n * @constant {!Object<string, string>}\n */\nexport const VideoEvents = {\n  /**\n   * registered\n   *\n   * Fired when the video player element is built and has been registered with\n   * the video manager.\n   *\n   * @event registered\n   */\n  REGISTERED: 'registered',\n\n  /**\n   * load\n   *\n   * Fired when the video player is loaded and calls to methods such as `play()`\n   * are allowed.\n   *\n   * @event load\n   */\n  LOAD: 'load',\n\n  /**\n   * playing\n   *\n   * Fired when the video begins playing.\n   *\n   * @event playing\n   */\n  PLAYING: 'playing',\n\n  /**\n   * pause\n   *\n   * Fired when the video pauses.\n   *\n   * @event pause\n   */\n  PAUSE: 'pause',\n\n  /**\n   * ended\n   *\n   * Fired when the video ends.\n   *\n   * This event should be fired in addition to `pause` when video ends.\n   *\n   * @event ended\n   */\n  ENDED: 'ended',\n\n  /**\n   * muted\n   *\n   * Fired when the video is muted.\n   *\n   * @event muted\n   */\n  MUTED: 'muted',\n\n  /**\n   * unmuted\n   *\n   * Fired when the video is unmuted.\n   *\n   * @event unmuted\n   */\n  UNMUTED: 'unmuted',\n\n  /**\n   * amp:video:visibility\n   *\n   * Fired when the video's visibility changes. Normally fired\n   * from `viewportCallback`.\n   *\n   * @event amp:video:visibility\n   * @property {boolean} visible Whether the video player is visible or not.\n   */\n  VISIBILITY: 'amp:video:visibility',\n\n  /**\n   * reload\n   *\n   * Fired when the video's src changes.\n   *\n   * @event reloaded\n   */\n  RELOAD: 'reloaded',\n\n  /**\n   * pre/mid/post Ad start\n   *\n   * Fired when an Ad starts playing.\n   *\n   * This is used to remove any overlay shims during Ad play during autoplay\n   * or minimized-to-corner version of the player.\n   *\n   * @event ad_start\n   */\n  AD_START: 'ad_start',\n\n  /**\n   * pre/mid/post Ad ends\n   *\n   * Fired when an Ad ends playing.\n   *\n   * This is used to restore any overlay shims during Ad play during autoplay\n   * or minimized-to-corner version of the player.\n   *\n   * @event ad_end\n   */\n  AD_END: 'ad_end',\n};\n\n\n/**\n * Playing States\n *\n * Internal playing states used to distinguish between video playing on user's\n * command and videos playing automatically\n *\n * @constant {!Object<string, string>}\n */\nexport const PlayingStates = {\n  /**\n   * playing_manual\n   *\n   * When the video user manually interacted with the video and the video\n   * is now playing\n   *\n   * @event playing_manual\n   */\n  PLAYING_MANUAL: 'playing_manual',\n\n  /**\n   * playing_auto\n   *\n   * When the video has autoplay and the user hasn't interacted with it yet\n   *\n   * @event playing_auto\n   */\n  PLAYING_AUTO: 'playing_auto',\n\n  /**\n   * paused\n   *\n   * When the video is paused.\n   *\n   * @event paused\n   */\n  PAUSED: 'paused',\n};\n\n\n/** @enum {string} */\nexport const VideoAnalyticsEvents = {\n  /**\n   * video-ended\n   *\n   * Indicates that a video ended.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-ended\n   */\n  ENDED: 'video-ended',\n\n  /**\n   * video-pause\n   *\n   * Indicates that a video paused.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-pause\n   */\n  PAUSE: 'video-pause',\n\n  /**\n   * video-play\n   *\n   * Indicates that a video began to play.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-play\n   */\n  PLAY: 'video-play',\n\n  /**\n   * video-session\n   *\n   * Indicates that some segment of the video played.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-session\n   */\n  SESSION: 'video-session',\n\n  /**\n   * video-session-visible\n   *\n   * Indicates that some segment of the video played in the viewport.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-session-visible\n   */\n  SESSION_VISIBLE: 'video-session-visible',\n\n  /**\n   * video-seconds-played\n   *\n   * Indicates that a video was playing when the\n   * video-seconds-played interval fired.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-session-visible\n   */\n  SECONDS_PLAYED: 'video-seconds-played',\n};\n\n\n/**\n * @typedef {{\n *   autoplay: boolean,\n *   currentTime: number,\n *   duration: number,\n *   height: number,\n *   id: string,\n *   playedRangesJson: string,\n *   playedTotal: number,\n *   muted: boolean,\n *   state: string,\n *   width: number\n * }}\n */\nexport let VideoAnalyticsDetailsDef;\n\n\n/**\n * Helper union type to be used internally, so that the compiler treats\n * `VideoInterface` objects as `BaseElement`s, which they should be anyway.\n *\n * WARNING: Don't use this at the service level. Its `register` method should\n * only allow `VideoInterface` as a guarding measure.\n *\n * @typedef {!VideoInterface|!./base-element.BaseElement}\n */\nexport let VideoOrBaseElementDef;\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Possible versions of Shadow DOM spec\n * @const\n * @enum {string}\n */\nexport const ShadowDomVersion = {\n  NONE: 'none',\n  V0: 'v0',\n  V1: 'v1',\n};\n\n/**\n * @type {ShadowDomVersion|undefined}\n * @visibleForTesting\n */\nlet shadowDomSupportedVersion;\n\n/**\n * @type {boolean|undefined}\n * @visibleForTesting\n */\nlet shadowCssSupported;\n\n/**\n * @param {ShadowDomVersion|undefined} val\n * @visibleForTesting\n */\nexport function setShadowDomSupportedVersionForTesting(val) {\n  shadowDomSupportedVersion = val;\n}\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setShadowCssSupportedForTesting(val) {\n  shadowCssSupported = val;\n}\n\n/**\n * Returns `true` if the Shadow DOM is supported.\n * @return {boolean}\n */\nexport function isShadowDomSupported() {\n  return getShadowDomSupportedVersion() != ShadowDomVersion.NONE;\n}\n\n/**\n * Returns `true` if Shadow CSS encapsulation is supported.\n * @return {boolean}\n */\nexport function isShadowCssSupported() {\n  if (shadowCssSupported === undefined) {\n    shadowCssSupported = isShadowDomSupported() && (\n      isNative(Element.prototype.attachShadow) ||\n      isNative(Element.prototype.createShadowRoot)\n    );\n  }\n  return shadowCssSupported;\n}\n\n/**\n * Returns `true` if the passed function is native to the browser, and is not\n * polyfilled\n * @param {function()|undefined} func A function that is attatched to a JS\n * object.\n * @return {boolean}\n */\nfunction isNative(func) {\n  return !!func && func.toString().indexOf('[native code]') != -1;\n}\n\n/**\n * Returns the supported version of Shadow DOM spec.\n * @param {?function(new:Element)=} opt_elementClass optional for testing\n * @return {ShadowDomVersion}\n */\nexport function getShadowDomSupportedVersion(opt_elementClass) {\n  if (shadowDomSupportedVersion === undefined) {\n    shadowDomSupportedVersion =\n        getShadowDomVersion(opt_elementClass || Element);\n  }\n  return shadowDomSupportedVersion;\n}\n\n/**\n * Returns shadow dom version.\n *\n * @param {?function(new:Element)=} element\n * @return {ShadowDomVersion}\n */\nfunction getShadowDomVersion(element) {\n  if (!!element.prototype.attachShadow) {\n    return ShadowDomVersion.V1;\n  } else if (!!element.prototype.createShadowRoot) {\n    return ShadowDomVersion.V0;\n  }\n  return ShadowDomVersion.NONE;\n}\n","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n\n\n/**\n * This regex consists of 4 matching capture groups and one (non-matching) fallback:\n *\n * - (\\0), catch the null terminator character so it may be replaced by UTF\n *   Replacement Char\n * - ^(-)$, catch a solitary dash char, so that it may be backslash escaped.\n *   This is a separate capture group so that the legal-chars (group 4) doesn't\n *   capture it first, since that group doesn't need to escape its dash.\n * - ([\\x01-\\x1f\\x7f]|^-?[0-9]), catch a UTF control char, or any leading\n *   number (with an optional leading dash). The control or the number (but not\n *   the leading dash) must be hex-escaped,.\n * - ([\\x80-\\uffff0-9a-zA-Z_-]+), catch legal-chars, with the exception of a\n *   solitary dash, which will already have matched in group 1.\n * - [^], finally, a catch-all that allows us to backslash escape the char.\n *\n * Together, this matches everything necessary for CSS.escape.\n */\nvar regex = /(\\0)|^(-)$|([\\x01-\\x1f\\x7f]|^-?[0-9])|([\\x80-\\uffff0-9a-zA-Z_-]+)|[^]/g;\n\nfunction escaper(match, nil, dash, hexEscape, chars) {\n  // Chars is the legal-chars (group 4) capture\n  if (chars) {\n    return chars;\n  }\n  // Nil is the null terminator (group 1) capture\n  if (nil) {\n    return '\\uFFFD';\n  }\n  // Both UTF control chars, and leading numbers (with optional leading dash)\n  // (group 3) must be backslash escaped with a trailing space.  Funnily, the\n  // leading dash must not be escaped, but the number. :shrug:\n  if (hexEscape) {\n    return match.slice(0, -1) + '\\\\' + match.slice(-1).charCodeAt(0).toString(16) + ' '\n  }\n  // Finally, the solitary dash and the catch-all chars require backslash\n  // escaping.\n  return '\\\\' + match;\n}\n\n/**\n * https://drafts.csswg.org/cssom/#serialize-an-identifier\n * @param {string} value\n * @return {string}\n */\nexport function cssEscape(value) {\n  return String(value).replace(regex, escaper);\n}\n","/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/*\n  This is a limited shim for ShadowDOM css styling.\n  https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#styles\n\n  The intention here is to support only the styling features which can be\n  relatively simply implemented. The goal is to allow users to avoid the\n  most obvious pitfalls and do so without compromising performance significantly.\n  For ShadowDOM styling that's not covered here, a set of best practices\n  can be provided that should allow users to accomplish more complex styling.\n\n  The following is a list of specific ShadowDOM styling features and a brief\n  discussion of the approach used to shim.\n\n  Shimmed features:\n\n  * :host, :host-context: ShadowDOM allows styling of the shadowRoot's host\n  element using the :host rule. To shim this feature, the :host styles are\n  reformatted and prefixed with a given scope name and promoted to a\n  document level stylesheet.\n  For example, given a scope name of .foo, a rule like this:\n\n    :host {\n        background: red;\n      }\n    }\n\n  becomes:\n\n    .foo {\n      background: red;\n    }\n\n  * encapsultion: Styles defined within ShadowDOM, apply only to\n  dom inside the ShadowDOM. Polymer uses one of two techniques to imlement\n  this feature.\n\n  By default, rules are prefixed with the host element tag name\n  as a descendant selector. This ensures styling does not leak out of the 'top'\n  of the element's ShadowDOM. For example,\n\n  div {\n      font-weight: bold;\n    }\n\n  becomes:\n\n  x-foo div {\n      font-weight: bold;\n    }\n\n  becomes:\n\n\n  Alternatively, if WebComponents.ShadowCSS.strictStyling is set to true then\n  selectors are scoped by adding an attribute selector suffix to each\n  simple selector that contains the host element tag name. Each element\n  in the element's ShadowDOM template is also given the scope attribute.\n  Thus, these rules match only elements that have the scope attribute.\n  For example, given a scope name of x-foo, a rule like this:\n\n    div {\n      font-weight: bold;\n    }\n\n  becomes:\n\n    div[x-foo] {\n      font-weight: bold;\n    }\n\n  Note that elements that are dynamically added to a scope must have the scope\n  selector added to them manually.\n\n  * upper/lower bound encapsulation: Styles which are defined outside a\n  shadowRoot should not cross the ShadowDOM boundary and should not apply\n  inside a shadowRoot.\n\n  This styling behavior is not emulated. Some possible ways to do this that\n  were rejected due to complexity and/or performance concerns include: (1) reset\n  every possible property for every possible selector for a given scope name;\n  (2) re-implement css in javascript.\n\n  As an alternative, users should make sure to use selectors\n  specific to the scope in which they are working.\n\n  * ::distributed: This behavior is not emulated. It's often not necessary\n  to style the contents of a specific insertion point and instead, descendants\n  of the host element can be styled selectively. Users can also create an\n  extra node around an insertion point and style that node's contents\n  via descendent selectors. For example, with a shadowRoot like this:\n\n    <style>\n      ::content(div) {\n        background: red;\n      }\n    </style>\n    <content></content>\n\n  could become:\n\n    <style>\n      / *@polyfill .content-container div * /\n      ::content(div) {\n        background: red;\n      }\n    </style>\n    <div class=\"content-container\">\n      <content></content>\n    </div>\n\n  Note the use of @polyfill in the comment above a ShadowDOM specific style\n  declaration. This is a directive to the styling shim to use the selector\n  in comments in lieu of the next selector when running under polyfill.\n*/\n\nexport const ShadowCSS = {\n  strictStyling: false,\n  // change a selector like 'div' to 'name div'\n  /** @this {ShadowCSS} */\n  scopeRules: function(cssRules, scopeSelector, opt_transformer) {\n    var cssText = '';\n    if (cssRules) {\n      Array.prototype.forEach.call(cssRules, function(rule) {\n        if (rule.selectorText && (rule.style && rule.style.cssText !== undefined)) {\n          cssText += this.scopeSelector(rule.selectorText, scopeSelector,\n            this.strictStyling, opt_transformer) + ' {\\n\\t';\n          cssText += this.propertiesFromRule(rule) + '\\n}\\n\\n';\n        } else if (rule.type === CSSRule.MEDIA_RULE) {\n          cssText += '@media ' + rule.media.mediaText + ' {\\n';\n          cssText += this.scopeRules(rule.cssRules, scopeSelector);\n          cssText += '\\n}\\n\\n';\n        } else {\n          // KEYFRAMES_RULE in IE throws when we query cssText\n          // when it contains a -webkit- property.\n          // if this happens, we fallback to constructing the rule\n          // from the CSSRuleSet\n          // https://connect.microsoft.com/IE/feedbackdetail/view/955703/accessing-csstext-of-a-keyframe-rule-that-contains-a-webkit-property-via-cssom-generates-exception\n          try {\n            if (rule.cssText) {\n              cssText += rule.cssText + '\\n\\n';\n            }\n          } catch(x) {\n            if (rule.type === CSSRule.KEYFRAMES_RULE && rule.cssRules) {\n              cssText += this.ieSafeCssTextFromKeyFrameRule(rule);\n            }\n          }\n        }\n      }, this);\n    }\n    return cssText;\n  },\n  /** @this {ShadowCSS} */\n  ieSafeCssTextFromKeyFrameRule: function(rule) {\n    var cssText = '@keyframes ' + rule.name + ' {';\n    Array.prototype.forEach.call(rule.cssRules, function(rule) {\n      cssText += ' ' + rule.keyText + ' {' + rule.style.cssText + '}';\n    });\n    cssText += ' }';\n    return cssText;\n  },\n  /** @this {ShadowCSS} */\n  scopeSelector: function(selector, scopeSelector, strict, opt_transformer) {\n    var r = [], parts = selector.split(',');\n    parts.forEach(function(p) {\n      p = p.trim();\n      if (opt_transformer) {\n        p = opt_transformer(p);\n      }\n      if (this.selectorNeedsScoping(p, scopeSelector)) {\n        p = (strict && !p.match(polyfillHostNoCombinator)) ?\n            this.applyStrictSelectorScope(p, scopeSelector) :\n            this.applySelectorScope(p, scopeSelector);\n      }\n      r.push(p);\n    }, this);\n    return r.join(', ');\n  },\n  /** @this {ShadowCSS} */\n  selectorNeedsScoping: function(selector, scopeSelector) {\n    if (Array.isArray(scopeSelector)) {\n      return true;\n    }\n    var re = this.makeScopeMatcher(scopeSelector);\n    return !selector.match(re);\n  },\n  /** @this {ShadowCSS} */\n  makeScopeMatcher: function(scopeSelector) {\n    scopeSelector = scopeSelector.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]');\n    return new RegExp('^(' + scopeSelector + ')' + selectorReSuffix, 'm');\n  },\n  /** @this {ShadowCSS} */\n  applySelectorScope: function(selector, selectorScope) {\n    return Array.isArray(selectorScope) ?\n        this.applySelectorScopeList(selector, selectorScope) :\n        this.applySimpleSelectorScope(selector, selectorScope);\n  },\n  // apply an array of selectors\n  /** @this {ShadowCSS} */\n  applySelectorScopeList: function(selector, scopeSelectorList) {\n    var r = [];\n    for (var i=0, s; (s=scopeSelectorList[i]); i++) {\n      r.push(this.applySimpleSelectorScope(selector, s));\n    }\n    return r.join(', ');\n  },\n  // scope via name and [is=name]\n  /** @this {ShadowCSS} */\n  applySimpleSelectorScope: function(selector, scopeSelector) {\n    if (selector.match(polyfillHostRe)) {\n      selector = selector.replace(polyfillHostNoCombinator, scopeSelector);\n      return selector.replace(polyfillHostRe, scopeSelector + ' ');\n    } else {\n      return scopeSelector + ' ' + selector;\n    }\n  },\n  // return a selector with [name] suffix on each simple selector\n  // e.g. .foo.bar > .zot becomes .foo[name].bar[name] > .zot[name]\n  /** @this {ShadowCSS} */\n  applyStrictSelectorScope: function(selector, scopeSelector) {\n    scopeSelector = scopeSelector.replace(/\\[is=([^\\]]*)\\]/g, '$1');\n    var splits = [' ', '>', '+', '~'],\n      scoped = selector,\n      attrName = '[' + scopeSelector + ']';\n    splits.forEach(function(sep) {\n      var parts = scoped.split(sep);\n      scoped = parts.map(function(p) {\n        // remove :host since it should be unnecessary\n        var t = p.trim().replace(polyfillHostRe, '');\n        if (t && (splits.indexOf(t) < 0) && (t.indexOf(attrName) < 0)) {\n          p = t.replace(/([^:]*)(:*)(.*)/, '$1' + attrName + '$2$3');\n        }\n        return p;\n      }).join(sep);\n    });\n    return scoped;\n  },\n  /** @this {ShadowCSS} */\n  propertiesFromRule: function(rule) {\n    var cssText = rule.style.cssText;\n    // TODO(sorvell): Safari cssom incorrectly removes quotes from the content\n    // property. (https://bugs.webkit.org/show_bug.cgi?id=118045)\n    // don't replace attr rules\n    if (rule.style.content && !rule.style.content.match(/['\"]+|attr/)) {\n      cssText = cssText.replace(/content:[^;]*;/g, 'content: \\'' +\n          rule.style.content + '\\';');\n    }\n    // TODO(sorvell): we can workaround this issue here, but we need a list\n    // of troublesome properties to fix https://github.com/Polymer/platform/issues/53\n    //\n    // inherit rules can be omitted from cssText\n    // TODO(sorvell): remove when Blink bug is fixed:\n    // https://code.google.com/p/chromium/issues/detail?id=358273\n    var style = rule.style;\n    for (var i in style) {\n      if (style[i] === 'initial') {\n        cssText += i + ': initial; ';\n      }\n    }\n    return cssText;\n  }\n};\n\nvar selectorRe = /([^{]*)({[\\s\\S]*?})/gim,\n    cssCommentRe = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n    // TODO(sorvell): remove either content or comment\n    cssCommentNextSelectorRe = /\\/\\*\\s*@polyfill ([^*]*\\*+([^/*][^*]*\\*+)*\\/)([^{]*?){/gim,\n    cssContentNextSelectorRe = /polyfill-next-selector[^}]*content\\:[\\s]*?['\"](.*?)['\"][;\\s]*}([^{]*?){/gim,\n    // TODO(sorvell): remove either content or comment\n    cssCommentRuleRe = /\\/\\*\\s@polyfill-rule([^*]*\\*+([^/*][^*]*\\*+)*)\\//gim,\n    cssContentRuleRe = /(polyfill-rule)[^}]*(content\\:[\\s]*['\"](.*?)['\"])[;\\s]*[^}]*}/gim,\n    // TODO(sorvell): remove either content or comment\n    cssCommentUnscopedRuleRe = /\\/\\*\\s@polyfill-unscoped-rule([^*]*\\*+([^/*][^*]*\\*+)*)\\//gim,\n    cssContentUnscopedRuleRe = /(polyfill-unscoped-rule)[^}]*(content\\:[\\s]*['\"](.*?)['\"])[;\\s]*[^}]*}/gim,\n    cssPseudoRe = /::(x-[^\\s{,(]*)/gim,\n    cssPartRe = /::part\\(([^)]*)\\)/gim,\n    // note: :host pre-processed to -shadowcsshost.\n    polyfillHost = '-shadowcsshost',\n    // note: :host-context pre-processed to -shadowcsshostcontext.\n    polyfillHostContext = '-shadowcsscontext',\n    parenSuffix = ')(?:\\\\((' +\n        '(?:\\\\([^)(]*\\\\)|[^)(]*)+?' +\n        ')\\\\))?([^,{]*)';\n    var cssColonHostRe = new RegExp('(' + polyfillHost + parenSuffix, 'gim'),\n    cssColonHostContextRe = new RegExp('(' + polyfillHostContext + parenSuffix, 'gim'),\n    selectorReSuffix = '([>\\\\s~+\\[.,{:][\\\\s\\\\S]*)?$',\n    colonHostRe = /\\:host/gim,\n    colonHostContextRe = /\\:host-context/gim,\n    /* host name without combinator */\n    polyfillHostNoCombinator = polyfillHost + '-no-combinator',\n    polyfillHostRe = new RegExp(polyfillHost, 'gim'),\n    polyfillHostContextRe = new RegExp(polyfillHostContext, 'gim'),\n    shadowDOMSelectorsRe = [\n      />>>/g,\n      /::shadow/g,\n      /::content/g,\n      // Deprecated selectors\n      /\\/deep\\//g, // former >>>\n      /\\/shadow\\//g, // former ::shadow\n      /\\/shadow-deep\\//g, // former /deep/\n      /\\^\\^/g,     // former /shadow/\n      /\\^(?!=)/g   // former /shadow-deep/\n    ];\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9hbXAtc3RvcnktMC4xLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS1ib29rZW5kLTAuMS5jc3MuanMiLCJidWlsZC9hbXAtc3RvcnktY29uc2VudC0wLjEuY3NzLmpzIiwiYnVpbGQvYW1wLXN0b3J5LWhpbnQtMC4xLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS1pbmZvLWRpYWxvZy0wLjEuY3NzLmpzIiwiYnVpbGQvYW1wLXN0b3J5LXNoYXJlLW1lbnUtMC4xLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS1zeXN0ZW0tbGF5ZXItMC4xLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS11bnN1cHBvcnRlZC1icm93c2VyLWxheWVyLTAuMS5jc3MuanMiLCJidWlsZC9hbXAtc3Rvcnktdmlld3BvcnQtd2FybmluZy1sYXllci0wLjEuY3NzLmpzIiwiYnVpbGQvdmlkZW8tYXV0b3BsYXkuY3NzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9uLXR5cGVzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL19sb2NhbGVzL2RlZmF1bHQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvX2xvY2FsZXMvZW4uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LWJhc2UtbGF5ZXIuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LWJvb2tlbmQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LWNvbnNlbnQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LWN0YS1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktZ3JpZC1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktaGludC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktaW5mby1kaWFsb2cuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXBhZ2UuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXJlcXVlc3Qtc2VydmljZS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3Rvcnktc2hhcmUtbWVudS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3Rvcnktc2hhcmUuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN5c3RlbS1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3Rvcnktdmlld3BvcnQtd2FybmluZy1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnkuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW5hbHl0aWNzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FuaW1hdGlvbi1wcmVzZXRzLXV0aWxzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FuaW1hdGlvbi1wcmVzZXRzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FuaW1hdGlvbi10eXBlcy5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbmltYXRpb24uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYXVkaW8uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYmFja2dyb3VuZC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9kZWZhdWx0LW1lZGlhLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2RldmVsb3BtZW50LXVpLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2VtYmVkLW1vZGUuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvZXZlbnRzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2pzb25sZC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9sb2FkaW5nLXNwaW5uZXIuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvbG9jYWxpemF0aW9uLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2xvZ2dpbmcuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvbWVkaWEtcG9vbC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9tZWRpYS10YXNrcy5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9uYXZpZ2F0aW9uLXN0YXRlLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL29yaWdpbi13aGl0ZWxpc3QuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvcGFnZS1hZHZhbmNlbWVudC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9wYWdlLXNjYWxpbmcuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvcGFnaW5hdGlvbi1idXR0b25zLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL3Byb2dyZXNzLWJhci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9yZWxhdGVkLWFydGljbGVzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL3NpbXBsZS10ZW1wbGF0ZS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9zb3VyY2VzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL3RvYXN0LmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL3V0aWxzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL3ZhcmlhYmxlLXNlcnZpY2UuanMiLCJub2RlX21vZHVsZXMvZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC9idWlsZC9kb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50LnBhdGNoZWQuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS1wanMvcHJvbWlzZS5qcyIsInNyYy9hY3Rpb24tY29uc3RhbnRzLmpzIiwic3JjL2FuYWx5dGljcy5qcyIsInNyYy9jbGlwYm9hcmQuanMiLCJzcmMvY29tbW9uLXNpZ25hbHMuanMiLCJzcmMvY29uZmlnLmpzIiwic3JjL2Nvb2tpZXMuanMiLCJzcmMvZG9tLmpzIiwic3JjL2VsZW1lbnQtc2VydmljZS5qcyIsInNyYy9ldmVudC1oZWxwZXItbGlzdGVuLmpzIiwic3JjL2V2ZW50LWhlbHBlci5qcyIsInNyYy9leHBlcmltZW50cy5qcyIsInNyYy9nZXN0dXJlLXJlY29nbml6ZXJzLmpzIiwic3JjL2dlc3R1cmUuanMiLCJzcmMvanNvbi5qcyIsInNyYy9sYXlvdXQtcmVjdC5qcyIsInNyYy9sYXlvdXQuanMiLCJzcmMvbG9nLmpzIiwic3JjL21vZGUtb2JqZWN0LmpzIiwic3JjL21vZGUuanMiLCJzcmMvbW90aW9uLmpzIiwic3JjL29ic2VydmFibGUuanMiLCJzcmMvcGFzcy5qcyIsInNyYy9wb2x5ZmlsbHMuanMiLCJzcmMvcG9seWZpbGxzL2FycmF5LWluY2x1ZGVzLmpzIiwic3JjL3BvbHlmaWxscy9jdXN0b20tZWxlbWVudHMuanMiLCJzcmMvcG9seWZpbGxzL2RvY3VtZW50LWNvbnRhaW5zLmpzIiwic3JjL3BvbHlmaWxscy9kb210b2tlbmxpc3QtdG9nZ2xlLmpzIiwic3JjL3BvbHlmaWxscy9tYXRoLXNpZ24uanMiLCJzcmMvcG9seWZpbGxzL29iamVjdC1hc3NpZ24uanMiLCJzcmMvcG9seWZpbGxzL3Byb21pc2UuanMiLCJzcmMvcmVuZGVyLWRlbGF5aW5nLXNlcnZpY2VzLmpzIiwic3JjL3NlcnZpY2UuanMiLCJzcmMvc2VydmljZS9wb3NpdGlvbi1vYnNlcnZlci9wb3NpdGlvbi1vYnNlcnZlci1pbXBsLmpzIiwic3JjL3NlcnZpY2UvcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItd29ya2VyLmpzIiwic3JjL3NlcnZpY2UvdmlkZW8tc2VydmljZS1pbnRlcmZhY2UuanMiLCJzcmMvc2VydmljZS92aWRlby1zZXJ2aWNlLXN5bmMtaW1wbC5qcyIsInNyYy9zZXJ2aWNlL3ZpZGVvL2F1dG9wbGF5LmpzIiwic3JjL3NlcnZpY2UvdmlkZW8vaW5zdGFsbC1hdXRvcGxheS1zdHlsZXMuanMiLCJzcmMvc2VydmljZXMuanMiLCJzcmMvc2hhZG93LWVtYmVkLmpzIiwic3JjL3N0YXRpYy10ZW1wbGF0ZS5qcyIsInNyYy9zdHJpbmcuanMiLCJzcmMvc3R5bGUtaW5zdGFsbGVyLmpzIiwic3JjL3N0eWxlLmpzIiwic3JjL3R5cGVzLmpzIiwic3JjL3VybC1wYXJzZS1xdWVyeS1zdHJpbmcuanMiLCJzcmMvdXJsLXRyeS1kZWNvZGUtdXJpLWNvbXBvbmVudC5qcyIsInNyYy91cmwuanMiLCJzcmMvdXRpbHMvYXJyYXkuanMiLCJzcmMvdXRpbHMvZnVuY3Rpb24uanMiLCJzcmMvdXRpbHMva2V5LWNvZGVzLmpzIiwic3JjL3V0aWxzL2xydS1jYWNoZS5qcyIsInNyYy91dGlscy9vYmplY3QuanMiLCJzcmMvdXRpbHMvcHJvbWlzZS5qcyIsInNyYy91dGlscy9yYXRlLWxpbWl0LmpzIiwic3JjL3V0aWxzL3ZpZGVvLmpzIiwic3JjL3ZpZGVvLWludGVyZmFjZS5qcyIsInNyYy93ZWItY29tcG9uZW50cy5qcyIsInRoaXJkX3BhcnR5L2Nzcy1lc2NhcGUvY3NzLWVzY2FwZS5qcyIsInRoaXJkX3BhcnR5L3dlYmNvbXBvbmVudHNqcy9TaGFkb3dDU1MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNBTyxJQUFNLG9CQUFNLDQ2OENBQVo7Ozs7OztBQ0FBLElBQU0sb0JBQU0sdytuQkFBWjs7Ozs7O0FDQUEsSUFBTSxvQkFBTSw4ckxBQVo7Ozs7OztBQ0FBLElBQU0sb0JBQU0saW9MQUFaOzs7Ozs7QUNBQSxJQUFNLG9CQUFNLHFu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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ242Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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WUksWUFBWSxzQkFaaEI7O0FBYUk7QUFDQSxlQUFlLGdCQWRuQjs7QUFlSTtBQUNBLHNCQUFzQixtQkFoQjFCO0FBQUEsSUFpQkksY0FBYyxhQUNWLDJCQURVLEdBRVYsZ0JBbkJSO0FBb0JJLElBQUksaUJBQWlCLElBQUksTUFBSixDQUFXLE1BQU0sWUFBTixHQUFxQixXQUFoQyxFQUE2QyxLQUE3QyxDQUFyQjtBQUFBLElBQ0Esd0JBQXdCLElBQUksTUFBSixDQUFXLE1BQU0sbUJBQU4sR0FBNEIsV0FBdkMsRUFBb0QsS0FBcEQsQ0FEeEI7QUFBQSxJQUVBLG1CQUFtQiw2QkFGbkI7QUFBQSxJQUdBLGNBQWMsV0FIZDtBQUFBLElBSUEscUJBQXFCLG1CQUpyQjs7QUFLQTtBQUNBLDJCQUEyQixlQUFlLGdCQU4xQztBQUFBLElBT0EsaUJBQWlCLElBQUksTUFBSixDQUFXLFlBQVgsRUFBeUIsS0FBekIsQ0FQakI7QUFBQSxJQVFBLHdCQUF3QixJQUFJLE1BQUosQ0FBVyxtQkFBWCxFQUFnQyxLQUFoQyxDQVJ4QjtBQUFBLElBU0EsdUJBQXVCLENBQ3JCLE1BRHFCLEVBRXJCLFdBRnFCLEVBR3JCLFlBSHFCO0FBSXJCO0FBQ0EsV0FMcUIsRUFLUjtBQUNiLGFBTnFCLEVBTU47QUFDZixrQkFQcUIsRUFPRDtBQUNwQixPQVJxQixFQVFSO0FBQ2IsVUFUcUIsQ0FTUjtBQVRRLENBVHZCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjb25zdCBDU1MgPSBcIi5pLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fWFtcC1zdG9yeVtzdGFuZGFsb25lXVtkZXNrdG9wXXttYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnQ7bWF4LWhlaWdodDpub25lIWltcG9ydGFudDt3aWR0aDoxMDB2dyFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktbG9nb3tkaXNwbGF5OmJsb2NrIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQtY29udGFpbmVye29wYWNpdHk6LjghaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQtb3ZlcmxheSwuaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQtb3ZlcmxheTphZnRlcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuMikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZC1vdmVybGF5OmFmdGVye2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNSkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAwLjNzIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYWN0aXZlIC5pLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZC1vdmVybGF5OmFmdGVye29wYWNpdHk6MSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5ke3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6LTE1MHB4IWltcG9ydGFudDtyaWdodDotMTUwcHghaW1wb3J0YW50O2JvdHRvbTotMTUwcHghaW1wb3J0YW50O2xlZnQ6LTE1MHB4IWltcG9ydGFudDtvcGFjaXR5OjAhaW1wb3J0YW50Oy13ZWJraXQtZmlsdGVyOmJsdXIoNTBweCkhaW1wb3J0YW50O2ZpbHRlcjpibHVyKDUwcHgpIWltcG9ydGFudDtiYWNrZ3JvdW5kLXNpemU6Y292ZXIhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDt3aWxsLWNoYW5nZTpvcGFjaXR5LHotaW5kZXghaW1wb3J0YW50O3otaW5kZXg6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLmFjdGl2ZXtvcGFjaXR5OjEhaW1wb3J0YW50O3otaW5kZXg6MSFpbXBvcnRhbnR9W2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCgtMjAwdncpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoMS4wKSB0cmFuc2xhdGVYKC0yMDB2dykgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50O29wYWNpdHk6LjA1IWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCFpbXBvcnRhbnQ7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjE2cHghaW1wb3J0YW50fVtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVtkaXN0YW5jZT1cXFwiMFxcXCJdLFtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVtkaXN0YW5jZT1cXFwiMVxcXCJdey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDMwMG1zIGxpbmVhciwtd2Via2l0LXRyYW5zZm9ybSAzMDBtcyBjdWJpYy1iZXppZXIoMC40LDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIsLXdlYmtpdC10cmFuc2Zvcm0gMzAwbXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMzAwbXMgbGluZWFyLHRyYW5zZm9ybSAzMDBtcyBjdWJpYy1iZXppZXIoMC40LDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIsdHJhbnNmb3JtIDMwMG1zIGN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSwtd2Via2l0LXRyYW5zZm9ybSAzMDBtcyBjdWJpYy1iZXppZXIoMC40LDAuMCwwLjIsMSkhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt6LWluZGV4OjEwMDAwMiFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLWNvbnRhaW5lcjpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDt3aWR0aDpjYWxjKDUwdncgLSAyM3ZoIC0gMzJweCkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYmFjay1wcmV2Pi5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbCwuaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3ZlLC5pLWFtcGh0bWwtc3RvcnktZndkLW5leHQ+LmktYW1waHRtbC1zdG9yeS1wYWdlLXNlbnRpbmVse3BvaW50ZXItZXZlbnRzOmFsbCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1idXR0b24taGlkZGVuPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7Y3Vyc29yOmRlZmF1bHQhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnR9W2Rlc2t0b3BdPi5uZXh0LWNvbnRhaW5lcjpiZWZvcmV7cmlnaHQ6MCFpbXBvcnRhbnQ7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LHJnYmEoMzMsMzMsMzMsMCkscmdiYSgzMywzMywzMywwLjMyKSkhaW1wb3J0YW50O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMzMsMzMsMzMsMCkgMCUscmdiYSgzMywzMywzMywwLjMyKSkhaW1wb3J0YW50fVtkZXNrdG9wXT4ucHJldi1jb250YWluZXI6YmVmb3Jle2xlZnQ6MCFpbXBvcnRhbnQ7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LHJnYmEoMzMsMzMsMzMsMC4zMikscmdiYSgzMywzMywzMywwKSkhaW1wb3J0YW50O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMzMsMzMsMzMsMC4zMikgMCUscmdiYSgzMywzMywzMywwKSkhaW1wb3J0YW50fVtkZXNrdG9wXT4ubmV4dC1jb250YWluZXI+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXtyaWdodDowIWltcG9ydGFudH0ucHJldi1jb250YWluZXI+LmktYW1waHRtbC1zdG9yeS1wYWdlLXNlbnRpbmVsLFtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVtwcmUtYWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjkpIHRyYW5zbGF0ZVgoY2FsYygtMTUwJSAtIDY0cHgpKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlWChjYWxjKC0xNTAlIC0gNjRweCkpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudH1bZGVza3RvcF0gYW1wLXN0b3J5LXBhZ2VbYWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjApIHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50O3RyYW5zZm9ybTpzY2FsZSgxLjApIHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50O29wYWNpdHk6MSFpbXBvcnRhbnR9Lm5leHQtY29udGFpbmVyPi5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbCxbZGVza3RvcF0gYW1wLXN0b3J5LXBhZ2VbYWN0aXZlXSthbXAtc3RvcnktcGFnZXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjkpIHRyYW5zbGF0ZShjYWxjKDUwJSArIDY0cHgpKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlKGNhbGMoNTAlICsgNjRweCkpIWltcG9ydGFudH1bZGVza3RvcF0gYW1wLXN0b3J5LXBhZ2VbYWN0aXZlXSthbXAtc3RvcnktcGFnZX5hbXAtc3RvcnktcGFnZXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjkpIHRyYW5zbGF0ZVgoNTV2dykgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50O3RyYW5zZm9ybTpzY2FsZSgwLjkpIHRyYW5zbGF0ZVgoNTV2dykgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50fVtkaXI9cnRsXSBbZGVza3RvcF0gYW1wLXN0b3J5LXBhZ2V7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMC45KSB0cmFuc2xhdGVYKDU1dncpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoMC45KSB0cmFuc2xhdGVYKDU1dncpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudH1bZGlyPXJ0bF0gW2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW3ByZS1hY3RpdmVdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlWChjYWxjKDUwJSArIDY0cHgpKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlWChjYWxjKDUwJSArIDY0cHgpKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnR9W2Rpcj1ydGxdIFtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVthY3RpdmVdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH1bZGlyPXJ0bF0gW2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW2FjdGl2ZV0rYW1wLXN0b3J5LXBhZ2V7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMC45KSB0cmFuc2xhdGVYKGNhbGMoLTE1MCUgLSA2NHB4KSkgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50O3RyYW5zZm9ybTpzY2FsZSgwLjkpIHRyYW5zbGF0ZVgoY2FsYygtMTUwJSAtIDY0cHgpKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnR9W2Rpcj1ydGxdIFtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVthY3RpdmVdK2FtcC1zdG9yeS1wYWdlfmFtcC1zdG9yeS1wYWdley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlWCgtMjAwdncpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoMC45KSB0cmFuc2xhdGVYKC0yMDB2dykgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbCxbZGVza3RvcF0+YW1wLXN0b3J5LXBhZ2V7bGVmdDo1MCUhaW1wb3J0YW50O3JpZ2h0OmF1dG8haW1wb3J0YW50O21hcmdpbjphdXRvIWltcG9ydGFudDttYXgtaGVpZ2h0Ojc1dmghaW1wb3J0YW50O21heC13aWR0aDo0NXZoIWltcG9ydGFudDttaW4td2lkdGg6MzIwcHghaW1wb3J0YW50O21pbi1oZWlnaHQ6NTMzcHghaW1wb3J0YW50fVtkZXNrdG9wXT5hbXAtc3RvcnktcGFnZXtib3gtc2hhZG93OjAgMCAxNXB4IHJnYmEoMCwwLDAsMC40KSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1wYWdlLXNlbnRpbmVse3dpZHRoOjEwMHZ3IWltcG9ydGFudDtoZWlnaHQ6MTAwdmghaW1wb3J0YW50O21hcmdpbi1sZWZ0Oi0zMnB4IWltcG9ydGFudDtjdXJzb3I6cG9pbnRlcn0uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3ZlLC5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbHtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDt6LWluZGV4OjEwMDAwMiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXttYXJnaW46YXV0byA0MHB4IWltcG9ydGFudDt3aWR0aDo2MHB4IWltcG9ydGFudDtoZWlnaHQ6NjBweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JvcmRlcjowIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOjEycHggMTdweCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50O29wYWNpdHk6LjUhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDE1MG1zIGxpbmVhciwtd2Via2l0LXRyYW5zZm9ybSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAxNTBtcyBsaW5lYXIsLXdlYmtpdC10cmFuc2Zvcm0gMzAwbXMgbGluZWFyIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgbGluZWFyLHRyYW5zZm9ybSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAxNTBtcyBsaW5lYXIsdHJhbnNmb3JtIDMwMG1zIGxpbmVhciwtd2Via2l0LXRyYW5zZm9ybSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtvdXRsaW5lOm5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktcHJldi1ob3Zlcj5hbXAtc3RvcnktcGFnZVtwcmUtYWN0aXZlXXtvcGFjaXR5OjAuMyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1uZXh0LWhvdmVyPmFtcC1zdG9yeS1wYWdlW2FjdGl2ZV0rYW1wLXN0b3J5LXBhZ2V7b3BhY2l0eTowLjMhaW1wb3J0YW50fS5wcmV2LWNvbnRhaW5lcj4uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3Zle2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzE2JyBoZWlnaHQ9JzI1JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMTUuNyAyMmwtOS41LTkuNUwxNS43IDNsLTMtM0wuNCAxMi42IDEyLjggMjUnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo0NSUgNTAlIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZndkLW5leHQ+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScxNicgaGVpZ2h0PScyNScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTS4zIDNsOS41IDkuNUwuMyAyMmwzIDMgMTIuNC0xMi41TDMuMiAwJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTUlIDUwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1md2QtcmVwbGF5Pi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTE3LjY1IDYuMzVBNy45NTggNy45NTggMCAwIDAgMTIgNGMtNC40MiAwLTcuOTkgMy41OC03Ljk5IDhzMy41NyA4IDcuOTkgOGMzLjczIDAgNi44NC0yLjU1IDcuNzMtNmgtMi4wOEE1Ljk5IDUuOTkgMCAwIDEgMTIgMThjLTMuMzEgMC02LTIuNjktNi02czIuNjktNiA2LTZjMS42NiAwIDMuMTQuNjkgNC4yMiAxLjc4TDEzIDExaDdWNGwtMi4zNSAyLjM1eicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlO2JhY2tncm91bmQtc2l6ZTozMnB4IDMycHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZndkLW1vcmU+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCU7YmFja2dyb3VuZC1zaXplOjMycHggMzJweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1uZXh0LWhvdmVyPi5uZXh0LWNvbnRhaW5lcj4uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3ZlLC5pLWFtcGh0bWwtc3RvcnktcHJldi1ob3Zlcj4ucHJldi1jb250YWluZXI+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoMS4xKSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXByZXYtaG92ZXI+LmktYW1waHRtbC1zdG9yeS1idXR0b24taGlkZGVuPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7b3BhY2l0eTowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW5leHQtaG92ZXI+LmktYW1waHRtbC1zdG9yeS1md2QtbmV4dD4uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3Zley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoOHB4KSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoOHB4KSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXByZXYtaG92ZXI+LmktYW1waHRtbC1zdG9yeS1iYWNrLWNsb3NlLWJvb2tlbmQ+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZSwuaS1hbXBodG1sLXN0b3J5LXByZXYtaG92ZXI+LmktYW1waHRtbC1zdG9yeS1iYWNrLXByZXY+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC04cHgpIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtOHB4KSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH1kaXYuaS1hbXBodG1sLXN0b3J5LXRvcHtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7aGVpZ2h0Ojk2cHghaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MSFpbXBvcnRhbnQ7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AscmdiYSgzMywzMywzMywwLjMyKSxyZ2JhKDMzLDMzLDMzLDApKSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLHJnYmEoMzMsMzMsMzMsMC4zMikgMCUscmdiYSgzMywzMywzMywwKSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7cmlnaHQ6NDBweCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O21hcmdpbjphdXRvIWltcG9ydGFudDtoZWlnaHQ6NDBweCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbHtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50fXNwYW4uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGwtbGFiZWx7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDoxNXB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7d2lkdGg6NjBweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjcwMCFpbXBvcnRhbnQ7bGV0dGVyLXNwYWNpbmc6LjVweCFpbXBvcnRhbnQ7bWFyZ2luOmF1dG8haW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2JveC1zaXppbmc6aW5pdGlhbCFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDt3aWR0aDo1OHB4IWltcG9ydGFudDtoZWlnaHQ6NDBweCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMC4yKSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo1MDBweCFpbXBvcnRhbnQ7Ym94LXNpemluZzppbml0aWFsIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzAwbXMgZWFzZS1pbi1vdXQhaW1wb3J0YW50O3RyYW5zaXRpb246d2lkdGggMzAwbXMgZWFzZS1pbi1vdXQhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17b3BhY2l0eTowIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbDpob3ZlciAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17b3BhY2l0eToxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGwgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte21hcmdpbjowIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NDhweCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg5KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MzBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTozMG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg4KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6NjBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTo2MG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg3KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6OTBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTo5MG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg2KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MTIwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MTIwbXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbDpob3ZlciAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW06bnRoLWNoaWxkKDUpey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheToxNTBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheToxNTBtcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmhvdmVyIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTpudGgtY2hpbGQoNCl7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OjE4MG1zIWltcG9ydGFudDt0cmFuc2l0aW9uLWRlbGF5OjE4MG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCgzKXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MjEwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MjEwbXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbDpob3ZlciAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW06bnRoLWNoaWxkKDIpey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheToyNDBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheToyNDBtcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmhvdmVyIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTpmaXJzdC1jaGlsZHstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MjcwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MjcwbXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7cGFkZGluZzowIWltcG9ydGFudDttYXJnaW46MCA3MnB4IDAgMCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmhvdmVyOmJlZm9yZXt3aWR0aDpjYWxjKDEwMCUgLSAzMnB4KSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbntkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjQ4cHghaW1wb3J0YW50O3BhZGRpbmc6MH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29ue2ZvbnQtc2l6ZTowcHghaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZToyNHB4IDI0cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb24uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLXNpemU6MjhweCAyOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjpiZWZvcmV7ZGlzcGxheTpub25lIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZTpiZWZvcmV7ZGlzcGxheTpub25lIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0e21hcmdpbi1yaWdodDo3MnB4IWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS10b3B7ei1pbmRleDoxMDAwMDIhaW1wb3J0YW50fWFtcC1zdG9yeXtmb250LWRpc3BsYXk6b3B0aW9uYWx9LmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXZlcnRpY2Fsey1tcy1mbGV4LWxpbmUtcGFjazpzdGFydDthbGlnbi1jb250ZW50OnN0YXJ0O2dyaWQtZ2FwOjE2cHg7LXdlYmtpdC1ib3gtcGFjazpzdHJldGNoOy1tcy1mbGV4LXBhY2s6c3RyZXRjaDtqdXN0aWZ5LWNvbnRlbnQ6c3RyZXRjaDtqdXN0aWZ5LWl0ZW1zOnN0YXJ0O3BhZGRpbmc6MzJweH0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtdmVydGljYWw+Knt3aWR0aDoxMDAlfS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1ob3Jpem9udGFsey1tcy1mbGV4LWxpbmUtcGFjazpzdHJldGNoO2FsaWduLWNvbnRlbnQ6c3RyZXRjaDstd2Via2l0LWJveC1hbGlnbjpzdGFydDstbXMtZmxleC1hbGlnbjpzdGFydDthbGlnbi1pdGVtczpzdGFydDtncmlkLWdhcDoxNnB4Oy13ZWJraXQtYm94LXBhY2s6c3RhcnQ7LW1zLWZsZXgtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6c3RhcnQ7cGFkZGluZzozMnB4fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS10aGlyZHN7cGFkZGluZzozMnB4fWFtcC1zdG9yeS1ncmlkLWxheWVye3BhZGRpbmc6NjhweCAzMnB4IDMycHh9LmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjExLjkgMTk3LjRoLTM2Ljd2NTkuOWgzNi43djE3NS44aDcwLjVWMjU2LjVoNDkuMmw1LjItNTkuMWgtNTQuNHYtMzMuN2MwLTEzLjkgMi44LTE5LjUgMTYuMy0xOS41aDM4LjJWODIuOWgtNDguOGMtNTIuNSAwLTc2LjEgMjMuMS03Ni4xIDY3LjMtLjEgMzguNi0uMSA0Ny4yLS4xIDQ3LjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTI2Ni42IDc2LjVjLTEwMC4yIDAtMTUwLjcgNzEuOC0xNTAuNyAxMzEuNyAwIDM2LjMgMTMuNyA2OC41IDQzLjIgODAuNiA0LjggMiA5LjIuMSAxMC42LTUuMyAxLTMuNyAzLjMtMTMgNC4zLTE2LjkgMS40LTUuMy45LTcuMS0zLTExLjgtOC41LTEwLTEzLjktMjMtMTMuOS00MS4zIDAtNTMuMyAzOS45LTEwMSAxMDMuOC0xMDEgNTYuNiAwIDg3LjcgMzQuNiA4Ny43IDgwLjggMCA2MC44LTI2LjkgMTEyLjEtNjYuOCAxMTIuMS0yMi4xIDAtMzguNi0xOC4yLTMzLjMtNDAuNiA2LjMtMjYuNyAxOC42LTU1LjUgMTguNi03NC44IDAtMTcuMy05LjMtMzEuNy0yOC40LTMxLjctMjIuNSAwLTQwLjcgMjMuMy00MC43IDU0LjYgMCAxOS45IDYuNyAzMy40IDYuNyAzMy40cy0yMy4xIDk3LjgtMjcuMSAxMTQuOWMtOC4xIDM0LjEtMS4yIDc1LjktLjYgODAuMS4zIDIuNSAzLjYgMy4xIDUgMS4yIDIuMS0yLjcgMjguOS0zNS45IDM4LjEtNjkgMi42LTkuNCAxNC44LTU4IDE0LjgtNTggNy4zIDE0IDI4LjcgMjYuMyA1MS41IDI2LjMgNjcuOCAwIDExMy44LTYxLjggMTEzLjgtMTQ0LjUtLjEtNjIuNi01My4xLTEyMC44LTEzMy42LTEyMC44eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWxpbmtlZGlue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTE4Ni40IDE0Mi40YzAgMTktMTUuMyAzNC41LTM0LjIgMzQuNS0xOC45IDAtMzQuMi0xNS40LTM0LjItMzQuNSAwLTE5IDE1LjMtMzQuNSAzNC4yLTM0LjUgMTguOSAwIDM0LjIgMTUuNSAzNC4yIDM0LjV6bS01IDU4LjloLTU3Ljh2MTg2LjhoNTcuOFYyMDEuM3ptOTIuNCAwaC01NS40djE4Ni44aDU1LjR2LTk4YzAtMjYuMyAxMi4xLTQxLjkgMzUuMi00MS45IDIxLjMgMCAzMS41IDE1IDMxLjUgNDEuOXY5OEgzOThWMjY5LjhjMC01MC0yOC4zLTc0LjItNjgtNzQuMi0zOS42IDAtNTYuMyAzMC45LTU2LjMgMzAuOXYtMjUuMmguMXonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1ncGx1c3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xNzkuNyAyMzcuNnY0Ni42aDc3Yy0zLjEgMjAtMjMuMyA1OC43LTc3IDU4LjctNDYuMyAwLTg0LjEtMzguNS04NC4xLTg1LjkgMC00Ny40IDM3LjgtODUuOSA4NC4xLTg1LjkgMjYuNCAwIDQ0IDExLjMgNTQuMSAyMWwzNi44LTM1LjVDMjQ3IDEzNC40IDIxNi40IDEyMSAxNzkuNyAxMjEgMTA0LjcgMTIxIDQ0IDE4MS44IDQ0IDI1N3M2MC43IDEzNiAxMzUuNyAxMzZDMjU4IDM5MyAzMTAgMzM3LjggMzEwIDI2MC4xYzAtOC45LTEtMTUuNy0yLjEtMjIuNUgxNzkuN3ptMjg4LjMtLjloLTM4LjdWMTk4aC0zOC42djM4LjdIMzUydjM4LjZoMzguN1YzMTRoMzguNnYtMzguN0g0NjgnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1lbWFpbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xMDEuMyAxNDEuNnYyMjguOWgzMDkuNVYxNDEuNkgxMDEuM3ptMjc0LjQgMjYuMkwyNTYgMjU5LjNsLTExOS42LTkxLjVoMjM5LjN6bS0yNDguMSAyNi4zbDY0LjEgNDkuMS02NC4xIDY0LjFWMTk0LjF6bS4yIDE1MC4xbDg0LjktODQuOSA0My4yIDMzLjEgNDMtMzIuOSA4NC43IDg0LjdIMTI3Ljh6bTI1Ni42LTM2LjRMMzIwIDI0My40bDY0LjQtNDkuM3YxMTMuN3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDAwJyBoZWlnaHQ9JzQwMCclM0UlM0NnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J00wIDBoNDAwdjQwMEgweicvJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGZpbGwtcnVsZT0nbm9uemVybycgZD0nTTE1My42MiAzMDEuNTljOTQuMzQgMCAxNDUuOTQtNzguMTYgMTQ1Ljk0LTE0NS45NCAwLTIuMjIgMC00LjQzLS4xNS02LjYzQTEwNC4zNiAxMDQuMzYgMCAwIDAgMzI1IDEyMi40N2ExMDIuMzggMTAyLjM4IDAgMCAxLTI5LjQ2IDguMDcgNTEuNDcgNTEuNDcgMCAwIDAgMjIuNTUtMjguMzcgMTAyLjc5IDEwMi43OSAwIDAgMS0zMi41NyAxMi40NWMtMTUuOS0xNi45MDYtNDEuMTYzLTIxLjA0NC02MS42MjUtMTAuMDkzLTIwLjQ2MSAxMC45NS0zMS4wMzIgMzQuMjY2LTI1Ljc4NSA1Ni44NzNBMTQ1LjYyIDE0NS42MiAwIDAgMSA5Mi40IDEwNy44MWMtMTMuNjE0IDIzLjQzNi02LjY2IDUzLjQxOSAxNS44OCA2OC40N0E1MC45MSA1MC45MSAwIDAgMSA4NSAxNjkuODZ2LjY1Yy4wMDcgMjQuNDE2IDE3LjIxOCA0NS40NDUgNDEuMTUgNTAuMjhhNTEuMjEgNTEuMjEgMCAwIDEtMjMuMTYuODhjNi43MiAyMC44OTQgMjUuOTc2IDM1LjIwOCA0Ny45MiAzNS42MmExMDIuOTIgMTAyLjkyIDAgMCAxLTYzLjcgMjIgMTA0LjQxIDEwNC40MSAwIDAgMS0xMi4yMS0uNzQgMTQ1LjIxIDE0NS4yMSAwIDAgMCA3OC42MiAyMycvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHVtYmxye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMC44IDgwLjNjLTIuMyAxOC4zLTYuNCAzMy40LTEyLjQgNDUuMi02IDExLjktMTMuOSAyMi0yMy45IDMwLjUtOS45IDguNS0yMS44IDE0LjktMzUuNyAxOS41djUwLjZoMzguOXYxMjQuNWMwIDE2LjIgMS43IDI4LjYgNS4xIDM3LjEgMy40IDguNSA5LjUgMTYuNiAxOC4zIDI0LjIgOC44IDcuNiAxOS40IDEzLjQgMzEuOSAxNy41czI2LjggNi4xIDQzIDYuMWMxNC4zIDAgMjcuNi0xLjQgMzkuOS00LjMgMTIuMy0yLjkgMjYtNy45IDQxLjItMTV2LTU1LjljLTE3LjggMTEuNy0zNS43IDE3LjUtNTMuNyAxNy41LTEwLjEgMC0xOS4xLTIuNC0yNy03LjEtNS45LTMuNS0xMC04LjItMTIuMi0xNC0yLjItNS44LTMuMy0xOS4xLTMuMy0zOS43di05MS4xaDg0LjZ2LTU1LjhoLTg0LjR2LTkwaC01MC4zeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDYnIGhlaWdodD0nNDYnJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGQ9J00zNS40IDEwLjRDMzIgNi45IDI3LjMgNSAyMi41IDUgMTIuMyA1IDQuMSAxMy4zIDQuMiAyMy40YzAgMy4yLjkgNi4zIDIuNCA5LjFMNCA0Mmw5LjctMi41YzIuNyAxLjUgNS43IDIuMiA4LjcgMi4yIDEwLjEgMCAxOC4zLTguMyAxOC4zLTE4LjQgMC00LjktMS45LTkuNS01LjMtMTIuOXpNMjIuNSAzOC42Yy0yLjcgMC01LjQtLjctNy43LTIuMWwtLjYtLjMtNS44IDEuNUw5LjkgMzJsLS40LS42Yy00LjQtNy4xLTIuMy0xNi41IDQuOS0yMC45IDcuMi00LjQgMTYuNS0yLjMgMjAuOSA0LjkgNC40IDcuMiAyLjMgMTYuNS00LjkgMjAuOS0yLjMgMS41LTUuMSAyLjMtNy45IDIuM3ptOC44LTExLjFsLTEuMS0uNXMtMS42LS43LTIuNi0xLjJjLS4xIDAtLjItLjEtLjMtLjEtLjMgMC0uNS4xLS43LjIgMCAwLS4xLjEtMS41IDEuNy0uMS4yLS4zLjMtLjUuM2gtLjFjLS4xIDAtLjMtLjEtLjQtLjJsLS41LS4yYy0xLjEtLjUtMi4xLTEuMS0yLjktMS45LS4yLS4yLS41LS40LS43LS42LS43LS43LTEuNC0xLjUtMS45LTIuNGwtLjEtLjJjLS4xLS4xLS4xLS4yLS4yLS40IDAtLjIgMC0uNC4xLS41IDAgMCAuNC0uNS43LS44LjItLjIuMy0uNS41LS43LjItLjMuMy0uNy4yLTEtLjEtLjUtMS4zLTMuMi0xLjYtMy44LS4yLS4zLS40LS40LS43LS41aC0xLjFjLS4yIDAtLjQuMS0uNi4xbC0uMS4xYy0uMi4xLS40LjMtLjYuNC0uMi4yLS4zLjQtLjUuNi0uNy45LTEuMSAyLTEuMSAzLjEgMCAuOC4yIDEuNi41IDIuM2wuMS4zYy45IDEuOSAyLjEgMy42IDMuNyA1LjFsLjQuNGMuMy4zLjYuNS44LjggMi4xIDEuOCA0LjUgMy4xIDcuMiAzLjguMy4xLjcuMSAxIC4yaDFjLjUgMCAxLjEtLjIgMS41LS40LjMtLjIuNS0uMi43LS40bC4yLS4yYy4yLS4yLjQtLjMuNi0uNS4yLS4yLjQtLjQuNS0uNi4yLS40LjMtLjkuNC0xLjR2LS43cy0uMS0uMS0uMy0uMnonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMS45OSclM0UlM0NwYXRoIGQ9J000NDMuMiAyMzMuMjljMC04NC4xNC04NC4zNS0xNTIuNi0xODgtMTUyLjZzLTE4OCA2OC40Ni0xODggMTUyLjZjMCA3NS40MyA2Ni45IDEzOC42MSAxNTcuMjYgMTUwLjU1IDYuMTMgMS4zMiAxNC40NiA0IDE2LjU3IDkuMjcgMS44OSA0Ljc2IDEuMjQgMTIuMi42MSAxNyAwIDAtMi4yMSAxMy4yNi0yLjY5IDE2LjA5LS44MiA0Ljc1LTMuNzggMTguNiAxNi4yOSAxMC4xNHMxMDguMjEtNjMuNzYgMTQ3LjY2LTEwOS4xNmMyNy4yNS0yOS44OSA0MC4zLTYwLjE4IDQwLjMtOTMuODl6bS0yNTQuMzggNDQuOTJhMy42NyAzLjY3IDAgMCAxLTMuNjYgMy42N2gtNTIuNjlhMy42IDMuNiAwIDAgMS0yLjUzLTFsLS4wNi0uMDV2LS4wNWEzLjY1IDMuNjUgMCAwIDEtMS0yLjUzdi04MS45NmEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjE5YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ2NjUuMDdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptMzEuOCAwYTMuNjUgMy42NSAwIDAgMS0zLjY2IDMuNjVoLTEzLjJhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTJhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NkgyMTdhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptOTAuNzggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4xOWEzLjY3IDMuNjcgMCAwIDEtLjk0LS4xMmgtLjA1bC0uMjUtLjA4aC0uMTFsLS4xOC0uMDgtLjE3LS4wOC0uMTEtLjA2LS4yMi0uMTRhMy40NSAzLjQ1IDAgMCAxLS45My0uOUwyNTQgMjI5LjU2djQ4LjY2YTMuNjYgMy42NiAwIDAgMS0zLjY3IDMuNjVIMjM3LjFhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTNhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy44NmwuMjEuMDVoLjEzbC4yMS4wN2guMTJhMS4zMSAxLjMxIDAgMCAxIC4yMS4wOGwuMTIuMDYuMTkuMTFhLjQxLjQxIDAgMCAxIC4xMS4wN2wuMTkuMTMuMS4wNy4xOS4xNi4wNy4wN2EyLjI4IDIuMjggMCAwIDEgLjIyLjIyIDMuNTggMy41OCAwIDAgMSAuMjguMzdMMjkwLjg5IDI0NXYtNDguNzFhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em03Mi44My02OC43NGEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC0zNS44NFYyMjdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjUgMy42N3YxMy4xOWEzLjY1IDMuNjUgMCAwIDEtMy42NSAzLjY2aC0zNS44NHYxMy44NWgzNS44NGEzLjY1IDMuNjUgMCAwIDEgMy42NSAzLjY2djEzLjE5YTMuNjYgMy42NiAwIDAgMS0zLjY1IDMuNjdoLTUyLjdhMy42NiAzLjY2IDAgMCAxLTIuNTMtMWwtLjA1LS4wNWEuMTIuMTIgMCAwIDEtLjA1LS4wNSAzLjY1IDMuNjUgMCAwIDEtMS0yLjUzVjE5Ni4zYTMuNiAzLjYgMCAwIDEgMS0yLjUybC4wNi0uMDdhMy42MyAzLjYzIDAgMCAxIDIuNTQtMWg1Mi43YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd6JyBmaWxsPSclMjNmZmYnIGRhdGEtbmFtZT0n44Os44Kk44Ok44O8IDEnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMzAnIGhlaWdodD0nMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIHN0cm9rZT0nJTIzRkZGJyBzdHJva2Utd2lkdGg9JzMnIGQ9J004LjczIDI2di01LjY1OEgyVjJoMjUuOTdMMjggMjAuMzU1bC0xMi4wNjIuMDQyeicgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc3lzdGVte2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgZmlsbD0nJTIzZmZmJyBoZWlnaHQ9JzI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTE4IDE2LjA4Yy0uNzYgMC0xLjQ0LjMtMS45Ni43N0w4LjkxIDEyLjdjLjA1LS4yMy4wOS0uNDYuMDktLjdzLS4wNC0uNDctLjA5LS43bDcuMDUtNC4xMWMuNTQuNSAxLjI1LjgxIDIuMDQuODEgMS42NiAwIDMtMS4zNCAzLTNzLTEuMzQtMy0zLTMtMyAxLjM0LTMgM2MwIC4yNC4wNC40Ny4wOS43TDguMDQgOS44MUM3LjUgOS4zMSA2Ljc5IDkgNiA5Yy0xLjY2IDAtMyAxLjM0LTMgM3MxLjM0IDMgMyAzYy43OSAwIDEuNS0uMzEgMi4wNC0uODFsNy4xMiA0LjE2Yy0uMDUuMjEtLjA4LjQzLS4wOC42NSAwIDEuNjEgMS4zMSAyLjkyIDIuOTIgMi45MiAxLjYxIDAgMi45Mi0xLjMxIDIuOTItMi45MnMtMS4zMS0yLjkyLTIuOTItMi45MnonLyUzRSUzQy9zdmclM0VcXFwiKX1hbXAtc29jaWFsLXNoYXJle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtY29sb3I6IzFkYTFmMn0uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiMzYjU5OTh9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtY29sb3I6I2JkMDgxY30uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWNvbG9yOiMwMDc3YjV9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1jb2xvcjojZGM0ZTQxfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWNvbG9yOiMzYzVhNzd9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtY29sb3I6IzI1ZDM2Nn0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtY29sb3I6IzUyYjQ0OH0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1jb2xvcjojY2EyYjYzfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXJnaW46MTZweCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGV7cGFkZGluZzoxNnB4IDAhaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtvdmVyZmxvdzphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldDo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6MHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudDtwYWRkaW5nOjAgOHB4IWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstbXMtZmxleC13cmFwOndyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtwYWRkaW5nLWxlZnQ6MTZweCFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoxNnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjY2cHghaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDttYXJnaW4tYm90dG9tOjEycHghaW1wb3J0YW50fUBtZWRpYSAobWF4LXdpZHRoOjQxMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWluLXdpZHRoOjYwcHghaW1wb3J0YW50O3dpZHRoOjI1JSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjQxMHB4KSBhbmQgKG1heC13aWR0aDo1MDBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjIwJSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjUwMHB4KSBhbmQgKG1heC13aWR0aDo3MjBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjE2LjY2JSFpbXBvcnRhbnR9fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGUgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0ey1tcy1mbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudDtmbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlPio+LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAgMTZweCFpbXBvcnRhbnQ7bWluLXdpZHRoOmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTplbXB0eXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7cGFkZGluZzo1NnB4IDAgMCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MTBweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEwcHghaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo4cHggOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXNpemU6MzJweCAzMnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtc2l6ZTozOHB4IDM4cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NXB4IDVweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmJlZm9yZXtjb250ZW50OlxcXCIgXFxcIiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo0cHghaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMC4xNSkhaW1wb3J0YW50O3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo0OHB4IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZSwuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjphY3RpdmU6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6Izc4Nzg3OCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uW3R5cGU9ZW1haWxde2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTIwIDRINGMtMS4xIDAtMS45OS45LTEuOTkgMkwyIDE4YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJWNmMwLTEuMS0uOS0yLTItMnptMCA0bC04IDUtOC01VjZsOCA1IDgtNXYyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvblt0eXBlPXN5c3RlbV17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLWxpbmt7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00zLjkgMTJjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFoNFY3SDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDVoNHYtMS45SDdjLTEuNzEgMC0zLjEtMS4zOS0zLjEtMy4xek04IDEzaDh2LTJIOHYyem05LTZoLTR2MS45aDRjMS43MSAwIDMuMSAxLjM5IDMuMSAzLjFzLTEuMzkgMy4xLTMuMSAzLjFoLTRWMTdoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9YW1wLXN0b3J5LGFtcC1zdG9yeS1jdGEtbGF5ZXIsYW1wLXN0b3J5LWdyaWQtbGF5ZXIsYW1wLXN0b3J5LXBhZ2V7Y29udGFpbjpzdHJpY3QhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9YW1wLWNvbnNlbnR7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50O3otaW5kZXg6aW5pdGlhbCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQsLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQgKntib3JkZXI6bm9uZSFpbXBvcnRhbnQ7Ym94LXNpemluZzppbml0aWFsIWltcG9ydGFudDtjb2xvcjppbml0aWFsIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Zm9udC1zaXplOmluaXRpYWwhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OmluaXRpYWwhaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O3dpZHRoOmF1dG8haW1wb3J0YW50fWFtcC1zdG9yeXtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3RleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbiFpbXBvcnRhbnQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDstbW96LXVzZXItc2VsZWN0Om5vbmUhaW1wb3J0YW50Oy1tcy11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDt1c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH1odG1sLmktYW1waHRtbC1zdG9yeS1zdGFuZGFsb25lLGh0bWwuaS1hbXBodG1sLXN0b3J5LXN0YW5kYWxvbmUgYm9keXtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7Y3Vyc29yOmF1dG8haW1wb3J0YW50Oy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApIWltcG9ydGFudH1odG1sLmktYW1waHRtbC1zdG9yeS1zdGFuZGFsb25lICNpLWFtcGh0bWwtd3JhcHBlciBib2R5e2JvcmRlci10b3A6bm9uZSFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH1hbXAtc3Rvcnlbc3RhbmRhbG9uZV17LW1zLWZsZXgtaXRlbS1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLXNlbGY6Y2VudGVyIWltcG9ydGFudDtib3gtc2hhZG93OjJweCAycHggMjBweCByZ2JhKDAsMCwwLDAuNSkhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtqdXN0aWZ5LXNlbGY6Y2VudGVyIWltcG9ydGFudDttYXgtaGVpZ2h0OmluaXRpYWwhaW1wb3J0YW50O21heC13aWR0aDppbml0aWFsIWltcG9ydGFudDttaW4taGVpZ2h0OmluaXRpYWwhaW1wb3J0YW50O21pbi13aWR0aDppbml0aWFsIWltcG9ydGFudH1hbXAtc3Rvcnlbc3RhbmRhbG9uZV06LXdlYmtpdC1mdWxsLXNjcmVlbntoZWlnaHQ6MTAwdmghaW1wb3J0YW50O21heC1oZWlnaHQ6bm9uZSFpbXBvcnRhbnQ7bWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50fWFtcC1zdG9yeVtzdGFuZGFsb25lXTotbW96LWZ1bGwtc2NyZWVue2hlaWdodDoxMDB2aCFpbXBvcnRhbnQ7bWF4LWhlaWdodDpub25lIWltcG9ydGFudDttYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnR9YW1wLXN0b3J5W3N0YW5kYWxvbmVdOi1tcy1mdWxsc2NyZWVue2hlaWdodDoxMDB2aCFpbXBvcnRhbnQ7bWF4LWhlaWdodDpub25lIWltcG9ydGFudDttYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnR9YW1wLXN0b3J5W3N0YW5kYWxvbmVdOmZ1bGxzY3JlZW57aGVpZ2h0OjEwMHZoIWltcG9ydGFudDttYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50O21heC13aWR0aDpub25lIWltcG9ydGFudH1hbXAtc3RvcnkgLmFtcC12aWRlby1lcXtoZWlnaHQ6MTRweCFpbXBvcnRhbnQ7d2lkdGg6MTRweCFpbXBvcnRhbnR9YW1wLXN0b3J5IC5hbXAtdmlkZW8tZXEgLmFtcC12aWRlby1lcS1jb2x7bWFyZ2luLXJpZ2h0OjJweCFpbXBvcnRhbnR9YW1wLXN0b3J5IC5hbXAtdmlkZW8tZXEgLmFtcC12aWRlby1lcS1jb2w6bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MCFpbXBvcnRhbnR9YW1wLXN0b3J5IC5hbXAtdmlkZW8tZXE6bm90KC5hbXAtdmlkZW8tZXEtcGxheSl7ZGlzcGxheTpub25lIWltcG9ydGFudH1hbXAtc3RvcnktcGFnZXtib3R0b206MCFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtvcGFjaXR5OjEhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50O3otaW5kZXg6MCFpbXBvcnRhbnR9YW1wLXN0b3J5LXBhZ2VbYWN0aXZlXXt6LWluZGV4OjEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZmFsbGJhY2sgYW1wLXN0b3J5LXBhZ2V7ZGlzcGxheTpub25lIWltcG9ydGFudH1hbXAtc3Rvcnk6bm90KFtkZXNrdG9wXSk+YW1wLXN0b3J5LXBhZ2UuaS1hbXBodG1sLWxheW91dC1jb250YWluZXI6bm90KFthY3RpdmVdKXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMDAlKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwMCUpIWltcG9ydGFudH1hbXAtc3RvcnktcGFnZVthY3RpdmVdLGFtcC1zdG9yeTpub3QoW2Rlc2t0b3BdKT5hbXAtc3RvcnktcGFnZS5pLWFtcGh0bWwtbGF5b3V0LWNvbnRhaW5lcltkaXN0YW5jZT1cXFwiMFxcXCJdLGFtcC1zdG9yeTpub3QoW2Rlc2t0b3BdKT5hbXAtc3RvcnktcGFnZS5pLWFtcGh0bWwtbGF5b3V0LWNvbnRhaW5lcltkaXN0YW5jZT1cXFwiMVxcXCJdey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIWltcG9ydGFudH1hbXAtc3Rvcnk6bm90KFtkZXNrdG9wXSk+YW1wLXN0b3J5LXBhZ2UuaS1hbXBodG1sLWxheW91dC1jb250YWluZXJbZGlzdGFuY2U9XFxcIjJcXFwiXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFjdGl2ZTpub3QoW2Rlc2t0b3BdKT5hbXAtc3RvcnktcGFnZS5pLWFtcGh0bWwtbGF5b3V0LWNvbnRhaW5lclthY3RpdmVdey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMS4yKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkgc2NhbGUoMS4yKSFpbXBvcnRhbnQ7LXdlYmtpdC1maWx0ZXI6Ymx1cigxNXB4KSFpbXBvcnRhbnQ7ZmlsdGVyOmJsdXIoMTVweCkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hY3RpdmU+YW1wLXN0b3J5LXBhZ2VbYWN0aXZlXTphZnRlcntjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2JhY2tncm91bmQ6aHNsYSgwLDAlLDQ1LjklLDAuMykhaW1wb3J0YW50O3otaW5kZXg6MiFpbXBvcnRhbnR9YW1wLXN0b3J5IGFtcC12aWRlbzphZnRlcntjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50fWFtcC1zdG9yeS1jdGEtbGF5ZXJ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dG9wOjgwJSFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3otaW5kZXg6MyFpbXBvcnRhbnR9YW1wLXN0b3J5LWN0YS1sYXllcixhbXAtc3RvcnktZ3JpZC1sYXllcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnR9YW1wLXN0b3J5LWdyaWQtbGF5ZXJ7ZGlzcGxheTpncmlkIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7ei1pbmRleDoyIWltcG9ydGFudH1hbXAtc3RvcnktZ3JpZC1sYXllciAqe2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS13aXRoLWZ1bGwtYmxlZWQtYW5pbWF0aW9ue3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1maWxsPjpub3QoOmZpcnN0LWNoaWxkKXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktbG9nb3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50O21hcmdpbjoxNXB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtZmlsbD46Zmlyc3QtY2hpbGR7Ym90dG9tOjAhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7d2lkdGg6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLWZpbGw+YW1wLWFuaW0gaW1nLC5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1maWxsPmFtcC1pbWcgaW1nLC5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1maWxsPmFtcC12aWRlbyB2aWRlb3stby1vYmplY3QtZml0OmNvdmVyIWltcG9ydGFudDtvYmplY3QtZml0OmNvdmVyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtdmVydGljYWx7Z3JpZC1hdXRvLWZsb3c6cm93IWltcG9ydGFudDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6MTAwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLWhvcml6b250YWx7Z3JpZC1hdXRvLWZsb3c6Y29sdW1uIWltcG9ydGFudDtncmlkLXRlbXBsYXRlLXJvd3M6MTAwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXRoaXJkc3tncmlkLXRlbXBsYXRlLXJvd3M6MzMlIDMzJSAzMyUhaW1wb3J0YW50O2dyaWQtdGVtcGxhdGUtYXJlYXM6XFxcInVwcGVyLXRoaXJkXFxcIiBcXFwibWlkZGxlLXRoaXJkXFxcIiBcXFwibG93ZXItdGhpcmRcXFwiIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYWN0aXZlIC5pLWFtcGh0bWwtc3RvcnktZGV2LWxvZ3MtYnV0dG9uLC5pLWFtcGh0bWwtc3RvcnktZGV2LWxvZ3MtYnV0dG9uW2RhdGEtY291bnQ9XFxcIjBcXFwiXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2LWxvZ3MtYnV0dG9ue2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2LWxvZ3MtYnV0dG9uOmFmdGVye2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo2cHghaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7Y29sb3I6IzQ0NDtjb250ZW50OmF0dHIoZGF0YS1jb3VudCkhaW1wb3J0YW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8haW1wb3J0YW50O2ZvbnQtc2l6ZToxMXB4IWltcG9ydGFudDtoZWlnaHQ6MTJweCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MTJweCFpbXBvcnRhbnQ7cGFkZGluZzowIDZweCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3RvcDo2cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZXJyb3ItYnV0dG9ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM0RCNDQzNyclM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDcgMiAyIDYuNDcgMiAxMnM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTBTMTcuNTMgMiAxMiAyem01IDEzLjU5TDE1LjU5IDE3IDEyIDEzLjQxIDguNDEgMTcgNyAxNS41OSAxMC41OSAxMiA3IDguNDEgOC40MSA3IDEyIDEwLjU5IDE1LjU5IDcgMTcgOC40MSAxMy40MSAxMiAxNyAxNS41OXonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXdhcm5pbmctYnV0dG9ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM0ZGQzEwNyclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTEgMjFoMjJMMTIgMiAxIDIxem0xMi0zaC0ydi0yaDJ2MnptMC00aC0ydi00aDJ2NHonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zdWNjZXNzLWJ1dHRvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjMwRjlENTgnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH1hbXAtc3Rvcnlbc3RhbmRhbG9uZV0gLmktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9ne2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjg1KSFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWwhaW1wb3J0YW50Oy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWwhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O21heC1oZWlnaHQ6NDUlIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctaGVhZGVyey13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50O2JhY2tncm91bmQ6cmdiYSgzLDE2OSwyNDQsMC44NSkhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmp1c3RpZnkhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6anVzdGlmeSFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50O3BhZGRpbmc6MTJweCAyMHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWNsb3NlLC5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1oZWFkZXJ7LXdlYmtpdC1ib3gtZmxleDowIWltcG9ydGFudDstbXMtZmxleC1wb3NpdGl2ZTowIWltcG9ydGFudDtmbGV4LWdyb3c6MCFpbXBvcnRhbnQ7LW1zLWZsZXgtbmVnYXRpdmU6MCFpbXBvcnRhbnQ7ZmxleC1zaHJpbms6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWNsb3Nle2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgZmlsbD0nJTIzRkZGJyBoZWlnaHQ9JzI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00xOSA2LjQxTDE3LjU5IDUgMTIgMTAuNTkgNi40MSA1IDUgNi40MSAxMC41OSAxMiA1IDE3LjU5IDYuNDEgMTkgMTIgMTMuNDEgMTcuNTkgMTkgMTkgMTcuNTkgMTMuNDEgMTJ6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWNvbnRleHR7Y29sb3I6IzAwMCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvIE1vbm8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyaWVze2xpc3Qtc3R5bGUtdHlwZTpub25lIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7b3ZlcmZsb3cteDpoaWRkZW4haW1wb3J0YW50O292ZXJmbG93LXk6YXV0byFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnl7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgaHNsYSgwLDAlLDEwMCUsMC41KSFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDtwYWRkaW5nOjIwcHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeTpiZWZvcmV7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOmNvdmVyIWltcG9ydGFudDtjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDstd2Via2l0LWJveC1mbGV4OjAhaW1wb3J0YW50Oy1tcy1mbGV4LXBvc2l0aXZlOjAhaW1wb3J0YW50O2ZsZXgtZ3JvdzowIWltcG9ydGFudDstbXMtZmxleC1uZWdhdGl2ZTowIWltcG9ydGFudDtmbGV4LXNocmluazowIWltcG9ydGFudDtoZWlnaHQ6MzJweCFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjIwcHghaW1wb3J0YW50O3dpZHRoOjMycHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeS1lcnJvcjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzREI0NDM3JyUzRSUzQ3BhdGggZD0nTTEyIDJDNi40NyAyIDIgNi40NyAyIDEyczQuNDcgMTAgMTAgMTAgMTAtNC40NyAxMC0xMFMxNy41MyAyIDEyIDJ6bTUgMTMuNTlMMTUuNTkgMTcgMTIgMTMuNDEgOC40MSAxNyA3IDE1LjU5IDEwLjU5IDEyIDcgOC40MSA4LjQxIDcgMTIgMTAuNTkgMTUuNTkgNyAxNyA4LjQxIDEzLjQxIDEyIDE3IDE1LjU5eicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeS13YXJuaW5nOmJlZm9yZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNGRkMxMDcnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xIDIxaDIyTDEyIDIgMSAyMXptMTItM2gtMnYtMmgydjJ6bTAtNGgtMnYtNGgydjR6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeS1zdWNjZXNzOmJlZm9yZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjMwRjlENTgnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtZXJyb3J7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtbGluZS1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24tY29udGVudDpjZW50ZXIhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6IzIyMiFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2NvbG9yOiNmMGYwZjAhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsIWltcG9ydGFudDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDtmb250LXNpemU6MjBweCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3BhZGRpbmc6MzJweCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDt6LWluZGV4Ojk5OTk5OSFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZXhwZXJpbWVudC1pY29ue2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOmNvdmVyIWltcG9ydGFudDtoZWlnaHQ6NjRweCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0byAxNnB4IWltcG9ydGFudDt3aWR0aDo2NHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtaWNvbi1lcnJvcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNGRkYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xIDIxaDIyTDEyIDIgMSAyMXptMTItM2gtMnYtMmgydjJ6bTAtNGgtMnYtNGgydjR6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZXhwZXJpbWVudC1pY29uLWRvbmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzRkZGJyUzRSUzQ3BhdGggZmlsbD0nbm9uZScgZD0nTTAgMGgyNHYyNEgweicvJTNFJTNDcGF0aCBkPSdNOSAxNi4yTDQuOCAxMmwtMS40IDEuNEw5IDE5IDIxIDdsLTEuNC0xLjRMOSAxNi4yeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtZXJyb3IgYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50O2JvcmRlcjoxcHggc29saWQgI2YwZjBmMCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo4cHghaW1wb3J0YW50O2NvbG9yOiNmMGYwZjAhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtmb250LXNpemU6MjBweCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O21hcmdpbjoxNnB4IDAgMCFpbXBvcnRhbnQ7b3V0bGluZTpub25lIWltcG9ydGFudDtwYWRkaW5nOjhweCAzMnB4IWltcG9ydGFudDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2UhaW1wb3J0YW50O3dpZHRoOjUwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1leHBlcmltZW50LWVycm9yIGJ1dHRvbjphY3RpdmUsLmktYW1waHRtbC1zdG9yeS1leHBlcmltZW50LWVycm9yIGJ1dHRvbjpmb2N1c3tiYWNrZ3JvdW5kLWNvbG9yOiNmMGYwZjAhaW1wb3J0YW50O2NvbG9yOiMyMjIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktdG9hc3R7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDtwYWRkaW5nOjEuMTZlbSAxLjMzZW0haW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuMzMhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2JhY2tncm91bmQ6IzIxMjEyMSFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb246dG9hc3QgMi4ycyFpbXBvcnRhbnQ7YW5pbWF0aW9uOnRvYXN0IDIuMnMhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoIWltcG9ydGFudDthbmltYXRpb24tZmlsbC1tb2RlOmJvdGghaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50O2ZvbnQtc2l6ZToxMnB4IWltcG9ydGFudDttYXgtd2lkdGg6NjQwcHghaW1wb3J0YW50O3otaW5kZXg6MTAwMDAyIWltcG9ydGFudH1AbWVkaWEgKG1pbi13aWR0aDo2NDBweCl7LmktYW1waHRtbC1zdG9yeS10b2FzdHtyaWdodDphdXRvIWltcG9ydGFudDtmb250LXNpemU6MTRweCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0byAxLjE2ZW0gMS4xNmVtIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjZweH19QC13ZWJraXQta2V5ZnJhbWVzIHRvYXN0ezAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHB4KTtlYXNpbmc6Y3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpfTgley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9OTIley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7ZWFzaW5nOmN1YmljLWJlemllcigwLjQsMC4wLDEsMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwcHgpfX1Aa2V5ZnJhbWVzIHRvYXN0ezAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHB4KTtlYXNpbmc6Y3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpfTgley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9OTIley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7ZWFzaW5nOmN1YmljLWJlemllcigwLjQsMC4wLDEsMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwcHgpfX0uaS1hbXBodG1sLXN0b3J5LWNvcHktc3VjY2Vzc2Z1bHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZToxNnB4IDE2cHghaW1wb3J0YW50O3BhZGRpbmctbGVmdDoyNHB4IWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29weS11cmx7LXdlYmtpdC1ib3gtZmxleDoxIWltcG9ydGFudDstbXMtZmxleDoxIWltcG9ydGFudDtmbGV4OjEhaW1wb3J0YW50O2NvbG9yOmhzbGEoMCwwJSwxMDAlLDAuNSkhaW1wb3J0YW50O21hcmdpbi1sZWZ0OjQwcHghaW1wb3J0YW50O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7d2hpdGUtc3BhY2U6bm93cmFwIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1jb250YWluZXJ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6Y2FsYygxMDAlIC0gMzZweCkhaW1wb3J0YW50O3JpZ2h0OjEycHghaW1wb3J0YW50O3dpZHRoOjI0cHghaW1wb3J0YW50O2hlaWdodDoyNHB4IWltcG9ydGFudDt6LWluZGV4OjEwIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY29udGFpbmVye3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtkaXJlY3Rpb246bHRyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXJbYWN0aXZlXSAuaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY29udGFpbmVyey13ZWJraXQtYW5pbWF0aW9uOmNvbnRhaW5lci1yb3RhdGUgMTI5NG1zIGxpbmVhciBpbmZpbml0ZSFpbXBvcnRhbnQ7YW5pbWF0aW9uOmNvbnRhaW5lci1yb3RhdGUgMTI5NG1zIGxpbmVhciBpbmZpbml0ZSFpbXBvcnRhbnR9QC13ZWJraXQta2V5ZnJhbWVzIGNvbnRhaW5lci1yb3RhdGV7dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIGNvbnRhaW5lci1yb3RhdGV7dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItbGF5ZXJ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtvcGFjaXR5OjAhaW1wb3J0YW50O3doaXRlLXNwYWNlOm5vd3JhcCFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyW2FjdGl2ZV0gLmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWxheWVyey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmlsbC11bmZpbGwtcm90YXRlIWltcG9ydGFudDthbmltYXRpb24tbmFtZTpmaWxsLXVuZmlsbC1yb3RhdGUhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjQ0MDBtcyFpbXBvcnRhbnQ7YW5pbWF0aW9uLWR1cmF0aW9uOjQ0MDBtcyFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LDAuMCwwLjIsMSkhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZSFpbXBvcnRhbnQ7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgZmlsbC11bmZpbGwtcm90YXRlezEyLjUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTM1ZGVnKX0yNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDI3MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpfTM3LjUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0MDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDA1ZGVnKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDU0MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg1NDBkZWcpfTYyLjUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg2NzVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNjc1ZGVnKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDgxMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg4MTBkZWcpfTg3LjUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5NDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTQ1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTA4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxMDgwZGVnKX19QGtleWZyYW1lcyBmaWxsLXVuZmlsbC1yb3RhdGV7MTIuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDEzNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpfTI1JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMjcwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyl9MzcuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0MDVkZWcpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNTQwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDU0MGRlZyl9NjIuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDY3NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg2NzVkZWcpfTc1JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoODEwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDgxMGRlZyl9ODcuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDk0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5NDVkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMDgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEwODBkZWcpfX0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt3aWR0aDo1MCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1sYXllcjphZnRlcntsZWZ0OjQ1JSFpbXBvcnRhbnQ7d2lkdGg6MTAlIWltcG9ydGFudDtib3JkZXItdG9wLXN0eWxlOnNvbGlkIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXI6YWZ0ZXIsLmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWxheWVyOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtib3JkZXItd2lkdGg6M3B4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWNpcmNsZS1jbGlwcGVyOmFmdGVye2JvdHRvbTowIWltcG9ydGFudDt3aWR0aDoyMDAlIWltcG9ydGFudDtib3JkZXItc3R5bGU6c29saWQhaW1wb3J0YW50O2JvcmRlci1ib3R0b20tY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jaXJjbGUtY2xpcHBlci5sZWZ0OmFmdGVye2xlZnQ6MCFpbXBvcnRhbnQ7Ym9yZGVyLXJpZ2h0LWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTI5ZGVnKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnJvdGF0ZSgxMjlkZWcpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXIucmlnaHQ6YWZ0ZXJ7bGVmdDotMTAwJSFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtMTI5ZGVnKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnJvdGF0ZSgtMTI5ZGVnKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyW2FjdGl2ZV0gLmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWNpcmNsZS1jbGlwcGVyOmFmdGVyey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjExMDBtcyFpbXBvcnRhbnQ7YW5pbWF0aW9uLWR1cmF0aW9uOjExMDBtcyFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LDAuMCwwLjIsMSkhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZSFpbXBvcnRhbnQ7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyW2FjdGl2ZV0gLmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWNpcmNsZS1jbGlwcGVyLmxlZnQ6YWZ0ZXJ7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpsZWZ0LXNwaW4haW1wb3J0YW50O2FuaW1hdGlvbi1uYW1lOmxlZnQtc3BpbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyW2FjdGl2ZV0gLmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWNpcmNsZS1jbGlwcGVyLnJpZ2h0OmFmdGVyey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cmlnaHQtc3BpbiFpbXBvcnRhbnQ7YW5pbWF0aW9uLW5hbWU6cmlnaHQtc3BpbiFpbXBvcnRhbnR9QC13ZWJraXQta2V5ZnJhbWVzIGxlZnQtc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTMwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEzMGRlZyl9NTAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDEzMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxMzBkZWcpfX1Aa2V5ZnJhbWVzIGxlZnQtc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTMwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEzMGRlZyl9NTAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDEzMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxMzBkZWcpfX1ALXdlYmtpdC1rZXlmcmFtZXMgcmlnaHQtc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTEzMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtMTMwZGVnKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0xMzBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTEzMGRlZyl9fUBrZXlmcmFtZXMgcmlnaHQtc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTEzMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtMTMwZGVnKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0xMzBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTEzMGRlZyl9fVxcbi8qIyBzb3VyY2VVUkw9L2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnkuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBDU1MgPSBcIi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMS45IDE5Ny40aC0zNi43djU5LjloMzYuN3YxNzUuOGg3MC41VjI1Ni41aDQ5LjJsNS4yLTU5LjFoLTU0LjR2LTMzLjdjMC0xMy45IDIuOC0xOS41IDE2LjMtMTkuNWgzOC4yVjgyLjloLTQ4LjhjLTUyLjUgMC03Ni4xIDIzLjEtNzYuMSA2Ny4zLS4xIDM4LjYtLjEgNDcuMi0uMSA0Ny4yeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXBpbnRlcmVzdHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00yNjYuNiA3Ni41Yy0xMDAuMiAwLTE1MC43IDcxLjgtMTUwLjcgMTMxLjcgMCAzNi4zIDEzLjcgNjguNSA0My4yIDgwLjYgNC44IDIgOS4yLjEgMTAuNi01LjMgMS0zLjcgMy4zLTEzIDQuMy0xNi45IDEuNC01LjMuOS03LjEtMy0xMS44LTguNS0xMC0xMy45LTIzLTEzLjktNDEuMyAwLTUzLjMgMzkuOS0xMDEgMTAzLjgtMTAxIDU2LjYgMCA4Ny43IDM0LjYgODcuNyA4MC44IDAgNjAuOC0yNi45IDExMi4xLTY2LjggMTEyLjEtMjIuMSAwLTM4LjYtMTguMi0zMy4zLTQwLjYgNi4zLTI2LjcgMTguNi01NS41IDE4LjYtNzQuOCAwLTE3LjMtOS4zLTMxLjctMjguNC0zMS43LTIyLjUgMC00MC43IDIzLjMtNDAuNyA1NC42IDAgMTkuOSA2LjcgMzMuNCA2LjcgMzMuNHMtMjMuMSA5Ny44LTI3LjEgMTE0LjljLTguMSAzNC4xLTEuMiA3NS45LS42IDgwLjEuMyAyLjUgMy42IDMuMSA1IDEuMiAyLjEtMi43IDI4LjktMzUuOSAzOC4xLTY5IDIuNi05LjQgMTQuOC01OCAxNC44LTU4IDcuMyAxNCAyOC43IDI2LjMgNTEuNSAyNi4zIDY3LjggMCAxMTMuOC02MS44IDExMy44LTE0NC41LS4xLTYyLjYtNTMuMS0xMjAuOC0xMzMuNi0xMjAuOHonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xODYuNCAxNDIuNGMwIDE5LTE1LjMgMzQuNS0zNC4yIDM0LjUtMTguOSAwLTM0LjItMTUuNC0zNC4yLTM0LjUgMC0xOSAxNS4zLTM0LjUgMzQuMi0zNC41IDE4LjkgMCAzNC4yIDE1LjUgMzQuMiAzNC41em0tNSA1OC45aC01Ny44djE4Ni44aDU3LjhWMjAxLjN6bTkyLjQgMGgtNTUuNHYxODYuOGg1NS40di05OGMwLTI2LjMgMTIuMS00MS45IDM1LjItNDEuOSAyMS4zIDAgMzEuNSAxNSAzMS41IDQxLjl2OThIMzk4VjI2OS44YzAtNTAtMjguMy03NC4yLTY4LTc0LjItMzkuNiAwLTU2LjMgMzAuOS01Ni4zIDMwLjl2LTI1LjJoLjF6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMTc5LjcgMjM3LjZ2NDYuNmg3N2MtMy4xIDIwLTIzLjMgNTguNy03NyA1OC43LTQ2LjMgMC04NC4xLTM4LjUtODQuMS04NS45IDAtNDcuNCAzNy44LTg1LjkgODQuMS04NS45IDI2LjQgMCA0NCAxMS4zIDU0LjEgMjFsMzYuOC0zNS41QzI0NyAxMzQuNCAyMTYuNCAxMjEgMTc5LjcgMTIxIDEwNC43IDEyMSA0NCAxODEuOCA0NCAyNTdzNjAuNyAxMzYgMTM1LjcgMTM2QzI1OCAzOTMgMzEwIDMzNy44IDMxMCAyNjAuMWMwLTguOS0xLTE1LjctMi4xLTIyLjVIMTc5Ljd6bTI4OC4zLS45aC0zOC43VjE5OGgtMzguNnYzOC43SDM1MnYzOC42aDM4LjdWMzE0aDM4LjZ2LTM4LjdINDY4Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMTAxLjMgMTQxLjZ2MjI4LjloMzA5LjVWMTQxLjZIMTAxLjN6bTI3NC40IDI2LjJMMjU2IDI1OS4zbC0xMTkuNi05MS41aDIzOS4zem0tMjQ4LjEgMjYuM2w2NC4xIDQ5LjEtNjQuMSA2NC4xVjE5NC4xem0uMiAxNTAuMWw4NC45LTg0LjkgNDMuMiAzMy4xIDQzLTMyLjkgODQuNyA4NC43SDEyNy44em0yNTYuNi0zNi40TDMyMCAyNDMuNGw2NC40LTQ5LjN2MTEzLjd6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHdpdHRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzQwMCcgaGVpZ2h0PSc0MDAnJTNFJTNDZyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDcGF0aCBkPSdNMCAwaDQwMHY0MDBIMHonLyUzRSUzQ3BhdGggZmlsbD0nJTIzRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIGQ9J00xNTMuNjIgMzAxLjU5Yzk0LjM0IDAgMTQ1Ljk0LTc4LjE2IDE0NS45NC0xNDUuOTQgMC0yLjIyIDAtNC40My0uMTUtNi42M0ExMDQuMzYgMTA0LjM2IDAgMCAwIDMyNSAxMjIuNDdhMTAyLjM4IDEwMi4zOCAwIDAgMS0yOS40NiA4LjA3IDUxLjQ3IDUxLjQ3IDAgMCAwIDIyLjU1LTI4LjM3IDEwMi43OSAxMDIuNzkgMCAwIDEtMzIuNTcgMTIuNDVjLTE1LjktMTYuOTA2LTQxLjE2My0yMS4wNDQtNjEuNjI1LTEwLjA5My0yMC40NjEgMTAuOTUtMzEuMDMyIDM0LjI2Ni0yNS43ODUgNTYuODczQTE0NS42MiAxNDUuNjIgMCAwIDEgOTIuNCAxMDcuODFjLTEzLjYxNCAyMy40MzYtNi42NiA1My40MTkgMTUuODggNjguNDdBNTAuOTEgNTAuOTEgMCAwIDEgODUgMTY5Ljg2di42NWMuMDA3IDI0LjQxNiAxNy4yMTggNDUuNDQ1IDQxLjE1IDUwLjI4YTUxLjIxIDUxLjIxIDAgMCAxLTIzLjE2Ljg4YzYuNzIgMjAuODk0IDI1Ljk3NiAzNS4yMDggNDcuOTIgMzUuNjJhMTAyLjkyIDEwMi45MiAwIDAgMS02My43IDIyIDEwNC40MSAxMDQuNDEgMCAwIDEtMTIuMjEtLjc0IDE0NS4yMSAxNDUuMjEgMCAwIDAgNzguNjIgMjMnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00yMTAuOCA4MC4zYy0yLjMgMTguMy02LjQgMzMuNC0xMi40IDQ1LjItNiAxMS45LTEzLjkgMjItMjMuOSAzMC41LTkuOSA4LjUtMjEuOCAxNC45LTM1LjcgMTkuNXY1MC42aDM4Ljl2MTI0LjVjMCAxNi4yIDEuNyAyOC42IDUuMSAzNy4xIDMuNCA4LjUgOS41IDE2LjYgMTguMyAyNC4yIDguOCA3LjYgMTkuNCAxMy40IDMxLjkgMTcuNXMyNi44IDYuMSA0MyA2LjFjMTQuMyAwIDI3LjYtMS40IDM5LjktNC4zIDEyLjMtMi45IDI2LTcuOSA0MS4yLTE1di01NS45Yy0xNy44IDExLjctMzUuNyAxNy41LTUzLjcgMTcuNS0xMC4xIDAtMTkuMS0yLjQtMjctNy4xLTUuOS0zLjUtMTAtOC4yLTEyLjItMTQtMi4yLTUuOC0zLjMtMTkuMS0zLjMtMzkuN3YtOTEuMWg4NC42di01NS44aC04NC40di05MGgtNTAuM3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS13aGF0c2FwcHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzQ2JyBoZWlnaHQ9JzQ2JyUzRSUzQ3BhdGggZmlsbD0nJTIzRkZGJyBkPSdNMzUuNCAxMC40QzMyIDYuOSAyNy4zIDUgMjIuNSA1IDEyLjMgNSA0LjEgMTMuMyA0LjIgMjMuNGMwIDMuMi45IDYuMyAyLjQgOS4xTDQgNDJsOS43LTIuNWMyLjcgMS41IDUuNyAyLjIgOC43IDIuMiAxMC4xIDAgMTguMy04LjMgMTguMy0xOC40IDAtNC45LTEuOS05LjUtNS4zLTEyLjl6TTIyLjUgMzguNmMtMi43IDAtNS40LS43LTcuNy0yLjFsLS42LS4zLTUuOCAxLjVMOS45IDMybC0uNC0uNmMtNC40LTcuMS0yLjMtMTYuNSA0LjktMjAuOSA3LjItNC40IDE2LjUtMi4zIDIwLjkgNC45IDQuNCA3LjIgMi4zIDE2LjUtNC45IDIwLjktMi4zIDEuNS01LjEgMi4zLTcuOSAyLjN6bTguOC0xMS4xbC0xLjEtLjVzLTEuNi0uNy0yLjYtMS4yYy0uMSAwLS4yLS4xLS4zLS4xLS4zIDAtLjUuMS0uNy4yIDAgMC0uMS4xLTEuNSAxLjctLjEuMi0uMy4zLS41LjNoLS4xYy0uMSAwLS4zLS4xLS40LS4ybC0uNS0uMmMtMS4xLS41LTIuMS0xLjEtMi45LTEuOS0uMi0uMi0uNS0uNC0uNy0uNi0uNy0uNy0xLjQtMS41LTEuOS0yLjRsLS4xLS4yYy0uMS0uMS0uMS0uMi0uMi0uNCAwLS4yIDAtLjQuMS0uNSAwIDAgLjQtLjUuNy0uOC4yLS4yLjMtLjUuNS0uNy4yLS4zLjMtLjcuMi0xLS4xLS41LTEuMy0zLjItMS42LTMuOC0uMi0uMy0uNC0uNC0uNy0uNWgtMS4xYy0uMiAwLS40LjEtLjYuMWwtLjEuMWMtLjIuMS0uNC4zLS42LjQtLjIuMi0uMy40LS41LjYtLjcuOS0xLjEgMi0xLjEgMy4xIDAgLjguMiAxLjYuNSAyLjNsLjEuM2MuOSAxLjkgMi4xIDMuNiAzLjcgNS4xbC40LjRjLjMuMy42LjUuOC44IDIuMSAxLjggNC41IDMuMSA3LjIgMy44LjMuMS43LjEgMSAuMmgxYy41IDAgMS4xLS4yIDEuNS0uNC4zLS4yLjUtLjIuNy0uNGwuMi0uMmMuMi0uMi40LS4zLjYtLjUuMi0uMi40LS40LjUtLjYuMi0uNC4zLS45LjQtMS40di0uN3MtLjEtLjEtLjMtLjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtbGluZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTEuOTknJTNFJTNDcGF0aCBkPSdNNDQzLjIgMjMzLjI5YzAtODQuMTQtODQuMzUtMTUyLjYtMTg4LTE1Mi42cy0xODggNjguNDYtMTg4IDE1Mi42YzAgNzUuNDMgNjYuOSAxMzguNjEgMTU3LjI2IDE1MC41NSA2LjEzIDEuMzIgMTQuNDYgNCAxNi41NyA5LjI3IDEuODkgNC43NiAxLjI0IDEyLjIuNjEgMTcgMCAwLTIuMjEgMTMuMjYtMi42OSAxNi4wOS0uODIgNC43NS0zLjc4IDE4LjYgMTYuMjkgMTAuMTRzMTA4LjIxLTYzLjc2IDE0Ny42Ni0xMDkuMTZjMjcuMjUtMjkuODkgNDAuMy02MC4xOCA0MC4zLTkzLjg5em0tMjU0LjM4IDQ0LjkyYTMuNjcgMy42NyAwIDAgMS0zLjY2IDMuNjdoLTUyLjY5YTMuNiAzLjYgMCAwIDEtMi41My0xbC0uMDYtLjA1di0uMDVhMy42NSAzLjY1IDAgMCAxLTEtMi41M3YtODEuOTZhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2djY1LjA3aDM1Ljg0YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ6bTMxLjggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4yYTMuNjUgMy42NSAwIDAgMS0zLjY2LTMuNjV2LTgxLjkyYTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZIMjE3YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ6bTkwLjc4IDBhMy42NSAzLjY1IDAgMCAxLTMuNjYgMy42NWgtMTMuMTlhMy42NyAzLjY3IDAgMCAxLS45NC0uMTJoLS4wNWwtLjI1LS4wOGgtLjExbC0uMTgtLjA4LS4xNy0uMDgtLjExLS4wNi0uMjItLjE0YTMuNDUgMy40NSAwIDAgMS0uOTMtLjlMMjU0IDIyOS41NnY0OC42NmEzLjY2IDMuNjYgMCAwIDEtMy42NyAzLjY1SDIzNy4xYTMuNjUgMy42NSAwIDAgMS0zLjY2LTMuNjV2LTgxLjkzYTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZoMTMuODZsLjIxLjA1aC4xM2wuMjEuMDdoLjEyYTEuMzEgMS4zMSAwIDAgMSAuMjEuMDhsLjEyLjA2LjE5LjExYS40MS40MSAwIDAgMSAuMTEuMDdsLjE5LjEzLjEuMDcuMTkuMTYuMDcuMDdhMi4yOCAyLjI4IDAgMCAxIC4yMi4yMiAzLjU4IDMuNTggMCAwIDEgLjI4LjM3TDI5MC44OSAyNDV2LTQ4LjcxYTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZoMTMuMTlhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptNzIuODMtNjguNzRhMy42NiAzLjY2IDAgMCAxLTMuNjUgMy42N2gtMzUuODRWMjI3aDM1Ljg0YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd2MTMuMTlhMy42NSAzLjY1IDAgMCAxLTMuNjUgMy42NmgtMzUuODR2MTMuODVoMzUuODRhMy42NSAzLjY1IDAgMCAxIDMuNjUgMy42NnYxMy4xOWEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC01Mi43YTMuNjYgMy42NiAwIDAgMS0yLjUzLTFsLS4wNS0uMDVhLjEyLjEyIDAgMCAxLS4wNS0uMDUgMy42NSAzLjY1IDAgMCAxLTEtMi41M1YxOTYuM2EzLjYgMy42IDAgMCAxIDEtMi41MmwuMDYtLjA3YTMuNjMgMy42MyAwIDAgMSAyLjU0LTFoNTIuN2EzLjY2IDMuNjYgMCAwIDEgMy42NSAzLjY3eicgZmlsbD0nJTIzZmZmJyBkYXRhLW5hbWU9J+ODrOOCpOODpOODvCAxJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc21ze2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzMwJyBoZWlnaHQ9JzI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBzdHJva2U9JyUyM0ZGRicgc3Ryb2tlLXdpZHRoPSczJyBkPSdNOC43MyAyNnYtNS42NThIMlYyaDI1Ljk3TDI4IDIwLjM1NWwtMTIuMDYyLjA0MnonIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCcvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIGZpbGw9JyUyM2ZmZicgaGVpZ2h0PScyNCcgd2lkdGg9JzI0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xOCAxNi4wOGMtLjc2IDAtMS40NC4zLTEuOTYuNzdMOC45MSAxMi43Yy4wNS0uMjMuMDktLjQ2LjA5LS43cy0uMDQtLjQ3LS4wOS0uN2w3LjA1LTQuMTFjLjU0LjUgMS4yNS44MSAyLjA0LjgxIDEuNjYgMCAzLTEuMzQgMy0zcy0xLjM0LTMtMy0zLTMgMS4zNC0zIDNjMCAuMjQuMDQuNDcuMDkuN0w4LjA0IDkuODFDNy41IDkuMzEgNi43OSA5IDYgOWMtMS42NiAwLTMgMS4zNC0zIDNzMS4zNCAzIDMgM2MuNzkgMCAxLjUtLjMxIDIuMDQtLjgxbDcuMTIgNC4xNmMtLjA1LjIxLS4wOC40My0uMDguNjUgMCAxLjYxIDEuMzEgMi45MiAyLjkyIDIuOTIgMS42MSAwIDIuOTItMS4zMSAyLjkyLTIuOTJzLTEuMzEtMi45Mi0yLjkyLTIuOTJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9YW1wLXNvY2lhbC1zaGFyZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCU7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246cmVsYXRpdmV9LmFtcC1zb2NpYWwtc2hhcmUtdHdpdHRlcntiYWNrZ3JvdW5kLWNvbG9yOiMxZGExZjJ9LmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1jb2xvcjojM2I1OTk4fS5hbXAtc29jaWFsLXNoYXJlLXBpbnRlcmVzdHtiYWNrZ3JvdW5kLWNvbG9yOiNiZDA4MWN9LmFtcC1zb2NpYWwtc2hhcmUtbGlua2VkaW57YmFja2dyb3VuZC1jb2xvcjojMDA3N2I1fS5hbXAtc29jaWFsLXNoYXJlLWdwbHVze2JhY2tncm91bmQtY29sb3I6I2RjNGU0MX0uYW1wLXNvY2lhbC1zaGFyZS10dW1ibHJ7YmFja2dyb3VuZC1jb2xvcjojM2M1YTc3fS5hbXAtc29jaWFsLXNoYXJlLWVtYWlse2JhY2tncm91bmQtY29sb3I6IzAwMH0uYW1wLXNvY2lhbC1zaGFyZS13aGF0c2FwcHtiYWNrZ3JvdW5kLWNvbG9yOiMyNWQzNjZ9LmFtcC1zb2NpYWwtc2hhcmUtbGluZXtiYWNrZ3JvdW5kLWNvbG9yOiM1MmI0NDh9LmFtcC1zb2NpYWwtc2hhcmUtc21ze2JhY2tncm91bmQtY29sb3I6I2NhMmI2M30uYW1wLXNvY2lhbC1zaGFyZS1zeXN0ZW17YmFja2dyb3VuZC1jb2xvcjojMDAwfS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7bWFyZ2luOjE2cHggOHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW5vLXNoYXJpbmcgLmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxle3BhZGRpbmc6MTZweCAwIWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7b3ZlcmZsb3c6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQ6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjBweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDp0cmFuc3BhcmVudCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0e2xpc3Qtc3R5bGU6bm9uZSFpbXBvcnRhbnQ7cGFkZGluZzowIDhweCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LW1zLWZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDtmbGV4LXdyYXA6d3JhcCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtwYWRkaW5nOjAgMTZweCFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbToxMnB4IWltcG9ydGFudH1AbWVkaWEgKG1heC13aWR0aDo0MTBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O21pbi13aWR0aDo2MHB4IWltcG9ydGFudDt3aWR0aDoyNSUhaW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo0MTBweCkgYW5kIChtYXgtd2lkdGg6NTAwcHgpey5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDoyMCUhaW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo1MDBweCkgYW5kIChtYXgtd2lkdGg6NzIwcHgpey5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDoxNi42NiUhaW1wb3J0YW50fX0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHstbXMtZmxleC13cmFwOm5vd3JhcCFpbXBvcnRhbnQ7ZmxleC13cmFwOm5vd3JhcCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQtc2Nyb2xsYWJsZT4qPi5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50O21pbi13aWR0aDphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW06ZW1wdHl7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb257Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjY2cHghaW1wb3J0YW50O3BhZGRpbmc6NTZweCAwIDAhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemUhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEwcHghaW1wb3J0YW50O2ZvbnQtc2l6ZToxMHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246OHB4IDhweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOjMycHggMzJweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb24uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLXNpemU6MzhweCAzOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjVweCA1cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjpiZWZvcmV7Y29udGVudDpcXFwiIFxcXCIhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLDAuMTUpIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NDhweCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3otaW5kZXg6LTEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjphY3RpdmUsLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmZvY3Vze291dGxpbmU6bm9uZSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YWN0aXZlOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOiM3ODc4NzghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvblt0eXBlPWVtYWlsXXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00yMCA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjZjMC0xLjEtLjktMi0yLTJ6bTAgNGwtOCA1LTgtNVY2bDggNSA4LTV2MnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb25bdHlwZT1zeXN0ZW1de2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTYgMTBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0xMiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptLTYgMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi1saW5re2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMy45IDEyYzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xaDRWN0g3Yy0yLjc2IDAtNSAyLjI0LTUgNXMyLjI0IDUgNSA1aDR2LTEuOUg3Yy0xLjcxIDAtMy4xLTEuMzktMy4xLTMuMXpNOCAxM2g4di0ySDh2MnptOS02aC00djEuOWg0YzEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xcy0xLjM5IDMuMS0zLjEgMy4xaC00VjE3aDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZHt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbCFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7ei1pbmRleDoxMDAwMDEhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zcyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpLC13ZWJraXQtdHJhbnNmb3JtIDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQuaS1hbXBodG1sLWhpZGRlbnstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSksLXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHZoKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwdmgpIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtb3ZlcmZsb3d7b3ZlcmZsb3c6YXV0byFpbXBvcnRhbnQ7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2ghaW1wb3J0YW50O21hcmdpbi10b3A6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWlubmVye21hcmdpbjo4OHB4IDAgMCFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3BhZGRpbmctdG9wOjMycHghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWlubmVyOmJlZm9yZXtjb250ZW50OlxcXCIgXFxcIiFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNykhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtsZWZ0OjhweCFpbXBvcnRhbnQ7dG9wOjhweCFpbXBvcnRhbnQ7Ym90dG9tOjhweCFpbXBvcnRhbnQ7cmlnaHQ6OHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWZ1bGxibGVlZCAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXI6YmVmb3JlLFtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXI6YmVmb3Jle2xlZnQ6MCFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5ne3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O3BhZGRpbmctYm90dG9tOjhweCFpbXBvcnRhbnQ7bWFyZ2luOjQ4cHggMCA4cHghaW1wb3J0YW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLDAuMjUpIWltcG9ydGFudDtjb2xvcjpoc2xhKDAsMCUsMTAwJSwwLjU0KSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDtsZXR0ZXItc3BhY2luZzowLjgzcHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb25zZW50e21hcmdpbjowIDMycHggMzJweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbnNlbnQgLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWhlYWRpbmd7bWFyZ2luLWxlZnQ6MCFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLW1ldGF7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtmb250LXNpemU6MTRweCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MSFpbXBvcnRhbnQ7Y29sb3I6aHNsYSgwLDAlLDEwMCUsMC42KSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGV7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Y29sb3I6aW5oZXJpdCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDstd2Via2l0LWJveC1mbGV4OjEhaW1wb3J0YW50Oy1tcy1mbGV4OjEgMCAzMjBweCFpbXBvcnRhbnQ7ZmxleDoxIDAgMzIwcHghaW1wb3J0YW50O21pbi13aWR0aDozMyUhaW1wb3J0YW50O21hcmdpbjoyNHB4IDAhaW1wb3J0YW50O3BhZGRpbmc6MCAzMnB4IWltcG9ydGFudH1AbWVkaWEgKG1pbi13aWR0aDo2NDBweCl7LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGV7bWF4LXdpZHRoOjUwJSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjk2MHB4KXsuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZXttYXgtd2lkdGg6MzMlIWltcG9ydGFudH19LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaGVhZGluZywuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29uc2VudC1idXR0b257Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE2cHghaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuNDttYXJnaW46MCAwIDhweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaW1hZ2UsLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pbWFnZXt3aWR0aDoxMDBweCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVufS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLWltYWdlLmFtcC1ub3RzdXBwb3J0ZWR7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1pbWFnZT5pbWd7LW8tb2JqZWN0LWZpdDpjb3ZlciFpbXBvcnRhbnQ7b2JqZWN0LWZpdDpjb3ZlciFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaW1hZ2V7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTpjb3ZlciFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaW1hZ2UsLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pY29uLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaW1hZ2V7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50O21hcmdpbi1sZWZ0OjI0cHghaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcmVwbGF5e3BhZGRpbmc6MTZweCAwIWltcG9ydGFudDttYXJnaW46MCAwIDI0cHghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pY29ue2JhY2tncm91bmQ6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTE3LjY1IDYuMzVBNy45NTggNy45NTggMCAwIDAgMTIgNGMtNC40MiAwLTcuOTkgMy41OC03Ljk5IDhzMy41NyA4IDcuOTkgOGMzLjczIDAgNi44NC0yLjU1IDcuNzMtNmgtMi4wOEE1Ljk5IDUuOTkgMCAwIDEgMTIgMThjLTMuMzEgMC02LTIuNjktNi02czIuNjktNiA2LTZjMS42NiAwIDMuMTQuNjkgNC4yMiAxLjc4TDEzIDExaDdWNGwtMi4zNSAyLjM1eicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikgNTAlIG5vLXJlcGVhdCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pbWFnZT4uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcmVwbGF5LWljb257d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwwLjMpIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7bWFyZ2luLWxlZnQ6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheT4uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcmVwbGF5LWljb257d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjQ4cHghaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6cmdiYSg2MCw2MCw2MCwwLjUpIWltcG9ydGFudDtwb3NpdGlvbjpzdGF0aWMhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaGVhZGluZysuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1zZXR7Ym9yZGVyLXRvcDpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1zZXR7Ym9yZGVyLXRvcDoxcHggc29saWQgaHNsYSgwLDAlLDEwMCUsMC4yNSkhaW1wb3J0YW50O21hcmdpbi1ib3R0b206MzJweCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstbXMtZmxleC13cmFwOndyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmp1c3RpZnkhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6anVzdGlmeSFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5nLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXl7bWFyZ2luLWxlZnQ6MzJweCFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjMycHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1mdWxsYmxlZWQ6YmVmb3Jle2NvbnRlbnQ6XFxcIiBcXFwiIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGJvdHRvbSxyZ2JhKDEsMSwxLDApLCMwMDApIWltcG9ydGFudDtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgwZGVnLHJnYmEoMSwxLDEsMCksIzAwMCkhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtoZWlnaHQ6NDBweCFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7ei1pbmRleDoxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtwYWRkaW5nLWxlZnQ6MTZweCFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoxNnB4IWltcG9ydGFudH1bZGVza3RvcF0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmR7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkhaW1wb3J0YW50O29wYWNpdHk6MSFpbXBvcnRhbnR9W2Rlc2t0b3BdLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLmktYW1waHRtbC1oaWRkZW57LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHZoKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwdmgpIWltcG9ydGFudDtvcGFjaXR5OjAhaW1wb3J0YW50fVtkZXNrdG9wXS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXJ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDttaW4taGVpZ2h0OjEwMHZoIWltcG9ydGFudDtwYWRkaW5nOjEwNHB4IDE1NnB4IDY0cHghaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWlubmVyOmJlZm9yZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcmVwbGF5e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1vdmVyZmxvd3ttYXJnaW4tdG9wOjAhaW1wb3J0YW50O21hcmdpbi1ib3R0b206MCFpbXBvcnRhbnR9QG1lZGlhIChtaW4td2lkdGg6OTUycHgpe1tkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZXttYXgtd2lkdGg6NTAlIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6MTI3MnB4KXtbZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGV7bWF4LXdpZHRoOjMzJSFpbXBvcnRhbnR9fVxcbi8qIyBzb3VyY2VVUkw9L2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktYm9va2VuZC5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmktYW1waHRtbC1zdG9yeS1jb25zZW50e3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbCFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7ei1pbmRleDoxMDAwMDMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudDpiZWZvcmV7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOiMwMDAhaW1wb3J0YW50O29wYWNpdHk6MC40IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtb3ZlcmZsb3d7bWFyZ2luLXRvcDphdXRvIWltcG9ydGFudDtvdmVyZmxvdy15OmF1dG8haW1wb3J0YW50O292ZXJmbG93LXg6aGlkZGVuIWltcG9ydGFudDstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWNvbnRhaW5lcntwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7bWFyZ2luOjg4cHggOHB4IDcycHghaW1wb3J0YW50O2JhY2tncm91bmQ6I2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo4cHggOHB4IDAgMCFpbXBvcnRhbnQ7Y29sb3I6cmdiYSgwLDAsMCwwLjg3KSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O3RleHQtYWxpZ246bGVmdCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250YWluZXJ7bWFyZ2luOjg4cHggMHB4IDcycHghaW1wb3J0YW50O3BhZGRpbmc6MCA4cHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6aW5pdGlhbCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWhlYWRlcntwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7aGVpZ2h0OjgwcHghaW1wb3J0YW50O21pbi1oZWlnaHQ6ODBweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDp2YXIoLS1wcmltYXJ5LWNvbG9yLCNmMGYwZjApIWltcG9ydGFudDt6LWluZGV4OjIhaW1wb3J0YW50O21hcmdpbjowIC04cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1sb2dve3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtib3R0b206LTMycHghaW1wb3J0YW50O21hcmdpbi1sZWZ0Oi0zMnB4IWltcG9ydGFudDtsZWZ0OjUwJSFpbXBvcnRhbnQ7aGVpZ2h0OjY0cHghaW1wb3J0YW50O3dpZHRoOjY0cHghaW1wb3J0YW50O2JhY2tncm91bmQ6I2YwZjBmMCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOmNvbnRhaW4haW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NXB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtbG9nbzpiZWZvcmV7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDotNnB4IWltcG9ydGFudDtib3R0b206LTZweCFpbXBvcnRhbnQ7bGVmdDotNnB4IWltcG9ydGFudDtyaWdodDotNnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmZmYhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NnB4IWltcG9ydGFudDtib3gtc2hhZG93OjAgMnB4IDNweCByZ2JhKDAsMCwwLDAuMTIpIWltcG9ydGFudDt6LWluZGV4Oi0xIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtY29udGVudHtwYWRkaW5nOjQycHggMTZweCAxNnB4IWltcG9ydGFudDtmb250LXNpemU6MTRweCFpbXBvcnRhbnQ7ei1pbmRleDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtdmVuZG9yc3ttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDtsaXN0LXN0eWxlOm5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC12ZW5kb3J7aGVpZ2h0OjQwcHghaW1wb3J0YW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmMGYwZjAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjQwcHghaW1wb3J0YW50O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWV4dGVybmFsLWxpbmt7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDttYXJnaW46MjRweCAwIWltcG9ydGFudDtjb2xvcjpyZ2JhKDAsMCwwLDAuODcpIWltcG9ydGFudDtmb250LXNpemU6MTVweCFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWV4dGVybmFsLWxpbms6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWV4dGVybmFsLWxpbms6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O2hlaWdodDoxNnB4IWltcG9ydGFudDt3aWR0aDoxNnB4IWltcG9ydGFudDt0b3A6M3B4IWltcG9ydGFudDtyaWdodDotMjBweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0ncmdiYSgwLCAwLCAwLCAwLjg3KSclM0UlM0NwYXRoIGQ9J00xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIDUwJSBuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1leHRlcm5hbC1saW5rLmktYW1waHRtbC1oaWRkZW57ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9uc3twb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtsZWZ0OjhweCFpbXBvcnRhbnQ7cmlnaHQ6OHB4IWltcG9ydGFudDtoZWlnaHQ6NzJweCFpbXBvcnRhbnQ7bWluLWhlaWdodDo3MnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmZmYhaW1wb3J0YW50O2JveC1zaGFkb3c6MCAtMnB4IDNweCByZ2JhKDAsMCwwLDAuMTIpIWltcG9ydGFudDt6LWluZGV4OjEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1mdWxsYmxlZWQgLmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbnN7bGVmdDowcHghaW1wb3J0YW50O3JpZ2h0OjBweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbntwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7cGFkZGluZzowIDI0cHghaW1wb3J0YW50O21hcmdpbjowIDEycHghaW1wb3J0YW50O2hlaWdodDo0MHB4IWltcG9ydGFudDt3aWR0aDo0MHZ3IWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmZmYhaW1wb3J0YW50O2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjQwcHghaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O2ZvbnQtc2l6ZToxM3B4IWltcG9ydGFudDtmb250LXdlaWdodDo3MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjQwcHghaW1wb3J0YW50O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbi5pLWFtcGh0bWwtaGlkZGVue2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbi1hY2NlcHR7YmFja2dyb3VuZDp2YXIoLS1wcmltYXJ5LWNvbG9yLCMwMDApIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9uLXJlamVjdHtib3JkZXI6MXB4IHNvbGlkICMwMDAhaW1wb3J0YW50fUBtZWRpYSAobWluLXdpZHRoOjQyMHB4KXsuaS1hbXBodG1sLXN0b3J5LWNvbnNlbnR7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtb3ZlcmZsb3d7bWFyZ2luLXRvcDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtY29udGFpbmVye2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsIWltcG9ydGFudDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDttYXgtaGVpZ2h0OjgwdmghaW1wb3J0YW50O21pbi1oZWlnaHQ6NDB2aCFpbXBvcnRhbnQ7d2lkdGg6Y2FsYygxMDB2dyAtIDgwcHgpIWltcG9ydGFudDttYXgtd2lkdGg6ODAwcHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250ZW50e21hcmdpbjowIGF1dG8haW1wb3J0YW50O21heC13aWR0aDo0MjRweCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZmxleDoxIWltcG9ydGFudDstbXMtZmxleC1wb3NpdGl2ZToxIWltcG9ydGFudDtmbGV4LWdyb3c6MSFpbXBvcnRhbnQ7b3ZlcmZsb3cteTphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6MHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9uc3twb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7bGVmdDowcHghaW1wb3J0YW50O3JpZ2h0OjBweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbnt3aWR0aDozM3Z3IWltcG9ydGFudDttYXgtd2lkdGg6MjAwcHghaW1wb3J0YW50fX1cXG4vKiMgc291cmNlVVJMPS9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LWNvbnNlbnQuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBDU1MgPSBcIi5pLWFtcGh0bWwtc3RvcnktaGludC1jb250YWluZXJ7LXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5Om9wYWNpdHkhaW1wb3J0YW50O3RyYW5zaXRpb24tcHJvcGVydHk6b3BhY2l0eSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOjIwMG1zIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOjIwMG1zIWltcG9ydGFudDtjb250YWluOnN0cmljdCFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDt6LWluZGV4OjIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC1jb250YWluZXIuaS1hbXBodG1sLWhpZGRlbntvcGFjaXR5OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC1jb250YWluZXIgLmktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtb3ZlcmxheXtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjcpIWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6aG9yaXpvbnRhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbCFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdyFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246cm93IWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDtmb250LXNpemU6MjBweCFpbXBvcnRhbnQ7cGFkZGluZzoxNnB4IDAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktbmF2aWdhdGlvbi1oZWxwLXNlY3Rpb257ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5wcmV2LXBhZ2V7LXdlYmtpdC1ib3gtZmxleDoxIWltcG9ydGFudDstbXMtZmxleDoxIWltcG9ydGFudDtmbGV4OjEhaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAuaS1hbXBodG1sLXN0b3J5LW5hdmlnYXRpb24taGVscC1vdmVybGF5e2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAucHJldi1wYWdle2JhY2tncm91bmQ6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDAsMCwwLDAuNSksdHJhbnNwYXJlbnQpIWltcG9ydGFudDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZyxyZ2JhKDAsMCwwLDAuNSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH0uc2hvdy1maXJzdC1wYWdlLW92ZXJsYXkgLm5leHQtcGFnZXtvcGFjaXR5OjAhaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAuaS1hbXBodG1sLXN0b3J5LWhpbnQtcGxhY2Vob2xkZXJ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uc2hvdy1maXJzdC1wYWdlLW92ZXJsYXkgLmktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtb3ZlcmxheXtwYWRkaW5nOjBweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LWNvbnRhaW5lciAubmV4dC1wYWdley13ZWJraXQtYm94LWZsZXg6MyFpbXBvcnRhbnQ7LW1zLWZsZXg6MyFpbXBvcnRhbnQ7ZmxleDozIWltcG9ydGFudDtib3JkZXItbGVmdDoxcHggZGFzaGVkIHRyYW5zcGFyZW50IWltcG9ydGFudDtib3JkZXItaW1hZ2Utc291cmNlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMwJyBoZWlnaHQ9JzMwJyUzRSUzQ3BhdGggZmlsbD0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3NxdWFyZScgc3Ryb2tlLWRhc2hhcnJheT0nNiw2JyBzdHJva2U9JyUyM2ZmZicgZD0nTTAgMHYzMCcvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDtib3JkZXItaW1hZ2Utc2xpY2U6MzMlIDMzJSFpbXBvcnRhbnQ7Ym9yZGVyLWltYWdlLXJlcGVhdDpyZXBlYXQhaW1wb3J0YW50O2JvcmRlci1pbWFnZS13aWR0aDoxNHB4IWltcG9ydGFudH0uc2hvdy1maXJzdC1wYWdlLW92ZXJsYXkgLmktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtb3ZlcmxheSwuc2hvdy1uYXZpZ2F0aW9uLW92ZXJsYXkgLmktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtb3ZlcmxheXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAucHJldi1wYWdlIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9ue3Zpc2liaWxpdHk6aGlkZGVufS5zaG93LW5hdmlnYXRpb24tb3ZlcmxheSAucHJldi1wYWdlIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb246YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzAnIGhlaWdodD0nMzAnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O3dpZHRoOjMwcHghaW1wb3J0YW50O2hlaWdodDozMHB4IWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LWNvbnRhaW5lciAuaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbntwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7d2lkdGg6NDRweCFpbXBvcnRhbnQ7aGVpZ2h0OjQ0cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uOmFmdGVyLC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7d2lkdGg6NDRweCFpbXBvcnRhbnQ7aGVpZ2h0OjQ0cHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLDAuNSkhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b246YmVmb3Jley13ZWJraXQtYW5pbWF0aW9uOmV4cGFuZGluZ0J1YmJsZSAxMDAwbXMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNCwwLDAuMiwxKSFpbXBvcnRhbnQ7YW5pbWF0aW9uOmV4cGFuZGluZ0J1YmJsZSAxMDAwbXMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNCwwLDAuMiwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b246YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWhpbnQtY29udGFpbmVyIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb257cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3otaW5kZXg6MSFpbXBvcnRhbnQ7aGVpZ2h0OjQ0cHghaW1wb3J0YW50O3dpZHRoOjQ0cHghaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbi1pY29uOmFmdGVyLC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb246YmVmb3Jle3ZlcnRpY2FsLWFsaWduOm1pZGRsZSFpbXBvcnRhbnQ7bWFyZ2luOjAgMnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJX0ubmV4dC1wYWdlIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb246YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMCcgaGVpZ2h0PSczMCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02eicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O3dpZHRoOjI0cHghaW1wb3J0YW50O2hlaWdodDoyNHB4IWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LXBsYWNlaG9sZGVye3RvcDo1MCUhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsIWltcG9ydGFudDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC1jb250YWluZXIgLmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24tdGV4dHtjb2xvcjojZmZmIWltcG9ydGFudDtmb250LXNpemU6MTZweCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLU1lZGl1bSxzYW5zLXNlcmlmIWltcG9ydGFudDttYXJnaW4tdG9wOjI0cHghaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgZXhwYW5kaW5nQnViYmxlezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjB9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuNSk7dHJhbnNmb3JtOnNjYWxlKDEuNSk7b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgZXhwYW5kaW5nQnViYmxlezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjB9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuNSk7dHJhbnNmb3JtOnNjYWxlKDEuNSk7b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjB9fVxcbi8qIyBzb3VyY2VVUkw9L2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktaGludC5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjExLjkgMTk3LjRoLTM2Ljd2NTkuOWgzNi43djE3NS44aDcwLjVWMjU2LjVoNDkuMmw1LjItNTkuMWgtNTQuNHYtMzMuN2MwLTEzLjkgMi44LTE5LjUgMTYuMy0xOS41aDM4LjJWODIuOWgtNDguOGMtNTIuNSAwLTc2LjEgMjMuMS03Ni4xIDY3LjMtLjEgMzguNi0uMSA0Ny4yLS4xIDQ3LjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTI2Ni42IDc2LjVjLTEwMC4yIDAtMTUwLjcgNzEuOC0xNTAuNyAxMzEuNyAwIDM2LjMgMTMuNyA2OC41IDQzLjIgODAuNiA0LjggMiA5LjIuMSAxMC42LTUuMyAxLTMuNyAzLjMtMTMgNC4zLTE2LjkgMS40LTUuMy45LTcuMS0zLTExLjgtOC41LTEwLTEzLjktMjMtMTMuOS00MS4zIDAtNTMuMyAzOS45LTEwMSAxMDMuOC0xMDEgNTYuNiAwIDg3LjcgMzQuNiA4Ny43IDgwLjggMCA2MC44LTI2LjkgMTEyLjEtNjYuOCAxMTIuMS0yMi4xIDAtMzguNi0xOC4yLTMzLjMtNDAuNiA2LjMtMjYuNyAxOC42LTU1LjUgMTguNi03NC44IDAtMTcuMy05LjMtMzEuNy0yOC40LTMxLjctMjIuNSAwLTQwLjcgMjMuMy00MC43IDU0LjYgMCAxOS45IDYuNyAzMy40IDYuNyAzMy40cy0yMy4xIDk3LjgtMjcuMSAxMTQuOWMtOC4xIDM0LjEtMS4yIDc1LjktLjYgODAuMS4zIDIuNSAzLjYgMy4xIDUgMS4yIDIuMS0yLjcgMjguOS0zNS45IDM4LjEtNjkgMi42LTkuNCAxNC44LTU4IDE0LjgtNTggNy4zIDE0IDI4LjcgMjYuMyA1MS41IDI2LjMgNjcuOCAwIDExMy44LTYxLjggMTEzLjgtMTQ0LjUtLjEtNjIuNi01My4xLTEyMC44LTEzMy42LTEyMC44eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWxpbmtlZGlue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTE4Ni40IDE0Mi40YzAgMTktMTUuMyAzNC41LTM0LjIgMzQuNS0xOC45IDAtMzQuMi0xNS40LTM0LjItMzQuNSAwLTE5IDE1LjMtMzQuNSAzNC4yLTM0LjUgMTguOSAwIDM0LjIgMTUuNSAzNC4yIDM0LjV6bS01IDU4LjloLTU3Ljh2MTg2LjhoNTcuOFYyMDEuM3ptOTIuNCAwaC01NS40djE4Ni44aDU1LjR2LTk4YzAtMjYuMyAxMi4xLTQxLjkgMzUuMi00MS45IDIxLjMgMCAzMS41IDE1IDMxLjUgNDEuOXY5OEgzOThWMjY5LjhjMC01MC0yOC4zLTc0LjItNjgtNzQuMi0zOS42IDAtNTYuMyAzMC45LTU2LjMgMzAuOXYtMjUuMmguMXonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1ncGx1c3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xNzkuNyAyMzcuNnY0Ni42aDc3Yy0zLjEgMjAtMjMuMyA1OC43LTc3IDU4LjctNDYuMyAwLTg0LjEtMzguNS04NC4xLTg1LjkgMC00Ny40IDM3LjgtODUuOSA4NC4xLTg1LjkgMjYuNCAwIDQ0IDExLjMgNTQuMSAyMWwzNi44LTM1LjVDMjQ3IDEzNC40IDIxNi40IDEyMSAxNzkuNyAxMjEgMTA0LjcgMTIxIDQ0IDE4MS44IDQ0IDI1N3M2MC43IDEzNiAxMzUuNyAxMzZDMjU4IDM5MyAzMTAgMzM3LjggMzEwIDI2MC4xYzAtOC45LTEtMTUuNy0yLjEtMjIuNUgxNzkuN3ptMjg4LjMtLjloLTM4LjdWMTk4aC0zOC42djM4LjdIMzUydjM4LjZoMzguN1YzMTRoMzguNnYtMzguN0g0NjgnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1lbWFpbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xMDEuMyAxNDEuNnYyMjguOWgzMDkuNVYxNDEuNkgxMDEuM3ptMjc0LjQgMjYuMkwyNTYgMjU5LjNsLTExOS42LTkxLjVoMjM5LjN6bS0yNDguMSAyNi4zbDY0LjEgNDkuMS02NC4xIDY0LjFWMTk0LjF6bS4yIDE1MC4xbDg0LjktODQuOSA0My4yIDMzLjEgNDMtMzIuOSA4NC43IDg0LjdIMTI3Ljh6bTI1Ni42LTM2LjRMMzIwIDI0My40bDY0LjQtNDkuM3YxMTMuN3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDAwJyBoZWlnaHQ9JzQwMCclM0UlM0NnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J00wIDBoNDAwdjQwMEgweicvJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGZpbGwtcnVsZT0nbm9uemVybycgZD0nTTE1My42MiAzMDEuNTljOTQuMzQgMCAxNDUuOTQtNzguMTYgMTQ1Ljk0LTE0NS45NCAwLTIuMjIgMC00LjQzLS4xNS02LjYzQTEwNC4zNiAxMDQuMzYgMCAwIDAgMzI1IDEyMi40N2ExMDIuMzggMTAyLjM4IDAgMCAxLTI5LjQ2IDguMDcgNTEuNDcgNTEuNDcgMCAwIDAgMjIuNTUtMjguMzcgMTAyLjc5IDEwMi43OSAwIDAgMS0zMi41NyAxMi40NWMtMTUuOS0xNi45MDYtNDEuMTYzLTIxLjA0NC02MS42MjUtMTAuMDkzLTIwLjQ2MSAxMC45NS0zMS4wMzIgMzQuMjY2LTI1Ljc4NSA1Ni44NzNBMTQ1LjYyIDE0NS42MiAwIDAgMSA5Mi40IDEwNy44MWMtMTMuNjE0IDIzLjQzNi02LjY2IDUzLjQxOSAxNS44OCA2OC40N0E1MC45MSA1MC45MSAwIDAgMSA4NSAxNjkuODZ2LjY1Yy4wMDcgMjQuNDE2IDE3LjIxOCA0NS40NDUgNDEuMTUgNTAuMjhhNTEuMjEgNTEuMjEgMCAwIDEtMjMuMTYuODhjNi43MiAyMC44OTQgMjUuOTc2IDM1LjIwOCA0Ny45MiAzNS42MmExMDIuOTIgMTAyLjkyIDAgMCAxLTYzLjcgMjIgMTA0LjQxIDEwNC40MSAwIDAgMS0xMi4yMS0uNzQgMTQ1LjIxIDE0NS4yMSAwIDAgMCA3OC42MiAyMycvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHVtYmxye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMC44IDgwLjNjLTIuMyAxOC4zLTYuNCAzMy40LTEyLjQgNDUuMi02IDExLjktMTMuOSAyMi0yMy45IDMwLjUtOS45IDguNS0yMS44IDE0LjktMzUuNyAxOS41djUwLjZoMzguOXYxMjQuNWMwIDE2LjIgMS43IDI4LjYgNS4xIDM3LjEgMy40IDguNSA5LjUgMTYuNiAxOC4zIDI0LjIgOC44IDcuNiAxOS40IDEzLjQgMzEuOSAxNy41czI2LjggNi4xIDQzIDYuMWMxNC4zIDAgMjcuNi0xLjQgMzkuOS00LjMgMTIuMy0yLjkgMjYtNy45IDQxLjItMTV2LTU1LjljLTE3LjggMTEuNy0zNS43IDE3LjUtNTMuNyAxNy41LTEwLjEgMC0xOS4xLTIuNC0yNy03LjEtNS45LTMuNS0xMC04LjItMTIuMi0xNC0yLjItNS44LTMuMy0xOS4xLTMuMy0zOS43di05MS4xaDg0LjZ2LTU1LjhoLTg0LjR2LTkwaC01MC4zeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDYnIGhlaWdodD0nNDYnJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGQ9J00zNS40IDEwLjRDMzIgNi45IDI3LjMgNSAyMi41IDUgMTIuMyA1IDQuMSAxMy4zIDQuMiAyMy40YzAgMy4yLjkgNi4zIDIuNCA5LjFMNCA0Mmw5LjctMi41YzIuNyAxLjUgNS43IDIuMiA4LjcgMi4yIDEwLjEgMCAxOC4zLTguMyAxOC4zLTE4LjQgMC00LjktMS45LTkuNS01LjMtMTIuOXpNMjIuNSAzOC42Yy0yLjcgMC01LjQtLjctNy43LTIuMWwtLjYtLjMtNS44IDEuNUw5LjkgMzJsLS40LS42Yy00LjQtNy4xLTIuMy0xNi41IDQuOS0yMC45IDcuMi00LjQgMTYuNS0yLjMgMjAuOSA0LjkgNC40IDcuMiAyLjMgMTYuNS00LjkgMjAuOS0yLjMgMS41LTUuMSAyLjMtNy45IDIuM3ptOC44LTExLjFsLTEuMS0uNXMtMS42LS43LTIuNi0xLjJjLS4xIDAtLjItLjEtLjMtLjEtLjMgMC0uNS4xLS43LjIgMCAwLS4xLjEtMS41IDEuNy0uMS4yLS4zLjMtLjUuM2gtLjFjLS4xIDAtLjMtLjEtLjQtLjJsLS41LS4yYy0xLjEtLjUtMi4xLTEuMS0yLjktMS45LS4yLS4yLS41LS40LS43LS42LS43LS43LTEuNC0xLjUtMS45LTIuNGwtLjEtLjJjLS4xLS4xLS4xLS4yLS4yLS40IDAtLjIgMC0uNC4xLS41IDAgMCAuNC0uNS43LS44LjItLjIuMy0uNS41LS43LjItLjMuMy0uNy4yLTEtLjEtLjUtMS4zLTMuMi0xLjYtMy44LS4yLS4zLS40LS40LS43LS41aC0xLjFjLS4yIDAtLjQuMS0uNi4xbC0uMS4xYy0uMi4xLS40LjMtLjYuNC0uMi4yLS4zLjQtLjUuNi0uNy45LTEuMSAyLTEuMSAzLjEgMCAuOC4yIDEuNi41IDIuM2wuMS4zYy45IDEuOSAyLjEgMy42IDMuNyA1LjFsLjQuNGMuMy4zLjYuNS44LjggMi4xIDEuOCA0LjUgMy4xIDcuMiAzLjguMy4xLjcuMSAxIC4yaDFjLjUgMCAxLjEtLjIgMS41LS40LjMtLjIuNS0uMi43LS40bC4yLS4yYy4yLS4yLjQtLjMuNi0uNS4yLS4yLjQtLjQuNS0uNi4yLS40LjMtLjkuNC0xLjR2LS43cy0uMS0uMS0uMy0uMnonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMS45OSclM0UlM0NwYXRoIGQ9J000NDMuMiAyMzMuMjljMC04NC4xNC04NC4zNS0xNTIuNi0xODgtMTUyLjZzLTE4OCA2OC40Ni0xODggMTUyLjZjMCA3NS40MyA2Ni45IDEzOC42MSAxNTcuMjYgMTUwLjU1IDYuMTMgMS4zMiAxNC40NiA0IDE2LjU3IDkuMjcgMS44OSA0Ljc2IDEuMjQgMTIuMi42MSAxNyAwIDAtMi4yMSAxMy4yNi0yLjY5IDE2LjA5LS44MiA0Ljc1LTMuNzggMTguNiAxNi4yOSAxMC4xNHMxMDguMjEtNjMuNzYgMTQ3LjY2LTEwOS4xNmMyNy4yNS0yOS44OSA0MC4zLTYwLjE4IDQwLjMtOTMuODl6bS0yNTQuMzggNDQuOTJhMy42NyAzLjY3IDAgMCAxLTMuNjYgMy42N2gtNTIuNjlhMy42IDMuNiAwIDAgMS0yLjUzLTFsLS4wNi0uMDV2LS4wNWEzLjY1IDMuNjUgMCAwIDEtMS0yLjUzdi04MS45NmEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjE5YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ2NjUuMDdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptMzEuOCAwYTMuNjUgMy42NSAwIDAgMS0zLjY2IDMuNjVoLTEzLjJhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTJhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NkgyMTdhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptOTAuNzggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4xOWEzLjY3IDMuNjcgMCAwIDEtLjk0LS4xMmgtLjA1bC0uMjUtLjA4aC0uMTFsLS4xOC0uMDgtLjE3LS4wOC0uMTEtLjA2LS4yMi0uMTRhMy40NSAzLjQ1IDAgMCAxLS45My0uOUwyNTQgMjI5LjU2djQ4LjY2YTMuNjYgMy42NiAwIDAgMS0zLjY3IDMuNjVIMjM3LjFhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTNhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy44NmwuMjEuMDVoLjEzbC4yMS4wN2guMTJhMS4zMSAxLjMxIDAgMCAxIC4yMS4wOGwuMTIuMDYuMTkuMTFhLjQxLjQxIDAgMCAxIC4xMS4wN2wuMTkuMTMuMS4wNy4xOS4xNi4wNy4wN2EyLjI4IDIuMjggMCAwIDEgLjIyLjIyIDMuNTggMy41OCAwIDAgMSAuMjguMzdMMjkwLjg5IDI0NXYtNDguNzFhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em03Mi44My02OC43NGEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC0zNS44NFYyMjdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjUgMy42N3YxMy4xOWEzLjY1IDMuNjUgMCAwIDEtMy42NSAzLjY2aC0zNS44NHYxMy44NWgzNS44NGEzLjY1IDMuNjUgMCAwIDEgMy42NSAzLjY2djEzLjE5YTMuNjYgMy42NiAwIDAgMS0zLjY1IDMuNjdoLTUyLjdhMy42NiAzLjY2IDAgMCAxLTIuNTMtMWwtLjA1LS4wNWEuMTIuMTIgMCAwIDEtLjA1LS4wNSAzLjY1IDMuNjUgMCAwIDEtMS0yLjUzVjE5Ni4zYTMuNiAzLjYgMCAwIDEgMS0yLjUybC4wNi0uMDdhMy42MyAzLjYzIDAgMCAxIDIuNTQtMWg1Mi43YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd6JyBmaWxsPSclMjNmZmYnIGRhdGEtbmFtZT0n44Os44Kk44Ok44O8IDEnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMzAnIGhlaWdodD0nMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIHN0cm9rZT0nJTIzRkZGJyBzdHJva2Utd2lkdGg9JzMnIGQ9J004LjczIDI2di01LjY1OEgyVjJoMjUuOTdMMjggMjAuMzU1bC0xMi4wNjIuMDQyeicgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc3lzdGVte2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgZmlsbD0nJTIzZmZmJyBoZWlnaHQ9JzI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTE4IDE2LjA4Yy0uNzYgMC0xLjQ0LjMtMS45Ni43N0w4LjkxIDEyLjdjLjA1LS4yMy4wOS0uNDYuMDktLjdzLS4wNC0uNDctLjA5LS43bDcuMDUtNC4xMWMuNTQuNSAxLjI1LjgxIDIuMDQuODEgMS42NiAwIDMtMS4zNCAzLTNzLTEuMzQtMy0zLTMtMyAxLjM0LTMgM2MwIC4yNC4wNC40Ny4wOS43TDguMDQgOS44MUM3LjUgOS4zMSA2Ljc5IDkgNiA5Yy0xLjY2IDAtMyAxLjM0LTMgM3MxLjM0IDMgMyAzYy43OSAwIDEuNS0uMzEgMi4wNC0uODFsNy4xMiA0LjE2Yy0uMDUuMjEtLjA4LjQzLS4wOC42NSAwIDEuNjEgMS4zMSAyLjkyIDIuOTIgMi45MiAxLjYxIDAgMi45Mi0xLjMxIDIuOTItMi45MnMtMS4zMS0yLjkyLTIuOTItMi45MnonLyUzRSUzQy9zdmclM0VcXFwiKX1hbXAtc29jaWFsLXNoYXJle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtY29sb3I6IzFkYTFmMn0uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiMzYjU5OTh9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtY29sb3I6I2JkMDgxY30uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWNvbG9yOiMwMDc3YjV9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1jb2xvcjojZGM0ZTQxfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWNvbG9yOiMzYzVhNzd9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtY29sb3I6IzI1ZDM2Nn0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtY29sb3I6IzUyYjQ0OH0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1jb2xvcjojY2EyYjYzfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXJnaW46MTZweCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGV7cGFkZGluZzoxNnB4IDAhaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtvdmVyZmxvdzphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldDo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6MHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudDtwYWRkaW5nOjAgOHB4IWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstbXMtZmxleC13cmFwOndyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtwYWRkaW5nLWxlZnQ6MTZweCFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoxNnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjY2cHghaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDttYXJnaW4tYm90dG9tOjEycHghaW1wb3J0YW50fUBtZWRpYSAobWF4LXdpZHRoOjQxMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWluLXdpZHRoOjYwcHghaW1wb3J0YW50O3dpZHRoOjI1JSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjQxMHB4KSBhbmQgKG1heC13aWR0aDo1MDBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjIwJSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjUwMHB4KSBhbmQgKG1heC13aWR0aDo3MjBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjE2LjY2JSFpbXBvcnRhbnR9fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGUgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0ey1tcy1mbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudDtmbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlPio+LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAgMTZweCFpbXBvcnRhbnQ7bWluLXdpZHRoOmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTplbXB0eXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7cGFkZGluZzo1NnB4IDAgMCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MTBweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEwcHghaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo4cHggOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXNpemU6MzJweCAzMnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtc2l6ZTozOHB4IDM4cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NXB4IDVweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmJlZm9yZXtjb250ZW50OlxcXCIgXFxcIiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo0cHghaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMC4xNSkhaW1wb3J0YW50O3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo0OHB4IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZSwuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjphY3RpdmU6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6Izc4Nzg3OCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uW3R5cGU9ZW1haWxde2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTIwIDRINGMtMS4xIDAtMS45OS45LTEuOTkgMkwyIDE4YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJWNmMwLTEuMS0uOS0yLTItMnptMCA0bC04IDUtOC01VjZsOCA1IDgtNXYyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvblt0eXBlPXN5c3RlbV17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLWxpbmt7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00zLjkgMTJjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFoNFY3SDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDVoNHYtMS45SDdjLTEuNzEgMC0zLjEtMS4zOS0zLjEtMy4xek04IDEzaDh2LTJIOHYyem05LTZoLTR2MS45aDRjMS43MSAwIDMuMSAxLjM5IDMuMSAzLjFzLTEuMzkgMy4xLTMuMSAzLjFoLTRWMTdoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZ3twb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAxIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMDAlLDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OjAuMTVzIWltcG9ydGFudDt0cmFuc2l0aW9uLWRlbGF5OjAuMTVzIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLXZpc2libGV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTowcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTowcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZzpiZWZvcmV7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOiMwMDAhaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaW5mby1kaWFsb2cuaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLXZpc2libGU6YmVmb3Jle29wYWNpdHk6MC40IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O2JhY2tncm91bmQ6I2ZmZiFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSksLXdlYmtpdC10cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7cGFkZGluZzoyMHB4IWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZy12aXNpYmxlIC5pLWFtcGh0bWwtc3RvcnktaW5mby1kaWFsb2ctY29udGFpbmVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWhlYWRpbmd7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjcwMCFpbXBvcnRhbnQ7bWFyZ2luOjAgMCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaW5mby1saW5re2NvbG9yOiMwMDAhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtvcGFjaXR5OjAuNjQhaW1wb3J0YW50O2ZvbnQtc2l6ZToxMnB4IWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZve2NvbG9yOiM0Mjg1ZjQhaW1wb3J0YW50O2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLU1lZGl1bSxzYW5zLXNlcmlmIWltcG9ydGFudDtmb250LXNpemU6MTJweCFpbXBvcnRhbnQ7bGV0dGVyLXNwYWNpbmc6MC41cHghaW1wb3J0YW50O21hcmdpbjoxNnB4IDAgMDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvLmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvLXZpc2libGV7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9XFxuLyojIHNvdXJjZVVSTD0vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FtcC1zdG9yeS1pbmZvLWRpYWxvZy5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjExLjkgMTk3LjRoLTM2Ljd2NTkuOWgzNi43djE3NS44aDcwLjVWMjU2LjVoNDkuMmw1LjItNTkuMWgtNTQuNHYtMzMuN2MwLTEzLjkgMi44LTE5LjUgMTYuMy0xOS41aDM4LjJWODIuOWgtNDguOGMtNTIuNSAwLTc2LjEgMjMuMS03Ni4xIDY3LjMtLjEgMzguNi0uMSA0Ny4yLS4xIDQ3LjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTI2Ni42IDc2LjVjLTEwMC4yIDAtMTUwLjcgNzEuOC0xNTAuNyAxMzEuNyAwIDM2LjMgMTMuNyA2OC41IDQzLjIgODAuNiA0LjggMiA5LjIuMSAxMC42LTUuMyAxLTMuNyAzLjMtMTMgNC4zLTE2LjkgMS40LTUuMy45LTcuMS0zLTExLjgtOC41LTEwLTEzLjktMjMtMTMuOS00MS4zIDAtNTMuMyAzOS45LTEwMSAxMDMuOC0xMDEgNTYuNiAwIDg3LjcgMzQuNiA4Ny43IDgwLjggMCA2MC44LTI2LjkgMTEyLjEtNjYuOCAxMTIuMS0yMi4xIDAtMzguNi0xOC4yLTMzLjMtNDAuNiA2LjMtMjYuNyAxOC42LTU1LjUgMTguNi03NC44IDAtMTcuMy05LjMtMzEuNy0yOC40LTMxLjctMjIuNSAwLTQwLjcgMjMuMy00MC43IDU0LjYgMCAxOS45IDYuNyAzMy40IDYuNyAzMy40cy0yMy4xIDk3LjgtMjcuMSAxMTQuOWMtOC4xIDM0LjEtMS4yIDc1LjktLjYgODAuMS4zIDIuNSAzLjYgMy4xIDUgMS4yIDIuMS0yLjcgMjguOS0zNS45IDM4LjEtNjkgMi42LTkuNCAxNC44LTU4IDE0LjgtNTggNy4zIDE0IDI4LjcgMjYuMyA1MS41IDI2LjMgNjcuOCAwIDExMy44LTYxLjggMTEzLjgtMTQ0LjUtLjEtNjIuNi01My4xLTEyMC44LTEzMy42LTEyMC44eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWxpbmtlZGlue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTE4Ni40IDE0Mi40YzAgMTktMTUuMyAzNC41LTM0LjIgMzQuNS0xOC45IDAtMzQuMi0xNS40LTM0LjItMzQuNSAwLTE5IDE1LjMtMzQuNSAzNC4yLTM0LjUgMTguOSAwIDM0LjIgMTUuNSAzNC4yIDM0LjV6bS01IDU4LjloLTU3Ljh2MTg2LjhoNTcuOFYyMDEuM3ptOTIuNCAwaC01NS40djE4Ni44aDU1LjR2LTk4YzAtMjYuMyAxMi4xLTQxLjkgMzUuMi00MS45IDIxLjMgMCAzMS41IDE1IDMxLjUgNDEuOXY5OEgzOThWMjY5LjhjMC01MC0yOC4zLTc0LjItNjgtNzQuMi0zOS42IDAtNTYuMyAzMC45LTU2LjMgMzAuOXYtMjUuMmguMXonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1ncGx1c3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xNzkuNyAyMzcuNnY0Ni42aDc3Yy0zLjEgMjAtMjMuMyA1OC43LTc3IDU4LjctNDYuMyAwLTg0LjEtMzguNS04NC4xLTg1LjkgMC00Ny40IDM3LjgtODUuOSA4NC4xLTg1LjkgMjYuNCAwIDQ0IDExLjMgNTQuMSAyMWwzNi44LTM1LjVDMjQ3IDEzNC40IDIxNi40IDEyMSAxNzkuNyAxMjEgMTA0LjcgMTIxIDQ0IDE4MS44IDQ0IDI1N3M2MC43IDEzNiAxMzUuNyAxMzZDMjU4IDM5MyAzMTAgMzM3LjggMzEwIDI2MC4xYzAtOC45LTEtMTUuNy0yLjEtMjIuNUgxNzkuN3ptMjg4LjMtLjloLTM4LjdWMTk4aC0zOC42djM4LjdIMzUydjM4LjZoMzguN1YzMTRoMzguNnYtMzguN0g0NjgnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1lbWFpbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xMDEuMyAxNDEuNnYyMjguOWgzMDkuNVYxNDEuNkgxMDEuM3ptMjc0LjQgMjYuMkwyNTYgMjU5LjNsLTExOS42LTkxLjVoMjM5LjN6bS0yNDguMSAyNi4zbDY0LjEgNDkuMS02NC4xIDY0LjFWMTk0LjF6bS4yIDE1MC4xbDg0LjktODQuOSA0My4yIDMzLjEgNDMtMzIuOSA4NC43IDg0LjdIMTI3Ljh6bTI1Ni42LTM2LjRMMzIwIDI0My40bDY0LjQtNDkuM3YxMTMuN3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDAwJyBoZWlnaHQ9JzQwMCclM0UlM0NnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J00wIDBoNDAwdjQwMEgweicvJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGZpbGwtcnVsZT0nbm9uemVybycgZD0nTTE1My42MiAzMDEuNTljOTQuMzQgMCAxNDUuOTQtNzguMTYgMTQ1Ljk0LTE0NS45NCAwLTIuMjIgMC00LjQzLS4xNS02LjYzQTEwNC4zNiAxMDQuMzYgMCAwIDAgMzI1IDEyMi40N2ExMDIuMzggMTAyLjM4IDAgMCAxLTI5LjQ2IDguMDcgNTEuNDcgNTEuNDcgMCAwIDAgMjIuNTUtMjguMzcgMTAyLjc5IDEwMi43OSAwIDAgMS0zMi41NyAxMi40NWMtMTUuOS0xNi45MDYtNDEuMTYzLTIxLjA0NC02MS42MjUtMTAuMDkzLTIwLjQ2MSAxMC45NS0zMS4wMzIgMzQuMjY2LTI1Ljc4NSA1Ni44NzNBMTQ1LjYyIDE0NS42MiAwIDAgMSA5Mi40IDEwNy44MWMtMTMuNjE0IDIzLjQzNi02LjY2IDUzLjQxOSAxNS44OCA2OC40N0E1MC45MSA1MC45MSAwIDAgMSA4NSAxNjkuODZ2LjY1Yy4wMDcgMjQuNDE2IDE3LjIxOCA0NS40NDUgNDEuMTUgNTAuMjhhNTEuMjEgNTEuMjEgMCAwIDEtMjMuMTYuODhjNi43MiAyMC44OTQgMjUuOTc2IDM1LjIwOCA0Ny45MiAzNS42MmExMDIuOTIgMTAyLjkyIDAgMCAxLTYzLjcgMjIgMTA0LjQxIDEwNC40MSAwIDAgMS0xMi4yMS0uNzQgMTQ1LjIxIDE0NS4yMSAwIDAgMCA3OC42MiAyMycvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHVtYmxye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMC44IDgwLjNjLTIuMyAxOC4zLTYuNCAzMy40LTEyLjQgNDUuMi02IDExLjktMTMuOSAyMi0yMy45IDMwLjUtOS45IDguNS0yMS44IDE0LjktMzUuNyAxOS41djUwLjZoMzguOXYxMjQuNWMwIDE2LjIgMS43IDI4LjYgNS4xIDM3LjEgMy40IDguNSA5LjUgMTYuNiAxOC4zIDI0LjIgOC44IDcuNiAxOS40IDEzLjQgMzEuOSAxNy41czI2LjggNi4xIDQzIDYuMWMxNC4zIDAgMjcuNi0xLjQgMzkuOS00LjMgMTIuMy0yLjkgMjYtNy45IDQxLjItMTV2LTU1LjljLTE3LjggMTEuNy0zNS43IDE3LjUtNTMuNyAxNy41LTEwLjEgMC0xOS4xLTIuNC0yNy03LjEtNS45LTMuNS0xMC04LjItMTIuMi0xNC0yLjItNS44LTMuMy0xOS4xLTMuMy0zOS43di05MS4xaDg0LjZ2LTU1LjhoLTg0LjR2LTkwaC01MC4zeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDYnIGhlaWdodD0nNDYnJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGQ9J00zNS40IDEwLjRDMzIgNi45IDI3LjMgNSAyMi41IDUgMTIuMyA1IDQuMSAxMy4zIDQuMiAyMy40YzAgMy4yLjkgNi4zIDIuNCA5LjFMNCA0Mmw5LjctMi41YzIuNyAxLjUgNS43IDIuMiA4LjcgMi4yIDEwLjEgMCAxOC4zLTguMyAxOC4zLTE4LjQgMC00LjktMS45LTkuNS01LjMtMTIuOXpNMjIuNSAzOC42Yy0yLjcgMC01LjQtLjctNy43LTIuMWwtLjYtLjMtNS44IDEuNUw5LjkgMzJsLS40LS42Yy00LjQtNy4xLTIuMy0xNi41IDQuOS0yMC45IDcuMi00LjQgMTYuNS0yLjMgMjAuOSA0LjkgNC40IDcuMiAyLjMgMTYuNS00LjkgMjAuOS0yLjMgMS41LTUuMSAyLjMtNy45IDIuM3ptOC44LTExLjFsLTEuMS0uNXMtMS42LS43LTIuNi0xLjJjLS4xIDAtLjItLjEtLjMtLjEtLjMgMC0uNS4xLS43LjIgMCAwLS4xLjEtMS41IDEuNy0uMS4yLS4zLjMtLjUuM2gtLjFjLS4xIDAtLjMtLjEtLjQtLjJsLS41LS4yYy0xLjEtLjUtMi4xLTEuMS0yLjktMS45LS4yLS4yLS41LS40LS43LS42LS43LS43LTEuNC0xLjUtMS45LTIuNGwtLjEtLjJjLS4xLS4xLS4xLS4yLS4yLS40IDAtLjIgMC0uNC4xLS41IDAgMCAuNC0uNS43LS44LjItLjIuMy0uNS41LS43LjItLjMuMy0uNy4yLTEtLjEtLjUtMS4zLTMuMi0xLjYtMy44LS4yLS4zLS40LS40LS43LS41aC0xLjFjLS4yIDAtLjQuMS0uNi4xbC0uMS4xYy0uMi4xLS40LjMtLjYuNC0uMi4yLS4zLjQtLjUuNi0uNy45LTEuMSAyLTEuMSAzLjEgMCAuOC4yIDEuNi41IDIuM2wuMS4zYy45IDEuOSAyLjEgMy42IDMuNyA1LjFsLjQuNGMuMy4zLjYuNS44LjggMi4xIDEuOCA0LjUgMy4xIDcuMiAzLjguMy4xLjcuMSAxIC4yaDFjLjUgMCAxLjEtLjIgMS41LS40LjMtLjIuNS0uMi43LS40bC4yLS4yYy4yLS4yLjQtLjMuNi0uNS4yLS4yLjQtLjQuNS0uNi4yLS40LjMtLjkuNC0xLjR2LS43cy0uMS0uMS0uMy0uMnonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMS45OSclM0UlM0NwYXRoIGQ9J000NDMuMiAyMzMuMjljMC04NC4xNC04NC4zNS0xNTIuNi0xODgtMTUyLjZzLTE4OCA2OC40Ni0xODggMTUyLjZjMCA3NS40MyA2Ni45IDEzOC42MSAxNTcuMjYgMTUwLjU1IDYuMTMgMS4zMiAxNC40NiA0IDE2LjU3IDkuMjcgMS44OSA0Ljc2IDEuMjQgMTIuMi42MSAxNyAwIDAtMi4yMSAxMy4yNi0yLjY5IDE2LjA5LS44MiA0Ljc1LTMuNzggMTguNiAxNi4yOSAxMC4xNHMxMDguMjEtNjMuNzYgMTQ3LjY2LTEwOS4xNmMyNy4yNS0yOS44OSA0MC4zLTYwLjE4IDQwLjMtOTMuODl6bS0yNTQuMzggNDQuOTJhMy42NyAzLjY3IDAgMCAxLTMuNjYgMy42N2gtNTIuNjlhMy42IDMuNiAwIDAgMS0yLjUzLTFsLS4wNi0uMDV2LS4wNWEzLjY1IDMuNjUgMCAwIDEtMS0yLjUzdi04MS45NmEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjE5YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ2NjUuMDdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptMzEuOCAwYTMuNjUgMy42NSAwIDAgMS0zLjY2IDMuNjVoLTEzLjJhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTJhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NkgyMTdhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptOTAuNzggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4xOWEzLjY3IDMuNjcgMCAwIDEtLjk0LS4xMmgtLjA1bC0uMjUtLjA4aC0uMTFsLS4xOC0uMDgtLjE3LS4wOC0uMTEtLjA2LS4yMi0uMTRhMy40NSAzLjQ1IDAgMCAxLS45My0uOUwyNTQgMjI5LjU2djQ4LjY2YTMuNjYgMy42NiAwIDAgMS0zLjY3IDMuNjVIMjM3LjFhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTNhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy44NmwuMjEuMDVoLjEzbC4yMS4wN2guMTJhMS4zMSAxLjMxIDAgMCAxIC4yMS4wOGwuMTIuMDYuMTkuMTFhLjQxLjQxIDAgMCAxIC4xMS4wN2wuMTkuMTMuMS4wNy4xOS4xNi4wNy4wN2EyLjI4IDIuMjggMCAwIDEgLjIyLjIyIDMuNTggMy41OCAwIDAgMSAuMjguMzdMMjkwLjg5IDI0NXYtNDguNzFhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em03Mi44My02OC43NGEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC0zNS44NFYyMjdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjUgMy42N3YxMy4xOWEzLjY1IDMuNjUgMCAwIDEtMy42NSAzLjY2aC0zNS44NHYxMy44NWgzNS44NGEzLjY1IDMuNjUgMCAwIDEgMy42NSAzLjY2djEzLjE5YTMuNjYgMy42NiAwIDAgMS0zLjY1IDMuNjdoLTUyLjdhMy42NiAzLjY2IDAgMCAxLTIuNTMtMWwtLjA1LS4wNWEuMTIuMTIgMCAwIDEtLjA1LS4wNSAzLjY1IDMuNjUgMCAwIDEtMS0yLjUzVjE5Ni4zYTMuNiAzLjYgMCAwIDEgMS0yLjUybC4wNi0uMDdhMy42MyAzLjYzIDAgMCAxIDIuNTQtMWg1Mi43YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd6JyBmaWxsPSclMjNmZmYnIGRhdGEtbmFtZT0n44Os44Kk44Ok44O8IDEnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMzAnIGhlaWdodD0nMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIHN0cm9rZT0nJTIzRkZGJyBzdHJva2Utd2lkdGg9JzMnIGQ9J004LjczIDI2di01LjY1OEgyVjJoMjUuOTdMMjggMjAuMzU1bC0xMi4wNjIuMDQyeicgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc3lzdGVte2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgZmlsbD0nJTIzZmZmJyBoZWlnaHQ9JzI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTE4IDE2LjA4Yy0uNzYgMC0xLjQ0LjMtMS45Ni43N0w4LjkxIDEyLjdjLjA1LS4yMy4wOS0uNDYuMDktLjdzLS4wNC0uNDctLjA5LS43bDcuMDUtNC4xMWMuNTQuNSAxLjI1LjgxIDIuMDQuODEgMS42NiAwIDMtMS4zNCAzLTNzLTEuMzQtMy0zLTMtMyAxLjM0LTMgM2MwIC4yNC4wNC40Ny4wOS43TDguMDQgOS44MUM3LjUgOS4zMSA2Ljc5IDkgNiA5Yy0xLjY2IDAtMyAxLjM0LTMgM3MxLjM0IDMgMyAzYy43OSAwIDEuNS0uMzEgMi4wNC0uODFsNy4xMiA0LjE2Yy0uMDUuMjEtLjA4LjQzLS4wOC42NSAwIDEuNjEgMS4zMSAyLjkyIDIuOTIgMi45MiAxLjYxIDAgMi45Mi0xLjMxIDIuOTItMi45MnMtMS4zMS0yLjkyLTIuOTItMi45MnonLyUzRSUzQy9zdmclM0VcXFwiKX1hbXAtc29jaWFsLXNoYXJle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtY29sb3I6IzFkYTFmMn0uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiMzYjU5OTh9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtY29sb3I6I2JkMDgxY30uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWNvbG9yOiMwMDc3YjV9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1jb2xvcjojZGM0ZTQxfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWNvbG9yOiMzYzVhNzd9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtY29sb3I6IzI1ZDM2Nn0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtY29sb3I6IzUyYjQ0OH0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1jb2xvcjojY2EyYjYzfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXJnaW46MTZweCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGV7cGFkZGluZzoxNnB4IDAhaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtvdmVyZmxvdzphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldDo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6MHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudDtwYWRkaW5nOjAgOHB4IWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstbXMtZmxleC13cmFwOndyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtwYWRkaW5nLWxlZnQ6MTZweCFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoxNnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjY2cHghaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDttYXJnaW4tYm90dG9tOjEycHghaW1wb3J0YW50fUBtZWRpYSAobWF4LXdpZHRoOjQxMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWluLXdpZHRoOjYwcHghaW1wb3J0YW50O3dpZHRoOjI1JSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjQxMHB4KSBhbmQgKG1heC13aWR0aDo1MDBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjIwJSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjUwMHB4KSBhbmQgKG1heC13aWR0aDo3MjBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjE2LjY2JSFpbXBvcnRhbnR9fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGUgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0ey1tcy1mbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudDtmbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlPio+LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAgMTZweCFpbXBvcnRhbnQ7bWluLXdpZHRoOmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTplbXB0eXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7cGFkZGluZzo1NnB4IDAgMCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MTBweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEwcHghaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo4cHggOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXNpemU6MzJweCAzMnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtc2l6ZTozOHB4IDM4cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NXB4IDVweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmJlZm9yZXtjb250ZW50OlxcXCIgXFxcIiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo0cHghaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMC4xNSkhaW1wb3J0YW50O3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo0OHB4IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZSwuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjphY3RpdmU6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6Izc4Nzg3OCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uW3R5cGU9ZW1haWxde2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTIwIDRINGMtMS4xIDAtMS45OS45LTEuOTkgMkwyIDE4YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJWNmMwLTEuMS0uOS0yLTItMnptMCA0bC04IDUtOC01VjZsOCA1IDgtNXYyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvblt0eXBlPXN5c3RlbV17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLWxpbmt7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00zLjkgMTJjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFoNFY3SDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDVoNHYtMS45SDdjLTEuNzEgMC0zLjEtMS4zOS0zLjEtMy4xek04IDEzaDh2LTJIOHYyem05LTZoLTR2MS45aDRjMS43MSAwIDMuMSAxLjM5IDMuMSAzLjFzLTEuMzkgMy4xLTMuMSAzLjFoLTRWMTdoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51e3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7ei1pbmRleDoxMDAwMDEhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwdmgsMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMHZoLDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MC4xNXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MC4xNXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudS12aXNpYmxley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MHMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MHMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOiMwMDAhaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudS12aXNpYmxlOmJlZm9yZXtvcGFjaXR5OjAuNCFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51LWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjkpIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSksLXdlYmtpdC10cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51LXZpc2libGUgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51LWNvbnRhaW5lcnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSksLXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50fVxcbi8qIyBzb3VyY2VVUkw9L2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3Rvcnktc2hhcmUtbWVudS5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXJ7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AscmdiYSgwLDAsMCwwLjM1KSx0cmFuc3BhcmVudCkhaW1wb3J0YW50O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDE4MGRlZyxyZ2JhKDAsMCwwLDAuMzUpLHRyYW5zcGFyZW50KSFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O2hlaWdodDo1NnB4IWltcG9ydGFudDt6LWluZGV4OjEwMDAwMCFpbXBvcnRhbnQ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjNzIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFjdGl2ZS5pLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVye29wYWNpdHk6MC4zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllci1idXR0b25ze21hcmdpbi10b3A6OHB4O2Zsb2F0OnJpZ2h0IWltcG9ydGFudDtwb2ludGVyLWV2ZW50czphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDtoZWlnaHQ6NDhweCFpbXBvcnRhbnQ7d2lkdGg6NDhweCFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDtib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDtiYWNrZ3JvdW5kOjUwJSBuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYnV0dG9uOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC4yKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXIgLmktYW1waHRtbC1zdG9yeS1idXR0b257ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1wcm9ncmVzcy1iYXJ7Ym9yZGVyOjAhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7aGVpZ2h0OjJweCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDttYXJnaW46NHB4IDAgMCFpbXBvcnRhbnQ7cGFkZGluZzowIDJweCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDt2aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtYmFye2JhY2tncm91bmQ6aHNsYSgwLDAlLDEwMCUsMC40KSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czoxcHghaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtsaXN0LXN0eWxlLXR5cGU6bm9uZSFpbXBvcnRhbnQ7bWFyZ2luOjAgMnB4IWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50Oy13ZWJraXQtbWFzay1pbWFnZTp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FJQUFBQ1FkMVBlQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBNUpSRUZVZU5waVlHQmdBQWd3QUFBRUFBR2JBK29KQUFBQUFFbEZUa1N1UW1DQykhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktcGFnZS1wcm9ncmVzcy12YWx1ZXtiYWNrZ3JvdW5kOiNmZmYhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApIHNjYWxlWCgwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkgc2NhbGVYKDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCFpbXBvcnRhbnQ7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IWltcG9ydGFudDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm0sdHJhbnNpdGlvbiFpbXBvcnRhbnR9W2Rpcj1ydGxdIC5pLWFtcGh0bWwtc3RvcnktcHJvZ3Jlc3MtdmFsdWV7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IWltcG9ydGFudDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW11dGUtYXVkaW8tY29udHJvbCwuaS1hbXBodG1sLXN0b3J5LXVubXV0ZS1hdWRpby1jb250cm9se2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmF1ZGlvLXBsYXlpbmc6bm90KFttdXRlZF0pIC5pLWFtcGh0bWwtc3RvcnktbXV0ZS1hdWRpby1jb250cm9sLC5hdWRpby1wbGF5aW5nW211dGVkXSAuaS1hbXBodG1sLXN0b3J5LXVubXV0ZS1hdWRpby1jb250cm9se2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktdWktbm8tYnV0dG9ucyAuaS1hbXBodG1sLXN0b3J5LWJ1dHRvbiwuaS1hbXBodG1sLXN0b3J5LXVpLW5vLWJ1dHRvbnMgLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXItYnV0dG9uc3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktdW5tdXRlLWF1ZGlvLWNvbnRyb2x7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzRkZGJyUzRSUzQ3BhdGggZD0nTTE2LjUgMTJBNC41IDQuNSAwIDAgMCAxNCA3Ljk3djIuMjFsMi40NSAyLjQ1Yy4wMy0uMi4wNS0uNDEuMDUtLjYzem0yLjUgMGMwIC45NC0uMiAxLjgyLS41NCAyLjY0bDEuNTEgMS41MUE4Ljc5NiA4Ljc5NiAwIDAgMCAyMSAxMmMwLTQuMjgtMi45OS03Ljg2LTctOC43N3YyLjA2YzIuODkuODYgNSAzLjU0IDUgNi43MXpNNC4yNyAzTDMgNC4yNyA3LjczIDlIM3Y2aDRsNSA1di02LjczbDQuMjUgNC4yNWMtLjY3LjUyLTEuNDIuOTMtMi4yNSAxLjE4djIuMDZhOC45OSA4Ljk5IDAgMCAwIDMuNjktMS44MUwxOS43MyAyMSAyMSAxOS43M2wtOS05TDQuMjcgM3pNMTIgNEw5LjkxIDYuMDkgMTIgOC4xOFY0eicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktbXV0ZS1hdWRpby1jb250cm9se2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM0ZGRiclM0UlM0NwYXRoIGQ9J00zIDl2Nmg0bDUgNVY0TDcgOUgzem0xMy41IDNBNC41IDQuNSAwIDAgMCAxNCA3Ljk3djguMDVjMS40OC0uNzMgMi41LTIuMjUgMi41LTQuMDJ6TTE0IDMuMjN2Mi4wNmMyLjg5Ljg2IDUgMy41NCA1IDYuNzFzLTIuMTEgNS44NS01IDYuNzF2Mi4wNmM0LjAxLS45MSA3LTQuNDkgNy04Ljc3cy0yLjk5LTcuODYtNy04Ljc3eicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtY29udHJvbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNGRkYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xOCAxNi4wOGMtLjc2IDAtMS40NC4zLTEuOTYuNzdMOC45MSAxMi43Yy4wNS0uMjMuMDktLjQ2LjA5LS43cy0uMDQtLjQ3LS4wOS0uN2w3LjA1LTQuMTFjLjU0LjUgMS4yNS44MSAyLjA0LjgxIDEuNjYgMCAzLTEuMzQgMy0zcy0xLjM0LTMtMy0zLTMgMS4zNC0zIDNjMCAuMjQuMDQuNDcuMDkuN0w4LjA0IDkuODFDNy41IDkuMzEgNi43OSA5IDYgOWMtMS42NiAwLTMgMS4zNC0zIDNzMS4zNCAzIDMgM2MuNzkgMCAxLjUtLjMxIDIuMDQtLjgxbDcuMTIgNC4xNmMtLjA1LjIxLS4wOC40My0uMDguNjUgMCAxLjYxIDEuMzEgMi45MiAyLjkyIDIuOTIgMS42MSAwIDIuOTItMS4zMSAyLjkyLTIuOTJzLTEuMzEtMi45Mi0yLjkyLTIuOTJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fVtpb3NdIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtY29udHJvbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNGRkYnJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQ3BhdGggZD0nTTE2IDVsLTEuNDIgMS40Mi0xLjU5LTEuNTlWMTZoLTEuOThWNC44M0w5LjQyIDYuNDIgOCA1bDQtNCA0IDR6bTQgNXYxMWMwIDEuMS0uOSAyLTIgMkg2YTIgMiAwIDAgMS0yLTJWMTBjMC0xLjExLjg5LTIgMi0yaDN2Mkg2djExaDEyVjEwaC0zVjhoM2EyIDIgMCAwIDEgMiAyeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6Y2FsYyg1MCUgLSAycHgpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWluZm8tY29udHJvbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgNDggNDgnIGZpbGw9JyUyM0ZGRiclM0UlM0NwYXRoIGQ9J00wIDBoNDh2NDhIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTIyIDM0aDRWMjJoLTR2MTJ6bTItMzBDMTIuOTUgNCA0IDEyLjk1IDQgMjRzOC45NSAyMCAyMCAyMCAyMC04Ljk1IDIwLTIwUzM1LjA1IDQgMjQgNHptMCAzNmMtOC44MiAwLTE2LTcuMTgtMTYtMTZTMTUuMTggOCAyNCA4czE2IDcuMTggMTYgMTYtNy4xOCAxNi0xNiAxNnptLTItMjJoNHYtNGgtNHY0eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtZW1iZWRkZWQuZmlyc3QtcGFnZS1hY3RpdmUgLmktYW1waHRtbC1zdG9yeS1pbmZvLWNvbnRyb2x7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1uby1zaGFyaW5nIC5pLWFtcGh0bWwtc3RvcnktaW5mby1jb250cm9sLC5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWNvbnRyb2x7ZGlzcGxheTpub25lIWltcG9ydGFudH1bZGVza3RvcF0uaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllcntiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCxyZ2JhKDMzLDMzLDMzLDApLHJnYmEoMzMsMzMsMzMsMC4zMikpIWltcG9ydGFudDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcscmdiYSgzMywzMywzMywwKSAwJSxyZ2JhKDMzLDMzLDMzLDAuMzIpKSFpbXBvcnRhbnQ7dG9wOmF1dG8haW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtoZWlnaHQ6OTZweCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDpob3Jpem9udGFsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246cmV2ZXJzZSFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdy1yZXZlcnNlIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZSFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktcHJvZ3Jlc3MtYmFye3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDttYXJnaW46MHB4IDI0cHghaW1wb3J0YW50O2hlaWdodDozcHghaW1wb3J0YW50O3dpZHRoOjMzLjMzMzMzdnchaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtYmFye2JvcmRlci1yYWRpdXM6MTAwcHghaW1wb3J0YW50fVtkZXNrdG9wXS5pLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVyIC5pLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVyLWJ1dHRvbnN7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXJnaW4tdG9wOjBweCFpbXBvcnRhbnQ7aGVpZ2h0OjQwcHghaW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6ZW5kIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmVuZCFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1jb250cm9se2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9XFxuLyojIHNvdXJjZVVSTD0vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FtcC1zdG9yeS1zeXN0ZW0tbGF5ZXIuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBDU1MgPSBcIi5pLWFtcGh0bWwtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1vdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt6LWluZGV4OjIwMDAwMSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDtsaW5lLWhlaWdodDoxLjU7cGFkZGluZzozMnB4O2JhY2tncm91bmQtY29sb3I6IzAwMCFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudH0uaS1hbXBodG1sLWdlYXItaWNvbntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudDtwYWRkaW5nOjE2cHghaW1wb3J0YW50O2hlaWdodDoyNHB4IWltcG9ydGFudDt3aWR0aDoyNHB4IWltcG9ydGFudDttYXJnaW46MTZweCBhdXRvIWltcG9ydGFudDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjAgMjAnJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDIwdjIwSDBWMHonLyUzRSUzQ3BhdGggZD0nTTE1Ljk1IDEwLjc4Yy4wMy0uMjUuMDUtLjUxLjA1LS43OHMtLjAyLS41My0uMDYtLjc4bDEuNjktMS4zMmMuMTUtLjEyLjE5LS4zNC4xLS41MWwtMS42LTIuNzdjLS4xLS4xOC0uMzEtLjI0LS40OS0uMThsLTEuOTkuOGMtLjQyLS4zMi0uODYtLjU4LTEuMzUtLjc4TDEyIDIuMzRhLjQuNCAwIDAgMC0uNC0uMzRIOC40Yy0uMiAwLS4zNi4xNC0uMzkuMzRsLS4zIDIuMTJjLS40OS4yLS45NC40Ny0xLjM1Ljc4bC0xLjk5LS44Yy0uMTgtLjA3LS4zOSAwLS40OS4xOGwtMS42IDIuNzdjLS4xLjE4LS4wNi4zOS4xLjUxbDEuNjkgMS4zMmMtLjA0LjI1LS4wNy41Mi0uMDcuNzhzLjAyLjUzLjA2Ljc4TDIuMzcgMTIuMWMtLjE1LjEyLS4xOS4zNC0uMS41MWwxLjYgMi43N2MuMS4xOC4zMS4yNC40OS4xOGwxLjk5LS44Yy40Mi4zMi44Ni41OCAxLjM1Ljc4bC4zIDIuMTJjLjA0LjIuMi4zNC40LjM0aDMuMmMuMiAwIC4zNy0uMTQuMzktLjM0bC4zLTIuMTJjLjQ5LS4yLjk0LS40NyAxLjM1LS43OGwxLjk5LjhjLjE4LjA3LjM5IDAgLjQ5LS4xOGwxLjYtMi43N2MuMS0uMTguMDYtLjM5LS4xLS41MWwtMS42Ny0xLjMyek0xMCAxM2MtMS42NSAwLTMtMS4zNS0zLTNzMS4zNS0zIDMtMyAzIDEuMzUgMyAzLTEuMzUgMy0zIDN6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fVxcbi8qIyBzb3VyY2VVUkw9L2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9hbXAtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1sYXllci5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmktYW1waHRtbC1zdG9yeS1uby1yb3RhdGlvbi1vdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt6LWluZGV4OjIwMDAwMCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDtsaW5lLWhlaWdodDoxLjU7cGFkZGluZzozMnB4O2JhY2tncm91bmQtY29sb3I6IzAwMCFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1sYW5kc2NhcGUuaS1hbXBodG1sLXN0b3J5LW5vLXJvdGF0aW9uLW92ZXJsYXl7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudH0uaS1hbXBodG1sLWRlc2t0b3Atc2l6ZS1pY29uLC5pLWFtcGh0bWwtcm90YXRlLWljb257YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7cGFkZGluZzoxNnB4IWltcG9ydGFudDtoZWlnaHQ6MjRweCFpbXBvcnRhbnQ7d2lkdGg6MjRweCFpbXBvcnRhbnQ7bWFyZ2luOjE2cHggYXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1yb3RhdGUtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTYuNDggMi41MmMzLjI3IDEuNTUgNS42MSA0LjcyIDUuOTcgOC40OGgxLjVDMjMuNDQgNC44NCAxOC4yOSAwIDEyIDBsLS42Ni4wMyAzLjgxIDMuODEgMS4zMy0xLjMyem0tNi4yNS0uNzdhMS40OSAxLjQ5IDAgMCAwLTIuMTIgMEwxLjc1IDguMTFhMS40OSAxLjQ5IDAgMCAwIDAgMi4xMmwxMi4wMiAxMi4wMmMuNTkuNTkgMS41NC41OSAyLjEyIDBsNi4zNi02LjM2Yy41OS0uNTkuNTktMS41NCAwLTIuMTJMMTAuMjMgMS43NXptNC42IDE5LjQ0TDIuODEgOS4xN2w2LjM2LTYuMzYgMTIuMDIgMTIuMDItNi4zNiA2LjM2em0tNy4zMS4yOUExMC40ODcgMTAuNDg3IDAgMCAxIDEuNTUgMTNILjA1Qy41NiAxOS4xNiA1LjcxIDI0IDEyIDI0bC42Ni0uMDMtMy44MS0zLjgxLTEuMzMgMS4zMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1kZXNrdG9wLXNpemUtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIuMDEgNS41TDEwIDhoNGwtMS45OS0yLjV6TTE4IDEwdjRsMi41LTEuOTlMMTggMTB6TTYgMTBsLTIuNSAyLjAxTDYgMTR2LTR6bTggNmgtNGwyLjAxIDIuNUwxNCAxNnptNy0xM0gzYy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE4YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTYuMDFIM1Y0Ljk5aDE4djE0LjAyeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH1cXG4vKiMgc291cmNlVVJMPS9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXZpZXdwb3J0LXdhcm5pbmctbGF5ZXIuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBjc3NUZXh0ID0gXCJpLWFtcGh0bWwtdmlkZW8tbWFza3t6LWluZGV4OjF9LmFtcC12aWRlby1lcXtkaXNwbGF5Om5vbmV9LmktYW1waHRtbC12aWRlby1jb21wb25lbnQ6bm90KGFtcC12aWRlbykgLmFtcC12aWRlby1lcSxhbXAtc3RvcnkgLmFtcC12aWRlby1lcSxhbXAtdmlkZW9bY29udHJvbHNdIC5hbXAtdmlkZW8tZXF7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH1bbm9hdWRpb10gLmFtcC12aWRlby1lcXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5hbXAtdmlkZW8tZXF7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtYWxpZ246ZW5kOy1tcy1mbGV4LWFsaWduOmVuZDthbGlnbi1pdGVtczpmbGV4LWVuZDtib3R0b206N3B4O2hlaWdodDoxMnB4O29wYWNpdHk6MC44O292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo3cHg7d2lkdGg6MjBweDt6LWluZGV4OjF9LmFtcC12aWRlby1lcSAuYW1wLXZpZGVvLWVxLWNvbHstd2Via2l0LWJveC1mbGV4OjE7LW1zLWZsZXg6MTtmbGV4OjE7aGVpZ2h0OjEwMCU7bWFyZ2luLXJpZ2h0OjFweDtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXZpZGVvLWVxIC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmFtcC12aWRlby1lcS1hbmltYXRpb247YW5pbWF0aW9uLW5hbWU6YW1wLXZpZGVvLWVxLWFuaW1hdGlvbjstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyOy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbjphbHRlcm5hdGU7YW5pbWF0aW9uLWRpcmVjdGlvbjphbHRlcm5hdGU7YmFja2dyb3VuZC1jb2xvcjojZmFmYWZhO2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtOy13ZWJraXQtYW5pbWF0aW9uLXBsYXktc3RhdGU6cGF1c2VkO2FuaW1hdGlvbi1wbGF5LXN0YXRlOnBhdXNlZH0uYW1wLXZpZGVvLWVxW3VucGF1c2FibGVdIC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLW5hbWU6bm9uZX0uYW1wLXZpZGVvLWVxW3VucGF1c2FibGVdLmFtcC12aWRlby1lcS1wbGF5IC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmFtcC12aWRlby1lcS1hbmltYXRpb247YW5pbWF0aW9uLW5hbWU6YW1wLXZpZGVvLWVxLWFuaW1hdGlvbn0uYW1wLXZpZGVvLWVxLmFtcC12aWRlby1lcS1wbGF5IC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlOnJ1bm5pbmc7YW5pbWF0aW9uLXBsYXktc3RhdGU6cnVubmluZ30uYW1wLXZpZGVvLWVxLTEtMXstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjNzO2FuaW1hdGlvbi1kdXJhdGlvbjowLjNzfS5hbXAtdmlkZW8tZXEtMS0xLC5hbXAtdmlkZW8tZXEtMS0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoNjAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSg2MCUpfS5hbXAtdmlkZW8tZXEtMS0yey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjAuNDVzO2FuaW1hdGlvbi1kdXJhdGlvbjowLjQ1c30uYW1wLXZpZGVvLWVxLTItMXstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjVzO2FuaW1hdGlvbi1kdXJhdGlvbjowLjVzfS5hbXAtdmlkZW8tZXEtMi0xLC5hbXAtdmlkZW8tZXEtMi0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMzAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgzMCUpfS5hbXAtdmlkZW8tZXEtMi0yey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjAuNHM7YW5pbWF0aW9uLWR1cmF0aW9uOjAuNHN9LmFtcC12aWRlby1lcS0zLTF7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MC4zczthbmltYXRpb24tZHVyYXRpb246MC4zc30uYW1wLXZpZGVvLWVxLTMtMSwuYW1wLXZpZGVvLWVxLTMtMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDcwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNzAlKX0uYW1wLXZpZGVvLWVxLTMtMnstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjM1czthbmltYXRpb24tZHVyYXRpb246MC4zNXN9LmFtcC12aWRlby1lcS00LTF7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MC40czthbmltYXRpb24tZHVyYXRpb246MC40c30uYW1wLXZpZGVvLWVxLTQtMSwuYW1wLXZpZGVvLWVxLTQtMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNTAlKX0uYW1wLXZpZGVvLWVxLTQtMnstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjI1czthbmltYXRpb24tZHVyYXRpb246MC4yNXN9QC13ZWJraXQta2V5ZnJhbWVzIGFtcC12aWRlby1lcS1hbmltYXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1Aa2V5ZnJhbWVzIGFtcC12aWRlby1lcS1hbmltYXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1cXG4vKiMgc291cmNlVVJMPS9jc3MvdmlkZW8tYXV0b3BsYXkuY3NzKi9cIiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBXQVJOSU5HXG4vLyBXQVJOSU5HXG4vLyBXQVJOSU5HXG4vLyBXQVJOSU5HXG4vLyBGaWxlIG11c3QgYmUgc3luY2VkIHdpdGggYW1wLmV4dGVucy5qc1xuXG5cbi8qKlxuICogQHR5cGVkZWYge1xuICogICAhV2ViTXVsdGlBbmltYXRpb25EZWZ8XG4gKiAgICFXZWJTd2l0Y2hBbmltYXRpb25EZWZ8XG4gKiAgICFXZWJDb21wQW5pbWF0aW9uRGVmfFxuICogICAhV2ViS2V5ZnJhbWVBbmltYXRpb25EZWZcbiAqIH1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25EZWY7XG5cblxuLyoqXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uU2VsZWN0b3JEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uQ29uZGl0aW9uYWxEZWZcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGFuaW1hdGlvbnM6ICFBcnJheTwhV2ViQW5pbWF0aW9uRGVmPixcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgV2ViTXVsdGlBbmltYXRpb25EZWY7XG5cblxuLyoqXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uU2VsZWN0b3JEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uQ29uZGl0aW9uYWxEZWZcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHN3aXRjaDogIUFycmF5PCFXZWJBbmltYXRpb25EZWY+LFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJTd2l0Y2hBbmltYXRpb25EZWY7XG5cblxuLyoqXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uU2VsZWN0b3JEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uQ29uZGl0aW9uYWxEZWZcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGFuaW1hdGlvbjogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJDb21wQW5pbWF0aW9uRGVmO1xuXG5cbi8qKlxuICogQG1peGVzIFdlYkFuaW1hdGlvblNlbGVjdG9yRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uVGltaW5nRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uVmFyc0RlZlxuICogQG1peGVzIFdlYkFuaW1hdGlvbkNvbmRpdGlvbmFsRGVmXG4gKiBAdHlwZWRlZiB7e1xuICogICBrZXlmcmFtZXM6IChzdHJpbmd8IVdlYktleWZyYW1lc0RlZiksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFdlYktleWZyYW1lQW5pbWF0aW9uRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYgeyFPYmplY3Q8c3RyaW5nLCAqPnwhQXJyYXk8IU9iamVjdDxzdHJpbmcsICo+Pn1cbiAqL1xuZXhwb3J0IGxldCBXZWJLZXlmcmFtZXNEZWY7XG5cblxuLyoqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0FuaW1hdGlvbkVmZmVjdFRpbWluZ1Byb3BlcnRpZXNcbiAqXG4gKiBAbWl4aW5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGR1cmF0aW9uOiAodGltZXx1bmRlZmluZWQpLFxuICogICBkZWxheTogKHRpbWV8dW5kZWZpbmVkKSxcbiAqICAgZW5kRGVsYXk6ICh0aW1lfHVuZGVmaW5lZCksXG4gKiAgIGl0ZXJhdGlvbnM6IChudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGl0ZXJhdGlvblN0YXJ0OiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIGVhc2luZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBkaXJlY3Rpb246ICghV2ViQW5pbWF0aW9uVGltaW5nRGlyZWN0aW9ufHVuZGVmaW5lZCksXG4gKiAgIGZpbGw6ICghV2ViQW5pbWF0aW9uVGltaW5nRmlsbHx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25UaW1pbmdEZWY7XG5cblxuLyoqXG4gKiBJbmRpY2F0ZXMgYW4gZXh0ZW5zaW9uIHRvIGEgdHlwZSB0aGF0IGFsbG93cyBzcGVjaWZ5aW5nIHZhcnMuIFZhcnMgYXJlXG4gKiBzcGVjaWZpZWQgYXMgcHJvcGVydGllcyB3aXRoIHRoZSBuYW1lIGluIHRoZSBmb3JtYXQgb2YgYC0tdmFyTmFtZWAuXG4gKlxuICogQG1peGluXG4gKiBAdHlwZWRlZiB7T2JqZWN0fVxuICovXG5leHBvcnQgbGV0IFdlYkFuaW1hdGlvblZhcnNEZWY7XG5cblxuLyoqXG4gKiBEZWZpbmVzIG1lZGlhIHBhcmFtZXRlcnMgZm9yIGFuIGFuaW1hdGlvbi5cbiAqXG4gKiBAbWl4aW5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIG1lZGlhOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHN1cHBvcnRzOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFdlYkFuaW1hdGlvbkNvbmRpdGlvbmFsRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgdGFyZ2V0OiAoIUVsZW1lbnR8dW5kZWZpbmVkKSxcbiAqICAgc2VsZWN0b3I6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgc3VidGFyZ2V0czogKCFBcnJheTwhV2ViQW5pbWF0aW9uU3VidGFyZ2V0RGVmPnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25TZWxlY3RvckRlZjtcblxuXG4vKipcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAdHlwZWRlZiB7e1xuICogICBtYXRjaGVyOiAoZnVuY3Rpb24oIUVsZW1lbnQsIG51bWJlcik6Ym9vbGVhbnx1bmRlZmluZWQpLFxuICogICBpbmRleDogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICBzZWxlY3RvcjogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25TdWJ0YXJnZXREZWY7XG5cblxuLyoqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0FuaW1hdGlvbi9wbGF5U3RhdGVcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXZWJBbmltYXRpb25QbGF5U3RhdGUgPSB7XG4gIElETEU6ICdpZGxlJyxcbiAgUEVORElORzogJ3BlbmRpbmcnLFxuICBSVU5OSU5HOiAncnVubmluZycsXG4gIFBBVVNFRDogJ3BhdXNlZCcsXG4gIEZJTklTSEVEOiAnZmluaXNoZWQnLFxufTtcblxuXG4vKipcbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQW5pbWF0aW9uRWZmZWN0VGltaW5nUHJvcGVydGllcy9kaXJlY3Rpb25cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXZWJBbmltYXRpb25UaW1pbmdEaXJlY3Rpb24gPSB7XG4gIE5PUk1BTDogJ25vcm1hbCcsXG4gIFJFVkVSU0U6ICdyZXZlcnNlJyxcbiAgQUxURVJOQVRFOiAnYWx0ZXJuYXRlJyxcbiAgQUxURVJOQVRFX1JFVkVSU0U6ICdhbHRlcm5hdGUtcmV2ZXJzZScsXG59O1xuXG5cbi8qKlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BbmltYXRpb25FZmZlY3RUaW1pbmdQcm9wZXJ0aWVzL2ZpbGxcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXZWJBbmltYXRpb25UaW1pbmdGaWxsID0ge1xuICBOT05FOiAnbm9uZScsXG4gIEZPUldBUkRTOiAnZm9yd2FyZHMnLFxuICBCQUNLV0FSRFM6ICdiYWNrd2FyZHMnLFxuICBCT1RIOiAnYm90aCcsXG4gIEFVVE86ICdhdXRvJyxcbn07XG5cblxuLyoqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSAqL1xuY29uc3QgV0hJVEVMSVNURURfUlBPUFMgPSB7XG4gICdvcGFjaXR5JzogdHJ1ZSxcbiAgJ3RyYW5zZm9ybSc6IHRydWUsXG4gICd0cmFuc2Zvcm0tb3JpZ2luJzogdHJ1ZSxcbiAgJ3Zpc2liaWxpdHknOiB0cnVlLFxuICAnb2Zmc2V0LWRpc3RhbmNlJzogdHJ1ZSxcbiAgJ29mZnNldERpc3RhbmNlJzogdHJ1ZSxcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV2hpdGVsaXN0ZWRQcm9wKHByb3ApIHtcbiAgcmV0dXJuIFdISVRFTElTVEVEX1JQT1BTW3Byb3BdIHx8IGZhbHNlO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBFbmdsaXNoIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfVElUTEVdOiB7XG4gICAgc3RyaW5nOiAnUHJpdmFjeSBzZXR0aW5ncycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQk9PS0VORF9QUklWQUNZX1NFVFRJTkdTX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdDaGFuZ2UgZGF0YSBwcml2YWN5IHNldHRpbmdzJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWNjZXB0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlY2xpbmUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0VYUEVSSU1FTlRfRU5BQkxFX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdFbmFibGUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0VYUEVSSU1FTlRfRU5BQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ0V4cGVyaW1lbnQgZW5hYmxlZC4gIFBsZWFzZSByZWxvYWQuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnU2hhcmUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRXhwYW5kIHlvdXIgd2luZG93IHRvIHZpZXcgdGhpcyBleHBlcmllbmNlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdZb3UgbXVzdCBlbmFibGUgdGhlIGFtcC1zdG9yeSBleHBlcmltZW50IHRvIHZpZXcgdGhpcyBjb250ZW50LicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdUaGUgcGFnZSBpcyBiZXN0IHZpZXdlZCBpbiBwb3J0cmFpdCBtb2RlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdXZVxcJ3JlIHNvcnJ5LCBpdCBsb29rcyBsaWtlIHlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCAnICtcbiAgICAgICAgJ3RoaXMgZXhwZXJpZW5jZScsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBFbmdsaXNoIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfVElUTEVdOiB7XG4gICAgc3RyaW5nOiAnUHJpdmFjeSBzZXR0aW5ncycsXG4gICAgZGVzY3JpcHRpb246ICdUaXRsZSBmb3IgYSBzZWN0aW9uIHRoYXQgYWxsb3dzIHRoZSB1c2VyIHRvIGNvbmZpZ3VyZSAnICtcbiAgICAgICAgJ3RoZWlyIHByaXZhY3kgc2V0dGluZ3MnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0JPT0tFTkRfUFJJVkFDWV9TRVRUSU5HU19CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ2hhbmdlIGRhdGEgcHJpdmFjeSBzZXR0aW5ncycsXG4gICAgZGVzY3JpcHRpb246ICdMYWJlbCBmb3IgYSBidXR0b24gdGhhdCBhbGxvd3MgdGhlIHVzZXIgdG8gY2hhbmdlIHRoZWlyICcgK1xuICAgICAgICAnY2hvaWNlIHRvIGNvbnNlbnQgdG8gcHJvdmlkaW5nIHRoZWlyIGNvb2tpZSBhY2Nlc3MuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWNjZXB0JyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciBhIGJ1dHRvbiB0aGF0IGFsbG93cyB0aGUgdXNlciB0byBjb25zZW50IHRvICcgK1xuICAgICAgICAncHJvdmlkaW5nIHRoZWlyIGNvb2tpZSBhY2Nlc3MuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlY2xpbmUnLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgZm9yIGEgYnV0dG9uIHRoYXQgYWxsb3dzIHRoZSB1c2VyIHRvIGRpc2NvbnNlbnQgdG8gJyArXG4gICAgICAgICdwcm92aWRpbmcgdGhlaXIgY29va2llIGFjY2Vzcy4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdWaWV3IG9uIG9yaWdpbmFsIGRvbWFpbjonLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgZm9yIGEgaGVhZGluZyBvZiBhIGRpYWxvZyB0aGF0IHNob3dzIHRoZSB1c2VyIHRoZSAnICtcbiAgICAgICAgJ2RvbWFpbiBmcm9tIHdoaWNoIHRoZSBzdG9yeSBpcyBzZXJ2ZWQuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNb3JlIGFib3V0IEFNUCByZXN1bHRzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciBhIGxpbmsgdG8gZG9jdW1lbnRhdGlvbiBvbiBob3cgQU1QIGxpbmtzIGFyZSAnICtcbiAgICAgICAgJ2hhbmRsZWQuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9FWFBFUklNRU5UX0VOQUJMRV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnRW5hYmxlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciBhIGJ1dHRvbiB0aGF0IGVuYWJsZXMgdGhlIGFtcC1zdG9yeSBleHBlcmltZW50LicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRVhQRVJJTUVOVF9FTkFCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRXhwZXJpbWVudCBlbmFibGVkLiAgUGxlYXNlIHJlbG9hZC4nLFxuICAgIGRlc2NyaXB0aW9uOiAnVGV4dCB0aGF0IGlzIHNob3duIG9uY2UgdGhlIGFtcC1zdG9yeSBleHBlcmltZW50IGhhcyAnICtcbiAgICAgICAgJ2JlZW4gc3VjY2Vzc2Z1bGx5IGVuYWJsZWQuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVGFwIE5leHQnLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgaW5kaWNhdGluZyB0aGF0IHVzZXJzIGNhbiBuYXZpZ2F0ZSB0byB0aGUgbmV4dCAnICtcbiAgICAgICAgJ3BhZ2UsIGluIHRoZSBhbXAtc3RvcnkgaGludCBVSS4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVGFwIEJhY2snLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgaW5kaWNhdGluZyB0aGF0IHVzZXJzIGNhbiBuYXZpZ2F0ZSB0byB0aGUgcHJldmlvdXMgJyArXG4gICAgICAgICdwYWdlLCBpbiB0aGUgYW1wLXN0b3J5IGhpbnQgVUkuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnQ291bGQgbm90IGNvcHkgbGluayB0byBjbGlwYm9hcmQgOignLFxuICAgIGRlc2NyaXB0aW9uOiAnU3RyaW5nIHNob3duIGluIGEgZmFpbHVyZSBtZXNzYWdlIHRvIGluZm9ybSB0aGUgdXNlciB0aGF0ICcgK1xuICAgICAgICAnYSBsaW5rIGNvdWxkIG5vdCBiZSBzdWNjZXNzZnVsbHkgY29waWVkIHRvIHRoZWlyIGNsaXBib2FyZC4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaW5rIGNvcGllZCEnLFxuICAgIGRlc2NyaXB0aW9uOiAnU3RyaW5nIHNob3duIGluIGEgY29uZmlybWF0aW9uIG1lc3NhZ2UgdG8gaW5mb3JtIHRoZSB1c2VyICcgK1xuICAgICAgICAndGhhdCBhIGxpbmsgd2FzIHN1Y2Nlc3NmdWxseSBjb3BpZWQgdG8gdGhlaXIgY2xpcGJvYXJkLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMXToge1xuICAgIHN0cmluZzogJ0VtYWlsJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnZW1haWwuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAnRmFjZWJvb2snLFxuICAgIGRlc2NyaXB0aW9uOiAnQnV0dG9uIGxhYmVsIGZvciB0aGUgc2hhcmUgdGFyZ2V0IHRoYXQgc2hhcmVzIGEgbGluayB2aWEgJyArXG4gICAgICAgICdGYWNlYm9vay4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVU106IHtcbiAgICBzdHJpbmc6ICdHb29nbGUrJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnR29vZ2xlKy4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ0dldCBMaW5rJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnYnkgY29weWluZyBpdCB0byB0aGUgdXNlclxcJ3MgY2xpcGJvYXJkLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnTGlua2VkSW4uJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gICAgZGVzY3JpcHRpb246ICdCdXR0b24gbGFiZWwgZm9yIHRoZSBzaGFyZSB0YXJnZXQgdGhhdCBzaGFyZXMgYSBsaW5rIHZpYSAnICtcbiAgICAgICAgJ1BpbnRlcmVzdC4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAnU01TJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnU01TLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICdNb3JlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnZGVmZXJyYWwgdG8gdGhlIG9wZXJhdGluZyBzeXN0ZW1cXCdzIG5hdGl2ZSBzaGFyaW5nIGhhbmRsZXIuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gICAgZGVzY3JpcHRpb246ICdCdXR0b24gbGFiZWwgZm9yIHRoZSBzaGFyZSB0YXJnZXQgdGhhdCBzaGFyZXMgYSBsaW5rIHZpYSAnICtcbiAgICAgICAgJ1R1bWJsci4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICAgIGRlc2NyaXB0aW9uOiAnQnV0dG9uIGxhYmVsIGZvciB0aGUgc2hhcmUgdGFyZ2V0IHRoYXQgc2hhcmVzIGEgbGluayB2aWEgJyArXG4gICAgICAgICdUd2l0dGVyLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnV2hhdHNhcHAuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1NoYXJlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciB0aGUgZXhwYW5kYWJsZSBzaGFyZSB3aWRnZXQgc2hvd24gaW4gdGhlICcgK1xuICAgICAgICAnZGVza3RvcCBVSS4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRXhwYW5kIHlvdXIgd2luZG93IHRvIHZpZXcgdGhpcyBleHBlcmllbmNlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RleHQgZm9yIGEgd2FybmluZyBzY3JlZW4gdGhhdCBpbmZvcm1zIHRoZSB1c2VyIHRoYXQgJyArXG4gICAgICAgICdzdG9yaWVzIGFyZSBvbmx5IHN1cHBvcnRlZCBpbiBsYXJnZXIgYnJvd3NlciB3aW5kb3dzLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnWW91IG11c3QgZW5hYmxlIHRoZSBhbXAtc3RvcnkgZXhwZXJpbWVudCB0byB2aWV3IHRoaXMgY29udGVudC4nLFxuICAgIGRlc2NyaXB0aW9uOiAnVGV4dCBmb3IgYSB3YXJuaW5nIHNjcmVlbiB0aGF0IGluZm9ybXMgdGhlIHVzZXIgdGhhdCAnICtcbiAgICAgICAgJ3RoZXkgbXVzdCBlbmFibGUgYW4gZXhwZXJpbWVudCB0byB1c2Ugc3Rvcmllcy4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVGhlIHBhZ2UgaXMgYmVzdCB2aWV3ZWQgaW4gcG9ydHJhaXQgbW9kZScsXG4gICAgZGVzY3JpcHRpb246ICdUZXh0IGZvciBhIHdhcm5pbmcgc2NyZWVuIHRoYXQgaW5mb3JtcyB0aGUgdXNlciB0aGF0ICcgK1xuICAgICAgICAnc3RvcmllcyBhcmUgb25seSBzdXBwb3J0ZWQgaW4gcG9ydHJhaXQgb3JpZW50YXRpb24uJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdXZVxcJ3JlIHNvcnJ5LCBpdCBsb29rcyBsaWtlIHlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCAnICtcbiAgICAgICAgJ3RoaXMgZXhwZXJpZW5jZScsXG4gICAgZGVzY3JpcHRpb246ICdUZXh0IGZvciBhIHdhcm5pbmcgc2NyZWVuIHRoYXQgaW5mb3JtcyB0aGUgdXNlciB0aGF0ICcgK1xuICAgICAgICAndGhlaXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHN0b3JpZXMuJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEJhc2UgbGF5ZXIgZnJvbSB3aGljaCBvdGhlciBsYXllcnMgaW4gYSBzdG9yeSBwYWdlIGV4dGVuZCBmcm9tLlxuICovXG5cbmltcG9ydCB7TGF5b3V0fSBmcm9tICcuLi8uLi8uLi9zcmMvbGF5b3V0JztcblxuLyoqXG4gKiBCYXNlIGxheWVyIHRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlCYXNlTGF5ZXIgZXh0ZW5kcyBBTVAuQmFzZUVsZW1lbnQge1xuICAvKiogQHBhcmFtIHshQW1wRWxlbWVudH0gZWxlbWVudCAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGlzTGF5b3V0U3VwcG9ydGVkKGxheW91dCkge1xuICAgIHJldHVybiBsYXlvdXQgPT0gTGF5b3V0LkNPTlRBSU5FUjtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LWxheWVyJyk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtBY3Rpb24sIFN0YXRlUHJvcGVydHl9IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtBY3Rpb25UcnVzdH0gZnJvbSAnLi4vLi4vLi4vc3JjL2FjdGlvbi1jb25zdGFudHMnO1xuaW1wb3J0IHtDU1N9IGZyb20gJy4uLy4uLy4uL2J1aWxkL2FtcC1zdG9yeS1ib29rZW5kLTAuMS5jc3MnO1xuaW1wb3J0IHtERVBSRUNBVEVEX1NIQVJFX1BST1ZJREVSU19LRVksIFNIQVJFX1BST1ZJREVSU19LRVksIFNjcm9sbGFibGVTaGFyZVdpZGdldH0gZnJvbSAnLi9hbXAtc3Rvcnktc2hhcmUnO1xuaW1wb3J0IHtFdmVudFR5cGUsIGRpc3BhdGNofSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQge0tleUNvZGVzfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMva2V5LWNvZGVzJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4vbG9jYWxpemF0aW9uJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2Nsb3Nlc3R9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7ZGV2LCB1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7Z2V0QW1wZG9jfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZSc7XG5pbXBvcnQge2dldEpzb25MZH0gZnJvbSAnLi9qc29ubGQnO1xuaW1wb3J0IHtpc0FycmF5fSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHtpc1Byb3RvY29sVmFsaWR9IGZyb20gJy4uLy4uLy4uL3NyYy91cmwnO1xuaW1wb3J0IHtwYXJzZUFydGljbGVzVG9DbGFzc2ljQXBpLCByZWxhdGVkQXJ0aWNsZXNGcm9tSnNvbn0gZnJvbSAnLi9yZWxhdGVkLWFydGljbGVzJztcbmltcG9ydCB7cGFyc2VVcmxEZXByZWNhdGVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXJsJztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50LCByZW5kZXJTaW1wbGVUZW1wbGF0ZX0gZnJvbSAnLi9zaW1wbGUtdGVtcGxhdGUnO1xuaW1wb3J0IHt0aHJvdHRsZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL3JhdGUtbGltaXQnO1xuXG4vKipcbiAqIEtleSBmb3Igb21wb25lbnRzIGluIGJvb2tlbmQgY29uZmlnLlxuICogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IEJPT0tFTkRfVkVSU0lPTl9LRVkgPSAnYm9va2VuZFZlcnNpb24nO1xuY29uc3QgQk9PS0VORF9WRVJTSU9OXzEgPSAndjEuMCc7XG5cbi8qKlxuICogRGVwcmVjYXRlZCBrZXkgZm9yIGNvbXBvbmVudHMgaW4gYm9va2VuZCBjb25maWcuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgREVQUkVDQVRFRF9CT09LRU5EX1ZFUlNJT05fS0VZID0gJ2Jvb2tlbmQtdmVyc2lvbic7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgc2hhcmVQcm92aWRlcnM6ICghSnNvbk9iamVjdHwhT2JqZWN0PHN0cmluZywgIUpzb25PYmplY3Q+KSxcbiAqICAgcmVsYXRlZEFydGljbGVzOiAhQXJyYXk8IS4vcmVsYXRlZC1hcnRpY2xlcy5SZWxhdGVkQXJ0aWNsZVNldERlZj5cbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgQm9va2VuZENvbmZpZ0RlZjtcblxuXG4vKipcbiAqIFNjcm9sbCBhbW91bnQgcmVxdWlyZWQgZm9yIGZ1bGwtYmxlZWQgaW4gcHguXG4gKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn1cbiAqL1xuY29uc3QgRlVMTEJMRUVEX1RIUkVTSE9MRCA9IDg4O1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEZVTExCTEVFRF9DTEFTU05BTUUgPSAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkJztcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBISURERU5fQ0xBU1NOQU1FID0gJ2ktYW1waHRtbC1oaWRkZW4nO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgUk9PVF9URU1QTEFURSA9IHtcbiAgdGFnOiAnc2VjdGlvbicsXG4gIGF0dHJzOiBkaWN0KHtcbiAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQgaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1yZXNldCAnICtcbiAgICAgICAgSElEREVOX0NMQVNTTkFNRX0pLFxuICBjaGlsZHJlbjogW1xuICAgIC8vIE92ZXJmbG93IGNvbnRhaW5lciB0aGF0IGdldHMgcHVzaGVkIHRvIHRoZSBib3R0b20gd2hlbiBjb250ZW50IGhlaWdodCBpc1xuICAgIC8vIHNtYWxsZXIgdGhhbiB2aWV3cG9ydC5cbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1vdmVyZmxvdyd9KSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8vIEhvbGRzIGJvb2tlbmQgY29udGVudC5cbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1pbm5lcid9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSxcbn07XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovXG5jb25zdCBSRVBMQVlfSUNPTl9URU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaWNvbid9KSxcbn07XG5cblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5jb25zdCBUQUcgPSAnYW1wLXN0b3J5JztcblxuXG4vKipcbiAqIEBwYXJhbSB7P3N0cmluZ30gY29uc2VudElkXG4gKiBAcmV0dXJuIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuY29uc3QgYnVpbGRQcm9tcHRDb25zZW50VGVtcGxhdGUgPSBjb25zZW50SWQgPT4ge1xuICByZXR1cm4gLyoqIEB0eXBlIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi8gKHtcbiAgICB0YWc6ICdkaXYnLFxuICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29uc2VudCd9KSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWc6ICdoMycsXG4gICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaGVhZGluZyd9KSxcbiAgICAgICAgbG9jYWxpemVkU3RyaW5nSWQ6XG4gICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQk9PS0VORF9QUklWQUNZX1NFVFRJTkdTX1RJVExFLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiAnaDInLFxuICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbnNlbnQtYnV0dG9uJyxcbiAgICAgICAgICAnb24nOiBgdGFwOiR7Y29uc2VudElkfS5wcm9tcHRgLFxuICAgICAgICAgICdyb2xlJzogJ2J1dHRvbicsXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2hhbmdlIGRhdGEgcHJpdmFjeSBzZXR0aW5ncycsXG4gICAgICAgIH0pLFxuICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfQlVUVE9OX0xBQkVMLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0geyEuL3JlbGF0ZWQtYXJ0aWNsZXMuUmVsYXRlZEFydGljbGVEZWZ9IGFydGljbGVEYXRhXG4gKiBAcmV0dXJuIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuZnVuY3Rpb24gYnVpbGRBcnRpY2xlVGVtcGxhdGUoYXJ0aWNsZURhdGEpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSAvKiogQHR5cGUgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqLyAoe1xuICAgIHRhZzogJ2EnLFxuICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlJyxcbiAgICAgICdocmVmJzogYXJ0aWNsZURhdGEudXJsLFxuICAgICAgJ3RhcmdldCc6ICdfdG9wJyxcbiAgICB9KSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWc6ICdoMicsXG4gICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1oZWFkaW5nJ30pLFxuICAgICAgICB1bmxvY2FsaXplZFN0cmluZzogYXJ0aWNsZURhdGEudGl0bGUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtbWV0YSd9KSxcbiAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IGFydGljbGVEYXRhLmRvbWFpbk5hbWUsXG4gICAgICB9LFxuICAgIF0sXG4gIH0pO1xuXG4gIGlmIChhcnRpY2xlRGF0YS5pbWFnZSkge1xuICAgIHRlbXBsYXRlLmNoaWxkcmVuLnVuc2hpZnQoLyoqIEB0eXBlIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi8gKHtcbiAgICAgIHRhZzogJ2FtcC1pbWcnLFxuICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1pbWFnZScsXG4gICAgICAgICdzcmMnOiBhcnRpY2xlRGF0YS5pbWFnZSxcbiAgICAgICAgJ3dpZHRoJzogMTAwLFxuICAgICAgICAnaGVpZ2h0JzogMTAwLFxuICAgICAgfSksXG4gICAgfSkpO1xuICB9XG5cbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshQXJyYXk8IS4vcmVsYXRlZC1hcnRpY2xlcy5SZWxhdGVkQXJ0aWNsZVNldERlZj59IGFydGljbGVTZXRzXG4gKiBAcmV0dXJuIHshQXJyYXk8IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWY+fVxuICovXG5mdW5jdGlvbiBidWlsZEFydGljbGVzQ29udGFpbmVyVGVtcGxhdGUoYXJ0aWNsZVNldHMpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBbXTtcblxuICBhcnRpY2xlU2V0cy5mb3JFYWNoKGFydGljbGVTZXQgPT4ge1xuICAgIGlmIChhcnRpY2xlU2V0LmhlYWRpbmcpIHtcbiAgICAgIHRlbXBsYXRlLnB1c2goe1xuICAgICAgICB0YWc6ICdoMycsXG4gICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaGVhZGluZyd9KSxcbiAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IGFydGljbGVTZXQuaGVhZGluZyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0ZW1wbGF0ZS5wdXNoKHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtc2V0J30pLFxuICAgICAgY2hpbGRyZW46IGFydGljbGVTZXQuYXJ0aWNsZXMubWFwKGFydGljbGUgPT5cbiAgICAgICAgYnVpbGRBcnRpY2xlVGVtcGxhdGUoYXJ0aWNsZSkpLFxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW5OYW1lXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9pbWFnZVVybFxuICogQHJldHVybiB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUmVwbGF5QnV0dG9uVGVtcGxhdGUoZG9jLCB0aXRsZSwgZG9tYWluTmFtZSwgb3B0X2ltYWdlVXJsKSB7XG4gIHJldHVybiAvKiogQHR5cGUgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqLyAoe1xuICAgIHRhZzogJ2RpdicsXG4gICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXknfSksXG4gICAgY2hpbGRyZW46IFtcbiAgICAgICFvcHRfaW1hZ2VVcmwgPyBSRVBMQVlfSUNPTl9URU1QTEFURSA6IHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaW1hZ2UnLFxuICAgICAgICAgICdzdHlsZSc6IGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtvcHRfaW1hZ2VVcmx9KSAhaW1wb3J0YW50YCxcbiAgICAgICAgfSksXG4gICAgICAgIGNoaWxkcmVuOiBbUkVQTEFZX0lDT05fVEVNUExBVEVdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiAnaDInLFxuICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaGVhZGluZyd9KSxcbiAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IHRpdGxlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLW1ldGEnfSksXG4gICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBkb21haW5OYW1lLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcbn1cblxuXG4vKipcbiAqIEJvb2tlbmQgY29tcG9uZW50IGZvciA8YW1wLXN0b3J5Pi5cbiAqIFRoaXMgY29tcG9uZW50IGhhcyB0byBiZSBidWlsdCBhbmQgcHJlbG9hZGVkIGJlZm9yZSBpdCBjYW4gYmUgZGlzcGxheWVkLFxuICogdGhyb3VnaCB0aGUgJ2J1aWxkJyBhbmQgJ2xvYWRDb25maWcnIG1ldGhvZC4gSXQgY2FuIHRoZW4gYmUgdG9nZ2xlZCBieVxuICogZGlzcGF0Y2hpbmcgdGhlIHN0b3JlIFRPR0dMRV9CT09LRU5EIGFjdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2tlbmQge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50RWwgRWxlbWVudCB3aGVyZSB0byBhcHBlbmQgdGhlIGJvb2tlbmRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgcGFyZW50RWwpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4vYW1wLXN0b3J5LWJvb2tlbmQuQm9va2VuZENvbmZpZ0RlZnx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5jb25maWdfO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNCdWlsdF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzQ29uZmlnUmVuZGVyZWRfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMucmVwbGF5QnV0dG9uXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBSb290IGVsZW1lbnQgY29udGFpbmluZyBhIHNoYWRvdyBET00gcm9vdC5cbiAgICAgKiBAcHJpdmF0ZSB7P0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5yb290XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBY3R1YWwgYm9va2VuZC5cbiAgICAgKiBAcHJpdmF0ZSB7P0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5ib29rZW5kRWxfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1yZXF1ZXN0LXNlcnZpY2UuQW1wU3RvcnlSZXF1ZXN0U2VydmljZX0gKi9cbiAgICB0aGlzLnJlcXVlc3RTZXJ2aWNlXyA9IFNlcnZpY2VzLnN0b3J5UmVxdWVzdFNlcnZpY2VWMDEodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IVNjcm9sbGFibGVTaGFyZVdpZGdldH0gKi9cbiAgICB0aGlzLnNoYXJlV2lkZ2V0XyA9IFNjcm9sbGFibGVTaGFyZVdpZGdldC5jcmVhdGUodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IFNlcnZpY2VzLnN0b3J5U3RvcmVTZXJ2aWNlVjAxKHRoaXMud2luXyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnBhcmVudEVsXyA9IHBhcmVudEVsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLndpbl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgYm9va2VuZCBjb21wb25lbnRzIGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBwcm92aWRlZCBzdG9yeS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLmlzQnVpbHRfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc0J1aWx0XyA9IHRydWU7XG5cbiAgICB0aGlzLnJvb3RfID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuYm9va2VuZEVsXyA9IHJlbmRlckFzRWxlbWVudCh0aGlzLndpbl8uZG9jdW1lbnQsIFJPT1RfVEVNUExBVEUpO1xuXG4gICAgY3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZSh0aGlzLnJvb3RfLCB0aGlzLmJvb2tlbmRFbF8sIENTUyk7XG5cbiAgICB0aGlzLnJlcGxheUJ1dHRvbl8gPSB0aGlzLmJ1aWxkUmVwbGF5QnV0dG9uXygpO1xuXG4gICAgY29uc3QgYW1wZG9jID0gZ2V0QW1wZG9jKHRoaXMucGFyZW50RWxfKTtcblxuICAgIGNvbnN0IGlubmVyQ29udGFpbmVyID0gdGhpcy5nZXRJbm5lckNvbnRhaW5lcl8oKTtcbiAgICBpbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlcGxheUJ1dHRvbl8pO1xuICAgIGlubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2hhcmVXaWRnZXRfLmJ1aWxkKGFtcGRvYykpO1xuXG4gICAgY29uc3QgY29uc2VudElkID0gdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkNPTlNFTlRfSUQpO1xuXG4gICAgaWYgKGNvbnNlbnRJZCkge1xuICAgICAgY29uc3QgcHJvbXB0Q29uc2VudEVsID1cbiAgICAgICAgICByZW5kZXJBc0VsZW1lbnQoXG4gICAgICAgICAgICAgIHRoaXMud2luXy5kb2N1bWVudCxcbiAgICAgICAgICAgICAgYnVpbGRQcm9tcHRDb25zZW50VGVtcGxhdGUoU3RyaW5nKGNvbnNlbnRJZCkpKTtcbiAgICAgIGlubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb21wdENvbnNlbnRFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzXygpO1xuXG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHRoaXMucGFyZW50RWxfLmFwcGVuZENoaWxkKHRoaXMuZ2V0Um9vdCgpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5nZXRTaGFkb3dSb290KClcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4gdGhpcy5vbkNsaWNrXyhldmVudCkpO1xuICAgIHRoaXMucmVwbGF5QnV0dG9uXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnY2xpY2snLCBldmVudCA9PiB0aGlzLm9uUmVwbGF5QnV0dG9uQ2xpY2tfKGV2ZW50KSk7XG5cbiAgICB0aGlzLmdldE92ZXJmbG93Q29udGFpbmVyXygpLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsXG4gICAgICAgIC8vIG1pbkludGVydmFsIGlzIGhpZ2ggc2luY2UgdGhpcyBpcyBhIHN0ZXAgZnVuY3Rpb24gdGhhdCBkb2VzIG5vdFxuICAgICAgICAvLyByZXF1aXJlIHNtb290aG5lc3NcbiAgICAgICAgdGhyb3R0bGUodGhpcy53aW5fLCAoKSA9PiB0aGlzLm9uU2Nyb2xsXygpLCAxMDApKTtcblxuICAgIHRoaXMud2luXy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2ZV8oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBLZXlDb2Rlcy5FU0NBUEUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFLCBpc0FjdGl2ZSA9PiB7XG4gICAgICB0aGlzLm9uQm9va2VuZFN0YXRlVXBkYXRlXyhpc0FjdGl2ZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU0hBUklOR19VSVMsIHNob3cgPT4ge1xuICAgICAgdGhpcy5vbkNhblNob3dTaGFyaW5nVWlzVXBkYXRlXyhzaG93KTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5ERVNLVE9QX1NUQVRFLCBpc0Rlc2t0b3AgPT4ge1xuICAgICAgdGhpcy5vbkRlc2t0b3BTdGF0ZVVwZGF0ZV8oaXNEZXNrdG9wKTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBib29rZW5kIGlzIGRpc3BsYXllZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzQWN0aXZlXygpIHtcbiAgICByZXR1cm4gISF0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblJlcGxheUJ1dHRvbkNsaWNrXyhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGRpc3BhdGNoKHRoaXMuZ2V0Um9vdCgpLCBFdmVudFR5cGUuUkVQTEFZLCAvKiBvcHRfYnViYmxlcyAqLyB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gYm9va2VuZCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkJvb2tlbmRTdGF0ZVVwZGF0ZV8oaXNBY3RpdmUpIHtcbiAgICB0aGlzLnRvZ2dsZV8oaXNBY3RpdmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB1cGRhdGVzIHRvIHdoZXRoZXIgc2hhcmluZyBVSXMgbWF5IGJlIHNob3duLCBhbmQgdXBkYXRlcyB0aGUgVUlcbiAgICogYWNjb3JkaW5nbHkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuU2hvd1NoYXJpbmdVaXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQ2FuU2hvd1NoYXJpbmdVaXNVcGRhdGVfKGNhblNob3dTaGFyaW5nVWlzKSB7XG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS1uby1zaGFyaW5nJywgIWNhblNob3dTaGFyaW5nVWlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gZGVza3RvcCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRGVza3RvcFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25EZXNrdG9wU3RhdGVVcGRhdGVfKGlzRGVza3RvcCkge1xuICAgIHRoaXMudG9nZ2xlRGVza3RvcEF0dHJpYnV0ZV8oaXNEZXNrdG9wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgYm9va2VuZCB2ZXJzaW9uIGZyb20gdGhlIGJvb2tlbmQgSlNPTiBjb25maWcuXG4gICAqIEBwYXJhbSB7IUpzb25PYmplY3R9IGNvbmZpZ1xuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVhZEJvb2tlbmRWZXJzaW9uXyhjb25maWcpIHtcbiAgICBpZiAoY29uZmlnW0RFUFJFQ0FURURfQk9PS0VORF9WRVJTSU9OX0tFWV0pIHtcbiAgICAgIHVzZXIoKS53YXJuKCdBTVAtU1RPUlktQk9PS0VORCcsICdgYm9va2VuZC12ZXJzaW9uYCBhbmQgJyArXG4gICAgICAnYHNoYXJlLXByb3ZpZGVyc2Aga2V5cyBpbiB0aGUgYm9va2VuZCBjb25maWcgYXJlIGRlcHJlY2F0ZWQsIHBsZWFzZSAnICtcbiAgICAgICdgYm9va2VuZFZlcnNpb25gIGFuZCBgc2hhcmVQcm92aWRlcnNgIGtleXMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnW0RFUFJFQ0FURURfQk9PS0VORF9WRVJTSU9OX0tFWV0gfHxcbiAgICAgIGNvbmZpZ1tCT09LRU5EX1ZFUlNJT05fS0VZXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgcHVibGlzaGVyIGJvb2tlbmQgY29uZmlndXJhdGlvbi4gQXBwbHlpbmcgdGhlIGNvbmZpZ3VyYXRpb25cbiAgICogd2lsbCBwcmVyZW5kZXIgdGhlIGJvb2tlbmQgRE9NLCBidXQgdGhlcmUgYXJlIGNhc2VzIHdoZXJlIHdlIG5lZWQgaXQgYmVmb3JlXG4gICAqIHRoZSBjb21wb25lbnQgaXMgYnVpbHQuIEVnOiB0aGUgZGVza3RvcCBzaGFyZSBidXR0b24gbmVlZHMgdGhlIHByb3ZpZGVycy5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gYXBwbHlDb25maWcgIFdoZXRoZXIgdGhlIGNvbmZpZyBzaG91bGQgYmUgc2V0LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/Li9hbXAtc3RvcnktYm9va2VuZC5Cb29rZW5kQ29uZmlnRGVmPn1cbiAgICovXG4gIGxvYWRDb25maWcoYXBwbHlDb25maWcgPSB0cnVlKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoYXBwbHlDb25maWcgJiYgdGhpcy5jb25maWdfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29uZmlnXyh0aGlzLmNvbmZpZ18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNvbmZpZ18pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3RTZXJ2aWNlXy5sb2FkQm9va2VuZENvbmZpZygpXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMucmVhZEJvb2tlbmRWZXJzaW9uXyhyZXNwb25zZSkgPT09IEJPT0tFTkRfVkVSU0lPTl8xKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ18gPSB7XG4gICAgICAgICAgICAgIHNoYXJlUHJvdmlkZXJzOlxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVXaWRnZXRfLnBhcnNlUHJvdmlkZXJzVG9DbGFzc2ljQXBpKFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVtTSEFSRV9QUk9WSURFUlNfS0VZXSB8fFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVtERVBSRUNBVEVEX1NIQVJFX1BST1ZJREVSU19LRVldKSxcbiAgICAgICAgICAgICAgcmVsYXRlZEFydGljbGVzOlxuICAgICAgICAgICAgICAgIHBhcnNlQXJ0aWNsZXNUb0NsYXNzaWNBcGkocmVzcG9uc2VbJ2NvbXBvbmVudHMnXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ18gPSB7XG4gICAgICAgICAgICAgIHNoYXJlUHJvdmlkZXJzOiByZXNwb25zZVsnc2hhcmUtcHJvdmlkZXJzJ10sXG4gICAgICAgICAgICAgIHJlbGF0ZWRBcnRpY2xlczpcbiAgICAgICAgICAgICAgICAgIHJlbGF0ZWRBcnRpY2xlc0Zyb21Kc29uKHJlc3BvbnNlWydyZWxhdGVkLWFydGljbGVzJ10pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBbGxvd3MgdGhlIGNvbmZpZyB0byBiZSBmZXRjaGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIGJ1aWx0LCBmb3JcbiAgICAgICAgICAvLyBjYXNlcyBsaWtlIGdldHRpbmcgdGhlIHNoYXJlIHByb3ZpZGVycyBvbiBkZXNrdG9wLlxuICAgICAgICAgIGlmIChhcHBseUNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb25maWdfKHRoaXMuY29uZmlnXyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnXztcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHVzZXIoKS5lcnJvcihUQUcsICdFcnJvciBmZXRjaGluZyBib29rZW5kIGNvbmZpZ3VyYXRpb24nLCBlLm1lc3NhZ2UpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBvbiB0aGUgYm9va2VuZDpcbiAgICogICAtIENsb3NlcyBib29rZW5kIGlmIHRhcHBpbmcgb3V0c2lkZSB1c2FibGUgYXJlYVxuICAgKiAgIC0gRm9yd2FyZHMgQU1QIGFjdGlvbnNcbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNsaWNrXyhldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRPdXRzaWRlVXNhYmxlQXJlYV8odGFyZ2V0KSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNsb3NlXygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdvbicpKSB7XG4gICAgICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2ModGhpcy5wYXJlbnRFbF8pO1xuICAgICAgY29uc3QgYWN0aW9uU2VydmljZSA9IFNlcnZpY2VzLmFjdGlvblNlcnZpY2VGb3JEb2MoYW1wZG9jKTtcbiAgICAgIGFjdGlvblNlcnZpY2UudHJpZ2dlcih0YXJnZXQsICd0YXAnLCBldmVudCwgQWN0aW9uVHJ1c3QuSElHSCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgYm9va2VuZC5cbiAgICovXG4gIGNsb3NlXygpIHtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9CT09LRU5ELCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGVsZW1lbnRPdXRzaWRlVXNhYmxlQXJlYV8oZWwpIHtcbiAgICByZXR1cm4gIWNsb3Nlc3QoZWwsIGVsID0+IGVsID09IHRoaXMuZ2V0SW5uZXJDb250YWluZXJfKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgYmV0d2VlbiBjYXJkIHZpZXcgYW5kIGZ1bGwtYmxlZWQgYmFzZWQgb24gc2Nyb2xsIHBvc2l0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25TY3JvbGxfKCkge1xuICAgIGlmICghdGhpcy5pc0FjdGl2ZV8oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnZzeW5jXy5ydW4oe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS5zaG91bGRCZUZ1bGxCbGVlZCA9XG4gICAgICAgICAgICB0aGlzLmdldE92ZXJmbG93Q29udGFpbmVyXygpLi8qT0sqL3Njcm9sbFRvcCA+PSBGVUxMQkxFRURfVEhSRVNIT0xEO1xuICAgICAgfSxcbiAgICAgIG11dGF0ZTogc3RhdGUgPT4ge1xuICAgICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKS5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICAgICAgICAgRlVMTEJMRUVEX0NMQVNTTkFNRSwgc3RhdGUuc2hvdWxkQmVGdWxsQmxlZWQpO1xuICAgICAgfSxcbiAgICB9LCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBzaG93XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0b2dnbGVfKHNob3cpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuY2xhc3NMaXN0LnRvZ2dsZShISURERU5fQ0xBU1NOQU1FLCAhc2hvdyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgYm9va2VuZCBkZXNrdG9wIFVJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRGVza3RvcFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdG9nZ2xlRGVza3RvcEF0dHJpYnV0ZV8oaXNEZXNrdG9wKSB7XG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIGlzRGVza3RvcCA/XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnNldEF0dHJpYnV0ZSgnZGVza3RvcCcsICcnKSA6XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnJlbW92ZUF0dHJpYnV0ZSgnZGVza3RvcCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0J1aWx0KCkge1xuICAgIHJldHVybiB0aGlzLmlzQnVpbHRfO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzc2VydEJ1aWx0XygpIHtcbiAgICBkZXYoKS5hc3NlcnQodGhpcy5pc0J1aWx0KCksICdCb29rZW5kIGNvbXBvbmVudCBuZWVkcyB0byBiZSBidWlsdC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFCb29rZW5kQ29uZmlnRGVmfSBib29rZW5kQ29uZmlnXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRDb25maWdfKGJvb2tlbmRDb25maWcpIHtcbiAgICBpZiAodGhpcy5pc0NvbmZpZ1JlbmRlcmVkXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYXNzZXJ0QnVpbHRfKCk7XG4gICAgdGhpcy5pc0NvbmZpZ1JlbmRlcmVkXyA9IHRydWU7XG5cbiAgICB0aGlzLnNldFJlbGF0ZWRBcnRpY2xlc18oYm9va2VuZENvbmZpZy5yZWxhdGVkQXJ0aWNsZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCEuL3JlbGF0ZWQtYXJ0aWNsZXMuUmVsYXRlZEFydGljbGVTZXREZWY+fSBhcnRpY2xlU2V0c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0UmVsYXRlZEFydGljbGVzXyhhcnRpY2xlU2V0cykge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLmdldElubmVyQ29udGFpbmVyXygpLmFwcGVuZENoaWxkKFxuICAgICAgICAgIHJlbmRlclNpbXBsZVRlbXBsYXRlKHRoaXMud2luXy5kb2N1bWVudCxcbiAgICAgICAgICAgICAgYnVpbGRBcnRpY2xlc0NvbnRhaW5lclRlbXBsYXRlKGFydGljbGVTZXRzKSkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEByZXR1cm4geyFFbGVtZW50fSAqL1xuICBnZXRSb290KCkge1xuICAgIHRoaXMuYXNzZXJ0QnVpbHRfKCk7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5yb290Xyk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IUVsZW1lbnR9ICovXG4gIGdldFNoYWRvd1Jvb3QoKSB7XG4gICAgdGhpcy5hc3NlcnRCdWlsdF8oKTtcbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLmJvb2tlbmRFbF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY29udGFpbmVyIGZvciBib29rZW5kIGNvbnRlbnQuXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0SW5uZXJDb250YWluZXJfKCkge1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuZ2V0T3ZlcmZsb3dDb250YWluZXJfKCkuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb3V0ZXIgY29udGFpbmVyIHRoYXQgZ2V0cyBzY3JvbGxlZC5cbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRPdmVyZmxvd0NvbnRhaW5lcl8oKSB7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5nZXRTaGFkb3dSb290KCkuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3tcbiAgICogICB0aXRsZTogc3RyaW5nLFxuICAgKiAgIGRvbWFpbk5hbWU6IHN0cmluZyxcbiAgICogICBpbWFnZVVybDogKHN0cmluZ3x1bmRlZmluZWQpLFxuICAgKiB9fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0U3RvcnlNZXRhZGF0YV8oKSB7XG4gICAgY29uc3QgYW1wZG9jID0gZ2V0QW1wZG9jKHRoaXMucGFyZW50RWxfKTtcbiAgICBjb25zdCBqc29uTGQgPSBnZXRKc29uTGQoYW1wZG9jLmdldFJvb3ROb2RlKCkpO1xuXG4gICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICB0aXRsZToganNvbkxkICYmIGpzb25MZFsnaGVhZGxpbmUnXSA/XG4gICAgICAgIGpzb25MZFsnaGVhZGxpbmUnXSA6XG4gICAgICAgIHVzZXIoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICAgICAgdGhpcy53aW5fLmRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKSxcbiAgICAgICAgICAgICdQbGVhc2Ugc2V0IDx0aXRsZT4gb3Igc3RydWN0dXJlZCBkYXRhIChKU09OLUxEKS4nKS50ZXh0Q29udGVudCxcblxuICAgICAgZG9tYWluTmFtZTogcGFyc2VVcmxEZXByZWNhdGVkKFxuICAgICAgICAgIFNlcnZpY2VzLmRvY3VtZW50SW5mb0ZvckRvYyhhbXBkb2MpLmNhbm9uaWNhbFVybCkuaG9zdG5hbWUsXG4gICAgfTtcblxuICAgIGlmIChqc29uTGQgJiYgaXNBcnJheShqc29uTGRbJ2ltYWdlJ10pICYmIGpzb25MZFsnaW1hZ2UnXS5sZW5ndGgpIHtcbiAgICAgIHVzZXIoKS5hc3NlcnQoaXNQcm90b2NvbFZhbGlkKGpzb25MZFsnaW1hZ2UnXSksXG4gICAgICAgICAgYFVuc3VwcG9ydGVkIHByb3RvY29sIGZvciBzdG9yeSBpbWFnZSBVUkwgJHtqc29uTGRbJ2ltYWdlJ119YCk7XG4gICAgICBtZXRhZGF0YS5pbWFnZVVybCA9IGpzb25MZFsnaW1hZ2UnXVswXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZFJlcGxheUJ1dHRvbl8oKSB7XG4gICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmdldFN0b3J5TWV0YWRhdGFfKCk7XG4gICAgcmV0dXJuIHJlbmRlckFzRWxlbWVudCh0aGlzLndpbl8uZG9jdW1lbnQsIGJ1aWxkUmVwbGF5QnV0dG9uVGVtcGxhdGUoXG4gICAgICAgIHRoaXMud2luXy5kb2N1bWVudCxcbiAgICAgICAgbWV0YWRhdGEudGl0bGUsXG4gICAgICAgIG1ldGFkYXRhLmRvbWFpbk5hbWUsXG4gICAgICAgIG1ldGFkYXRhLmltYWdlVXJsKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FjdGlvbn0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0FjdGlvblRydXN0fSBmcm9tICcuLi8uLi8uLi9zcmMvYWN0aW9uLWNvbnN0YW50cyc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LWNvbnNlbnQtMC4xLmNzcyc7XG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHthc3NlcnRBYnNvbHV0ZUh0dHBPckh0dHBzVXJsfSBmcm9tICcuLi8uLi8uLi9zcmMvdXJsJztcbmltcG9ydCB7XG4gIGNoaWxkRWxlbWVudEJ5VGFnLFxuICBjbG9zZXN0QnlUYWcsXG4gIGlzSnNvblNjcmlwdFRhZyxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2NvbXB1dGVkU3R5bGUsIHNldEltcG9ydGFudFN0eWxlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3N0eWxlJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge2dldFJHQkZyb21Dc3NDb2xvclZhbHVlLCBnZXRUZXh0Q29sb3JGb3JSR0J9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtpc0FycmF5fSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHtwYXJzZUpzb259IGZyb20gJy4uLy4uLy4uL3NyYy9qc29uJztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5pbXBvcnQge3Rocm90dGxlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5cblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVEFHID0gJ2FtcC1zdG9yeS1jb25zZW50JztcblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbmFsIGNvbmZpZyBwYXJhbWV0ZXJzLlxuICogQGNvbnN0IHshT2JqZWN0fVxuICovXG5jb25zdCBERUZBVUxUX09QVElPTkFMX1BBUkFNRVRFUlMgPSB7XG4gIGV4dGVybmFsTGluazoge30sXG4gIG9ubHlBY2NlcHQ6IGZhbHNlLFxufTtcblxuLy8gVE9ETyhnbWFqb3VsZXQpOiBzd2l0Y2ggdG8gYGh0bWxGb3JgIHN0YXRpYyB0ZW1wbGF0ZSBoZWxwZXIuXG4vKipcbiAqIFN0b3J5IGNvbnNlbnQgdGVtcGxhdGUuXG4gKiBAcGFyYW0geyFPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtzdHJpbmd9IGNvbnNlbnRJZFxuICogQHBhcmFtIHs/c3RyaW5nfSBsb2dvU3JjXG4gKiBAcmV0dXJuIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqIEBwcml2YXRlIEBjb25zdFxuICovXG5jb25zdCBnZXRUZW1wbGF0ZSA9IChjb25maWcsIGNvbnNlbnRJZCwgbG9nb1NyYykgPT4gKHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudCBpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0J30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LW92ZXJmbG93J30pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250YWluZXInfSksXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1oZWFkZXInfSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWxvZ28nLFxuICAgICAgICAgICAgICAgICAgICAnc3R5bGUnOiBsb2dvU3JjID9cbiAgICAgICAgICAgICAgICAgICAgICBgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2xvZ29TcmN9JykgIWltcG9ydGFudDtgIDogJycsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250ZW50J30pLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhZzogJ2gzJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHt9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBjb25maWcudGl0bGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdwJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHt9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBjb25maWcubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhZzogJ3VsJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtdmVuZG9ycyd9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjb25maWcudmVuZG9ycyAmJiBjb25maWcudmVuZG9ycy5tYXAodmVuZG9yID0+IChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LXZlbmRvcid9KSxcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICAgICAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IHZlbmRvcixcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdhJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWV4dGVybmFsLWxpbmsgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAoIShjb25maWcuZXh0ZXJuYWxMaW5rLnRpdGxlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmV4dGVybmFsTGluay5ocmVmKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtaGlkZGVuJyA6ICcnKSxcbiAgICAgICAgICAgICAgICAgICAgJ2hyZWYnOiBjb25maWcuZXh0ZXJuYWxMaW5rLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgICd0YXJnZXQnOiAnX3RvcCcsXG4gICAgICAgICAgICAgICAgICAgICd0aXRsZSc6IGNvbmZpZy5leHRlcm5hbExpbmsudGl0bGUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBjb25maWcuZXh0ZXJuYWxMaW5rLnRpdGxlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9ucyd9KSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbi1yZWplY3QnICtcbiAgICAgICAgICAgICAgICAgICAgKGNvbmZpZy5vbmx5QWNjZXB0ID09PSB0cnVlID8gJyBpLWFtcGh0bWwtaGlkZGVuJyA6ICcnKSxcbiAgICAgICAgICAgICAgICAnb24nOiBgdGFwOiR7Y29uc2VudElkfS5yZWplY3RgLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb24gJyArXG4gICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb24tYWNjZXB0JyxcbiAgICAgICAgICAgICAgICAnb24nOiBgdGFwOiR7Y29uc2VudElkfS5hY2NlcHRgLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59KTtcblxuLyoqXG4gKiBUaGUgPGFtcC1zdG9yeS1jb25zZW50PiBjdXN0b20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5Q29uc2VudCBleHRlbmRzIEFNUC5CYXNlRWxlbWVudCB7XG4gIC8qKiBAcGFyYW0geyFBbXBFbGVtZW50fSBlbGVtZW50ICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBzdXBlcihlbGVtZW50KTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25TZXJ2aWNlfSAqL1xuICAgIHRoaXMuYWN0aW9uc18gPSBTZXJ2aWNlcy5hY3Rpb25TZXJ2aWNlRm9yRG9jKHRoaXMuZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuc2Nyb2xsYWJsZUVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZS5BbXBTdG9yeVN0b3JlU2VydmljZX0gKi9cbiAgICB0aGlzLnN0b3JlU2VydmljZV8gPSBTZXJ2aWNlcy5zdG9yeVN0b3JlU2VydmljZVYwMSh0aGlzLndpbik7XG5cbiAgICAvKiogQHByaXZhdGUgez9PYmplY3R9ICovXG4gICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5zdG9yeUNvbnNlbnRFbF8gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBidWlsZENhbGxiYWNrKCkge1xuICAgIHRoaXMuYXNzZXJ0QW5kUGFyc2VDb25maWdfKCk7XG5cbiAgICBjb25zdCBzdG9yeUVsID0gY2xvc2VzdEJ5VGFnKHRoaXMuZWxlbWVudCwgJ0FNUC1TVE9SWScpO1xuICAgIGNvbnN0IGNvbnNlbnRFbCA9IGNsb3Nlc3RCeVRhZyh0aGlzLmVsZW1lbnQsICdBTVAtQ09OU0VOVCcpO1xuICAgIGNvbnN0IGNvbnNlbnRJZCA9IGNvbnNlbnRFbC5pZDtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlNFVF9DT05TRU5UX0lELCBjb25zZW50SWQpO1xuXG4gICAgY29uc3QgbG9nb1NyYyA9IHN0b3J5RWwgJiYgc3RvcnlFbC5nZXRBdHRyaWJ1dGUoJ3B1Ymxpc2hlci1sb2dvLXNyYycpO1xuXG4gICAgaWYgKCFsb2dvU3JjKSB7XG4gICAgICB1c2VyKCkud2FybihcbiAgICAgICAgICBUQUcsICdFeHBlY3RlZCBcInB1Ymxpc2hlci1sb2dvLXNyY1wiIGF0dHJpYnV0ZSBvbiA8YW1wLXN0b3J5PicpO1xuICAgIH1cblxuICAgIC8vIFN0b3J5IGNvbnNlbnQgY29uZmlnIGlzIHNldCBieSB0aGUgYGFzc2VydEFuZFBhcnNlQ29uZmlnX2AgbWV0aG9kLlxuICAgIGlmICh0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18pIHtcbiAgICAgIHRoaXMuc3RvcnlDb25zZW50RWxfID0gcmVuZGVyQXNFbGVtZW50KFxuICAgICAgICAgIHRoaXMud2luLmRvY3VtZW50LFxuICAgICAgICAgIGdldFRlbXBsYXRlKHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXywgY29uc2VudElkLCBsb2dvU3JjKSk7XG4gICAgICBjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlKHRoaXMuZWxlbWVudCwgdGhpcy5zdG9yeUNvbnNlbnRFbF8sIENTUyk7XG5cbiAgICAgIC8vIEFsbG93IDxhbXAtY29uc2VudD4gYWN0aW9ucyBpbiBTVEFNUCAoZGVmYXVsdHMgdG8gbm8gYWN0aW9ucyBhbGxvd2VkKS5cbiAgICAgIHRoaXMuYWN0aW9uc18uYWRkVG9XaGl0ZWxpc3QoJ0FNUC1DT05TRU5ULmFjY2VwdCcpO1xuICAgICAgdGhpcy5hY3Rpb25zXy5hZGRUb1doaXRlbGlzdCgnQU1QLUNPTlNFTlQucHJvbXB0Jyk7XG4gICAgICB0aGlzLmFjdGlvbnNfLmFkZFRvV2hpdGVsaXN0KCdBTVAtQ09OU0VOVC5yZWplY3QnKTtcblxuICAgICAgdGhpcy5zZXRBY2NlcHRCdXR0b25Gb250Q29sb3JfKCk7XG5cbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGlzTGF5b3V0U3VwcG9ydGVkKGxheW91dCkge1xuICAgIHJldHVybiBsYXlvdXQgPT0gTGF5b3V0Lk5PRElTUExBWTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcHJlcmVuZGVyQWxsb3dlZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVMaXN0ZW5lcnNfKCkge1xuICAgIHRoaXMuc3RvcnlDb25zZW50RWxfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsIGV2ZW50ID0+IHRoaXMub25DbGlja18oZXZlbnQpLCB0cnVlIC8qKiB1c2VDYXB0dXJlICovKTtcblxuICAgIHRoaXMuc2Nyb2xsYWJsZUVsXyA9XG4gICAgICAgIHRoaXMuc3RvcnlDb25zZW50RWxfLnF1ZXJ5U2VsZWN0b3IoJy5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1vdmVyZmxvdycpO1xuICAgIHRoaXMuc2Nyb2xsYWJsZUVsXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnc2Nyb2xsJywgdGhyb3R0bGUodGhpcy53aW4sICgpID0+IHRoaXMub25TY3JvbGxfKCksIDEwMCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbnMgdG8gY2xpY2sgZXZlbnRzIHRvIHRyaWdnZXIgdGhlIGFjdGlvbnMgcHJvZ3JhbWF0aWNhbGx5LlxuICAgKiBTaW5jZSBldmVudHMgYnViYmxlIHVwIGZyb20gdGhlIFNoYWRvdyBET00gYnV0IHRoZWlyIHRhcmdldCBpcyB1cGRhdGVkIHRvXG4gICAqIHRoZSBTaGFkb3cgcm9vdCwgdGhlIHRvcCBsZXZlbCBhY3Rpb25zIGV2ZW50IGxpc3RlbmVycyB3b3VsZCBub3QgZGV0ZWN0XG4gICAqIGFuZCB0cmlnZ2VyIHRoZSBhY3Rpb25zIHVwb24gY2xpY2sgZXZlbnRzLlxuICAgKiBAcGFyYW0geyFFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQ2xpY2tfKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKCdvbicpKSB7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAgIHRoaXMuYWN0aW9uc18udHJpZ2dlcih0YXJnZXRFbCwgJ3RhcCcsIGV2ZW50LCBBY3Rpb25UcnVzdC5ISUdIKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgZnVsbGJsZWVkIFVJIG9uIHNjcm9sbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uU2Nyb2xsXygpIHtcbiAgICBsZXQgaXNGdWxsQmxlZWQ7XG5cbiAgICBjb25zdCBtZWFzdXJlciA9XG4gICAgICAgICgpID0+IGlzRnVsbEJsZWVkID0gdGhpcy5zY3JvbGxhYmxlRWxfLi8qT0sqL3Njcm9sbFRvcCA+IDg4O1xuICAgIGNvbnN0IG11dGF0b3IgPSAoKSA9PiB7XG4gICAgICB0aGlzLnN0b3J5Q29uc2VudEVsX1xuICAgICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKCdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1mdWxsYmxlZWQnLCBpc0Z1bGxCbGVlZCk7XG4gICAgfTtcblxuICAgIHRoaXMuZWxlbWVudC5nZXRSZXNvdXJjZXMoKVxuICAgICAgICAubWVhc3VyZU11dGF0ZUVsZW1lbnQodGhpcy5zdG9yeUNvbnNlbnRFbF8sIG1lYXN1cmVyLCBtdXRhdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhlIHN0b3J5LWNvbnNlbnQgY29uZmlnLiBgc3RvcnktY29uc2VudGAgaXMgYSBuZXcgcGFyYW1ldGVyXG4gICAqIHNwZWNpZmljIHRvIHN0b3JpZXMsIGFkZGVkIG9uIHRoZSBgYW1wLWNvbnNlbnRgIEpTT04gY29uZmlnLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXNzZXJ0QW5kUGFyc2VDb25maWdfKCkge1xuICAgIGNvbnN0IHN0b3J5Q29uc2VudFNjcmlwdCA9IGNoaWxkRWxlbWVudEJ5VGFnKHRoaXMuZWxlbWVudCwgJ3NjcmlwdCcpO1xuXG4gICAgdXNlcigpLmFzc2VydChcbiAgICAgICAgc3RvcnlDb25zZW50U2NyaXB0ICYmIGlzSnNvblNjcmlwdFRhZyhzdG9yeUNvbnNlbnRTY3JpcHQpLFxuICAgICAgICBgJHtUQUd9IGNvbmZpZyBzaG91bGQgYmUgcHV0IGluIGEgPHNjcmlwdD4gdGFnIHdpdGggYCArXG4gICAgICAgICd0eXBlPVwiYXBwbGljYXRpb24vanNvblwiJyk7XG5cbiAgICB0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18gPVxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBERUZBVUxUX09QVElPTkFMX1BBUkFNRVRFUlMsXG4gICAgICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi8gKHBhcnNlSnNvbihzdG9yeUNvbnNlbnRTY3JpcHQudGV4dENvbnRlbnQpKSk7XG5cbiAgICB1c2VyKCkuYXNzZXJ0U3RyaW5nKFxuICAgICAgICB0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18udGl0bGUsIGAke1RBR306IGNvbmZpZyByZXF1aXJlcyBhIHRpdGxlYCk7XG4gICAgdXNlcigpLmFzc2VydFN0cmluZyhcbiAgICAgICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfLm1lc3NhZ2UsIGAke1RBR306IGNvbmZpZyByZXF1aXJlcyBhIG1lc3NhZ2VgKTtcbiAgICB1c2VyKCkuYXNzZXJ0KFxuICAgICAgICB0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18udmVuZG9ycyAmJlxuICAgICAgICAgICAgaXNBcnJheSh0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18udmVuZG9ycyksXG4gICAgICAgIGAke1RBR306IGNvbmZpZyByZXF1aXJlcyBhbiBhcnJheSBvZiB2ZW5kb3JzYCk7XG4gICAgdXNlcigpLmFzc2VydEJvb2xlYW4oXG4gICAgICAgIHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXy5vbmx5QWNjZXB0LFxuICAgICAgICBgJHtUQUd9OiBjb25maWcgcmVxdWlyZXMgXCJvbmx5QWNjZXB0XCIgdG8gYmUgYSBib29sZWFuYCk7XG5cbiAgICAvLyBSdW5zIHRoZSB2YWxpZGF0aW9uIGlmIGFueSBvZiB0aGUgdGl0bGUgb3IgbGluayBhcmUgcHJvdmlkZWQsIHNpbmNlXG4gICAgLy8gYm90aCBoYXZlIHRvIGJlIHByb3ZpZGVkIGZvciB0aGUgZXh0ZXJuYWwgbGluayB0byBiZSBkaXNwbGF5ZWQuXG4gICAgaWYgKHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXy5leHRlcm5hbExpbmsuaHJlZiB8fFxuICAgICAgICB0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18uZXh0ZXJuYWxMaW5rLnRpdGxlKSB7XG4gICAgICB1c2VyKCkuYXNzZXJ0U3RyaW5nKFxuICAgICAgICAgIHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXy5leHRlcm5hbExpbmsudGl0bGUsXG4gICAgICAgICAgYCR7VEFHfTogY29uZmlnIHJlcXVpcmVzIFwiZXh0ZXJuYWxMaW5rLnRpdGxlXCIgdG8gYmUgYSBzdHJpbmdgKTtcbiAgICAgIHVzZXIoKS5hc3NlcnRTdHJpbmcoXG4gICAgICAgICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfLmV4dGVybmFsTGluay5ocmVmLFxuICAgICAgICAgIGAke1RBR306IGNvbmZpZyByZXF1aXJlcyBcImV4dGVybmFsTGluay5ocmVmXCIgdG8gYmUgYW4gYWJzb2x1dGUgVVJMYCk7XG4gICAgICBhc3NlcnRBYnNvbHV0ZUh0dHBPckh0dHBzVXJsKHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXy5leHRlcm5hbExpbmsuaHJlZik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGFjY2VwdCBidXR0b24gZm9udCBjb2xvciB0byBlaXRoZXIgd2hpdGUgb3IgYmxhY2ssIGRlcGVuZGluZyBvblxuICAgKiB0aGUgcHVibGlzaGVyIGN1c3RvbSBiYWNrZ3JvdW5kIGNvbG9yLlxuICAgKiBNdXN0IGJlIGNhbGxlZCBmcm9tIHRoZSBgYnVpbGRDYWxsYmFja2Agb3IgaW4gYW5vdGhlciB2c3luYyBtdXRhdGUgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRBY2NlcHRCdXR0b25Gb250Q29sb3JfKCkge1xuICAgIGNvbnN0IGJ1dHRvbkVsID1cbiAgICAgICAgZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnN0b3J5Q29uc2VudEVsX1xuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb24tYWNjZXB0JykpO1xuICAgIGNvbnN0IHN0eWxlcyA9IGNvbXB1dGVkU3R5bGUodGhpcy53aW4sIGJ1dHRvbkVsKTtcblxuICAgIGNvbnN0IHJnYiA9IGdldFJHQkZyb21Dc3NDb2xvclZhbHVlKHN0eWxlc1snYmFja2dyb3VuZC1jb2xvciddKTtcbiAgICBjb25zdCBjb2xvciA9IGdldFRleHRDb2xvckZvclJHQihyZ2IpO1xuXG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKGJ1dHRvbkVsLCB7Y29sb3J9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIGlzIGEgbGF5ZXIgdGhhdCBhbGxvd3MgYSBjYWxsIHRvIGFjdGlvbiBpbiBhIHN0b3J5IHBhZ2UuXG4gKiBXaXRoIHRoaXMsIGEgdXNlciBjb3VsZCBsaW5rIHRvIGFuIGV4dGVybmFsIHNpdGUgZnJvbSBpbnNpZGUgYSBzdG9yeSB1c2luZ1xuICogdGhlIGNhbGwgdG8gYWN0aW9uIGxheWVyLCBmb3IgZXhhbXBsZS5cbiAqXG4gKiBFeGFtcGxlOlxuICogLi4uXG4gKiA8YW1wLXN0b3J5LXBhZ2U+XG4gKiAgIDxhbXAtc3RvcnktY3RhLWxheWVyPlxuICogICAgIDxhIGhyZWY9XCJ3d3d3Lmdvb2dsZS5jb21cIj4gVmlzaXQgbXkgc2l0ZSEgPC9hPlxuICogICA8L2FtcC1zdG9yeS1jdGEtbGF5ZXI+XG4gKiA8YW1wLXN0b3J5LXBhZ2U+XG4gKiAuLi5cbiAqL1xuXG5pbXBvcnQge0FtcFN0b3J5QmFzZUxheWVyfSBmcm9tICcuL2FtcC1zdG9yeS1iYXNlLWxheWVyJztcblxuLyoqXG4gKiBDYWxsIHRvIGFjdGlvbiBidXR0b24gbGF5ZXIgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeUN0YUxheWVyIGV4dGVuZHMgQW1wU3RvcnlCYXNlTGF5ZXIge1xuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcHJlcmVuZGVyQWxsb3dlZCgpIHtcbiAgICAvKipcbiAgICAgKiBTa2lwIHByZS1yZW5kZXJpbmcgdG8gbGV0IG1vcmUgY29tcHV0aW5nLWludGVuc2l2ZSBlbGVtZW50cyAobGlrZVxuICAgICAqIHZpZGVvcykgZ2V0IHByZS1yZW5kZXJlZCBmaXJzdC4gU2luY2UgdGhpcyBsYXllciB3aWxsIG5vdCBjb250YWluXG4gICAgICogY29tcHV0aW5nLWludGVuc2l2ZSByZXNvdXJjZXMgc3VjaCBhcyB2aWRlb3MsIHdlIGNhbiBqdXN0IHJpc2sgcmVuZGVyaW5nXG4gICAgICogd2hpbGUgdGhlIHVzZXIgaXMgbG9va2luZy5cbiAgICAgKi9cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuYnVpbGRDYWxsYmFjaygpO1xuICAgIHRoaXMuc2V0T3JPdmVyd3JpdGVUYXJnZXRBdHRyaWJ1dGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcndyaXRlIG9yIHNldCB0YXJnZXQgYXR0cmlidXRlIHRvIF9ibGFuayBpbiBjYWxsLXRvLWFjdGlvbiBsaW5rcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldE9yT3ZlcndyaXRlVGFyZ2V0QXR0cmlidXRlXygpIHtcbiAgICBjb25zdCBjdGFMaW5rcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdGFMaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY3RhTGlua3NbaV0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoaXMgaXMgYSBsYXllciB0aGF0IGxheXMgaXRzIGNoaWxkcmVuIG91dCBpbnRvIGEgZ3JpZC4gSXRzXG4gKiBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBvZmYgb2YgdGhlIENTUyBHcmlkIFNwZWMuXG4gKlxuICogRXhhbXBsZTpcbiAqIDxjb2RlPlxuICogPGFtcC1zdG9yeS1ncmlkLWxheWVyIHRlbXBsYXRlPVwiZmlsbFwiPlxuICogICAuLi5cbiAqIDwvYW1wLXN0b3J5LWdyaWQtbGF5ZXI+XG4gKiA8L2NvZGU+XG4gKi9cblxuaW1wb3J0IHtBbXBTdG9yeUJhc2VMYXllcn0gZnJvbSAnLi9hbXAtc3RvcnktYmFzZS1sYXllcic7XG5pbXBvcnQge21hdGNoZXMsIHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGx9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtzZXRTdHlsZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3N0eWxlJztcblxuLyoqXG4gKiBBIG1hcHBpbmcgb2YgYXR0cmlidXRlIG5hbWVzIHdlIHN1cHBvcnQgZm9yIGdyaWQgbGF5ZXJzIHRvIHRoZSBDU1MgR3JpZFxuICogcHJvcGVydGllcyB0aGV5IGNvbnRyb2wuXG4gKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5jb25zdCBTVVBQT1JURURfQ1NTX0dSSURfQVRUUklCVVRFUyA9IHtcbiAgJ2FsaWduLWNvbnRlbnQnOiAnYWxpZ25Db250ZW50JyxcbiAgJ2FsaWduLWl0ZW1zJzogJ2FsaWduSXRlbXMnLFxuICAnYWxpZ24tc2VsZic6ICdhbGlnblNlbGYnLFxuICAnZ3JpZC1hcmVhJzogJ2dyaWRBcmVhJyxcbiAgJ2p1c3RpZnktY29udGVudCc6ICdqdXN0aWZ5Q29udGVudCcsXG4gICdqdXN0aWZ5LWl0ZW1zJzogJ2p1c3RpZnlJdGVtcycsXG4gICdqdXN0aWZ5LXNlbGYnOiAnanVzdGlmeVNlbGYnLFxufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUga2V5cyBvZiB0aGUgU1VQUE9SVEVEX0NTU19HUklEX0FUVFJJQlVURVMgb2JqZWN0IGFib3ZlIGludG8gYVxuICogc2VsZWN0b3IgZm9yIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlcy5cbiAqIChlLmcuIFthbGlnbi1jb250ZW50XSwgW2FsaWduLWl0ZW1zXSwgLi4uKVxuICogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IFNVUFBPUlRFRF9DU1NfR1JJRF9BVFRSSUJVVEVTX1NFTEVDVE9SID1cbiAgICBPYmplY3Qua2V5cyhTVVBQT1JURURfQ1NTX0dSSURfQVRUUklCVVRFUylcbiAgICAgICAgLm1hcChrZXkgPT4gYFske2tleX1dYClcbiAgICAgICAgLmpvaW4oJywnKTtcblxuLyoqXG4gKiBUaGUgYXR0cmlidXRlIG5hbWUgZm9yIGdyaWQgbGF5ZXIgdGVtcGxhdGVzLlxuICogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IFRFTVBMQVRFX0FUVFJJQlVURV9OQU1FID0gJ3RlbXBsYXRlJztcblxuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGVtcGxhdGUgYXR0cmlidXRlIHZhbHVlcyB0byBDU1MgY2xhc3MgbmFtZXMuXG4gKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5leHBvcnQgY29uc3QgR1JJRF9MQVlFUl9URU1QTEFURV9DTEFTU19OQU1FUyA9IHtcbiAgJ2ZpbGwnOiAnaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtZmlsbCcsXG4gICd2ZXJ0aWNhbCc6ICdpLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS12ZXJ0aWNhbCcsXG4gICdob3Jpem9udGFsJzogJ2ktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLWhvcml6b250YWwnLFxuICAndGhpcmRzJzogJ2ktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXRoaXJkcycsXG59O1xuXG4vKipcbiAqIEdyaWQgbGF5ZXIgdGVtcGxhdGUgdGVtcGxhdGluZyBzeXN0ZW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeUdyaWRMYXllciBleHRlbmRzIEFtcFN0b3J5QmFzZUxheWVyIHtcbiAgLyoqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gT25seSBwcmVyZW5kZXIgaWYgY2hpbGQgb2YgdGhlIGZpcnN0IHBhZ2UuICovXG4gICAgdGhpcy5wcmVyZW5kZXJBbGxvd2VkXyA9IG1hdGNoZXModGhpcy5lbGVtZW50LFxuICAgICAgICAnYW1wLXN0b3J5LXBhZ2U6Zmlyc3Qtb2YtdHlwZSBhbXAtc3RvcnktZ3JpZC1sYXllcicpO1xuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuYnVpbGRDYWxsYmFjaygpO1xuICAgIHRoaXMuYXBwbHlUZW1wbGF0ZUNsYXNzTmFtZV8oKTtcbiAgICB0aGlzLnNldE93bkNzc0dyaWRTdHlsZXNfKCk7XG4gICAgdGhpcy5zZXREZXNjZW5kZW50Q3NzR3JpZFN0eWxlc18oKTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwcmVyZW5kZXJBbGxvd2VkKCkge1xuICAgIHJldHVybiB0aGlzLnByZXJlbmRlckFsbG93ZWRfO1xuICB9XG5cblxuICAvKipcbiAgICogQXBwbGllcyBpbnRlcm5hbCBDU1MgY2xhc3MgbmFtZXMgZm9yIHRoZSB0ZW1wbGF0ZSBhdHRyaWJ1dGUsIHNvIHRoYXQgc3R5bGVzXG4gICAqIGNhbiB1c2UgdGhlIGNsYXNzIG5hbWUgaW5zdGVhZCBvZiBjb21wb3VuZFxuICAgKiBhbXAtc3RvcnktZ3JpZC1sYXllclt0ZW1wbGF0ZT1cIi4uLlwiXSBzZWxlY3RvcnMsIHNpbmNlIHRoZSBsYXR0ZXIgaW5jcmVhc2VzXG4gICAqIENTUyBzcGVjaWZpY2l0eSBhbmQgY2FuIHByZXZlbnQgdXNlcnMgZnJvbSBiZWluZyBhYmxlIHRvIG92ZXJyaWRlIHN0eWxlcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFwcGx5VGVtcGxhdGVDbGFzc05hbWVfKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKFRFTVBMQVRFX0FUVFJJQlVURV9OQU1FKSkge1xuICAgICAgY29uc3QgdGVtcGxhdGVOYW1lID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShURU1QTEFURV9BVFRSSUJVVEVfTkFNRSk7XG4gICAgICBjb25zdCB0ZW1wbGF0ZUNsYXNzTmFtZSA9IEdSSURfTEFZRVJfVEVNUExBVEVfQ0xBU1NfTkFNRVNbdGVtcGxhdGVOYW1lXTtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRlbXBsYXRlQ2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDb3BpZXMgdGhlIHdoaXRlbGlzdGVkIENTUyBncmlkIHN0eWxlcyBmb3IgZGVzY2VuZGFudHMgb2YgdGhlXG4gICAqIDxhbXAtc3RvcnktZ3JpZC1sYXllcj4gZWxlbWVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldERlc2NlbmRlbnRDc3NHcmlkU3R5bGVzXygpIHtcbiAgICBjb25zdCBlbGVtZW50c1RvVXBncmFkZVN0eWxlcyA9IHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5lbGVtZW50LFxuICAgICAgICBTVVBQT1JURURfQ1NTX0dSSURfQVRUUklCVVRFU19TRUxFQ1RPUik7XG5cbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsZW1lbnRzVG9VcGdyYWRlU3R5bGVzLCBlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuc2V0Q3NzR3JpZFN0eWxlc18oZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSB3aGl0ZWxpc3RlZCBDU1MgZ3JpZCBzdHlsZXMgZm9yIHRoZSA8YW1wLXN0b3J5LWdyaWQtbGF5ZXI+XG4gICAqIGVsZW1lbnQgaXRzZWxmLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0T3duQ3NzR3JpZFN0eWxlc18oKSB7XG4gICAgdGhpcy5zZXRDc3NHcmlkU3R5bGVzXyh0aGlzLmVsZW1lbnQpO1xuICB9XG5cblxuICAvKipcbiAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYW4gZWxlbWVudCdzIGF0dHJpYnV0ZXMgdG8gaXRzIHN0eWxlcywgaWYgdGhlXG4gICAqIGF0dHJpYnV0ZXMvcHJvcGVydGllcyBhcmUgaW4gdGhlIHdoaXRlbGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB3aG9zZSBzdHlsZXMgc2hvdWxkIGJlIGNvcGllZCBmcm9tXG4gICAqICAgICBpdHMgYXR0cmlidXRlcy5cbiAgICovXG4gIHNldENzc0dyaWRTdHlsZXNfKGVsZW1lbnQpIHtcbiAgICBmb3IgKGxldCBpID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXNbaV07XG4gICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IFNVUFBPUlRFRF9DU1NfR1JJRF9BVFRSSUJVVEVTW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgaWYgKHByb3BlcnR5TmFtZSkge1xuICAgICAgICBzZXRTdHlsZShlbGVtZW50LCBwcm9wZXJ0eU5hbWUsIGF0dHJpYnV0ZS52YWx1ZSk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Q1NTfSBmcm9tICcuLi8uLi8uLi9idWlsZC9hbXAtc3RvcnktaGludC0wLjEuY3NzJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4vbG9jYWxpemF0aW9uJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1N0YXRlUHJvcGVydHl9IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3JlbmRlckFzRWxlbWVudH0gZnJvbSAnLi9zaW1wbGUtdGVtcGxhdGUnO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgVEVNUExBVEUgPSB7XG4gIHRhZzogJ2FzaWRlJyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktaGludC1jb250YWluZXIgJyArXG4gICAgICAgICdpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0IGktYW1waHRtbC1oaWRkZW4nfSksXG4gIGNoaWxkcmVuOiBbXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LW5hdmlnYXRpb24taGVscC1vdmVybGF5J30pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktbmF2aWdhdGlvbi1oZWxwLXNlY3Rpb24nXG4gICAgICAgICAgICAgICsgJyBwcmV2LXBhZ2UnfSksXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktaGludC1wbGFjZWhvbGRlcid9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uJ30pLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb24nfSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOlxuICAgICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLXRleHQnfSksXG4gICAgICAgICAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtc2VjdGlvbidcbiAgICAgICAgICAgICAgKyAnIG5leHQtcGFnZSd9KSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1oaW50LXBsYWNlaG9sZGVyJ30pLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24nfSksXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24taWNvbid9KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24tdGV4dCd9KSxcbiAgICAgICAgICAgICAgICAgIGxvY2FsaXplZFN0cmluZ0lkOlxuICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSxcbn07XG5cbi8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuY29uc3QgTkFWSUdBVElPTl9PVkVSTEFZX0NMQVNTID0gJ3Nob3ctbmF2aWdhdGlvbi1vdmVybGF5JztcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5jb25zdCBGSVJTVF9QQUdFX09WRVJMQVlfQ0xBU1MgPSAnc2hvdy1maXJzdC1wYWdlLW92ZXJsYXknO1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmNvbnN0IE5BVklHQVRJT05fT1ZFUkxBWV9USU1FT1VUID0gMzAwMDtcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5jb25zdCBGSVJTVF9QQUdFX05BVklHQVRJT05fT1ZFUkxBWV9USU1FT1VUID0gMjc1O1xuXG4vKipcbiAqIFVzZXIgSGludCBMYXllciBmb3IgPGFtcC1zdG9yeT4uXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeUhpbnQge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50RWwgRWxlbWVudCB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbXBvbmVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBwYXJlbnRFbCkge1xuICAgIC8qKiBAcHJpdmF0ZSB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGNvbXBvbmVudCBpcyBidWlsdC4gKi9cbiAgICB0aGlzLmlzQnVpbHRfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgeyFEb2N1bWVudH0gKi9cbiAgICB0aGlzLmRvY3VtZW50XyA9IHRoaXMud2luXy5kb2N1bWVudDtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS92c3luYy1pbXBsLlZzeW5jfSAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3IodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5oaW50Q29udGFpbmVyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez8obnVtYmVyfHN0cmluZyl9ICovXG4gICAgdGhpcy5oaW50VGltZW91dF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfID0gU2VydmljZXMuc3RvcnlTdG9yZVNlcnZpY2VWMDEodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMucGFyZW50RWxfID0gcGFyZW50RWw7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSBoaW50IGxheWVyIERPTS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLmlzQnVpbHQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNCdWlsdF8gPSB0cnVlO1xuXG4gICAgY29uc3Qgcm9vdCA9IHRoaXMuZG9jdW1lbnRfLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuaGludENvbnRhaW5lcl8gPSByZW5kZXJBc0VsZW1lbnQodGhpcy5kb2N1bWVudF8sIFRFTVBMQVRFKTtcbiAgICBjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlKHJvb3QsIHRoaXMuaGludENvbnRhaW5lcl8sIENTUyk7XG5cbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5wYXJlbnRFbF8uYXBwZW5kQ2hpbGQocm9vdCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgY29tcG9uZW50IGlzIGJ1aWx0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNCdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0J1aWx0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgZ2l2ZW4gaGludCwgb25seSBpZiBub3QgZGVza3RvcC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGhpbnRDbGFzc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2hvd0hpbnRfKGhpbnRDbGFzcykge1xuICAgIGlmICh0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuREVTS1RPUF9TVEFURSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmJ1aWxkKCk7XG5cbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5oaW50Q29udGFpbmVyXy5jbGFzc0xpc3QudG9nZ2xlKE5BVklHQVRJT05fT1ZFUkxBWV9DTEFTUyxcbiAgICAgICAgICBoaW50Q2xhc3MgPT0gTkFWSUdBVElPTl9PVkVSTEFZX0NMQVNTKTtcbiAgICAgIHRoaXMuaGludENvbnRhaW5lcl8uY2xhc3NMaXN0LnRvZ2dsZShGSVJTVF9QQUdFX09WRVJMQVlfQ0xBU1MsXG4gICAgICAgICAgaGludENsYXNzID09IEZJUlNUX1BBR0VfT1ZFUkxBWV9DTEFTUyk7XG4gICAgICB0aGlzLmhpbnRDb250YWluZXJfLmNsYXNzTGlzdC5yZW1vdmUoJ2ktYW1waHRtbC1oaWRkZW4nKTtcblxuICAgICAgY29uc3QgaGlkZVRpbWVvdXQgPSBoaW50Q2xhc3MgPT0gTkFWSUdBVElPTl9PVkVSTEFZX0NMQVNTXG4gICAgICAgID8gTkFWSUdBVElPTl9PVkVSTEFZX1RJTUVPVVQgOiBGSVJTVF9QQUdFX05BVklHQVRJT05fT1ZFUkxBWV9USU1FT1VUO1xuICAgICAgdGhpcy5oaWRlQWZ0ZXJUaW1lb3V0KGhpZGVUaW1lb3V0KTtcbiAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgbmF2aWdhdGlvbiBvdmVybGF5IERPTS5cbiAgICovXG4gIHNob3dOYXZpZ2F0aW9uT3ZlcmxheSgpIHtcbiAgICAvLyBEb24ndCBzaG93IHRoZSBvdmVybGF5IGlmIHRoZSBzaGFyZSBtZW51IGlzIG9wZW4uXG4gICAgaWYgKHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5TSEFSRV9NRU5VX1NUQVRFKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2hvd0hpbnRfKE5BVklHQVRJT05fT1ZFUkxBWV9DTEFTUyk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBuYXZpZ2F0aW9uIG92ZXJsYXkgRE9NLlxuICAgKi9cbiAgc2hvd0ZpcnN0UGFnZUhpbnRPdmVybGF5KCkge1xuICAgIHRoaXMuc2hvd0hpbnRfKEZJUlNUX1BBR0VfT1ZFUkxBWV9DTEFTUyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIG92ZXJsYXkgYWZ0ZXIgYSBnaXZlbiB0aW1lXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0XG4gICAqL1xuICBoaWRlQWZ0ZXJUaW1lb3V0KHRpbWVvdXQpIHtcbiAgICB0aGlzLmhpbnRUaW1lb3V0XyA9IHRoaXMudGltZXJfLmRlbGF5KFxuICAgICAgICAoKSA9PiB0aGlzLmhpZGVJbnRlcm5hbF8oKSwgdGltZW91dCk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBhbGwgbmF2aWdhdGlvbiBoaW50cy5cbiAgICovXG4gIGhpZGVBbGxOYXZpZ2F0aW9uSGludCgpIHtcbiAgICB0aGlzLmhpZGVJbnRlcm5hbF8oKTtcblxuICAgIGlmICh0aGlzLmhpbnRUaW1lb3V0XyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy50aW1lcl8uY2FuY2VsKHRoaXMuaGludFRpbWVvdXRfKTtcbiAgICAgIHRoaXMuaGludFRpbWVvdXRfID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgaGlkZUludGVybmFsXygpIHtcbiAgICBpZiAoIXRoaXMuaXNCdWlsdCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHRoaXMuaGludENvbnRhaW5lcl8uY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLWhpZGRlbicpO1xuICAgIH0pO1xuICB9XG59XG5cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FjdGlvbiwgU3RhdGVQcm9wZXJ0eX0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LWluZm8tZGlhbG9nLTAuMS5jc3MnO1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7YXNzZXJ0QWJzb2x1dGVIdHRwT3JIdHRwc1VybH0gZnJvbSAnLi4vLi4vLi4vc3JjL3VybCc7XG5pbXBvcnQge2Nsb3Nlc3R9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7Z2V0QW1wZG9jfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZSc7XG5pbXBvcnQge2h0bWxGb3J9IGZyb20gJy4uLy4uLy4uL3NyYy9zdGF0aWMtdGVtcGxhdGUnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9IENsYXNzIHRvIHRvZ2dsZSB0aGUgaW5mbyBkaWFsb2cuICovXG5leHBvcnQgY29uc3QgRElBTE9HX1ZJU0lCTEVfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLXZpc2libGUnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9IENsYXNzIHRvIHRvZ2dsZSB0aGUgaW5mbyBkaWFsb2cgbGluay4gKi9cbmV4cG9ydCBjb25zdCBNT1JFSU5GT19WSVNJQkxFX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvLXZpc2libGUnO1xuXG4vKipcbiAqIEEgZGlhbG9nIHRoYXQgcHJvdmlkZXMgYSBsaW5rIHRvIHRoZSBjYW5vbmljYWwgVVJMIG9mIHRoZSBzdG9yeSwgYXMgd2VsbCBhc1xuICogYSBsaW5rIHRvIGFueSBtb3JlIGluZm9ybWF0aW9uIHRoYXQgdGhlIHZpZXdlciB3b3VsZCBsaWtlIHRvIHByb3ZpZGUgYWJvdXRcbiAqIGxpbmtpbmcgb24gdGhhdCBwbGF0Zm9ybS5cbiAqL1xuZXhwb3J0IGNsYXNzIEluZm9EaWFsb2cge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50RWwgRWxlbWVudCB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbXBvbmVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBwYXJlbnRFbCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5pbm5lckNvbnRhaW5lckVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2V9ICovXG4gICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlXyA9IFNlcnZpY2VzLmxvY2FsaXphdGlvblNlcnZpY2VWMDEodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IFNlcnZpY2VzLnN0b3J5U3RvcmVTZXJ2aWNlVjAxKHRoaXMud2luXyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnBhcmVudEVsXyA9IHBhcmVudEVsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3Jlc291cmNlcy1pbXBsLlJlc291cmNlc30gKi9cbiAgICB0aGlzLnJlc291cmNlc18gPSBTZXJ2aWNlcy5yZXNvdXJjZXNGb3JEb2MoZ2V0QW1wZG9jKHRoaXMud2luXy5kb2N1bWVudCkpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLm1vcmVJbmZvTGlua0VsXyA9IG51bGw7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshLi4vLi4vLi4vc3JjL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyfSAqL1xuICAgIHRoaXMudmlld2VyXyA9IFNlcnZpY2VzLnZpZXdlckZvckRvYyh0aGlzLnBhcmVudEVsXyk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGFuZCBhcHBlbmRzIHRoZSBjb21wb25lbnQgaW4gdGhlIHN0b3J5LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gdXNlZCBmb3IgdGVzdGluZyB0byBlbnN1cmUgdGhhdCB0aGUgY29tcG9uZW50IGlzIGJ1aWx0XG4gICAqICAgICBiZWZvcmUgYXNzZXJ0aW9ucy5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLmlzQnVpbHQoKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuaXNCdWlsdF8gPSB0cnVlO1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgaHRtbCA9IGh0bWxGb3IodGhpcy5wYXJlbnRFbF8pO1xuICAgIHRoaXMuZWxlbWVudF8gPSBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nIGktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWluZm8taGVhZGluZ1wiPjwvaDE+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1pbmZvLWxpbmtcIj48L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvXCI+PC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuXG4gICAgY3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZShyb290LCB0aGlzLmVsZW1lbnRfLCBDU1MpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcblxuICAgIHRoaXMuaW5uZXJDb250YWluZXJFbF8gPSB0aGlzLmVsZW1lbnRfXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLWNvbnRhaW5lcicpO1xuXG4gICAgY29uc3QgYXBwZW5kUHJvbWlzZSA9IHRoaXMucmVzb3VyY2VzXy5tdXRhdGVFbGVtZW50KHRoaXMucGFyZW50RWxfLCAoKSA9PiB7XG4gICAgICB0aGlzLnBhcmVudEVsXy5hcHBlbmRDaGlsZChyb290KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhZ2VVcmwgPSBTZXJ2aWNlcy5kb2N1bWVudEluZm9Gb3JEb2MoXG4gICAgICAgIGdldEFtcGRvYyh0aGlzLnBhcmVudEVsXykpLmNhbm9uaWNhbFVybDtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICBhcHBlbmRQcm9taXNlLFxuICAgICAgdGhpcy5zZXRIZWFkaW5nXygpLFxuICAgICAgdGhpcy5zZXRQYWdlTGlua18ocGFnZVVybCksXG4gICAgICB0aGlzLnJlcXVlc3RNb3JlSW5mb0xpbmtfKClcbiAgICAgICAgICAudGhlbihtb3JlSW5mb1VybCA9PiB0aGlzLnNldE1vcmVJbmZvTGlua1VybF8obW9yZUluZm9VcmwpKSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGJ1aWx0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNCdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0J1aWx0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LklORk9fRElBTE9HX1NUQVRFLCBpc09wZW4gPT4ge1xuICAgICAgdGhpcy5vbkluZm9EaWFsb2dTdGF0ZVVwZGF0ZWRfKGlzT3Blbik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsIGV2ZW50ID0+IHRoaXMub25JbmZvRGlhbG9nQ2xpY2tfKGV2ZW50KSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIG1lbnUgc3RhdGUgdXBkYXRlcyBhbmQgZGVjaWRlcyB3aGV0aGVyIHRvIHNob3cgZWl0aGVyIHRoZSBuYXRpdmVcbiAgICogc3lzdGVtIHNoYXJpbmcsIG9yIHRoZSBmYWxsYmFjayBVSS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc09wZW5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uSW5mb0RpYWxvZ1N0YXRlVXBkYXRlZF8oaXNPcGVuKSB7XG4gICAgdGhpcy5yZXNvdXJjZXNfLm11dGF0ZUVsZW1lbnQoZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLmVsZW1lbnRfKSwgKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QudG9nZ2xlKERJQUxPR19WSVNJQkxFX0NMQVNTLCBpc09wZW4pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIGFuZCBtYXliZSBjbG9zZXMgdGhlIGRpYWxvZy5cbiAgICogQHBhcmFtICB7IUV2ZW50fSBldmVudFxuICAgKi9cbiAgb25JbmZvRGlhbG9nQ2xpY2tfKGV2ZW50KSB7XG4gICAgY29uc3QgZWwgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgLy8gQ2xvc2VzIHRoZSBkaWFsb2cgaWYgY2xpY2sgaGFwcGVuZWQgb3V0c2lkZSBvZiB0aGUgZGlhbG9nIG1haW4gY29udGFpbmVyLlxuICAgIGlmICghY2xvc2VzdChlbCwgZWwgPT4gZWwgPT09IHRoaXMuaW5uZXJDb250YWluZXJFbF8sIHRoaXMuZWxlbWVudF8pKSB7XG4gICAgICB0aGlzLmNsb3NlXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGluZm8gZGlhbG9nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2xvc2VfKCkge1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0lORk9fRElBTE9HLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8P3N0cmluZz59IFRoZSBVUkwgdG8gdmlzaXQgdG8gcmVjZWl2ZSBtb3JlIGluZm8gb24gdGhpc1xuICAgKiAgICAgcGFnZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlcXVlc3RNb3JlSW5mb0xpbmtfKCkge1xuICAgIGNvbnN0IG1lc3NhZ2luZ1Byb21pc2UgPSB0aGlzLnZpZXdlcl8ud2hlbk1lc3NhZ2luZ1JlYWR5KCk7XG5cbiAgICBpZiAoIW1lc3NhZ2luZ1Byb21pc2UpIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIHZpZXdlciB0byBzdXBwbHkgdGhlIG1vcmUgaW5mbyBVUkwuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lc3NhZ2luZ1Byb21pc2VcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8uLypPSyovc2VuZE1lc3NhZ2VBd2FpdFJlc3BvbnNlKCdtb3JlSW5mb0xpbmtVcmwnLFxuICAgICAgICAgICAgICAvKiBkYXRhICovIHVuZGVmaW5lZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKG1vcmVJbmZvVXJsID0+IHtcbiAgICAgICAgICBpZiAoIW1vcmVJbmZvVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gYXNzZXJ0QWJzb2x1dGVIdHRwT3JIdHRwc1VybChkZXYoKS5hc3NlcnRTdHJpbmcobW9yZUluZm9VcmwpKTtcbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGVhZGluZyBvbiB0aGUgZGlhbG9nLlxuICAgKi9cbiAgc2V0SGVhZGluZ18oKSB7XG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2VfLmdldExvY2FsaXplZFN0cmluZyhcbiAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTCk7XG4gICAgY29uc3QgaGVhZGluZ0VsID0gZGV2KCkuYXNzZXJ0RWxlbWVudChcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuaS1hbXBodG1sLXN0b3J5LWluZm8taGVhZGluZycpKTtcblxuICAgIHJldHVybiB0aGlzLnJlc291cmNlc18ubXV0YXRlRWxlbWVudChoZWFkaW5nRWwsICgpID0+IHtcbiAgICAgIGhlYWRpbmdFbC50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlVXJsIFRoZSBVUkwgdG8gdGhlIGNhbm9uaWNhbCB2ZXJzaW9uIG9mIHRoZSBjdXJyZW50XG4gICAqICAgICBkb2N1bWVudC5cbiAgICovXG4gIHNldFBhZ2VMaW5rXyhwYWdlVXJsKSB7XG4gICAgY29uc3QgbGlua0VsID0gZGV2KCkuYXNzZXJ0RWxlbWVudChcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuaS1hbXBodG1sLXN0b3J5LWluZm8tbGluaycpKTtcblxuICAgIHJldHVybiB0aGlzLnJlc291cmNlc18ubXV0YXRlRWxlbWVudChsaW5rRWwsICgpID0+IHtcbiAgICAgIGxpbmtFbC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBwYWdlVXJsKTtcblxuICAgICAgLy8gQWRkIHplcm8td2lkdGggc3BhY2UgY2hhcmFjdGVyIChcXHUyMDBCKSBhZnRlciBcIi5cIiBhbmQgXCIvXCIgY2hhcmFjdGVyc1xuICAgICAgLy8gdG8gaGVscCBsaW5lLWJyZWFrcyBvY2N1ciBtb3JlIG5hdHVyYWxseS5cbiAgICAgIGxpbmtFbC50ZXh0Q29udGVudCA9IHBhZ2VVcmwucmVwbGFjZSgvKFsvLl0rKS9naSwgJyQxXFx1MjAwQicpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gbW9yZUluZm9VcmwgVGhlIFVSTCB0byB0aGUgXCJtb3JlIGluZm9cIiBwYWdlLCBpZiB0aGVyZSBpc1xuICAgKiBvbmUuXG4gICAqL1xuICBzZXRNb3JlSW5mb0xpbmtVcmxfKG1vcmVJbmZvVXJsKSB7XG4gICAgaWYgKCFtb3JlSW5mb1VybCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHRoaXMubW9yZUluZm9MaW5rRWxfID0gZGV2KCkuYXNzZXJ0RWxlbWVudChcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuaS1hbXBodG1sLXN0b3J5LWluZm8tbW9yZWluZm8nKSk7XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvdXJjZXNfLm11dGF0ZUVsZW1lbnQodGhpcy5tb3JlSW5mb0xpbmtFbF8sICgpID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlXy5nZXRMb2NhbGl6ZWRTdHJpbmcoXG4gICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MSU5LKTtcbiAgICAgIHRoaXMubW9yZUluZm9MaW5rRWxfLmNsYXNzTGlzdC5hZGQoTU9SRUlORk9fVklTSUJMRV9DTEFTUyk7XG4gICAgICB0aGlzLm1vcmVJbmZvTGlua0VsXy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLFxuICAgICAgICAgIGRldigpLmFzc2VydFN0cmluZyhtb3JlSW5mb1VybCkpO1xuICAgICAgdGhpcy5tb3JlSW5mb0xpbmtFbF8uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG4gICAgICB0aGlzLm1vcmVJbmZvTGlua0VsXy50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEVtYmVkcyBhIHN0b3J5XG4gKlxuICogRXhhbXBsZTpcbiAqIDxjb2RlPlxuICogPGFtcC1zdG9yeS1wYWdlPlxuICogPC9hbXAtc3Rvcnk+XG4gKiA8L2NvZGU+XG4gKi9cbmltcG9ydCB7QWR2YW5jZW1lbnRDb25maWd9IGZyb20gJy4vcGFnZS1hZHZhbmNlbWVudCc7XG5pbXBvcnQge1xuICBBbmltYXRpb25NYW5hZ2VyLFxuICBoYXNBbmltYXRpb25zLFxufSBmcm9tICcuL2FuaW1hdGlvbic7XG5pbXBvcnQge0RlZmVycmVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge0V2ZW50VHlwZSwgZGlzcGF0Y2gsIGRpc3BhdGNoQ3VzdG9tfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge0xvYWRpbmdTcGlubmVyfSBmcm9tICcuL2xvYWRpbmctc3Bpbm5lcic7XG5pbXBvcnQge01lZGlhUG9vbH0gZnJvbSAnLi9tZWRpYS1wb29sJztcbmltcG9ydCB7UGFnZVNjYWxpbmdTZXJ2aWNlfSBmcm9tICcuL3BhZ2Utc2NhbGluZyc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtWaWRlb1NlcnZpY2VTeW5jfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZS92aWRlby1zZXJ2aWNlLXN5bmMtaW1wbCc7XG5pbXBvcnQge1xuICBjbG9zZXN0QnlTZWxlY3RvcixcbiAgbWF0Y2hlcyxcbiAgc2NvcGVkUXVlcnlTZWxlY3RvckFsbCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RlYm91bmNlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRMb2dFbnRyaWVzfSBmcm9tICcuL2xvZ2dpbmcnO1xuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZSc7XG5pbXBvcnQge2xpc3Rlbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge3RvQXJyYXl9IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge3VwZ3JhZGVCYWNrZ3JvdW5kQXVkaW99IGZyb20gJy4vYXVkaW8nO1xuXG4vKipcbiAqIENTUyBjbGFzcyBmb3IgYW4gYW1wLXN0b3J5LXBhZ2UgdGhhdCBpbmRpY2F0ZXMgdGhlIGVudGlyZSBwYWdlIGlzIGxvYWRlZC5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBQQUdFX0xPQURFRF9DTEFTU19OQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1wYWdlLWxvYWRlZCc7XG5cblxuLyoqXG4gKiBTZWxlY3RvciBmb3Igd2hpY2ggbWVkaWEgdG8gd2FpdCBmb3Igb24gcGFnZSBsYXlvdXQuXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgUEFHRV9NRURJQV9TRUxFQ1RPUiA9ICdhbXAtYXVkaW8sIGFtcC12aWRlbywgYW1wLWltZywgYW1wLWFuaW0nO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFRBRyA9ICdhbXAtc3RvcnktcGFnZSc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFEVkVSVElTRU1FTlRfQVRUUl9OQU1FID0gJ2FkJztcblxuXG4vKipcbiAqIFRoZSA8YW1wLXN0b3J5LXBhZ2U+IGN1c3RvbSBlbGVtZW50LCB3aGljaCByZXByZXNlbnRzIGEgc2luZ2xlIHBhZ2Ugb2ZcbiAqIGFuIDxhbXAtc3Rvcnk+LlxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlQYWdlIGV4dGVuZHMgQU1QLkJhc2VFbGVtZW50IHtcbiAgLyoqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QW5pbWF0aW9uTWFuYWdlcn0gKi9cbiAgICB0aGlzLmFuaW1hdGlvbk1hbmFnZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBZHZhbmNlbWVudENvbmZpZ30gKi9cbiAgICB0aGlzLmFkdmFuY2VtZW50XyA9IEFkdmFuY2VtZW50Q29uZmlnLmZvclBhZ2UodGhpcyk7XG5cbiAgICAvKiogQHByaXZhdGUgez9Mb2FkaW5nU3Bpbm5lcn0gKi9cbiAgICB0aGlzLmxvYWRpbmdTcGlubmVyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLm1lZGlhTGF5b3V0UHJvbWlzZV8gPSB0aGlzLndhaXRGb3JNZWRpYUxheW91dF8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMucGFnZUxvYWRQcm9taXNlXyA9IHRoaXMubWVkaWFMYXlvdXRQcm9taXNlXy50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMubWFya1BhZ2VBc0xvYWRlZF8oKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZTwhTWVkaWFQb29sPn0gKi9cbiAgICB0aGlzLm1lZGlhUG9vbFByb21pc2VfID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFmdW5jdGlvbighTWVkaWFQb29sKX0gKi9cbiAgICB0aGlzLm1lZGlhUG9vbFJlc29sdmVGbl8gPSBkZWZlcnJlZC5yZXNvbHZlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IWZ1bmN0aW9uKCopfSAqL1xuICAgIHRoaXMubWVkaWFQb29sUmVqZWN0Rm5fID0gZGVmZXJyZWQucmVqZWN0O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gT25seSBwcmVyZW5kZXIgdGhlIGZpcnN0IHN0b3J5IHBhZ2UuICovXG4gICAgdGhpcy5wcmVyZW5kZXJBbGxvd2VkXyA9IG1hdGNoZXModGhpcy5lbGVtZW50LFxuICAgICAgICAnYW1wLXN0b3J5LXBhZ2U6Zmlyc3Qtb2YtdHlwZScpO1xuXG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IWZ1bmN0aW9uKGJvb2xlYW4pfSAqL1xuICAgIHRoaXMuZGVib3VuY2VUb2dnbGVMb2FkaW5nU3Bpbm5lcl8gPSBkZWJvdW5jZShcbiAgICAgICAgdGhpcy53aW4sIGlzQWN0aXZlID0+IHRoaXMudG9nZ2xlTG9hZGluZ1NwaW5uZXJfKCEhaXNBY3RpdmUpLCAxMDApO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQXJyYXk8ZnVuY3Rpb24oKT59ICovXG4gICAgdGhpcy51bmxpc3RlbmVyc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHVzZXIgYWdlbnQgbWF0Y2hlcyBhIGJvdC4gIFRoaXMgaXMgdXNlZCB0byBwcmV2ZW50IHJlc291cmNlXG4gICAgICogb3B0aW1pemF0aW9ucyB0aGF0IG1ha2UgdGhlIGRvY3VtZW50IGxlc3MgdXNlZnVsIGF0IGNyYXdsIHRpbWUsIGUuZy5cbiAgICAgKiByZW1vdmluZyBzb3VyY2VzIGZyb20gdmlkZW9zLlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzQm90VXNlckFnZW50XyA9IFNlcnZpY2VzLnBsYXRmb3JtRm9yKHRoaXMud2luKS5pc0JvdCgpO1xuICB9XG5cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1heWJlQ3JlYXRlQW5pbWF0aW9uTWFuYWdlcl8oKSB7XG4gICAgaWYgKCF0aGlzLmFuaW1hdGlvbk1hbmFnZXJfKSB7XG4gICAgICBpZiAoIWhhc0FuaW1hdGlvbnModGhpcy5lbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlcl8gPSBBbmltYXRpb25NYW5hZ2VyLmNyZWF0ZShcbiAgICAgICAgICB0aGlzLmVsZW1lbnQsIHRoaXMuZ2V0QW1wRG9jKCksIHRoaXMuZ2V0QW1wRG9jKCkuZ2V0VXJsKCkpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBidWlsZENhbGxiYWNrKCkge1xuICAgIHVwZ3JhZGVCYWNrZ3JvdW5kQXVkaW8odGhpcy5lbGVtZW50KTtcbiAgICB0aGlzLmRlbGVnYXRlVmlkZW9BdXRvcGxheSgpO1xuICAgIHRoaXMubWFya01lZGlhRWxlbWVudHNXaXRoUHJlbG9hZF8oKTtcbiAgICB0aGlzLmluaXRpYWxpemVNZWRpYVBvb2xfKCk7XG4gICAgdGhpcy5tYXliZUNyZWF0ZUFuaW1hdGlvbk1hbmFnZXJfKCk7XG4gICAgdGhpcy5hZHZhbmNlbWVudF8uYWRkUHJldmlvdXNMaXN0ZW5lcigoKSA9PiB0aGlzLnByZXZpb3VzKCkpO1xuICAgIHRoaXMuYWR2YW5jZW1lbnRfXG4gICAgICAgIC5hZGRBZHZhbmNlTGlzdGVuZXIoKCkgPT4gdGhpcy5uZXh0KC8qIG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UgKi8gdHJ1ZSkpO1xuICAgIHRoaXMuYWR2YW5jZW1lbnRfLmFkZE9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKFxuICAgICAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uID0+IHRoaXMubmF2aWdhdGVPblRhcChuYXZpZ2F0aW9uRGlyZWN0aW9uKSk7XG4gICAgdGhpcy5hZHZhbmNlbWVudF9cbiAgICAgICAgLmFkZFByb2dyZXNzTGlzdGVuZXIocHJvZ3Jlc3MgPT4gdGhpcy5lbWl0UHJvZ3Jlc3NfKHByb2dyZXNzKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBEZWxlZ2F0ZXMgdmlkZW8gYXV0b3BsYXkgc28gdGhlIHZpZGVvIG1hbmFnZXIgZG9lcyBub3QgZm9sbG93IHRoZVxuICAgKiBhdXRvcGxheSBhdHRyaWJ1dGUgdGhhdCBtYXkgaGF2ZSBiZWVuIHNldCBieSBhIHB1Ymxpc2hlciwgd2hpY2ggY291bGRcbiAgICogcGxheSB2aWRlb3MgZnJvbSBhbiBpbmFjdGl2ZSBwYWdlLlxuICAgKi9cbiAgZGVsZWdhdGVWaWRlb0F1dG9wbGF5KCkge1xuICAgIGNvbnN0IHZpZGVvcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhbXAtdmlkZW8nKTtcbiAgICBpZiAodmlkZW9zLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9BcnJheSh2aWRlb3MpLmZvckVhY2goZWwgPT4ge1xuICAgICAgVmlkZW9TZXJ2aWNlU3luYy5kZWxlZ2F0ZUF1dG9wbGF5KC8qKiBAdHlwZSB7IUFtcEVsZW1lbnR9ICovIChlbCkpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgaW5pdGlhbGl6ZU1lZGlhUG9vbF8oKSB7XG4gICAgY29uc3Qgc3RvcnlFbCA9IGRldigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgIGNsb3Nlc3RCeVNlbGVjdG9yKHRoaXMuZWxlbWVudCwgJ2FtcC1zdG9yeScpLFxuICAgICAgICAnYW1wLXN0b3J5LXBhZ2UgbXVzdCBiZSBhIGRlc2NlbmRhbnQgb2YgYW1wLXN0b3J5LicpO1xuXG4gICAgc3RvcnlFbC5nZXRJbXBsKClcbiAgICAgICAgLnRoZW4oc3RvcnlJbXBsID0+IHtcbiAgICAgICAgICB0aGlzLm1lZGlhUG9vbFJlc29sdmVGbl8oTWVkaWFQb29sLmZvcihzdG9yeUltcGwpKTtcbiAgICAgICAgfSwgcmVhc29uID0+IHRoaXMubWVkaWFQb29sUmVqZWN0Rm5fKHJlYXNvbikpO1xuICB9XG5cblxuICAvKipcbiAgICogTWFya3MgYW55IEFNUCBlbGVtZW50cyB0aGF0IHJlcHJlc2VudCBtZWRpYSBlbGVtZW50cyB3aXRoIHByZWxvYWQ9XCJhdXRvXCIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtYXJrTWVkaWFFbGVtZW50c1dpdGhQcmVsb2FkXygpIHtcbiAgICBjb25zdCBtZWRpYVNldCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhbXAtYXVkaW8sIGFtcC12aWRlbycpO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobWVkaWFTZXQsIG1lZGlhSXRlbSA9PiB7XG4gICAgICBtZWRpYUl0ZW0uc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpc0xheW91dFN1cHBvcnRlZChsYXlvdXQpIHtcbiAgICByZXR1cm4gbGF5b3V0ID09IExheW91dC5DT05UQUlORVI7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcGF1c2VDYWxsYmFjaygpIHtcbiAgICB0aGlzLmFkdmFuY2VtZW50Xy5zdG9wKCk7XG5cbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmdUb1ZpZGVvRXZlbnRzXygpO1xuICAgIHRoaXMucGF1c2VBbGxNZWRpYV8odHJ1ZSAvKiByZXdpbmRUb0JlZ2lubmluZyAqLyk7XG5cbiAgICBpZiAodGhpcy5hbmltYXRpb25NYW5hZ2VyXykge1xuICAgICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyXy5jYW5jZWxBbGwoKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVzdW1lQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZWdpc3RlckFsbE1lZGlhXygpO1xuXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgdGhpcy5hZHZhbmNlbWVudF8uc3RhcnQoKTtcbiAgICAgIHRoaXMubWF5YmVTdGFydEFuaW1hdGlvbnMoKTtcbiAgICAgIHRoaXMucHJlbG9hZEFsbE1lZGlhXygpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5zdGFydExpc3RlbmluZ1RvVmlkZW9FdmVudHNfKCkpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5wbGF5QWxsTWVkaWFfKCkpO1xuICAgIH1cblxuICAgIHRoaXMucmVwb3J0RGV2TW9kZUVycm9yc18oKTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBsYXlvdXRDYWxsYmFjaygpIHtcbiAgICB0aGlzLm11dGVBbGxNZWRpYSgpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuYmVmb3JlVmlzaWJsZSgpLFxuICAgICAgdGhpcy5tZWRpYUxheW91dFByb21pc2VfLFxuICAgICAgdGhpcy5tZWRpYVBvb2xQcm9taXNlXyxcbiAgICBdKTtcbiAgfVxuXG5cbiAgLyoqIEByZXR1cm4geyFQcm9taXNlfSAqL1xuICBiZWZvcmVWaXNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnNjYWxlXygpLnRoZW4oKCkgPT4gdGhpcy5tYXliZUFwcGx5Rmlyc3RBbmltYXRpb25GcmFtZSgpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgd2FpdEZvck1lZGlhTGF5b3V0XygpIHtcbiAgICBjb25zdCBtZWRpYVNldCA9IHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5lbGVtZW50LCBQQUdFX01FRElBX1NFTEVDVE9SKTtcbiAgICBjb25zdCBtZWRpYVByb21pc2VzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKG1lZGlhU2V0LCBtZWRpYUVsID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgc3dpdGNoIChtZWRpYUVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGNhc2UgJ2FtcC1pbWcnOlxuICAgICAgICAgIGNhc2UgJ2FtcC1hbmltJzpcbiAgICAgICAgICAgIG1lZGlhRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlc29sdmUsIHRydWUgLyogdXNlQ2FwdHVyZSAqLyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhbXAtYXVkaW8nOlxuICAgICAgICAgIGNhc2UgJ2FtcC12aWRlbyc6XG4gICAgICAgICAgICBpZiAobWVkaWFFbC5yZWFkeVN0YXRlID49IDIpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1lZGlhRWwuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHJlc29sdmUsIHRydWUgLyogdXNlQ2FwdHVyZSAqLyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gQW55IG90aGVyIHRhZ3Mgc2hvdWxkIG5vdCBibG9jayBsb2FkaW5nLlxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2Ugc3VwcHJlc3MgZXJyb3JzIHNvIHRoYXQgUHJvbWlzZS5hbGwgd2lsbCBzdGlsbCB3YWl0IGZvciBhbGxcbiAgICAgICAgLy8gcHJvbWlzZXMgdG8gY29tcGxldGUsIGV2ZW4gaWYgb25lIGhhcyBmYWlsZWQuICBXZSBkbyBub3RoaW5nIHdpdGggdGhlXG4gICAgICAgIC8vIGVycm9yLCBhcyB0aGUgcmVzb3VyY2UgaXRzZWxmIGFuZC9vciBjb2RlIHRoYXQgbG9hZHMgaXQgc2hvdWxkIGhhbmRsZVxuICAgICAgICAvLyB0aGUgZXJyb3IuXG4gICAgICAgIG1lZGlhRWwuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCByZXNvbHZlLCB0cnVlIC8qIHVzZUNhcHR1cmUgKi8pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwobWVkaWFQcm9taXNlcyk7XG4gIH1cblxuXG4gIC8qKiBAcmV0dXJuIHshUHJvbWlzZX0gKi9cbiAgd2hlbkxvYWRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlTG9hZFByb21pc2VfO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgbWFya1BhZ2VBc0xvYWRlZF8oKSB7XG4gICAgZGlzcGF0Y2godGhpcy5lbGVtZW50LCBFdmVudFR5cGUuUEFHRV9MT0FERUQsIHRydWUpO1xuICAgIHRoaXMubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChQQUdFX0xPQURFRF9DTEFTU19OQU1FKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwcmVyZW5kZXJBbGxvd2VkKCkge1xuICAgIHJldHVybiB0aGlzLnByZXJlbmRlckFsbG93ZWRfO1xuICB9XG5cblxuICAvKipcbiAgICogR2V0cyBhbGwgbWVkaWEgZWxlbWVudHMgb24gdGhpcyBwYWdlLlxuICAgKiBAcmV0dXJuIHshTm9kZUxpc3Q8IUVsZW1lbnQ+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0QWxsTWVkaWFfKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYXVkaW8sIHZpZGVvJyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCB2aWRlbyBlbGVtZW50cyBvbiB0aGlzIHBhZ2UuXG4gICAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRBbGxWaWRlb3NfKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIHNwZWNpZmllZCBjYWxsYmFjayB0byBlYWNoIG1lZGlhIGVsZW1lbnQgb24gdGhlIHBhZ2UsIGFmdGVyIHRoZVxuICAgKiBtZWRpYSBlbGVtZW50IGlzIGxvYWRlZC5cbiAgICogQHBhcmFtIHshZnVuY3Rpb24oIS4vbWVkaWEtcG9vbC5NZWRpYVBvb2wsICFFbGVtZW50KX0gY2FsbGJhY2tGbiBUaGVcbiAgICogICAgIGNhbGxiYWNrIHRvIGJlIGFwcGxpZWQgdG8gZWFjaCBtZWRpYSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZC5cbiAgICovXG4gIHdoZW5BbGxNZWRpYUVsZW1lbnRzXyhjYWxsYmFja0ZuKSB7XG4gICAgY29uc3QgbWVkaWFTZXQgPSB0aGlzLmdldEFsbE1lZGlhXygpO1xuICAgIHJldHVybiB0aGlzLm1lZGlhUG9vbFByb21pc2VfLnRoZW4obWVkaWFQb29sID0+IHtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKG1lZGlhU2V0LCBtZWRpYUVsID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrRm4obWVkaWFQb29sLCBtZWRpYUVsKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogUGF1c2VzIGFsbCBtZWRpYSBvbiB0aGlzIHBhZ2UuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJld2luZFRvQmVnaW5uaW5nIFdoZXRoZXIgdG8gcmV3aW5kIHRoZSBjdXJyZW50VGltZVxuICAgKiAgICAgb2YgbWVkaWEgaXRlbXMgdG8gdGhlIGJlZ2lubmluZy5cbiAgICogQHJldHVybiB7IVByb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwYXVzZUFsbE1lZGlhXyhyZXdpbmRUb0JlZ2lubmluZyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHRoaXMud2hlbkFsbE1lZGlhRWxlbWVudHNfKChtZWRpYVBvb2wsIG1lZGlhRWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQm90VXNlckFnZW50Xykge1xuICAgICAgICBtZWRpYUVsLnBhdXNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWVkaWFQb29sLnBhdXNlKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHshSFRNTE1lZGlhRWxlbWVudH0gKi8gKG1lZGlhRWwpLCByZXdpbmRUb0JlZ2lubmluZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQbGF5cyBhbGwgbWVkaWEgb24gdGhpcyBwYWdlLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBsYXlBbGxNZWRpYV8oKSB7XG4gICAgcmV0dXJuIHRoaXMud2hlbkFsbE1lZGlhRWxlbWVudHNfKChtZWRpYVBvb2wsIG1lZGlhRWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQm90VXNlckFnZW50Xykge1xuICAgICAgICBtZWRpYUVsLnBsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZWRpYVBvb2wucGxheSgvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAobWVkaWFFbCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogUHJlbG9hZHMgYWxsIG1lZGlhIG9uIHRoaXMgcGFnZS5cbiAgICogQHJldHVybiB7IVByb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcmVsb2FkQWxsTWVkaWFfKCkge1xuICAgIHJldHVybiB0aGlzLndoZW5BbGxNZWRpYUVsZW1lbnRzXygobWVkaWFQb29sLCBtZWRpYUVsKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0JvdFVzZXJBZ2VudF8pIHtcbiAgICAgICAgLy8gTm8tb3AuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWVkaWFQb29sLnByZWxvYWQoLyoqIEB0eXBlIHshSFRNTE1lZGlhRWxlbWVudH0gKi8gKG1lZGlhRWwpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE11dGVzIGFsbCBtZWRpYSBvbiB0aGlzIHBhZ2UuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxuICAgKi9cbiAgbXV0ZUFsbE1lZGlhKCkge1xuICAgIHJldHVybiB0aGlzLndoZW5BbGxNZWRpYUVsZW1lbnRzXygobWVkaWFQb29sLCBtZWRpYUVsKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0JvdFVzZXJBZ2VudF8pIHtcbiAgICAgICAgbWVkaWFFbC5tdXRlZCA9IHRydWU7XG4gICAgICAgIG1lZGlhRWwuc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZWRpYVBvb2wubXV0ZSgvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAobWVkaWFFbCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogVW5tdXRlcyBhbGwgbWVkaWEgb24gdGhpcyBwYWdlLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZC5cbiAgICovXG4gIHVubXV0ZUFsbE1lZGlhKCkge1xuICAgIHJldHVybiB0aGlzLndoZW5BbGxNZWRpYUVsZW1lbnRzXygobWVkaWFQb29sLCBtZWRpYUVsKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0JvdFVzZXJBZ2VudF8pIHtcbiAgICAgICAgbWVkaWFFbC5tdXRlZCA9IGZhbHNlO1xuICAgICAgICBtZWRpYUVsLnJlbW92ZUF0dHJpYnV0ZSgnbXV0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZWRpYVBvb2wudW5tdXRlKC8qKiBAdHlwZSB7IUhUTUxNZWRpYUVsZW1lbnR9ICovIChtZWRpYUVsKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYWxsIG1lZGlhIG9uIHRoaXMgcGFnZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlZ2lzdGVyQWxsTWVkaWFfKCkge1xuICAgIHJldHVybiB0aGlzLndoZW5BbGxNZWRpYUVsZW1lbnRzXygobWVkaWFQb29sLCBtZWRpYUVsKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0JvdFVzZXJBZ2VudF8pIHtcbiAgICAgICAgLy8gTm8tb3AuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWVkaWFQb29sLnJlZ2lzdGVyKC8qKiBAdHlwZSB7IUhUTUxNZWRpYUVsZW1lbnR9ICovIChtZWRpYUVsKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTdGFydHMgcGxheWluZyBhbmltYXRpb25zLCBpZiB0aGUgYW5pbWF0aW9uIG1hbmFnZXIgaXMgYXZhaWxhYmxlLlxuICAgKi9cbiAgbWF5YmVTdGFydEFuaW1hdGlvbnMoKSB7XG4gICAgaWYgKCF0aGlzLmFuaW1hdGlvbk1hbmFnZXJfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlcl8uYW5pbWF0ZUluKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIG1heWJlQXBwbHlGaXJzdEFuaW1hdGlvbkZyYW1lKCkge1xuICAgIGlmICghdGhpcy5hbmltYXRpb25NYW5hZ2VyXykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25NYW5hZ2VyXy5hcHBseUZpcnN0RnJhbWUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNjYWxlXygpIHtcbiAgICBjb25zdCBzdG9yeUVsID0gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgcmV0dXJuIFBhZ2VTY2FsaW5nU2VydmljZS5mb3Ioc3RvcnlFbCkuc2NhbGUodGhpcy5lbGVtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlXG4gICAqL1xuICBzZXRBY3RpdmUoaXNBY3RpdmUpIHtcbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FjdGl2ZScsICcnKTtcbiAgICAgIHRoaXMuYmVmb3JlVmlzaWJsZSgpO1xuICAgICAgdGhpcy5yZXN1bWVDYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMucGF1c2VDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRpc3RhbmNlIGZyb20gdGhlIGN1cnJlbnQgcGFnZSB0byB0aGUgYWN0aXZlIHBhZ2UuXG4gICAqL1xuICBnZXREaXN0YW5jZSgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzdGFuY2UnKSwgMTApO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjdXJyZW50IHBhZ2UgdG8gdGhlIGFjdGl2ZVxuICAgKiAgICAgcGFnZS5cbiAgICovXG4gIHNldERpc3RhbmNlKGRpc3RhbmNlKSB7XG4gICAgLy8gVE9ETyhjY29yZHJ5KSByZWZhY3RvciB0aGlzIHdoZW4gcGFnZXMgYXJlIG1hbmFnZWRcbiAgICBpZiAodGhpcy5pc0FkKCkpIHtcbiAgICAgIGRpc3RhbmNlID0gTWF0aC5taW4oZGlzdGFuY2UsIDIpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc3RhbmNlJywgZGlzdGFuY2UpO1xuICAgIHRoaXMucmVnaXN0ZXJBbGxNZWRpYV8oKTtcbiAgICBpZiAoZGlzdGFuY2UgPiAwICYmIGRpc3RhbmNlIDw9IDIpIHtcbiAgICAgIHRoaXMucHJlbG9hZEFsbE1lZGlhXygpO1xuICAgICAgdGhpcy5zY2FsZV8oKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoaXMgcGFnZSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2FjdGl2ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgcGFnZSBoYXMgY2hhbmdlZFxuICAgKiB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJvZ3Jlc3MgVGhlIHByb2dyZXNzIGZyb20gMC4wIHRvIDEuMC5cbiAgICovXG4gIGVtaXRQcm9ncmVzc18ocHJvZ3Jlc3MpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGljdCh7XG4gICAgICAncGFnZUlkJzogdGhpcy5lbGVtZW50LmlkLFxuICAgICAgJ3Byb2dyZXNzJzogcHJvZ3Jlc3MsXG4gICAgfSk7XG4gICAgY29uc3QgZXZlbnRJbml0ID0ge2J1YmJsZXM6IHRydWV9O1xuICAgIGRpc3BhdGNoQ3VzdG9tKHRoaXMud2luLCB0aGlzLmVsZW1lbnQsIEV2ZW50VHlwZS5QQUdFX1BST0dSRVNTLCBwYXlsb2FkLFxuICAgICAgICBldmVudEluaXQpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgb2YgdGhlIHBhZ2VzIHRoYXQgYXJlIG9uZSBob3AgZnJvbSB0aGlzIHBhZ2UuXG4gICAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fVxuICAgKi9cbiAgZ2V0QWRqYWNlbnRQYWdlSWRzKCkge1xuICAgIGNvbnN0IGFkamFjZW50UGFnZUlkcyA9IFtdO1xuXG4gICAgY29uc3QgYXV0b0FkdmFuY2VOZXh0ID1cbiAgICAgICAgdGhpcy5nZXROZXh0UGFnZUlkKHRydWUgLyogb3B0X2lzQXV0b21hdGljQWR2YW5jZSAqLyk7XG4gICAgY29uc3QgbWFudWFsQWR2YW5jZU5leHQgPVxuICAgICAgICB0aGlzLmdldE5leHRQYWdlSWQoZmFsc2UgLyogb3B0X2lzQXV0b21hdGljQWR2YW5jZSAqLyk7XG4gICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLmdldFByZXZpb3VzUGFnZUlkXygpO1xuXG4gICAgaWYgKGF1dG9BZHZhbmNlTmV4dCkge1xuICAgICAgYWRqYWNlbnRQYWdlSWRzLnB1c2goYXV0b0FkdmFuY2VOZXh0KTtcbiAgICB9XG5cbiAgICBpZiAobWFudWFsQWR2YW5jZU5leHQgJiYgbWFudWFsQWR2YW5jZU5leHQgIT0gYXV0b0FkdmFuY2VOZXh0KSB7XG4gICAgICBhZGphY2VudFBhZ2VJZHMucHVzaChtYW51YWxBZHZhbmNlTmV4dCk7XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICBhZGphY2VudFBhZ2VJZHMucHVzaChwcmV2aW91cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkamFjZW50UGFnZUlkcztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIElEIG9mIHRoZSBwcmV2aW91cyBwYWdlIGluIHRoZSBzdG9yeSAoYmVmb3JlIHRoZSBjdXJyZW50IHBhZ2UpLlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBSZXR1cm5zIHRoZSBJRCBvZiB0aGUgbmV4dCBwYWdlIGluIHRoZSBzdG9yeSwgb3IgbnVsbCBpZlxuICAgKiAgICAgdGhlcmUgaXNuJ3Qgb25lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UHJldmlvdXNQYWdlSWRfKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKCdpLWFtcGh0bWwtcmV0dXJuLXRvJykpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpLWFtcGh0bWwtcmV0dXJuLXRvJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gdGhpcy5lbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKHByZXZpb3VzRWxlbWVudCAmJiBwcmV2aW91c0VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBUQUcpIHtcbiAgICAgIHJldHVybiBwcmV2aW91c0VsZW1lbnQuaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBJRCBvZiB0aGUgbmV4dCBwYWdlIGluIHRoZSBzdG9yeSAoYWZ0ZXIgdGhlIGN1cnJlbnQgcGFnZSkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UgV2hldGhlciB0aGlzIG5hdmlnYXRpb24gd2FzIGNhdXNlZFxuICAgKiAgICAgYnkgYW4gYXV0b21hdGljIGFkdmFuY2VtZW50IGFmdGVyIGEgdGltZW91dC5cbiAgICogQHJldHVybiB7P3N0cmluZ30gUmV0dXJucyB0aGUgSUQgb2YgdGhlIG5leHQgcGFnZSBpbiB0aGUgc3RvcnksIG9yIG51bGwgaWZcbiAgICogICAgIHRoZXJlIGlzbid0IG9uZS5cbiAgICovXG4gIGdldE5leHRQYWdlSWQob3B0X2lzQXV0b21hdGljQWR2YW5jZSkge1xuICAgIGlmIChvcHRfaXNBdXRvbWF0aWNBZHZhbmNlICYmXG4gICAgICAgIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2F1dG8tYWR2YW5jZS10bycpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnYXV0by1hZHZhbmNlLXRvJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2ktYW1waHRtbC1hZHZhbmNlLXRvJykpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpLWFtcGh0bWwtYWR2YW5jZS10bycpO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRFbGVtZW50ID0gdGhpcy5lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICBpZiAobmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBUQUcpIHtcbiAgICAgIHJldHVybiBuZXh0RWxlbWVudC5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlcyB0byB0aGUgcHJldmlvdXMgcGFnZSBpbiB0aGUgc3RvcnkuXG4gICAqL1xuICBwcmV2aW91cygpIHtcbiAgICBjb25zdCB0YXJnZXRQYWdlSWQgPSB0aGlzLmdldFByZXZpb3VzUGFnZUlkXygpO1xuXG4gICAgaWYgKHRhcmdldFBhZ2VJZCA9PT0gbnVsbCkge1xuICAgICAgZGlzcGF0Y2godGhpcy5lbGVtZW50LCBFdmVudFR5cGUuU0hPV19OT19QUkVWSU9VU19QQUdFX0hFTFAsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3dpdGNoVG9fKHRhcmdldFBhZ2VJZCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZXMgdG8gdGhlIG5leHQgcGFnZSBpbiB0aGUgc3RvcnkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UgV2hldGhlciB0aGlzIG5hdmlnYXRpb24gd2FzIGNhdXNlZFxuICAgKiAgICAgYnkgYW4gYXV0b21hdGljIGFkdmFuY2VtZW50IGFmdGVyIGEgdGltZW91dC5cbiAgICovXG4gIG5leHQob3B0X2lzQXV0b21hdGljQWR2YW5jZSkge1xuICAgIGNvbnN0IHBhZ2VJZCA9IHRoaXMuZ2V0TmV4dFBhZ2VJZChvcHRfaXNBdXRvbWF0aWNBZHZhbmNlKTtcblxuICAgIGlmICghcGFnZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zd2l0Y2hUb18ocGFnZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxlZ2F0ZWQgdGhlIG5hdmlnYXRpb24gZGVjaXNpb24gdG8gQU1QLVNUT1JZIHZpYSBldmVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIGluIHdoaWNoIG5hdmlnYXRpb24gbmVlZHMgdG8gdGFrZXMgcGxhY2UuXG4gICAqL1xuICBuYXZpZ2F0ZU9uVGFwKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IHBheWxvYWQgPSBkaWN0KHsnZGlyZWN0aW9uJzogZGlyZWN0aW9ufSk7XG4gICAgY29uc3QgZXZlbnRJbml0ID0ge2J1YmJsZXM6IHRydWV9O1xuICAgIGRpc3BhdGNoQ3VzdG9tKHRoaXMud2luLCB0aGlzLmVsZW1lbnQsIEV2ZW50VHlwZS5UQVBfTkFWSUdBVElPTiwgcGF5bG9hZCxcbiAgICAgICAgZXZlbnRJbml0KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRQYWdlSWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN3aXRjaFRvXyh0YXJnZXRQYWdlSWQpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGljdCh7J3RhcmdldFBhZ2VJZCc6IHRhcmdldFBhZ2VJZH0pO1xuICAgIGNvbnN0IGV2ZW50SW5pdCA9IHtidWJibGVzOiB0cnVlfTtcbiAgICBkaXNwYXRjaEN1c3RvbSh0aGlzLndpbiwgdGhpcy5lbGVtZW50LCBFdmVudFR5cGUuU1dJVENIX1BBR0UsIHBheWxvYWQsXG4gICAgICAgIGV2ZW50SW5pdCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVwb3J0RGV2TW9kZUVycm9yc18oKSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnZXRMb2dFbnRyaWVzKHRoaXMuZWxlbWVudCkudGhlbihsb2dFbnRyaWVzID0+IHtcbiAgICAgIGRpc3BhdGNoQ3VzdG9tKHRoaXMud2luLCB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgRXZlbnRUeXBlLkRFVl9MT0dfRU5UUklFU19BVkFJTEFCTEUsXG4gICAgICAgICAgLy8gPyBpcyBPSyBiZWNhdXNlIGFsbCBjb25zdW1lcnMgYXJlIGludGVybmFsLlxuICAgICAgICAgIC8qKiBAdHlwZSB7P30gKi8gKGxvZ0VudHJpZXMpLCB7YnViYmxlczogdHJ1ZX0pO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogRGlzcGxheXMgYSBsb2FkaW5nIHNwaW5uZXIgd2hlbmV2ZXIgdGhlIHZpZGVvIGlzIGJ1ZmZlcmluZy5cbiAgICogSGFzIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgbWVkaWFQb29sIHByZWxvYWQgbWV0aG9kLCB0aGF0IHN3YXBzIHRoZSB2aWRlb1xuICAgKiBlbGVtZW50cyB3aXRoIG5ldyBhbXAgZWxlbWVudHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGFydExpc3RlbmluZ1RvVmlkZW9FdmVudHNfKCkge1xuICAgIGNvbnN0IHZpZGVvcyA9IHRoaXMuZ2V0QWxsVmlkZW9zXygpO1xuXG4gICAgaWYgKHZpZGVvcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlYm91bmNlVG9nZ2xlTG9hZGluZ1NwaW5uZXJfKHRydWUpO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodmlkZW9zLCB2aWRlb0VsID0+IHtcbiAgICAgIHRoaXMudW5saXN0ZW5lcnNfLnB1c2gobGlzdGVuKFxuICAgICAgICAgIHZpZGVvRWwsICdwbGF5aW5nJywgKCkgPT4gdGhpcy5kZWJvdW5jZVRvZ2dsZUxvYWRpbmdTcGlubmVyXyhmYWxzZSkpKTtcbiAgICAgIHRoaXMudW5saXN0ZW5lcnNfLnB1c2gobGlzdGVuKFxuICAgICAgICAgIHZpZGVvRWwsICd3YWl0aW5nJywgKCkgPT4gdGhpcy5kZWJvdW5jZVRvZ2dsZUxvYWRpbmdTcGlubmVyXyh0cnVlKSkpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0b3BMaXN0ZW5pbmdUb1ZpZGVvRXZlbnRzXygpIHtcbiAgICB0aGlzLmRlYm91bmNlVG9nZ2xlTG9hZGluZ1NwaW5uZXJfKGZhbHNlKTtcbiAgICB0aGlzLnVubGlzdGVuZXJzXy5mb3JFYWNoKHVubGlzdGVuID0+IHVubGlzdGVuKCkpO1xuICAgIHRoaXMudW5saXN0ZW5lcnNfID0gW107XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnVpbGRBbmRBcHBlbmRMb2FkaW5nU3Bpbm5lcl8oKSB7XG4gICAgdGhpcy5sb2FkaW5nU3Bpbm5lcl8gPSBuZXcgTG9hZGluZ1NwaW5uZXIodGhpcy53aW4uZG9jdW1lbnQpO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmxvYWRpbmdTcGlubmVyXy5idWlsZCgpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhhcyB0byBiZSBjYWxsZWQgdGhyb3VnaCB0aGUgYGRlYm91bmNlVG9nZ2xlTG9hZGluZ1NwaW5uZXJfYCBtZXRob2QsIHRvXG4gICAqIGF2b2lkIHRoZSBzcGlubmVyIGZsYXNoaW5nIG9uIHRoZSBzY3JlZW4gd2hlbiB0aGUgdmlkZW8gbG9vcHMsIG9yIGR1cmluZ1xuICAgKiBuYXZpZ2F0aW9uIHRyYW5zaXRpb25zLlxuICAgKiBCdWlsZHMgdGhlIGxvYWRpbmcgc3Bpbm5lciBhbmQgYXR0YWNoZXMgaXQgdG8gdGhlIERPTSBvbiBmaXJzdCBjYWxsLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0b2dnbGVMb2FkaW5nU3Bpbm5lcl8oaXNBY3RpdmUpIHtcbiAgICB0aGlzLmdldFZzeW5jKCkubXV0YXRlKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5sb2FkaW5nU3Bpbm5lcl8pIHtcbiAgICAgICAgdGhpcy5idWlsZEFuZEFwcGVuZExvYWRpbmdTcGlubmVyXygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvYWRpbmdTcGlubmVyXy50b2dnbGUoaXNBY3RpdmUpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogY2hlY2sgdG8gc2VlIGlmIHRoaXMgcGFnZSBpcyBhIHdyYXBwZXIgZm9yIGFuIGFkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0FkKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKEFEVkVSVElTRU1FTlRfQVRUUl9OQU1FKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2dldEFtcGRvY30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2UnO1xuaW1wb3J0IHtvbmNlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvZnVuY3Rpb24nO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IEJPT0tFTkRfQ09ORklHX0FUVFJJQlVURV9OQU1FID0gJ2Jvb2tlbmQtY29uZmlnLXNyYyc7XG5cblxuLyoqXG4gKiBTZXJ2aWNlIHRvIHNlbmQgWEhScy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5UmVxdWVzdFNlcnZpY2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gc3RvcnlFbGVtZW50XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIHN0b3J5RWxlbWVudCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuc3RvcnlFbGVtZW50XyA9IHN0b3J5RWxlbWVudDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS94aHItaW1wbC5YaHJ9ICovXG4gICAgdGhpcy54aHJfID0gU2VydmljZXMueGhyRm9yKHdpbik7XG5cbiAgICAvKiogQGNvbnN0IEB0eXBlIHtmdW5jdGlvbigpOighUHJvbWlzZTwhSnNvbk9iamVjdD58IVByb21pc2U8bnVsbD4pfSAqL1xuICAgIHRoaXMubG9hZEJvb2tlbmRDb25maWcgPSBvbmNlKCgpID0+IHRoaXMubG9hZEJvb2tlbmRDb25maWdJbXBsXygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIHB1Ymxpc2hlciBib29rZW5kIGNvbmZpZ3VyYXRpb24sIGluY2x1ZGluZyB0aGUgc2hhcmVcbiAgICogcHJvdmlkZXJzLlxuICAgKiBIYXMgdG8gYmUgY2FsbGVkIHRocm91Z2ggYGxvYWRCb29rZW5kQ29uZmlnYC5cbiAgICogQHJldHVybiB7KCFQcm9taXNlPCFKc29uT2JqZWN0PnwhUHJvbWlzZTxudWxsPil9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsb2FkQm9va2VuZENvbmZpZ0ltcGxfKCkge1xuICAgIHJldHVybiB0aGlzLmxvYWRKc29uRnJvbUF0dHJpYnV0ZV8oQk9PS0VORF9DT05GSUdfQVRUUklCVVRFX05BTUUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lXG4gICAqIEByZXR1cm4geyghUHJvbWlzZTwhSnNvbk9iamVjdD58IVByb21pc2U8bnVsbD4pfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZEpzb25Gcm9tQXR0cmlidXRlXyhhdHRyaWJ1dGVOYW1lKSB7XG4gICAgaWYgKCF0aGlzLnN0b3J5RWxlbWVudF8uaGFzQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cblxuICAgIGNvbnN0IHJhd1VybCA9IHRoaXMuc3RvcnlFbGVtZW50Xy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgY29uc3Qgb3B0cyA9IHt9O1xuICAgIG9wdHMucmVxdWlyZUFtcFJlc3BvbnNlU291cmNlT3JpZ2luID0gZmFsc2U7XG5cbiAgICByZXR1cm4gU2VydmljZXMudXJsUmVwbGFjZW1lbnRzRm9yRG9jKGdldEFtcGRvYyh0aGlzLnN0b3J5RWxlbWVudF8pKVxuICAgICAgICAuZXhwYW5kVXJsQXN5bmModXNlcigpLmFzc2VydFN0cmluZyhyYXdVcmwpKVxuICAgICAgICAudGhlbih1cmwgPT4gdGhpcy54aHJfLmZldGNoSnNvbih1cmwsIG9wdHMpKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgdXNlcigpLmFzc2VydChyZXNwb25zZS5vaywgJ0ludmFsaWQgSFRUUCByZXNwb25zZScpO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBY3Rpb24sIFN0YXRlUHJvcGVydHl9IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtDU1N9IGZyb20gJy4uLy4uLy4uL2J1aWxkL2FtcC1zdG9yeS1zaGFyZS1tZW51LTAuMS5jc3MnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7U2hhcmVXaWRnZXR9IGZyb20gJy4vYW1wLXN0b3J5LXNoYXJlJztcbmltcG9ydCB7Y2xvc2VzdH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2NyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGV9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuLy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRBbXBkb2N9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlJztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5pbXBvcnQge3NldFN0eWxlfSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuXG5cbi8qKiBAY29uc3Qge3N0cmluZ30gQ2xhc3MgdG8gdG9nZ2xlIHRoZSBzaGFyZSBtZW51LiAqL1xuZXhwb3J0IGNvbnN0IFZJU0lCTEVfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LXNoYXJlLW1lbnUtdmlzaWJsZSc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gQ2xhc3MgZm9yIHRoZSBzaGFyZSB3aWRnZXQgY29tcG9uZW50IGNvbnRhaW5lci4gKi9cbmNvbnN0IFNIQVJFX1dJREdFVF9DT05UQUlORVJfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LXNoYXJlLW1lbnUtY29udGFpbmVyJztcblxuLyoqXG4gKiBRdWljayBzaGFyZSB0ZW1wbGF0ZSwgdXNlZCBhcyBhIGZhbGxiYWNrIGlmIG5hdGl2ZSBzaGFyaW5nIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfVxuICovXG5jb25zdCBURU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudSBpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0J30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogU0hBUkVfV0lER0VUX0NPTlRBSU5FUl9DTEFTU30pLFxuICAgICAgY2hpbGRyZW46IFtdLFxuICAgIH0sXG4gIF0sXG59O1xuXG4vKipcbiAqIFN5c3RlbSBhbXAtc29jaWFsLXNoYXJlIGJ1dHRvbiB0ZW1wbGF0ZS5cbiAqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmNvbnN0IEFNUF9TT0NJQUxfU1lTVEVNX1NIQVJFX1RFTVBMQVRFID0ge1xuICB0YWc6ICdhbXAtc29jaWFsLXNoYXJlJyxcbiAgYXR0cnM6IC8qKiBAdHlwZSB7IUpzb25PYmplY3R9ICovIChkaWN0KHsndHlwZSc6ICdzeXN0ZW0nfSkpLFxufTtcblxuXG4vKipcbiAqIFNoYXJlIG1lbnUgVUkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFyZU1lbnUge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50RWwgRWxlbWVudCB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbXBvbmVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBwYXJlbnRFbCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5pbm5lckNvbnRhaW5lckVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFTaGFyZVdpZGdldH0gKi9cbiAgICB0aGlzLnNoYXJlV2lkZ2V0XyA9IFNoYXJlV2lkZ2V0LmNyZWF0ZSh0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfID0gU2VydmljZXMuc3RvcnlTdG9yZVNlcnZpY2VWMDEodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMucGFyZW50RWxfID0gcGFyZW50RWw7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHRoaXMud2luXyk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGFuZCBhcHBlbmRzIHRoZSBjb21wb25lbnQgaW4gdGhlIHN0b3J5LiBDb3VsZCBidWlsZCBlaXRoZXIgdGhlXG4gICAqIGFtcC1zb2NpYWwtc2hhcmUgYnV0dG9uIHRvIGRpc3BsYXkgdGhlIG5hdGl2ZSBzeXN0ZW0gc2hhcmluZywgb3IgYSBmYWxsYmFja1xuICAgKiBVSS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLmlzQnVpbHQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNCdWlsdF8gPSB0cnVlO1xuXG4gICAgdGhpcy5pc1N5c3RlbVNoYXJlU3VwcG9ydGVkXyA9XG4gICAgICAgIHRoaXMuc2hhcmVXaWRnZXRfLmlzU3lzdGVtU2hhcmVTdXBwb3J0ZWQoZ2V0QW1wZG9jKHRoaXMucGFyZW50RWxfKSk7XG5cbiAgICB0aGlzLmlzU3lzdGVtU2hhcmVTdXBwb3J0ZWRfID9cbiAgICAgIHRoaXMuYnVpbGRGb3JTeXN0ZW1TaGFyaW5nXygpIDpcbiAgICAgIHRoaXMuYnVpbGRGb3JGYWxsYmFja1NoYXJpbmdfKCk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgZWxlbWVudCBoYXMgYmVlbiBidWlsdC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQnVpbHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNCdWlsdF87XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGEgaGlkZGVuIGFtcC1zb2NpYWwtc2hhcmUgYnV0dG9uIHRoYXQgdHJpZ2dlcnMgdGhlIG5hdGl2ZSBzeXN0ZW1cbiAgICogc2hhcmluZyBVSS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ1aWxkRm9yU3lzdGVtU2hhcmluZ18oKSB7XG4gICAgdGhpcy5zaGFyZVdpZGdldF8ubG9hZFJlcXVpcmVkRXh0ZW5zaW9ucyhnZXRBbXBkb2ModGhpcy5wYXJlbnRFbF8pKTtcbiAgICB0aGlzLmVsZW1lbnRfID1cbiAgICAgICAgcmVuZGVyQXNFbGVtZW50KHRoaXMud2luXy5kb2N1bWVudCwgQU1QX1NPQ0lBTF9TWVNURU1fU0hBUkVfVEVNUExBVEUpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzXygpO1xuXG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudF8sICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIHRoaXMucGFyZW50RWxfLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgYXBwZW5kcyB0aGUgZmFsbGJhY2sgVUkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZEZvckZhbGxiYWNrU2hhcmluZ18oKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHRoaXMuZWxlbWVudF8gPSByZW5kZXJBc0VsZW1lbnQodGhpcy53aW5fLmRvY3VtZW50LCBURU1QTEFURSk7XG4gICAgY3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZShyb290LCB0aGlzLmVsZW1lbnRfLCBDU1MpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzXygpO1xuXG4gICAgdGhpcy52c3luY18ucnVuKHtcbiAgICAgIG1lYXN1cmU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsXyA9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfXG4gICAgICAgICAgICAgICAgLi8qT0sqL3F1ZXJ5U2VsZWN0b3IoYC4ke1NIQVJFX1dJREdFVF9DT05UQUlORVJfQ0xBU1N9YCk7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucGFyZW50RWxfLmFwcGVuZENoaWxkKHJvb3QpO1xuICAgICAgICAvLyBQcmVsb2FkcyBhbmQgcmVuZGVycyB0aGUgc2hhcmUgd2lkZ2V0IGNvbnRlbnQuXG4gICAgICAgIGNvbnN0IHNoYXJlV2lkZ2V0ID0gdGhpcy5zaGFyZVdpZGdldF8uYnVpbGQoZ2V0QW1wZG9jKHRoaXMucGFyZW50RWxfKSk7XG4gICAgICAgIHRoaXMuaW5uZXJDb250YWluZXJFbF8uYXBwZW5kQ2hpbGQoc2hhcmVXaWRnZXQpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LlNIQVJFX01FTlVfU1RBVEUsIGlzT3BlbiA9PiB7XG4gICAgICB0aGlzLm9uU2hhcmVNZW51U3RhdGVVcGRhdGVfKGlzT3Blbik7XG4gICAgfSk7XG5cbiAgICAvLyBEb24ndCBsaXN0ZW4gdG8gY2xpY2sgZXZlbnRzIGlmIHRoZSBzeXN0ZW0gc2hhcmUgaXMgc3VwcG9ydGVkLCBzaW5jZSB0aGVcbiAgICAvLyBuYXRpdmUgbGF5ZXIgaGFuZGxlcyBhbGwgdGhlIFVJIGludGVyYWN0aW9ucy5cbiAgICBpZiAoIXRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZF8pIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnY2xpY2snLCBldmVudCA9PiB0aGlzLm9uU2hhcmVNZW51Q2xpY2tfKGV2ZW50KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBtZW51IHN0YXRlIHVwZGF0ZXMgYW5kIGRlY2lkZXMgd2hldGhlciB0byBzaG93IGVpdGhlciB0aGUgbmF0aXZlXG4gICAqIHN5c3RlbSBzaGFyaW5nLCBvciB0aGUgZmFsbGJhY2sgVUkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPcGVuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblNoYXJlTWVudVN0YXRlVXBkYXRlXyhpc09wZW4pIHtcbiAgICBpZiAodGhpcy5pc1N5c3RlbVNoYXJlU3VwcG9ydGVkXyAmJiBpc09wZW4pIHtcbiAgICAgIC8vIERpc3BhdGNoZXMgYSBjbGljayBldmVudCBvbiB0aGUgYW1wLXNvY2lhbC1zaGFyZSBidXR0b24gdG8gdHJpZ2dlciB0aGVcbiAgICAgIC8vIG5hdGl2ZSBzeXN0ZW0gc2hhcmluZyBVSS4gVGhpcyBoYXMgdG8gYmUgZG9uZSB1cG9uIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICB0aGlzLmVsZW1lbnRfLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGljaycpKTtcblxuICAgICAgLy8gVGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgd2hlbiB0aGUgdXNlciBkaXNtaXNzZXMgdGhlIG5hdGl2ZSBzeXN0ZW0gc2hhcmVcbiAgICAgIC8vIG1lbnUsIHNvIHdlIHByZXRlbmQgaXQgaXMgY2xvc2VkIG9uIHRoZSBzdG9yeSBlbmQsIGFuZCBsZXQgdGhlIG5hdGl2ZVxuICAgICAgLy8gZW5kIGhhbmRsZSB0aGUgVUkgaW50ZXJhY3Rpb25zLlxuICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZF8pIHtcbiAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnRvZ2dsZShWSVNJQkxFX0NMQVNTLCBpc09wZW4pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIGFuZCBtYXliZSBjbG9zZXMgdGhlIG1lbnUgZm9yIHRoZSBmYWxsYmFjayBVSS5cbiAgICogQHBhcmFtICB7IUV2ZW50fSBldmVudFxuICAgKi9cbiAgb25TaGFyZU1lbnVDbGlja18oZXZlbnQpIHtcbiAgICBjb25zdCBlbCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAvLyBDbG9zZXMgdGhlIG1lbnUgaWYgY2xpY2sgaGFwcGVuZWQgb3V0c2lkZSBvZiB0aGUgbWVudSBtYWluIGNvbnRhaW5lci5cbiAgICBpZiAoIWNsb3Nlc3QoZWwsIGVsID0+IGVsID09PSB0aGlzLmlubmVyQ29udGFpbmVyRWxfLCB0aGlzLmVsZW1lbnRfKSkge1xuICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBzaGFyZSBtZW51LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2xvc2VfKCkge1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX1NIQVJFX01FTlUsIGZhbHNlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtUb2FzdH0gZnJvbSAnLi90b2FzdCc7XG5pbXBvcnQge1xuICBjb3B5VGV4dFRvQ2xpcGJvYXJkLFxuICBpc0NvcHlpbmdUb0NsaXBib2FyZFN1cHBvcnRlZCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2NsaXBib2FyZCc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3QsIG1hcH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7aXNPYmplY3R9IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge2xpc3Rlbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge3B4LCBzZXRJbXBvcnRhbnRTdHlsZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5pbXBvcnQge3JlbmRlckFzRWxlbWVudCwgcmVuZGVyU2ltcGxlVGVtcGxhdGV9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcbmltcG9ydCB7dGhyb3R0bGV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9yYXRlLWxpbWl0JztcblxuXG4vKipcbiAqIE1hcHMgc2hhcmUgcHJvdmlkZXIgdHlwZSB0byB2aXNpYmxlIG5hbWUuXG4gKiBJZiB0aGUgbmFtZSBvbmx5IG5lZWRzIHRvIGJlIGNhcGl0YWxpemVkIChlLmcuIGBmYWNlYm9va2AgdG8gYEZhY2Vib29rYCkgaXRcbiAqIGRvZXMgbm90IG5lZWQgdG8gYmUgaW5jbHVkZWQgaGVyZS5cbiAqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFMb2NhbGl6ZWRTdHJpbmdJZD59XG4gKi9cbmNvbnN0IFNIQVJFX1BST1ZJREVSX0xPQ0FMSVpFRF9TVFJJTkdfSUQgPSBtYXAoe1xuICAnc3lzdGVtJzogTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU0sXG4gICdlbWFpbCc6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUwsXG4gICdmYWNlYm9vayc6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0ssXG4gICdsaW5rZWRpbic6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU4sXG4gICdwaW50ZXJlc3QnOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVCxcbiAgJ2dwbHVzJzogTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVUyxcbiAgJ3R1bWJscic6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSLFxuICAndHdpdHRlcic6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUixcbiAgJ3doYXRzYXBwJzogTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUCxcbiAgJ3Ntcyc6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TLFxufSk7XG5cblxuLyoqXG4gKiBEZWZhdWx0IGxlZnQvcmlnaHQgcGFkZGluZyBmb3Igc2hhcmUgYnV0dG9ucy5cbiAqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfVxuICovXG5jb25zdCBERUZBVUxUX0JVVFRPTl9QQURESU5HID0gMTY7XG5cbi8qKlxuICogTWluaW11bSBsZWZ0L3JpZ2h0IHBhZGRpbmcgZm9yIHNoYXJlIGJ1dHRvbnMuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn1cbiAqL1xuY29uc3QgTUlOX0JVVFRPTl9QQURESU5HID0gMTA7XG5cbi8qKlxuICogS2V5IGZvciBzaGFyZSBwcm92aWRlcnMgaW4gYm9va2VuZCBjb25maWcuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFNIQVJFX1BST1ZJREVSU19LRVkgPSAnc2hhcmVQcm92aWRlcnMnO1xuXG4vKipcbiAqIERlcHJlY2F0ZWQga2V5IGZvciBzaGFyZSBwcm92aWRlcnMgaW4gYm9va2VuZCBjb25maWcuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IERFUFJFQ0FURURfU0hBUkVfUFJPVklERVJTX0tFWSA9ICdzaGFyZS1wcm92aWRlcnMnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi9cbmNvbnN0IFRFTVBMQVRFID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQnfSksXG4gIGNoaWxkcmVuOiBbe1xuICAgIHRhZzogJ3VsJyxcbiAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0J30pLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIHRhZzogJ2xpJyxcbiAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtc3lzdGVtJ30pLFxuICAgICAgfSxcbiAgICBdLFxuICB9XSxcbn07XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovXG5jb25zdCBTSEFSRV9JVEVNX1RFTVBMQVRFID0ge1xuICB0YWc6ICdsaScsXG4gIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW0nfSksXG59O1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgTElOS19TSEFSRV9JVEVNX1RFTVBMQVRFID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7XG4gICAgJ2NsYXNzJzpcbiAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uIGktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLWxpbmsnLFxuICB9KSxcbiAgbG9jYWxpemVkU3RyaW5nSWQ6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOSyxcbn07XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgU0NST0xMQUJMRV9DTEFTU05BTUUgPSAnaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlJztcblxuXG4vKipcbiAqIEBwYXJhbSB7IUpzb25PYmplY3Q9fSBvcHRfcGFyYW1zXG4gKiBAcmV0dXJuIHshSnNvbk9iamVjdH1cbiAqL1xuZnVuY3Rpb24gYnVpbGRQcm92aWRlclBhcmFtcyhvcHRfcGFyYW1zKSB7XG4gIGNvbnN0IGF0dHJzID0gZGljdCgpO1xuXG4gIGlmIChvcHRfcGFyYW1zKSB7XG4gICAgT2JqZWN0LmtleXMob3B0X3BhcmFtcykuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICBhdHRyc1tgZGF0YS1wYXJhbS0ke2ZpZWxkfWBdID0gb3B0X3BhcmFtc1tmaWVsZF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYXR0cnM7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gc2hhcmVUeXBlXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0PX0gb3B0X3BhcmFtc1xuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUHJvdmlkZXIoZG9jLCBzaGFyZVR5cGUsIG9wdF9wYXJhbXMpIHtcbiAgY29uc3Qgc2hhcmVQcm92aWRlckxvY2FsaXplZFN0cmluZ0lkID0gZGV2KCkuYXNzZXJ0KFxuICAgICAgU0hBUkVfUFJPVklERVJfTE9DQUxJWkVEX1NUUklOR19JRFtzaGFyZVR5cGVdLFxuICAgICAgYE5vIGxvY2FsaXplZCBzdHJpbmcgdG8gZGlzcGxheSBuYW1lIGZvciBzaGFyZSB0eXBlICR7c2hhcmVUeXBlfS5gKTtcblxuICByZXR1cm4gcmVuZGVyU2ltcGxlVGVtcGxhdGUoZG9jLFxuICAgICAgLyoqIEB0eXBlIHshQXJyYXk8IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWY+fSAqLyAoW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnYW1wLXNvY2lhbC1zaGFyZScsXG4gICAgICAgICAgYXR0cnM6IC8qKiBAdHlwZSB7IUpzb25PYmplY3R9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICBkaWN0KHtcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiA0OCxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogNjYsXG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6IHNoYXJlVHlwZSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGJ1aWxkUHJvdmlkZXJQYXJhbXMob3B0X3BhcmFtcykpKSxcbiAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDogc2hhcmVQcm92aWRlckxvY2FsaXplZFN0cmluZ0lkLFxuICAgICAgICB9LFxuICAgICAgXSkpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ29weVN1Y2Nlc3NmdWxUb2FzdChkb2MsIHVybCkge1xuICByZXR1cm4gcmVuZGVyQXNFbGVtZW50KGRvYywgLyoqIEB0eXBlIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi8gKHtcbiAgICB0YWc6ICdkaXYnLFxuICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWNvcHktc3VjY2Vzc2Z1bCd9KSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb3B5LXVybCd9KSxcbiAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IHVybCxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSkpO1xufVxuXG5cbi8qKlxuICogU29jaWFsIHNoYXJlIHdpZGdldCBmb3Igc3RvcnkgYm9va2VuZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYXJlV2lkZ2V0IHtcbiAgLyoqIEBwYXJhbSB7IVdpbmRvd30gd2luICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKiBAcHJpdmF0ZSB7Py4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gKi9cbiAgICB0aGlzLmFtcGRvY18gPSBudWxsO1xuXG4gICAgLyoqIEBwcm90ZWN0ZWQgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luID0gd2luO1xuXG4gICAgLyoqIEBwcm90ZWN0ZWQgez9FbGVtZW50fSAqL1xuICAgIHRoaXMucm9vdCA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9Qcm9taXNlPD8uL2xvY2FsaXphdGlvbi5Mb2NhbGl6YXRpb25TZXJ2aWNlPn0gKi9cbiAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2VQcm9taXNlXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3RvcnktcmVxdWVzdC1zZXJ2aWNlLkFtcFN0b3J5UmVxdWVzdFNlcnZpY2V9ICovXG4gICAgdGhpcy5yZXF1ZXN0U2VydmljZV8gPSBTZXJ2aWNlcy5zdG9yeVJlcXVlc3RTZXJ2aWNlVjAxKHRoaXMud2luKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0geyFXaW5kb3d9IHdpbiAqL1xuICBzdGF0aWMgY3JlYXRlKHdpbikge1xuICAgIHJldHVybiBuZXcgU2hhcmVXaWRnZXQod2luKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGJ1aWxkKGFtcGRvYykge1xuICAgIGRldigpLmFzc2VydCghdGhpcy5yb290LCAnQWxyZWFkeSBidWlsdC4nKTtcblxuICAgIHRoaXMuYW1wZG9jXyA9IGFtcGRvYztcbiAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2VQcm9taXNlXyA9XG4gICAgICAgIFNlcnZpY2VzLmxvY2FsaXphdGlvblNlcnZpY2VGb3JPck51bGxWMDEodGhpcy53aW4pO1xuXG4gICAgdGhpcy5yb290ID0gcmVuZGVyQXNFbGVtZW50KHRoaXMud2luLmRvY3VtZW50LCBURU1QTEFURSk7XG5cbiAgICB0aGlzLmxvYWRQcm92aWRlcnMoKTtcbiAgICB0aGlzLm1heWJlQWRkTGlua1NoYXJlQnV0dG9uXygpO1xuICAgIHRoaXMubWF5YmVBZGRTeXN0ZW1TaGFyZUJ1dHRvbl8oKTtcblxuICAgIHJldHVybiB0aGlzLnJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEFtcERvY18oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gKi8gKFxuICAgICAgZGV2KCkuYXNzZXJ0KHRoaXMuYW1wZG9jXykpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG1heWJlQWRkTGlua1NoYXJlQnV0dG9uXygpIHtcbiAgICBpZiAoIWlzQ29weWluZ1RvQ2xpcGJvYXJkU3VwcG9ydGVkKHRoaXMud2luLmRvY3VtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmtTaGFyZUJ1dHRvbiA9XG4gICAgICAgIHJlbmRlckFzRWxlbWVudCh0aGlzLndpbi5kb2N1bWVudCwgTElOS19TSEFSRV9JVEVNX1RFTVBMQVRFKTtcblxuICAgIHRoaXMuYWRkXyhsaW5rU2hhcmVCdXR0b24pO1xuXG4gICAgLy8gVE9ETyhhbGFub3JvemNvKTogTGlzdGVuIGZvciBwcm9wZXIgdGFwIGV2ZW50IChpLmUuIGZhc3RjbGljaylcbiAgICBsaXN0ZW4obGlua1NoYXJlQnV0dG9uLCAnY2xpY2snLCBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY29weVVybFRvQ2xpcGJvYXJkXygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGNvcHlVcmxUb0NsaXBib2FyZF8oKSB7XG4gICAgY29uc3QgdXJsID0gU2VydmljZXMuZG9jdW1lbnRJbmZvRm9yRG9jKHRoaXMuZ2V0QW1wRG9jXygpKS5jYW5vbmljYWxVcmw7XG5cbiAgICBpZiAoIWNvcHlUZXh0VG9DbGlwYm9hcmQodGhpcy53aW4sIHVybCkpIHtcbiAgICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZVByb21pc2VfLnRoZW4obG9jYWxpemF0aW9uU2VydmljZSA9PiB7XG4gICAgICAgIGRldigpLmFzc2VydChsb2NhbGl6YXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgJ0NvdWxkIG5vdCByZXRyaWV2ZSBMb2NhbGl6YXRpb25TZXJ2aWNlLicpO1xuICAgICAgICBjb25zdCBmYWlsdXJlU3RyaW5nID0gbG9jYWxpemF0aW9uU2VydmljZS5nZXRMb2NhbGl6ZWRTdHJpbmcoXG4gICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUKTtcbiAgICAgICAgVG9hc3Quc2hvdyh0aGlzLndpbiwgZmFpbHVyZVN0cmluZyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBUb2FzdC5zaG93KHRoaXMud2luLCBidWlsZENvcHlTdWNjZXNzZnVsVG9hc3QodGhpcy53aW4uZG9jdW1lbnQsIHVybCkpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG1heWJlQWRkU3lzdGVtU2hhcmVCdXR0b25fKCkge1xuICAgIGlmICghdGhpcy5pc1N5c3RlbVNoYXJlU3VwcG9ydGVkKCkpIHtcbiAgICAgIC8vIGBhbXAtc29jaWFsLXNoYXJlYCB3aWxsIGhpZGUgYHN5c3RlbWAgYnV0dG9ucyB3aGVuIG5vdCBzdXBwb3J0ZWQsIGJ1dFxuICAgICAgLy8gd2UgYWxzbyBuZWVkIHRvIGF2b2lkIGFkZGluZyBpdCBmb3IgcmVuZGVyaW5nIHJlYXNvbnMuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnJvb3QpLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICcuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXN5c3RlbScpO1xuXG4gICAgdGhpcy5sb2FkUmVxdWlyZWRFeHRlbnNpb25zKCk7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnVpbGRQcm92aWRlcih0aGlzLndpbi5kb2N1bWVudCwgJ3N5c3RlbScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOT1RFKGFsYW5vcm96Y28pOiBUaGlzIGlzIGEgZHVwbGljYXRlIG9mIHRoZSBsb2dpYyBpbiB0aGVcbiAgICogYGFtcC1zb2NpYWwtc2hhcmVgIGNvbXBvbmVudC5cbiAgICogQHBhcmFtICB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvYz19ICBhbXBkb2NcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgYnJvd3NlciBzdXBwb3J0cyBuYXRpdmUgc3lzdGVtIHNoYXJpbmcuXG4gICAqL1xuICBpc1N5c3RlbVNoYXJlU3VwcG9ydGVkKGFtcGRvYyA9IHRoaXMuZ2V0QW1wRG9jXygpKSB7XG4gICAgY29uc3Qgdmlld2VyID0gU2VydmljZXMudmlld2VyRm9yRG9jKGFtcGRvYyk7XG5cbiAgICBjb25zdCBwbGF0Zm9ybSA9IFNlcnZpY2VzLnBsYXRmb3JtRm9yKHRoaXMud2luKTtcblxuICAgIC8vIENocm9tZSBleHBvcnRzIG5hdmlnYXRvci5zaGFyZSBpbiBXZWJWaWV3IGJ1dCBkb2VzIG5vdCBpbXBsZW1lbnQgaXQuXG4gICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc2NTkyM1xuICAgIGNvbnN0IGlzQ2hyb21lV2VidmlldyA9IHZpZXdlci5pc1dlYnZpZXdFbWJlZGRlZCgpICYmIHBsYXRmb3JtLmlzQ2hyb21lKCk7XG5cbiAgICByZXR1cm4gKCdzaGFyZScgaW4gbmF2aWdhdG9yKSAmJiAhaXNDaHJvbWVXZWJ2aWV3O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGFuZCBhcHBsaWVzIHRoZSBzaGFyZSBwcm92aWRlcnMgY29uZmlndXJlZCBieSB0aGUgcHVibGlzaGVyLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBsb2FkUHJvdmlkZXJzKCkge1xuICAgIHRoaXMubG9hZFJlcXVpcmVkRXh0ZW5zaW9ucygpO1xuXG4gICAgdGhpcy5yZXF1ZXN0U2VydmljZV8ubG9hZEJvb2tlbmRDb25maWcoKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICBjb25zdCBwcm92aWRlcnMgPSBjb25maWcgJiYgKGNvbmZpZ1tTSEFSRV9QUk9WSURFUlNfS0VZXSB8fFxuICAgICAgICBjb25maWdbREVQUkVDQVRFRF9TSEFSRV9QUk9WSURFUlNfS0VZXSk7XG4gICAgICBpZiAoIXByb3ZpZGVycykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldFByb3ZpZGVyc18ocHJvdmlkZXJzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwhSnNvbk9iamVjdHxzdHJpbmc+fSBwcm92aWRlcnNcbiAgICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsICFKc29uT2JqZWN0Pn0gcHJvdmlkZXJzXG4gICAqL1xuICBwYXJzZVByb3ZpZGVyc1RvQ2xhc3NpY0FwaShwcm92aWRlcnMpIHtcbiAgICBjb25zdCBwcm92aWRlcnNNYXAgPSB7fTtcblxuICAgIHByb3ZpZGVycy5mb3JFYWNoKGN1cnJlbnRQcm92aWRlciA9PiB7XG4gICAgICBpZiAoaXNPYmplY3QoY3VycmVudFByb3ZpZGVyKSAmJlxuICAgICAgICAgIGN1cnJlbnRQcm92aWRlclsncHJvdmlkZXInXSA9PSAnZmFjZWJvb2snKSB7XG4gICAgICAgIHByb3ZpZGVyc01hcFsnZmFjZWJvb2snXSA9ICh7J2FwcF9pZCc6IGN1cnJlbnRQcm92aWRlclsnYXBwX2lkJ119KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY3VycmVudFByb3ZpZGVyKSkge1xuICAgICAgICBwcm92aWRlcnNNYXBbY3VycmVudFByb3ZpZGVyWydwcm92aWRlciddXSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm92aWRlcnNNYXBbY3VycmVudFByb3ZpZGVyXSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcHJvdmlkZXJzTWFwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICghSnNvbk9iamVjdHxib29sZWFuKT59IHByb3ZpZGVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKiBUT0RPKGFsYW5vcm96Y28pOiBTZXQgc3RvcnkgbWV0YWRhdGEgaW4gc2hhcmUgY29uZmlnLlxuICAgKi9cbiAgc2V0UHJvdmlkZXJzXyhwcm92aWRlcnMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm92aWRlcnMpKSB7XG4gICAgICBwcm92aWRlcnMgPSB0aGlzLnBhcnNlUHJvdmlkZXJzVG9DbGFzc2ljQXBpKHByb3ZpZGVycyk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMocHJvdmlkZXJzKS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgaWYgKHR5cGUgPT0gJ3N5c3RlbScpIHtcbiAgICAgICAgdXNlcigpLndhcm4oJ0FNUC1TVE9SWScsXG4gICAgICAgICAgICAnYHN5c3RlbWAgaXMgbm90IGEgdmFsaWQgc2hhcmUgcHJvdmlkZXIgdHlwZS4gTmF0aXZlIHNoYXJpbmcgaXMgJyArXG4gICAgICAgICAgICAnZW5hYmxlZCBieSBkZWZhdWx0IGFuZCBjYW5ub3QgYmUgdHVybmVkIG9mZi4nLFxuICAgICAgICAgICAgdHlwZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzT2JqZWN0KHByb3ZpZGVyc1t0eXBlXSkpIHtcbiAgICAgICAgdGhpcy5hZGRfKGJ1aWxkUHJvdmlkZXIodGhpcy53aW4uZG9jdW1lbnQsIHR5cGUsXG4gICAgICAgICAgICAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAocHJvdmlkZXJzW3R5cGVdKSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEJvb2tlbmQgY29uZmlnIEFQSSByZXF1aXJlcyByZWFsIGJvb2xlYW4sIG5vdCBqdXN0IHRydXRoeVxuICAgICAgaWYgKHByb3ZpZGVyc1t0eXBlXSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmFkZF8oYnVpbGRQcm92aWRlcih0aGlzLndpbi5kb2N1bWVudCwgdHlwZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVzZXIoKS53YXJuKCdBTVAtU1RPUlknLFxuICAgICAgICAgIGBJbnZhbGlkIHNoYXJlIHByb3ZpZGVycyBjb25maWd1cmF0aW9uIGZvciBcIiR7dHlwZX1cIiBpbiBib29rZW5kLiBgICtcbiAgICAgICAgICAnVmFsdWUgbXVzdCBiZSBgdHJ1ZWAgb3IgYSBwYXJhbXMgb2JqZWN0LicpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvYz19IGFtcGRvY1xuICAgKi9cbiAgbG9hZFJlcXVpcmVkRXh0ZW5zaW9ucyhhbXBkb2MgPSB0aGlzLmdldEFtcERvY18oKSkge1xuICAgIFNlcnZpY2VzLmV4dGVuc2lvbnNGb3IodGhpcy53aW4pXG4gICAgICAgIC5pbnN0YWxsRXh0ZW5zaW9uRm9yRG9jKGFtcGRvYywgJ2FtcC1zb2NpYWwtc2hhcmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRfKG5vZGUpIHtcbiAgICBjb25zdCBsaXN0ID0gZGV2KCkuYXNzZXJ0KHRoaXMucm9vdCkuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgY29uc3QgaXRlbSA9IHJlbmRlckFzRWxlbWVudCh0aGlzLndpbi5kb2N1bWVudCwgU0hBUkVfSVRFTV9URU1QTEFURSk7XG5cbiAgICBpdGVtLmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gICAgLy8gYGxhc3RFbGVtZW50Q2hpbGRgIGlzIHRoZSBzeXN0ZW0gc2hhcmUgYnV0dG9uIGNvbnRhaW5lciwgd2hpY2ggc2hvdWxkXG4gICAgLy8gYWx3YXlzIGJlIGxhc3QgaW4gbGlzdFxuICAgIGxpc3QuaW5zZXJ0QmVmb3JlKGl0ZW0sIGxpc3QubGFzdEVsZW1lbnRDaGlsZCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFNvY2lhbCBzaGFyZSB3aWRnZXQgZm9yIHN0b3J5IGJvb2tlbmQgd2l0aCBhIHNjcm9sbGFibGUgbGF5b3V0LlxuICogVGhpcyBjbGFzcyBpcyBjb3VwbGVkIHRvIHRoZSBET00gc3RydWN0dXJlIGZvciBTaGFyZVdpZGdldCwgYnV0IHRoYXQncyBvay5cbiAqL1xuZXhwb3J0IGNsYXNzIFNjcm9sbGFibGVTaGFyZVdpZGdldCBleHRlbmRzIFNoYXJlV2lkZ2V0IHtcbiAgLyoqIEBwYXJhbSB7IVdpbmRvd30gd2luICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIHN1cGVyKHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHdpbik7XG5cbiAgICAvKipcbiAgICAgKiBDb250YWluZXIgd2lkdGggaXMgYmVpbmcgdHJhY2tlZCB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IGxheW91dFxuICAgICAqIGNhbGN1bGF0aW9ucy5cbiAgICAgKiBAcHJpdmF0ZSB7P251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lcldpZHRoXyA9IG51bGw7XG4gIH1cblxuICAvKiogQHBhcmFtIHshV2luZG93fSB3aW4gKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4pIHtcbiAgICByZXR1cm4gbmV3IFNjcm9sbGFibGVTaGFyZVdpZGdldCh3aW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgYnVpbGQoYW1wZG9jKSB7XG4gICAgc3VwZXIuYnVpbGQoYW1wZG9jKTtcblxuICAgIHRoaXMucm9vdC5jbGFzc0xpc3QuYWRkKFNDUk9MTEFCTEVfQ0xBU1NOQU1FKTtcblxuICAgIFNlcnZpY2VzLnZpZXdwb3J0Rm9yRG9jKGFtcGRvYykub25SZXNpemUoXG4gICAgICAgIC8vIHdlIGRvbid0IHJlcXVpcmUgYSBsb3Qgb2Ygc21vb3RobmVzcyBoZXJlLCBzbyB3ZSB0aHJvdHRsZVxuICAgICAgICB0aHJvdHRsZSh0aGlzLndpbiwgKCkgPT4gdGhpcy5hcHBseUJ1dHRvblBhZGRpbmdfKCksIDEwMCkpO1xuXG4gICAgcmV0dXJuIHRoaXMucm9vdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHBhZGRpbmcgYmV0d2VlbiBidXR0b25zIHNvIHRoYXQgdGhlIHJlc3VsdCBpcyB0aGF0IHRoZXJlJ3NcbiAgICogYWx3YXlzIG9uZSBpdGVtIHZpc3VhbGx5IFwiY3V0IG9mZlwiIGZvciBzY3JvbGwgYWZmb3JkYW5jZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFwcGx5QnV0dG9uUGFkZGluZ18oKSB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldFZpc2libGVJdGVtc18oKTtcblxuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52c3luY18ucnVuKHtcbiAgICAgIG1lYXN1cmU6IHN0YXRlID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSB0aGlzLnJvb3QuLypPSyovY2xpZW50V2lkdGg7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lcldpZHRoID09IHRoaXMuY29udGFpbmVyV2lkdGhfKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgcmVjYWxjdWxhdGUgaWYgd2lkdGggaGFzIG5vdCBjaGFuZ2VkIChpLmUuIG9uc2NyZWVuIGtleWJvYXJkKVxuICAgICAgICAgIHN0YXRlLm5vb3AgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGljb24gPSBkZXYoKS5hc3NlcnQoaXRlbXNbMF0uZmlyc3RFbGVtZW50Q2hpbGQpO1xuXG4gICAgICAgIGNvbnN0IGxlZnRNYXJnaW4gPSBpY29uLi8qT0sqL29mZnNldExlZnQgLSB0aGlzLnJvb3QuLypPSyovb2Zmc2V0TGVmdDtcbiAgICAgICAgY29uc3QgaWNvbldpZHRoID0gaWNvbi4vKk9LKi9vZmZzZXRXaWR0aDtcblxuICAgICAgICAvLyBUb3RhbCB3aWR0aCB0aGF0IHRoZSBidXR0b25zIHdpbGwgb2NjdXB5IHdpdGggbWluaW11bSBwYWRkaW5nLlxuICAgICAgICBjb25zdCB0b3RhbEl0ZW1XaWR0aCA9XG4gICAgICAgICAgICAoaWNvbldpZHRoICogaXRlbXMubGVuZ3RoKSArICgoMiAqIE1JTl9CVVRUT05fUEFERElORykgKlxuICAgICAgICAgICAgICAgIChpdGVtcy5sZW5ndGggLSAxKSk7XG5cbiAgICAgICAgLy8gSWYgYnV0dG9ucyBkb24ndCBmaXQgd2l0aGluIHRoZSBhdmFpbGFibGUgYXJlYSwgY2FsY3VsYXRlIHBhZGRpbmcgc29cbiAgICAgICAgLy8gdGhhdCB0aGVyZSB3aWxsIGJlIGFuIGVsZW1lbnQgY3V0LW9mZi5cbiAgICAgICAgaWYgKHRvdGFsSXRlbVdpZHRoID4gKGNvbnRhaW5lcldpZHRoIC0gKGxlZnRNYXJnaW4gKiAyKSkpIHtcbiAgICAgICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGNvbnRhaW5lcldpZHRoIC0gbGVmdE1hcmdpbiAtIChpY29uV2lkdGggLyAyKTtcbiAgICAgICAgICBjb25zdCBhbW91bnRWaXNpYmxlID1cbiAgICAgICAgICAgICAgTWF0aC5mbG9vcihcbiAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVdpZHRoIC8gKGljb25XaWR0aCArIChNSU5fQlVUVE9OX1BBRERJTkcgKiAyKSkpO1xuXG4gICAgICAgICAgc3RhdGUucGFkZGluZyA9IDAuNSAqICgoYXZhaWxhYmxlV2lkdGggLyBhbW91bnRWaXNpYmxlKSAtIGljb25XaWR0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjYWxjdWxhdGUgcGFkZGluZyBpbiBmcm9tIE1JTl9QQURESU5HIHRvIERFRkFVTFRfUEFERElOR1xuICAgICAgICAgIC8vIHNvIHRoYXQgYWxsIGVsZW1lbnRzIGZpdCBhbmQgdGFrZSBhcyBtdWNoIGFyZWEgYXMgcG9zc2libGUuXG4gICAgICAgICAgY29uc3QgdG90YWxQYWRkaW5nID1cbiAgICAgICAgICAgICAgKChjb250YWluZXJXaWR0aCAtIChsZWZ0TWFyZ2luICogMikpIC1cbiAgICAgICAgICAgICAgKGljb25XaWR0aCAqIGl0ZW1zLmxlbmd0aCkpIC8gKGl0ZW1zLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgc3RhdGUucGFkZGluZyA9IE1hdGgubWluKERFRkFVTFRfQlVUVE9OX1BBRERJTkcsIDAuNSAqIHRvdGFsUGFkZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lcldpZHRoXyA9IGNvbnRhaW5lcldpZHRoO1xuICAgICAgfSxcbiAgICAgIG11dGF0ZTogc3RhdGUgPT4ge1xuICAgICAgICBpZiAoc3RhdGUubm9vcCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5mb3JFYWNoKChlbCwgaSkgPT4ge1xuICAgICAgICAgIGlmIChpICE9IDApIHtcbiAgICAgICAgICAgIHNldEltcG9ydGFudFN0eWxlcyhlbCwgeydwYWRkaW5nLWxlZnQnOiBweChzdGF0ZS5wYWRkaW5nKX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaSAhPSBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWwsIHsncGFkZGluZy1yaWdodCc6IHB4KHN0YXRlLnBhZGRpbmcpfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSwge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFBcnJheTwhRWxlbWVudD59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRWaXNpYmxlSXRlbXNfKCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoXG4gICAgICAgIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5yb290KS5xdWVyeVNlbGVjdG9yQWxsKCdsaScpLFxuICAgICAgICBlbCA9PiAhIWVsLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbmQgYXBwbGllcyB0aGUgc2hhcmUgcHJvdmlkZXJzIGNvbmZpZ3VyZWQgYnkgdGhlIHB1Ymxpc2hlci5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgbG9hZFByb3ZpZGVycygpIHtcbiAgICBzdXBlci5sb2FkUHJvdmlkZXJzKCk7XG4gICAgdGhpcy5hcHBseUJ1dHRvblBhZGRpbmdfKCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0VtYmVkTW9kZSwgcGFyc2VFbWJlZE1vZGV9IGZyb20gJy4vZW1iZWQtbW9kZSc7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJy4uLy4uLy4uL3NyYy9vYnNlcnZhYmxlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7aGFzT3dufSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcblxuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbmNvbnN0IFRBRyA9ICdhbXAtc3RvcnknO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgIGNhbmluc2VydGF1dG9tYXRpY2FkOiBib29sZWFuLFxuICogICAgY2Fuc2hvd2Jvb2tlbmQ6IGJvb2xlYW4sXG4gKiAgICBjYW5zaG93bmF2aWdhdGlvbm92ZXJsYXloaW50OiBib29sZWFuLFxuICogICAgY2Fuc2hvd3ByZXZpb3VzcGFnZWhlbHA6IGJvb2xlYW4sXG4gKiAgICBjYW5zaG93c2hhcmluZ3VpczogYm9vbGVhbixcbiAqICAgIGNhbnNob3dzeXN0ZW1sYXllcmJ1dHRvbnM6IGJvb2xlYW4sXG4gKiAgICBhZHN0YXRlOiBib29sZWFuLFxuICogICAgYm9va2VuZHN0YXRlOiBib29sZWFuLFxuICogICAgZGVza3RvcHN0YXRlOiBib29sZWFuLFxuICogICAgaW5mb2RpYWxvZ3N0YXRlOiBib29sZWFuLFxuICogICAgaGFzYXVkaW9zdGF0ZTogYm9vbGVhbixcbiAqICAgIGxhbmRzY2FwZXN0YXRlOiBib29sZWFuLFxuICogICAgbXV0ZWRzdGF0ZTogYm9vbGVhbixcbiAqICAgIHNoYXJlbWVudXN0YXRlOiBib29sZWFuLFxuICogICAgc3VwcG9ydGVkYnJvd3NlcnN0YXRlOiBib29sZWFuLFxuICogICAgY29uc2VudGlkOiA/c3RyaW5nLFxuICogICAgY3VycmVudHBhZ2VpZDogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTdGF0ZTtcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IEBlbnVtIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgU3RhdGVQcm9wZXJ0eSA9IHtcbiAgLy8gRW1iZWQgb3B0aW9ucy5cbiAgQ0FOX0lOU0VSVF9BVVRPTUFUSUNfQUQ6ICdjYW5pbnNlcnRhdXRvbWF0aWNhZCcsXG4gIENBTl9TSE9XX0JPT0tFTkQ6ICdjYW5zaG93Ym9va2VuZCcsXG4gIENBTl9TSE9XX05BVklHQVRJT05fT1ZFUkxBWV9ISU5UOiAnY2Fuc2hvd25hdmlnYXRpb25vdmVybGF5aGludCcsXG4gIENBTl9TSE9XX1BSRVZJT1VTX1BBR0VfSEVMUDogJ2NhbnNob3dwcmV2aW91c3BhZ2VoZWxwJyxcbiAgQ0FOX1NIT1dfU0hBUklOR19VSVM6ICdjYW5zaG93c2hhcmluZ3VpcycsXG4gIENBTl9TSE9XX1NZU1RFTV9MQVlFUl9CVVRUT05TOiAnY2Fuc2hvd3N5c3RlbWxheWVyYnV0dG9ucycsXG5cbiAgLy8gQXBwIFN0YXRlcy5cbiAgQURfU1RBVEU6ICdhZHN0YXRlJyxcbiAgQk9PS0VORF9TVEFURTogJ2Jvb2tlbmRzdGF0ZScsXG4gIERFU0tUT1BfU1RBVEU6ICdkZXNrdG9wc3RhdGUnLFxuICBIQVNfQVVESU9fU1RBVEU6ICdoYXNhdWRpb3N0YXRlJyxcbiAgSU5GT19ESUFMT0dfU1RBVEU6ICdpbmZvZGlhbG9nc3RhdGUnLFxuICBMQU5EU0NBUEVfU1RBVEU6ICdsYW5kc2NhcGVzdGF0ZScsXG4gIE1VVEVEX1NUQVRFOiAnbXV0ZWRzdGF0ZScsXG4gIFNIQVJFX01FTlVfU1RBVEU6ICdzaGFyZW1lbnVzdGF0ZScsXG4gIFNVUFBPUlRFRF9CUk9XU0VSX1NUQVRFOiAnc3VwcG9ydGVkYnJvd3NlcnN0YXRlJyxcblxuICAvLyBBcHAgZGF0YS5cbiAgQ09OU0VOVF9JRDogJ2NvbnNlbnRpZCcsXG4gIENVUlJFTlRfUEFHRV9JRDogJ2N1cnJlbnRwYWdlaWQnLFxuICBDVVJSRU5UX1BBR0VfSU5ERVg6ICdjdXJyZW50cGFnZWluZGV4Jyxcbn07XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCBAZW51bSB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IEFjdGlvbiA9IHtcbiAgQ0hBTkdFX1BBR0U6ICdjaGFuZ2VwYWdlJyxcbiAgU0VUX0NPTlNFTlRfSUQ6ICdzZXRjb25zZW50aWQnLFxuICBUT0dHTEVfQUQ6ICd0b2dnbGVhZCcsXG4gIFRPR0dMRV9CT09LRU5EOiAndG9nZ2xlYm9va2VuZCcsXG4gIFRPR0dMRV9ERVNLVE9QOiAndG9nZ2xlZGVza3RvcCcsXG4gIFRPR0dMRV9JTkZPX0RJQUxPRzogJ3RvZ2dsZWluZm9kaWFsb2cnLFxuICBUT0dHTEVfSEFTX0FVRElPOiAndG9nZ2xlaGFzYXVkaW8nLFxuICBUT0dHTEVfTEFORFNDQVBFOiAndG9nZ2xlbGFuZHNjYXBlJyxcbiAgVE9HR0xFX01VVEVEOiAndG9nZ2xlbXV0ZWQnLFxuICBUT0dHTEVfU0hBUkVfTUVOVTogJ3RvZ2dsZXNoYXJlbWVudScsXG4gIFRPR0dMRV9TVVBQT1JURURfQlJPV1NFUjogJ3RvZ2dsZXN1cHBvcnRlZGJyb3dzZXInLFxufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIG5ldyBzYXRlLlxuICogQHBhcmFtICB7IVN0YXRlfSBzdGF0ZSBJbW11dGFibGUgc3RhdGVcbiAqIEBwYXJhbSAgeyFBY3Rpb259IGFjdGlvblxuICogQHBhcmFtICB7Kn0gZGF0YVxuICogQHJldHVybiB7IVN0YXRlfSBuZXcgc3RhdGVcbiAqL1xuY29uc3QgYWN0aW9ucyA9IChzdGF0ZSwgYWN0aW9uLCBkYXRhKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgLy8gVHJpZ2dlcnMgdGhlIGFkIFVJLlxuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9BRDpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuQURfU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgLy8gU2hvd3Mgb3IgaGlkZXMgdGhlIGJvb2tlbmQuXG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX0JPT0tFTkQ6XG4gICAgICBpZiAoIXN0YXRlW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfQk9PS0VORF0pIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtbU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIC8vIFRyaWdnZXJzIHRoZSBkZXNrdG9wIFVJLlxuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9ERVNLVE9QOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtbU3RhdGVQcm9wZXJ0eS5ERVNLVE9QX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIC8vIFNob3dzIG9yIGhpZGVzIHRoZSBpbmZvIGRpYWxvZy5cbiAgICBjYXNlIEFjdGlvbi5UT0dHTEVfSU5GT19ESUFMT0c6XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LCBzdGF0ZSwge1tTdGF0ZVByb3BlcnR5LklORk9fRElBTE9HX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIC8vIFNob3dzIG9yIGhpZGVzIHRoZSBhdWRpbyBjb250cm9scy5cbiAgICBjYXNlIEFjdGlvbi5UT0dHTEVfSEFTX0FVRElPOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtbU3RhdGVQcm9wZXJ0eS5IQVNfQVVESU9fU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX0xBTkRTQ0FQRTpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuTEFORFNDQVBFX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIC8vIE11dGVzIG9yIHVubXV0ZXMgdGhlIHN0b3J5IG1lZGlhLlxuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9NVVRFRDpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuTVVURURfU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX1NVUFBPUlRFRF9CUk9XU0VSOlxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgZGV2KCkuZXJyb3IoVEFHLCAnQ2Fubm90IGV4aXQgdW5zdXBwb3J0ZWQgYnJvd3NlciBzdGF0ZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7XG4gICAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fSU5TRVJUX0FVVE9NQVRJQ19BRF06IGZhbHNlLFxuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfQk9PS0VORF06IGZhbHNlLFxuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfTkFWSUdBVElPTl9PVkVSTEFZX0hJTlRdOiBmYWxzZSxcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1BSRVZJT1VTX1BBR0VfSEVMUF06IGZhbHNlLFxuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU1lTVEVNX0xBWUVSX0JVVFRPTlNdOiBmYWxzZSxcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkJPT0tFTkRfU1RBVEVdOiBmYWxzZSxcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkRFU0tUT1BfU1RBVEVdOiBmYWxzZSxcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkhBU19BVURJT19TVEFURV06IGZhbHNlLFxuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuTVVURURfU1RBVEVdOiB0cnVlLFxuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuU1VQUE9SVEVEX0JST1dTRVJfU1RBVEVdOiBmYWxzZSxcbiAgICAgICAgICB9KSk7XG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX1NIQVJFX01FTlU6XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LCBzdGF0ZSwge1tTdGF0ZVByb3BlcnR5LlNIQVJFX01FTlVfU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgY2FzZSBBY3Rpb24uU0VUX0NPTlNFTlRfSUQ6XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LCBzdGF0ZSwge1tTdGF0ZVByb3BlcnR5LkNPTlNFTlRfSURdOiBkYXRhfSkpO1xuICAgIGNhc2UgQWN0aW9uLkNIQU5HRV9QQUdFOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkNVUlJFTlRfUEFHRV9JRF06IGRhdGEuaWQsXG4gICAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DVVJSRU5UX1BBR0VfSU5ERVhdOiBkYXRhLmluZGV4LFxuICAgICAgICAgIH0pKTtcbiAgICBkZWZhdWx0OlxuICAgICAgZGV2KCkuZXJyb3IoVEFHLCBgVW5rbm93biBhY3Rpb24gJHthY3Rpb259LmApO1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG5cbi8qKlxuICogU3RvcmUgc2VydmljZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5U3RvcmVTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU9iamVjdDxzdHJpbmcsICFPYnNlcnZhYmxlPn0gKi9cbiAgICB0aGlzLmxpc3RlbmVyc18gPSB7fTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IVN0YXRlfSAqL1xuICAgIHRoaXMuc3RhdGVfID0gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSwgdGhpcy5nZXREZWZhdWx0U3RhdGVfKCksIHRoaXMuZ2V0RW1iZWRPdmVycmlkZXNfKCkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBzdGF0ZSBwcm9wZXJ0eS5cbiAgICogQHBhcmFtICB7c3RyaW5nfSBrZXkgUHJvcGVydHkgdG8gcmV0cmlldmUgZnJvbSB0aGUgc3RhdGUuXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBnZXQoa2V5KSB7XG4gICAgaWYgKCFoYXNPd24odGhpcy5zdGF0ZV8sIGtleSkpIHtcbiAgICAgIGRldigpLmVycm9yKFRBRywgYFVua25vd24gc3RhdGUgJHtrZXl9LmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZV9ba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmVzIHRvIGEgc3RhdGUgcHJvcGVydHkgbXV0YXRpb25zLlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0gIHshRnVuY3Rpb259IGxpc3RlbmVyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW49fSBjYWxsVG9Jbml0aWFsaXplIFdoZXRoZXIgdGhlIGxpc3RlbmVyIHNob3VsZCBiZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyZWQgd2l0aCBjdXJyZW50IHZhbHVlLlxuICAgKi9cbiAgc3Vic2NyaWJlKGtleSwgbGlzdGVuZXIsIGNhbGxUb0luaXRpYWxpemUgPSBmYWxzZSkge1xuICAgIGlmICghaGFzT3duKHRoaXMuc3RhdGVfLCBrZXkpKSB7XG4gICAgICBkZXYoKS5lcnJvcihUQUcsIGBDYW4ndCBzdWJzY3JpYmUgdG8gdW5rbm93biBzdGF0ZSAke2tleX0uYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5saXN0ZW5lcnNfW2tleV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzX1trZXldID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnNfW2tleV0uYWRkKGxpc3RlbmVyKTtcblxuICAgIGlmIChjYWxsVG9Jbml0aWFsaXplKSB7XG4gICAgICBsaXN0ZW5lcih0aGlzLmdldChrZXkpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24gYW5kIHRyaWdnZXJzIHRoZSBsaXN0ZW5lcnMgZm9yIHRoZSB1cGRhdGVkIHN0YXRlXG4gICAqIHByb3BlcnRpZXMuXG4gICAqIEBwYXJhbSAgeyFBY3Rpb259IGFjdGlvblxuICAgKiBAcGFyYW0gIHsqfSBkYXRhXG4gICAqL1xuICBkaXNwYXRjaChhY3Rpb24sIGRhdGEpIHtcbiAgICBjb25zdCBvbGRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGVfKTtcbiAgICB0aGlzLnN0YXRlXyA9IGFjdGlvbnModGhpcy5zdGF0ZV8sIGFjdGlvbiwgZGF0YSk7XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVyc18pLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChvbGRTdGF0ZVtrZXldICE9PSB0aGlzLnN0YXRlX1trZXldKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzX1trZXldLmZpcmUodGhpcy5zdGF0ZV9ba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBkZWZhdWx0IHN0YXRlLCB0aGF0IGNvdWxkIGJlIG92ZXJyaWRlbiBieSBhbiBlbWJlZCBtb2RlLlxuICAgKiBAcmV0dXJuIHshU3RhdGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXREZWZhdWx0U3RhdGVfKCkge1xuICAgIC8vIENvbXBpbGVyIHdvbid0IHJlc29sdmUgdGhlIG9iamVjdCBrZXlzIGFuZCB0cmlnZ2VyIGFuIGVycm9yIGZvciBtaXNzaW5nXG4gICAgLy8gcHJvcGVydGllcywgc28gd2UgaGF2ZSB0byBmb3JjZSB0aGUgdHlwZS5cbiAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovICh7XG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fSU5TRVJUX0FVVE9NQVRJQ19BRF06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19CT09LRU5EXTogdHJ1ZSxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX05BVklHQVRJT05fT1ZFUkxBWV9ISU5UXTogdHJ1ZSxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1BSRVZJT1VTX1BBR0VfSEVMUF06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19TSEFSSU5HX1VJU106IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19TWVNURU1fTEFZRVJfQlVUVE9OU106IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5BRF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuREVTS1RPUF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuSU5GT19ESUFMT0dfU1RBVEVdOiBmYWxzZSxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LkhBU19BVURJT19TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuTEFORFNDQVBFX1NUQVRFXTogZmFsc2UsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5NVVRFRF9TVEFURV06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5TSEFSRV9NRU5VX1NUQVRFXTogZmFsc2UsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5TVVBQT1JURURfQlJPV1NFUl9TVEFURV06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DT05TRU5UX0lEXTogbnVsbCxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LkNVUlJFTlRfUEFHRV9JRF06ICcnLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQ1VSUkVOVF9QQUdFX0lOREVYXTogMCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEBUT0RPKGdtYWpvdWxldCk6IFRoZXNlIHNob3VsZCBnZXQgdGhlaXIgb3duIGZpbGUgaWYgdGhleSBzdGFydCBncm93aW5nLlxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBlbWJlZCBtb2RlIGNvbmZpZywgdGhhdCB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHN0YXRlLlxuICAgKiBAcmV0dXJuIHshT2JqZWN0PFN0YXRlUHJvcGVydHksICo+fSBQYXJ0aWFsIHN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRFbWJlZE92ZXJyaWRlc18oKSB7XG4gICAgY29uc3QgZW1iZWRNb2RlID0gcGFyc2VFbWJlZE1vZGUodGhpcy53aW5fLmxvY2F0aW9uLmhhc2gpO1xuICAgIHN3aXRjaCAoZW1iZWRNb2RlKSB7XG4gICAgICBjYXNlIEVtYmVkTW9kZS5OQU1FX1RCRDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fSU5TRVJUX0FVVE9NQVRJQ19BRF06IGZhbHNlLFxuICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX0JPT0tFTkRdOiBmYWxzZSxcbiAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19OQVZJR0FUSU9OX09WRVJMQVlfSElOVF06IGZhbHNlLFxuICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1BSRVZJT1VTX1BBR0VfSEVMUF06IHRydWUsXG4gICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU1lTVEVNX0xBWUVSX0JVVFRPTlNdOiBmYWxzZSxcbiAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5NVVRFRF9TVEFURV06IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgY2FzZSBFbWJlZE1vZGUuTk9fU0hBUklORzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19TSEFSSU5HX1VJU106IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0FjdGlvbiwgU3RhdGVQcm9wZXJ0eX0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LXN5c3RlbS1sYXllci0wLjEuY3NzJztcbmltcG9ydCB7RGV2ZWxvcG1lbnRNb2RlTG9nLCBEZXZlbG9wbWVudE1vZGVMb2dCdXR0b25TZXR9IGZyb20gJy4vZGV2ZWxvcG1lbnQtdWknO1xuaW1wb3J0IHtQcm9ncmVzc0Jhcn0gZnJvbSAnLi9wcm9ncmVzcy1iYXInO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZSc7XG5pbXBvcnQge21hdGNoZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnR9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcblxuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFVRElPX01VVEVEX0FUVFJJQlVURSA9ICdtdXRlZCc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IE1VVEVfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LW11dGUtYXVkaW8tY29udHJvbCc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFVOTVVURV9DTEFTUyA9ICdpLWFtcGh0bWwtc3RvcnktdW5tdXRlLWF1ZGlvLWNvbnRyb2wnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBTSEFSRV9DTEFTUyA9ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtY29udHJvbCc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IElORk9fQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LWluZm8tY29udHJvbCc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgVEVNUExBVEUgPSB7XG4gIHRhZzogJ2FzaWRlJyxcbiAgYXR0cnM6IGRpY3QoXG4gICAgICB7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXIgaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1yZXNldCd9KSxcbiAgY2hpbGRyZW46IFtcbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVyLWJ1dHRvbnMnfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAncm9sZSc6ICdidXR0b24nLFxuICAgICAgICAgICAgJ2NsYXNzJzogSU5GT19DTEFTUyArICcgaS1hbXBodG1sLXN0b3J5LWJ1dHRvbicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICdyb2xlJzogJ2J1dHRvbicsXG4gICAgICAgICAgICAnY2xhc3MnOiBVTk1VVEVfQ0xBU1MgKyAnIGktYW1waHRtbC1zdG9yeS1idXR0b24nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAncm9sZSc6ICdidXR0b24nLFxuICAgICAgICAgICAgJ2NsYXNzJzogTVVURV9DTEFTUyArICcgaS1hbXBodG1sLXN0b3J5LWJ1dHRvbicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICdyb2xlJzogJ2J1dHRvbicsXG4gICAgICAgICAgICAnY2xhc3MnOiBTSEFSRV9DTEFTUyArICcgaS1hbXBodG1sLXN0b3J5LWJ1dHRvbicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59O1xuXG5cbi8qKlxuICogU3lzdGVtIExheWVyIChpLmUuIFVJIENocm9tZSkgZm9yIDxhbXAtc3Rvcnk+LlxuICogQ2hyb21lIGNvbnRhaW5zOlxuICogICAtIG11dGUvdW5tdXRlIGJ1dHRvblxuICogICAtIHN0b3J5IHByb2dyZXNzIGJhclxuICogICAtIGJvb2tlbmQgY2xvc2UgYnV0b3RuXG4gKi9cbmV4cG9ydCBjbGFzcyBTeXN0ZW1MYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBwcml2YXRlIHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzQnVpbHRfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBSb290IGVsZW1lbnQgY29udGFpbmluZyBhIHNoYWRvdyBET00gcm9vdC5cbiAgICAgKiBAcHJpdmF0ZSB7P0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5yb290XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBY3R1YWwgc3lzdGVtIGxheWVyLlxuICAgICAqIEBwcml2YXRlIHs/RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnN5c3RlbUxheWVyRWxfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5idXR0b25zQ29udGFpbmVyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvZ3Jlc3NCYXJ9ICovXG4gICAgdGhpcy5wcm9ncmVzc0Jhcl8gPSBQcm9ncmVzc0Jhci5jcmVhdGUod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IURldmVsb3BtZW50TW9kZUxvZ30gKi9cbiAgICB0aGlzLmRldmVsb3BlckxvZ18gPSBEZXZlbG9wbWVudE1vZGVMb2cuY3JlYXRlKHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgeyFEZXZlbG9wbWVudE1vZGVMb2dCdXR0b25TZXR9ICovXG4gICAgdGhpcy5kZXZlbG9wZXJCdXR0b25zXyA9IERldmVsb3BtZW50TW9kZUxvZ0J1dHRvblNldC5jcmVhdGUod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IFNlcnZpY2VzLnN0b3J5U3RvcmVTZXJ2aWNlVjAxKHRoaXMud2luXyk7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHRoaXMud2luXyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gcGFnZUlkcyB0aGUgaWRzIG9mIGVhY2ggcGFnZSBpbiB0aGUgc3RvcnlcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBidWlsZChwYWdlSWRzKSB7XG4gICAgaWYgKHRoaXMuaXNCdWlsdF8pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFJvb3QoKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzQnVpbHRfID0gdHJ1ZTtcblxuICAgIHRoaXMucm9vdF8gPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5zeXN0ZW1MYXllckVsXyA9IHJlbmRlckFzRWxlbWVudCh0aGlzLndpbl8uZG9jdW1lbnQsIFRFTVBMQVRFKTtcblxuICAgIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUodGhpcy5yb290XywgdGhpcy5zeXN0ZW1MYXllckVsXywgQ1NTKTtcblxuICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8uaW5zZXJ0QmVmb3JlKFxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyXy5idWlsZChwYWdlSWRzKSwgdGhpcy5zeXN0ZW1MYXllckVsXy5sYXN0Q2hpbGQpO1xuXG4gICAgdGhpcy5idXR0b25zQ29udGFpbmVyXyA9XG4gICAgICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICcuaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllci1idXR0b25zJyk7XG5cbiAgICB0aGlzLmJ1aWxkRm9yRGV2ZWxvcG1lbnRNb2RlXygpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzXygpO1xuXG4gICAgLy8gVE9ETyhuZXdtdWlzKTogT2JzZXJ2ZSB0aGlzIHZhbHVlLlxuICAgIGlmICghdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1NZU1RFTV9MQVlFUl9CVVRUT05TKSkge1xuICAgICAgdGhpcy5zeXN0ZW1MYXllckVsXy5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktdWktbm8tYnV0dG9ucycpO1xuICAgIH1cblxuICAgIGlmIChTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbl8pLmlzSW9zKCkpIHtcbiAgICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8uc2V0QXR0cmlidXRlKCdpb3MnLCAnJyk7XG4gICAgfVxuXG4gICAgaWYgKFNlcnZpY2VzLnZpZXdlckZvckRvYyh0aGlzLndpbl8uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxuICAgICAgICAuaXNFbWJlZGRlZCgpKSB7XG4gICAgICB0aGlzLnN5c3RlbUxheWVyRWxfLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1lbWJlZGRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdldFJvb3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnVpbGRGb3JEZXZlbG9wbWVudE1vZGVfKCkge1xuICAgIGlmICghZ2V0TW9kZSgpLmRldmVsb3BtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5idXR0b25zQ29udGFpbmVyXy5hcHBlbmRDaGlsZCh0aGlzLmRldmVsb3BlckJ1dHRvbnNfLmJ1aWxkKFxuICAgICAgICB0aGlzLmRldmVsb3BlckxvZ18udG9nZ2xlLmJpbmQodGhpcy5kZXZlbG9wZXJMb2dfKSkpO1xuICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLmFwcGVuZENoaWxkKHRoaXMuZGV2ZWxvcGVyTG9nXy5idWlsZCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgLy8gVE9ETyhhbGFub3JvemNvKTogTGlzdGVuIHRvIHRhcCBldmVudCBwcm9wZXJseSAoaS5lLiBmYXN0Y2xpY2spXG4gICAgdGhpcy5nZXRTaGFkb3dSb290KCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGV2ZW50LnRhcmdldCk7XG5cbiAgICAgIGlmIChtYXRjaGVzKHRhcmdldCwgYC4ke01VVEVfQ0xBU1N9LCAuJHtNVVRFX0NMQVNTfSAqYCkpIHtcbiAgICAgICAgdGhpcy5vbk11dGVBdWRpb0NsaWNrXygpO1xuICAgICAgfSBlbHNlIGlmIChtYXRjaGVzKHRhcmdldCwgYC4ke1VOTVVURV9DTEFTU30sIC4ke1VOTVVURV9DTEFTU30gKmApKSB7XG4gICAgICAgIHRoaXMub25Vbm11dGVBdWRpb0NsaWNrXygpO1xuICAgICAgfSBlbHNlIGlmIChtYXRjaGVzKHRhcmdldCwgYC4ke1NIQVJFX0NMQVNTfSwgLiR7U0hBUkVfQ0xBU1N9ICpgKSkge1xuICAgICAgICB0aGlzLm9uU2hhcmVDbGlja18oKTtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2hlcyh0YXJnZXQsIGAuJHtJTkZPX0NMQVNTfSwgLiR7SU5GT19DTEFTU30gKmApKSB7XG4gICAgICAgIHRoaXMub25JbmZvQ2xpY2tfKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURSwgaXNBY3RpdmUgPT4ge1xuICAgICAgdGhpcy5vbkJvb2tlbmRTdGF0ZVVwZGF0ZV8oaXNBY3RpdmUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1NIQVJJTkdfVUlTLCBzaG93ID0+IHtcbiAgICAgIHRoaXMub25DYW5TaG93U2hhcmluZ1Vpc1VwZGF0ZV8oc2hvdyk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuREVTS1RPUF9TVEFURSwgaXNEZXNrdG9wID0+IHtcbiAgICAgIHRoaXMub25EZXNrdG9wU3RhdGVVcGRhdGVfKGlzRGVza3RvcCk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuSEFTX0FVRElPX1NUQVRFLCBoYXNBdWRpbyA9PiB7XG4gICAgICB0aGlzLm9uSGFzQXVkaW9TdGF0ZVVwZGF0ZV8oaGFzQXVkaW8pO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5Lk1VVEVEX1NUQVRFLCBpc011dGVkID0+IHtcbiAgICAgIHRoaXMub25NdXRlZFN0YXRlVXBkYXRlXyhpc011dGVkKTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5DVVJSRU5UX1BBR0VfSU5ERVgsIGluZGV4ID0+IHtcbiAgICAgIHRoaXMub25QYWdlSW5kZXhVcGRhdGVfKGluZGV4KTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGdldFJvb3QoKSB7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5yb290Xyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBnZXRTaGFkb3dSb290KCkge1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuc3lzdGVtTGF5ZXJFbF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB0aGUgYm9va2VuZCBzdGF0ZSB1cGRhdGVzIGFuZCB1cGRhdGVzIHRoZSBVSSBhY2NvcmRpbmdseS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0FjdGl2ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Cb29rZW5kU3RhdGVVcGRhdGVfKGlzQWN0aXZlKSB7XG4gICAgdGhpcy5nZXRTaGFkb3dSb290KClcbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFjdGl2ZScsIGlzQWN0aXZlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gdXBkYXRlcyB0byB3aGV0aGVyIHNoYXJpbmcgVUlzIG1heSBiZSBzaG93biwgYW5kIHVwZGF0ZXMgdGhlIFVJXG4gICAqIGFjY29yZGluZ2x5LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhblNob3dTaGFyaW5nVWlzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNhblNob3dTaGFyaW5nVWlzVXBkYXRlXyhjYW5TaG93U2hhcmluZ1Vpcykge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKVxuICAgICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKCdpLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZycsICFjYW5TaG93U2hhcmluZ1Vpcyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIGRlc2t0b3Agc3RhdGUgdXBkYXRlcyBhbmQgdHJpZ2dlcnMgdGhlIGRlc2t0b3AgVUkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEZXNrdG9wXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkRlc2t0b3BTdGF0ZVVwZGF0ZV8oaXNEZXNrdG9wKSB7XG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIGlzRGVza3RvcCA/XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnNldEF0dHJpYnV0ZSgnZGVza3RvcCcsICcnKSA6XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnJlbW92ZUF0dHJpYnV0ZSgnZGVza3RvcCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBoYXMgYXVkaW8gc3RhdGUgdXBkYXRlcywgZGlzcGxheXMgdGhlIGF1ZGlvIGNvbnRyb2xzIGlmIG5lZWRlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBoYXNBdWRpb1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25IYXNBdWRpb1N0YXRlVXBkYXRlXyhoYXNBdWRpbykge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKS5jbGFzc0xpc3QudG9nZ2xlKCdhdWRpby1wbGF5aW5nJywgaGFzQXVkaW8pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBtdXRlZCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTXV0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uTXV0ZWRTdGF0ZVVwZGF0ZV8oaXNNdXRlZCkge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICBpc011dGVkID9cbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuc2V0QXR0cmlidXRlKEFVRElPX01VVEVEX0FUVFJJQlVURSwgJycpIDpcbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkucmVtb3ZlQXR0cmlidXRlKEFVRElPX01VVEVEX0FUVFJJQlVURSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHRoZSBhY3RpdmUgcGFnZSBpbmRleCBjaGFuZ2luZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqL1xuICBvblBhZ2VJbmRleFVwZGF0ZV8oaW5kZXgpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuY2xhc3NMaXN0LnRvZ2dsZSgnZmlyc3QtcGFnZS1hY3RpdmUnLCBpbmRleCA9PT0gMCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjbGljayBldmVudHMgb24gdGhlIG11dGUgYnV0dG9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25NdXRlQXVkaW9DbGlja18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfTVVURUQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIG9uIHRoZSB1bm11dGUgYnV0dG9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Vbm11dGVBdWRpb0NsaWNrXygpIHtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9NVVRFRCwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIG9uIHRoZSBzaGFyZSBidXR0b24gYW5kIHRvZ2dsZXMgdGhlIHNoYXJlIG1lbnUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblNoYXJlQ2xpY2tfKCkge1xuICAgIGNvbnN0IGlzT3BlbiA9IHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5TSEFSRV9NRU5VX1NUQVRFKTtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9TSEFSRV9NRU5VLCAhaXNPcGVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBvbiB0aGUgaW5mbyBidXR0b24gYW5kIHRvZ2dsZXMgdGhlIGluZm8gZGlhbG9nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25JbmZvQ2xpY2tfKCkge1xuICAgIGNvbnN0IGlzT3BlbiA9IHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5JTkZPX0RJQUxPR19TVEFURSk7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfSU5GT19ESUFMT0csICFpc09wZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlSWQgVGhlIHBhZ2UgaWQgb2YgdGhlIG5ldyBhY3RpdmUgcGFnZS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2V0QWN0aXZlUGFnZUlkKHBhZ2VJZCkge1xuICAgIC8vIFRPRE8obmV3bXVpcykgYXZvaWQgcGFzc2luZyBwcm9ncmVzcyBsb2dpYyB0aHJvdWdoIHN5c3RlbS1sYXllclxuICAgIHRoaXMucHJvZ3Jlc3NCYXJfLnNldEFjdGl2ZVNlZ21lbnRJZChwYWdlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlSWQgVGhlIGlkIG9mIHRoZSBwYWdlIHdob3NlIHByb2dyZXNzIHNob3VsZCBiZVxuICAgKiAgICAgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByb2dyZXNzIEEgbnVtYmVyIGZyb20gMC4wIHRvIDEuMCwgcmVwcmVzZW50aW5nIHRoZVxuICAgKiAgICAgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdXBkYXRlUHJvZ3Jlc3MocGFnZUlkLCBwcm9ncmVzcykge1xuICAgIC8vIFRPRE8obmV3bXVpcykgYXZvaWQgcGFzc2luZyBwcm9ncmVzcyBsb2dpYyB0aHJvdWdoIHN5c3RlbS1sYXllclxuICAgIHRoaXMucHJvZ3Jlc3NCYXJfLnVwZGF0ZVByb2dyZXNzKHBhZ2VJZCwgcHJvZ3Jlc3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vbG9nZ2luZy5BbXBTdG9yeUxvZ0VudHJ5RGVmfSBsb2dFbnRyeVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9nSW50ZXJuYWxfKGxvZ0VudHJ5KSB7XG4gICAgdGhpcy5kZXZlbG9wZXJCdXR0b25zXy5sb2cobG9nRW50cnkpO1xuICAgIHRoaXMuZGV2ZWxvcGVyTG9nXy5sb2cobG9nRW50cnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZ3MgYW4gYXJyYXkgb2YgZW50cmllcyB0byB0aGUgZGV2ZWxvcGVyIGxvZ3MuXG4gICAqIEBwYXJhbSB7IUFycmF5PCEuL2xvZ2dpbmcuQW1wU3RvcnlMb2dFbnRyeURlZj59IGxvZ0VudHJpZXNcbiAgICovXG4gIGxvZ0FsbChsb2dFbnRyaWVzKSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgbG9nRW50cmllcy5mb3JFYWNoKGxvZ0VudHJ5ID0+IHRoaXMubG9nSW50ZXJuYWxfKGxvZ0VudHJ5KSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9ncyBhIHNpbmdsZSBlbnRyeSB0byB0aGUgZGV2ZWxvcGVyIGxvZ3MuXG4gICAqIEBwYXJhbSB7IS4vbG9nZ2luZy5BbXBTdG9yeUxvZ0VudHJ5RGVmfSBsb2dFbnRyeVxuICAgKi9cbiAgbG9nKGxvZ0VudHJ5KSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ0ludGVybmFsXyhsb2dFbnRyeSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFueSBzdGF0ZSBoZWxkIGJ5IHRoZSBkZXZlbG9wZXIgbG9nIG9yIGJ1dHRvbnMuXG4gICAqL1xuICByZXNldERldmVsb3BlckxvZ3MoKSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRldmVsb3BlckJ1dHRvbnNfLmNsZWFyKCk7XG4gICAgdGhpcy5kZXZlbG9wZXJMb2dfLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc3RyaW5nIHByb3ZpZGluZyBjb250ZXh0IGZvciB0aGUgZGV2ZWxvcGVyIGxvZ3Mgd2luZG93LiAgVGhpcyBpc1xuICAgKiBvZnRlbiB0aGUgbmFtZSBvciBJRCBvZiB0aGUgZWxlbWVudCB0aGF0IGFsbCBsb2dzIGFyZSBmb3IgKGUuZy4gdGhlIHBhZ2UpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dFN0cmluZ1xuICAgKi9cbiAgc2V0RGV2ZWxvcGVyTG9nQ29udGV4dFN0cmluZyhjb250ZXh0U3RyaW5nKSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRldmVsb3BlckxvZ18uc2V0Q29udGV4dFN0cmluZyhjb250ZXh0U3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgZGV2ZWxvcGVyIGxvZyBpbiB0aGUgVUkuXG4gICAqL1xuICBoaWRlRGV2ZWxvcGVyTG9nKCkge1xuICAgIGlmICghZ2V0TW9kZSgpLmRldmVsb3BtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kZXZlbG9wZXJMb2dfLmhpZGUoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Q1NTfSBmcm9tICcuLi8uLi8uLi9idWlsZC9hbXAtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1sYXllci0wLjEuY3NzJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4vbG9jYWxpemF0aW9uJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3JlbmRlckFzRWxlbWVudH0gZnJvbSAnLi9zaW1wbGUtdGVtcGxhdGUnO1xuXG5cbi8qKlxuICogRnVsbCB2aWV3cG9ydCBibGFjayBsYXllciBpbmRpY2F0aW5nIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC5cbiAqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmNvbnN0IFVOU1VQUE9SVEVEX0JST1dTRVJfTEFZRVJfVEVNUExBVEUgPSB7XG4gIHRhZzogJ2RpdicsXG4gIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXVuc3VwcG9ydGVkLWJyb3dzZXItb3ZlcmxheSd9KSxcbiAgY2hpbGRyZW46IFtcbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtb3ZlcmxheS1jb250YWluZXInfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1nZWFyLWljb24nfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LW92ZXJsYXktdGV4dCd9KSxcbiAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfVU5TVVBQT1JURURfQlJPV1NFUl9URVhULFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICBdLFxufTtcblxuXG4vKipcbiAqIFVuc3VwcG9ydGVkIGJyb3dzZXIgbGF5ZXIgVUkuXG4gKi9cbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZEJyb3dzZXJMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMucm9vdF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgYXBwZW5kcyB0aGUgY29tcG9uZW50IGluIHRoZSBzdG9yeS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLnJvb3RfKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290XztcbiAgICB9XG5cbiAgICB0aGlzLnJvb3RfID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG92ZXJsYXlFbCA9XG4gICAgICAgIHJlbmRlckFzRWxlbWVudCh0aGlzLndpbl8uZG9jdW1lbnQsIFVOU1VQUE9SVEVEX0JST1dTRVJfTEFZRVJfVEVNUExBVEUpO1xuXG4gICAgY3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZSh0aGlzLnJvb3RfLCBvdmVybGF5RWwsIENTUyk7XG5cbiAgICByZXR1cm4gdGhpcy5yb290XztcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Q1NTfSBmcm9tICcuLi8uLi8uLi9idWlsZC9hbXAtc3Rvcnktdmlld3BvcnQtd2FybmluZy1sYXllci0wLjEuY3NzJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4vbG9jYWxpemF0aW9uJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1N0YXRlUHJvcGVydHl9IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5cblxuLyoqXG4gKiBDU1MgY2xhc3MgaW5kaWNhdGluZyB0aGUgZm9ybWF0IGlzIGxhbmRzY2FwZS5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBMQU5EU0NBUEVfT1ZFUkxBWV9DTEFTUyA9ICdpLWFtcGh0bWwtc3RvcnktbGFuZHNjYXBlJztcblxuXG4vKipcbiAqIEZ1bGwgdmlld3BvcnQgbGF5ZXIgYWR2aXNpbmcgdGhlIHVzZXIgdG8gcm90YXRlIGhpcyBkZXZpY2UuIE1vYmlsZSBvbmx5LlxuICogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuY29uc3QgTEFORFNDQVBFX09SSUVOVEFUSU9OX1dBUk5JTkdfVEVNUExBVEUgPSB7XG4gIHRhZzogJ2RpdicsXG4gIGF0dHJzOiBkaWN0KHtcbiAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LW5vLXJvdGF0aW9uLW92ZXJsYXkgJyArXG4gICAgICAgICdpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0J30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1vdmVybGF5LWNvbnRhaW5lcid9KSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXJvdGF0ZS1pY29uJ30pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1vdmVybGF5LXRleHQnfSksXG4gICAgICAgICAgbG9jYWxpemVkU3RyaW5nSWQ6XG4gICAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhULFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICBdLFxufTtcblxuXG4vKipcbiAqIEZ1bGwgdmlld3BvcnQgbGF5ZXIgYWR2aXNpbmcgdGhlIHVzZXIgdG8gZXhwYW5kIGhpcyB3aW5kb3cuIE9ubHkgZGlzcGxheWVkXG4gKiBmb3Igc21hbGwgZGVza3RvcCB2aWV3cG9ydHMuXG4gKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfVxuICovXG5jb25zdCBERVNLVE9QX1NJWkVfV0FSTklOR19URU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktbm8tcm90YXRpb24tb3ZlcmxheSAnICtcbiAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQnfSksXG4gIGNoaWxkcmVuOiBbXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLW92ZXJsYXktY29udGFpbmVyJ30pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtZGVza3RvcC1zaXplLWljb24nfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LW92ZXJsYXktdGV4dCd9KSxcbiAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59O1xuXG5cblxuLyoqXG4gKiBWaWV3cG9ydCB3YXJuaW5nIGxheWVyIFVJLlxuICovXG5leHBvcnQgY2xhc3MgVmlld3BvcnRXYXJuaW5nTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gc3RvcnlFbGVtZW50IEVsZW1lbnQgd2hlcmUgdG8gYXBwZW5kIHRoZSBjb21wb25lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgc3RvcnlFbGVtZW50KSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLm92ZXJsYXlFbF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3BsYXRmb3JtLWltcGwuUGxhdGZvcm19ICovXG4gICAgdGhpcy5wbGF0Zm9ybV8gPSBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfID0gU2VydmljZXMuc3RvcnlTdG9yZVNlcnZpY2VWMDEodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuc3RvcnlFbGVtZW50XyA9IHN0b3J5RWxlbWVudDtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS92c3luYy1pbXBsLlZzeW5jfSAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgYW5kIGFwcGVuZHMgdGhlIGNvbXBvbmVudCBpbiB0aGUgc3RvcnkuXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBpZiAodGhpcy5pc0J1aWx0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzQnVpbHRfID0gdHJ1ZTtcblxuICAgIGNvbnN0IHJvb3QgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5vdmVybGF5RWxfID1cbiAgICAgICAgcmVuZGVyQXNFbGVtZW50KFxuICAgICAgICAgICAgdGhpcy53aW5fLmRvY3VtZW50LCB0aGlzLmdldFZpZXdwb3J0V2FybmluZ092ZXJsYXlUZW1wbGF0ZV8oKSk7XG5cbiAgICBjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlKHJvb3QsIHRoaXMub3ZlcmxheUVsXywgQ1NTKTtcblxuICAgIC8vIEluaXRpYWxpemVzIHRoZSBkZXNrdG9wIHN0YXRlIG5vdyB0aGF0IHRoZSBjb21wb25lbnQgaXMgYnVpbHQuXG4gICAgdGhpcy5vbkRlc2t0b3BTdGF0ZVVwZGF0ZV8oXG4gICAgICAgICEhdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkRFU0tUT1BfU1RBVEUpKTtcblxuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLnN0b3J5RWxlbWVudF8uaW5zZXJ0QmVmb3JlKHJvb3QsIHRoaXMuc3RvcnlFbGVtZW50Xy5maXJzdENoaWxkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGJ1aWx0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNCdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0J1aWx0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkRFU0tUT1BfU1RBVEUsIGlzRGVza3RvcCA9PiB7XG4gICAgICB0aGlzLm9uRGVza3RvcFN0YXRlVXBkYXRlXyhpc0Rlc2t0b3ApO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkxBTkRTQ0FQRV9TVEFURSwgaXNMYW5kc2NhcGUgPT4ge1xuICAgICAgdGhpcy5vbkxhbmRzY2FwZVN0YXRlVXBkYXRlXyhpc0xhbmRzY2FwZSk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHRoZSBsYW5kc2NhcGUgc3RhdGUgdXBkYXRlLCBvbmx5IG9uIG1vYmlsZS5cbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gaXNMYW5kc2NhcGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uTGFuZHNjYXBlU3RhdGVVcGRhdGVfKGlzTGFuZHNjYXBlKSB7XG4gICAgY29uc3QgaXNEZXNrdG9wID0gdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkRFU0tUT1BfU1RBVEUpO1xuXG4gICAgLy8gQWRkcyB0aGUgbGFuZHNjYXBlIGNsYXNzIGlmIHdlIGFyZSBtb2JpbGUgbGFuZHNjYXBlLlxuICAgIGNvbnN0IHNob3VsZFNob3dMYW5kc2NhcGVPdmVybGF5ID0gIWlzRGVza3RvcCAmJiBpc0xhbmRzY2FwZTtcblxuICAgIC8vIERvbid0IGJ1aWxkIHRoZSBsYXllciB1bnRpbCB3ZSBuZWVkIHRvIGRpc3BsYXkgaXQuXG4gICAgaWYgKCFzaG91bGRTaG93TGFuZHNjYXBlT3ZlcmxheSAmJiAhdGhpcy5pc0J1aWx0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmJ1aWxkKCk7XG5cbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5RWxfXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoTEFORFNDQVBFX09WRVJMQVlfQ0xBU1MsICFpc0Rlc2t0b3AgJiYgaXNMYW5kc2NhcGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBkZXNrdG9wIHN0YXRlIHVwZGF0ZXMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEZXNrdG9wXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkRlc2t0b3BTdGF0ZVVwZGF0ZV8oaXNEZXNrdG9wKSB7XG4gICAgaWYgKCF0aGlzLmlzQnVpbHQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICBpc0Rlc2t0b3AgP1xuICAgICAgICB0aGlzLm92ZXJsYXlFbF8uc2V0QXR0cmlidXRlKCdkZXNrdG9wJywgJycpIDpcbiAgICAgICAgdGhpcy5vdmVybGF5RWxfLnJlbW92ZUF0dHJpYnV0ZSgnZGVza3RvcCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG92ZXJsYXkgY29ycmVzcG9uZGluZyB0byB0aGUgZGV2aWNlIGN1cnJlbnRseSB1c2VkLlxuICAgKiBAcmV0dXJuIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gdGVtcGxhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFZpZXdwb3J0V2FybmluZ092ZXJsYXlUZW1wbGF0ZV8oKSB7XG4gICAgcmV0dXJuICh0aGlzLnBsYXRmb3JtXy5pc0lvcygpIHx8IHRoaXMucGxhdGZvcm1fLmlzQW5kcm9pZCgpKSA/XG4gICAgICBMQU5EU0NBUEVfT1JJRU5UQVRJT05fV0FSTklOR19URU1QTEFURSA6XG4gICAgICBERVNLVE9QX1NJWkVfV0FSTklOR19URU1QTEFURTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBFbWJlZHMgYSBzdG9yeVxuICpcbiAqIEV4YW1wbGU6XG4gKiA8Y29kZT5cbiAqIDxhbXAtc3Rvcnkgc3RhbmRhbG9uZT5cbiAqICAgWy4uLl1cbiAqIDwvYW1wLXN0b3J5PlxuICogPC9jb2RlPlxuICovXG5pbXBvcnQgJy4vYW1wLXN0b3J5LWN0YS1sYXllcic7XG5pbXBvcnQgJy4vYW1wLXN0b3J5LWdyaWQtbGF5ZXInO1xuaW1wb3J0ICcuL2FtcC1zdG9yeS1wYWdlJztcbmltcG9ydCB7XG4gIEFjdGlvbixcbiAgQW1wU3RvcnlTdG9yZVNlcnZpY2UsXG4gIFN0YXRlUHJvcGVydHksXG59IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtBY3Rpb25UcnVzdH0gZnJvbSAnLi4vLi4vLi4vc3JjL2FjdGlvbi1jb25zdGFudHMnO1xuaW1wb3J0IHtBbXBTdG9yeUFuYWx5dGljc30gZnJvbSAnLi9hbmFseXRpY3MnO1xuaW1wb3J0IHtBbXBTdG9yeUJhY2tncm91bmR9IGZyb20gJy4vYmFja2dyb3VuZCc7XG5pbXBvcnQge0FtcFN0b3J5Q29uc2VudH0gZnJvbSAnLi9hbXAtc3RvcnktY29uc2VudCc7XG5pbXBvcnQge0FtcFN0b3J5Q3RhTGF5ZXJ9IGZyb20gJy4vYW1wLXN0b3J5LWN0YS1sYXllcic7XG5pbXBvcnQge0FtcFN0b3J5R3JpZExheWVyfSBmcm9tICcuL2FtcC1zdG9yeS1ncmlkLWxheWVyJztcbmltcG9ydCB7QW1wU3RvcnlIaW50fSBmcm9tICcuL2FtcC1zdG9yeS1oaW50JztcbmltcG9ydCB7QW1wU3RvcnlQYWdlfSBmcm9tICcuL2FtcC1zdG9yeS1wYWdlJztcbmltcG9ydCB7QW1wU3RvcnlSZXF1ZXN0U2VydmljZX0gZnJvbSAnLi9hbXAtc3RvcnktcmVxdWVzdC1zZXJ2aWNlJztcbmltcG9ydCB7QW1wU3RvcnlWYXJpYWJsZVNlcnZpY2V9IGZyb20gJy4vdmFyaWFibGUtc2VydmljZSc7XG5pbXBvcnQge0Jvb2tlbmR9IGZyb20gJy4vYW1wLXN0b3J5LWJvb2tlbmQnO1xuaW1wb3J0IHtDU1N9IGZyb20gJy4uLy4uLy4uL2J1aWxkL2FtcC1zdG9yeS0wLjEuY3NzJztcbmltcG9ydCB7Q29tbW9uU2lnbmFsc30gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbW1vbi1zaWduYWxzJztcbmltcG9ydCB7XG4gIERvdWJsZXRhcFJlY29nbml6ZXIsXG4gIFN3aXBlWFlSZWNvZ25pemVyLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvZ2VzdHVyZS1yZWNvZ25pemVycyc7XG5pbXBvcnQge0V2ZW50VHlwZSwgZGlzcGF0Y2h9IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCB7R2VzdHVyZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9nZXN0dXJlJztcbmltcG9ydCB7SW5mb0RpYWxvZ30gZnJvbSAnLi9hbXAtc3RvcnktaW5mby1kaWFsb2cnO1xuaW1wb3J0IHtLZXlDb2Rlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL2tleS1jb2Rlcyc7XG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge1xuICBMb2NhbGl6YXRpb25TZXJ2aWNlLFxuICBMb2NhbGl6ZWRTdHJpbmdJZCxcbiAgY3JlYXRlUHNldWRvTG9jYWxlLFxufSBmcm9tICcuL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge01lZGlhUG9vbCwgTWVkaWFUeXBlfSBmcm9tICcuL21lZGlhLXBvb2wnO1xuaW1wb3J0IHtOYXZpZ2F0aW9uU3RhdGV9IGZyb20gJy4vbmF2aWdhdGlvbi1zdGF0ZSc7XG5pbXBvcnQge09SSUdJTl9XSElURUxJU1R9IGZyb20gJy4vb3JpZ2luLXdoaXRlbGlzdCc7XG5pbXBvcnQge1BhZ2luYXRpb25CdXR0b25zfSBmcm9tICcuL3BhZ2luYXRpb24tYnV0dG9ucyc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtTaGFyZU1lbnV9IGZyb20gJy4vYW1wLXN0b3J5LXNoYXJlLW1lbnUnO1xuaW1wb3J0IHtTaGFyZVdpZGdldH0gZnJvbSAnLi9hbXAtc3Rvcnktc2hhcmUnO1xuaW1wb3J0IHtTeXN0ZW1MYXllcn0gZnJvbSAnLi9hbXAtc3Rvcnktc3lzdGVtLWxheWVyJztcbmltcG9ydCB7VGFwTmF2aWdhdGlvbkRpcmVjdGlvbn0gZnJvbSAnLi9wYWdlLWFkdmFuY2VtZW50JztcbmltcG9ydCB7VW5zdXBwb3J0ZWRCcm93c2VyTGF5ZXJ9IGZyb20gJy4vYW1wLXN0b3J5LXVuc3VwcG9ydGVkLWJyb3dzZXItbGF5ZXInO1xuaW1wb3J0IHtWaWV3cG9ydFdhcm5pbmdMYXllcn0gZnJvbSAnLi9hbXAtc3Rvcnktdmlld3BvcnQtd2FybmluZy1sYXllcic7XG5pbXBvcnQge1xuICBjaGlsZEVsZW1lbnQsXG4gIGNoaWxkRWxlbWVudEJ5VGFnLFxuICBjaGlsZEVsZW1lbnRzLFxuICBjbG9zZXN0LFxuICBlc2NhcGVDc3NTZWxlY3RvcklkZW50LFxuICBtYXRjaGVzLFxuICByZW1vdmVFbGVtZW50LFxuICBzY29wZWRRdWVyeVNlbGVjdG9yQWxsLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7XG4gIGNvbXB1dGVkU3R5bGUsXG4gIHJlc2V0U3R5bGVzLFxuICBzZXRJbXBvcnRhbnRTdHlsZXMsXG4gIHNldFN0eWxlLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuaW1wb3J0IHtkZWJvdW5jZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL3JhdGUtbGltaXQnO1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7ZmluZEluZGV4fSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvYXJyYXknO1xuaW1wb3J0IHtnZXREZXRhaWx9IGZyb20gJy4uLy4uLy4uL3NyYy9ldmVudC1oZWxwZXInO1xuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZSc7XG5pbXBvcnQge2dldFNvdXJjZU9yaWdpbiwgcGFyc2VVcmxEZXByZWNhdGVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXJsJztcbmltcG9ydCB7aXNFeHBlcmltZW50T24sIHRvZ2dsZUV4cGVyaW1lbnR9IGZyb20gJy4uLy4uLy4uL3NyYy9leHBlcmltZW50cyc7XG5pbXBvcnQge3JlZ2lzdGVyU2VydmljZUJ1aWxkZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlJztcbmltcG9ydCB7cmVuZGVyU2ltcGxlVGVtcGxhdGV9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcbmltcG9ydCB7c3RyaW5nSGFzaDMyfSBmcm9tICcuLi8uLi8uLi9zcmMvc3RyaW5nJztcbmltcG9ydCB7dXBncmFkZUJhY2tncm91bmRBdWRpb30gZnJvbSAnLi9hdWRpbyc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc0RlZmF1bHQgZnJvbSAnLi9fbG9jYWxlcy9kZWZhdWx0JztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzRW4gZnJvbSAnLi9fbG9jYWxlcy9lbic7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFBSRV9BQ1RJVkVfUEFHRV9BVFRSSUJVVEVfTkFNRSA9ICdwcmUtYWN0aXZlJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQU1QX1NUT1JZX1NUQU5EQUxPTkVfQVRUUklCVVRFID0gJ3N0YW5kYWxvbmUnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBERVNLVE9QX1dJRFRIX1RIUkVTSE9MRCA9IDEwMjQ7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IERFU0tUT1BfSEVJR0hUX1RIUkVTSE9MRCA9IDU1MDtcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTUlOX1NXSVBFX0ZPUl9ISU5UX09WRVJMQVlfUFggPSA1MDtcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQURWQU5DRV9UT19BVFRSID0gJ2ktYW1waHRtbC1hZHZhbmNlLXRvJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgUkVUVVJOX1RPX0FUVFIgPSAnaS1hbXBodG1sLXJldHVybi10byc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFVVE9fQURWQU5DRV9UT19BVFRSID0gJ2F1dG8tYWR2YW5jZS10byc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFEX1NIT1dJTkdfQVRUUiA9ICdhZC1zaG93aW5nJztcblxuLyoqXG4gKiBUaGUgZHVyYXRpb24gb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0byB3YWl0IGZvciBhIHBhZ2UgdG8gYmUgbG9hZGVkLFxuICogYmVmb3JlIHRoZSBzdG9yeSBiZWNvbWVzIHZpc2libGUuXG4gKiBAY29uc3Qge251bWJlcn1cbiAqL1xuY29uc3QgUEFHRV9MT0FEX1RJTUVPVVRfTVMgPSA1MDAwO1xuXG5cbi8qKlxuICogQ1NTIGNsYXNzIGZvciBhbiBhbXAtc3RvcnkgdGhhdCBpbmRpY2F0ZXMgdGhlIGluaXRpYWwgbG9hZCBmb3IgdGhlIHN0b3J5IGhhc1xuICogY29tcGxldGVkLlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IFNUT1JZX0xPQURFRF9DTEFTU19OQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1sb2FkZWQnO1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gKi9cbmNvbnN0IE1BWF9NRURJQV9FTEVNRU5UX0NPVU5UUyA9IHtcbiAgW01lZGlhVHlwZS5BVURJT106IDQsXG4gIFtNZWRpYVR5cGUuVklERU9dOiA4LFxufTtcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5jb25zdCBUQUcgPSAnYW1wLXN0b3J5JztcblxuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgXCJwaWxsLXN0eWxlXCIgc2hhcmUgd2lkZ2V0LCByZW5kZXJlZCBvbiBkZXNrdG9wLlxuICogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuY29uc3QgU0hBUkVfV0lER0VUX1BJTExfQ09OVEFJTkVSID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsJ30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbC1sYWJlbCd9KSxcbiAgICAgIGxvY2FsaXplZFN0cmluZ0lkOlxuICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMLFxuICAgIH0sXG4gIF0sXG59O1xuXG5cbi8qKlxuICogU2VsZWN0b3IgZm9yIGVsZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGhpZGRlbiB3aGVuIHRoZSBib29rZW5kIGlzIG9wZW4gb25cbiAqIGRlc2t0b3Agdmlldy5cbiAqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBISURFX09OX0JPT0tFTkRfU0VMRUNUT1IgPVxuICAgICdhbXAtc3RvcnktcGFnZSwgLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXInO1xuXG5cbi8qKlxuICogQGltcGxlbWVudHMgey4vbWVkaWEtcG9vbC5NZWRpYVBvb2xSb290fVxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnkgZXh0ZW5kcyBBTVAuQmFzZUVsZW1lbnQge1xuICAvKiogQHBhcmFtIHshQW1wRWxlbWVudH0gZWxlbWVudCAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfID0gbmV3IEFtcFN0b3J5U3RvcmVTZXJ2aWNlKHRoaXMud2luKTtcbiAgICByZWdpc3RlclNlcnZpY2VCdWlsZGVyKFxuICAgICAgICB0aGlzLndpbiwgJ3N0b3J5LXN0b3JlJywgKCkgPT4gdGhpcy5zdG9yZVNlcnZpY2VfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBbXBTdG9yeVJlcXVlc3RTZXJ2aWNlfSAqL1xuICAgIHRoaXMucmVxdWVzdFNlcnZpY2VfID0gbmV3IEFtcFN0b3J5UmVxdWVzdFNlcnZpY2UodGhpcy53aW4sIHRoaXMuZWxlbWVudCk7XG4gICAgcmVnaXN0ZXJTZXJ2aWNlQnVpbGRlcihcbiAgICAgICAgdGhpcy53aW4sICdzdG9yeS1yZXF1ZXN0LXYwMScsICgpID0+IHRoaXMucmVxdWVzdFNlcnZpY2VfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU5hdmlnYXRpb25TdGF0ZX0gKi9cbiAgICB0aGlzLm5hdmlnYXRpb25TdGF0ZV8gPVxuICAgICAgICBuZXcgTmF2aWdhdGlvblN0YXRlKHRoaXMud2luLCAoKSA9PiB0aGlzLmhhc0Jvb2tlbmRfKCkpO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQW1wU3RvcnlBbmFseXRpY3N9ICovXG4gICAgdGhpcy5hbmFseXRpY3NfID0gbmV3IEFtcFN0b3J5QW5hbHl0aWNzKHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSB0aGlzLmdldFZzeW5jKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshTG9jYWxpemF0aW9uU2VydmljZX0gKi9cbiAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2VfID0gbmV3IExvY2FsaXphdGlvblNlcnZpY2UodGhpcy53aW4pO1xuICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZV9cbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCdkZWZhdWx0JywgTG9jYWxpemVkU3RyaW5nc0RlZmF1bHQpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnZW4nLCBMb2NhbGl6ZWRTdHJpbmdzRW4pO1xuXG4gICAgY29uc3QgZW5YYVBzZXVkb0xvY2FsZUJ1bmRsZSA9XG4gICAgICAgIGNyZWF0ZVBzZXVkb0xvY2FsZShMb2NhbGl6ZWRTdHJpbmdzRW4sIHMgPT4gYFske3N9IG9uZSB0d29dYCk7XG4gICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlX1xuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2VuLXhhJywgZW5YYVBzZXVkb0xvY2FsZUJ1bmRsZSk7XG5cbiAgICByZWdpc3RlclNlcnZpY2VCdWlsZGVyKFxuICAgICAgICB0aGlzLndpbiwgJ2xvY2FsaXphdGlvbi12MDEnLCAoKSA9PiB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2VfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFCb29rZW5kfSAqL1xuICAgIHRoaXMuYm9va2VuZF8gPSBuZXcgQm9va2VuZCh0aGlzLndpbiwgdGhpcy5lbGVtZW50KTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFTaGFyZU1lbnV9IFByZWxvYWRzIGFuZCBwcmVyZW5kZXJzIHRoZSBzaGFyZSBtZW51LiAqL1xuICAgIHRoaXMuc2hhcmVNZW51XyA9IG5ldyBTaGFyZU1lbnUodGhpcy53aW4sIHRoaXMuZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshU3lzdGVtTGF5ZXJ9ICovXG4gICAgdGhpcy5zeXN0ZW1MYXllcl8gPSBuZXcgU3lzdGVtTGF5ZXIodGhpcy53aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVVuc3VwcG9ydGVkQnJvd3NlckxheWVyfSAqL1xuICAgIHRoaXMudW5zdXBwb3J0ZWRCcm93c2VyTGF5ZXJfID0gbmV3IFVuc3VwcG9ydGVkQnJvd3NlckxheWVyKHRoaXMud2luKTtcblxuICAgIC8qKiBJbnN0YW50aWF0ZXMgdGhlIHZpZXdwb3J0IHdhcm5pbmcgbGF5ZXIuICovXG4gICAgbmV3IFZpZXdwb3J0V2FybmluZ0xheWVyKHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PCEuL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZT59ICovXG4gICAgdGhpcy5wYWdlc18gPSBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTwhLi9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2U+fSAqL1xuICAgIHRoaXMuYWRQYWdlc18gPSBbXTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyFBbXBTdG9yeVZhcmlhYmxlU2VydmljZX0gKi9cbiAgICB0aGlzLnZhcmlhYmxlU2VydmljZV8gPSBuZXcgQW1wU3RvcnlWYXJpYWJsZVNlcnZpY2UoKTtcbiAgICByZWdpc3RlclNlcnZpY2VCdWlsZGVyKFxuICAgICAgICB0aGlzLndpbiwgJ3N0b3J5LXZhcmlhYmxlJywgKCkgPT4gdGhpcy52YXJpYWJsZVNlcnZpY2VfLmdldCgpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSAqL1xuICAgIHRoaXMuYWN0aXZlUGFnZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuZGVza3RvcE1lZGlhXyA9IHRoaXMud2luLm1hdGNoTWVkaWEoXG4gICAgICAgIGAobWluLXdpZHRoOiAke0RFU0tUT1BfV0lEVEhfVEhSRVNIT0xEfXB4KSBhbmQgYCArXG4gICAgICAgIGAobWluLWhlaWdodDogJHtERVNLVE9QX0hFSUdIVF9USFJFU0hPTER9cHgpYCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5jYW5Sb3RhdGVUb0Rlc2t0b3BNZWRpYV8gPSB0aGlzLndpbi5tYXRjaE1lZGlhKFxuICAgICAgICBgKG1pbi13aWR0aDogJHtERVNLVE9QX0hFSUdIVF9USFJFU0hPTER9cHgpIGFuZCBgICtcbiAgICAgICAgYChtaW4taGVpZ2h0OiAke0RFU0tUT1BfV0lEVEhfVEhSRVNIT0xEfXB4KWApO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QW1wU3RvcnlCYWNrZ3JvdW5kfSAqL1xuICAgIHRoaXMuYmFja2dyb3VuZF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/SFRNTE1lZGlhRWxlbWVudH0gKi9cbiAgICB0aGlzLmJhY2tncm91bmRBdWRpb0VsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez8uL3BhZ2luYXRpb24tYnV0dG9ucy5QYWdpbmF0aW9uQnV0dG9uc30gKi9cbiAgICB0aGlzLnBhZ2luYXRpb25CdXR0b25zXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMudG9wQmFyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9TaGFyZVdpZGdldH0gKi9cbiAgICB0aGlzLnNoYXJlV2lkZ2V0XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8c3RyaW5nPn0gKi9cbiAgICB0aGlzLm9yaWdpbldoaXRlbGlzdF8gPSBPUklHSU5fV0hJVEVMSVNUO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQW1wU3RvcnlIaW50fSAqL1xuICAgIHRoaXMuYW1wU3RvcnlIaW50XyA9IG5ldyBBbXBTdG9yeUhpbnQodGhpcy53aW4sIHRoaXMuZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgeyFNZWRpYVBvb2x9ICovXG4gICAgdGhpcy5tZWRpYVBvb2xfID0gTWVkaWFQb29sLmZvcih0aGlzKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3IodGhpcy53aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3BsYXRmb3JtLWltcGwuUGxhdGZvcm19ICovXG4gICAgdGhpcy5wbGF0Zm9ybV8gPSBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbik7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmFzc2VydEFtcFN0b3J5RXhwZXJpbWVudF8oKTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKEFNUF9TVE9SWV9TVEFOREFMT05FX0FUVFJJQlVURSkpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVN0YW5kYWxvbmVTdG9yeV8oKTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignYW1wLXN0b3J5LXBhZ2UnKS5zZXRBdHRyaWJ1dGUoJ2FjdGl2ZScsICcnKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcbiAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNGb3JEZXZfKCk7XG5cbiAgICBpZiAodGhpcy5pc0Rlc2t0b3BfKCkpIHtcbiAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0RFU0tUT1AsIHRydWUpO1xuICAgIH1cblxuICAgIHRoaXMubmF2aWdhdGlvblN0YXRlXy5vYnNlcnZlKHN0YXRlQ2hhbmdlRXZlbnQgPT4ge1xuICAgICAgdGhpcy52YXJpYWJsZVNlcnZpY2VfLm9uTmF2aWdhdGlvblN0YXRlQ2hhbmdlKHN0YXRlQ2hhbmdlRXZlbnQpO1xuICAgICAgdGhpcy5hbmFseXRpY3NfLm9uTmF2aWdhdGlvblN0YXRlQ2hhbmdlKHN0YXRlQ2hhbmdlRXZlbnQpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgaW5pdGlhbGl6ZVN0YW5kYWxvbmVTdG9yeV8oKSB7XG4gICAgY29uc3QgaHRtbCA9IHRoaXMud2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1zdGFuZGFsb25lJyk7XG4gICAgLy8gTG9jayBib2R5IHRvIHByZXZlbnQgb3ZlcmZsb3cuXG4gICAgdGhpcy5sb2NrQm9keV8oKTtcbiAgICAvLyBTdGFuZGFsb25lIENTUyBhZmZlY3RzIHNpemluZyBvZiB0aGUgZW50aXJlIHBhZ2UuXG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICB9XG5cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSBzeXN0ZW0gbGF5ZXIgRE9NLiAgVGhpcyBpcyBkZXBlbmRlbnQgb24gdGhlIHBhZ2VzXyBhcnJheSBoYXZpbmdcbiAgICogYmVlbiBpbml0aWFsaXplZCwgc28gaXQgY2Fubm90IGhhcHBlbiBhdCBidWlsZCB0aW1lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnVpbGRTeXN0ZW1MYXllcl8oKSB7XG4gICAgY29uc3QgcGFnZUlkcyA9IHRoaXMucGFnZXNfLm1hcChwYWdlID0+IHBhZ2UuZWxlbWVudC5pZCk7XG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc3lzdGVtTGF5ZXJfLmJ1aWxkKHBhZ2VJZHMpKTtcbiAgICB0aGlzLnVwZGF0ZUF1ZGlvSWNvbl8oKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBpbml0aWFsaXplTGlzdGVuZXJzXygpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuTkVYVF9QQUdFLCAoKSA9PiB7XG4gICAgICB0aGlzLm5leHRfKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuUFJFVklPVVNfUEFHRSwgKCkgPT4ge1xuICAgICAgdGhpcy5wcmV2aW91c18oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5NVVRFRF9TVEFURSwgaXNNdXRlZCA9PiB7XG4gICAgICB0aGlzLm9uTXV0ZWRTdGF0ZVVwZGF0ZV8oaXNNdXRlZCk7XG4gICAgICB0aGlzLnZhcmlhYmxlU2VydmljZV8ub25NdXRlZFN0YXRlQ2hhbmdlKGlzTXV0ZWQpO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5Lk1VVEVEX1NUQVRFLCBpc011dGVkID0+IHtcbiAgICAgIC8vIFdlIGRvIG5vdCB3YW50IHRvIHRyaWdnZXIgYW4gYW5hbHl0aWNzIGV2ZW50IGZvciB0aGUgaW5pdGlhbGl6YXRpb24gb2ZcbiAgICAgIC8vIHRoZSBtdXRlZCBzdGF0ZS5cbiAgICAgIHRoaXMuYW5hbHl0aWNzXy5vbk11dGVkU3RhdGVDaGFuZ2UoaXNNdXRlZCk7XG4gICAgfSwgZmFsc2UgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShcbiAgICAgICAgU3RhdGVQcm9wZXJ0eS5TVVBQT1JURURfQlJPV1NFUl9TVEFURSwgaXNCcm93c2VyU3VwcG9ydGVkID0+IHtcbiAgICAgICAgICB0aGlzLm9uU3VwcG9ydGVkQnJvd3NlclN0YXRlVXBkYXRlXyhpc0Jyb3dzZXJTdXBwb3J0ZWQpO1xuICAgICAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TV0lUQ0hfUEFHRSwgZSA9PiB7XG4gICAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkJPT0tFTkRfU1RBVEUpKSB7XG4gICAgICAgIC8vIERpc2FsbG93IHN3aXRjaGluZyBwYWdlcyB3aGlsZSB0aGUgYm9va2VuZCBpcyBhY3RpdmUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zd2l0Y2hUb18oZ2V0RGV0YWlsKGUpWyd0YXJnZXRQYWdlSWQnXSk7XG4gICAgICB0aGlzLmFtcFN0b3J5SGludF8uaGlkZUFsbE5hdmlnYXRpb25IaW50KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuUEFHRV9QUk9HUkVTUywgZSA9PiB7XG4gICAgICBjb25zdCBkZXRhaWwgPSBnZXREZXRhaWwoZSk7XG4gICAgICBjb25zdCBwYWdlSWQgPSBkZXRhaWxbJ3BhZ2VJZCddO1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBkZXRhaWxbJ3Byb2dyZXNzJ107XG5cbiAgICAgIGlmIChwYWdlSWQgIT09IHRoaXMuYWN0aXZlUGFnZV8uZWxlbWVudC5pZCkge1xuICAgICAgICAvLyBJZ25vcmUgcHJvZ3Jlc3MgdXBkYXRlIGV2ZW50cyBmcm9tIGluYWN0aXZlIHBhZ2VzLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5hY3RpdmVQYWdlXy5pc0FkKCkpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW1MYXllcl8udXBkYXRlUHJvZ3Jlc3MocGFnZUlkLCBwcm9ncmVzcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuUkVQTEFZLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlcGxheV8oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TSE9XX05PX1BSRVZJT1VTX1BBR0VfSEVMUCwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19QUkVWSU9VU19QQUdFX0hFTFApKSB7XG4gICAgICAgIHRoaXMuYW1wU3RvcnlIaW50Xy5zaG93Rmlyc3RQYWdlSGludE92ZXJsYXkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UQVBfTkFWSUdBVElPTiwgZSA9PiB7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBnZXREZXRhaWwoZSlbJ2RpcmVjdGlvbiddO1xuICAgICAgdGhpcy5wZXJmb3JtVGFwTmF2aWdhdGlvbl8oZGlyZWN0aW9uKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFLCBpc0FjdGl2ZSA9PiB7XG4gICAgICB0aGlzLm9uQm9va2VuZFN0YXRlVXBkYXRlXyhpc0FjdGl2ZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuREVTS1RPUF9TVEFURSwgaXNEZXNrdG9wID0+IHtcbiAgICAgIHRoaXMub25EZXNrdG9wU3RhdGVVcGRhdGVfKGlzRGVza3RvcCk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLndpbi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICB0aGlzLm9uS2V5RG93bl8oZSk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQ1VSUkVOVF9QQUdFX0lELCBwYWdlSWQgPT4ge1xuICAgICAgdGhpcy5vbkN1cnJlbnRQYWdlSWRVcGRhdGVfKHBhZ2VJZCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdldFZpZXdwb3J0KCkub25SZXNpemUoZGVib3VuY2UodGhpcy53aW4sICgpID0+IHRoaXMub25SZXNpemUoKSwgMzAwKSk7XG4gICAgdGhpcy5pbnN0YWxsR2VzdHVyZVJlY29nbml6ZXJzXygpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGluc3RhbGxHZXN0dXJlUmVjb2duaXplcnNfKCkge1xuICAgIGNvbnN0IHtlbGVtZW50fSA9IHRoaXM7XG4gICAgY29uc3QgZ2VzdHVyZXMgPSBHZXN0dXJlcy5nZXQoZWxlbWVudCwgLyogc2hvdWxkTm90UHJldmVudERlZmF1bHQgKi8gdHJ1ZSk7XG5cbiAgICAvLyBEaXNhYmxlcyB6b29tIG9uIGRvdWJsZS10YXAuXG4gICAgZ2VzdHVyZXMub25HZXN0dXJlKERvdWJsZXRhcFJlY29nbml6ZXIsIGdlc3R1cmUgPT4ge1xuICAgICAgY29uc3Qge2V2ZW50fSA9IGdlc3R1cmU7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvd3MgXCJ0YXAgdG8gbmF2aWdhdGVcIiBoaW50IHdoZW4gc3dpcGluZy5cbiAgICBnZXN0dXJlcy5vbkdlc3R1cmUoU3dpcGVYWVJlY29nbml6ZXIsIGdlc3R1cmUgPT4ge1xuICAgICAgY29uc3Qge2RlbHRhWCwgZGVsdGFZfSA9IGdlc3R1cmUuZGF0YTtcbiAgICAgIGlmICh0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmlzU3dpcGVMYXJnZUVub3VnaEZvckhpbnRfKGRlbHRhWCwgZGVsdGFZKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc3RvcmVTZXJ2aWNlX1xuICAgICAgICAgIC5nZXQoU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19OQVZJR0FUSU9OX09WRVJMQVlfSElOVCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFtcFN0b3J5SGludF8uc2hvd05hdmlnYXRpb25PdmVybGF5KCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc1N3aXBlTGFyZ2VFbm91Z2hGb3JIaW50XyhkZWx0YVgsIGRlbHRhWSkge1xuICAgIGNvbnN0IHNpZGVTd2lwZSA9IE1hdGguYWJzKGRlbHRhWCkgPj0gTUlOX1NXSVBFX0ZPUl9ISU5UX09WRVJMQVlfUFg7XG4gICAgY29uc3QgdXBTd2lwZSA9ICgtMSAqIGRlbHRhWSkgPj0gTUlOX1NXSVBFX0ZPUl9ISU5UX09WRVJMQVlfUFg7XG4gICAgcmV0dXJuIHNpZGVTd2lwZSB8fCB1cFN3aXBlO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGluaXRpYWxpemVMaXN0ZW5lcnNGb3JEZXZfKCkge1xuICAgIGlmICghZ2V0TW9kZSgpLmRldmVsb3BtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkRFVl9MT0dfRU5UUklFU19BVkFJTEFCTEUsIGUgPT4ge1xuICAgICAgdGhpcy5zeXN0ZW1MYXllcl8ubG9nQWxsKC8qKiBAdHlwZSB7P30gKi8gKGdldERldGFpbChlKSkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGxvY2tCb2R5XygpIHtcbiAgICBjb25zdCB7ZG9jdW1lbnR9ID0gdGhpcy53aW47XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbicsXG4gICAgfSk7XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nLFxuICAgIH0pO1xuXG4gICAgdGhpcy5nZXRWaWV3cG9ydCgpLnJlc2V0VG91Y2hab29tKCk7XG4gICAgdGhpcy5nZXRWaWV3cG9ydCgpLmRpc2FibGVUb3VjaFpvb20oKTtcbiAgICB0aGlzLm1heWJlTG9ja1NjcmVlbk9yaWVudGF0aW9uXygpO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgbWF5YmVMb2NrU2NyZWVuT3JpZW50YXRpb25fKCkge1xuICAgIGNvbnN0IHtzY3JlZW59ID0gdGhpcy53aW47XG4gICAgaWYgKCFzY3JlZW4gfHwgIXRoaXMuY2FuUm90YXRlVG9EZXNrdG9wTWVkaWFfLm1hdGNoZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2NrT3JpZW50YXRpb24gPSBzY3JlZW4ubG9ja09yaWVudGF0aW9uIHx8XG4gICAgICAgIHNjcmVlbi5tb3pMb2NrT3JpZW50YXRpb24gfHwgc2NyZWVuLm1zTG9ja09yaWVudGF0aW9uIHx8XG4gICAgICAgICh1bnVzZWRPcmllbnRhdGlvbiA9PiB7fSk7XG5cbiAgICB0cnkge1xuICAgICAgbG9ja09yaWVudGF0aW9uKCdwb3J0cmFpdCcpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGRldigpLndhcm4oVEFHLCAnRmFpbGVkIHRvIGxvY2sgc2NyZWVuIG9yaWVudGF0aW9uOicsIGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGJ1aWxkUGFnaW5hdGlvbkJ1dHRvbnNfKCkge1xuICAgIHRoaXMucGFnaW5hdGlvbkJ1dHRvbnNfID0gUGFnaW5hdGlvbkJ1dHRvbnMuY3JlYXRlKHRoaXMud2luKTtcblxuICAgIHRoaXMucGFnaW5hdGlvbkJ1dHRvbnNfLmF0dGFjaCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy5uYXZpZ2F0aW9uU3RhdGVfLm9ic2VydmUoZSA9PlxuICAgICAgdGhpcy5wYWdpbmF0aW9uQnV0dG9uc18ub25OYXZpZ2F0aW9uU3RhdGVDaGFuZ2UoZSkpO1xuICB9XG5cbiAgLyoqIEB2aXNpYmxlRm9yVGVzdGluZyAqL1xuICBidWlsZFBhZ2luYXRpb25CdXR0b25zRm9yVGVzdGluZygpIHtcbiAgICB0aGlzLmJ1aWxkUGFnaW5hdGlvbkJ1dHRvbnNfKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYnVpbGRUb3BCYXJfKCkge1xuICAgIGNvbnN0IGRvYyA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50O1xuXG4gICAgdGhpcy50b3BCYXJfID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMudG9wQmFyXy5jbGFzc0xpc3QuYWRkKFxuICAgICAgICAnaS1hbXBodG1sLXN0b3J5LXRvcCcsICdpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0Jyk7XG4gICAgdGhpcy50b3BCYXJfLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRUb3BCYXJTaGFyZV8oKSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMudG9wQmFyXywgdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFOb2RlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnVpbGRUb3BCYXJTaGFyZV8oKSB7XG4gICAgY29uc3QgY29udGFpbmVyID1cbiAgICAgICAgcmVuZGVyU2ltcGxlVGVtcGxhdGUodGhpcy53aW4uZG9jdW1lbnQsIFNIQVJFX1dJREdFVF9QSUxMX0NPTlRBSU5FUik7XG5cbiAgICB0aGlzLnNoYXJlV2lkZ2V0XyA9IG5ldyBTaGFyZVdpZGdldCh0aGlzLndpbik7XG5cbiAgICBjb25zdCBzaGFyZUxhYmVsRWwgPSBkZXYoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsLWxhYmVsJyksXG4gICAgICAgICdFeHBlY3RlZCBzaGFyZSBwaWxsIGxhYmVsIHRvIGJlIHByZXNlbnQuJyk7XG5cbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKFxuICAgICAgICB0aGlzLnNoYXJlV2lkZ2V0Xy5idWlsZCh0aGlzLmdldEFtcERvYygpKSxcbiAgICAgICAgc2hhcmVMYWJlbEVsKTtcblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGxheW91dENhbGxiYWNrKCkge1xuICAgIGlmICghQW1wU3RvcnkuaXNCcm93c2VyU3VwcG9ydGVkKHRoaXMud2luKSAmJiAhdGhpcy5wbGF0Zm9ybV8uaXNCb3QoKSkge1xuICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfU1VQUE9SVEVEX0JST1dTRVIsIGZhbHNlKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaXJzdFBhZ2VFbCA9IHVzZXIoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignYW1wLXN0b3J5LXBhZ2UnKSxcbiAgICAgICAgJ1N0b3J5IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgcGFnZS4nKTtcblxuICAgIGNvbnN0IGluaXRpYWxQYWdlSWQgPSB0aGlzLmdldEhpc3RvcnlTdGF0ZVBhZ2VJZF8oKSB8fCBmaXJzdFBhZ2VFbC5pZDtcblxuICAgIGlmICghdGhpcy5wYWdpbmF0aW9uQnV0dG9uc18pIHtcbiAgICAgIHRoaXMuYnVpbGRQYWdpbmF0aW9uQnV0dG9uc18oKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yeUxheW91dFByb21pc2UgPSB0aGlzLmluaXRpYWxpemVQYWdlc18oKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmJ1aWxkU3lzdGVtTGF5ZXJfKCkpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBhZ2VzXy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgICAgICAgcGFnZS5zZXRBY3RpdmUoZmFsc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnN3aXRjaFRvXyhpbml0aWFsUGFnZUlkKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5wcmVsb2FkUGFnZXNCeURpc3RhbmNlXygpKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgLy8gUHJlbG9hZHMgYW5kIHByZXJlbmRlcnMgdGhlIHNoYXJlIG1lbnUgaWYgbW9iaWxlLCB3aGVyZSB0aGUgc2hhcmVcbiAgICAgICAgICAvLyBidXR0b24gaXMgdmlzaWJsZS5cbiAgICAgICAgICBpZiAoIXRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5ERVNLVE9QX1NUQVRFKSkge1xuICAgICAgICAgICAgdGhpcy5zaGFyZU1lbnVfLmJ1aWxkKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaW5mb0RpYWxvZyA9IFNlcnZpY2VzLnZpZXdlckZvckRvYyh0aGlzLmVsZW1lbnQpLmlzRW1iZWRkZWQoKSA/XG4gICAgICAgICAgICBuZXcgSW5mb0RpYWxvZyh0aGlzLndpbiwgdGhpcy5lbGVtZW50KSA6IG51bGw7XG4gICAgICAgICAgaWYgKGluZm9EaWFsb2cpIHtcbiAgICAgICAgICAgIGluZm9EaWFsb2cuYnVpbGQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgLy8gRG8gbm90IGJsb2NrIHRoZSBsYXlvdXQgY2FsbGJhY2sgb24gdGhlIGNvbXBsZXRpb24gb2YgdGhlc2UgcHJvbWlzZXMsIGFzXG4gICAgLy8gdGhhdCBwcmV2ZW50cyBkZXNjZW5kZW50cyBmcm9tIGJlaW5nIGxhaWQgb3V0IChhbmQgdGhlcmVmb3JlIGxvYWRlZCkuXG4gICAgc3RvcnlMYXlvdXRQcm9taXNlLnRoZW4oKCkgPT4gdGhpcy53aGVuUGFnZXNMb2FkZWRfKFBBR0VfTE9BRF9USU1FT1VUX01TKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5tYXJrU3RvcnlBc0xvYWRlZF8oKSk7XG5cbiAgICB0aGlzLnZhbGlkYXRlQ29uc2VudF8oKTtcblxuICAgIHJldHVybiBzdG9yeUxheW91dFByb21pc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dE1zIFRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQsIGluXG4gICAqICAgICBtaWxsaXNlY29uZHMuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBwYWdlIGlzIGxvYWRlZCBvclxuICAgKiAgICAgdGhlIHRpbWVvdXQgaGFzIGJlZW4gZXhjZWVkZWQsIHdoaWNoZXZlciBoYXBwZW5zIGZpcnN0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgd2hlblBhZ2VzTG9hZGVkXyh0aW1lb3V0TXMgPSAwKSB7XG4gICAgY29uc3QgcGFnZXNUb1dhaXRGb3IgPSB0aGlzLmlzRGVza3RvcF8oKSA/XG4gICAgICBbdGhpcy5wYWdlc19bMF0sIHRoaXMucGFnZXNfWzFdXSA6XG4gICAgICBbdGhpcy5wYWdlc19bMF1dO1xuXG4gICAgY29uc3Qgc3RvcnlMb2FkUHJvbWlzZSA9IFByb21pc2UuYWxsKFxuICAgICAgICBwYWdlc1RvV2FpdEZvci5maWx0ZXIocGFnZSA9PiAhIXBhZ2UpLm1hcChwYWdlID0+IHBhZ2Uud2hlbkxvYWRlZCgpKSk7XG5cbiAgICByZXR1cm4gdGhpcy50aW1lcl8udGltZW91dFByb21pc2UodGltZW91dE1zLCBzdG9yeUxvYWRQcm9taXNlKVxuICAgICAgICAuY2F0Y2goKCkgPT4ge30pO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgbWFya1N0b3J5QXNMb2FkZWRfKCkge1xuICAgIGRpc3BhdGNoKHRoaXMuZWxlbWVudCwgRXZlbnRUeXBlLlNUT1JZX0xPQURFRCwgdHJ1ZSk7XG4gICAgdGhpcy5zaWduYWxzKCkuc2lnbmFsKENvbW1vblNpZ25hbHMuSU5JX0xPQUQpO1xuICAgIHRoaXMubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChTVE9SWV9MT0FERURfQ0xBU1NfTkFNRSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBFbnN1cmVzIHB1Ymxpc2hlcnMgdXNpbmcgYW1wLWNvbnNlbnQgdXNlIGFtcC1zdG9yeS1jb25zZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdmFsaWRhdGVDb25zZW50XygpIHtcbiAgICBjb25zdCBjb25zZW50RWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignYW1wLWNvbnNlbnQnKTtcbiAgICBpZiAoIWNvbnNlbnRFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY2hpbGRFbGVtZW50QnlUYWcoY29uc2VudEVsLCAnYW1wLXN0b3J5LWNvbnNlbnQnKSkge1xuICAgICAgZGV2KCkuZXJyb3IoVEFHLCAnYW1wLWNvbnNlbnQgbXVzdCBoYXZlIGFuIGFtcC1zdG9yeS1jb25zZW50IGNoaWxkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgYWxsb3dlZFRhZ3MgPSBbJ1NDUklQVCcsICdBTVAtU1RPUlktQ09OU0VOVCddO1xuICAgIGNvbnN0IHRvUmVtb3ZlQ2hpbGRyZW4gPSBjaGlsZEVsZW1lbnRzKFxuICAgICAgICBjb25zZW50RWwsIGVsID0+IGFsbG93ZWRUYWdzLmluZGV4T2YoZWwudGFnTmFtZSkgPT09IC0xKTtcblxuICAgIGlmICh0b1JlbW92ZUNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZXYoKS5lcnJvcihUQUcsIGBhbXAtY29uc2VudCBvbmx5IGFsbG93cyB0YWdzOiAke2FsbG93ZWRUYWdzfWApO1xuICAgIHRvUmVtb3ZlQ2hpbGRyZW4uZm9yRWFjaChlbCA9PiBjb25zZW50RWwucmVtb3ZlQ2hpbGQoZWwpKTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpc0xheW91dFN1cHBvcnRlZChsYXlvdXQpIHtcbiAgICByZXR1cm4gbGF5b3V0ID09IExheW91dC5DT05UQUlORVI7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHByZXJlbmRlckFsbG93ZWQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBpc0FtcFN0b3J5RW5hYmxlZF8oKSB7XG4gICAgaWYgKGlzRXhwZXJpbWVudE9uKHRoaXMud2luLCAnYW1wLXN0b3J5JykgfHwgZ2V0TW9kZSgpLnRlc3QgfHxcbiAgICAgICAgdGhpcy53aW4ubG9jYXRpb24ucHJvdG9jb2wgPT09ICdmaWxlOicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IG9yaWdpbiA9IGdldFNvdXJjZU9yaWdpbih0aGlzLndpbi5sb2NhdGlvbik7XG4gICAgcmV0dXJuIHRoaXMuaXNPcmlnaW5XaGl0ZWxpc3RlZF8ob3JpZ2luKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBwYXJ0IG9mIHRoZSBvcmlnaW4sIHRvIGJlIGhhc2hlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaGFzaGVkIG9yaWdpbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhc2hPcmlnaW5fKGRvbWFpbikge1xuICAgIHJldHVybiBzdHJpbmdIYXNoMzIoZG9tYWluLnRvTG93ZXJDYXNlKCkpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbiBUaGUgb3JpZ2luIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgb3JpZ2luIGlzIHdoaXRlbGlzdGVkIHRvIHVzZSB0aGVcbiAgICogICAgIGFtcC1zdG9yeSBleHRlbnNpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc09yaWdpbldoaXRlbGlzdGVkXyhvcmlnaW4pIHtcbiAgICBjb25zdCBob3N0TmFtZSA9IHBhcnNlVXJsRGVwcmVjYXRlZChvcmlnaW4pLmhvc3RuYW1lO1xuICAgIGNvbnN0IGRvbWFpbnMgPSBob3N0TmFtZS5zcGxpdCgnLicpO1xuXG4gICAgLy8gQ2hlY2sgYWxsIHBlcm11dGF0aW9ucyBvZiB0aGUgZG9tYWluIHRvIHNlZSBpZiBhbnkgbGV2ZWwgb2YgdGhlIGRvbWFpbiBpc1xuICAgIC8vIHdoaXRlbGlzdGVkLiAgVGFraW5nIHRoZSBleGFtcGxlIG9mIHRoZSB3aGl0ZWxpc3RlZCBkb21haW5cbiAgICAvLyBleGFtcGxlLmNvLnVrLCBpZiB0aGUgcGFnZSBpcyBzZXJ2ZWQgZnJvbSB3d3cuZXhhbXBsZS5jby51ay9wYWdlLmh0bWw6XG4gICAgLy9cbiAgICAvLyAgIHd3dy5leGFtcGxlLmNvLnVrID0+IGZhbHNlXG4gICAgLy8gICBleGFtcGxlLmNvLnVrID0+IHRydWVcbiAgICAvLyAgIGNvLnVrID0+IGZhbHNlXG4gICAgLy8gICB1ayA9PiBmYWxzZVxuICAgIC8vXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnksIHNpbmNlIHdlIGRvbid0IGhhdmUgYW55IGd1YXJhbnRlZXMgb2Ygd2hpY2ggbGV2ZWwgb2ZcbiAgICAvLyB0aGUgZG9tYWluIGlzIHdoaXRlbGlzdGVkLiAgRm9yIG1hbnkgZG9tYWlucyAoZS5nLiAuY29tKSwgdGhlIHNlY29uZFxuICAgIC8vIGxldmVsIG9mIHRoZSBkb21haW4gaXMgbGlrZWx5IHRvIGJlIHdoaXRlbGlzdGVkLCB3aGVyZWFzIGZvciBvdGhlcnNcbiAgICAvLyAoZS5nLiAuY28udWspIHRoZSB0aGlyZCBsZXZlbCBtYXkgYmUgd2hpdGVsaXN0ZWQuICBBZGRpdGlvbmFsbHksIHRoaXNcbiAgICAvLyBhbGxvd3Mgc3ViZG9tYWlucyB0byBiZSB3aGl0ZWxpc3RlZCBpbmRpdmlkdWFsbHkuXG4gICAgcmV0dXJuIGRvbWFpbnMuc29tZSgodW51c2VkRG9tYWluLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZG9tYWluID0gZG9tYWlucy5zbGljZShpbmRleCwgZG9tYWlucy5sZW5ndGgpLmpvaW4oJy4nKTtcbiAgICAgIGNvbnN0IGRvbWFpbkhhc2ggPSB0aGlzLmhhc2hPcmlnaW5fKGRvbWFpbik7XG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5XaGl0ZWxpc3RfLmluY2x1ZGVzKGRvbWFpbkhhc2gpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXNzZXJ0QW1wU3RvcnlFeHBlcmltZW50XygpIHtcbiAgICBpZiAodGhpcy5pc0FtcFN0b3J5RW5hYmxlZF8oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ySWNvbkVsID0gdGhpcy53aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZXJyb3JJY29uRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtaWNvbicpO1xuICAgIGVycm9ySWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1leHBlcmltZW50LWljb24tZXJyb3InKTtcblxuICAgIGNvbnN0IGVycm9yTXNnRWwgPSB0aGlzLndpbi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IHRoaXMubG9jYWxpemF0aW9uU2VydmljZV8uZ2V0TG9jYWxpemVkU3RyaW5nKFxuICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFQpO1xuXG4gICAgY29uc3QgZXhwZXJpbWVudHNMaW5rRWwgPSB0aGlzLndpbi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBleHBlcmltZW50c0xpbmtFbC50ZXh0Q29udGVudCA9IHRoaXMubG9jYWxpemF0aW9uU2VydmljZV9cbiAgICAgICAgLmdldExvY2FsaXplZFN0cmluZyhcbiAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9FWFBFUklNRU5UX0VOQUJMRV9CVVRUT05fTEFCRUwpO1xuICAgIGV4cGVyaW1lbnRzTGlua0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdG9nZ2xlRXhwZXJpbWVudCh0aGlzLndpbiwgJ2FtcC1zdG9yeScsIHRydWUpO1xuICAgICAgZXJyb3JJY29uRWwuY2xhc3NMaXN0LnJlbW92ZSgnaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtaWNvbi1lcnJvcicpO1xuICAgICAgZXJyb3JJY29uRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtaWNvbi1kb25lJyk7XG4gICAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlXy5nZXRMb2NhbGl6ZWRTdHJpbmcoXG4gICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0VYUEVSSU1FTlRfRU5BQkxFRF9URVhUKTtcbiAgICAgIHJlbW92ZUVsZW1lbnQoZXhwZXJpbWVudHNMaW5rRWwpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMud2luLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVycm9yRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtZXJyb3InKTtcbiAgICBlcnJvckVsLmFwcGVuZENoaWxkKGVycm9ySWNvbkVsKTtcbiAgICBlcnJvckVsLmFwcGVuZENoaWxkKGVycm9yTXNnRWwpO1xuICAgIGVycm9yRWwuYXBwZW5kQ2hpbGQoZXhwZXJpbWVudHNMaW5rRWwpO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChlcnJvckVsKTtcblxuICAgIHVzZXIoKS5lcnJvcihUQUcsICdlbmFibGUgYW1wLXN0b3J5IGV4cGVyaW1lbnQnKTtcbiAgfVxuXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGluaXRpYWxpemVQYWdlc18oKSB7XG4gICAgY29uc3QgcGFnZUltcGxQcm9taXNlcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FtcC1zdG9yeS1wYWdlJyksXG4gICAgICAgIChwYWdlRWwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhZ2VFbC5nZXRJbXBsKCkudGhlbihwYWdlSW1wbCA9PiB7XG4gICAgICAgICAgICB0aGlzLnBhZ2VzX1tpbmRleF0gPSBwYWdlSW1wbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGFnZUltcGxQcm9taXNlcyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBZHZhbmNlIHRvIHRoZSBuZXh0IHNjcmVlbiBpbiB0aGUgc3RvcnksIGlmIHRoZXJlIGlzIG9uZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2lzQXV0b21hdGljQWR2YW5jZSBXaGV0aGVyIHRoaXMgbmF2aWdhdGlvbiB3YXMgY2F1c2VkXG4gICAqICAgICBieSBhbiBhdXRvbWF0aWMgYWR2YW5jZW1lbnQgYWZ0ZXIgYSB0aW1lb3V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbmV4dF8ob3B0X2lzQXV0b21hdGljQWR2YW5jZSkge1xuICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBkZXYoKS5hc3NlcnQodGhpcy5hY3RpdmVQYWdlXyxcbiAgICAgICAgJ05vIGFjdGl2ZSBwYWdlIHNldCB3aGVuIG5hdmlnYXRpbmcgdG8gbmV4dCBwYWdlLicpO1xuXG4gICAgY29uc3QgbGFzdFBhZ2UgPSB0aGlzLnBhZ2VzX1t0aGlzLmdldFBhZ2VDb3VudCgpIC0gMV07XG4gICAgaWYgKGFjdGl2ZVBhZ2UuZWxlbWVudC5oYXNBdHRyaWJ1dGUoQURWQU5DRV9UT19BVFRSKSB8fFxuICAgICAgICBhY3RpdmVQYWdlICE9PSBsYXN0UGFnZSkge1xuICAgICAgYWN0aXZlUGFnZS5uZXh0KG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhc0Jvb2tlbmRfKCkudGhlbihoYXNCb29rZW5kID0+IHtcbiAgICAgICAgaWYgKGhhc0Jvb2tlbmQpIHtcbiAgICAgICAgICB0aGlzLnNob3dCb29rZW5kXygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHbyBiYWNrIHRvIHRoZSBwcmV2aW91cyBzY3JlZW4gaW4gdGhlIHN0b3J5LCBpZiB0aGVyZSBpcyBvbmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcmV2aW91c18oKSB7XG4gICAgY29uc3QgYWN0aXZlUGFnZSA9IGRldigpLmFzc2VydCh0aGlzLmFjdGl2ZVBhZ2VfLFxuICAgICAgICAnTm8gYWN0aXZlIHBhZ2Ugc2V0IHdoZW4gbmF2aWdhdGluZyB0byBuZXh0IHBhZ2UuJyk7XG4gICAgYWN0aXZlUGFnZS5wcmV2aW91cygpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshVGFwTmF2aWdhdGlvbkRpcmVjdGlvbn0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gbmF2aWdhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwZXJmb3JtVGFwTmF2aWdhdGlvbl8oZGlyZWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICB0aGlzLm5leHRfKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gVGFwTmF2aWdhdGlvbkRpcmVjdGlvbi5ORVhUKSB7XG4gICAgICB0aGlzLm5leHRfKCk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFRhcE5hdmlnYXRpb25EaXJlY3Rpb24uUFJFVklPVVMpIHtcbiAgICAgIHRoaXMucHJldmlvdXNfKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogU3dpdGNoZXMgdG8gYSBwYXJ0aWN1bGFyIHBhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRQYWdlSWRcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzd2l0Y2hUb18odGFyZ2V0UGFnZUlkKSB7XG4gICAgY29uc3QgdGFyZ2V0UGFnZSA9IHRoaXMuZ2V0UGFnZUJ5SWQodGFyZ2V0UGFnZUlkKTtcbiAgICBjb25zdCBwYWdlSW5kZXggPSB0aGlzLmdldFBhZ2VJbmRleCh0YXJnZXRQYWdlKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uQ0hBTkdFX1BBR0UsIHtcbiAgICAgIGlkOiB0YXJnZXRQYWdlSWQsXG4gICAgICBpbmRleDogcGFnZUluZGV4LFxuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kXyh0YXJnZXRQYWdlLmVsZW1lbnQsIC8qIGluaXRpYWwgKi8gIXRoaXMuYWN0aXZlUGFnZV8pO1xuXG4gICAgaWYgKHRhcmdldFBhZ2UuaXNBZCgpKSB7XG4gICAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKEFEX1NIT1dJTkdfQVRUUiwgJycpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoQURfU0hPV0lOR19BVFRSKTtcbiAgICAgIH0pO1xuICAgICAgLy8gVE9ETyhhbGFub3JvemNvKTogZGVjb3VwbGUgdGhpcyB1c2luZyBOYXZpZ2F0aW9uU3RhdGVcbiAgICAgIHRoaXMuc3lzdGVtTGF5ZXJfLnNldEFjdGl2ZVBhZ2VJZCh0YXJnZXRQYWdlSWQpO1xuICAgIH1cblxuICAgIC8vIFRPRE8oYWxhbm9yb3pjbyk6IGNoZWNrIGlmIGF1dG9wbGF5XG4gICAgdGhpcy5uYXZpZ2F0aW9uU3RhdGVfLnVwZGF0ZUFjdGl2ZVBhZ2UoXG4gICAgICAgIHBhZ2VJbmRleCxcbiAgICAgICAgdGhpcy5nZXRQYWdlQ291bnQoKSxcbiAgICAgICAgdGFyZ2V0UGFnZS5lbGVtZW50LmlkKTtcblxuICAgIGNvbnN0IG9sZFBhZ2UgPSB0aGlzLmFjdGl2ZVBhZ2VfO1xuXG4gICAgLy8gVE9ETyhjdmlhbGl6KTogTW92ZSB0aGlzIHRvIHRoZSBwYWdlIGNsYXNzP1xuICAgIGNvbnN0IGFjdGl2ZVByaW9yU2libGluZyA9IHRhcmdldFBhZ2UuZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGNvbnN0IHByZXZpb3VzQWN0aXZlUHJpb3JTaWJsaW5nID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBbJHtlc2NhcGVDc3NTZWxlY3RvcklkZW50KFBSRV9BQ1RJVkVfUEFHRV9BVFRSSUJVVEVfTkFNRSl9XWApO1xuXG4gICAgdGhpcy5hY3RpdmVQYWdlXyA9IHRhcmdldFBhZ2U7XG5cbiAgICB0aGlzLnN5c3RlbUxheWVyXy5yZXNldERldmVsb3BlckxvZ3MoKTtcbiAgICB0aGlzLnN5c3RlbUxheWVyXy5zZXREZXZlbG9wZXJMb2dDb250ZXh0U3RyaW5nKFxuICAgICAgICB0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQuaWQpO1xuXG4gICAgcmV0dXJuIHRhcmdldFBhZ2UuYmVmb3JlVmlzaWJsZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyQWN0aXZlRXZlbnRGb3JQYWdlXygpO1xuXG4gICAgICBpZiAob2xkUGFnZSkge1xuICAgICAgICBvbGRQYWdlLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHRhcmdldFBhZ2Uuc2V0QWN0aXZlKHRydWUpO1xuXG4gICAgICBpZiAoYWN0aXZlUHJpb3JTaWJsaW5nICYmXG4gICAgICAgICAgbWF0Y2hlcyhhY3RpdmVQcmlvclNpYmxpbmcsICdhbXAtc3RvcnktcGFnZScpKSB7XG4gICAgICAgIGFjdGl2ZVByaW9yU2libGluZy5zZXRBdHRyaWJ1dGUoUFJFX0FDVElWRV9QQUdFX0FUVFJJQlVURV9OQU1FLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlvdXNBY3RpdmVQcmlvclNpYmxpbmcpIHtcbiAgICAgICAgcHJldmlvdXNBY3RpdmVQcmlvclNpYmxpbmcucmVtb3ZlQXR0cmlidXRlKFxuICAgICAgICAgICAgUFJFX0FDVElWRV9QQUdFX0FUVFJJQlVURV9OQU1FKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgZmlyc3QgbmF2aWdhdGlvbi5cbiAgICAgIGlmICghb2xkUGFnZSkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQW5kUHJlbG9hZEJhY2tncm91bmRBdWRpb18oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcmVsb2FkUGFnZXNCeURpc3RhbmNlXygpO1xuICAgICAgdGhpcy5yZWFwcGx5TXV0aW5nXygpO1xuICAgICAgdGhpcy5mb3JjZVJlcGFpbnRGb3JTYWZhcmlfKCk7XG4gICAgICB0aGlzLm1heWJlUHJlbG9hZEJvb2tlbmRfKCk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICB0cmlnZ2VyQWN0aXZlRXZlbnRGb3JQYWdlXygpIHtcbiAgICAvLyBUT0RPKGFsYW5vcm96Y28pOiBwYXNzIGV2ZW50IHByaW9yaXR5IG9uY2UgYW1waHRtbC1zdG9yeSByZXBvIGlzIG1lcmdlZFxuICAgIC8vIHdpdGggdXBzdHJlYW0uXG4gICAgU2VydmljZXMuYWN0aW9uU2VydmljZUZvckRvYyh0aGlzLmVsZW1lbnQpXG4gICAgICAgIC50cmlnZ2VyKHRoaXMuYWN0aXZlUGFnZV8uZWxlbWVudCwgJ2FjdGl2ZScsIC8qIGV2ZW50ICovIG51bGwsXG4gICAgICAgICAgICBBY3Rpb25UcnVzdC5ISUdIKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZvciBzb21lIHJlYXNvbiwgU2FmYXJpIGhhcyBhbiBpc3N1ZSB3aGVyZSBzb21ldGltZXMgd2hlbiBwYWdlcyBiZWNvbWVcbiAgICogdmlzaWJsZSwgc29tZSBkZXNjZW5kYW50cyBhcmUgbm90IHBhaW50ZWQuICBUaGlzIGlzIGEgaGFjayB3aGVyZSB3ZSBkZXRlY3RcbiAgICogdGhhdCB0aGUgYnJvd3NlciBpcyBTYWZhcmkgYW5kIGZvcmNlIGl0IHRvIHJlcGFpbnQsIHRvIGF2b2lkIHRoaXMgY2FzZS5cbiAgICogU2VlIG5ld211aXMvYW1waHRtbC1zdG9yeSMxMDYgZm9yIGRldGFpbHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmb3JjZVJlcGFpbnRGb3JTYWZhcmlfKCkge1xuICAgIGlmICghdGhpcy5wbGF0Zm9ybV8uaXNTYWZhcmkoKSAmJiAhdGhpcy5wbGF0Zm9ybV8uaXNJb3MoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0Rlc2t0b3BfKCkpIHtcbiAgICAgIC8vIEZvcmNlIHJlcGFpbnQgaXMgb25seSBuZWVkZWQgd2hlbiB0cmFuc2l0aW9uaW5nIGZyb20gaW52aXNpYmxlIHRvXG4gICAgICAvLyB2aXNpYmxlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gICAgICAvLyBSZWFkaW5nIHRoZSBoZWlnaHQgaXMgd2hhdCBmb3JjZXMgdGhlIHJlcGFpbnQuICBUaGUgY29uZGl0aW9uYWwgZXhpc3RzXG4gICAgICAvLyBvbmx5IHRvIHdvcmthcm91bmQgdGhlIGZhY3QgdGhhdCB0aGUgY2xvc3VyZSBjb21waWxlciB3b3VsZCBvdGhlcndpc2VcbiAgICAgIC8vIHRoaW5rIHRoYXQgb25seSByZWFkaW5nIHRoZSBoZWlnaHQgaGFzIG5vIGVmZmVjdC4gIFNpbmNlIHRoZSBoZWlnaHQgaXNcbiAgICAgIC8vIGFsd2F5cyA+PSAwLCB0aGlzIGNvbmRpdGlvbmFsIHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkLlxuICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5lbGVtZW50Li8qT0sqL29mZnNldEhlaWdodDtcbiAgICAgIGlmIChoZWlnaHQgPj0gMCkge1xuICAgICAgICBzZXRTdHlsZSh0aGlzLmVsZW1lbnQsICdkaXNwbGF5JywgJycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogSGFuZGxlcyBhbGwga2V5IHByZXNzZXMgd2l0aGluIHRoZSBzdG9yeS5cbiAgICogQHBhcmFtIHshRXZlbnR9IGUgVGhlIGtleWRvd24gZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbktleURvd25fKGUpIHtcbiAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkJPT0tFTkRfU1RBVEUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgIC8vIFRPRE8obmV3bXVpcyk6IFRoaXMgd2lsbCBuZWVkIHRvIGJlIGZsaXBwZWQgZm9yIFJUTC5cbiAgICAgIGNhc2UgS2V5Q29kZXMuTEVGVF9BUlJPVzpcbiAgICAgICAgdGhpcy5wcmV2aW91c18oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleUNvZGVzLlJJR0hUX0FSUk9XOlxuICAgICAgICB0aGlzLm5leHRfKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlSWQgbmV3IGN1cnJlbnQgcGFnZSBpZFxuICAgKiBAcHJpdmF0ZVxuICAgKiAqL1xuICBvbkN1cnJlbnRQYWdlSWRVcGRhdGVfKHBhZ2VJZCkge1xuICAgIHRoaXMuc2V0SGlzdG9yeVN0YXRlUGFnZUlkXyhwYWdlSWQpO1xuICB9XG5cblxuICAvKipcbiAgICogU2F2ZSBwYWdlIGlkIHVzaW5nIGhpc3RvcnkgQVBJLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUlkIHBhZ2UgaWQgdG8gYmUgc2F2ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldEhpc3RvcnlTdGF0ZVBhZ2VJZF8ocGFnZUlkKSB7XG4gICAgLy8gTmV2ZXIgc2F2ZSBhZCBwYWdlcyB0byBoaXN0b3J5IGFzIHRoZXkgYXJlIHVuaXF1ZSB0byBlYWNoIHZpc2l0LlxuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdldFBhZ2VCeUlkKHBhZ2VJZCk7XG4gICAgaWYgKHBhZ2UuaXNBZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge2hpc3Rvcnl9ID0gdGhpcy53aW47XG4gICAgaWYgKGhpc3RvcnkucmVwbGFjZVN0YXRlICYmIHRoaXMuZ2V0SGlzdG9yeVN0YXRlUGFnZUlkXygpICE9PSBwYWdlSWQpIHtcbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgYW1wU3RvcnlQYWdlSWQ6IHBhZ2VJZCxcbiAgICAgIH0sICcnKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0SGlzdG9yeVN0YXRlUGFnZUlkXygpIHtcbiAgICBjb25zdCB7aGlzdG9yeX0gPSB0aGlzLndpbjtcbiAgICBpZiAoaGlzdG9yeSAmJiBoaXN0b3J5LnN0YXRlKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5zdGF0ZS5hbXBTdG9yeVBhZ2VJZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcmVzaXplIGV2ZW50cyBhbmQgc2V0IHRoZSBzdG9yeSdzIGRlc2t0b3Agc3RhdGUuXG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgKi9cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgaXNEZXNrdG9wID0gdGhpcy5pc0Rlc2t0b3BfKCk7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfREVTS1RPUCwgaXNEZXNrdG9wKTtcblxuICAgIGlmIChpc0Rlc2t0b3ApIHtcbiAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0xBTkRTQ0FQRSwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9uIG1vYmlsZSwgbWF5YmUgZGlzcGxheSB0aGUgbGFuZHNjYXBlIG92ZXJsYXkgd2FybmluZy5cbiAgICB0aGlzLnZzeW5jXy5ydW4oe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBjb25zdCB7b2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodH0gPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIHN0YXRlLmlzTGFuZHNjYXBlID0gb2Zmc2V0V2lkdGggPiBvZmZzZXRIZWlnaHQ7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiBzdGF0ZSA9PiB7XG4gICAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0xBTkRTQ0FQRSwgc3RhdGUuaXNMYW5kc2NhcGUpO1xuICAgICAgfSxcbiAgICB9LCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIGRlc2t0b3Agc3RhdGUgdXBkYXRlcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0Rlc2t0b3BcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uRGVza3RvcFN0YXRlVXBkYXRlXyhpc0Rlc2t0b3ApIHtcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkZXNrdG9wJywgJycpO1xuICAgICAgfSk7XG4gICAgICBpZiAoIXRoaXMudG9wQmFyXykge1xuICAgICAgICB0aGlzLmJ1aWxkVG9wQmFyXygpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmJhY2tncm91bmRfKSB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZF8gPSBuZXcgQW1wU3RvcnlCYWNrZ3JvdW5kKHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRfLmF0dGFjaCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYWN0aXZlUGFnZV8pIHtcbiAgICAgICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kXyh0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQsIC8qIGluaXRpYWwgKi8gdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFByZWxvYWRzIGFuZCBwcmVyZW5kZXJzIHRoZSBzaGFyZSBtZW51IGFzIHRoZSBzaGFyZSBidXR0b24gZ2V0cyB2aXNpYmxlXG4gICAgICAvLyBvbiB0aGUgbW9iaWxlIFVJLiBOby1vcCBpZiBhbHJlYWR5IGJ1aWx0LlxuICAgICAgdGhpcy5zaGFyZU1lbnVfLmJ1aWxkKCk7XG5cbiAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rlc2t0b3AnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBzY3JlZW4gc2l6ZSBtYXRjaGVzIHRoZSBkZXNrdG9wIG1lZGlhIHF1ZXJ5LlxuICAgKi9cbiAgaXNEZXNrdG9wXygpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNrdG9wTWVkaWFfLm1hdGNoZXMgJiYgIXRoaXMucGxhdGZvcm1fLmlzQm90KCkgJiZcbiAgICAgICAgIWlzRXhwZXJpbWVudE9uKHRoaXMud2luLCAnZGlzYWJsZS1hbXAtc3RvcnktZGVza3RvcCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSB1bnN1cHBvcnRlZCBicm93c2VyIFVJOiBlaXRoZXIgdGhlIHB1Ymxpc2hlciBwcm92aWRlZCBVSSwgb3JcbiAgICogZmFsbGJhY2tzIHRvIGEgZ2VuZXJpYyBkZWZhdWx0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQnJvd3NlclN1cHBvcnRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25TdXBwb3J0ZWRCcm93c2VyU3RhdGVVcGRhdGVfKGlzQnJvd3NlclN1cHBvcnRlZCkge1xuICAgIGlmIChpc0Jyb3dzZXJTdXBwb3J0ZWQpIHtcbiAgICAgIGRldigpLmVycm9yKFRBRywgJ05vIGhhbmRsZXIgdG8gZXhpdCB1bnN1cHBvcnRlZCBicm93c2VyIHN0YXRlLicpO1xuICAgIH1cblxuICAgIGNvbnN0IGZhbGxiYWNrRWwgPSB0aGlzLmdldEZhbGxiYWNrKCk7XG5cbiAgICB0aGlzLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1mYWxsYmFjaycpO1xuICAgIH0pO1xuXG4gICAgLy8gRGlzcGxheXMgdGhlIHB1Ymxpc2hlciBwcm92aWRlZCBmYWxsYmFjaywgb3IgZmFsbGJhY2tzIHRvIHRoZSBkZWZhdWx0XG4gICAgLy8gdW5zdXBwb3J0ZWQgYnJvd3NlciBsYXllci5cbiAgICBpZiAoZmFsbGJhY2tFbCkge1xuICAgICAgdGhpcy50b2dnbGVGYWxsYmFjayh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudW5zdXBwb3J0ZWRCcm93c2VyTGF5ZXJfLmJ1aWxkKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFVSTCBvZiB0aGUgZ2l2ZW4gcGFnZSdzIGJhY2tncm91bmQgcmVzb3VyY2UuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VFbGVtZW50XG4gICAqIEByZXR1cm4gez9zdHJpbmd9IFRoZSBVUkwgb2YgdGhlIGJhY2tncm91bmQgcmVzb3VyY2VcbiAgICovXG4gIGdldEJhY2tncm91bmRVcmxfKHBhZ2VFbGVtZW50KSB7XG4gICAgbGV0IGZpbGxFbGVtZW50ID0gcGFnZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJ1t0ZW1wbGF0ZT1cImZpbGxcIl06bm90KC5pLWFtcGh0bWwtaGlkZGVuLWJ5LW1lZGlhLXF1ZXJ5KScpO1xuXG4gICAgaWYgKCFmaWxsRWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZmlsbEVsZW1lbnQgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGZpbGxFbGVtZW50KTtcblxuICAgIGNvbnN0IGZpbGxQb3N0ZXJFbGVtZW50ID0gZmlsbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJ1twb3N0ZXJdOm5vdCguaS1hbXBodG1sLWhpZGRlbi1ieS1tZWRpYS1xdWVyeSknKTtcblxuICAgIGNvbnN0IHNyY0VsZW1lbnQgPSBmaWxsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnW3NyY106bm90KC5pLWFtcGh0bWwtaGlkZGVuLWJ5LW1lZGlhLXF1ZXJ5KScpO1xuXG4gICAgY29uc3QgZmlsbFBvc3RlciA9IGZpbGxQb3N0ZXJFbGVtZW50ID9cbiAgICAgIGZpbGxQb3N0ZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgncG9zdGVyJykgOiAnJztcbiAgICBjb25zdCBzcmMgPSBzcmNFbGVtZW50ID8gc3JjRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpIDogJyc7XG5cbiAgICByZXR1cm4gZmlsbFBvc3RlciB8fCBzcmM7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJhY2tncm91bmQgdG8gdGhlIHNwZWNpZmllZCBwYWdlJ3MgYmFja2dyb3VuZC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFnZUVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5pdGlhbFxuICAgKi9cbiAgdXBkYXRlQmFja2dyb3VuZF8ocGFnZUVsZW1lbnQsIGluaXRpYWwgPSBmYWxzZSkge1xuICAgIGlmICghdGhpcy5iYWNrZ3JvdW5kXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0VnN5bmMoKS5ydW4oe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS51cmwgPSB0aGlzLmdldEJhY2tncm91bmRVcmxfKHBhZ2VFbGVtZW50KTtcbiAgICAgICAgc3RhdGUuY29sb3IgPSBjb21wdXRlZFN0eWxlKHRoaXMud2luLCBwYWdlRWxlbWVudClcbiAgICAgICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiBzdGF0ZSA9PiB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZF8uc2V0QmFja2dyb3VuZChzdGF0ZS5jb2xvciwgc3RhdGUudXJsLCBpbml0aWFsKTtcbiAgICAgIH0sXG4gICAgfSwge30pO1xuICB9XG5cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGJvb2tlbmQgb3ZlcmxheS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNob3dCb29rZW5kXygpIHtcbiAgICB0aGlzLmJ1aWxkQW5kUHJlbG9hZEJvb2tlbmRfKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9CT09LRU5ELCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBib29rZW5kIG92ZXJsYXkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoaWRlQm9va2VuZF8oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfQk9PS0VORCwgZmFsc2UpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0FjdGl2ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Cb29rZW5kU3RhdGVVcGRhdGVfKGlzQWN0aXZlKSB7XG4gICAgdGhpcy50b2dnbGVFbGVtZW50c09uQm9va2VuZF8oLyogZGlzcGxheSAqLyBpc0FjdGl2ZSk7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFjdGl2ZScsIGlzQWN0aXZlKTtcblxuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgdGhpcy5zeXN0ZW1MYXllcl8uaGlkZURldmVsb3BlckxvZygpO1xuICAgICAgdGhpcy5hY3RpdmVQYWdlXy5wYXVzZUNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgdGhpcy5hY3RpdmVQYWdlXy5yZXN1bWVDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBjb250ZW50IHdoZW4gYm9va2VuZCBpcyBvcGVuZWQvY2xvc2VkLlxuICAgKiBUT0RPKGdtYWpvdWxldCk6IHRoZXNlIGVsZW1lbnRzIHNob3VsZCBnZXQgaGlkZGVuIGJ5IGxpc3RlbmluZyB0byBib29rZW5kXG4gICAqICAgICAgICAgICAgICAgICAgc3RhdGUgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0b2dnbGVFbGVtZW50c09uQm9va2VuZF8oaXNBY3RpdmUpIHtcbiAgICBpZiAoIXRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudHMgPSBzY29wZWRRdWVyeVNlbGVjdG9yQWxsKHRoaXMuZWxlbWVudCxcbiAgICAgICAgSElERV9PTl9CT09LRU5EX1NFTEVDVE9SKTtcblxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGVsID0+IHtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWwsIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMXMnLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0U3R5bGVzKGVsLCBbJ29wYWNpdHknLCAndHJhbnNpdGlvbiddKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUFycmF5PHN0cmluZz4+fSBBIDJEIGFycmF5IHJlcHJlc2VudGluZyBsaXN0cyBvZiBwYWdlcyBieVxuICAgKiAgICAgZGlzdGFuY2UuICBUaGUgb3V0ZXIgYXJyYXkgaW5kZXggcmVwcmVzZW50cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGVcbiAgICogICAgIGFjdGl2ZSBwYWdlOyB0aGUgaW5uZXIgYXJyYXkgaXMgYSBsaXN0IG9mIHBhZ2UgSURzIGF0IHRoZSBzcGVjaWZpZWRcbiAgICogICAgIGRpc3RhbmNlLlxuICAgKi9cbiAgZ2V0UGFnZXNCeURpc3RhbmNlXygpIHtcbiAgICBjb25zdCBkaXN0YW5jZU1hcCA9IHRoaXMuZ2V0UGFnZURpc3RhbmNlTWFwSGVscGVyXyhcbiAgICAgICAgLyogZGlzdGFuY2UgKi8gMCwgLyogbWFwICovIHt9LCB0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQuaWQpO1xuXG4gICAgLy8gVHJhbnNwb3NlIHRoZSBtYXAgaW50byBhIDJEIGFycmF5LlxuICAgIGNvbnN0IHBhZ2VzQnlEaXN0YW5jZSA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGRpc3RhbmNlTWFwKS5mb3JFYWNoKHBhZ2VJZCA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlTWFwW3BhZ2VJZF07XG4gICAgICBpZiAoIXBhZ2VzQnlEaXN0YW5jZVtkaXN0YW5jZV0pIHtcbiAgICAgICAgcGFnZXNCeURpc3RhbmNlW2Rpc3RhbmNlXSA9IFtdO1xuICAgICAgfVxuICAgICAgcGFnZXNCeURpc3RhbmNlW2Rpc3RhbmNlXS5wdXNoKHBhZ2VJZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFnZXNCeURpc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBtYXAgb2YgYSBwYWdlIGFuZCBhbGwgb2YgdGhlIHBhZ2VzIHJlYWNoYWJsZSBmcm9tIHRoYXQgcGFnZSwgYnlcbiAgICogZGlzdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBUaGUgZGlzdGFuY2UgdGhhdCB0aGUgcGFnZSB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICogICAgIHBhZ2VJZCBpcyBmcm9tIHRoZSBhY3RpdmUgcGFnZS5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gbWFwIEEgbWFwcGluZyBmcm9tIHBhZ2VJZCB0byBpdHMgZGlzdGFuY2VcbiAgICogICAgIGZyb20gdGhlIGFjdGl2ZSBwYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUlkIFRoZSBwYWdlIHRvIGJlIGFkZGVkIHRvIHRoZSBtYXAuXG4gICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBBIG1hcHBpbmcgZnJvbSBwYWdlIElEIHRvIHRoZSBwcmlvcml0eSBvZlxuICAgKiAgICAgdGhhdCBwYWdlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UGFnZURpc3RhbmNlTWFwSGVscGVyXyhkaXN0YW5jZSwgbWFwLCBwYWdlSWQpIHtcbiAgICBpZiAobWFwW3BhZ2VJZF0gIT09IHVuZGVmaW5lZCAmJiBtYXBbcGFnZUlkXSA8PSBkaXN0YW5jZSkge1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG5cbiAgICBtYXBbcGFnZUlkXSA9IGRpc3RhbmNlO1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdldFBhZ2VCeUlkKHBhZ2VJZCk7XG4gICAgcGFnZS5nZXRBZGphY2VudFBhZ2VJZHMoKS5mb3JFYWNoKGFkamFjZW50UGFnZUlkID0+IHtcbiAgICAgIGlmIChtYXBbYWRqYWNlbnRQYWdlSWRdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAmJiBtYXBbYWRqYWNlbnRQYWdlSWRdIDw9IGRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETyhuZXdtdWlzKTogUmVtb3ZlIHRoZSBhc3NpZ25tZW50IGFuZCByZXR1cm4sIGFzIHRoZXkncmVcbiAgICAgIC8vIHVubmVjZXNzYXJ5LlxuICAgICAgbWFwID0gdGhpcy5nZXRQYWdlRGlzdGFuY2VNYXBIZWxwZXJfKGRpc3RhbmNlICsgMSwgbWFwLCBhZGphY2VudFBhZ2VJZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcHJlbG9hZFBhZ2VzQnlEaXN0YW5jZV8oKSB7XG4gICAgaWYgKHRoaXMucGxhdGZvcm1fLmlzQm90KCkpIHtcbiAgICAgIHRoaXMucGFnZXNfLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgIHBhZ2Uuc2V0RGlzdGFuY2UoMCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlc0J5RGlzdGFuY2UgPSB0aGlzLmdldFBhZ2VzQnlEaXN0YW5jZV8oKTtcblxuICAgIHRoaXMubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICBwYWdlc0J5RGlzdGFuY2UuZm9yRWFjaCgocGFnZUlkcywgZGlzdGFuY2UpID0+IHtcbiAgICAgICAgcGFnZUlkcy5mb3JFYWNoKHBhZ2VJZCA9PiB7XG4gICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZUJ5SWQocGFnZUlkKTtcbiAgICAgICAgICBwYWdlLnNldERpc3RhbmNlKGRpc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBiYWNrZ3JvdW5kLWF1ZGlvIGF0dHJpYnV0ZSBzZXQgb24gYW4gPGFtcC1zdG9yeT4gdGFnLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVnaXN0ZXJBbmRQcmVsb2FkQmFja2dyb3VuZEF1ZGlvXygpIHtcbiAgICBsZXQgYmFja2dyb3VuZEF1ZGlvRWwgPSB1cGdyYWRlQmFja2dyb3VuZEF1ZGlvKHRoaXMuZWxlbWVudCk7XG5cbiAgICBpZiAoIWJhY2tncm91bmRBdWRpb0VsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gT25jZSB0aGUgbWVkaWEgcG9vbCBpcyByZWFkeSwgcmVnaXN0ZXJzIGFuZCBwcmVsb2FkcyB0aGUgYmFja2dyb3VuZFxuICAgIC8vIGF1ZGlvLCBhbmQgdGhlbiBnZXRzIHRoZSBzd2FwcGVkIGVsZW1lbnQgZnJvbSB0aGUgRE9NIHRvIG11dGUvdW5tdXRlL3BsYXlcbiAgICAvLyBpdCBwcm9ncmFtbWF0aWNhbGx5IGxhdGVyLlxuICAgIHRoaXMuYWN0aXZlUGFnZV8ud2hlbkxvYWRlZCgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQXVkaW9FbCA9XG4gICAgICAgICAgICAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAoYmFja2dyb3VuZEF1ZGlvRWwpO1xuICAgICAgICAgIHRoaXMubWVkaWFQb29sXy5yZWdpc3RlcihiYWNrZ3JvdW5kQXVkaW9FbCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFQb29sXy5wcmVsb2FkKGJhY2tncm91bmRBdWRpb0VsKTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQXVkaW9FbF8gPSAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqL1xuICAgICAgICAgICAgICAoY2hpbGRFbGVtZW50KHRoaXMuZWxlbWVudCwgZWwgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhdWRpbyc7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQcmVsb2FkcyB0aGUgYm9va2VuZCBjb25maWcgaWYgb24gdGhlIGxhc3QgcGFnZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1heWJlUHJlbG9hZEJvb2tlbmRfKCkge1xuICAgIGlmICghdGhpcy5hY3RpdmVQYWdlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuZ2V0UGFnZUluZGV4KHRoaXMuYWN0aXZlUGFnZV8pO1xuXG4gICAgaWYgKHBhZ2VJbmRleCArIDEgPj0gdGhpcy5nZXRQYWdlQ291bnQoKSkge1xuICAgICAgdGhpcy5idWlsZEFuZFByZWxvYWRCb29rZW5kXygpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEJ1aWxkcywgZmV0Y2hlcyBhbmQgc2V0cyB0aGUgYm9va2VuZCBwdWJsaXNoZXIgY29uZmlndXJhdGlvbi5cbiAgICogQHJldHVybiB7IVByb21pc2U8Py4vYW1wLXN0b3J5LWJvb2tlbmQuQm9va2VuZENvbmZpZ0RlZj59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZEFuZFByZWxvYWRCb29rZW5kXygpIHtcbiAgICB0aGlzLmJvb2tlbmRfLmJ1aWxkKCk7XG4gICAgcmV0dXJuIHRoaXMuYm9va2VuZF8ubG9hZENvbmZpZygpO1xuICB9XG5cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8Ym9vbGVhbj59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYXNCb29rZW5kXygpIHtcbiAgICBpZiAoIXRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19CT09LRU5EKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyhuZXdtdWlzKTogQ2hhbmdlIHRoaXMgY29tbWVudC5cbiAgICAvLyBPbiBtb2JpbGUgdGhlcmUgaXMgYWx3YXlzIGEgYm9va2VuZC4gT24gZGVza3RvcCwgdGhlIGJvb2tlbmQgd2lsbCBvbmx5XG4gICAgLy8gYmUgc2hvd24gaWYgcmVsYXRlZCBhcnRpY2xlcyBoYXZlIGJlZW4gY29uZmlndXJlZC5cbiAgICBpZiAoIXRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ib29rZW5kXy5sb2FkQ29uZmlnKGZhbHNlIC8qKiBhcHBseUNvbmZpZyAqLykudGhlbihjb25maWcgPT5cbiAgICAgICEhKGNvbmZpZyAmJiBjb25maWcucmVsYXRlZEFydGljbGVzICYmIGNvbmZpZy5yZWxhdGVkQXJ0aWNsZXMubGVuZ3RoKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBwYWdlIHdob3NlIGluZGV4IHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBwYWdlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UGFnZUluZGV4QnlJZF8oaWQpIHtcbiAgICBjb25zdCBwYWdlSW5kZXggPSBmaW5kSW5kZXgodGhpcy5wYWdlc18sIHBhZ2UgPT4gcGFnZS5lbGVtZW50LmlkID09PSBpZCk7XG5cbiAgICBpZiAocGFnZUluZGV4IDwgMCkge1xuICAgICAgdXNlcigpLmVycm9yKFRBRyxcbiAgICAgICAgICBgU3RvcnkgcmVmZXJzIHRvIHBhZ2UgXCIke2lkfVwiLCBidXQgbm8gc3VjaCBwYWdlIGV4aXN0cy5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFnZUluZGV4O1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgcGFnZSB0byBiZSByZXRyaWV2ZWQuXG4gICAqIEByZXR1cm4geyEuL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZX0gUmV0cmlldmVzIHRoZSBwYWdlIHdpdGggdGhlXG4gICAqICAgICBzcGVjaWZpZWQgSUQuXG4gICAqL1xuICBnZXRQYWdlQnlJZChpZCkge1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuZ2V0UGFnZUluZGV4QnlJZF8oaWQpO1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnQodGhpcy5wYWdlc19bcGFnZUluZGV4XSxcbiAgICAgICAgYFBhZ2UgYXQgaW5kZXggJHtwYWdlSW5kZXh9IGV4aXN0cywgYnV0IGlzIG1pc3NpbmcgZnJvbSB0aGUgYXJyYXkuYCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRQYWdlQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZXNfLmxlbmd0aCAtIHRoaXMuYWRQYWdlc18ubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSBkZXNpcmVkUGFnZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VJbmRleChkZXNpcmVkUGFnZSkge1xuICAgIHJldHVybiBmaW5kSW5kZXgodGhpcy5wYWdlc18sIHBhZ2UgPT4gcGFnZSA9PT0gZGVzaXJlZFBhZ2UpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBwYWdlIGNvbnRhaW5pbmcgdGhlIGVsZW1lbnQsIG9yIG51bGwuIEEgYmFja2dyb3VuZCBhdWRpb1xuICAgKiBzZXQgb24gdGhlIDxhbXAtc3Rvcnk+IHRhZyB3b3VsZCBub3QgYmUgY29udGFpbmVkIGluIGEgcGFnZS5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB3aG9zZSBjb250YWluaW5nIEFtcFN0b3J5UGFnZSBzaG91bGRcbiAgICogICAgIGJlIHJldHJpZXZlZFxuICAgKiBAcmV0dXJuIHs/Li9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2V9IFRoZSBBbXBTdG9yeVBhZ2UgY29udGFpbmluZyB0aGVcbiAgICogICAgIHNwZWNpZmllZCBlbGVtZW50LCBpZiBhbnkuXG4gICAqL1xuICBnZXRQYWdlQ29udGFpbmluZ0VsZW1lbnRfKGVsZW1lbnQpIHtcbiAgICBjb25zdCBwYWdlSW5kZXggPSBmaW5kSW5kZXgodGhpcy5wYWdlc18sIHBhZ2UgPT4ge1xuICAgICAgY29uc3QgcGFnZUVsID0gY2xvc2VzdChlbGVtZW50LCBlbCA9PiB7XG4gICAgICAgIHJldHVybiBlbCA9PT0gcGFnZS5lbGVtZW50O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAhIXBhZ2VFbDtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLnBhZ2VzX1twYWdlSW5kZXhdIHx8IG51bGw7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0RWxlbWVudERpc3RhbmNlKGVsZW1lbnQpIHtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRQYWdlQ29udGFpbmluZ0VsZW1lbnRfKGVsZW1lbnQpO1xuXG4gICAgLy8gQW4gZWxlbWVudCBub3QgY29udGFpbmVkIGluIGEgcGFnZSBpcyBsaWtlbHkgdG8gYmUgZ2xvYmFsIHRvIHRoZSBzdG9yeSxcbiAgICAvLyBsaWtlIGEgYmFja2dyb3VuZCBhdWRpby4gU2V0dGluZyB0aGUgZGlzdGFuY2UgdG8gLTEgZW5zdXJlcyBpdCB3aWxsIG5vdFxuICAgIC8vIGdldCBldmljdGVkIGZyb20gdGhlIG1lZGlhIHBvb2wuXG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhZ2UuZ2V0RGlzdGFuY2UoKTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRNYXhNZWRpYUVsZW1lbnRDb3VudHMoKSB7XG4gICAgbGV0IGF1ZGlvTWVkaWFFbGVtZW50c0NvdW50ID1cbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FtcC1hdWRpbywgW2JhY2tncm91bmQtYXVkaW9dJykubGVuZ3RoO1xuICAgIGNvbnN0IHZpZGVvTWVkaWFFbGVtZW50c0NvdW50ID1cbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FtcC12aWRlbycpLmxlbmd0aDtcblxuICAgIC8vIFRoZSByb290IGVsZW1lbnQgKGFtcC1zdG9yeSkgbWlnaHQgaGF2ZSBhIGJhY2tncm91bmQtYXVkaW8gYXMgd2VsbC5cbiAgICBpZiAodGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYmFja2dyb3VuZC1hdWRpbycpKSB7XG4gICAgICBhdWRpb01lZGlhRWxlbWVudHNDb3VudCsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBbTWVkaWFUeXBlLkFVRElPXTogTWF0aC5taW4oXG4gICAgICAgICAgYXVkaW9NZWRpYUVsZW1lbnRzQ291bnQsIE1BWF9NRURJQV9FTEVNRU5UX0NPVU5UU1tNZWRpYVR5cGUuQVVESU9dKSxcbiAgICAgIFtNZWRpYVR5cGUuVklERU9dOiBNYXRoLm1pbihcbiAgICAgICAgICB2aWRlb01lZGlhRWxlbWVudHNDb3VudCwgTUFYX01FRElBX0VMRU1FTlRfQ09VTlRTW01lZGlhVHlwZS5WSURFT10pLFxuICAgIH07XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBtdXRlZCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0gIHtib29sZWFufSBpc011dGVkIFdoZXRoZXIgdGhlIHN0b3J5IGp1c3QgZ290IG11dGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25NdXRlZFN0YXRlVXBkYXRlXyhpc011dGVkKSB7XG4gICAgaXNNdXRlZCA/IHRoaXMubXV0ZV8oKSA6IHRoaXMudW5tdXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIE11dGVzIHRoZSBhdWRpbyBmb3IgdGhlIHN0b3J5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbXV0ZV8oKSB7XG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZEF1ZGlvRWxfKSB7XG4gICAgICB0aGlzLm1lZGlhUG9vbF8ubXV0ZSh0aGlzLmJhY2tncm91bmRBdWRpb0VsXyk7XG4gICAgfVxuICAgIHRoaXMucGFnZXNfLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICBwYWdlLm11dGVBbGxNZWRpYSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVubXV0ZXMgdGhlIGF1ZGlvIGZvciB0aGUgc3RvcnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1bm11dGVfKCkge1xuICAgIGNvbnN0IHVubXV0ZUFsbE1lZGlhID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZEF1ZGlvRWxfKSB7XG4gICAgICAgIHRoaXMubWVkaWFQb29sXy51bm11dGUodGhpcy5iYWNrZ3JvdW5kQXVkaW9FbF8pO1xuICAgICAgICB0aGlzLm1lZGlhUG9vbF8ucGxheSh0aGlzLmJhY2tncm91bmRBdWRpb0VsXyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hY3RpdmVQYWdlXykge1xuICAgICAgICB0aGlzLmFjdGl2ZVBhZ2VfLnVubXV0ZUFsbE1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubWVkaWFQb29sXy5ibGVzc0FsbCgpXG4gICAgICAgIC50aGVuKHVubXV0ZUFsbE1lZGlhLCB1bm11dGVBbGxNZWRpYSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhcHBsaWVzIHRoZSBtdXRpbmcgc3RhdHVzIGZvciB0aGUgY3VycmVudGx5LWFjdGl2ZSBtZWRpYSBpbiB0aGUgc3RvcnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZWFwcGx5TXV0aW5nXygpIHtcbiAgICBjb25zdCBpc011dGVkID0gdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5Lk1VVEVEX1NUQVRFKTtcbiAgICBpZiAoIWlzTXV0ZWQpIHtcbiAgICAgIHRoaXMubXV0ZV8oKTtcbiAgICAgIHRoaXMudW5tdXRlXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgYXVkaW8gaWNvbiBpZiB0aGUgc3RvcnkgaGFzIGFueSBtZWRpYSBlbGVtZW50cyBjb250YWluaW5nIGF1ZGlvLFxuICAgKiBvciBiYWNrZ3JvdW5kIGF1ZGlvIGF0IHRoZSBzdG9yeSBvciBwYWdlIGxldmVsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlQXVkaW9JY29uXygpIHtcbiAgICBjb25zdCBjb250YWluc01lZGlhRWxlbWVudFdpdGhBdWRpbyA9ICEhdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICdhbXAtYXVkaW8sIGFtcC12aWRlbzpub3QoW25vYXVkaW9dKSwgW2JhY2tncm91bmQtYXVkaW9dJyk7XG4gICAgY29uc3QgaGFzU3RvcnlBdWRpbyA9IHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2JhY2tncm91bmQtYXVkaW8nKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0hBU19BVURJTyxcbiAgICAgICAgY29udGFpbnNNZWRpYUVsZW1lbnRXaXRoQXVkaW8gfHwgaGFzU3RvcnlBdWRpbyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVwbGF5XygpIHtcbiAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkJPT0tFTkRfU1RBVEUpKSB7XG4gICAgICB0aGlzLmhpZGVCb29rZW5kXygpO1xuICAgIH1cbiAgICB0aGlzLnN3aXRjaFRvXyhkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMucGFnZXNfWzBdLmVsZW1lbnQpLmlkKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHshTmF2aWdhdGlvblN0YXRlfSAqL1xuICBnZXROYXZpZ2F0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdGlvblN0YXRlXztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFkZCBwYWdlIHRvIGJhY2sgb2YgcGFnZXNfIGFycmF5XG4gICAqIEBwYXJhbSB7IS4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSBwYWdlXG4gICAqL1xuICBhZGRQYWdlKHBhZ2UpIHtcbiAgICB0aGlzLnBhZ2VzXy5wdXNoKHBhZ2UpO1xuXG4gICAgaWYgKHBhZ2UuaXNBZCgpKSB7XG4gICAgICB0aGlzLmFkUGFnZXNfLnB1c2gocGFnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhIG5ldyBwYWdlIGluIG5hdmlnYXRpb24gZmxvdyBieSBjaGFuZ2luZyB0aGUgYXR0ciBwb2ludGVyc1xuICAgKiBvbiBhbXAtc3RvcnktcGFnZSBlbGVtZW50c1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUJlZm9yZUlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlVG9CZUluc2VydGVkSWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gd2FzIHBhZ2UgaW5zZXJ0ZWRcbiAgICovXG4gIGluc2VydFBhZ2UocGFnZUJlZm9yZUlkLCBwYWdlVG9CZUluc2VydGVkSWQpIHtcbiAgICAvLyBUT0RPKGNjb3JkcnkpOiBtYWtlIHN1cmUgdGhpcyBtZXRob2QgbW92ZXMgdG8gUGFnZU1hbmFnZXIgd2hlblxuICAgIC8vIGltcGxlbWVudGVkXG4gICAgY29uc3QgcGFnZVRvQmVJbnNlcnRlZCA9IHRoaXMuZ2V0UGFnZUJ5SWQocGFnZVRvQmVJbnNlcnRlZElkKTtcbiAgICBjb25zdCBwYWdlVG9CZUluc2VydGVkRWwgPSBwYWdlVG9CZUluc2VydGVkLmVsZW1lbnQ7XG5cbiAgICBpZiAocGFnZVRvQmVJbnNlcnRlZC5pc0FkKCkgJiZcbiAgICAgICAgIXRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5DQU5fSU5TRVJUX0FVVE9NQVRJQ19BRCkpIHtcbiAgICAgIGRldigpLmV4cGVjdGVkRXJyb3IoVEFHLCAnSW5zZXJ0aW5nIGFkcyBhdXRvbWF0aWNhbGx5IGlzIGRpc2FsbG93ZWQuJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZUJlZm9yZSA9IHRoaXMuZ2V0UGFnZUJ5SWQocGFnZUJlZm9yZUlkKTtcbiAgICBjb25zdCBwYWdlQmVmb3JlRWwgPSBwYWdlQmVmb3JlLmVsZW1lbnQ7XG5cbiAgICBjb25zdCBuZXh0UGFnZSA9IHRoaXMuZ2V0TmV4dFBhZ2UocGFnZUJlZm9yZSk7XG5cbiAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcGFnZUJlZm9yZUVsLnNldEF0dHJpYnV0ZShBRFZBTkNFX1RPX0FUVFIsIHBhZ2VUb0JlSW5zZXJ0ZWRJZCk7XG4gICAgcGFnZUJlZm9yZUVsLnNldEF0dHJpYnV0ZShBVVRPX0FEVkFOQ0VfVE9fQVRUUiwgcGFnZVRvQmVJbnNlcnRlZElkKTtcbiAgICBwYWdlVG9CZUluc2VydGVkRWwuc2V0QXR0cmlidXRlKFJFVFVSTl9UT19BVFRSLCBwYWdlQmVmb3JlSWQpO1xuXG4gICAgY29uc3QgbmV4dFBhZ2VFbCA9IG5leHRQYWdlLmVsZW1lbnQ7XG4gICAgY29uc3QgbmV4dFBhZ2VJZCA9IG5leHRQYWdlRWwuaWQ7XG4gICAgcGFnZVRvQmVJbnNlcnRlZEVsLnNldEF0dHJpYnV0ZShBRFZBTkNFX1RPX0FUVFIsIG5leHRQYWdlSWQpO1xuICAgIHBhZ2VUb0JlSW5zZXJ0ZWRFbC5zZXRBdHRyaWJ1dGUoQVVUT19BRFZBTkNFX1RPX0FUVFIsIG5leHRQYWdlSWQpO1xuICAgIG5leHRQYWdlRWwuc2V0QXR0cmlidXRlKFJFVFVSTl9UT19BVFRSLCBwYWdlVG9CZUluc2VydGVkSWQpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgbmV4dCBwYWdlIG9iamVjdFxuICAgKiBAcGFyYW0geyEuL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZX0gcGFnZVxuICAgKiBAcmV0dXJuIHs/Li9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2V9XG4gICAqL1xuICBnZXROZXh0UGFnZShwYWdlKSB7XG4gICAgY29uc3QgbmV4dFBhZ2VJZCA9IHBhZ2UuZ2V0TmV4dFBhZ2VJZCh0cnVlIC8qb3B0X2lzQXV0b21hdGljQWR2YW5jZSAqLyk7XG4gICAgaWYgKCFuZXh0UGFnZUlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGFnZUJ5SWQobmV4dFBhZ2VJZCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSB1c2VyJ3MgYnJvd3NlciBzdXBwb3J0cyB0aGUgZmVhdHVyZXMgbmVlZGVkXG4gICAqICAgICBmb3IgYW1wLXN0b3J5LlxuICAgKi9cbiAgc3RhdGljIGlzQnJvd3NlclN1cHBvcnRlZCh3aW4pIHtcbiAgICByZXR1cm4gQm9vbGVhbih3aW4uQ1NTICYmIHdpbi5DU1Muc3VwcG9ydHMgJiZcbiAgICAgICAgd2luLkNTUy5zdXBwb3J0cygnZGlzcGxheScsICdncmlkJykpO1xuICB9XG59XG5cblxuQU1QLmV4dGVuc2lvbignYW1wLXN0b3J5JywgJzAuMScsIEFNUCA9PiB7XG4gIEFNUC5yZWdpc3RlckVsZW1lbnQoJ2FtcC1zdG9yeScsIEFtcFN0b3J5LCBDU1MpO1xuICBBTVAucmVnaXN0ZXJFbGVtZW50KCdhbXAtc3RvcnktcGFnZScsIEFtcFN0b3J5UGFnZSk7XG4gIEFNUC5yZWdpc3RlckVsZW1lbnQoJ2FtcC1zdG9yeS1ncmlkLWxheWVyJywgQW1wU3RvcnlHcmlkTGF5ZXIpO1xuICBBTVAucmVnaXN0ZXJFbGVtZW50KCdhbXAtc3RvcnktY3RhLWxheWVyJywgQW1wU3RvcnlDdGFMYXllcik7XG4gIEFNUC5yZWdpc3RlckVsZW1lbnQoJ2FtcC1zdG9yeS1jb25zZW50JywgQW1wU3RvcnlDb25zZW50KTtcbn0pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtTdGF0ZUNoYW5nZVR5cGV9IGZyb20gJy4vbmF2aWdhdGlvbi1zdGF0ZSc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge3RyaWdnZXJBbmFseXRpY3NFdmVudH0gZnJvbSAnLi4vLi4vLi4vc3JjL2FuYWx5dGljcyc7XG5cblxuLyoqIEBlbnVtIHtzdHJpbmd9ICovXG5jb25zdCBFdmVudHMgPSB7XG4gIFBBR0VfVklTSUJMRTogJ3N0b3J5LXBhZ2UtdmlzaWJsZScsXG4gIEJPT0tFTkRfRU5URVI6ICdzdG9yeS1ib29rZW5kLWVudGVyJyxcbiAgQk9PS0VORF9FWElUOiAnc3RvcnktYm9va2VuZC1leGl0JyxcbiAgU1RPUllfTVVURUQ6ICdzdG9yeS1hdWRpby1tdXRlZCcsXG4gIFNUT1JZX1VOTVVURUQ6ICdzdG9yeS1hdWRpby11bm11dGVkJyxcbn07XG5cblxuLyoqXG4gKiBJbnRlcm1lZGlhdGUgaGFuZGxlciBmb3IgYW1wLXN0b3J5IHNwZWNpZmljIGFuYWx5dGljcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5QW5hbHl0aWNzIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgZWxlbWVudCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi9uYXZpZ2F0aW9uLXN0YXRlLlN0YXRlQ2hhbmdlRXZlbnREZWZ9IHN0YXRlQ2hhbmdlRXZlbnRcbiAgICovXG4gIG9uTmF2aWdhdGlvblN0YXRlQ2hhbmdlKHN0YXRlQ2hhbmdlRXZlbnQpIHtcbiAgICBzd2l0Y2ggKHN0YXRlQ2hhbmdlRXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuQUNUSVZFX1BBR0U6XG4gICAgICAgIHRoaXMudHJpZ2dlckV2ZW50XyhFdmVudHMuUEFHRV9WSVNJQkxFKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlQ2hhbmdlVHlwZS5CT09LRU5EX0VOVEVSOlxuICAgICAgICB0aGlzLnRyaWdnZXJFdmVudF8oRXZlbnRzLkJPT0tFTkRfRU5URVIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGVDaGFuZ2VUeXBlLkJPT0tFTkRfRVhJVDpcbiAgICAgICAgdGhpcy50cmlnZ2VyRXZlbnRfKEV2ZW50cy5CT09LRU5EX0VYSVQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc011dGVkXG4gICAqL1xuICBvbk11dGVkU3RhdGVDaGFuZ2UoaXNNdXRlZCkge1xuICAgIGNvbnN0IGV2ZW50ID0gaXNNdXRlZCA/IEV2ZW50cy5TVE9SWV9NVVRFRCA6IEV2ZW50cy5TVE9SWV9VTk1VVEVEO1xuICAgIHRoaXMudHJpZ2dlckV2ZW50XyhldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJpZ2dlckV2ZW50XyhldmVudFR5cGUpIHtcbiAgICBjb25zdCB2YXJpYWJsZXNQcm9taXNlID0gU2VydmljZXMuc3RvcnlWYXJpYWJsZVNlcnZpY2VGb3JPck51bGwodGhpcy53aW5fKTtcbiAgICB2YXJpYWJsZXNQcm9taXNlLnRoZW4oXG4gICAgICAgIHZhcmlhYmxlcyA9PiB7XG4gICAgICAgICAgdHJpZ2dlckFuYWx5dGljc0V2ZW50KHRoaXMuZWxlbWVudF8sIGV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gKi8gKHZhcmlhYmxlcykpO1xuICAgICAgICB9LFxuICAgICAgICByZWFzb24gPT4ge1xuICAgICAgICAgIGRldigpLmVycm9yKCdBTVAtU1RPUlknLCAnQ291bGQgbm90IGdldCBhbmFseXRpY3MgdmFyaWFibGVzJywgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29tbW9uIGFuaW1hdGlvbnMgdXRpbGl0eSBmdW5jdGlvbnMgdXNlZCBpbiB0aGUgYW5pbWF0aW9uXG4gKiBwcmVzZXRzLlxuICovXG5cbmltcG9ydCB7XG4gIEtleWZyYW1lc0RlZixcbiAgU3RvcnlBbmltYXRpb25EaW1zRGVmLFxufSBmcm9tICcuL2FuaW1hdGlvbi10eXBlcyc7XG5pbXBvcnQge1xuICByb3RhdGUsXG4gIHNjYWxlLFxuICB0cmFuc2xhdGUsXG59IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5cbi8qKlxuICogVHJhbnNsYXRlcyB0aGUgZWxlbWVudCBvbiB0aGUgMmQgcGxhbmUgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBwb2ludHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIFN0YXJ0aW5nIHBvaW50IGluIHRoZSBhYnNjaXNzYS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgU3RhcnRpbmcgcG9pbnQgaW4gdGhlIG9yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFggRW5kaW5nIHBvaW50IGluIHRoZSBhYnNjaXNzYS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRZIEVuZGluZyBwb2ludCBpbiB0aGUgb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtLZXlmcmFtZXNEZWZ9IEtleWZyYW1lcyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZTJkKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSB7XG4gIHJldHVybiBbXG4gICAge3RyYW5zZm9ybTogdHJhbnNsYXRlKHN0YXJ0WCwgc3RhcnRZKX0sXG4gICAge3RyYW5zZm9ybTogdHJhbnNsYXRlKGVuZFgsIGVuZFkpfSxcbiAgXTtcbn1cblxuLyoqXG4gKiBUcmFuc2xhdGVzIGFuZCByb3RhdGVzIHRoZSBlbGVtZW50IG9uIHRoZSAyZCBwbGFuZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggU3RhcnRpbmcgcG9pbnQgaW4gdGhlIGFic2Npc3NhLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSBTdGFydGluZyBwb2ludCBpbiB0aGUgb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kWCBFbmRpbmcgcG9pbnQgaW4gdGhlIGFic2Npc3NhLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFkgRW5kaW5nIHBvaW50IGluIHRoZSBvcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gLTEgZm9yIGxlZnQsIDEgZm9yIHJpZ2h0XG4gKiBAcmV0dXJuIHtLZXlmcmFtZXNEZWZ9IEtleWZyYW1lcyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUFuZFRyYW5zbGF0ZShzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgZGlyZWN0aW9uKSB7XG4gIHJldHVybiBbXG4gICAge3RyYW5zZm9ybTogdHJhbnNsYXRlKHN0YXJ0WCwgc3RhcnRZKSArICcgJyArIHJvdGF0ZShkaXJlY3Rpb24gKiAzNjApfSxcbiAgICB7dHJhbnNmb3JtOiB0cmFuc2xhdGUoZW5kWCwgZW5kWSkgKyAnICcgKyByb3RhdGUoMCl9LFxuICBdO1xufVxuXG4vKipcbiAqIEdyYWR1YWxseSBzaG93cyBhbmQgZ3Jvd3MgdGhlIGVsZW1lbnQgd2hpbGUgdHJhbnNsYXRpbmcgaXQgb24gdGhlIDJkIHBsYW5lLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBTdGFydGluZyBwb2ludCBpbiB0aGUgYWJzY2lzc2EuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIFN0YXJ0aW5nIHBvaW50IGluIHRoZSBvcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRYIEVuZGluZyBwb2ludCBpbiB0aGUgYWJzY2lzc2EuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kWSBFbmRpbmcgcG9pbnQgaW4gdGhlIG9yZGluYXRlLlxuICogQHJldHVybiB7S2V5ZnJhbWVzRGVmfSBLZXlmcmFtZXMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aG9vc2hJbihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZShzdGFydFgsIHN0YXJ0WSkgKyAnICcgKyBzY2FsZSgwLjE1KSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZShlbmRYLCBlbmRZKSArICcgJyArIHNjYWxlKDEpLFxuICAgIH0sXG4gIF07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVpdGhlciBvZiB0aGUgdGFyZ2V0J3MgZGltZW5zaW9ucyBhcmUgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvXG4gKiB0aG9zZSBvZiB0aGUgcGFnZS5cbiAqIEBwYXJhbSB7U3RvcnlBbmltYXRpb25EaW1zRGVmfSBkaW1lbnNpb25zIERpbWVuc2lvbnMgb2YgcGFnZSBhbmQgdGFyZ2V0LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0Rml0c1dpdGhpblBhZ2UoZGltZW5zaW9ucykge1xuICByZXR1cm4gZGltZW5zaW9ucy50YXJnZXRXaWR0aCA8PSBkaW1lbnNpb25zLnBhZ2VXaWR0aCB8fFxuICAgICAgICAgZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgPD0gZGltZW5zaW9ucy5wYWdlSGVpZ2h0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0YXJnZXQgc2NhbGluZyBmYWN0b3Igc28gdGhhdCBpdCBpcyBhdCBsZWFzdCAyNSUgbGFyZ2VyIHRoYW4gdGhlXG4gKiBwYWdlLlxuICogQHBhcmFtIHtTdG9yeUFuaW1hdGlvbkRpbXNEZWZ9IGRpbWVuc2lvbnMgRGltZW5zaW9ucyBvZiBwYWdlIGFuZCB0YXJnZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUYXJnZXRTY2FsaW5nRmFjdG9yKGRpbWVuc2lvbnMpIHtcbiAgaWYgKHRhcmdldEZpdHNXaXRoaW5QYWdlKGRpbWVuc2lvbnMpKSB7XG4gICAgY29uc3Qgc2NhbGluZ0ZhY3RvciA9IDEuMjU7XG4gICAgY29uc3Qgd2lkdGhGYWN0b3IgPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCA+IGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggP1xuICAgICAgZGltZW5zaW9ucy5wYWdlV2lkdGggLyBkaW1lbnNpb25zLnRhcmdldFdpZHRoIDogMTtcbiAgICBjb25zdCBoZWlnaHRGYWN0b3IgPSBkaW1lbnNpb25zLnBhZ2VIZWlnaHQgPiBkaW1lbnNpb25zLnRhcmdldEhlaWdodCA/XG4gICAgICBkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLyBkaW1lbnNpb25zLnRhcmdldEhlaWdodCA6IDE7XG4gICAgcmV0dXJuIE1hdGgubWF4KHdpZHRoRmFjdG9yLCBoZWlnaHRGYWN0b3IpICogc2NhbGluZ0ZhY3RvcjtcbiAgfVxuICByZXR1cm4gMTtcbn1cblxuLyoqXG4gKiBTY2FsZSB0aGUgaW1hZ2UgaW4gZXZlcnkgZnJhbWUgYnkgYSBjZXJ0YWluIGZhY3Rvci5cbiAqIEBwYXJhbSB7S2V5ZnJhbWVzRGVmfSBrZXlmcmFtZXMgS2V5ZnJhbWVzIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxpbmdGYWN0b3IgU2NhbGluZyBmYWN0b3IgYXQgd2hpY2ggdGFyZ2V0IHdpbGwgYmUgc2NhbGVkLlxuICogQHJldHVybiB7S2V5ZnJhbWVzRGVmfVxuICovXG5mdW5jdGlvbiBlbmxhcmdlS2V5RnJhbWVzKGtleWZyYW1lcywgc2NhbGluZ0ZhY3Rvcikge1xuICBrZXlmcmFtZXMuZm9yRWFjaChmcmFtZSA9PiB7XG4gICAgZnJhbWVbJ3RyYW5zZm9ybSddICs9ICcgJyArIHNjYWxlKHNjYWxpbmdGYWN0b3IpO1xuICAgIGZyYW1lWyd0cmFuc2Zvcm0tb3JpZ2luJ10gPSAnbGVmdCB0b3AnO1xuICB9KTtcbiAgcmV0dXJuIGtleWZyYW1lcztcbn1cblxuLyoqXG4gKiBUcmFuc2xhdGVzIHRoZSBlbGVtZW50IGFuZCBzY2FsZXMgaXQgaWYgbmVjZXNzYXJ5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBTdGFydGluZyBwb2ludCBpbiB0aGUgYWJzY2lzc2EuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIFN0YXJ0aW5nIHBvaW50IGluIHRoZSBvcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRYIEVuZGluZyBwb2ludCBpbiB0aGUgYWJzY2lzc2EuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kWSBFbmRpbmcgcG9pbnQgaW4gdGhlIG9yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxpbmdGYWN0b3IgRmFjdG9yIGJ5IHdoaWNoIHRhcmdldCB3aWxsIGJlIHNjYWxlZC5cbiAqIEByZXR1cm4ge0tleWZyYW1lc0RlZn0gS2V5ZnJhbWVzIHRoYXQgbWFrZSB1cCB0aGUgYW5pbWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRUcmFuc2xhdGUoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksIHNjYWxpbmdGYWN0b3IpIHtcbiAgaWYgKHNjYWxpbmdGYWN0b3IgPT09IDEpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRlMmQoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpO1xuICB9XG4gIHJldHVybiBlbmxhcmdlS2V5RnJhbWVzKFxuICAgICAgdHJhbnNsYXRlMmQoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpLCBzY2FsaW5nRmFjdG9yKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0dSSURfTEFZRVJfVEVNUExBVEVfQ0xBU1NfTkFNRVN9IGZyb20gJy4vYW1wLXN0b3J5LWdyaWQtbGF5ZXInO1xuaW1wb3J0IHtTdG9yeUFuaW1hdGlvblByZXNldERlZn0gZnJvbSAnLi9hbmltYXRpb24tdHlwZXMnO1xuaW1wb3J0IHtcbiAgY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcixcbiAgcm90YXRlQW5kVHJhbnNsYXRlLFxuICBzY2FsZUFuZFRyYW5zbGF0ZSxcbiAgdHJhbnNsYXRlMmQsXG4gIHdob29zaEluLFxufSBmcm9tICcuL2FuaW1hdGlvbi1wcmVzZXRzLXV0aWxzJztcbmltcG9ydCB7cHh9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5cbmNvbnN0IEZVTExfQkxFRURfQ0FURUdPUlkgPSAnZnVsbC1ibGVlZCc7XG5jb25zdCBGSUxMX1RFTVBMQVRFX0xBWU9VVCA9ICdmaWxsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgYW5pbWF0aW9ucyB0aGF0IGFyZSBmdWxsIGJsZWVkLlxuICogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuY29uc3QgRlVMTF9CTEVFRF9BTklNQVRJT05fTkFNRVMgPSBbXG4gICdwYW4tdXAnLFxuICAncGFuLWRvd24nLFxuICAncGFuLXJpZ2h0JyxcbiAgJ3Bhbi1sZWZ0JyxcbiAgJ3pvb20taW4nLFxuICAnem9vbS1vdXQnLFxuXTtcblxuLyoqXG4gKiBBIG1hcHBpbmcgb2YgYW5pbWF0aW9uIGNhdGVnb3JpZXMgdG8gY29ycmVzcG9uZGluZyBDU1MgY2xhc3MgbmFtZXMuXG4gKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5jb25zdCBBTklNQVRJT05fQ1NTX0NMQVNTX05BTUVTID0ge1xuICBbRlVMTF9CTEVFRF9DQVRFR09SWV06XG4gICAgICAnaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtd2l0aC1mdWxsLWJsZWVkLWFuaW1hdGlvbicsXG59O1xuXG4vKipcbiAqIFBlcmZvcm0gc3R5bGUtc3BlY2lmaWMgb3BlcmF0aW9ucyBmb3IgcHJlc2V0cy5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlc2V0TmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGVGb3JQcmVzZXQoZWwsIHByZXNldE5hbWUpIHtcbiAgLy8gRm9yIGZ1bGwgYmxlZWQgYW5pbWF0aW9ucy5cbiAgaWYgKEZVTExfQkxFRURfQU5JTUFUSU9OX05BTUVTLmluZGV4T2YocHJlc2V0TmFtZSkgPj0gMCkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoXG4gICAgICAgIEdSSURfTEFZRVJfVEVNUExBVEVfQ0xBU1NfTkFNRVNbRklMTF9URU1QTEFURV9MQVlPVVRdKSkge1xuICAgICAgcGFyZW50LmNsYXNzTGlzdFxuICAgICAgICAgIC5yZW1vdmUoR1JJRF9MQVlFUl9URU1QTEFURV9DTEFTU19OQU1FU1tGSUxMX1RFTVBMQVRFX0xBWU9VVF0pO1xuICAgIH1cbiAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZChBTklNQVRJT05fQ1NTX0NMQVNTX05BTUVTW0ZVTExfQkxFRURfQ0FURUdPUlldKTtcbiAgfVxufVxuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIVN0b3J5QW5pbWF0aW9uUHJlc2V0RGVmPn0gKi9cbi8vIEZpcnN0IGtleWZyYW1lIHdpbGwgYWx3YXlzIGJlIGNvbnNpZGVyZWQgb2Zmc2V0OiAwIGFuZCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlXG4vLyBlbGVtZW50IGFzIHRoZSBmaXJzdCBmcmFtZSBiZWZvcmUgYW5pbWF0aW9uIHN0YXJ0cy5cbmV4cG9ydCBjb25zdCBQUkVTRVRTID0ge1xuICAncHVsc2UnOiB7XG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lczogW1xuICAgICAge1xuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9mZnNldDogMC4yNSxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMC45NSknLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgb2Zmc2V0OiAwLjc1LFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxLjA1KScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAgJ2ZseS1pbi1sZWZ0Jzoge1xuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBvZmZzZXRYID0gLShkaW1lbnNpb25zLnRhcmdldFggKyBkaW1lbnNpb25zLnRhcmdldFdpZHRoKTtcbiAgICAgIHJldHVybiB0cmFuc2xhdGUyZChvZmZzZXRYLCAwLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAnZmx5LWluLXJpZ2h0Jzoge1xuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBvZmZzZXRYID0gZGltZW5zaW9ucy5wYWdlV2lkdGggLSBkaW1lbnNpb25zLnRhcmdldFg7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlMmQob2Zmc2V0WCwgMCwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ2ZseS1pbi10b3AnOiB7XG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSAtKGRpbWVuc2lvbnMudGFyZ2V0WSArIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0KTtcbiAgICAgIHJldHVybiB0cmFuc2xhdGUyZCgwLCBvZmZzZXRZLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAnZmx5LWluLWJvdHRvbSc6IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9IGRpbWVuc2lvbnMucGFnZUhlaWdodCAtIGRpbWVuc2lvbnMudGFyZ2V0WTtcbiAgICAgIHJldHVybiB0cmFuc2xhdGUyZCgwLCBvZmZzZXRZLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAncm90YXRlLWluLWxlZnQnOiB7XG4gICAgZHVyYXRpb246IDcwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSAtKGRpbWVuc2lvbnMudGFyZ2V0WCArIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGgpO1xuICAgICAgcmV0dXJuIHJvdGF0ZUFuZFRyYW5zbGF0ZShvZmZzZXRYLCAwLCAwLCAwLCAtMSk7XG4gICAgfSxcbiAgfSxcbiAgJ3JvdGF0ZS1pbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogNzAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IGRpbWVuc2lvbnMucGFnZVdpZHRoIC0gZGltZW5zaW9ucy50YXJnZXRYO1xuICAgICAgcmV0dXJuIHJvdGF0ZUFuZFRyYW5zbGF0ZShvZmZzZXRYLCAwLCAwLCAwLCAxKTtcbiAgICB9LFxuICB9LFxuICAnZmFkZS1pbic6IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gICdkcm9wJzoge1xuICAgIGR1cmF0aW9uOiAxNjAwLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBtYXhCb3VuY2VIZWlnaHQgPVxuICAgICAgICAgIE1hdGgubWF4KDE2MCwgZGltZW5zaW9ucy50YXJnZXRZICsgZGltZW5zaW9ucy50YXJnZXRIZWlnaHQpO1xuXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtweCgtbWF4Qm91bmNlSGVpZ2h0KX0pYCxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjc1LC4wNSwuODYsLjA4KScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvZmZzZXQ6IDAuMyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJyxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjIyLC42MSwuMzUsMSknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjUyLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtweCgtMC42ICogbWF4Qm91bmNlSGVpZ2h0KX0pYCxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjc1LC4wNSwuODYsLjA4KScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvZmZzZXQ6IDAuNzQsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC4yMiwuNjEsLjM1LDEpJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMC44MyxcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7cHgoLTAuMyAqIG1heEJvdW5jZUhlaWdodCl9KWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC43NSwuMDUsLjg2LC4wOCknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllciguMjIsLjYxLC4zNSwxKScsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgIH0sXG4gIH0sXG4gICd0d2lybC1pbic6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjIsLjc1LC40LDEpJyxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdHJhbnNmb3JtOiAncm90YXRlKC01NDBkZWcpIHNjYWxlKDAuMSknLFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHJhbnNmb3JtOiAnbm9uZScsXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gICd3aG9vc2gtaW4tbGVmdCc6IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IC0oZGltZW5zaW9ucy50YXJnZXRYICsgZGltZW5zaW9ucy50YXJnZXRXaWR0aCk7XG4gICAgICByZXR1cm4gd2hvb3NoSW4ob2Zmc2V0WCwgMCwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ3dob29zaC1pbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IGRpbWVuc2lvbnMucGFnZVdpZHRoIC0gZGltZW5zaW9ucy50YXJnZXRYO1xuICAgICAgcmV0dXJuIHdob29zaEluKG9mZnNldFgsIDAsIDAsIDApO1xuICAgIH0sXG4gIH0sXG4gICdwYW4tbGVmdCc6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcihkaW1lbnNpb25zKTtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggKj0gc2NhbGluZ0ZhY3RvcjtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0ICo9IHNjYWxpbmdGYWN0b3I7XG5cbiAgICAgIGNvbnN0IG9mZnNldFggPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCAtIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGg7XG4gICAgICBjb25zdCBvZmZzZXRZID0gKGRpbWVuc2lvbnMucGFnZUhlaWdodCAtIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0KSAvIDI7XG5cbiAgICAgIHJldHVybiBzY2FsZUFuZFRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZLCAwLCBvZmZzZXRZLCBzY2FsaW5nRmFjdG9yKTtcbiAgICB9LFxuICB9LFxuICAncGFuLXJpZ2h0Jzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IHNjYWxpbmdGYWN0b3IgPSBjYWxjdWxhdGVUYXJnZXRTY2FsaW5nRmFjdG9yKGRpbWVuc2lvbnMpO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRXaWR0aCAqPSBzY2FsaW5nRmFjdG9yO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgKj0gc2NhbGluZ0ZhY3RvcjtcblxuICAgICAgY29uc3Qgb2Zmc2V0WCA9IGRpbWVuc2lvbnMucGFnZVdpZHRoIC0gZGltZW5zaW9ucy50YXJnZXRXaWR0aDtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSAoZGltZW5zaW9ucy5wYWdlSGVpZ2h0IC0gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQpIC8gMjtcblxuICAgICAgcmV0dXJuIHNjYWxlQW5kVHJhbnNsYXRlKDAsIG9mZnNldFksIG9mZnNldFgsIG9mZnNldFksIHNjYWxpbmdGYWN0b3IpO1xuICAgIH0sXG4gIH0sXG4gICdwYW4tZG93bic6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcihkaW1lbnNpb25zKTtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggKj0gc2NhbGluZ0ZhY3RvcjtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0ICo9IHNjYWxpbmdGYWN0b3I7XG5cbiAgICAgIGNvbnN0IG9mZnNldFggPSAtZGltZW5zaW9ucy50YXJnZXRXaWR0aCAvIDI7XG4gICAgICBjb25zdCBvZmZzZXRZID0gZGltZW5zaW9ucy5wYWdlSGVpZ2h0IC0gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQ7XG5cbiAgICAgIHJldHVybiBzY2FsZUFuZFRyYW5zbGF0ZShvZmZzZXRYLCAwLCBvZmZzZXRYLCBvZmZzZXRZLCBzY2FsaW5nRmFjdG9yKTtcbiAgICB9LFxuICB9LFxuICAncGFuLXVwJzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IHNjYWxpbmdGYWN0b3IgPSBjYWxjdWxhdGVUYXJnZXRTY2FsaW5nRmFjdG9yKGRpbWVuc2lvbnMpO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRXaWR0aCAqPSBzY2FsaW5nRmFjdG9yO1xuICAgICAgZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgKj0gc2NhbGluZ0ZhY3RvcjtcblxuICAgICAgY29uc3Qgb2Zmc2V0WCA9IC1kaW1lbnNpb25zLnRhcmdldFdpZHRoIC8gMjtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSBkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLSBkaW1lbnNpb25zLnRhcmdldEhlaWdodDtcblxuICAgICAgcmV0dXJuIHNjYWxlQW5kVHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFksIG9mZnNldFgsIDAsIHNjYWxpbmdGYWN0b3IpO1xuICAgIH0sXG4gIH0sXG4gICd6b29tLWluJzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzOiBbXG4gICAgICB7dHJhbnNmb3JtOiAnc2NhbGUoMSwxKSd9LFxuICAgICAge3RyYW5zZm9ybTogJ3NjYWxlKDMsMyknfSxcbiAgICBdLFxuICB9LFxuICAnem9vbS1vdXQnOiB7XG4gICAgZHVyYXRpb246IDEwMDAsXG4gICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgIHt0cmFuc2Zvcm06ICdzY2FsZSgzLDMpJ30sXG4gICAgICB7dHJhbnNmb3JtOiAnc2NhbGUoMSwxKSd9LFxuICAgIF0sXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKiBAdHlwZWRlZiB7IUFycmF5PCFPYmplY3Q8c3RyaW5nLCAqPj59ICovXG5leHBvcnQgbGV0IEtleWZyYW1lc0RlZjtcblxuXG4vKiogQHR5cGVkZWYgeyhmdW5jdGlvbihTdG9yeUFuaW1hdGlvbkRpbXNEZWYpOiFLZXlmcmFtZXNEZWYpfCFLZXlmcmFtZXNEZWZ9ICovXG5leHBvcnQgbGV0IEtleWZyYW1lc09yRmlsdGVyRm5EZWY7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBwYWdlV2lkdGg6IG51bWJlcixcbiAqICAgcGFnZUhlaWdodDogbnVtYmVyLFxuICogICB0YXJnZXRXaWR0aDogbnVtYmVyLFxuICogICB0YXJnZXRIZWlnaHQ6IG51bWJlcixcbiAqICAgdGFyZ2V0WDogbnVtYmVyLFxuICogICB0YXJnZXRZOiBudW1iZXIsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFN0b3J5QW5pbWF0aW9uRGltc0RlZjtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGR1cmF0aW9uOiBudW1iZXIsXG4gKiAgIGVhc2luZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBrZXlmcmFtZXM6ICFLZXlmcmFtZXNPckZpbHRlckZuRGVmLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTdG9yeUFuaW1hdGlvblByZXNldERlZjtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgdGFyZ2V0OiAhRWxlbWVudCxcbiAqICBzdGFydEFmdGVySWQ6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICBwcmVzZXQ6ICFTdG9yeUFuaW1hdGlvblByZXNldERlZixcbiAqICBkdXJhdGlvbjogKG51bWJlcnx1bmRlZmluZWQpLFxuICogIGRlbGF5OiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFN0b3J5QW5pbWF0aW9uRGVmO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7RGVmZXJyZWR9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9wcm9taXNlJztcbmltcG9ydCB7XG4gIEtleWZyYW1lc0RlZixcbiAgS2V5ZnJhbWVzT3JGaWx0ZXJGbkRlZixcbiAgU3RvcnlBbmltYXRpb25EZWYsXG4gIFN0b3J5QW5pbWF0aW9uRGltc0RlZixcbiAgU3RvcnlBbmltYXRpb25QcmVzZXREZWYsXG59IGZyb20gJy4vYW5pbWF0aW9uLXR5cGVzJztcbmltcG9ydCB7UFJFU0VUUywgc2V0U3R5bGVGb3JQcmVzZXR9IGZyb20gJy4vYW5pbWF0aW9uLXByZXNldHMnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7XG4gIFdlYkFuaW1hdGlvblBsYXlTdGF0ZSxcbn0gZnJvbSAnLi4vLi4vYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbi10eXBlcyc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2VzY2FwZUNzc1NlbGVjdG9ySWRlbnQsIHNjb3BlZFF1ZXJ5U2VsZWN0b3IsIHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGx9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHttYXAsIG9taXR9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtzZXRTdHlsZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5pbXBvcnQge3RpbWVTdHJUb01pbGxpcywgdW5zY2FsZWRDbGllbnRSZWN0fSBmcm9tICcuL3V0aWxzJztcblxuLyoqIGNvbnN0IHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgQU5JTUFURV9JTl9BVFRSSUJVVEVfTkFNRSA9ICdhbmltYXRlLWluJztcbi8qKiBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQU5JTUFURV9JTl9EVVJBVElPTl9BVFRSSUJVVEVfTkFNRSA9ICdhbmltYXRlLWluLWR1cmF0aW9uJztcbi8qKiBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQU5JTUFURV9JTl9ERUxBWV9BVFRSSUJVVEVfTkFNRSA9ICdhbmltYXRlLWluLWRlbGF5Jztcbi8qKiBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQU5JTUFURV9JTl9BRlRFUl9BVFRSSUJVVEVfTkFNRSA9ICdhbmltYXRlLWluLWFmdGVyJztcbi8qKiBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQU5JTUFUQUJMRV9FTEVNRU5UU19TRUxFQ1RPUiA9IGBbJHtBTklNQVRFX0lOX0FUVFJJQlVURV9OQU1FfV1gO1xuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIFRPRE8oYWxhbm9yb3pjbyk6IG1heWJlIG1lbW9pemU/XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNBbmltYXRpb25zKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhc2NvcGVkUXVlcnlTZWxlY3RvcihlbGVtZW50LCBBTklNQVRBQkxFX0VMRU1FTlRTX1NFTEVDVE9SKTtcbn1cblxuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmNvbnN0IFBsYXliYWNrQWN0aXZpdHkgPSB7XG4gIFNUQVJUOiAwLFxuICBGSU5JU0g6IDEsXG59O1xuXG5cbi8qKiBXcmFwcyBXZWJBbmltYXRpb25SdW5uZXIgZm9yIHN0b3J5IHBhZ2UgZWxlbWVudHMuICovXG5jbGFzcyBBbmltYXRpb25SdW5uZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFnZVxuICAgKiBAcGFyYW0geyFTdG9yeUFuaW1hdGlvbkRlZn0gYW5pbWF0aW9uRGVmXG4gICAqIEBwYXJhbSB7IVByb21pc2U8XG4gICAqICAgICEuLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9ucy5CdWlsZGVyXG4gICAqID59IHdlYkFuaW1hdGlvbkJ1aWxkZXJQcm9taXNlXG4gICAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9IHZzeW5jXG4gICAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3RpbWVyLWltcGwuVGltZXJ9IHRpbWVyXG4gICAqIEBwYXJhbSB7IUFuaW1hdGlvblNlcXVlbmNlfSBzZXF1ZW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcGFnZSwgYW5pbWF0aW9uRGVmLCB3ZWJBbmltYXRpb25CdWlsZGVyUHJvbWlzZSwgdnN5bmMsIHRpbWVyLCBzZXF1ZW5jZSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnBhZ2VfID0gcGFnZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnRpbWVyXyA9IHRpbWVyO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMudnN5bmNfID0gdnN5bmM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy50YXJnZXRfID0gZGV2KCkuYXNzZXJ0RWxlbWVudChhbmltYXRpb25EZWYudGFyZ2V0KTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnNlcXVlbmNlXyA9IHNlcXVlbmNlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuYW5pbWF0aW9uRGVmXyA9IGFuaW1hdGlvbkRlZjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnByZXNldERlZl8gPSBhbmltYXRpb25EZWYucHJlc2V0O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMua2V5ZnJhbWVzXyA9IHRoaXMuZmlsdGVyS2V5ZnJhbWVzXyhhbmltYXRpb25EZWYucHJlc2V0LmtleWZyYW1lcyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5kZWxheV8gPSBhbmltYXRpb25EZWYuZGVsYXkgfHwgdGhpcy5wcmVzZXREZWZfLmRlbGF5IHx8IDA7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBhbmltYXRpb25EZWYuZHVyYXRpb24gfHwgdGhpcy5wcmVzZXREZWZfLmR1cmF0aW9uIHx8IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPFxuICAgICAqICAgICEuLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9ucy5XZWJBbmltYXRpb25SdW5uZXI+fVxuICAgICAqL1xuICAgIHRoaXMucnVubmVyUHJvbWlzZV8gPSB0aGlzLmdldFdlYkFuaW1hdGlvbkRlZl8oKS50aGVuKHdlYkFuaW1EZWYgPT5cbiAgICAgIHdlYkFuaW1hdGlvbkJ1aWxkZXJQcm9taXNlLnRoZW4oYnVpbGRlciA9PlxuICAgICAgICBidWlsZGVyLmNyZWF0ZVJ1bm5lcih3ZWJBbmltRGVmKSkpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IU9iamVjdDxzdHJpbmcsICo+Pn0gKi9cbiAgICB0aGlzLmZpcnN0RnJhbWVQcm9wc18gPVxuICAgICAgICB0aGlzLmtleWZyYW1lc18udGhlbihrZXlmcmFtZXMgPT4gb21pdChrZXlmcmFtZXNbMF0sIFsnb2Zmc2V0J10pKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLldlYkFuaW1hdGlvblJ1bm5lcn0gKi9cbiAgICB0aGlzLnJ1bm5lcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UGxheWJhY2tBY3Rpdml0eX0gKi9cbiAgICB0aGlzLnNjaGVkdWxlZEFjdGl2aXR5XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9Qcm9taXNlfSAqL1xuICAgIHRoaXMuc2NoZWR1bGVkV2FpdF8gPSBudWxsO1xuXG4gICAgdGhpcy5rZXlmcmFtZXNfLnRoZW4oa2V5ZnJhbWVzID0+IGRldigpLmFzc2VydChcbiAgICAgICAgIWtleWZyYW1lc1swXS5vZmZzZXQsXG4gICAgICAgICdGaXJzdCBrZXlmcmFtZSBvZmZzZXQgZm9yIGFuaW1hdGlvbiBwcmVzZXQgc2hvdWxkIGJlIDAgb3IgdW5kZWZpbmVkJykpO1xuXG4gICAgdXNlcigpLmFzc2VydChcbiAgICAgICAgdGhpcy5kZWxheV8gPj0gMCxcbiAgICAgICAgJ05lZ2F0aXZlIGRlbGF5cyBhcmUgbm90IGFsbG93ZWQgaW4gYW1wLXN0b3J5IGVudHJhbmNlIGFuaW1hdGlvbnMuJyk7XG5cbiAgICB0aGlzLnJ1bm5lclByb21pc2VfLnRoZW4ocnVubmVyID0+IHRoaXMub25SdW5uZXJSZWFkeV8ocnVubmVyKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8IVN0b3J5QW5pbWF0aW9uRGltc0RlZj59XG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgKi9cbiAgZ2V0RGltcygpIHtcbiAgICByZXR1cm4gdGhpcy52c3luY18ubWVhc3VyZVByb21pc2UoKCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHVuc2NhbGVkQ2xpZW50UmVjdCh0aGlzLnRhcmdldF8pO1xuICAgICAgY29uc3QgcGFnZVJlY3QgPSB1bnNjYWxlZENsaWVudFJlY3QodGhpcy5wYWdlXyk7XG5cbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdG9yeUFuaW1hdGlvbkRpbXNEZWZ9ICovICh7XG4gICAgICAgIHBhZ2VXaWR0aDogcGFnZVJlY3Qud2lkdGgsXG4gICAgICAgIHBhZ2VIZWlnaHQ6IHBhZ2VSZWN0LmhlaWdodCxcbiAgICAgICAgdGFyZ2V0V2lkdGg6IHRhcmdldFJlY3Qud2lkdGgsXG4gICAgICAgIHRhcmdldEhlaWdodDogdGFyZ2V0UmVjdC5oZWlnaHQsXG4gICAgICAgIHRhcmdldFg6IHRhcmdldFJlY3QubGVmdCAtIHBhZ2VSZWN0LmxlZnQsXG4gICAgICAgIHRhcmdldFk6IHRhcmdldFJlY3QudG9wIC0gcGFnZVJlY3QudG9wLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshS2V5ZnJhbWVzT3JGaWx0ZXJGbkRlZn0ga2V5ZnJhbWVzQXJyYXlPckZuXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFLZXlmcmFtZXNEZWY+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmlsdGVyS2V5ZnJhbWVzXyhrZXlmcmFtZXNBcnJheU9yRm4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlmcmFtZXNBcnJheU9yRm4pKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGtleWZyYW1lc0FycmF5T3JGbik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldERpbXMoKS50aGVuKGtleWZyYW1lc0FycmF5T3JGbik7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8XG4gICAqICAgIS4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb24tdHlwZXMuV2ViS2V5ZnJhbWVBbmltYXRpb25EZWY+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0V2ViQW5pbWF0aW9uRGVmXygpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlmcmFtZXNfLnRoZW4oa2V5ZnJhbWVzID0+ICh7XG4gICAgICBrZXlmcmFtZXMsXG4gICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0XyxcbiAgICAgIGR1cmF0aW9uOiBgJHt0aGlzLmR1cmF0aW9uX31tc2AsXG4gICAgICBlYXNpbmc6IHRoaXMucHJlc2V0RGVmXy5lYXNpbmcsXG4gICAgICBmaWxsOiAnZm9yd2FyZHMnLFxuICAgIH0pKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHshUHJvbWlzZTx2b2lkPn0gKi9cbiAgYXBwbHlGaXJzdEZyYW1lKCkge1xuICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWQoKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJ1bm5lcl8pIHtcbiAgICAgIHRoaXMucnVubmVyXy5jYW5jZWwoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5maXJzdEZyYW1lUHJvcHNfLnRoZW4oZmlyc3RGcmFtZVByb3BzID0+XG4gICAgICB0aGlzLnZzeW5jXy5tdXRhdGVQcm9taXNlKCgpID0+IHtcbiAgICAgICAgc2V0U3R5bGVzKHRoaXMudGFyZ2V0XywgZmlyc3RGcmFtZVByb3BzKTtcbiAgICAgIH0pKTtcbiAgfVxuXG4gIC8qKiBTdGFydHMgb3IgcmVzdW1lcyB0aGUgYW5pbWF0aW9uLiAqL1xuICBzdGFydCgpIHtcbiAgICBpZiAodGhpcy5oYXNTdGFydGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnBsYXliYWNrXyhQbGF5YmFja0FjdGl2aXR5LlNUQVJULCB0aGlzLmdldFN0YXJ0V2FpdFByb21pc2VfKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0U3RhcnRXYWl0UHJvbWlzZV8oKSB7XG4gICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlZl8uc3RhcnRBZnRlcklkKSB7XG4gICAgICBjb25zdCBzdGFydEFmdGVySWQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8oXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRGVmXy5zdGFydEFmdGVySWQpO1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB0aGlzLnNlcXVlbmNlXy53YWl0Rm9yKHN0YXJ0QWZ0ZXJJZCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlbGF5Xykge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB0aGlzLnRpbWVyXy5wcm9taXNlKHRoaXMuZGVsYXlfKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vLi4vYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbnMuV2ViQW5pbWF0aW9uUnVubmVyfSBydW5uZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0V2hlblJlYWR5XyhydW5uZXIpIHtcbiAgICBydW5uZXIuc3RhcnQoKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuICBoYXNTdGFydGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzQWN0aXZpdHlTY2hlZHVsZWRfKFBsYXliYWNrQWN0aXZpdHkuU1RBUlQpIHx8XG4gICAgICAgICghIXRoaXMucnVubmVyXyAmJiBkZXYoKS5hc3NlcnQodGhpcy5ydW5uZXJfKVxuICAgICAgICAgICAgLmdldFBsYXlTdGF0ZSgpID09IFdlYkFuaW1hdGlvblBsYXlTdGF0ZS5SVU5OSU5HKTtcbiAgfVxuXG4gIC8qKiBGb3JjZS1maW5pc2hlcyBhbGwgYW5pbWF0aW9ucy4gKi9cbiAgZmluaXNoKCkge1xuICAgIGlmICghdGhpcy5ydW5uZXJfKSB7XG4gICAgICB0aGlzLm5vdGlmeUZpbmlzaF8oKTtcbiAgICB9XG4gICAgdGhpcy5wbGF5YmFja18oUGxheWJhY2tBY3Rpdml0eS5GSU5JU0gpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLldlYkFuaW1hdGlvblJ1bm5lcn0gcnVubmVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmaW5pc2hXaGVuUmVhZHlfKHJ1bm5lcikge1xuICAgIGlmIChydW5uZXIuZ2V0UGxheVN0YXRlKCkgPT0gV2ViQW5pbWF0aW9uUGxheVN0YXRlLlJVTk5JTkcpIHtcbiAgICAgIHJ1bm5lci5maW5pc2goKTtcbiAgICB9XG4gIH1cblxuICAvKiogQ2FuY2VscyBhbmltYXRpb24uICovXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLnNjaGVkdWxlZEFjdGl2aXR5XyA9IG51bGw7XG4gICAgdGhpcy5zY2hlZHVsZWRXYWl0XyA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5ydW5uZXJfKSB7XG4gICAgICBkZXYoKS5hc3NlcnQodGhpcy5ydW5uZXJfKS5jYW5jZWwoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshUGxheWJhY2tBY3Rpdml0eX0gYWN0aXZpdHlcbiAgICogQHBhcmFtIHshUHJvbWlzZT19IG9wdF93YWl0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwbGF5YmFja18oYWN0aXZpdHksIG9wdF93YWl0KSB7XG4gICAgY29uc3Qgd2FpdCA9IG9wdF93YWl0IHx8IG51bGw7XG5cbiAgICB0aGlzLnNjaGVkdWxlZEFjdGl2aXR5XyA9IGFjdGl2aXR5O1xuICAgIHRoaXMuc2NoZWR1bGVkV2FpdF8gPSB3YWl0O1xuXG4gICAgaWYgKHRoaXMucnVubmVyXykge1xuICAgICAgdGhpcy5wbGF5YmFja1doZW5SZWFkeV8oYWN0aXZpdHksIHdhaXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBwbGF5YmFjayBhY3Rpdml0eSBpZiBydW5uZXIgaXMgcmVhZHkuXG4gICAqIEBwYXJhbSB7IVBsYXliYWNrQWN0aXZpdHl9IGFjdGl2aXR5XG4gICAqIEBwYXJhbSB7P1Byb21pc2V9IHdhaXRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBsYXliYWNrV2hlblJlYWR5XyhhY3Rpdml0eSwgd2FpdCkge1xuICAgIGNvbnN0IHJ1bm5lciA9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IS4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLldlYkFuaW1hdGlvblJ1bm5lcn1cbiAgICAgICAgICovXG4gICAgICAgIChkZXYoKS5hc3NlcnQoXG4gICAgICAgICAgICB0aGlzLnJ1bm5lcl8sXG4gICAgICAgICAgICAnVHJpZWQgdG8gZXhlY3V0ZSBwbGF5YmFja1doZW5SZWFkeV8gYmVmb3JlIHJ1bm5lciB3YXMgcmVzb2x2ZWQuJykpO1xuXG4gICAgKHdhaXQgfHwgUHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZpdHlTY2hlZHVsZWRfKGFjdGl2aXR5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2NoZWR1bGVkQWN0aXZpdHlfID0gbnVsbDtcbiAgICAgIHRoaXMuc2NoZWR1bGVkV2FpdF8gPSBudWxsO1xuXG4gICAgICBzd2l0Y2ggKGFjdGl2aXR5KSB7XG4gICAgICAgIGNhc2UgUGxheWJhY2tBY3Rpdml0eS5TVEFSVDogcmV0dXJuIHRoaXMuc3RhcnRXaGVuUmVhZHlfKHJ1bm5lcik7XG4gICAgICAgIGNhc2UgUGxheWJhY2tBY3Rpdml0eS5GSU5JU0g6IHJldHVybiB0aGlzLmZpbmlzaFdoZW5SZWFkeV8ocnVubmVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrcyBydW5uZXIgYXMgcmVhZHkgYW5kIGV4ZWN1dGVzIHBsYXliYWNrIGFjdGl2aXR5IGlmIG5lZWRlZC5cbiAgICogQHBhcmFtIHshLi4vLi4vYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbnMuV2ViQW5pbWF0aW9uUnVubmVyfSBydW5uZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uUnVubmVyUmVhZHlfKHJ1bm5lcikge1xuICAgIHRoaXMucnVubmVyXyA9IHJ1bm5lcjtcblxuICAgIHJ1bm5lci5vblBsYXlTdGF0ZUNoYW5nZWQoc3RhdGUgPT4ge1xuICAgICAgaWYgKHN0YXRlID09IFdlYkFuaW1hdGlvblBsYXlTdGF0ZS5GSU5JU0hFRCkge1xuICAgICAgICB0aGlzLm5vdGlmeUZpbmlzaF8oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghdGhpcy5pc0FjdGl2aXR5U2NoZWR1bGVkXygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wbGF5YmFja1doZW5SZWFkeV8oXG4gICAgICAgIC8qKiBAdHlwZSB7IVBsYXliYWNrQWN0aXZpdHl9ICovICh0aGlzLnNjaGVkdWxlZEFjdGl2aXR5XyksXG4gICAgICAgIHRoaXMuc2NoZWR1bGVkV2FpdF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVBsYXliYWNrQWN0aXZpdHk9fSBvcHRfYWN0aXZpdHlcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzQWN0aXZpdHlTY2hlZHVsZWRfKG9wdF9hY3Rpdml0eSkge1xuICAgIGlmICghb3B0X2FjdGl2aXR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlZHVsZWRBY3Rpdml0eV8gIT09IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNjaGVkdWxlZEFjdGl2aXR5XyA9PT0gb3B0X2FjdGl2aXR5O1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG5vdGlmeUZpbmlzaF8oKSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0Xy5pZCkge1xuICAgICAgdGhpcy5zZXF1ZW5jZV8ubm90aWZ5RmluaXNoKHRoaXMudGFyZ2V0Xy5pZCk7XG4gICAgfVxuICB9XG59XG5cblxuLy8gVE9ETyhhbGFub3JvemNvKTogTG9vcGluZyBhbmltYXRpb25zXG4vKiogTWFuYWdlciBmb3IgYW5pbWF0aW9ucyBpbiBzdG9yeSBwYWdlcy4gKi9cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25NYW5hZ2VyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RcbiAgICogQHBhcmFtIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvb3QsIGFtcGRvYykge1xuICAgIGRldigpLmFzc2VydChoYXNBbmltYXRpb25zKHJvb3QpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnJvb3RfID0gcm9vdDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLmFtcGRvY18gPSBhbXBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLmFtcGRvY18ud2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnRpbWVyXyA9IFNlcnZpY2VzLnRpbWVyRm9yKHRoaXMuYW1wZG9jXy53aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuYnVpbGRlclByb21pc2VfID0gdGhpcy5jcmVhdGVBbmltYXRpb25CdWlsZGVyUHJvbWlzZV8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0FycmF5PCFQcm9taXNlPCFBbmltYXRpb25SdW5uZXI+Pn0gKi9cbiAgICB0aGlzLnJ1bm5lcnNfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuc2VxdWVuY2VfID0gQW5pbWF0aW9uU2VxdWVuY2UuY3JlYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVjb3VwbGVzIGNvbnN0cnVjdG9yIHNvIGl0IGNhbiBiZSBzdHViYmVkIGluIHRlc3RzLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290XG4gICAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bnVzZWRCYXNlVXJsXG4gICAqIEByZXR1cm4geyFBbmltYXRpb25NYW5hZ2VyfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShyb290LCBhbXBkb2MsIHVudXNlZEJhc2VVcmwpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGlvbk1hbmFnZXIocm9vdCwgYW1wZG9jKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIGZpcnN0IGZyYW1lIHRvIHRhcmdldCBlbGVtZW50IGJlZm9yZSBzdGFydGluZyBhbmltYXRpb24uXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgYXBwbHlGaXJzdEZyYW1lKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZVJ1bm5lcnNfKCkubWFwKHJ1bm5lciA9PiBydW5uZXIuYXBwbHlGaXJzdEZyYW1lKCkpKTtcbiAgfVxuXG4gIC8qKiBTdGFydHMgYWxsIGVudHJhbmNlIGFuaW1hdGlvbnMgZm9yIHRoZSBwYWdlLiAqL1xuICBhbmltYXRlSW4oKSB7XG4gICAgdGhpcy5nZXRSdW5uZXJzXygpLmZvckVhY2gocnVubmVyID0+IHJ1bm5lci5zdGFydCgpKTtcbiAgfVxuXG4gIC8qKiBTa2lwcyBhbGwgZW50cmFuY2UgYW5pbWF0aW9ucyBmb3IgdGhlIHBhZ2UuICovXG4gIGZpbmlzaEFsbCgpIHtcbiAgICB0aGlzLmdldFJ1bm5lcnNfKCkuZm9yRWFjaChydW5uZXIgPT4gcnVubmVyLmZpbmlzaCgpKTtcbiAgfVxuXG4gIC8qKiBDYW5jZWxzIGFsbCBlbnRyYW5jZSBhbmltYXRpb25zIGZvciB0aGUgcGFnZS4gKi9cbiAgY2FuY2VsQWxsKCkge1xuICAgIGlmICghdGhpcy5ydW5uZXJzXykge1xuICAgICAgLy8gbm90aGluZyB0byBjYW5jZWwgd2hlbiB0aGUgZmlyc3QgZnJhbWUgaGFzIG5vdCBiZWVuIGFwcGxpZWQgeWV0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmdldFJ1bm5lcnNfKCkuZm9yRWFjaChydW5uZXIgPT4gcnVubmVyLmNhbmNlbCgpKTtcbiAgfVxuXG4gIC8qKiBEZXRlcm1pbmVzIGlmIHRoZXJlIGlzIGFuIGVudHJhbmNlIGFuaW1hdGlvbiBydW5uaW5nLiAqL1xuICBoYXNBbmltYXRpb25TdGFydGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldFJ1bm5lcnNfKCkuc29tZShydW5uZXIgPT4gcnVubmVyLmhhc1N0YXJ0ZWQoKSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgZ2V0UnVubmVyc18oKSB7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydCh0aGlzLnJ1bm5lcnNfLCAnRXhlY3V0ZWQgYmVmb3JlIGFwcGx5Rmlyc3RGcmFtZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFBcnJheTwhQW5pbWF0aW9uUnVubmVyPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE9yQ3JlYXRlUnVubmVyc18oKSB7XG4gICAgaWYgKCF0aGlzLnJ1bm5lcnNfKSB7XG4gICAgICB0aGlzLnJ1bm5lcnNfID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKFxuICAgICAgICAgIHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5yb290XywgQU5JTUFUQUJMRV9FTEVNRU5UU19TRUxFQ1RPUiksXG4gICAgICAgICAgZWwgPT4gdGhpcy5jcmVhdGVSdW5uZXJfKGVsKSk7XG4gICAgfVxuICAgIHJldHVybiBkZXYoKS5hc3NlcnQodGhpcy5ydW5uZXJzXyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAgICogQHJldHVybiB7IUFuaW1hdGlvblJ1bm5lcn1cbiAgICovXG4gIGNyZWF0ZVJ1bm5lcl8oZWwpIHtcbiAgICBjb25zdCBwcmVzZXQgPSB0aGlzLmdldFByZXNldF8oZWwpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkRlZiA9IHRoaXMuY3JlYXRlQW5pbWF0aW9uRGVmKGVsLCBwcmVzZXQpO1xuXG4gICAgcmV0dXJuIG5ldyBBbmltYXRpb25SdW5uZXIoXG4gICAgICAgIHRoaXMucm9vdF8sXG4gICAgICAgIGFuaW1hdGlvbkRlZixcbiAgICAgICAgZGV2KCkuYXNzZXJ0KHRoaXMuYnVpbGRlclByb21pc2VfKSxcbiAgICAgICAgdGhpcy52c3luY18sXG4gICAgICAgIHRoaXMudGltZXJfLFxuICAgICAgICB0aGlzLnNlcXVlbmNlXyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAgICogQHBhcmFtIHshU3RvcnlBbmltYXRpb25QcmVzZXREZWZ9IHByZXNldFxuICAgKiBAcmV0dXJuIHshU3RvcnlBbmltYXRpb25EZWZ9XG4gICAqL1xuICBjcmVhdGVBbmltYXRpb25EZWYoZWwsIHByZXNldCkge1xuICAgIGNvbnN0IGFuaW1hdGlvbkRlZiA9IHt0YXJnZXQ6IGVsLCBwcmVzZXR9O1xuXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZShBTklNQVRFX0lOX0RVUkFUSU9OX0FUVFJJQlVURV9OQU1FKSkge1xuICAgICAgYW5pbWF0aW9uRGVmLmR1cmF0aW9uID1cbiAgICAgICAgICB0aW1lU3RyVG9NaWxsaXMoZWwuZ2V0QXR0cmlidXRlKEFOSU1BVEVfSU5fRFVSQVRJT05fQVRUUklCVVRFX05BTUUpKTtcbiAgICB9XG5cbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKEFOSU1BVEVfSU5fREVMQVlfQVRUUklCVVRFX05BTUUpKSB7XG4gICAgICBhbmltYXRpb25EZWYuZGVsYXkgPVxuICAgICAgICAgIHRpbWVTdHJUb01pbGxpcyhlbC5nZXRBdHRyaWJ1dGUoQU5JTUFURV9JTl9ERUxBWV9BVFRSSUJVVEVfTkFNRSkpO1xuICAgIH1cblxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoQU5JTUFURV9JTl9BRlRFUl9BVFRSSUJVVEVfTkFNRSkpIHtcbiAgICAgIGNvbnN0IGRlcGVuZGVuY3lJZCA9IGVsLmdldEF0dHJpYnV0ZShBTklNQVRFX0lOX0FGVEVSX0FUVFJJQlVURV9OQU1FKTtcblxuICAgICAgdXNlcigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgICAgdGhpcy5yb290Xy5xdWVyeVNlbGVjdG9yKGAjJHtlc2NhcGVDc3NTZWxlY3RvcklkZW50KGRlcGVuZGVuY3lJZCl9YCksXG4gICAgICAgICAgYFRoZSBhdHRyaWJ1dGUgJyR7QU5JTUFURV9JTl9BRlRFUl9BVFRSSUJVVEVfTkFNRX0nIGluIHRhZyBgICtcbiAgICAgICAgICAgICAgYCcke2VsLnRhZ05hbWV9JyBpcyBzZXQgdG8gdGhlIGludmFsaWQgdmFsdWUgYCArXG4gICAgICAgICAgICAgIGAnJHtkZXBlbmRlbmN5SWR9Jy4gTm8gY2hpbGRyZW4gb2YgcGFyZW50aW5nICdhbXAtc3RvcnktcGFnZScgYCArXG4gICAgICAgICAgICAgIGBleGlzdCB3aXRoIGlkICR7ZGVwZW5kZW5jeUlkfS5gKTtcblxuICAgICAgYW5pbWF0aW9uRGVmLnN0YXJ0QWZ0ZXJJZCA9XG4gICAgICAgICAgZWwuZ2V0QXR0cmlidXRlKEFOSU1BVEVfSU5fQUZURVJfQVRUUklCVVRFX05BTUUpO1xuICAgIH1cblxuICAgIHJldHVybiBhbmltYXRpb25EZWY7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLkJ1aWxkZXI+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY3JlYXRlQW5pbWF0aW9uQnVpbGRlclByb21pc2VfKCkge1xuICAgIHJldHVybiBTZXJ2aWNlcy5leHRlbnNpb25zRm9yKHRoaXMuYW1wZG9jXy53aW4pXG4gICAgICAgIC5pbnN0YWxsRXh0ZW5zaW9uRm9yRG9jKHRoaXMuYW1wZG9jXywgJ2FtcC1hbmltYXRpb24nKVxuICAgICAgICAudGhlbigoKSA9PiBTZXJ2aWNlcy53ZWJBbmltYXRpb25TZXJ2aWNlRm9yKHRoaXMuYW1wZG9jXykpXG4gICAgICAgIC50aGVuKHdlYkFuaW1hdGlvblNlcnZpY2UgPT4gd2ViQW5pbWF0aW9uU2VydmljZS5jcmVhdGVCdWlsZGVyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gICAqIEByZXR1cm4geyFTdG9yeUFuaW1hdGlvblByZXNldERlZn1cbiAgICovXG4gIGdldFByZXNldF8oZWwpIHtcbiAgICBjb25zdCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKEFOSU1BVEVfSU5fQVRUUklCVVRFX05BTUUpO1xuICAgIHNldFN0eWxlRm9yUHJlc2V0KGVsLCBuYW1lKTtcblxuICAgIHJldHVybiB1c2VyKCkuYXNzZXJ0KFxuICAgICAgICBQUkVTRVRTW25hbWVdLFxuICAgICAgICAnSW52YWxpZCAlcyBwcmVzZXQgXCIlc1wiIGZvciBlbGVtZW50ICVzJyxcbiAgICAgICAgQU5JTUFURV9JTl9BVFRSSUJVVEVfTkFNRSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZWwpO1xuICB9XG59XG5cblxuLyoqIEJ1cyBmb3IgYW5pbWF0aW9uIHNlcXVlbmNpbmcuICovXG5jbGFzcyBBbmltYXRpb25TZXF1ZW5jZSB7XG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIVByb21pc2U+fSAqL1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uUHJvbWlzZXNfID0gbWFwKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUZ1bmN0aW9uPn0gKi9cbiAgICB0aGlzLnN1YnNjcmlwdGlvblJlc29sdmVyc18gPSBtYXAoKTtcbiAgfVxuXG4gIC8qKiBEZWNvdXBsZXMgY29uc3RydWN0b3IgZm9yIHRlc3RpbmcuICovXG4gIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRpb25TZXF1ZW5jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmaWVzIGRlcGVuZGVudCBlbGVtZW50cyB0aGF0IGFuaW1hdGlvbiBoYXMgZmluaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKi9cbiAgbm90aWZ5RmluaXNoKGlkKSB7XG4gICAgaWYgKGlkIGluIHRoaXMuc3Vic2NyaXB0aW9uUHJvbWlzZXNfKSB7XG4gICAgICBkZXYoKS5hc3NlcnQodGhpcy5zdWJzY3JpcHRpb25SZXNvbHZlcnNfW2lkXSkoKTtcblxuICAgICAgZGVsZXRlIHRoaXMuc3Vic2NyaXB0aW9uUHJvbWlzZXNfW2lkXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2FpdHMgZm9yIGFub3RoZXIgZWxlbWVudCB0byBmaW5pc2ggYW5pbWF0aW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHJldHVybiB7IVByb21pc2U8dm9pZD59XG4gICAqL1xuICB3YWl0Rm9yKGlkKSB7XG4gICAgaWYgKCEoaWQgaW4gdGhpcy5zdWJzY3JpcHRpb25Qcm9taXNlc18pKSB7XG4gICAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25Qcm9taXNlc19baWRdID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uUmVzb2x2ZXJzX1tpZF0gPSBkZWZlcnJlZC5yZXNvbHZlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25Qcm9taXNlc19baWRdO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHthc3NlcnRIdHRwc1VybH0gZnJvbSAnLi4vLi4vLi4vc3JjL3VybCc7XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IEJBQ0tHUk9VTkRfQVVESU9fRUxFTUVOVF9DTEFTU19OQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLWF1ZGlvJztcblxuXG4vKipcbiAqIEFkZHMgc3VwcG9ydCBmb3IgdGhlIGJhY2tncm91bmQtYXVkaW8gcHJvcGVydHkgb24gdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byB1cGdyYWRlIHdpdGggc3VwcG9ydCBmb3IgYmFja2dyb3VuZFxuICogICAgIGF1ZGlvLlxuICogQHJldHVybiB7P0VsZW1lbnR9IGF1ZGlvRWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZ3JhZGVCYWNrZ3JvdW5kQXVkaW8oZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdiYWNrZ3JvdW5kLWF1ZGlvJykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGF1ZGlvRWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgY29uc3QgYXVkaW9TcmMgPVxuICAgICAgYXNzZXJ0SHR0cHNVcmwoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2JhY2tncm91bmQtYXVkaW8nKSwgZWxlbWVudCk7XG4gIGF1ZGlvRWwuc2V0QXR0cmlidXRlKCdzcmMnLCBhdWRpb1NyYyk7XG4gIGF1ZGlvRWwuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgYXVkaW9FbC5zZXRBdHRyaWJ1dGUoJ2xvb3AnLCAnJyk7XG4gIGF1ZGlvRWwuc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICcnKTtcbiAgYXVkaW9FbC5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xuICBhdWRpb0VsLm11dGVkID0gdHJ1ZTtcbiAgYXVkaW9FbC5jbGFzc0xpc3QuYWRkKEJBQ0tHUk9VTkRfQVVESU9fRUxFTUVOVF9DTEFTU19OQU1FKTtcbiAgZWxlbWVudC5hcHBlbmRDaGlsZChhdWRpb0VsKTtcblxuICByZXR1cm4gYXVkaW9FbDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtsaXN0ZW5PbmNlUHJvbWlzZX0gZnJvbSAnLi4vLi4vLi4vc3JjL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge3NldFN0eWxlfSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuXG5cbi8qKiBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IFNXQVBfVElNRU9VVF9NUyA9IDUwMDtcblxuXG5jb25zdCBCQUNLR1JPVU5EX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kJztcblxuY29uc3QgQkFDS0dST1VORF9DT05UQUlORVJfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQtY29udGFpbmVyJztcblxuY29uc3QgQkFDS0dST1VORF9PVkVSTEFZX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLW92ZXJsYXknO1xuXG5cblxuLyoqXG4gKiBAcGFyYW0gez9zdHJpbmd9IHVybFxuICogQHJldHVybiB7IVByb21pc2V9XG4gKi9cbmZ1bmN0aW9uIG1heWJlTG9hZEltYWdlKHVybCkge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICBjb25zdCBpbWcgPSBuZXcgSW1hZ2U7XG4gIGltZy5zcmMgPSB1cmw7XG4gIHJldHVybiBsaXN0ZW5PbmNlUHJvbWlzZShpbWcsICdsb2FkJyk7XG59XG5cblxuLyoqXG4gKiBUT0RPKGN2aWFsaXopOiBJbnZlc3RpZ2F0ZSBwcmUtcmVuZGVyaW5nIGJsdXJyZWQgYmFja2dyb3VuZHMgdG8gY2FudmFzIHRvXG4gKiBwb3NzaWJseSBpbXByb3ZlIHBlcmZvcm1hbmNlP1xuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlCYWNrZ3JvdW5kIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgZWxlbWVudCkge1xuICAgIC8qIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG5cbiAgICAvKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmNvdW50XyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5jb250YWluZXJfID0gdGhpcy5lbGVtZW50Xy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuY29udGFpbmVyT3ZlcmxheV8gPSB0aGlzLmVsZW1lbnRfLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAvKiogQHByaXZhdGUgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuaGlkZGVuXyA9IHRoaXMuY3JlYXRlQmFja2dyb3VuZF8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5hY3RpdmVfID0gdGhpcy5jcmVhdGVCYWNrZ3JvdW5kXygpO1xuXG4gICAgdGhpcy5jb250YWluZXJfLmNsYXNzTGlzdC5hZGQoQkFDS0dST1VORF9DT05UQUlORVJfQ0xBU1MpO1xuICAgIHRoaXMuY29udGFpbmVyT3ZlcmxheV8uY2xhc3NMaXN0LmFkZChCQUNLR1JPVU5EX09WRVJMQVlfQ0xBU1MpO1xuXG4gICAgdGhpcy5jb250YWluZXJfLmFwcGVuZENoaWxkKHRoaXMuaGlkZGVuXyk7XG4gICAgdGhpcy5jb250YWluZXJfLmFwcGVuZENoaWxkKHRoaXMuYWN0aXZlXyk7XG4gICAgdGhpcy5jb250YWluZXJfLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyT3ZlcmxheV8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlQmFja2dyb3VuZF8oKSB7XG4gICAgY29uc3QgYmcgPSB0aGlzLmVsZW1lbnRfLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYmcuY2xhc3NMaXN0LmFkZChCQUNLR1JPVU5EX0NMQVNTKTtcbiAgICByZXR1cm4gYmc7XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoIHRoZSBiYWNrZ3JvdW5kcyB0byB0aGUgZG9jdW1lbnQuXG4gICAqL1xuICBhdHRhY2goKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5pbnNlcnRCZWZvcmUodGhpcy5jb250YWluZXJfLCB0aGlzLmVsZW1lbnRfLmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYmFja2dyb3VuZCB3aXRoIG5ldyBiYWNrZ3JvdW5kIGltYWdlIFVSTC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluaXRpYWxcbiAgICovXG4gIHNldEJhY2tncm91bmQoY29sb3IsIHVybCwgaW5pdGlhbCA9IGZhbHNlKSB7XG4gICAgY29uc3QgY291bnRBdEFkZCA9ICsrdGhpcy5jb3VudF87XG5cbiAgICBjb25zdCB3aGVuRnJlc2ggPSAocHJvbWlzZSwgY2FsbGJhY2spID0+IHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBpZiAodGhpcy5jb3VudF8gPT0gY291bnRBdEFkZCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgaW1nTG9hZCA9IG1heWJlTG9hZEltYWdlKHVybCk7XG4gICAgY29uc3QgdGltZW91dCA9XG4gICAgICAgIFNlcnZpY2VzLnRpbWVyRm9yKHRoaXMud2luXykucHJvbWlzZShpbml0aWFsID8gMCA6IFNXQVBfVElNRU9VVF9NUyk7XG5cbiAgICBjb25zdCBoaWRkZW4gPSB0aGlzLmhpZGRlbl87XG5cbiAgICBzZXRTdHlsZShoaWRkZW4sICdiYWNrZ3JvdW5kLWltYWdlJywgJ25vbmUnKTtcblxuICAgIC8vIEltYWdlIHdpbGwgYmUgc3dhcHBlZCBvbiBsb2FkLlxuICAgIHdoZW5GcmVzaChpbWdMb2FkLCAoKSA9PiB7XG4gICAgICBzZXRTdHlsZShoaWRkZW4sICdiYWNrZ3JvdW5kLWltYWdlJywgdXJsID8gYHVybCgke3VybH0pYCA6IG51bGwpO1xuICAgIH0pO1xuXG4gICAgLy8gQ29sb3Igd2lsbCBhbHdheXMgYmUgc3dhcHBlZCBvbiB0aW1lb3V0LlxuICAgIHdoZW5GcmVzaChQcm9taXNlLnJhY2UoW2ltZ0xvYWQsIHRpbWVvdXRdKSwgKCkgPT4ge1xuICAgICAgc2V0U3R5bGUoaGlkZGVuLCAnYmFja2dyb3VuZC1jb2xvcicsIGNvbG9yKTtcbiAgICAgIHRoaXMucm90YXRlQWN0aXZlQmFja2dyb3VuZF8oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGVzIHRoZSBjbGFzc2VzIG9uIHBhZ2UgYmFja2dyb3VuZCB0byBicmluZyB0aGUgbmV3IGJhY2dyb3VuZCBpblxuICAgKiBmb3JlZ3JvdW5kLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcm90YXRlQWN0aXZlQmFja2dyb3VuZF8oKSB7XG4gICAgY29uc3QgbmV3SGlkZGVuID0gdGhpcy5hY3RpdmVfO1xuICAgIHRoaXMuYWN0aXZlXyA9IHRoaXMuaGlkZGVuXztcbiAgICB0aGlzLmhpZGRlbl8gPSBuZXdIaWRkZW47XG4gICAgdGhpcy5hY3RpdmVfLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIHRoaXMuaGlkZGVuXy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBCTEFOS19BVURJT19TUkMgPSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaklBQUFCWFFWWkZabTEwSUJBJyArXG4gICAgJ0FBQUFCQUFFQUlsWUFBRVNzQUFBQ0FCQUFaR0YwWVJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9PSc7XG5cbmV4cG9ydCBjb25zdCBCTEFOS19WSURFT19TUkMgPSAnZGF0YTp2aWRlby9tcDQ7YmFzZTY0LEFBQUFIR1owZVhCTk5GWWdBQUFDQUcnICtcbiAgICAnbHpiMjFwYzI4eVlYWmpNUUFBQUFobWNtVmxBQUFHRjIxa1lYVGVCQUFBYkdsaVptRmhZeUF4TGpJNEFBQkNBSk1nQkRJQVJ3JyArXG4gICAgJ0FBQXJFR0JmLy9yZHhGNmIzbTJVaTNsaXpZSU5rajd1OTRNalkwSUMwZ1kyOXlaU0F4TkRJZ2NqSWdPVFUyWXpoa09DQXRJRScgK1xuICAgICdndU1qWTBMMDFRUlVjdE5DQkJWa01nWTI5a1pXTWdMU0JEYjNCNWJHVm1kQ0F5TURBekxUSXdNVFFnTFNCb2RIUndPaTh2ZDMnICtcbiAgICAnZDNMblpwWkdWdmJHRnVMbTl5Wnk5NE1qWTBMbWgwYld3Z0xTQnZjSFJwYjI1ek9pQmpZV0poWXowd0lISmxaajB6SUdSbFltJyArXG4gICAgJ3h2WTJzOU1Ub3dPakFnWVc1aGJIbHpaVDB3ZURFNk1IZ3hNVEVnYldVOWFHVjRJSE4xWW0xbFBUY2djSE41UFRFZ2NITjVYMycgK1xuICAgICdKa1BURXVNREE2TUM0d01DQnRhWGhsWkY5eVpXWTlNU0J0WlY5eVlXNW5aVDB4TmlCamFISnZiV0ZmYldVOU1TQjBjbVZzYkcnICtcbiAgICAnbHpQVEVnT0hnNFpHTjBQVEFnWTNGdFBUQWdaR1ZoWkhwdmJtVTlNakVzTVRFZ1ptRnpkRjl3YzJ0cGNEMHhJR05vY205dFlWJyArXG4gICAgJzl4Y0Y5dlptWnpaWFE5TFRJZ2RHaHlaV0ZrY3owMklHeHZiMnRoYUdWaFpGOTBhSEpsWVdSelBURWdjMnhwWTJWa1gzUm9jbScgK1xuICAgICdWaFpITTlNQ0J1Y2owd0lHUmxZMmx0WVhSbFBURWdhVzUwWlhKc1lXTmxaRDB3SUdKc2RYSmhlVjlqYjIxd1lYUTlNQ0JqYjInICtcbiAgICAnNXpkSEpoYVc1bFpGOXBiblJ5WVQwd0lHSm1jbUZ0WlhNOU1DQjNaV2xuYUhSd1BUQWdhMlY1YVc1MFBUSTFNQ0JyWlhscGJuJyArXG4gICAgJ1JmYldsdVBUSTFJSE5qWlc1bFkzVjBQVFF3SUdsdWRISmhYM0psWm5KbGMyZzlNQ0J5WTE5c2IyOXJZV2hsWVdROU5EQWdjbScgK1xuICAgICdNOVkzSm1JRzFpZEhKbFpUMHhJR055WmoweU15NHdJSEZqYjIxd1BUQXVOakFnY1hCdGFXNDlNQ0J4Y0cxaGVEMDJPU0J4Y0gnICtcbiAgICAnTjBaWEE5TkNCMlluWmZiV0Y0Y21GMFpUMDNOamdnZG1KMlgySjFabk5wZW1VOU16QXdNQ0JqY21aZmJXRjRQVEF1TUNCdVlXJyArXG4gICAgJ3hmYUhKa1BXNXZibVVnWm1sc2JHVnlQVEFnYVhCZmNtRjBhVzg5TVM0ME1DQmhjVDB4T2pFdU1EQUFnQUFBQUZabGlJUUw4bScgK1xuICAgICdLQUFLdk1uSnljbkp5Y25KeWNuWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFgnICtcbiAgICAnWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhpRUFTWkFDR1FBamdDRUFTWkFDR1FBamdBQUFBQWRCbWpnWDRHJyArXG4gICAgJ1NBSVFCSmtBSVpBQ09BQUFBQUIwR2FWQVg0R1NBaEFFbVFBaGtBSTRBaEFFbVFBaGtBSTRBQUFBQUdRWnBnTDhESklRQkprQScgK1xuICAgICdJWkFDT0FJUUJKa0FJWkFDT0FBQUFBQmtHYWdDL0F5U0VBU1pBQ0dRQWpnQUFBQUFaQm1xQXZ3TWtoQUVtUUFoa0FJNEFoQUUnICtcbiAgICAnbVFBaGtBSTRBQUFBQUdRWnJBTDhESklRQkprQUlaQUNPQUFBQUFCa0dhNEMvQXlTRUFTWkFDR1FBamdDRUFTWkFDR1FBamdBJyArXG4gICAgJ0FBQUFaQm13QXZ3TWtoQUVtUUFoa0FJNEFBQUFBR1Fac2dMOERKSVFCSmtBSVpBQ09BSVFCSmtBSVpBQ09BQUFBQUJrR2JRQycgK1xuICAgICcvQXlTRUFTWkFDR1FBamdDRUFTWkFDR1FBamdBQUFBQVpCbTJBdndNa2hBRW1RQWhrQUk0QUFBQUFHUVp1QUw4REpJUUJKa0EnICtcbiAgICAnSVpBQ09BSVFCSmtBSVpBQ09BQUFBQUJrR2JvQy9BeVNFQVNaQUNHUUFqZ0FBQUFBWkJtOEF2d01raEFFbVFBaGtBSTRBaEFFJyArXG4gICAgJ21RQWhrQUk0QUFBQUFHUVp2Z0w4REpJUUJKa0FJWkFDT0FBQUFBQmtHYUFDL0F5U0VBU1pBQ0dRQWpnQ0VBU1pBQ0dRQWpnQScgK1xuICAgICdBQUFBWkJtaUF2d01raEFFbVFBaGtBSTRBaEFFbVFBaGtBSTRBQUFBQUdRWnBBTDhESklRQkprQUlaQUNPQUFBQUFCa0dhWUMnICtcbiAgICAnL0F5U0VBU1pBQ0dRQWpnQ0VBU1pBQ0dRQWpnQUFBQUFaQm1vQXZ3TWtoQUVtUUFoa0FJNEFBQUFBR1FacWdMOERKSVFCSmtBJyArXG4gICAgJ0laQUNPQUlRQkprQUlaQUNPQUFBQUFCa0dhd0MvQXlTRUFTWkFDR1FBamdBQUFBQVpCbXVBdndNa2hBRW1RQWhrQUk0QWhBRScgK1xuICAgICdtUUFoa0FJNEFBQUFBR1Fac0FMOERKSVFCSmtBSVpBQ09BQUFBQUJrR2JJQy9BeVNFQVNaQUNHUUFqZ0NFQVNaQUNHUUFqZ0EnICtcbiAgICAnQUFBQVpCbTBBdndNa2hBRW1RQWhrQUk0QWhBRW1RQWhrQUk0QUFBQUFHUVp0Z0w4REpJUUJKa0FJWkFDT0FBQUFBQmtHYmdDJyArXG4gICAgJ3ZBeVNFQVNaQUNHUUFqZ0NFQVNaQUNHUUFqZ0FBQUFBWkJtNkFud01raEFFbVFBaGtBSTRBaEFFbVFBaGtBSTRBaEFFbVFBaCcgK1xuICAgICdrQUk0QWhBRW1RQWhrQUk0QUFBQWh1Ylc5dmRnQUFBR3h0ZG1oa0FBQUFBQUFBQUFBQUFBQUFBQUFENkFBQUJEY0FBUUFBQVEnICtcbiAgICAnQUFBQUFBQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFBJyArXG4gICAgJ0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQXdBQUF6QjBjbUZyQUFBQVhIUnJhR1FBQUFBREFBQUFBQUFBQUFBQUFBQUJBQScgK1xuICAgICdBQUFBQUFBK2tBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUEnICtcbiAgICAnQkFBQUFBQUxBQUFBQ1FBQUFBQUFBa1pXUjBjd0FBQUJ4bGJITjBBQUFBQUFBQUFBRUFBQVBwQUFBQUFBQUJBQUFBQUFLb2JXJyArXG4gICAgJ1JwWVFBQUFDQnRaR2hrQUFBQUFBQUFBQUFBQUFBQUFBQjFNQUFBZFU1VnhBQUFBQUFBTFdoa2JISUFBQUFBQUFBQUFIWnBaRycgK1xuICAgICdVQUFBQUFBQUFBQUFBQUFBQldhV1JsYjBoaGJtUnNaWElBQUFBQ1UyMXBibVlBQUFBVWRtMW9aQUFBQUFFQUFBQUFBQUFBQUEnICtcbiAgICAnQUFBQ1JrYVc1bUFBQUFIR1J5WldZQUFBQUFBQUFBQVFBQUFBeDFjbXdnQUFBQUFRQUFBaE56ZEdKc0FBQUFyM04wYzJRQUFBJyArXG4gICAgJ0FBQUFBQUFRQUFBSjloZG1NeEFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUxBQWtBQklBQUFBU0FBQUFBQUFBQScgK1xuICAgICdBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBR1AvL0FBQUFMV0YyWTBNQlFzQU4vK0VBRlcnICtcbiAgICAnZEN3QTNaQXNUc0JFQUFBUHBBQURxWUE4VUtrZ0VBQldqTGc4c2dBQUFBSEhWMWFXUnJhRUR5WHlSUHhibzVwUnZQQXlQekFBJyArXG4gICAgJ0FBQUFBQUFCaHpkSFJ6QUFBQUFBQUFBQUVBQUFBZUFBQUQ2UUFBQUJSemRITnpBQUFBQUFBQUFBRUFBQUFCQUFBQUhITjBjMicgK1xuICAgICdNQUFBQUFBQUFBQVFBQUFBRUFBQUFCQUFBQUFRQUFBSXh6ZEhONkFBQUFBQUFBQUFBQUFBQWVBQUFERHdBQUFBc0FBQUFMQUEnICtcbiAgICAnQUFDZ0FBQUFvQUFBQUtBQUFBQ2dBQUFBb0FBQUFLQUFBQUNnQUFBQW9BQUFBS0FBQUFDZ0FBQUFvQUFBQUtBQUFBQ2dBQUFBJyArXG4gICAgJ29BQUFBS0FBQUFDZ0FBQUFvQUFBQUtBQUFBQ2dBQUFBb0FBQUFLQUFBQUNnQUFBQW9BQUFBS0FBQUFDZ0FBQUFvQUFBQUtBQScgK1xuICAgICdBQWlITjBZMjhBQUFBQUFBQUFIZ0FBQUVZQUFBTm5BQUFEZXdBQUE1Z0FBQU8wQUFBRHh3QUFBK01BQUFQMkFBQUVFZ0FBQkMnICtcbiAgICAnVUFBQVJCQUFBRVhRQUFCSEFBQUFTTUFBQUVud0FBQkxzQUFBVE9BQUFFNmdBQUJRWUFBQVVaQUFBRk5RQUFCVWdBQUFWa0FBJyArXG4gICAgJ0FGZHdBQUJaTUFBQVdtQUFBRndnQUFCZDRBQUFYeEFBQUdEUUFBQkdoMGNtRnJBQUFBWEhScmFHUUFBQUFEQUFBQUFBQUFBQScgK1xuICAgICdBQUFBQUNBQUFBQUFBQUJEY0FBQUFBQUFBQUFBQUFBQUVCQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQUFBQUFBQUEnICtcbiAgICAnQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFBQUFBQUFrWldSMGN3QUFBQnhsYkhOMEFBQUFBQUFBQUFFQUFBUWtBQUFEY0FBQkFBJyArXG4gICAgJ0FBQUFQZ2JXUnBZUUFBQUNCdFpHaGtBQUFBQUFBQUFBQUFBQUFBQUFDN2dBQUF5a0JWeEFBQUFBQUFMV2hrYkhJQUFBQUFBQScgK1xuICAgICdBQUFITnZkVzRBQUFBQUFBQUFBQUFBQUFCVGIzVnVaRWhoYm1Sc1pYSUFBQUFEaTIxcGJtWUFBQUFRYzIxb1pBQUFBQUFBQUEnICtcbiAgICAnQUFBQUFBSkdScGJtWUFBQUFjWkhKbFpnQUFBQUFBQUFBQkFBQUFESFZ5YkNBQUFBQUJBQUFEVDNOMFltd0FBQUJuYzNSelpBJyArXG4gICAgJ0FBQUFBQUFBQUJBQUFBVjIxd05HRUFBQUFBQUFBQUFRQUFBQUFBQUFBQUFBSUFFQUFBQUFDN2dBQUFBQUFBTTJWelpITUFBQScgK1xuICAgICdBQUE0Q0FnQ0lBQWdBRWdJQ0FGRUFWQmJqWUFBdTRBQUFBRGNvRmdJQ0FBaEdRQm9DQWdBRUNBQUFBSUhOMGRITUFBQUFBQUEnICtcbiAgICAnQUFBZ0FBQURJQUFBUUFBQUFBQVFBQUFrQUFBQUZVYzNSell3QUFBQUFBQUFBYkFBQUFBUUFBQUFFQUFBQUJBQUFBQWdBQUFBJyArXG4gICAgJ0lBQUFBQkFBQUFBd0FBQUFFQUFBQUJBQUFBQkFBQUFBSUFBQUFCQUFBQUJnQUFBQUVBQUFBQkFBQUFCd0FBQUFJQUFBQUJBQScgK1xuICAgICdBQUNBQUFBQUVBQUFBQkFBQUFDUUFBQUFJQUFBQUJBQUFBQ2dBQUFBRUFBQUFCQUFBQUN3QUFBQUlBQUFBQkFBQUFEUUFBQUEnICtcbiAgICAnRUFBQUFCQUFBQURnQUFBQUlBQUFBQkFBQUFEd0FBQUFFQUFBQUJBQUFBRUFBQUFBSUFBQUFCQUFBQUVRQUFBQUVBQUFBQkFBJyArXG4gICAgJ0FBRWdBQUFBSUFBQUFCQUFBQUZBQUFBQUVBQUFBQkFBQUFGUUFBQUFJQUFBQUJBQUFBRmdBQUFBRUFBQUFCQUFBQUZ3QUFBQScgK1xuICAgICdJQUFBQUJBQUFBR0FBQUFBRUFBQUFCQUFBQUdRQUFBQUlBQUFBQkFBQUFHZ0FBQUFFQUFBQUJBQUFBR3dBQUFBSUFBQUFCQUEnICtcbiAgICAnQUFIUUFBQUFFQUFBQUJBQUFBSGdBQUFBSUFBQUFCQUFBQUh3QUFBQVFBQUFBQkFBQUE0SE4wYzNvQUFBQUFBQUFBQUFBQUFEJyArXG4gICAgJ01BQUFBYUFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQScgK1xuICAgICdBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUEnICtcbiAgICAna0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBJyArXG4gICAgJ0FBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUNNYzNSamJ3QUFBQScgK1xuICAgICdBQUFBQWZBQUFBTEFBQUExVUFBQU55QUFBRGhnQUFBNklBQUFPK0FBQUQwUUFBQSswQUFBUUFBQUFFSEFBQUJDOEFBQVJMQUEnICtcbiAgICAnQUVad0FBQkhvQUFBU1dBQUFFcVFBQUJNVUFBQVRZQUFBRTlBQUFCUkFBQUFVakFBQUZQd0FBQlZJQUFBVnVBQUFGZ1FBQUJaJyArXG4gICAgJzBBQUFXd0FBQUZ6QUFBQmVnQUFBWDdBQUFHRndBQUFHSjFaSFJoQUFBQVdtMWxkR0VBQUFBQUFBQUFJV2hrYkhJQUFBQUFBQScgK1xuICAgICdBQUFHMWthWEpoY0hCc0FBQUFBQUFBQUFBQUFBQUFMV2xzYzNRQUFBQWxxWFJ2YndBQUFCMWtZWFJoQUFBQUFRQUFBQUJNWVgnICtcbiAgICAnWm1OVFV1TXpNdU1UQXcnO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvZ0xldmVsLCBkZXZ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7aXNBcnJheX0gZnJvbSAnLi4vLi4vLi4vc3JjL3R5cGVzJztcbmltcG9ydCB7cmVtb3ZlQ2hpbGRyZW59IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuXG5cbi8qKlxuICogQHBhcmFtIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gdnN5bmNcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUhpZGRlbkF0dHJpYnV0ZSh2c3luYywgZWwsIGlzSGlkZGVuKSB7XG4gIHZzeW5jLm11dGF0ZSgoKSA9PiB7XG4gICAgaWYgKGlzSGlkZGVuKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfCFBcnJheTxzdHJpbmc+fSBjbGFzc05hbWVPckxpc3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oRXZlbnQpfSBoYW5kbGVyXG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uKHdpbiwgY2xhc3NOYW1lT3JMaXN0LCBoYW5kbGVyKSB7XG4gIGNvbnN0IGJ1dHRvbiA9IHdpbi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcblxuICBpZiAoaXNBcnJheShjbGFzc05hbWVPckxpc3QpKSB7XG4gICAgY2xhc3NOYW1lT3JMaXN0LmZvckVhY2goY2xhc3NOYW1lID0+IGJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSkpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoY2xhc3NOYW1lT3JMaXN0KSk7XG4gIH1cbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1idXR0b24nKTtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gIHJldHVybiBidXR0b247XG59XG5cblxuLyoqXG4gKiBEZXZlbG9wbWVudCBtb2RlIGxvZ3MgYnV0dG9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIERldmVsb3BtZW50TW9kZUxvZ0J1dHRvblNldCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMucm9vdF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmVycm9yQnV0dG9uXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMud2FybmluZ0J1dHRvbl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLnN1Y2Nlc3NCdXR0b25fID0gbnVsbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlKHdpbikge1xuICAgIHJldHVybiBuZXcgRGV2ZWxvcG1lbnRNb2RlTG9nQnV0dG9uU2V0KHdpbik7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRldmVsb3BlciBsb2cgYnV0dG9uIHNldCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGxvZ0J1dHRvbkFjdGlvbkZuIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuXG4gICAqICAgICB0aGUgbG9nIGJ1dHRvbnMgYXJlIGNsaWNrZWQuXG4gICAqIEByZXR1cm4gez9FbGVtZW50fVxuICAgKi9cbiAgYnVpbGQobG9nQnV0dG9uQWN0aW9uRm4pIHtcbiAgICB0aGlzLmVycm9yQnV0dG9uXyA9IGNyZWF0ZUJ1dHRvbih0aGlzLndpbl8sXG4gICAgICAgIFsnaS1hbXBodG1sLXN0b3J5LWVycm9yLWJ1dHRvbicsICdpLWFtcGh0bWwtc3RvcnktZGV2LWxvZ3MtYnV0dG9uJ10sXG4gICAgICAgICgpID0+IGxvZ0J1dHRvbkFjdGlvbkZuKCkpO1xuXG4gICAgdGhpcy53YXJuaW5nQnV0dG9uXyA9IGNyZWF0ZUJ1dHRvbih0aGlzLndpbl8sXG4gICAgICAgIFsnaS1hbXBodG1sLXN0b3J5LXdhcm5pbmctYnV0dG9uJywgJ2ktYW1waHRtbC1zdG9yeS1kZXYtbG9ncy1idXR0b24nXSxcbiAgICAgICAgKCkgPT4gbG9nQnV0dG9uQWN0aW9uRm4oKSk7XG5cbiAgICB0aGlzLnN1Y2Nlc3NCdXR0b25fID0gY3JlYXRlQnV0dG9uKHRoaXMud2luXyxcbiAgICAgICAgWydpLWFtcGh0bWwtc3Rvcnktc3VjY2Vzcy1idXR0b24nLCAnaS1hbXBodG1sLXN0b3J5LWRldi1sb2dzLWJ1dHRvbiddLFxuICAgICAgICAoKSA9PiBsb2dCdXR0b25BY3Rpb25GbigpKTtcblxuXG4gICAgdGhpcy5yb290XyA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKHRoaXMuZXJyb3JCdXR0b25fKTtcbiAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKHRoaXMud2FybmluZ0J1dHRvbl8pO1xuICAgIHRoaXMucm9vdF8uYXBwZW5kQ2hpbGQodGhpcy5zdWNjZXNzQnV0dG9uXyk7XG5cbiAgICByZXR1cm4gdGhpcy5yb290XztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJ1dHRvbiBhc3NvY2lhdGVkIHRvIGEgZ2l2ZW4gbG9nIGVudHJ5LlxuICAgKiBAcGFyYW0geyEuL2xvZ2dpbmcuQW1wU3RvcnlMb2dFbnRyeURlZn0gbG9nRW50cnkgVGhlIGxvZyBlbnRyeSBmb3Igd2hpY2hcbiAgICogICAgIHRoZSBhc3NvY2lhdGVkIGJ1dHRvbiBzaG91bGRiZSByZXRyaWV2ZWQuXG4gICAqIEByZXR1cm4gez9FbGVtZW50fSBUaGUgYnV0dG9uIGFzc29jaWF0ZWQgdG8gdGhlIHNwZWNpZmllZCBsb2cgZW50cnksIGlmIG9uZVxuICAgKiAgICAgZXhpc3RzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0QnV0dG9uRm9yTG9nRW50cnlfKGxvZ0VudHJ5KSB7XG4gICAgaWYgKGxvZ0VudHJ5LmNvbmZvcm1zKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdWNjZXNzQnV0dG9uXztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGxvZ0VudHJ5LmxldmVsKSB7XG4gICAgICBjYXNlIExvZ0xldmVsLkVSUk9SOlxuICAgICAgICByZXR1cm4gdGhpcy5lcnJvckJ1dHRvbl87XG4gICAgICBjYXNlIExvZ0xldmVsLldBUk46XG4gICAgICAgIHJldHVybiB0aGlzLndhcm5pbmdCdXR0b25fO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogTG9ncyBhbiBpbmRpdmlkdWFsIGVudHJ5IGludG8gdGhlIGRldmVsb3BlciBsb2cuXG4gICAqIEBwYXJhbSB7IS4vbG9nZ2luZy5BbXBTdG9yeUxvZ0VudHJ5RGVmfSBsb2dFbnRyeSBUaGUgZW50cnkgdG8gbG9nLlxuICAgKi9cbiAgbG9nKGxvZ0VudHJ5KSB7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5nZXRCdXR0b25Gb3JMb2dFbnRyeV8obG9nRW50cnkpO1xuICAgIGlmICghYnV0dG9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkQ291bnQgPSBwYXJzZUludChidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWNvdW50JykgfHwgMCwgMTApO1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY291bnQnLCBvbGRDb3VudCArIDEpO1xuICB9XG5cblxuICAvKipcbiAgICogQ2xlYXJzIGFueSBlcnJvciBzdGF0ZSBoZWxkIGJ5IHRoZSBidXR0b25zLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5lcnJvckJ1dHRvbl8uc2V0QXR0cmlidXRlKCdkYXRhLWNvdW50JywgMCk7XG4gICAgdGhpcy53YXJuaW5nQnV0dG9uXy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY291bnQnLCAwKTtcbiAgICB0aGlzLnN1Y2Nlc3NCdXR0b25fLnNldEF0dHJpYnV0ZSgnZGF0YS1jb3VudCcsIDApO1xuICB9XG59XG5cblxuLyoqXG4gKiBEZXZlbG9wbWVudCBtb2RlIGxvZyBmb3IgPGFtcC1zdG9yeT4uXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXZlbG9wbWVudE1vZGVMb2cge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLnJvb3RfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5lbnRyaWVzRWxfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5jb250ZXh0U3RyaW5nRWxfID0gbnVsbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlKHdpbikge1xuICAgIHJldHVybiBuZXcgRGV2ZWxvcG1lbnRNb2RlTG9nKHdpbik7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRldmVsb3BlciBsb2cgZWxlbWVudC5cbiAgICogQHJldHVybiB7P0VsZW1lbnR9XG4gICAqL1xuICBidWlsZCgpIHtcbiAgICB0aGlzLmNvbnRleHRTdHJpbmdFbF8gPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRoaXMuY29udGV4dFN0cmluZ0VsXy5jbGFzc0xpc3RcbiAgICAgICAgLmFkZCgnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctY29udGV4dCcpO1xuICAgIGNvbnN0IHRpdGxlRWwgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGl0bGVFbC50ZXh0Q29udGVudCA9ICdEZXZlbG9wZXIgbG9ncyBmb3IgcGFnZSAnO1xuICAgIHRpdGxlRWwuYXBwZW5kQ2hpbGQodGhpcy5jb250ZXh0U3RyaW5nRWxfKTtcblxuICAgIGNvbnN0IGNsb3NlRGV2ZWxvcGVyTG9nRWwgPSBjcmVhdGVCdXR0b24odGhpcy53aW5fLFxuICAgICAgICAnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctY2xvc2UnLFxuICAgICAgICAoKSA9PiB0aGlzLmhpZGUoKSk7XG5cbiAgICBjb25zdCBoZWFkZXJFbCA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBoZWFkZXJFbC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1oZWFkZXInKTtcbiAgICBoZWFkZXJFbC5hcHBlbmRDaGlsZCh0aXRsZUVsKTtcbiAgICBoZWFkZXJFbC5hcHBlbmRDaGlsZChjbG9zZURldmVsb3BlckxvZ0VsKTtcblxuICAgIHRoaXMuZW50cmllc0VsXyA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuZW50cmllc0VsXy5jbGFzc0xpc3RcbiAgICAgICAgLmFkZCgnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cmllcycpO1xuXG4gICAgdGhpcy5yb290XyA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnJvb3RfLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nJyk7XG4gICAgdGhpcy5yb290Xy5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKGhlYWRlckVsKTtcbiAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKHRoaXMuZW50cmllc0VsXyk7XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgcmV0dXJuIHRoaXMucm9vdF87XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFMb2dMZXZlbH0gbG9nTGV2ZWxcbiAgICogQHJldHVybiB7P3N0cmluZ30gVGhlIENTUyBjbGFzcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBsb2cgZW50cnksIGdpdmVuIHRoZVxuICAgKiAgICAgc3BlY2lmaWVkIGxvZyBsZXZlbCwgb3IgbnVsbCBpZiBubyBjbGFzcyBzaG91bGQgYmUgYWRkZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDc3NMb2dMZXZlbENsYXNzXyhsb2dMZXZlbCkge1xuICAgIHN3aXRjaCAobG9nTGV2ZWwpIHtcbiAgICAgIGNhc2UgTG9nTGV2ZWwuV0FSTjpcbiAgICAgICAgcmV0dXJuICdpLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeS13YXJuaW5nJztcbiAgICAgIGNhc2UgTG9nTGV2ZWwuRVJST1I6XG4gICAgICAgIHJldHVybiAnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnktZXJyb3InO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBjb25mb3JtcyBXaGV0aGVyIHRoZSBsb2cgZW50cnkgaXMgZm9yIGFuIGVsZW1lbnQgdGhhdFxuICAgKiAgICAgY29uZm9ybXMgdG8gYSBiZXN0IHByYWN0aWNlLlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgQ1NTIGNsYXNzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGxvZyBlbnRyeSwgZ2l2ZW4gdGhlXG4gICAqICAgICBlbGVtZW50J3MgY29uZm9ybWFuY2UgdG8gYSBiZXN0IHByYWN0aWNlLCBvciBudWxsIGlmIG5vIGNsYXNzIHNob3VsZCBiZVxuICAgKiAgICAgYWRkZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDc3NDb25mb3JtYW5jZUNsYXNzXyhjb25mb3Jtcykge1xuICAgIGlmIChjb25mb3Jtcykge1xuICAgICAgcmV0dXJuICdpLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeS1zdWNjZXNzJztcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vbG9nZ2luZy5BbXBTdG9yeUxvZ0VudHJ5RGVmfSBsb2dFbnRyeSBUaGUgZW50cnkgdG8gYmUgbG9nZ2VkLlxuICAgKi9cbiAgbG9nKGxvZ0VudHJ5KSB7XG4gICAgY29uc3QgbG9nTGV2ZWxDbGFzcyA9IHRoaXMuZ2V0Q3NzTG9nTGV2ZWxDbGFzc18obG9nRW50cnkubGV2ZWwpO1xuICAgIGNvbnN0IGNvbmZvcm1hbmNlQ2xhc3MgPSB0aGlzLmdldENzc0NvbmZvcm1hbmNlQ2xhc3NfKGxvZ0VudHJ5LmNvbmZvcm1zKTtcblxuICAgIGNvbnN0IGxvZ0VudHJ5VWkgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBsb2dFbnRyeVVpLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWVudHJ5Jyk7XG5cbiAgICBpZiAobG9nTGV2ZWxDbGFzcykge1xuICAgICAgbG9nRW50cnlVaS5jbGFzc0xpc3QuYWRkKGxvZ0xldmVsQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25mb3JtYW5jZUNsYXNzKSB7XG4gICAgICBsb2dFbnRyeVVpLmNsYXNzTGlzdC5hZGQoY29uZm9ybWFuY2VDbGFzcyk7XG4gICAgfVxuXG4gICAgbG9nRW50cnlVaS50ZXh0Q29udGVudCA9IGxvZ0VudHJ5Lm1lc3NhZ2U7XG4gICAgdGhpcy5lbnRyaWVzRWxfLmFwcGVuZENoaWxkKGxvZ0VudHJ5VWkpO1xuICB9XG5cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBlbnRyaWVzIGZyb20gdGhlIGRldmVsb3BlciBsb2dzLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKS5tdXRhdGUoKCkgPT4ge1xuICAgICAgcmVtb3ZlQ2hpbGRyZW4oZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLmVudHJpZXNFbF8pKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0cmluZyBwcm92aWRpbmcgY29udGV4dCBmb3IgdGhlIGRldmVsb3BlciBsb2dzIHdpbmRvdy4gIFRoaXMgaXNcbiAgICogb2Z0ZW4gdGhlIG5hbWUgb3IgSUQgb2YgdGhlIGVsZW1lbnQgdGhhdCBhbGwgbG9ncyBhcmUgZm9yIChlLmcuIHRoZSBwYWdlKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHRTdHJpbmdcbiAgICovXG4gIHNldENvbnRleHRTdHJpbmcoY29udGV4dFN0cmluZykge1xuICAgIHRoaXMuY29udGV4dFN0cmluZ0VsXy50ZXh0Q29udGVudCA9IGNvbnRleHRTdHJpbmc7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBkZXZlbG9wZXIgbG9nLlxuICAgKi9cbiAgdG9nZ2xlKCkge1xuICAgIGNvbnN0IG5ld0hpZGRlblN0YXRlID0gIXRoaXMucm9vdF8uaGFzQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB0b2dnbGVIaWRkZW5BdHRyaWJ1dGUoXG4gICAgICAgIFNlcnZpY2VzLnZzeW5jRm9yKHRoaXMud2luXyksIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5yb290XyksXG4gICAgICAgIG5ld0hpZGRlblN0YXRlKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBkZXZlbG9wZXIgbG9nIGluIHRoZSBVSS5cbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdG9nZ2xlSGlkZGVuQXR0cmlidXRlKFxuICAgICAgICBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLndpbl8pLCBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMucm9vdF8pLFxuICAgICAgICAvKiBpc0hpZGRlbiAqLyB0cnVlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge2lzRW51bVZhbHVlfSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHtwYXJzZVF1ZXJ5U3RyaW5nfSBmcm9tICcuLi8uLi8uLi9zcmMvdXJsJztcblxuXG4vKipcbiAqIEVtYmVkIG1vZGUgZm9yIEFNUCBzdG9yeS4gIFNlZSAuLi9lbWJlZC1tb2Rlcy5tZCBmb3IgZGV0YWlscy5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBFbWJlZE1vZGUgPSB7XG4gIC8qKlxuICAgKiBEZWZhdWx0IG1vZGUuXG4gICAqL1xuICBOT1RfRU1CRURERUQ6IDAsXG5cbiAgLyoqXG4gICAqIFRCRCBlbWJlZCBtb2RlLlxuICAgKlxuICAgKiBUaGlzIGRpZmZlcnMgZnJvbSB0aGUgTk9UX0VNQkVEREVEIGVtYmVkIG1vZGUgaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuICAgKiAtIEhpZGVzIGJvb2tlbmRcbiAgICogLSBIaWRlcyBhbGwgc3lzdGVtIGxheWVyIGJ1dHRvbnNcbiAgICogLSBEaXNhYmxlcyBzd2lwZS1iYXNlZCB1c2VyIGVkdWNhdGlvblxuICAgKiAtIERpc2FsbG93cyBhZHNcbiAgICogLSBVbm11dGVzIGF1ZGlvIGluIHRoZSBzdG9yeSBieSBkZWZhdWx0XG4gICAqL1xuICBOQU1FX1RCRDogMSxcblxuICAvKipcbiAgICogVGhpcyBtb2RlIGlzIGludGVuZGVkIGZvciBlbWJlZGRlcnMgdGhhdCBuYXRpdmVseSBoYW5kbGUgc2hhcmluZyB0aGUgc3RvcnksXG4gICAqIHRoZXJlYnkgcmVuZGVyaW5nIHRoZSBzaGFyaW5nIGZ1bmN0aW9uYWxpdHkgd2l0aGluIHRoZSBhbXAtc3RvcnkgZXh0ZW5zaW9uXG4gICAqIHJlZHVuZGFudC5cbiAgICpcbiAgICogVGhpcyBkaWZmZXJzIGZyb20gdGhlIE5PVF9FTUJFRERFRCBlbWJlZCBtb2RlIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAgICogLSBSZW1vdmVzIFwic2hhcmVcIiBwaWxsIGZyb20gZGVza3RvcCBVSVxuICAgKiAtIFJlbW92ZXMgXCJzaGFyZVwiIGljb24gZnJvbSBtb2JpbGUgVUlcbiAgICogLSBSZW1vdmVzIHNoYXJpbmcgc2VjdGlvbiBmcm9tIGJvb2tlbmRcbiAgICogLSBUT0RPKCMxNDkyMyk6IFJlbW92ZXMgdGhlIGxpbmsgaW5mb3JtYXRpb24gZnJvbSBlbWJlZGRlZCBVSXMuXG4gICAqL1xuICBOT19TSEFSSU5HOiAyLFxufTtcblxuXG4vKipcbiAqIFBhcmFtZXRlciB0byByZXRyaWV2ZSB0aGUgZW1iZWQgbW9kZSBmcm9tIHRoZSBsb2NhdGlvbiBoYXNoLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVtYmVkTW9kZVBhcmFtID0gJ2VtYmVkTW9kZSc7XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHshRW1iZWRNb2RlfVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRW1iZWRNb2RlKHN0cikge1xuICBjb25zdCBwYXJhbXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKHN0cik7XG4gIGNvbnN0IHVuc2FuaXRpemVkRW1iZWRNb2RlID0gcGFyYW1zW0VtYmVkTW9kZVBhcmFtXTtcbiAgY29uc3QgZW1iZWRNb2RlSW5kZXggPSBwYXJzZUludCh1bnNhbml0aXplZEVtYmVkTW9kZSwgMTApO1xuXG4gIHJldHVybiBpc0VudW1WYWx1ZShFbWJlZE1vZGUsIGVtYmVkTW9kZUluZGV4KVxuICAgID8gLyoqIEB0eXBlIHshRW1iZWRNb2RlfSAqLyAoZW1iZWRNb2RlSW5kZXgpXG4gICAgOiBFbWJlZE1vZGUuTk9UX0VNQkVEREVEO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Y3JlYXRlQ3VzdG9tRXZlbnR9IGZyb20gJy4uLy4uLy4uL3NyYy9ldmVudC1oZWxwZXInO1xuXG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSAqL1xuZXhwb3J0IGNvbnN0IEV2ZW50VHlwZSA9IHtcbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgbXV0ZXMgdGhlIHN0b3J5XG4gIE1VVEU6ICdhbXBzdG9yeTptdXRlJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciB1bm11dGVzIHRoZSBzdG9yeVxuICBVTk1VVEU6ICdhbXBzdG9yeTp1bm11dGUnLFxuXG4gIC8vIFRyaWdnZXJlZCB3aGVuIHRoZSBzdG9yeSBzaG91bGQgc3dpdGNoIHRvIGEgc3BlY2lmaWVkIHBhZ2VcbiAgU1dJVENIX1BBR0U6ICdhbXBzdG9yeTpzd2l0Y2hwYWdlJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgc3Rvcnkgc2hvdWxkIHN3aXRjaCB0byB0aGUgcHJldmlvdXMgcGFnZVxuICBQUkVWSU9VU19QQUdFOiAnYW1wc3Rvcnk6cHJldmlvdXNwYWdlJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgc3Rvcnkgc2hvdWxkIHN3aXRjaCB0byB0aGUgbmV4dCBwYWdlXG4gIE5FWFRfUEFHRTogJ2FtcHN0b3J5Om5leHRwYWdlJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgc3Rvcnkgc2hvdWxkIG5hdmlnYXRlIGFmdGVyIGEgdGFwIG9uIGFjdGl2ZSBwYWdlLlxuICBUQVBfTkFWSUdBVElPTjogJ2FtcHN0b3J5OnRhcG5hdmlnYXRpb24nLFxuXG4gIC8vIFRyaWdnZXJlZCB3aGVuIGEgcGFnZSB1cGRhdGVzIGl0cyBwcm9ncmVzc1xuICBQQUdFX1BST0dSRVNTOiAnYW1wc3Rvcnk6cGFnZXByb2dyZXNzJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgc3Rvcnkgc2hvdWxkIGJlIHJlcGxheWVkXG4gIFJFUExBWTogJ2FtcHN0b3J5OnJlcGxheScsXG5cbiAgLy8gREVWRUxPUE1FTlQgTU9ERSBPTkxZOiBUcmlnZ2VyZWQgd2hlbiBhIHN0b3J5IHBhZ2UgaGFzIGxvZyBlbnRyaWVzIChlLmcuXG4gIC8vIHdhcm5pbmdzIG9yIGVycm9ycykuXG4gIERFVl9MT0dfRU5UUklFU19BVkFJTEFCTEU6ICdhbXBzdG9yeTpkZXZsb2dlbnRyaWVzYXZhaWxhYmxlJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB1c2VyIGNsaWNrcyBvbiBsZWZ0IDI1JSBvZiB0aGUgZmlyc3QgcGFnZVxuICBTSE9XX05PX1BSRVZJT1VTX1BBR0VfSEVMUDogJ2FtcHN0b3J5OnNob3dub3ByZXZpb3VzcGFnZWhlbHAnLFxuXG4gIC8vIFRyaWdnZXJlZCB3aGVuIGEgc3RvcnkgaGFzIGxvYWRlZCBhdCBsZWFzdCBpdHMgaW5pdGlhbCBzZXQgb2YgcGFnZXMuXG4gIFNUT1JZX0xPQURFRDogJ2FtcHN0b3J5OmxvYWQnLFxuXG4gIC8vIFRyaWdnZXJlZCB3aGVuIGEgcGFnZSBoYXMgbG9hZGVkIGF0IGxlYXN0IG9uZSBmcmFtZSBvZiBhbGwgb2YgaXRzIG1lZGlhLlxuICBQQUdFX0xPQURFRDogJ2FtcHN0b3J5OnBhZ2Vsb2FkJyxcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfYnViYmxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goc291cmNlLCBldmVudE5hbWUsIG9wdF9idWJibGVzKSB7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KGV2ZW50TmFtZSwge2J1YmJsZXM6ICEhb3B0X2J1YmJsZXN9KTtcbiAgaWYgKGV2ZW50LmluaXRFdmVudCkge1xuICAgIGV2ZW50LmluaXRFdmVudChldmVudE5hbWUsIC8qIGJ1YmJsZXMgKi8gISFvcHRfYnViYmxlcyxcbiAgICAgICAgLyogY2FuY2VsYWJsZSAqLyBmYWxzZSk7XG4gIH1cbiAgc291cmNlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEBwYXJhbSB7IUpzb25PYmplY3R9IHBheWxvYWRcbiAqIEBwYXJhbSB7IUN1c3RvbUV2ZW50SW5pdD19IG9wdF9ldmVudEluaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoQ3VzdG9tKHdpbiwgc291cmNlLCBldmVudE5hbWUsIHBheWxvYWQsIG9wdF9ldmVudEluaXQpIHtcbiAgY29uc3QgZXZlbnQgPSBjcmVhdGVDdXN0b21FdmVudCh3aW4sIGV2ZW50TmFtZSwgcGF5bG9hZCwgb3B0X2V2ZW50SW5pdCk7XG4gIHNvdXJjZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2lzSnNvbkxkU2NyaXB0VGFnfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7dHJ5UGFyc2VKc29ufSBmcm9tICcuLi8uLi8uLi9zcmMvanNvbic7XG5pbXBvcnQge3VzZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuXG5jb25zdCBUQUcgPSAnZ2V0SnNvbkxkJztcblxuLyoqXG4gKiBAcGFyYW0geyFOb2RlfSByb290XG4gKiBAcmV0dXJuIHs/SnNvbk9iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEpzb25MZChyb290KSB7XG4gIGNvbnN0IHNjcmlwdFRhZyA9IHJvb3QucXVlcnlTZWxlY3Rvcignc2NyaXB0W3R5cGU9XCJhcHBsaWNhdGlvbi9sZCtqc29uXCJdJyk7XG5cbiAgaWYgKCFzY3JpcHRUYWcgfHwgIWlzSnNvbkxkU2NyaXB0VGFnKHNjcmlwdFRhZykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0cnlQYXJzZUpzb24oc2NyaXB0VGFnLnRleHRDb250ZW50LCBlID0+IHtcbiAgICB1c2VyKCkuZXJyb3IoVEFHLCAnRmFpbGVkIHRvIHBhcnNlIGxkK2pzb24uIElzIGl0IHZhbGlkIEpTT04/JywgZSk7XG4gIH0pIHx8IG51bGw7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5cblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgU1BJTk5FUl9BQ1RJVkVfQVRUUklCVVRFID0gJ2FjdGl2ZSc7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovXG5jb25zdCBTUElOTkVSID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7XG4gICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zcGlubmVyJyxcbiAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgJ2FyaWEtbGFiZWwnOiAnTG9hZGluZyB2aWRlbycsXG4gIH0pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jb250YWluZXInLFxuICAgICAgfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItbGF5ZXInLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXIgbGVmdCcsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jaXJjbGUtY2xpcHBlciByaWdodCcsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICBdLFxufTtcblxuLyoqXG4gKiBMb2FkaW5nIHNwaW5uZXIgVUkgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIExvYWRpbmdTcGlubmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRvYykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFEb2N1bWVudH0gKi9cbiAgICB0aGlzLmRvY18gPSBkb2M7XG5cbiAgICAvKiogQHB1YmxpYyB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5yb290XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0FjdGl2ZV8gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLnJvb3RfKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290XztcbiAgICB9XG5cbiAgICB0aGlzLnJvb3RfID0gcmVuZGVyQXNFbGVtZW50KHRoaXMuZG9jXywgU1BJTk5FUik7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRSb290KCk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IUVsZW1lbnR9ICovXG4gIGdldFJvb3QoKSB7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5yb290Xyk7XG4gIH1cblxuICAvKiogQHBhcmFtIHtib29sZWFufSBpc0FjdGl2ZSAqL1xuICB0b2dnbGUoaXNBY3RpdmUpIHtcbiAgICBpZiAoaXNBY3RpdmUgPT09IHRoaXMuaXNBY3RpdmVfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgdGhpcy5yb290Xy5zZXRBdHRyaWJ1dGUoU1BJTk5FUl9BQ1RJVkVfQVRUUklCVVRFLCAnJyk7XG4gICAgICB0aGlzLnJvb3RfLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yb290Xy5yZW1vdmVBdHRyaWJ1dGUoU1BJTk5FUl9BQ1RJVkVfQVRUUklCVVRFKTtcbiAgICAgIHRoaXMucm9vdF8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgfVxuICAgIHRoaXMuaXNBY3RpdmVfID0gaXNBY3RpdmU7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtjbG9zZXN0fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7cGFyc2VKc29ufSBmcm9tICcuLi8uLi8uLi9zcmMvanNvbic7XG5cblxuLyoqXG4gKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBlYWNoIGxvY2FsaXplZCBzdHJpbmcuICBMb2NhbGl6ZWQgc3RyaW5nIElEcyBzaG91bGQ6XG4gKlxuICogICAtIE1haW50YWluIGFscGhhYmV0aWNhbCBvcmRlclxuICogICAtIEJlIHByZWZpeGVkIHdpdGggdGhlIG5hbWUgb2YgdGhlIGV4dGVuc2lvbiB0aGF0IHVzZXMgdGhlIHN0cmluZ1xuICogICAgIChlLmcuIFwiQU1QX1NUT1JZX1wiKSwgb3Igd2l0aCBcIkFNUF9cIiBpZiB0aGV5IGFyZSBnZW5lcmFsXG4gKiAgIC0gTk9UIGJlIHJldXNlZDsgdG8gZGVwcmVjYXRlIGFuIElELCBjb21tZW50IGl0IG91dCBhbmQgcHJlZml4IGl0cyBrZXkgd2l0aFxuICogICAgIHRoZSBzdHJpbmcgXCJERVBSRUNBVEVEX1wiXG4gKlxuICogTmV4dCBJRDogMjlcbiAqXG4gKiBAY29uc3QgQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IExvY2FsaXplZFN0cmluZ0lkID0ge1xuICAvLyBhbXAtc3RvcnlcbiAgQU1QX1NUT1JZX0JPT0tFTkRfUFJJVkFDWV9TRVRUSU5HU19USVRMRTogJzI4JyxcbiAgQU1QX1NUT1JZX0JPT0tFTkRfUFJJVkFDWV9TRVRUSU5HU19CVVRUT05fTEFCRUw6ICcyNycsXG4gIEFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUw6ICcyMicsXG4gIEFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMOiAnMjMnLFxuICBBTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xBQkVMOiAnMjUnLFxuICBBTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xJTks6ICcyNicsXG4gIEFNUF9TVE9SWV9FWFBFUklNRU5UX0VOQUJMRV9CVVRUT05fTEFCRUw6ICcwJyxcbiAgQU1QX1NUT1JZX0VYUEVSSU1FTlRfRU5BQkxFRF9URVhUOiAnMScsXG4gIEFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUw6ICcyJyxcbiAgQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUw6ICczJyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVDogJzQnLFxuICBBTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfU1VDQ0VTU19URVhUOiAnNScsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUw6ICc2JyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PSzogJzcnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTOiAnOCcsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOSzogJzknLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOOiAnMTAnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVDogJzExJyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVM6ICcxMicsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNOiAnMTMnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUjogJzE0JyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSOiAnMTUnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQOiAnMTYnLFxuICBBTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTDogJzE3JyxcbiAgQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFQ6ICcxOCcsXG4gIEFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVDogJzE5JyxcbiAgQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFQ6ICcyMCcsXG4gIEFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVDogJzIxJyxcbiAgLy8gREVQUkVDQVRFRF9BTVBfU1RPUllfQ09OU0VOVF9ESVNNSVNTX0RJQUxPR19CVVRUT05fTEFCRUw6ICcyNCcsXG59O1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgc3RyaW5nOiBzdHJpbmcsXG4gKiAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IExvY2FsaXplZFN0cmluZ0RlZjtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHshT2JqZWN0PCFMb2NhbGl6ZWRTdHJpbmdJZCwgIUxvY2FsaXplZFN0cmluZ0RlZj59XG4gKi9cbmV4cG9ydCBsZXQgTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmO1xuXG5cbi8qKlxuICogTGFuZ3VhZ2UgY29kZSB1c2VkIGlmIHRoZXJlIGlzIG5vIGxhbmd1YWdlIGNvZGUgc3BlY2lmaWVkIGJ5IHRoZSBkb2N1bWVudC5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBERUZBVUxUX0xBTkdVQUdFX0NPREUgPSAnZGVmYXVsdCc7XG5cblxuLyoqXG4gKiBAY29uc3QgeyFSZWdFeHB9XG4gKi9cbmNvbnN0IExBTkdVQUdFX0NPREVfQ0hVTktfUkVHRVggPSAvXFx3Ky9naTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZUNvZGVcbiAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fSBBIGxpc3Qgb2YgbGFuZ3VhZ2UgY29kZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYW5ndWFnZUNvZGVzRnJvbVN0cmluZyhsYW5ndWFnZUNvZGUpIHtcbiAgaWYgKCFsYW5ndWFnZUNvZGUpIHtcbiAgICByZXR1cm4gWydlbicsIERFRkFVTFRfTEFOR1VBR0VfQ09ERV07XG4gIH1cbiAgY29uc3QgbWF0Y2hlcyA9IGxhbmd1YWdlQ29kZS5tYXRjaChMQU5HVUFHRV9DT0RFX0NIVU5LX1JFR0VYKSB8fCBbXTtcbiAgcmV0dXJuIG1hdGNoZXMucmVkdWNlKChmYWxsYmFja0xhbmd1YWdlQ29kZUxpc3QsIGNodW5rLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGZhbGxiYWNrTGFuZ3VhZ2VDb2RlID0gbWF0Y2hlcy5zbGljZSgwLCBpbmRleCArIDEpXG4gICAgICAgIC5qb2luKCctJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgZmFsbGJhY2tMYW5ndWFnZUNvZGVMaXN0LnVuc2hpZnQoZmFsbGJhY2tMYW5ndWFnZUNvZGUpO1xuICAgIHJldHVybiBmYWxsYmFja0xhbmd1YWdlQ29kZUxpc3Q7XG4gIH0sIFtERUZBVUxUX0xBTkdVQUdFX0NPREVdKTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHN0cmluZyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGxvY2FsaXplZCBzdHJpbmcgSUQgaW4gdGhlIGxhbmd1YWdlXG4gKiBzcGVjaWZpZWQuXG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWY+fSBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVzXG4gKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBsYW5ndWFnZUNvZGVzXG4gKiBAcGFyYW0geyFMb2NhbGl6ZWRTdHJpbmdJZH0gbG9jYWxpemVkU3RyaW5nSWRcbiAqL1xuZnVuY3Rpb24gZmluZExvY2FsaXplZFN0cmluZyhsb2NhbGl6ZWRTdHJpbmdCdW5kbGVzLCBsYW5ndWFnZUNvZGVzLFxuICBsb2NhbGl6ZWRTdHJpbmdJZCkge1xuICBsZXQgbG9jYWxpemVkU3RyaW5nID0gbnVsbDtcblxuICBsYW5ndWFnZUNvZGVzLnNvbWUobGFuZ3VhZ2VDb2RlID0+IHtcbiAgICBjb25zdCBsb2NhbGl6ZWRTdHJpbmdCdW5kbGUgPSBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVzW2xhbmd1YWdlQ29kZV07XG4gICAgaWYgKGxvY2FsaXplZFN0cmluZ0J1bmRsZSAmJiBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVbbG9jYWxpemVkU3RyaW5nSWRdICYmXG4gICAgICAgIGxvY2FsaXplZFN0cmluZ0J1bmRsZVtsb2NhbGl6ZWRTdHJpbmdJZF0uc3RyaW5nKSB7XG4gICAgICBsb2NhbGl6ZWRTdHJpbmcgPSBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVbbG9jYWxpemVkU3RyaW5nSWRdLnN0cmluZztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGxvY2FsaXplZFN0cmluZztcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgdGhlIHNwZWNpZmllZCBMb2NhbGl6ZWRTdHJpbmdCdW5kbGUuXG4gKiBAcGFyYW0geyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9IGxvY2FsaXplZFN0cmluZ0J1bmRsZVxuICogQHJldHVybiB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZnVuY3Rpb24gY2xvbmVMb2NhbGl6ZWRTdHJpbmdCdW5kbGUobG9jYWxpemVkU3RyaW5nQnVuZGxlKSB7XG4gIHJldHVybiAvKiogQHR5cGUgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9ICovIChwYXJzZUpzb24oXG4gICAgICBKU09OLnN0cmluZ2lmeSgvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAobG9jYWxpemVkU3RyaW5nQnVuZGxlKSkpKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBwc2V1ZG8gbG9jYWxlIGJ5IGFwcGx5aW5nIHN0cmluZyB0cmFuc2Zvcm1hdGlvbnMgKHNwZWNpZmllZCBieSB0aGVcbiAqIGxvY2FsaXphdGlvbkZuKSB0byBhbiBleGlzdGluZyBzdHJpbmcgYnVuZGxlLCB3aXRob3V0IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gKiBAcGFyYW0geyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9IGxvY2FsaXplZFN0cmluZ0J1bmRsZSBUaGUgbG9jYWxpemVkXG4gKiAgICAgc3RyaW5nIGJ1bmRsZSB0byBiZSB0cmFuc2Zvcm1lZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKTogc3RyaW5nfSBsb2NhbGl6YXRpb25GbiBUaGUgdHJhbnNmb3JtYXRpb24gdG8gYmVcbiAqICAgICBhcHBsaWVkIHRvIGVhY2ggc3RyaW5nIGluIHRoZSBidW5kbGUuXG4gKiBAcmV0dXJuIHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfSBUaGUgbmV3IHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQc2V1ZG9Mb2NhbGUobG9jYWxpemVkU3RyaW5nQnVuZGxlLCBsb2NhbGl6YXRpb25Gbikge1xuICAvKiogQHR5cGUgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9ICovXG4gIGNvbnN0IHBzZXVkb0xvY2FsZVN0cmluZ0J1bmRsZSA9XG4gICAgICBjbG9uZUxvY2FsaXplZFN0cmluZ0J1bmRsZShsb2NhbGl6ZWRTdHJpbmdCdW5kbGUpO1xuXG4gIE9iamVjdC5rZXlzKHBzZXVkb0xvY2FsZVN0cmluZ0J1bmRsZSkuZm9yRWFjaChsb2NhbGl6ZWRTdHJpbmdJZEFzU3RyID0+IHtcbiAgICBjb25zdCBsb2NhbGl6ZWRTdHJpbmdJZCA9XG4gICAgLyoqIEB0eXBlIHshTG9jYWxpemVkU3RyaW5nSWR9ICovIChsb2NhbGl6ZWRTdHJpbmdJZEFzU3RyKTtcbiAgICBwc2V1ZG9Mb2NhbGVTdHJpbmdCdW5kbGVbbG9jYWxpemVkU3RyaW5nSWRdLnN0cmluZyA9XG4gICAgICAgIGxvY2FsaXphdGlvbkZuKGxvY2FsaXplZFN0cmluZ0J1bmRsZVtsb2NhbGl6ZWRTdHJpbmdJZF0uc3RyaW5nKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBzZXVkb0xvY2FsZVN0cmluZ0J1bmRsZTtcbn1cblxuXG4vKipcbiAqIExvY2FsaXphdGlvbiBzZXJ2aWNlLlxuICovXG5leHBvcnQgY2xhc3MgTG9jYWxpemF0aW9uU2VydmljZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgY29uc3Qgcm9vdEVsID0gd2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5yb290TGFuZ3VhZ2VDb2Rlc18gPSB0aGlzLmdldExhbmd1YWdlQ29kZXNGb3JFbGVtZW50Xyhyb290RWwpO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXBwaW5nIG9mIGxhbmd1YWdlIGNvZGUgdG8gbG9jYWxpemVkIHN0cmluZyBidW5kbGUuXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZj59XG4gICAgICovXG4gICAgdGhpcy5sb2NhbGl6ZWRTdHJpbmdCdW5kbGVzXyA9IHt9O1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldExhbmd1YWdlQ29kZXNGb3JFbGVtZW50XyhlbGVtZW50KSB7XG4gICAgY29uc3QgbGFuZ3VhZ2VFbCA9IGNsb3Nlc3QoZWxlbWVudCwgZWwgPT4gZWwuaGFzQXR0cmlidXRlKCdsYW5nJykpO1xuICAgIGNvbnN0IGxhbmd1YWdlQ29kZSA9IGxhbmd1YWdlRWwgPyBsYW5ndWFnZUVsLmdldEF0dHJpYnV0ZSgnbGFuZycpIDogbnVsbDtcbiAgICByZXR1cm4gZ2V0TGFuZ3VhZ2VDb2Rlc0Zyb21TdHJpbmcobGFuZ3VhZ2VDb2RlIHx8ICcnKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZUNvZGUgVGhlIGxhbmd1YWdlIGNvZGUgdG8gYXNzb2NpYXRlIHdpdGggdGhlXG4gICAqICAgICBzcGVjaWZpZWQgbG9jYWxpemVkIHN0cmluZyBidW5kbGUuXG4gICAqIEBwYXJhbSB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn0gbG9jYWxpemVkU3RyaW5nQnVuZGxlIFRoZSBsb2NhbGl6ZWRcbiAgICogICAgIHN0cmluZyBidW5kbGUgdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4geyFMb2NhbGl6YXRpb25TZXJ2aWNlfSBGb3IgY2hhaW5pbmcuXG4gICAqL1xuICByZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZShsYW5ndWFnZUNvZGUsIGxvY2FsaXplZFN0cmluZ0J1bmRsZSkge1xuICAgIGlmICghdGhpcy5sb2NhbGl6ZWRTdHJpbmdCdW5kbGVzX1tsYW5ndWFnZUNvZGVdKSB7XG4gICAgICB0aGlzLmxvY2FsaXplZFN0cmluZ0J1bmRsZXNfW2xhbmd1YWdlQ29kZV0gPSB7fTtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMubG9jYWxpemVkU3RyaW5nQnVuZGxlc19bbGFuZ3VhZ2VDb2RlXSxcbiAgICAgICAgbG9jYWxpemVkU3RyaW5nQnVuZGxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUxvY2FsaXplZFN0cmluZ0lkfSBMb2NhbGl6ZWRTdHJpbmdJZFxuICAgKiBAcGFyYW0geyFFbGVtZW50PX0gZWxlbWVudFRvVXNlIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBzdHJpbmcgd2lsbCBiZVxuICAgKiAgICAgdXNlZC4gIFRoZSBsYW5ndWFnZSBpcyBiYXNlZCBvbiB0aGUgbGFuZ3VhZ2UgYXQgdGhhdCBwYXJ0IG9mIHRoZVxuICAgKiAgICAgZG9jdW1lbnQuICBJZiB1bnNwZWNpZmllZCwgd2lsbCB1c2UgdGhlIGRvY3VtZW50LWxldmVsIGxhbmd1YWdlLCBpZlxuICAgKiAgICAgb25lIGV4aXN0cywgb3IgdGhlIGRlZmF1bHQgb3RoZXJ3aXNlLlxuICAgKi9cbiAgZ2V0TG9jYWxpemVkU3RyaW5nKExvY2FsaXplZFN0cmluZ0lkLCBlbGVtZW50VG9Vc2UgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBsYW5ndWFnZUNvZGVzID0gZWxlbWVudFRvVXNlID9cbiAgICAgIHRoaXMuZ2V0TGFuZ3VhZ2VDb2Rlc0ZvckVsZW1lbnRfKGVsZW1lbnRUb1VzZSkgOlxuICAgICAgdGhpcy5yb290TGFuZ3VhZ2VDb2Rlc187XG5cbiAgICByZXR1cm4gZmluZExvY2FsaXplZFN0cmluZyh0aGlzLmxvY2FsaXplZFN0cmluZ0J1bmRsZXNfLCBsYW5ndWFnZUNvZGVzLFxuICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2dMZXZlbCwgZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3Njb3BlZFF1ZXJ5U2VsZWN0b3JBbGx9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHt0cnlSZXNvbHZlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcHJvbWlzZSc7XG5cblxuLyoqIEB0eXBlZGVmIHtmdW5jdGlvbighRWxlbWVudCk6IChib29sZWFufCFQcm9taXNlPGJvb2xlYW4+KX0gKi9cbmxldCBFbGVtZW50UHJlZGljYXRlRGVmO1xuXG4vKipcbiAqIEEgbG9nIHR5cGUgaXMgYW4gYWJzdHJhY3QgcnVsZSBvciBiZXN0IHByYWN0aWNlIHRoYXQgc2hvdWxkIGJlIGZvbGxvd2VkIHdoZW5cbiAqIGNvbnN0cnVjdGluZyBhIHN0b3J5LiAgVGhpcyBpcyBpbnRlcm5hbCB0byB0aGlzIGZpbGUsIHdoaWNoIGhhbmRsZXMgZmluZGluZ1xuICogc3BlY2lmaWMgaW5zdGFuY2VzIG9mIHRoZXNlIGxvZyB0eXBlcywgYW5kIHJldHVybmluZyB0aGVtIGFzIGxvZyBlbnRyaWVzLlxuICpcbiAqIG1lc3NhZ2U6IChyZXF1aXJlZCkgVGhlIG1lc3NhZ2Ugc2hvd24gdG8gZGV2ZWxvcGVycyBpbiBkZXZlbG9wbWVudCBtb2RlIGlmXG4gKiAgICAgdGhlIGJlc3QgcHJhY3RpY2UgaXMgbm90IGZvbGxvd2VkLlxuICogbGV2ZWw6IChyZXF1aXJlZCkgVGhlIGxvZyBsZXZlbCBhdCB3aGljaCB0aGlzIGVudHJ5IHNob3VsZCBiZSBsb2dnZWQuXG4gKiBtb3JlSW5mbzogKG9wdGlvbmFsKSBBIFVSTCB0byBhIHBhZ2UgY29udGFpbmluZyBhZGRpdGlvbmFsIGRvY3VtZW50YXRpb24gb25cbiAqICAgICB0aGUgYmVzdCBwcmFjdGljZS5cbiAqIHNlbGVjdG9yOiAob3B0aW9uYWwpIEEgc2VsZWN0b3IgdG8gYmUgcXVlcmllZCBvbiB0aGUgY3VycmVudGx5LWFjdGl2ZSBwYWdlLFxuICogICAgIGFuZCB3aG9zZSByZXN1bHRzIHdpbGwgYmUgc3ViamVjdCB0byB0aGUgYmVzdCBwcmFjdGljZSAoZ2l2ZW4gdGhhdCB0aGV5XG4gKiAgICAgYWxzbyBtYXRjaCB0aGUgcHJlY29uZGl0aW9uKS4gIElmIHVuc3BlY2lmaWVkLCB0aGUgYW1wLXN0b3J5LXBhZ2UgaXRzZWxmXG4gKiAgICAgaXMgYXNzdW1lZCB0byBiZSBzdWJqZWN0IHRvIHRoZSBiZXN0IHByYWN0aWNlLlxuICogcHJlY29uZGl0aW9uOiAob3B0aW9uYWwpIEEgcHJlZGljYXRlIHRoYXQgdGFrZXMgYW4gZWxlbWVudCBhbmQgcmV0dXJucyB0cnVlXG4gKiAgICAgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IHNob3VsZCBiZSBzdWJqZWN0IHRvIHRoZSBiZXN0IHByYWN0aWNlLiAgSWZcbiAqICAgICB1bnNwZWNpZmllZCwgYWxsIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yIGFyZSBzdWJqZWN0IHRvIHRoZSBiZXN0XG4gKiAgICAgcHJhY3RpY2UuXG4gKiBwcmVkaWNhdGU6IChvcHRpb25hbCkgQSBwcmVkaWNhdGUgdGhhdCB0YWtlcyBhbiBlbGVtZW50IGFuZCByZXR1cm5zIHRydWUgaWZcbiAqICAgICB0aGUgZWxlbWVudCBmb2xsb3dzIHRoZSBiZXN0IHByYWN0aWNlLCBvciBmYWxzZSBvdGhlcndpc2UuICBJZlxuICogICAgIHVuc3BlY2lmaWVkLCBhbGwgZWxlbWVudHMgYXJlIGFzc3VtZWQgbm90IHRvIGZvbGxvdyB0aGUgYmVzdCBwcmFjdGljZS5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICBtZXNzYWdlOiBzdHJpbmcsXG4gKiAgIGxldmVsOiAhTG9nTGV2ZWwsXG4gKiAgIG1vcmVJbmZvOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHNlbGVjdG9yOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHByZWNvbmRpdGlvbjogKCFFbGVtZW50UHJlZGljYXRlRGVmfHVuZGVmaW5lZCksXG4gKiAgIHByZWRpY2F0ZTogKCFFbGVtZW50UHJlZGljYXRlRGVmfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5sZXQgQW1wU3RvcnlMb2dUeXBlRGVmO1xuXG5cbi8qKlxuICogQSBsb2cgZW50cnkgaXMgYSBtb3JlIGNvbmNyZXRlIHZlcnNpb24gb2YgYSBydWxlIG9yIGJlc3QgcHJhY3RpY2U7IGl0IHJlZmVyc1xuICogdG8gd2hldGhlciBhIHNwZWNpZmljIGVsZW1lbnQgb24gYSBzcGVjaWZpYyBwYWdlIG9mIGEgc3BlY2lmaWMgc3RvcnkgY29uZm9ybXNcbiAqIHRvIGEgZ2l2ZW4gYmVzdCBwcmFjdGljZS5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICBlbGVtZW50OiAhRWxlbWVudCxcbiAqICAgcm9vdEVsZW1lbnQ6ICFFbGVtZW50LFxuICogICBtZXNzYWdlOiBzdHJpbmcsXG4gKiAgIGxldmVsOiAhTG9nTGV2ZWwsXG4gKiAgIGNvbmZvcm1zOiBib29sZWFuLFxuICogICBtb3JlSW5mbzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBBbXBTdG9yeUxvZ0VudHJ5RGVmO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFNUFBST0pFQ1RfRE9DUyA9ICdodHRwczovL3d3dy5hbXBwcm9qZWN0Lm9yZy9kb2NzJztcblxuXG4vKipcbiAqIEBwYXJhbSAgeyFIVE1MTWVkaWFFbGVtZW50fSBlbFxuICogQHJldHVybiB7IVByb21pc2U8SW1hZ2U+fVxuICovXG5mdW5jdGlvbiBnZXRQb3N0ZXJGcm9tVmlkZW8oZWwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBwb3N0ZXIgPSBuZXcgSW1hZ2UoKTtcbiAgICBwb3N0ZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShwb3N0ZXIpO1xuICAgIHBvc3Rlci5vbmVycm9yID0gcmVqZWN0O1xuICAgIHBvc3Rlci5zcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ3Bvc3RlcicpO1xuICB9KTtcbn1cblxuLyoqIEBlbnVtIHshQW1wU3RvcnlMb2dUeXBlRGVmfSAqL1xuY29uc3QgTG9nVHlwZSA9IHtcbiAgLyoqIEVycm9ycyAqL1xuICBWSURFT1NfUE9TVEVSX1NQRUNJRklFRDoge1xuICAgIG1lc3NhZ2U6ICdWaWRlb3Mgc2hvdWxkIHNwZWNpZnkgYSBwb3N0ZXIgaW1hZ2UuJyxcbiAgICBtb3JlSW5mbzogQU1QUFJPSkVDVF9ET0NTICsgJy9yZWZlcmVuY2UvY29tcG9uZW50cy9hbXAtdmlkZW8jcG9zdGVyJyxcbiAgICBzZWxlY3RvcjogJ3ZpZGVvOm5vdChbcG9zdGVyXSknLFxuICAgIGxldmVsOiBMb2dMZXZlbC5FUlJPUixcbiAgfSxcblxuICAvKiogV2FybmluZ3MgKi9cbiAgSU1BR0VTX01BWF83MjBQX09SX1NSQ1NFVDoge1xuICAgIG1lc3NhZ2U6ICdJbWFnZXMgc2hvdWxkIG5vdCBiZSBsYXJnZXIgdGhhbiA3MjBwLiAgSWYgeW91IHdpc2ggdG8gdXNlJyArXG4gICAgICAgICcgaW1hZ2VzIHRoYXQgYXJlIGxhcmdlciB0aGFuIDcyMHAsIHlvdSBzaG91bGQgc3BlY2lmeSBhIHNyY3NldC4nLFxuICAgIG1vcmVJbmZvOiBBTVBQUk9KRUNUX0RPQ1MgKyAnL2d1aWRlcy9yZXNwb25zaXZlL2FydF9kaXJlY3Rpb24jc3Jjc2V0JyxcbiAgICBzZWxlY3RvcjogJ2ltZzpub3QoW3NyY3NldF0pJyxcbiAgICBwcmVkaWNhdGU6IGVsID0+IGVsLm5hdHVyYWxXaWR0aCA8PSA3MjAgJiYgZWwubmF0dXJhbEhlaWdodCA8PSAxMjgwLFxuICAgIGxldmVsOiBMb2dMZXZlbC5XQVJOLFxuICB9LFxuXG4gIElNQUdFU19QT1JUUkFJVDoge1xuICAgIG1lc3NhZ2U6ICdGdWxsLWJsZWVkIGltYWdlcyBzaG91bGQgYmUgaW4gcG9ydHJhaXQgb3JpZW50YXRpb24uJyxcbiAgICBzZWxlY3RvcjogJ2FtcC1zdG9yeS1ncmlkLWxheWVyW3RlbXBsYXRlPVwiZmlsbFwiXSA+IGFtcC1pbWcgPiBpbWcnLFxuICAgIHByZWRpY2F0ZTogZWwgPT4gZWwubmF0dXJhbFdpZHRoIDwgZWwubmF0dXJhbEhlaWdodCxcbiAgICBsZXZlbDogTG9nTGV2ZWwuV0FSTixcbiAgfSxcblxuICBWSURFT1NfTUFYXzcyMFA6IHtcbiAgICBtZXNzYWdlOiAnVmlkZW9zIHNob3VsZCBub3QgYmUgbGFyZ2VyIHRoYW4gNzIwcC4nLFxuICAgIHNlbGVjdG9yOiAndmlkZW8nLFxuICAgIHByZWRpY2F0ZTogZWwgPT4gZWwudmlkZW9XaWR0aCA8PSA3MjAgJiYgZWwudmlkZW9IZWlnaHQgPD0gMTI4MCxcbiAgICBsZXZlbDogTG9nTGV2ZWwuV0FSTixcbiAgfSxcblxuICBWSURFT1NfUE9SVFJBSVQ6IHtcbiAgICBtZXNzYWdlOiAnRnVsbC1ibGVlZCB2aWRlb3Mgc2hvdWxkIGJlIGluIHBvcnRyYWl0IG9yaWVudGF0aW9uLicsXG4gICAgc2VsZWN0b3I6ICdhbXAtc3RvcnktZ3JpZC1sYXllclt0ZW1wbGF0ZT1cImZpbGxcIl0gPiBhbXAtdmlkZW8gPiB2aWRlbycsXG4gICAgcHJlZGljYXRlOiBlbCA9PiBlbC52aWRlb1dpZHRoIDwgZWwudmlkZW9IZWlnaHQsXG4gICAgbGV2ZWw6IExvZ0xldmVsLldBUk4sXG4gIH0sXG5cbiAgVklERU9fUE9TVEVSX01BWF83MjBQOiB7XG4gICAgbWVzc2FnZTogJ1ZpZGVvIHBvc3RlciBpbWFnZXMgc2hvdWxkIG5vdCBiZSBsYXJnZXIgdGhhbiA3MjBwLicsXG4gICAgc2VsZWN0b3I6ICd2aWRlb1twb3N0ZXJdJyxcbiAgICBwcmVkaWNhdGU6IGVsID0+IGdldFBvc3RlckZyb21WaWRlbyhlbClcbiAgICAgICAgLnRoZW4ocG9zdGVyID0+IHtcbiAgICAgICAgICByZXR1cm4gcG9zdGVyLm5hdHVyYWxXaWR0aCA8PSA3MjAgJiYgcG9zdGVyLm5hdHVyYWxIZWlnaHQgPD0gMTI4MDtcbiAgICAgICAgfSksXG4gICAgbGV2ZWw6IExvZ0xldmVsLldBUk4sXG4gIH0sXG5cbiAgVklERU9fUE9TVEVSX1BPVFJBSVQ6IHtcbiAgICBtZXNzYWdlOiAnUG9zdGVyIGltYWdlcyBmb3IgZnVsbC1ibGVlZCB2aWRlb3Mgc2hvdWxkIGJlIGluIHBvcnRyYWl0ICcgK1xuICAgICAgICAnb3JpZW50YXRpb24uJyxcbiAgICBzZWxlY3RvcjogJ2FtcC1zdG9yeS1ncmlkLWxheWVyW3RlbXBsYXRlPVwiZmlsbFwiXSA+IGFtcC12aWRlbyA+ICcgK1xuICAgICAgICAndmlkZW9bcG9zdGVyXScsXG4gICAgcHJlZGljYXRlOiBlbCA9PiBnZXRQb3N0ZXJGcm9tVmlkZW8oZWwpXG4gICAgICAgIC50aGVuKHBvc3RlciA9PiBwb3N0ZXIubmF0dXJhbFdpZHRoIDwgcG9zdGVyLm5hdHVyYWxIZWlnaHQpLFxuICAgIGxldmVsOiBMb2dMZXZlbC5XQVJOLFxuICB9LFxufTtcblxuXG4vKipcbiAqIEdldHMgdGhlIGxvZyB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2dUeXBlS2V5XG4gKiBAcmV0dXJuIHshQW1wU3RvcnlMb2dUeXBlRGVmfVxuICovXG5mdW5jdGlvbiBnZXRMb2dUeXBlKGxvZ1R5cGVLZXkpIHtcbiAgY29uc3QgbG9nVHlwZSA9IExvZ1R5cGVbbG9nVHlwZUtleV07XG4gIGRldigpLmFzc2VydChsb2dUeXBlLCBgVGhlcmUgaXMgbm8gbG9nIHR5cGUgXCIke2xvZ1R5cGVLZXl9XCIuYCk7XG4gIGRldigpLmFzc2VydChsb2dUeXBlLm1lc3NhZ2UsXG4gICAgICBgTG9nIHR5cGUgXCIke2xvZ1R5cGVLZXl9XCIgaGFzIG5vIGFzc29jaWF0ZWQgbWVzc2FnZS5gKTtcbiAgZGV2KCkuYXNzZXJ0KGxvZ1R5cGUubGV2ZWwsXG4gICAgICBgTG9nIHR5cGUgXCIke2xvZ1R5cGVLZXl9XCIgaGFzIG5vIGFzc29jaWF0ZWQgbG9nIGxldmVsLmApO1xuXG4gIHJldHVybiBsb2dUeXBlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gcm9vdEVsZW1lbnRcbiAqIEBwYXJhbSB7IUFtcFN0b3J5TG9nVHlwZURlZn0gbG9nVHlwZVxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7IVByb21pc2U8IUFtcFN0b3J5TG9nRW50cnlEZWY+fVxuICovXG5mdW5jdGlvbiBnZXRMb2dFbnRyeShyb290RWxlbWVudCwgbG9nVHlwZSwgZWxlbWVudCkge1xuICBjb25zdCBwcmVkaWNhdGUgPSBsb2dUeXBlLnByZWRpY2F0ZSB8fCAodW51c2VkRWwgPT4gZmFsc2UpO1xuXG4gIHJldHVybiB0cnlSZXNvbHZlKCgpID0+IHByZWRpY2F0ZShlbGVtZW50KSlcbiAgICAgIC50aGVuKGNvbmZvcm1zID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGljdCh7XG4gICAgICAgICAgICAncm9vdEVsZW1lbnQnOiByb290RWxlbWVudCxcbiAgICAgICAgICAgICdlbGVtZW50JzogZWxlbWVudCxcbiAgICAgICAgICAgICdjb25mb3Jtcyc6IGNvbmZvcm1zLFxuICAgICAgICAgICAgJ2xldmVsJzogbG9nVHlwZS5sZXZlbCxcbiAgICAgICAgICAgICdtZXNzYWdlJzogbG9nVHlwZS5tZXNzYWdlLFxuICAgICAgICAgICAgJ21vcmVJbmZvJzogbG9nVHlwZS5tb3JlSW5mbyxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSByb290RWxlbWVudFxuICogQHBhcmFtIHshQW1wU3RvcnlMb2dUeXBlRGVmfSBsb2dUeXBlXG4gKiBAcmV0dXJuIHshQXJyYXk8IVByb21pc2U8IUFtcFN0b3J5TG9nRW50cnlEZWY+Pn1cbiAqL1xuZnVuY3Rpb24gZ2V0TG9nRW50cmllc0ZvclR5cGUocm9vdEVsZW1lbnQsIGxvZ1R5cGUpIHtcbiAgY29uc3QgcHJlY29uZGl0aW9uID0gbG9nVHlwZS5wcmVjb25kaXRpb24gfHwgKHVudXNlZEVsID0+IHRydWUpO1xuXG4gIGNvbnN0IGVsZW1lbnRzID0gbG9nVHlwZS5zZWxlY3RvciA/XG4gICAgW10uc2xpY2UuY2FsbChzY29wZWRRdWVyeVNlbGVjdG9yQWxsKHJvb3RFbGVtZW50LCBsb2dUeXBlLnNlbGVjdG9yKSkgOlxuICAgIFtyb290RWxlbWVudF07XG5cbiAgcmV0dXJuIGVsZW1lbnRzXG4gICAgICAuZmlsdGVyKHByZWNvbmRpdGlvbilcbiAgICAgIC5tYXAoZ2V0TG9nRW50cnkuYmluZCgvKiogdGhpc0FyZyAqLyBudWxsLCByb290RWxlbWVudCwgbG9nVHlwZSkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUFtcFN0b3J5TG9nRW50cnlEZWZ9IGxvZ0VudHJ5QVxuICogQHBhcmFtIHshQW1wU3RvcnlMb2dFbnRyeURlZn0gbG9nRW50cnlCXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGxvZ0VudHJ5Q29tcGFyZUZuKGxvZ0VudHJ5QSwgbG9nRW50cnlCKSB7XG4gIGlmIChsb2dFbnRyeUEuY29uZm9ybXMgPT0gbG9nRW50cnlCLmNvbmZvcm1zKSB7XG4gICAgLy8gRm9yIGVudHJpZXMgd2l0aGluIHRoYXQgYXJlIGFsbCBjb25mb3JtYW50IG9yIGFsbCBub24tY29uZm9ybWFudCwgc29ydCBieVxuICAgIC8vIGxvZyBsZXZlbCwgd2l0aCBtb3N0IHNldmVyZSBlbnRyaWVzIGZpcnN0IGFuZCBsZWFzdCBzZXZlcmUgZW50cmllcyBsYXN0LlxuICAgIHJldHVybiBsb2dFbnRyeUEubGV2ZWwgPD0gbG9nRW50cnlCLmxldmVsID8gLTEgOiAxO1xuICB9IGVsc2Uge1xuICAgIC8vIGZhbHNlIDwgdHJ1ZSwgc28gbm9uLWNvbmZvcm1hbnQgaXNzdWVzIGdvIGJlZm9yZSBjb25mb3JtYW50IG9uZXMuXG4gICAgcmV0dXJuIGxvZ0VudHJ5QS5jb25mb3JtcyA8IGxvZ0VudHJ5Qi5jb25mb3JtcyA/IC0xIDogMTtcbiAgfVxufVxuXG5cbi8qKlxuICogR2V0cyBhIHByb21pc2Ugd2hpY2ggeWllbGRzIGEgbGlzdCBvZiBsb2cgZW50cmllcyBmb3IgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gcm9vdEVsZW1lbnRcbiAqIEByZXR1cm4geyFQcm9taXNlPCFBcnJheTwhQW1wU3RvcnlMb2dFbnRyeURlZj4+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nRW50cmllcyhyb290RWxlbWVudCkge1xuICBjb25zdCBsb2dFbnRyeVByb21pc2VzID0gT2JqZWN0LmtleXMoTG9nVHlwZSkucmVkdWNlKChlbnRyaWVzLCBrZXkpID0+IHtcbiAgICBjb25zdCBsb2dUeXBlID0gZ2V0TG9nVHlwZShrZXkpO1xuICAgIGNvbnN0IG5ld0VudHJpZXMgPSBnZXRMb2dFbnRyaWVzRm9yVHlwZShyb290RWxlbWVudCwgbG9nVHlwZSk7XG4gICAgcmV0dXJuIGVudHJpZXMuY29uY2F0KG5ld0VudHJpZXMpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKGxvZ0VudHJ5UHJvbWlzZXMpXG4gICAgICAudGhlbihsb2dFbnRyaWVzID0+IHtcbiAgICAgICAgcmV0dXJuIGxvZ0VudHJpZXMuc29ydChsb2dFbnRyeUNvbXBhcmVGbik7XG4gICAgICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0JMQU5LX0FVRElPX1NSQywgQkxBTktfVklERU9fU1JDfSBmcm9tICcuL2RlZmF1bHQtbWVkaWEnO1xuaW1wb3J0IHtcbiAgQmxlc3NUYXNrLFxuICBFTEVNRU5UX0JMRVNTRURfUFJPUEVSVFlfTkFNRSxcbiAgTG9hZFRhc2ssXG4gIE11dGVUYXNrLFxuICBQYXVzZVRhc2ssXG4gIFBsYXlUYXNrLFxuICBSZXdpbmRUYXNrLFxuICBTd2FwSW50b0RvbVRhc2ssXG4gIFN3YXBPdXRPZkRvbVRhc2ssXG4gIFVubXV0ZVRhc2ssXG4gIFVwZGF0ZVNvdXJjZXNUYXNrLFxufSBmcm9tICcuL21lZGlhLXRhc2tzJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1NvdXJjZXN9IGZyb20gJy4vc291cmNlcyc7XG5pbXBvcnQge2FtcE1lZGlhRWxlbWVudEZvcn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2ZpbmRJbmRleH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL2FycmF5JztcbmltcG9ydCB7aXNDb25uZWN0ZWROb2RlfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7dG9XaW59IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5cblxuLyoqIEBjb25zdCBAZW51bSB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IE1lZGlhVHlwZSA9IHtcbiAgVU5TVVBQT1JURUQ6ICd1bnN1cHBvcnRlZCcsXG4gIEFVRElPOiAnYXVkaW8nLFxuICBWSURFTzogJ3ZpZGVvJyxcbn07XG5cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBkaXN0YW5jZSBvZiBhbiBlbGVtZW50IGZyb20gdGhlIGN1cnJlbnQgcGxhY2UgaW4gdGhlIGRvY3VtZW50LlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKCFIVE1MTWVkaWFFbGVtZW50KTogbnVtYmVyfVxuICovXG5leHBvcnQgbGV0IEVsZW1lbnREaXN0YW5jZUZuRGVmO1xuXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHRhc2sgdG8gYmUgZXhlY3V0ZWQgb24gYSBtZWRpYSBlbGVtZW50LlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKCFIVE1MTWVkaWFFbGVtZW50LCAqKTogIVByb21pc2V9XG4gKi9cbmxldCBFbGVtZW50VGFza0RlZjtcblxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBET01fTUVESUFfRUxFTUVOVF9JRF9QUkVGSVggPSAnaS1hbXBodG1sLW1lZGlhLSc7XG5cblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgUE9PTF9NRURJQV9FTEVNRU5UX1BST1BFUlRZX05BTUUgPSAnX19BTVBfTUVESUFfUE9PTF9JRF9fJztcblxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBFTEVNRU5UX1RBU0tfUVVFVUVfUFJPUEVSVFlfTkFNRSA9ICdfX0FNUF9NRURJQV9FTEVNRU5UX1RBU0tTX18nO1xuXG5cbi8qKlxuICogVGhlIG5hbWUgZm9yIGEgc3RyaW5nIGF0dHJpYnV0ZSB0aGF0IHJlcHJlc2VudHMgdGhlIElEIG9mIGEgbWVkaWEgZWxlbWVudFxuICogdGhhdCB0aGUgZWxlbWVudCBjb250YWluaW5nIHRoaXMgYXR0cmlidXRlIHJlcGxhY2VkLlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBSRVBMQUNFRF9NRURJQV9QUk9QRVJUWV9OQU1FID0gJ3JlcGxhY2VkLW1lZGlhJztcblxuXG4vKipcbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU1lZGlhUG9vbD59XG4gKi9cbmNvbnN0IGluc3RhbmNlcyA9IHt9O1xuXG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqL1xubGV0IG5leHRJbnN0YW5jZUlkID0gMDtcblxuXG5sZXQgZWxJZCA9IDA7XG5cblxuLyoqXG4gKiBNZWRpYSBwb29sIGNsYXNzLCBwcm92aWRpbmcgYW4gb3B0aW1pemVkIGFuZCBjcm9zcyBicm93c2VyIGludGVyZmFjZSB0b1xuICogaGFuZGxlIEhUTUxNZWRpYUVsZW1lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgTWVkaWFQb29sIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luIFRoZSB3aW5kb3cgb2JqZWN0LlxuICAgKiBAcGFyYW0geyFPYmplY3Q8IU1lZGlhVHlwZSwgbnVtYmVyPn0gbWF4Q291bnRzIFRoZSBtYXhpbXVtIGFtb3VudCBvZiBlYWNoXG4gICAqICAgICBtZWRpYSBlbGVtZW50IHRoYXQgY2FuIGJlIGFsbG9jYXRlZCBieSB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHshRWxlbWVudERpc3RhbmNlRm5EZWZ9IGRpc3RhbmNlRm4gQSBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhblxuICAgKiAgICAgZWxlbWVudCwgcmV0dXJucyB0aGUgZGlzdGFuY2Ugb2YgdGhhdCBlbGVtZW50IGZyb20gdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICogICAgIGluIHRoZSBkb2N1bWVudC4gIFRoZSBkZWZpbml0aW9uIG9mIFwiZGlzdGFuY2VcIiBjYW4gYmUgaW1wbGVtZW50YXRpb24tXG4gICAqICAgICBkZXBlbmRhbnQsIGFzIGxvbmcgYXMgaXQgaXMgY29uc2lzdGVudCBiZXR3ZWVuIGludm9jYXRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBtYXhDb3VudHMsIGRpc3RhbmNlRm4pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3Iod2luKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGFuIGVsZW1lbnQgYW5kIHRoZVxuICAgICAqIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnREaXN0YW5jZUZuRGVmfVxuICAgICAqL1xuICAgIHRoaXMuZGlzdGFuY2VGbl8gPSBkaXN0YW5jZUZuO1xuXG4gICAgLyoqXG4gICAgICogSG9sZHMgYWxsIG9mIHRoZSBtZWRpYSBlbGVtZW50cyB0aGF0IGhhdmUgYmVlbiBhbGxvY2F0ZWQuXG4gICAgICogQGNvbnN0IHshT2JqZWN0PCFNZWRpYVR5cGUsICFBcnJheTwhSFRNTE1lZGlhRWxlbWVudD4+fVxuICAgICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgICAqL1xuICAgIHRoaXMuYWxsb2NhdGVkID0ge307XG5cbiAgICAvKipcbiAgICAgKiBIb2xkcyBhbGwgb2YgdGhlIG1lZGlhIGVsZW1lbnRzIHRoYXQgaGF2ZSBub3QgYmVlbiBhbGxvY2F0ZWQuXG4gICAgICogQGNvbnN0IHshT2JqZWN0PCFNZWRpYVR5cGUsICFBcnJheTwhSFRNTE1lZGlhRWxlbWVudD4+fVxuICAgICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgICAqL1xuICAgIHRoaXMudW5hbGxvY2F0ZWQgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgYSBtZWRpYSBlbGVtZW50J3MgSUQgdG8gdGhlIG9iamVjdCBjb250YWluaW5nIGl0cyBzb3VyY2VzLlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFTb3VyY2VzPn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZXNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIGEgbWVkaWEgZWxlbWVudCdzIElEIHRvIHRoZSBlbGVtZW50LiAgVGhpcyBpcyBuZWNlc3NhcnksIGFzIGVsZW1lbnRzXG4gICAgICogYXJlIGtlcHQgaW4gbWVtb3J5IHdoZW4gdGhleSBhcmUgc3dhcHBlZCBvdXQgb2YgdGhlIERPTS5cbiAgICAgKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhSFRNTE1lZGlhRWxlbWVudD59XG4gICAgICovXG4gICAgdGhpcy5kb21NZWRpYUVsc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIENvdW50ZXIgdXNlZCB0byBwcm9kdWNlIHVuaXF1ZSBJRHMgZm9yIG1lZGlhIGVsZW1lbnRzLlxuICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZENvdW50ZXJfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIG1lZGlhIGVsZW1lbnRzIGluIHRoaXMgTWVkaWFQb29sIGluc3RhbmNlIGhhdmUgYmVlbiBcImJsZXNzZWRcIlxuICAgICAqIGZvciB1bm11dGVkIHBsYXliYWNrIHdpdGhvdXQgdXNlciBnZXN0dXJlLlxuICAgICAqIEBwcml2YXRlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuYmxlc3NlZF8gPSBmYWxzZTtcblxuICAgIC8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAoZnVuY3Rpb24oKTogIUhUTUxNZWRpYUVsZW1lbnQpPn0gKi9cbiAgICB0aGlzLm1lZGlhRmFjdG9yeV8gPSB7XG4gICAgICBbTWVkaWFUeXBlLkFVRElPXTogKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0VsID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgIGF1ZGlvRWwuc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgICAgICAgYXVkaW9FbC5tdXRlZCA9IHRydWU7XG4gICAgICAgIGF1ZGlvRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXBvb2wtbWVkaWEnKTtcbiAgICAgICAgYXVkaW9FbC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtcG9vbC1hdWRpbycpO1xuICAgICAgICByZXR1cm4gYXVkaW9FbDtcbiAgICAgIH0sXG4gICAgICBbTWVkaWFUeXBlLlZJREVPXTogKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWRlb0VsID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIHZpZGVvRWwuc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgICAgICAgdmlkZW9FbC5tdXRlZCA9IHRydWU7XG4gICAgICAgIHZpZGVvRWwuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgdmlkZW9FbC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtcG9vbC1tZWRpYScpO1xuICAgICAgICB2aWRlb0VsLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1wb29sLXZpZGVvJyk7XG4gICAgICAgIHJldHVybiB2aWRlb0VsO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0aWFsaXplTWVkaWFQb29sXyhtYXhDb3VudHMpO1xuICB9XG5cblxuICAvKipcbiAgICogRmlsbHMgdGhlIG1lZGlhIHBvb2wgYnkgY3JlYXRpbmcgdGhlIG1heGltdW0gbnVtYmVyIG9mIG1lZGlhIGVsZW1lbnRzIGZvclxuICAgKiBlYWNoIG9mIHRoZSB0eXBlcyBvZiBtZWRpYSBlbGVtZW50cy4gIFdlIG5lZWQgdG8gY3JlYXRlIHRoZXNlIGVhZ2VybHkgc29cbiAgICogdGhhdCBhbGwgbWVkaWEgZWxlbWVudHMgZXhpc3QgYnkgdGhlIHRpbWUgdGhhdCBibGVzc0FsbCgpIGlzIGludm9rZWQsXG4gICAqIHRoZXJlYnkgXCJibGVzc2luZ1wiIGFsbCBtZWRpYSBlbGVtZW50cyBmb3IgcGxheWJhY2sgd2l0aG91dCB1c2VyIGdlc3R1cmUuXG4gICAqIEBwYXJhbSB7IU9iamVjdDwhTWVkaWFUeXBlLCBudW1iZXI+fSBtYXhDb3VudHMgVGhlIG1heGltdW0gYW1vdW50IG9mIGVhY2hcbiAgICogICAgIG1lZGlhIGVsZW1lbnQgdGhhdCBjYW4gYmUgYWxsb2NhdGVkIGJ5IHRoZSBwb29sLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZU1lZGlhUG9vbF8obWF4Q291bnRzKSB7XG4gICAgdGhpcy5mb3JFYWNoTWVkaWFUeXBlXyhrZXkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IE1lZGlhVHlwZVtrZXldO1xuICAgICAgY29uc3QgY291bnQgPSBtYXhDb3VudHNbdHlwZV0gfHwgMDtcblxuICAgICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjdG9yID0gZGV2KCkuYXNzZXJ0KHRoaXMubWVkaWFGYWN0b3J5X1t0eXBlXSxcbiAgICAgICAgICBgRmFjdG9yeSBmb3IgbWVkaWEgdHlwZSBcXGAke3R5cGV9XFxgIHVuc2V0LmApO1xuXG4gICAgICAvLyBDbG9uaW5nIG5vZGVzIGlzIGZhc3RlciB0aGFuIGJ1aWxkaW5nIHRoZW0uXG4gICAgICAvLyBDb25zdHJ1Y3QgYSBzZWVkIG1lZGlhIGVsZW1lbnQgYXMgYSBzbWFsbCBvcHRpbWl6YXRpb24uXG4gICAgICBjb25zdCBtZWRpYUVsU2VlZCA9IGN0b3IuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5hbGxvY2F0ZWRbdHlwZV0gPSBbXTtcbiAgICAgIHRoaXMudW5hbGxvY2F0ZWRbdHlwZV0gPSBbXTtcblxuICAgICAgLy8gUmV2ZXJzZS1sb29waW5nIGlzIGdlbmVyYWxseSBmYXN0ZXIgYW5kIENsb3N1cmUgd291bGQgdXN1YWxseSBtYWtlXG4gICAgICAvLyB0aGlzIG9wdGltaXphdGlvbiBhdXRvbWF0aWNhbGx5LiBIb3dldmVyLCBpdCBza2lwcyBpdCBkdWUgdG8gYVxuICAgICAgLy8gY29tcGFyaXNvbiB3aXRoIHRoZSBpdGVydmFyIGJlbG93LCBzbyB3ZSBoYXZlIHRvIHJvbGwgaXQgYnkgaGFuZC5cbiAgICAgIGZvciAobGV0IGkgPSBjb3VudDsgaSA+IDA7IGktLSkge1xuICAgICAgICBjb25zdCBtZWRpYUVsID0gLyoqIEB0eXBlIHshSFRNTE1lZGlhRWxlbWVudH0gKi9cbiAgICAgICAgICAgIC8vIFVzZSBzZWVkIGVsZW1lbnQgYXQgZW5kIG9mIHNldCB0byBwcmV2ZW50IHdhc3RpbmcgaXQuXG4gICAgICAgICAgICAoaSA9PSAxID8gbWVkaWFFbFNlZWQgOiBtZWRpYUVsU2VlZC5jbG9uZU5vZGUoLyogZGVlcCAqLyB0cnVlKSk7XG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLmdldERlZmF1bHRTb3VyY2VfKHR5cGUpO1xuICAgICAgICBtZWRpYUVsLnNldEF0dHJpYnV0ZSgncG9vbC1lbGVtZW50JywgZWxJZCsrKTtcbiAgICAgICAgdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18obWVkaWFFbCxcbiAgICAgICAgICAgIG5ldyBVcGRhdGVTb3VyY2VzVGFzayhzb3VyY2VzKSk7XG4gICAgICAgIC8vIFRPRE8obmV3bXVpcyk6IENoZWNrIHRoZSAnZXJyb3InIGZpZWxkIHRvIHNlZSBpZiBNRURJQV9FUlJfREVDT0RFXG4gICAgICAgIC8vIGlzIHJldHVybmVkLiAgSWYgc28sIHdlIHNob3VsZCBhZGp1c3QgdGhlIHBvb2wgc2l6ZS9kaXN0cmlidXRpb25cbiAgICAgICAgLy8gYmV0d2VlbiBtZWRpYSB0eXBlcy5cbiAgICAgICAgdGhpcy51bmFsbG9jYXRlZFt0eXBlXS5wdXNoKG1lZGlhRWwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIG1lZGlhIHR5cGUgd2hvc2Ugc291cmNlIHNob3VsZCBiZVxuICAgKiAgICAgcmV0cmlldmVkLlxuICAgKiBAcmV0dXJuIHshU291cmNlc30gVGhlIGRlZmF1bHQgc291cmNlIGZvciB0aGUgc3BlY2lmaWVkIHR5cGUgb2YgbWVkaWEuXG4gICAqL1xuICBnZXREZWZhdWx0U291cmNlXyhtZWRpYVR5cGUpIHtcbiAgICBzd2l0Y2ggKG1lZGlhVHlwZSkge1xuICAgICAgY2FzZSBNZWRpYVR5cGUuQVVESU86XG4gICAgICAgIHJldHVybiBuZXcgU291cmNlcyhCTEFOS19BVURJT19TUkMpO1xuICAgICAgY2FzZSBNZWRpYVR5cGUuVklERU86XG4gICAgICAgIHJldHVybiBuZXcgU291cmNlcyhCTEFOS19WSURFT19TUkMpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZGV2KCkuZXJyb3IoJ0FNUC1TVE9SWScsIGBObyBkZWZhdWx0IG1lZGlhIGZvciB0eXBlICR7bWVkaWFUeXBlfS5gKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2VzKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQ29tcGFyaXNvbiBmdW5jdGlvbiB0aGF0IGNvbXBhcmVzIHRoZSBkaXN0YW5jZSBvZiBlYWNoIGVsZW1lbnQgZnJvbSB0aGVcbiAgICogY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IG1lZGlhQSBUaGUgZmlyc3QgZWxlbWVudCB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUIgVGhlIHNlY29uZCBlbGVtZW50IHRvIGNvbXBhcmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wYXJlTWVkaWFEaXN0YW5jZXNfKG1lZGlhQSwgbWVkaWFCKSB7XG4gICAgY29uc3QgZGlzdGFuY2VBID0gdGhpcy5kaXN0YW5jZUZuXyhtZWRpYUEpO1xuICAgIGNvbnN0IGRpc3RhbmNlQiA9IHRoaXMuZGlzdGFuY2VGbl8obWVkaWFCKTtcbiAgICByZXR1cm4gZGlzdGFuY2VBIDwgZGlzdGFuY2VCID8gLTEgOiAxO1xuICB9XG5cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBBIHVuaXF1ZSBJRC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZURvbU1lZGlhRWxlbWVudElkXygpIHtcbiAgICByZXR1cm4gRE9NX01FRElBX0VMRU1FTlRfSURfUFJFRklYICsgdGhpcy5pZENvdW50ZXJfKys7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbWVkaWEgdHlwZSBmcm9tIGEgZ2l2ZW4gZWxlbWVudC5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gbWVkaWFFbGVtZW50IFRoZSBlbGVtZW50IHdob3NlIG1lZGlhIHR5cGUgc2hvdWxkXG4gICAqICAgICBiZSByZXRyaWV2ZWQuXG4gICAqIEByZXR1cm4geyFNZWRpYVR5cGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRNZWRpYVR5cGVfKG1lZGlhRWxlbWVudCkge1xuICAgIGNvbnN0IHRhZ05hbWUgPSBtZWRpYUVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHN3aXRjaCAodGFnTmFtZSkge1xuICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICByZXR1cm4gTWVkaWFUeXBlLkFVRElPO1xuICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICByZXR1cm4gTWVkaWFUeXBlLlZJREVPO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIE1lZGlhVHlwZS5VTlNVUFBPUlRFRDtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXNlcnZlcyBhbiBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBieSByZW1vdmluZyBpdCBmcm9tIHRoZSBzZXQgb2ZcbiAgICogdW5hbGxvY2F0ZWQgZWxlbWVudHMgYW5kIHJldHVybmluZyBpdC5cbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIHR5cGUgb2YgbWVkaWEgZWxlbWVudCB0byByZXNlcnZlLlxuICAgKiBAcmV0dXJuIHs/SFRNTE1lZGlhRWxlbWVudH0gVGhlIHJlc2VydmVkIGVsZW1lbnQsIGlmIG9uZSBleGlzdHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXNlcnZlVW5hbGxvY2F0ZWRNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSkge1xuICAgIHJldHVybiB0aGlzLnVuYWxsb2NhdGVkW21lZGlhVHlwZV0ucG9wKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG1lZGlhIGVsZW1lbnQgZnJvbSB0aGUgcG9vbCB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZFxuICAgKiBlbGVtZW50LCBpZiBvbmUgZXhpc3RzLlxuICAgKiBAcGFyYW0geyFNZWRpYVR5cGV9IG1lZGlhVHlwZSBUaGUgdHlwZSBvZiBtZWRpYSBlbGVtZW50IHRvIGdldC5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgZWxlbWVudCB3aG9zZSBtYXRjaGluZyBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgKiBAcmV0dXJuIHs/SFRNTE1lZGlhRWxlbWVudH0gVGhlIG1lZGlhIGVsZW1lbnQgaW4gdGhlIHBvb2wgdGhhdCByZXByZXNlbnRzXG4gICAqICAgICB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnRcbiAgICovXG4gIGdldE1hdGNoaW5nTWVkaWFFbGVtZW50RnJvbVBvb2xfKG1lZGlhVHlwZSwgZG9tTWVkaWFFbCkge1xuICAgIGlmICh0aGlzLmlzQWxsb2NhdGVkTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpKSB7XG4gICAgICByZXR1cm4gZG9tTWVkaWFFbDtcbiAgICB9XG5cbiAgICBjb25zdCBhbGxvY2F0ZWRFbHMgPSB0aGlzLmFsbG9jYXRlZFttZWRpYVR5cGVdO1xuICAgIGNvbnN0IGluZGV4ID0gZmluZEluZGV4KGFsbG9jYXRlZEVscywgcG9vbE1lZGlhRWwgPT4ge1xuICAgICAgcmV0dXJuIHBvb2xNZWRpYUVsW1JFUExBQ0VEX01FRElBX1BST1BFUlRZX05BTUVdID09PSBkb21NZWRpYUVsLmlkO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFsbG9jYXRlZEVsc1tpbmRleF07XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBbGxvY2F0ZXMgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIHR5cGUgb2YgbWVkaWEgZWxlbWVudCB0byBhbGxvY2F0ZS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gcG9vbE1lZGlhRWwgVGhlIGVsZW1lbnQgdG8gYmUgYWxsb2NhdGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWxsb2NhdGVNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSwgcG9vbE1lZGlhRWwpIHtcbiAgICB0aGlzLmFsbG9jYXRlZFttZWRpYVR5cGVdLnB1c2gocG9vbE1lZGlhRWwpO1xuXG4gICAgY29uc3QgdW5hbGxvY2F0ZWRFbHMgPSB0aGlzLnVuYWxsb2NhdGVkW21lZGlhVHlwZV07XG4gICAgY29uc3QgaW5kZXhUb1JlbW92ZSA9IHVuYWxsb2NhdGVkRWxzLmluZGV4T2YocG9vbE1lZGlhRWwpO1xuXG4gICAgaWYgKGluZGV4VG9SZW1vdmUgPj0gMCkge1xuICAgICAgdW5hbGxvY2F0ZWRFbHMuc3BsaWNlKGluZGV4VG9SZW1vdmUsIDEpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIERlYWxsb2NhdGVzIGFuZCByZXR1cm5zIHRoZSBtZWRpYSBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBmdXJ0aGVzdFxuICAgKiBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIHR5cGUgb2YgbWVkaWEgZWxlbWVudCB0byBkZWFsbG9jYXRlLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50PX0gb3B0X2VsVG9BbGxvY2F0ZSBJZiBzcGVjaWZpZWQsIHRoZSBlbGVtZW50IHRoYXRcbiAgICogICAgIGlzIHRyeWluZyB0byBiZSBhbGxvY2F0ZWQsIHN1Y2ggdGhhdCBhbm90aGVyIGVsZW1lbnQgbXVzdCBiZSBldmljdGVkLlxuICAgKiBAcmV0dXJuIHs/SFRNTE1lZGlhRWxlbWVudH0gVGhlIGRlYWxsb2NhdGVkIGVsZW1lbnQsIGlmIG9uZSBleGlzdHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWFsbG9jYXRlTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIG9wdF9lbFRvQWxsb2NhdGUpIHtcbiAgICBjb25zdCBhbGxvY2F0ZWRFbHMgPSB0aGlzLmFsbG9jYXRlZFttZWRpYVR5cGVdO1xuXG4gICAgLy8gU29ydCB0aGUgYWxsb2NhdGVkIG1lZGlhIGVsZW1lbnRzIGJ5IGRpc3RhbmNlIHRvIGVuc3VyZSB0aGF0IHdlIGFyZVxuICAgIC8vIGV2aWN0aW5nIHRoZSBtZWRpYSBlbGVtZW50IHRoYXQgaXMgZnVydGhlc3QgZnJvbSB0aGUgY3VycmVudCBwbGFjZSBpbiB0aGVcbiAgICAvLyBkb2N1bWVudC5cbiAgICBhbGxvY2F0ZWRFbHMuc29ydCgoYSwgYikgPT4gdGhpcy5jb21wYXJlTWVkaWFEaXN0YW5jZXNfKGEsIGIpKTtcblxuICAgIC8vIERvIG5vdCBkZWFsbG9jYXRlIGFueSBtZWRpYSBlbGVtZW50cyBpZiB0aGUgZWxlbWVudCBiZWluZyBsb2FkZWQgb3JcbiAgICAvLyBwbGF5ZWQgaXMgZnVydGhlciB0aGFuIHRoZSBmYXJ0aGVzdCBhbGxvY2F0ZWQgZWxlbWVudC5cbiAgICBpZiAob3B0X2VsVG9BbGxvY2F0ZSkge1xuICAgICAgY29uc3QgZnVydGhlc3RFbCA9IGFsbG9jYXRlZEVsc1thbGxvY2F0ZWRFbHMubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoIWZ1cnRoZXN0RWwgfHxcbiAgICAgICAgICB0aGlzLmRpc3RhbmNlRm5fKGZ1cnRoZXN0RWwpIDwgdGhpcy5kaXN0YW5jZUZuXyhvcHRfZWxUb0FsbG9jYXRlKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZS1hbGxvY2F0ZSBhIG1lZGlhIGVsZW1lbnQuXG4gICAgY29uc3QgcG9vbE1lZGlhRWwgPSBhbGxvY2F0ZWRFbHMucG9wKCk7XG4gICAgdGhpcy51bmFsbG9jYXRlZFttZWRpYVR5cGVdLnB1c2gocG9vbE1lZGlhRWwpO1xuICAgIHJldHVybiBwb29sTWVkaWFFbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZvcmNpYmx5IGRlYWxsb2NhdGVzIGEgc3BlY2lmaWMgbWVkaWEgZWxlbWVudCwgcmVnYXJkbGVzcyBvZiBpdHMgZGlzdGFuY2VcbiAgICogZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHBvb2xNZWRpYUVsIFRoZSBlbGVtZW50IHRvIGJlIGRlYWxsb2NhdGVkLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc3BlY2lmaWVkIG1lZGlhXG4gICAqICAgICBlbGVtZW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBkZWFsbG9jYXRlZC5cbiAgICovXG4gIGZvcmNlRGVhbGxvY2F0ZU1lZGlhRWxlbWVudF8ocG9vbE1lZGlhRWwpIHtcbiAgICBjb25zdCBtZWRpYVR5cGUgPSB0aGlzLmdldE1lZGlhVHlwZV8ocG9vbE1lZGlhRWwpO1xuICAgIGNvbnN0IGFsbG9jYXRlZEVscyA9IHRoaXMuYWxsb2NhdGVkW21lZGlhVHlwZV07XG4gICAgY29uc3QgcmVtb3ZlRnJvbURvbSA9IGlzQ29ubmVjdGVkTm9kZShwb29sTWVkaWFFbCkgP1xuICAgICAgdGhpcy5zd2FwUG9vbE1lZGlhRWxlbWVudE91dE9mRG9tXyhwb29sTWVkaWFFbCkgOiBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIHJldHVybiByZW1vdmVGcm9tRG9tLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBhbGxvY2F0ZWRFbHMuaW5kZXhPZihwb29sTWVkaWFFbCk7XG4gICAgICBkZXYoKS5hc3NlcnQoaW5kZXggPj0gMCwgJ0Nhbm5vdCBkZWFsbG9jYXRlIHVuYWxsb2NhdGVkIG1lZGlhIGVsZW1lbnQuJyk7XG4gICAgICBhbGxvY2F0ZWRFbHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMudW5hbGxvY2F0ZWRbbWVkaWFUeXBlXS5wdXNoKHBvb2xNZWRpYUVsKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEV2aWN0cyBhbiBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSwgcmVwbGFjZXMgaXQgaW4gdGhlIERPTSB3aXRoIHRoZVxuICAgKiBvcmlnaW5hbCBtZWRpYSBlbGVtZW50LCBhbmQgcmV0dXJucyBpdC5cbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIHR5cGUgb2YgbWVkaWEgZWxlbWVudCB0byBldmljdC5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudD19IG9wdF9lbFRvQWxsb2NhdGUgSWYgc3BlY2lmaWVkLCB0aGUgZWxlbWVudCB0aGF0XG4gICAqICAgICBpcyB0cnlpbmcgdG8gYmUgYWxsb2NhdGVkLCBzdWNoIHRoYXQgYW5vdGhlciBlbGVtZW50IG11c3QgYmUgZXZpY3RlZC5cbiAgICogQHJldHVybiB7P0hUTUxNZWRpYUVsZW1lbnR9IEEgbWVkaWEgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBldmljdE1lZGlhRWxlbWVudF8obWVkaWFUeXBlLCBvcHRfZWxUb0FsbG9jYXRlKSB7XG4gICAgY29uc3QgcG9vbE1lZGlhRWwgPVxuICAgICAgICB0aGlzLmRlYWxsb2NhdGVNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSwgb3B0X2VsVG9BbGxvY2F0ZSk7XG4gICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5zd2FwUG9vbE1lZGlhRWxlbWVudE91dE9mRG9tXyhwb29sTWVkaWFFbCk7XG4gICAgcmV0dXJuIHBvb2xNZWRpYUVsO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIG1lZGlhIHR5cGUgdG8gY2hlY2suXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGVsIFRoZSBlbGVtZW50IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlLCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBhbGxvY2F0ZWRcbiAgICogICAgIGFzIHRoZSBzcGVjaWZpZWQgdHlwZSBvZiBtZWRpYSBlbGVtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNBbGxvY2F0ZWRNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSwgZWwpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxvY2F0ZWRbbWVkaWFUeXBlXS5pbmRleE9mKGVsKSA+PSAwO1xuICB9XG5cblxuICAvKipcbiAgICogUmVwbGFjZXMgYSBtZWRpYSBlbGVtZW50IHRoYXQgd2FzIG9yaWdpbmFsbHkgaW4gdGhlIERPTSB3aXRoIGEgbWVkaWFcbiAgICogZWxlbWVudCBmcm9tIHRoZSBwb29sLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IG9yaWdpbmF0aW5nIGZyb21cbiAgICogICAgIHRoZSBET00uXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHBvb2xNZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IG9yaWdpbmF0aW5nIGZyb21cbiAgICogICAgIHRoZSBwb29sLlxuICAgKiBAcGFyYW0geyFTb3VyY2VzfSBzb3VyY2VzIFRoZSBzb3VyY2VzIGZvciB0aGUgbWVkaWEgZWxlbWVudC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIG1lZGlhIGVsZW1lbnQgaGFzXG4gICAqICAgICBiZWVuIHN1Y2Nlc3NmdWxseSBzd2FwcGVkIGludG8gdGhlIERPTS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN3YXBQb29sTWVkaWFFbGVtZW50SW50b0RvbV8oZG9tTWVkaWFFbCwgcG9vbE1lZGlhRWwsIHNvdXJjZXMpIHtcbiAgICBjb25zdCBhbXBNZWRpYUZvclBvb2xFbCA9IGFtcE1lZGlhRWxlbWVudEZvcihwb29sTWVkaWFFbCk7XG4gICAgY29uc3QgYW1wTWVkaWFGb3JEb21FbCA9IGFtcE1lZGlhRWxlbWVudEZvcihkb21NZWRpYUVsKTtcbiAgICBwb29sTWVkaWFFbFtSRVBMQUNFRF9NRURJQV9QUk9QRVJUWV9OQU1FXSA9IGRvbU1lZGlhRWwuaWQ7XG5cbiAgICByZXR1cm4gdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsXG4gICAgICAgIG5ldyBTd2FwSW50b0RvbVRhc2soZG9tTWVkaWFFbCkpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLm1heWJlUmVzZXRBbXBNZWRpYV8oYW1wTWVkaWFGb3JQb29sRWwpO1xuICAgICAgICAgIHRoaXMubWF5YmVSZXNldEFtcE1lZGlhXyhhbXBNZWRpYUZvckRvbUVsKTtcbiAgICAgICAgICB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCxcbiAgICAgICAgICAgICAgbmV3IFVwZGF0ZVNvdXJjZXNUYXNrKHNvdXJjZXMpKTtcbiAgICAgICAgICB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCwgbmV3IExvYWRUYXNrKCkpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5mb3JjZURlYWxsb2NhdGVNZWRpYUVsZW1lbnRfKHBvb2xNZWRpYUVsKTtcbiAgICAgICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9FbGVtZW50fSBjb21wb25lbnRFbFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWF5YmVSZXNldEFtcE1lZGlhXyhjb21wb25lbnRFbCkge1xuICAgIGlmICghY29tcG9uZW50RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29tcG9uZW50RWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdhbXAtYXVkaW8nKSB7XG4gICAgICAvLyBUT0RPKGFsYW5vcm96Y28pOiBJbXBsZW1lbnQgcmVzZXQgZm9yIGFtcC1hdWRpb1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbXBvbmVudEVsLmdldEltcGwoKS50aGVuKGltcGwgPT4ge1xuICAgICAgaWYgKGltcGwucmVzZXRPbkRvbUNoYW5nZSkge1xuICAgICAgICBpbXBsLnJlc2V0T25Eb21DaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHBvb2xNZWRpYUVsIFRoZSBlbGVtZW50IHdob3NlIHNvdXJjZSBzaG91bGQgYmVcbiAgICogICAgIHJlc2V0LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgcG9vbCBtZWRpYSBlbGVtZW50XG4gICAqICAgICBoYXMgYmVlbiByZXNldC5cbiAgICovXG4gIHJlc2V0UG9vbE1lZGlhRWxlbWVudFNvdXJjZV8ocG9vbE1lZGlhRWwpIHtcbiAgICBjb25zdCBtZWRpYVR5cGUgPSB0aGlzLmdldE1lZGlhVHlwZV8ocG9vbE1lZGlhRWwpO1xuICAgIGNvbnN0IGRlZmF1bHRTb3VyY2VzID0gdGhpcy5nZXREZWZhdWx0U291cmNlXyhtZWRpYVR5cGUpO1xuXG4gICAgcmV0dXJuIHRoaXMuZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKHBvb2xNZWRpYUVsLFxuICAgICAgICBuZXcgVXBkYXRlU291cmNlc1Rhc2soZGVmYXVsdFNvdXJjZXMpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBwb29sIG1lZGlhIGVsZW1lbnQgZnJvbSB0aGUgRE9NIGFuZCByZXBsYWNlcyBpdCB3aXRoIHRoZSB2aWRlb1xuICAgKiB0aGF0IGl0IG9yaWdpbmFsbHkgcmVwbGFjZWQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHBvb2xNZWRpYUVsIFRoZSBwb29sIG1lZGlhIGVsZW1lbnQgdG8gcmVtb3ZlXG4gICAqICAgICBmcm9tIHRoZSBET00uXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBtZWRpYSBlbGVtZW50IGhhc1xuICAgKiAgICAgYmVlbiBzdWNjZXNzZnVsbHkgc3dhcHBlZCBvdXQgb2YgdGhlIERPTS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN3YXBQb29sTWVkaWFFbGVtZW50T3V0T2ZEb21fKHBvb2xNZWRpYUVsKSB7XG4gICAgY29uc3Qgb2xkRG9tTWVkaWFFbElkID0gcG9vbE1lZGlhRWxbUkVQTEFDRURfTUVESUFfUFJPUEVSVFlfTkFNRV07XG4gICAgY29uc3Qgb2xkRG9tTWVkaWFFbCA9IC8qKiBAdHlwZSB7IUhUTUxNZWRpYUVsZW1lbnR9ICovIChkZXYoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICB0aGlzLmRvbU1lZGlhRWxzX1tvbGREb21NZWRpYUVsSWRdLFxuICAgICAgICAnTm8gbWVkaWEgZWxlbWVudCB0byBwdXQgYmFjayBpbnRvIERPTSBhZnRlciBldmljdGlvbi4nKSk7XG5cbiAgICBjb25zdCBzd2FwT3V0T2ZEb20gPSB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCxcbiAgICAgICAgbmV3IFN3YXBPdXRPZkRvbVRhc2sob2xkRG9tTWVkaWFFbCkpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBwb29sTWVkaWFFbFtSRVBMQUNFRF9NRURJQV9QUk9QRVJUWV9OQU1FXSA9IG51bGw7XG4gICAgICAgIH0pO1xuXG4gICAgdGhpcy5yZXNldFBvb2xNZWRpYUVsZW1lbnRTb3VyY2VfKHBvb2xNZWRpYUVsKTtcbiAgICByZXR1cm4gc3dhcE91dE9mRG9tO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gY2FsbGJhY2tGblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZm9yRWFjaE1lZGlhVHlwZV8oY2FsbGJhY2tGbikge1xuICAgIE9iamVjdC5rZXlzKE1lZGlhVHlwZSkuZm9yRWFjaChjYWxsYmFja0ZuLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZXMgYSBmdW5jdGlvbiBmb3IgYWxsIG1lZGlhIG1hbmFnZWQgYnkgdGhlIG1lZGlhIHBvb2wuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUhUTUxNZWRpYUVsZW1lbnQpfSBjYWxsYmFja0ZuIFRoZSBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgaW52b2tlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZvckVhY2hNZWRpYUVsZW1lbnRfKGNhbGxiYWNrRm4pIHtcbiAgICBbdGhpcy5hbGxvY2F0ZWQsIHRoaXMudW5hbGxvY2F0ZWRdLmZvckVhY2gobWVkaWFTZXQgPT4ge1xuICAgICAgdGhpcy5mb3JFYWNoTWVkaWFUeXBlXyhrZXkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlID0gTWVkaWFUeXBlW2tleV07XG4gICAgICAgIGNvbnN0IGVscyA9IG1lZGlhU2V0W3R5cGVdO1xuICAgICAgICBpZiAoIWVscykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHMuZm9yRWFjaChjYWxsYmFja0ZuLmJpbmQodGhpcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQcmVsb2FkcyB0aGUgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTSBhbmQgcmV0dXJuc1xuICAgKiBhIG1lZGlhIGVsZW1lbnQgdGhhdCBjYW4gYmUgdXNlZCBpbiBpdHMgc3RlYWQgZm9yIHBsYXliYWNrLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50LCBmb3VuZCBpbiB0aGUgRE9NLFxuICAgKiAgICAgd2hvc2UgY29udGVudCBzaG91bGQgYmUgbG9hZGVkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPCFIVE1MTWVkaWFFbGVtZW50Pn0gQSBtZWRpYSBlbGVtZW50IGZyb20gdGhlIHBvb2wgdGhhdCBjYW4gYmUgdXNlZFxuICAgKiAgICAgdG8gcmVwbGFjZSB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqL1xuICBsb2FkSW50ZXJuYWxfKGRvbU1lZGlhRWwpIHtcbiAgICBpZiAoIWlzQ29ubmVjdGVkTm9kZShkb21NZWRpYUVsKSkge1xuICAgICAgLy8gRG9uJ3QgaGFuZGxlIG5vZGVzIHRoYXQgYXJlbid0IGV2ZW4gaW4gdGhlIGRvY3VtZW50LlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHRoaXMuZ2V0TWVkaWFUeXBlXyhkb21NZWRpYUVsKTtcbiAgICBjb25zdCBleGlzdGluZ1Bvb2xNZWRpYUVsID1cbiAgICAgICAgdGhpcy5nZXRNYXRjaGluZ01lZGlhRWxlbWVudEZyb21Qb29sXyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpO1xuICAgIGlmIChleGlzdGluZ1Bvb2xNZWRpYUVsKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBiZWluZyBsb2FkZWQgYWxyZWFkeSBoYXMgYW4gYWxsb2NhdGVkIG1lZGlhIGVsZW1lbnQuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nUG9vbE1lZGlhRWwpO1xuICAgIH1cblxuICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLnNvdXJjZXNfW2RvbU1lZGlhRWwuaWRdO1xuICAgIGRldigpLmFzc2VydChzb3VyY2VzIGluc3RhbmNlb2YgU291cmNlcyxcbiAgICAgICAgJ0Nhbm5vdCBwbGF5IHVucmVnaXN0ZXJlZCBlbGVtZW50LicpO1xuXG4gICAgY29uc3QgcG9vbE1lZGlhRWwgPSB0aGlzLnJlc2VydmVVbmFsbG9jYXRlZE1lZGlhRWxlbWVudF8obWVkaWFUeXBlKSB8fFxuICAgICAgICB0aGlzLmV2aWN0TWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpO1xuXG4gICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gc3BhY2UgaW4gdGhlIHBvb2wgdG8gYWxsb2NhdGUgYSBuZXcgZWxlbWVudCwgYW5kIG5vXG4gICAgICAvLyBlbGVtZW50IGNhbiBiZSBldmljdGVkLCBkbyBub3QgcmV0dXJuIGFueSBlbGVtZW50LlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuYWxsb2NhdGVNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSwgcG9vbE1lZGlhRWwpO1xuXG4gICAgcmV0dXJuIHRoaXMuc3dhcFBvb2xNZWRpYUVsZW1lbnRJbnRvRG9tXyhkb21NZWRpYUVsLCBwb29sTWVkaWFFbCwgc291cmNlcylcbiAgICAgICAgLnRoZW4oKCkgPT4gcG9vbE1lZGlhRWwpO1xuICB9XG5cblxuICAvKipcbiAgICogXCJCbGVzc2VzXCIgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IGZvciBmdXR1cmUgcGxheWJhY2sgd2l0aG91dCBhIHVzZXJcbiAgICogZ2VzdHVyZS4gIEluIG9yZGVyIGZvciB0aGlzIHRvIGJsZXNzIHRoZSBtZWRpYSBlbGVtZW50LCB0aGlzIGZ1bmN0aW9uIG11c3RcbiAgICogYmUgaW52b2tlZCBpbiByZXNwb25zZSB0byBhIHVzZXIgZ2VzdHVyZS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gcG9vbE1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgdG8gYmxlc3MuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGJsZXNzaW5nIHRoZSBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBpcyBjb21wbGV0ZS5cbiAgICovXG4gIGJsZXNzXyhwb29sTWVkaWFFbCkge1xuICAgIGlmIChwb29sTWVkaWFFbFtFTEVNRU5UX0JMRVNTRURfUFJPUEVSVFlfTkFNRV0pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsIG5ldyBCbGVzc1Rhc2soKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIHNwZWNpZmllZCBlbGVtZW50IHRvIGJlIHVzYWJsZSBieSB0aGUgbWVkaWEgcG9vbC4gIEVsZW1lbnRzXG4gICAqIHNob3VsZCBiZSByZWdpc3RlcmVkIGFzIGVhcmx5IGFzIHBvc3NpYmxlLCBpbiBvcmRlciB0byBwcmV2ZW50IHRoZW0gZnJvbVxuICAgKiBiZWluZyBwbGF5ZWQgd2hpbGUgbm90IG1hbmFnZWQgYnkgdGhlIG1lZGlhIHBvb2wuICBJZiB0aGUgbWVkaWEgZWxlbWVudCBpc1xuICAgKiBhbHJlYWR5IHJlZ2lzdGVyZWQsIHRoaXMgaXMgYSBuby1vcC4gIFJlZ2lzdGVyaW5nIGVsZW1lbnRzIGZyb20gd2l0aGluIHRoZVxuICAgKiBwb29sIGlzIG5vdCBhbGxvd2VkLCBhbmQgd2lsbCBhbHNvIGJlIGEgbm8tb3AuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGRvbU1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgdG8gYmUgcmVnaXN0ZXJlZC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGJlZW5cbiAgICogICAgIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBvciByZWplY3RlZCBvdGhlcndpc2UuXG4gICAqL1xuICByZWdpc3Rlcihkb21NZWRpYUVsKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKGRvbU1lZGlhRWwpO1xuICAgIGlmICh0aGlzLmlzQWxsb2NhdGVkTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpKSB7XG4gICAgICAvLyBUaGlzIG1lZGlhIGVsZW1lbnQgb3JpZ2luYXRlZCBmcm9tIHRoZSBtZWRpYSBwb29sLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gZG9tTWVkaWFFbC5pZCB8fCB0aGlzLmNyZWF0ZURvbU1lZGlhRWxlbWVudElkXygpO1xuICAgIGlmICh0aGlzLnNvdXJjZXNfW2lkXSAmJiB0aGlzLmRvbU1lZGlhRWxzX1tpZF0pIHtcbiAgICAgIC8vIFRoaXMgbWVkaWEgZWxlbWVudCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBtZWRpYSBlbGVtZW50IGhhcyBub3QgeWV0IGJlZW4gcmVnaXN0ZXJlZC5cbiAgICBkb21NZWRpYUVsLmlkID0gaWQ7XG4gICAgY29uc3Qgc291cmNlcyA9IFNvdXJjZXMucmVtb3ZlRnJvbShkb21NZWRpYUVsKTtcbiAgICB0aGlzLnNvdXJjZXNfW2lkXSA9IHNvdXJjZXM7XG4gICAgdGhpcy5kb21NZWRpYUVsc19baWRdID0gZG9tTWVkaWFFbDtcblxuICAgIGRvbU1lZGlhRWwubXV0ZWQgPSB0cnVlO1xuICAgIGRvbU1lZGlhRWwuc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgICBkb21NZWRpYUVsLnBhdXNlKCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQcmVsb2FkcyB0aGUgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCwgZm91bmQgaW4gdGhlIERPTSxcbiAgICogICAgIHdob3NlIGNvbnRlbnQgc2hvdWxkIGJlIGxvYWRlZC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHNwZWNpZmllZCBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBoYXMgc3VjY2Vzc2Z1bGx5IHN0YXJ0ZWQgcHJlbG9hZGluZy5cbiAgICovXG4gIHByZWxvYWQoZG9tTWVkaWFFbCkge1xuICAgIC8vIEVtcHR5IHRoZW4oKSBpbnZvY2F0aW9uIGhpZGVzIHRoZSB2YWx1ZSB5aWVsZGVkIGJ5IHRoZSBsb2FkSW50ZXJuYWxfXG4gICAgLy8gcHJvbWlzZSwgc28gdGhhdCB3ZSBkbyBub3QgbGVhayB0aGUgcG9vbCBtZWRpYSBlbGVtZW50IG91dHNpZGUgb2YgdGhlXG4gICAgLy8gc2NvcGUgb2YgdGhlIG1lZGlhIHBvb2wuXG4gICAgcmV0dXJuIHRoaXMubG9hZEludGVybmFsXyhkb21NZWRpYUVsKS50aGVuKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQbGF5cyB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTSBieSByZXBsYWNpbmcgaXQgd2l0aCBhIG1lZGlhXG4gICAqIGVsZW1lbnQgZnJvbSB0aGUgcG9vbCBhbmQgcGxheWluZyB0aGF0LlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IHRvIGJlIHBsYXllZC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHNwZWNpZmllZCBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgcGxheWVkLlxuICAgKi9cbiAgcGxheShkb21NZWRpYUVsKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZEludGVybmFsXyhkb21NZWRpYUVsKVxuICAgICAgICAudGhlbihwb29sTWVkaWFFbCA9PiB7XG4gICAgICAgICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCwgbmV3IFBsYXlUYXNrKCkpO1xuICAgICAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFBhdXNlcyB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCB0byBiZSBwYXVzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJld2luZFRvQmVnaW5uaW5nIFdoZXRoZXIgdG8gcmV3aW5kIHRoZSBjdXJyZW50VGltZVxuICAgKiAgICAgb2YgbWVkaWEgaXRlbXMgdG8gdGhlIGJlZ2lubmluZy5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHNwZWNpZmllZCBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgcGF1c2VkLlxuICAgKi9cbiAgcGF1c2UoZG9tTWVkaWFFbCwgcmV3aW5kVG9CZWdpbm5pbmcgPSBmYWxzZSkge1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHRoaXMuZ2V0TWVkaWFUeXBlXyhkb21NZWRpYUVsKTtcbiAgICBjb25zdCBwb29sTWVkaWFFbCA9XG4gICAgICAgIHRoaXMuZ2V0TWF0Y2hpbmdNZWRpYUVsZW1lbnRGcm9tUG9vbF8obWVkaWFUeXBlLCBkb21NZWRpYUVsKTtcblxuICAgIGlmICghcG9vbE1lZGlhRWwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsIG5ldyBQYXVzZVRhc2soKSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChyZXdpbmRUb0JlZ2lubmluZykge1xuICAgICAgICAgICAgdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18oXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHshSFRNTE1lZGlhRWxlbWVudH0gKi8gKHBvb2xNZWRpYUVsKSxcbiAgICAgICAgICAgICAgICBuZXcgUmV3aW5kVGFzaygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogUmV3aW5kcyBhIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IGluIHRoZSBET00gdG8gMC5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCB0byBiZSByZXdvdW5kLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGVcbiAgICogICAgIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZXdvdW5kLlxuICAgKi9cbiAgcmV3aW5kVG9CZWdpbm5pbmcoZG9tTWVkaWFFbCkge1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHRoaXMuZ2V0TWVkaWFUeXBlXyhkb21NZWRpYUVsKTtcbiAgICBjb25zdCBwb29sTWVkaWFFbCA9XG4gICAgICAgIHRoaXMuZ2V0TWF0Y2hpbmdNZWRpYUVsZW1lbnRGcm9tUG9vbF8obWVkaWFUeXBlLCBkb21NZWRpYUVsKTtcblxuICAgIGlmICghcG9vbE1lZGlhRWwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsIG5ldyBSZXdpbmRUYXNrKCkpO1xuICB9XG5cblxuICAvKipcbiAgICogTXV0ZXMgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IGluIHRoZSBET00uXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGRvbU1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgdG8gYmUgbXV0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBzcGVjaWZpZWQgbWVkaWFcbiAgICogICAgIGVsZW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IG11dGVkLlxuICAgKi9cbiAgbXV0ZShkb21NZWRpYUVsKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKGRvbU1lZGlhRWwpO1xuICAgIGNvbnN0IHBvb2xNZWRpYUVsID1cbiAgICAgICAgdGhpcy5nZXRNYXRjaGluZ01lZGlhRWxlbWVudEZyb21Qb29sXyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpO1xuXG4gICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCwgbmV3IE11dGVUYXNrKCkpO1xuICB9XG5cblxuICAvKipcbiAgICogVW5tdXRlcyB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCB0byBiZSB1bm11dGVkLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc3BlY2lmaWVkIG1lZGlhXG4gICAqICAgICBlbGVtZW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBwYXVzZWQuXG4gICAqL1xuICB1bm11dGUoZG9tTWVkaWFFbCkge1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHRoaXMuZ2V0TWVkaWFUeXBlXyhkb21NZWRpYUVsKTtcbiAgICBjb25zdCBwb29sTWVkaWFFbCA9XG4gICAgICAgIHRoaXMuZ2V0TWF0Y2hpbmdNZWRpYUVsZW1lbnRGcm9tUG9vbF8obWVkaWFUeXBlLCBkb21NZWRpYUVsKTtcblxuICAgIGlmICghcG9vbE1lZGlhRWwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsIG5ldyBVbm11dGVUYXNrKCkpO1xuICB9XG5cblxuICAvKipcbiAgICogXCJCbGVzc2VzXCIgYWxsIG1lZGlhIGVsZW1lbnRzIGluIHRoZSBtZWRpYSBwb29sIGZvciBmdXR1cmUgcGxheWJhY2sgd2l0aG91dFxuICAgKiBhIHVzZXIgZ2VzdHVyZS4gIEluIG9yZGVyIGZvciB0aGlzIHRvIGJsZXNzIHRoZSBtZWRpYSBlbGVtZW50cywgdGhpc1xuICAgKiBmdW5jdGlvbiBtdXN0IGJlIGludm9rZWQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGdlc3R1cmUuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGFsbCBtZWRpYSBlbGVtZW50cyBpblxuICAgKiAgICAgdGhlIHBvb2wgYXJlIGJsZXNzZWQuXG4gICAqL1xuICBibGVzc0FsbCgpIHtcbiAgICBpZiAodGhpcy5ibGVzc2VkXykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGJsZXNzUHJvbWlzZXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2hNZWRpYUVsZW1lbnRfKG1lZGlhRWwgPT4ge1xuICAgICAgYmxlc3NQcm9taXNlcy5wdXNoKHRoaXMuYmxlc3NfKG1lZGlhRWwpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChibGVzc1Byb21pc2VzKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5ibGVzc2VkXyA9IHRydWU7XG4gICAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgZGV2KCkuZXhwZWN0ZWRFcnJvcignQU1QLVNUT1JZJywgJ0JsZXNzaW5nIGFsbCBtZWRpYSBmYWlsZWQ6ICcsXG4gICAgICAgICAgICAgIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gbWVkaWFFbCBUaGUgZWxlbWVudCB3aG9zZSB0YXNrIHF1ZXVlIHNob3VsZCBiZVxuICAgKiAgICAgZXhlY3V0ZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBleGVjdXRlTmV4dE1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwpIHtcbiAgICBjb25zdCBxdWV1ZSA9IG1lZGlhRWxbRUxFTUVOVF9UQVNLX1FVRVVFX1BST1BFUlRZX05BTUVdO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0YXNrID0gcXVldWVbMF07XG5cbiAgICBjb25zdCBleGVjdXRpb25GbiA9ICgpID0+IHtcbiAgICAgIHRhc2suZXhlY3V0ZShtZWRpYUVsKVxuICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4gZGV2KCkuZXJyb3IoJ0FNUC1TVE9SWScsIHJlYXNvbikpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gUnVuIHJlZ2FyZGxlc3Mgb2Ygc3VjY2VzcyBvciBmYWlsdXJlIG9mIHRhc2sgZXhlY3V0aW9uLlxuICAgICAgICAgICAgcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU5leHRNZWRpYUVsZW1lbnRUYXNrXyhtZWRpYUVsKTtcbiAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKHRhc2sucmVxdWlyZXNTeW5jaHJvbm91c0V4ZWN1dGlvbigpKSB7XG4gICAgICBleGVjdXRpb25Gbi5jYWxsKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbWVyXy5kZWxheShleGVjdXRpb25Gbi5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsIFRoZSBlbGVtZW50IGZvciB3aGljaCB0aGUgc3BlY2lmaWVkIHRhc2tcbiAgICogICAgIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICogQHBhcmFtIHshLi9tZWRpYS10YXNrcy5NZWRpYVRhc2t9IHRhc2sgVGhlIHRhc2sgdG8gYmUgZXhlY3V0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBzcGVjaWZpZWQgdGFzayBpc1xuICAgKiAgICAgY29tcGxldGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwsIHRhc2spIHtcbiAgICBpZiAoIW1lZGlhRWxbRUxFTUVOVF9UQVNLX1FVRVVFX1BST1BFUlRZX05BTUVdKSB7XG4gICAgICBtZWRpYUVsW0VMRU1FTlRfVEFTS19RVUVVRV9QUk9QRVJUWV9OQU1FXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gbWVkaWFFbFtFTEVNRU5UX1RBU0tfUVVFVUVfUFJPUEVSVFlfTkFNRV07XG4gICAgY29uc3QgaXNRdWV1ZVJ1bm5pbmcgPSBxdWV1ZS5sZW5ndGggIT09IDA7XG5cbiAgICBxdWV1ZS5wdXNoKHRhc2spO1xuXG4gICAgaWYgKCFpc1F1ZXVlUnVubmluZykge1xuICAgICAgdGhpcy5leGVjdXRlTmV4dE1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXNrLndoZW5Db21wbGV0ZSgpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshTWVkaWFQb29sUm9vdH0gcm9vdFxuICAgKiBAcmV0dXJuIHshTWVkaWFQb29sfVxuICAgKi9cbiAgc3RhdGljIGZvcihyb290KSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHJvb3QuZ2V0RWxlbWVudCgpO1xuICAgIGNvbnN0IGV4aXN0aW5nSWQgPSBlbGVtZW50W1BPT0xfTUVESUFfRUxFTUVOVF9QUk9QRVJUWV9OQU1FXTtcbiAgICBjb25zdCBoYXNJbnN0YW5jZUFsbG9jYXRlZCA9IGV4aXN0aW5nSWQgJiYgaW5zdGFuY2VzW2V4aXN0aW5nSWRdO1xuXG4gICAgaWYgKGhhc0luc3RhbmNlQWxsb2NhdGVkKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2VzW2V4aXN0aW5nSWRdO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0lkID0gU3RyaW5nKG5leHRJbnN0YW5jZUlkKyspO1xuICAgIGVsZW1lbnRbUE9PTF9NRURJQV9FTEVNRU5UX1BST1BFUlRZX05BTUVdID0gbmV3SWQ7XG4gICAgaW5zdGFuY2VzW25ld0lkXSA9IG5ldyBNZWRpYVBvb2woXG4gICAgICAgIHRvV2luKHJvb3QuZ2V0RWxlbWVudCgpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpLFxuICAgICAgICByb290LmdldE1heE1lZGlhRWxlbWVudENvdW50cygpLFxuICAgICAgICBlbGVtZW50ID0+IHJvb3QuZ2V0RWxlbWVudERpc3RhbmNlKGVsZW1lbnQpKTtcblxuICAgIHJldHVybiBpbnN0YW5jZXNbbmV3SWRdO1xuICB9XG59XG5cblxuLyoqXG4gKiBEZWZpbmVzIGEgY29tbW9uIGludGVyZmFjZSBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIGEgTWVkaWFQb29sLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhUG9vbFJvb3Qge1xuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9IFRoZSByb290IGVsZW1lbnQgb2YgdGhpcyBtZWRpYSBwb29sLlxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHVudXNlZEVsZW1lbnQgVGhlIGVsZW1lbnQgd2hvc2UgZGlzdGFuY2Ugc2hvdWxkIGJlXG4gICAqICAgIHJldHJpZXZlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWVyaWNhbCBkaXN0YW5jZSByZXByZXNlbnRpbmcgaG93IGZhciB0aGUgc3BlY2lmaWVkXG4gICAqICAgICBlbGVtZW50IGlzIGZyb20gdGhlIHVzZXIncyBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC4gIFRoZVxuICAgKiAgICAgYWJzb2x1dGUgbWFnbml0dWRlIG9mIHRoaXMgbnVtYmVyIGlzIGlycmVsZXZhbnQ7IHRoZSByZWxhdGl2ZSBtYWduaXR1ZGVcbiAgICogICAgIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIG1lZGlhIGVsZW1lbnRzIHNob3VsZCBiZSBldmljdGVkIChlbGVtZW50c1xuICAgKiAgICAgZnVydGhlc3QgZnJvbSB0aGUgdXNlcidzIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50IGFyZSBldmljdGVkXG4gICAqICAgICBmcm9tIHRoZSBNZWRpYVBvb2wgZmlyc3QpLlxuICAgKi9cbiAgZ2V0RWxlbWVudERpc3RhbmNlKHVudXNlZEVsZW1lbnQpIHt9XG5cblxuICAvKipcbiAgICogQHJldHVybiB7IU9iamVjdDwhTWVkaWFUeXBlLCBudW1iZXI+fSBUaGUgbWF4aW11bSBhbW91bnQgb2YgZWFjaCBtZWRpYVxuICAgKiAgICAgdHlwZSB0byBhbGxvdyB3aXRoaW4gdGhpcyBlbGVtZW50LlxuICAgKi9cbiAgZ2V0TWF4TWVkaWFFbGVtZW50Q291bnRzKCkge31cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0RlZmVycmVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge1NvdXJjZXN9IGZyb20gJy4vc291cmNlcyc7XG5pbXBvcnQge2lzQ29ubmVjdGVkTm9kZX0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge3RyeVJlc29sdmV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9wcm9taXNlJztcblxuXG5cbi8qKlxuICogVGhlIG5hbWUgZm9yIGEgYm9vbGVhbiBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IGluZGljYXRpbmcgd2hldGhlciB0aGF0IGVsZW1lbnRcbiAqIGhhcyBhbHJlYWR5IGJlZW4gXCJibGVzc2VkXCIuXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfQkxFU1NFRF9QUk9QRVJUWV9OQU1FID0gJ19fQU1QX01FRElBX0lTX0JMRVNTRURfXyc7XG5cblxuLyoqXG4gKiBDU1MgY2xhc3MgbmFtZXMgdGhhdCBzaG91bGQgbm90IGJlIHJlbW92ZWQgZnJvbSBhbiBlbGVtZW50IHdoZW4gc3dhcHBpbmcgaXRcbiAqIGludG8vb3V0IG9mIHRoZSBET00uXG4gKiBAY29uc3QgeyFBcnJheTxzdHJpbmc+fVxuICovXG5jb25zdCBQUk9URUNURURfQ1NTX0NMQVNTX05BTUVTID0gW1xuICAnaS1hbXBodG1sLXBvb2wtbWVkaWEnLFxuICAnaS1hbXBodG1sLXBvb2wtYXVkaW8nLFxuICAnaS1hbXBodG1sLXBvb2wtdmlkZW8nLFxuXTtcblxuXG4vKipcbiAqIEF0dHJpYnV0ZSBuYW1lcyB0aGF0IHNob3VsZCBub3QgYmUgcmVtb3ZlZCBmcm9tIGFuIGVsZW1lbnQgd2hlbiBzd2FwcGluZyBpdFxuICogaW50by9vdXQgb2YgdGhlIERPTS5cbiAqIEBjb25zdCB7IUFycmF5PHN0cmluZz59XG4gKi9cbmNvbnN0IFBST1RFQ1RFRF9BVFRSSUJVVEVTID0gW1xuICAnaWQnLFxuICAnc3JjJyxcbiAgJ2NsYXNzJyxcbiAgJ2F1dG9wbGF5Jyxcbl07XG5cblxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIENTUyBjbGFzcyBuYW1lIGlzIGFsbG93ZWQgdG8gYmUgcmVtb3ZlZCBvciBjb3BpZWQgZnJvbVxuICogbWVkaWEgZWxlbWVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzQ2xhc3NOYW1lIFRoZSBDU1MgY2xhc3MgbmFtZSBuYW1lIHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBDU1MgY2xhc3MgbmFtZSBpcyBhbGxvd2VkIHRvIGJlXG4gKiAgICAgcmVtb3ZlZCBvciBjb3BpZWQgZnJvbSBtZWRpYSBlbGVtZW50czsgZmFsc2Ugb3RoZXJ3aXNlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNQcm90ZWN0ZWRDc3NDbGFzc05hbWUoY3NzQ2xhc3NOYW1lKSB7XG4gIHJldHVybiBQUk9URUNURURfQ1NTX0NMQVNTX05BTUVTLmluZGV4T2YoY3NzQ2xhc3NOYW1lKSA+PSAwO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGF0dHJpYnV0ZSBpcyBhbGxvd2VkIHRvIGJlIHJlbW92ZWQgb3IgY29waWVkIGZyb21cbiAqIG1lZGlhIGVsZW1lbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZU5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGUgaXMgYWxsb3dlZCB0byBiZSByZW1vdmVkXG4gKiAgICAgb3IgY29waWVkIGZyb20gbWVkaWEgZWxlbWVudHM7IGZhbHNlIG90aGVyd2lzZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdGVjdGVkQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKSB7XG4gIHJldHVybiBQUk9URUNURURfQVRUUklCVVRFUy5pbmRleE9mKGF0dHJpYnV0ZU5hbWUpID49IDA7XG59XG5cblxuLyoqXG4gKiBDb3BpZXMgYWxsIHVucHJvdGVjdGVkIENTUyBjbGFzc2VzIGZyb20gZnJvbUVsIHRvIHRvRWwuXG4gKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBmcm9tRWwgVGhlIGVsZW1lbnQgZnJvbSB3aGljaCBDU1MgY2xhc3NlcyBzaG91bGRcbiAqICAgICBiZSBjb3BpZWQuXG4gKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSB0b0VsIFRoZSBlbGVtZW50IHRvIHdoaWNoIENTUyBjbGFzc2VzIHNob3VsZCBiZVxuICogICAgIGNvcGllZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvcHlDc3NDbGFzc2VzKGZyb21FbCwgdG9FbCkge1xuICAvLyBSZW1vdmUgYWxsIG9mIHRoZSB1bnByb3RlY3RlZCBDU1MgY2xhc3NlcyBmcm9tIHRoZSB0b0VsLlxuICBmb3IgKGxldCBpID0gdG9FbC5jbGFzc0xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBjc3NDbGFzcyA9IHRvRWwuY2xhc3NMaXN0Lml0ZW0oaSk7XG4gICAgaWYgKCFpc1Byb3RlY3RlZENzc0NsYXNzTmFtZShjc3NDbGFzcykpIHtcbiAgICAgIHRvRWwuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29weSBhbGwgb2YgdGhlIHVucHJvdGVjdGVkIENTUyBjbGFzc2VzIGZyb20gdGhlIGZyb21FbCB0byB0aGUgdG9FbC5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcm9tRWwuY2xhc3NMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3NzQ2xhc3MgPSBmcm9tRWwuY2xhc3NMaXN0Lml0ZW0oaSk7XG4gICAgaWYgKCFpc1Byb3RlY3RlZENzc0NsYXNzTmFtZShjc3NDbGFzcykpIHtcbiAgICAgIHRvRWwuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBDb3BpZXMgYWxsIHVucHJvdGVjdGVkIGF0dHJpYnV0ZXMgZnJvbSBmcm9tRWwgdG8gdG9FbC5cbiAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGZyb21FbCBUaGUgZWxlbWVudCBmcm9tIHdoaWNoIGF0dHJpYnV0ZXMgc2hvdWxkXG4gKiAgICAgYmUgY29waWVkLlxuICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gdG9FbCBUaGUgZWxlbWVudCB0byB3aGljaCBhdHRyaWJ1dGVzIHNob3VsZCBiZVxuICogICAgIGNvcGllZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvcHlBdHRyaWJ1dGVzKGZyb21FbCwgdG9FbCkge1xuICBjb25zdCBmcm9tQXR0cmlidXRlcyA9IGZyb21FbC5hdHRyaWJ1dGVzO1xuICBjb25zdCB0b0F0dHJpYnV0ZXMgPSB0b0VsLmF0dHJpYnV0ZXM7XG5cbiAgLy8gUmVtb3ZlIGFsbCBvZiB0aGUgdW5wcm90ZWN0ZWQgYXR0cmlidXRlcyBmcm9tIHRoZSB0b0VsLlxuICBmb3IgKGxldCBpID0gdG9BdHRyaWJ1dGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRvQXR0cmlidXRlc1tpXS5uYW1lO1xuICAgIGlmICghaXNQcm90ZWN0ZWRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICB0b0VsLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb3B5IGFsbCBvZiB0aGUgdW5wcm90ZWN0ZWQgYXR0cmlidXRlcyBmcm9tIHRoZSBmcm9tRWwgdG8gdGhlIHRvRWwuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbUF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7bmFtZTogYXR0cmlidXRlTmFtZSwgdmFsdWU6IGF0dHJpYnV0ZVZhbHVlfSA9IGZyb21BdHRyaWJ1dGVzW2ldIDtcbiAgICBpZiAoIWlzUHJvdGVjdGVkQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgdG9FbC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciB0YXNrcyBleGVjdXRlZCBpbiBvcmRlciBvbiBIVE1MTWVkaWFFbGVtZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhVGFzayB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKi9cbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLm5hbWVfID0gbmFtZTtcblxuICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLmNvbXBsZXRpb25Qcm9taXNlXyA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigpfSAqL1xuICAgIHRoaXMucmVzb2x2ZV8gPSBkZWZlcnJlZC5yZXNvbHZlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKil9ICovXG4gICAgdGhpcy5yZWplY3RfID0gZGVmZXJyZWQucmVqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5hbWUgb2YgdGhpcyB0YXNrLlxuICAgKi9cbiAgZ2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwqPn0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdGFzayBoYXNcbiAgICogICAgIGNvbXBsZXRlZCBleGVjdXRpb24uXG4gICAqL1xuICB3aGVuQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGlvblByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgb24gd2hpY2ggdGhpcyB0YXNrXG4gICAqICAgICBzaG91bGQgYmUgZXhlY3V0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0YXNrIGhhcyBjb21wbGV0ZWRcbiAgICogICAgIGV4ZWN1dGlvbi5cbiAgICovXG4gIGV4ZWN1dGUobWVkaWFFbCkge1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKVxuICAgICAgICAudGhlbih0aGlzLnJlc29sdmVfLCB0aGlzLnJlamVjdF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHVudXNlZE1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgb24gd2hpY2ggdGhpc1xuICAgKiAgICAgdGFzayBzaG91bGQgYmUgZXhlY3V0ZWQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGV4ZWN1dGVJbnRlcm5hbCh1bnVzZWRNZWRpYUVsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUsIGlmIHRoaXMgdGFzayBtdXN0IGJlIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHksIGUuZy5cbiAgICogICAgaWYgaXQgcmVxdWlyZXMgYSB1c2VyIGdlc3R1cmUuXG4gICAqL1xuICByZXF1aXJlc1N5bmNocm9ub3VzRXhlY3V0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHJlYXNvbiBUaGUgcmVhc29uIGZvciBmYWlsaW5nIHRoZSB0YXNrLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmYWlsVGFzayhyZWFzb24pIHtcbiAgICB0aGlzLnJlamVjdF8ocmVhc29uKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUGxheXMgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50LlxuICovXG5leHBvcnQgY2xhc3MgUGxheVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3BsYXknKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBpZiAoIW1lZGlhRWwucGF1c2VkKSB7XG4gICAgICAvLyBXZSBkbyBub3Qgd2FudCB0byBpbnZva2UgcGxheSgpIGlmIHRoZSBtZWRpYSBlbGVtZW50IGlzIGFscmVhZHlcbiAgICAgIC8vIHBsYXlpbmcsIGFzIHRoaXMgY2FuIGludGVycnVwdCBwbGF5YmFjayBpbiBzb21lIGJyb3dzZXJzLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8vIFRoZSBwbGF5KCkgaW52b2NhdGlvbiBpcyB3cmFwcGVkIGluIGEgUHJvbWlzZS5yZXNvbHZlKC4uLikgZHVlIHRvIHRoZVxuICAgIC8vIGZhY3QgdGhhdCBzb21lIGJyb3dzZXJzIHJldHVybiBhIHByb21pc2UgZnJvbSBtZWRpYSBlbGVtZW50cycgcGxheSgpXG4gICAgLy8gZnVuY3Rpb24sIHdoaWxlIG90aGVycyByZXR1cm4gYSBib29sZWFuLlxuICAgIHJldHVybiB0cnlSZXNvbHZlKCgpID0+IG1lZGlhRWwucGxheSgpKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUGF1c2VzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhdXNlVGFzayBleHRlbmRzIE1lZGlhVGFzayB7XG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigncGF1c2UnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBtZWRpYUVsLnBhdXNlKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cblxuLyoqXG4gKiBVbm11dGVzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVubXV0ZVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3VubXV0ZScpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBleGVjdXRlSW50ZXJuYWwobWVkaWFFbCkge1xuICAgIG1lZGlhRWwubXV0ZWQgPSBmYWxzZTtcbiAgICBtZWRpYUVsLnJlbW92ZUF0dHJpYnV0ZSgnbXV0ZWQnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIE11dGVzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE11dGVUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdtdXRlJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgbWVkaWFFbC5tdXRlZCA9IHRydWU7XG4gICAgbWVkaWFFbC5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU2Vla3MgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IHRvIHRoZSBiZWdpbm5pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXdpbmRUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdyZXdpbmQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBtZWRpYUVsLmN1cnJlbnRUaW1lID0gMDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIExvYWRzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIExvYWRUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdsb2FkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgbWVkaWFFbC5sb2FkKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cblxuLyoqXG4gKiBcIkJsZXNzZXNcIiB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgZm9yIGZ1dHVyZSBwbGF5YmFjayB3aXRob3V0IGEgdXNlclxuICogZ2VzdHVyZS4gIEluIG9yZGVyIGZvciB0aGlzIHRvIGJsZXNzIHRoZSBtZWRpYSBlbGVtZW50LCB0aGlzIGZ1bmN0aW9uIG11c3RcbiAqIGJlIGludm9rZWQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGdlc3R1cmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBCbGVzc1Rhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2JsZXNzJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlcXVpcmVzU3luY2hyb25vdXNFeGVjdXRpb24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgY29uc3QgaXNNdXRlZCA9IG1lZGlhRWwubXV0ZWQ7XG4gICAgbWVkaWFFbC5tdXRlZCA9IGZhbHNlO1xuICAgIGlmIChpc011dGVkKSB7XG4gICAgICBtZWRpYUVsLm11dGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzb3VyY2VzIG9mIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVwZGF0ZVNvdXJjZXNUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVNvdXJjZXN9IG5ld1NvdXJjZXMgVGhlIHNvdXJjZXMgdG8gd2hpY2ggdGhlIG1lZGlhIGVsZW1lbnQgc2hvdWxkXG4gICAqICAgICBiZSB1cGRhdGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IobmV3U291cmNlcykge1xuICAgIHN1cGVyKCd1cGRhdGUtc3JjJyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshU291cmNlc30gKi9cbiAgICB0aGlzLm5ld1NvdXJjZXNfID0gbmV3U291cmNlcztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBTb3VyY2VzLnJlbW92ZUZyb20obWVkaWFFbCk7XG4gICAgdGhpcy5uZXdTb3VyY2VzXy5hcHBseVRvRWxlbWVudChtZWRpYUVsKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFN3YXBzIGEgbWVkaWEgZWxlbWVudCBpbnRvIHRoZSBET00sIGluIHRoZSBwbGFjZSBvZiBhbm90aGVyIG1lZGlhIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTd2FwSW50b0RvbVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gcmVwbGFjZWRNZWRpYUVsIFRoZSBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ5XG4gICAqICAgICB0aGUgbWVkaWEgZWxlbWVudCBvbiB3aGljaCB0aGlzIHRhc2sgaXMgZXhlY3V0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZXBsYWNlZE1lZGlhRWwpIHtcbiAgICBzdXBlcignc3dhcC1pbnRvLWRvbScpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUhUTUxNZWRpYUVsZW1lbnR9ICovXG4gICAgdGhpcy5yZXBsYWNlZE1lZGlhRWxfID0gcmVwbGFjZWRNZWRpYUVsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBleGVjdXRlSW50ZXJuYWwobWVkaWFFbCkge1xuICAgIGlmICghaXNDb25uZWN0ZWROb2RlKHRoaXMucmVwbGFjZWRNZWRpYUVsXykpIHtcbiAgICAgIHRoaXMuZmFpbFRhc2soJ0Nhbm5vdCBzd2FwIG1lZGlhIGZvciBlbGVtZW50IHRoYXQgaXMgbm90IGluIERPTS4nKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb3B5Q3NzQ2xhc3Nlcyh0aGlzLnJlcGxhY2VkTWVkaWFFbF8sIG1lZGlhRWwpO1xuICAgIGNvcHlBdHRyaWJ1dGVzKHRoaXMucmVwbGFjZWRNZWRpYUVsXywgbWVkaWFFbCk7XG4gICAgdGhpcy5yZXBsYWNlZE1lZGlhRWxfLnBhcmVudEVsZW1lbnRcbiAgICAgICAgLnJlcGxhY2VDaGlsZChtZWRpYUVsLCB0aGlzLnJlcGxhY2VkTWVkaWFFbF8pO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU3dhcHMgYSBtZWRpYSBlbGVtZW50IG91dCB0aGUgRE9NLCBpbiB0aGUgcGxhY2Ugb2YgYSBwbGFjZWhvbGRlciBtZWRpYVxuICogZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFN3YXBPdXRPZkRvbVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gcGxhY2Vob2xkZXJNZWRpYUVsIFRoZSBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ5XG4gICAqICAgICB0aGUgbWVkaWEgZWxlbWVudCBvbiB3aGljaCB0aGlzIHRhc2sgaXMgZXhlY3V0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwbGFjZWhvbGRlck1lZGlhRWwpIHtcbiAgICBzdXBlcignc3dhcC1vdXQtb2YtZG9tJyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSFRNTE1lZGlhRWxlbWVudH0gKi9cbiAgICB0aGlzLnBsYWNlaG9sZGVyTWVkaWFFbF8gPSBwbGFjZWhvbGRlck1lZGlhRWw7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgY29weUNzc0NsYXNzZXMobWVkaWFFbCwgdGhpcy5wbGFjZWhvbGRlck1lZGlhRWxfKTtcbiAgICBjb3B5QXR0cmlidXRlcyhtZWRpYUVsLCB0aGlzLnBsYWNlaG9sZGVyTWVkaWFFbF8pO1xuICAgIG1lZGlhRWwucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQodGhpcy5wbGFjZWhvbGRlck1lZGlhRWxfLCBtZWRpYUVsKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICcuLi8uLi8uLi9zcmMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtTdGF0ZVByb3BlcnR5fSBmcm9tICcuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlJztcblxuXG4vKipcbiAqIFR5cGVzIG9mIHN0YXRlIGNoYW5nZXMgdGhhdCBjYW4gYmUgY29uc3VtZWQuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgU3RhdGVDaGFuZ2VUeXBlID0ge1xuICBBQ1RJVkVfUEFHRTogMCxcbiAgQk9PS0VORF9FTlRFUjogMSxcbiAgQk9PS0VORF9FWElUOiAyLFxuICBFTkQ6IDMsXG59O1xuXG5cbi8qKiBAdHlwZWRlZiB7e3R5cGU6ICFTdGF0ZUNoYW5nZVR5cGUsIHZhbHVlOiAqfX0gKi9cbmV4cG9ydCBsZXQgU3RhdGVDaGFuZ2VFdmVudERlZjtcblxuXG4vKipcbiAqIFN0YXRlIHN0b3JlIHRvIGRlY291cGxlIG5hdmlnYXRpb24gY2hhbmdlcyBmcm9tIGNvbnN1bWVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25TdGF0ZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6UHJvbWlzZTxib29sZWFuPn0gaGFzQm9va2VuZFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBoYXNCb29rZW5kKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IWZ1bmN0aW9uKCk6UHJvbWlzZTxib29sZWFuPn0gKi9cbiAgICB0aGlzLmhhc0Jvb2tlbmRfID0gaGFzQm9va2VuZDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU9ic2VydmFibGU8U3RhdGVDaGFuZ2VFdmVudERlZj59ICovXG4gICAgdGhpcy5vYnNlcnZhYmxlXyA9IG5ldyBPYnNlcnZhYmxlKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IFNlcnZpY2VzLnN0b3J5U3RvcmVTZXJ2aWNlVjAxKHRoaXMud2luXyk7XG5cbiAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNfKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVMaXN0ZW5lcnNfKCkge1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFLCBpc0FjdGl2ZSA9PiB7XG4gICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5maXJlXyhTdGF0ZUNoYW5nZVR5cGUuQk9PS0VORF9FTlRFUik7XG4gICAgICAgIHRoaXMuZmlyZV8oU3RhdGVDaGFuZ2VUeXBlLkVORCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5maXJlXyhTdGF0ZUNoYW5nZVR5cGUuQk9PS0VORF9FWElUKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFTdGF0ZUNoYW5nZUV2ZW50RGVmKTp2b2lkfSBzdGF0ZUNoYW5nZUZuXG4gICAqL1xuICBvYnNlcnZlKHN0YXRlQ2hhbmdlRm4pIHtcbiAgICB0aGlzLm9ic2VydmFibGVfLmFkZChzdGF0ZUNoYW5nZUZuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZUluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b3RhbFBhZ2VzXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGFnZUlkXG4gICAqIFRPRE8oYWxhbm9yb3pjbyk6IHBhc3Mgd2hldGhlciBjaGFuZ2Ugd2FzIGF1dG9tYXRpYyBvciBvbiB1c2VyIGFjdGlvbi5cbiAgICovXG4gIHVwZGF0ZUFjdGl2ZVBhZ2UocGFnZUluZGV4LCB0b3RhbFBhZ2VzLCBwYWdlSWQpIHtcbiAgICBjb25zdCBjaGFuZ2VWYWx1ZSA9IHtcbiAgICAgIHBhZ2VJbmRleCxcbiAgICAgIHBhZ2VJZCxcbiAgICAgIHRvdGFsUGFnZXMsXG4gICAgICBzdG9yeVByb2dyZXNzOiBwYWdlSW5kZXggLyB0b3RhbFBhZ2VzLFxuICAgIH07XG5cbiAgICB0aGlzLmZpcmVfKFN0YXRlQ2hhbmdlVHlwZS5BQ1RJVkVfUEFHRSwgY2hhbmdlVmFsdWUpO1xuXG4gICAgaWYgKHBhZ2VJbmRleCA+PSB0b3RhbFBhZ2VzIC0gMSkge1xuICAgICAgdGhpcy5oYXNCb29rZW5kXygpLnRoZW4oaGFzQm9va2VuZCA9PiB7XG4gICAgICAgIGlmICghaGFzQm9va2VuZCkge1xuICAgICAgICAgIHRoaXMuZmlyZV8oU3RhdGVDaGFuZ2VUeXBlLkVORCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFTdGF0ZUNoYW5nZVR5cGV9IHR5cGVcbiAgICogQHBhcmFtIHsqPX0gb3B0X2NoYW5nZVZhbHVlXG4gICAqL1xuICBmaXJlXyh0eXBlLCBvcHRfY2hhbmdlVmFsdWUpIHtcbiAgICB0aGlzLm9ic2VydmFibGVfLmZpcmUoe3R5cGUsIHZhbHVlOiBvcHRfY2hhbmdlVmFsdWV9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQSB3aGl0ZWxpc3Qgb2YgZGpiMmEgaGFzaGVzIG9mIHB1Ymxpc2hlciBvcmlnaW5zLlxuICogQGNvbnN0IHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNvbnN0IE9SSUdJTl9XSElURUxJU1QgPSBbXG4gICcxMDA1MjQ5MDg4JyxcbiAgJzEwMDYxNjM0MjknLFxuICAnMTAwODE2Mjk1MScsXG4gICcxMDA4OTEwOCcsXG4gICcxMDEwNzUwMTA4JyxcbiAgJzEwMTYwODgwOCcsXG4gICcxMDE5MzQ4NDk0JyxcbiAgJzEwMjQ3NDU0NjAnLFxuICAnMTAyNTY4MzEyNycsXG4gICcxMDMzMTcwMDE1JyxcbiAgJzEwNDAzODc1MzcnLFxuICAnMTA0MjA2NzE5NCcsXG4gICcxMDQ0NTIwNDQwJyxcbiAgJzEwNDg2Mzk2MzknLFxuICAnMTA0ODc2ODEyNCcsXG4gICcxMDU1MzA5MjQ2JyxcbiAgJzEwNjE3NzQzNTQnLFxuICAnMTA2NjY1NjkwMicsXG4gICcxMDcxNTY4NDEwJyxcbiAgJzEwNzU0MzA4MTQnLFxuICAnMTA4MDU1MzE3MScsXG4gICcxMDgxMzgyNzIzJyxcbiAgJzEwODUyNzgwNTAnLFxuICAnMTA4NzczODcyMicsXG4gICcxMDg5MzM5NTUnLFxuICAnMTA5Nzg3NjY0MicsXG4gICcxMDk4MTE1NTg2JyxcbiAgJzExMjA1NDkxNzUnLFxuICAnMTEyMDYyNzEwNCcsXG4gICcxMTIyNjM3NzA3JyxcbiAgJzExMjM3OTYzNzknLFxuICAnMTEzNzI4NDk0NCcsXG4gICcxMTM5MTI0Nzc3JyxcbiAgJzExMzkyMzIxMTgnLFxuICAnMTE0ODA1ODU3NScsXG4gICcxMTUxODYyODc4JyxcbiAgJzExNTIyMzAxODcnLFxuICAnMTE1ODEwNjE5MScsXG4gICcxMTYyNTE3Nzc2JyxcbiAgJzExNjc5MjgxMDEnLFxuICAnMTE3MDk3MTY4MCcsXG4gICcxMTcyMzk5MjkyJyxcbiAgJzExNzkyMjMzODQnLFxuICAnMTE4MDU1NTg2MycsXG4gICcxMTgyOTk2ODk5JyxcbiAgJzExODgyMjE1OTgnLFxuICAnMTE4OTIwMDAwNycsXG4gICcxMTkxNTMwMzg1JyxcbiAgJzExOTMwODYzMDInLFxuICAnMTE5NjI4ODk1NScsXG4gICcxMjAzMTc1OTU3JyxcbiAgJzEyMDM2Mjk1MjcnLFxuICAnMTIwNjIwMjM2OCcsXG4gICcxMjA5Mzk2MzA3JyxcbiAgJzEyMTA1MDg1ODAnLFxuICAnMTIxMjkwNTk2MCcsXG4gICcxMjE3NjQ4NTE0JyxcbiAgJzEyMTk2NjM5NzAnLFxuICAnMTIyMTk0NjgyNycsXG4gICcxMjIzOTQ4NDMwJyxcbiAgJzEyMjQ1NjMxMjMnLFxuICAnMTIyNDU3NTI0MCcsXG4gICcxMjI3NzYxNDMnLFxuICAnMTIzMDAxMDQ2OCcsXG4gICcxMjM1ODcwNDIyJyxcbiAgJzEyMzk2MTI5MjQnLFxuICAnMTI1MjA0NTIzMycsXG4gICcxMjY2Njg2ODgwJyxcbiAgJzEyNjcwNTg0OTknLFxuICAnMTI3MTIxNzM2MycsXG4gICcxMjcxODM2MDg1JyxcbiAgJzEyNzI0MjAzOTInLFxuICAnMTI3NTExMjQ4MycsXG4gICcxMjc5NDIwNDk1JyxcbiAgJzEyODMxNTc3NycsXG4gICcxMjg4NDI1NjMyJyxcbiAgJzEyOTEyMzM3NDknLFxuICAnMTI5MTI4NTI4NScsXG4gICcxMjkxOTY0NTgnLFxuICAnMTI5NjM3MzYwNScsXG4gICcxMzAzMjA1MjI4JyxcbiAgJzEzMDQ5MDg1OTcnLFxuICAnMTMxNDEyMjI0NycsXG4gICcxMzE1MDY3NzYxJyxcbiAgJzEzMjM3MTY0MDcnLFxuICAnMTMyNDQ2NTY5OScsXG4gICcxMzMxMDIxMjcyJyxcbiAgJzEzMzI2Mjg2OTInLFxuICAnMTMzNzA4NTEzNicsXG4gICcxMzM4NjY1ODYzJyxcbiAgJzEzNDE2NzcxMTYnLFxuICAnMTM0MzAzMjQ2NycsXG4gICcxMzQzMTUzNTk0JyxcbiAgJzEzNDQzOTY3OCcsXG4gICcxMzQ2MjAzODA3JyxcbiAgJzEzNDgxMTE1MDYnLFxuICAnMTM1ODAzNjY4OCcsXG4gICcxMzU4Mjc1MTYwJyxcbiAgJzEzNjI3MDAxMDcnLFxuICAnMTM2MzI3NDM0MCcsXG4gICcxMzY1MTg4MjE5JyxcbiAgJzEzNjYyOTg3NzEnLFxuICAnMTM2OTQ4ODQ2JyxcbiAgJzEzNzA4NjM2NTQnLFxuICAnMTM4MjE4MDQ2MycsXG4gICcxMzg0MTYxNTIzJyxcbiAgJzEzODQ4ODU1NDUnLFxuICAnMTM5MDE5NTMxOScsXG4gICcxMzkwNDIyMDQxJyxcbiAgJzEzOTEzNTU2NzknLFxuICAnMTM5Mjk3MzgwOCcsXG4gICcxNDAxMjM0OTQ1JyxcbiAgJzE0MDEzOTMyOCcsXG4gICcxNDAzMDE1ODU5JyxcbiAgJzE0MDYwMTQ1ODcnLFxuICAnMTQwODIxMzQ5NScsXG4gICcxNDA5ODE1MDQ3JyxcbiAgJzE0MTYyMDMxNzInLFxuICAnMTQxNjMzNjU3NicsXG4gICcxNDIwOTY0MzcwJyxcbiAgJzE0MjQwMzg2NzQnLFxuICAnMTQyNjIwNTEzMCcsXG4gICcxNDI2OTA4OTc0JyxcbiAgJzE0Mjc5MzEyNycsXG4gICcxNDI5NzY4MzIzJyxcbiAgJzE0MzM1MzUwNzknLFxuICAnMTQzNjU4OTQ2NicsXG4gICcxNDQ0Nzk3NjkwJyxcbiAgJzE0NDY3MjIxMTgnLFxuICAnMTQ0ODQyMjAyNCcsXG4gICcxNDUxODY1NDExJyxcbiAgJzE0NTI1NTU5NDgnLFxuICAnMTQ1MjYzMTM1NScsXG4gICcxNDU0NDcxNzA0JyxcbiAgJzE0NTY0NTIzNTMnLFxuICAnMTQ2MjA4NjExNicsXG4gICcxNDYzODczMzc5JyxcbiAgJzE0NjU5MTEzMDgnLFxuICAnMTQ3MjUzNzc2OScsXG4gICcxNDc0MTA3NDg1JyxcbiAgJzE0NzY3NDAxNzInLFxuICAnMTQ4NTE3NzcxNicsXG4gICcxNDkxMjA0OTU5JyxcbiAgJzE0OTE1MzU1NTQnLFxuICAnMTQ5NTkwOTQxNicsXG4gICcxNDk2OTM5MDAwJyxcbiAgJzE1MDIxODMzMDAnLFxuICAnMTUwMjE4MzMwMycsXG4gICcxNTA1NjU3MDUxJyxcbiAgJzE1MDYzNTYwNzMnLFxuICAnMTUxMDY5MzQ5NCcsXG4gICcxNTEyMjAwOTc2JyxcbiAgJzE1MTUxOTIxMzYnLFxuICAnMTUxNjA0NDg5NCcsXG4gICcxNTE2NzEyMTM0JyxcbiAgJzE1Mjc4Njk5MDEnLFxuICAnMTUyNzk1NTk4NycsXG4gICcxNTMxNjIyODI3JyxcbiAgJzE1NDIxMTMyNDYnLFxuICAnMTU0Mjg5MDEwOCcsXG4gICcxNTQ0MDcxMDM2JyxcbiAgJzE1NDQ5MDQ5MTgnLFxuICAnMTU0NjgwMDkyJyxcbiAgJzE1NDgwNDM2MjgnLFxuICAnMTU1MTIxNjIyNScsXG4gICcxNTU0MzAyMTM5JyxcbiAgJzE1NjA1NTY1NjgnLFxuICAnMTU2MTA1MzI5JyxcbiAgJzE1NjU3NjE2NjMnLFxuICAnMTU2ODY0NTg4MicsXG4gICcxNTY4NzY1NTc2JyxcbiAgJzE1Njk3NTQ4NjMnLFxuICAnMTU3NDYzMjIzNicsXG4gICcxNTgxNzUyOTUyJyxcbiAgJzE1ODc1MzE1NjgnLFxuICAnMTU5NzgwNTQ4MScsXG4gICcxNTk4MjE1Mjc4JyxcbiAgJzE2MDQ3MTQ4NDAnLFxuICAnMTYwNTk2NDM3NScsXG4gICcxNjA2NzcxOTM5JyxcbiAgJzE2MDY4NDUyNzInLFxuICAnMTYwNzQ5ODA1NCcsXG4gICcxNjA3NzI2NjIyJyxcbiAgJzE2MTYwODQzNDEnLFxuICAnMTYxODYzMzE3NCcsXG4gICcxNjI4NDMyMDY2JyxcbiAgJzE2MjkwMDk5MzQnLFxuICAnMTYzMzY5OTc2NycsXG4gICcxNjM1NTk3OTIzJyxcbiAgJzE2Mzg3MzMxMjknLFxuICAnMTYzOTI5NTg1MScsXG4gICcxNjM5ODQzNjAxJyxcbiAgJzE2NDAwNjExOScsXG4gICcxNjQxMzYxMzAzJyxcbiAgJzE2NDE1NTk5MDUnLFxuICAnMTY0MTc1NTIwOCcsXG4gICcxNjQ1MzY3NTcxJyxcbiAgJzE2NDg0MTgwNDMnLFxuICAnMTY0OTU4Nzg5JyxcbiAgJzE2NTE4MzQzODEnLFxuICAnMTY1MjE4NzQ4JyxcbiAgJzE2NTc2NTUzODQnLFxuICAnMTY1Nzg1NzY1MScsXG4gICcxNjYwODA0NDEnLFxuICAnMTY2NTUwMDc0JyxcbiAgJzE2NjgyNjUzNzknLFxuICAnMTY3MDY1MTQyJyxcbiAgJzE2NzIyODY3MDgnLFxuICAnMTY3NDU3MzY1JyxcbiAgJzE2ODY0ODA5MjUnLFxuICAnMTY5MjIwNTgyMScsXG4gICcxNjk2NTYyMjIyJyxcbiAgJzE3MTA1MjU4MTgnLFxuICAnMTcxMjUxNTgxMCcsXG4gICcxNzIwNjI4MjInLFxuICAnMTcyMTUzOTcwMicsXG4gICcxNzI3MDAwMjEzJyxcbiAgJzE3Mjk0MDY0MzgnLFxuICAnMTczNDM0MzcyNicsXG4gICcxNzQxNzc1NDg1JyxcbiAgJzE3NDY3ODcwNTUnLFxuICAnMTc0OTM1OTc2JyxcbiAgJzE3NTAyNzQ1NjcnLFxuICAnMTc1MjE5OTE3MicsXG4gICcxNzU1NDg3NjYwJyxcbiAgJzE3NTg1MDY4ODQnLFxuICAnMTc2MDk5NTQ2JyxcbiAgJzE3NjE1MDc0NDcnLFxuICAnMTc2MjA3NTcyMicsXG4gICcxNzYyNzc5NjE5JyxcbiAgJzE3NjU3NjE2NjEnLFxuICAnMTc2NjQwODQ4MicsXG4gICcxNzc3ODc5OTU3JyxcbiAgJzE3Nzg4MTQ3MzEnLFxuICAnMTc4MjQxNTg3MScsXG4gICcxNzg2ODIxNzA3JyxcbiAgJzE3OTA0MjE0NDcnLFxuICAnMTc5MzM2NDEyMicsXG4gICcxNzk2NjMxNDg3JyxcbiAgJzE3OTk1NDgxNCcsXG4gICcxNzk5NTgwMDYyJyxcbiAgJzE4MDA2NDQxMDgnLFxuICAnMTgwNDc1NDE2NScsXG4gICcxODE0MzMzMzI2JyxcbiAgJzE4MjA3MTkxMjknLFxuICAnMTgyODMwMjQzNycsXG4gICcxODI5MzkyMTE3JyxcbiAgJzE4MzE0NDk2MzInLFxuICAnMTgzNDMxNTM5NScsXG4gICcxODQyMzY1OTI5JyxcbiAgJzE4NDQwOTcxNzknLFxuICAnMTg1Njk1OTk0JyxcbiAgJzE4NTc3MDM1NjknLFxuICAnMTg2MjQyOTEzNCcsXG4gICcxODY2Mjg4NTgwJyxcbiAgJzE4Njg4MjU2MjMnLFxuICAnMTg3MzE3NTY5OCcsXG4gICcxODc1MDEyMDY3JyxcbiAgJzE4Nzg4NDA1NDgnLFxuICAnMTg4MTUzODg2JyxcbiAgJzE4ODE1NDkxNTInLFxuICAnMTg4NTk0OTgwNicsXG4gICcxODg4MjAyNTc2JyxcbiAgJzE4OTAyMjM5MDgnLFxuICAnMTg5MDI4NTUyNicsXG4gICcxODkwNjcxMjIzJyxcbiAgJzE4OTA2ODQ0OTMnLFxuICAnMTg5MTEzNjAzMycsXG4gICcxODkyMDk3OTYyJyxcbiAgJzE4OTI4OTQ3OTYnLFxuICAnMTg5NzQxMjYyOCcsXG4gICcxODk3ODc3MDI3JyxcbiAgJzE5MDA1ODIxMicsXG4gICcxOTExMjczMTM4JyxcbiAgJzE5MTE1MTkzMycsXG4gICcxOTE0NjkxMDY5JyxcbiAgJzE5MTYwNTM5MjUnLFxuICAnMTkyMTg5MTI1MycsXG4gICcxOTIzMzM2OScsXG4gICcxOTI0Mzk0NTUwJyxcbiAgJzE5MjUzNDAwMDcnLFxuICAnMTkyNjQ0NDcwOScsXG4gICcxOTI5NDY4OTQnLFxuICAnMTkzMjMzMjE5NScsXG4gICcxOTM0NTQzNDIxJyxcbiAgJzE5Mzc3NzU4MjcnLFxuICAnMTkzODkwNjM5OScsXG4gICcxOTQ0NzA3MzgwJyxcbiAgJzE5NDg5ODcwNDknLFxuICAnMTk1NjMyNDUzOScsXG4gICcxOTU4NDc2MTc1JyxcbiAgJzE5NjAzMDk4MjcnLFxuICAnMTk2MDM4NDU0MCcsXG4gICcxOTY2NzQ0MTI1JyxcbiAgJzE5Njk0OTU3OTMnLFxuICAnMTk3NDc4NjAxJyxcbiAgJzE5NzgxODA0MzUnLFxuICAnMTk4MDYwOTQzNCcsXG4gICcxOTg1MTQ3ODUnLFxuICAnMTk4NTk2JyxcbiAgJzE5OTY1NTc0MTgnLFxuICAnMjAwMzExNDI2OCcsXG4gICcyMDA1MTM5ODAnLFxuICAnMjAyNTE0ODUyNycsXG4gICcyMDI1NjUzMjU0JyxcbiAgJzIwMjgxNDQ5ODknLFxuICAnMjAzNDY3NDU0MicsXG4gICcyMDM4NjI2MDM3JyxcbiAgJzIwMzg3MzM3MjUnLFxuICAnMjA0NTcxMzM0NCcsXG4gICcyMDQ2NzY5MTIwJyxcbiAgJzIwNTAyMTg2NTgnLFxuICAnMjA1MTIwNDc1NicsXG4gICcyMDUyOTk3OTk5JyxcbiAgJzIwNjI5OTEzNzAnLFxuICAnMjA2NDk0NTU1MicsXG4gICcyMDY1Mjg2NDU4JyxcbiAgJzIwNjg3Nzk0MDgnLFxuICAnMjA3MjE1NzY5MScsXG4gICcyMDcyMjY3MjEzJyxcbiAgJzIwNzQxODA0MTMnLFxuICAnMjA3NjkwNDM5JyxcbiAgJzIwNzY5NzQ0ODAnLFxuICAnMjA3NzEyNTQ2MCcsXG4gICcyMDgzNDgyMDQnLFxuICAnMjA4NDA5MTYzMCcsXG4gICcyMDg1NjQzODgxJyxcbiAgJzIwOTAyNDI5OScsXG4gICcyMTA1Mjc4ODkwJyxcbiAgJzIxMDk3NDAxMzMnLFxuICAnMjExNDk3NDIxOScsXG4gICcyMTE1NzM4NTc5JyxcbiAgJzIxMTY4MjUzNDInLFxuICAnMjExNzY3ODc1MicsXG4gICcyMTE4MjM5NjY1JyxcbiAgJzIxMjA1MTgzOTInLFxuICAnMjEyNDM3NTQ1NCcsXG4gICcyMTI2ODYwNTA3JyxcbiAgJzIxMjY5MDA4NicsXG4gICcyMTI3MjYxMTU0JyxcbiAgJzIxMjg2NjI5NDcnLFxuICAnMjEzMDAzMjMzOCcsXG4gICcyMTMxNDE4MzU5JyxcbiAgJzIxMzM1Mzk0ODMnLFxuICAnMjEzNDg5MTA4MycsXG4gICcyMTM4MTk0MjMzJyxcbiAgJzIxMzk5MjU4NzcnLFxuICAnMjE0MzQ5ODY3MicsXG4gICcyMTUwMjk2MDk1JyxcbiAgJzIxNTEyMDA0MTMnLFxuICAnMjE1NDEyNDY5MycsXG4gICcyMTYwNTY1Mjc1JyxcbiAgJzIxNjA5ODM0NjInLFxuICAnMjE2MDk5Nzk3OScsXG4gICcyMTYzMzMzMTAwJyxcbiAgJzIxNjQ4OTE0MjEnLFxuICAnMjE2NTMyNzEnLFxuICAnMjE3MjcwNTcxNycsXG4gICcyMTgyOTc4NzA3JyxcbiAgJzIxODM1ODY4MicsXG4gICcyMTgzOTE2MTY1JyxcbiAgJzIxODU1NDQxNzInLFxuICAnMjE5MzE5Nzg4MycsXG4gICcyMTk5ODM4MTg0JyxcbiAgJzIyMDEwMzIzMycsXG4gICcyMjA2MzI4NjEnLFxuICAnMjIwNzgzMjgwNycsXG4gICcyMjE0NDMyODg4JyxcbiAgJzIyMjE1NDg4NDInLFxuICAnMjIzMTIxNTgzMCcsXG4gICcyMjMyNTYyNTk0JyxcbiAgJzIyMzY4NDkxMjEnLFxuICAnMjI0MjQ4MTU4MCcsXG4gICcyMjQ2OTc4MDM3JyxcbiAgJzIyNDc0MTkzMTYnLFxuICAnMjI1MDM5MDA1NScsXG4gICcyMjUwNzYyODI1JyxcbiAgJzIyNTI1NTkxOTQnLFxuICAnMjI1NDYxOTc4NScsXG4gICcyMjU4MjkzNTE5JyxcbiAgJzIyNjY1NDkzNTgnLFxuICAnMjI3MTIxMzY3MScsXG4gICcyMjc1OTc3MDY0JyxcbiAgJzIyNzc0NTg5MjknLFxuICAnMjI3ODUxNjI2MCcsXG4gICcyMjg0MzMyMDc4JyxcbiAgJzIyOTcwMDg0NDMnLFxuICAnMjI5OTc1ODgxOScsXG4gICcyMzExMjkwMDQ0JyxcbiAgJzIzMTMwNjc1MzAnLFxuICAnMjMxOTM0NjI4OCcsXG4gICcyMzIwNTU4MzU3JyxcbiAgJzIzMjUzMzMwMTAnLFxuICAnMjMyNjMyODU4NScsXG4gICcyMzM0NjM1NDkwJyxcbiAgJzIzMzU4MTk0MDcnLFxuICAnMjM0MjkyNDM3OScsXG4gICcyMzQ5MTQ3MzAnLFxuICAnMjM1NTcwMzM0NScsXG4gICcyMzYwODU0ODM5JyxcbiAgJzIzNjIxOTE0NTknLFxuICAnMjM3MzQzNzUzNCcsXG4gICcyMzc0MzM4MDg4JyxcbiAgJzIzNzUzODkyNTQnLFxuICAnMjM4MDgwNDUxNScsXG4gICcyMzg4MjIyOTY2JyxcbiAgJzIzOTEzMDY1NzMnLFxuICAnMjM5Mzc1NDIyNycsXG4gICcyNDA2MTEyNTY1JyxcbiAgJzI0MDgyMjU2MDcnLFxuICAnMjQwODYyMTU5NScsXG4gICcyNDEyNDUxMCcsXG4gICcyNDEzMDM4NjU2JyxcbiAgJzI0MTQ1MzM0NTAnLFxuICAnMjQxNTAxNTM1NycsXG4gICcyNDE1MDU1NjQnLFxuICAnMjQyMjE5ODk1MicsXG4gICcyNDI2MzYwNjk0JyxcbiAgJzI0MjczNzE4NzEnLFxuICAnMjQyODg1NzQwMycsXG4gICcyNDMwOTQ1MDIxJyxcbiAgJzI0MzQ2MzM5ODYnLFxuICAnMjQzNzgzOTAyNycsXG4gICcyNDM4NTQ5NTQzJyxcbiAgJzI0NTA4ODE0MzMnLFxuICAnMjQ1MTQ4NTExNicsXG4gICcyNDU0NDgxNDMzJyxcbiAgJzI0NjUyNDQzMDMnLFxuICAnMjQ3MTQxMjI3NCcsXG4gICcyNDcyNTkxMzMzJyxcbiAgJzI0Nzk3MTQ2NjAnLFxuICAnMjQ3OTg4NTg4MicsXG4gICcyNDgwNjcxMzU3JyxcbiAgJzI0ODM4MDAwOTMnLFxuICAnMjQ4NjI1ODU0MycsXG4gICcyNDg3ODI4MDk4JyxcbiAgJzI0OTA0OTEzMjcnLFxuICAnMjQ5MTI3OTY1MycsXG4gICcyNDk3ODA3OTAyJyxcbiAgJzI0OTc5MjUyODInLFxuICAnMjQ5ODQxNTMwMCcsXG4gICcyNTAwNzQzMjkxJyxcbiAgJzI1MDI0NTAwJyxcbiAgJzI1MDQ2NDI5NCcsXG4gICcyNTA1OTYzNDI4JyxcbiAgJzI1MTI3Njg4MTknLFxuICAnMjUxNDAwOTk1MCcsXG4gICcyNTE0OTg3NTcxJyxcbiAgJzI1MTc0OTM3NTYnLFxuICAnMjUxODM5MzU0JyxcbiAgJzI1MjMxODcwJyxcbiAgJzI1Mjc1Mzg1MjgnLFxuICAnMjUyOTEzODAzOCcsXG4gICcyNTI5MzE5MDEwJyxcbiAgJzI1NDAwMzA2MjcnLFxuICAnMjU0NDExMzA3MCcsXG4gICcyNTU2ODcyMzM5JyxcbiAgJzI1NTc1Mjc5NCcsXG4gICcyNTYzMTI4MTI4JyxcbiAgJzI1NjQ2MTg1MDAnLFxuICAnMjU2NTY1MzgzMCcsXG4gICcyNTY5NDI0MzMyJyxcbiAgJzI1ODAxNTI4NzMnLFxuICAnMjU4Nzg1MDI2NScsXG4gICcyNTg4Mjc3ODg1JyxcbiAgJzI1OTQwNjQxMDknLFxuICAnMjYwMDM2ODM1NScsXG4gICcyNjAyNTk1MjAyJyxcbiAgJzI2MDU2MjY3ODgnLFxuICAnMjYwNjcxNTk5NScsXG4gICcyNjExNzI5NzIyJyxcbiAgJzI2MTI5Njc0NTMnLFxuICAnMjYxMzA3MjM3OScsXG4gICcyNjE2ODQ2MDU2JyxcbiAgJzI2MTk1Mzc3OTcnLFxuICAnMjYyNTkwNTg5NicsXG4gICcyNjI3NzYxNzQ1JyxcbiAgJzI2Mjk4MTA1MjUnLFxuICAnMjYzMjExNDg4MCcsXG4gICcyNjMyMTk0ODA0JyxcbiAgJzI2MzU1ODg3OTInLFxuICAnMjYzNjM5MTU0MScsXG4gICcyNjM3MDg1MzM5JyxcbiAgJzI2MzgwMTMyODMnLFxuICAnMjYzOTgzMDMwNycsXG4gICcyNjUyNjM0OTIxJyxcbiAgJzI2NjIyMDc2OTEnLFxuICAnMjY2OTUxMDcxNycsXG4gICcyNjcxMjkwNTU3JyxcbiAgJzI2NzI1OTk5MjknLFxuICAnMjY3NjAyMjQyMicsXG4gICcyNjc4NTAxNzQ4JyxcbiAgJzI2Nzg3ODQxMjQnLFxuICAnMjY4ODY3Mzc4NCcsXG4gICcyNjg5MzU1ODY1JyxcbiAgJzI2OTAyMzUxNjgnLFxuICAnMjY5NzE0NzAwMicsXG4gICcyNjk3MTYyMTAyJyxcbiAgJzI3MDI1Nzc2ODUnLFxuICAnMjcwNTczNjQzMicsXG4gICcyNzA1ODAwNDInLFxuICAnMjcwOTQyNjc4MScsXG4gICcyNzEzMTEyOTIyJyxcbiAgJzI3MTgyNzM1OTQnLFxuICAnMjcxODQ0NjM1MCcsXG4gICcyNzE4NjU3NTExJyxcbiAgJzI3MjA0OTY4ODUnLFxuICAnMjcyMzQzNDI3NicsXG4gICcyNzI1MTQ1MTM1JyxcbiAgJzI3MzE4ODM4MzknLFxuICAnMjczMjM5ODg3OScsXG4gICcyNzM0MzEzNzY3JyxcbiAgJzI3MzU4MDU0MycsXG4gICcyNzM4MTU1NjkwJyxcbiAgJzI3NDE2NzM4MDknLFxuICAnMjc0OTgzNTE4NycsXG4gICcyNzU0OTk3MTA5JyxcbiAgJzI3NTUxNTM2MjcnLFxuICAnMjc1OTk3Njk1MicsXG4gICcyNzYxNTA4MjkyJyxcbiAgJzI3NjIzMDI2NDgnLFxuICAnMjc2NjEwNjUyNCcsXG4gICcyNzY2NzU0Njg5JyxcbiAgJzI3Njc5NjEwNTQnLFxuICAnMjc2OTQ0MjIyNCcsXG4gICcyNzcxMTgyNTYzJyxcbiAgJzI3NzE4Mzk3MjknLFxuICAnMjc3MzkzOTI3NCcsXG4gICcyNzc0MTc1MzAyJyxcbiAgJzI3Nzc2OTc0NjAnLFxuICAnMjc4MDIyMzU4NycsXG4gICcyNzgwNjM5Njk2JyxcbiAgJzI3ODQyMTI3OTMnLFxuICAnMjc4NDQ3OTg2MCcsXG4gICcyNzg3ODUzMzY4JyxcbiAgJzI3OTA1MDIwNTcnLFxuICAnMjc5MTI0OTU0NycsXG4gICcyNzk1MTgyMDc4JyxcbiAgJzI3OTc4MzkxMjEnLFxuICAnMjc5Nzg0NDM2NycsXG4gICcyNzk4MTA0MDkzJyxcbiAgJzI4MDM5NTczNjYnLFxuICAnMjgxMjY3Mjc0MycsXG4gICcyODE0MjEzMzU0JyxcbiAgJzI4MTQyNjkyNTMnLFxuICAnMjgxODI2NjU0NScsXG4gICcyODIwODY0OTU0JyxcbiAgJzI4MjQxODg4MTknLFxuICAnMjgyNTU2NDIxNScsXG4gICcyODI2NzI3MzI1JyxcbiAgJzI4MzA2NjA3MDUnLFxuICAnMjgzNTMzMTI4NycsXG4gICcyODM2NjExNDcnLFxuICAnMjg0NTgwMzQxMScsXG4gICcyODUyNjI3MzI2JyxcbiAgJzI4NjExMzQ0NzUnLFxuICAnMjg2NjQ0ODIwNycsXG4gICcyODY2NDcwMzMxJyxcbiAgJzI4Njk0MzM1ODAnLFxuICAnMjg3MDc2OTEwNCcsXG4gICcyODcxNjc4NjE5JyxcbiAgJzI4NzI5ODA2NTknLFxuICAnMjg4MjQ2MzQxJyxcbiAgJzI4ODUzODg2NDgnLFxuICAnMjg4Nzk2MDE1NicsXG4gICcyODg5NTE4NDE5JyxcbiAgJzI4OTM0NjcxNDQnLFxuICAnMjg5MzU5MDU0MicsXG4gICcyOTExMzc4NTg2JyxcbiAgJzI5MTIxOTcwODMnLFxuICAnMjkxNDI0MzE1MycsXG4gICcyOTE2MjY4NDk5JyxcbiAgJzI5MTc5MDk4NTgnLFxuICAnMjkxODIzMDQzNCcsXG4gICcyOTE5NDQ3OTg3JyxcbiAgJzI5Mjc3NjMwMzYnLFxuICAnMjkzMDUzMTExMCcsXG4gICcyOTMwODE4NDk4JyxcbiAgJzI5MzMyODc2NjYnLFxuICAnMjkzMzY3ODY5MScsXG4gICcyOTM0NDEyMzQ4JyxcbiAgJzI5MzkzMzg5NTcnLFxuICAnMjk0MTIwNzg5MycsXG4gICcyOTQyODEzNjUnLFxuICAnMjk0MjgxNjYyJyxcbiAgJzI5NDc4ODM5MDknLFxuICAnMjk1MTAyNTE1NCcsXG4gICcyOTU1MDcwODUxJyxcbiAgJzI5NTY3MTQxNTknLFxuICAnMjk2MDg0NzY2JyxcbiAgJzI5NjUyOTQyMicsXG4gICcyOTcwOTMxODg3JyxcbiAgJzI5NzI4NDk1MzcnLFxuICAnMjk4MTU4MTA5NycsXG4gICczMDAzNjIxNDU0JyxcbiAgJzMwMTc1NzIxNjknLFxuICAnMzAxODQ5NjM3MicsXG4gICczMDE4NjQ0Nzc0JyxcbiAgJzMwMjEzODg2NTQnLFxuICAnMzAyMjA5MjM3NycsXG4gICczMDIyNTE0NzgnLFxuICAnMzAyNDI4NDc5MScsXG4gICczMDI4NTU4NzY3JyxcbiAgJzMwMjk5OTQ4MzcnLFxuICAnMzAzMzIzNDkxNScsXG4gICczMDM0ODA3NzAzJyxcbiAgJzMwMzY4MDkyOTAnLFxuICAnMzAzNzMyOTIxJyxcbiAgJzMwNDA5NzI4MTcnLFxuICAnMzA0NjE0OTc3NycsXG4gICczMDQ3MTg0NDM2JyxcbiAgJzMwNTU0ODA1OCcsXG4gICczMDU3Mjc4MDMzJyxcbiAgJzMwNTg2OTEyNTknLFxuICAnMzA2MDUxOTAxOScsXG4gICczMDYwOTg1OTQ3JyxcbiAgJzMwNjM2NTE4MzknLFxuICAnMzA3MTk4Njk3MScsXG4gICczMDc1MzEzODYwJyxcbiAgJzMwODQwODM5MjInLFxuICAnMzA5MDM4NzI5OScsXG4gICczMDkwMzk5OTIyJyxcbiAgJzMwOTIxNzIxNDAnLFxuICAnMzEwNzEyMTIxNCcsXG4gICczMTA4MzMzNzc5JyxcbiAgJzMxMDk2NzQ5MjAnLFxuICAnMzEyMTE2NzMwNycsXG4gICczMTI1NzE1Nzk4JyxcbiAgJzMxMjk3Mjk5ODUnLFxuICAnMzEzMDc5OTkxJyxcbiAgJzMxMzIyMjE3ODQnLFxuICAnMzEzMjUwNzg0MCcsXG4gICczMTMzMzY5OTM4JyxcbiAgJzMxNDMzODYwMTknLFxuICAnMzE0NDA4NjY0NScsXG4gICczMTQ0NzQxMDgwJyxcbiAgJzMxNTA0MTE0MzAnLFxuICAnMzE1MzE3MjA5NScsXG4gICczMTU2MDAxMTgwJyxcbiAgJzMxNjIyNjU0MTknLFxuICAnMzE3Mjg3NjEyNicsXG4gICczMTc2NDQ5Nzk4JyxcbiAgJzMxODEwOTAyMTQnLFxuICAnMzE4NTUzNTkwMicsXG4gICczMTg4MjQ5MTM5JyxcbiAgJzMxODg5NDkyNTMnLFxuICAnMzE4OTQwNjMxMScsXG4gICczMjAwMDkzOTM1JyxcbiAgJzMyMDE3MzkwMTMnLFxuICAnMzIwODAzOTY0MScsXG4gICczMjEzNjIzODY0JyxcbiAgJzMyMTY5NDc5ODInLFxuICAnMzIyNjUxNzg1MScsXG4gICczMjM1NDYyNjQnLFxuICAnMzIzODM3NDczNycsXG4gICczMjQwNTI4NzEzJyxcbiAgJzMyNDQyNTEwODcnLFxuICAnMzI0NjExOTE5OCcsXG4gICczMjUwNzIzODY5JyxcbiAgJzMyNTIwODA2NjMnLFxuICAnMzI1Njc1NDUwOCcsXG4gICczMjU5OTc5MDI1JyxcbiAgJzMyNjE2ODcwMzAnLFxuICAnMzI2MzM0OTgwMicsXG4gICczMjYzOTc0MTAzJyxcbiAgJzMyNjg2NTkzMjInLFxuICAnMzI3MTMzMDE3NycsXG4gICczMjc3MDE4Mjc0JyxcbiAgJzMyODM3NDcxNDMnLFxuICAnMzI4NDM3NDU1NicsXG4gICczMjg1MzEwMzcxJyxcbiAgJzMyOTI0MjI3JyxcbiAgJzMyOTU3NzY2NDYnLFxuICAnMzMwMTAxODY4OScsXG4gICczMzAxNjg4MTk0JyxcbiAgJzMzMDU3NDc1MTgnLFxuICAnMzMwNzY3MTkyOCcsXG4gICczMzA4ODg4MzY3JyxcbiAgJzMzMDk5NTIzNDcnLFxuICAnMzMxNzM3MTg5NycsXG4gICczMzE4MTg0NTk2JyxcbiAgJzMzMTk3Njg2NDcnLFxuICAnMzMyMDgyOTMxOCcsXG4gICczMzIxNDU3NzUzJyxcbiAgJzMzMjIxNTYwNDEnLFxuICAnMzMyNjg0NjA4NicsXG4gICczMzQxMDU0NDU3JyxcbiAgJzMzNDc5NjQ4OScsXG4gICczMzQ4Mzc5MTA0JyxcbiAgJzMzNDk0MDk4ODYnLFxuICAnMzM1MzMxMjU2MCcsXG4gICczMzU1MzY4MjI5JyxcbiAgJzMzNTU1MTQyMTEnLFxuICAnMzM1NTg2NTQxNicsXG4gICczMzU4NTU3NzcnLFxuICAnMzM1OTkzODA0JyxcbiAgJzMzNjE0NjY3MTYnLFxuICAnMzM2MjM5NzU1NCcsXG4gICczMzY3MTcxMjkzJyxcbiAgJzMzNzY3OTAwNTUnLFxuICAnMzM3NzY4ODQ4MCcsXG4gICczMzgxMzkwOTAwJyxcbiAgJzMzODE0NTk3MDcnLFxuICAnMzM4NTI2ODQwMicsXG4gICczMzg1ODQ2NzI3JyxcbiAgJzMzODcyMDQ3MzcnLFxuICAnMzM4ODQ0MjQ0JyxcbiAgJzMzOTA3NTE3NDMnLFxuICAnMzM5NDMxNTQ5NCcsXG4gICczMzk0MzM0MDA2JyxcbiAgJzM0MDA3MTMzMDAnLFxuICAnMzQwMjk3ODc1MCcsXG4gICczNDA4MjQ5MTkxJyxcbiAgJzM0MTI5NjgxNTAnLFxuICAnMzQxNjgzMTUzNycsXG4gICczNDIyMDg3NTg5JyxcbiAgJzM0MjQzMTE4OTYnLFxuICAnMzQyNjg1MDY5OScsXG4gICczNDI5NjQ5MzUxJyxcbiAgJzM0MzIyMDgwMzQnLFxuICAnMzQzNjc0MjI3NycsXG4gICczNDM3OTU4NzQ4JyxcbiAgJzM0NDYyMTU2NzMnLFxuICAnMzQ0NzgzNTQ5NCcsXG4gICczNDQ4NjIwNzk5JyxcbiAgJzM0NTAyMjEzOTAnLFxuICAnMzQ1MDkzMjU4OCcsXG4gICczNDUxODI0ODczJyxcbiAgJzM0NTU3MTEwNDQnLFxuICAnMzQ1ODMxMDk3NScsXG4gICczNDYwNzc5MDk1JyxcbiAgJzM0NjQwMDIxNDknLFxuICAnMzQ3MzkwMTM4MicsXG4gICczNDc4Mjk3NjA5JyxcbiAgJzM0OTM4MzYzMjMnLFxuICAnMzQ5NDg4NzEwMCcsXG4gICczNDk4MDU2ODE4JyxcbiAgJzM1MDAxMjM5NTcnLFxuICAnMzUwMDEyNDY2NCcsXG4gICczNTAxODkzNzU3JyxcbiAgJzM1MDY0MTM0MDgnLFxuICAnMzUxMjU4NzAyNScsXG4gICczNTE3MzMwODUnLFxuICAnMzUyMzAxNDUzMycsXG4gICczNTIzMzgyOTMyJyxcbiAgJzM1MjYzMzY1JyxcbiAgJzM1MzM4MDMwNicsXG4gICczNTM1NjgxMTI3JyxcbiAgJzM1NDA4MjQ0MScsXG4gICczNTQ2MDA0NzAwJyxcbiAgJzM1NDk1MjIyNDcnLFxuICAnMzU1MDU5NjAyOScsXG4gICczNTUxNDMzMDc1JyxcbiAgJzM1NTI2NTc3MDgnLFxuICAnMzU2MTM0OTQ2MScsXG4gICczNTY4MDY0MTE4JyxcbiAgJzM1NzI1MDQ4OTQnLFxuICAnMzU3NDM1NDk0OCcsXG4gICczNTg0OTkyMTEwJyxcbiAgJzM1ODUzNTY4NTUnLFxuICAnMzU4OTgzODYzOCcsXG4gICczNTkxMDg0OTQ3JyxcbiAgJzM1OTEzMTEzOTAnLFxuICAnMzU5NDM1NjI1MScsXG4gICczNTk1MTU1MTc5JyxcbiAgJzM2MDE0MTE5NTUnLFxuICAnMzYwNzA1MDYzMycsXG4gICczNjE2Mzg3NDc2JyxcbiAgJzM2MjAzMTI1MTInLFxuICAnMzYyMzA3NDYzNCcsXG4gICczNjI1NjQyMzU0JyxcbiAgJzM2MjU4MTI2NzQnLFxuICAnMzYyNTgxNzgyMCcsXG4gICczNjI2NTk5MDMwJyxcbiAgJzM2MzU1NjI3MTcnLFxuICAnMzYzODQwNjA4OCcsXG4gICczNjM4OTQ3MDInLFxuICAnMzY1MTE1ODE2NicsXG4gICczNjUxMjUwNTknLFxuICAnMzY1MjcyODg3NycsXG4gICczNjU1MTIwNTY4JyxcbiAgJzM2NTYwNTUxOCcsXG4gICczNjU2NzM2NjQzJyxcbiAgJzM2NTc2MjUwMzAnLFxuICAnMzY2MjQyOTIxNicsXG4gICczNjcwNTIyMzc0JyxcbiAgJzM2NzM4NjY5NTMnLFxuICAnMzY4NTg0NDk0NycsXG4gICczNjkyMzY3MjE1JyxcbiAgJzM2OTUyMDIzNzUnLFxuICAnMzY5NjQ0MzQzJyxcbiAgJzM2OTk2MDIwODMnLFxuICAnMzcwMDQyNTA0NycsXG4gICczNzAwOTgyNjk4JyxcbiAgJzM3MTA5MTE2MjgnLFxuICAnMzcxMTc0NDk5MScsXG4gICczNzEyMDkwNzYzJyxcbiAgJzM3MTUyNDEwNDgnLFxuICAnMzcxODI4ODQyNicsXG4gICczNzIwMDgxNzYzJyxcbiAgJzM3MjM3MTkxMzUnLFxuICAnMzcyNDE3OTE1MScsXG4gICczNzM5MjIyMzI5JyxcbiAgJzM3Mzk3MjM1ODgnLFxuICAnMzc0MTgwMzgyMycsXG4gICczNzQyMDc2MzczJyxcbiAgJzM3NDMzOTg4NzAnLFxuICAnMzc0NzA2MzA4NScsXG4gICczNzQ4OTUzMjc2JyxcbiAgJzM3NTEwMTM4MzEnLFxuICAnMzc1MTU2MzcwMicsXG4gICczNzU5NDU4OTc4JyxcbiAgJzM3NjA4MjEyNzMnLFxuICAnMzc2ODY1MTI4MicsXG4gICczNzc0ODM0OTMwJyxcbiAgJzM3ODIxODc1MDUnLFxuICAnMzc4MzYxNjIyNicsXG4gICczNzg1MDMxODE1JyxcbiAgJzM4MDIyNzIzNDknLFxuICAnMzgwMzQyNzI4OScsXG4gICczODA4NTE1MDIzJyxcbiAgJzM4MTc3NTkyNDInLFxuICAnMzgyMTc5NTkwOScsXG4gICczODI4NjY5NDk3JyxcbiAgJzM4Mjg5MjEzNjMnLFxuICAnMzgyOTE1MDA0JyxcbiAgJzM4MzUzMzA5NDgnLFxuICAnMzgzNTkzMTgyNCcsXG4gICczODM4OTgzNzg5JyxcbiAgJzM4NDA1MjU3MzknLFxuICAnMzg0MTg0NDQwNScsXG4gICczODQyMjEzMjc5JyxcbiAgJzM4NTUxNzU1MDAnLFxuICAnMzg2Njk1NjQwMCcsXG4gICczODY3NjgzMjU5JyxcbiAgJzM4NzI5ODE4ODUnLFxuICAnMzg3NDQxNTU3JyxcbiAgJzM4ODIyODE5NDMnLFxuICAnMzg4Mjc3NTU3NScsXG4gICczODg3MTQ2OTYwJyxcbiAgJzM4ODc5Mzc5NDQnLFxuICAnMzkwMjU5NjExMScsXG4gICczOTA3OTY1Njg5JyxcbiAgJzM5MDk4MzczODcnLFxuICAnMzkxNjczNTgyOCcsXG4gICczOTE5NjIxNzU3JyxcbiAgJzM5MjY5ODM3MDcnLFxuICAnMzkzMTM3MTYwNicsXG4gICczOTM1NjcyMDcyJyxcbiAgJzM5NDIxNjkzOTYnLFxuICAnMzk0MzU1MzcnLFxuICAnMzk0OTg0NjEwMScsXG4gICczOTUwNjc2MzcxJyxcbiAgJzM5NTIyNTMwMTMnLFxuICAnMzk1Mjk4NTg3NScsXG4gICczOTU2MTM5MTM2JyxcbiAgJzM5NjAzNzYwMzQnLFxuICAnMzk2NDAyMjI2NScsXG4gICczOTY1NTQ4MTUyJyxcbiAgJzM5NjY5ODc4NjEnLFxuICAnMzk2OTMzMzE2NCcsXG4gICczOTgwNzM0MDAwJyxcbiAgJzM5ODEzMjM5ODknLFxuICAnMzk4NDUyMDQxOCcsXG4gICczOTg0NjQ4NDIyJyxcbiAgJzM5ODY4OTA4MScsXG4gICczOTg5ODYzMTU4JyxcbiAgJzM5OTE2MzYxNicsXG4gICc0MDExMTY2NTk5JyxcbiAgJzQwMTI1NjkyMzInLFxuICAnNDAxNTk2MDc4MScsXG4gICc0MDIwNzc4MzcnLFxuICAnNDAyMjYzNTA3MScsXG4gICc0MDMxNDI3OTU4JyxcbiAgJzQwMzg0MTkxNTQnLFxuICAnNDAzODcxOTQwNCcsXG4gICc0MDQwOTYzNTI2JyxcbiAgJzQwNDUwMDEyMzInLFxuICAnNDA0NTM0ODYyNicsXG4gICc0MDQ3MDc2MTYzJyxcbiAgJzQwNTAxOTQ0NDYnLFxuICAnNDA1MTExMDQ3OCcsXG4gICc0MDUzNTY2NDYxJyxcbiAgJzQwNjIyMDI2MzEnLFxuICAnNDA2NDQwMzAzMycsXG4gICc0MDY3MjkyODA5JyxcbiAgJzQwNzExNjk0OTQnLFxuICAnNDA3MjM5NDY0MScsXG4gICc0MDgzMDQ0MzUzJyxcbiAgJzQwODQxOTQ5MzUnLFxuICAnNDA4ODgwNjYwMScsXG4gICc0MDkyMzY5NTE5JyxcbiAgJzQwOTI2NjQ5MzcnLFxuICAnNDA5NjA5ODg5NCcsXG4gICc0MDk3MDM5OTk5JyxcbiAgJzQwOTgxMzgzNDInLFxuICAnNDEwMDQyOTk5MycsXG4gICc0MTAxNDg0NTc0JyxcbiAgJzQxMDIyMzIxODUnLFxuICAnNDEwNzM3NDY3JyxcbiAgJzQxMDc4MzM3NTgnLFxuICAnNDEwOTIwMDI3MCcsXG4gICc0MTE4MjM3MDY2JyxcbiAgJzQxMTg2ODMwNTEnLFxuICAnNDEyMDA0NTcyMScsXG4gICc0MTIzMDMxNzIwJyxcbiAgJzQxMjMzODg0MzMnLFxuICAnNDEyNjEwMDkwOScsXG4gICc0MTI3MjEyMTkzJyxcbiAgJzQxMjczNTE0OTYnLFxuICAnNDEyOTY5ODMyNScsXG4gICc0MTMwMzcwOTc3JyxcbiAgJzQxMzYzMTQxNzYnLFxuICAnNDEzNzEyODkwMScsXG4gICc0MTM3NzQ2ODAwJyxcbiAgJzQxMzgzMTA0ODUnLFxuICAnNDEzODMyOTc4NicsXG4gICc0MTM4NzQ4NzA5JyxcbiAgJzQxMzk0MTU3NjUnLFxuICAnNDE0MDc2MjQ5MScsXG4gICc0MTQxOTEyNDInLFxuICAnNDE0MzYyNTgzOCcsXG4gICc0MTU4NzI3MDc1JyxcbiAgJzQxNjI3MTQ2MycsXG4gICc0MTYyOTIzNzMyJyxcbiAgJzQxNjU4NTAzNjgnLFxuICAnNDE2NjA4Njc4MycsXG4gICc0MTY2Njg4MjA3JyxcbiAgJzQxNzE5MjAzNzYnLFxuICAnNDE3NzgwMzg3MCcsXG4gICc0MTg4Njk2MTk1JyxcbiAgJzQxODk1ODk3NTYnLFxuICAnNDE4OTY4MTc2OScsXG4gICc0MTkwNjk3OTYyJyxcbiAgJzQxOTIwMDk0OTInLFxuICAnNDE5MjkwNjc3MicsXG4gICc0MTk0ODI0MTMwJyxcbiAgJzQxOTU5NDYxNDknLFxuICAnNDE5Nzc2MjE4NicsXG4gICc0MTk5MTIxODc0JyxcbiAgJzQyMDAwNjk3NjQnLFxuICAnNDIwNTAyNzgyMicsXG4gICc0MjA1Mzc5MzkzJyxcbiAgJzQyMDY0NzkyNjQnLFxuICAnNDIxNDY4NzMyNycsXG4gICc0MjE4NjA3MjQ0JyxcbiAgJzQyMjA1MjYyNjcnLFxuICAnNDIyNTU1ODQ4NycsXG4gICc0MjM2NzEwMTEzJyxcbiAgJzQyMzcwNTM3MzEnLFxuICAnNDIzNzE4MjExNCcsXG4gICc0MjM3NjkxMzkzJyxcbiAgJzQyMzk5NjM3NjcnLFxuICAnNDI0ODIwMzI5MicsXG4gICc0MjQ5MDEwNzc2JyxcbiAgJzQyNDkyMjM5NTInLFxuICAnNDI2NTA5MjIwMCcsXG4gICc0MjY2NzI5MTY1JyxcbiAgJzQyNjk2OTI2MTInLFxuICAnNDI3MzM3NTgzMScsXG4gICc0Mjc4MDQ2MDYzJyxcbiAgJzQyNzk5MTg5MDMnLFxuICAnNDI4MDA3NjAwNicsXG4gICc0MjgwOTI5NDU3JyxcbiAgJzQyODI1NzkyMjAnLFxuICAnNDI4Mzk1ODk2MCcsXG4gICc0Mjg2MDA5MTcwJyxcbiAgJzQyODczMjQ4OTInLFxuICAnNDI4ODAxMzMwNycsXG4gICc0Mjg5NzM2MDcnLFxuICAnNDI5MjEzMjY5NScsXG4gICc0MzE0NDk4MjQnLFxuICAnNDM2MDM1NjcyJyxcbiAgJzQzNjg5NTQ3OCcsXG4gICc0Mzg5NTk0JyxcbiAgJzQzOTk0OTgxMScsXG4gICc0NDU4NzYyNScsXG4gICc0NDY3ODM0MDcnLFxuICAnNDUxODYxMzMzJyxcbiAgJzQ1NTU1MzE2OCcsXG4gICc0Njg5NzI0MjgnLFxuICAnNDczNDA4MjEwJyxcbiAgJzQ3NTMyNTEyNScsXG4gICc0ODAwNTA2MzYnLFxuICAnNDgxNjA4OTEwJyxcbiAgJzQ4MjE1Nzk3NicsXG4gICc0OTc1NjAwMjUnLFxuICAnNDk5NTg2MDQ3JyxcbiAgJzUwODMzMTUyOCcsXG4gICc1MDk2MjMyMTcnLFxuICAnNTA5ODAxMDc1JyxcbiAgJzUxMDQ2OTU3NicsXG4gICc1MjA2ODI1OCcsXG4gICc1MjQ1ODE4ODEnLFxuICAnNTI1NjU3ODg5JyxcbiAgJzUyNjYwNzg2MCcsXG4gICc1Mjc5ODE4OTAnLFxuICAnNTM1ODQ4MjYyJyxcbiAgJzU0MjAwMjM4MicsXG4gICc1NDQ1NTkwOCcsXG4gICc1NTI4MzEwMzMnLFxuICAnNTYxMTkzNjcnLFxuICAnNTg5MzQ4NTY1JyxcbiAgJzU5MDE4MDA4OCcsXG4gICc1OTA0NDkwODEnLFxuICAnNjA1NjQ1NDI4JyxcbiAgJzYwNzY0OTk0OScsXG4gICc2MTMyNTIxNjInLFxuICAnNjE2Mzk4NjgxJyxcbiAgJzYxNjY1MjEzNicsXG4gICc2MjA0MzQwMzYnLFxuICAnNjI4MjU2NTQxJyxcbiAgJzYzMDEyNDMwMicsXG4gICc2Mzc1OTA2ODcnLFxuICAnNjQ1NTk2MzI5JyxcbiAgJzY0NjkyNTI0MScsXG4gICc2NDkwNjgxNDcnLFxuICAnNjYzNzUyMzgyJyxcbiAgJzY2NDg0OTg0MycsXG4gICc2NjY1NTIzMTUnLFxuICAnNjY3Mjg0NDc3JyxcbiAgJzY2NzgwMjIyMycsXG4gICc2NzE1MzMzOCcsXG4gICc2NzIzMDQ3MzAnLFxuICAnNjczNDkwMjYwJyxcbiAgJzY3NTYxNzgzOScsXG4gICc2NzYyODYzODcnLFxuICAnNjc3NTAwMDMnLFxuICAnNjc5MDg4NTU2JyxcbiAgJzY3OTIyNjI2MScsXG4gICc2ODEzMTc1MDYnLFxuICAnNjg0NDk2MDYzJyxcbiAgJzY4NzkyNDczNScsXG4gICc2OTAyMDQ4NDAnLFxuICAnNjk5MTY5MDMzJyxcbiAgJzY5OTU1NDc5NScsXG4gICc2OTk4MzU0MDEnLFxuICAnNzA4NDc4OTU0JyxcbiAgJzcwOTg3NTIyMycsXG4gICc3MTM4NDIxOTknLFxuICAnNzE0MjkxMDg0JyxcbiAgJzcyMTAwNjU0NicsXG4gICc3MjI2NTkwMjQnLFxuICAnNzI0MTgxNDI5JyxcbiAgJzcyODYyMzUwJyxcbiAgJzczODIwOTAxMicsXG4gICc3NDA0NjAzOTYnLFxuICAnNzQzNjY0ODY2JyxcbiAgJzc0OTA3MjQ3NScsXG4gICc3NTA3MzE3ODknLFxuICAnNzU5ODM1MjYyJyxcbiAgJzc2MDE4MDQ1MCcsXG4gICc3NjA2NDU5MTgnLFxuICAnNzYyNDM3OTMnLFxuICAnNzYzNTgwNjA2JyxcbiAgJzc2NDU0NjQxMCcsXG4gICc3NjkyNDYwNTEnLFxuICAnNzcwNDAwMjIzJyxcbiAgJzc3MzY5NzE4OCcsXG4gICc3Nzc4NDYzMjcnLFxuICAnNzc5MTg1ODQ3JyxcbiAgJzc4MTk1MDE5MScsXG4gICc3ODUyNzg2NDUnLFxuICAnNzkxODg4MjcxJyxcbiAgJzc5MzM2MDU5NycsXG4gICc3OTUxMTE2ODUnLFxuICAnNzk5MDM4NjMwJyxcbiAgJzgwMjk0MDg2MCcsXG4gICc4MDM2MjYzMjYnLFxuICAnODA1NDYxMjk3JyxcbiAgJzgwOTUyNTE0MycsXG4gICc4MTI5MTQ5NjYnLFxuICAnODE3NTk2ODEzJyxcbiAgJzgyNjcwMjgxOCcsXG4gICc4Mjk3NDcxMjEnLFxuICAnODMwMDU5NDQwJyxcbiAgJzgzNDkxNzM2NicsXG4gICc4MzUzNDgxMzAnLFxuICAnODM2NjM0Njc1JyxcbiAgJzgzODEzMDM0NycsXG4gICc4Mzk2NjMxOTgnLFxuICAnODQwNzQ4OTQ1JyxcbiAgJzg0NTY5MDE3MycsXG4gICc4NTE5MTg0MTknLFxuICAnODUzNTM1NDI2JyxcbiAgJzg1NTg4MjAyNycsXG4gICc4NTYyMTUzOTknLFxuICAnODY1Mzg3NjE0JyxcbiAgJzg3MDA3NTExNCcsXG4gICc4NzA5MDEwNDYnLFxuICAnODc4MDQxNzM5JyxcbiAgJzg4NDAzNzg0OCcsXG4gICc4ODQ5NDIyNzMnLFxuICAnODg1MDAwMjYzJyxcbiAgJzg4NjAzMDg2NycsXG4gICc4ODc5OTI3OTQnLFxuICAnODg4MDA5NzI5JyxcbiAgJzg4OTQ3MTU3MCcsXG4gICc5MDIxNzYxJyxcbiAgJzkwNDkyMDUwMicsXG4gICc5MDY3NzMyOCcsXG4gICc5MDc2OTUxNDgnLFxuICAnOTExOTYzNTAwJyxcbiAgJzkxOTE2Njg1MCcsXG4gICc5MjY5MDI5MjEnLFxuICAnOTI3MzI3NDUnLFxuICAnOTI4Mjk1NzknLFxuICAnOTMwMzg5OTQnLFxuICAnOTMwNjgxNDE4JyxcbiAgJzkzMjY0MjQyMScsXG4gICc5MzI5NDA4NzEnLFxuICAnOTM4NzU1NDQ1JyxcbiAgJzkzOTgxMDUwMScsXG4gICc5NDczMDMyMDknLFxuICAnOTU2NzcxNTk5JyxcbiAgJzk1ODE2Mzc5JyxcbiAgJzk1ODc0OTAzNCcsXG4gICc5NTk4ODk2NzYnLFxuICAnOTYwNDY2NTA1JyxcbiAgJzk2MjM4MDY3MycsXG4gICc5NjMwOTU0NDYnLFxuICAnOTY1NzI4MDc1JyxcbiAgJzk2ODQ2NjAxMCcsXG4gICc5NzM2MTI5MTYnLFxuICAnOTc2NjAzNzg5JyxcbiAgJzk3ODM2NDU5NycsXG4gICc5ODIxNTIyODAnLFxuICAnOTg1MTg2OCcsXG4gICc5ODY1Mzk4NjMnLFxuICAnOTg4MTQwMDAyJyxcbiAgJzk4OTQ0NDg3OCcsXG4gICc5OTAzMTI5MjInLFxuICAnOTk0ODAxOTgxJyxcbl07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1ZpZGVvRXZlbnRzfSBmcm9tICcuLi8uLi8uLi9zcmMvdmlkZW8taW50ZXJmYWNlJztcbmltcG9ydCB7Y2xvc2VzdCwgZXNjYXBlQ3NzU2VsZWN0b3JJZGVudH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2hhc1RhcEFjdGlvbiwgdGltZVN0clRvTWlsbGlzfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7bGlzdGVuT25jZX0gZnJvbSAnLi4vLi4vLi4vc3JjL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge21hcH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTkVYVF9TQ1JFRU5fQVJFQV9SQVRJTyA9IDAuNzU7XG5cbi8qKiBAY29uc3Qge251bWJlcn0gKi9cbmV4cG9ydCBjb25zdCBQT0xMX0lOVEVSVkFMX01TID0gMzAwO1xuXG4vKiogQGNvbnN0IEBlbnVtICovXG5leHBvcnQgY29uc3QgVGFwTmF2aWdhdGlvbkRpcmVjdGlvbiA9IHtcbiAgJ05FWFQnOiAxLFxuICAnUFJFVklPVVMnOiAyLFxufTtcblxuLyoqIEBjb25zdCAqL1xuY29uc3QgUFJPVEVDVEVEX0VMRU1FTlRTID0gbWFwKHtcbiAgQTogdHJ1ZSxcbiAgQlVUVE9OOiB0cnVlLFxufSk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgdGhlIEFkdmFuY2VtZW50Q29uZmlnLiAgQnkgZGVmYXVsdCwgZG9lcyBub3RoaW5nIG90aGVyIHRoYW5cbiAqIHRyYWNraW5nIGl0cyBpbnRlcm5hbCBzdGF0ZSB3aGVuIHN0YXJ0ZWQvc3RvcHBlZCwgYW5kIGxpc3RlbmVycyB3aWxsIG5ldmVyIGJlXG4gKiBpbnZva2VkLlxuICovXG5leHBvcnQgY2xhc3MgQWR2YW5jZW1lbnRDb25maWcge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PGZ1bmN0aW9uKG51bWJlcik+fSAqL1xuICAgIHRoaXMucHJvZ3Jlc3NMaXN0ZW5lcnNfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8ZnVuY3Rpb24oKT59ICovXG4gICAgdGhpcy5hZHZhbmNlTGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PGZ1bmN0aW9uKCk+fSAqL1xuICAgIHRoaXMucHJldmlvdXNMaXN0ZW5lcnNfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8ZnVuY3Rpb24obnVtYmVyKT59ICovXG4gICAgdGhpcy50YXBOYXZpZ2F0aW9uTGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNSdW5uaW5nXyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyKX0gcHJvZ3Jlc3NMaXN0ZW5lciBBIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB3aGVuIHRoZVxuICAgKiAgICAgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgcGFnZSBoYXMgYmVlbiB1cGRhdGVkLiAgSXQgYWNjZXB0cyBhIG51bWJlclxuICAgKiAgICAgYmV0d2VlbiAwLjAgYW5kIDEuMCBhcyBpdHMgb25seSBhcmd1bWVudCwgdGhhdCByZXByZXNlbnRzIHRoZSBjdXJyZW50XG4gICAqICAgICBwcm9ncmVzcy5cbiAgICovXG4gIGFkZFByb2dyZXNzTGlzdGVuZXIocHJvZ3Jlc3NMaXN0ZW5lcikge1xuICAgIHRoaXMucHJvZ3Jlc3NMaXN0ZW5lcnNfLnB1c2gocHJvZ3Jlc3NMaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBhZHZhbmNlTGlzdGVuZXIgQSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgd2hlbiBhXG4gICAqICAgICBwYWdlIHNob3VsZCBiZSBhZHZhbmNlZC5cbiAgICovXG4gIGFkZEFkdmFuY2VMaXN0ZW5lcihhZHZhbmNlTGlzdGVuZXIpIHtcbiAgICB0aGlzLmFkdmFuY2VMaXN0ZW5lcnNfLnB1c2goYWR2YW5jZUxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHByZXZpb3VzTGlzdGVuZXIgQSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgd2hlbiBhXG4gICAqICAgICBwYWdlIHNob3VsZCBnbyBiYWNrIHRvIHRoZSBwcmV2aW91cyBwYWdlLlxuICAgKi9cbiAgYWRkUHJldmlvdXNMaXN0ZW5lcihwcmV2aW91c0xpc3RlbmVyKSB7XG4gICAgdGhpcy5wcmV2aW91c0xpc3RlbmVyc18ucHVzaChwcmV2aW91c0xpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlcil9IG9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyIEEgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIHdoZW4gYVxuICAgKiBuYXZpZ2F0aW9uIGxpc3RlbmVyIHRvIGJlIGZpcmVkLlxuICAgKi9cbiAgYWRkT25UYXBOYXZpZ2F0aW9uTGlzdGVuZXIob25UYXBOYXZpZ2F0aW9uTGlzdGVuZXIpIHtcbiAgICB0aGlzLnRhcE5hdmlnYXRpb25MaXN0ZW5lcnNfLnB1c2gob25UYXBOYXZpZ2F0aW9uTGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgYWR2YW5jZW1lbnQgY29uZmlndXJhdGlvbiBzaG91bGQgYmVnaW4gdGFraW5nIGVmZmVjdC5cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuaXNSdW5uaW5nXyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBhZHZhbmNlbWVudCBjb25maWd1cmF0aW9uIHNob3VsZCBjZWFzZSB0YWtpbmcgZWZmZWN0LlxuICAgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmlzUnVubmluZ18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNSdW5uaW5nXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldFByb2dyZXNzKCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgb25Qcm9ncmVzc1VwZGF0ZSgpIHtcbiAgICBjb25zdCBwcm9ncmVzcyA9IHRoaXMuZ2V0UHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnByb2dyZXNzTGlzdGVuZXJzXy5mb3JFYWNoKHByb2dyZXNzTGlzdGVuZXIgPT4ge1xuICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcihwcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBvbkFkdmFuY2UoKSB7XG4gICAgdGhpcy5hZHZhbmNlTGlzdGVuZXJzXy5mb3JFYWNoKGFkdmFuY2VMaXN0ZW5lciA9PiB7XG4gICAgICBhZHZhbmNlTGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJvdGVjdGVkICovXG4gIG9uUHJldmlvdXMoKSB7XG4gICAgdGhpcy5wcmV2aW91c0xpc3RlbmVyc18uZm9yRWFjaChwcmV2aW91c0xpc3RlbmVyID0+IHtcbiAgICAgIHByZXZpb3VzTGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbmF2aWdhdGlvbkRpcmVjdGlvbiBEaXJlY3Rpb24gb2YgbmF2aWdhdGlvblxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBvblRhcE5hdmlnYXRpb24obmF2aWdhdGlvbkRpcmVjdGlvbikge1xuICAgIHRoaXMudGFwTmF2aWdhdGlvbkxpc3RlbmVyc18uZm9yRWFjaChuYXZpZ2F0aW9uTGlzdGVuZXIgPT4ge1xuICAgICAgbmF2aWdhdGlvbkxpc3RlbmVyKG5hdmlnYXRpb25EaXJlY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGFuIEFkdmFuY2VtZW50Q29uZmlnIG9iamVjdCBmb3IgdGhlIHNwZWNpZmllZCBhbXAtc3RvcnktcGFnZS5cbiAgICogQHBhcmFtIHshLi9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2V9IHBhZ2VcbiAgICogQHJldHVybiB7IUFkdmFuY2VtZW50Q29uZmlnfVxuICAgKi9cbiAgc3RhdGljIGZvclBhZ2UocGFnZSkge1xuICAgIGNvbnN0IHJvb3RFbCA9IHBhZ2UuZWxlbWVudDtcbiAgICBjb25zdCB3aW4gPSAvKiogQHR5cGUgeyFXaW5kb3d9ICovIChyb290RWwub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG4gICAgY29uc3QgYXV0b0FkdmFuY2VTdHIgPSByb290RWwuZ2V0QXR0cmlidXRlKCdhdXRvLWFkdmFuY2UtYWZ0ZXInKTtcblxuICAgIGNvbnN0IHN1cHBvcnRlZEFkdmFuY2VtZW50TW9kZXMgPSBbXG4gICAgICBuZXcgTWFudWFsQWR2YW5jZW1lbnQocm9vdEVsKSxcbiAgICAgIFRpbWVCYXNlZEFkdmFuY2VtZW50LmZyb21BdXRvQWR2YW5jZVN0cmluZyhhdXRvQWR2YW5jZVN0ciwgd2luKSxcbiAgICAgIE1lZGlhQmFzZWRBZHZhbmNlbWVudC5mcm9tQXV0b0FkdmFuY2VTdHJpbmcoYXV0b0FkdmFuY2VTdHIsIHdpbiwgcm9vdEVsKSxcbiAgICBdLmZpbHRlcih4ID0+IHggIT09IG51bGwpO1xuXG4gICAgaWYgKHN1cHBvcnRlZEFkdmFuY2VtZW50TW9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3IEFkdmFuY2VtZW50Q29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnRlZEFkdmFuY2VtZW50TW9kZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gc3VwcG9ydGVkQWR2YW5jZW1lbnRNb2Rlc1swXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE11bHRpcGxlQWR2YW5jZW1lbnRDb25maWcoc3VwcG9ydGVkQWR2YW5jZW1lbnRNb2Rlcyk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEFuIEFkdmFuY2VtZW50Q29uZmlnIGltcGxlbWVudGF0aW9uIHRoYXQgY29tcG9zZXMgbXVsdGlwbGUgb3RoZXJcbiAqIEFkdmFuY2VtZW50Q29uZmlnIGltcGxlbWVudGF0aW9ucyBieSBzaW1wbHkgZGVsZWdhdGluZyBhbGwgb2YgaXRzIGNhbGxzIHRvXG4gKiBhbiBhcnJheSBvZiB1bmRlcmx5aW5nIGFkdmFuY2VtZW50IG1vZGVzLlxuICovXG5jbGFzcyBNdWx0aXBsZUFkdmFuY2VtZW50Q29uZmlnIGV4dGVuZHMgQWR2YW5jZW1lbnRDb25maWcge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IUFkdmFuY2VtZW50Q29uZmlnPn0gYWR2YW5jZW1lbnRNb2RlcyBBIGxpc3Qgb2ZcbiAgICogICAgIEFkdmFuY2VtZW50Q29uZmlncyB0byB3aGljaCBhbGwgY2FsbHMgc2hvdWxkIGJlIGRlbGVnYXRlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFkdmFuY2VtZW50TW9kZXMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PCFBZHZhbmNlbWVudENvbmZpZz59ICovXG4gICAgdGhpcy5hZHZhbmNlbWVudE1vZGVzXyA9IGFkdmFuY2VtZW50TW9kZXM7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFkZFByb2dyZXNzTGlzdGVuZXIocHJvZ3Jlc3NMaXN0ZW5lcikge1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18uZm9yRWFjaChhZHZhbmNlbWVudE1vZGUgPT4ge1xuICAgICAgYWR2YW5jZW1lbnRNb2RlLmFkZFByb2dyZXNzTGlzdGVuZXIocHJvZ3Jlc3NMaXN0ZW5lcik7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFkZE9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKG9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKSB7XG4gICAgdGhpcy5hZHZhbmNlbWVudE1vZGVzXy5mb3JFYWNoKGFkdmFuY2VtZW50TW9kZSA9PiB7XG4gICAgICBhZHZhbmNlbWVudE1vZGUuYWRkT25UYXBOYXZpZ2F0aW9uTGlzdGVuZXIob25UYXBOYXZpZ2F0aW9uTGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZGRBZHZhbmNlTGlzdGVuZXIoYWR2YW5jZUxpc3RlbmVyKSB7XG4gICAgdGhpcy5hZHZhbmNlbWVudE1vZGVzXy5mb3JFYWNoKGFkdmFuY2VtZW50TW9kZSA9PiB7XG4gICAgICBhZHZhbmNlbWVudE1vZGUuYWRkQWR2YW5jZUxpc3RlbmVyKGFkdmFuY2VMaXN0ZW5lcik7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFkZFByZXZpb3VzTGlzdGVuZXIocHJldmlvdXNMaXN0ZW5lcikge1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18uZm9yRWFjaChhZHZhbmNlbWVudE1vZGUgPT4ge1xuICAgICAgYWR2YW5jZW1lbnRNb2RlLmFkZFByZXZpb3VzTGlzdGVuZXIocHJldmlvdXNMaXN0ZW5lcik7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG4gICAgdGhpcy5hZHZhbmNlbWVudE1vZGVzXy5mb3JFYWNoKGFkdmFuY2VtZW50TW9kZSA9PiB7XG4gICAgICBhZHZhbmNlbWVudE1vZGUuc3RhcnQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gICAgdGhpcy5hZHZhbmNlbWVudE1vZGVzXy5mb3JFYWNoKGFkdmFuY2VtZW50TW9kZSA9PiB7XG4gICAgICBhZHZhbmNlbWVudE1vZGUuc3RvcCgpO1xuICAgIH0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBBbHdheXMgcHJvdmlkZXMgYSBwcm9ncmVzcyBvZiAxLjAuICBBZHZhbmNlcyB3aGVuIHRoZSB1c2VyIHRhcHMgdGhlIHJpZ2h0bW9zdFxuICogNzUlIG9mIHRoZSBzY3JlZW47IHRyaWdnZXJzIHRoZSBwcmV2aW91cyBsaXN0ZW5lciB3aGVuIHRoZSB1c2VyIHRhcHMgdGhlXG4gKiBsZWZ0bW9zdCAyNSUgb2YgdGhlIHNjcmVlbi5cbiAqL1xuY2xhc3MgTWFudWFsQWR2YW5jZW1lbnQgZXh0ZW5kcyBBZHZhbmNlbWVudENvbmZpZyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQsIHdoZW4gY2xpY2tlZCwgY2FuIGNhdXNlXG4gICAqICAgICBhZHZhbmNpbmcgdG8gdGhlIG5leHQgcGFnZSBvciBnb2luZyBiYWNrIHRvIHRoZSBwcmV2aW91cy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuICAgIHRoaXMuY2xpY2tMaXN0ZW5lcl8gPSB0aGlzLm1heWJlUGVyZm9ybU5hdmlnYXRpb25fLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYXNBdXRvQWR2YW5jZVN0cl8gPSB0aGlzLmVsZW1lbnRfLmdldEF0dHJpYnV0ZSgnYXV0by1hZHZhbmNlLWFmdGVyJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG4gICAgdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tMaXN0ZW5lcl8sIHRydWUpO1xuICAgIGlmICghdGhpcy5oYXNBdXRvQWR2YW5jZVN0cl8pIHtcbiAgICAgIHN1cGVyLm9uUHJvZ3Jlc3NVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0b3AoKSB7XG4gICAgc3VwZXIuc3RvcCgpO1xuICAgIHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrTGlzdGVuZXJfLCB0cnVlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIDEuMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBjbGljayBzaG91bGQgYmUgdXNlZCBmb3IgbmF2aWdhdGlvbi4gIE5hdmlnYXRlIHNob3VsZFxuICAgKiBvY2N1ciB1bmxlc3MgdGhlIGNsaWNrIGlzIG9uIHRoZSBzeXN0ZW0gbGF5ZXIsIG9yIG9uIGFuIGVsZW1lbnQgdGhhdFxuICAgKiBkZWZpbmVzIG9uPVwidGFwOi4uLlwiXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBlICdjbGljaycgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUsIGlmIHRoZSBjbGljayBzaG91bGQgYmUgdXNlZCBmb3IgbmF2aWdhdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzTmF2aWdhdGlvbmFsQ2xpY2tfKGUpIHtcbiAgICByZXR1cm4gIWNsb3Nlc3QoZGV2KCkuYXNzZXJ0RWxlbWVudChlLnRhcmdldCksIGVsID0+IHtcbiAgICAgIHJldHVybiBoYXNUYXBBY3Rpb24oZWwpO1xuICAgIH0sIC8qIG9wdF9zdG9wQXQgKi8gdGhpcy5lbGVtZW50Xyk7XG4gIH1cblxuICAvKipcbiAgICogV2Ugd2FudCBjbGlja3Mgb24gY2VydGFpbiBlbGVtZW50cyB0byBiZSBleGVtcHRlZCBmcm9tIG5vcm1hbCBwYWdlXG4gICAqIG5hdmlnYXRpb25cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc1Byb3RlY3RlZFRhcmdldF8oZXZlbnQpIHtcbiAgICByZXR1cm4gISFQUk9URUNURURfRUxFTUVOVFNbZXZlbnQudGFyZ2V0LnRhZ05hbWVdO1xuICB9XG5cblxuICAvKipcbiAgICogUGVyZm9ybXMgYSBzeXN0ZW0gbmF2aWdhdGlvbiBpZiBpdCBpcyBkZXRlcm1pbmVkIHRoYXQgdGhlIHNwZWNpZmllZCBldmVudFxuICAgKiB3YXMgYSBjbGljayBpbnRlbmRlZCBmb3IgbmF2aWdhdGlvbi5cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50ICdjbGljaycgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1heWJlUGVyZm9ybU5hdmlnYXRpb25fKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGlvbmFsQ2xpY2tfKGV2ZW50KSB8fCB0aGlzLmlzUHJvdGVjdGVkVGFyZ2V0XyhldmVudCkpIHtcbiAgICAgIC8vIElmIHRoZSBzeXN0ZW0gZG9lc24ndCBuZWVkIHRvIGhhbmRsZSB0aGlzIGNsaWNrLCB0aGVuIHdlIGNhbiBzaW1wbHlcbiAgICAgIC8vIHJldHVybiBhbmQgbGV0IHRoZSBldmVudCBwcm9wYWdhdGUgYXMgaXQgd291bGQgaGF2ZSBvdGhlcndpc2UuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBUT0RPKG5ld211aXMpOiBUaGlzIHdpbGwgbmVlZCB0byBiZSBmbGlwcGVkIGZvciBSVEwuXG4gICAgY29uc3QgZWxSZWN0ID0gdGhpcy5lbGVtZW50Xy4vKk9LKi9nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIC8vIFVzaW5nIGBsZWZ0YCBhcyBhIGZhbGxiYWNrIHNpbmNlIFNhZmFyaSByZXR1cm5zIGEgQ2xpZW50UmVjdCBpbiBzb21lXG4gICAgLy8gY2FzZXMuXG4gICAgY29uc3Qgb2Zmc2V0TGVmdCA9ICgneCcgaW4gZWxSZWN0KSA/IGVsUmVjdC54IDogZWxSZWN0LmxlZnQ7XG4gICAgY29uc3Qgb2Zmc2V0V2lkdGggPSBlbFJlY3Qud2lkdGg7XG5cbiAgICBjb25zdCBuZXh0U2NyZWVuQXJlYU1pbiA9IG9mZnNldExlZnQgK1xuICAgICAgICAoKDEgLSBORVhUX1NDUkVFTl9BUkVBX1JBVElPKSAqIG9mZnNldFdpZHRoKTtcbiAgICBjb25zdCBuZXh0U2NyZWVuQXJlYU1heCA9IG9mZnNldExlZnQgKyBvZmZzZXRXaWR0aDtcblxuICAgIGlmIChldmVudC5wYWdlWCA+PSBuZXh0U2NyZWVuQXJlYU1pbiAmJiBldmVudC5wYWdlWCA8IG5leHRTY3JlZW5BcmVhTWF4KSB7XG4gICAgICB0aGlzLm9uVGFwTmF2aWdhdGlvbihUYXBOYXZpZ2F0aW9uRGlyZWN0aW9uLk5FWFQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQucGFnZVggPj0gb2Zmc2V0TGVmdCAmJiBldmVudC5wYWdlWCA8IG5leHRTY3JlZW5BcmVhTWluKSB7XG4gICAgICB0aGlzLm9uVGFwTmF2aWdhdGlvbihUYXBOYXZpZ2F0aW9uRGlyZWN0aW9uLlBSRVZJT1VTKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFByb3ZpZGVzIHByb2dyZXNzIGFuZCBhZHZhbmNlbWVudCBiYXNlZCBvbiBhIGZpeGVkIGR1cmF0aW9uIG9mIHRpbWUsXG4gKiBzcGVjaWZpZWQgaW4gZWl0aGVyIHNlY29uZHMgb3IgbWlsbGlzZWNvbmRzLlxuICovXG5jbGFzcyBUaW1lQmFzZWRBZHZhbmNlbWVudCBleHRlbmRzIEFkdmFuY2VtZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luIFRoZSBXaW5kb3cgb2JqZWN0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlNcyBUaGUgZHVyYXRpb24gdG8gd2FpdCBiZWZvcmUgYWR2YW5jaW5nLlxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBkZWxheU1zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3Iod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbiAgICB0aGlzLmRlbGF5TXNfID0gZGVsYXlNcztcblxuICAgIC8qKiBAcHJpdmF0ZSB7P251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0VGltZU1zXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcnxzdHJpbmd8bnVsbH0gKi9cbiAgICB0aGlzLnRpbWVvdXRJZF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGN1cnJlbnQgdGltZXN0YW1wLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDdXJyZW50VGltZXN0YW1wTXNfKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuc3RhcnRUaW1lTXNfID0gdGhpcy5nZXRDdXJyZW50VGltZXN0YW1wTXNfKCk7XG5cbiAgICB0aGlzLnRpbWVvdXRJZF8gPSB0aGlzLnRpbWVyXy5kZWxheSgoKSA9PiB0aGlzLm9uQWR2YW5jZSgpLCB0aGlzLmRlbGF5TXNfKTtcblxuICAgIHRoaXMudGltZXJfLnBvbGwoUE9MTF9JTlRFUlZBTF9NUywgKCkgPT4ge1xuICAgICAgdGhpcy5vblByb2dyZXNzVXBkYXRlKCk7XG4gICAgICByZXR1cm4gIXRoaXMuaXNSdW5uaW5nKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0b3AoKSB7XG4gICAgc3VwZXIuc3RvcCgpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dElkXyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy50aW1lcl8uY2FuY2VsKHRoaXMudGltZW91dElkXyk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcm9ncmVzcygpIHtcbiAgICBpZiAodGhpcy5zdGFydFRpbWVNc18gPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIGNvbnN0IHByb2dyZXNzID1cbiAgICAgICAgKHRoaXMuZ2V0Q3VycmVudFRpbWVzdGFtcE1zXygpIC0gdGhpcy5zdGFydFRpbWVNc18pIC8gdGhpcy5kZWxheU1zXztcblxuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gaW5zdGFuY2Ugb2YgVGltZUJhc2VkQWR2YW5jZW1lbnQgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZVxuICAgKiBhdXRvLWFkdmFuY2Ugc3RyaW5nIChmcm9tIHRoZSAnYXV0by1hZHZhbmNlLWFmdGVyJyBhdHRyaWJ1dGUgb24gdGhlIHBhZ2UpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXV0b0FkdmFuY2VTdHIgVGhlIHZhbHVlIG9mIHRoZSBhdXRvLWFkdmFuY2UtYWZ0ZXJcbiAgICogICAgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7P0FkdmFuY2VtZW50Q29uZmlnfSBBbiBBZHZhbmNlbWVudENvbmZpZywgaWYgdGltZS1iYXNlZFxuICAgKiAgICAgYXV0by1hZHZhbmNlIGlzIHN1cHBvcnRlZCBmb3IgdGhlIHNwZWNpZmllZCBhdXRvLWFkdmFuY2Ugc3RyaW5nOyBudWxsXG4gICAqICAgICBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgZnJvbUF1dG9BZHZhbmNlU3RyaW5nKGF1dG9BZHZhbmNlU3RyLCB3aW4pIHtcbiAgICBpZiAoIWF1dG9BZHZhbmNlU3RyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxheU1zID0gdGltZVN0clRvTWlsbGlzKGF1dG9BZHZhbmNlU3RyKTtcbiAgICBpZiAoZGVsYXlNcyA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKGRlbGF5TXMpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRpbWVCYXNlZEFkdmFuY2VtZW50KHdpbiwgTnVtYmVyKGRlbGF5TXMpKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUHJvdmlkZXMgcHJvZ3Jlc3MgYW5kIGFkdmFuY2VzIHBhZ2VzIGJhc2VkIG9uIHRoZSBjb21wbGV0aW9uIHBlcmNlbnRhZ2Ugb2ZcbiAqIHBsYXliYWNrIG9mIGFuIEhUTUxNZWRpYUVsZW1lbnQgb3IgYSB2aWRlbyB0aGF0IGltcGxlbWVudHMgdGhlIEFNUFxuICogdmlkZW8taW50ZXJmYWNlLlxuICpcbiAqIFRoZXNlIGFyZSBjb21iaW5lZCBpbnRvIGEgc2luZ2xlIEFkdmFuY2VtZW50Q29uZmlnIGltcGxlbWVudGF0aW9uIGJlY2F1c2Ugd2VcbiAqIG1heSBub3Qga25vdyBhdCBidWlsZCB0aW1lIHdoZXRoZXIgYSB2aWRlbyBpbXBsZW1lbnRzIHRoZSBBTVBcbiAqIHZpZGVvLWludGVyZmFjZSwgc2luY2UgdGhhdCBpcyBkZXBlbmRlbnQgb24gdGhlIGFtcC12aWRlbyBidWlsZENhbGxiYWNrXG4gKiBoYXZpbmcgYmVlbiBleGVjdXRlZCBiZWZvcmUgdGhlIGFtcC1zdG9yeS1wYWdlIGJ1aWxkQ2FsbGJhY2ssIHdoaWNoIGlzIG5vdFxuICogZ3VhcmFudGVlZC5cbiAqL1xuY2xhc3MgTWVkaWFCYXNlZEFkdmFuY2VtZW50IGV4dGVuZHMgQWR2YW5jZW1lbnRDb25maWcge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBlbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3Iod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLm1lZGlhRWxlbWVudF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Li4vLi4vLi4vc3JjL3ZpZGVvLWludGVyZmFjZS5WaWRlb0ludGVyZmFjZX0gKi9cbiAgICB0aGlzLnZpZGVvXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBlbGVtZW50IGZvciBhdXRvIGFkdmFuY2VtZW50IGltcGxlbWVudHMgdGhlIHZpZGVvXG4gICAqIGludGVyZmFjZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGltcGxlbWVudHMgdGhlIHZpZGVvXG4gICAqICAgICBpbnRlcmZhY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc1ZpZGVvSW50ZXJmYWNlVmlkZW9fKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucygnaS1hbXBodG1sLXZpZGVvLWludGVyZmFjZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gSFRNTE1lZGlhRWxlbWVudCBmcm9tIGFuIGVsZW1lbnQgdGhhdCB3cmFwcyBpdC5cbiAgICogQHJldHVybiB7P0VsZW1lbnR9IFRoZSB1bmRlcmx5aW5nIEhUTUxNZWRpYUVsZW1lbnQsIGlmIG9uZSBleGlzdHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRNZWRpYUVsZW1lbnRfKCkge1xuICAgIGNvbnN0IHRhZ05hbWUgPSB0aGlzLmVsZW1lbnRfLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRfIGluc3RhbmNlb2YgSFRNTE1lZGlhRWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudF87XG4gICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmhhc0F0dHJpYnV0ZSgnYmFja2dyb3VuZC1hdWRpbycpICYmXG4gICAgICAgICh0YWdOYW1lID09PSAnYW1wLXN0b3J5JyB8fCB0YWdOYW1lID09PSAnYW1wLXN0b3J5LXBhZ2UnKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLWF1ZGlvJyk7XG4gICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnYW1wLWF1ZGlvJykge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignYXVkaW8nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIC8vIFByZXZlbnRzIHJhY2UgY29uZGl0aW9uIHdoZW4gY2hlY2tpbmcgZm9yIHZpZGVvIGludGVyZmFjZSBjbGFzc25hbWUuXG4gICAgKHRoaXMuZWxlbWVudF8ud2hlbkJ1aWx0ID8gdGhpcy5lbGVtZW50Xy53aGVuQnVpbHQoKSA6IFByb21pc2UucmVzb2x2ZSgpKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnN0YXJ0V2hlbkJ1aWx0XygpKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydFdoZW5CdWlsdF8oKSB7XG4gICAgaWYgKHRoaXMuaXNWaWRlb0ludGVyZmFjZVZpZGVvXygpKSB7XG4gICAgICB0aGlzLnN0YXJ0VmlkZW9JbnRlcmZhY2VFbGVtZW50XygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZWRpYUVsZW1lbnRfKSB7XG4gICAgICB0aGlzLm1lZGlhRWxlbWVudF8gPSB0aGlzLmdldE1lZGlhRWxlbWVudF8oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tZWRpYUVsZW1lbnRfKSB7XG4gICAgICB0aGlzLnN0YXJ0SHRtbE1lZGlhRWxlbWVudF8oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1c2VyKCkuZXJyb3IoJ0FNUC1TVE9SWS1QQUdFJyxcbiAgICAgICAgYEVsZW1lbnQgd2l0aCBJRCAke3RoaXMuZWxlbWVudF8uaWR9IGlzIG5vdCBhIG1lZGlhIGVsZW1lbnQgYCArXG4gICAgICAgICdzdXBwb3J0ZWQgZm9yIGF1dG9tYXRpYyBhZHZhbmNlbWVudC4nKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydEh0bWxNZWRpYUVsZW1lbnRfKCkge1xuICAgIGNvbnN0IG1lZGlhRWxlbWVudCA9IGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5tZWRpYUVsZW1lbnRfLFxuICAgICAgICAnTWVkaWEgZWxlbWVudCB3YXMgdW5zcGVjaWZpZWQuJyk7XG4gICAgbGlzdGVuT25jZShtZWRpYUVsZW1lbnQsICdlbmRlZCcsICgpID0+IHRoaXMub25BZHZhbmNlKCkpO1xuICAgIGxpc3Rlbk9uY2UobWVkaWFFbGVtZW50LCAndGltZXVwZGF0ZScsICgpID0+IHRoaXMub25Qcm9ncmVzc1VwZGF0ZSgpKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydFZpZGVvSW50ZXJmYWNlRWxlbWVudF8oKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5nZXRJbXBsKCkudGhlbih2aWRlbyA9PiB7XG4gICAgICB0aGlzLnZpZGVvXyA9IHZpZGVvO1xuICAgIH0pO1xuXG4gICAgbGlzdGVuT25jZSh0aGlzLmVsZW1lbnRfLCBWaWRlb0V2ZW50cy5FTkRFRCwgKCkgPT4gdGhpcy5vbkFkdmFuY2UoKSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9KTtcblxuICAgIHRoaXMudGltZXJfLnBvbGwoUE9MTF9JTlRFUlZBTF9NUywgKCkgPT4ge1xuICAgICAgdGhpcy5vblByb2dyZXNzVXBkYXRlKCk7XG4gICAgICByZXR1cm4gIXRoaXMuaXNSdW5uaW5nKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0b3AoKSB7XG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBleHBsaWNpdGx5IHN0b3AgdGhlIHBvbGxpbmcgb3IgbWVkaWEgZXZlbnRzIGxpc3RlZFxuICAgIC8vIGFib3ZlLCBzaW5jZSB0aGV5IGFyZSBhbHJlYWR5IGJvdW5kIHRvIGVpdGhlciB0aGUgcGxheWJhY2sgb2YgdGhlIG1lZGlhXG4gICAgLy8gb24gdGhlIHBhZ2UsIG9yIHRoZSBpc1J1bm5pbmcgc3RhdGUgb2YgdGhpcyBBZHZhbmNlbWVudENvbmZpZy5cbiAgICBzdXBlci5zdG9wKCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldFByb2dyZXNzKCkge1xuICAgIGlmICh0aGlzLmlzVmlkZW9JbnRlcmZhY2VWaWRlb18oKSkge1xuICAgICAgaWYgKHRoaXMudmlkZW9fICYmIHRoaXMudmlkZW9fLmdldER1cmF0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9fLmdldEN1cnJlbnRUaW1lKCkgLyB0aGlzLnZpZGVvXy5nZXREdXJhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tZWRpYUVsZW1lbnRfICYmIHRoaXMubWVkaWFFbGVtZW50Xy5kdXJhdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMubWVkaWFFbGVtZW50Xy5jdXJyZW50VGltZSAvIHRoaXMubWVkaWFFbGVtZW50Xy5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwZXIuZ2V0UHJvZ3Jlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIGluc3RhbmNlIG9mIE1lZGlhQmFzZWRBZHZhbmNlbWVudCBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlXG4gICAqIGF1dG8tYWR2YW5jZSBzdHJpbmcgKGZyb20gdGhlICdhdXRvLWFkdmFuY2UtYWZ0ZXInIGF0dHJpYnV0ZSBvbiB0aGUgcGFnZSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdXRvQWR2YW5jZVN0ciBUaGUgdmFsdWUgb2YgdGhlIGF1dG8tYWR2YW5jZS1hZnRlclxuICAgKiAgICAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290RWxcbiAgICogQHJldHVybiB7P0FkdmFuY2VtZW50Q29uZmlnfSBBbiBBZHZhbmNlbWVudENvbmZpZywgaWYgbWVkaWEtZWxlbWVudC1iYXNlZFxuICAgKiAgICAgYXV0by1hZHZhbmNlIGlzIHN1cHBvcnRlZCBmb3IgdGhlIHNwZWNpZmllZCBhdXRvLWFkdmFuY2Ugc3RyaW5nOyBudWxsXG4gICAqICAgICBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgZnJvbUF1dG9BZHZhbmNlU3RyaW5nKGF1dG9BZHZhbmNlU3RyLCB3aW4sIHJvb3RFbCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gcm9vdEVsLnF1ZXJ5U2VsZWN0b3IoYCMke1xuICAgICAgICBlc2NhcGVDc3NTZWxlY3RvcklkZW50KGF1dG9BZHZhbmNlU3RyKVxuICAgICAgfWApO1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgTWVkaWFCYXNlZEFkdmFuY2VtZW50KHdpbiwgZWxlbWVudCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2NoaWxkRWxlbWVudHNCeVRhZywgbWF0Y2hlc30gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2lzRXhwZXJpbWVudE9ufSBmcm9tICcuLi8uLi8uLi9zcmMvZXhwZXJpbWVudHMnO1xuaW1wb3J0IHtweCwgc2V0SW1wb3J0YW50U3R5bGVzLCBzZXRTdHlsZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3N0eWxlJztcbmltcG9ydCB7dGhyb3R0bGV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9yYXRlLWxpbWl0JztcbmltcG9ydCB7dG9BcnJheSwgdG9XaW59IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge3RyeVJlc29sdmV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9wcm9taXNlJztcbmltcG9ydCB7dW5zY2FsZWRDbGllbnRSZWN0fSBmcm9tICcuL3V0aWxzJztcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBNSU5fTEFZRVJfV0lEVEhfUFggPSAzODA7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTUFYX0xBWUVSX1dJRFRIX1BYID0gNDYwO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFNDQUxJTkdfQVBQTElFRF9DTEFTU05BTUUgPSAnaS1hbXBodG1sLXN0b3J5LXNjYWxlZCc7XG5cblxuLyoqIEBzdHJ1Y3QgQHR5cGVkZWYge3tmYWN0b3I6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9fSAqL1xubGV0IFRhcmdldERpbWVuc2lvbnNEZWY7XG5cblxuLyoqXG4gKiBAc3RydWN0XG4gKiBAdHlwZWRlZiB7e1xuICogICByZWxhdGl2ZVdpZHRoOiBudW1iZXIsXG4gKiAgIHJlbGF0aXZlSGVpZ2h0OiBudW1iZXIsXG4gKiAgIG1hdHJpeDogP0FycmF5PG51bWJlcj4sXG4gKiB9fVxuICovXG5sZXQgU2NhbGFibGVEaW1lbnNpb25zRGVmO1xuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gc2l6ZXJcbiAqIEByZXR1cm4geyFUYXJnZXREaW1lbnNpb25zRGVmfVxuICovXG5mdW5jdGlvbiB0YXJnZXREaW1lbnNpb25zRm9yKHNpemVyKSB7XG4gIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHVuc2NhbGVkQ2xpZW50UmVjdChzaXplcik7XG5cbiAgY29uc3QgcmF0aW8gPSB3aWR0aCAvIGhlaWdodDtcblxuICBjb25zdCB0YXJnZXRXaWR0aCA9IE1hdGgubWluKE1BWF9MQVlFUl9XSURUSF9QWCxcbiAgICAgIE1hdGgubWF4KHdpZHRoLCBNYXRoLm1heCgxLCByYXRpbykgKiBNSU5fTEFZRVJfV0lEVEhfUFgpKTtcblxuICBjb25zdCB0YXJnZXRIZWlnaHQgPSAodGFyZ2V0V2lkdGggLyByYXRpbyk7XG5cbiAgY29uc3QgZmFjdG9yID0gd2lkdGggLyB0YXJnZXRXaWR0aDtcblxuICByZXR1cm4ge2ZhY3Rvciwgd2lkdGg6IHRhcmdldFdpZHRoLCBoZWlnaHQ6IHRhcmdldEhlaWdodH07XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gZmFjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAqIEBwYXJhbSB7IUFycmF5PG51bWJlcj59IG1hdHJpeFxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsICo+fVxuICovXG5mdW5jdGlvbiBzY2FsZVRyYW5zZm9ybShmYWN0b3IsIHdpZHRoLCBoZWlnaHQsIG1hdHJpeCkge1xuICAvLyBUT0RPKGFsYW5vcm96Y28sICMxMjkzNCk6IFRyYW5zbGF0ZSB2YWx1ZXMgYXJlIG5vdCBjb3JyZWN0bHkgY2FsY3VsYXRlZCBpZlxuICAvLyBgc2NhbGVgLCBgc2tld2Agb3IgYHJvdGF0ZWAgaGF2ZSBiZWVuIHVzZXItZGVmaW5lZC5cbiAgY29uc3QgdHJhbnNsYXRlWCA9ICgod2lkdGggKiBmYWN0b3IpIC8gMikgLSAod2lkdGggLyAyKTtcbiAgY29uc3QgdHJhbnNsYXRlWSA9ICgoaGVpZ2h0ICogZmFjdG9yKSAvIDIpIC0gKGhlaWdodCAvIDIpO1xuICByZXR1cm4gW1xuICAgIG1hdHJpeFswXSAqIGZhY3RvcixcbiAgICBtYXRyaXhbMV0sXG4gICAgbWF0cml4WzJdLFxuICAgIG1hdHJpeFszXSAqIGZhY3RvcixcbiAgICBtYXRyaXhbNF0gKyB0cmFuc2xhdGVYLFxuICAgIG1hdHJpeFs1XSArIHRyYW5zbGF0ZVksXG4gIF07XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYWdlXG4gKiBAcmV0dXJuIHshQXJyYXk8IUVsZW1lbnQ+fVxuICovXG5mdW5jdGlvbiBzY2FsYWJsZUVsZW1lbnRzKHBhZ2UpIHtcbiAgcmV0dXJuIHRvQXJyYXkoY2hpbGRFbGVtZW50c0J5VGFnKHBhZ2UsICdhbXAtc3RvcnktZ3JpZC1sYXllcicpKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU2NhbGluZ0VuYWJsZWQocGFnZSkge1xuICAvLyBUT0RPKGFsYW5vcm96Y28sICMxMjkwMik6IENsZWFuIHVwIGV4cGVyaW1lbnQgZmxhZy5cbiAgLy8gTk9URShhbGFub3JvemNvKTogRXhwZXJpbWVudCBmbGFnIGlzIHRlbXBvcmFyeS4gTm8gbmVlZCB0byBjbHV0dGVyIHRoZVxuICAvLyBzaWduYXR1cmVzIGluIHRoaXMgZnVuY3Rpb24gcGF0aCBieSBhZGRpbmcgYHdpbmAgYXMgYSBwYXJhbWV0ZXIuXG4gIGNvbnN0IHdpbiA9IHRvV2luKHBhZ2Uub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG4gIGlmIChpc0V4cGVyaW1lbnRPbih3aW4sICdhbXAtc3Rvcnktc2NhbGluZycpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHBhZ2UuZ2V0QXR0cmlidXRlKCdzY2FsaW5nJykgPT0gJ3JlbGF0aXZlJztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU2NhbGluZ0FwcGxpZWQocGFnZSkge1xuICByZXR1cm4gcGFnZS5jbGFzc0xpc3QuY29udGFpbnMoU0NBTElOR19BUFBMSUVEX0NMQVNTTkFNRSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYWdlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQXBwbGllZFxuICovXG5mdW5jdGlvbiBtYXJrU2NhbGluZ0FwcGxpZWQocGFnZSwgaXNBcHBsaWVkID0gdHJ1ZSkge1xuICBwYWdlLmNsYXNzTGlzdC50b2dnbGUoU0NBTElOR19BUFBMSUVEX0NMQVNTTkFNRSwgaXNBcHBsaWVkKTtcbn1cblxuXG4vKipcbiAqIFJlcXVpcmVkIGZvciBsYXp5IGV2YWx1YXRpb24gYWZ0ZXIgcmVzaXplLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFnZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gd2l0aGluUmFuZ2UocGFnZSkge1xuICByZXR1cm4gbWF0Y2hlcyhwYWdlLCAnW2FjdGl2ZV0sIFtkaXN0YW5jZT1cIjFcIl0sIFtkZXNrdG9wXSA+IFtkaXN0YW5jZT1cIjJcIl0nKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Nzc1pvb21TdXBwb3J0ZWQod2luKSB7XG4gIC8vIElFIHN1cHBvcnRzIGB6b29tYCwgYnV0IG5vdCBgQ1NTLnN1cHBvcnRzYC5cbiAgcmV0dXJuIFNlcnZpY2VzLnBsYXRmb3JtRm9yKHdpbikuaXNJZSgpIHx8IHdpbi5DU1Muc3VwcG9ydHMoJ3pvb20nLCAnMScpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzQ3NzQ3VzdG9tUHJvcHNTdXBwb3J0ZWQod2luKSB7XG4gIHJldHVybiAhU2VydmljZXMucGxhdGZvcm1Gb3Iod2luKS5pc0llKCkgJiYgd2luLkNTUy5zdXBwb3J0cygnKC0tZm9vOiByZWQpJyk7XG59XG5cblxuLyoqIEBwcml2YXRlIHs/UGFnZVNjYWxpbmdTZXJ2aWNlfSAqL1xubGV0IHBhZ2VTY2FsaW5nU2VydmljZSA9IG51bGw7XG5cblxuLyoqXG4gKiBTZXJ2aWNlIGZvciBzY2FsaW5nIHBhZ2VzIGR5bmFtaWNhbGx5IHNvIHRoZWlyIGxheWVycyB3aWxsIGJlIHNpemVkIHdpdGhpbiBhXG4gKiBjZXJ0YWluIHBpeGVsIHJhbmdlIGluZGVwZW5kZW50IG9mIHZpc3VhbCBkaW1lbnNpb25zLlxuICogVE9ETyhhbGFub3JvemNvKTogTWFrZSB0aGlzIHBhcnQgb2YgdGhlIHJ1bnRpbWUgbGF5b3V0IHN5c3RlbSB0byBwcmV2ZW50XG4gKiAgIEZPVUMtbGlrZSBqdW1wIGFuZCBhbGxvdyBmb3IgU1NSLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZVNjYWxpbmdTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RFbFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCByb290RWwpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnJvb3RFbF8gPSByb290RWw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7P0VsZW1lbnR9ICovXG4gICAgLy8gQXNzdW1lcyBhY3RpdmUgcGFnZSB0byBiZSBkZXRlcm1pbmFudCBvZiB0aGUgdGFyZ2V0IHNpemUuXG4gICAgdGhpcy5zaXplcl8gPSByb290RWwucXVlcnlTZWxlY3RvcignYW1wLXN0b3J5LXBhZ2VbYWN0aXZlXScpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/VGFyZ2V0RGltZW5zaW9uc0RlZn0gKi9cbiAgICB0aGlzLnRhcmdldERpbWVuc2lvbnNfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU9iamVjdDxzdHJpbmcsICFBcnJheTwhU2NhbGFibGVEaW1lbnNpb25zRGVmPj59ICovXG4gICAgdGhpcy5zY2FsYWJsZUVsc0RpbWVuc2lvbnNfID0ge307XG5cbiAgICBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyhyb290RWwpLm9uUmVzaXplKFxuICAgICAgICB0aHJvdHRsZSh3aW4sICgpID0+IHRoaXMub25WaWV3cG9ydFJlc2l6ZV8oKSwgMTAwKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gc3RvcnlcbiAgICogQHJldHVybiB7IVBhZ2VTY2FsaW5nU2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBmb3Ioc3RvcnkpIHtcbiAgICAvLyBJbXBsZW1lbnRlZCBhcyBzaW5nbGV0b24gZm9yIG5vdywgc2hvdWxkIGJlIG1hcHBlZCB0byBzdG9yeSBlbGVtZW50LlxuICAgIC8vIFRPRE8oYWxhbm9yb3pjbyk6IEltcGxlbWVudCBtYXBwaW5nIHRvIHN1cHBvcnQgbXVsdGlwbGUgPGFtcC1zdG9yeT5cbiAgICAvLyBpbnN0YW5jZXMgaW4gb25lIGRvYy5cbiAgICBjb25zdCB3aW4gPSB0b1dpbihzdG9yeS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICBpZiAoIXBhZ2VTY2FsaW5nU2VydmljZSkge1xuICAgICAgLy8gVE9ETyhhbGFub3JvemNvLCAjMTMwNjQpOiBGYWxsaW5nIGJhY2sgdG8gdHJhbnNmb3JtIG9uIGlPU1xuICAgICAgaWYgKCFpc0Nzc1pvb21TdXBwb3J0ZWQod2luKSB8fCBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih3aW4pLmlzSW9zKCkpIHtcbiAgICAgICAgLy8gVE9ETyhhbGFub3JvemNvLCAjMTI5MzQpOiBDb21iaW5lIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgIHVzZXIoKS53YXJuKCdBTVAtU1RPUlknLFxuICAgICAgICAgICAgJ2BhbXAtc3Rvcnktc2NhbGluZ2AgdXNpbmcgQ1NTIHRyYW5zZm9ybXMgYXMgZmFsbGJhY2suJyxcbiAgICAgICAgICAgICdBbnkgYGFtcC1zdG9yeS1ncmlkLWxheWVyYCB3aXRoIHVzZXItZGVmaW5lZCBDU1MgdHJhbnNmb3JtcyB3aWxsJyxcbiAgICAgICAgICAgICdicmVhay4nLFxuICAgICAgICAgICAgJ1NlZSBodHRwczovL2dpdGh1Yi5jb20vYW1wcHJvamVjdC9hbXBodG1sL2lzc3Vlcy8xMjkzNCcpO1xuICAgICAgICBwYWdlU2NhbGluZ1NlcnZpY2UgPSBuZXcgVHJhbnNmb3JtU2NhbGluZ1NlcnZpY2Uod2luLCBzdG9yeSk7XG4gICAgICB9IGVsc2UgaWYgKGlzQ3NzQ3VzdG9tUHJvcHNTdXBwb3J0ZWQod2luKSkge1xuICAgICAgICBwYWdlU2NhbGluZ1NlcnZpY2UgPSBuZXcgQ3NzUHJvcHNab29tU2NhbGluZ1NlcnZpY2Uod2luLCBzdG9yeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlU2NhbGluZ1NlcnZpY2UgPSBuZXcgWm9vbVNjYWxpbmdTZXJ2aWNlKHdpbiwgc3RvcnkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFnZVNjYWxpbmdTZXJ2aWNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzY2FsZShwYWdlKSB7XG4gICAgcmV0dXJuIHRyeVJlc29sdmUoKCkgPT4gdGhpcy5zY2FsZV8ocGFnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAgICogQHJldHVybiB7IVByb21pc2V8dW5kZWZpbmVkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2NhbGVfKHBhZ2UpIHtcbiAgICBpZiAoaXNTY2FsaW5nQXBwbGllZChwYWdlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzU2NhbGluZ0VuYWJsZWQocGFnZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF3aXRoaW5SYW5nZShwYWdlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52c3luY18ucnVuUHJvbWlzZSh7XG4gICAgICBtZWFzdXJlOiBzdGF0ZSA9PiB7XG4gICAgICAgIHN0YXRlLnRhcmdldERpbWVuc2lvbnMgPSB0aGlzLm1lYXN1cmVUYXJnZXREaW1lbnNpb25zXygpO1xuICAgICAgICBzdGF0ZS5zY2FsYWJsZUVsc0RpbWVuc2lvbnMgPSB0aGlzLmdldE9yTWVhc3VyZVNjYWxhYmxlRWxzRm9yKHBhZ2UpO1xuICAgICAgfSxcbiAgICAgIG11dGF0ZTogc3RhdGUgPT4ge1xuICAgICAgICBjb25zdCB7dGFyZ2V0RGltZW5zaW9ucywgc2NhbGFibGVFbHNEaW1lbnNpb25zfSA9IHN0YXRlO1xuICAgICAgICBzY2FsYWJsZUVsZW1lbnRzKHBhZ2UpLmZvckVhY2goKGVsLCBpKSA9PiB7XG4gICAgICAgICAgLy8gYGJvcmRlci1ib3hgIHJlcXVpcmVkIHNpbmNlIGxheWVyIG5vdyBoYXMgYSB3aWR0aC9oZWlnaHQgc2V0LlxuICAgICAgICAgIHNldEltcG9ydGFudFN0eWxlcyhlbCwgeydib3gtc2l6aW5nJzogJ2JvcmRlci1ib3gnfSk7XG4gICAgICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKGVsLFxuICAgICAgICAgICAgICB0aGlzLnNjYWxpbmdTdHlsZXModGFyZ2V0RGltZW5zaW9ucywgc2NhbGFibGVFbHNEaW1lbnNpb25zW2ldKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtYXJrU2NhbGluZ0FwcGxpZWQocGFnZSk7XG4gICAgICB9LFxuICAgIH0sIC8qIHN0YXRlICovIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshVGFyZ2V0RGltZW5zaW9uc0RlZn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1lYXN1cmVUYXJnZXREaW1lbnNpb25zXygpIHtcbiAgICBpZiAoIXRoaXMudGFyZ2V0RGltZW5zaW9uc18pIHtcbiAgICAgIGNvbnN0IHNpemVyID0gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnNpemVyXywgJ05vIHNpemVyLicpO1xuICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRhcmdldERpbWVuc2lvbnNGb3Ioc2l6ZXIpO1xuICAgICAgdGhpcy50YXJnZXREaW1lbnNpb25zXyA9IGRpbWVuc2lvbnM7XG4gICAgICB0aGlzLnVwZGF0ZVJvb3RQcm9wcyhkaW1lbnNpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IVRhcmdldERpbWVuc2lvbnNEZWZ9ICovIChcbiAgICAgIGRldigpLmFzc2VydCh0aGlzLnRhcmdldERpbWVuc2lvbnNfKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFnZVxuICAgKiBAcmV0dXJuIHshQXJyYXk8IVNjYWxhYmxlRGltZW5zaW9uc0RlZj59XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldE9yTWVhc3VyZVNjYWxhYmxlRWxzRm9yKHBhZ2UpIHtcbiAgICBjb25zdCBwYWdlSWQgPSB1c2VyKCkuYXNzZXJ0KHBhZ2UuaWQsICdObyBwYWdlIGlkLicpO1xuXG4gICAgaWYgKCF0aGlzLnNjYWxhYmxlRWxzRGltZW5zaW9uc19bcGFnZUlkXSkge1xuICAgICAgdGhpcy5zY2FsYWJsZUVsc0RpbWVuc2lvbnNfW3BhZ2VJZF0gPSB0aGlzLm1lYXN1cmVTY2FsYWJsZUVsc0ZvcihwYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyoqIEB0eXBlIHshQXJyYXk8IVNjYWxhYmxlRGltZW5zaW9uc0RlZj59ICovIChcbiAgICAgIGRldigpLmFzc2VydCh0aGlzLnNjYWxhYmxlRWxzRGltZW5zaW9uc19bcGFnZUlkXSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHNjYWxhYmxlIGVsZW1lbnRzIGluIGEgcGFnZS5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFnZVxuICAgKiBAcmV0dXJuIHshQXJyYXk8IVNjYWxhYmxlRGltZW5zaW9uc0RlZj59XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIG1lYXN1cmVTY2FsYWJsZUVsc0ZvcihwYWdlKSB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gdW5zY2FsZWRDbGllbnRSZWN0KHBhZ2UpO1xuICAgIGNvbnN0IHBhZ2VXaWR0aCA9IHdpZHRoO1xuICAgIGNvbnN0IHBhZ2VIZWlnaHQgPSBoZWlnaHQ7XG4gICAgcmV0dXJuIHNjYWxhYmxlRWxlbWVudHMocGFnZSkubWFwKGVsID0+IHtcbiAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHVuc2NhbGVkQ2xpZW50UmVjdChlbCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRyaXg6IHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KGVsKSxcbiAgICAgICAgcmVsYXRpdmVXaWR0aDogd2lkdGggLyBwYWdlV2lkdGgsXG4gICAgICAgIHJlbGF0aXZlSGVpZ2h0OiBoZWlnaHQgLyBwYWdlSGVpZ2h0LFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBvblZpZXdwb3J0UmVzaXplXygpIHtcbiAgICB0aGlzLnRhcmdldERpbWVuc2lvbnNfID0gbnVsbDtcbiAgICB0aGlzLnZzeW5jXy5tZWFzdXJlKCgpID0+IHtcbiAgICAgIHRoaXMubWVhc3VyZVRhcmdldERpbWVuc2lvbnNfKCk7XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVQYWdlc09uUmVzaXplKCk7XG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBzY2FsZUFsbCgpIHtcbiAgICBjb25zdCBwYWdlcyA9IHRvQXJyYXkoY2hpbGRFbGVtZW50c0J5VGFnKHRoaXMucm9vdEVsXywgJ2FtcC1zdG9yeS1wYWdlJykpO1xuICAgIHBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICBtYXJrU2NhbGluZ0FwcGxpZWQocGFnZSwgZmFsc2UpO1xuICAgICAgdGhpcy5zY2FsZV8ocGFnZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBwcm9wZXJ0aWVzIG9uIHJvb3QgZWxlbWVudCB3aGVuIHRhcmdldCBkaW1lbnNpb25zIGhhdmUgYmVlblxuICAgKiByZS1tZWFzdXJlZC5cbiAgICogQHBhcmFtIHshVGFyZ2V0RGltZW5zaW9uc0RlZn0gdW51c2VkVGFyZ2V0RGltZW5zaW9uc1xuICAgKi9cbiAgdXBkYXRlUm9vdFByb3BzKHVudXNlZFRhcmdldERpbWVuc2lvbnMpIHtcbiAgICAvLyBJbnRlbnRpb25hbGx5IGxlZnQgYmxhbmsuXG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICB1cGRhdGVQYWdlc09uUmVzaXplKCkge1xuICAgIC8vIEludGVudGlvbmFsbHkgbGVmdCBibGFuay5cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIGVsZW1lbnQncyB0cmFuc2Zvcm0gbWF0cml4LlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSB1bnVzZWRFbFxuICAgKiBAcmV0dXJuIHs/QXJyYXk8bnVtYmVyPn1cbiAgICovXG4gIGdldFRyYW5zZm9ybU1hdHJpeCh1bnVzZWRFbCkge1xuICAgIC8vIENhbGN1bGF0aW5nIGEgdHJhbnNmb3JtIG1hdHJpeCBpcyBvcHRpb25hbCBkZXBlbmRpbmcgb24gc2NhbGluZ1xuICAgIC8vIGltcGxlbWVudGF0aW9uLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVRhcmdldERpbWVuc2lvbnNEZWZ9IHVudXNlZFRhcmdldERpbWVuc2lvbnNcbiAgICogQHBhcmFtIHshU2NhbGFibGVEaW1lbnNpb25zRGVmfSB1bnVzZWRTY2FsYWJsZUVsRGltZW5zaW9uc1xuICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgKj59XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHNjYWxpbmdTdHlsZXModW51c2VkVGFyZ2V0RGltZW5zaW9ucywgdW51c2VkU2NhbGFibGVFbERpbWVuc2lvbnMpIHtcbiAgICBkZXYoKS5hc3NlcnQoZmFsc2UsICdFbXB0eSBQYWdlU2NhbGluZ1NlcnZpY2UgaW1wbGVtZW50YXRpb24uJyk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5cblxuLyoqIFVzZXMgQ1NTIHpvb20gYXMgc2NhbGluZyBtZXRob2QuICovXG5jbGFzcyBab29tU2NhbGluZ1NlcnZpY2UgZXh0ZW5kcyBQYWdlU2NhbGluZ1NlcnZpY2Uge1xuICAvKiogQHByb3RlY3RlZCAqL1xuICB1cGRhdGVQYWdlc09uUmVzaXplKCkge1xuICAgIHRoaXMuc2NhbGVBbGwoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2NhbGluZ1N0eWxlcyh0YXJnZXREaW1lbnNpb25zLCBlbGVtZW50RGltZW5zaW9ucykge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCBmYWN0b3J9ID0gdGFyZ2V0RGltZW5zaW9ucztcbiAgICBjb25zdCB7cmVsYXRpdmVXaWR0aCwgcmVsYXRpdmVIZWlnaHR9ID0gZWxlbWVudERpbWVuc2lvbnM7XG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6IHB4KHdpZHRoICogcmVsYXRpdmVXaWR0aCksXG4gICAgICAnaGVpZ2h0JzogcHgoaGVpZ2h0ICogcmVsYXRpdmVIZWlnaHQpLFxuICAgICAgJ3pvb20nOiBmYWN0b3IsXG4gICAgfTtcbiAgfVxufVxuXG5cbi8qKiBVc2VzIGNvbWJpbmVkIENTUyB0cmFuc2Zvcm0gYXMgc2NhbGluZyBtZXRob2QuICovXG5jbGFzcyBUcmFuc2Zvcm1TY2FsaW5nU2VydmljZSBleHRlbmRzIFBhZ2VTY2FsaW5nU2VydmljZSB7XG4gIC8qKiBAcHJvdGVjdGVkICovXG4gIHVwZGF0ZVBhZ2VzT25SZXNpemUoKSB7XG4gICAgdGhpcy5zY2FsZUFsbCgpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRUcmFuc2Zvcm1NYXRyaXgodW51c2VkRWwpIHtcbiAgICAvLyBUT0RPKGFsYW5vcm96Y28sICMxMjkzNCk6IEltcGxlbWVudC5cbiAgICByZXR1cm4gWzEsIDAsIDAsIDEsIDAsIDBdO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzY2FsaW5nU3R5bGVzKHRhcmdldERpbWVuc2lvbnMsIGVsZW1lbnREaW1lbnNpb25zKSB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGZhY3Rvcn0gPSB0YXJnZXREaW1lbnNpb25zO1xuICAgIGNvbnN0IHtyZWxhdGl2ZVdpZHRoLCByZWxhdGl2ZUhlaWdodCwgbWF0cml4fSA9IGVsZW1lbnREaW1lbnNpb25zO1xuICAgIGNvbnN0IGluaXRpYWxNYXRyaXggPSAvKiogQHR5cGUgeyFBcnJheTxudW1iZXI+fSAqLyAoZGV2KCkuYXNzZXJ0KG1hdHJpeCkpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkTWF0cml4ID1cbiAgICAgIHNjYWxlVHJhbnNmb3JtKGZhY3Rvciwgd2lkdGgsIGhlaWdodCwgaW5pdGlhbE1hdHJpeCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6IHB4KHdpZHRoICogcmVsYXRpdmVXaWR0aCksXG4gICAgICAnaGVpZ2h0JzogcHgoaGVpZ2h0ICogcmVsYXRpdmVIZWlnaHQpLFxuICAgICAgJ3RyYW5zZm9ybSc6IGBtYXRyaXgoJHt0cmFuc2Zvcm1lZE1hdHJpeC5qb2luKCl9KWAsXG4gICAgfTtcbiAgfVxufVxuXG5cbi8qKiBVc2VzIENTUyB6b29tIGFuZCBjdXN0b20gQ1NTIHByb3BlcnRpZXMgYXMgc2NhbGluZyBtZXRob2QuICovXG5jbGFzcyBDc3NQcm9wc1pvb21TY2FsaW5nU2VydmljZSBleHRlbmRzIFBhZ2VTY2FsaW5nU2VydmljZSB7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0T3JNZWFzdXJlU2NhbGFibGVFbHNGb3IocGFnZSkge1xuICAgIC8vIENpcmN1bXZlbnRzIGVsZW1lbnQgZGltZW5zaW9ucyBjYWNoZSBhcyBsYXllcnMgYXJlIG9ubHkgbXV0YXRlZCBvbmNlLlxuICAgIHJldHVybiB0aGlzLm1lYXN1cmVTY2FsYWJsZUVsc0ZvcihwYWdlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdXBkYXRlUm9vdFByb3BzKCkge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCBmYWN0b3J9ID0gdGhpcy50YXJnZXREaW1lbnNpb25zXztcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgc2V0U3R5bGUodGhpcy5yb290RWxfLCAnLS1pLWFtcGh0bWwtc3Rvcnktd2lkdGgnLCBweCh3aWR0aCkpO1xuICAgICAgc2V0U3R5bGUodGhpcy5yb290RWxfLCAnLS1pLWFtcGh0bWwtc3RvcnktaGVpZ2h0JywgcHgoaGVpZ2h0KSk7XG4gICAgICBzZXRTdHlsZSh0aGlzLnJvb3RFbF8sICctLWktYW1waHRtbC1zdG9yeS1mYWN0b3InLCBmYWN0b3IudG9TdHJpbmcoKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNjYWxpbmdTdHlsZXModW51c2VkVGFyZ2V0RGltZW5zaW9ucywgZWxlbWVudERpbWVuc2lvbnMpIHtcbiAgICBjb25zdCB7cmVsYXRpdmVXaWR0aCwgcmVsYXRpdmVIZWlnaHR9ID0gZWxlbWVudERpbWVuc2lvbnM7XG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6IGBjYWxjKHZhcigtLWktYW1waHRtbC1zdG9yeS13aWR0aCkgKiAke3JlbGF0aXZlV2lkdGh9KWAsXG4gICAgICAnaGVpZ2h0JzogYGNhbGModmFyKC0taS1hbXBodG1sLXN0b3J5LWhlaWdodCkgKiAke3JlbGF0aXZlSGVpZ2h0fSlgLFxuICAgICAgJ3pvb20nOiAndmFyKC0taS1hbXBodG1sLXN0b3J5LWZhY3RvciknLFxuICAgIH07XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtBY3Rpb259IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtFdmVudFR5cGUsIGRpc3BhdGNofSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtTdGF0ZUNoYW5nZVR5cGV9IGZyb20gJy4vbmF2aWdhdGlvbi1zdGF0ZSc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3JlbmRlckFzRWxlbWVudH0gZnJvbSAnLi9zaW1wbGUtdGVtcGxhdGUnO1xuXG5cbi8qKiBAc3RydWN0IEB0eXBlZGVmIHt7Y2xhc3NOYW1lOiBzdHJpbmcsIHRyaWdnZXJzOiAoc3RyaW5nfHVuZGVmaW5lZCl9fSAqL1xubGV0IEJ1dHRvblN0YXRlRGVmO1xuXG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhQnV0dG9uU3RhdGVEZWY+fSAqL1xuY29uc3QgQmFja0J1dHRvblN0YXRlcyA9IHtcbiAgQ0xPU0VfQk9PS0VORDoge1xuICAgIGNsYXNzTmFtZTogJ2ktYW1waHRtbC1zdG9yeS1iYWNrLWNsb3NlLWJvb2tlbmQnLFxuICAgIGFjdGlvbjogQWN0aW9uLlRPR0dMRV9CT09LRU5ELFxuICAgIGRhdGE6IGZhbHNlLFxuICB9LFxuICBISURERU46IHtjbGFzc05hbWU6ICdpLWFtcGh0bWwtc3RvcnktYnV0dG9uLWhpZGRlbid9LFxuICBQUkVWSU9VU19QQUdFOiB7XG4gICAgY2xhc3NOYW1lOiAnaS1hbXBodG1sLXN0b3J5LWJhY2stcHJldicsXG4gICAgdHJpZ2dlcnM6IEV2ZW50VHlwZS5QUkVWSU9VU19QQUdFLFxuICB9LFxufTtcblxuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUJ1dHRvblN0YXRlRGVmPn0gKi9cbmNvbnN0IEZvcndhcmRCdXR0b25TdGF0ZXMgPSB7XG4gIE5FWFRfUEFHRToge1xuICAgIGNsYXNzTmFtZTogJ2ktYW1waHRtbC1zdG9yeS1md2QtbmV4dCcsXG4gICAgdHJpZ2dlcnM6IEV2ZW50VHlwZS5ORVhUX1BBR0UsXG4gIH0sXG4gIFJFUExBWToge1xuICAgIGNsYXNzTmFtZTogJ2ktYW1waHRtbC1zdG9yeS1md2QtcmVwbGF5JyxcbiAgICB0cmlnZ2VyczogRXZlbnRUeXBlLlJFUExBWSxcbiAgfSxcbiAgU0hPV19CT09LRU5EOiB7XG4gICAgY2xhc3NOYW1lOiAnaS1hbXBodG1sLXN0b3J5LWZ3ZC1tb3JlJyxcbiAgICBhY3Rpb246IEFjdGlvbi5UT0dHTEVfQk9PS0VORCxcbiAgICBkYXRhOiB0cnVlLFxuICB9LFxufTtcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi9cbmNvbnN0IEJVVFRPTiA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYnV0dG9uLWNvbnRhaW5lcid9KSxcbiAgY2hpbGRyZW46IFtcbiAgICB7XG4gICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmUnfSksXG4gICAgfSxcbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbCd9KSxcbiAgICB9LFxuICBdLFxufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGhvdmVyRWxcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHRhcmdldEVsXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gKi9cbmZ1bmN0aW9uIHNldENsYXNzT25Ib3Zlcihob3ZlckVsLCB0YXJnZXRFbCwgY2xhc3NOYW1lKSB7XG4gIGhvdmVyRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICB0YXJnZXRFbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gIH0pO1xuICBob3ZlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgdGFyZ2V0RWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIERlc2t0b3AgbmF2aWdhdGlvbiBidXR0b25zLlxuICovXG5jbGFzcyBQYWdpbmF0aW9uQnV0dG9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAgICogQHBhcmFtIHshQnV0dG9uU3RhdGVEZWZ9IGluaXRpYWxTdGF0ZVxuICAgKiBAcGFyYW0geyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSBzdG9yZVNlcnZpY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRvYywgaW5pdGlhbFN0YXRlLCBzdG9yZVNlcnZpY2UpIHtcbiAgICAvKiogQHByaXZhdGUgeyFCdXR0b25TdGF0ZURlZn0gKi9cbiAgICB0aGlzLnN0YXRlXyA9IGluaXRpYWxTdGF0ZTtcblxuICAgIC8qKiBAcHVibGljIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50ID0gcmVuZGVyQXNFbGVtZW50KGRvYywgQlVUVE9OKTtcblxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGluaXRpYWxTdGF0ZS5jbGFzc05hbWUpO1xuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB0aGlzLm9uQ2xpY2tfKGUpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IHN0b3JlU2VydmljZTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0geyFCdXR0b25TdGF0ZURlZn0gc3RhdGUgKi9cbiAgdXBkYXRlU3RhdGUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHRoaXMuc3RhdGVfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc3RhdGVfLmNsYXNzTmFtZSk7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoc3RhdGUuY2xhc3NOYW1lKTtcbiAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNsaWNrXyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLnN0YXRlXy50cmlnZ2Vycykge1xuICAgICAgZGlzcGF0Y2godGhpcy5lbGVtZW50LCBkZXYoKS5hc3NlcnQodGhpcy5zdGF0ZV8udHJpZ2dlcnMpLFxuICAgICAgICAgIC8qIG9wdF9idWJibGVzICovIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZV8uYWN0aW9uKSB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2godGhpcy5zdGF0ZV8uYWN0aW9uLCB0aGlzLnN0YXRlXy5kYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuXG4vKiogUGFnaW5hdGlvbiBidXR0b25zIGxheWVyLiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2luYXRpb25CdXR0b25zIHtcbiAgLyoqIEBwYXJhbSB7IVdpbmRvd30gd2luICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIGNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudDtcbiAgICBjb25zdCBzdG9yZVNlcnZpY2UgPSBTZXJ2aWNlcy5zdG9yeVN0b3JlU2VydmljZVYwMSh3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVBhZ2luYXRpb25CdXR0b259ICovXG4gICAgdGhpcy5mb3J3YXJkQnV0dG9uXyA9XG4gICAgICAgIG5ldyBQYWdpbmF0aW9uQnV0dG9uKGRvYywgRm9yd2FyZEJ1dHRvblN0YXRlcy5ORVhUX1BBR0UsIHN0b3JlU2VydmljZSk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUGFnaW5hdGlvbkJ1dHRvbn0gKi9cbiAgICB0aGlzLmJhY2tCdXR0b25fID1cbiAgICAgICAgbmV3IFBhZ2luYXRpb25CdXR0b24oZG9jLCBCYWNrQnV0dG9uU3RhdGVzLkhJRERFTiwgc3RvcmVTZXJ2aWNlKTtcblxuICAgIHRoaXMuZm9yd2FyZEJ1dHRvbl8uZWxlbWVudC5jbGFzc0xpc3QuYWRkKCduZXh0LWNvbnRhaW5lcicpO1xuICAgIHRoaXMuYmFja0J1dHRvbl8uZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcmV2LWNvbnRhaW5lcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4geyFQYWdpbmF0aW9uQnV0dG9uc31cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUod2luKSB7XG4gICAgcmV0dXJuIG5ldyBQYWdpbmF0aW9uQnV0dG9ucyh3aW4pO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgYXR0YWNoKGVsZW1lbnQpIHtcbiAgICBzZXRDbGFzc09uSG92ZXIoXG4gICAgICAgIHRoaXMuZm9yd2FyZEJ1dHRvbl8uZWxlbWVudCwgZWxlbWVudCwgJ2ktYW1waHRtbC1zdG9yeS1uZXh0LWhvdmVyJyk7XG5cbiAgICBzZXRDbGFzc09uSG92ZXIoXG4gICAgICAgIHRoaXMuYmFja0J1dHRvbl8uZWxlbWVudCwgZWxlbWVudCwgJ2ktYW1waHRtbC1zdG9yeS1wcmV2LWhvdmVyJyk7XG5cbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZm9yd2FyZEJ1dHRvbl8uZWxlbWVudCk7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmJhY2tCdXR0b25fLmVsZW1lbnQpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7IS4vbmF2aWdhdGlvbi1zdGF0ZS5TdGF0ZUNoYW5nZUV2ZW50RGVmfSBldmVudCAqL1xuICBvbk5hdmlnYXRpb25TdGF0ZUNoYW5nZShldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuQUNUSVZFX1BBR0U6XG4gICAgICAgIGNvbnN0IHtwYWdlSW5kZXgsIHRvdGFsUGFnZXN9ID0gZXZlbnQudmFsdWU7XG5cbiAgICAgICAgdGhpcy5iYWNrQnV0dG9uXy51cGRhdGVTdGF0ZShcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9PT0gMCA/XG4gICAgICAgICAgICAgIEJhY2tCdXR0b25TdGF0ZXMuSElEREVOIDpcbiAgICAgICAgICAgICAgQmFja0J1dHRvblN0YXRlcy5QUkVWSU9VU19QQUdFKTtcblxuICAgICAgICB0aGlzLmZvcndhcmRCdXR0b25fLnVwZGF0ZVN0YXRlKFxuICAgICAgICAgICAgcGFnZUluZGV4ID09PSB0b3RhbFBhZ2VzIC0gMSA/XG4gICAgICAgICAgICAgIEZvcndhcmRCdXR0b25TdGF0ZXMuU0hPV19CT09LRU5EIDpcbiAgICAgICAgICAgICAgRm9yd2FyZEJ1dHRvblN0YXRlcy5ORVhUX1BBR0UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuQk9PS0VORF9FTlRFUjpcbiAgICAgICAgdGhpcy5iYWNrQnV0dG9uXy51cGRhdGVTdGF0ZShCYWNrQnV0dG9uU3RhdGVzLkNMT1NFX0JPT0tFTkQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuQk9PS0VORF9FWElUOlxuICAgICAgICB0aGlzLmJhY2tCdXR0b25fLnVwZGF0ZVN0YXRlKEJhY2tCdXR0b25TdGF0ZXMuUFJFVklPVVNfUEFHRSk7XG4gICAgICAgIHRoaXMuZm9yd2FyZEJ1dHRvbl8udXBkYXRlU3RhdGUoRm9yd2FyZEJ1dHRvblN0YXRlcy5TSE9XX0JPT0tFTkQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuRU5EOlxuICAgICAgICB0aGlzLmZvcndhcmRCdXR0b25fLnVwZGF0ZVN0YXRlKEZvcndhcmRCdXR0b25TdGF0ZXMuUkVQTEFZKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7UE9MTF9JTlRFUlZBTF9NU30gZnJvbSAnLi9wYWdlLWFkdmFuY2VtZW50JztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2VzY2FwZUNzc1NlbGVjdG9yTnRoLCBzY29wZWRRdWVyeVNlbGVjdG9yfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7aGFzT3duLCBtYXB9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtzY2FsZSwgc2V0SW1wb3J0YW50U3R5bGVzfSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuXG5cbi8qKlxuICogVHJhbnNpdGlvbiB1c2VkIHRvIHNob3cgdGhlIHByb2dyZXNzIG9mIGEgbWVkaWEuIEhhcyB0byBiZSBsaW5lYXIgc28gdGhlXG4gKiBhbmltYXRpb24gaXMgc21vb3RoIGFuZCBjb25zdGFudC5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBUUkFOU0lUSU9OX0xJTkVBUiA9IGB0cmFuc2Zvcm0gJHtQT0xMX0lOVEVSVkFMX01TfW1zIGxpbmVhcmA7XG5cbi8qKlxuICogVHJhbnNpdGlvbiB1c2VkIHRvIGZ1bGx5IGZpbGwgb3IgdW5maWxsIGEgcHJvZ3Jlc3MgYmFyIGl0ZW0uXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgVFJBTlNJVElPTl9FQVNFID0gJ3RyYW5zZm9ybSAyMDBtcyBlYXNlJztcblxuXG4vKipcbiAqIFByb2dyZXNzIGJhciBmb3IgPGFtcC1zdG9yeT4uXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9ncmVzc0JhciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLnJvb3RfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc2VnbWVudENvdW50XyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmFjdGl2ZVNlZ21lbnRJbmRleF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gKi9cbiAgICB0aGlzLnNlZ21lbnRJZE1hcF8gPSBtYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4pIHtcbiAgICByZXR1cm4gbmV3IFByb2dyZXNzQmFyKHdpbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gc2VnbWVudElkcyBUaGUgaWQgb2YgZWFjaCBzZWdtZW50IGluIHRoZSBzdG9yeS5cbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBidWlsZChzZWdtZW50SWRzKSB7XG4gICAgaWYgKHRoaXMuaXNCdWlsdF8pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFJvb3QoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWdtZW50Q291bnQgPSBzZWdtZW50SWRzLmxlbmd0aDtcbiAgICBkZXYoKS5hc3NlcnQoc2VnbWVudENvdW50ID4gMCk7XG5cbiAgICB0aGlzLmlzQnVpbHRfID0gdHJ1ZTtcbiAgICB0aGlzLnNlZ21lbnRDb3VudF8gPSBzZWdtZW50Q291bnQ7XG5cbiAgICBzZWdtZW50SWRzLmZvckVhY2goKGlkLCBpKSA9PiB0aGlzLnNlZ21lbnRJZE1hcF9baWRdID0gaSk7XG5cbiAgICB0aGlzLnJvb3RfID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJyk7XG4gICAgdGhpcy5yb290Xy5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktcHJvZ3Jlc3MtYmFyJyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VnbWVudENvdW50XzsgaSsrKSB7XG4gICAgICBjb25zdCBzZWdtZW50UHJvZ3Jlc3NCYXIgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIHNlZ21lbnRQcm9ncmVzc0Jhci5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktcGFnZS1wcm9ncmVzcy1iYXInKTtcbiAgICAgIGNvbnN0IHNlZ21lbnRQcm9ncmVzc1ZhbHVlID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2VnbWVudFByb2dyZXNzVmFsdWUuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtdmFsdWUnKTtcbiAgICAgIHNlZ21lbnRQcm9ncmVzc0Jhci5hcHBlbmRDaGlsZChzZWdtZW50UHJvZ3Jlc3NWYWx1ZSk7XG4gICAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKHNlZ21lbnRQcm9ncmVzc0Jhcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0Um9vdCgpO1xuICB9XG5cblxuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBnZXRSb290KCkge1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMucm9vdF8pO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlZ21lbnRJZCBUaGUgaW5kZXggb2YgdGhlIG5ldyBhY3RpdmUgc2VnbWVudC5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2V0QWN0aXZlU2VnbWVudElkKHNlZ21lbnRJZCkge1xuICAgIHRoaXMuYXNzZXJ0VmFpbGRTZWdtZW50SWRfKHNlZ21lbnRJZCk7XG4gICAgY29uc3Qgc2VnbWVudEluZGV4ID0gdGhpcy5zZWdtZW50SWRNYXBfW3NlZ21lbnRJZF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VnbWVudENvdW50XzsgaSsrKSB7XG4gICAgICBpZiAoaSA8IHNlZ21lbnRJbmRleCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzQnlJbmRleF8oaSwgMS4wLFxuICAgICAgICAgICAgLyogd2l0aFRyYW5zaXRpb24gKi8gaSA9PSBzZWdtZW50SW5kZXggLSAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoZSBhY3RpdmUgc2VnbWVudCBtYW5hZ2VzIGl0cyBvd24gcHJvZ3Jlc3MgYnkgZmlyaW5nIFBBR0VfUFJPR1JFU1NcbiAgICAgICAgLy8gZXZlbnRzIHRvIGFtcC1zdG9yeS5cbiAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzc0J5SW5kZXhfKGksIDAuMCwgLyogd2l0aFRyYW5zaXRpb24gKi8gKFxuICAgICAgICAgIHNlZ21lbnRJbmRleCAhPSAwICYmIHRoaXMuYWN0aXZlU2VnbWVudEluZGV4XyAhPSAxKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWdtZW50SWQgVGhlIGluZGV4IHRvIGFzc2VydCB2YWxpZGl0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXNzZXJ0VmFpbGRTZWdtZW50SWRfKHNlZ21lbnRJZCkge1xuICAgIGRldigpLmFzc2VydChoYXNPd24odGhpcy5zZWdtZW50SWRNYXBfLCBzZWdtZW50SWQpLFxuICAgICAgICAnSW52YWxpZCBzZWdtZW50LWlkIHBhc3NlZCB0byBwcm9ncmVzcy1iYXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlZ21lbnRJZCB0aGUgaWQgb2YgdGhlIHNlZ21lbnQgd2hvcyBwcm9ncmVzcyB0byBjaGFuZ2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IHByb2dyZXNzIEEgbnVtYmVyIGZyb20gMC4wIHRvIDEuMCwgcmVwcmVzZW50aW5nIHRoZVxuICAgKiAgICAgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgc2VnbWVudC5cbiAgICovXG4gIHVwZGF0ZVByb2dyZXNzKHNlZ21lbnRJZCwgcHJvZ3Jlc3MpIHtcbiAgICB0aGlzLmFzc2VydFZhaWxkU2VnbWVudElkXyhzZWdtZW50SWQpO1xuICAgIGNvbnN0IHNlZ21lbnRJbmRleCA9IHRoaXMuc2VnbWVudElkTWFwX1tzZWdtZW50SWRdO1xuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCeUluZGV4XyhzZWdtZW50SW5kZXgsIHByb2dyZXNzKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGluZGV4IG9mIHRoZSBwcm9ncmVzcyBiYXIgc2VnbWVudCB3aG9zZSBwcm9ncmVzcyBzaG91bGQgYmVcbiAgICogICAgIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcm9ncmVzcyBBIG51bWJlciBmcm9tIDAuMCB0byAxLjAsIHJlcHJlc2VudGluZyB0aGVcbiAgICogICAgIHByb2dyZXNzIG9mIHRoZSBjdXJyZW50IHNlZ21lbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdpdGhUcmFuc2l0aW9uXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHVwZGF0ZVByb2dyZXNzQnlJbmRleF8oc2VnbWVudEluZGV4LCBwcm9ncmVzcywgd2l0aFRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgdGhpcy5hY3RpdmVTZWdtZW50SW5kZXhfID0gc2VnbWVudEluZGV4O1xuXG4gICAgLy8gT2Zmc2V0IHRoZSBpbmRleCBieSAxLCBzaW5jZSBudGgtY2hpbGQgaW5kaWNlcyBzdGFydCBhdCAxIHdoaWxlXG4gICAgLy8gSmF2YVNjcmlwdCBpbmRpY2VzIHN0YXJ0IGF0IDAuXG4gICAgY29uc3QgbnRoQ2hpbGRJbmRleCA9IHNlZ21lbnRJbmRleCArIDE7XG4gICAgY29uc3QgcHJvZ3Jlc3NFbCA9IHNjb3BlZFF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRSb290KCksXG4gICAgICAgIGAuaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtYmFyOm50aC1jaGlsZCgke1xuICAgICAgICAgIGVzY2FwZUNzc1NlbGVjdG9yTnRoKG50aENoaWxkSW5kZXgpXG4gICAgICAgIH0pIC5pLWFtcGh0bWwtc3RvcnktcGFnZS1wcm9ncmVzcy12YWx1ZWApO1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICBsZXQgdHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgIGlmICh3aXRoVHJhbnNpdGlvbikge1xuICAgICAgICAvLyBVc2luZyBhbiBlYXNlZCB0cmFuc2l0aW9uIG9ubHkgaWYgZmlsbGluZyB0aGUgYmFyIHRvIDAgb3IgMS5cbiAgICAgICAgdHJhbnNpdGlvbiA9XG4gICAgICAgICAgICAocHJvZ3Jlc3MgPT09IDEgfHwgcHJvZ3Jlc3MgPT09IDApID9cbiAgICAgICAgICAgICAgVFJBTlNJVElPTl9FQVNFIDogVFJBTlNJVElPTl9MSU5FQVI7XG4gICAgICB9XG4gICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZGV2KCkuYXNzZXJ0RWxlbWVudChwcm9ncmVzc0VsKSwge1xuICAgICAgICAndHJhbnNmb3JtJzogc2NhbGUoYCR7cHJvZ3Jlc3N9LDFgKSxcbiAgICAgICAgJ3RyYW5zaXRpb24nOiB0cmFuc2l0aW9uLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtnZXRTb3VyY2VPcmlnaW4sIGlzUHJvdG9jb2xWYWxpZCwgcGFyc2VVcmxEZXByZWNhdGVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXJsJztcblxuXG5jb25zdCBUQUcgPSAnYW1wLXN0b3J5JztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRpdGxlOiBzdHJpbmcsXG4gKiAgIHVybDogc3RyaW5nLFxuICogICBkb21haW5OYW1lOiBzdHJpbmcsXG4gKiAgIGltYWdlOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFJlbGF0ZWRBcnRpY2xlRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgaGVhZGluZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBhcnRpY2xlczogIUFycmF5PCFSZWxhdGVkQXJ0aWNsZURlZj4sXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFJlbGF0ZWRBcnRpY2xlU2V0RGVmO1xuXG4vKiogTmV3IGJvb2tlbmQgY29tcG9uZW50cyBvbmx5IHN1cHBvcnRlZCBpbiBhbXAtc3RvcnkgMS4wLiAqL1xuY29uc3QgTkVXX0NPTVBPTkVOVFMgPVxuWydsYW5kc2NhcGUnLCAncG9ydHJhaXQnLCAnY3RhLWxpbmsnLCAnaGVhZGluZycsICd0ZXh0Ym94J107XG5cbi8qKlxuICogQHBhcmFtIHshSnNvbk9iamVjdH0gYXJ0aWNsZUpzb25cbiAqIEByZXR1cm4gez9SZWxhdGVkQXJ0aWNsZURlZn1cbiAqL1xuZnVuY3Rpb24gYnVpbGRBcnRpY2xlRnJvbUpzb25fKGFydGljbGVKc29uKSB7XG4gIGlmICghYXJ0aWNsZUpzb25bJ3RpdGxlJ10gfHwgIWFydGljbGVKc29uWyd1cmwnXSkge1xuICAgIHVzZXIoKS5lcnJvcihUQUcsXG4gICAgICAgICdBcnRpY2xlcyBtdXN0IGNvbnRhaW4gYHRpdGxlYCBhbmQgYHVybGAgZmllbGRzLCBza2lwcGluZyBpbnZhbGlkLicpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgYXJ0aWNsZVVybCA9IGRldigpLmFzc2VydChhcnRpY2xlSnNvblsndXJsJ10pO1xuICB1c2VyKCkuYXNzZXJ0KGlzUHJvdG9jb2xWYWxpZChhcnRpY2xlVXJsKSxcbiAgICAgIGBVbnN1cHBvcnRlZCBwcm90b2NvbCBmb3IgYXJ0aWNsZSBVUkwgJHthcnRpY2xlVXJsfWApO1xuXG4gIGxldCBkb21haW47XG4gIHRyeSB7XG4gICAgZG9tYWluID0gcGFyc2VVcmxEZXByZWNhdGVkKGdldFNvdXJjZU9yaWdpbihhcnRpY2xlVXJsKSkuaG9zdG5hbWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBVbmtub3duIHBhdGggcHJlZml4IGluIHVybC5cbiAgICBkb21haW4gPSBwYXJzZVVybERlcHJlY2F0ZWQoYXJ0aWNsZVVybCkuaG9zdG5hbWU7XG4gIH1cblxuICBjb25zdCBhcnRpY2xlID0ge1xuICAgIHRpdGxlOiBkZXYoKS5hc3NlcnQoYXJ0aWNsZUpzb25bJ3RpdGxlJ10pLFxuICAgIHVybDogYXJ0aWNsZVVybCxcbiAgICBkb21haW5OYW1lOiBkb21haW4sXG4gIH07XG5cbiAgaWYgKGFydGljbGVKc29uWydpbWFnZSddKSB7XG4gICAgdXNlcigpLmFzc2VydChpc1Byb3RvY29sVmFsaWQoYXJ0aWNsZUpzb25bJ2ltYWdlJ10pLFxuICAgICAgICBgVW5zdXBwb3J0ZWQgcHJvdG9jb2wgZm9yIGFydGljbGUgaW1hZ2UgVVJMICR7YXJ0aWNsZUpzb25bJ2ltYWdlJ119YCk7XG4gICAgYXJ0aWNsZS5pbWFnZSA9IGRldigpLmFzc2VydChhcnRpY2xlSnNvblsnaW1hZ2UnXSk7XG4gIH1cblxuICByZXR1cm4gLyoqIEB0eXBlIHshUmVsYXRlZEFydGljbGVEZWZ9ICovIChhcnRpY2xlKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUpzb25PYmplY3Q9fSBvcHRfYXJ0aWNsZVNldHNSZXNwb25zZVxuICogQHJldHVybiB7IUFycmF5PCFSZWxhdGVkQXJ0aWNsZVNldERlZj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGVkQXJ0aWNsZXNGcm9tSnNvbihvcHRfYXJ0aWNsZVNldHNSZXNwb25zZSkge1xuICByZXR1cm4gLyoqIEB0eXBlIHshQXJyYXk8IVJlbGF0ZWRBcnRpY2xlU2V0RGVmPn0gKi8gKFxuICAgIE9iamVjdC5rZXlzKG9wdF9hcnRpY2xlU2V0c1Jlc3BvbnNlIHx8IHt9KS5tYXAoaGVhZGluZ0tleSA9PiB7XG4gICAgICBjb25zdCBhcnRpY2xlU2V0ID0ge1xuICAgICAgICBhcnRpY2xlczpcbiAgICAgICAgICAgICAgb3B0X2FydGljbGVTZXRzUmVzcG9uc2VbaGVhZGluZ0tleV1cbiAgICAgICAgICAgICAgICAgIC5tYXAoYnVpbGRBcnRpY2xlRnJvbUpzb25fKVxuICAgICAgICAgICAgICAgICAgLmZpbHRlcih2YWxpZCA9PiAhIXZhbGlkKSxcbiAgICAgIH07XG5cbiAgICAgIGlmIChoZWFkaW5nS2V5LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgICAgYXJ0aWNsZVNldC5oZWFkaW5nID0gaGVhZGluZ0tleTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVJlbGF0ZWRBcnRpY2xlU2V0RGVmfSAqLyAoYXJ0aWNsZVNldCk7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUFycmF5PCFKc29uT2JqZWN0Pn0gYm9va2VuZENvbXBvbmVudHNcbiAqIEByZXR1cm4geyFBcnJheTwhUmVsYXRlZEFydGljbGVTZXREZWY+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcnRpY2xlc1RvQ2xhc3NpY0FwaShib29rZW5kQ29tcG9uZW50cykge1xuICBjb25zdCBhcnRpY2xlU2V0ID0ge307XG4gIGFydGljbGVTZXQuYXJ0aWNsZXMgPSBbXTtcblxuICBib29rZW5kQ29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgaWYgKGNvbXBvbmVudFsndHlwZSddID09ICdzbWFsbCcpIHtcbiAgICAgIGFydGljbGVTZXQuYXJ0aWNsZXMucHVzaChidWlsZEFydGljbGVGcm9tSnNvbl8oY29tcG9uZW50KSk7XG4gICAgfSBlbHNlIGlmIChORVdfQ09NUE9ORU5UUy5pbmNsdWRlcyhjb21wb25lbnRbJ3R5cGUnXSkpIHtcbiAgICAgIHVzZXIoKS53YXJuKFRBRywgY29tcG9uZW50Wyd0eXBlJ10gKyAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gJyArXG4gICAgICAnYW1wLXN0b3J5LTAuMSwgdXBncmFkZSB0byB2MS4wIHRvIHVzZSB0aGlzIGZlYXR1cmUuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXIoKS53YXJuKFRBRywgY29tcG9uZW50Wyd0eXBlJ10gKyAnIGlzIG5vdCB2YWxpZCwgJyArXG4gICAgICAnc2tpcHBpbmcgaW52YWxpZC4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGFydGljbGVzID0gW107XG4gIGFydGljbGVzLnB1c2goYXJ0aWNsZVNldCk7XG4gIHJldHVybiBhcnRpY2xlcztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtpc0FycmF5LCB0b1dpbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3R5cGVzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRhZzogc3RyaW5nLFxuICogICBhdHRyczogKCFKc29uT2JqZWN0fHVuZGVmaW5lZCksXG4gKiAgIGxvY2FsaXplZFN0cmluZ0lkOiAoIUxvY2FsaXplZFN0cmluZ0lkfHVuZGVmaW5lZCksXG4gKiAgIHVubG9jYWxpemVkU3RyaW5nOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGNoaWxkcmVuOiAoIUFycmF5PCFFbGVtZW50RGVmPnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBFbGVtZW50RGVmO1xuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHshRWxlbWVudERlZnwhQXJyYXk8IUVsZW1lbnREZWY+fSBlbGVtZW50c0RlZlxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTaW1wbGVUZW1wbGF0ZShkb2MsIGVsZW1lbnRzRGVmKSB7XG4gIGlmIChpc0FycmF5KGVsZW1lbnRzRGVmKSkge1xuICAgIHJldHVybiByZW5kZXJNdWx0aShkb2MsIC8qKiBAdHlwZSB7IUFycmF5PCFFbGVtZW50RGVmPn0gKi8gKGVsZW1lbnRzRGVmKSk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlclNpbmdsZShkb2MsIC8qKiBAdHlwZSB7IUVsZW1lbnREZWZ9ICovIChlbGVtZW50c0RlZikpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHshRWxlbWVudERlZn0gZWxlbWVudERlZlxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJBc0VsZW1lbnQoZG9jLCBlbGVtZW50RGVmKSB7XG4gIHJldHVybiByZW5kZXJTaW5nbGUoZG9jLCBlbGVtZW50RGVmKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwYXJhbSB7IUFycmF5PCFFbGVtZW50RGVmPn0gZWxlbWVudHNEZWZcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aShkb2MsIGVsZW1lbnRzRGVmKSB7XG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgZWxlbWVudHNEZWYuZm9yRWFjaChlbGVtZW50RGVmID0+XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocmVuZGVyU2luZ2xlKGRvYywgZWxlbWVudERlZikpKTtcbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHshRWxlbWVudERlZn0gZWxlbWVudERlZlxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIHJlbmRlclNpbmdsZShkb2MsIGVsZW1lbnREZWYpIHtcbiAgY29uc3QgZWwgPSBlbGVtZW50RGVmLmF0dHJzID9cbiAgICBjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZXMoZG9jLCBlbGVtZW50RGVmLnRhZywgZWxlbWVudERlZi5hdHRycykgOlxuICAgIGRvYy5jcmVhdGVFbGVtZW50KGVsZW1lbnREZWYudGFnKTtcblxuICBpZiAoZWxlbWVudERlZi5sb2NhbGl6ZWRTdHJpbmdJZCkge1xuICAgIGNvbnN0IHdpbiA9IHRvV2luKGRvYy5kZWZhdWx0Vmlldyk7XG4gICAgU2VydmljZXMubG9jYWxpemF0aW9uU2VydmljZUZvck9yTnVsbFYwMSh3aW4pLnRoZW4obG9jYWxpemF0aW9uU2VydmljZSA9PiB7XG4gICAgICBkZXYoKS5hc3NlcnQobG9jYWxpemF0aW9uU2VydmljZSxcbiAgICAgICAgICAnQ291bGQgbm90IHJldHJpZXZlIExvY2FsaXphdGlvblNlcnZpY2UuJyk7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IGxvY2FsaXphdGlvblNlcnZpY2VcbiAgICAgICAgICAuZ2V0TG9jYWxpemVkU3RyaW5nKC8qKiBAdHlwZSB7IUxvY2FsaXplZFN0cmluZ0lkfSAqLyAoXG4gICAgICAgICAgICBlbGVtZW50RGVmLmxvY2FsaXplZFN0cmluZ0lkKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZWxlbWVudERlZi51bmxvY2FsaXplZFN0cmluZykge1xuICAgIGVsLnRleHRDb250ZW50ID0gZWxlbWVudERlZi51bmxvY2FsaXplZFN0cmluZztcbiAgfVxuXG4gIGlmIChlbGVtZW50RGVmLmNoaWxkcmVuKSB7XG4gICAgZWwuYXBwZW5kQ2hpbGQocmVuZGVyTXVsdGkoZG9jLCBlbGVtZW50RGVmLmNoaWxkcmVuKSk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHthbXBNZWRpYUVsZW1lbnRGb3J9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtyZW1vdmVFbGVtZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcblxuXG5cbi8qKlxuICogQ2xhc3MgaGFuZGxpbmcgSFRNTE1lZGlhRWxlbWVudHMgc291cmNlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNvdXJjZXMge1xuICAvKipcbiAgICogQHBhcmFtIHs/c3RyaW5nPX0gb3B0X3NyY0F0dHIgVGhlICdzcmMnIGF0dHJpYnV0ZSBvZiB0aGUgbWVkaWEgZWxlbWVudC5cbiAgICogQHBhcmFtIHs/SUFycmF5TGlrZTwhRWxlbWVudD49fSBvcHRfc3JjRWxzIEFueSBjaGlsZCA8c291cmNlPiB0YWdzIG9mIHRoZVxuICAgKiAgICAgbWVkaWEgZWxlbWVudC5cbiAgICogQHBhcmFtIHs/SUFycmF5TGlrZTwhRWxlbWVudD49fSBvcHRfdHJhY2tFbHMgQW55IGNoaWxkIDx0cmFjaz4gdGFncyBvZiB0aGVcbiAgICogICAgIG1lZGlhIGVsZW1lbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRfc3JjQXR0ciwgb3B0X3NyY0Vscywgb3B0X3RyYWNrRWxzKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnNyY0F0dHJfID0gb3B0X3NyY0F0dHIgJiYgb3B0X3NyY0F0dHIubGVuZ3RoID8gb3B0X3NyY0F0dHIgOiBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUlBcnJheUxpa2U8IUVsZW1lbnQ+fSAqL1xuICAgIHRoaXMuc3JjRWxzXyA9IG9wdF9zcmNFbHMgfHwgW107XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSUFycmF5TGlrZTwhRWxlbWVudD59ICovXG4gICAgdGhpcy50cmFja0Vsc18gPSBvcHRfdHJhY2tFbHMgfHwgW107XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRyYWNrIHRhZ3MgdG8gYSBzcGVjaWZpZWQgZWxlbWVudC4gVGhpcyBpcyBkb25lIGluIGEgc2VwYXJhdGVcbiAgICogbWV0aG9kIGZyb20gdGhlIHNvdXJjZSB0YWdzLCBiZWNhdXNlIHdlIG11c3Qgd2FpdCBmb3IgXCJsb2FkZWRtZXRhZGF0YVwiXG4gICAqIHZpZGVvIGV2ZW50IGJlZm9yZSBkb2luZyB0aGlzLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkb3B0IHRoZSB0ZXh0IHRyYWNrc1xuICAgKiAgICAgcmVwcmVzZW50ZWQgYnkgdGhpcyBvYmplY3QuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhcHBseVRyYWNrc1RvRWxlbWVudF8oZWxlbWVudCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodGhpcy50cmFja0Vsc18sIHRyYWNrRWwgPT4ge1xuICAgICAgY29uc3QgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFjaycpO1xuICAgICAgdHJhY2suaWQgPSB0cmFja0VsLmlkO1xuICAgICAgdHJhY2sua2luZCA9IHRyYWNrRWwua2luZDtcbiAgICAgIHRyYWNrLmxhYmVsID0gdHJhY2tFbC5sYWJlbDtcbiAgICAgIHRyYWNrLnNyY2xhbmcgPSB0cmFja0VsLnNyY2xhbmc7XG4gICAgICB0cmFjay5kZWZhdWx0ID0gdHJhY2tFbC5kZWZhdWx0O1xuICAgICAgdHJhY2suc3JjID0gdHJhY2tFbC5zcmM7XG4gICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICB0cmFjay5tb2RlID0gJ3Nob3dpbmcnO1xuICAgICAgICBlbGVtZW50LnRleHRUcmFja3NbMF0ubW9kZSA9ICdzaG93aW5nJztcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0cmFjayk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBzcmMgYXR0cmlidXRlIGFuZCBzb3VyY2UgdGFncyB0byBhIHNwZWNpZmllZCBlbGVtZW50LlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkb3B0IHRoZSBzb3VyY2VzXG4gICAqICAgICByZXByZXNlbnRlZCBieSB0aGlzIG9iamVjdC5cbiAgICovXG4gIGFwcGx5VG9FbGVtZW50KGVsZW1lbnQpIHtcbiAgICBTb3VyY2VzLnJlbW92ZUZyb20oZWxlbWVudCk7XG5cbiAgICBpZiAoIXRoaXMuc3JjQXR0cl8pIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuc3JjQXR0cl8pO1xuICAgIH1cblxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodGhpcy5zcmNFbHNfLFxuICAgICAgICBzcmNFbCA9PiBlbGVtZW50LmFwcGVuZENoaWxkKHNyY0VsKSk7XG5cbiAgICBpZiAodGhpcy50cmFja0Vsc18ubGVuZ3RoID4gMCkge1xuICAgICAgLy8gV2FpdCBmb3IgXCJsb2FkZWRtZXRhZGF0YVwiIGJlZm9yZSBhZGRpbmcgdHJhY2tzLlxuICAgICAgLy8gRmlyZWZveCBhZGRzIHRyYWNrcywgYnV0IGRvZXMgbm90IHRvZ2dsZSB0aGVtIG9uIHVubGVzcyB2aWRlbyBtZXRhZGF0YVxuICAgICAgLy8gaXMgbG9hZGVkIGZpcnN0LlxuICAgICAgaWYgKGVsZW1lbnQucmVhZHlTdGF0ZSA+PSAxIC8qIEhBVkVfTUVUQURBVEEgKi8pIHtcbiAgICAgICAgdGhpcy5hcHBseVRyYWNrc1RvRWxlbWVudF8oZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBhZGRUcmFja3NIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBhZGRUcmFja3NIYW5kbGVyKTtcbiAgICAgICAgICB0aGlzLmFwcGx5VHJhY2tzVG9FbGVtZW50XyhlbGVtZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgYWRkVHJhY2tzSGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbmQgcmV0dXJucyB0aGUgc291cmNlcyBmcm9tIGEgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hvc2Ugc291cmNlcyBzaG91bGQgYmUgcmVtb3ZlZCBhbmRcbiAgICogICAgIHJldHVybmVkLlxuICAgKiBAcmV0dXJuIHshU291cmNlc30gQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc291cmNlcyBvZiB0aGUgc3BlY2lmaWVkXG4gICAqICAgICBlbGVtZW50LlxuICAgKi9cbiAgc3RhdGljIHJlbW92ZUZyb20oZWxlbWVudCkge1xuICAgIGNvbnN0IGVsZW1lbnRUb1VzZSA9IGFtcE1lZGlhRWxlbWVudEZvcihlbGVtZW50KSB8fCBlbGVtZW50O1xuICAgIGNvbnN0IHNyY0F0dHIgPSBlbGVtZW50VG9Vc2UuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgICBlbGVtZW50VG9Vc2UucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcblxuICAgIGNvbnN0IHNyY0VscyA9IGVsZW1lbnRUb1VzZS5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKTtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNyY0Vscywgc3JjRWwgPT4gcmVtb3ZlRWxlbWVudChzcmNFbCkpO1xuXG4gICAgY29uc3QgdHJhY2tFbHMgPSBlbGVtZW50VG9Vc2UucXVlcnlTZWxlY3RvckFsbCgndHJhY2snKTtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHRyYWNrRWxzLCB0cmFja0VsID0+IHJlbW92ZUVsZW1lbnQodHJhY2tFbCkpO1xuXG4gICAgcmV0dXJuIG5ldyBTb3VyY2VzKHNyY0F0dHIsIHNyY0VscywgdHJhY2tFbHMpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlcywgcmVtb3ZlRWxlbWVudH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVE9BU1RfQ0xBU1NOQU1FID0gJ2ktYW1waHRtbC1zdG9yeS10b2FzdCc7XG5cblxuLyoqXG4gKiBTaG91bGQgYmUgaGlnaGVyIHRoYW4gdG90YWwgYW5pbWF0aW9uIHRpbWUuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn1cbiAqL1xuY29uc3QgVE9BU1RfVklTSUJMRV9USU1FX01TID0gMjYwMDtcblxuXG4vKipcbiAqIFVJIG5vdGlmaWNhdGlvbnMgc2VydmljZSwgZGlzcGxheWluZyBhIG1lc3NhZ2UgdG8gdGhlIHVzZXIgZm9yIGEgbGltaXRlZFxuICogYW1vdW50IG9mIHRpbWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2FzdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFOb2RlfHN0cmluZ30gY2hpbGROb2RlT3JUZXh0XG4gICAqL1xuICBzdGF0aWMgc2hvdyh3aW4sIGNoaWxkTm9kZU9yVGV4dCkge1xuICAgIGNvbnN0IHRvYXN0ID0gY3JlYXRlRWxlbWVudFdpdGhBdHRyaWJ1dGVzKHdpbi5kb2N1bWVudCwgJ2RpdicsXG4gICAgICAgIC8qKiBAdHlwZSB7IUpzb25PYmplY3R9ICovICh7J2NsYXNzJzogVE9BU1RfQ0xBU1NOQU1FfSkpO1xuXG4gICAgaWYgKHR5cGVvZiBjaGlsZE5vZGVPclRleHQgPT0gJ3N0cmluZycpIHtcbiAgICAgIHRvYXN0LnRleHRDb250ZW50ID0gY2hpbGROb2RlT3JUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdC5hcHBlbmRDaGlsZChjaGlsZE5vZGVPclRleHQpO1xuICAgIH1cblxuICAgIHdpbi5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0KTtcblxuICAgIFNlcnZpY2VzLnRpbWVyRm9yKHdpbilcbiAgICAgICAgLmRlbGF5KCgpID0+IHJlbW92ZUVsZW1lbnQodG9hc3QpLCBUT0FTVF9WSVNJQkxFX1RJTUVfTVMpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtjbG9zZXN0QnlTZWxlY3Rvcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2NyZWF0ZVNoYWRvd1Jvb3R9IGZyb20gJy4uLy4uLy4uL3NyYy9zaGFkb3ctZW1iZWQnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcblxuLyoqXG4gKiBSZXR1cm5zIG1pbGxpcyBhcyBudW1iZXIgaWYgZ2l2ZW4gYSBzdHJpbmcoZS5nLiAxcywgMjAwbXMgZXRjKVxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWVcbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lU3RyVG9NaWxsaXModGltZSkge1xuICBjb25zdCBtYXRjaCA9IHRpbWUudG9Mb3dlckNhc2UoKS5tYXRjaCgvXihbMC05XFwuXSspXFxzKihzfG1zKSQvKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICBjb25zdCBudW0gPSBtYXRjaFsxXTtcbiAgY29uc3QgdW5pdHMgPSBtYXRjaFsyXTtcblxuICB1c2VyKCkuYXNzZXJ0KFxuICAgICAgbWF0Y2ggJiZcbiAgICAgICAgICBtYXRjaC5sZW5ndGggPT0gMyAmJlxuICAgICAgICAgICh1bml0cyA9PSAncycgfHwgdW5pdHMgPT0gJ21zJyksXG4gICAgICAnSW52YWxpZCB0aW1lIHN0cmluZyAlcycsIHRpbWUpO1xuXG4gIHJldHVybiB1bml0cyA9PSAncycgPyBwYXJzZUZsb2F0KG51bSkgKiAxMDAwIDogcGFyc2VJbnQobnVtLCAxMCk7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBlbGVtZW50IGhhcyBhbiBhY3Rpb24gZm9yIGl0cyBvbj1cInRhcDouLi5cIlxuICogaGFuZGxlci5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVGFwQWN0aW9uKGVsKSB7XG4gIC8vIFRoZXJlIGFyZSBiZXR0ZXIgd2F5cyB0byBkZXRlcm1pbmUgdGhpcywgYnV0IHRoZXkncmUgYWxsIGJvdW5kIHRvIGFjdGlvblxuICAvLyBzZXJ2aWNlIHJhY2UgY29uZGl0aW9ucy4gVGhpcyBpcyBnb29kIGVub3VnaCBmb3Igb3VyIHVzZSBjYXNlLlxuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKCdvbicpICYmXG4gICAgICAhIWVsLmdldEF0dHJpYnV0ZSgnb24nKS5tYXRjaCgvKF58OylcXHMqdGFwXFxzKjovKTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSBjbGllbnQgcmVjdCB3aXRob3V0IGFwcGx5aW5nIHNjYWxpbmcgdHJhbnNmb3JtYXRpb25zLlxuICogTm90ZTogbXVzdCBiZSBydW4gaW4gYSB2c3luYyBtZWFzdXJlIGNvbnRleHQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICogQHJldHVybiB7IUNsaWVudFJlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNjYWxlZENsaWVudFJlY3QoZWwpIHtcbiAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcH0gPSBlbC4vKk9LKi9nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBjb25zdCBzY2FsZUZhY3RvclggPSB3aWR0aCA9PSAwID8gMSA6IHdpZHRoIC8gZWwuLypPSyovb2Zmc2V0V2lkdGg7XG4gIGNvbnN0IHNjYWxlRmFjdG9yWSA9IGhlaWdodCA9PSAwID8gMSA6IGhlaWdodCAvIGVsLi8qT0sqL29mZnNldEhlaWdodDtcblxuICByZXR1cm4gLyoqIEB0eXBlIHshQ2xpZW50UmVjdH0gKi8gKHtcbiAgICBsZWZ0OiBsZWZ0IC8gc2NhbGVGYWN0b3JYLFxuICAgIHRvcDogdG9wIC8gc2NhbGVGYWN0b3JZLFxuICAgIHdpZHRoOiB3aWR0aCAvIHNjYWxlRmFjdG9yWCxcbiAgICBoZWlnaHQ6IGhlaWdodCAvIHNjYWxlRmFjdG9yWSxcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBGaW5kcyBhbiBhbXAtdmlkZW8vYW1wLWF1ZGlvIGFuY2VzdG9yLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAqIEByZXR1cm4gez9BbXBFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYW1wTWVkaWFFbGVtZW50Rm9yKGVsKSB7XG4gIHJldHVybiBjbG9zZXN0QnlTZWxlY3RvcihlbCwgJ2FtcC12aWRlbywgYW1wLWF1ZGlvJyk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2hhZG93IHJvb3QgZm9yIHRoZSBwcm92aWRlZCBjb250YWluZXIsIGFuZCBhcHBlbmRzIHRoZSBlbGVtZW50XG4gKiBhbG9uZyB3aXRoIGl0cyBDU1MuXG4gKiBAcGFyYW0gIHshRWxlbWVudH0gY29udGFpbmVyXG4gKiBAcGFyYW0gIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtICB7c3RyaW5nfSBjc3NcbiAqIEByZXR1cm4geyFTaGFkb3dSb290fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZShjb250YWluZXIsIGVsZW1lbnQsIGNzcykge1xuICBjb25zdCBzaGFkb3dSb290ID0gY3JlYXRlU2hhZG93Um9vdChjb250YWluZXIpO1xuXG4gIGNvbnN0IHN0eWxlID0gc2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS4vKk9LKi90ZXh0Q29udGVudCA9IGNzcztcblxuICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICByZXR1cm4gc2hhZG93Um9vdDtcbn1cblxuXG4vKipcbiAqIFBhcnNlcyB0aGUgcmVzb2x2ZWQgQ1NTIGNvbG9yIHByb3BlcnR5LCB0aGF0IGlzIGFsd2F5cyBpbiB0aGUgZm9ybSBvZlxuICogYHJnYmEoMCwgMCwgMCwgMSlgIG9yIGByZ2IoMCwgMCwgMClgLCB0aGF0IGNhbiBiZSByZXRyaWV2ZWQgdXNpbmdcbiAqIGBnZXRDb21wdXRlZFN0eWxlYC5cbiAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIFIsIEcsIGFuZCBCIDhiaXQgbnVtYmVycy5cbiAqIEBwYXJhbSAge3N0cmluZ30gY3NzVmFsdWVcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UkdCRnJvbUNzc0NvbG9yVmFsdWUoY3NzVmFsdWUpIHtcbiAgY29uc3QgcmVnZXhQYXR0ZXJuID0gL3JnYmE/XFwoKFxcZHsxLDN9KSwgKFxcZHsxLDN9KSwgKFxcZHsxLDN9KS87XG5cbiAgaWYgKCFjc3NWYWx1ZS5tYXRjaChyZWdleFBhdHRlcm4pKSB7XG4gICAgdXNlcigpLmVycm9yKCdVVElMUycsICdnZXRSR0JGcm9tQ3NzQ29sb3JWYWx1ZSBleHBlY3RzIGEgcGFyYW1ldGVyIGluICcgK1xuICAgICAgICBgdGhlIGZvcm0gb2YgJ3JnYmEoMCwgMCwgMCwgMSknIG9yICdyZ2IoMCwgMCwgMCknIGJ1dCBnb3QgJHtjc3NWYWx1ZX1gKTtcbiAgICAvLyBSZXR1cm5zIGEgZmFsbGJhY2sgdmFsdWUsIHRvIGZhaWwgJ2dyYWNlZnVsbHknIGluIGNhc2UgYSBicm93c2VyIHdlIGRvbid0XG4gICAgLy8ga25vdyBhYm91dCBnYXZlIGFuIHVuZXhwZWN0ZWQgdmFsdWUuXG4gICAgcmV0dXJuIHtyOiAwLCBnOiAwLCBiOiAwfTtcbiAgfVxuXG4gIGNvbnN0IG1hdGNoZXMgPSByZWdleFBhdHRlcm4uZXhlYyhjc3NWYWx1ZSk7XG5cbiAgcmV0dXJuIHtcbiAgICByOiBOdW1iZXIobWF0Y2hlc1sxXSksXG4gICAgZzogTnVtYmVyKG1hdGNoZXNbMl0pLFxuICAgIGI6IE51bWJlcihtYXRjaGVzWzNdKSxcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbG9yLCBlaXRoZXIgYmxhY2sgb3Igd2hpdGUsIHRoYXQgaGFzIHRoZSBiZXN0IGNvbnRyYXN0IHJhdGlvXG4gKiBhZ2FpbnN0IHRoZSBwcm92aWRlZCBSR0IgOGJpdCB2YWx1ZXMuXG4gKiBAcGFyYW0gIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gcmdiICBpZToge3I6IDAsIGc6IDAsIGI6IDB9XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICcjZmZmJyBvciAnIzAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRDb2xvckZvclJHQih7ciwgZywgYn0pIHtcbiAgLy8gQ2FsY3VsYXRlcyB0aGUgcmVsYXRpdmUgbHVtaW5hbmNlIEwuXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3JlbGF0aXZlbHVtaW5hbmNlZGVmXG4gIGNvbnN0IGdldExpbmVhclJHQlZhbHVlID0geCA9PiB7XG4gICAgLy8gOGJpdCB0byBzUkdCLlxuICAgIHggLz0gMjU1O1xuXG4gICAgLy8gQ29udmVydHMgdGhlIGdhbW1hLWNvbXByZXNzZWQgUkdCIHZhbHVlcyB0byBsaW5lYXIgUkdCLlxuICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4IC8gMTIuOTIgOiBNYXRoLnBvdygoeCArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICB9O1xuXG4gIGNvbnN0IGxpbmVhclIgPSBnZXRMaW5lYXJSR0JWYWx1ZShyKTtcbiAgY29uc3QgbGluZWFyRyA9IGdldExpbmVhclJHQlZhbHVlKGcpO1xuICBjb25zdCBsaW5lYXJCID0gZ2V0TGluZWFyUkdCVmFsdWUoYik7XG5cbiAgY29uc3QgTCA9ICgwLjIxMjYgKiBsaW5lYXJSKSArICgwLjcxNTIgKiBsaW5lYXJHKSArICgwLjA3MjIgKiBsaW5lYXJCKTtcblxuICAvLyBEZXRlcm1pbmVzIHdoaWNoIG9uZSBvZiB0aGUgd2hpdGUgYW5kIGJsYWNrIHRleHQgaGF2ZSBhIGJldHRlciBjb250cmFzdFxuICAvLyByYXRpbyBhZ2FpbnN0IHRoZSB1c2VkIGJhY2tncm91bmQgY29sb3IuXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI2NvbnRyYXN0LXJhdGlvZGVmXG4gIC8vIEBUT0RPKGdtYWpvdWxldCk6IEltcHJvdmUgdGhlIHRleHQgY29sb3IgZm9yIGhpZ2ggY29udHJhc3QgcmF0aW8uXG4gIC8vIDEgaXMgTCBmb3IgI0ZGRiwgYW5kIDAgaXMgTCBmb3IgIzAwMC5cbiAgLy8gKDEgKyAwLjA1KSAvIChMICsgMC4wNSkgPiAoTCArIDAuMDUpIC8gKDAgKyAwLjA1KSB0b2dnbGVzIGZvciBMID0gMC4xNzkuXG4gIHJldHVybiBMID4gMC4xNzkgPyAnIzAwMCcgOiAnI0ZGRic7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7U3RhdGVDaGFuZ2VUeXBlfSBmcm9tICcuL25hdmlnYXRpb24tc3RhdGUnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHshT2JqZWN0PHN0cmluZywgKj59XG4gKi9cbmV4cG9ydCBsZXQgU3RvcnlWYXJpYWJsZURlZjtcblxuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmNvbnN0IFZhcmlhYmxlID0ge1xuICBTVE9SWV9QQUdFX0lEOiAnc3RvcnlQYWdlSWQnLFxuICBTVE9SWV9QQUdFX0lOREVYOiAnc3RvcnlQYWdlSW5kZXgnLFxuICBTVE9SWV9QQUdFX0NPVU5UOiAnc3RvcnlQYWdlQ291bnQnLFxuICBTVE9SWV9JU19NVVRFRDogJ3N0b3J5SXNNdXRlZCcsXG4gIFNUT1JZX1BST0dSRVNTOiAnc3RvcnlQcm9ncmVzcycsXG59O1xuXG5cbi8qKlxuICogVmFyaWFibGUgc2VydmljZSBmb3IgYW1wLXN0b3J5LlxuICogVXNlZCBmb3IgVVJMIHJlcGxhY2VtZW50IHNlcnZpY2UuIFNlZSB1c2FnZSBpbiBzcmMvdXJsLXJlcGxhY2VtZW50cy1pbXBsLlxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlWYXJpYWJsZVNlcnZpY2Uge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEBwcml2YXRlIHshU3RvcnlWYXJpYWJsZURlZn0gKi9cbiAgICB0aGlzLnZhcmlhYmxlc18gPSB7XG4gICAgICBbVmFyaWFibGUuU1RPUllfUEFHRV9JTkRFWF06IG51bGwsXG4gICAgICBbVmFyaWFibGUuU1RPUllfUEFHRV9JRF06IG51bGwsXG4gICAgICBbVmFyaWFibGUuU1RPUllfUEFHRV9DT1VOVF06IG51bGwsXG4gICAgICBbVmFyaWFibGUuU1RPUllfUFJPR1JFU1NdOiBudWxsLFxuICAgICAgW1ZhcmlhYmxlLlNUT1JZX0lTX01VVEVEXTogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vbmF2aWdhdGlvbi1zdGF0ZS5TdGF0ZUNoYW5nZUV2ZW50RGVmfSBzdGF0ZUNoYW5nZUV2ZW50XG4gICAqL1xuICBvbk5hdmlnYXRpb25TdGF0ZUNoYW5nZShzdGF0ZUNoYW5nZUV2ZW50KSB7XG4gICAgc3dpdGNoIChzdGF0ZUNoYW5nZUV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgU3RhdGVDaGFuZ2VUeXBlLkFDVElWRV9QQUdFOlxuICAgICAgICBjb25zdCB7cGFnZUluZGV4LCBwYWdlSWQsIHN0b3J5UHJvZ3Jlc3MsIHRvdGFsUGFnZXN9ID1cbiAgICAgICAgICAgIHN0YXRlQ2hhbmdlRXZlbnQudmFsdWU7XG4gICAgICAgIHRoaXMudmFyaWFibGVzX1tWYXJpYWJsZS5TVE9SWV9QQUdFX0lOREVYXSA9IHBhZ2VJbmRleDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNfW1ZhcmlhYmxlLlNUT1JZX1BBR0VfSURdID0gcGFnZUlkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlc19bVmFyaWFibGUuU1RPUllfUFJPR1JFU1NdID0gc3RvcnlQcm9ncmVzcztcbiAgICAgICAgdGhpcy52YXJpYWJsZXNfW1ZhcmlhYmxlLlNUT1JZX1BBR0VfQ09VTlRdID0gdG90YWxQYWdlcztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNdXRlZFxuICAgKi9cbiAgb25NdXRlZFN0YXRlQ2hhbmdlKGlzTXV0ZWQpIHtcbiAgICB0aGlzLnZhcmlhYmxlc19bVmFyaWFibGUuU1RPUllfSVNfTVVURURdID0gaXNNdXRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshU3RvcnlWYXJpYWJsZURlZn1cbiAgICovXG4gIGdldCgpIHtcbiAgICAvLyBUT0RPKG5ld21pdXMpOiBZb3Ugc2hvdWxkIHByb2JhYmx5IE9iamVjdC5mcmVlemUgdGhpcyBpbiBkZXZlbG9wbWVudC5cbiAgICByZXR1cm4gdGhpcy52YXJpYWJsZXNfO1xuICB9XG59XG4iLCIvKiFcblxuQ29weXJpZ2h0IChDKSAyMDE0LTIwMTYgYnkgQW5kcmVhIEdpYW1tYXJjaGkgLSBAV2ViUmVmbGVjdGlvblxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG4vLyBnbG9iYWwgd2luZG93IE9iamVjdFxuLy8gb3B0aW9uYWwgcG9seWZpbGwgaW5mb1xuLy8gICAgJ2F1dG8nIHVzZWQgYnkgZGVmYXVsdCwgZXZlcnl0aGluZyBpcyBmZWF0dXJlIGRldGVjdGVkXG4vLyAgICAnZm9yY2UnIHVzZSB0aGUgcG9seWZpbGwgZXZlbiBpZiBub3QgZnVsbHkgbmVlZGVkXG5mdW5jdGlvbiBpbnN0YWxsQ3VzdG9tRWxlbWVudHMod2luZG93LCBwb2x5ZmlsbCkgeyd1c2Ugc3RyaWN0JztcblxuICAvLyBETyBOT1QgVVNFIFRISVMgRklMRSBESVJFQ1RMWSwgSVQgV09OJ1QgV09SS1xuICAvLyBUSElTIElTIEEgUFJPSkVDVCBCQVNFRCBPTiBBIEJVSUxEIFNZU1RFTVxuICAvLyBUSElTIEZJTEUgSVMgSlVTVCBXUkFQUEVEIFVQIFJFU1VMVElORyBJTlxuICAvLyBidWlsZC9kb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50Lm5vZGUuanNcblxuICB2YXJcbiAgICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcbiAgICBPYmplY3QgPSB3aW5kb3cuT2JqZWN0XG4gIDtcblxuICB2YXIgaHRtbENsYXNzID0gKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgLy8gKEMpIEFuZHJlYSBHaWFtbWFyY2hpIC0gQFdlYlJlZmxlY3Rpb24gLSBNSVQgU3R5bGVcbiAgICB2YXJcbiAgICAgIGNhdGNoQ2xhc3MgPSAvXltBLVpdK1thLXpdLyxcbiAgICAgIGZpbHRlckJ5ID0gZnVuY3Rpb24gKHJlKSB7XG4gICAgICAgIHZhciBhcnIgPSBbXSwgdGFnO1xuICAgICAgICBmb3IgKHRhZyBpbiByZWdpc3Rlcikge1xuICAgICAgICAgIGlmIChyZS50ZXN0KHRhZykpIGFyci5wdXNoKHRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgIH0sXG4gICAgICBhZGQgPSBmdW5jdGlvbiAoQ2xhc3MsIHRhZykge1xuICAgICAgICB0YWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCEodGFnIGluIHJlZ2lzdGVyKSkge1xuICAgICAgICAgIHJlZ2lzdGVyW0NsYXNzXSA9IChyZWdpc3RlcltDbGFzc10gfHwgW10pLmNvbmNhdCh0YWcpO1xuICAgICAgICAgIHJlZ2lzdGVyW3RhZ10gPSAocmVnaXN0ZXJbdGFnLnRvVXBwZXJDYXNlKCldID0gQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVnaXN0ZXIgPSAoT2JqZWN0LmNyZWF0ZSB8fCBPYmplY3QpKG51bGwpLFxuICAgICAgaHRtbENsYXNzID0ge30sXG4gICAgICBpLCBzZWN0aW9uLCB0YWdzLCBDbGFzc1xuICAgIDtcbiAgICBmb3IgKHNlY3Rpb24gaW4gaW5mbykge1xuICAgICAgZm9yIChDbGFzcyBpbiBpbmZvW3NlY3Rpb25dKSB7XG4gICAgICAgIHRhZ3MgPSBpbmZvW3NlY3Rpb25dW0NsYXNzXTtcbiAgICAgICAgcmVnaXN0ZXJbQ2xhc3NdID0gdGFncztcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICByZWdpc3Rlclt0YWdzW2ldLnRvTG93ZXJDYXNlKCldID1cbiAgICAgICAgICByZWdpc3Rlclt0YWdzW2ldLnRvVXBwZXJDYXNlKCldID0gQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaHRtbENsYXNzLmdldCA9IGZ1bmN0aW9uIGdldCh0YWdPckNsYXNzKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHRhZ09yQ2xhc3MgPT09ICdzdHJpbmcnID9cbiAgICAgICAgKHJlZ2lzdGVyW3RhZ09yQ2xhc3NdIHx8IChjYXRjaENsYXNzLnRlc3QodGFnT3JDbGFzcykgPyBbXSA6ICcnKSkgOlxuICAgICAgICBmaWx0ZXJCeSh0YWdPckNsYXNzKTtcbiAgICB9O1xuICAgIGh0bWxDbGFzcy5zZXQgPSBmdW5jdGlvbiBzZXQodGFnLCBDbGFzcykge1xuICAgICAgcmV0dXJuIChjYXRjaENsYXNzLnRlc3QodGFnKSA/XG4gICAgICAgIGFkZCh0YWcsIENsYXNzKSA6XG4gICAgICAgIGFkZChDbGFzcywgdGFnKVxuICAgICAgKSwgaHRtbENsYXNzO1xuICAgIH07XG4gICAgcmV0dXJuIGh0bWxDbGFzcztcbiAgfSh7XG4gICAgXCJjb2xsZWN0aW9uc1wiOiB7XG4gICAgICBcIkhUTUxBbGxDb2xsZWN0aW9uXCI6IFtcbiAgICAgICAgXCJhbGxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTENvbGxlY3Rpb25cIjogW1xuICAgICAgICBcImZvcm1zXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxGb3JtQ29udHJvbHNDb2xsZWN0aW9uXCI6IFtcbiAgICAgICAgXCJlbGVtZW50c1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MT3B0aW9uc0NvbGxlY3Rpb25cIjogW1xuICAgICAgICBcIm9wdGlvbnNcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJlbGVtZW50c1wiOiB7XG4gICAgICBcIkVsZW1lbnRcIjogW1xuICAgICAgICBcImVsZW1lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEFuY2hvckVsZW1lbnRcIjogW1xuICAgICAgICBcImFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEFwcGxldEVsZW1lbnRcIjogW1xuICAgICAgICBcImFwcGxldFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQXJlYUVsZW1lbnRcIjogW1xuICAgICAgICBcImFyZWFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEF0dGFjaG1lbnRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhdHRhY2htZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBdWRpb0VsZW1lbnRcIjogW1xuICAgICAgICBcImF1ZGlvXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxCUkVsZW1lbnRcIjogW1xuICAgICAgICBcImJyXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxCYXNlRWxlbWVudFwiOiBbXG4gICAgICAgIFwiYmFzZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQm9keUVsZW1lbnRcIjogW1xuICAgICAgICBcImJvZHlcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEJ1dHRvbkVsZW1lbnRcIjogW1xuICAgICAgICBcImJ1dHRvblwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQ2FudmFzRWxlbWVudFwiOiBbXG4gICAgICAgIFwiY2FudmFzXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxDb250ZW50RWxlbWVudFwiOiBbXG4gICAgICAgIFwiY29udGVudFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRExpc3RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkbFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRGF0YUVsZW1lbnRcIjogW1xuICAgICAgICBcImRhdGFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERhdGFMaXN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGF0YWxpc3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERldGFpbHNFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkZXRhaWxzXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEaWFsb2dFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkaWFsb2dcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERpcmVjdG9yeUVsZW1lbnRcIjogW1xuICAgICAgICBcImRpclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRGl2RWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGl2XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEb2N1bWVudFwiOiBbXG4gICAgICAgIFwiZG9jdW1lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEVsZW1lbnRcIjogW1xuICAgICAgICBcImVsZW1lbnRcIixcbiAgICAgICAgXCJhYmJyXCIsXG4gICAgICAgIFwiYWRkcmVzc1wiLFxuICAgICAgICBcImFydGljbGVcIixcbiAgICAgICAgXCJhc2lkZVwiLFxuICAgICAgICBcImJcIixcbiAgICAgICAgXCJiZGlcIixcbiAgICAgICAgXCJiZG9cIixcbiAgICAgICAgXCJjaXRlXCIsXG4gICAgICAgIFwiY29kZVwiLFxuICAgICAgICBcImNvbW1hbmRcIixcbiAgICAgICAgXCJkZFwiLFxuICAgICAgICBcImRmblwiLFxuICAgICAgICBcImR0XCIsXG4gICAgICAgIFwiZW1cIixcbiAgICAgICAgXCJmaWdjYXB0aW9uXCIsXG4gICAgICAgIFwiZmlndXJlXCIsXG4gICAgICAgIFwiZm9vdGVyXCIsXG4gICAgICAgIFwiaGVhZGVyXCIsXG4gICAgICAgIFwiaVwiLFxuICAgICAgICBcImtiZFwiLFxuICAgICAgICBcIm1hcmtcIixcbiAgICAgICAgXCJuYXZcIixcbiAgICAgICAgXCJub3NjcmlwdFwiLFxuICAgICAgICBcInJwXCIsXG4gICAgICAgIFwicnRcIixcbiAgICAgICAgXCJydWJ5XCIsXG4gICAgICAgIFwic1wiLFxuICAgICAgICBcInNhbXBcIixcbiAgICAgICAgXCJzZWN0aW9uXCIsXG4gICAgICAgIFwic21hbGxcIixcbiAgICAgICAgXCJzdHJvbmdcIixcbiAgICAgICAgXCJzdWJcIixcbiAgICAgICAgXCJzdW1tYXJ5XCIsXG4gICAgICAgIFwic3VwXCIsXG4gICAgICAgIFwidVwiLFxuICAgICAgICBcInZhclwiLFxuICAgICAgICBcIndiclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRW1iZWRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJlbWJlZFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRmllbGRTZXRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmaWVsZHNldFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRm9udEVsZW1lbnRcIjogW1xuICAgICAgICBcImZvbnRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEZvcm1FbGVtZW50XCI6IFtcbiAgICAgICAgXCJmb3JtXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxGcmFtZUVsZW1lbnRcIjogW1xuICAgICAgICBcImZyYW1lXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxGcmFtZVNldEVsZW1lbnRcIjogW1xuICAgICAgICBcImZyYW1lc2V0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxIUkVsZW1lbnRcIjogW1xuICAgICAgICBcImhyXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxIZWFkRWxlbWVudFwiOiBbXG4gICAgICAgIFwiaGVhZFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSGVhZGluZ0VsZW1lbnRcIjogW1xuICAgICAgICBcImgxXCIsXG4gICAgICAgIFwiaDJcIixcbiAgICAgICAgXCJoM1wiLFxuICAgICAgICBcImg0XCIsXG4gICAgICAgIFwiaDVcIixcbiAgICAgICAgXCJoNlwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSHRtbEVsZW1lbnRcIjogW1xuICAgICAgICBcImh0bWxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTElGcmFtZUVsZW1lbnRcIjogW1xuICAgICAgICBcImlmcmFtZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSW1hZ2VFbGVtZW50XCI6IFtcbiAgICAgICAgXCJpbWdcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTElucHV0RWxlbWVudFwiOiBbXG4gICAgICAgIFwiaW5wdXRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEtleWdlbkVsZW1lbnRcIjogW1xuICAgICAgICBcImtleWdlblwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTElFbGVtZW50XCI6IFtcbiAgICAgICAgXCJsaVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTGFiZWxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJsYWJlbFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTGVnZW5kRWxlbWVudFwiOiBbXG4gICAgICAgIFwibGVnZW5kXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxMaW5rRWxlbWVudFwiOiBbXG4gICAgICAgIFwibGlua1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWFwRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWFwXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNYXJxdWVlRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWFycXVlZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWVkaWFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJtZWRpYVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWVudUVsZW1lbnRcIjogW1xuICAgICAgICBcIm1lbnVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1lbnVJdGVtRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWVudWl0ZW1cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1ldGFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJtZXRhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNZXRlckVsZW1lbnRcIjogW1xuICAgICAgICBcIm1ldGVyXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNb2RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkZWxcIixcbiAgICAgICAgXCJpbnNcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9MaXN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwib2xcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9iamVjdEVsZW1lbnRcIjogW1xuICAgICAgICBcIm9iamVjdFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MT3B0R3JvdXBFbGVtZW50XCI6IFtcbiAgICAgICAgXCJvcHRncm91cFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MT3B0aW9uRWxlbWVudFwiOiBbXG4gICAgICAgIFwib3B0aW9uXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxPdXRwdXRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJvdXRwdXRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFBhcmFncmFwaEVsZW1lbnRcIjogW1xuICAgICAgICBcInBcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFBhcmFtRWxlbWVudFwiOiBbXG4gICAgICAgIFwicGFyYW1cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFBpY3R1cmVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJwaWN0dXJlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQcmVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJwcmVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFByb2dyZXNzRWxlbWVudFwiOiBbXG4gICAgICAgIFwicHJvZ3Jlc3NcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFF1b3RlRWxlbWVudFwiOiBbXG4gICAgICAgIFwiYmxvY2txdW90ZVwiLFxuICAgICAgICBcInFcIixcbiAgICAgICAgXCJxdW90ZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MU2NyaXB0RWxlbWVudFwiOiBbXG4gICAgICAgIFwic2NyaXB0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTZWxlY3RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzZWxlY3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNoYWRvd0VsZW1lbnRcIjogW1xuICAgICAgICBcInNoYWRvd1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MU2xvdEVsZW1lbnRcIjogW1xuICAgICAgICBcInNsb3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNvdXJjZUVsZW1lbnRcIjogW1xuICAgICAgICBcInNvdXJjZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MU3BhbkVsZW1lbnRcIjogW1xuICAgICAgICBcInNwYW5cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFN0eWxlRWxlbWVudFwiOiBbXG4gICAgICAgIFwic3R5bGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnRcIjogW1xuICAgICAgICBcImNhcHRpb25cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRhYmxlQ2VsbEVsZW1lbnRcIjogW1xuICAgICAgICBcInRkXCIsXG4gICAgICAgIFwidGhcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRhYmxlQ29sRWxlbWVudFwiOiBbXG4gICAgICAgIFwiY29sXCIsXG4gICAgICAgIFwiY29sZ3JvdXBcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRhYmxlRWxlbWVudFwiOiBbXG4gICAgICAgIFwidGFibGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRhYmxlUm93RWxlbWVudFwiOiBbXG4gICAgICAgIFwidHJcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnRcIjogW1xuICAgICAgICBcInRoZWFkXCIsXG4gICAgICAgIFwidGJvZHlcIixcbiAgICAgICAgXCJ0Zm9vdFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MVGVtcGxhdGVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0ZW1wbGF0ZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MVGV4dEFyZWFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0ZXh0YXJlYVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MVGltZUVsZW1lbnRcIjogW1xuICAgICAgICBcInRpbWVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRpdGxlRWxlbWVudFwiOiBbXG4gICAgICAgIFwidGl0bGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRyYWNrRWxlbWVudFwiOiBbXG4gICAgICAgIFwidHJhY2tcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFVMaXN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwidWxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFVua25vd25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJ1bmtub3duXCIsXG4gICAgICAgIFwidmhncm91cHZcIixcbiAgICAgICAgXCJ2a2V5Z2VuXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxWaWRlb0VsZW1lbnRcIjogW1xuICAgICAgICBcInZpZGVvXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwibm9kZXNcIjoge1xuICAgICAgXCJBdHRyXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIkF1ZGlvXCI6IFtcbiAgICAgICAgXCJhdWRpb1wiXG4gICAgICBdLFxuICAgICAgXCJDREFUQVNlY3Rpb25cIjogW1xuICAgICAgICBcIm5vZGVcIlxuICAgICAgXSxcbiAgICAgIFwiQ2hhcmFjdGVyRGF0YVwiOiBbXG4gICAgICAgIFwibm9kZVwiXG4gICAgICBdLFxuICAgICAgXCJDb21tZW50XCI6IFtcbiAgICAgICAgXCIjY29tbWVudFwiXG4gICAgICBdLFxuICAgICAgXCJEb2N1bWVudFwiOiBbXG4gICAgICAgIFwiI2RvY3VtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkRvY3VtZW50RnJhZ21lbnRcIjogW1xuICAgICAgICBcIiNkb2N1bWVudC1mcmFnbWVudFwiXG4gICAgICBdLFxuICAgICAgXCJEb2N1bWVudFR5cGVcIjogW1xuICAgICAgICBcIm5vZGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERvY3VtZW50XCI6IFtcbiAgICAgICAgXCIjZG9jdW1lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiSW1hZ2VcIjogW1xuICAgICAgICBcImltZ1wiXG4gICAgICBdLFxuICAgICAgXCJPcHRpb25cIjogW1xuICAgICAgICBcIm9wdGlvblwiXG4gICAgICBdLFxuICAgICAgXCJQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25cIjogW1xuICAgICAgICBcIm5vZGVcIlxuICAgICAgXSxcbiAgICAgIFwiU2hhZG93Um9vdFwiOiBbXG4gICAgICAgIFwiI3NoYWRvdy1yb290XCJcbiAgICAgIF0sXG4gICAgICBcIlRleHRcIjogW1xuICAgICAgICBcIiN0ZXh0XCJcbiAgICAgIF0sXG4gICAgICBcIlhNTERvY3VtZW50XCI6IFtcbiAgICAgICAgXCJ4bWxcIlxuICAgICAgXVxuICAgIH1cbiAgfSkpO1xuICBcbiAgXG4gICAgXG4gIC8vIHBhc3NlZCBhdCBydW50aW1lLCBjb25maWd1cmFibGVcbiAgLy8gdmlhIG5vZGVqcyBtb2R1bGVcbiAgaWYgKCFwb2x5ZmlsbCkgcG9seWZpbGwgPSAnYXV0byc7XG4gIFxuICB2YXJcbiAgICAvLyBWMCBwb2x5ZmlsbCBlbnRyeVxuICAgIFJFR0lTVEVSX0VMRU1FTlQgPSAncmVnaXN0ZXJFbGVtZW50JyxcbiAgXG4gICAgLy8gSUUgPCAxMSBvbmx5ICsgb2xkIFdlYktpdCBmb3IgYXR0cmlidXRlcyArIGZlYXR1cmUgZGV0ZWN0aW9uXG4gICAgRVhQQU5ET19VSUQgPSAnX18nICsgUkVHSVNURVJfRUxFTUVOVCArICh3aW5kb3cuTWF0aC5yYW5kb20oKSAqIDEwZTQgPj4gMCksXG4gIFxuICAgIC8vIHNob3J0Y3V0cyBhbmQgY29zdGFudHNcbiAgICBBRERfRVZFTlRfTElTVEVORVIgPSAnYWRkRXZlbnRMaXN0ZW5lcicsXG4gICAgQVRUQUNIRUQgPSAnYXR0YWNoZWQnLFxuICAgIENBTExCQUNLID0gJ0NhbGxiYWNrJyxcbiAgICBERVRBQ0hFRCA9ICdkZXRhY2hlZCcsXG4gICAgRVhURU5EUyA9ICdleHRlbmRzJyxcbiAgXG4gICAgQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0sgPSAnYXR0cmlidXRlQ2hhbmdlZCcgKyBDQUxMQkFDSyxcbiAgICBBVFRBQ0hFRF9DQUxMQkFDSyA9IEFUVEFDSEVEICsgQ0FMTEJBQ0ssXG4gICAgQ09OTkVDVEVEX0NBTExCQUNLID0gJ2Nvbm5lY3RlZCcgKyBDQUxMQkFDSyxcbiAgICBESVNDT05ORUNURURfQ0FMTEJBQ0sgPSAnZGlzY29ubmVjdGVkJyArIENBTExCQUNLLFxuICAgIENSRUFURURfQ0FMTEJBQ0sgPSAnY3JlYXRlZCcgKyBDQUxMQkFDSyxcbiAgICBERVRBQ0hFRF9DQUxMQkFDSyA9IERFVEFDSEVEICsgQ0FMTEJBQ0ssXG4gIFxuICAgIEFERElUSU9OID0gJ0FERElUSU9OJyxcbiAgICBNT0RJRklDQVRJT04gPSAnTU9ESUZJQ0FUSU9OJyxcbiAgICBSRU1PVkFMID0gJ1JFTU9WQUwnLFxuICBcbiAgICBET01fQVRUUl9NT0RJRklFRCA9ICdET01BdHRyTW9kaWZpZWQnLFxuICAgIERPTV9DT05URU5UX0xPQURFRCA9ICdET01Db250ZW50TG9hZGVkJyxcbiAgICBET01fU1VCVFJFRV9NT0RJRklFRCA9ICdET01TdWJ0cmVlTW9kaWZpZWQnLFxuICBcbiAgICBQUkVGSVhfVEFHID0gJzwnLFxuICAgIFBSRUZJWF9JUyA9ICc9JyxcbiAgXG4gICAgLy8gdmFsaWQgYW5kIGludmFsaWQgbm9kZSBuYW1lc1xuICAgIHZhbGlkTmFtZSA9IC9eW0EtWl1bQS1aMC05XSooPzotW0EtWjAtOV0rKSskLyxcbiAgICBpbnZhbGlkTmFtZXMgPSBbXG4gICAgICAnQU5OT1RBVElPTi1YTUwnLFxuICAgICAgJ0NPTE9SLVBST0ZJTEUnLFxuICAgICAgJ0ZPTlQtRkFDRScsXG4gICAgICAnRk9OVC1GQUNFLVNSQycsXG4gICAgICAnRk9OVC1GQUNFLVVSSScsXG4gICAgICAnRk9OVC1GQUNFLUZPUk1BVCcsXG4gICAgICAnRk9OVC1GQUNFLU5BTUUnLFxuICAgICAgJ01JU1NJTkctR0xZUEgnXG4gICAgXSxcbiAgXG4gICAgLy8gcmVnaXN0ZXJlZCB0eXBlcyBhbmQgdGhlaXIgcHJvdG90eXBlc1xuICAgIHR5cGVzID0gW10sXG4gICAgcHJvdG9zID0gW10sXG4gIFxuICAgIC8vIHRvIHF1ZXJ5IHN1Ym5vZGVzXG4gICAgcXVlcnkgPSAnJyxcbiAgXG4gICAgLy8gaHRtbCBzaG9ydGN1dCB1c2VkIHRvIGZlYXR1cmUgZGV0ZWN0XG4gICAgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICBcbiAgICAvLyBFUzUgaW5saW5lIGhlbHBlcnMgfHwgYmFzaWMgcGF0Y2hlc1xuICAgIGluZGV4T2YgPSB0eXBlcy5pbmRleE9mIHx8IGZ1bmN0aW9uICh2KSB7XG4gICAgICBmb3IodmFyIGkgPSB0aGlzLmxlbmd0aDsgaS0tICYmIHRoaXNbaV0gIT09IHY7KXt9XG4gICAgICByZXR1cm4gaTtcbiAgICB9LFxuICBcbiAgICAvLyBvdGhlciBoZWxwZXJzIC8gc2hvcnRjdXRzXG4gICAgT1AgPSBPYmplY3QucHJvdG90eXBlLFxuICAgIGhPUCA9IE9QLmhhc093blByb3BlcnR5LFxuICAgIGlQTyA9IE9QLmlzUHJvdG90eXBlT2YsXG4gIFxuICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgIGVtcHR5ID0gW10sXG4gICAgZ09QRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgZ09QTiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAgIGdQTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgICBzUE8gPSBPYmplY3Quc2V0UHJvdG90eXBlT2YsXG4gIFxuICAgIC8vIGpzaGludCBwcm90bzogdHJ1ZVxuICAgIGhhc1Byb3RvID0gISFPYmplY3QuX19wcm90b19fLFxuICBcbiAgICAvLyBWMSBoZWxwZXJzXG4gICAgZml4R2V0Q2xhc3MgPSBmYWxzZSxcbiAgICBEUkVDRVYxID0gJ19fZHJlQ0V2MScsXG4gICAgY3VzdG9tRWxlbWVudHMgPSB3aW5kb3cuY3VzdG9tRWxlbWVudHMsXG4gICAgdXNhYmxlQ3VzdG9tRWxlbWVudHMgPSBwb2x5ZmlsbCAhPT0gJ2ZvcmNlJyAmJiAhIShcbiAgICAgIGN1c3RvbUVsZW1lbnRzICYmXG4gICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUgJiZcbiAgICAgIGN1c3RvbUVsZW1lbnRzLmdldCAmJlxuICAgICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWRcbiAgICApLFxuICAgIERpY3QgPSBPYmplY3QuY3JlYXRlIHx8IE9iamVjdCxcbiAgICBNYXAgPSB3aW5kb3cuTWFwIHx8IGZ1bmN0aW9uIE1hcCgpIHtcbiAgICAgIHZhciBLID0gW10sIFYgPSBbXSwgaTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gVltpbmRleE9mLmNhbGwoSywgayldO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgaSA9IGluZGV4T2YuY2FsbChLLCBrKTtcbiAgICAgICAgICBpZiAoaSA8IDApIFZbSy5wdXNoKGspIC0gMV0gPSB2O1xuICAgICAgICAgIGVsc2UgVltpXSA9IHY7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBQcm9taXNlID0gd2luZG93LlByb21pc2UgfHwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICB2YXJcbiAgICAgICAgbm90aWZ5ID0gW10sXG4gICAgICAgIGRvbmUgPSBmYWxzZSxcbiAgICAgICAgcCA9IHtcbiAgICAgICAgICAnY2F0Y2gnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICB9LFxuICAgICAgICAgICd0aGVuJzogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBub3RpZnkucHVzaChjYik7XG4gICAgICAgICAgICBpZiAoZG9uZSkgc2V0VGltZW91dChyZXNvbHZlLCAxKTtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgO1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKG5vdGlmeS5sZW5ndGgpIG5vdGlmeS5zaGlmdCgpKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGZuKHJlc29sdmUpO1xuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcbiAgICBqdXN0Q3JlYXRlZCA9IGZhbHNlLFxuICAgIGNvbnN0cnVjdG9ycyA9IERpY3QobnVsbCksXG4gICAgd2FpdGluZ0xpc3QgPSBEaWN0KG51bGwpLFxuICAgIG5vZGVOYW1lcyA9IG5ldyBNYXAoKSxcbiAgICBzZWNvbmRBcmd1bWVudCA9IGZ1bmN0aW9uIChpcykge1xuICAgICAgcmV0dXJuIGlzLnRvTG93ZXJDYXNlKCk7XG4gICAgfSxcbiAgXG4gICAgLy8gdXNlZCB0byBjcmVhdGUgdW5pcXVlIGluc3RhbmNlc1xuICAgIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gQnJpZGdlKHByb3RvKSB7XG4gICAgICAvLyBzaWxseSBicm9rZW4gcG9seWZpbGwgcHJvYmFibHkgZXZlciB1c2VkIGJ1dCBzaG9ydCBlbm91Z2ggdG8gd29ya1xuICAgICAgcmV0dXJuIHByb3RvID8gKChCcmlkZ2UucHJvdG90eXBlID0gcHJvdG8pLCBuZXcgQnJpZGdlKCkpIDogdGhpcztcbiAgICB9LFxuICBcbiAgICAvLyB3aWxsIHNldCB0aGUgcHJvdG90eXBlIGlmIHBvc3NpYmxlXG4gICAgLy8gb3IgY29weSBvdmVyIGFsbCBwcm9wZXJ0aWVzXG4gICAgc2V0UHJvdG90eXBlID0gc1BPIHx8IChcbiAgICAgIGhhc1Byb3RvID9cbiAgICAgICAgZnVuY3Rpb24gKG8sIHApIHtcbiAgICAgICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgIH0gOiAoXG4gICAgICAoZ09QTiAmJiBnT1BEKSA/XG4gICAgICAgIChmdW5jdGlvbigpe1xuICAgICAgICAgIGZ1bmN0aW9uIHNldFByb3BlcnRpZXMobywgcCkge1xuICAgICAgICAgICAgZm9yICh2YXJcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICBuYW1lcyA9IGdPUE4ocCksXG4gICAgICAgICAgICAgIGkgPSAwLCBsZW5ndGggPSBuYW1lcy5sZW5ndGg7XG4gICAgICAgICAgICAgIGkgPCBsZW5ndGg7IGkrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGtleSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgICBpZiAoIWhPUC5jYWxsKG8sIGtleSkpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShvLCBrZXksIGdPUEQocCwga2V5KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvLCBwKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIHNldFByb3BlcnRpZXMobywgcCk7XG4gICAgICAgICAgICB9IHdoaWxlICgocCA9IGdQTyhwKSkgJiYgIWlQTy5jYWxsKHAsIG8pKTtcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgIH07XG4gICAgICAgIH0oKSkgOlxuICAgICAgICBmdW5jdGlvbiAobywgcCkge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwKSB7XG4gICAgICAgICAgICBvW2tleV0gPSBwW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9XG4gICAgKSksXG4gIFxuICAgIC8vIERPTSBzaG9ydGN1dHMgYW5kIGhlbHBlcnMsIGlmIGFueVxuICBcbiAgICBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsXG4gIFxuICAgIEhUTUxFbGVtZW50UHJvdG90eXBlID0gKFxuICAgICAgd2luZG93LkhUTUxFbGVtZW50IHx8XG4gICAgICB3aW5kb3cuRWxlbWVudCB8fFxuICAgICAgd2luZG93Lk5vZGVcbiAgICApLnByb3RvdHlwZSxcbiAgXG4gICAgSUU4ID0gIWlQTy5jYWxsKEhUTUxFbGVtZW50UHJvdG90eXBlLCBkb2N1bWVudEVsZW1lbnQpLFxuICBcbiAgICBzYWZlUHJvcGVydHkgPSBJRTggPyBmdW5jdGlvbiAobywgaywgZCkge1xuICAgICAgb1trXSA9IGQudmFsdWU7XG4gICAgICByZXR1cm4gbztcbiAgICB9IDogZGVmaW5lUHJvcGVydHksXG4gIFxuICAgIGlzVmFsaWROb2RlID0gSUU4ID9cbiAgICAgIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxO1xuICAgICAgfSA6XG4gICAgICBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gaVBPLmNhbGwoSFRNTEVsZW1lbnRQcm90b3R5cGUsIG5vZGUpO1xuICAgICAgfSxcbiAgXG4gICAgdGFyZ2V0cyA9IElFOCAmJiBbXSxcbiAgXG4gICAgYXR0YWNoU2hhZG93ID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuYXR0YWNoU2hhZG93LFxuICAgIGNsb25lTm9kZSA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmNsb25lTm9kZSxcbiAgICBkaXNwYXRjaEV2ZW50ID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuZGlzcGF0Y2hFdmVudCxcbiAgICBnZXRBdHRyaWJ1dGUgPSBIVE1MRWxlbWVudFByb3RvdHlwZS5nZXRBdHRyaWJ1dGUsXG4gICAgaGFzQXR0cmlidXRlID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuaGFzQXR0cmlidXRlLFxuICAgIHJlbW92ZUF0dHJpYnV0ZSA9IEhUTUxFbGVtZW50UHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSxcbiAgICBzZXRBdHRyaWJ1dGUgPSBIVE1MRWxlbWVudFByb3RvdHlwZS5zZXRBdHRyaWJ1dGUsXG4gIFxuICAgIC8vIHJlcGxhY2VkIGxhdGVyIG9uXG4gICAgY3JlYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQsXG4gICAgcGF0Y2hlZENyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50LFxuICBcbiAgICAvLyBzaGFyZWQgb2JzZXJ2ZXIgZm9yIGFsbCBhdHRyaWJ1dGVzXG4gICAgYXR0cmlidXRlc09ic2VydmVyID0gTXV0YXRpb25PYnNlcnZlciAmJiB7XG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgXG4gICAgLy8gdXNlZnVsIHRvIGRldGVjdCBvbmx5IGlmIHRoZXJlJ3Mgbm8gTXV0YXRpb25PYnNlcnZlclxuICAgIERPTUF0dHJNb2RpZmllZCA9IE11dGF0aW9uT2JzZXJ2ZXIgfHwgZnVuY3Rpb24oZSkge1xuICAgICAgZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgIGRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBET01fQVRUUl9NT0RJRklFRCxcbiAgICAgICAgRE9NQXR0ck1vZGlmaWVkXG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8vIHdpbGwgYm90aCBiZSB1c2VkIHRvIG1ha2UgRE9NTm9kZUluc2VydGVkIGFzeW5jaHJvbm91c1xuICAgIGFzYXBRdWV1ZSxcbiAgICBhc2FwVGltZXIgPSAwLFxuICBcbiAgICAvLyBpbnRlcm5hbCBmbGFnc1xuICAgIFYwID0gUkVHSVNURVJfRUxFTUVOVCBpbiBkb2N1bWVudCxcbiAgICBzZXRMaXN0ZW5lciA9IHRydWUsXG4gICAganVzdFNldHVwID0gZmFsc2UsXG4gICAgZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQgPSB0cnVlLFxuICAgIGRyb3BEb21Db250ZW50TG9hZGVkID0gdHJ1ZSxcbiAgXG4gICAgLy8gbmVlZGVkIGZvciB0aGUgaW5uZXJIVE1MIGhlbHBlclxuICAgIG5vdEZyb21Jbm5lckhUTUxIZWxwZXIgPSB0cnVlLFxuICBcbiAgICAvLyBvcHRpb25hbGx5IGRlZmluZWQgbGF0ZXIgb25cbiAgICBvblN1YnRyZWVNb2RpZmllZCxcbiAgICBjYWxsRE9NQXR0ck1vZGlmaWVkLFxuICAgIGdldEF0dHJpYnV0ZXNNaXJyb3IsXG4gICAgb2JzZXJ2ZXIsXG4gICAgb2JzZXJ2ZSxcbiAgXG4gICAgLy8gYmFzZWQgb24gc2V0dGluZyBwcm90b3R5cGUgY2FwYWJpbGl0eVxuICAgIC8vIHdpbGwgY2hlY2sgcHJvdG8gb3IgdGhlIGV4cGFuZG8gYXR0cmlidXRlXG4gICAgLy8gaW4gb3JkZXIgdG8gc2V0dXAgdGhlIG5vZGUgb25jZVxuICAgIHBhdGNoSWZOb3RBbHJlYWR5LFxuICAgIHBhdGNoXG4gIDtcbiAgXG4gIC8vIG9ubHkgaWYgbmVlZGVkXG4gIGlmICghVjApIHtcbiAgXG4gICAgaWYgKHNQTyB8fCBoYXNQcm90bykge1xuICAgICAgICBwYXRjaElmTm90QWxyZWFkeSA9IGZ1bmN0aW9uIChub2RlLCBwcm90bykge1xuICAgICAgICAgIGlmICghaVBPLmNhbGwocHJvdG8sIG5vZGUpKSB7XG4gICAgICAgICAgICBzZXR1cE5vZGUobm9kZSwgcHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGF0Y2ggPSBzZXR1cE5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2hJZk5vdEFscmVhZHkgPSBmdW5jdGlvbiAobm9kZSwgcHJvdG8pIHtcbiAgICAgICAgICBpZiAoIW5vZGVbRVhQQU5ET19VSURdKSB7XG4gICAgICAgICAgICBub2RlW0VYUEFORE9fVUlEXSA9IE9iamVjdCh0cnVlKTtcbiAgICAgICAgICAgIHNldHVwTm9kZShub2RlLCBwcm90byk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwYXRjaCA9IHBhdGNoSWZOb3RBbHJlYWR5O1xuICAgIH1cbiAgXG4gICAgaWYgKElFOCkge1xuICAgICAgZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgIChmdW5jdGlvbiAoKXtcbiAgICAgICAgdmFyXG4gICAgICAgICAgZGVzY3JpcHRvciA9IGdPUEQoSFRNTEVsZW1lbnRQcm90b3R5cGUsIEFERF9FVkVOVF9MSVNURU5FUiksXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lciA9IGRlc2NyaXB0b3IudmFsdWUsXG4gICAgICAgICAgcGF0Y2hlZFJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICB2YXIgZSA9IG5ldyBDdXN0b21FdmVudChET01fQVRUUl9NT0RJRklFRCwge2J1YmJsZXM6IHRydWV9KTtcbiAgICAgICAgICAgIGUuYXR0ck5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgZS5wcmV2VmFsdWUgPSBnZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICAgICAgICAgIGUubmV3VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgZVtSRU1PVkFMXSA9IGUuYXR0ckNoYW5nZSA9IDI7XG4gICAgICAgICAgICByZW1vdmVBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhdGNoZWRTZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBoYWQgPSBoYXNBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lKSxcbiAgICAgICAgICAgICAgb2xkID0gaGFkICYmIGdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsIG5hbWUpLFxuICAgICAgICAgICAgICBlID0gbmV3IEN1c3RvbUV2ZW50KERPTV9BVFRSX01PRElGSUVELCB7YnViYmxlczogdHJ1ZX0pXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICBlLmF0dHJOYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGUucHJldlZhbHVlID0gaGFkID8gb2xkIDogbnVsbDtcbiAgICAgICAgICAgIGUubmV3VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChoYWQpIHtcbiAgICAgICAgICAgICAgZVtNT0RJRklDQVRJT05dID0gZS5hdHRyQ2hhbmdlID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVbQURESVRJT05dID0gZS5hdHRyQ2hhbmdlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUHJvcGVydHlDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgLy8ganNoaW50IGVxbnVsbDp0cnVlXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgbm9kZSA9IGUuY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgICAgc3VwZXJTZWNyZXQgPSBub2RlW0VYUEFORE9fVUlEXSxcbiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lID0gZS5wcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZiAoc3VwZXJTZWNyZXQuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICBzdXBlclNlY3JldCA9IHN1cGVyU2VjcmV0W3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KERPTV9BVFRSX01PRElGSUVELCB7YnViYmxlczogdHJ1ZX0pO1xuICAgICAgICAgICAgICBldmVudC5hdHRyTmFtZSA9IHN1cGVyU2VjcmV0Lm5hbWU7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZWYWx1ZSA9IHN1cGVyU2VjcmV0LnZhbHVlIHx8IG51bGw7XG4gICAgICAgICAgICAgIGV2ZW50Lm5ld1ZhbHVlID0gKHN1cGVyU2VjcmV0LnZhbHVlID0gbm9kZVtwcm9wZXJ0eU5hbWVdIHx8IG51bGwpO1xuICAgICAgICAgICAgICBpZiAoZXZlbnQucHJldlZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBldmVudFtBRERJVElPTl0gPSBldmVudC5hdHRyQ2hhbmdlID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudFtNT0RJRklDQVRJT05dID0gZXZlbnQuYXR0ckNoYW5nZSA9IDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudC5jYWxsKG5vZGUsIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZSA9PT0gRE9NX0FUVFJfTU9ESUZJRUQgJiZcbiAgICAgICAgICAgIHRoaXNbQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0tdICYmXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSAhPT0gcGF0Y2hlZFNldEF0dHJpYnV0ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpc1tFWFBBTkRPX1VJRF0gPSB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZToge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjbGFzcycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2xhc3NOYW1lXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSA9IHBhdGNoZWRTZXRBdHRyaWJ1dGU7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSA9IHBhdGNoZWRSZW1vdmVBdHRyaWJ1dGU7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgJ3Byb3BlcnR5Y2hhbmdlJywgb25Qcm9wZXJ0eUNoYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCB0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkoSFRNTEVsZW1lbnRQcm90b3R5cGUsIEFERF9FVkVOVF9MSVNURU5FUiwgZGVzY3JpcHRvcik7XG4gICAgICB9KCkpO1xuICAgIH0gZWxzZSBpZiAoIU11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGRvY3VtZW50RWxlbWVudFtBRERfRVZFTlRfTElTVEVORVJdKERPTV9BVFRSX01PRElGSUVELCBET01BdHRyTW9kaWZpZWQpO1xuICAgICAgZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShFWFBBTkRPX1VJRCwgMSk7XG4gICAgICBkb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKEVYUEFORE9fVUlEKTtcbiAgICAgIGlmIChkb2VzTm90U3VwcG9ydERPTUF0dHJNb2RpZmllZCkge1xuICAgICAgICBvblN1YnRyZWVNb2RpZmllZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBub2RlID0gdGhpcyxcbiAgICAgICAgICAgIG9sZEF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBuZXdBdHRyaWJ1dGVzLFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgO1xuICAgICAgICAgIGlmIChub2RlID09PSBlLnRhcmdldCkge1xuICAgICAgICAgICAgb2xkQXR0cmlidXRlcyA9IG5vZGVbRVhQQU5ET19VSURdO1xuICAgICAgICAgICAgbm9kZVtFWFBBTkRPX1VJRF0gPSAobmV3QXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXNNaXJyb3Iobm9kZSkpO1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gbmV3QXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gb2xkQXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgd2FzIGFkZGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxET01BdHRyTW9kaWZpZWQoXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgIG9sZEF0dHJpYnV0ZXNba2V5XSxcbiAgICAgICAgICAgICAgICAgIG5ld0F0dHJpYnV0ZXNba2V5XSxcbiAgICAgICAgICAgICAgICAgIEFERElUSU9OXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdBdHRyaWJ1dGVzW2tleV0gIT09IG9sZEF0dHJpYnV0ZXNba2V5XSkge1xuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSB3YXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsRE9NQXR0ck1vZGlmaWVkKFxuICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBvbGRBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBuZXdBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBNT0RJRklDQVRJT05cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVja2luZyBpZiBpdCBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBvbGRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGlmICghKGtleSBpbiBuZXdBdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSByZW1vdmVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxET01BdHRyTW9kaWZpZWQoXG4gICAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgIG9sZEF0dHJpYnV0ZXNba2V5XSxcbiAgICAgICAgICAgICAgICAgIG5ld0F0dHJpYnV0ZXNba2V5XSxcbiAgICAgICAgICAgICAgICAgIFJFTU9WQUxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjYWxsRE9NQXR0ck1vZGlmaWVkID0gZnVuY3Rpb24gKFxuICAgICAgICAgIGF0dHJDaGFuZ2UsXG4gICAgICAgICAgY3VycmVudFRhcmdldCxcbiAgICAgICAgICBhdHRyTmFtZSxcbiAgICAgICAgICBwcmV2VmFsdWUsXG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgYWN0aW9uXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBlID0ge1xuICAgICAgICAgICAgYXR0ckNoYW5nZTogYXR0ckNoYW5nZSxcbiAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IGN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICBhdHRyTmFtZTogYXR0ck5hbWUsXG4gICAgICAgICAgICBwcmV2VmFsdWU6IHByZXZWYWx1ZSxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgZVthY3Rpb25dID0gYXR0ckNoYW5nZTtcbiAgICAgICAgICBvbkRPTUF0dHJNb2RpZmllZChlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0QXR0cmlidXRlc01pcnJvciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgZm9yICh2YXJcbiAgICAgICAgICAgIGF0dHIsIG5hbWUsXG4gICAgICAgICAgICByZXN1bHQgPSB7fSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBpID0gMCwgbGVuZ3RoID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgbmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSAnc2V0QXR0cmlidXRlJykge1xuICAgICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgXG4gICAgLy8gc2V0IGFzIGVudW1lcmFibGUsIHdyaXRhYmxlIGFuZCBjb25maWd1cmFibGVcbiAgICBkb2N1bWVudFtSRUdJU1RFUl9FTEVNRU5UXSA9IGZ1bmN0aW9uIHJlZ2lzdGVyRWxlbWVudCh0eXBlLCBvcHRpb25zKSB7XG4gICAgICB1cHBlclR5cGUgPSB0eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICBpZiAoc2V0TGlzdGVuZXIpIHtcbiAgICAgICAgLy8gb25seSBmaXJzdCB0aW1lIGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCBpcyB1c2VkXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IHRoaXMgbGlzdGVuZXJcbiAgICAgICAgLy8gc2V0dGluZyBpdCBieSBkZWZhdWx0IG1pZ2h0IHNsb3cgZG93biBmb3Igbm8gcmVhc29uXG4gICAgICAgIHNldExpc3RlbmVyID0gZmFsc2U7XG4gICAgICAgIGlmIChNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIgPSAoZnVuY3Rpb24oYXR0YWNoZWQsIGRldGFjaGVkKXtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrRW1BbGwobGlzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBjYWxsYmFjayhsaXN0W2krK10pKXt9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKHJlY29yZHMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXJcbiAgICAgICAgICAgICAgICBjdXJyZW50LCBub2RlLCBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICBpID0gMCwgbGVuZ3RoID0gcmVjb3Jkcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrK1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmVjb3Jkc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC50eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgICAgICAgICAgICAgICAgY2hlY2tFbUFsbChjdXJyZW50LmFkZGVkTm9kZXMsIGF0dGFjaGVkKTtcbiAgICAgICAgICAgICAgICAgIGNoZWNrRW1BbGwoY3VycmVudC5yZW1vdmVkTm9kZXMsIGRldGFjaGVkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbm9kZSA9IGN1cnJlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgaWYgKG5vdEZyb21Jbm5lckhUTUxIZWxwZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICBub2RlW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXSAmJlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlTmFtZSAhPT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IGdldEF0dHJpYnV0ZS5jYWxsKG5vZGUsIGN1cnJlbnQuYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gY3VycmVudC5vbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIG5vZGVbQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0tdKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5vbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfShleGVjdXRlQWN0aW9uKEFUVEFDSEVEKSwgZXhlY3V0ZUFjdGlvbihERVRBQ0hFRCkpKTtcbiAgICAgICAgICBvYnNlcnZlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBvYnNlcnZlKGRvY3VtZW50KTtcbiAgICAgICAgICBpZiAoYXR0YWNoU2hhZG93KSB7XG4gICAgICAgICAgICBIVE1MRWxlbWVudFByb3RvdHlwZS5hdHRhY2hTaGFkb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlKGF0dGFjaFNoYWRvdy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzYXBRdWV1ZSA9IFtdO1xuICAgICAgICAgIGRvY3VtZW50W0FERF9FVkVOVF9MSVNURU5FUl0oJ0RPTU5vZGVJbnNlcnRlZCcsIG9uRE9NTm9kZShBVFRBQ0hFRCkpO1xuICAgICAgICAgIGRvY3VtZW50W0FERF9FVkVOVF9MSVNURU5FUl0oJ0RPTU5vZGVSZW1vdmVkJywgb25ET01Ob2RlKERFVEFDSEVEKSk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGRvY3VtZW50W0FERF9FVkVOVF9MSVNURU5FUl0oRE9NX0NPTlRFTlRfTE9BREVELCBvblJlYWR5U3RhdGVDaGFuZ2UpO1xuICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKCdyZWFkeXN0YXRlY2hhbmdlJywgb25SZWFkeVN0YXRlQ2hhbmdlKTtcbiAgXG4gICAgICAgIEhUTUxFbGVtZW50UHJvdG90eXBlLmNsb25lTm9kZSA9IGZ1bmN0aW9uIChkZWVwKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBub2RlID0gY2xvbmVOb2RlLmNhbGwodGhpcywgISFkZWVwKSxcbiAgICAgICAgICAgIGkgPSBnZXRUeXBlSW5kZXgobm9kZSlcbiAgICAgICAgICA7XG4gICAgICAgICAgaWYgKC0xIDwgaSkgcGF0Y2gobm9kZSwgcHJvdG9zW2ldKTtcbiAgICAgICAgICBpZiAoZGVlcCAmJiBxdWVyeS5sZW5ndGgpIGxvb3BBbmRTZXR1cChub2RlLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpKTtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoanVzdFNldHVwKSByZXR1cm4gKGp1c3RTZXR1cCA9IGZhbHNlKTtcbiAgXG4gICAgICBpZiAoLTIgPCAoXG4gICAgICAgIGluZGV4T2YuY2FsbCh0eXBlcywgUFJFRklYX0lTICsgdXBwZXJUeXBlKSArXG4gICAgICAgIGluZGV4T2YuY2FsbCh0eXBlcywgUFJFRklYX1RBRyArIHVwcGVyVHlwZSlcbiAgICAgICkpIHtcbiAgICAgICAgdGhyb3dUeXBlRXJyb3IodHlwZSk7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKCF2YWxpZE5hbWUudGVzdCh1cHBlclR5cGUpIHx8IC0xIDwgaW5kZXhPZi5jYWxsKGludmFsaWROYW1lcywgdXBwZXJUeXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB0eXBlICcgKyB0eXBlICsgJyBpcyBpbnZhbGlkJyk7XG4gICAgICB9XG4gIFxuICAgICAgdmFyXG4gICAgICAgIGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBleHRlbmRpbmcgP1xuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSwgdXBwZXJUeXBlKSA6XG4gICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3B0ID0gb3B0aW9ucyB8fCBPUCxcbiAgICAgICAgZXh0ZW5kaW5nID0gaE9QLmNhbGwob3B0LCBFWFRFTkRTKSxcbiAgICAgICAgbm9kZU5hbWUgPSBleHRlbmRpbmcgPyBvcHRpb25zW0VYVEVORFNdLnRvVXBwZXJDYXNlKCkgOiB1cHBlclR5cGUsXG4gICAgICAgIHVwcGVyVHlwZSxcbiAgICAgICAgaVxuICAgICAgO1xuICBcbiAgICAgIGlmIChleHRlbmRpbmcgJiYgLTEgPCAoXG4gICAgICAgIGluZGV4T2YuY2FsbCh0eXBlcywgUFJFRklYX1RBRyArIG5vZGVOYW1lKVxuICAgICAgKSkge1xuICAgICAgICB0aHJvd1R5cGVFcnJvcihub2RlTmFtZSk7XG4gICAgICB9XG4gIFxuICAgICAgaSA9IHR5cGVzLnB1c2goKGV4dGVuZGluZyA/IFBSRUZJWF9JUyA6IFBSRUZJWF9UQUcpICsgdXBwZXJUeXBlKSAtIDE7XG4gIFxuICAgICAgcXVlcnkgPSBxdWVyeS5jb25jYXQoXG4gICAgICAgIHF1ZXJ5Lmxlbmd0aCA/ICcsJyA6ICcnLFxuICAgICAgICBleHRlbmRpbmcgPyBub2RlTmFtZSArICdbaXM9XCInICsgdHlwZS50b0xvd2VyQ2FzZSgpICsgJ1wiXScgOiBub2RlTmFtZVxuICAgICAgKTtcbiAgXG4gICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAoXG4gICAgICAgIHByb3Rvc1tpXSA9IGhPUC5jYWxsKG9wdCwgJ3Byb3RvdHlwZScpID9cbiAgICAgICAgICBvcHQucHJvdG90eXBlIDpcbiAgICAgICAgICBjcmVhdGUoSFRNTEVsZW1lbnRQcm90b3R5cGUpXG4gICAgICApO1xuICBcbiAgICAgIGlmIChxdWVyeS5sZW5ndGgpIGxvb3BBbmRWZXJpZnkoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpLFxuICAgICAgICBBVFRBQ0hFRFxuICAgICAgKTtcbiAgXG4gICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgfTtcbiAgXG4gICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IChwYXRjaGVkQ3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChsb2NhbE5hbWUsIHR5cGVFeHRlbnNpb24pIHtcbiAgICAgIHZhclxuICAgICAgICBpcyA9IGdldElzKHR5cGVFeHRlbnNpb24pLFxuICAgICAgICBub2RlID0gaXMgP1xuICAgICAgICAgIGNyZWF0ZUVsZW1lbnQuY2FsbChkb2N1bWVudCwgbG9jYWxOYW1lLCBzZWNvbmRBcmd1bWVudChpcykpIDpcbiAgICAgICAgICBjcmVhdGVFbGVtZW50LmNhbGwoZG9jdW1lbnQsIGxvY2FsTmFtZSksXG4gICAgICAgIG5hbWUgPSAnJyArIGxvY2FsTmFtZSxcbiAgICAgICAgaSA9IGluZGV4T2YuY2FsbChcbiAgICAgICAgICB0eXBlcyxcbiAgICAgICAgICAoaXMgPyBQUkVGSVhfSVMgOiBQUkVGSVhfVEFHKSArXG4gICAgICAgICAgKGlzIHx8IG5hbWUpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgKSxcbiAgICAgICAgc2V0dXAgPSAtMSA8IGlcbiAgICAgIDtcbiAgICAgIGlmIChpcykge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnaXMnLCBpcyA9IGlzLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoc2V0dXApIHtcbiAgICAgICAgICBzZXR1cCA9IGlzSW5RU0EobmFtZS50b1VwcGVyQ2FzZSgpLCBpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vdEZyb21Jbm5lckhUTUxIZWxwZXIgPSAhZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5pbm5lckhUTUxIZWxwZXI7XG4gICAgICBpZiAoc2V0dXApIHBhdGNoKG5vZGUsIHByb3Rvc1tpXSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KTtcbiAgXG4gIH1cbiAgXG4gIGZ1bmN0aW9uIEFTQVAoKSB7XG4gICAgdmFyIHF1ZXVlID0gYXNhcFF1ZXVlLnNwbGljZSgwLCBhc2FwUXVldWUubGVuZ3RoKTtcbiAgICBhc2FwVGltZXIgPSAwO1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHF1ZXVlLnNoaWZ0KCkuY2FsbChcbiAgICAgICAgbnVsbCwgcXVldWUuc2hpZnQoKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGxvb3BBbmRWZXJpZnkobGlzdCwgYWN0aW9uKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZlcmlmeUFuZFNldHVwQW5kQWN0aW9uKGxpc3RbaV0sIGFjdGlvbik7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBsb29wQW5kU2V0dXAobGlzdCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aCwgbm9kZTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBub2RlID0gbGlzdFtpXTtcbiAgICAgIHBhdGNoKG5vZGUsIHByb3Rvc1tnZXRUeXBlSW5kZXgobm9kZSldKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGV4ZWN1dGVBY3Rpb24oYWN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBpZiAoaXNWYWxpZE5vZGUobm9kZSkpIHtcbiAgICAgICAgdmVyaWZ5QW5kU2V0dXBBbmRBY3Rpb24obm9kZSwgYWN0aW9uKTtcbiAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCkgbG9vcEFuZFZlcmlmeShcbiAgICAgICAgICBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpLFxuICAgICAgICAgIGFjdGlvblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldFR5cGVJbmRleCh0YXJnZXQpIHtcbiAgICB2YXJcbiAgICAgIGlzID0gZ2V0QXR0cmlidXRlLmNhbGwodGFyZ2V0LCAnaXMnKSxcbiAgICAgIG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCksXG4gICAgICBpID0gaW5kZXhPZi5jYWxsKFxuICAgICAgICB0eXBlcyxcbiAgICAgICAgaXMgP1xuICAgICAgICAgICAgUFJFRklYX0lTICsgaXMudG9VcHBlckNhc2UoKSA6XG4gICAgICAgICAgICBQUkVGSVhfVEFHICsgbm9kZU5hbWVcbiAgICAgIClcbiAgICA7XG4gICAgcmV0dXJuIGlzICYmIC0xIDwgaSAmJiAhaXNJblFTQShub2RlTmFtZSwgaXMpID8gLTEgOiBpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBpc0luUVNBKG5hbWUsIHR5cGUpIHtcbiAgICByZXR1cm4gLTEgPCBxdWVyeS5pbmRleE9mKG5hbWUgKyAnW2lzPVwiJyArIHR5cGUgKyAnXCJdJyk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG9uRE9NQXR0ck1vZGlmaWVkKGUpIHtcbiAgICB2YXJcbiAgICAgIG5vZGUgPSBlLmN1cnJlbnRUYXJnZXQsXG4gICAgICBhdHRyQ2hhbmdlID0gZS5hdHRyQ2hhbmdlLFxuICAgICAgYXR0ck5hbWUgPSBlLmF0dHJOYW1lLFxuICAgICAgdGFyZ2V0ID0gZS50YXJnZXQsXG4gICAgICBhZGRpdGlvbiA9IGVbQURESVRJT05dIHx8IDIsXG4gICAgICByZW1vdmFsID0gZVtSRU1PVkFMXSB8fCAzXG4gICAgO1xuICAgIGlmIChub3RGcm9tSW5uZXJIVE1MSGVscGVyICYmXG4gICAgICAgICghdGFyZ2V0IHx8IHRhcmdldCA9PT0gbm9kZSkgJiZcbiAgICAgICAgbm9kZVtBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10gJiZcbiAgICAgICAgYXR0ck5hbWUgIT09ICdzdHlsZScgJiYgKFxuICAgICAgICAgIGUucHJldlZhbHVlICE9PSBlLm5ld1ZhbHVlIHx8XG4gICAgICAgICAgLy8gSUU5LCBJRTEwLCBhbmQgT3BlcmEgMTIgZ290Y2hhXG4gICAgICAgICAgZS5uZXdWYWx1ZSA9PT0gJycgJiYgKFxuICAgICAgICAgICAgYXR0ckNoYW5nZSA9PT0gYWRkaXRpb24gfHxcbiAgICAgICAgICAgIGF0dHJDaGFuZ2UgPT09IHJlbW92YWxcbiAgICAgICAgICApXG4gICAgKSkge1xuICAgICAgbm9kZVtBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10oXG4gICAgICAgIGF0dHJOYW1lLFxuICAgICAgICBhdHRyQ2hhbmdlID09PSBhZGRpdGlvbiA/IG51bGwgOiBlLnByZXZWYWx1ZSxcbiAgICAgICAgYXR0ckNoYW5nZSA9PT0gcmVtb3ZhbCA/IG51bGwgOiBlLm5ld1ZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gb25ET01Ob2RlKGFjdGlvbikge1xuICAgIHZhciBleGVjdXRvciA9IGV4ZWN1dGVBY3Rpb24oYWN0aW9uKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGFzYXBRdWV1ZS5wdXNoKGV4ZWN1dG9yLCBlLnRhcmdldCk7XG4gICAgICBpZiAoYXNhcFRpbWVyKSBjbGVhclRpbWVvdXQoYXNhcFRpbWVyKTtcbiAgICAgIGFzYXBUaW1lciA9IHNldFRpbWVvdXQoQVNBUCwgMSk7XG4gICAgfTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gb25SZWFkeVN0YXRlQ2hhbmdlKGUpIHtcbiAgICBpZiAoZHJvcERvbUNvbnRlbnRMb2FkZWQpIHtcbiAgICAgIGRyb3BEb21Db250ZW50TG9hZGVkID0gZmFsc2U7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihET01fQ09OVEVOVF9MT0FERUQsIG9uUmVhZHlTdGF0ZUNoYW5nZSk7XG4gICAgfVxuICAgIGlmIChxdWVyeS5sZW5ndGgpIGxvb3BBbmRWZXJpZnkoXG4gICAgICAoZS50YXJnZXQgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpLFxuICAgICAgZS5kZXRhaWwgPT09IERFVEFDSEVEID8gREVUQUNIRUQgOiBBVFRBQ0hFRFxuICAgICk7XG4gICAgaWYgKElFOCkgcHVyZ2UoKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gcGF0Y2hlZFNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkge1xuICAgIC8vIGpzaGludCB2YWxpZHRoaXM6dHJ1ZVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZXRBdHRyaWJ1dGUuY2FsbChzZWxmLCBuYW1lLCB2YWx1ZSk7XG4gICAgb25TdWJ0cmVlTW9kaWZpZWQuY2FsbChzZWxmLCB7dGFyZ2V0OiBzZWxmfSk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHNldHVwTm9kZShub2RlLCBwcm90bykge1xuICAgIHNldFByb3RvdHlwZShub2RlLCBwcm90byk7XG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIGF0dHJpYnV0ZXNPYnNlcnZlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2VzTm90U3VwcG9ydERPTUF0dHJNb2RpZmllZCkge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSA9IHBhdGNoZWRTZXRBdHRyaWJ1dGU7XG4gICAgICAgIG5vZGVbRVhQQU5ET19VSURdID0gZ2V0QXR0cmlidXRlc01pcnJvcihub2RlKTtcbiAgICAgICAgbm9kZVtBRERfRVZFTlRfTElTVEVORVJdKERPTV9TVUJUUkVFX01PRElGSUVELCBvblN1YnRyZWVNb2RpZmllZCk7XG4gICAgICB9XG4gICAgICBub2RlW0FERF9FVkVOVF9MSVNURU5FUl0oRE9NX0FUVFJfTU9ESUZJRUQsIG9uRE9NQXR0ck1vZGlmaWVkKTtcbiAgICB9XG4gICAgaWYgKG5vZGVbQ1JFQVRFRF9DQUxMQkFDS10gJiYgbm90RnJvbUlubmVySFRNTEhlbHBlcikge1xuICAgICAgbm9kZS5jcmVhdGVkID0gdHJ1ZTtcbiAgICAgIG5vZGVbQ1JFQVRFRF9DQUxMQkFDS10oKTtcbiAgICAgIG5vZGUuY3JlYXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gcHVyZ2UoKSB7XG4gICAgZm9yICh2YXJcbiAgICAgIG5vZGUsXG4gICAgICBpID0gMCxcbiAgICAgIGxlbmd0aCA9IHRhcmdldHMubGVuZ3RoO1xuICAgICAgaSA8IGxlbmd0aDsgaSsrXG4gICAgKSB7XG4gICAgICBub2RlID0gdGFyZ2V0c1tpXTtcbiAgICAgIGlmICghZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKG5vZGUpKSB7XG4gICAgICAgIGxlbmd0aC0tO1xuICAgICAgICB0YXJnZXRzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICB2ZXJpZnlBbmRTZXR1cEFuZEFjdGlvbihub2RlLCBERVRBQ0hFRCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiB0aHJvd1R5cGVFcnJvcih0eXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBICcgKyB0eXBlICsgJyB0eXBlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCcpO1xuICB9XG4gIFxuICBmdW5jdGlvbiB2ZXJpZnlBbmRTZXR1cEFuZEFjdGlvbihub2RlLCBhY3Rpb24pIHtcbiAgICB2YXJcbiAgICAgIGZuLFxuICAgICAgaSA9IGdldFR5cGVJbmRleChub2RlKVxuICAgIDtcbiAgICBpZiAoLTEgPCBpKSB7XG4gICAgICBwYXRjaElmTm90QWxyZWFkeShub2RlLCBwcm90b3NbaV0pO1xuICAgICAgaSA9IDA7XG4gICAgICBpZiAoYWN0aW9uID09PSBBVFRBQ0hFRCAmJiAhbm9kZVtBVFRBQ0hFRF0pIHtcbiAgICAgICAgbm9kZVtERVRBQ0hFRF0gPSBmYWxzZTtcbiAgICAgICAgbm9kZVtBVFRBQ0hFRF0gPSB0cnVlO1xuICAgICAgICBpID0gMTtcbiAgICAgICAgaWYgKElFOCAmJiBpbmRleE9mLmNhbGwodGFyZ2V0cywgbm9kZSkgPCAwKSB7XG4gICAgICAgICAgdGFyZ2V0cy5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gREVUQUNIRUQgJiYgIW5vZGVbREVUQUNIRURdKSB7XG4gICAgICAgIG5vZGVbQVRUQUNIRURdID0gZmFsc2U7XG4gICAgICAgIG5vZGVbREVUQUNIRURdID0gdHJ1ZTtcbiAgICAgICAgaSA9IDE7XG4gICAgICB9XG4gICAgICBpZiAoaSAmJiAoZm4gPSBub2RlW2FjdGlvbiArIENBTExCQUNLXSkpIGZuLmNhbGwobm9kZSk7XG4gICAgfVxuICB9XG4gIFxuICBcbiAgXG4gIC8vIFYxIGluIGRhIEhvdXNlIVxuICBmdW5jdGlvbiBDdXN0b21FbGVtZW50UmVnaXN0cnkoKSB7fVxuICBcbiAgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LFxuICAgIC8vIGEgd29ya2Fyb3VuZCBmb3IgdGhlIHN0dWJib3JuIFdlYktpdFxuICAgIGRlZmluZTogdXNhYmxlQ3VzdG9tRWxlbWVudHMgP1xuICAgICAgZnVuY3Rpb24gKG5hbWUsIENsYXNzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgQ0VSRGVmaW5lKG5hbWUsIENsYXNzLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgTkFNRSA9IG5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBjb25zdHJ1Y3RvcnNbTkFNRV0gPSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcjogQ2xhc3MsXG4gICAgICAgICAgICBjcmVhdGU6IFtOQU1FXVxuICAgICAgICAgIH07XG4gICAgICAgICAgbm9kZU5hbWVzLnNldChDbGFzcywgTkFNRSk7XG4gICAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKG5hbWUsIENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSA6XG4gICAgICBDRVJEZWZpbmUsXG4gICAgZ2V0OiB1c2FibGVDdXN0b21FbGVtZW50cyA/XG4gICAgICBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gY3VzdG9tRWxlbWVudHMuZ2V0KG5hbWUpIHx8IGdldChuYW1lKTtcbiAgICAgIH0gOlxuICAgICAgZ2V0LFxuICAgIHdoZW5EZWZpbmVkOiB1c2FibGVDdXN0b21FbGVtZW50cyA/XG4gICAgICBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICBjdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZChuYW1lKSxcbiAgICAgICAgICB3aGVuRGVmaW5lZChuYW1lKVxuICAgICAgICBdKTtcbiAgICAgIH0gOlxuICAgICAgd2hlbkRlZmluZWRcbiAgfTtcbiAgXG4gIGZ1bmN0aW9uIENFUkRlZmluZShuYW1lLCBDbGFzcywgb3B0aW9ucykge1xuICAgIHZhclxuICAgICAgaXMgPSBvcHRpb25zICYmIG9wdGlvbnNbRVhURU5EU10gfHwgJycsXG4gICAgICBDUHJvdG8gPSBDbGFzcy5wcm90b3R5cGUsXG4gICAgICBwcm90byA9IGNyZWF0ZShDUHJvdG8pLFxuICAgICAgYXR0cmlidXRlcyA9IENsYXNzLm9ic2VydmVkQXR0cmlidXRlcyB8fCBlbXB0eSxcbiAgICAgIGRlZmluaXRpb24gPSB7cHJvdG90eXBlOiBwcm90b31cbiAgICA7XG4gICAgLy8gVE9ETzogaXMgdGhpcyBuZWVkZWQgYXQgYWxsIHNpbmNlIGl0J3MgaW5oZXJpdGVkP1xuICAgIC8vIGRlZmluZVByb3BlcnR5KHByb3RvLCAnY29uc3RydWN0b3InLCB7dmFsdWU6IENsYXNzfSk7XG4gICAgc2FmZVByb3BlcnR5KHByb3RvLCBDUkVBVEVEX0NBTExCQUNLLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGp1c3RDcmVhdGVkKSBqdXN0Q3JlYXRlZCA9IGZhbHNlO1xuICAgICAgICAgIGVsc2UgaWYgKCF0aGlzW0RSRUNFVjFdKSB7XG4gICAgICAgICAgICB0aGlzW0RSRUNFVjFdID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ldyBDbGFzcyh0aGlzKTtcbiAgICAgICAgICAgIGlmIChDUHJvdG9bQ1JFQVRFRF9DQUxMQkFDS10pXG4gICAgICAgICAgICAgIENQcm90b1tDUkVBVEVEX0NBTExCQUNLXS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGluZm8gPSBjb25zdHJ1Y3RvcnNbbm9kZU5hbWVzLmdldChDbGFzcyldO1xuICAgICAgICAgICAgaWYgKCF1c2FibGVDdXN0b21FbGVtZW50cyB8fCBpbmZvLmNyZWF0ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIG5vdGlmeUF0dHJpYnV0ZXModGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHNhZmVQcm9wZXJ0eShwcm90bywgQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0ssIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBpZiAoLTEgPCBpbmRleE9mLmNhbGwoYXR0cmlidXRlcywgbmFtZSkpXG4gICAgICAgICAgQ1Byb3RvW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChDUHJvdG9bQ09OTkVDVEVEX0NBTExCQUNLXSkge1xuICAgICAgc2FmZVByb3BlcnR5KHByb3RvLCBBVFRBQ0hFRF9DQUxMQkFDSywge1xuICAgICAgICB2YWx1ZTogQ1Byb3RvW0NPTk5FQ1RFRF9DQUxMQkFDS11cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoQ1Byb3RvW0RJU0NPTk5FQ1RFRF9DQUxMQkFDS10pIHtcbiAgICAgIHNhZmVQcm9wZXJ0eShwcm90bywgREVUQUNIRURfQ0FMTEJBQ0ssIHtcbiAgICAgICAgdmFsdWU6IENQcm90b1tESVNDT05ORUNURURfQ0FMTEJBQ0tdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzKSBkZWZpbml0aW9uW0VYVEVORFNdID0gaXM7XG4gICAgbmFtZSA9IG5hbWUudG9VcHBlckNhc2UoKTtcbiAgICBjb25zdHJ1Y3RvcnNbbmFtZV0gPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogQ2xhc3MsXG4gICAgICBjcmVhdGU6IGlzID8gW2lzLCBzZWNvbmRBcmd1bWVudChuYW1lKV0gOiBbbmFtZV1cbiAgICB9O1xuICAgIG5vZGVOYW1lcy5zZXQoQ2xhc3MsIG5hbWUpO1xuICAgIGRvY3VtZW50W1JFR0lTVEVSX0VMRU1FTlRdKG5hbWUudG9Mb3dlckNhc2UoKSwgZGVmaW5pdGlvbik7XG4gICAgd2hlbkRlZmluZWQobmFtZSk7XG4gICAgd2FpdGluZ0xpc3RbbmFtZV0ucigpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBnZXQobmFtZSkge1xuICAgIHZhciBpbmZvID0gY29uc3RydWN0b3JzW25hbWUudG9VcHBlckNhc2UoKV07XG4gICAgcmV0dXJuIGluZm8gJiYgaW5mby5jb25zdHJ1Y3RvcjtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0SXMob3B0aW9ucykge1xuICAgIHJldHVybiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgP1xuICAgICAgICBvcHRpb25zIDogKG9wdGlvbnMgJiYgb3B0aW9ucy5pcyB8fCAnJyk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG5vdGlmeUF0dHJpYnV0ZXMoc2VsZikge1xuICAgIHZhclxuICAgICAgY2FsbGJhY2sgPSBzZWxmW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXSxcbiAgICAgIGF0dHJpYnV0ZXMgPSBjYWxsYmFjayA/IHNlbGYuYXR0cmlidXRlcyA6IGVtcHR5LFxuICAgICAgaSA9IGF0dHJpYnV0ZXMubGVuZ3RoLFxuICAgICAgYXR0cmlidXRlXG4gICAgO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGF0dHJpYnV0ZSA9ICBhdHRyaWJ1dGVzW2ldOyAvLyB8fCBhdHRyaWJ1dGVzLml0ZW0oaSk7XG4gICAgICBjYWxsYmFjay5jYWxsKFxuICAgICAgICBzZWxmLFxuICAgICAgICBhdHRyaWJ1dGUubmFtZSB8fCBhdHRyaWJ1dGUubm9kZU5hbWUsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGF0dHJpYnV0ZS52YWx1ZSB8fCBhdHRyaWJ1dGUubm9kZVZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gd2hlbkRlZmluZWQobmFtZSkge1xuICAgIG5hbWUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKCEobmFtZSBpbiB3YWl0aW5nTGlzdCkpIHtcbiAgICAgIHdhaXRpbmdMaXN0W25hbWVdID0ge307XG4gICAgICB3YWl0aW5nTGlzdFtuYW1lXS5wID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgd2FpdGluZ0xpc3RbbmFtZV0uciA9IHJlc29sdmU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHdhaXRpbmdMaXN0W25hbWVdLnA7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHBvbHlmaWxsVjEoKSB7XG4gICAgaWYgKGN1c3RvbUVsZW1lbnRzKSBkZWxldGUgd2luZG93LmN1c3RvbUVsZW1lbnRzO1xuICAgIGRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2N1c3RvbUVsZW1lbnRzJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG5ldyBDdXN0b21FbGVtZW50UmVnaXN0cnkoKVxuICAgIH0pO1xuICAgIGRlZmluZVByb3BlcnR5KHdpbmRvdywgJ0N1c3RvbUVsZW1lbnRSZWdpc3RyeScsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBDdXN0b21FbGVtZW50UmVnaXN0cnlcbiAgICB9KTtcbiAgICBmb3IgKHZhclxuICAgICAgcGF0Y2hDbGFzcyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBDbGFzcyA9IHdpbmRvd1tuYW1lXTtcbiAgICAgICAgaWYgKENsYXNzKSB7XG4gICAgICAgICAgd2luZG93W25hbWVdID0gZnVuY3Rpb24gQ3VzdG9tRWxlbWVudHNWMShzZWxmKSB7XG4gICAgICAgICAgICB2YXIgaW5mbywgaXNOYXRpdmU7XG4gICAgICAgICAgICBpZiAoIXNlbGYpIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFzZWxmW0RSRUNFVjFdKSB7XG4gICAgICAgICAgICAgIGp1c3RDcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaW5mbyA9IGNvbnN0cnVjdG9yc1tub2RlTmFtZXMuZ2V0KHNlbGYuY29uc3RydWN0b3IpXTtcbiAgICAgICAgICAgICAgaXNOYXRpdmUgPSB1c2FibGVDdXN0b21FbGVtZW50cyAmJiBpbmZvLmNyZWF0ZS5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICAgIHNlbGYgPSBpc05hdGl2ZSA/XG4gICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoQ2xhc3MsIGVtcHR5LCBpbmZvLmNvbnN0cnVjdG9yKSA6XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5hcHBseShkb2N1bWVudCwgaW5mby5jcmVhdGUpO1xuICAgICAgICAgICAgICBzZWxmW0RSRUNFVjFdID0gdHJ1ZTtcbiAgICAgICAgICAgICAganVzdENyZWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKCFpc05hdGl2ZSkgbm90aWZ5QXR0cmlidXRlcyhzZWxmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgIH07XG4gICAgICAgICAgd2luZG93W25hbWVdLnByb3RvdHlwZSA9IENsYXNzLnByb3RvdHlwZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gd2luZG93W25hbWVdO1xuICAgICAgICAgIH0gY2F0Y2goV2ViS2l0KSB7XG4gICAgICAgICAgICBmaXhHZXRDbGFzcyA9IHRydWU7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShDbGFzcywgRFJFQ0VWMSwge3ZhbHVlOiB3aW5kb3dbbmFtZV19KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBDbGFzc2VzID0gaHRtbENsYXNzLmdldCgvXkhUTUxbQS1aXSpbYS16XS8pLFxuICAgICAgaSA9IENsYXNzZXMubGVuZ3RoO1xuICAgICAgaS0tO1xuICAgICAgcGF0Y2hDbGFzcyhDbGFzc2VzW2ldKVxuICAgICkge31cbiAgICAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zKSB7XG4gICAgICB2YXIgaXMgPSBnZXRJcyhvcHRpb25zKTtcbiAgICAgIHJldHVybiBpcyA/XG4gICAgICAgIHBhdGNoZWRDcmVhdGVFbGVtZW50LmNhbGwodGhpcywgbmFtZSwgc2Vjb25kQXJndW1lbnQoaXMpKSA6XG4gICAgICAgIHBhdGNoZWRDcmVhdGVFbGVtZW50LmNhbGwodGhpcywgbmFtZSk7XG4gICAgfSk7XG4gICAgaWYgKCFWMCkge1xuICAgICAganVzdFNldHVwID0gdHJ1ZTtcbiAgICAgIGRvY3VtZW50W1JFR0lTVEVSX0VMRU1FTlRdKCcnKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIGlmIGN1c3RvbUVsZW1lbnRzIGlzIG5vdCB0aGVyZSBhdCBhbGxcbiAgaWYgKCFjdXN0b21FbGVtZW50cyB8fCBwb2x5ZmlsbCA9PT0gJ2ZvcmNlJykgcG9seWZpbGxWMSgpO1xuICBlbHNlIHtcbiAgICAvLyBpZiBhdmFpbGFibGUgdGVzdCBleHRlbmRzIHdvcmsgYXMgZXhwZWN0ZWRcbiAgICB0cnkge1xuICAgICAgKGZ1bmN0aW9uIChEUkUsIG9wdGlvbnMsIG5hbWUpIHtcbiAgICAgICAgb3B0aW9uc1tFWFRFTkRTXSA9ICdhJztcbiAgICAgICAgRFJFLnByb3RvdHlwZSA9IGNyZWF0ZShIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGUpO1xuICAgICAgICBEUkUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRFJFO1xuICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKG5hbWUsIERSRSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBnZXRBdHRyaWJ1dGUuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJywge2lzOiBuYW1lfSksICdpcycpICE9PSBuYW1lIHx8XG4gICAgICAgICAgKHVzYWJsZUN1c3RvbUVsZW1lbnRzICYmIGdldEF0dHJpYnV0ZS5jYWxsKG5ldyBEUkUoKSwgJ2lzJykgIT09IG5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgIH0oXG4gICAgICAgIGZ1bmN0aW9uIERSRSgpIHtcbiAgICAgICAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoSFRNTEFuY2hvckVsZW1lbnQsIFtdLCBEUkUpO1xuICAgICAgICB9LFxuICAgICAgICB7fSxcbiAgICAgICAgJ2RvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnQtYSdcbiAgICAgICkpO1xuICAgIH0gY2F0Y2gob19PKSB7XG4gICAgICAvLyBvciBmb3JjZSB0aGUgcG9seWZpbGwgaWYgbm90XG4gICAgICAvLyBhbmQga2VlcCBpbnRlcm5hbCBvcmlnaW5hbCByZWZlcmVuY2VcbiAgICAgIHBvbHlmaWxsVjEoKTtcbiAgICB9XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCAnYScsICdhJyk7XG4gIH0gY2F0Y2goRmlyZUZveCkge1xuICAgIHNlY29uZEFyZ3VtZW50ID0gZnVuY3Rpb24gKGlzKSB7XG4gICAgICByZXR1cm4ge2lzOiBpcy50b0xvd2VyQ2FzZSgpfTtcbiAgICB9O1xuICB9XG4gIFxufVxuXG5leHBvcnRzLmluc3RhbGxDdXN0b21FbGVtZW50cyA9IGluc3RhbGxDdXN0b21FbGVtZW50cztcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBFUzYvUHJvbWlzZXMgQSsgUHJvbWlzZSBpbnN0YW5jZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24oKj0pLCBmdW5jdGlvbiAoKj0pKX0gcmVzb2x2ZXJcbiAqL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb25zdHJ1Y3RvciBQcm9taXNlIHJlcXVpcmVzIGBuZXdgJyk7XG4gIH1cbiAgaWYgKCFpc0Z1bmN0aW9uKHJlc29sdmVyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ011c3QgcGFzcyByZXNvbHZlciBmdW5jdGlvbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtmdW5jdGlvbih0aGlzOlByb21pc2UsKj0sZnVuY3Rpb24oKj0pLGZ1bmN0aW9uKCo9KSxEZWZlcnJlZCk6IVByb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLl9zdGF0ZSA9IFBlbmRpbmdQcm9taXNlO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Kn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuX3ZhbHVlID0gW107XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5faXNDaGFpbkVuZCA9IHRydWU7XG5cbiAgZG9SZXNvbHZlKFxuICAgIHRoaXMsXG4gICAgYWRvcHRlcih0aGlzLCBGdWxmaWxsZWRQcm9taXNlKSxcbiAgICBhZG9wdGVyKHRoaXMsIFJlamVjdGVkUHJvbWlzZSksXG4gICAgeyB0aGVuOiByZXNvbHZlciB9XG4gICk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIFB1YmxpYyBJbnN0YW5jZSBNZXRob2RzXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHByb21pc2UgaW5zdGFuY2UgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIHJlc3VsdCBvZiB0aGlzIHByb21pc2VcbiAqIGFzIGlucHV0cyB0byB0aGUgb25GdWxmaWxsZWQgb3Igb25SZWplY3RlZCBjYWxsYmFja3MuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbigqKX0gb25GdWxmaWxsZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IG9uUmVqZWN0ZWRcbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIG9uRnVsZmlsbGVkID0gaXNGdW5jdGlvbihvbkZ1bGZpbGxlZCkgPyBvbkZ1bGZpbGxlZCA6IHZvaWQgMDtcbiAgb25SZWplY3RlZCA9IGlzRnVuY3Rpb24ob25SZWplY3RlZCkgPyBvblJlamVjdGVkIDogdm9pZCAwO1xuXG4gIGlmIChvbkZ1bGZpbGxlZCB8fCBvblJlamVjdGVkKSB7XG4gICAgdGhpcy5faXNDaGFpbkVuZCA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3N0YXRlKFxuICAgIHRoaXMuX3ZhbHVlLFxuICAgIG9uRnVsZmlsbGVkLFxuICAgIG9uUmVqZWN0ZWRcbiAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBwcm9taXNlIHRoYXQgd2lsbCBoYW5kbGUgdGhlIHJlamVjdGVkIHN0YXRlIG9mIHRoaXMgcHJvbWlzZS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBvblJlamVjdGVkXG4gKiBAcmV0dXJucyB7IVByb21pc2V9XG4gKi9cblByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24ob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgb25SZWplY3RlZCk7XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICBQdWJsaWMgU3RhdGljIE1ldGhvZHNcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdWxmaWxsZWQgUHJvbWlzZSBvZiB2YWx1ZS4gSWYgdmFsdWUgaXMgaXRzZWxmIGEgdGhlbi1hYmxlLFxuICogcmVzb2x2ZXMgd2l0aCB0aGUgdGhlbi1hYmxlJ3MgdmFsdWUuXG4gKlxuICogQHRoaXMgeyFQcm9taXNlfVxuICogQHBhcmFtIHsqPX0gdmFsdWVcbiAqIEByZXR1cm5zIHshUHJvbWlzZX1cbiAqL1xuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2U7XG5cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZSBpbnN0YW5jZW9mIHRoaXMpIHtcbiAgICBwcm9taXNlID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlfSAqLyhwcm9taXNlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJlamVjdGVkIFByb21pc2Ugb2YgcmVhc29uLlxuICpcbiAqIEB0aGlzIHshUHJvbWlzZX1cbiAqIEBwYXJhbSB7Kj19IHJlYXNvblxuICogQHJldHVybnMgeyFQcm9taXNlfVxuICovXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihfLCByZWplY3QpIHtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG5cbiAgcmV0dXJuIC8qKiBAdHlwZSB7IVByb21pc2V9ICovKHByb21pc2UpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB3aXRoIGFuIGFycmF5IG9mIHRoZSB2YWx1ZXMgb2YgdGhlXG4gKiBwYXNzZWQgaW4gcHJvbWlzZXMuIElmIGFueSBwcm9taXNlIHJlamVjdHMsIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGxcbiAqIHJlamVjdC5cbiAqXG4gKiBAdGhpcyB7IVByb21pc2V9XG4gKiBAcGFyYW0geyFBcnJheTxQcm9taXNlfCo+fSBwcm9taXNlc1xuICogQHJldHVybnMgeyFQcm9taXNlfVxuICovXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBsZW5ndGggPSBwcm9taXNlcy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHJlc29sdmUodmFsdWVzKTtcbiAgICB9XG5cbiAgICBlYWNoKHByb21pc2VzLCBmdW5jdGlvbihwcm9taXNlLCBpbmRleCkge1xuICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKC0tbGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZX0gKi8ocHJvbWlzZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBQcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIG9yIHJlamVjdCBiYXNlZCBvbiB0aGUgZmlyc3RcbiAqIHJlc29sdmVkIG9yIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICogQHRoaXMgeyFQcm9taXNlfVxuICogQHBhcmFtIHshQXJyYXk8UHJvbWlzZXwqPn0gcHJvbWlzZXNcbiAqIEByZXR1cm5zIHshUHJvbWlzZX1cbiAqL1xuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShwcm9taXNlc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIC8qKiBAdHlwZSB7IVByb21pc2V9ICovKHByb21pc2UpO1xufTtcblxudmFyIG9uUG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24gPSBmdW5jdGlvbihyZWFzb24sIHByb21pc2UpIHtcbiAgdGhyb3cgcmVhc29uO1xufTtcblxuLyoqXG4gKiBBbiBpbnRlcm5hbCB1c2Ugc3RhdGljIGZ1bmN0aW9uLlxuICovXG5Qcm9taXNlLl9vdmVycmlkZVVuaGFuZGxlZEV4Y2VwdGlvbkhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIG9uUG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24gPSBoYW5kbGVyO1xufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgUHJpdmF0ZSBmdW5jdGlvbnNcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFRoZSBGdWxmaWxsZWQgUHJvbWlzZSBzdGF0ZS4gQ2FsbHMgb25GdWxmaWxsZWQgd2l0aCB0aGUgcmVzb2x2ZWQgdmFsdWUgb2ZcbiAqIHRoaXMgcHJvbWlzZSwgY3JlYXRpbmcgYSBuZXcgcHJvbWlzZS5cbiAqXG4gKiBJZiB0aGVyZSBpcyBubyBvbkZ1bGZpbGxlZCwgcmV0dXJucyB0aGUgY3VycmVudCBwcm9taXNlIHRvIGF2b2lkIGFuIHByb21pc2VcbiAqIGluc3RhbmNlLlxuICpcbiAqIEB0aGlzIHshUHJvbWlzZX0gVGhlIGN1cnJlbnQgcHJvbWlzZVxuICogQHBhcmFtIHsqPX0gdmFsdWUgVGhlIGN1cnJlbnQgcHJvbWlzZSdzIHJlc29sdmVkIHZhbHVlLlxuICogQHBhcmFtIHtmdW5jdGlvbigqPSk9fSBvbkZ1bGZpbGxlZFxuICogQHBhcmFtIHtmdW5jdGlvbigqPSk9fSB1bnVzZWRcbiAqIEBwYXJhbSB7RGVmZXJyZWR9IGRlZmVycmVkIEEgZGVmZXJyZWQgb2JqZWN0IHRoYXQgaG9sZHMgYSBwcm9taXNlIGFuZCBpdHNcbiAqICAgICByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zLiBJdCBJUyBOT1QgcGFzc2VkIHdoZW4gY2FsbGVkIGZyb21cbiAqICAgICBQcm9taXNlI3RoZW4gdG8gc2F2ZSBhbiBvYmplY3QgaW5zdGFuY2UgKHNpbmNlIHdlIG1heSByZXR1cm4gdGhlIGN1cnJlbnRcbiAqICAgICBwcm9taXNlKS4gSXQgSVMgcGFzc2VkIGluIHdoZW4gYWRvcHRpbmcgdGhlIEZ1bGZpbGxlZCBzdGF0ZSBmcm9tIHRoZVxuICogICAgIFBlbmRpbmcgc3RhdGUuXG4gKiBAcmV0dXJucyB7IVByb21pc2V9XG4gKi9cbmZ1bmN0aW9uIEZ1bGZpbGxlZFByb21pc2UodmFsdWUsIG9uRnVsZmlsbGVkLCB1bnVzZWQsIGRlZmVycmVkKSB7XG4gIGlmICghb25GdWxmaWxsZWQpIHtcbiAgICBkZWZlcnJlZEFkb3B0KGRlZmVycmVkLCBGdWxmaWxsZWRQcm9taXNlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgaWYgKCFkZWZlcnJlZCkge1xuICAgIGRlZmVycmVkID0gbmV3IERlZmVycmVkKHRoaXMuY29uc3RydWN0b3IpO1xuICB9XG4gIGRlZmVyKHRyeUNhdGNoRGVmZXJyZWQoZGVmZXJyZWQsIG9uRnVsZmlsbGVkLCB2YWx1ZSkpO1xuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUaGUgUmVqZWN0ZWQgUHJvbWlzZSBzdGF0ZS4gQ2FsbHMgb25SZWplY3RlZCB3aXRoIHRoZSByZXNvbHZlZCB2YWx1ZSBvZlxuICogdGhpcyBwcm9taXNlLCBjcmVhdGluZyBhIG5ldyBwcm9taXNlLlxuICpcbiAqIElmIHRoZXJlIGlzIG5vIG9uUmVqZWN0ZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgcHJvbWlzZSB0byBhdm9pZCBhbiBwcm9taXNlXG4gKiBpbnN0YW5jZS5cbiAqXG4gKiBAdGhpcyB7IVByb21pc2V9IFRoZSBjdXJyZW50IHByb21pc2VcbiAqIEBwYXJhbSB7Kj19IHJlYXNvbiBUaGUgY3VycmVudCBwcm9taXNlJ3MgcmVqZWN0aW9uIHJlYXNvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0pPX0gdW51c2VkXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCo9KT19IG9uUmVqZWN0ZWRcbiAqIEBwYXJhbSB7RGVmZXJyZWR9IGRlZmVycmVkIEEgZGVmZXJyZWQgb2JqZWN0IHRoYXQgaG9sZHMgYSBwcm9taXNlIGFuZCBpdHNcbiAqICAgICByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zLiBJdCBJUyBOT1QgcGFzc2VkIHdoZW4gY2FsbGVkIGZyb21cbiAqICAgICBQcm9taXNlI3RoZW4gdG8gc2F2ZSBhbiBvYmplY3QgaW5zdGFuY2UgKHNpbmNlIHdlIG1heSByZXR1cm4gdGhlIGN1cnJlbnRcbiAqICAgICBwcm9taXNlKS4gSXQgSVMgcGFzc2VkIGluIHdoZW4gYWRvcHRpbmcgdGhlIFJlamVjdGVkIHN0YXRlIGZyb20gdGhlXG4gKiAgICAgUGVuZGluZyBzdGF0ZS5cbiAqIEByZXR1cm5zIHshUHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gUmVqZWN0ZWRQcm9taXNlKHJlYXNvbiwgdW51c2VkLCBvblJlamVjdGVkLCBkZWZlcnJlZCkge1xuICBpZiAoIW9uUmVqZWN0ZWQpIHtcbiAgICBkZWZlcnJlZEFkb3B0KGRlZmVycmVkLCBSZWplY3RlZFByb21pc2UsIHJlYXNvbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgaWYgKCFkZWZlcnJlZCkge1xuICAgIGRlZmVycmVkID0gbmV3IERlZmVycmVkKHRoaXMuY29uc3RydWN0b3IpO1xuICB9XG4gIGRlZmVyKHRyeUNhdGNoRGVmZXJyZWQoZGVmZXJyZWQsIG9uUmVqZWN0ZWQsIHJlYXNvbikpO1xuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUaGUgUGVuZGluZyBQcm9taXNlIHN0YXRlLiBFdmVudHVhbGx5IGNhbGxzIG9uRnVsZmlsbGVkIG9uY2UgdGhlIHByb21pc2UgaGFzXG4gKiByZXNvbHZlZCwgb3Igb25SZWplY3RlZCBvbmNlIHRoZSBwcm9taXNlIHJlamVjdHMuXG4gKlxuICogSWYgdGhlcmUgaXMgbm8gb25GdWxmaWxsZWQgYW5kIG5vIG9uUmVqZWN0ZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgcHJvbWlzZSB0b1xuICogYXZvaWQgYW4gcHJvbWlzZSBpbnN0YW5jZS5cbiAqXG4gKiBAdGhpcyB7IVByb21pc2V9IFRoZSBjdXJyZW50IHByb21pc2VcbiAqIEBwYXJhbSB7Kj19IHF1ZXVlIFRoZSBjdXJyZW50IHByb21pc2UncyBwZW5kaW5nIHByb21pc2VzIHF1ZXVlLlxuICogQHBhcmFtIHtmdW5jdGlvbigqPSk9fSBvbkZ1bGZpbGxlZFxuICogQHBhcmFtIHtmdW5jdGlvbigqPSk9fSBvblJlamVjdGVkXG4gKiBAcGFyYW0ge0RlZmVycmVkfSBkZWZlcnJlZCBBIGRlZmVycmVkIG9iamVjdCB0aGF0IGhvbGRzIGEgcHJvbWlzZSBhbmQgaXRzXG4gKiAgICAgcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy4gSXQgSVMgTk9UIHBhc3NlZCB3aGVuIGNhbGxlZCBmcm9tXG4gKiAgICAgUHJvbWlzZSN0aGVuIHRvIHNhdmUgYW4gb2JqZWN0IGluc3RhbmNlIChzaW5jZSB3ZSBtYXkgcmV0dXJuIHRoZSBjdXJyZW50XG4gKiAgICAgcHJvbWlzZSkuIEl0IElTIHBhc3NlZCBpbiB3aGVuIGFkb3B0aW5nIHRoZSBQZW5kaW5nIHN0YXRlIGZyb20gdGhlXG4gKiAgICAgUGVuZGluZyBzdGF0ZSBvZiBhbm90aGVyIHByb21pc2UuXG4gKiBAcmV0dXJucyB7IVByb21pc2V9XG4gKi9cbmZ1bmN0aW9uIFBlbmRpbmdQcm9taXNlKHF1ZXVlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgZGVmZXJyZWQpIHtcbiAgaWYgKCFkZWZlcnJlZCkge1xuICAgIGlmICghb25GdWxmaWxsZWQgJiYgIW9uUmVqZWN0ZWQpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCh0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfVxuICBxdWV1ZS5wdXNoKHtcbiAgICBkZWZlcnJlZDogZGVmZXJyZWQsXG4gICAgb25GdWxmaWxsZWQ6IG9uRnVsZmlsbGVkIHx8IGRlZmVycmVkLnJlc29sdmUsXG4gICAgb25SZWplY3RlZDogb25SZWplY3RlZCB8fCBkZWZlcnJlZC5yZWplY3RcbiAgfSk7XG4gIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBkZWZlcnJlZCBpbnN0YW5jZSB0aGF0IGhvbGRzIGEgcHJvbWlzZSBhbmQgaXRzIHJlc29sdmUgYW5kXG4gKiByZWplY3QgZnVuY3Rpb25zLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEZWZlcnJlZChQcm9taXNlKSB7XG4gIHZhciBkZWZlcnJlZCA9IHRoaXM7XG4gIC8qKiBAdHlwZSB7IVByb21pc2V9ICovXG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8qKiBAdHlwZSB7ZnVuY3Rpb24oKj0pfSAqL1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgLyoqIEB0eXBlIHtmdW5jdGlvbigqPSl9ICovXG4gICAgZGVmZXJyZWQucmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbiAgcmV0dXJuIGRlZmVycmVkO1xufVxuXG4vKipcbiAqIFRyYW5zaXRpb25zIHRoZSBzdGF0ZSBvZiBwcm9taXNlIHRvIGFub3RoZXIgc3RhdGUuIFRoaXMgaXMgb25seSBldmVyIGNhbGxlZFxuICogb24gd2l0aCBhIHByb21pc2UgdGhhdCBpcyBjdXJyZW50bHkgaW4gdGhlIFBlbmRpbmcgc3RhdGUuXG4gKlxuICogQHBhcmFtIHshUHJvbWlzZX0gcHJvbWlzZVxuICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOlByb21pc2UsKj0sZnVuY3Rpb24oKj0pLGZ1bmN0aW9uKCo9KSxEZWZlcnJlZCk6IVByb21pc2V9IHN0YXRlXG4gKiBAcGFyYW0geyo9fSB2YWx1ZVxuICovXG5mdW5jdGlvbiBhZG9wdChwcm9taXNlLCBzdGF0ZSwgdmFsdWUsIGFkb3B0ZWUpIHtcbiAgdmFyIHF1ZXVlID0gcHJvbWlzZS5fdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gc3RhdGU7XG4gIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG5cbiAgaWYgKGFkb3B0ZWUgJiYgc3RhdGUgPT09IFBlbmRpbmdQcm9taXNlKSB7XG4gICAgYWRvcHRlZS5fc3RhdGUodmFsdWUsIHZvaWQgMCwgdm9pZCAwLCB7XG4gICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgcmVzb2x2ZTogdm9pZCAwLFxuICAgICAgcmVqZWN0OiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmV4dCA9IHF1ZXVlW2ldO1xuICAgIHByb21pc2UuX3N0YXRlKFxuICAgICAgdmFsdWUsXG4gICAgICBuZXh0Lm9uRnVsZmlsbGVkLFxuICAgICAgbmV4dC5vblJlamVjdGVkLFxuICAgICAgbmV4dC5kZWZlcnJlZFxuICAgICk7XG4gIH1cbiAgcXVldWUubGVuZ3RoID0gMDtcblxuICAvLyBEZXRlcm1pbmUgaWYgdGhpcyByZWplY3RlZCBwcm9taXNlIHdpbGwgYmUgXCJoYW5kbGVkXCIuXG4gIGlmIChzdGF0ZSA9PT0gUmVqZWN0ZWRQcm9taXNlICYmIHByb21pc2UuX2lzQ2hhaW5FbmQpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHByb21pc2UuX2lzQ2hhaW5FbmQpIHtcbiAgICAgICAgb25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbih2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIHBhcnRpYWwgYXBwbGljYXRpb24gb2YgYWRvcHQuXG4gKlxuICogQHBhcmFtIHshUHJvbWlzZX0gcHJvbWlzZVxuICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOlByb21pc2UsKj0sZnVuY3Rpb24oKj0pLGZ1bmN0aW9uKCo9KSxEZWZlcnJlZCk6IVByb21pc2V9IHN0YXRlXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKj0pfVxuICovXG5mdW5jdGlvbiBhZG9wdGVyKHByb21pc2UsIHN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGFkb3B0KHByb21pc2UsIHN0YXRlLCB2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogVXBkYXRlcyBhIGRlZmVycmVkIHByb21pc2VzIHN0YXRlLiBOZWNlc3NhcnkgZm9yIHVwZGF0aW5nIGFuIGFkb3B0aW5nXG4gKiBwcm9taXNlJ3Mgc3RhdGUgd2hlbiB0aGUgYWRvcHRlZSByZXNvbHZlcy5cbiAqXG4gKiBAcGFyYW0gez9EZWZlcnJlZH0gZGVmZXJyZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpQcm9taXNlLCo9LGZ1bmN0aW9uKCo9KSxmdW5jdGlvbigqPSksRGVmZXJyZWQpOiFQcm9taXNlfSBzdGF0ZVxuICogQHBhcmFtIHsqPX0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gZGVmZXJyZWRBZG9wdChkZWZlcnJlZCwgc3RhdGUsIHZhbHVlKSB7XG4gIGlmIChkZWZlcnJlZCkge1xuICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICBwcm9taXNlLl9zdGF0ZSA9IHN0YXRlO1xuICAgIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBBIG5vLW9wIGZ1bmN0aW9uIHRvIHByZXZlbnQgZG91YmxlIHJlc29sdmluZy5cbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8qKlxuICogVGVzdHMgaWYgZm4gaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gZm5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGZuKSB7XG4gIHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogVGVzdHMgaWYgZm4gaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG59XG5cbi8qKlxuICogSXRlcmF0ZXMgb3ZlciBlYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXksIGNhbGxpbmcgdGhlIGl0ZXJhdG9yIHdpdGggdGhlXG4gKiBlbGVtZW50IGFuZCBpdHMgaW5kZXguXG4gKlxuICogQHBhcmFtIHshQXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0sbnVtYmVyKX0gaXRlcmF0b3JcbiAqL1xuZnVuY3Rpb24gZWFjaChjb2xsZWN0aW9uLCBpdGVyYXRvcikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvcihjb2xsZWN0aW9uW2ldLCBpKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYXR0ZW1wdCB0byByZXNvbHZlIHRoZSBkZWZlcnJlZCB3aXRoIHRoZSByZXR1cm5cbiAqIG9mIGZuLiBJZiBhbnkgZXJyb3IgaXMgcmFpc2VkLCByZWplY3RzIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHshRGVmZXJyZWR9IGRlZmVycmVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCo9KX0gZm5cbiAqIEBwYXJhbSB7Kn0gYXJnXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX1cbiAqL1xuZnVuY3Rpb24gdHJ5Q2F0Y2hEZWZlcnJlZChkZWZlcnJlZCwgZm4sIGFyZykge1xuICB2YXIgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gIHZhciByZXNvbHZlID0gZGVmZXJyZWQucmVzb2x2ZTtcbiAgdmFyIHJlamVjdCA9IGRlZmVycmVkLnJlamVjdDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZm4oYXJnKTtcbiAgICAgIGRvUmVzb2x2ZShwcm9taXNlLCByZXNvbHZlLCByZWplY3QsIHJlc3VsdCwgcmVzdWx0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFF1ZXVlcyBhbmQgZXhlY3V0ZXMgbXVsdGlwbGUgZGVmZXJyZWQgZnVuY3Rpb25zIG9uIGFub3RoZXIgcnVuIGxvb3AuXG4gKi9cbnZhciBkZWZlciA9IChmdW5jdGlvbigpIHtcbiAgLyoqXG4gICAqIERlZmVycyBmbiB0byBhbm90aGVyIHJ1biBsb29wLlxuICAgKi9cbiAgdmFyIHNjaGVkdWxlRmx1c2g7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucG9zdE1lc3NhZ2UpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZsdXNoKTtcbiAgICBzY2hlZHVsZUZsdXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2UoJ21hY3JvLXRhc2snLCAnKicpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgc2NoZWR1bGVGbHVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmbHVzaCwgMCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBxdWV1ZSA9IG5ldyBBcnJheSgxNik7XG4gIHZhciBsZW5ndGggPSAwO1xuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBmbiA9IHF1ZXVlW2ldO1xuICAgICAgcXVldWVbaV0gPSBudWxsO1xuICAgICAgZm4oKTtcbiAgICB9XG4gICAgbGVuZ3RoID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuXG4gICAqL1xuICBmdW5jdGlvbiBkZWZlcihmbikge1xuICAgIGlmIChsZW5ndGggPT09IDApIHsgc2NoZWR1bGVGbHVzaCgpOyB9XG4gICAgcXVldWVbbGVuZ3RoKytdID0gZm47XG4gIH1cblxuICByZXR1cm4gZGVmZXI7XG59KSgpO1xuXG4vKipcbiAqIFRoZSBQcm9taXNlIHJlc29sdXRpb24gcHJvY2VkdXJlLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3Byb21pc2VzLWFwbHVzL3Byb21pc2VzLXNwZWMjdGhlLXByb21pc2UtcmVzb2x1dGlvbi1wcm9jZWR1cmVcbiAqXG4gKiBAcGFyYW0geyFQcm9taXNlfSBwcm9taXNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCo9KX0gcmVzb2x2ZVxuICogQHBhcmFtIHtmdW5jdGlvbigqPSl9IHJlamVjdFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHBhcmFtIHsqPX0gY29udGV4dFxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUocHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0LCB2YWx1ZSwgY29udGV4dCkge1xuICB2YXIgX3JlamVjdCA9IHJlamVjdDtcbiAgdmFyIHRoZW47XG4gIHZhciBfcmVzb2x2ZTtcbiAgdHJ5IHtcbiAgICBpZiAodmFsdWUgPT09IHByb21pc2UpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBmdWxmaWxsIHByb21pc2Ugd2l0aCBpdHNlbGYnKTtcbiAgICB9XG4gICAgdmFyIGlzT2JqID0gaXNPYmplY3QodmFsdWUpO1xuICAgIGlmIChpc09iaiAmJiB2YWx1ZSBpbnN0YW5jZW9mIHByb21pc2UuY29uc3RydWN0b3IpIHtcbiAgICAgIGFkb3B0KHByb21pc2UsIHZhbHVlLl9zdGF0ZSwgdmFsdWUuX3ZhbHVlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpc09iaiAmJiAodGhlbiA9IHZhbHVlLnRoZW4pICYmIGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgIF9yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgX3Jlc29sdmUgPSBfcmVqZWN0ID0gbm9vcDtcbiAgICAgICAgZG9SZXNvbHZlKHByb21pc2UsIHJlc29sdmUsIHJlamVjdCwgdmFsdWUsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBfcmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIF9yZXNvbHZlID0gX3JlamVjdCA9IG5vb3A7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfTtcbiAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZnVuY3Rpb24odmFsdWUpIHsgX3Jlc29sdmUodmFsdWUpOyB9LFxuICAgICAgICBmdW5jdGlvbihyZWFzb24pIHsgX3JlamVjdChyZWFzb24pOyB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBfcmVqZWN0KGUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEtleSBzdHJpbmcgaW4gYW4gYWN0aW9uIGFyZ3VtZW50cyBtYXAgZm9yIGFuIHVucGFyc2VkIG9iamVjdCBsaXRlcmFsIHN0cmluZy5cbiAqXG4gKiBFLmcuIGZvciB0aGUgYWN0aW9uIGluIDxwIG9uPVwidGFwOkFNUC5zZXRTdGF0ZSh7Zm9vOiAnYmFyJ30pXCIsXG4gKiB0aGVuIGBhcmdzW1JBV19PQkpFQ1RfQVJHU19LRVldYCBpcyB0aGUgc3RyaW5nIFwie2ZvbzogJ2Jhcid9XCIuXG4gKlxuICogVGhlIGFjdGlvbiBzZXJ2aWNlIGRlbGVnYXRlcyBwYXJzaW5nIG9mIG9iamVjdCBsaXRlcmFscyB0byB0aGUgY29ycmVzcG9uZGluZ1xuICogZXh0ZW5zaW9uIChpbiB0aGUgZXhhbXBsZSBhYm92ZSwgYW1wLWJpbmQpLlxuICpcbiAqIEBzZWUgLi9zZXJ2aWNlL2FjdGlvbi1pbXBsLkFjdGlvbkluZm9EZWZcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgUkFXX09CSkVDVF9BUkdTX0tFWSA9ICdfX0FNUF9PQkpFQ1RfU1RSSU5HX18nO1xuXG4vKipcbiAqIFRydXN0IGxldmVsIG9mIGFuIGFjdGlvbi5cbiAqXG4gKiBDb3JyZXNwb25kcyB0byBkZWdyZWUgb2YgdXNlciBpbnRlbnQsIGkuZS4gZXZlbnRzIHRyaWdnZXJlZCB3aXRoIHN0cm9uZ1xuICogdXNlciBpbnRlbnQgaGF2ZSBoaWdoIHRydXN0LlxuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBBY3Rpb25UcnVzdCA9IHtcbiAgTE9XOiAxLFxuICBISUdIOiAxMDAsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4vc2VydmljZXMnO1xuXG4vKipcbiAqIEhlbHBlciBtZXRob2QgdG8gdHJpZ2dlciBhbmFseXRpY3MgZXZlbnQgaWYgYW1wLWFuYWx5dGljcyBpcyBhdmFpbGFibGUuXG4gKiBUT0RPOiBEbyBub3QgZXhwb3NlIHRoaXMgZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPj19IG9wdF92YXJzIEEgbWFwIG9mIHZhcnMgYW5kIHRoZWlyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJBbmFseXRpY3NFdmVudCh0YXJnZXQsIGV2ZW50VHlwZSwgb3B0X3ZhcnMpIHtcbiAgU2VydmljZXMuYW5hbHl0aWNzRm9yRG9jT3JOdWxsKHRhcmdldCkudGhlbihhbmFseXRpY3MgPT4ge1xuICAgIGlmICghYW5hbHl0aWNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFuYWx5dGljcy50cmlnZ2VyRXZlbnRGb3JUYXJnZXQodGFyZ2V0LCBldmVudFR5cGUsIG9wdF92YXJzKTtcbiAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7cmVtb3ZlRWxlbWVudH0gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHtzZXRTdHlsZXN9IGZyb20gJy4vc3R5bGUnO1xuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh3aW4sIHRleHQpIHtcbiAgbGV0IGNvcHlTdWNjZXNzZnVsID0gZmFsc2U7XG4gIGNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudDtcblxuICBjb25zdCB0ZXh0YXJlYSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuXG4gIHNldFN0eWxlcyh0ZXh0YXJlYSwge1xuICAgICdwb3NpdGlvbic6ICdmaXhlZCcsXG4gICAgJ3RvcCc6IDAsXG4gICAgJ2xlZnQnOiAwLFxuICAgICd3aWR0aCc6ICc1MHB4JyxcbiAgICAnaGVpZ2h0JzogJzUwcHgnLFxuICAgICdwYWRkaW5nJzogMCxcbiAgICAnYm9yZGVyJzogJ25vbmUnLFxuICAgICdvdXRsaW5lJzogJ25vbmUnLFxuICAgICdiYWNrZ3JvdW5kJzogJ3RyYW5zcGFyZW50JyxcbiAgfSk7XG5cbiAgdGV4dGFyZWEudmFsdWUgPSB0ZXh0O1xuICB0ZXh0YXJlYS5yZWFkT25seSA9IHRydWU7XG4gIHRleHRhcmVhLmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XG5cbiAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xuICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZWxlY3ROb2RlKHRleHRhcmVhKTtcbiAgd2luLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICB3aW4uZ2V0U2VsZWN0aW9uKCkuYWRkUmFuZ2UocmFuZ2UpO1xuICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0ZXh0Lmxlbmd0aCk7XG5cbiAgdHJ5IHtcbiAgICBjb3B5U3VjY2Vzc2Z1bCA9IGRvYy5leGVjQ29tbWFuZCgnY29weScpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8g8J+kt1xuICB9XG5cbiAgcmVtb3ZlRWxlbWVudCh0ZXh0YXJlYSk7XG5cbiAgcmV0dXJuIGNvcHlTdWNjZXNzZnVsO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29weWluZ1RvQ2xpcGJvYXJkU3VwcG9ydGVkKGRvYykge1xuICByZXR1cm4gZG9jLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgnY29weScpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBDb21tb25seSB1c2VkIHNpZ25hbHMgYWNyb3NzIGRpZmZlcmVudCBlbGVtZW50cyBhbmQgZG9jdW1lbnRzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENvbW1vblNpZ25hbHMgPSB7XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IGhhcyBiZWVuIGJ1aWx0LlxuICAgKi9cbiAgQlVJTFQ6ICdidWlsdCcsXG5cbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIGNvbnRlbnRzIG9mIGFuIGVsZW1lbnQvZG9jdW1lbnQvZW1iZWQgaGF2ZSBiZWVuIGxvYWRlZC5cbiAgICovXG4gIElOSV9MT0FEOiAnaW5pLWxvYWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgZWxlbWVudCBoYXMgYmVlbiBsb2FkZWQuXG4gICAqL1xuICBMT0FEX0VORDogJ2xvYWQtZW5kJyxcblxuICAvKipcbiAgICogVGhlIGVsZW1lbnQgaGFzIHN0YXJ0ZWQgbG9hZGluZy5cbiAgICovXG4gIExPQURfU1RBUlQ6ICdsb2FkLXN0YXJ0JyxcblxuICAvKipcbiAgICogUmVuZGVyaW5nIGhhcyBiZWVuIGNvbmZpcm1lZCB0byBoYXZlIGJlZW4gc3RhcnRlZC5cbiAgICovXG4gIFJFTkRFUl9TVEFSVDogJ3JlbmRlci1zdGFydCcsXG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IGhhcyBiZWVuIHVubGFpZCBvdXQuXG4gICAqL1xuICBVTkxPQUQ6ICd1bmxvYWQnLFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEFsbG93cyBmb3IgcnVudGltZSBjb25maWd1cmF0aW9uLiBJbnRlcm5hbGx5LCB0aGUgcnVudGltZSBzaG91bGRcbiAqIHVzZSB0aGUgc3JjL2NvbmZpZy5qcyBtb2R1bGUgZm9yIHZhcmlvdXMgY29uc3RhbnRzLiBXZSBjYW4gdXNlIHRoZVxuICogQU1QX0NPTkZJRyBnbG9iYWwgdG8gdHJhbnNsYXRlIHVzZXItZGVmaW5lZCBjb25maWd1cmF0aW9ucyB0byB0aGlzXG4gKiBtb2R1bGUuXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmNvbnN0IGVudiA9IHNlbGYuQU1QX0NPTkZJRyB8fCB7fTtcblxuY29uc3QgdGhpcmRQYXJ0eUZyYW1lUmVnZXggPSB0eXBlb2YgZW52Wyd0aGlyZFBhcnR5RnJhbWVSZWdleCddID09ICdzdHJpbmcnID9cbiAgbmV3IFJlZ0V4cChlbnZbJ3RoaXJkUGFydHlGcmFtZVJlZ2V4J10pIDogZW52Wyd0aGlyZFBhcnR5RnJhbWVSZWdleCddO1xuXG5jb25zdCBjZG5Qcm94eVJlZ2V4ID0gdHlwZW9mIGVudlsnY2RuUHJveHlSZWdleCddID09ICdzdHJpbmcnID9cbiAgbmV3IFJlZ0V4cChlbnZbJ2NkblByb3h5UmVnZXgnXSkgOiBlbnZbJ2NkblByb3h5UmVnZXgnXTtcblxuLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgc3RyaW5nfGJvb2xlYW58UmVnRXhwPn0gKi9cbmV4cG9ydCBjb25zdCB1cmxzID0ge1xuICB0aGlyZFBhcnR5OiBlbnZbJ3RoaXJkUGFydHlVcmwnXSB8fCAnaHR0cHM6Ly8zcC5hbXBwcm9qZWN0Lm5ldCcsXG4gIHRoaXJkUGFydHlGcmFtZUhvc3Q6IGVudlsndGhpcmRQYXJ0eUZyYW1lSG9zdCddIHx8ICdhbXBwcm9qZWN0Lm5ldCcsXG4gIHRoaXJkUGFydHlGcmFtZVJlZ2V4OiB0aGlyZFBhcnR5RnJhbWVSZWdleCB8fCAvXmQtXFxkK1xcLmFtcHByb2plY3RcXC5uZXQkLyxcbiAgY2RuOiBlbnZbJ2NkblVybCddIHx8ICdodHRwczovL2Nkbi5hbXBwcm9qZWN0Lm9yZycsXG4gIC8qIE5vdGUgdGhhdCBjZG5Qcm94eVJlZ2V4IGlzIG9ubHkgZXZlciBjaGVja2VkIGFnYWluc3Qgb3JpZ2luc1xuICAgKiAocHJvdG86Ly9ob3N0Wzpwb3J0XSkgc28gZG9lcyBub3QgbmVlZCB0byBjb25zaWRlciBwYXRoXG4gICAqL1xuICBjZG5Qcm94eVJlZ2V4OiBjZG5Qcm94eVJlZ2V4IHx8XG4gICAgICAvXmh0dHBzOlxcL1xcLyhbYS16QS1aMC05Xy1dK1xcLik/Y2RuXFwuYW1wcHJvamVjdFxcLm9yZyQvLFxuICBsb2NhbGhvc3RSZWdleDogL15odHRwcz86XFwvXFwvbG9jYWxob3N0KDpcXGQrKT8kLyxcbiAgZXJyb3JSZXBvcnRpbmc6IGVudlsnZXJyb3JSZXBvcnRpbmdVcmwnXSB8fFxuICAgICAgJ2h0dHBzOi8vYW1wLWVycm9yLXJlcG9ydGluZy5hcHBzcG90LmNvbS9yJyxcbiAgbG9jYWxEZXY6IGVudlsnbG9jYWxEZXYnXSB8fCBmYWxzZSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIHVybHMsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7ZW5kc1dpdGh9IGZyb20gJy4vc3RyaW5nJztcbmltcG9ydCB7XG4gIGlzUHJveHlPcmlnaW4sXG4gIHBhcnNlVXJsRGVwcmVjYXRlZCxcbiAgdHJ5RGVjb2RlVXJpQ29tcG9uZW50LFxufSBmcm9tICcuL3VybCc7XG5pbXBvcnQge3VybHN9IGZyb20gJy4vY29uZmlnJztcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBjb29raWUuIFRoZSBjb29raWUgYWNjZXNzIGlzIHJlc3RyaWN0ZWQgYW5kIG11c3RcbiAqIGdvIHRocm91Z2ggdGhlIHByaXZhY3kgcmV2aWV3LiBCZWZvcmUgdXNpbmcgdGhpcyBtZXRob2QgcGxlYXNlIGZpbGUgYVxuICogR2l0SHViIGlzc3VlIHdpdGggXCJQcml2YWN5IFJldmlld1wiIGxhYmVsLlxuICpcbiAqIFJldHVybnMgdGhlIGNvb2tpZSdzIHZhbHVlIG9yIGBudWxsYC5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4gez9zdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWUod2luLCBuYW1lKSB7XG4gIGNvbnN0IGNvb2tpZVN0cmluZyA9IHRyeUdldERvY3VtZW50Q29va2llTm9JbmxpbmUod2luKTtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBjb29raWVzID0gY29va2llU3RyaW5nLnNwbGl0KCc7Jyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZXNbaV0udHJpbSgpO1xuICAgIGNvbnN0IGVxID0gY29va2llLmluZGV4T2YoJz0nKTtcbiAgICBpZiAoZXEgPT0gLTEpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAodHJ5RGVjb2RlVXJpQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCwgZXEpLnRyaW0oKSkgPT0gbmFtZSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBjb29raWUuc3Vic3RyaW5nKGVxICsgMSkudHJpbSgpO1xuICAgICAgcmV0dXJuIHRyeURlY29kZVVyaUNvbXBvbmVudCh2YWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgbm90IGJlIGlubGluZWQgdG8gcHJldmVudCBUcnlDYXRjaCBkZW9wdGltaXphdGlvbi5cbiAqIE5vSW5saW5lIGtleXdvcmQgYXQgdGhlIGVuZCBvZiBmdW5jdGlvbiBuYW1lIGFsc28gcHJldmVudHMgQ2xvc3VyZSBjb21waWxlclxuICogZnJvbSBpbmxpbmluZyB0aGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0cnlHZXREb2N1bWVudENvb2tpZU5vSW5saW5lKHdpbikge1xuICB0cnkge1xuICAgIHJldHVybiB3aW4uZG9jdW1lbnQuY29va2llO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gQWN0IGFzIGlmIG5vIGNvb2tpZSBpcyBhdmFpbGFibGUuIEV4Y2VwdGlvbnMgY2FuIGJlIHRocm93biB3aGVuXG4gICAgLy8gQU1QIGRvY3MgYXJlIG9wZW5lZCBvbiBvcmlnaW5zIHRoYXQgZG8gbm90IGFsbG93IHNldHRpbmdcbiAgICAvLyBjb29raWVzIHN1Y2ggYXMgbnVsbCBvcmlnaW5zLlxuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBjb29raWUuIFRoZSBjb29raWUgYWNjZXNzIGlzIHJlc3RyaWN0ZWQgYW5kIG11c3RcbiAqIGdvIHRocm91Z2ggdGhlIHByaXZhY3kgcmV2aWV3LiBCZWZvcmUgdXNpbmcgdGhpcyBtZXRob2QgcGxlYXNlIGZpbGUgYVxuICogR2l0SHViIGlzc3VlIHdpdGggXCJQcml2YWN5IFJldmlld1wiIGxhYmVsLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3RpbWV9IGV4cGlyYXRpb25UaW1lXG4gKiBAcGFyYW0ge3tcbiAqICAgaGlnaGVzdEF2YWlsYWJsZURvbWFpbjooYm9vbGVhbnx1bmRlZmluZWQpLFxuICogICBkb21haW46KHN0cmluZ3x1bmRlZmluZWQpXG4gKiB9PX0gb3B0X29wdGlvbnNcbiAqICAgICAtIGhpZ2hlc3RBdmFpbGFibGVEb21haW46IElmIHRydWUsIHNldCB0aGUgY29va2llIGF0IHRoZSB3aWRlc3QgZG9tYWluXG4gKiAgICAgICBzY29wZSBhbGxvd2VkIGJ5IHRoZSBicm93c2VyLiBFLmcuIG9uIGV4YW1wbGUuY29tIGlmIHdlIGFyZSBjdXJyZW50bHlcbiAqICAgICAgIG9uIHd3dy5leGFtcGxlLmNvbS5cbiAqICAgICAtIGRvbWFpbjogRXhwbGljaXQgZG9tYWluIHRvIHNldC5cbiAqICAgICAtIGFsbG93T25Qcm94eU9yaWdpbjogQWxsb3cgc2V0dGluZyBhIGNvb2tpZSBvbiB0aGUgQU1QIENhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29va2llKHdpbiwgbmFtZSwgdmFsdWUsIGV4cGlyYXRpb25UaW1lLCBvcHRfb3B0aW9ucykge1xuICBjaGVja09yaWdpbkZvclNldHRpbmdDb29raWUod2luLCBvcHRfb3B0aW9ucywgbmFtZSk7XG4gIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5oaWdoZXN0QXZhaWxhYmxlRG9tYWluKSB7XG4gICAgY29uc3QgcGFydHMgPSB3aW4ubG9jYXRpb24uaG9zdG5hbWUuc3BsaXQoJy4nKTtcbiAgICBsZXQgZG9tYWluID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IHBhcnRzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBkb21haW4gPSBwYXJ0c1tpXSArICcuJyArIGRvbWFpbjtcbiAgICAgIHRyeVNldENvb2tpZSh3aW4sIG5hbWUsIHZhbHVlLCBleHBpcmF0aW9uVGltZSwgZG9tYWluKTtcbiAgICAgIGlmIChnZXRDb29raWUod2luLCBuYW1lKSA9PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBkb21haW4gPSB1bmRlZmluZWQ7XG4gIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5kb21haW4pIHtcbiAgICBkb21haW4gPSBvcHRfb3B0aW9ucy5kb21haW47XG4gIH1cbiAgdHJ5U2V0Q29va2llKHdpbiwgbmFtZSwgdmFsdWUsIGV4cGlyYXRpb25UaW1lLCBkb21haW4pO1xufVxuXG4vKipcbiAqIEF0dGVtcHQgdG8gc2V0IGEgY29va2llIHdpdGggdGhlIGdpdmVuIHBhcmFtcy5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHt0aW1lfSBleHBpcmF0aW9uVGltZVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBkb21haW5cbiAqL1xuZnVuY3Rpb24gdHJ5U2V0Q29va2llKHdpbiwgbmFtZSwgdmFsdWUsIGV4cGlyYXRpb25UaW1lLCBkb21haW4pIHtcbiAgLy8gV2UgZG8gbm90IGFsbG93IHNldHRpbmcgY29va2llcyBvbiB0aGUgZG9tYWluIHRoYXQgY29udGFpbnMgYm90aFxuICAvLyB0aGUgY2RuLiBhbmQgd3d3LiBob3N0cy5cbiAgaWYgKGRvbWFpbiA9PSAnYW1wcHJvamVjdC5vcmcnKSB7XG4gICAgLy8gQWN0aXZlbHkgZGVsZXRlIHRoZW0uXG4gICAgdmFsdWUgPSAnZGVsZXRlJztcbiAgICBleHBpcmF0aW9uVGltZSA9IDA7XG4gIH1cbiAgY29uc3QgY29va2llID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgJz0nICtcbiAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgK1xuICAgICAgJzsgcGF0aD0vJyArXG4gICAgICAoZG9tYWluID8gJzsgZG9tYWluPScgKyBkb21haW4gOiAnJykgK1xuICAgICAgJzsgZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJhdGlvblRpbWUpLnRvVVRDU3RyaW5nKCk7XG4gIHRyeSB7XG4gICAgd2luLmRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZTtcbiAgfSBjYXRjaCAoaWdub3JlKSB7XG4gICAgLy8gRG8gbm90IHRocm93IGlmIHNldHRpbmcgdGhlIGNvb2tpZSBmYWlsZWQgRXhjZXB0aW9ucyBjYW4gYmUgdGhyb3duXG4gICAgLy8gd2hlbiBBTVAgZG9jcyBhcmUgb3BlbmVkIG9uIG9yaWdpbnMgdGhhdCBkbyBub3QgYWxsb3cgc2V0dGluZ1xuICAgIC8vIGNvb2tpZXMgc3VjaCBhcyBudWxsIG9yaWdpbnMuXG4gIH1cbn1cblxuLyoqXG4gKiBUaHJvd3MgaWYgYSBnaXZlbiBjb29raWUgc2hvdWxkIG5vdCBiZSBzZXQgb24gdGhlIGdpdmVuIG9yaWdpbi5cbiAqIFRoaXMgaXMgYSBkZWZlbnNlLWluLWRlcHRoLiBDYWxsZXJzIHNob3VsZCBuZXZlciBydW4gaW50byB0aGlzLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFPYmplY3R8dW5kZWZpbmVkfSBvcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGb3IgdGhlIGVycm9yIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT3JpZ2luRm9yU2V0dGluZ0Nvb2tpZSh3aW4sIG9wdGlvbnMsIG5hbWUpIHtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd09uUHJveHlPcmlnaW4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzUHJveHlPcmlnaW4od2luLmxvY2F0aW9uLmhyZWYpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgbmV2ZXIgYXR0ZW1wdCB0byBzZXQgY29va2llIG9uIHByb3h5IG9yaWdpbjogJ1xuICAgICAgICArIG5hbWUpO1xuICB9XG5cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh3aW4ubG9jYXRpb24uaHJlZikuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgcHJveHkgPSBwYXJzZVVybERlcHJlY2F0ZWQodXJscy5jZG4pLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChjdXJyZW50ID09IHByb3h5IHx8IGVuZHNXaXRoKGN1cnJlbnQsICcuJyArIHByb3h5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIG5ldmVyIGF0dGVtcHQgdG8gc2V0IGNvb2tpZSBvbiBwcm94eSBvcmlnaW4uJ1xuICAgICAgICArICcgKGluIGRlcHRoIGNoZWNrKTogJyArIG5hbWUpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtEZWZlcnJlZH0gZnJvbSAnLi91dGlscy9wcm9taXNlJztcbmltcG9ydCB7Y3NzRXNjYXBlfSBmcm9tICcuLi90aGlyZF9wYXJ0eS9jc3MtZXNjYXBlL2Nzcy1lc2NhcGUnO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4vbG9nJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtzdGFydHNXaXRofSBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQge3RvV2lufSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgSFRNTF9FU0NBUEVfQ0hBUlMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxufTtcbmNvbnN0IEhUTUxfRVNDQVBFX1JFR0VYID0gLygmfDx8PnxcInwnfGApL2c7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBVUEdSQURFX1RPX0NVU1RPTUVMRU1FTlRfUFJPTUlTRSA9XG4gICAgJ19fQU1QX1VQR19QUk0nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgVVBHUkFERV9UT19DVVNUT01FTEVNRU5UX1JFU09MVkVSID1cbiAgICAnX19BTVBfVVBHX1JFUyc7XG5cbi8qKlxuICogV2FpdHMgdW50aWwgdGhlIGNoaWxkIGVsZW1lbnQgaXMgY29uc3RydWN0ZWQuIE9uY2UgdGhlIGNoaWxkIGlzIGZvdW5kLCB0aGVcbiAqIGNhbGxiYWNrIGlzIGV4ZWN1dGVkLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFbGVtZW50KTpib29sZWFufSBjaGVja0Z1bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JDaGlsZChwYXJlbnQsIGNoZWNrRnVuYywgY2FsbGJhY2spIHtcbiAgaWYgKGNoZWNrRnVuYyhwYXJlbnQpKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLyoqIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgY29uc3Qgd2luID0gdG9XaW4ocGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICBpZiAod2luLk11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAvKiogQGNvbnN0IHtNdXRhdGlvbk9ic2VydmVyfSAqL1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IHdpbi5NdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgIGlmIChjaGVja0Z1bmMocGFyZW50KSkge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShwYXJlbnQsIHtjaGlsZExpc3Q6IHRydWV9KTtcbiAgfSBlbHNlIHtcbiAgICAvKiogQGNvbnN0IHtudW1iZXJ9ICovXG4gICAgY29uc3QgaW50ZXJ2YWwgPSB3aW4uc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKGNoZWNrRnVuYyhwYXJlbnQpKSB7XG4gICAgICAgIHdpbi5jbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LCAvKiBtaWxsaXNlY29uZHMgKi8gNSk7XG4gIH1cbn1cblxuLyoqXG4gKiBXYWl0cyB1bnRpbCB0aGUgY2hpbGQgZWxlbWVudCBpcyBjb25zdHJ1Y3RlZC4gT25jZSB0aGUgY2hpbGQgaXMgZm91bmQsIHRoZVxuICogcHJvbWlzZSBpcyByZXNvbHZlZC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtmdW5jdGlvbighRWxlbWVudCk6Ym9vbGVhbn0gY2hlY2tGdW5jXG4gKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JDaGlsZFByb21pc2UocGFyZW50LCBjaGVja0Z1bmMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHdhaXRGb3JDaGlsZChwYXJlbnQsIGNoZWNrRnVuYywgcmVzb2x2ZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFdhaXRzIGZvciBkb2N1bWVudCdzIGJvZHkgdG8gYmUgYXZhaWxhYmxlLlxuICogV2lsbCBiZSBkZXByZWNhdGVkIHNvb247IHVzZSB7QGxpbmsgQW1wRG9jI3doZW5Cb2R5QXZhaWxhYmxlfSBvclxuICogQHtsaW5rIERvY3VtZW50U3RhdGUjb25Cb2R5QXZhaWxhYmxlfSBpbnN0ZWFkLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvckJvZHkoZG9jLCBjYWxsYmFjaykge1xuICB3YWl0Rm9yQ2hpbGQoZG9jLmRvY3VtZW50RWxlbWVudCwgKCkgPT4gISFkb2MuYm9keSwgY2FsbGJhY2spO1xufVxuXG5cbi8qKlxuICogV2FpdHMgZm9yIGRvY3VtZW50J3MgYm9keSB0byBiZSBhdmFpbGFibGUuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JCb2R5UHJvbWlzZShkb2MpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHdhaXRGb3JCb2R5KGRvYywgcmVzb2x2ZSk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBjaGlsZCBub2RlcyBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKHBhcmVudCkge1xuICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cblxuLyoqXG4gKiBDb3BpZXMgYWxsIGNoaWxkcmVuIG5vZGVzIG9mIGVsZW1lbnQgXCJmcm9tXCIgdG8gZWxlbWVudCBcInRvXCIuIENoaWxkIG5vZGVzXG4gKiBhcmUgZGVlcGx5IGNsb25lZC4gTm90aWNlLCB0aGF0IHRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIHdpdGggY2FyZSBhbmRcbiAqIHByZWZlcmFibHkgb24gc21hbGxlciBzdWJ0cmVlcy5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGZyb21cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IURvY3VtZW50RnJhZ21lbnR9IHRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5Q2hpbGRyZW4oZnJvbSwgdG8pIHtcbiAgY29uc3QgZnJhZyA9IHRvLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICBmb3IgKGxldCBuID0gZnJvbS5maXJzdENoaWxkOyBuOyBuID0gbi5uZXh0U2libGluZykge1xuICAgIGZyYWcuYXBwZW5kQ2hpbGQobi5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG4gIHRvLmFwcGVuZENoaWxkKGZyYWcpO1xufVxuXG4vKipcbiAqIEluc2VydCB0aGUgZWxlbWVudCBpbiB0aGUgcm9vdCBhZnRlciB0aGUgZWxlbWVudCBuYW1lZCBhZnRlciBvclxuICogaWYgdGhhdCBpcyBudWxsIGF0IHRoZSBiZWdpbm5pbmcuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFTaGFkb3dSb290fSByb290XG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gez9Ob2RlfSBhZnRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0QWZ0ZXJPckF0U3RhcnQocm9vdCwgZWxlbWVudCwgYWZ0ZXIpIHtcbiAgY29uc3QgYmVmb3JlID0gYWZ0ZXIgPyBhZnRlci5uZXh0U2libGluZyA6IHJvb3QuZmlyc3RDaGlsZDtcbiAgcm9vdC5pbnNlcnRCZWZvcmUoZWxlbWVudCwgYmVmb3JlKTtcbn1cblxuLyoqXG4gKiBBZGQgYXR0cmlidXRlcyB0byBhbiBlbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHshSnNvbk9iamVjdDxzdHJpbmcsIHN0cmluZz59IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm4geyFFbGVtZW50fSBjcmVhdGVkIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICBmb3IgKGNvbnN0IGF0dHIgaW4gYXR0cmlidXRlcykge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJpYnV0ZXNbYXR0cl0pO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlbGVtZW50IG9uIGRvY3VtZW50IHdpdGggc3BlY2lmaWVkIHRhZ05hbWUgYW5kIGF0dHJpYnV0ZXMuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZVxuICogQHBhcmFtIHshSnNvbk9iamVjdDxzdHJpbmcsIHN0cmluZz59IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm4geyFFbGVtZW50fSBjcmVhdGVkIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlcyhkb2MsIHRhZ05hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICByZXR1cm4gYWRkQXR0cmlidXRlc1RvRWxlbWVudChlbGVtZW50LCBhdHRyaWJ1dGVzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgbm9kZSBpcyBjb25uZWN0ZWQgKGF0dGFjaGVkKS5cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAc2VlIGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jY29ubmVjdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Nvbm5lY3RlZE5vZGUobm9kZSkge1xuICBjb25zdCBjb25uZWN0ZWQgPSBub2RlLmlzQ29ubmVjdGVkO1xuICBpZiAoY29ubmVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY29ubmVjdGVkO1xuICB9XG5cbiAgLy8gXCJBbiBlbGVtZW50IGlzIGNvbm5lY3RlZCBpZiBpdHMgc2hhZG93LWluY2x1ZGluZyByb290IGlzIGEgZG9jdW1lbnQuXCJcbiAgbGV0IG4gPSBub2RlO1xuICBkbyB7XG4gICAgbiA9IHJvb3ROb2RlRm9yKG4pO1xuICAgIGlmIChuLmhvc3QpIHtcbiAgICAgIG4gPSBuLmhvc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSB3aGlsZSAodHJ1ZSk7XG4gIHJldHVybiBuLm5vZGVUeXBlID09PSBOb2RlLkRPQ1VNRU5UX05PREU7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcm9vdCBmb3IgYSBnaXZlbiBub2RlLiBEb2VzIG5vdCBjcm9zcyBzaGFkb3cgRE9NIGJvdW5kYXJ5LlxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb290Tm9kZUZvcihub2RlKSB7XG4gIGlmIChOb2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSkge1xuICAgIC8vIFR5cGUgY2hlY2tlciBzYXlzIGBnZXRSb290Tm9kZWAgbWF5IHJldHVybiBudWxsLlxuICAgIHJldHVybiBub2RlLmdldFJvb3ROb2RlKCkgfHwgbm9kZTtcbiAgfVxuICBsZXQgbjtcbiAgZm9yIChuID0gbm9kZTsgISFuLnBhcmVudE5vZGU7IG4gPSBuLnBhcmVudE5vZGUpIHt9XG4gIHJldHVybiBuO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IGVsZW1lbnQgdGhhdCBzYXRpc2ZpZXMgdGhlIGNhbGxiYWNrIGZyb20gdGhpcyBlbGVtZW50XG4gKiB1cCB0aGUgRE9NIHN1YnRyZWUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFbGVtZW50KTpib29sZWFufSBjYWxsYmFja1xuICogQHBhcmFtIHtFbGVtZW50PX0gb3B0X3N0b3BBdCBvcHRpb25hbCBlbGVtbnQgdG8gc3RvcCB0aGUgc2VhcmNoIGF0LlxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRfc3RvcEF0KSB7XG4gIGZvciAobGV0IGVsID0gZWxlbWVudDsgZWwgJiYgZWwgIT09IG9wdF9zdG9wQXQ7IGVsID0gZWwucGFyZW50RWxlbWVudCkge1xuICAgIGlmIChjYWxsYmFjayhlbCkpIHtcbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBub2RlIHRoYXQgc2F0aXNmaWVzIHRoZSBjYWxsYmFjayBmcm9tIHRoaXMgbm9kZVxuICogdXAgdGhlIERPTSBzdWJ0cmVlLlxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHBhcmFtIHtmdW5jdGlvbighTm9kZSk6Ym9vbGVhbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4gez9Ob2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE5vZGUobm9kZSwgY2FsbGJhY2spIHtcbiAgZm9yIChsZXQgbiA9IG5vZGU7IG47IG4gPSBuLnBhcmVudE5vZGUpIHtcbiAgICBpZiAoY2FsbGJhY2sobikpIHtcbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgZnJvbSB0aGlzIGVsZW1lbnRcbiAqIHVwIHRoZSBET00gc3VidHJlZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RCeVRhZyhlbGVtZW50LCB0YWdOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsb3Nlc3QpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHRhZ05hbWUpO1xuICB9XG4gIHRhZ05hbWUgPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gIHJldHVybiBjbG9zZXN0KGVsZW1lbnQsIGVsID0+IHtcbiAgICByZXR1cm4gZWwudGFnTmFtZSA9PSB0YWdOYW1lO1xuICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBzZWxlY3RvciBmcm9tIHRoaXMgZWxlbWVudFxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHs/RWxlbWVudH0gY2xvc2VzdCBhbmNlc3RvciBpZiBmb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RCeVNlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGlmIChlbGVtZW50LmNsb3Nlc3QpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgfVxuXG4gIHJldHVybiBjbG9zZXN0KGVsZW1lbnQsIGVsID0+IHtcbiAgICByZXR1cm4gbWF0Y2hlcyhlbCwgc2VsZWN0b3IpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVsZW1lbnQgbWF0Y2hlcyB0aGUgc2VsZWN0b3JcbiAqIEBwYXJhbSAgeyFFbGVtZW50fSBlbCBUaGUgZWxlbWVudCB0byB2ZXJpZnlcbiAqIEBwYXJhbSAge3N0cmluZ30gc2VsZWN0b3IgVGhlIHNlbGVjdG9yIHRvIGNoZWNrIGFnYWluc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVsZW1lbnQgbWF0Y2hlZCB0aGUgc2VsZWN0b3IuIEZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IG1hdGNoZXIgPSBlbC5tYXRjaGVzIHx8XG4gICAgICBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIGVsLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgZWwubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIGVsLm9NYXRjaGVzU2VsZWN0b3I7XG4gIGlmIChtYXRjaGVyKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIuY2FsbChlbCwgc2VsZWN0b3IpO1xuICB9XG4gIHJldHVybiBmYWxzZTsgLy8gSUU4IGFsd2F5cyByZXR1cm5zIGZhbHNlLlxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBmaXJzdCBkZXNjZW5kYW50IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFEb2N1bWVudHwhU2hhZG93Um9vdH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudEJ5VGFnKGVsZW1lbnQsIHRhZ05hbWUpIHtcbiAgbGV0IGVsZW1lbnRzO1xuICAvLyBnZXRFbGVtZW50c0J5VGFnTmFtZSgpIGlzIG5vdCBzdXBwb3J0ZWQgb24gU2hhZG93Um9vdC5cbiAgaWYgKHR5cGVvZiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZWxlbWVudHMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnRzID0gZWxlbWVudC4vKk9LKi9xdWVyeVNlbGVjdG9yQWxsKHRhZ05hbWUpO1xuICB9XG4gIHJldHVybiAoZWxlbWVudHMgJiYgZWxlbWVudHNbMF0pIHx8IG51bGw7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgY2hpbGQgZWxlbWVudCB0aGF0IHNhdGlzZmllcyB0aGUgY2FsbGJhY2suXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVsZW1lbnQpOmJvb2xlYW59IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkRWxlbWVudChwYXJlbnQsIGNhbGxiYWNrKSB7XG4gIGZvciAobGV0IGNoaWxkID0gcGFyZW50LmZpcnN0RWxlbWVudENoaWxkOyBjaGlsZDtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZykge1xuICAgIGlmIChjYWxsYmFjayhjaGlsZCkpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLyoqXG4gKiBGaW5kcyBhbGwgY2hpbGQgZWxlbWVudHMgdGhhdCBzYXRpc2Z5IHRoZSBjYWxsYmFjay5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtmdW5jdGlvbighRWxlbWVudCk6Ym9vbGVhbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4geyFBcnJheTwhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZEVsZW1lbnRzKHBhcmVudCwgY2FsbGJhY2spIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgZm9yIChsZXQgY2hpbGQgPSBwYXJlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7IGNoaWxkO1xuICAgIGNoaWxkID0gY2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgaWYgKGNhbGxiYWNrKGNoaWxkKSkge1xuICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuXG4vKipcbiAqIEZpbmRzIHRoZSBsYXN0IGNoaWxkIGVsZW1lbnQgdGhhdCBzYXRpc2ZpZXMgdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFbGVtZW50KTpib29sZWFufSBjYWxsYmFja1xuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0Q2hpbGRFbGVtZW50KHBhcmVudCwgY2FsbGJhY2spIHtcbiAgZm9yIChsZXQgY2hpbGQgPSBwYXJlbnQubGFzdEVsZW1lbnRDaGlsZDsgY2hpbGQ7XG4gICAgY2hpbGQgPSBjaGlsZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgaWYgKGNhbGxiYWNrKGNoaWxkKSkge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBGaW5kcyBhbGwgY2hpbGQgbm9kZXMgdGhhdCBzYXRpc2Z5IHRoZSBjYWxsYmFjay5cbiAqIFRoZXNlIG5vZGVzIGNhbiBpbmNsdWRlIFRleHQsIENvbW1lbnQgYW5kIG90aGVyIGNoaWxkIG5vZGVzLlxuICogQHBhcmFtIHshTm9kZX0gcGFyZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFOb2RlKTpib29sZWFufSBjYWxsYmFja1xuICogQHJldHVybiB7IUFycmF5PCFOb2RlPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkTm9kZXMocGFyZW50LCBjYWxsYmFjaykge1xuICBjb25zdCBub2RlcyA9IFtdO1xuICBmb3IgKGxldCBjaGlsZCA9IHBhcmVudC5maXJzdENoaWxkOyBjaGlsZDtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgaWYgKGNhbGxiYWNrKGNoaWxkKSkge1xuICAgICAgbm9kZXMucHVzaChjaGlsZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2Rlcztcbn1cblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xubGV0IHNjb3BlU2VsZWN0b3JTdXBwb3J0ZWQ7XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gdmFsXG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNjb3BlU2VsZWN0b3JTdXBwb3J0ZWRGb3JUZXN0aW5nKHZhbCkge1xuICBzY29wZVNlbGVjdG9yU3VwcG9ydGVkID0gdmFsO1xufVxuXG4vKipcbiAqIFRlc3QgdGhhdCB0aGUgOnNjb3BlIHNlbGVjdG9yIGlzIHN1cHBvcnRlZCBhbmQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU2NvcGVTZWxlY3RvclN1cHBvcnRlZChwYXJlbnQpIHtcbiAgY29uc3QgZG9jID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRyeSB7XG4gICAgY29uc3QgdGVzdEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgdGVzdENoaWxkID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlc3RFbGVtZW50LmFwcGVuZENoaWxkKHRlc3RDaGlsZCk7XG4gICAgLy8gTk9URShjdmlhbGl6LCAjMTIzODMpOiBGaXJlZm94J3MgaW1wbGVtZW50YXRpb24gaXMgaW5jb21wbGV0ZSxcbiAgICAvLyB0aGVyZWZvcmUgd2UgdGVzdCBhY3R1YWwgZnVuY3Rpb25hbGl0eSBvZmA6c2NvcGVgIGFzIHdlbGwuXG4gICAgcmV0dXJuIHRlc3RFbGVtZW50Li8qT0sqL3F1ZXJ5U2VsZWN0b3IoJzpzY29wZSBkaXYnKSA9PT0gdGVzdENoaWxkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGZpcnN0IGNoaWxkIGVsZW1lbnQgdGhhdCBoYXMgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkRWxlbWVudEJ5QXR0cihwYXJlbnQsIGF0dHIpIHtcbiAgcmV0dXJuIHNjb3BlZFF1ZXJ5U2VsZWN0b3IvKk9LKi8ocGFyZW50LCBgPiBbJHthdHRyfV1gKTtcbn1cblxuXG4vKipcbiAqIEZpbmRzIHRoZSBsYXN0IGNoaWxkIGVsZW1lbnQgdGhhdCBoYXMgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RDaGlsZEVsZW1lbnRCeUF0dHIocGFyZW50LCBhdHRyKSB7XG4gIHJldHVybiBsYXN0Q2hpbGRFbGVtZW50KHBhcmVudCwgZWwgPT4ge1xuICAgIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoYXR0cik7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0clxuICogQHJldHVybiB7IU5vZGVMaXN0PCFFbGVtZW50Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkRWxlbWVudHNCeUF0dHIocGFyZW50LCBhdHRyKSB7XG4gIHJldHVybiBzY29wZWRRdWVyeVNlbGVjdG9yQWxsLypPSyovKHBhcmVudCwgYD4gWyR7YXR0cn1dYCk7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgY2hpbGQgZWxlbWVudCB0aGF0IGhhcyB0aGUgc3BlY2lmaWVkIHRhZyBuYW1lLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZVxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZEVsZW1lbnRCeVRhZyhwYXJlbnQsIHRhZ05hbWUpIHtcbiAgcmV0dXJuIHNjb3BlZFF1ZXJ5U2VsZWN0b3IvKk9LKi8ocGFyZW50LCBgPiAke3RhZ05hbWV9YCk7XG59XG5cblxuLyoqXG4gKiBGaW5kcyBhbGwgY2hpbGQgZWxlbWVudHMgd2l0aCB0aGUgc3BlY2lmaWVkIHRhZyBuYW1lLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZVxuICogQHJldHVybiB7IU5vZGVMaXN0PCFFbGVtZW50Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkRWxlbWVudHNCeVRhZyhwYXJlbnQsIHRhZ05hbWUpIHtcbiAgcmV0dXJuIHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwvKk9LKi8ocGFyZW50LCBgPiAke3RhZ05hbWV9YCk7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgYHNlbGVjdG9yYCwgc2NvcGVkIGluc2lkZSBgcm9vdGAuXG4gKiBOb3RlOiBpbiBJRSwgdGhpcyBjYXVzZXMgYSBxdWljayBtdXRhdGlvbiBvZiB0aGUgZWxlbWVudCdzIGNsYXNzIGxpc3QuXG4gKiBAcGFyYW0geyFFbGVtZW50fSByb290XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NvcGVkUXVlcnlTZWxlY3Rvcihyb290LCBzZWxlY3Rvcikge1xuICBpZiAoc2NvcGVTZWxlY3RvclN1cHBvcnRlZCA9PSBudWxsKSB7XG4gICAgc2NvcGVTZWxlY3RvclN1cHBvcnRlZCA9IGlzU2NvcGVTZWxlY3RvclN1cHBvcnRlZChyb290KTtcbiAgfVxuICBpZiAoc2NvcGVTZWxlY3RvclN1cHBvcnRlZCkge1xuICAgIHJldHVybiByb290Li8qT0sqL3F1ZXJ5U2VsZWN0b3IoYDpzY29wZSAke3NlbGVjdG9yfWApO1xuICB9XG5cbiAgLy8gT25seSBJRS5cbiAgY29uc3QgdW5pcXVlID0gJ2ktYW1waHRtbC1zY29wZWQnO1xuICByb290LmNsYXNzTGlzdC5hZGQodW5pcXVlKTtcbiAgY29uc3QgZWxlbWVudCA9IHJvb3QuLypPSyovcXVlcnlTZWxlY3RvcihgLiR7dW5pcXVlfSAke3NlbGVjdG9yfWApO1xuICByb290LmNsYXNzTGlzdC5yZW1vdmUodW5pcXVlKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgZXZlcnkgZWxlbWVudCB0aGF0IG1hdGNoZXMgYHNlbGVjdG9yYCwgc2NvcGVkIGluc2lkZSBgcm9vdGAuXG4gKiBOb3RlOiBpbiBJRSwgdGhpcyBjYXVzZXMgYSBxdWljayBtdXRhdGlvbiBvZiB0aGUgZWxlbWVudCdzIGNsYXNzIGxpc3QuXG4gKiBAcGFyYW0geyFFbGVtZW50fSByb290XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY29wZWRRdWVyeVNlbGVjdG9yQWxsKHJvb3QsIHNlbGVjdG9yKSB7XG4gIGlmIChzY29wZVNlbGVjdG9yU3VwcG9ydGVkID09IG51bGwpIHtcbiAgICBzY29wZVNlbGVjdG9yU3VwcG9ydGVkID0gaXNTY29wZVNlbGVjdG9yU3VwcG9ydGVkKHJvb3QpO1xuICB9XG4gIGlmIChzY29wZVNlbGVjdG9yU3VwcG9ydGVkKSB7XG4gICAgcmV0dXJuIHJvb3QuLypPSyovcXVlcnlTZWxlY3RvckFsbChgOnNjb3BlICR7c2VsZWN0b3J9YCk7XG4gIH1cblxuICAvLyBPbmx5IElFLlxuICBjb25zdCB1bmlxdWUgPSAnaS1hbXBodG1sLXNjb3BlZCc7XG4gIHJvb3QuY2xhc3NMaXN0LmFkZCh1bmlxdWUpO1xuICBjb25zdCBlbGVtZW50cyA9IHJvb3QuLypPSyovcXVlcnlTZWxlY3RvckFsbChgLiR7dW5pcXVlfSAke3NlbGVjdG9yfWApO1xuICByb290LmNsYXNzTGlzdC5yZW1vdmUodW5pcXVlKTtcbiAgcmV0dXJuIGVsZW1lbnRzO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBlbGVtZW50IGRhdGEtcGFyYW0tIGF0dHJpYnV0ZXMgYXMgdXJsIHBhcmFtZXRlcnMga2V5LXZhbHVlIHBhaXJzLlxuICogZS5nLiBkYXRhLXBhcmFtLXNvbWUtYXR0cj12YWx1ZSAtPiB7c29tZUF0dHI6IHZhbHVlfS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKTpzdHJpbmc9fSBvcHRfY29tcHV0ZVBhcmFtTmFtZUZ1bmMgdG8gY29tcHV0ZSB0aGVcbiAqICAgIHBhcmFtZXRlciBuYW1lLCBnZXQgcGFzc2VkIHRoZSBjYW1lbC1jYXNlIHBhcmFtZXRlciBuYW1lLlxuICogQHBhcmFtIHshUmVnRXhwPX0gb3B0X3BhcmFtUGF0dGVybiBSZWdleCBwYXR0ZXJuIHRvIG1hdGNoIGRhdGEgYXR0cmlidXRlcy5cbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVBhcmFtc0Zyb21BdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdF9jb21wdXRlUGFyYW1OYW1lRnVuYyxcbiAgb3B0X3BhcmFtUGF0dGVybikge1xuICBjb25zdCBjb21wdXRlUGFyYW1OYW1lRnVuYyA9IG9wdF9jb21wdXRlUGFyYW1OYW1lRnVuYyB8fCAoa2V5ID0+IGtleSk7XG4gIGNvbnN0IHtkYXRhc2V0fSA9IGVsZW1lbnQ7XG4gIGNvbnN0IHBhcmFtcyA9IGRpY3QoKTtcbiAgY29uc3QgcGFyYW1QYXR0ZXJuID0gb3B0X3BhcmFtUGF0dGVybiA/IG9wdF9wYXJhbVBhdHRlcm4gOiAvXnBhcmFtKC4rKS87XG4gIGZvciAoY29uc3Qga2V5IGluIGRhdGFzZXQpIHtcbiAgICBjb25zdCBtYXRjaGVzID0ga2V5Lm1hdGNoKHBhcmFtUGF0dGVybik7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IHBhcmFtID0gbWF0Y2hlc1sxXVswXS50b0xvd2VyQ2FzZSgpICsgbWF0Y2hlc1sxXS5zdWJzdHIoMSk7XG4gICAgICBwYXJhbXNbY29tcHV0ZVBhcmFtTmFtZUZ1bmMocGFyYW0pXSA9IGRhdGFzZXRba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBlbGVtZW50IGhhdmUgYSBuZXh0IG5vZGUgaW4gdGhlIGRvY3VtZW50IG9yZGVyLlxuICogVGhpcyBtZWFucyBlaXRoZXI6XG4gKiAgYS4gVGhlIGVsZW1lbnQgaXRzZWxmIGhhcyBhIG5leHRTaWJsaW5nLlxuICogIGIuIEFueSBvZiB0aGUgZWxlbWVudCBhbmNlc3RvcnMgaGFzIGEgbmV4dFNpYmxpbmcuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gez9Ob2RlfSBvcHRfc3RvcE5vZGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNOZXh0Tm9kZUluRG9jdW1lbnRPcmRlcihlbGVtZW50LCBvcHRfc3RvcE5vZGUpIHtcbiAgbGV0IGN1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgZG8ge1xuICAgIGlmIChjdXJyZW50RWxlbWVudC5uZXh0U2libGluZykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IHdoaWxlICgoY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnROb2RlKSAmJlxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgIT0gb3B0X3N0b3BOb2RlKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogRmluZHMgYWxsIGFuY2VzdG9yIGVsZW1lbnRzIHRoYXQgc2F0aXNmeSBwcmVkaWNhdGUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBjaGlsZFxuICogQHBhcmFtIHtmdW5jdGlvbighRWxlbWVudCk6Ym9vbGVhbn0gcHJlZGljYXRlXG4gKiBAcmV0dXJuIHshQXJyYXk8IUVsZW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYW5jZXN0b3JFbGVtZW50cyhjaGlsZCwgcHJlZGljYXRlKSB7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IFtdO1xuICBmb3IgKGxldCBhbmNlc3RvciA9IGNoaWxkLnBhcmVudEVsZW1lbnQ7IGFuY2VzdG9yO1xuICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50RWxlbWVudCkge1xuICAgIGlmIChwcmVkaWNhdGUoYW5jZXN0b3IpKSB7XG4gICAgICBhbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBhbmNlc3RvcnM7XG59XG5cblxuLyoqXG4gKiBGaW5kcyBhbGwgYW5jZXN0b3IgZWxlbWVudHMgdGhhdCBoYXMgdGhlIHNwZWNpZmllZCB0YWcgbmFtZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGNoaWxkXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZVxuICogQHJldHVybiB7IUFycmF5PCFFbGVtZW50Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuY2VzdG9yRWxlbWVudHNCeVRhZyhjaGlsZCwgdGFnTmFtZSkge1xuICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gYW5jZXN0b3JFbGVtZW50cyhjaGlsZCwgZWwgPT4ge1xuICAgIHJldHVybiBlbC50YWdOYW1lID09IHRhZ05hbWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgY29udGVudCBvZiBhIHRlbXBsYXRlIGVsZW1lbnQuXG4gKlxuICogUG9seWZpbGwgdG8gcmVwbGFjZSAuY29udGVudCBhY2Nlc3MgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnRcbiAqIEhUTUxUZW1wbGF0ZUVsZW1lbnRzIG5hdGl2ZWx5LlxuICpcbiAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR8IUVsZW1lbnR9IHRlbXBsYXRlXG4gKiBAcmV0dXJuIHshRG9jdW1lbnRGcmFnbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlQ29udGVudENsb25lKHRlbXBsYXRlKSB7XG4gIGlmICgnY29udGVudCcgaW4gdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGNvcHlDaGlsZHJlbih0ZW1wbGF0ZSwgY29udGVudCk7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gYXJyYXktbGlrZS4gU29tZSBjb2xsZWN0aW9ucyBsaWtlIE5vZGVMaXN0IGFyZVxuICogbGF6aWx5IGV2YWx1YXRlZCBpbiBzb21lIGJyb3dzZXJzLCBhbmQgYWNjZXNzaW5nIGBsZW5ndGhgIGZvcmNlcyBmdWxsXG4gKiBldmFsdWF0aW9uLiBXZSBjYW4gaW1wcm92ZSBwZXJmb3JtYW5jZSBieSBpdGVyYXRpbmcgdW50aWwgYW4gZWxlbWVudCBpc1xuICogYHVuZGVmaW5lZGAgdG8gYXZvaWQgY2hlY2tpbmcgdGhlIGBsZW5ndGhgIHByb3BlcnR5LlxuICogVGVzdCBjYXNlczogaHR0cHM6Ly9qc3BlcmYuY29tL2l0ZXJhdGluZy1vdmVyLWNvbGxlY3Rpb25zLW9mLWVsZW1lbnRzXG4gKiBAcGFyYW0geyFJQXJyYXlMaWtlPFQ+fSBpdGVyYWJsZVxuICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIpfSBjYlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGl0ZXJhdGVDdXJzb3IoaXRlcmFibGUsIGNiKSB7XG4gIGZvciAobGV0IGkgPSAwLCB2YWx1ZTsgKHZhbHVlID0gaXRlcmFibGVbaV0pICE9PSB1bmRlZmluZWQ7IGkrKykge1xuICAgIGNiKHZhbHVlLCBpKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHdyYXBzIGFyb3VuZCB3aW5kb3cncyBvcGVuIG1ldGhvZC4gSXQgZmlyc3QgdHJpZXMgdG8gZXhlY3V0ZVxuICogYG9wZW5gIGNhbGwgd2l0aCB0aGUgcHJvdmlkZWQgdGFyZ2V0IGFuZCBpZiBpdCBmYWlscywgaXQgcmV0cmllcyB0aGUgY2FsbFxuICogd2l0aCB0aGUgYF90b3BgIHRhcmdldC4gVGhpcyBpcyBuZWNlc3NhcnkgZ2l2ZW4gdGhhdCBpbiBzb21lIGVtYmVkZGluZ1xuICogc2NlbmFyaW9zLCBzdWNoIGFzIGlPUycgV0tXZWJWaWV3LCBuYXZpZ2F0aW9uIHRvIGBfYmxhbmtgIGFuZCBvdGhlciB0YXJnZXRzXG4gKiBpcyBibG9ja2VkIGJ5IGRlZmF1bHQuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2ZlYXR1cmVzXG4gKiBAcmV0dXJuIHs/V2luZG93fVxuICovXG5leHBvcnQgZnVuY3Rpb24gb3BlbldpbmRvd0RpYWxvZyh3aW4sIHVybCwgdGFyZ2V0LCBvcHRfZmVhdHVyZXMpIHtcbiAgLy8gVHJ5IGZpcnN0IHdpdGggdGhlIHNwZWNpZmllZCB0YXJnZXQuIElmIHdlJ3JlIGluc2lkZSB0aGUgV0tXZWJWaWV3IG9yXG4gIC8vIGEgc2ltaWxhciBlbnZpcm9ubWVudHMsIHRoaXMgbWV0aG9kIGlzIGV4cGVjdGVkIHRvIGZhaWwgYnkgZGVmYXVsdCBmb3JcbiAgLy8gYWxsIHRhcmdldHMgZXhjZXB0IGBfdG9wYC5cbiAgbGV0IHJlcztcbiAgdHJ5IHtcbiAgICByZXMgPSB3aW4ub3Blbih1cmwsIHRhcmdldCwgb3B0X2ZlYXR1cmVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGRldigpLmVycm9yKCdET00nLCAnRmFpbGVkIHRvIG9wZW4gdXJsIG9uIHRhcmdldDogJywgdGFyZ2V0LCBlKTtcbiAgfVxuXG4gIC8vIFRoZW4gdHJ5IHdpdGggYF90b3BgIHRhcmdldC5cbiAgaWYgKCFyZXMgJiYgdGFyZ2V0ICE9ICdfdG9wJykge1xuICAgIHJlcyA9IHdpbi5vcGVuKHVybCwgJ190b3AnKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgYSBzY3JpcHQgdGFnIHdpdGggYXBwbGljYXRpb24vanNvbiB0eXBlLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblNjcmlwdFRhZyhlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LnRhZ05hbWUgPT0gJ1NDUklQVCcgJiZcbiAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykudG9VcHBlckNhc2UoKSA9PSAnQVBQTElDQVRJT04vSlNPTic7XG59XG5cbi8qKlxuICogV2hldGhlciB0aGUgZWxlbWVudCBpcyBhIHNjcmlwdCB0YWcgd2l0aCBhcHBsaWNhdGlvbi9qc29uIHR5cGUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNKc29uTGRTY3JpcHRUYWcoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC50YWdOYW1lID09ICdTQ1JJUFQnICYmXG4gICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpLnRvVXBwZXJDYXNlKCkgPT0gJ0FQUExJQ0FUSU9OL0xEK0pTT04nO1xufVxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIHBhZ2UncyBkaXJlY3Rpb24gaXMgcmlnaHQgdG8gbGVmdCBvciBub3QuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSVEwoZG9jKSB7XG4gIGNvbnN0IGRpciA9IGRvYy5ib2R5LmdldEF0dHJpYnV0ZSgnZGlyJylcbiAgICAgICAgICAgICAgICAgfHwgZG9jLmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpXG4gICAgICAgICAgICAgICAgIHx8ICdsdHInO1xuICByZXR1cm4gZGlyID09ICdydGwnO1xufVxuXG5cbi8qKlxuICogRXNjYXBlcyBhbiBpZGVudCAoSUQgb3IgYSBjbGFzcyBuYW1lKSB0byBiZSB1c2VkIGFzIGEgQ1NTIHNlbGVjdG9yLlxuICpcbiAqIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3NlcmlhbGl6ZS1hbi1pZGVudGlmaWVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ3NzU2VsZWN0b3JJZGVudChpZGVudCkge1xuICByZXR1cm4gY3NzRXNjYXBlKGlkZW50KTtcbn1cblxuLyoqXG4gKiBFc2NhcGVzIGFuIGlkZW50IGluIGEgd2F5IHRoYXQgY2FuIGJlIHVzZWQgYnkgOm50aC1jaGlsZCgpIHBzdWVkby1jbGFzcy5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3czYy9jc3N3Zy1kcmFmdHMvaXNzdWVzLzIzMDYuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZGVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ3NzU2VsZWN0b3JOdGgoaWRlbnQpIHtcbiAgY29uc3QgZXNjYXBlZCA9IFN0cmluZyhpZGVudCk7XG4gIC8vIEVuc3VyZSBpdCBkb2Vzbid0IGNsb3NlIHRoZSBudGgtY2hpbGQgcHN1ZWRvIGNsYXNzLlxuICBkZXYoKS5hc3NlcnQoZXNjYXBlZC5pbmRleE9mKCcpJykgPT09IC0xKTtcbiAgcmV0dXJuIGVzY2FwZWQ7XG59XG5cbi8qKlxuICogRXNjYXBlcyBgPGAsIGA+YCBhbmQgb3RoZXIgSFRNTCBjaGFyY2F0ZXJzIHdpdGggdGhlaXIgZXNjYXBlZCBmb3Jtcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgaWYgKCF0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbiAgcmV0dXJuIHRleHQucmVwbGFjZShIVE1MX0VTQ0FQRV9SRUdFWCwgZXNjYXBlSHRtbENoYXIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUh0bWxDaGFyKGMpIHtcbiAgcmV0dXJuIEhUTUxfRVNDQVBFX0NIQVJTW2NdO1xufVxuXG4vKipcbiAqIFRyaWVzIHRvIGZvY3VzIG9uIHRoZSBnaXZlbiBlbGVtZW50OyBmYWlscyBzaWxlbnRseSBpZiBicm93c2VyIHRocm93cyBhblxuICogZXhjZXB0aW9uLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5Rm9jdXMoZWxlbWVudCkge1xuICB0cnkge1xuICAgIGVsZW1lbnQuLypPSyovZm9jdXMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDw9IDcgbWF5IHRocm93IGV4Y2VwdGlvbnMgd2hlbiBmb2N1c2luZyBvbiBoaWRkZW4gaXRlbXMuXG4gIH1cbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBnaXZlbiB3aW5kb3cgaXMgaW4gYW4gaWZyYW1lIG9yIG5vdC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJZnJhbWVkKHdpbikge1xuICByZXR1cm4gd2luLnBhcmVudCAmJiB3aW4ucGFyZW50ICE9IHdpbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoaXMgZWxlbWVudCBpcyBhbiBBTVAgZWxlbWVudFxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW1wRWxlbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IHRhZyA9IGVsZW1lbnQudGFnTmFtZTtcbiAgLy8gVXNlIHByZWZpeCB0byByZWNvZ25pemUgQU1QIGVsZW1lbnQuIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc3R1YlxuICAvLyBtYXkgbm90IGJlIGF0dGFjaGVkIHlldC5cbiAgcmV0dXJuIHN0YXJ0c1dpdGgodGFnLCAnQU1QLScpICYmXG4gICAgICAvLyBTb21lIFwiYW1wLSpcIiBlbGVtZW50cyBhcmUgbm90IHJlYWxseSBBTVAgZWxlbWVudHMuIDpzbWg6XG4gICAgICAhKHRhZyA9PSAnQU1QLVNUSUNLWS1BRC1UT1AtUEFERElORycgfHwgdGFnID09ICdBTVAtQk9EWScpO1xufVxuXG4vKipcbiAqIFJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlIHdoZW4gYW4gQU1QIGVsZW1lbnQgdXBncmFkZSBmcm9tIEhUTUxFbGVtZW50XG4gKiB0byBDdXN0b21FbGVtZW50XG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuVXBncmFkZWRUb0N1c3RvbUVsZW1lbnQoZWxlbWVudCkge1xuICBkZXYoKS5hc3NlcnQoaXNBbXBFbGVtZW50KGVsZW1lbnQpLCAnZWxlbWVudCBpcyBub3QgQW1wRWxlbWVudCcpO1xuICBpZiAoZWxlbWVudC5jcmVhdGVkQ2FsbGJhY2spIHtcbiAgICAvLyBFbGVtZW50IGFscmVhZHkgaXMgQ3VzdG9tRWxlbWVudDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVsZW1lbnQpO1xuICB9XG4gIC8vIElmIEVsZW1lbnQgaXMgc3RpbGwgSFRNTEVsZW1lbnQsIHdhaXQgZm9yIGl0IHRvIHVwZ3JhZGUgdG8gY3VzdG9tRWxlbWVudFxuICAvLyBOb3RlOiB1c2UgcHVyZSBzdHJpbmcgdG8gYXZvaWQgb2JmdXNjYXRpb24gYmV0d2VlbiB2ZXJzaW9ucy5cbiAgaWYgKCFlbGVtZW50W1VQR1JBREVfVE9fQ1VTVE9NRUxFTUVOVF9QUk9NSVNFXSkge1xuICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG4gICAgZWxlbWVudFtVUEdSQURFX1RPX0NVU1RPTUVMRU1FTlRfUFJPTUlTRV0gPSBkZWZlcnJlZC5wcm9taXNlO1xuICAgIGVsZW1lbnRbVVBHUkFERV9UT19DVVNUT01FTEVNRU5UX1JFU09MVkVSXSA9IGRlZmVycmVkLnJlc29sdmU7XG5cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50W1VQR1JBREVfVE9fQ1VTVE9NRUxFTUVOVF9QUk9NSVNFXTtcbn1cblxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgYEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKWAgbWV0aG9kLlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvcmVxdWVzdEZ1bGxzY3JlZW5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ1bGxzY3JlZW5FbnRlcihlbGVtZW50KSB7XG4gIGNvbnN0IHJlcXVlc3RGcyA9IGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW5cbiAgIHx8IGVsZW1lbnQucmVxdWVzdEZ1bGxTY3JlZW5cbiAgIHx8IGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW5cbiAgIHx8IGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cbiAgIHx8IGVsZW1lbnQud2Via2l0RW50ZXJGdWxsc2NyZWVuXG4gICB8fCBlbGVtZW50LndlYmtpdEVudGVyRnVsbFNjcmVlblxuICAgfHwgZWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuXG4gICB8fCBlbGVtZW50Lm1zUmVxdWVzdEZ1bGxTY3JlZW5cbiAgIHx8IGVsZW1lbnQubW96UmVxdWVzdEZ1bGxzY3JlZW5cbiAgIHx8IGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW47XG4gIGlmIChyZXF1ZXN0RnMpIHtcbiAgICByZXF1ZXN0RnMuY2FsbChlbGVtZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcGxhY2VtZW50IGZvciBgRG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKWAgbWV0aG9kLlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L2V4aXRGdWxsc2NyZWVuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmdWxsc2NyZWVuRXhpdChlbGVtZW50KSB7XG4gIGxldCBleGl0RnMgPSBlbGVtZW50LmNhbmNlbEZ1bGxTY3JlZW5cbiAgICAgICAgICAgICAgwqB8fCBlbGVtZW50LmV4aXRGdWxsc2NyZWVuXG4gICAgICAgICAgICAgIMKgfHwgZWxlbWVudC5leGl0RnVsbFNjcmVlblxuICAgICAgICAgICAgICDCoHx8IGVsZW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW5cbiAgICAgICAgICAgICAgwqB8fCBlbGVtZW50LndlYmtpdEV4aXRGdWxsU2NyZWVuXG4gICAgICAgICAgICAgIMKgfHwgZWxlbWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuXG4gICAgICAgICAgICAgIMKgfHwgZWxlbWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuXG4gICAgICAgICAgICAgIMKgfHwgZWxlbWVudC5tc0V4aXRGdWxsc2NyZWVuO1xuICBpZiAoZXhpdEZzKSB7XG4gICAgZXhpdEZzLmNhbGwoZWxlbWVudCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChlbGVtZW50Lm93bmVyRG9jdW1lbnQpIHtcbiAgICBleGl0RnMgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlblxuICAgICAgICAgICAgIHx8IGVsZW1lbnQub3duZXJEb2N1bWVudC5leGl0RnVsbHNjcmVlblxuICAgICAgICAgICAgIHx8IGVsZW1lbnQub3duZXJEb2N1bWVudC5leGl0RnVsbFNjcmVlblxuICAgICAgICAgICAgIHx8IGVsZW1lbnQub3duZXJEb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlblxuICAgICAgICAgICAgIHx8IGVsZW1lbnQub3duZXJEb2N1bWVudC53ZWJraXRFeGl0RnVsbFNjcmVlblxuICAgICAgICAgICAgIHx8IGVsZW1lbnQub3duZXJEb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuXG4gICAgICAgICAgICAgfHwgZWxlbWVudC5vd25lckRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW5cbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbjtcbiAgfVxuICBpZiAoZXhpdEZzKSB7XG4gICAgZXhpdEZzLmNhbGwoZWxlbWVudC5vd25lckRvY3VtZW50KTtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuXG4vKipcbiAqIFJlcGxhY2VtZW50IGZvciBgRG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnRgLlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L2Z1bGxzY3JlZW5FbGVtZW50XG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdWxsc2NyZWVuRWxlbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGlzRnVsbHNjcmVlbiA9IGVsZW1lbnQud2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW47XG4gIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoZWxlbWVudC5vd25lckRvY3VtZW50KSB7XG4gICAgY29uc3QgZnVsbHNjcmVlbkVsZW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnRcbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnRcbiAgICAgICAgICAgICB8fCBlbGVtZW50LndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudDtcbiAgICBpZiAoZnVsbHNjcmVlbkVsZW1lbnQgPT0gZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgbm9kZSBpcyBub3QgZGlzYWJsZWQuXG4gKlxuICogSUU4IGNhbiByZXR1cm4gZmFsc2UgcG9zaXRpdmVzLCBzZWUge0BsaW5rIG1hdGNoZXN9LlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbmFibGVkKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEoZWxlbWVudC5kaXNhYmxlZCB8fCBtYXRjaGVzKGVsZW1lbnQsICc6ZGlzYWJsZWQnKSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4vZG9tJztcbmltcG9ydCB7XG4gIGdldEFtcGRvYyxcbiAgZ2V0RXhpc3RpbmdTZXJ2aWNlRm9yRG9jSW5FbWJlZFNjb3BlLFxuICBnZXRTZXJ2aWNlLFxuICBnZXRTZXJ2aWNlUHJvbWlzZSxcbiAgZ2V0U2VydmljZVByb21pc2VGb3JEb2MsXG4gIGdldFNlcnZpY2VQcm9taXNlT3JOdWxsLFxuICBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEZvckRvYyxcbiAgZ2V0VG9wV2luZG93LFxufSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IHt0b1dpbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge3VzZXJ9IGZyb20gJy4vbG9nJztcblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzZXJ2aWNlIGZvciB0aGUgZ2l2ZW4gaWQgYW5kIHdpbmRvdy4gQWxzbyBleHBlY3RzIGFuXG4gKiBlbGVtZW50IHRoYXQgaGFzIHRoZSBhY3R1YWwgaW1wbGVtZW50YXRpb24uIFRoZSBwcm9taXNlIHJlc29sdmVzIHdoZW4gdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBsb2FkZWQuIFVzZXJzIHNob3VsZCB0eXBpY2FsbHkgd3JhcCB0aGlzIGFzIGEgc3BlY2lhbCBwdXJwb3NlXG4gKiBmdW5jdGlvbiAoZS5nLiBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyguLi4pKSBmb3IgdHlwZSBzYWZldHkgYW5kIGJlY2F1c2UgdGhlXG4gKiBmYWN0b3J5IHNob3VsZCBub3QgYmUgcGFzc2VkIGFyb3VuZC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIE5hbWUgb2YgdGhlIGN1c3RvbSBleHRlbnNpb24gdGhhdCBwcm92aWRlcyB0aGVcbiAqICAgICBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZWxlbWVudCBXaGV0aGVyIHRoaXMgc2VydmljZSBpcyBwcm92aWRlZCBieSBhbiBlbGVtZW50LFxuICogICAgIG5vdCB0aGUgZXh0ZW5zaW9uLlxuICogQHJldHVybiB7IVByb21pc2U8Kj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50U2VydmljZSh3aW4sIGlkLCBleHRlbnNpb24sIG9wdF9lbGVtZW50KSB7XG4gIHJldHVybiBnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlKHdpbiwgaWQsIGV4dGVuc2lvbiwgb3B0X2VsZW1lbnQpLnRoZW4oXG4gICAgICBzZXJ2aWNlID0+IGFzc2VydFNlcnZpY2Uoc2VydmljZSwgaWQsIGV4dGVuc2lvbikpO1xufVxuXG4vKipcbiAqIFNhbWUgYXMgZ2V0RWxlbWVudFNlcnZpY2UgYnV0IHByb2R1Y2VzIG51bGwgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgbm90XG4gKiBhY3R1YWxseSBhdmFpbGFibGUgb24gdGhlIGN1cnJlbnQgcGFnZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIE5hbWUgb2YgdGhlIGN1c3RvbSBleHRlbnNpb24gdGhhdCBwcm92aWRlcyB0aGVcbiAqICAgICBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZWxlbWVudCBXaGV0aGVyIHRoaXMgc2VydmljZSBpcyBwcm92aWRlZCBieSBhblxuICogICAgIGVsZW1lbnQsIG5vdCB0aGUgZXh0ZW5zaW9uLlxuICogQHJldHVybiB7IVByb21pc2U8P09iamVjdD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlKHdpbiwgaWQsIGV4dGVuc2lvbiwgb3B0X2VsZW1lbnQpIHtcbiAgY29uc3QgcyA9IGdldFNlcnZpY2VQcm9taXNlT3JOdWxsKHdpbiwgaWQpO1xuICBpZiAocykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD9PYmplY3Q+fSAqLyAocyk7XG4gIH1cbiAgcmV0dXJuIGdldEVsZW1lbnRTZXJ2aWNlUHJvbWlzZU9yTnVsbCh3aW4sIGlkLCBleHRlbnNpb24sIG9wdF9lbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lIE5hbWUgb2YgYW4gZXh0ZW5kZWQgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoaXMgZWxlbWVudCBpcyBzY2hlZHVsZWQgdG8gYmUgbG9hZGVkLlxuICovXG5mdW5jdGlvbiBpc0VsZW1lbnRTY2hlZHVsZWQod2luLCBlbGVtZW50TmFtZSkge1xuICAvLyBTZXQgaW4gY3VzdG9tLWVsZW1lbnQuanNcbiAgaWYgKCF3aW4uYW1wRXh0ZW5kZWRFbGVtZW50cykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gISF3aW4uYW1wRXh0ZW5kZWRFbGVtZW50c1tlbGVtZW50TmFtZV07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzZXJ2aWNlIGZvciB0aGUgZ2l2ZW4gaWQgYW5kIHdpbmRvdy4gQWxzbyBleHBlY3RzIGFuXG4gKiBlbGVtZW50IHRoYXQgaGFzIHRoZSBhY3R1YWwgaW1wbGVtZW50YXRpb24uIFRoZSBwcm9taXNlIHJlc29sdmVzIHdoZW4gdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBsb2FkZWQuIFVzZXJzIHNob3VsZCB0eXBpY2FsbHkgd3JhcCB0aGlzIGFzIGEgc3BlY2lhbCBwdXJwb3NlXG4gKiBmdW5jdGlvbiAoZS5nLiBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyguLi4pKSBmb3IgdHlwZSBzYWZldHkgYW5kIGJlY2F1c2UgdGhlXG4gKiBmYWN0b3J5IHNob3VsZCBub3QgYmUgcGFzc2VkIGFyb3VuZC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiBOYW1lIG9mIHRoZSBjdXN0b20gZXh0ZW5zaW9uIHRoYXQgcHJvdmlkZXMgdGhlXG4gKiAgICAgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzZXJ2aWNlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2VsZW1lbnQgV2hldGhlciB0aGlzIHNlcnZpY2UgaXMgcHJvdmlkZWQgYnkgYW4gZWxlbWVudCxcbiAqICAgICBub3QgdGhlIGV4dGVuc2lvbi5cbiAqIEByZXR1cm4geyFQcm9taXNlPCo+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCBpZCwgZXh0ZW5zaW9uLFxuICBvcHRfZWxlbWVudCkge1xuICByZXR1cm4gZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhcbiAgICAgIGVsZW1lbnRPckFtcERvYywgaWQsIGV4dGVuc2lvbiwgb3B0X2VsZW1lbnQpXG4gICAgICAudGhlbihzZXJ2aWNlID0+IGFzc2VydFNlcnZpY2Uoc2VydmljZSwgaWQsIGV4dGVuc2lvbikpO1xufVxuXG4vKipcbiAqIFNhbWUgYXMgZ2V0RWxlbWVudFNlcnZpY2UgYnV0IHByb2R1Y2VzIG51bGwgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgbm90XG4gKiBhY3R1YWxseSBhdmFpbGFibGUgb24gdGhlIGN1cnJlbnQgcGFnZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiBOYW1lIG9mIHRoZSBjdXN0b20gZXh0ZW5zaW9uIHRoYXQgcHJvdmlkZXMgdGhlXG4gKiAgICAgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzZXJ2aWNlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2VsZW1lbnQgV2hldGhlciB0aGlzIHNlcnZpY2UgaXMgcHJvdmlkZWQgYnkgYW5cbiAqICAgICBlbGVtZW50LCBub3QgdGhlIGV4dGVuc2lvbi5cbiAqIEByZXR1cm4geyFQcm9taXNlPD9PYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhcbiAgZWxlbWVudE9yQW1wRG9jLCBpZCwgZXh0ZW5zaW9uLCBvcHRfZWxlbWVudCkge1xuICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2MoZWxlbWVudE9yQW1wRG9jKTtcbiAgY29uc3QgcyA9IGdldFNlcnZpY2VQcm9taXNlT3JOdWxsRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQpO1xuICBpZiAocykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD9PYmplY3Q+fSAqLyAocyk7XG4gIH1cblxuICByZXR1cm4gYW1wZG9jLndoZW5Cb2R5QXZhaWxhYmxlKClcbiAgICAgIC50aGVuKCgpID0+IHdhaXRGb3JFeHRlbnNpb25JZlByZXNlbnQoXG4gICAgICAgICAgYW1wZG9jLndpbiwgZXh0ZW5zaW9uLFxuICAgICAgICAgIGFtcGRvYy5nZXRIZWFkTm9kZSgpKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgLy8gSWYgdGhpcyBzZXJ2aWNlIGlzIHByb3ZpZGVkIGJ5IGFuIGVsZW1lbnQsIHRoZW4gd2UgY2FuJ3QgZGVwZW5kIG9uXG4gICAgICAgIC8vIHRoZSBzZXJ2aWNlICh0aGV5IG1heSBub3QgdXNlIHRoZSBlbGVtZW50KS5cbiAgICAgICAgaWYgKG9wdF9lbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGdldFNlcnZpY2VQcm9taXNlT3JOdWxsRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudFNjaGVkdWxlZChhbXBkb2Mud2luLCBleHRlbnNpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHNlcnZpY2UgZm9yIHRoZSBnaXZlbiBpZCBpbiB0aGUgZW1iZWQgc2NvcGUgb2ZcbiAqIGEgZ2l2ZW4gbm9kZSwgaWYgaXQgZXhpc3RzLiBPdGhlcndpc2UsIGZhbGxzIGJhY2sgdG8gYW1wZG9jIHNjb3BlIElGRlxuICogdGhlIGdpdmVuIG5vZGUgaXMgaW4gdGhlIHRvcC1sZXZlbCB3aW5kb3cuXG4gKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gTmFtZSBvZiB0aGUgY3VzdG9tIGVsZW1lbnQgdGhhdCBwcm92aWRlc1xuICogICAgIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIHNlcnZpY2UuXG4gKiBAcmV0dXJuIHshUHJvbWlzZTw/T2JqZWN0Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2NJbkVtYmVkU2NvcGUoXG4gIGVsZW1lbnRPckFtcERvYywgaWQsIGV4dGVuc2lvbikge1xuICBjb25zdCBzID0gZ2V0RXhpc3RpbmdTZXJ2aWNlRm9yRG9jSW5FbWJlZFNjb3BlKGVsZW1lbnRPckFtcERvYywgaWQpO1xuICBpZiAocykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD9PYmplY3Q+fSAqLyAoUHJvbWlzZS5yZXNvbHZlKHMpKTtcbiAgfVxuICAvLyBSZXR1cm4gZW1iZWQtc2NvcGUgZWxlbWVudCBzZXJ2aWNlIHByb21pc2UgaWYgc2NoZWR1bGVkLlxuICBpZiAoZWxlbWVudE9yQW1wRG9jLm5vZGVUeXBlKSB7XG4gICAgY29uc3Qgd2luID0gdG9XaW4oZWxlbWVudE9yQW1wRG9jLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICAgIGNvbnN0IHRvcFdpbiA9IGdldFRvcFdpbmRvdyh3aW4pO1xuICAgIC8vIEluIGVtYmVkcywgZG9jLXNjb3BlIHNlcnZpY2VzIGFyZSB3aW5kb3ctc2NvcGUuIEJ1dCBtYWtlIHN1cmUgdG9cbiAgICAvLyBvbmx5IGRvIHRoaXMgZm9yIGVtYmVkcyAobm90IHRoZSB0b3Agd2luZG93KSwgb3RoZXJ3aXNlIHdlJ2QgZ3JhYlxuICAgIC8vIGEgcHJvbWlzZSBmcm9tIHRoZSB3cm9uZyBzZXJ2aWNlIGhvbGRlciB3aGljaCB3b3VsZCBuZXZlciByZXNvbHZlLlxuICAgIGlmICh3aW4gIT09IHRvcFdpbikge1xuICAgICAgcmV0dXJuIGdldEVsZW1lbnRTZXJ2aWNlUHJvbWlzZU9yTnVsbCh3aW4sIGlkLCBleHRlbnNpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjayB0byBhbXBkb2MgSUZGIHRoZSBnaXZlbiBub2RlIGlzIF9ub3RfIEZJRS5cbiAgICAgIHJldHVybiBnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQsIGV4dGVuc2lvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD9PYmplY3Q+fSAqLyAoUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgdXNlciBlcnJvciBpZiBgc2VydmljZWAgaXMgbnVsbC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXJ2aWNlXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb25cbiAqIEByZXR1cm4geyFPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhc3NlcnRTZXJ2aWNlKHNlcnZpY2UsIGlkLCBleHRlbnNpb24pIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKHVzZXIoKS5hc3NlcnQoc2VydmljZSxcbiAgICAgICdTZXJ2aWNlICVzIHdhcyByZXF1ZXN0ZWQgdG8gYmUgcHJvdmlkZWQgdGhyb3VnaCAlcywgJyArXG4gICAgICAnYnV0ICVzIGlzIG5vdCBsb2FkZWQgaW4gdGhlIGN1cnJlbnQgcGFnZS4gVG8gZml4IHRoaXMgJyArXG4gICAgICAncHJvYmxlbSBsb2FkIHRoZSBKYXZhU2NyaXB0IGZpbGUgZm9yICVzIGluIHRoaXMgcGFnZS4nLFxuICAgICAgaWQsIGV4dGVuc2lvbiwgZXh0ZW5zaW9uLCBleHRlbnNpb24pKTtcbn1cblxuLyoqXG4gKiBHZXQgbGlzdCBvZiBhbGwgdGhlIGV4dGVuc2lvbiBKUyBmaWxlc1xuICogQHBhcmFtIHtIVE1MSGVhZEVsZW1lbnR8RWxlbWVudHxTaGFkb3dSb290fSBoZWFkXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuc2lvblNjcmlwdHNJbk5vZGUoaGVhZCkge1xuICAvLyBhbXBkb2MuZ2V0SGVhZE5vZGUoKSBjYW4gcmV0dXJuIG51bGxcbiAgaWYgKCFoZWFkKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHNjcmlwdHMgPSBbXTtcbiAgY29uc3QgbGlzdCA9IGhlYWQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W2N1c3RvbS1lbGVtZW50XScpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBzY3JpcHRzLnB1c2gobGlzdFtpXS5nZXRBdHRyaWJ1dGUoJ2N1c3RvbS1lbGVtZW50JykpO1xuICB9XG4gIHJldHVybiBzY3JpcHRzO1xufVxuXG4vKipcbiAqIFdhaXRzIGZvciBib2R5IHRvIGJlIHByZXNlbnQgdGhlbiB2ZXJpZmllcyB0aGF0IGFuIGV4dGVuc2lvbiBzY3JpcHQgaXNcbiAqIHByZXNlbnQgaW4gaGVhZCBmb3IgaW5zdGFsbGF0aW9uLlxuICogQHBhcmFtIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uSWRcbiAqIEByZXR1cm4geyFQcm9taXNlPGJvb2xlYW4+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFeHRlbnNpb25TY3JpcHRJbk5vZGUoYW1wZG9jLCBleHRlbnNpb25JZCkge1xuICByZXR1cm4gYW1wZG9jLndoZW5Cb2R5QXZhaWxhYmxlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvblNjcmlwdEluTm9kZShcbiAgICAgICAgICAgIGFtcGRvYy5nZXRIZWFkTm9kZSgpLCBleHRlbnNpb25JZCk7XG4gICAgICB9KTtcbn1cblxuLyoqXG4gKiBWZXJpZmllcyB0aGF0IGFuIGV4dGVuc2lvbiBzY3JpcHQgaXMgcHJlc2VudCBpbiBoZWFkIGZvclxuICogaW5zdGFsbGF0aW9uLlxuICogQHBhcmFtIHtIVE1MSGVhZEVsZW1lbnR8RWxlbWVudHxTaGFkb3dSb290fSBoZWFkXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uSWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4dGVuc2lvblNjcmlwdEluTm9kZShoZWFkLCBleHRlbnNpb25JZCkge1xuICByZXR1cm4gZXh0ZW5zaW9uU2NyaXB0c0luTm9kZShoZWFkKS5pbmNsdWRlcyhleHRlbnNpb25JZCk7XG59XG5cbi8qKlxuICogV2FpdHMgZm9yIGFuIGV4dGVuc2lvbiBpZiBpdHMgc2NyaXB0IGlzIHByZXNlbnRcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uXG4gKiBAcGFyYW0ge0hUTUxIZWFkRWxlbWVudHxFbGVtZW50fFNoYWRvd1Jvb3R9IGhlYWRcbiAqIEByZXR1cm4geyFQcm9taXNlfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gd2FpdEZvckV4dGVuc2lvbklmUHJlc2VudCh3aW4sIGV4dGVuc2lvbiwgaGVhZCkge1xuICAvKipcbiAgICogSWYgdGhlcmUgaXMgYW4gZXh0ZW5zaW9uIHNjcmlwdCB3YWl0IGZvciBpdCB0byBsb2FkIGJlZm9yZSB0cnlpbmdcbiAgICogdG8gZ2V0IHRoZSBzZXJ2aWNlLiBQcmV2ZW50cyBhIHJhY2UgY29uZGl0aW9uIHdoZW4gZXZlcnl0aGluZyBidXRcbiAgICogdGhlIGV4dGVuc2lvbnMgaXMgaW4gY2FjaGUuIElmIHRoZXJlIGlzIG5vIHNjcmlwdCB0aGVuIGl0J3MgZWl0aGVyXG4gICAqIG5vdCBwcmVzZW50LCBvciB0aGUgc2VydmljZSB3YXMgZGVmaW5lZCBieSBhIHRlc3QuIEluIHRob3NlIGNhc2VzXG4gICAqIHdlIGRvbid0IHdhaXQgYXJvdW5kIGZvciBhbiBleHRlbnNpb24gdGhhdCBkb2VzIG5vdCBleGlzdC5cbiAgICovXG5cbiAgLy8gVE9ETyhqcGV0dGl0dCkgaW52ZXN0aWdhdGUgcmVnaXN0ZXJFeHRlbnNpb24gdG8gc2hvcnQgY2lyY3VpdFxuICAvLyB0aGUgZG9tIGNhbGwgaW4gZXh0ZW5zaW9uU2NyaXB0c0luTm9kZSgpXG4gIGlmICghZXh0ZW5zaW9uU2NyaXB0SW5Ob2RlKGhlYWQsIGV4dGVuc2lvbikpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBjb25zdCBleHRlbnNpb25zID0gZ2V0U2VydmljZSh3aW4sICdleHRlbnNpb25zJyk7XG4gIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD9PYmplY3Q+fSAqLyAoXG4gICAgZXh0ZW5zaW9ucy53YWl0Rm9yRXh0ZW5zaW9uKHdpbiwgZXh0ZW5zaW9uKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcHJvbWlzZSBmb3Igc2VydmljZSB3aXRoIGBpZGAgb24gdGhlIGdpdmVuIHdpbmRvdyBpZiBhdmFpbGFibGUuXG4gKiBPdGhlcndpc2UsIHJlc29sdmVzIHdpdGggbnVsbCAoc2VydmljZSB3YXMgbm90IHJlZ2lzdGVyZWQpLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvblxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2VsZW1lbnRcbiAqIEByZXR1cm4geyFQcm9taXNlPE9iamVjdD59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXRFbGVtZW50U2VydmljZVByb21pc2VPck51bGwod2luLCBpZCwgZXh0ZW5zaW9uLCBvcHRfZWxlbWVudCkge1xuICByZXR1cm4gZG9tLndhaXRGb3JCb2R5UHJvbWlzZSh3aW4uZG9jdW1lbnQpXG4gICAgICAudGhlbigoKSA9PiB3YWl0Rm9yRXh0ZW5zaW9uSWZQcmVzZW50KHdpbiwgZXh0ZW5zaW9uLCB3aW4uZG9jdW1lbnQuaGVhZCkpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIElmIHRoaXMgc2VydmljZSBpcyBwcm92aWRlZCBieSBhbiBlbGVtZW50LCB0aGVuIHdlIGNhbid0IGRlcGVuZCBvblxuICAgICAgICAvLyB0aGUgc2VydmljZSAodGhleSBtYXkgbm90IHVzZSB0aGUgZWxlbWVudCkuXG4gICAgICAgIGlmIChvcHRfZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbCh3aW4sIGlkKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnRTY2hlZHVsZWQod2luLCBleHRlbnNpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFNlcnZpY2VQcm9taXNlKHdpbiwgaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gICogV2hldGhlciBhZGRFdmVudExpc3RlbmVyIHN1cHBvcnRzIG9wdGlvbnMgb3Igb25seSB0YWtlcyBjYXB0dXJlIGFzIGEgYm9vbGVhblxuICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgKi9cbmxldCBvcHRzU3VwcG9ydGVkO1xuXG4vKipcbiAqIExpc3RlbnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQgb24gdGhlIGVsZW1lbnQuXG4gKlxuICogRG8gbm90IHVzZSB0aGlzIGRpcmVjdGx5LiBUaGlzIG1ldGhvZCBpcyBpbXBsZW1lbnRlZCBhcyBhIHNoYXJlZFxuICogZGVwZW5kZW5jeS4gVXNlIGBsaXN0ZW4oKWAgaW4gZWl0aGVyIGBldmVudC1oZWxwZXJgIG9yIGAzcC1mcmFtZS1tZXNzYWdpbmdgLFxuICogZGVwZW5kaW5nIG9uIHlvdXIgdXNlIGNhc2UuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KX0gbGlzdGVuZXJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X2V2dExpc3RlbmVyT3B0c1xuICogQHJldHVybiB7IVVubGlzdGVuRGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJuYWxMaXN0ZW5JbXBsZW1lbnRhdGlvbihlbGVtZW50LCBldmVudFR5cGUsIGxpc3RlbmVyLFxuICBvcHRfZXZ0TGlzdGVuZXJPcHRzKSB7XG4gIGxldCBsb2NhbEVsZW1lbnQgPSBlbGVtZW50O1xuICBsZXQgbG9jYWxMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAvKipcbiAgICogQHR5cGUgez9GdW5jdGlvbn1cbiAgICovXG4gIGxldCB3cmFwcGVkO1xuXG4gIHdyYXBwZWQgPSBldmVudCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBsb2NhbExpc3RlbmVyKGV2ZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyByZXBvcnRFcnJvciBpcyBpbnN0YWxsZWQgZ2xvYmFsbHkgcGVyIHdpbmRvdyBpbiB0aGUgZW50cnkgcG9pbnQuXG4gICAgICBzZWxmLnJlcG9ydEVycm9yKGUpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wdHNTdXBwb3J0ZWQgPSBkZXRlY3RFdnRMaXN0ZW5lck9wdHNTdXBwb3J0KCk7XG4gIGxldCBjYXB0dXJlID0gZmFsc2U7XG4gIGlmIChvcHRfZXZ0TGlzdGVuZXJPcHRzKSB7XG4gICAgY2FwdHVyZSA9IG9wdF9ldnRMaXN0ZW5lck9wdHMuY2FwdHVyZTtcbiAgfVxuICBsb2NhbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIHdyYXBwZWQsXG4gICAgICBvcHRzU3VwcG9ydGVkID8gb3B0X2V2dExpc3RlbmVyT3B0cyA6IGNhcHR1cmVcbiAgKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAobG9jYWxFbGVtZW50KSB7XG4gICAgICBsb2NhbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBldmVudFR5cGUsXG4gICAgICAgICAgd3JhcHBlZCxcbiAgICAgICAgICBvcHRzU3VwcG9ydGVkID8gb3B0X2V2dExpc3RlbmVyT3B0cyA6IGNhcHR1cmVcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIEVuc3VyZSB0aGVzZSBhcmUgR0MnZFxuICAgIGxvY2FsTGlzdGVuZXIgPSBudWxsO1xuICAgIGxvY2FsRWxlbWVudCA9IG51bGw7XG4gICAgd3JhcHBlZCA9IG51bGw7XG4gIH07XG59XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgYnJvd3NlciBzdXBwb3J0cyBvcHRpb25zIGFzIGFuIGFyZ3VtZW50IG9mIGFkZEV2ZW50TGlzdGVuZXJcbiAqIG9yIG5vdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0RXZ0TGlzdGVuZXJPcHRzU3VwcG9ydCgpIHtcbiAgLy8gT25seSBydW4gdGhlIHRlc3Qgb25jZVxuICBpZiAob3B0c1N1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG9wdHNTdXBwb3J0ZWQ7XG4gIH1cblxuICBvcHRzU3VwcG9ydGVkID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgLy8gVGVzdCB3aGV0aGVyIGJyb3dzZXIgc3VwcG9ydHMgRXZlbnRMaXN0ZW5lck9wdGlvbnMgb3Igbm90XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgICBvcHRzU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfTtcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3Qtb3B0aW9ucycsIG51bGwsIG9wdGlvbnMpO1xuICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdC1vcHRpb25zJywgbnVsbCwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIEV2ZW50TGlzdGVuZXJPcHRpb25zIGFyZSBub3Qgc3VwcG9ydGVkXG4gIH1cbiAgcmV0dXJuIG9wdHNTdXBwb3J0ZWQ7XG59XG5cbi8qKlxuICAqIFJlc2V0cyB0aGUgdGVzdCBmb3Igd2hldGhlciBhZGRFdmVudExpc3RlbmVyIHN1cHBvcnRzIG9wdGlvbnMgb3Igbm90LlxuICAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RXZ0TGlzdGVuZXJPcHRzU3VwcG9ydEZvclRlc3RpbmcoKSB7XG4gIG9wdHNTdXBwb3J0ZWQgPSB1bmRlZmluZWQ7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtpbnRlcm5hbExpc3RlbkltcGxlbWVudGF0aW9ufSBmcm9tICcuL2V2ZW50LWhlbHBlci1saXN0ZW4nO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuL2xvZyc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gICovXG5jb25zdCBMT0FEX0ZBSUxVUkVfUFJFRklYID0gJ0ZhaWxlZCB0byBsb2FkOic7XG5cbi8qKlxuICogUmV0dXJucyBhIEN1c3RvbUV2ZW50IHdpdGggYSBnaXZlbiB0eXBlIGFuZCBkZXRhaWw7IHN1cHBvcnRzIGZhbGxiYWNrIGZvciBJRS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHshSnNvbk9iamVjdHxzdHJpbmd8dW5kZWZpbmVkfG51bGx9IGRldGFpbFxuICogQHBhcmFtIHtFdmVudEluaXQ9fSBvcHRfZXZlbnRJbml0XG4gKiBAcmV0dXJuIHshRXZlbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDdXN0b21FdmVudCh3aW4sIHR5cGUsIGRldGFpbCwgb3B0X2V2ZW50SW5pdCkge1xuICBjb25zdCBldmVudEluaXQgPSAvKiogQHR5cGUgeyFDdXN0b21FdmVudEluaXR9ICovICh7ZGV0YWlsfSk7XG4gIE9iamVjdC5hc3NpZ24oZXZlbnRJbml0LCBvcHRfZXZlbnRJbml0KTtcbiAgLy8gd2luLkN1c3RvbUV2ZW50IGlzIGEgZnVuY3Rpb24gb24gRWRnZSwgQ2hyb21lLCBGRiwgU2FmYXJpIGJ1dFxuICAvLyBpcyBhbiBvYmplY3Qgb24gSUUgMTEuXG4gIGlmICh0eXBlb2Ygd2luLkN1c3RvbUV2ZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IHdpbi5DdXN0b21FdmVudCh0eXBlLCBldmVudEluaXQpO1xuICB9IGVsc2Uge1xuICAgIC8vIERlcHJlY2F0ZWQgZmFsbGJhY2sgZm9yIElFLlxuICAgIGNvbnN0IGUgPSB3aW4uZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQoXG4gICAgICAgIHR5cGUsICEhZXZlbnRJbml0LmJ1YmJsZXMsICEhZXZlbnRJbml0LmNhbmNlbGFibGUsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuLyoqXG4gKiBMaXN0ZW5zIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50IG9uIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KX0gbGlzdGVuZXJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X2V2dExpc3RlbmVyT3B0c1xuICogQHJldHVybiB7IVVubGlzdGVuRGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdF9ldnRMaXN0ZW5lck9wdHMpIHtcbiAgcmV0dXJuIGludGVybmFsTGlzdGVuSW1wbGVtZW50YXRpb24oXG4gICAgICBlbGVtZW50LCBldmVudFR5cGUsIGxpc3RlbmVyLCBvcHRfZXZ0TGlzdGVuZXJPcHRzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkYXRhIHByb3BlcnR5IG9mIGFuIGV2ZW50IHdpdGggdGhlIGNvcnJlY3QgdHlwZS5cbiAqIEBwYXJhbSB7IUV2ZW50fHtkYXRhOiAhSnNvbk9iamVjdH19IGV2ZW50XG4gKiBAcmV0dXJuIHs/SnNvbk9iamVjdHxzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YShldmVudCkge1xuICByZXR1cm4gLyoqIEB0eXBlIHs/SnNvbk9iamVjdHxzdHJpbmd8dW5kZWZpbmVkfSAqLyAoZXZlbnQuZGF0YSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGV0YWlsIHByb3BlcnR5IG9mIGFuIGV2ZW50IHdpdGggdGhlIGNvcnJlY3QgdHlwZS5cbiAqIEBwYXJhbSB7IUV2ZW50fHtkZXRhaWw6ICFKc29uT2JqZWN0fX0gZXZlbnRcbiAqIEByZXR1cm4gez9Kc29uT2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREZXRhaWwoZXZlbnQpIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7P0pzb25PYmplY3R8c3RyaW5nfHVuZGVmaW5lZH0gKi8gKGV2ZW50LmRldGFpbCk7XG59XG5cbi8qKlxuICogTGlzdGVucyBmb3IgdGhlIHNwZWNpZmllZCBldmVudCBvbiB0aGUgZWxlbWVudCBhbmQgcmVtb3ZlcyB0aGUgbGlzdGVuZXJcbiAqIGFzIHNvb24gYXMgZXZlbnQgaGFzIGJlZW4gcmVjZWl2ZWQuXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBsaXN0ZW5lclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfZXZ0TGlzdGVuZXJPcHRzXG4gKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5PbmNlKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdF9ldnRMaXN0ZW5lck9wdHMpIHtcbiAgbGV0IGxvY2FsTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgY29uc3QgdW5saXN0ZW4gPSBpbnRlcm5hbExpc3RlbkltcGxlbWVudGF0aW9uKGVsZW1lbnQsIGV2ZW50VHlwZSwgZXZlbnQgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbExpc3RlbmVyKGV2ZW50KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gRW5zdXJlIGxpc3RlbmVyIGlzIEdDJ2RcbiAgICAgIGxvY2FsTGlzdGVuZXIgPSBudWxsO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9XG4gIH0sIG9wdF9ldnRMaXN0ZW5lck9wdHMpO1xuICByZXR1cm4gdW5saXN0ZW47XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zICBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgYXMgc29vbiBhcyB0aGUgc3BlY2lmaWVkIGV2ZW50IGhhc1xuICogZmlyZWQgb24gdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfZXZ0TGlzdGVuZXJPcHRzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFVbmxpc3RlbkRlZik9fSBvcHRfY2FuY2VsIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQsIHdoZW5cbiAqICAgICBwcm92aWRlZCwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdW5saXN0ZW5lci4gVGhpcyBnaXZlcyB0aGUgY2FsbGVyXG4gKiAgICAgYWNjZXNzIHRvIHRoZSB1bmxpc3RlbmVyLCBzbyBpdCBtYXkgYmUgY2FsbGVkIG1hbnVhbGx5IHdoZW4gbmVjZXNzYXJ5LlxuICogQHJldHVybiB7IVByb21pc2U8IUV2ZW50Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2VQcm9taXNlKGVsZW1lbnQsIGV2ZW50VHlwZSwgb3B0X2V2dExpc3RlbmVyT3B0cyxcbiAgb3B0X2NhbmNlbCkge1xuICBsZXQgdW5saXN0ZW47XG4gIGNvbnN0IGV2ZW50UHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHVubGlzdGVuID0gbGlzdGVuT25jZShlbGVtZW50LCBldmVudFR5cGUsIHJlc29sdmUsIG9wdF9ldnRMaXN0ZW5lck9wdHMpO1xuICB9KTtcbiAgZXZlbnRQcm9taXNlLnRoZW4odW5saXN0ZW4sIHVubGlzdGVuKTtcbiAgaWYgKG9wdF9jYW5jZWwpIHtcbiAgICBvcHRfY2FuY2VsKHVubGlzdGVuKTtcbiAgfVxuICByZXR1cm4gZXZlbnRQcm9taXNlO1xufVxuXG5cbi8qKlxuICogV2hldGhlciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQvd2luZG93IGhhcyBiZWVuIGxvYWRlZCBhbHJlYWR5LlxuICogQHBhcmFtIHshRWxlbWVudHwhV2luZG93fSBlbGVPcldpbmRvd1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9hZGVkKGVsZU9yV2luZG93KSB7XG4gIHJldHVybiAhIShlbGVPcldpbmRvdy5jb21wbGV0ZSB8fCBlbGVPcldpbmRvdy5yZWFkeVN0YXRlID09ICdjb21wbGV0ZSdcbiAgICAgIC8vIElmIHRoZSBwYXNzZWQgaW4gdGhpbmcgaXMgYSBXaW5kb3csIGluZmVyIGxvYWRlZCBzdGF0ZSBmcm9tXG4gICAgICAvL1xuICAgICAgfHwgKGVsZU9yV2luZG93LmRvY3VtZW50XG4gICAgICAgICAgJiYgZWxlT3JXaW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb3IgZmFpbCBiYXNlZCBvbiB0aGUgZWxlT3JXaW5kb3cncyAnbG9hZCdcbiAqIGFuZCAnZXJyb3InIGV2ZW50cy4gT3B0aW9uYWxseSB0aGlzIG1ldGhvZCB0YWtlcyBhIHRpbWVvdXQsIHdoaWNoIHdpbGwgcmVqZWN0XG4gKiB0aGUgcHJvbWlzZSBpZiB0aGUgcmVzb3VyY2UgaGFzIG5vdCBsb2FkZWQgYnkgdGhlbi5cbiAqIEBwYXJhbSB7VH0gZWxlT3JXaW5kb3cgU3VwcG9ydHMgYm90aCBFbGVtZW50cyBhbmQgYXMgYSBzcGVjaWFsIGNhc2UgV2luZG93cy5cbiAqIEByZXR1cm4geyFQcm9taXNlPFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQcm9taXNlKGVsZU9yV2luZG93KSB7XG4gIGxldCB1bmxpc3RlbkxvYWQ7XG4gIGxldCB1bmxpc3RlbkVycm9yO1xuICBpZiAoaXNMb2FkZWQoZWxlT3JXaW5kb3cpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlbGVPcldpbmRvdyk7XG4gIH1cbiAgY29uc3QgbG9hZGluZ1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gTGlzdGVuIG9uY2Ugc2luY2UgSUUgNS82LzcgZmlyZSB0aGUgb25sb2FkIGV2ZW50IGNvbnRpbnVvdXNseSBmb3JcbiAgICAvLyBhbmltYXRlZCBHSUZzLlxuICAgIGNvbnN0IHt0YWdOYW1lfSA9IGVsZU9yV2luZG93O1xuICAgIGlmICh0YWdOYW1lID09PSAnQVVESU8nIHx8IHRhZ05hbWUgPT09ICdWSURFTycpIHtcbiAgICAgIHVubGlzdGVuTG9hZCA9IGxpc3Rlbk9uY2UoZWxlT3JXaW5kb3csICdsb2Fkc3RhcnQnLCByZXNvbHZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdW5saXN0ZW5Mb2FkID0gbGlzdGVuT25jZShlbGVPcldpbmRvdywgJ2xvYWQnLCByZXNvbHZlKTtcbiAgICB9XG4gICAgLy8gRm9yIGVsZW1lbnRzLCB1bmxpc3RlbiBvbiBlcnJvciAoZG9uJ3QgZm9yIFdpbmRvd3MpLlxuICAgIGlmICh0YWdOYW1lKSB7XG4gICAgICB1bmxpc3RlbkVycm9yID0gbGlzdGVuT25jZShlbGVPcldpbmRvdywgJ2Vycm9yJywgcmVqZWN0KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBsb2FkaW5nUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICBpZiAodW5saXN0ZW5FcnJvcikge1xuICAgICAgdW5saXN0ZW5FcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlT3JXaW5kb3c7XG4gIH0sICgpID0+IHtcbiAgICBpZiAodW5saXN0ZW5Mb2FkKSB7XG4gICAgICB1bmxpc3RlbkxvYWQoKTtcbiAgICB9XG4gICAgZmFpbGVkVG9Mb2FkKGVsZU9yV2luZG93KTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW1pdCBlcnJvciBvbiBsb2FkIGZhaWx1cmUuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFXaW5kb3d9IGVsZU9yV2luZG93IFN1cHBvcnRzIGJvdGggRWxlbWVudHMgYW5kIGFzIGEgc3BlY2lhbFxuICogICAgIGNhc2UgV2luZG93cy5cbiAqL1xuZnVuY3Rpb24gZmFpbGVkVG9Mb2FkKGVsZU9yV2luZG93KSB7XG4gIC8vIFJlcG9ydCBmYWlsZWQgbG9hZHMgYXMgdXNlciBlcnJvcnMgc28gdGhhdCB0aGV5IGF1dG9tYXRpY2FsbHkgZ29cbiAgLy8gaW50byB0aGUgXCJkb2N1bWVudCBlcnJvclwiIGJ1Y2tldC5cbiAgbGV0IHRhcmdldCA9IGVsZU9yV2luZG93O1xuICBpZiAodGFyZ2V0ICYmIHRhcmdldC5zcmMpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQuc3JjO1xuICB9XG4gIHRocm93IHVzZXIoKS5jcmVhdGVFcnJvcihMT0FEX0ZBSUxVUkVfUFJFRklYLCB0YXJnZXQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGVycm9yIG1lc3NhZ2UgaXMgd2FzIGNyZWF0ZWQgZm9yIGEgbG9hZCBlcnJvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIEFuIGVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRFcnJvck1lc3NhZ2UobWVzc2FnZSkge1xuICByZXR1cm4gbWVzc2FnZS5pbmRleE9mKExPQURfRkFJTFVSRV9QUkVGSVgpICE9IC0xO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBFeHBlcmltZW50cyBzeXN0ZW0gYWxsb3dzIGEgZGV2ZWxvcGVyIHRvIG9wdC1pbiB0byB0ZXN0XG4gKiBmZWF0dXJlcyB0aGF0IGFyZSBub3QgeWV0IGZ1bGx5IHRlc3RlZC5cbiAqXG4gKiBFeHBlcmltZW50cyBwYWdlOiBodHRwczovL2Nkbi5hbXBwcm9qZWN0Lm9yZy9leHBlcmltZW50cy5odG1sICpcbiAqL1xuXG5pbXBvcnQge2dldENvb2tpZSwgc2V0Q29va2llfSBmcm9tICcuL2Nvb2tpZXMnO1xuaW1wb3J0IHtoYXNPd259IGZyb20gJy4vdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7cGFyc2VRdWVyeVN0cmluZ30gZnJvbSAnLi91cmwnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBDT09LSUVfTkFNRSA9ICdBTVBfRVhQJztcblxuLyoqIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgQ09PS0lFX01BWF9BR0VfREFZUyA9IDE4MDsgLy8gNiBtb250aFxuXG4vKiogQGNvbnN0IHt0aW1lfSAqL1xuY29uc3QgQ09PS0lFX0VYUElSQVRJT05fSU5URVJWQUwgPSBDT09LSUVfTUFYX0FHRV9EQVlTICogMjQgKiA2MCAqIDYwICogMTAwMDtcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVE9HR0xFU19XSU5ET1dfUFJPUEVSVFkgPSAnX19BTVBfX0VYUEVSSU1FTlRfVE9HR0xFUyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgaXNUcmFmZmljRWxpZ2libGU6IGZ1bmN0aW9uKCFXaW5kb3cpOmJvb2xlYW4sXG4gKiAgIGJyYW5jaGVzOiAhQXJyYXk8c3RyaW5nPlxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBFeHBlcmltZW50SW5mbztcblxuLyoqXG4gKiBXaGV0aGVyIHdlIGFyZSBpbiBjYW5hcnkuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FuYXJ5KHdpbikge1xuICByZXR1cm4gISEod2luLkFNUF9DT05GSUcgJiYgd2luLkFNUF9DT05GSUcuY2FuYXJ5KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGJpbmFyeSB0eXBlLCBlLmcuLCBjYW5hcnksIGNvbnRyb2wsIG9yIHByb2R1Y3Rpb24uXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmluYXJ5VHlwZSh3aW4pIHtcbiAgcmV0dXJuIHdpbi5BTVBfQ09ORklHICYmIHdpbi5BTVBfQ09ORklHLnR5cGUgP1xuICAgIHdpbi5BTVBfQ09ORklHLnR5cGUgOiAndW5rbm93bic7XG59XG5cbi8qKlxuICogV2hldGhlciB0aGUgc3BlY2lmaWVkIGV4cGVyaW1lbnQgaXMgb24gb3Igb2ZmLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHBlcmltZW50SWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cGVyaW1lbnRPbih3aW4sIGV4cGVyaW1lbnRJZCkge1xuICBjb25zdCB0b2dnbGVzID0gZXhwZXJpbWVudFRvZ2dsZXMod2luKTtcbiAgcmV0dXJuICEhdG9nZ2xlc1tleHBlcmltZW50SWRdO1xufVxuXG4vKipcbiAqIFRvZ2dsZXMgdGhlIGV4cGVyaW1lbnQgb24gb3Igb2ZmLiBSZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUgb2YgdGhlIGV4cGVyaW1lbnRcbiAqIGFmdGVyIHRvZ2dsaW5nIGlzIGRvbmUuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGV4cGVyaW1lbnRJZFxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X29uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfdHJhbnNpZW50RXhwZXJpbWVudCAgV2hldGhlciB0byB0b2dnbGUgdGhlXG4gKiAgICAgZXhwZXJpbWVudCBzdGF0ZSBcInRyYW5zaWVudGx5XCIgKGkuZS4sIGZvciB0aGlzIHBhZ2UgbG9hZCBvbmx5KSBvclxuICogICAgIGR1cmFibHkgKGJ5IHNhdmluZyB0aGUgZXhwZXJpbWVudCBJRHMgdG8gdGhlIGNvb2tpZSBhZnRlciB0b2dnbGluZykuXG4gKiAgICAgRGVmYXVsdDogZmFsc2UgKHNhdmUgZHVyYWJseSkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBOZXcgc3RhdGUgZm9yIGV4cGVyaW1lbnRJZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUV4cGVyaW1lbnQod2luLCBleHBlcmltZW50SWQsIG9wdF9vbixcbiAgb3B0X3RyYW5zaWVudEV4cGVyaW1lbnQpIHtcbiAgY29uc3QgY3VycmVudGx5T24gPSBpc0V4cGVyaW1lbnRPbih3aW4sIC8qT0sqL2V4cGVyaW1lbnRJZCk7XG4gIGNvbnN0IG9uID0gISEob3B0X29uICE9PSB1bmRlZmluZWQgPyBvcHRfb24gOiAhY3VycmVudGx5T24pO1xuICBpZiAob24gIT0gY3VycmVudGx5T24pIHtcbiAgICBjb25zdCB0b2dnbGVzID0gZXhwZXJpbWVudFRvZ2dsZXMod2luKTtcbiAgICB0b2dnbGVzW2V4cGVyaW1lbnRJZF0gPSBvbjtcblxuICAgIGlmICghb3B0X3RyYW5zaWVudEV4cGVyaW1lbnQpIHtcbiAgICAgIGNvbnN0IGNvb2tpZVRvZ2dsZXMgPSBnZXRFeHBlcmltZW50VG9nZ2xlc0Zyb21Db29raWUod2luKTtcbiAgICAgIGNvb2tpZVRvZ2dsZXNbZXhwZXJpbWVudElkXSA9IG9uO1xuICAgICAgc2F2ZUV4cGVyaW1lbnRUb2dnbGVzVG9Db29raWUod2luLCBjb29raWVUb2dnbGVzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9uO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB3aGV0aGVyIHRoZSBleHBlcmltZW50IGlzIG9uIG9yIG9mZiBiYXNlZCBvZmYgb2YgdGhlXG4gKiBjb29raWVGbGFnIG9yIHRoZSBnbG9iYWwgY29uZmlnIGZyZXF1ZW5jeSBnaXZlbi5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBlcmltZW50VG9nZ2xlcyh3aW4pIHtcbiAgaWYgKHdpbltUT0dHTEVTX1dJTkRPV19QUk9QRVJUWV0pIHtcbiAgICByZXR1cm4gd2luW1RPR0dMRVNfV0lORE9XX1BST1BFUlRZXTtcbiAgfVxuICB3aW5bVE9HR0xFU19XSU5ET1dfUFJPUEVSVFldID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9nZ2xlcyA9IHdpbltUT0dHTEVTX1dJTkRPV19QUk9QRVJUWV07XG5cbiAgLy8gUmVhZCB0aGUgZGVmYXVsdCBjb25maWcgb2YgdGhpcyBidWlsZC5cbiAgaWYgKHdpbi5BTVBfQ09ORklHKSB7XG4gICAgZm9yIChjb25zdCBleHBlcmltZW50SWQgaW4gd2luLkFNUF9DT05GSUcpIHtcbiAgICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHdpbi5BTVBfQ09ORklHW2V4cGVyaW1lbnRJZF07XG4gICAgICBpZiAodHlwZW9mIGZyZXF1ZW5jeSA9PT0gJ251bWJlcicgJiYgZnJlcXVlbmN5ID49IDAgJiYgZnJlcXVlbmN5IDw9IDEpIHtcbiAgICAgICAgdG9nZ2xlc1tleHBlcmltZW50SWRdID0gTWF0aC5yYW5kb20oKSA8IGZyZXF1ZW5jeTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gUmVhZCBkb2N1bWVudCBsZXZlbCBvdmVycmlkZSBmcm9tIG1ldGEgdGFnLlxuICBpZiAod2luLkFNUF9DT05GSUdcbiAgICAgICYmIEFycmF5LmlzQXJyYXkod2luLkFNUF9DT05GSUdbJ2FsbG93LWRvYy1vcHQtaW4nXSlcbiAgICAgICYmIHdpbi5BTVBfQ09ORklHWydhbGxvdy1kb2Mtb3B0LWluJ10ubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGFsbG93ZWQgPSB3aW4uQU1QX0NPTkZJR1snYWxsb3ctZG9jLW9wdC1pbiddO1xuICAgIGNvbnN0IG1ldGEgPVxuICAgICAgICB3aW4uZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJhbXAtZXhwZXJpbWVudHMtb3B0LWluXCJdJyk7XG4gICAgaWYgKG1ldGEpIHtcbiAgICAgIGNvbnN0IG9wdGVkSW5FeHBlcmltZW50cyA9IG1ldGEuZ2V0QXR0cmlidXRlKCdjb250ZW50Jykuc3BsaXQoJywnKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0ZWRJbkV4cGVyaW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxvd2VkLmluZGV4T2Yob3B0ZWRJbkV4cGVyaW1lbnRzW2ldKSAhPSAtMSkge1xuICAgICAgICAgIHRvZ2dsZXNbb3B0ZWRJbkV4cGVyaW1lbnRzW2ldXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBPYmplY3QuYXNzaWduKHRvZ2dsZXMsIGdldEV4cGVyaW1lbnRUb2dnbGVzRnJvbUNvb2tpZSh3aW4pKTtcblxuICBpZiAod2luLkFNUF9DT05GSUdcbiAgICAgICYmIEFycmF5LmlzQXJyYXkod2luLkFNUF9DT05GSUdbJ2FsbG93LXVybC1vcHQtaW4nXSlcbiAgICAgICYmIHdpbi5BTVBfQ09ORklHWydhbGxvdy11cmwtb3B0LWluJ10ubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGFsbG93ZWQgPSB3aW4uQU1QX0NPTkZJR1snYWxsb3ctdXJsLW9wdC1pbiddO1xuICAgIGNvbnN0IGhhc2ggPSB3aW4ubG9jYXRpb24ub3JpZ2luYWxIYXNoIHx8IHdpbi5sb2NhdGlvbi5oYXNoO1xuICAgIGNvbnN0IHBhcmFtcyA9IHBhcnNlUXVlcnlTdHJpbmcoaGFzaCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxvd2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJhbSA9IHBhcmFtc1tgZS0ke2FsbG93ZWRbaV19YF07XG4gICAgICBpZiAocGFyYW0gPT0gJzEnKSB7XG4gICAgICAgIHRvZ2dsZXNbYWxsb3dlZFtpXV0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtID09ICcwJykge1xuICAgICAgICB0b2dnbGVzW2FsbG93ZWRbaV1dID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0b2dnbGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNhY2hlZCBleHBlcmltZW50cyB0b2dnbGVzLCBvciBudWxsIGlmIHRoZXkgaGF2ZSBub3QgYmVlblxuICogY29tcHV0ZWQgeWV0LlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwZXJpbWVudFRvZ2dsZXNPck51bGwod2luKSB7XG4gIHJldHVybiB3aW5bVE9HR0xFU19XSU5ET1dfUFJPUEVSVFldIHx8IG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNldCBvZiBleHBlcmltZW50IElEcyBjdXJyZW50bHkgb24uXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICovXG5mdW5jdGlvbiBnZXRFeHBlcmltZW50VG9nZ2xlc0Zyb21Db29raWUod2luKSB7XG4gIGNvbnN0IGV4cGVyaW1lbnRDb29raWUgPSBnZXRDb29raWUod2luLCBDT09LSUVfTkFNRSk7XG4gIGNvbnN0IHRva2VucyA9IGV4cGVyaW1lbnRDb29raWUgPyBleHBlcmltZW50Q29va2llLnNwbGl0KC9cXHMqLFxccyovZykgOiBbXTtcblxuICBjb25zdCB0b2dnbGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodG9rZW5zW2ldLmxlbmd0aCA9PSAwKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHRva2Vuc1tpXVswXSA9PSAnLScpIHtcbiAgICAgIHRvZ2dsZXNbdG9rZW5zW2ldLnN1YnN0cigxKV0gPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9nZ2xlc1t0b2tlbnNbaV1dID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9nZ2xlcztcbn1cblxuLyoqXG4gKiBTYXZlcyBhIHNldCBvZiBleHBlcmltZW50IElEcyBjdXJyZW50bHkgb24uXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHRvZ2dsZXNcbiAqL1xuZnVuY3Rpb24gc2F2ZUV4cGVyaW1lbnRUb2dnbGVzVG9Db29raWUod2luLCB0b2dnbGVzKSB7XG4gIGNvbnN0IGV4cGVyaW1lbnRJZHMgPSBbXTtcbiAgZm9yIChjb25zdCBleHBlcmltZW50IGluIHRvZ2dsZXMpIHtcbiAgICBleHBlcmltZW50SWRzLnB1c2goKHRvZ2dsZXNbZXhwZXJpbWVudF0gPT09IGZhbHNlID8gJy0nIDogJycpICsgZXhwZXJpbWVudCk7XG4gIH1cblxuICBzZXRDb29raWUod2luLCBDT09LSUVfTkFNRSwgZXhwZXJpbWVudElkcy5qb2luKCcsJyksXG4gICAgICBEYXRlLm5vdygpICsgQ09PS0lFX0VYUElSQVRJT05fSU5URVJWQUwsIHtcbiAgICAgICAgLy8gU2V0IGV4cGxpY2l0IGRvbWFpbiwgc28gdGhlIGNvb2tpZSBnZXRzIHNlbmQgdG8gc3ViIGRvbWFpbnMuXG4gICAgICAgIGRvbWFpbjogd2luLmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICBhbGxvd09uUHJveHlPcmlnaW46IHRydWUsXG4gICAgICB9KTtcbn1cblxuLyoqXG4gKiBTZWUgZ2V0RXhwZXJpbWVudFRvZ2dsZXNGcm9tQ29va2llKCkuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBlcmltZW50VG9nbGVzRnJvbUNvb2tpZUZvclRlc3Rpbmcod2luKSB7XG4gIHJldHVybiBnZXRFeHBlcmltZW50VG9nZ2xlc0Zyb21Db29raWUod2luKTtcbn1cblxuLyoqXG4gKiBSZXNldHMgdGhlIGV4cGVyaW1lbnRzVG9nZ2xlIGNhY2hlIGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRFeHBlcmltZW50VG9nZ2xlc0ZvclRlc3Rpbmcod2luKSB7XG4gIHNldENvb2tpZSh3aW4sIENPT0tJRV9OQU1FLCAnJywgMCwge1xuICAgIGRvbWFpbjogd2luLmxvY2F0aW9uLmhvc3RuYW1lLFxuICB9KTtcbiAgd2luW1RPR0dMRVNfV0lORE9XX1BST1BFUlRZXSA9IG51bGw7XG59XG5cbi8qKlxuICogSW4gc29tZSBicm93c2VyIGltcGxlbWVudGF0aW9ucyBvZiBNYXRoLnJhbmRvbSgpLCBzZXF1ZW50aWFsIGNhbGxzIG9mXG4gKiBNYXRoLnJhbmRvbSgpIGFyZSBjb3JyZWxhdGVkIGFuZCBjYW4gY2F1c2UgYSBiaWFzLiAgSW4gcGFydGljdWxhcixcbiAqIGlmIHRoZSBwcmV2aW91cyByYW5kb20oKSBjYWxsIHdhcyA8IDAuMDAxIChhcyBpdCB3aWxsIGJlIGlmIHdlIHNlbGVjdFxuICogaW50byBhbiBleHBlcmltZW50KSwgdGhlIG5leHQgdmFsdWUgY291bGQgYmUgbGVzcyB0aGFuIDAuNSBtb3JlIHRoYW5cbiAqIDUwLjclIG9mIHRoZSB0aW1lLiAgVGhpcyBwcm92aWRlcyBhbiBpbXBsZW1lbnRhdGlvbiB0aGF0IHJvb3RzIGRvd24gaW50b1xuICogdGhlIGNyeXB0byBBUEksIHdoZW4gYXZhaWxhYmxlLCB0byBwcm9kdWNlIGxlc3MgYmlhc2VkIHNhbXBsZXMuXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBQc2V1ZG8tcmFuZG9tIGZsb2F0aW5nLXBvaW50IHZhbHVlIG9uIHRoZSByYW5nZSBbMCwgMSkuXG4gKi9cbmZ1bmN0aW9uIHNsb3dCdXRBY2N1cmF0ZVBybmcoKSB7XG4gIC8vIFRPRE8odGRybCk6IEltcGxlbWVudC5cbiAgcmV0dXJuIE1hdGgucmFuZG9tKCk7XG59XG5cbi8qKlxuICogQ29udGFpbmVyIGZvciBhbHRlcm5hdGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IgaW1wbGVtZW50YXRpb25zLiAgVGhpc1xuICogYWxsb3dzIHVzIHRvIHNldCBhbiBcImFjY3VyYXRlXCIgUFJORyBmb3IgYnJhbmNoIHNlbGVjdGlvbiwgYnV0IHRvIG1vY2sgaXRcbiAqIG91dCBlYXNpbHkgaW4gdGVzdHMuXG4gKlxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKiBAY29uc3QgeyF7YWNjdXJhdGVQcm5nOiBmdW5jdGlvbigpOm51bWJlcn19XG4gKi9cbmV4cG9ydCBjb25zdCBSQU5ET01fTlVNQkVSX0dFTkVSQVRPUlMgPSB7XG4gIGFjY3VyYXRlUHJuZzogc2xvd0J1dEFjY3VyYXRlUHJuZyxcbn07XG5cbi8qKlxuICogU2VsZWN0cywgdW5pZm9ybWx5IGF0IHJhbmRvbSwgYSBzaW5nbGUgaXRlbSBmcm9tIHRoZSBhcnJheS5cbiAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IGFyciBPYmplY3QgdG8gc2VsZWN0IGZyb20uXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBTaW5nbGUgaXRlbSBmcm9tIGFyciBvciBudWxsIGlmIGFyciB3YXMgZW1wdHkuXG4gKi9cbmZ1bmN0aW9uIHNlbGVjdFJhbmRvbUl0ZW0oYXJyKSB7XG4gIGNvbnN0IHJuID0gUkFORE9NX05VTUJFUl9HRU5FUkFUT1JTLmFjY3VyYXRlUHJuZygpO1xuICByZXR1cm4gYXJyW01hdGguZmxvb3Iocm4gKiBhcnIubGVuZ3RoKV0gfHwgbnVsbDtcbn1cblxuLyoqXG4gKiBTZWxlY3RzIHdoaWNoIHBhZ2UtbGV2ZWwgZXhwZXJpbWVudCBicmFuY2hlcyBhcmUgZW5hYmxlZC4gSWYgYSBnaXZlblxuICogZXhwZXJpbWVudCBuYW1lIGlzIGFscmVhZHkgc2V0IChpbmNsdWRpbmcgdG8gdGhlIG51bGwgLyBubyBicmFuY2hlcyBzZWxlY3RlZFxuICogc3RhdGUpLCB0aGlzIHdvbid0IGFsdGVyIGl0cyBzdGF0ZS5cbiAqXG4gKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gZXhwZXJpbWVudCBpcyBzZXQgdXNpbmcgaXNFeHBlcmltZW50T24od2luLFxuICogZXhwZXJpbWVudE5hbWUpIGFuZCwgaWYgaXQgaXMgb24sIGxvb2sgZm9yIHdoaWNoIGJyYW5jaCBpcyBzZWxlY3RlZCBpblxuICogd2luLmV4cGVyaW1lbnRCcmFuY2hlc1tleHBlcmltZW50TmFtZV0uXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW4gV2luZG93IGNvbnRleHQgb24gd2hpY2ggdG8gc2F2ZSBleHBlcmltZW50XG4gKiAgICAgc2VsZWN0aW9uIHN0YXRlLlxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgIUV4cGVyaW1lbnRJbmZvPn0gZXhwZXJpbWVudHMgIFNldCBvZiBleHBlcmltZW50cyB0b1xuICogICAgIGNvbmZpZ3VyZSBmb3IgdGhpcyBwYWdlIGxvYWQuXG4gKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gTWFwIG9mIGV4cGVyaW1lbnQgbmFtZXMgdG8gc2VsZWN0ZWRcbiAqICAgICBicmFuY2hlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbWx5U2VsZWN0VW5zZXRFeHBlcmltZW50cyh3aW4sIGV4cGVyaW1lbnRzKSB7XG4gIHdpbi5leHBlcmltZW50QnJhbmNoZXMgPSB3aW4uZXhwZXJpbWVudEJyYW5jaGVzIHx8IHt9O1xuICBjb25zdCBzZWxlY3RlZEV4cGVyaW1lbnRzID0ge307XG4gIGZvciAoY29uc3QgZXhwZXJpbWVudE5hbWUgaW4gZXhwZXJpbWVudHMpIHtcbiAgICAvLyBTa2lwIGV4cGVyaW1lbnROYW1lIGlmIGl0IGlzIG5vdCBhIGtleSBvZiBleHBlcmltZW50cyBvYmplY3Qgb3IgaWYgaXRcbiAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIHBvcHVsYXRlZCBieSBzb21lIG90aGVyIHByb3BlcnR5LlxuICAgIGlmICghaGFzT3duKGV4cGVyaW1lbnRzLCBleHBlcmltZW50TmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoaGFzT3duKHdpbi5leHBlcmltZW50QnJhbmNoZXMsIGV4cGVyaW1lbnROYW1lKSkge1xuICAgICAgc2VsZWN0ZWRFeHBlcmltZW50c1tleHBlcmltZW50TmFtZV0gPVxuICAgICAgICAgIHdpbi5leHBlcmltZW50QnJhbmNoZXNbZXhwZXJpbWVudE5hbWVdO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFleHBlcmltZW50c1tleHBlcmltZW50TmFtZV0uaXNUcmFmZmljRWxpZ2libGUgfHxcbiAgICAgICAgIWV4cGVyaW1lbnRzW2V4cGVyaW1lbnROYW1lXS5pc1RyYWZmaWNFbGlnaWJsZSh3aW4pKSB7XG4gICAgICB3aW4uZXhwZXJpbWVudEJyYW5jaGVzW2V4cGVyaW1lbnROYW1lXSA9IG51bGw7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSdyZSBpbiB0aGUgZXhwZXJpbWVudCwgYnV0IHdlIGhhdmVuJ3QgYWxyZWFkeSBmb3JjZWQgYSBzcGVjaWZpY1xuICAgIC8vIGV4cGVyaW1lbnQgYnJhbmNoIChlLmcuLCB2aWEgYSB0ZXN0IHNldHVwKSwgdGhlbiByYW5kb21pemUgdGhlIGJyYW5jaFxuICAgIC8vIGNob2ljZS5cbiAgICBpZiAoIXdpbi5leHBlcmltZW50QnJhbmNoZXNbZXhwZXJpbWVudE5hbWVdICYmXG4gICAgICBpc0V4cGVyaW1lbnRPbih3aW4sIC8qT0sqL2V4cGVyaW1lbnROYW1lKSkge1xuICAgICAgY29uc3Qge2JyYW5jaGVzfSA9IGV4cGVyaW1lbnRzW2V4cGVyaW1lbnROYW1lXTtcbiAgICAgIHdpbi5leHBlcmltZW50QnJhbmNoZXNbZXhwZXJpbWVudE5hbWVdID0gc2VsZWN0UmFuZG9tSXRlbShicmFuY2hlcyk7XG4gICAgICBzZWxlY3RlZEV4cGVyaW1lbnRzW2V4cGVyaW1lbnROYW1lXSA9XG4gICAgICAgICAgd2luLmV4cGVyaW1lbnRCcmFuY2hlc1tleHBlcmltZW50TmFtZV07XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxlY3RlZEV4cGVyaW1lbnRzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGV4cGVyaW1lbnQgYnJhbmNoIGVuYWJsZWQgZm9yIHRoZSBnaXZlbiBleHBlcmltZW50IElELlxuICogRm9yIGV4YW1wbGUsICdjb250cm9sJyBvciAnZXhwZXJpbWVudCcuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW4gV2luZG93IGNvbnRleHQgdG8gY2hlY2sgZm9yIGV4cGVyaW1lbnQgc3RhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwZXJpbWVudE5hbWUgTmFtZSBvZiB0aGUgZXhwZXJpbWVudCB0byBjaGVjay5cbiAqIEByZXR1cm4gez9zdHJpbmd9IEFjdGl2ZSBleHBlcmltZW50IGJyYW5jaCBJRCBmb3IgZXhwZXJpbWVudE5hbWUgKHBvc3NpYmx5XG4gKiAgICAgbnVsbCBpZiBleHBlcmltZW50TmFtZSBoYXMgYmVlbiB0ZXN0ZWQgYnV0IG5vIGJyYW5jaCB3YXMgZW5hYmxlZCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBlcmltZW50QnJhbmNoKHdpbiwgZXhwZXJpbWVudE5hbWUpIHtcbiAgcmV0dXJuIHdpbi5leHBlcmltZW50QnJhbmNoZXMgPyB3aW4uZXhwZXJpbWVudEJyYW5jaGVzW2V4cGVyaW1lbnROYW1lXSA6IG51bGw7XG59XG5cbi8qKlxuICogRm9yY2UgZW5hYmxlIChvciBkaXNhYmxlKSBhIHNwZWNpZmljIGJyYW5jaCBvZiBhIGdpdmVuIGV4cGVyaW1lbnQgbmFtZS5cbiAqIERpc2FibGVzIHRoZSBleHBlcmltZW50IG5hbWUgYWx0b2dldGhlciBpZiBicmFuY2hJZCBpcyBmYWxzZWlzaC5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpbiBXaW5kb3cgY29udGV4dCB0byBjaGVjayBmb3IgZXhwZXJpbWVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHBlcmltZW50TmFtZSBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRvIGNoZWNrLlxuICogQHBhcmFtIHs/c3RyaW5nfSBicmFuY2hJZCBJRCBvZiBicmFuY2ggdG8gZm9yY2Ugb3IgbnVsbCB0byBkaXNhYmxlXG4gKiAgICAgYWx0b2dldGhlci5cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yY2VFeHBlcmltZW50QnJhbmNoKHdpbiwgZXhwZXJpbWVudE5hbWUsIGJyYW5jaElkKSB7XG4gIHdpbi5leHBlcmltZW50QnJhbmNoZXMgPSB3aW4uZXhwZXJpbWVudEJyYW5jaGVzIHx8IHt9O1xuICB0b2dnbGVFeHBlcmltZW50KHdpbiwgZXhwZXJpbWVudE5hbWUsICEhYnJhbmNoSWQsIHRydWUpO1xuICB3aW4uZXhwZXJpbWVudEJyYW5jaGVzW2V4cGVyaW1lbnROYW1lXSA9IGJyYW5jaElkO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7R2VzdHVyZVJlY29nbml6ZXJ9IGZyb20gJy4vZ2VzdHVyZSc7XG5pbXBvcnQge2NhbGNWZWxvY2l0eX0gZnJvbSAnLi9tb3Rpb24nO1xuXG5cbi8qKlxuICogQSBcInRhcFwiIGdlc3R1cmUuXG4gKiBAdHlwZWRlZiB7e1xuICogICBjbGllbnRYOiBudW1iZXIsXG4gKiAgIGNsaWVudFk6IG51bWJlclxuICogfX1cbiAqL1xubGV0IFRhcERlZjtcblxuXG4vKipcbiAqIFJlY29nbml6ZXMgXCJ0YXBcIiBnZXN0dXJlcy5cbiAqIEBleHRlbmRzIHtHZXN0dXJlUmVjb2duaXplcjxUYXBEZWY+fVxuICovXG5leHBvcnQgY2xhc3MgVGFwUmVjb2duaXplciBleHRlbmRzIEdlc3R1cmVSZWNvZ25pemVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZ2VzdHVyZS5HZXN0dXJlc30gbWFuYWdlclxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKCd0YXAnLCBtYW5hZ2VyKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RXZlbnRUYXJnZXR9ICovXG4gICAgdGhpcy50YXJnZXRfID0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBjb25zdCB7dG91Y2hlc30gPSBlO1xuICAgIHRoaXMudGFyZ2V0XyA9IGUudGFyZ2V0O1xuICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHRoaXMuc3RhcnRYXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMuc3RhcnRZXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoTW92ZShlKSB7XG4gICAgY29uc3QgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXMgfHwgZS50b3VjaGVzO1xuICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHRoaXMubGFzdFhfID0gdG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5sYXN0WV8gPSB0b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICBjb25zdCBkeCA9IE1hdGguYWJzKHRoaXMubGFzdFhfIC0gdGhpcy5zdGFydFhfKSA+PSA4O1xuICAgICAgY29uc3QgZHkgPSBNYXRoLmFicyh0aGlzLmxhc3RZXyAtIHRoaXMuc3RhcnRZXykgPj0gODtcbiAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoRW5kKHVudXNlZEUpIHtcbiAgICB0aGlzLnNpZ25hbFJlYWR5KDApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRTdGFydCgpIHtcbiAgICB0aGlzLnNpZ25hbEVtaXQoe1xuICAgICAgY2xpZW50WDogdGhpcy5sYXN0WF8sXG4gICAgICBjbGllbnRZOiB0aGlzLmxhc3RZXyxcbiAgICAgIHRhcmdldDogdGhpcy50YXJnZXRfLFxuICAgIH0sIG51bGwpO1xuICAgIHRoaXMuc2lnbmFsRW5kKCk7XG4gIH1cbn1cblxuXG5cbi8qKlxuICogQSBcImRvdWJsZXRhcFwiIGdlc3R1cmUuXG4gKiBAdHlwZWRlZiB7e1xuICogICBjbGllbnRYOiBudW1iZXIsXG4gKiAgIGNsaWVudFk6IG51bWJlclxuICogfX1cbiAqL1xubGV0IERvdWJsZXRhcERlZjtcblxuXG4vKipcbiAqIFJlY29nbml6ZXMgYSBcImRvdWJsZXRhcFwiIGdlc3R1cmUuIFRoaXMgZ2VzdHVyZSB3aWxsIGJsb2NrIGEgc2luZ2xlIFwidGFwXCJcbiAqIGZvciBhYm91dCAzMDBtcyB3aGlsZSBpdCdzIGV4cGVjdGluZyB0aGUgc2Vjb25kIFwidGFwXCIuXG4gKiBAZXh0ZW5kcyB7R2VzdHVyZVJlY29nbml6ZXI8RG91YmxldGFwRGVmPn1cbiAqL1xuZXhwb3J0IGNsYXNzIERvdWJsZXRhcFJlY29nbml6ZXIgZXh0ZW5kcyBHZXN0dXJlUmVjb2duaXplciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2dlc3R1cmUuR2VzdHVyZXN9IG1hbmFnZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICBzdXBlcignZG91YmxldGFwJywgbWFuYWdlcik7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFlfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFhfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFlfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMudGFwQ291bnRfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0V2ZW50fSAqL1xuICAgIHRoaXMuZXZlbnRfID0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBpZiAodGhpcy50YXBDb3VudF8gPiAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5zdGFydFhfID0gdG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5zdGFydFlfID0gdG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgdGhpcy5sYXN0WF8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLmxhc3RZXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoTW92ZShlKSB7XG4gICAgY29uc3Qge3RvdWNoZXN9ID0gZTtcbiAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICB0aGlzLmxhc3RYXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMubGFzdFlfID0gdG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgY29uc3QgZHggPSBNYXRoLmFicyh0aGlzLmxhc3RYXyAtIHRoaXMuc3RhcnRYXykgPj0gODtcbiAgICAgIGNvbnN0IGR5ID0gTWF0aC5hYnModGhpcy5sYXN0WV8gLSB0aGlzLnN0YXJ0WV8pID49IDg7XG4gICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgdGhpcy5hY2NlcHRDYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hFbmQoZSkge1xuICAgIHRoaXMudGFwQ291bnRfKys7XG4gICAgaWYgKHRoaXMudGFwQ291bnRfIDwgMikge1xuICAgICAgdGhpcy5zaWduYWxQZW5kaW5nKDMwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXZlbnRfID0gZTtcbiAgICAgIHRoaXMuc2lnbmFsUmVhZHkoMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRTdGFydCgpIHtcbiAgICB0aGlzLnRhcENvdW50XyA9IDA7XG4gICAgdGhpcy5zaWduYWxFbWl0KHtjbGllbnRYOiB0aGlzLmxhc3RYXywgY2xpZW50WTogdGhpcy5sYXN0WV99LCB0aGlzLmV2ZW50Xyk7XG4gICAgdGhpcy5zaWduYWxFbmQoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWNjZXB0Q2FuY2VsKCkge1xuICAgIHRoaXMudGFwQ291bnRfID0gMDtcbiAgfVxufVxuXG5cblxuLyoqXG4gKiBBIFwic3dpcGUteHlcIiwgXCJzd2lwZS14XCIgb3IgXCJzd2lwZS15XCIgZ2VzdHVyZS4gQSBudW1iZXIgb2YgdGhlc2UgZ2VzdHVyZXNcbiAqIG1heSBiZSBlbWl0dGVkIGZvciBhIHNpbmdsZSB0b3VjaCBzZXJpZXMuXG4gKiBAdHlwZWRlZiB7e1xuICogICBmaXJzdDogYm9vbGVhbixcbiAqICAgbGFzdDogYm9vbGVhbixcbiAqICAgZGVsdGFYOiBudW1iZXIsXG4gKiAgIGRlbHRhWTogbnVtYmVyLFxuICogICB2ZWxvY2l0eVg6IG51bWJlcixcbiAqICAgdmVsb2NpdHlZOiBudW1iZXJcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgU3dpcGVEZWY7XG5cblxuLyoqXG4gKiBSZWNvZ25pemVzIHN3aXBlIGdlc3R1cmVzLiBUaGlzIGdlc3R1cmUgd2lsbCB5aWVsZCBhYm91dCAxMG1zIHRvIG90aGVyXG4gKiBnZXN0dXJlcy5cbiAqIEBleHRlbmRzIHtHZXN0dXJlUmVjb2duaXplcjxTd2lwZURlZj59XG4gKi9cbmNsYXNzIFN3aXBlUmVjb2duaXplciBleHRlbmRzIEdlc3R1cmVSZWNvZ25pemVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7IS4vZ2VzdHVyZS5HZXN0dXJlc30gbWFuYWdlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhvcml6XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmVydFxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgbWFuYWdlciwgaG9yaXosIHZlcnQpIHtcbiAgICBzdXBlcih0eXBlLCBtYW5hZ2VyKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmhvcml6XyA9IGhvcml6O1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMudmVydF8gPSB2ZXJ0O1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuZXZlbnRpbmdfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFlfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFhfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFlfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMucHJldlhfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMucHJldllfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7dGltZX0gKi9cbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMubGFzdFRpbWVfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7dGltZX0gKi9cbiAgICB0aGlzLnByZXZUaW1lXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eVlfID0gMDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBjb25zdCB7dG91Y2hlc30gPSBlO1xuICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLnN0YXJ0WF8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnN0YXJ0WV8gPSB0b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaE1vdmUoZSkge1xuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgY29uc3Qge2NsaWVudFg6IHgsIGNsaWVudFk6IHl9ID0gdG91Y2hlc1swXSA7XG4gICAgICB0aGlzLmxhc3RYXyA9IHg7XG4gICAgICB0aGlzLmxhc3RZXyA9IHk7XG4gICAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgICAgdGhpcy5lbWl0XyhmYWxzZSwgZmFsc2UsIGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZHggPSBNYXRoLmFicyh4IC0gdGhpcy5zdGFydFhfKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLmFicyh5IC0gdGhpcy5zdGFydFlfKTtcbiAgICAgICAgLy8gU3dpcGUgaXMgcGVuYWxpemVkIHNsaWdodGx5IHNpbmNlIGl0J3Mgb25lIG9mIHRoZSBsZWFzdCBkZW1hbmRpbmdcbiAgICAgICAgLy8gZ2VzdHVyZSwgdGh1cyAtMTAgaW4gc2lnbmFsUmVhZHkuXG4gICAgICAgIGlmICh0aGlzLmhvcml6XyAmJiB0aGlzLnZlcnRfKSB7XG4gICAgICAgICAgaWYgKGR4ID49IDggfHwgZHkgPj0gOCkge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxSZWFkeSgtMTApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhvcml6Xykge1xuICAgICAgICAgIGlmIChkeCA+PSA4ICYmIGR4ID4gZHkpIHtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsUmVhZHkoLTEwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGR5ID49IDgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy52ZXJ0Xykge1xuICAgICAgICAgIGlmIChkeSA+PSA4ICYmIGR5ID4gZHgpIHtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsUmVhZHkoLTEwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGR4ID49IDgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaEVuZChlKSB7XG4gICAgdGhpcy5lbmRfKGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRTdGFydCgpIHtcbiAgICB0aGlzLmV2ZW50aW5nXyA9IHRydWU7XG4gICAgLy8gUmVzZXQgc3RhcnQgY29vcmRpbmF0ZXMgdG8gd2hlcmUgdGhlIGdlc3R1cmUgYmVnYW4gdG8gYXZvaWQgdmlzaWJsZVxuICAgIC8vIGp1bXAsIGJ1dCBwcmVzZXJ2ZSB0aGVtIGFzIFwicHJldlwiIGNvb3JkaW5hdGVzIHRvIGNhbGN1bGF0ZSB0aGUgcmlnaHRcbiAgICAvLyB2ZWxvY2l0eS5cbiAgICB0aGlzLnByZXZYXyA9IHRoaXMuc3RhcnRYXztcbiAgICB0aGlzLnByZXZZXyA9IHRoaXMuc3RhcnRZXztcbiAgICB0aGlzLnByZXZUaW1lXyA9IHRoaXMuc3RhcnRUaW1lXztcbiAgICB0aGlzLnN0YXJ0WF8gPSB0aGlzLmxhc3RYXztcbiAgICB0aGlzLnN0YXJ0WV8gPSB0aGlzLmxhc3RZXztcbiAgICB0aGlzLmVtaXRfKHRydWUsIGZhbHNlLCBudWxsKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWNjZXB0Q2FuY2VsKCkge1xuICAgIHRoaXMuZXZlbnRpbmdfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBmaXJzdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxhc3RcbiAgICogQHBhcmFtIHs/RXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbWl0XyhmaXJzdCwgbGFzdCwgZXZlbnQpIHtcbiAgICB0aGlzLmxhc3RUaW1lXyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGhpcy5sYXN0VGltZV8gLSB0aGlzLnByZXZUaW1lXztcbiAgICAvLyBJdCdzIG9mdGVuIHRoYXQgYHRvdWNoZW5kYCBhcnJpdmVzIG9uIHRoZSBuZXh0IGZyYW1lLiBUaGVzZSBzaG91bGRcbiAgICAvLyBiZSBpZ25vcmVkIHRvIGF2b2lkIGEgc2lnbmlmaWNhbnQgdmVsb2NpdHkgZG93bmdyYWRlLlxuICAgIGlmICgoIWxhc3QgJiYgZGVsdGFUaW1lID4gNCkgfHwgKGxhc3QgJiYgZGVsdGFUaW1lID4gMTYpKSB7XG4gICAgICB0aGlzLnZlbG9jaXR5WF8gPSBjYWxjVmVsb2NpdHkodGhpcy5sYXN0WF8gLSB0aGlzLnByZXZYXywgZGVsdGFUaW1lLFxuICAgICAgICAgIHRoaXMudmVsb2NpdHlYXyk7XG4gICAgICB0aGlzLnZlbG9jaXR5WV8gPSBjYWxjVmVsb2NpdHkodGhpcy5sYXN0WV8gLSB0aGlzLnByZXZZXywgZGVsdGFUaW1lLFxuICAgICAgICAgIHRoaXMudmVsb2NpdHlZXyk7XG4gICAgICB0aGlzLnZlbG9jaXR5WF8gPSBNYXRoLmFicyh0aGlzLnZlbG9jaXR5WF8pID4gMWUtNCA/IHRoaXMudmVsb2NpdHlYXyA6IDA7XG4gICAgICB0aGlzLnZlbG9jaXR5WV8gPSBNYXRoLmFicyh0aGlzLnZlbG9jaXR5WV8pID4gMWUtNCA/IHRoaXMudmVsb2NpdHlZXyA6IDA7XG4gICAgICB0aGlzLnByZXZYXyA9IHRoaXMubGFzdFhfO1xuICAgICAgdGhpcy5wcmV2WV8gPSB0aGlzLmxhc3RZXztcbiAgICAgIHRoaXMucHJldlRpbWVfID0gdGhpcy5sYXN0VGltZV87XG4gICAgfVxuXG4gICAgdGhpcy5zaWduYWxFbWl0KHtcbiAgICAgIGZpcnN0LFxuICAgICAgbGFzdCxcbiAgICAgIHRpbWU6IHRoaXMubGFzdFRpbWVfLFxuICAgICAgZGVsdGFYOiB0aGlzLmhvcml6XyA/IHRoaXMubGFzdFhfIC0gdGhpcy5zdGFydFhfIDogMCxcbiAgICAgIGRlbHRhWTogdGhpcy52ZXJ0XyA/IHRoaXMubGFzdFlfIC0gdGhpcy5zdGFydFlfIDogMCxcbiAgICAgIHN0YXJ0WDogdGhpcy5zdGFydFhfLFxuICAgICAgc3RhcnRZOiB0aGlzLnN0YXJ0WV8sXG4gICAgICBsYXN0WDogdGhpcy5sYXN0WF8sXG4gICAgICBsYXN0WTogdGhpcy5sYXN0WV8sXG4gICAgICB2ZWxvY2l0eVg6IHRoaXMuaG9yaXpfID8gdGhpcy52ZWxvY2l0eVhfIDogMCxcbiAgICAgIHZlbG9jaXR5WTogdGhpcy52ZXJ0XyA/IHRoaXMudmVsb2NpdHlZXyA6IDAsXG4gICAgfSwgZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7P0V2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5kXyhldmVudCkge1xuICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcbiAgICAgIHRoaXMuZW1pdF8oZmFsc2UsIHRydWUsIGV2ZW50KTtcbiAgICAgIHRoaXMuc2lnbmFsRW5kKCk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBSZWNvZ25pemVzIFwic3dpcGUteHlcIiBnZXN0dXJlLiBZaWVsZHMgYWJvdXQgMTBtcyB0byBvdGhlciBnZXN0dXJlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN3aXBlWFlSZWNvZ25pemVyIGV4dGVuZHMgU3dpcGVSZWNvZ25pemVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZ2VzdHVyZS5HZXN0dXJlc30gbWFuYWdlclxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKCdzd2lwZS14eScsIG1hbmFnZXIsIHRydWUsIHRydWUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZWNvZ25pemVzIFwic3dpcGUteFwiIGdlc3R1cmUuIFlpZWxkcyBhYm91dCAxMG1zIHRvIG90aGVyIGdlc3R1cmVzLlxuICovXG5leHBvcnQgY2xhc3MgU3dpcGVYUmVjb2duaXplciBleHRlbmRzIFN3aXBlUmVjb2duaXplciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2dlc3R1cmUuR2VzdHVyZXN9IG1hbmFnZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICBzdXBlcignc3dpcGUteCcsIG1hbmFnZXIsIHRydWUsIGZhbHNlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmVjb2duaXplcyBcInN3aXBlLXlcIiBnZXN0dXJlLiBZaWVsZHMgYWJvdXQgMTBtcyB0byBvdGhlciBnZXN0dXJlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN3aXBlWVJlY29nbml6ZXIgZXh0ZW5kcyBTd2lwZVJlY29nbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9nZXN0dXJlLkdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIoJ3N3aXBlLXknLCBtYW5hZ2VyLCBmYWxzZSwgdHJ1ZSk7XG4gIH1cbn1cblxuXG5cbi8qKlxuICogQSBcInRhcHpvb21cIiBnZXN0dXJlLiBJdCBoYXMgYSBjZW50ZXIsIGRlbHRhIG9mZiB0aGUgY2VudGVyIGNlbnRlciBhbmRcbiAqIHRoZSB2ZWxvY2l0eSBvZiBtb3ZpbmcgYXdheSBmcm9tIHRoZSBjZW50ZXIuXG4gKiBAdHlwZWRlZiB7e1xuICogICBmaXJzdDogYm9vbGVhbixcbiAqICAgbGFzdDogYm9vbGVhbixcbiAqICAgY2VudGVyQ2xpZW50WDogbnVtYmVyLFxuICogICBjZW50ZXJDbGllbnRZOiBudW1iZXIsXG4gKiAgIGRlbHRhWDogbnVtYmVyLFxuICogICBkZWx0YVk6IG51bWJlcixcbiAqICAgdmVsb2NpdHlYOiBudW1iZXIsXG4gKiAgIHZlbG9jaXR5WTogbnVtYmVyXG4gKiB9fVxuICovXG5sZXQgVGFwem9vbURlZjtcblxuXG4vKipcbiAqIFJlY29nbml6ZXMgYSBcInRhcHpvb21cIiBnZXN0dXJlLiBUaGlzIGdlc3R1cmUgd2lsbCBibG9jayBvdGhlciBnZXN0dXJlc1xuICogZm9yIGFib3V0IDQwMG1zIGFmdGVyIGZpcnN0IFwidGFwXCIgd2hpbGUgaXQncyBleHBlY3Rpbmcgc3dpcGUuXG4gKiBAZXh0ZW5kcyB7R2VzdHVyZVJlY29nbml6ZXI8VGFwem9vbURlZj59XG4gKi9cbmV4cG9ydCBjbGFzcyBUYXB6b29tUmVjb2duaXplciBleHRlbmRzIEdlc3R1cmVSZWNvZ25pemVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZ2VzdHVyZS5HZXN0dXJlc30gbWFuYWdlclxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKCd0YXB6b29tJywgbWFuYWdlcik7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy50YXBDb3VudF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMubGFzdFRpbWVfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7dGltZX0gKi9cbiAgICB0aGlzLnByZXZUaW1lXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eVlfID0gMDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qge3RvdWNoZXN9ID0gZTtcbiAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICB0aGlzLnN0YXJ0WF8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnN0YXJ0WV8gPSB0b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaE1vdmUoZSkge1xuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5sYXN0WF8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLmxhc3RZXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgICB0aGlzLmVtaXRfKGZhbHNlLCBmYWxzZSwgZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkeCA9IE1hdGguYWJzKHRoaXMubGFzdFhfIC0gdGhpcy5zdGFydFhfKSA+PSA4O1xuICAgICAgICBjb25zdCBkeSA9IE1hdGguYWJzKHRoaXMubGFzdFlfIC0gdGhpcy5zdGFydFlfKSA+PSA4O1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICBpZiAodGhpcy50YXBDb3VudF8gPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY2NlcHRDYW5jZWwoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxSZWFkeSgwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoRW5kKGUpIHtcbiAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgIHRoaXMuZW5kXyhlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRhcENvdW50XysrO1xuICAgIGlmICh0aGlzLnRhcENvdW50XyA9PSAxKSB7XG4gICAgICB0aGlzLnNpZ25hbFBlbmRpbmcoNDAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmFjY2VwdENhbmNlbCgpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRTdGFydCgpIHtcbiAgICB0aGlzLnRhcENvdW50XyA9IDA7XG4gICAgdGhpcy5ldmVudGluZ18gPSB0cnVlO1xuICAgIHRoaXMuZW1pdF8odHJ1ZSwgZmFsc2UsIG51bGwpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRDYW5jZWwoKSB7XG4gICAgdGhpcy50YXBDb3VudF8gPSAwO1xuICAgIHRoaXMuZXZlbnRpbmdfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBmaXJzdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxhc3RcbiAgICogQHBhcmFtIHs/RXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbWl0XyhmaXJzdCwgbGFzdCwgZXZlbnQpIHtcbiAgICB0aGlzLmxhc3RUaW1lXyA9IERhdGUubm93KCk7XG4gICAgaWYgKGZpcnN0KSB7XG4gICAgICB0aGlzLnZlbG9jaXR5WF8gPSB0aGlzLnZlbG9jaXR5WV8gPSAwO1xuICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0VGltZV8gLSB0aGlzLnByZXZUaW1lXyA+IDIpIHtcbiAgICAgIHRoaXMudmVsb2NpdHlYXyA9IGNhbGNWZWxvY2l0eSh0aGlzLmxhc3RYXyAtIHRoaXMucHJldlhfLFxuICAgICAgICAgIHRoaXMubGFzdFRpbWVfIC0gdGhpcy5wcmV2VGltZV8sIHRoaXMudmVsb2NpdHlYXyk7XG4gICAgICB0aGlzLnZlbG9jaXR5WV8gPSBjYWxjVmVsb2NpdHkodGhpcy5sYXN0WV8gLSB0aGlzLnByZXZZXyxcbiAgICAgICAgICB0aGlzLmxhc3RUaW1lXyAtIHRoaXMucHJldlRpbWVfLCB0aGlzLnZlbG9jaXR5WV8pO1xuICAgIH1cbiAgICB0aGlzLnByZXZYXyA9IHRoaXMubGFzdFhfO1xuICAgIHRoaXMucHJldllfID0gdGhpcy5sYXN0WV87XG4gICAgdGhpcy5wcmV2VGltZV8gPSB0aGlzLmxhc3RUaW1lXztcblxuICAgIHRoaXMuc2lnbmFsRW1pdCh7XG4gICAgICBmaXJzdCxcbiAgICAgIGxhc3QsXG4gICAgICBjZW50ZXJDbGllbnRYOiB0aGlzLnN0YXJ0WF8sXG4gICAgICBjZW50ZXJDbGllbnRZOiB0aGlzLnN0YXJ0WV8sXG4gICAgICBkZWx0YVg6IHRoaXMubGFzdFhfIC0gdGhpcy5zdGFydFhfLFxuICAgICAgZGVsdGFZOiB0aGlzLmxhc3RZXyAtIHRoaXMuc3RhcnRZXyxcbiAgICAgIHZlbG9jaXR5WDogdGhpcy52ZWxvY2l0eVhfLFxuICAgICAgdmVsb2NpdHlZOiB0aGlzLnZlbG9jaXR5WV8sXG4gICAgfSwgZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7P0V2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5kXyhldmVudCkge1xuICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcbiAgICAgIHRoaXMuZW1pdF8oZmFsc2UsIHRydWUsIGV2ZW50KTtcbiAgICAgIHRoaXMuc2lnbmFsRW5kKCk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vKipcbiAqIEEgXCJwaW5jaFwiIGdlc3R1cmUuIEl0IGhhcyBhIGNlbnRlciwgZGVsdGEgb2ZmIHRoZSBjZW50ZXIgY2VudGVyIGFuZFxuICogdGhlIHZlbG9jaXR5IG9mIG1vdmluZyBhd2F5IGZyb20gdGhlIGNlbnRlci4gXCJkaXJcIiBjb21wb25lbnQgb2YgYDFgXG4gKiBpbmRpY2F0ZXMgdGhhdCBpdCdzIGEgZXhwYW5kIG1vdGlvbiBhbmQgYC0xYCBpbmRpY2F0ZXMgcGluY2ggbW90aW9uLlxuICogQHR5cGVkZWYge3tcbiAqICAgZmlyc3Q6IGJvb2xlYW4sXG4gKiAgIGxhc3Q6IGJvb2xlYW4sXG4gKiAgIGNlbnRlckNsaWVudFg6IG51bWJlcixcbiAqICAgY2VudGVyQ2xpZW50WTogbnVtYmVyLFxuICogICBkaXI6IG51bWJlcixcbiAqICAgZGVsdGFYOiBudW1iZXIsXG4gKiAgIGRlbHRhWTogbnVtYmVyLFxuICogICB2ZWxvY2l0eVg6IG51bWJlcixcbiAqICAgdmVsb2NpdHlZOiBudW1iZXJcbiAqIH19XG4gKi9cbmxldCBQaW5jaERlZjtcblxuLyoqXG4gKiBUaHJlc2hvbGQgaW4gcGl4ZWxzIGZvciBob3cgbXVjaCB0d28gdG91Y2hlcyBtb3ZlIGF3YXkgZnJvbVxuICogZWFjaCBvdGhlciBiZWZvcmUgd2UgcmVjb2duaXplIHRoZSBnZXN0dXJlIGFzIGEgcGluY2guXG4gKi9cbmNvbnN0IFBJTkNIX0FDQ0VQVF9USFJFU0hPTEQgPSA0O1xuXG4vKipcbiAqIFRocmVzaG9sZCBpbiBwaXhlbHMgZm9yIGhvdyBtdWNoIHR3byB0b3VjaGVzIG1vdmUgaW4gdGhlIHNhbWVcbiAqIGRpcmVjdGlvbiBiZWZvcmUgd2UgcmVqZWN0IHRoZSBnZXN0dXJlIGFzIGEgcGluY2guXG4gKi9cbmNvbnN0IFBJTkNIX1JFSkVDVF9USFJFU0hPTEQgPSAxMDtcblxuLyoqXG4gKiBSZWNvZ25pemVzIGEgXCJwaW5jaFwiIGdlc3R1cmUuXG4gKiBAZXh0ZW5kcyB7R2VzdHVyZVJlY29nbml6ZXI8UGluY2hEZWY+fVxuICovXG5leHBvcnQgY2xhc3MgUGluY2hSZWNvZ25pemVyIGV4dGVuZHMgR2VzdHVyZVJlY29nbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9nZXN0dXJlLkdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIoJ3BpbmNoJywgbWFuYWdlcik7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRYMV8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRZMV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFgyXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFkyXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RYMV8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFkxXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RYMl8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFkyXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnByZXZEZWx0YVhfID0gMDtcbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnByZXZEZWx0YVlfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuY2VudGVyQ2xpZW50WF8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuY2VudGVyQ2xpZW50WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMubGFzdFRpbWVfID0gMDtcbiAgICAvKiogQHByaXZhdGUge3RpbWV9ICovXG4gICAgdGhpcy5wcmV2VGltZV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eVhfID0gMDtcbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WV8gPSAwO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoU3RhcnQoZSkge1xuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgLy8gUGluY2ggdG91Y2hlcyBhcmUgbm90IGFsd2F5cyBzaW11bHRhbmVvdXMsIGNvbnRpbnVlIHRvIGxpc3RlblxuICAgIC8vIGZvciBzZWNvbmQgdG91Y2guXG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDIpIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLnN0YXJ0WDFfID0gdG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5zdGFydFkxXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHRoaXMuc3RhcnRYMl8gPSB0b3VjaGVzWzFdLmNsaWVudFg7XG4gICAgICB0aGlzLnN0YXJ0WTJfID0gdG91Y2hlc1sxXS5jbGllbnRZO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICBjb25zdCB7dG91Y2hlc30gPSBlO1xuICAgIC8vIFBpbmNoIHRvdWNoZXMgYXJlIG5vdCBhbHdheXMgc2ltdWx0YW5lb3VzLCBjb250aW51ZSB0byBsaXN0ZW5cbiAgICAvLyBmb3Igc2Vjb25kIHRvdWNoLlxuICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLmxhc3RYMV8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLmxhc3RZMV8gPSB0b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB0aGlzLmxhc3RYMl8gPSB0b3VjaGVzWzFdLmNsaWVudFg7XG4gICAgICB0aGlzLmxhc3RZMl8gPSB0b3VjaGVzWzFdLmNsaWVudFk7XG4gICAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgICAgdGhpcy5lbWl0XyhmYWxzZSwgZmFsc2UsIGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZHgxID0gdGhpcy5sYXN0WDFfIC0gdGhpcy5zdGFydFgxXztcbiAgICAgICAgY29uc3QgZHkxID0gdGhpcy5sYXN0WTFfIC0gdGhpcy5zdGFydFkxXztcbiAgICAgICAgY29uc3QgZHgyID0gdGhpcy5sYXN0WDJfIC0gdGhpcy5zdGFydFgyXztcbiAgICAgICAgY29uc3QgZHkyID0gdGhpcy5sYXN0WTJfIC0gdGhpcy5zdGFydFkyXztcbiAgICAgICAgLy8gRmluZ2VycyBzaG91bGQgbW92ZSBpbiBvcHBvc2l0ZSBkaXJlY3Rpb25zIGFuZCBnbyBvdmVyIHRoZSB0aHJlc2hvbGQuXG4gICAgICAgIGlmIChkeDEgKiBkeDIgPD0gMCAmJiBkeTEgKiBkeTIgPD0gMCkge1xuICAgICAgICAgIGlmIChNYXRoLmFicyhkeDEgLSBkeDIpID49IFBJTkNIX0FDQ0VQVF9USFJFU0hPTERcbiAgICAgICAgICAgIHx8IE1hdGguYWJzKGR5MSAtIGR5MikgPj0gUElOQ0hfQUNDRVBUX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxSZWFkeSgwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoZHgxICsgZHgyKSA+PSBQSU5DSF9SRUpFQ1RfVEhSRVNIT0xEXG4gICAgICAgICAgfHwgTWF0aC5hYnMoZHkxICsgZHkyKSA+PSBQSU5DSF9SRUpFQ1RfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgLy8gTW92aW5nIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBvdmVyIGEgdGhyZXNob2xkLlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hFbmQoZSkge1xuICAgIHRoaXMuZW5kXyhlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWNjZXB0U3RhcnQoKSB7XG4gICAgdGhpcy5ldmVudGluZ18gPSB0cnVlO1xuICAgIHRoaXMucHJldlRpbWVfID0gdGhpcy5zdGFydFRpbWVfO1xuICAgIHRoaXMucHJldkRlbHRhWF8gPSAwO1xuICAgIHRoaXMucHJldkRlbHRhWV8gPSAwO1xuICAgIHRoaXMuY2VudGVyQ2xpZW50WF8gPSAodGhpcy5zdGFydFgxXyArIHRoaXMuc3RhcnRYMl8pICogMC41O1xuICAgIHRoaXMuY2VudGVyQ2xpZW50WV8gPSAodGhpcy5zdGFydFkxXyArIHRoaXMuc3RhcnRZMl8pICogMC41O1xuICAgIHRoaXMuZW1pdF8odHJ1ZSwgZmFsc2UsIG51bGwpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRDYW5jZWwoKSB7XG4gICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpcnN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbGFzdFxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVtaXRfKGZpcnN0LCBsYXN0LCBldmVudCkge1xuICAgIHRoaXMubGFzdFRpbWVfID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBkZWx0YVRpbWUgPSB0aGlzLmxhc3RUaW1lXyAtIHRoaXMucHJldlRpbWVfO1xuICAgIGNvbnN0IGRlbHRhWCA9IHRoaXMuZGVsdGFYXygpO1xuICAgIGNvbnN0IGRlbHRhWSA9IHRoaXMuZGVsdGFZXygpO1xuICAgIC8vIEl0J3Mgb2Z0ZW4gdGhhdCBgdG91Y2hlbmRgIGFycml2ZXMgb24gdGhlIG5leHQgZnJhbWUuIFRoZXNlIHNob3VsZFxuICAgIC8vIGJlIGlnbm9yZWQgdG8gYXZvaWQgYSBzaWduaWZpY2FudCB2ZWxvY2l0eSBkb3duZ3JhZGUuXG4gICAgaWYgKCghbGFzdCAmJiBkZWx0YVRpbWUgPiA0KSB8fCAobGFzdCAmJiBkZWx0YVRpbWUgPiAxNikpIHtcbiAgICAgIHRoaXMudmVsb2NpdHlYXyA9IGNhbGNWZWxvY2l0eShkZWx0YVggLSB0aGlzLnByZXZEZWx0YVhfLCBkZWx0YVRpbWUsXG4gICAgICAgICAgdGhpcy52ZWxvY2l0eVhfKTtcbiAgICAgIHRoaXMudmVsb2NpdHlZXyA9IGNhbGNWZWxvY2l0eShkZWx0YVkgLSB0aGlzLnByZXZEZWx0YVlfLCBkZWx0YVRpbWUsXG4gICAgICAgICAgdGhpcy52ZWxvY2l0eVlfKTtcbiAgICAgIHRoaXMudmVsb2NpdHlYXyA9IE1hdGguYWJzKHRoaXMudmVsb2NpdHlYXykgPiAxZS00ID8gdGhpcy52ZWxvY2l0eVhfIDogMDtcbiAgICAgIHRoaXMudmVsb2NpdHlZXyA9IE1hdGguYWJzKHRoaXMudmVsb2NpdHlZXykgPiAxZS00ID8gdGhpcy52ZWxvY2l0eVlfIDogMDtcbiAgICAgIHRoaXMucHJldkRlbHRhWF8gPSBkZWx0YVg7XG4gICAgICB0aGlzLnByZXZEZWx0YVlfID0gZGVsdGFZO1xuICAgICAgdGhpcy5wcmV2VGltZV8gPSB0aGlzLmxhc3RUaW1lXztcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydFNxID0gdGhpcy5zcURpc3RfKHRoaXMuc3RhcnRYMV8sIHRoaXMuc3RhcnRYMl8sXG4gICAgICAgIHRoaXMuc3RhcnRZMV8sIHRoaXMuc3RhcnRZMl8pO1xuICAgIGNvbnN0IGxhc3RTcSA9IHRoaXMuc3FEaXN0Xyh0aGlzLmxhc3RYMV8sIHRoaXMubGFzdFgyXyxcbiAgICAgICAgdGhpcy5sYXN0WTFfLCB0aGlzLmxhc3RZMl8pO1xuICAgIHRoaXMuc2lnbmFsRW1pdCh7XG4gICAgICBmaXJzdCxcbiAgICAgIGxhc3QsXG4gICAgICB0aW1lOiB0aGlzLmxhc3RUaW1lXyxcbiAgICAgIGNlbnRlckNsaWVudFg6IHRoaXMuY2VudGVyQ2xpZW50WF8sXG4gICAgICBjZW50ZXJDbGllbnRZOiB0aGlzLmNlbnRlckNsaWVudFlfLFxuICAgICAgZGlyOiBNYXRoLnNpZ24obGFzdFNxIC0gc3RhcnRTcSksXG4gICAgICBkZWx0YVg6IGRlbHRhWCAqIDAuNSxcbiAgICAgIGRlbHRhWTogZGVsdGFZICogMC41LFxuICAgICAgdmVsb2NpdHlYOiB0aGlzLnZlbG9jaXR5WF8gKiAwLjUsXG4gICAgICB2ZWxvY2l0eVk6IHRoaXMudmVsb2NpdHlZXyAqIDAuNSxcbiAgICB9LCBldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/RXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbmRfKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZXZlbnRpbmdfKSB7XG4gICAgICB0aGlzLmV2ZW50aW5nXyA9IGZhbHNlO1xuICAgICAgdGhpcy5lbWl0XyhmYWxzZSwgdHJ1ZSwgZXZlbnQpO1xuICAgICAgdGhpcy5zaWduYWxFbmQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHgxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4MlxuICAgKiBAcGFyYW0ge251bWJlcn0geTFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkyXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNxRGlzdF8oeDEsIHgyLCB5MSwgeTIpIHtcbiAgICByZXR1cm4gKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRlbHRhWF8oKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKCh0aGlzLmxhc3RYMV8gLSB0aGlzLnN0YXJ0WDFfKSAtXG4gICAgICAgICh0aGlzLmxhc3RYMl8gLSB0aGlzLnN0YXJ0WDJfKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVsdGFZXygpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoKHRoaXMubGFzdFkxXyAtIHRoaXMuc3RhcnRZMV8pIC1cbiAgICAgICAgKHRoaXMubGFzdFkyXyAtIHRoaXMuc3RhcnRZMl8pKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAnLi9vYnNlcnZhYmxlJztcbmltcG9ydCB7UGFzc30gZnJvbSAnLi9wYXNzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge2ZpbmRJbmRleH0gZnJvbSAnLi91dGlscy9hcnJheSc7XG5pbXBvcnQge3RvV2lufSBmcm9tICcuL3R5cGVzJztcblxuXG5jb25zdCBQUk9QXyA9ICdfX0FNUF9HZXN0dXJlcyc7XG5cblxuLyoqXG4gKiBBIGdlc3R1cmUgb2JqZWN0IGNvbnRhaW5zIHRoZSB0eXBlIGFuZCBkYXRhIG9mIHRoZSBnZXN0dXJlIHN1Y2ggYXNcbiAqIGEgdGFwIG9yIGEgZG91YmxlLXRhcCBvciBhIHN3aXBlLiBTZWUge0BsaW5rIEdlc3R1cmVSZWNvZ25pemVyfSBmb3JcbiAqIG1vcmUgZGV0YWlscy5cbiAqIEBzdHJ1Y3RcbiAqIEBjb25zdFxuICogQHRlbXBsYXRlIERBVEFcbiAqL1xuZXhwb3J0IGNsYXNzIEdlc3R1cmUge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGdlc3R1cmUncyBzdHJpbmcgdHlwZS5cbiAgICogQHBhcmFtIHtEQVRBfSBkYXRhIFRoZSBkYXRhIG9mIHRoZSBnZXN0dXJlLlxuICAgKiBAcGFyYW0ge3RpbWV9IHRpbWUgVGhlIHRpbWUgdGhhdCB0aGUgZ2VzdHVyZSBoYXMgYmVlbiBlbWl0dGVkLlxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnQgQW4gb3B0aW9uYWwgYnJvd3NlciBldmVudCB0aGF0IHJlc3VsdGVkIGluIHRoZVxuICAgKiAgIGdlc3R1cmUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBkYXRhLCB0aW1lLCBldmVudCkge1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIC8qKiBAY29uc3Qge0RBVEF9ICovXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAvKiogQGNvbnN0IHt0aW1lfSAqL1xuICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgLyoqIEBjb25zdCB7P0V2ZW50fSAqL1xuICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgfVxufVxuXG5cbi8qKlxuICogR2VzdHVyZXMgb2JqZWN0IG1hbmFnZXMgYWxsIGdlc3R1cmVzIG9uIGEgcGFydGljdWxhciBlbGVtZW50LiBJdCBsaXN0ZW5zXG4gKiB0byBhbGwgcG9pbnRlciBldmVudHMgYW5kIGRlbGVnYXRlcyB0aGVtIHRvIGluZGl2aWR1YWwgZ2VzdHVyZSByZWNvZ25pemVycy5cbiAqIFdoZW4gYSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZSBhbmQgcmVhZHkgdG8gc3RhcnQgZW1pdHRpbmcgaXRcbiAqIGl0IHJlcXVlc3RzIHBlcm1pc3Npb24gdG8gZG8gc28gZnJvbSB0aGlzIGNsYXNzIHdoaWNoIHJlc29sdmVzIGNvbmZsaWN0c1xuICogYmV0d2VlbiBjb21wZXRpbmcgcmVjb2duaXplcnMgdG8gZGVjaWRlIHdoaWNoIGdlc3R1cmUgc2hvdWxkIGdvIGZvcndhcmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBHZXN0dXJlcyB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgaWYgbm90IHlldCBjcmVhdGVkIGFuZCByZXR1cm5zIHRoZSBzaGFyZWQgR2VzdHVyZXMgaW5zdGFuY2UgZm9yXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2hvdWxkTm90UHJldmVudERlZmF1bHRcbiAgICogQHJldHVybiB7IUdlc3R1cmVzfVxuICAgKi9cbiAgc3RhdGljIGdldChlbGVtZW50LCBvcHRfc2hvdWxkTm90UHJldmVudERlZmF1bHQgPSBmYWxzZSkge1xuICAgIGxldCByZXMgPSBlbGVtZW50W1BST1BfXTtcbiAgICBpZiAoIXJlcykge1xuICAgICAgcmVzID0gbmV3IEdlc3R1cmVzKGVsZW1lbnQsIG9wdF9zaG91bGROb3RQcmV2ZW50RGVmYXVsdCk7XG4gICAgICBlbGVtZW50W1BST1BfXSA9IHJlcztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkTm90UHJldmVudERlZmF1bHRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNob3VsZE5vdFByZXZlbnREZWZhdWx0KSB7XG4gICAgLyoqIEBwcml2YXRlIHshRWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PCFHZXN0dXJlUmVjb2duaXplcj59ICovXG4gICAgdGhpcy5yZWNvZ25pemVyc18gPSBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PGJvb2xlYW4+fSAqL1xuICAgIHRoaXMudHJhY2tpbmdfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgeyFBcnJheTx0aW1lPn0gKi9cbiAgICB0aGlzLnJlYWR5XyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQXJyYXk8dGltZT59ICovXG4gICAgdGhpcy5wZW5kaW5nXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/R2VzdHVyZVJlY29nbml6ZXJ9ICovXG4gICAgdGhpcy5ldmVudGluZ18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuc2hvdWxkTm90UHJldmVudERlZmF1bHRfID0gc2hvdWxkTm90UHJldmVudERlZmF1bHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHZhcmlhYmxlIGluZGljYXRlcyB0aGF0IHRoZSBldmVudGluZyBoYXMgc3RvcHBlZCBvbiB0aGlzXG4gICAgICogZXZlbnQgY3ljbGUuXG4gICAgICogQHByaXZhdGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy53YXNFdmVudGluZ18gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IVBhc3N9ICovXG4gICAgdGhpcy5wYXNzXyA9IG5ldyBQYXNzKHRvV2luKGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyksXG4gICAgICAgIHRoaXMuZG9QYXNzXy5iaW5kKHRoaXMpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU9ic2VydmFibGV9ICovXG4gICAgdGhpcy5wb2ludGVyRG93bk9ic2VydmFibGVfID0gbmV3IE9ic2VydmFibGUoKTtcblxuICAgIC8qKlxuICAgICAqIE9ic2VydmVycyBmb3IgZWFjaCB0eXBlIG9mIHJlZ2lzdGVyZWQgZ2VzdHVyZSB0eXBlcy5cbiAgICAgKiBAcHJpdmF0ZSB7IU9iamVjdDxzdHJpbmcsICFPYnNlcnZhYmxlPCFHZXN0dXJlPj59XG4gICAgICovXG4gICAgdGhpcy5vdmVyc2VydmVyc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7ZnVuY3Rpb24oIUV2ZW50KX0gKi9cbiAgICB0aGlzLmJvdW5kT25Ub3VjaFN0YXJ0XyA9IHRoaXMub25Ub3VjaFN0YXJ0Xy5iaW5kKHRoaXMpO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge2Z1bmN0aW9uKCFFdmVudCl9ICovXG4gICAgdGhpcy5ib3VuZE9uVG91Y2hFbmRfID0gdGhpcy5vblRvdWNoRW5kXy5iaW5kKHRoaXMpO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge2Z1bmN0aW9uKCFFdmVudCl9ICovXG4gICAgdGhpcy5ib3VuZE9uVG91Y2hNb3ZlXyA9IHRoaXMub25Ub3VjaE1vdmVfLmJpbmQodGhpcyk7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7ZnVuY3Rpb24oIUV2ZW50KX0gKi9cbiAgICB0aGlzLmJvdW5kT25Ub3VjaENhbmNlbF8gPSB0aGlzLm9uVG91Y2hDYW5jZWxfLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmJvdW5kT25Ub3VjaFN0YXJ0Xyk7XG4gICAgdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuYm91bmRPblRvdWNoRW5kXyk7XG4gICAgdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmJvdW5kT25Ub3VjaE1vdmVfKTtcbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5ib3VuZE9uVG91Y2hDYW5jZWxfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnBhc3NBZnRlckV2ZW50XyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlcyBmcm9tIGFsbCBwb2ludGVyIGV2ZW50cyBhbmQgcmVtb3ZlcyB0aGUgc2hhcmVkIGNhY2hlIGluc3RhbmNlLlxuICAgKi9cbiAgY2xlYW51cCgpIHtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmJvdW5kT25Ub3VjaFN0YXJ0Xyk7XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuYm91bmRPblRvdWNoRW5kXyk7XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmJvdW5kT25Ub3VjaE1vdmVfKTtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5ib3VuZE9uVG91Y2hDYW5jZWxfKTtcbiAgICBkZWxldGUgdGhpcy5lbGVtZW50X1tQUk9QX107XG4gICAgdGhpcy5wYXNzXy5jYW5jZWwoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmVzIHRvIGEgZ2VzdHVyZSBlbWl0dGVkIGJ5IHRoZSBzcGVjaWZpZWQgcmVjb2duaXplci4gRm9yIGEgZmlyc3RcbiAgICogZ2VzdHVyZSBoYW5kbGVyIHJlZ2lzdGVyZWQgaW4gdGhpcyBtZXRob2QgdGhlIHJlY29nbml6ZXIgaXMgaW5zdGFsbGVkXG4gICAqIGFuZCBmcm9tIHRoYXQgcG9pbnQgb24gaXQgcGFydGljaXBhdGVzIGluIHRoZSBldmVudCBwcm9jZXNzaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpHZXN0dXJlUmVjb2duaXplcjxEQVRBPiwgIUdlc3R1cmVzKX0gcmVjb2duaXplckNvbnN0clxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFHZXN0dXJlPERBVEE+KX0gaGFuZGxlclxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqIEB0ZW1wbGF0ZSBEQVRBXG4gICAqL1xuICBvbkdlc3R1cmUocmVjb2duaXplckNvbnN0ciwgaGFuZGxlcikge1xuICAgIGNvbnN0IHJlY29nbml6ZXIgPSBuZXcgcmVjb2duaXplckNvbnN0cih0aGlzKTtcbiAgICBjb25zdCB0eXBlID0gcmVjb2duaXplci5nZXRUeXBlKCk7XG4gICAgbGV0IG92ZXJzZXJ2ZXIgPSB0aGlzLm92ZXJzZXJ2ZXJzX1t0eXBlXTtcbiAgICBpZiAoIW92ZXJzZXJ2ZXIpIHtcbiAgICAgIHRoaXMucmVjb2duaXplcnNfLnB1c2gocmVjb2duaXplcik7XG4gICAgICBvdmVyc2VydmVyID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgIHRoaXMub3ZlcnNlcnZlcnNfW3R5cGVdID0gb3ZlcnNlcnZlcjtcbiAgICB9XG4gICAgcmV0dXJuIG92ZXJzZXJ2ZXIuYWRkKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlcyBhbGwgaGFuZGxlcnMgZnJvbSB0aGUgZ2l2ZW4gZ2VzdHVyZSByZWNvZ25pemVyLiBSZXR1cm5zXG4gICAqIHRydWUgaWYgYW55dGhpbmcgd2FzIGRvbmUuIFJldHVybnMgZmFsc2UgaWYgdGhlcmUgd2VyZSBubyBoYW5kbGVyc1xuICAgKiByZWdpc3RlcmVkIG9uIHRoZSBnaXZlbiBnZXN0dXJlIHJlY29nbml6ZXIgaW4gZmlyc3QgcGxhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Okdlc3R1cmVSZWNvZ25pemVyPERBVEE+LCAhR2VzdHVyZXMpfSByZWNvZ25pemVyQ29uc3RyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICByZW1vdmVHZXN0dXJlKHJlY29nbml6ZXJDb25zdHIpIHtcbiAgICBjb25zdCB0eXBlID0gbmV3IHJlY29nbml6ZXJDb25zdHIodGhpcykuZ2V0VHlwZSgpO1xuICAgIGNvbnN0IG92ZXJzZXJ2ZXIgPSB0aGlzLm92ZXJzZXJ2ZXJzX1t0eXBlXTtcbiAgICBpZiAob3ZlcnNlcnZlcikge1xuICAgICAgb3ZlcnNlcnZlci5yZW1vdmVBbGwoKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gZmluZEluZGV4KHRoaXMucmVjb2duaXplcnNfLCBlID0+IGUuZ2V0VHlwZSgpID09IHR5cGUpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgdGhlIHJlY29nbml6ZXIgYXMgd2VsbCBhcyBhbGwgYXNzb2NpYXRlZCB0cmFja2luZyBzdGF0ZVxuICAgICAgdGhpcy5yZWNvZ25pemVyc18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMucmVhZHlfLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0aGlzLnBlbmRpbmdfLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0aGlzLnRyYWNraW5nXy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgZGVsZXRlIHRoaXMub3ZlcnNlcnZlcnNfW3R5cGVdO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlcyB0byBwb2ludGVyIGRvd24gZXZlbnRzLCBzdWNoIGFzIFwidG91Y2hzdGFydFwiIG9yIFwibW91c2Vkb3duXCIuXG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBoYW5kbGVyXG4gICAqIEByZXR1cm4geyFVbmxpc3RlbkRlZn1cbiAgICovXG4gIG9uUG9pbnRlckRvd24oaGFuZGxlcikge1xuICAgIHJldHVybiB0aGlzLnBvaW50ZXJEb3duT2JzZXJ2YWJsZV8uYWRkKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYWxsIFwidG91Y2hzdGFydFwiIGV2ZW50cyBhbmQgZGlzcGF0Y2hlcyB0aGVtIHRvIHRoZSB0cmFja2luZ1xuICAgKiByZWNvZ25pemVycy5cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblRvdWNoU3RhcnRfKGV2ZW50KSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLndhc0V2ZW50aW5nXyA9IGZhbHNlO1xuXG4gICAgdGhpcy5wb2ludGVyRG93bk9ic2VydmFibGVfLmZpcmUoZXZlbnQpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucmVhZHlfW2ldKSB7XG4gICAgICAgIC8vIElmIHRoZSByZWNvZ25pemVyIGlzIGluIHRoZSBcInJlYWR5XCIgc3RhdGUsIGl0IHdvbid0IHJlY2VpdmVcbiAgICAgICAgLy8gYW55IG1vcmUgdG91Y2ggc2VyaWVzIHVudGlsIGl0J3MgYWxsb3dlZCB0byBlbWl0LlxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBlbmRpbmdfW2ldICYmIHRoaXMucGVuZGluZ19baV0gPCBub3cpIHtcbiAgICAgICAgLy8gUGVuZGluZyBzdGF0ZSBleHBpcmVkLiBSZXNldC5cbiAgICAgICAgdGhpcy5zdG9wVHJhY2tpbmdfKGkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVjb2duaXplcnNfW2ldLm9uVG91Y2hTdGFydChldmVudCkpIHtcbiAgICAgICAgLy8gV2hlbiBhIHJlY29nbml6ZXIgaXMgaW50ZXJlc3RlZCBpbiB0aGUgdG91Y2ggc2VyaWVzIGl0IHJldHVybnMgXCJ0cnVlXCJcbiAgICAgICAgLy8gZnJvbSBpdHMgb25Ub3VjaFN0YXJ0IG1ldGhvZC4gRm9yIHRoaXMgcmVjb2duaXplciB3ZSBzdGFydCB0cmFja2luZ1xuICAgICAgICAvLyB0aGUgd2hvbGUgc2VyaWVzIG9mIHRvdWNoIGV2ZW50cyBmcm9tIHRvdWNoc3RhcnQgdG8gdG91Y2hlbmQuIE90aGVyXG4gICAgICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgbm90IHJlY2VpdmUgdGhlbSB1bmxlc3MgdGhleSByZXR1cm4gXCJ0cnVlXCIgZnJvbVxuICAgICAgICAvLyBvblRvdWNoU3RhcnQuXG4gICAgICAgIHRoaXMuc3RhcnRUcmFja2luZ18oaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hZnRlckV2ZW50XyhldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbGwgXCJ0b3VjaG1vdmVcIiBldmVudHMgYW5kIGRpc3BhdGNoZXMgdGhlbSB0byB0aGUgdHJhY2tpbmdcbiAgICogcmVjb2duaXplcnMuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Ub3VjaE1vdmVfKGV2ZW50KSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNvZ25pemVyc18ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy50cmFja2luZ19baV0pIHtcbiAgICAgICAgLy8gVGhlIHdob2xlIHRvdWNoIHNlcmllcyBhcmUgaWdub3JlZCBmb3Igbm9uLXRyYWNraW5nIHJlY29nbml6ZXJzLlxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBlbmRpbmdfW2ldICYmIHRoaXMucGVuZGluZ19baV0gPCBub3cpIHtcbiAgICAgICAgLy8gUGVuZGluZyBzdGF0ZSBleHBpcmVkLiBSZXNldC5cbiAgICAgICAgdGhpcy5zdG9wVHJhY2tpbmdfKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5yZWNvZ25pemVyc19baV0ub25Ub3VjaE1vdmUoZXZlbnQpKSB7XG4gICAgICAgIC8vIFJlY29nbml6ZXIgbG9zdCBpbnRlcmVzdCBpbiB0aGUgc2VyaWVzLiBSZXNldC5cbiAgICAgICAgdGhpcy5zdG9wVHJhY2tpbmdfKGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYWZ0ZXJFdmVudF8oZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYWxsIFwidG91Y2hlbmRcIiBldmVudHMgYW5kIGRpc3BhdGNoZXMgdGhlbSB0byB0aGUgdHJhY2tpbmdcbiAgICogcmVjb2duaXplcnMuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Ub3VjaEVuZF8oZXZlbnQpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnRyYWNraW5nX1tpXSkge1xuICAgICAgICAvLyBUaGUgd2hvbGUgdG91Y2ggc2VyaWVzIGFyZSBpZ25vcmVkIGZvciBub24tdHJhY2tpbmcgcmVjb2duaXplcnMuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGVuZGluZ19baV0gJiYgdGhpcy5wZW5kaW5nX1tpXSA8IG5vdykge1xuICAgICAgICAvLyBQZW5kaW5nIHN0YXRlIGV4cGlyZWQuIFJlc2V0LlxuICAgICAgICB0aGlzLnN0b3BUcmFja2luZ18oaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWNvZ25pemVyc19baV0ub25Ub3VjaEVuZChldmVudCk7XG4gICAgICBpZiAoIXRoaXMucGVuZGluZ19baV0gfHwgdGhpcy5wZW5kaW5nX1tpXSA8IG5vdykge1xuICAgICAgICB0aGlzLnN0b3BUcmFja2luZ18oaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hZnRlckV2ZW50XyhldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbGwgXCJ0b3VjaGNhbmNlbFwiIGV2ZW50cy4gQ2FuY2VscyBhbGwgdHJhY2tpbmcvZW1pdHRpbmdcbiAgICogcmVjb2duaXplcnMuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Ub3VjaENhbmNlbF8oZXZlbnQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmNhbmNlbEV2ZW50aW5nXyhpKTtcbiAgICB9XG4gICAgdGhpcy5hZnRlckV2ZW50XyhldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIGEgZ2VzdHVyZSByZWNvZ25pemVyIHRvIGNvbW11bmljYXRlIHRoYXQgaXQncyByZWFkeSB0b1xuICAgKiBzdGFydCBlbWl0dGluZyBnZXN0dXJlcy4gR2VzdHVyZXMgaW5zdGFuY2UgbWF5IG9yIG1heSBub3QgYWxsb3cgdGhlXG4gICAqIHJlY29nbml6ZXIgdG8gcHJvY2VlZC5cbiAgICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmVzdHJpY3RlZFxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIHNpZ25hbFJlYWR5XyhyZWNvZ25pemVyLCBvZmZzZXQpIHtcbiAgICAvLyBTb21lYm9keSBnb3QgaGVyZSBmaXJzdC5cbiAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgIHJlY29nbml6ZXIuYWNjZXB0Q2FuY2VsKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSByZWNvZ25pemVyIGFzIHJlYWR5IGFuZCB3YWl0IGZvciB0aGUgcGFzcyB0b1xuICAgIC8vIG1ha2UgdGhlIGRlY2lzaW9uLlxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucmVjb2duaXplcnNfW2ldID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgdGhpcy5yZWFkeV9baV0gPSBub3cgKyBvZmZzZXQ7XG4gICAgICAgIHRoaXMucGVuZGluZ19baV0gPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnBhc3NBZnRlckV2ZW50XyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIGEgZ2VzdHVyZSByZWNvZ25pemVyIHRvIGNvbW11bmljYXRlIHRoYXQgaXQncyBjbG9zZSB0b1xuICAgKiBzdGFydCBlbWl0dGluZyBnZXN0dXJlcywgYnV0IG5lZWRzIG1vcmUgdGltZSB0byBzZWUgbW9yZSBldmVudHMuIE9uY2VcbiAgICogdGhpcyB0aW1lIGV4cGlyZXMgdGhlIHJlY29nbml6ZXIgc2hvdWxkIGVpdGhlciBzaWduYWwgcmVhZGluZXNzIG9yIGl0XG4gICAqIHdpbGwgYmUgY2FuY2VsZWQuXG4gICAqIEBwYXJhbSB7IUdlc3R1cmVSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lTGVmdFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmVzdHJpY3RlZFxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIHNpZ25hbFBlbmRpbmdfKHJlY29nbml6ZXIsIHRpbWVMZWZ0KSB7XG4gICAgLy8gU29tZWJvZHkgZ290IGhlcmUgZmlyc3QuXG4gICAgaWYgKHRoaXMuZXZlbnRpbmdfKSB7XG4gICAgICByZWNvZ25pemVyLmFjY2VwdENhbmNlbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucmVjb2duaXplcnNfW2ldID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nX1tpXSA9IG5vdyArIHRpbWVMZWZ0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgYSBnZXN0dXJlIHJlY29nbml6ZXIgdG8gY29tbXVuaWNhdGUgdGhhdCBpdCdzIGRvbmVcbiAgICogZW1pdHRpbmcgZ2VzdHVyZXMuXG4gICAqIEBwYXJhbSB7IUdlc3R1cmVSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXN0cmljdGVkXG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgKi9cbiAgc2lnbmFsRW5kXyhyZWNvZ25pemVyKSB7XG4gICAgaWYgKHRoaXMuZXZlbnRpbmdfID09IHJlY29nbml6ZXIpIHtcbiAgICAgIHRoaXMuZXZlbnRpbmdfID0gbnVsbDtcbiAgICAgIHRoaXMud2FzRXZlbnRpbmdfID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIGEgZ2VzdHVyZSBlbWl0IHRoZSBnZXN0dXJlLiBPbmx5IHRoZSBjdXJyZW50bHkgZW1pdHRpbmdcbiAgICogcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIGVtaXQgZ2VzdHVyZXMuXG4gICAqIEBwYXJhbSB7IUdlc3R1cmVSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICogQHJlc3RyaWN0ZWRcbiAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAqL1xuICBzaWduYWxFbWl0XyhyZWNvZ25pemVyLCBkYXRhLCBldmVudCkge1xuICAgIGRldigpLmFzc2VydCh0aGlzLmV2ZW50aW5nXyA9PSByZWNvZ25pemVyLFxuICAgICAgICAnUmVjb2duaXplciBpcyBub3QgY3VycmVudGx5IGFsbG93ZWQ6ICVzJywgcmVjb2duaXplci5nZXRUeXBlKCkpO1xuICAgIGNvbnN0IG92ZXJzZXJ2ZXIgPSB0aGlzLm92ZXJzZXJ2ZXJzX1tyZWNvZ25pemVyLmdldFR5cGUoKV07XG4gICAgaWYgKG92ZXJzZXJ2ZXIpIHtcbiAgICAgIG92ZXJzZXJ2ZXIuZmlyZShuZXcgR2VzdHVyZShyZWNvZ25pemVyLmdldFR5cGUoKSwgZGF0YSwgRGF0ZS5ub3coKSxcbiAgICAgICAgICBldmVudCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFmdGVyRXZlbnRfKGV2ZW50KSB7XG4gICAgbGV0IGNhbmNlbEV2ZW50ID0gISF0aGlzLmV2ZW50aW5nXyB8fCB0aGlzLndhc0V2ZW50aW5nXztcbiAgICB0aGlzLndhc0V2ZW50aW5nXyA9IGZhbHNlO1xuICAgIGlmICghY2FuY2VsRXZlbnQpIHtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5X1tpXSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLnBlbmRpbmdfW2ldICYmIHRoaXMucGVuZGluZ19baV0gPj0gbm93KSkge1xuICAgICAgICAgIGNhbmNlbEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2FuY2VsRXZlbnQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKCF0aGlzLnNob3VsZE5vdFByZXZlbnREZWZhdWx0Xykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wYXNzQWZ0ZXJFdmVudF8pIHtcbiAgICAgIHRoaXMucGFzc0FmdGVyRXZlbnRfID0gZmFsc2U7XG4gICAgICB0aGlzLmRvUGFzc18oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHBhc3MgdGhhdCBkZWNpZGVzIHdoaWNoIHJlY29nbml6ZXJzIGNhbiBzdGFydCBlbWl0dGluZyBhbmQgd2hpY2hcbiAgICogYXJlIGNhbmNlbGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZG9QYXNzXygpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gVGhlIFwibW9zdCByZWFkeVwiIHJlY29nbml6ZXIgaXMgdGhlIHlvdW5nZXN0IGluIHRoZSBcInJlYWR5XCIgc2V0LlxuICAgIC8vIE90aGVyd2lzZSB3ZSB3b3VsZG4ndCB3YWl0IGZvciBpdCBhdCBhbGwuXG4gICAgbGV0IHJlYWR5SW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMucmVhZHlfW2ldKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdfW2ldICYmIHRoaXMucGVuZGluZ19baV0gPCBub3cpIHtcbiAgICAgICAgICAvLyBQZW5kaW5nIHN0YXRlIGV4cGlyZWQuIFJlc2V0LlxuICAgICAgICAgIHRoaXMuc3RvcFRyYWNraW5nXyhpKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWFkeUluZGV4ID09IC0xIHx8IHRoaXMucmVhZHlfW2ldID4gdGhpcy5yZWFkeV9bcmVhZHlJbmRleF0pIHtcbiAgICAgICAgcmVhZHlJbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlYWR5SW5kZXggPT0gLTEpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8uXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTG9vayBmb3IgY29uZmxpY3RzLlxuICAgIGxldCB3YWl0VGltZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucmVhZHlfW2ldIHx8ICF0aGlzLnRyYWNraW5nX1tpXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHdhaXRUaW1lID0gTWF0aC5tYXgod2FpdFRpbWUsIHRoaXMucGVuZGluZ19baV0gLSBub3cpO1xuICAgIH1cblxuICAgIGlmICh3YWl0VGltZSA8IDIpIHtcbiAgICAgIC8vIFdlIHdhaXRlZCBsb25nIGVub3VnaC5cbiAgICAgIHRoaXMuc3RhcnRFdmVudGluZ18ocmVhZHlJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU29tZSBjb25mbGljdHM6IGhhdmUgdG8gd2FpdCB0byBzZWUgd2hvIHdpbnMuXG4gICAgdGhpcy5wYXNzXy5zY2hlZHVsZSh3YWl0VGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyByZWNvZ25pemVyIGlzIGdpdmVuIFwiZ28gYWhlYWRcIiBhbmQgYWxsIG90aGVycyBhcmUgY2FuY2VsZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRFdmVudGluZ18oaW5kZXgpIHtcbiAgICBjb25zdCByZWNvZ25pemVyID0gdGhpcy5yZWNvZ25pemVyc19baW5kZXhdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNvZ25pemVyc18ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpICE9IGluZGV4KSB7XG4gICAgICAgIHRoaXMuY2FuY2VsRXZlbnRpbmdfKGkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlYWR5X1tpbmRleF0gPSAwO1xuICAgIHRoaXMucGVuZGluZ19baW5kZXhdID0gMDtcbiAgICB0aGlzLmV2ZW50aW5nXyA9IHJlY29nbml6ZXI7XG4gICAgcmVjb2duaXplci5hY2NlcHRTdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRUcmFja2luZ18oaW5kZXgpIHtcbiAgICB0aGlzLnRyYWNraW5nX1tpbmRleF0gPSB0cnVlO1xuICAgIHRoaXMucGVuZGluZ19baW5kZXhdID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0b3BUcmFja2luZ18oaW5kZXgpIHtcbiAgICB0aGlzLnRyYWNraW5nX1tpbmRleF0gPSBmYWxzZTtcbiAgICB0aGlzLnBlbmRpbmdfW2luZGV4XSA9IDA7XG4gICAgaWYgKCF0aGlzLnJlYWR5X1tpbmRleF0pIHtcbiAgICAgIHRoaXMucmVjb2duaXplcnNfW2luZGV4XS5hY2NlcHRDYW5jZWwoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjYW5jZWxFdmVudGluZ18oaW5kZXgpIHtcbiAgICB0aGlzLnJlYWR5X1tpbmRleF0gPSAwO1xuICAgIHRoaXMuc3RvcFRyYWNraW5nXyhpbmRleCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFRoZSBnZXN0dXJlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdGhlIHBvaW50ZXIgZXZlbnRzIGZyb20gR2VzdHVyZXMgaW5zdGFuY2UuXG4gKiBCYXNlZCBvbiB0aGVzZSBldmVudHMsIGl0IGNhbiBcInJlY29nbml6ZVwiIHRoZSBnZXN0dXJlIGl0J3MgcmVzcG9uc2libGUgZm9yLFxuICogcmVxdWVzdCB0byBzdGFydCBlbWl0dGluZyBhbmQgZW1pdCBnZXN0dXJlcy4gR2VzdHVyZXMgaW5zdGFuY2VzIG1hbmFnZXNcbiAqIHNldmVyYWwgY29tcGV0aW5nIHJlY29nbml6ZXJzIGFuZCBkZWNpZGVzIHdoaWNoIG9uZXMgZ2V0IHRvIGVtaXQgZ2VzdHVyZXNcbiAqIGFuZCB3aGljaCBkbyBub3QuXG4gKlxuICogVGhlIHJlY29nbml6ZXIgY2FuIGJlIGluIHNldmVyYWwgbWFpbiBzdGF0ZXM6XG4gKiAxLiBUcmFja2luZyBzdGF0ZS4gSW4gdGhpcyBzdGF0ZSB0aGUgcmVjb2duaXplciBpcyByZWNlaXZpbmcgdGhlIHNlcmllcyBvZlxuICogICAgdG91Y2ggZXZlbnRzIGZyb20gdG91Y2hzdGFydCB0byB0b3VjaGVuZC4gVG8gZ2V0IGludG8gdGhpcyBzdGF0ZSB0aGVcbiAqICAgIHJlY29nbml6ZXIgaGFzIHRvIHJldHVybiBcInRydWVcIiBmcm9tIHRoZSB7QGxpbmsgb25Ub3VjaFN0YXJ0fS5cbiAqIDIuIFBlbmRpbmcgc3RhdGUgKG9wdGlvbmFsKS4gVGhlIHJlY29nbml6ZXIgbWF0Y2hlZCBwYXJ0IG9mIHRoZSBnZXN0dXJlLFxuICogICAgYnV0IG5lZWRzIG1vcmUgdGltZSB0byBnZXQgdHJhY2sgbW9yZSBldmVudHMuIEl0IHJlcXVlc3RzIG1vcmUgdGltZVxuICogICAgYnkgY2FsbGluZyB7QGxpbmsgc2lnbmFsUGVuZGluZ30sIEJ5IHRoZSBlbmQgb2YgdGhpcyB0aW1lIHRoZSByZWNvZ25pemVyXG4gKiAgICBoYXMgZWl0aGVyIG1hdGNoZWQgdGhlIGdlc3R1cmUgb3IgaGFzIGJlZW4gY2FuY2VsZWQuXG4gKiAzLiBSZWFkeSBzdGF0ZS4gVGhlIHJlY29nbml6ZXIgbWF0Y2hlZCB0aGUgd2hvbGUgZ2VzdHVyZSBhbmQgcmVhZHkgdG8gc3RhcnRcbiAqICAgIGVtaXR0aW5nLiBJdCBjb21tdW5pY2F0ZXMgdG8gdGhlIEdlc3R1cmVzIHRoaXMgcmVhZGluZXNzIGJ5IGNhbGxpbmdcbiAqICAgIHtAbGluayBzaWduYWxSZWFkeX0uXG4gKiA1LiBFbWl0dGluZyBzdGF0ZS4gSWYgR2VzdHVyZXMgZGVjaWRlcyB0byBnbyBhaGVhZCB3aXRoIHRoaXMgcmVjb2duaXplciwgaXRcbiAqICAgIHdpbGwgY2FsbCB7QGxpbmsgYWNjZXB0U3RhcnR9IG1ldGhvZC4gT3RoZXJ3aXNlLCBpdCB3aWxsIGNhbGxcbiAqICAgIHtAbGluayBhY2NlcHRDYW5jZWx9IG1ldGhvZC4gT25jZSBpbiB0aGUgZW1pdHRpbmcgc3RhdGUsIHRoZSByZWNvZ25pemVyXG4gKiAgICBjYW4gZW1pdCBhbnkgbnVtYmVyIG9mIGV2ZW50cyBieSBjYWxsaW5nIHtAbGluayBzaWduYWxFbWl0fS5cbiAqIDYuIENvbXBsZXRlIHN0YXRlLiBPbmNlIGRvbmUsIHRoZSByZWNvZ25pemVyIGNhbiBjYWxsIHtAbGluayBzaWduYWxFbmR9IHRvXG4gKiAgICBjb21tdW5pY2F0ZSB0aGF0IGl0J3MgZG9uZS5cbiAqXG4gKiBAdGVtcGxhdGUgREFUQVxuICovXG5leHBvcnQgY2xhc3MgR2VzdHVyZVJlY29nbml6ZXIge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0geyFHZXN0dXJlc30gbWFuYWdlclxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgbWFuYWdlcikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnR5cGVfID0gdHlwZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFHZXN0dXJlc30gKi9cbiAgICB0aGlzLm1hbmFnZXJfID0gbWFuYWdlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0eXBlIG9mIHRoZSBnZXN0dXJlIGVtaXR0ZWQgYnkgdGhlIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqIEl0IGhhcyB0byBiZSB1bmlxdWUgaW4gdGhlIHNjb3BlIG9mIHRoZSBHZXN0dXJlcyBpbnN0YW5jZS5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVjb2duaXplciBjYW4gY2FsbCB0aGlzIG1ldGhvZCB0byBjb21tdW5pY2F0ZSB0aGF0IGl0J3MgcmVhZHkgdG9cbiAgICogc3RhcnQgZW1pdHRpbmcgdGhlIGdlc3R1cmUuIE9wdGlvbmFsbHkgaXQgY2FuIHBhc3MgYSB6ZXJvLCBwb3NpdGl2ZSBvclxuICAgKiBuZWdhdGl2ZSBvZmZzZXQgLSBhIHRpbWUgb24gaG93IG11Y2ggdGhlIGdlc3R1cmUgc2hvdWxkIGJlIHBlbmFsaXplZCBvclxuICAgKiBnaXZlbiBhZHZhbnRhZ2UgaW4gY29uZmxpY3QgcmVzb2x1dGlvbi4gVGhlIHJlY29nbml6ZXIgYXQgdGhpcyBwb2ludCBpc1xuICAgKiBpbiB0aGUgXCJyZWFkeVwiIHN0YXRlLlxuICAgKiBAcGFyYW0ge3RpbWV9IG9mZnNldFxuICAgKi9cbiAgc2lnbmFsUmVhZHkob2Zmc2V0KSB7XG4gICAgdGhpcy5tYW5hZ2VyXy5zaWduYWxSZWFkeV8odGhpcywgb2Zmc2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVjb2duaXplciBjYW4gY2FsbCB0aGlzIG1ldGhvZCB0byBjb21tdW5pY2F0ZSB0aGF0IGl0IG5lZWRzIG1vcmVcbiAgICogdGltZSAodGltZUxlZnQpIHRvIG1hdGNoIHRoZSBnZXN0dXJlLiBCeSB0aGUgZW5kIG9mIHRoaXMgdGltZSB0aGVcbiAgICogcmVjb2duaXplciBoYXMgdG8gZWl0aGVyIHRyYW5zaXQgdG8gdGhlIHJlYWR5IHN0YXRlIHVzaW5nXG4gICAqIHtAbGluayBzaWduYWxSZWFkeX0gb3IgaXQgd2lsbCBiZSBjYW5jZWxlZC4gVGhlIHJlY29nbml6ZXIgaXMgaW4gdGhlXG4gICAqIFwicGVuZGluZ1wiIHN0YXRlLlxuICAgKiBAcGFyYW0ge3RpbWV9IHRpbWVMZWZ0XG4gICAqL1xuICBzaWduYWxQZW5kaW5nKHRpbWVMZWZ0KSB7XG4gICAgdGhpcy5tYW5hZ2VyXy5zaWduYWxQZW5kaW5nXyh0aGlzLCB0aW1lTGVmdCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHJlY29nbml6ZXIgY2FuIGNhbGwgdGhpcyBtZXRob2QgdG8gY29tbXVuaWNhdGUgdGhhdCBpdCdzIGRvbmVcbiAgICogZW1pdHRpbmcgdGhlIGdlc3R1cmVzLiBJdCB3aWxsIHJldHVybiB0byB0aGUgd2FpdGluZyBzdGF0ZS4gUmVjb2duaXplclxuICAgKiBjYW4gb25seSBjYWxsIHRoaXMgbWV0aG9kIGlmIGl0IGhhcyBwcmV2aW91c2x5IHJlY2VpdmVkIHRoZVxuICAgKiB7QGxpbmsgYWNjZXB0U3RhcnR9IGNhbGwuXG4gICAqL1xuICBzaWduYWxFbmQoKSB7XG4gICAgdGhpcy5tYW5hZ2VyXy5zaWduYWxFbmRfKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByZWNvZ25pemVyIGNhbiBjYWxsIHRoaXMgbWV0aG9kIHRvIGVtaXQgdGhlIGdlc3R1cmVzIHdoaWxlIGluIHRoZVxuICAgKiBcImVtaXR0aW5nXCIgc3RhdGUuIFJlY29nbml6ZXIgY2FuIG9ubHkgY2FsbCB0aGlzIG1ldGhvZCBpZiBpdCBoYXNcbiAgICogcHJldmlvdXNseSByZWNlaXZlZCB0aGUge0BsaW5rIGFjY2VwdFN0YXJ0fSBjYWxsLlxuICAgKiBAcGFyYW0ge0RBVEF9IGRhdGFcbiAgICogQHBhcmFtIHs/RXZlbnR9IGV2ZW50XG4gICAqL1xuICBzaWduYWxFbWl0KGRhdGEsIGV2ZW50KSB7XG4gICAgdGhpcy5tYW5hZ2VyXy5zaWduYWxFbWl0Xyh0aGlzLCBkYXRhLCBldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIEdlc3R1cmVzIGluc3RhbmNlIGNhbGxzIHRoaXMgbWV0aG9kIHRvIGFsbG93IHRoZSByZWNvZ25pemVyIHRvIHN0YXJ0XG4gICAqIGVtaXR0aW5nIHRoZSBnZXN0dXJlcy4gQXQgdGhpcyBwb2ludCB0aGUgcmVjb2duaXplciBpcyBpbiB0aGUgXCJlbWl0dGluZ1wiXG4gICAqIHN0YXRlLiBJdCB3aWxsIGJlIGluIHRoaXMgc3RhdGUgdW50aWwgaXQgY2FsbHMge0BsaW5rIHNpZ25hbEVuZH0gb3JcbiAgICogdGhlIHtAbGluayBhY2NlcHRDYW5jZWx9IGlzIGNhbGxlZCBieSB0aGUgR2VzdHVyZXMgaW5zdGFuY2UuXG4gICAqL1xuICBhY2NlcHRTdGFydCgpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgR2VzdHVyZXMgaW5zdGFuY2UgY2FsbHMgdGhpcyBtZXRob2QgdG8gcmVzZXQgdGhlIHJlY29nbml6ZXIuIEF0IHRoaXNcbiAgICogcG9pbnQgdGhlIHJlY29nbml6ZXIgaXMgaW4gdGhlIGluaXRpYWwgd2FpdGluZyBzdGF0ZS5cbiAgICovXG4gIGFjY2VwdENhbmNlbCgpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgR2VzdHVyZXMgaW5zdGFuY2UgY2FsbHMgdGhpcyBtZXRob2QgZm9yIGVhY2ggXCJ0b3VjaHN0YXJ0XCIgZXZlbnQuIElmXG4gICAqIHRoZSByZWNvZ25pemVyIHdhbnRzIHRvIHJlY2VpdmUgb3RoZXIgdG91Y2ggZXZlbnRzIGluIHRoZSBzZXJpZXMsIGl0IGhhc1xuICAgKiB0byByZXR1cm4gXCJ0cnVlXCIuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSB1bnVzZWRFdmVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgb25Ub3VjaFN0YXJ0KHVudXNlZEV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBHZXN0dXJlcyBpbnN0YW5jZSBjYWxscyB0aGlzIG1ldGhvZCBmb3IgZWFjaCBcInRvdWNobW92ZVwiIGV2ZW50LiBJZlxuICAgKiB0aGUgcmVjb2duaXplciB3YW50cyB0byBjb250aW51ZSByZWNlaXZpbmcgdG91Y2ggZXZlbnRzIGluIHRoZSBzZXJpZXMsXG4gICAqIGl0IGhhcyB0byByZXR1cm4gXCJ0cnVlXCIuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSB1bnVzZWRFdmVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgb25Ub3VjaE1vdmUodW51c2VkRXZlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhlIEdlc3R1cmVzIGluc3RhbmNlIGNhbGxzIHRoaXMgbWV0aG9kIGZvciB0aGUgXCJ0b3VjaGVuZFwiIGV2ZW50LlxuICAgKiBTb21ld2hlcmUgd2l0aGluIHRoaXMgdG91Y2ggc2VyaWVzIHRoZSByZWNvZ25pemVyIGhhcyB0byBjYWxsXG4gICAqIHtAbGluayBzaWduYWxSZWFkeX0gb3Ige0BsaW5rIHNpZ25hbFBlbmRpbmd9IG9yIGl0IHdpbGwgYmUgcmVzZXQgZm9yIHRoZVxuICAgKiBuZXh0IHRvdWNoIHNlcmllcy5cbiAgICogQHBhcmFtIHshRXZlbnR9IHVudXNlZEV2ZW50XG4gICAqL1xuICBvblRvdWNoRW5kKHVudXNlZEV2ZW50KSB7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBtb2R1bGUgZGVjbGFyZXMgSlNPTiB0eXBlcyBhcyBkZWZpbmVkIGluIHRoZVxuICoge0BsaW5rIGh0dHA6Ly9qc29uLm9yZy99LlxuICovXG5cbmltcG9ydCB7aXNPYmplY3R9IGZyb20gJy4vdHlwZXMnO1xuXG5cbi8vIE5PVEUgVHlwZSBhcmUgY2hhbmdlZCB0byB7Kn0gYmVjYXVzZSBvZlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8xOTk5XG5cbi8qKlxuICogSlNPTiBzY2FsYXIuIEl0J3MgZWl0aGVyIHN0cmluZywgbnVtYmVyIG9yIGJvb2xlYW4uXG4gKiBAdHlwZWRlZiB7Kn0gc2hvdWxkIGJlIHN0cmluZ3xudW1iZXJ8Ym9vbGVhblxuICovXG5sZXQgSlNPTlNjYWxhckRlZjtcblxuXG4vKipcbiAqIEpTT04gb2JqZWN0LiBJdCdzIGEgbWFwIHdpdGggc3RyaW5nIGtleXMgYW5kIEpTT04gdmFsdWVzLlxuICogQHR5cGVkZWYgeyp9IHNob3VsZCBiZSAhT2JqZWN0PHN0cmluZywgP0pTT05WYWx1ZURlZj5cbiAqL1xubGV0IEpTT05PYmplY3REZWY7XG5cblxuLyoqXG4gKiBKU09OIGFycmF5LiBJdCdzIGFuIGFycmF5IHdpdGggSlNPTiB2YWx1ZXMuXG4gKiBAdHlwZWRlZiB7Kn0gc2hvdWxkIGJlICFBcnJheTw/SlNPTlZhbHVlRGVmPlxuICovXG5sZXQgSlNPTkFycmF5RGVmO1xuXG5cbi8qKlxuICogSlNPTiB2YWx1ZS4gSXQncyBlaXRoZXIgYSBzY2FsYXIsIGFuIG9iamVjdCBvciBhbiBhcnJheS5cbiAqIEB0eXBlZGVmIHsqfSBzaG91bGQgYmUgIUpTT05TY2FsYXJEZWZ8IUpTT05PYmplY3REZWZ8IUpTT05BcnJheURlZlxuICovXG5sZXQgSlNPTlZhbHVlRGVmO1xuXG4vKipcbiAqIFJlY3JlYXRlcyBvYmplY3RzIHdpdGggcHJvdG90eXBlLWxlc3MgY29waWVzLlxuICogQHBhcmFtIHshSnNvbk9iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHshSnNvbk9iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY3JlYXRlTm9uUHJvdG9PYmplY3Qob2JqKSB7XG4gIGNvbnN0IGNvcHkgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgdiA9IG9ialtrXTtcbiAgICBjb3B5W2tdID0gaXNPYmplY3QodikgPyByZWNyZWF0ZU5vblByb3RvT2JqZWN0KHYpIDogdjtcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKGNvcHkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmcm9tIGFuIG9iamVjdCBmb3IgYSBmaWVsZC1iYXNlZCBleHByZXNzaW9uLiBUaGUgZXhwcmVzc2lvblxuICogaXMgYSBzaW1wbGUgbmVzdGVkIGRvdC1ub3RhdGlvbiBvZiBmaWVsZHMsIHN1Y2ggYXMgYGZpZWxkMS5maWVsZDJgLiBJZiBhbnlcbiAqIGZpZWxkIGluIGEgY2hhaW4gZG9lcyBub3QgZXhpc3Qgb3IgaXMgbm90IGFuIG9iamVjdCBvciBhcnJheSwgdGhlIHJldHVybmVkXG4gKiB2YWx1ZSB3aWxsIGJlIGB1bmRlZmluZWRgLlxuICpcbiAqIEBwYXJhbSB7IUpzb25PYmplY3R9IG9ialxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUZvckV4cHIob2JqLCBleHByKSB7XG4gIC8vIFRoZSBgLmAgaW5kaWNhdGVzIFwidGhlIG9iamVjdCBpdHNlbGZcIi5cbiAgaWYgKGV4cHIgPT0gJy4nKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICAvLyBPdGhlcndpc2UsIG5hdmlnYXRlIHZpYSBwcm9wZXJ0aWVzLlxuICBjb25zdCBwYXJ0cyA9IGV4cHIuc3BsaXQoJy4nKTtcbiAgbGV0IHZhbHVlID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgIGlmIChwYXJ0ICYmXG4gICAgICAgIHZhbHVlICYmXG4gICAgICAgIHZhbHVlW3BhcnRdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgaGFzT3duUHJvcGVydHkodmFsdWUsIHBhcnQpXG4gICAgKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgd3JhcHBlciBhcm91bmQgSlNPTi5wYXJzZSB0aGF0IGNhc3RzIHRoZSByZXR1cm4gdmFsdWVcbiAqIHRvIEpzb25PYmplY3QuXG4gKiBDcmVhdGUgYSBuZXcgd3JhcHBlciBpZiBhbiBhcnJheSByZXR1cm4gdmFsdWUgaXMgZGVzaXJlZC5cbiAqIEBwYXJhbSB7Kn0ganNvbiBKU09OIHN0cmluZyB0byBwYXJzZVxuICogQHJldHVybiB7P0pzb25PYmplY3R9IE1heSBiZSBleHRlbmQgdG8gcGFyc2UgYXJyYXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKc29uKGpzb24pIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7P0pzb25PYmplY3R9ICovKEpTT04ucGFyc2UoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChqc29uKSkpO1xufVxuXG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gYGpzb25gIHN0cmluZyB3aXRob3V0IHRocm93aW5nIGFuIGV4Y2VwdGlvbiBpZiBub3QgdmFsaWQuXG4gKiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmIHBhcnNpbmcgZmFpbHMuXG4gKiBSZXR1cm5zIHRoZSBgT2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBKU09OIHN0cmluZyB3aGVuIHBhcnNpbmcgc3VjY2VlZHMuXG4gKiBAcGFyYW0geyp9IGpzb24gSlNPTiBzdHJpbmcgdG8gcGFyc2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVycm9yKT19IG9wdF9vbkZhaWxlZCBPcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkXG4gKiAgICAgd2l0aCB0aGUgZXJyb3IgaWYgcGFyc2luZyBmYWlscy5cbiAqIEByZXR1cm4gez9Kc29uT2JqZWN0fHVuZGVmaW5lZH0gTWF5IGJlIGV4dGVuZCB0byBwYXJzZSBhcnJheXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlQYXJzZUpzb24oanNvbiwgb3B0X29uRmFpbGVkKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHBhcnNlSnNvbihqc29uKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChvcHRfb25GYWlsZWQpIHtcbiAgICAgIG9wdF9vbkZhaWxlZChlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGNoZWNrcyBzdHJpY3QgZXF1YWxpdHkgb2YgaXRlbXMgaW4gbmVzdGVkIGFycmF5cyBhbmQgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0ge0pTT05WYWx1ZURlZn0gYVxuICogQHBhcmFtIHtKU09OVmFsdWVEZWZ9IGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguIE11c3QgYmUgZmluaXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBkZXB0aCBhcmd1bWVudCBpcyBub3QgZmluaXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjdXJzaXZlRXF1YWxzKGEsIGIsIGRlcHRoID0gMykge1xuICBpZiAoIWlzRmluaXRlKGRlcHRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGVwdGggYXJnIG11c3QgYmUgZmluaXRlOiAnICsgZGVwdGgpO1xuICB9XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gT25seSBjaGVjayBzaGFsbG93IGVxdWFsaXR5IGZvciBkZXB0aCA8IDEuXG4gIGlmIChkZXB0aCA8IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcmVjdXJzaXZlRXF1YWxzKGFbaV0sIGJbaV0sIGRlcHRoIC0gMSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBrZXlzQSA9IE9iamVjdC5rZXlzKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGEpKTtcbiAgICBjb25zdCBrZXlzQiA9IE9iamVjdC5rZXlzKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGIpKTtcbiAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5QSA9IGtleXNBW2ldO1xuICAgICAgY29uc3QgdmFsdWVBID0gYVtrZXlBXTtcbiAgICAgIGNvbnN0IHZhbHVlQiA9IGJba2V5QV07XG4gICAgICBpZiAoIXJlY3Vyc2l2ZUVxdWFscyh2YWx1ZUEsIHZhbHVlQiwgZGVwdGggLSAxKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIGtleSkge1xuICBpZiAob2JqID09IG51bGwgfHwgdHlwZW9mIG9iaiAhPSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAob2JqKSwga2V5KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cbi8qKlxuICogVGhlIHN0cnVjdHVyZSB0aGF0IGNvbWJpbmVzIHBvc2l0aW9uIGFuZCBzaXplIGZvciBhbiBlbGVtZW50LiBUaGUgZXhhY3RcbiAqIGludGVycHJldGF0aW9uIG9mIHBvc2l0aW9uIGFuZCBzaXplIGRlcGVuZHMgb24gdGhlIHVzZSBjYXNlLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRvcDogbnVtYmVyLFxuICogICBib3R0b206IG51bWJlcixcbiAqICAgbGVmdDogbnVtYmVyLFxuICogICByaWdodDogbnVtYmVyLFxuICogICB3aWR0aDogbnVtYmVyLFxuICogICBoZWlnaHQ6IG51bWJlcixcbiAqICAgeDogbnVtYmVyLFxuICogICB5OiBudW1iZXJcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTGF5b3V0UmVjdERlZjtcblxuXG4vKipcbiAqIFRoZSBzdHJ1Y3R1cmUgdGhhdCByZXByZXNlbnRzIHRoZSBtYXJnaW5zIG9mIGFuIEVsZW1lbnQuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgdG9wOiBudW1iZXIsXG4gKiAgIHJpZ2h0OiBudW1iZXIsXG4gKiAgIGJvdHRvbTogbnVtYmVyLFxuICogICBsZWZ0OiBudW1iZXJcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTGF5b3V0TWFyZ2luc0RlZjtcblxuXG4vKipcbiAqIFRoZSBzdHJ1Y3R1cmUgdGhhdCByZXByZXNlbnRzIGEgcmVxdWVzdGVkIGNoYW5nZSB0byB0aGUgbWFyZ2lucyBvZiBhblxuICogRWxlbWVudC4gQW55IG5ldyB2YWx1ZXMgc3BlY2lmaWVkIHdpbGwgcmVwbGFjZSBleGlzdGluZyBvbmVzIChyYXRoZXIgdGhhblxuICogYmVpbmcgYWRkaXRpdmUpLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRvcDogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICByaWdodDogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICBib3R0b206IChudW1iZXJ8dW5kZWZpbmVkKSxcbiAqICAgbGVmdDogKG51bWJlcnx1bmRlZmluZWQpXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IExheW91dE1hcmdpbnNDaGFuZ2VEZWY7XG5cbi8qKlxuKiBSZWxhdGl2ZVBvc2l0aW9uc1xuKlxuKiBEZXNjcmliZXMgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgdG8gYW5vdGhlciAod2hldGhlciB0aGVcbiogZmlyc3QgaXMgaW5zaWRlIHRoZSBzZWNvbmQsIG9uIHRvcCBvZiB0aGUgc2Vjb25kIG9yIG9uIHRoZSBib3R0b21cbiogQGVudW0ge3N0cmluZ31cbiovXG5leHBvcnQgY29uc3QgUmVsYXRpdmVQb3NpdGlvbnMgPSB7XG4gIElOU0lERTogJ2luc2lkZScsXG4gIFRPUDogJ3RvcCcsXG4gIEJPVFRPTTogJ2JvdHRvbScsXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBsYXlvdXQgcmVjdCBiYXNlZCBvbiB0aGUgbGVmdCwgdG9wLCB3aWR0aCBhbmQgaGVpZ2h0IHBhcmFtZXRlcnNcbiAqIGluIHRoYXQgb3JkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdFxuICogQHBhcmFtIHtudW1iZXJ9IHRvcFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gKiBAcmV0dXJuIHshTGF5b3V0UmVjdERlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxheW91dFJlY3RMdHdoKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICByZXR1cm4ge1xuICAgIGxlZnQsXG4gICAgdG9wLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBib3R0b206IHRvcCArIGhlaWdodCxcbiAgICByaWdodDogbGVmdCArIHdpZHRoLFxuICAgIHg6IGxlZnQsXG4gICAgeTogdG9wLFxuICB9O1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIGxheW91dCByZWN0IGJhc2VkIG9uIHRoZSBET01SZWN0LCBlLmcuIG9idGFpbmVkIGZyb20gY2FsbGluZ1xuICogZ2V0Qm91bmRpbmdDbGllbnRSZWN0LlxuICogQHBhcmFtIHshQ2xpZW50UmVjdH0gcmVjdFxuICogQHJldHVybiB7IUxheW91dFJlY3REZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXlvdXRSZWN0RnJvbURvbVJlY3QocmVjdCkge1xuICByZXR1cm4gbGF5b3V0UmVjdEx0d2goTnVtYmVyKHJlY3QubGVmdCksIE51bWJlcihyZWN0LnRvcCksXG4gICAgICBOdW1iZXIocmVjdC53aWR0aCksIE51bWJlcihyZWN0LmhlaWdodCkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHR3byByZWN0cyBvdmVybGFwIGJ5IGEgc2luZ2xlIHBpeGVsLlxuICogQHBhcmFtIHshTGF5b3V0UmVjdERlZn0gcjFcbiAqIEBwYXJhbSB7IUxheW91dFJlY3REZWZ9IHIyXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGF5b3V0UmVjdHNPdmVybGFwKHIxLCByMikge1xuICByZXR1cm4gKHIxLnRvcCA8PSByMi5ib3R0b20gJiYgcjIudG9wIDw9IHIxLmJvdHRvbSAmJlxuICAgICAgcjEubGVmdCA8PSByMi5yaWdodCAmJiByMi5sZWZ0IDw9IHIxLnJpZ2h0KTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIGEsIGIgb3IgbnVsbCBpZiB0aGVyZSBpcyBub25lLlxuICogQHBhcmFtIHsuLi4/TGF5b3V0UmVjdERlZnx1bmRlZmluZWR9IHZhcl9hcmdzXG4gKiBAcmV0dXJuIHs/TGF5b3V0UmVjdERlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY3RJbnRlcnNlY3Rpb24odmFyX2FyZ3MpIHtcbiAgbGV0IHgwID0gLUluZmluaXR5O1xuICBsZXQgeDEgPSBJbmZpbml0eTtcbiAgbGV0IHkwID0gLUluZmluaXR5O1xuICBsZXQgeTEgPSBJbmZpbml0eTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjdXJyZW50ID0gYXJndW1lbnRzW2ldO1xuICAgIGlmICghY3VycmVudCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHgwID0gTWF0aC5tYXgoeDAsIGN1cnJlbnQubGVmdCk7XG4gICAgeDEgPSBNYXRoLm1pbih4MSwgY3VycmVudC5sZWZ0ICsgY3VycmVudC53aWR0aCk7XG4gICAgeTAgPSBNYXRoLm1heCh5MCwgY3VycmVudC50b3ApO1xuICAgIHkxID0gTWF0aC5taW4oeTEsIGN1cnJlbnQudG9wICsgY3VycmVudC5oZWlnaHQpO1xuICAgIGlmICh4MSA8IHgwIHx8IHkxIDwgeTApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoeDEgPT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gbGF5b3V0UmVjdEx0d2goeDAsIHkwLCB4MSAtIHgwLCB5MSAtIHkwKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiByMiByZWxhdGl2ZSB0byByMVxuICogQHBhcmFtIHshTGF5b3V0UmVjdERlZn0gcjFcbiAqIEBwYXJhbSB7IUxheW91dFJlY3REZWZ9IHIyXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9uc31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxheW91dFJlY3RzUmVsYXRpdmVQb3MocjEsIHIyKSB7XG4gIGlmIChyMS50b3AgPCByMi50b3ApIHtcbiAgICByZXR1cm4gUmVsYXRpdmVQb3NpdGlvbnMuVE9QO1xuICB9IGVsc2UgaWYgKHIxLmJvdHRvbSA+IHIyLmJvdHRvbSkge1xuICAgIHJldHVybiBSZWxhdGl2ZVBvc2l0aW9ucy5CT1RUT007XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFJlbGF0aXZlUG9zaXRpb25zLklOU0lERTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cGFuZCB0aGUgbGF5b3V0IHJlY3QgdXNpbmcgbXVsdGlwbGVzIG9mIHdpZHRoIGFuZCBoZWlnaHQuXG4gKiBAcGFyYW0geyFMYXlvdXRSZWN0RGVmfSByZWN0IE9yaWdpbmFsIHJlY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gZHcgRXhwYW5zaW9uIGluIHdpZHRoLCBzcGVjaWZpZWQgYXMgYSBtdWx0aXBsZSBvZiB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaCBFeHBhbnNpb24gaW4gaGVpZ2h0LCBzcGVjaWZpZWQgYXMgYSBtdWx0aXBsZSBvZiBoZWlnaHQuXG4gKiBAcmV0dXJuIHshTGF5b3V0UmVjdERlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZExheW91dFJlY3QocmVjdCwgZHcsIGRoKSB7XG4gIHJldHVybiBsYXlvdXRSZWN0THR3aChyZWN0LmxlZnQgLSByZWN0LndpZHRoICogZHcsXG4gICAgICByZWN0LnRvcCAtIHJlY3QuaGVpZ2h0ICogZGgsXG4gICAgICByZWN0LndpZHRoICogKDEgKyBkdyAqIDIpLFxuICAgICAgcmVjdC5oZWlnaHQgKiAoMSArIGRoICogMikpO1xufVxuXG4vKipcbiAqIE1vdmVzIHRoZSBsYXlvdXQgcmVjdCB1c2luZyBkeCBhbmQgZHkuXG4gKiBAcGFyYW0geyFMYXlvdXRSZWN0RGVmfSByZWN0IE9yaWdpbmFsIHJlY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gZHggTW92ZSBob3Jpem9udGFsbHkgd2l0aCB0aGlzIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IGR5IE1vdmUgdmVydGljYWxseSB3aXRoIHRoaXMgdmFsdWUuXG4gKiBAcmV0dXJuIHshTGF5b3V0UmVjdERlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVMYXlvdXRSZWN0KHJlY3QsIGR4LCBkeSkge1xuICBpZiAoKGR4ID09IDAgJiYgZHkgPT0gMCkgfHxcbiAgICAgIChyZWN0LndpZHRoID09IDAgJiYgcmVjdC5oZWlnaHQgPT0gMCkpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICByZXR1cm4gbGF5b3V0UmVjdEx0d2gocmVjdC5sZWZ0ICsgZHgsIHJlY3QudG9wICsgZHksXG4gICAgICByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFMYXlvdXRNYXJnaW5zRGVmfSBtYXJnaW5zXG4gKiBAcGFyYW0geyFMYXlvdXRNYXJnaW5zQ2hhbmdlRGVmfSBjaGFuZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVNYXJnaW5zQ2hhbmdlZChtYXJnaW5zLCBjaGFuZ2UpIHtcbiAgcmV0dXJuIChjaGFuZ2UudG9wICE9PSB1bmRlZmluZWQgJiYgY2hhbmdlLnRvcCAhPSBtYXJnaW5zLnRvcCkgfHxcbiAgICAgIChjaGFuZ2UucmlnaHQgIT09IHVuZGVmaW5lZCAmJiBjaGFuZ2UucmlnaHQgIT0gbWFyZ2lucy5yaWdodCkgfHxcbiAgICAgIChjaGFuZ2UuYm90dG9tICE9PSB1bmRlZmluZWQgJiYgY2hhbmdlLmJvdHRvbSAhPSBtYXJnaW5zLmJvdHRvbSkgfHxcbiAgICAgIChjaGFuZ2UubGVmdCAhPT0gdW5kZWZpbmVkICYmIGNoYW5nZS5sZWZ0ICE9IG1hcmdpbnMubGVmdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshTGF5b3V0UmVjdERlZn0gZnJvbVxuICogQHBhcmFtIHshTGF5b3V0UmVjdERlZn0gdG9cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXlvdXRSZWN0U2l6ZUVxdWFscyhmcm9tLCB0bykge1xuICByZXR1cm4gZnJvbS53aWR0aCA9PSB0by53aWR0aCAmJlxuICAgICAgZnJvbS5oZWlnaHQgPT09IHRvLmhlaWdodDtcbn1cblxuLyoqXG4gKiBAcGFyYW0gez9MYXlvdXRSZWN0RGVmfSByMVxuICogQHBhcmFtIHs/TGF5b3V0UmVjdERlZn0gcjJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXlvdXRSZWN0RXF1YWxzKHIxLCByMikge1xuICBpZiAoIXIxIHx8ICFyMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gcjEubGVmdCA9PSByMi5sZWZ0ICYmIHIxLnRvcCA9PSByMi50b3AgJiZcbiAgICAgIHIxLndpZHRoID09IHIyLndpZHRoICYmIHIxLmhlaWdodCA9PSByMi5oZWlnaHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtMYXlvdXRNYXJnaW5zQ2hhbmdlRGVmfHVuZGVmaW5lZH0gbWFyZ2luc0NoYW5nZVxuICogQHJldHVybiB7TGF5b3V0TWFyZ2luc0NoYW5nZURlZnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUxheW91dE1hcmdpbnNDaGFuZ2VEZWYobWFyZ2luc0NoYW5nZSkge1xuICBpZiAoIW1hcmdpbnNDaGFuZ2UpIHtcbiAgICByZXR1cm4gbWFyZ2luc0NoYW5nZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRvcDogbWFyZ2luc0NoYW5nZS50b3AsXG4gICAgYm90dG9tOiBtYXJnaW5zQ2hhbmdlLmJvdHRvbSxcbiAgICBsZWZ0OiBtYXJnaW5zQ2hhbmdlLmxlZnQsXG4gICAgcmlnaHQ6IG1hcmdpbnNDaGFuZ2UucmlnaHQsXG4gIH07XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEltcGxlbWVudHMgZWxlbWVudCBsYXlvdXQuIFNlZSBodHRwczovL2dvby5nbC85YXZYdVQgZm9yXG4gKiBkZXRhaWxzLlxuICovXG5cbmltcG9ydCB7ZGV2LCB1c2VyfSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge2h0bWxGb3J9IGZyb20gJy4vc3RhdGljLXRlbXBsYXRlJztcbmltcG9ydCB7aXNGaW5pdGVOdW1iZXJ9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtzZXRTdHlsZSwgc2V0U3R5bGVzfSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCB7c3RhcnRzV2l0aH0gZnJvbSAnLi9zdHJpbmcnO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBMYXlvdXQgPSB7XG4gIE5PRElTUExBWTogJ25vZGlzcGxheScsXG4gIEZJWEVEOiAnZml4ZWQnLFxuICBGSVhFRF9IRUlHSFQ6ICdmaXhlZC1oZWlnaHQnLFxuICBSRVNQT05TSVZFOiAncmVzcG9uc2l2ZScsXG4gIENPTlRBSU5FUjogJ2NvbnRhaW5lcicsXG4gIEZJTEw6ICdmaWxsJyxcbiAgRkxFWF9JVEVNOiAnZmxleC1pdGVtJyxcbiAgRkxVSUQ6ICdmbHVpZCcsXG4gIElOVFJJTlNJQzogJ2ludHJpbnNpYycsXG59O1xuXG5cbi8qKlxuICogTGF5b3V0IHByaW9yaXRpZXMgdG8gdXNlIHdpdGggQmFzZUVsZW1lbnQjZ2V0TGF5b3V0UHJpb3JpdHkoKSBhbmRcbiAqIEJhc2VFbGVtZW50I3VwZGF0ZUxheW91dFByaW9yaXR5KCkuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgTGF5b3V0UHJpb3JpdHkgPSB7XG4gIENPTlRFTlQ6IDAsXG4gIE1FVEFEQVRBOiAxLFxuICBBRFM6IDIsXG4gIEJBQ0tHUk9VTkQ6IDMsXG59O1xuXG5cbi8qKlxuICogQ1NTIExlbmd0aCB0eXBlLiBFLmcuIFwiMXB4XCIgb3IgXCIyMHZoXCIuXG4gKiBAdHlwZWRlZiB7c3RyaW5nfVxuICovXG5leHBvcnQgbGV0IExlbmd0aERlZjtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHdpZHRoOiBzdHJpbmcsXG4gKiAgIGhlaWdodDogc3RyaW5nXG4gKiB9fVxuICovXG5sZXQgRGltZW5zaW9uc0RlZjtcblxuXG4vKipcbiAqIFRoZSBzZXQgb2YgZWxlbWVudHMgd2l0aCBuYXR1cmFsIGRpbWVuc2lvbnMsIHRoYXQgaXMsIGVsZW1lbnRzXG4gKiB3aGljaCBoYXZlIGEga25vd24gZGltZW5zaW9uIGVpdGhlciBiYXNlZCBvbiB0aGVpciB2YWx1ZSBzcGVjaWZpZWQgaGVyZSxcbiAqIG9yLCBpZiB0aGUgdmFsdWUgaXMgbnVsbCwgYSBkaW1lbnNpb24gc3BlY2lmaWMgdG8gdGhlIGJyb3dzZXIuXG4gKiBgaGFzTmF0dXJhbERpbWVuc2lvbnNgIGNoZWNrcyBmb3IgbWVtYmVyc2hpcCBpbiB0aGlzIHNldC5cbiAqIGBnZXROYXR1cmFsRGltZW5zaW9uc2AgZGV0ZXJtaW5lcyB0aGUgZGltZW5zaW9ucyBmb3IgYW4gZWxlbWVudCBpbiB0aGVcbiAqICAgIHNldCBhbmQgY2FjaGVzIGl0LlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCA/RGltZW5zaW9uc0RlZj59XG4gKiBAcHJpdmF0ZSAgVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5IVxuICovXG5leHBvcnQgY29uc3QgbmF0dXJhbERpbWVuc2lvbnNfID0ge1xuICAnQU1QLVBJWEVMJzoge3dpZHRoOiAnMHB4JywgaGVpZ2h0OiAnMHB4J30sXG4gICdBTVAtQU5BTFlUSUNTJzoge3dpZHRoOiAnMXB4JywgaGVpZ2h0OiAnMXB4J30sXG4gIC8vIFRPRE8oZHZveXRlbmtvKTogYXVkaW8gc2hvdWxkIGhhdmUgd2lkdGg6YXV0by5cbiAgJ0FNUC1BVURJTyc6IG51bGwsXG4gICdBTVAtU09DSUFMLVNIQVJFJzoge3dpZHRoOiAnNjBweCcsIGhlaWdodDogJzQ0cHgnfSxcbn07XG5cblxuLyoqXG4gKiBFbGVtZW50cyB0aGF0IHRoZSBwcm9nZXNzIGNhbiBiZSBzaG93biBmb3IuIFRoaXMgc2V0IGhhcyB0byBiZSBleHRlcm5hbGl6ZWRcbiAqIHNpbmNlIHRoZSBlbGVtZW50J3MgaW1wbGVtZW50YXRpb24gbWF5IG5vdCBiZSBkb3dubG9hZGVkIHlldC5cbiAqIEBlbnVtIHtib29sZWFufVxuICogQHByaXZhdGUgIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seSFcbiAqL1xuZXhwb3J0IGNvbnN0IExPQURJTkdfRUxFTUVOVFNfID0ge1xuICAnQU1QLUFOSU0nOiB0cnVlLFxuICAnQU1QLUJSSUdIVENPVkUnOiB0cnVlLFxuICAnQU1QLUdPT0dMRS1ET0NVTUVOVC1FTUJFRCc6IHRydWUsXG4gICdBTVAtRU1CRUQnOiB0cnVlLFxuICAnQU1QLUZBQ0VCT09LJzogdHJ1ZSxcbiAgJ0FNUC1GQUNFQk9PSy1DT01NRU5UUyc6IHRydWUsXG4gICdBTVAtRkFDRUJPT0stTElLRSc6IHRydWUsXG4gICdBTVAtRkFDRUJPT0stUEFHRSc6IHRydWUsXG4gICdBTVAtSUZSQU1FJzogdHJ1ZSxcbiAgJ0FNUC1JTUcnOiB0cnVlLFxuICAnQU1QLUlOU1RBR1JBTSc6IHRydWUsXG4gICdBTVAtTElTVCc6IHRydWUsXG4gICdBTVAtT09ZQUxBLVBMQVlFUic6IHRydWUsXG4gICdBTVAtUElOVEVSRVNUJzogdHJ1ZSxcbiAgJ0FNUC1QTEFZQlVaWic6IHRydWUsXG4gICdBTVAtVklERU8nOiB0cnVlLFxuICAnQU1QLVlPVVRVQkUnOiB0cnVlLFxufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtMYXlvdXR8dW5kZWZpbmVkfSBSZXR1cm5zIHVuZGVmaW5lZCBpbiBjYXNlIG9mIGZhaWx1cmUgdG8gcGFyc2VcbiAqICAgdGhlIGxheW91dCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUxheW91dChzKSB7XG4gIGZvciAoY29uc3QgayBpbiBMYXlvdXQpIHtcbiAgICBpZiAoTGF5b3V0W2tdID09IHMpIHtcbiAgICAgIHJldHVybiBMYXlvdXRba107XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFMYXlvdXR9IGxheW91dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGF5b3V0Q2xhc3MobGF5b3V0KSB7XG4gIHJldHVybiAnaS1hbXBodG1sLWxheW91dC0nICsgbGF5b3V0O1xufVxuXG5cbi8qKlxuICogV2hldGhlciBhbiBlbGVtZW50IHdpdGggdGhpcyBsYXlvdXQgaW5oZXJlbnRseSBkZWZpbmVzIHRoZSBzaXplLlxuICogQHBhcmFtIHshTGF5b3V0fSBsYXlvdXRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xheW91dFNpemVEZWZpbmVkKGxheW91dCkge1xuICByZXR1cm4gKGxheW91dCA9PSBMYXlvdXQuRklYRUQgfHxcbiAgICAgIGxheW91dCA9PSBMYXlvdXQuRklYRURfSEVJR0hUIHx8XG4gICAgICBsYXlvdXQgPT0gTGF5b3V0LlJFU1BPTlNJVkUgfHxcbiAgICAgIGxheW91dCA9PSBMYXlvdXQuRklMTCB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5GTEVYX0lURU0gfHxcbiAgICAgIGxheW91dCA9PSBMYXlvdXQuRkxVSUQgfHxcbiAgICAgIGxheW91dCA9PSBMYXlvdXQuSU5UUklOU0lDKTtcbn1cblxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIHRhZyBpcyBhbiBpbnRlcm5hbCAoc2VydmljZSkgQU1QIHRhZy5cbiAqIEBwYXJhbSB7IU5vZGV8c3RyaW5nfSB0YWdcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVybmFsRWxlbWVudCh0YWcpIHtcbiAgY29uc3QgdGFnTmFtZSA9ICh0eXBlb2YgdGFnID09ICdzdHJpbmcnKSA/IHRhZyA6IHRhZy50YWdOYW1lO1xuICByZXR1cm4gdGFnTmFtZSAmJiBzdGFydHNXaXRoKHRhZ05hbWUudG9Mb3dlckNhc2UoKSwgJ2ktJyk7XG59XG5cblxuLyoqXG4gKiBQYXJzZXMgdGhlIENTUyBsZW5ndGggdmFsdWUuIElmIG5vIHVuaXRzIHNwZWNpZmllZCwgdGhlIGFzc3VtZWQgdmFsdWUgaXNcbiAqIFwicHhcIi4gUmV0dXJucyB1bmRlZmluZWQgaW4gY2FzZSBvZiBwYXJzaW5nIGVycm9yLlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfG51bGx9IHNcbiAqIEByZXR1cm4geyFMZW5ndGhEZWZ8dW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VMZW5ndGgocykge1xuICBpZiAodHlwZW9mIHMgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gcyArICdweCc7XG4gIH1cbiAgaWYgKCFzKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoIS9eXFxkKyhcXC5cXGQrKT8ocHh8ZW18cmVtfHZofHZ3fHZtaW58dm1heHxjbXxtbXxxfGlufHBjfHB0KT8kLy50ZXN0KHMpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoL15cXGQrKFxcLlxcZCspPyQvLnRlc3QocykpIHtcbiAgICByZXR1cm4gcyArICdweCc7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5cblxuXG4vKipcbiAqIEFzc2VydHMgdGhhdCB0aGUgc3VwcGxpZWQgdmFsdWUgaXMgYSBub24tcGVyY2VudCBDU1MgTGVuZ3RoIHZhbHVlLlxuICogQHBhcmFtIHshTGVuZ3RoRGVmfHN0cmluZ3xudWxsfHVuZGVmaW5lZH0gbGVuZ3RoXG4gKiBAcmV0dXJuIHshTGVuZ3RoRGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TGVuZ3RoKGxlbmd0aCkge1xuICB1c2VyKCkuYXNzZXJ0KFxuICAgICAgL15cXGQrKFxcLlxcZCspPyhweHxlbXxyZW18dmh8dnd8dm1pbnx2bWF4fGNtfG1tfHF8aW58cGN8cHQpJC8udGVzdChsZW5ndGgpLFxuICAgICAgJ0ludmFsaWQgbGVuZ3RoIHZhbHVlOiAlcycsIGxlbmd0aCk7XG4gIHJldHVybiAvKiogQHR5cGUgeyFMZW5ndGhEZWZ9ICovIChsZW5ndGgpO1xufVxuXG5cblxuXG4vKipcbiAqIEFzc2VydHMgdGhhdCB0aGUgc3VwcGxpZWQgdmFsdWUgaXMgYSBDU1MgTGVuZ3RoIHZhbHVlXG4gKiAoaW5jbHVkaW5nIHBlcmNlbnQgdW5pdCkuXG4gKiBAcGFyYW0geyFMZW5ndGhEZWZ8c3RyaW5nfSBsZW5ndGhcbiAqIEByZXR1cm4geyFMZW5ndGhEZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRMZW5ndGhPclBlcmNlbnQobGVuZ3RoKSB7XG4gIHVzZXIoKS5hc3NlcnQoL15cXGQrKFxcLlxcZCspPyhweHxlbXxyZW18dmh8dnd8dm1pbnx2bWF4fCUpJC8udGVzdChsZW5ndGgpLFxuICAgICAgJ0ludmFsaWQgbGVuZ3RoIG9yIHBlcmNlbnQgdmFsdWU6ICVzJywgbGVuZ3RoKTtcbiAgcmV0dXJuIGxlbmd0aDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdW5pdHMgZnJvbSB0aGUgQ1NTIGxlbmd0aCB2YWx1ZS5cbiAqIEBwYXJhbSB7IUxlbmd0aERlZnxzdHJpbmd8bnVsbHx1bmRlZmluZWR9IGxlbmd0aFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGVuZ3RoVW5pdHMobGVuZ3RoKSB7XG4gIGFzc2VydExlbmd0aChsZW5ndGgpO1xuICBkZXYoKS5hc3NlcnRTdHJpbmcobGVuZ3RoKTtcbiAgY29uc3QgbSA9IHVzZXIoKS5hc3NlcnQobGVuZ3RoLm1hdGNoKC9bYS16XSsvaSksXG4gICAgICAnRmFpbGVkIHRvIHJlYWQgdW5pdHMgZnJvbSAlcycsIGxlbmd0aCk7XG4gIHJldHVybiBtWzBdO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgbnVtZXJpYyB2YWx1ZSBvZiBhIENTUyBsZW5ndGggdmFsdWUuXG4gKiBAcGFyYW0geyFMZW5ndGhEZWZ8c3RyaW5nfG51bGx8dW5kZWZpbmVkfSBsZW5ndGhcbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZW5ndGhOdW1lcmFsKGxlbmd0aCkge1xuICBjb25zdCByZXMgPSBwYXJzZUZsb2F0KGxlbmd0aCk7XG4gIHJldHVybiBpc0Zpbml0ZU51bWJlcihyZXMpID8gcmVzIDogdW5kZWZpbmVkO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSB0YWdOYW1lIGlzIGEga25vd24gZWxlbWVudCB0aGF0IGhhcyBuYXR1cmFsIGRpbWVuc2lvbnNcbiAqIGluIG91ciBydW50aW1lIG9yIHRoZSBicm93c2VyLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIGVsZW1lbnQgdGFnIG5hbWUuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzTmF0dXJhbERpbWVuc2lvbnModGFnTmFtZSkge1xuICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gbmF0dXJhbERpbWVuc2lvbnNfW3RhZ05hbWVdICE9PSB1bmRlZmluZWQ7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBkZWZhdWx0IGRpbWVuc2lvbnMgZm9yIGFuIGVsZW1lbnQgd2hpY2ggY291bGQgdmFyeSBhY3Jvc3NcbiAqIGRpZmZlcmVudCBicm93c2VyIGltcGxlbWVudGF0aW9ucywgbGlrZSA8YXVkaW8+IGZvciBpbnN0YW5jZS5cbiAqIFRoaXMgb3BlcmF0aW9uIGNhbiBvbmx5IGJlIGNvbXBsZXRlZCBmb3IgYW4gZWxlbWVudCB3aGl0ZWxpc3RlZCBieVxuICogYGhhc05hdHVyYWxEaW1lbnNpb25zYC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge0RpbWVuc2lvbnNEZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROYXR1cmFsRGltZW5zaW9ucyhlbGVtZW50KSB7XG4gIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgZGV2KCkuYXNzZXJ0KG5hdHVyYWxEaW1lbnNpb25zX1t0YWdOYW1lXSAhPT0gdW5kZWZpbmVkKTtcbiAgaWYgKCFuYXR1cmFsRGltZW5zaW9uc19bdGFnTmFtZV0pIHtcbiAgICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgbmF0dXJhbFRhZ05hbWUgPSB0YWdOYW1lLnJlcGxhY2UoL15BTVBcXC0vLCAnJyk7XG4gICAgY29uc3QgdGVtcCA9IGRvYy5jcmVhdGVFbGVtZW50KG5hdHVyYWxUYWdOYW1lKTtcbiAgICAvLyBGb3IgYXVkaW8sIHNob3VsZCBuby1vcCBlbHNld2hlcmUuXG4gICAgdGVtcC5jb250cm9scyA9IHRydWU7XG4gICAgc2V0U3R5bGVzKHRlbXAsIHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgfSk7XG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQodGVtcCk7XG4gICAgbmF0dXJhbERpbWVuc2lvbnNfW3RhZ05hbWVdID0ge1xuICAgICAgd2lkdGg6ICh0ZW1wLi8qT0sqL29mZnNldFdpZHRoIHx8IDEpICsgJ3B4JyxcbiAgICAgIGhlaWdodDogKHRlbXAuLypPSyovb2Zmc2V0SGVpZ2h0IHx8IDEpICsgJ3B4JyxcbiAgICB9O1xuICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHRlbXApO1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUge0RpbWVuc2lvbnNEZWZ9ICovIChuYXR1cmFsRGltZW5zaW9uc19bdGFnTmFtZV0pO1xufVxuXG5cbi8qKlxuICogV2hldGhlciB0aGUgbG9hZGluZyBjYW4gYmUgc2hvd24gZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVlbnQuIFRoaXMgc2V0IGhhc1xuICogdG8gYmUgZXh0ZXJuYWxpemVkIHNpbmNlIHRoZSBlbGVtZW50J3MgaW1wbGVtZW50YXRpb24gbWF5IG5vdCBiZVxuICogZG93bmxvYWRlZCB5ZXQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMb2FkaW5nQWxsb3dlZChlbGVtZW50KSB7XG4gIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgaWYgKHRhZ05hbWUgPT0gJ0FNUC1BRCcgfHwgdGFnTmFtZSA9PSAnQU1QLUVNQkVEJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBMT0FESU5HX0VMRU1FTlRTX1t0YWdOYW1lXSB8fCBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEFwcGxpZXMgbGF5b3V0IHRvIHRoZSBlbGVtZW50LiBWaXNpYmxlIGZvciB0ZXN0aW5nIG9ubHkuXG4gKlxuICogXFwgICBcXCAgLyAgXFwgIC8gICAvIC8gICBcXCAgICAgfCAgIF8gIFxcICAgICB8ICBcXCB8ICB8IHwgIHwgfCAgXFwgfCAgfCAgLyBfX19fX3xcbiAqICBcXCAgIFxcLyAgICBcXC8gICAvIC8gIF4gIFxcICAgIHwgIHxfKSAgfCAgICB8ICAgXFx8ICB8IHwgIHwgfCAgIFxcfCAgfCB8ICB8ICBfX1xuICogICBcXCAgICAgICAgICAgIC8gLyAgL19cXCAgXFwgICB8ICAgICAgLyAgICAgfCAgLiBgICB8IHwgIHwgfCAgLiBgICB8IHwgIHwgfF8gfFxuICogICAgXFwgICAgL1xcICAgIC8gLyAgX19fX18gIFxcICB8ICB8XFwgIFxcLS0tLS58ICB8XFwgICB8IHwgIHwgfCAgfFxcICAgfCB8ICB8X198IHxcbiAqICAgICBcXF9fLyAgXFxfXy8gL19fLyAgICAgXFxfX1xcIHwgX3wgYC5fX19fX3x8X198IFxcX198IHxfX3wgfF9ffCBcXF9ffCAgXFxfX19fX198XG4gKlxuICogVGhlIGVxdWl2YWxlbnQgb2YgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nIChTU1IpIGFuZFxuICogYW55IGNoYW5nZXMgbWFkZSB0byBpdCBtdXN0IGJlIG1hZGUgaW4gY29vcmRpbmF0aW9uIHdpdGggY2FjaGVzIHRoYXRcbiAqIGltcGxlbWVudCBTU1IuIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIFNTUiBzZWUgYml0Lmx5L2FtcC1zc3IuXG4gKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7IUxheW91dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3RhdGljTGF5b3V0KGVsZW1lbnQpIHtcbiAgLy8gQ2hlY2sgaWYgdGhlIGxheW91dCBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgYnkgc2VydmVyLXNpZGUgcmVuZGVyaW5nLiBUaGVcbiAgLy8gZG9jdW1lbnQgbWF5IGJlIHZpc2libGUgdG8gdGhlIHVzZXIgaWYgdGhlIGJvaWxlcnBsYXRlIHdhcyByZW1vdmVkIHNvXG4gIC8vIHBsZWFzZSB0YWtlIGNhcmUgaW4gbWFraW5nIGNoYW5nZXMgaGVyZS5cbiAgY29uc3QgY29tcGxldGVkTGF5b3V0QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpLWFtcGh0bWwtbGF5b3V0Jyk7XG4gIGlmIChjb21wbGV0ZWRMYXlvdXRBdHRyKSB7XG4gICAgY29uc3QgbGF5b3V0ID0gLyoqIEB0eXBlIHshTGF5b3V0fSAqLyAoZGV2KCkuYXNzZXJ0KFxuICAgICAgICBwYXJzZUxheW91dChjb21wbGV0ZWRMYXlvdXRBdHRyKSkpO1xuICAgIGlmICgobGF5b3V0ID09IExheW91dC5SRVNQT05TSVZFIHx8IGxheW91dCA9PSBMYXlvdXQuSU5UUklOU0lDKVxuICAgICAgJiYgZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgLy8gRmluZCBzaXplciwgYnV0IGFzc3VtZSB0aGF0IGl0IG1pZ2h0IG5vdCBoYXZlIGJlZW4gcGFyc2VkIHlldC5cbiAgICAgIGVsZW1lbnQuc2l6ZXJFbGVtZW50ID1cbiAgICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2ktYW1waHRtbC1zaXplcicpIHx8IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGxheW91dCA9PSBMYXlvdXQuTk9ESVNQTEFZKSB7XG4gICAgICBhcHBseU5vRGlzcGxheUxheW91dChlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGxheW91dDtcbiAgfVxuXG4gIC8vIElmIHRoZSBsYXlvdXQgd2FzIGFscmVhZHkgZG9uZSBieSBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgKFNTUiksIHRoZW4gdGhlXG4gIC8vIGNvZGUgYmVsb3cgd2lsbCBub3QgcnVuLiBBbnkgY2hhbmdlcyBiZWxvdyB3aWxsIG5lY2Vzc2l0YXRlIGEgY2hhbmdlIHRvIFNTUlxuICAvLyBhbmQgbXVzdCBiZSBjb29yZGluYXRlZCB3aXRoIGNhY2hlcyB0aGF0IGltcGxlbWVudCBTU1IuIFNlZSBiaXQubHkvYW1wLXNzci5cblxuICAvLyBQYXJzZSBsYXlvdXQgZnJvbSB0aGUgZWxlbWVudC5cbiAgY29uc3QgbGF5b3V0QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYXlvdXQnKTtcbiAgY29uc3Qgd2lkdGhBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gIGNvbnN0IGhlaWdodEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG4gIGNvbnN0IHNpemVzQXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzaXplcycpO1xuICBjb25zdCBoZWlnaHRzQXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdoZWlnaHRzJyk7XG5cbiAgLy8gSW5wdXQgbGF5b3V0IGF0dHJpYnV0ZXMuXG4gIGNvbnN0IGlucHV0TGF5b3V0ID0gbGF5b3V0QXR0ciA/IHBhcnNlTGF5b3V0KGxheW91dEF0dHIpIDogbnVsbDtcbiAgdXNlcigpLmFzc2VydChpbnB1dExheW91dCAhPT0gdW5kZWZpbmVkLCAnVW5rbm93biBsYXlvdXQ6ICVzJywgbGF5b3V0QXR0cik7XG4gIC8qKiBAY29uc3Qge3N0cmluZ3xudWxsfHVuZGVmaW5lZH0gKi9cbiAgY29uc3QgaW5wdXRXaWR0aCA9ICh3aWR0aEF0dHIgJiYgd2lkdGhBdHRyICE9ICdhdXRvJykgP1xuICAgIHBhcnNlTGVuZ3RoKHdpZHRoQXR0cikgOiB3aWR0aEF0dHI7XG4gIHVzZXIoKS5hc3NlcnQoaW5wdXRXaWR0aCAhPT0gdW5kZWZpbmVkLCAnSW52YWxpZCB3aWR0aCB2YWx1ZTogJXMnLCB3aWR0aEF0dHIpO1xuICAvKiogQGNvbnN0IHtzdHJpbmd8bnVsbHx1bmRlZmluZWR9ICovXG4gIGNvbnN0IGlucHV0SGVpZ2h0ID0gKGhlaWdodEF0dHIgJiYgaGVpZ2h0QXR0ciAhPSAnZmx1aWQnKSA/XG4gICAgcGFyc2VMZW5ndGgoaGVpZ2h0QXR0cikgOiBoZWlnaHRBdHRyO1xuICB1c2VyKCkuYXNzZXJ0KGlucHV0SGVpZ2h0ICE9PSB1bmRlZmluZWQsICdJbnZhbGlkIGhlaWdodCB2YWx1ZTogJXMnLFxuICAgICAgaGVpZ2h0QXR0cik7XG5cbiAgLy8gRWZmZWN0aXZlIGxheW91dCBhdHRyaWJ1dGVzLiBUaGVzZSBhcmUgZWZmZWN0aXZlbHkgY29uc3RhbnRzLlxuICBsZXQgd2lkdGg7XG4gIGxldCBoZWlnaHQ7XG4gIGxldCBsYXlvdXQ7XG5cbiAgLy8gQ2FsY3VsYXRlIGVmZmVjdGl2ZSB3aWR0aCBhbmQgaGVpZ2h0LlxuICBpZiAoKCFpbnB1dExheW91dCB8fCBpbnB1dExheW91dCA9PSBMYXlvdXQuRklYRUQgfHxcbiAgICAgIGlucHV0TGF5b3V0ID09IExheW91dC5GSVhFRF9IRUlHSFQpICYmXG4gICAgICAoIWlucHV0V2lkdGggfHwgIWlucHV0SGVpZ2h0KSAmJiBoYXNOYXR1cmFsRGltZW5zaW9ucyhlbGVtZW50LnRhZ05hbWUpKSB7XG4gICAgLy8gRGVmYXVsdCB3aWR0aCBhbmQgaGVpZ2h0OiBoYW5kbGUgZWxlbWVudHMgdGhhdCBkbyBub3Qgc3BlY2lmeSBhXG4gICAgLy8gd2lkdGgvaGVpZ2h0IGFuZCBhcmUgZGVmaW5lZCB0byBoYXZlIG5hdHVyYWwgYnJvd3NlciBkaW1lbnNpb25zLlxuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBnZXROYXR1cmFsRGltZW5zaW9ucyhlbGVtZW50KTtcbiAgICB3aWR0aCA9IChpbnB1dFdpZHRoIHx8IGlucHV0TGF5b3V0ID09IExheW91dC5GSVhFRF9IRUlHSFQpID8gaW5wdXRXaWR0aCA6XG4gICAgICBkaW1lbnNpb25zLndpZHRoO1xuICAgIGhlaWdodCA9IGlucHV0SGVpZ2h0IHx8IGRpbWVuc2lvbnMuaGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIHdpZHRoID0gaW5wdXRXaWR0aDtcbiAgICBoZWlnaHQgPSBpbnB1dEhlaWdodDtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBlZmZlY3RpdmUgbGF5b3V0LlxuICBpZiAoaW5wdXRMYXlvdXQpIHtcbiAgICBsYXlvdXQgPSBpbnB1dExheW91dDtcbiAgfSBlbHNlIGlmICghd2lkdGggJiYgIWhlaWdodCkge1xuICAgIGxheW91dCA9IExheW91dC5DT05UQUlORVI7XG4gIH0gZWxzZSBpZiAoaGVpZ2h0ID09ICdmbHVpZCcpIHtcbiAgICBsYXlvdXQgPSBMYXlvdXQuRkxVSUQ7XG4gIH0gZWxzZSBpZiAoaGVpZ2h0ICYmICghd2lkdGggfHwgd2lkdGggPT0gJ2F1dG8nKSkge1xuICAgIGxheW91dCA9IExheW91dC5GSVhFRF9IRUlHSFQ7XG4gIH0gZWxzZSBpZiAoaGVpZ2h0ICYmIHdpZHRoICYmIChzaXplc0F0dHIgfHwgaGVpZ2h0c0F0dHIpKSB7XG4gICAgbGF5b3V0ID0gTGF5b3V0LlJFU1BPTlNJVkU7XG4gIH0gZWxzZSB7XG4gICAgbGF5b3V0ID0gTGF5b3V0LkZJWEVEO1xuICB9XG5cbiAgLy8gVmVyaWZ5IGxheW91dCBhdHRyaWJ1dGVzLlxuICBpZiAobGF5b3V0ID09IExheW91dC5GSVhFRCB8fCBsYXlvdXQgPT0gTGF5b3V0LkZJWEVEX0hFSUdIVCB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5SRVNQT05TSVZFIHx8IGxheW91dCA9PSBMYXlvdXQuSU5UUklOU0lDKSB7XG4gICAgdXNlcigpLmFzc2VydChoZWlnaHQsICdFeHBlY3RlZCBoZWlnaHQgdG8gYmUgYXZhaWxhYmxlOiAlcycsIGhlaWdodEF0dHIpO1xuICB9XG4gIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZJWEVEX0hFSUdIVCkge1xuICAgIHVzZXIoKS5hc3NlcnQoIXdpZHRoIHx8IHdpZHRoID09ICdhdXRvJyxcbiAgICAgICAgJ0V4cGVjdGVkIHdpZHRoIHRvIGJlIGVpdGhlciBhYnNlbnQgb3IgZXF1YWwgXCJhdXRvXCIgJyArXG4gICAgICAgICdmb3IgZml4ZWQtaGVpZ2h0IGxheW91dDogJXMnLCB3aWR0aEF0dHIpO1xuICB9XG4gIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZJWEVEIHx8IGxheW91dCA9PSBMYXlvdXQuUkVTUE9OU0lWRSB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5JTlRSSU5TSUMpIHtcbiAgICB1c2VyKCkuYXNzZXJ0KHdpZHRoICYmIHdpZHRoICE9ICdhdXRvJyxcbiAgICAgICAgJ0V4cGVjdGVkIHdpZHRoIHRvIGJlIGF2YWlsYWJsZSBhbmQgbm90IGVxdWFsIHRvIFwiYXV0b1wiOiAlcycsXG4gICAgICAgIHdpZHRoQXR0cik7XG4gIH1cblxuICBpZiAobGF5b3V0ID09IExheW91dC5SRVNQT05TSVZFIHx8IGxheW91dCA9PSBMYXlvdXQuSU5UUklOU0lDKSB7XG4gICAgdXNlcigpLmFzc2VydChnZXRMZW5ndGhVbml0cyh3aWR0aCkgPT0gZ2V0TGVuZ3RoVW5pdHMoaGVpZ2h0KSxcbiAgICAgICAgJ0xlbmd0aCB1bml0cyBzaG91bGQgYmUgdGhlIHNhbWUgZm9yIHdpZHRoIGFuZCBoZWlnaHQ6ICVzLCAlcycsXG4gICAgICAgIHdpZHRoQXR0ciwgaGVpZ2h0QXR0cik7XG4gIH0gZWxzZSB7XG4gICAgdXNlcigpLmFzc2VydChoZWlnaHRzQXR0ciA9PT0gbnVsbCxcbiAgICAgICAgJ1VuZXhwZWN0ZWQgXCJoZWlnaHRzXCIgYXR0cmlidXRlIGZvciBub25lLXJlc3BvbnNpdmUgbGF5b3V0Jyk7XG4gIH1cblxuICAvLyBBcHBseSBVSS5cbiAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGdldExheW91dENsYXNzKGxheW91dCkpO1xuICBpZiAoaXNMYXlvdXRTaXplRGVmaW5lZChsYXlvdXQpKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtbGF5b3V0LXNpemUtZGVmaW5lZCcpO1xuICB9XG4gIGlmIChsYXlvdXQgPT0gTGF5b3V0Lk5PRElTUExBWSkge1xuICAgIC8vIENTUyBkZWZpbmVzIGxheW91dD1ub2Rpc3BsYXkgYXV0b21hdGljYWxseSB3aXRoIGBkaXNwbGF5Om5vbmVgLiBUaHVzXG4gICAgLy8gbm8gYWRkaXRpb25hbCBzdHlsaW5nIGlzIG5lZWRlZC5cbiAgICBhcHBseU5vRGlzcGxheUxheW91dChlbGVtZW50KTtcbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZJWEVEKSB7XG4gICAgc2V0U3R5bGVzKGVsZW1lbnQsIHtcbiAgICAgIHdpZHRoOiBkZXYoKS5hc3NlcnRTdHJpbmcod2lkdGgpLFxuICAgICAgaGVpZ2h0OiBkZXYoKS5hc3NlcnRTdHJpbmcoaGVpZ2h0KSxcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZJWEVEX0hFSUdIVCkge1xuICAgIHNldFN0eWxlKGVsZW1lbnQsICdoZWlnaHQnLCBkZXYoKS5hc3NlcnRTdHJpbmcoaGVpZ2h0KSk7XG4gIH0gZWxzZSBpZiAobGF5b3V0ID09IExheW91dC5SRVNQT05TSVZFKSB7XG4gICAgY29uc3Qgc2l6ZXIgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaS1hbXBodG1sLXNpemVyJyk7XG4gICAgc2V0U3R5bGVzKHNpemVyLCB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgcGFkZGluZ1RvcDpcbiAgICAgICAgKChnZXRMZW5ndGhOdW1lcmFsKGhlaWdodCkgLyBnZXRMZW5ndGhOdW1lcmFsKHdpZHRoKSkgKiAxMDApICsgJyUnLFxuICAgIH0pO1xuICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKHNpemVyLCBlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIGVsZW1lbnQuc2l6ZXJFbGVtZW50ID0gc2l6ZXI7XG4gIH0gZWxzZSBpZiAobGF5b3V0ID09IExheW91dC5JTlRSSU5TSUMpIHtcbiAgICAvLyBJbnRyaW5zaWMgdXNlcyBhbiBzdmcgaW5zaWRlIHRoZSBzaXplciBlbGVtZW50IHJhdGhlciB0aGFuIHRoZSBwYWRkaW5nXG4gICAgLy8gdHJpY2sgTm90ZSBhIG5ha2VkIHN2ZyB3b24ndCB3b3JrIGJlY2FzdWUgb3RoZXIgdGhpbmcgZXhwZWN0IHRoZVxuICAgIC8vIGktYW1waHRtbC1zaXplciBlbGVtZW50XG4gICAgY29uc3Qgc2l6ZXIgPSBodG1sRm9yKGVsZW1lbnQpYFxuICAgICAgPGktYW1waHRtbC1zaXplciBjbGFzcz1cImktYW1waHRtbC1zaXplclwiPlxuICAgICAgICA8aW1nIGNsYXNzPVwiaS1hbXBodG1sLWludHJpbnNpYy1zaXplclwiIC8+XG4gICAgICA8L2ktYW1waHRtbC1zaXplcj5gO1xuICAgIGNvbnN0IGludHJpbnNpY1NpemVyID0gc2l6ZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgaW50cmluc2ljU2l6ZXIuc2V0QXR0cmlidXRlKCdzcmMnLFxuICAgICAgICBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsPHN2ZyBoZWlnaHQ9XCIke2hlaWdodH1cIiB3aWR0aD1cIiR7d2lkdGh9XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZlcnNpb249XCIxLjFcIi8+YCk7XG4gICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoc2l6ZXIsIGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgLy8gVE9ETyhqcGV0dGl0dCk6IHNpemVyIGlzIGxlYWtlZCBhbmQgY2FuJ3QgYmUgY2xlYW5lZCB1cC5cbiAgICBlbGVtZW50LnNpemVyRWxlbWVudCA9IGludHJpbnNpY1NpemVyO1xuICB9IGVsc2UgaWYgKGxheW91dCA9PSBMYXlvdXQuRklMTCkge1xuICAgIC8vIERvIG5vdGhpbmcuXG4gIH0gZWxzZSBpZiAobGF5b3V0ID09IExheW91dC5DT05UQUlORVIpIHtcbiAgICAvLyBEbyBub3RoaW5nLiBFbGVtZW50cyB0aGVtc2VsdmVzIHdpbGwgY2hlY2sgd2hldGhlciB0aGUgc3VwcGxpZWRcbiAgICAvLyBsYXlvdXQgdmFsdWUgaXMgYWNjZXB0YWJsZS4gSW4gcGFydGljdWxhciBjb250YWluZXIgaXMgb25seSBPS1xuICAgIC8vIHNvbWV0aW1lcy5cbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZMRVhfSVRFTSkge1xuICAgIC8vIFNldCBoZWlnaHQgYW5kIHdpZHRoIHRvIGEgZmxleCBpdGVtIGlmIHRoZXkgZXhpc3QuXG4gICAgLy8gVGhlIHNpemUgc2V0IHRvIGEgZmxleCBpdGVtIGNvdWxkIGJlIG92ZXJyaWRkZW4gYnkgYGRpc3BsYXk6IGZsZXhgIGxhdGVyLlxuICAgIGlmICh3aWR0aCkge1xuICAgICAgc2V0U3R5bGUoZWxlbWVudCwgJ3dpZHRoJywgd2lkdGgpO1xuICAgIH1cbiAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICBzZXRTdHlsZShlbGVtZW50LCAnaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobGF5b3V0ID09IExheW91dC5GTFVJRCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLWxheW91dC1hd2FpdGluZy1zaXplJyk7XG4gICAgaWYgKHdpZHRoKSB7XG4gICAgICBzZXRTdHlsZShlbGVtZW50LCAnd2lkdGgnLCB3aWR0aCk7XG4gICAgfVxuICAgIHNldFN0eWxlKGVsZW1lbnQsICdoZWlnaHQnLCAwKTtcbiAgfVxuICByZXR1cm4gbGF5b3V0O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBhcHBseU5vRGlzcGxheUxheW91dChlbGVtZW50KSB7XG4gIC8vIFRPRE8oZHZveXRlbmtvLCAjOTM1Myk6IG9uY2UgYHRvZ2dsZUxheW91dERpc3BsYXlgIEFQSSBoYXMgYmVlbiBkZXBsb3llZFxuICAvLyBldmVyeXdoZXJlLCBzd2l0Y2ggYWxsIHJlbGV2YW50IGVsZW1lbnRzIHRvIHRoaXMgQVBJLiBJbiB0aGUgbWVhbnRpbWUsXG4gIC8vIHNpbXBseSB1bmJsb2NrIGRpc3BsYXkgdG9nZ2xpbmcgdmlhIGBzdHlsZT1cImRpc3BsYXk6IC4uLlwiYC5cbiAgc2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1kaXNwbGF5Jyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuL21vZGUnO1xuaW1wb3J0IHtnZXRNb2RlT2JqZWN0fSBmcm9tICcuL21vZGUtb2JqZWN0JztcbmltcG9ydCB7aXNFbnVtVmFsdWV9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFRyaXBsZSB6ZXJvIHdpZHRoIHNwYWNlLlxuICpcbiAqIFRoaXMgaXMgYWRkZWQgdG8gdXNlciBlcnJvciBtZXNzYWdlcywgc28gdGhhdCB3ZSBjYW4gbGF0ZXIgaWRlbnRpZnlcbiAqIHRoZW0sIHdoZW4gdGhlIG9ubHkgdGhpbmcgdGhhdCB3ZSBoYXZlIGlzIHRoZSBtZXNzYWdlLiBUaGlzIGlzIHRoZVxuICogY2FzZSBpbiBtYW55IGJyb3dzZXJzIHdoZW4gdGhlIGdsb2JhbCBleGNlcHRpb24gaGFuZGxlciBpcyBpbnZva2VkLlxuICpcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVVNFUl9FUlJPUl9TRU5USU5FTCA9ICdcXHUyMDBCXFx1MjAwQlxcdTIwMEInO1xuXG5cbi8qKlxuICogRm91ciB6ZXJvIHdpZHRoIHNwYWNlLlxuICpcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVVNFUl9FUlJPUl9FTUJFRF9TRU5USU5FTCA9ICdcXHUyMDBCXFx1MjAwQlxcdTIwMEJcXHUyMDBCJztcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoaXMgbWVzc2FnZSB3YXMgYSB1c2VyIGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVc2VyRXJyb3JNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG1lc3NhZ2UuaW5kZXhPZihVU0VSX0VSUk9SX1NFTlRJTkVMKSA+PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoaXMgbWVzc2FnZSB3YXMgYSBhIHVzZXIgZXJyb3IgZnJvbSBhbiBpZnJhbWUgZW1iZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VzZXJFcnJvckVtYmVkKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG1lc3NhZ2UuaW5kZXhPZihVU0VSX0VSUk9SX0VNQkVEX1NFTlRJTkVMKSA+PSAwO1xufVxuXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcml2YXRlIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seS5cbiAqL1xuZXhwb3J0IGNvbnN0IExvZ0xldmVsID0ge1xuICBPRkY6IDAsXG4gIEVSUk9SOiAxLFxuICBXQVJOOiAyLFxuICBJTkZPOiAzLFxuICBGSU5FOiA0LFxufTtcblxuLyoqXG4gKiBTZXRzIHJlcG9ydEVycm9yIGZ1bmN0aW9uLiBDYWxsZWQgZnJvbSBlcnJvci5qcyB0byBicmVhayBjeWNsaWNcbiAqIGRlcGVuZGVuY3kuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosICFFbGVtZW50PSl8dW5kZWZpbmVkfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UmVwb3J0RXJyb3IoZm4pIHtcbiAgc2VsZi5yZXBvcnRFcnJvciA9IGZuO1xufVxuXG4vKipcbiAqIEB0eXBlIHshTG9nTGV2ZWx8dW5kZWZpbmVkfVxuICogQHByaXZhdGVcbiAqL1xubGV0IGxldmVsT3ZlcnJpZGVfID0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIEBwYXJhbSB7IUxvZ0xldmVsfSBsZXZlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3ZlcnJpZGVMb2dMZXZlbChsZXZlbCkge1xuICBsZXZlbE92ZXJyaWRlXyA9IGxldmVsO1xufVxuXG4vKipcbiAqIExvZ2dpbmcgY2xhc3MuIFVzZSBvZiBzZW50aW5lbCBzdHJpbmcgaW5zdGVhZCBvZiBhIGJvb2xlYW4gdG8gY2hlY2sgdXNlci9kZXZcbiAqIGVycm9ycyBiZWNhdXNlIGVycm9ycyBjb3VsZCBiZSByZXRocm93biBieSBzb21lIG5hdGl2ZSBjb2RlIGFzIGEgbmV3IGVycm9yLFxuICogYW5kIG9ubHkgYSBtZXNzYWdlIHdvdWxkIHN1cnZpdmUuIEFsc28sIHNvbWUgYnJvd3NlciBkb27igJl0IHN1cHBvcnQgYSA1dGhcbiAqIGVycm9yIG9iamVjdCBhcmd1bWVudCBpbiB3aW5kb3cub25lcnJvci4gTGlzdCBvZiBzdXBwb3J0aW5nIGJyb3dzZXIgY2FuIGJlXG4gKiBmb3VuZCBoZXJlOlxuICogaHR0cHM6Ly9ibG9nLnNlbnRyeS5pby8yMDE2LzAxLzA0L2NsaWVudC1qYXZhc2NyaXB0LXJlcG9ydGluZy13aW5kb3ctb25lcnJvci5odG1sXG4gKiBAZmluYWxcbiAqIEBwcml2YXRlIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seS5cbiAqL1xuZXhwb3J0IGNsYXNzIExvZyB7XG4gIC8qKlxuICAgKiBvcHRfc3VmZml4IHdpbGwgYmUgYXBwZW5kZWQgdG8gZXJyb3IgbWVzc2FnZSB0byBpZGVudGlmeSB0aGUgdHlwZSBvZiB0aGVcbiAgICogZXJyb3IgbWVzc2FnZS4gV2UgY2FuJ3QgcmVseSBvbiB0aGUgZXJyb3Igb2JqZWN0IHRvIHBhc3MgYWxvbmcgdGhlIHR5cGVcbiAgICogYmVjYXVzZSBzb21lIGJyb3dzZXJzIGRvIG5vdCBoYXZlIHRoaXMgcGFyYW0gaW4gaXRzIHdpbmRvdy5vbmVycm9yIEFQSS5cbiAgICogU2VlOlxuICAgKiBodHRwczovL2Jsb2cuc2VudHJ5LmlvLzIwMTYvMDEvMDQvY2xpZW50LWphdmFzY3JpcHQtcmVwb3J0aW5nLXdpbmRvdy1vbmVycm9yLmh0bWxcbiAgICpcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHtmdW5jdGlvbighLi9tb2RlLk1vZGVEZWYpOiFMb2dMZXZlbH0gbGV2ZWxGdW5jXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3N1ZmZpeFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBsZXZlbEZ1bmMsIG9wdF9zdWZmaXgpIHtcbiAgICAvKipcbiAgICAgKiBJbiB0ZXN0cyB3ZSB1c2UgdGhlIG1haW4gdGVzdCB3aW5kb3cgaW5zdGVhZCBvZiB0aGUgaWZyYW1lIHdoZXJlXG4gICAgICogdGhlIHRlc3RzIHJ1bnMgYmVjYXVzZSBvbmx5IHRoZSBmb3JtZXIgaXMgcmVsYXllZCB0byB0aGUgY29uc29sZS5cbiAgICAgKiBAY29uc3QgeyFXaW5kb3d9XG4gICAgICovXG4gICAgdGhpcy53aW4gPSAoZ2V0TW9kZSgpLnRlc3QgJiYgd2luLkFNUF9URVNUX0lGUkFNRSkgPyB3aW4ucGFyZW50IDogd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7ZnVuY3Rpb24oIS4vbW9kZS5Nb2RlRGVmKTohTG9nTGV2ZWx9ICovXG4gICAgdGhpcy5sZXZlbEZ1bmNfID0gbGV2ZWxGdW5jO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUxvZ0xldmVsfSAqL1xuICAgIHRoaXMubGV2ZWxfID0gdGhpcy5kZWZhdWx0TGV2ZWxfKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5zdWZmaXhfID0gb3B0X3N1ZmZpeCB8fCAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshTG9nTGV2ZWx9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRMZXZlbF8oKSB7XG4gICAgcmV0dXJuIChsZXZlbE92ZXJyaWRlXyAhPT0gdW5kZWZpbmVkKSA/IGxldmVsT3ZlcnJpZGVfIDogdGhpcy5sZXZlbF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUxvZ0xldmVsfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVmYXVsdExldmVsXygpIHtcbiAgICAvLyBObyBjb25zb2xlIC0gY2FuJ3QgZW5hYmxlIGxvZ2dpbmcuXG4gICAgaWYgKCF0aGlzLndpbi5jb25zb2xlIHx8ICF0aGlzLndpbi5jb25zb2xlLmxvZykge1xuICAgICAgcmV0dXJuIExvZ0xldmVsLk9GRjtcbiAgICB9XG5cbiAgICAvLyBMb2dnaW5nIGhhcyBiZWVuIGV4cGxpY2l0bHkgZGlzYWJsZWQuXG4gICAgaWYgKGdldE1vZGUoKS5sb2cgPT0gJzAnKSB7XG4gICAgICByZXR1cm4gTG9nTGV2ZWwuT0ZGO1xuICAgIH1cblxuICAgIC8vIExvZ2dpbmcgaXMgZW5hYmxlZCBmb3IgdGVzdHMgZGlyZWN0bHkuXG4gICAgaWYgKGdldE1vZGUoKS50ZXN0ICYmIHRoaXMud2luLkVOQUJMRV9MT0cpIHtcbiAgICAgIHJldHVybiBMb2dMZXZlbC5GSU5FO1xuICAgIH1cblxuICAgIC8vIExvY2FsRGV2IGJ5IGRlZmF1bHQgYWxsb3dzIElORk8gbGV2ZWwsIHVubGVzcyBvdmVycmlkZW4gYnkgYCNsb2dgLlxuICAgIGlmIChnZXRNb2RlKCkubG9jYWxEZXYgJiYgIWdldE1vZGUoKS5sb2cpIHtcbiAgICAgIHJldHVybiBMb2dMZXZlbC5JTkZPO1xuICAgIH1cblxuICAgIC8vIERlbGVnYXRlIHRvIHRoZSBzcGVjaWZpYyByZXNvbHZlci5cbiAgICByZXR1cm4gdGhpcy5sZXZlbEZ1bmNfKGdldE1vZGVPYmplY3QoKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV2ZWxcbiAgICogQHBhcmFtIHshQXJyYXl9IG1lc3NhZ2VzXG4gICAqL1xuICBtc2dfKHRhZywgbGV2ZWwsIG1lc3NhZ2VzKSB7XG4gICAgaWYgKHRoaXMuZ2V0TGV2ZWxfKCkgIT0gTG9nTGV2ZWwuT0ZGKSB7XG4gICAgICBsZXQgZm4gPSB0aGlzLndpbi5jb25zb2xlLmxvZztcbiAgICAgIGlmIChsZXZlbCA9PSAnRVJST1InKSB7XG4gICAgICAgIGZuID0gdGhpcy53aW4uY29uc29sZS5lcnJvciB8fCBmbjtcbiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gJ0lORk8nKSB7XG4gICAgICAgIGZuID0gdGhpcy53aW4uY29uc29sZS5pbmZvIHx8IGZuO1xuICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PSAnV0FSTicpIHtcbiAgICAgICAgZm4gPSB0aGlzLndpbi5jb25zb2xlLndhcm4gfHwgZm47XG4gICAgICB9XG4gICAgICBpZiAoZ2V0TW9kZSgpLmxvY2FsRGV2KSB7XG4gICAgICAgIG1lc3NhZ2VzLnVuc2hpZnQoJ1snICsgdGFnICsgJ10nKTtcbiAgICAgIH1cbiAgICAgIGZuLmFwcGx5KHRoaXMud2luLmNvbnNvbGUsIG1lc3NhZ2VzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgbG9nZ2luZyBpcyBlbmFibGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldExldmVsXygpICE9IExvZ0xldmVsLk9GRjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGEgZmluZS1ncmFpbmVkIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKi9cbiAgZmluZSh0YWcsIHZhcl9hcmdzKSB7XG4gICAgaWYgKHRoaXMuZ2V0TGV2ZWxfKCkgPj0gTG9nTGV2ZWwuRklORSkge1xuICAgICAgdGhpcy5tc2dfKHRhZywgJ0ZJTkUnLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0cyBhIGluZm9ybWF0aW9uYWwgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqL1xuICBpbmZvKHRhZywgdmFyX2FyZ3MpIHtcbiAgICBpZiAodGhpcy5nZXRMZXZlbF8oKSA+PSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgICB0aGlzLm1zZ18odGFnLCAnSU5GTycsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGEgd2FybmluZyBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICovXG4gIHdhcm4odGFnLCB2YXJfYXJncykge1xuICAgIGlmICh0aGlzLmdldExldmVsXygpID49IExvZ0xldmVsLldBUk4pIHtcbiAgICAgIHRoaXMubXNnXyh0YWcsICdXQVJOJywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydHMgYW4gZXJyb3IgbWVzc2FnZS4gSWYgdGhlIGxvZ2dpbmcgaXMgZGlzYWJsZWQsIHRoZSBlcnJvciBpcyByZXRocm93blxuICAgKiBhc3luY2hyb25vdXNseS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqIEByZXR1cm4geyFFcnJvcnx1bmRlZmluZWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlcnJvcl8odGFnLCB2YXJfYXJncykge1xuICAgIGlmICh0aGlzLmdldExldmVsXygpID49IExvZ0xldmVsLkVSUk9SKSB7XG4gICAgICB0aGlzLm1zZ18odGFnLCAnRVJST1InLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3IgPSBjcmVhdGVFcnJvclZhcmdzLmFwcGx5KG51bGwsXG4gICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgICB0aGlzLnByZXBhcmVFcnJvcl8oZXJyb3IpO1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGFuIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKi9cbiAgZXJyb3IodGFnLCB2YXJfYXJncykge1xuICAgIGNvbnN0IGVycm9yID0gdGhpcy5lcnJvcl8uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGVycm9yLm5hbWUgPSB0YWcgfHwgZXJyb3IubmFtZTtcbiAgICAgIC8vIHJlcG9ydEVycm9yIGlzIGluc3RhbGxlZCBnbG9iYWxseSBwZXIgd2luZG93IGluIHRoZSBlbnRyeSBwb2ludC5cbiAgICAgIHNlbGYucmVwb3J0RXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGFuIGVycm9yIG1lc3NhZ2UgYW5kIG1hcmtzIHdpdGggYW4gZXhwZWN0ZWQgcHJvcGVydHkuIElmIHRoZVxuICAgKiBsb2dnaW5nIGlzIGRpc2FibGVkLCB0aGUgZXJyb3IgaXMgcmV0aHJvd24gYXN5bmNocm9ub3VzbHkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bnVzZWRUYWdcbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKi9cbiAgZXhwZWN0ZWRFcnJvcih1bnVzZWRUYWcsIHZhcl9hcmdzKSB7XG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLmVycm9yXy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgZXJyb3IuZXhwZWN0ZWQgPSB0cnVlO1xuICAgICAgLy8gcmVwb3J0RXJyb3IgaXMgaW5zdGFsbGVkIGdsb2JhbGx5IHBlciB3aW5kb3cgaW4gdGhlIGVudHJ5IHBvaW50LlxuICAgICAgc2VsZi5yZXBvcnRFcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZXJyb3Igb2JqZWN0LlxuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqIEByZXR1cm4geyFFcnJvcn1cbiAgICovXG4gIGNyZWF0ZUVycm9yKHZhcl9hcmdzKSB7XG4gICAgY29uc3QgZXJyb3IgPSBjcmVhdGVFcnJvclZhcmdzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5wcmVwYXJlRXJyb3JfKGVycm9yKTtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlcnJvciBvYmplY3Qgd2l0aCBpdHMgZXhwZWN0ZWQgcHJvcGVydHkgc2V0IHRvIHRydWUuXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICogQHJldHVybiB7IUVycm9yfVxuICAgKi9cbiAgY3JlYXRlRXhwZWN0ZWRFcnJvcih2YXJfYXJncykge1xuICAgIGNvbnN0IGVycm9yID0gY3JlYXRlRXJyb3JWYXJncy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIHRoaXMucHJlcGFyZUVycm9yXyhlcnJvcik7XG4gICAgZXJyb3IuZXhwZWN0ZWQgPSB0cnVlO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzbid0IHRydWVpc2guXG4gICAqXG4gICAqIFN1cHBvcnRzIGFyZ3VtZW50IHN1YnN0aXR1dGlvbiBpbnRvIHRoZSBtZXNzYWdlIHZpYSAlcyBwbGFjZWhvbGRlcnMuXG4gICAqXG4gICAqIFRocm93cyBhbiBlcnJvciBvYmplY3QgdGhhdCBoYXMgdHdvIGV4dHJhIHByb3BlcnRpZXM6XG4gICAqIC0gYXNzb2NpYXRlZEVsZW1lbnQ6IFRoaXMgaXMgdGhlIGZpcnN0IGVsZW1lbnQgcHJvdmlkZWQgaW4gdGhlIHZhciBhcmdzLlxuICAgKiAgIEl0IGNhbiBiZSB1c2VkIGZvciBpbXByb3ZlZCBkaXNwbGF5IG9mIGVycm9yIG1lc3NhZ2VzLlxuICAgKiAtIG1lc3NhZ2VBcnJheTogVGhlIGVsZW1lbnRzIG9mIHRoZSBzdWJzdGl0dXRlZCBtZXNzYWdlIGFzIG5vbi1zdHJpbmdpZmllZFxuICAgKiAgIGVsZW1lbnRzIGluIGFuIGFycmF5LiBXaGVuIGUuZy4gcGFzc2VkIHRvIGNvbnNvbGUuZXJyb3IgdGhpcyB5aWVsZHNcbiAgICogICBuYXRpdmUgZGlzcGxheXMgb2YgdGhpbmdzIGxpa2UgSFRNTCBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtUfSBzaG91bGRCZVRydWVpc2ggVGhlIHZhbHVlIHRvIGFzc2VydC4gVGhlIGFzc2VydCBmYWlscyBpZiBpdCBkb2VzXG4gICAqICAgICBub3QgZXZhbHVhdGUgdG8gdHJ1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbWVzc2FnZSBUaGUgYXNzZXJ0aW9uIG1lc3NhZ2VcbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJncyBBcmd1bWVudHMgc3Vic3RpdHV0ZWQgaW50byAlcyBpbiB0aGUgbWVzc2FnZS5cbiAgICogQHJldHVybiB7VH0gVGhlIHZhbHVlIG9mIHNob3VsZEJlVHJ1ZWlzaC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICogZXNsaW50IFwiZ29vZ2xlLWNhbWVsY2FzZS9nb29nbGUtY2FtZWxjYXNlXCI6IDBcbiAgICovXG4gIGFzc2VydChzaG91bGRCZVRydWVpc2gsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICAgIGxldCBmaXJzdEVsZW1lbnQ7XG4gICAgaWYgKCFzaG91bGRCZVRydWVpc2gpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBvcHRfbWVzc2FnZSB8fCAnQXNzZXJ0aW9uIGZhaWxlZCc7XG4gICAgICBjb25zdCBzcGxpdE1lc3NhZ2UgPSBtZXNzYWdlLnNwbGl0KCclcycpO1xuICAgICAgY29uc3QgZmlyc3QgPSBzcGxpdE1lc3NhZ2Uuc2hpZnQoKTtcbiAgICAgIGxldCBmb3JtYXR0ZWQgPSBmaXJzdDtcbiAgICAgIGNvbnN0IG1lc3NhZ2VBcnJheSA9IFtdO1xuICAgICAgcHVzaElmTm9uRW1wdHkobWVzc2FnZUFycmF5LCBmaXJzdCk7XG4gICAgICBmb3IgKGxldCBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWwgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGlmICh2YWwgJiYgdmFsLnRhZ05hbWUpIHtcbiAgICAgICAgICBmaXJzdEVsZW1lbnQgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dENvbnN0YW50ID0gc3BsaXRNZXNzYWdlLnNoaWZ0KCk7XG4gICAgICAgIG1lc3NhZ2VBcnJheS5wdXNoKHZhbCk7XG4gICAgICAgIHB1c2hJZk5vbkVtcHR5KG1lc3NhZ2VBcnJheSwgbmV4dENvbnN0YW50LnRyaW0oKSk7XG4gICAgICAgIGZvcm1hdHRlZCArPSB0b1N0cmluZyh2YWwpICsgbmV4dENvbnN0YW50O1xuICAgICAgfVxuICAgICAgY29uc3QgZSA9IG5ldyBFcnJvcihmb3JtYXR0ZWQpO1xuICAgICAgZS5mcm9tQXNzZXJ0ID0gdHJ1ZTtcbiAgICAgIGUuYXNzb2NpYXRlZEVsZW1lbnQgPSBmaXJzdEVsZW1lbnQ7XG4gICAgICBlLm1lc3NhZ2VBcnJheSA9IG1lc3NhZ2VBcnJheTtcbiAgICAgIHRoaXMucHJlcGFyZUVycm9yXyhlKTtcbiAgICAgIC8vIHJlcG9ydEVycm9yIGlzIGluc3RhbGxlZCBnbG9iYWxseSBwZXIgd2luZG93IGluIHRoZSBlbnRyeSBwb2ludC5cbiAgICAgIHNlbGYucmVwb3J0RXJyb3IoZSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkQmVUcnVlaXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXNuJ3QgYW4gRWxlbWVudFxuICAgKlxuICAgKiBPdGhlcndpc2Ugc2VlIGBhc3NlcnRgIGZvciB1c2FnZVxuICAgKlxuICAgKiBAcGFyYW0geyp9IHNob3VsZEJlRWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9tZXNzYWdlIFRoZSBhc3NlcnRpb24gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHshRWxlbWVudH0gVGhlIHZhbHVlIG9mIHNob3VsZEJlVHJ1ZWlzaC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICogZXNsaW50IFwiZ29vZ2xlLWNhbWVsY2FzZS9nb29nbGUtY2FtZWxjYXNlXCI6IDJcbiAgICovXG4gIGFzc2VydEVsZW1lbnQoc2hvdWxkQmVFbGVtZW50LCBvcHRfbWVzc2FnZSkge1xuICAgIGNvbnN0IHNob3VsZEJlVHJ1ZWlzaCA9IHNob3VsZEJlRWxlbWVudCAmJiBzaG91bGRCZUVsZW1lbnQubm9kZVR5cGUgPT0gMTtcbiAgICB0aGlzLmFzc2VydChzaG91bGRCZVRydWVpc2gsIChvcHRfbWVzc2FnZSB8fCAnRWxlbWVudCBleHBlY3RlZCcpICsgJzogJXMnLFxuICAgICAgICBzaG91bGRCZUVsZW1lbnQpO1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAoc2hvdWxkQmVFbGVtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzbid0IGEgc3RyaW5nLiBUaGUgc3RyaW5nIGNhblxuICAgKiBiZSBlbXB0eS5cbiAgICpcbiAgICogRm9yIG1vcmUgZGV0YWlscyBzZWUgYGFzc2VydGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gc2hvdWxkQmVTdHJpbmdcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbWVzc2FnZSBUaGUgYXNzZXJ0aW9uIG1lc3NhZ2VcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIHZhbHVlLiBDYW4gYmUgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBlc2xpbnQgXCJnb29nbGUtY2FtZWxjYXNlL2dvb2dsZS1jYW1lbGNhc2VcIjogMlxuICAgKi9cbiAgYXNzZXJ0U3RyaW5nKHNob3VsZEJlU3RyaW5nLCBvcHRfbWVzc2FnZSkge1xuICAgIHRoaXMuYXNzZXJ0KHR5cGVvZiBzaG91bGRCZVN0cmluZyA9PSAnc3RyaW5nJyxcbiAgICAgICAgKG9wdF9tZXNzYWdlIHx8ICdTdHJpbmcgZXhwZWN0ZWQnKSArICc6ICVzJywgc2hvdWxkQmVTdHJpbmcpO1xuICAgIHJldHVybiAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNob3VsZEJlU3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzbid0IGEgbnVtYmVyLiBUaGUgYWxsb3dlZCB2YWx1ZXNcbiAgICogaW5jbHVkZSBgMGAgYW5kIGBOYU5gLlxuICAgKlxuICAgKiBGb3IgbW9yZSBkZXRhaWxzIHNlZSBgYXNzZXJ0YC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBzaG91bGRCZU51bWJlclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9tZXNzYWdlIFRoZSBhc3NlcnRpb24gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgdmFsdWUuIFRoZSBhbGxvd2VkIHZhbHVlcyBpbmNsdWRlIGAwYFxuICAgKiAgIGFuZCBgTmFOYC5cbiAgICovXG4gIGFzc2VydE51bWJlcihzaG91bGRCZU51bWJlciwgb3B0X21lc3NhZ2UpIHtcbiAgICB0aGlzLmFzc2VydCh0eXBlb2Ygc2hvdWxkQmVOdW1iZXIgPT0gJ251bWJlcicsXG4gICAgICAgIChvcHRfbWVzc2FnZSB8fCAnTnVtYmVyIGV4cGVjdGVkJykgKyAnOiAlcycsIHNob3VsZEJlTnVtYmVyKTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChzaG91bGRCZU51bWJlcik7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpc24ndCBhIGJvb2xlYW4uXG4gICAqXG4gICAqIEZvciBtb3JlIGRldGFpbHMgc2VlIGBhc3NlcnRgLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHNob3VsZEJlQm9vbGVhblxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9tZXNzYWdlIFRoZSBhc3NlcnRpb24gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYm9vbGVhbiB2YWx1ZS5cbiAgICovXG4gIGFzc2VydEJvb2xlYW4oc2hvdWxkQmVCb29sZWFuLCBvcHRfbWVzc2FnZSkge1xuICAgIHRoaXMuYXNzZXJ0KCEhc2hvdWxkQmVCb29sZWFuID09PSBzaG91bGRCZUJvb2xlYW4sXG4gICAgICAgIChvcHRfbWVzc2FnZSB8fCAnQm9vbGVhbiBleHBlY3RlZCcpICsgJzogJXMnLCBzaG91bGRCZUJvb2xlYW4pO1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovIChzaG91bGRCZUJvb2xlYW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzc2VydHMgYW5kIHJldHVybnMgdGhlIGVudW0gdmFsdWUuIElmIHRoZSBlbnVtIGRvZXNuJ3QgY29udGFpbiBzdWNoIGFcbiAgICogdmFsdWUsIHRoZSBlcnJvciBpcyB0aHJvd24uXG4gICAqXG4gICAqIEBwYXJhbSB7IU9iamVjdDxUPn0gZW51bU9ialxuICAgKiBAcGFyYW0ge3N0cmluZ30gc1xuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9lbnVtTmFtZVxuICAgKiBAcmV0dXJuIHtUfVxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBlc2xpbnQgXCJnb29nbGUtY2FtZWxjYXNlL2dvb2dsZS1jYW1lbGNhc2VcIjogMlxuICAgKi9cbiAgYXNzZXJ0RW51bVZhbHVlKGVudW1PYmosIHMsIG9wdF9lbnVtTmFtZSkge1xuICAgIGlmIChpc0VudW1WYWx1ZShlbnVtT2JqLCBzKSkge1xuICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIHRoaXMuYXNzZXJ0KGZhbHNlLFxuICAgICAgICAnVW5rbm93biAlcyB2YWx1ZTogXCIlc1wiJyxcbiAgICAgICAgb3B0X2VudW1OYW1lIHx8ICdlbnVtJywgcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRXJyb3J9IGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcmVwYXJlRXJyb3JfKGVycm9yKSB7XG4gICAgZXJyb3IgPSBkdXBsaWNhdGVFcnJvcklmTmVjZXNzYXJ5KGVycm9yKTtcbiAgICBpZiAodGhpcy5zdWZmaXhfKSB7XG4gICAgICBpZiAoIWVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9IHRoaXMuc3VmZml4XztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmRleE9mKHRoaXMuc3VmZml4XykgPT0gLTEpIHtcbiAgICAgICAgZXJyb3IubWVzc2FnZSArPSB0aGlzLnN1ZmZpeF87XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1VzZXJFcnJvck1lc3NhZ2UoZXJyb3IubWVzc2FnZSkpIHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLnJlcGxhY2UoVVNFUl9FUlJPUl9TRU5USU5FTCwgJycpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfCFFbGVtZW50fSB2YWxcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsKSB7XG4gIC8vIERvIGNoZWNrIGVxdWl2YWxlbnQgdG8gYHZhbCBpbnN0YW5jZW9mIEVsZW1lbnRgIHdpdGhvdXQgY3Jvc3Mtd2luZG93IGJ1Z1xuICBpZiAodmFsICYmIHZhbC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgcmV0dXJuIHZhbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgKyAodmFsLmlkID8gJyMnICsgdmFsLmlkIDogJycpO1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUge3N0cmluZ30gKi8gKHZhbCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKi9cbmZ1bmN0aW9uIHB1c2hJZk5vbkVtcHR5KGFycmF5LCB2YWwpIHtcbiAgaWYgKHZhbCAhPSAnJykge1xuICAgIGFycmF5LnB1c2godmFsKTtcbiAgfVxufVxuXG4vKipcbiAqIFNvbWUgZXhjZXB0aW9ucyAoRE9NRXhjZXB0aW9uLCBuYW1lbHkpIGhhdmUgcmVhZC1vbmx5IG1lc3NhZ2UuXG4gKiBAcGFyYW0geyFFcnJvcn0gZXJyb3JcbiAqIEByZXR1cm4geyFFcnJvcn07XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkdXBsaWNhdGVFcnJvcklmTmVjZXNzYXJ5KGVycm9yKSB7XG4gIGNvbnN0IHttZXNzYWdlfSA9IGVycm9yO1xuICBjb25zdCB0ZXN0ID0gU3RyaW5nKE1hdGgucmFuZG9tKCkpO1xuICBlcnJvci5tZXNzYWdlID0gdGVzdDtcblxuICBpZiAoZXJyb3IubWVzc2FnZSA9PT0gdGVzdCkge1xuICAgIGVycm9yLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGNvbnN0IGUgPSBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gIC8vIENvcHkgYWxsIHRoZSBleHRyYW5lb3VzIHRoaW5ncyB3ZSBhdHRhY2guXG4gIGZvciAoY29uc3QgcHJvcCBpbiBlcnJvcikge1xuICAgIGVbcHJvcF0gPSBlcnJvcltwcm9wXTtcbiAgfVxuICAvLyBFbnN1cmUgdGhlc2UgYXJlIGNvcGllZC5cbiAgZS5zdGFjayA9IGVycm9yLnN0YWNrO1xuICByZXR1cm4gZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gKiBAcmV0dXJuIHshRXJyb3J9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yVmFyZ3ModmFyX2FyZ3MpIHtcbiAgbGV0IGVycm9yID0gbnVsbDtcbiAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvcikge1xuICAgICAgZXJyb3IgPSBkdXBsaWNhdGVFcnJvcklmTmVjZXNzYXJ5KGFyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gJyAnO1xuICAgICAgfVxuICAgICAgbWVzc2FnZSArPSBhcmc7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFlcnJvcikge1xuICAgIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGVsc2UgaWYgKG1lc3NhZ2UpIHtcbiAgICBlcnJvci5tZXNzYWdlID0gbWVzc2FnZSArICc6ICcgKyBlcnJvci5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuXG4vKipcbiAqIFJldGhyb3dzIHRoZSBlcnJvciB3aXRob3V0IHRlcm1pbmF0aW5nIHRoZSBjdXJyZW50IGNvbnRleHQuIFRoaXMgcHJlc2VydmVzXG4gKiB3aGV0aGVyIHRoZSBvcmlnaW5hbCBlcnJvciBkZXNpZ25hdGlvbiBpcyBhIHVzZXIgZXJyb3Igb3IgYSBkZXYgZXJyb3IuXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXRocm93QXN5bmModmFyX2FyZ3MpIHtcbiAgY29uc3QgZXJyb3IgPSBjcmVhdGVFcnJvclZhcmdzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIC8vIHJlcG9ydEVycm9yIGlzIGluc3RhbGxlZCBnbG9iYWxseSBwZXIgd2luZG93IGluIHRoZSBlbnRyeSBwb2ludC5cbiAgICBzZWxmLnJlcG9ydEVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBDYWNoZSBmb3IgbG9ncy4gV2UgZG8gbm90IHVzZSBhIFNlcnZpY2Ugc2luY2UgdGhlIHNlcnZpY2UgbW9kdWxlIGRlcGVuZHNcbiAqIG9uIExvZyBhbmQgY2xvc3VyZSBsaXRlcmFsbHkgY2FuJ3QgZXZlbi5cbiAqIEB0eXBlIHt7dXNlcjogP0xvZywgZGV2OiA/TG9nLCB1c2VyRm9yRW1iZWQ6ID9Mb2d9fVxuICovXG5zZWxmLmxvZyA9IChzZWxmLmxvZyB8fCB7XG4gIHVzZXI6IG51bGwsXG4gIGRldjogbnVsbCxcbiAgdXNlckZvckVtYmVkOiBudWxsLFxufSk7XG5cbmNvbnN0IGxvZ3MgPSBzZWxmLmxvZztcblxuLyoqXG4gKiBFdmVudHVhbGx5IGhvbGRzIGEgY29uc3RydWN0b3IgZm9yIExvZyBvYmplY3RzLiBMYXppbHkgaW5pdGlhbGl6ZWQsIHNvIHdlXG4gKiBjYW4gYXZvaWQgZXZlciByZWZlcmVuY2luZyB0aGUgcmVhbCBjb25zdHJ1Y3RvciBleGNlcHQgaW4gSlMgYmluYXJpZXNcbiAqIHRoYXQgYWN0dWFsbHkgd2FudCB0byBpbmNsdWRlIHRoZSBpbXBsZW1lbnRhdGlvbi5cbiAqIEB0eXBlIHs/RnVuY3Rpb259XG4gKi9cbmxldCBsb2dDb25zdHJ1Y3RvciA9IG51bGw7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgbG9nIGNvbnRydWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9nQ29uc3RydWN0b3IoKSB7XG4gIGxvZ0NvbnN0cnVjdG9yID0gTG9nO1xuICAvLyBJbml0aWFsaXplIGluc3RhbmNlcyBmb3IgdXNlLiBJZiBhIGJpbmFyeSAoYW4gZXh0ZW5zaW9uIGZvciBleGFtcGxlKSB0aGF0XG4gIC8vIGRvZXMgbm90IGNhbGwgYGluaXRMb2dDb25zdHJ1Y3RvcmAgaW52b2tlcyBgZGV2KClgIG9yIGB1c2VyKClgIGVhcmxpZXIgdGhhblxuICAvLyB0aGUgYmluYXJ5IHRoYXQgZG9lcyBjYWxsIGBpbml0TG9nQ29uc3RydWN0b3JgIChhbXAuanMpLCB0aGUgZXh0ZW5zaW9uIHdpbGxcbiAgLy8gdGhyb3cgYW4gZXJyb3IgYXMgdGhhdCBleHRlbnNpb24gd2lsbCBuZXZlciBiZSBhYmxlIHRvIGluaXRpYWxpemUgdGhlIGxvZ1xuICAvLyBpbnN0YW5jZXMgYW5kIHdlIGFsc28gZG9uJ3Qgd2FudCBpdCB0byBjYWxsIGBpbml0TG9nQ29uc3RydWN0b3JgIGVpdGhlclxuICAvLyAoc2luY2UgdGhhdCB3aWxsIGNhdXNlIHRoZSBMb2cgaW1wbGVtZW50YXRpb24gdG8gYmUgYnVuZGxlZCBpbnRvIHRoYXRcbiAgLy8gYmluYXJ5KS4gU28gd2UgbXVzdCBpbml0aWFsaXplIHRoZSBpbnN0YW5jZXMgZWFnZXJseSBzbyB0aGF0IHRoZXkgYXJlIHJlYWR5XG4gIC8vIGZvciB1c2UgKHN0b3JlZCBnbG9iYWxseSkgYWZ0ZXIgdGhlIG1haW4gYmluYXJ5IGNhbGxzIGBpbml0TG9nQ29uc3RydWN0b3JgLlxuICBkZXYoKTtcbiAgdXNlcigpO1xufVxuXG4vKipcbiAqIFJlc2V0cyBsb2cgY29udHJ1Y3RvciBmb3IgdGVzdGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TG9nQ29uc3RydWN0b3JGb3JUZXN0aW5nKCkge1xuICBsb2dDb25zdHJ1Y3RvciA9IG51bGw7XG59XG5cbi8qKlxuICogUHVibGlzaGVyIGxldmVsIGxvZy5cbiAqXG4gKiBFbmFibGVkIGluIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqICAxLiBOb3QgZGlzYWJsZWQgdXNpbmcgYCNsb2c9MGAuXG4gKiAgMi4gRGV2ZWxvcG1lbnQgbW9kZSBpcyBlbmFibGVkIHZpYSBgI2RldmVsb3BtZW50PTFgIG9yIGxvZ2dpbmcgaXMgZXhwbGljaXRseVxuICogICAgIGVuYWJsZWQgdmlhIGAjbG9nPURgIHdoZXJlIEQgPj0gMS5cbiAqICAzLiBBTVAuc2V0TG9nTGV2ZWwoRCkgaXMgY2FsbGVkLCB3aGVyZSBEID49IDEuXG4gKlxuICogQHBhcmFtIHshRWxlbWVudD19IG9wdF9lbGVtZW50XG4gKiBAcmV0dXJuIHshTG9nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlcihvcHRfZWxlbWVudCkge1xuICBpZiAoIWxvZ3MudXNlcikge1xuICAgIGxvZ3MudXNlciA9IGdldFVzZXJMb2dnZXIoVVNFUl9FUlJPUl9TRU5USU5FTCk7XG4gIH1cbiAgaWYgKCFpc0Zyb21FbWJlZChsb2dzLnVzZXIud2luLCBvcHRfZWxlbWVudCkpIHtcbiAgICByZXR1cm4gbG9ncy51c2VyO1xuICB9IGVsc2Uge1xuICAgIGlmIChsb2dzLnVzZXJGb3JFbWJlZCkge1xuICAgICAgcmV0dXJuIGxvZ3MudXNlckZvckVtYmVkO1xuICAgIH1cbiAgICByZXR1cm4gbG9ncy51c2VyRm9yRW1iZWQgPSBnZXRVc2VyTG9nZ2VyKFVTRVJfRVJST1JfRU1CRURfU0VOVElORUwpO1xuICB9XG59XG5cbi8qKlxuICogR2V0dGVyIGZvciB1c2VyIGxvZ2dlclxuICogQHBhcmFtIHtzdHJpbmc9fSBzdWZmaXhcbiAqIEByZXR1cm4geyFMb2d9XG4gKi9cbmZ1bmN0aW9uIGdldFVzZXJMb2dnZXIoc3VmZml4KSB7XG4gIGlmICghbG9nQ29uc3RydWN0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBjYWxsIGluaXRMb2dDb25zdHJ1Y3RvcicpO1xuICB9XG4gIHJldHVybiBuZXcgbG9nQ29uc3RydWN0b3Ioc2VsZiwgbW9kZSA9PiB7XG4gICAgY29uc3QgbG9nTnVtID0gcGFyc2VJbnQobW9kZS5sb2csIDEwKTtcbiAgICBpZiAobW9kZS5kZXZlbG9wbWVudCB8fCBsb2dOdW0gPj0gMSkge1xuICAgICAgcmV0dXJuIExvZ0xldmVsLkZJTkU7XG4gICAgfVxuICAgIHJldHVybiBMb2dMZXZlbC5XQVJOO1xuICB9LCBzdWZmaXgpO1xufVxuXG4vKipcbiAqIEFNUCBkZXZlbG9wbWVudCBsb2cuIENhbGxzIHRvIGBkZXZMb2coKS5hc3NlcnRgIGFuZCBgZGV2LmZpbmVgIGFyZSBzdHJpcHBlZFxuICogaW4gdGhlIFBST0QgYmluYXJ5LiBIb3dldmVyLCBgZGV2TG9nKCkuYXNzZXJ0YCByZXN1bHQgaXMgcHJlc2VydmVkIGluIGVpdGhlclxuICogY2FzZS5cbiAqXG4gKiBFbmFibGVkIGluIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqICAxLiBOb3QgZGlzYWJsZWQgdXNpbmcgYCNsb2c9MGAuXG4gKiAgMi4gTG9nZ2luZyBpcyBleHBsaWNpdGx5IGVuYWJsZWQgdmlhIGAjbG9nPURgLCB3aGVyZSBEID49IDIuXG4gKiAgMy4gQU1QLnNldExvZ0xldmVsKEQpIGlzIGNhbGxlZCwgd2hlcmUgRCA+PSAyLlxuICpcbiAqIEByZXR1cm4geyFMb2d9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXYoKSB7XG4gIGlmIChsb2dzLmRldikge1xuICAgIHJldHVybiBsb2dzLmRldjtcbiAgfVxuICBpZiAoIWxvZ0NvbnN0cnVjdG9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gY2FsbCBpbml0TG9nQ29uc3RydWN0b3InKTtcbiAgfVxuICByZXR1cm4gbG9ncy5kZXYgPSBuZXcgbG9nQ29uc3RydWN0b3Ioc2VsZiwgbW9kZSA9PiB7XG4gICAgY29uc3QgbG9nTnVtID0gcGFyc2VJbnQobW9kZS5sb2csIDEwKTtcbiAgICBpZiAobG9nTnVtID49IDMpIHtcbiAgICAgIHJldHVybiBMb2dMZXZlbC5GSU5FO1xuICAgIH1cbiAgICBpZiAobG9nTnVtID49IDIpIHtcbiAgICAgIHJldHVybiBMb2dMZXZlbC5JTkZPO1xuICAgIH1cbiAgICByZXR1cm4gTG9nTGV2ZWwuT0ZGO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHshRWxlbWVudD19IG9wdF9lbGVtZW50XG4gKiBAcmV0dXJuIHtib29sZWFufSBpc0VtYmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Zyb21FbWJlZCh3aW4sIG9wdF9lbGVtZW50KSB7XG4gIGlmICghb3B0X2VsZW1lbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG9wdF9lbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgIT0gd2luO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Z2V0TW9kZX0gZnJvbSAnLi9tb2RlJztcblxuLyoqXG4gKiBQcm92aWRlcyBpbmZvIGFib3V0IHRoZSBjdXJyZW50IGFwcC4gVGhpcyByZXR1cm4gdmFsdWUgbWF5IGJlIGNhY2hlZCBhbmRcbiAqIHBhc3NlZCBhcm91bmQgYXMgaXQgd2lsbCBhbHdheXMgYmUgRENFJ2QuXG4gKiBAcGFyYW0gez9XaW5kb3c9fSBvcHRfd2luXG4gKiBAcmV0dXJuIHshLi9tb2RlLk1vZGVEZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlT2JqZWN0KG9wdF93aW4pIHtcbiAgcmV0dXJuIHtcbiAgICBsb2NhbERldjogZ2V0TW9kZShvcHRfd2luKS5sb2NhbERldixcbiAgICBkZXZlbG9wbWVudDogZ2V0TW9kZShvcHRfd2luKS5kZXZlbG9wbWVudCxcbiAgICBmaWx0ZXI6IGdldE1vZGUob3B0X3dpbikuZmlsdGVyLFxuICAgIG1pbmlmaWVkOiBnZXRNb2RlKG9wdF93aW4pLm1pbmlmaWVkLFxuICAgIGxpdGU6IGdldE1vZGUob3B0X3dpbikubGl0ZSxcbiAgICB0ZXN0OiBnZXRNb2RlKG9wdF93aW4pLnRlc3QsXG4gICAgbG9nOiBnZXRNb2RlKG9wdF93aW4pLmxvZyxcbiAgICB2ZXJzaW9uOiBnZXRNb2RlKG9wdF93aW4pLnZlcnNpb24sXG4gICAgcnR2VmVyc2lvbjogZ2V0TW9kZShvcHRfd2luKS5ydHZWZXJzaW9uLFxuICB9O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7cGFyc2VRdWVyeVN0cmluZ199IGZyb20gJy4vdXJsLXBhcnNlLXF1ZXJ5LXN0cmluZyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgbG9jYWxEZXY6IGJvb2xlYW4sXG4gKiAgIGRldmVsb3BtZW50OiBib29sZWFuLFxuICogICBmaWx0ZXI6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgbWluaWZpZWQ6IGJvb2xlYW4sXG4gKiAgIGxpdGU6IGJvb2xlYW4sXG4gKiAgIHRlc3Q6IGJvb2xlYW4sXG4gKiAgIGxvZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICB2ZXJzaW9uOiBzdHJpbmcsXG4gKiAgIHJ0dlZlcnNpb246IHN0cmluZyxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTW9kZURlZjtcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5jb25zdCB2ZXJzaW9uID0gJyRpbnRlcm5hbFJ1bnRpbWVWZXJzaW9uJCc7XG5cbi8qKlxuICogYHJ0dlZlcnNpb25gIGlzIHRoZSBwcmVmaXhlZCB2ZXJzaW9uIHdlIHNlcnZlIG9mZiBvZiB0aGUgY2RuLlxuICogVGhlIHByZWZpeCBkZW5vdGVzIGNhbmFyeSgwMCkgb3IgcHJvZCgwMSkgb3IgYW4gZXhwZXJpbWVudCB2ZXJzaW9uICggPiAwMSkuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5sZXQgcnR2VmVyc2lvbiA9ICcnO1xuXG4vKipcbiAqIFByb3ZpZGVzIGluZm8gYWJvdXQgdGhlIGN1cnJlbnQgYXBwLlxuICogQHBhcmFtIHs/V2luZG93PX0gb3B0X3dpblxuICogQHJldHVybiB7IU1vZGVEZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlKG9wdF93aW4pIHtcbiAgY29uc3Qgd2luID0gb3B0X3dpbiB8fCBzZWxmO1xuICBpZiAod2luLkFNUF9NT0RFKSB7XG4gICAgcmV0dXJuIHdpbi5BTVBfTU9ERTtcbiAgfVxuICByZXR1cm4gd2luLkFNUF9NT0RFID0gZ2V0TW9kZV8od2luKTtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBpbmZvIGFib3V0IHRoZSBjdXJyZW50IGFwcC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshTW9kZURlZn1cbiAqL1xuZnVuY3Rpb24gZ2V0TW9kZV8od2luKSB7XG4gIC8vIE1hZ2ljIGNvbnN0YW50cyB0aGF0IGFyZSByZXBsYWNlZCBieSBjbG9zdXJlIGNvbXBpbGVyLlxuICAvLyBJU19NSU5JRklFRCBpcyBhbHdheXMgcmVwbGFjZWQgd2l0aCB0cnVlIHdoZW4gY2xvc3VyZSBjb21waWxlciBpcyB1c2VkXG4gIC8vIHdoaWxlIElTX0RFViBpcyBvbmx5IHJlcGxhY2VkIHdoZW4gYGd1bHAgZGlzdGAgaXMgY2FsbGVkIHdpdGhvdXQgdGhlXG4gIC8vIC0tZm9ydGVzdGluZyBmbGFnLlxuICBjb25zdCBJU19ERVYgPSB0cnVlO1xuICBjb25zdCBJU19NSU5JRklFRCA9IGZhbHNlO1xuXG4gIGNvbnN0IGxvY2FsRGV2RW5hYmxlZCA9ICEhKHNlbGYuQU1QX0NPTkZJRyAmJiBzZWxmLkFNUF9DT05GSUcubG9jYWxEZXYpO1xuICBjb25zdCBydW5uaW5nVGVzdHMgPSBJU19ERVYgJiYgISEod2luLkFNUF9URVNUIHx8IHdpbi5fX2thcm1hX18pO1xuICBjb25zdCBpc0xvY2FsRGV2ID0gSVNfREVWICYmIChsb2NhbERldkVuYWJsZWQgfHwgcnVubmluZ1Rlc3RzKTtcbiAgY29uc3QgaGFzaFF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZ18oXG4gICAgICAvLyBsb2NhdGlvbi5vcmlnaW5hbEhhc2ggaXMgc2V0IGJ5IHRoZSB2aWV3ZXIgd2hlbiBpdCByZW1vdmVzIHRoZSBmcmFnbWVudFxuICAgICAgLy8gZnJvbSB0aGUgVVJMLlxuICAgICAgd2luLmxvY2F0aW9uLm9yaWdpbmFsSGFzaCB8fCB3aW4ubG9jYXRpb24uaGFzaCk7XG5cbiAgY29uc3Qgc2VhcmNoUXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nXyh3aW4ubG9jYXRpb24uc2VhcmNoKTtcblxuICBpZiAoIXJ0dlZlcnNpb24pIHtcbiAgICBydHZWZXJzaW9uID0gZ2V0UnR2VmVyc2lvbih3aW4sIGlzTG9jYWxEZXYpO1xuICB9XG5cbiAgLy8gVGhlIGBtaW5pZmllZGAsIGB0ZXN0YCBhbmQgYGxvY2FsRGV2YCBwcm9wZXJ0aWVzIGFyZSByZXBsYWNlZFxuICAvLyBhcyBib29sZWFuIGxpdGVyYWxzIHdoZW4gd2UgcnVuIGBndWxwIGRpc3RgIHdpdGhvdXQgdGhlIGAtLWZvcnRlc3RpbmdgXG4gIC8vIGZsYWdzLiBUaGlzIGltcHJvdmVkIERDRSBvbiB0aGUgcHJvZHVjdGlvbiBmaWxlIHdlIGRlcGxveSBhcyB0aGUgY29kZVxuICAvLyBwYXRocyBmb3IgbG9jYWxob3N0L3Rlc3RpbmcvZGV2ZWxvcG1lbnQgYXJlIGVsaW1pbmF0ZWQuXG4gIHJldHVybiB7XG4gICAgbG9jYWxEZXY6IGlzTG9jYWxEZXYsXG4gICAgLy8gVHJpZ2dlcnMgdmFsaWRhdGlvbiBvciBlbmFibGUgcHViIGxldmVsIGxvZ2dpbmcuIFZhbGlkYXRpb24gY2FuIGJlXG4gICAgLy8gYnlwYXNzZWQgdmlhICN2YWxpZGF0ZT0wLlxuICAgIC8vIE5vdGUgdGhhdCBBTVBfREVWX01PREUgZmxhZyBpcyB1c2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICAgIGRldmVsb3BtZW50OiAhIShoYXNoUXVlcnlbJ2RldmVsb3BtZW50J10gPT0gJzEnIHx8IHdpbi5BTVBfREVWX01PREUpLFxuICAgIGV4YW1pbmVyOiBoYXNoUXVlcnlbJ2RldmVsb3BtZW50J10gPT0gJzInLFxuICAgIC8vIEFsbG93cyBmaWx0ZXJpbmcgdmFsaWRhdGlvbiBlcnJvcnMgYnkgZXJyb3IgY2F0ZWdvcnkuIEZvciB0aGVcbiAgICAvLyBhdmFpbGFibGUgY2F0ZWdvcmllcywgc2VlIEVycm9yQ2F0ZWdvcnkgaW4gdmFsaWRhdG9yL3ZhbGlkYXRvci5wcm90by5cbiAgICBmaWx0ZXI6IGhhc2hRdWVyeVsnZmlsdGVyJ10sXG4gICAgLy8gYW1wLWdlbyBvdmVycmlkZVxuICAgIGdlb092ZXJyaWRlOiBoYXNoUXVlcnlbJ2FtcC1nZW8nXSxcbiAgICBtaW5pZmllZDogSVNfTUlOSUZJRUQsXG4gICAgLy8gV2hldGhlciBkb2N1bWVudCBpcyBpbiBhbiBhbXAtbGl0ZSB2aWV3ZXIuIEl0IHNpZ25hbCB0aGF0IHRoZSB1c2VyXG4gICAgLy8gd291bGQgcHJlZmVyIHRvIHVzZSBsZXNzIGJhbmR3aWR0aC5cbiAgICBsaXRlOiBzZWFyY2hRdWVyeVsnYW1wX2xpdGUnXSAhPSB1bmRlZmluZWQsXG4gICAgdGVzdDogcnVubmluZ1Rlc3RzLFxuICAgIGxvZzogaGFzaFF1ZXJ5Wydsb2cnXSxcbiAgICB2ZXJzaW9uLFxuICAgIHJ0dlZlcnNpb24sXG4gIH07XG59XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIGBydHZWZXJzaW9uYCB3aGljaCB3aWxsIGhhdmUgYSBudW1lcmljIHByZWZpeFxuICogZGVub3RpbmcgY2FuYXJ5L3Byb2QvZXhwZXJpbWVudCAodW5sZXNzIGBpc0xvY2FsRGV2YCBpcyB0cnVlKS5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtib29sZWFufSBpc0xvY2FsRGV2XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFJ0dlZlcnNpb24od2luLCBpc0xvY2FsRGV2KSB7XG4gIC8vIElmIGl0J3MgbG9jYWwgZGV2IHRoZW4gd2Ugd29uJ3QgYWN0dWFsbHkgaGF2ZSBhIGZ1bGwgdmVyc2lvbiBzb1xuICAvLyBqdXN0IHVzZSB0aGUgdmVyc2lvbi5cbiAgaWYgKGlzTG9jYWxEZXYpIHtcbiAgICByZXR1cm4gdmVyc2lvbjtcbiAgfVxuXG4gIGlmICh3aW4uQU1QX0NPTkZJRyAmJiB3aW4uQU1QX0NPTkZJRy52KSB7XG4gICAgcmV0dXJuIHdpbi5BTVBfQ09ORklHLnY7XG4gIH1cblxuICAvLyBDdXJyZW50bHkgYCRpbnRlcm5hbFJ1bnRpbWVWZXJzaW9uJGAgYW5kIHRodXMgYG1vZGUudmVyc2lvbmAgY29udGFpbiBvbmx5XG4gIC8vIG1ham9yIHZlcnNpb24uIFRoZSBmdWxsIHZlcnNpb24gaG93ZXZlciBtdXN0IGFsc28gY2FycnkgdGhlIG1pbm9yIHZlcnNpb24uXG4gIC8vIFdlIHdpbGwgZGVmYXVsdCB0byBwcm9kdWN0aW9uIGRlZmF1bHQgYDAxYCBtaW5vciB2ZXJzaW9uIGZvciBub3cuXG4gIC8vIFRPRE8oZXJ3aW5tb21iYXkpOiBkZWNpZGUgd2hldGhlciAkaW50ZXJuYWxSdW50aW1lVmVyc2lvbiQgc2hvdWxkIGNvbnRhaW5cbiAgLy8gbWlub3IgdmVyc2lvbi5cbiAgcmV0dXJuIGAwMSR7dmVyc2lvbn1gO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNMb2NhbERldlxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdHZWZXJzaW9uRm9yVGVzdGluZyh3aW4sIGlzTG9jYWxEZXYpIHtcbiAgcmV0dXJuIGdldFJ0dlZlcnNpb24od2luLCBpc0xvY2FsRGV2KTtcbn1cblxuXG4vKiogQHZpc2libGVGb3JUZXN0aW5nICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRSdHZWZXJzaW9uRm9yVGVzdGluZygpIHtcbiAgcnR2VmVyc2lvbiA9ICcnO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7RGVmZXJyZWR9IGZyb20gJy4vdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcblxuLyoqIEBjb25zdCB7ZnVuY3Rpb24oKX0gKi9cbmNvbnN0IE5PT1BfQ0FMTEJBQ0tfID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTUlOX1ZFTE9DSVRZXyA9IDAuMDI7XG5cbi8qKiBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IEZSQU1FX0NPTlNUXyA9IDE2LjY3O1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBFWFBfRlJBTUVfQ09OU1RfID0gTWF0aC5yb3VuZCgtRlJBTUVfQ09OU1RfIC8gTWF0aC5sb2coMC45NSkpO1xuXG4vKipcbiAqIERlcHJlY2lhdGlvbiBmYWN0b3Igb2YgMS8xMDAgb2YgYSBtaWxsaXNlY29uZC4gVGhpcyBpcyBob3cgbXVjaCBwcmV2aW91c1xuICogdmVsb2NpdHkgaXMgZGVwcmVjaWF0ZWQgd2hlbiBjYWxjdWxhdGluZyB0aGUgbmV3IHZlbG9jaXR5LlxuICogQGNvbnN0IHtudW1iZXJ9XG4gKi9cbmNvbnN0IFZFTE9DSVRZX0RFUFJfRkFDVE9SXyA9IEZSQU1FX0NPTlNUXyAqIDI7XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHZlbG9jaXR5IGZvciBhbiBvYmplY3QgdHJhdmVsaW5nIHRoZSBkaXN0YW5jZSBkZWx0YVYgaW4gdGhlXG4gKiB0aW1lIGRlbHRhVGltZSBnaXZlbiB0aGUgcHJldmlvdXMgdmVsb2NpdHkgcHJldlZlbG9jaXR5LiBUaGUgY2FsY3VsYXRpb25cbiAqIGFzc3VtZXMgYSBiYXNpYyBpbmZvcm1hdGlvbmFsIGRlcHJlY2lhdGlvbiBvZiBwcmV2aW91cyB2ZWxvY2l0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVZcbiAqIEBwYXJhbSB7dGltZX0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge251bWJlcn0gcHJldlZlbG9jaXR5XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjVmVsb2NpdHkoZGVsdGFWLCBkZWx0YVRpbWUsIHByZXZWZWxvY2l0eSkge1xuICBpZiAoZGVsdGFUaW1lIDwgMSkge1xuICAgIGRlbHRhVGltZSA9IDE7XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgc3BlZWQgYW5kIHNwZWVkIGRlcHJlY2lhdGlvbi5cbiAgY29uc3Qgc3BlZWQgPSBkZWx0YVYgLyBkZWx0YVRpbWU7XG5cbiAgLy8gRGVwcmVjaWF0aW9uIGlzIHNpbXBseSBhbiBpbmZvcm1hdGlvbmFsIHF1YWxpdHkuIEl0IGJhc2ljYWxseSBtZWFuczpcbiAgLy8gd2UgY2FuJ3QgaWdub3JlIHRoZSB2ZWxvY2l0eSB3ZSBrbmV3IHJlY2VudGx5LCBidXQgd2UnZCBvbmx5IGNvbnNpZGVyXG4gIC8vIGl0IHByb3BvcnRpb25hbGx5IHRvIGhvdyBsb25nIGFnbyB3ZSd2ZSBzZWVuIGl0LiBDdXJyZW50bHksIHRoaXNcbiAgLy8gZGVwcmVjaWF0aW9uIGZhY3RvciBpcyAxLzEwMCBvZiBhIG1pbGxpc2Vjb25kLiBOZXcgYXZlcmFnZSB2ZWxvY2l0eSBpc1xuICAvLyBjYWxjdWxhdGVkIGJ5IHdlaWdoaW5nIHRvd2FyZCB0aGUgbmV3IHZlbG9jaXR5IGFuZCBhd2F5IGZyb20gb2xkXG4gIC8vIHZlbG9jaXR5IGJhc2VkIG9uIHRoZSBkZXByZWNpYXRpb24uXG4gIGNvbnN0IGRlcHIgPSAwLjUgKyBNYXRoLm1pbihkZWx0YVRpbWUgLyBWRUxPQ0lUWV9ERVBSX0ZBQ1RPUl8sIDAuNSk7XG4gIHJldHVybiBzcGVlZCAqIGRlcHIgKyBwcmV2VmVsb2NpdHkgKiAoMSAtIGRlcHIpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIG1vdGlvbiBwcm9jZXNzIHRoYXQgd2lsbCB5aWVsZCB3aGVuIHRoZSB2ZWxvY2l0eSBoYXMgcnVuIGRvd24gdG9cbiAqIHplcnAuIEZvciBlYWNoIGl0ZXJhdGlvbiwgdGhlIHZlbG9jaXR5IGlzIGRlcHJlY2lhdGVkIGFuZCB0aGUgY29vcmRpbmF0ZXNcbiAqIGFyZSBhZHZhbmNlZCBmcm9tIHN0YXJ0IFgvWSB0byB0aGUgZGVzdGluYXRpb24gYWNjb3JkaW5nIHRvIHZlbG9jaXR5XG4gKiB2ZWN0b3JzLiBGb3IgZWFjaCBzdWNoIGl0ZXJhdGlvbiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggdGhlIG5ldyB4IGFuZCB5LlxuICogQHBhcmFtIHshTm9kZX0gY29udGV4dE5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggU3RhcnQgWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSBTdGFydCBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmVsb1ggU3RhcnRpbmcgWCB2ZWxvY2l0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2ZWxvWSBTdGFydGluZyBZIHZlbG9jaXR5LlxuICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIsIG51bWJlcik6Ym9vbGVhbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZvciBlYWNoXG4gKiAgIHN0ZXAgb2YgdGhlIGRlY2VsZXJhdGlvbiBtb3Rpb24uXG4gKiBAcGFyYW0geyEuL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luYz19IG9wdF92c3luYyBNb3N0bHkgZm9yIHRlc3Rpbmcgb25seS5cbiAqIEByZXR1cm4geyFNb3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZU1vdGlvbihjb250ZXh0Tm9kZSwgc3RhcnRYLCBzdGFydFksIHZlbG9YLCB2ZWxvWSxcbiAgY2FsbGJhY2ssIG9wdF92c3luYykge1xuICByZXR1cm4gbmV3IE1vdGlvbihjb250ZXh0Tm9kZSwgc3RhcnRYLCBzdGFydFksIHZlbG9YLCB2ZWxvWSxcbiAgICAgIGNhbGxiYWNrLCBvcHRfdnN5bmMpLnN0YXJ0KCk7XG59XG5cblxuLyoqXG4gKiBNb3Rpb24gcHJvY2VzcyB0aGF0IGFsbG93cyB0cmFja2luZyBhbmQgbW9uaXRvcmluZyBvZiB0aGUgcnVubmluZyBtb3Rpb24uXG4gKiBNb3N0IGltcG9ydGFudGx5IGl0IGV4cG9zZXMgbWV0aG9kcyBcInRoZW5cIiBhbmQgXCJ0aGVuQWx3YXlzXCIgdGhhdCBoYXZlIHRoZVxuICogc2VtYW50aWNzIG9mIGEgUHJvbWlzZSBhbmQgc2lnbmFsIHdoZW4gdGhlIG1vdGlvbiBoYXMgY29tcGxldGVkIG9yIGZhaWxlZC5cbiAqIEFkZGl0aW9uYWxseSwgaXQgZXhwb3NlcyB0aGUgbWV0aG9kIFwiaGFsdFwiIHdoaWNoIGFsbG93cyB0byBzdG9wL3Jlc2V0IHRoZVxuICogbW90aW9uLlxuICogQGltcGxlbWVudHMge0lUaGVuYWJsZX1cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSBjb250ZXh0Tm9kZSBDb250ZXh0IG5vZGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggU3RhcnQgWCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIFN0YXJ0IFkgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZlbG9YIFN0YXJ0aW5nIFggdmVsb2NpdHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2ZWxvWSBTdGFydGluZyBZIHZlbG9jaXR5LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyKTpib29sZWFufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZm9yIGVhY2hcbiAgICogICBzdGVwIG9mIHRoZSBkZWNlbGVyYXRpb24gbW90aW9uLlxuICAgKiBAcGFyYW0geyEuL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luYz19IG9wdF92c3luY1xuICAgKi9cbiAgY29uc3RydWN0b3IoY29udGV4dE5vZGUsIHN0YXJ0WCwgc3RhcnRZLCB2ZWxvWCwgdmVsb1ksIGNhbGxiYWNrLCBvcHRfdnN5bmMpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSBvcHRfdnN5bmMgfHwgU2VydmljZXMudnN5bmNGb3Ioc2VsZik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshTm9kZX0gKi9cbiAgICB0aGlzLmNvbnRleHROb2RlXyA9IGNvbnRleHROb2RlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuY2FsbGJhY2tfID0gY2FsbGJhY2s7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RYXyA9IHN0YXJ0WDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFlfID0gc3RhcnRZO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5tYXhWZWxvY2l0eVhfID0gdmVsb1g7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLm1heFZlbG9jaXR5WV8gPSB2ZWxvWTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WV8gPSAwO1xuXG4gICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IVByb21pc2V9ICovXG4gICAgdGhpcy5wcm9taXNlXyA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAvKiogQHByaXZhdGUgeyFGdW5jdGlvbn0gKi9cbiAgICB0aGlzLnJlc29sdmVfID0gZGVmZXJyZWQucmVzb2x2ZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUZ1bmN0aW9ufSAqL1xuICAgIHRoaXMucmVqZWN0XyA9IGRlZmVycmVkLnJlamVjdDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbnRpbnVpbmdfID0gZmFsc2U7XG4gIH1cblxuICAvKiogKi9cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5jb250aW51aW5nXyA9IHRydWU7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMubWF4VmVsb2NpdHlYXykgPD0gTUlOX1ZFTE9DSVRZXyAmJlxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5tYXhWZWxvY2l0eVlfKSA8PSBNSU5fVkVMT0NJVFlfKSB7XG4gICAgICB0aGlzLmZpcmVNb3ZlXygpO1xuICAgICAgdGhpcy5jb21wbGV0ZUNvbnRpbnVlXyh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydW5Db250aW51aW5nXygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYWx0cyB0aGUgbW90aW9uLiBUaGUgbW90aW9uIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBzaW5jZSB0aGUgbW90aW9uXG4gICAqIGhhcyBiZWVuIGludGVycnVwdGVkLlxuICAgKi9cbiAgaGFsdCgpIHtcbiAgICBpZiAodGhpcy5jb250aW51aW5nXykge1xuICAgICAgdGhpcy5jb21wbGV0ZUNvbnRpbnVlXyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoYWlucyB0byB0aGUgbW90aW9uJ3MgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB3aGVuIHRoZSBtb3Rpb24gaGFzXG4gICAqIGNvbXBsZXRlZCBvciB3aWxsIHJlamVjdCBpZiBtb3Rpb24gaGFzIGZhaWxlZCBvciB3YXMgaW50ZXJydXB0ZWQuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbihvcHRfcmVzb2x2ZSwgb3B0X3JlamVjdCkge1xuICAgIGlmICghb3B0X3Jlc29sdmUgJiYgIW9wdF9yZWplY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb21pc2VfO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9taXNlXy50aGVuKG9wdF9yZXNvbHZlLCBvcHRfcmVqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgcmVnYXJkbGVzcyB3aGV0aGVyIHRoZSBtb3Rpb24gc3VjY2VlZHMgb3IgZmFpbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IG9wdF9jYWxsYmFja1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHRoZW5BbHdheXMob3B0X2NhbGxiYWNrKSB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSBvcHRfY2FsbGJhY2sgfHwgTk9PUF9DQUxMQkFDS187XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IVByb21pc2V9ICovICh0aGlzLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBydW5Db250aW51aW5nXygpIHtcbiAgICB0aGlzLnZlbG9jaXR5WF8gPSB0aGlzLm1heFZlbG9jaXR5WF87XG4gICAgdGhpcy52ZWxvY2l0eVlfID0gdGhpcy5tYXhWZWxvY2l0eVlfO1xuICAgIGNvbnN0IGJvdW5kU3RlcCA9IHRoaXMuc3RlcENvbnRpbnVlXy5iaW5kKHRoaXMpO1xuICAgIGNvbnN0IGJvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlQ29udGludWVfLmJpbmQodGhpcywgdHJ1ZSk7XG4gICAgcmV0dXJuIHRoaXMudnN5bmNfLnJ1bkFuaW1NdXRhdGVTZXJpZXModGhpcy5jb250ZXh0Tm9kZV8sIGJvdW5kU3RlcCwgNTAwMClcbiAgICAgICAgLnRoZW4oYm91bmRDb21wbGV0ZSwgYm91bmRDb21wbGV0ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBcInRydWVcIiB0byBjb250aW51ZSBhbmQgXCJmYWxzZVwiIHRvIHN0b3AgbW90aW9uIHByb2Nlc3MuXG4gICAqIEBwYXJhbSB7dGltZX0gdGltZVNpbmNlU3RhcnRcbiAgICogQHBhcmFtIHt0aW1lfSB0aW1lU2luY2VQcmV2XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGVwQ29udGludWVfKHRpbWVTaW5jZVN0YXJ0LCB0aW1lU2luY2VQcmV2KSB7XG4gICAgaWYgKCF0aGlzLmNvbnRpbnVpbmdfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0WF8gKz0gdGltZVNpbmNlUHJldiAqIHRoaXMudmVsb2NpdHlYXztcbiAgICB0aGlzLmxhc3RZXyArPSB0aW1lU2luY2VQcmV2ICogdGhpcy52ZWxvY2l0eVlfO1xuICAgIGlmICghdGhpcy5maXJlTW92ZV8oKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlY2VsID0gTWF0aC5leHAoLXRpbWVTaW5jZVN0YXJ0IC8gRVhQX0ZSQU1FX0NPTlNUXyk7XG4gICAgdGhpcy52ZWxvY2l0eVhfID0gdGhpcy5tYXhWZWxvY2l0eVhfICogZGVjZWw7XG4gICAgdGhpcy52ZWxvY2l0eVlfID0gdGhpcy5tYXhWZWxvY2l0eVlfICogZGVjZWw7XG4gICAgcmV0dXJuIChNYXRoLmFicyh0aGlzLnZlbG9jaXR5WF8pID4gTUlOX1ZFTE9DSVRZXyB8fFxuICAgICAgICBNYXRoLmFicyh0aGlzLnZlbG9jaXR5WV8pID4gTUlOX1ZFTE9DSVRZXyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBzdWNjZXNzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wbGV0ZUNvbnRpbnVlXyhzdWNjZXNzKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRpbnVpbmdfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29udGludWluZ18gPSBmYWxzZTtcbiAgICB0aGlzLmZpcmVNb3ZlXygpO1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICB0aGlzLnJlc29sdmVfKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVqZWN0XygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBmaXJlTW92ZV8oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tfKHRoaXMubGFzdFhfLCB0aGlzLmxhc3RZXyk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhlbHBzIHRvIG1hbmFnZSBvYnNlcnZlcnMuIE9ic2VydmVycyBjYW4gYmUgYWRkZWQsIHJlbW92ZWQgb3JcbiAqIGZpcmVkIHRocm91Z2ggYW5kIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gKiBAdGVtcGxhdGUgVFlQRVxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgT2JzZXJ2YWJsZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7P0FycmF5PGZ1bmN0aW9uKFRZUEUpPn0gKi9cbiAgICB0aGlzLmhhbmRsZXJzXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgb2JzZXJ2ZXIgdG8gdGhpcyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihUWVBFKX0gaGFuZGxlciBPYnNlcnZlcidzIGhhbmRsZXIuXG4gICAqIEByZXR1cm4geyFVbmxpc3RlbkRlZn1cbiAgICovXG4gIGFkZChoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLmhhbmRsZXJzXykge1xuICAgICAgdGhpcy5oYW5kbGVyc18gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVyc18ucHVzaChoYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmUoaGFuZGxlcik7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBvYnNlcnZlciBmcm9tIHRoaXMgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVFlQRSl9IGhhbmRsZXIgT2JzZXJ2ZXIncyBpbnN0YW5jZS5cbiAgICovXG4gIHJlbW92ZShoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLmhhbmRsZXJzXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaGFuZGxlcnNfLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNfLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIG9ic2VydmVycy5cbiAgICovXG4gIHJlbW92ZUFsbCgpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlcnNfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlcnNfLmxlbmd0aCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgYW4gZXZlbnQuIEFsbCBvYnNlcnZlcnMgYXJlIGNhbGxlZC5cbiAgICogQHBhcmFtIHtUWVBFPX0gb3B0X2V2ZW50XG4gICAqL1xuICBmaXJlKG9wdF9ldmVudCkge1xuICAgIGlmICghdGhpcy5oYW5kbGVyc18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzXztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbaV07XG4gICAgICBoYW5kbGVyKG9wdF9ldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbnVtYmVyIG9mIGhhbmRsZXJzLiBNb3N0bHkgbmVlZGVkIGZvciB0ZXN0cy5cbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0SGFuZGxlckNvdW50KCkge1xuICAgIGlmICghdGhpcy5oYW5kbGVyc18pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oYW5kbGVyc18ubGVuZ3RoO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi9zZXJ2aWNlcyc7XG5cblxuLyoqXG4gKiBQYXNzIGNsYXNzIGhlbHBzIHRvIG1hbmFnZSBzaW5nbGUtcGFzcyBwcm9jZXNzLiBBIHBhc3MgaXMgc2NoZWR1bGVkIHVzaW5nXG4gKiBkZWxheSBtZXRob2QuIE9ubHkgb25lIHBhc3MgY2FuIGJlIHBlbmRpbmcgYXQgYSB0aW1lLiBJZiBubyBwYXNzIGlzIHBlbmRpbmdcbiAqIHRoZSBwcm9jZXNzIGlzIGNvbnNpZGVyZWQgdG8gYmUgXCJpZGxlXCIuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXNzIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBQYXNzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGhhbmRsZXIgSGFuZGxlciB0byBiZSBleGVjdXRlZCB3aGVuIHBhc3MgaXMgdHJpZ2dlcmVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kZWZhdWx0RGVsYXkgRGVmYXVsdCBkZWxheSB0byBiZSB1c2VkIHdoZW4gc2NoZWR1bGVcbiAgICogICBpcyBjYWxsZWQgd2l0aG91dCBvbmUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIGhhbmRsZXIsIG9wdF9kZWZhdWx0RGVsYXkpIHtcbiAgICB0aGlzLnRpbWVyXyA9IFNlcnZpY2VzLnRpbWVyRm9yKHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbigpfSAqL1xuICAgIHRoaXMuaGFuZGxlcl8gPSBoYW5kbGVyO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuICAgIHRoaXMuZGVmYXVsdERlbGF5XyA9IG9wdF9kZWZhdWx0RGVsYXkgfHwgMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfHN0cmluZ30gKi9cbiAgICB0aGlzLnNjaGVkdWxlZF8gPSAtMTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubmV4dFRpbWVfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnJ1bm5pbmdfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRnVuY3Rpb259ICovXG4gICAgdGhpcy5ib3VuZFBhc3NfID0gKCkgPT4gdGhpcy5wYXNzXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IGEgcGFzcyBpcyBjdXJyZW50bHkgcGVuZGluZy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzUGVuZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZWRfICE9IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIHNjaGVkdWxlIGEgbmV3IHBhc3Mgb3B0aW9uYWxseSB3aXRoIHNwZWNpZmllZCBkZWxheS4gSWYgdGhlIG5ld1xuICAgKiByZXF1ZXN0ZWQgcGFzcyBpcyByZXF1ZXN0ZWQgYmVmb3JlIHRoZSBwZW5kaW5nIHBhc3MsIHRoZSBwZW5kaW5nIHBhc3MgaXNcbiAgICogY2FuY2VsZWQuIElmIHRoZSBuZXcgcGFzcyBpcyByZXF1ZXN0ZWQgYWZ0ZXIgdGhlIHBlbmRpbmcgcGFzcywgdGhlIG5ld2x5XG4gICAqIHJlcXVlc3RlZCBwYXNzIGlzIGlnbm9yZWQuXG4gICAqXG4gICAqIFJldHVybnMge0Bjb2RlIHRydWV9IGlmIHRoZSBwYXNzIGhhcyBiZWVuIHNjaGVkdWxlZCBhbmQge0Bjb2RlIGZhbHNlfSBpZlxuICAgKiBpZ25vcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kZWxheSBEZWxheSB0byBzY2hlZHVsZSB0aGUgcGFzcy4gSWYgbm90IHNwZWNpZmllZFxuICAgKiAgIHRoZSBkZWZhdWx0IGRlbGF5IGlzIHVzZWQsIGZhbGxpbmcgYmFjayB0byAwLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc2NoZWR1bGUob3B0X2RlbGF5KSB7XG4gICAgbGV0IGRlbGF5ID0gb3B0X2RlbGF5IHx8IHRoaXMuZGVmYXVsdERlbGF5XztcbiAgICBpZiAodGhpcy5ydW5uaW5nXyAmJiBkZWxheSA8IDEwKSB7XG4gICAgICAvLyBJZiB3ZSBnZXQgY2FsbGVkIHJlY3Vyc2l2ZWx5LCB3YWl0IGF0IGxlYXN0IDEwbXMgZm9yIHRoZSBuZXh0XG4gICAgICAvLyBleGVjdXRpb24uXG4gICAgICBkZWxheSA9IDEwO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRUaW1lID0gRGF0ZS5ub3coKSArIGRlbGF5O1xuICAgIC8vIFNjaGVkdWxlIGFuZXcgaWYgbm90aGluZyBpcyBzY2hlZHVsZWQgY3VycmVudGx5IG9yIGlmIHRoZSBuZXcgdGltZSBpc1xuICAgIC8vIHNvb25lciB0aGVuIHByZXZpb3VzbHkgcmVxdWVzdGVkLlxuICAgIGlmICghdGhpcy5pc1BlbmRpbmcoKSB8fCBuZXh0VGltZSAtIHRoaXMubmV4dFRpbWVfIDwgLTEwKSB7XG4gICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgdGhpcy5uZXh0VGltZV8gPSBuZXh0VGltZTtcbiAgICAgIHRoaXMuc2NoZWR1bGVkXyA9IHRoaXMudGltZXJfLmRlbGF5KHRoaXMuYm91bmRQYXNzXywgZGVsYXkpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIHBhc3NfKCkge1xuICAgIHRoaXMuc2NoZWR1bGVkXyA9IC0xO1xuICAgIHRoaXMubmV4dFRpbWVfID0gMDtcbiAgICB0aGlzLnJ1bm5pbmdfID0gdHJ1ZTtcbiAgICB0aGlzLmhhbmRsZXJfKCk7XG4gICAgdGhpcy5ydW5uaW5nXyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIHBlbmRpbmcgcGFzcyBpZiBhbnkuXG4gICAqL1xuICBjYW5jZWwoKSB7XG4gICAgaWYgKHRoaXMuaXNQZW5kaW5nKCkpIHtcbiAgICAgIHRoaXMudGltZXJfLmNhbmNlbCh0aGlzLnNjaGVkdWxlZF8pO1xuICAgICAgdGhpcy5zY2hlZHVsZWRfID0gLTE7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuL21vZGUnO1xuaW1wb3J0IHtpbnN0YWxsIGFzIGluc3RhbGxBcnJheUluY2x1ZGVzfSBmcm9tICcuL3BvbHlmaWxscy9hcnJheS1pbmNsdWRlcyc7XG5pbXBvcnQge2luc3RhbGwgYXMgaW5zdGFsbEN1c3RvbUVsZW1lbnRzfSBmcm9tICcuL3BvbHlmaWxscy9jdXN0b20tZWxlbWVudHMnO1xuaW1wb3J0IHtcbiAgaW5zdGFsbCBhcyBpbnN0YWxsRE9NVG9rZW5MaXN0VG9nZ2xlLFxufSBmcm9tICcuL3BvbHlmaWxscy9kb210b2tlbmxpc3QtdG9nZ2xlJztcbmltcG9ydCB7aW5zdGFsbCBhcyBpbnN0YWxsRG9jQ29udGFpbnN9IGZyb20gJy4vcG9seWZpbGxzL2RvY3VtZW50LWNvbnRhaW5zJztcbmltcG9ydCB7aW5zdGFsbCBhcyBpbnN0YWxsTWF0aFNpZ259IGZyb20gJy4vcG9seWZpbGxzL21hdGgtc2lnbic7XG5pbXBvcnQge2luc3RhbGwgYXMgaW5zdGFsbE9iamVjdEFzc2lnbn0gZnJvbSAnLi9wb2x5ZmlsbHMvb2JqZWN0LWFzc2lnbic7XG5pbXBvcnQge2luc3RhbGwgYXMgaW5zdGFsbFByb21pc2V9IGZyb20gJy4vcG9seWZpbGxzL3Byb21pc2UnO1xuaW1wb3J0IHtpbnN0YWxsQ3VzdG9tRWxlbWVudHMgYXMgaW5zdGFsbFJlZ2lzdGVyRWxlbWVudH0gZnJvbVxuICAnZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC9idWlsZC9kb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50LnBhdGNoZWQnO1xuaW1wb3J0IHtpc0V4cGVyaW1lbnRPbn0gZnJvbSAnLi9leHBlcmltZW50cyc7XG5cbmlmIChpc0V4cGVyaW1lbnRPbihzZWxmLCAnY3VzdG9tLWVsZW1lbnRzLXYxJykgfHwgZ2V0TW9kZSgpLnRlc3QpIHtcbiAgaW5zdGFsbEN1c3RvbUVsZW1lbnRzKHNlbGYsIGNsYXNzIHt9KTtcbn0gZWxzZSB7XG4gIGluc3RhbGxSZWdpc3RlckVsZW1lbnQoc2VsZiwgJ2F1dG8nKTtcbn1cbmluc3RhbGxET01Ub2tlbkxpc3RUb2dnbGUoc2VsZik7XG5pbnN0YWxsTWF0aFNpZ24oc2VsZik7XG5pbnN0YWxsT2JqZWN0QXNzaWduKHNlbGYpO1xuaW5zdGFsbFByb21pc2Uoc2VsZik7XG5pbnN0YWxsRG9jQ29udGFpbnMoc2VsZik7XG5pbnN0YWxsQXJyYXlJbmNsdWRlcyhzZWxmKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBlbGVtZW50IGlzIGluIHRoZSBhcnJheSBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2Zyb21JbmRleFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0aGlzIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gaW5jbHVkZXModmFsdWUsIG9wdF9mcm9tSW5kZXgpIHtcbiAgY29uc3QgZnJvbUluZGV4ID0gb3B0X2Zyb21JbmRleCB8fCAwO1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aDtcbiAgbGV0IGkgPSBmcm9tSW5kZXggPj0gMCA/IGZyb21JbmRleCA6IE1hdGgubWF4KGxlbiArIGZyb21JbmRleCwgMCk7XG4gIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBvdGhlciA9IHRoaXNbaV07XG4gICAgLy8gSWYgdmFsdWUgaGFzIGJlZW4gZm91bmQgT1IgKHZhbHVlIGlzIE5hTiBBTkQgb3RoZXIgaXMgTmFOKVxuICAgIC8qZXNsaW50IFwibm8tc2VsZi1jb21wYXJlXCI6IDAqL1xuICAgIGlmIChvdGhlciA9PT0gdmFsdWUgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiogU2V0cyB0aGUgQXJyYXkuY29udGFpbnMgcG9seWZpbGwgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4qIEBwYXJhbSB7IVdpbmRvd30gd2luXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwod2luKSB7XG4gIGlmICghd2luLkFycmF5LnByb3RvdHlwZS5pbmNsdWRlcykge1xuICAgIHdpbi5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnaW5jbHVkZXMnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGluY2x1ZGVzLFxuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBwcm9taXNlOiAhUHJvbWlzZTx1bmRlZmluZWQ+LFxuICogICByZXNvbHZlOiBmdW5jdGlvbigpLFxuICogfX1cbiAqL1xubGV0IERlZmVycmVkRGVmO1xuXG4vKipcbiAqIEB0eXBlZGVmIHshRnVuY3Rpb259XG4gKi9cbmxldCBDdXN0b21FbGVtZW50Q29uc3RydWN0b3JEZWY7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICBuYW1lOiBzdHJpbmcsXG4gKiAgY3RvcjogIUN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvckRlZixcbiAqIH19XG4gKi9cbmxldCBDdXN0b21FbGVtZW50RGVmO1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgY3VzdG9tIGVsZW1lbnQncyBuYW1lLlxuICogVGhpcyBpbnRlbnRpb25hbGx5IGlnbm9yZXMgXCJ2YWxpZFwiIGhpZ2hlciBVbmljb2RlIENvZGUgUG9pbnRzLlxuICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY3VzdG9tLWVsZW1lbnRzLmh0bWwjdmFsaWQtY3VzdG9tLWVsZW1lbnQtbmFtZVxuICovXG5jb25zdCBWQUxJRF9OQU1FID0gL15bYS16XVthLXowLTkuX10qLVthLXowLTkuXy1dKiQvO1xuY29uc3QgSU5WQUxJRF9OQU1FUyA9IFtcbiAgJ2Fubm90YXRpb24teG1sJyxcbiAgJ2NvbG9yLXByb2ZpbGUnLFxuICAnZm9udC1mYWNlJyxcbiAgJ2ZvbnQtZmFjZS1zcmMnLFxuICAnZm9udC1mYWNlLXVyaScsXG4gICdmb250LWZhY2UtZm9ybWF0JyxcbiAgJ2ZvbnQtZmFjZS1uYW1lJyxcbiAgJ21pc3NpbmctZ2x5cGgnLFxuXTtcblxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIGN1c3RvbSBlbGVtZW50IG5hbWUgY29uZm9ybXMgdG8gdGhlIHNwZWMuXG4gKlxuICogQHBhcmFtIHshRnVuY3Rpb259IFN5bnRheEVycm9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5mdW5jdGlvbiBhc3NlcnRWYWxpZE5hbWUoU3ludGF4RXJyb3IsIG5hbWUpIHtcbiAgaWYgKCFWQUxJRF9OQU1FLnRlc3QobmFtZSkgfHwgSU5WQUxJRF9OQU1FUy5pbmRleE9mKG5hbWUpID49IDApIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYGludmFsaWQgY3VzdG9tIGVsZW1lbnQgbmFtZSBcIiR7bmFtZX1cImApO1xuICB9XG59XG5cbi8qKlxuICogRG9lcyB3aW4gaGF2ZSBhIGZ1bGwgQ3VzdG9tIEVsZW1lbnRzIHJlZ2lzdHJ5P1xuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBoYXNDdXN0b21FbGVtZW50cyh3aW4pIHtcbiAgY29uc3Qge2N1c3RvbUVsZW1lbnRzfSA9IHdpbjtcblxuICByZXR1cm4gISEoXG4gICAgY3VzdG9tRWxlbWVudHMgJiZcbiAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUgJiZcbiAgICBjdXN0b21FbGVtZW50cy5nZXQgJiZcbiAgICBjdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZCk7XG59XG5cbi8qKlxuICogV2FzIEhUTUxFbGVtZW50IGFscmVhZHkgcGF0Y2hlZCBmb3IgdGhpcyB3aW5kb3c/XG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzUGF0Y2hlZCh3aW4pIHtcbiAgY29uc3QgdGFnID0gd2luLkhUTUxFbGVtZW50LnRvU3RyaW5nKCk7XG4gIHJldHVybiB0YWcuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpID09PSAtMTtcbn1cblxuLyoqXG4gKiBUaGUgcHVibGljIEN1c3RvbSBFbGVtZW50cyBBUEkuXG4gKi9cbmNsYXNzIEN1c3RvbUVsZW1lbnRSZWdpc3RyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFSZWdpc3RyeX0gcmVnaXN0cnlcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgcmVnaXN0cnkpIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3QgQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3QgQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlZ2lzdHJ5XyA9IHJlZ2lzdHJ5O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBEZWZlcnJlZERlZj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cbiAgICB0aGlzLnBlbmRpbmdEZWZpbmVzXyA9IHRoaXMud2luXy5PYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBjdXN0b20gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHshQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yRGVmfSBjdG9yXG4gICAqIEBwYXJhbSB7IU9iamVjdD19IG9wdGlvbnNcbiAgICovXG4gIGRlZmluZShuYW1lLCBjdG9yLCBvcHRpb25zKSB7XG4gICAgdGhpcy5yZWdpc3RyeV8uZGVmaW5lKG5hbWUsIGN0b3IsIG9wdGlvbnMpO1xuXG4gICAgLy8gSWYgYW55b25lIGlzIHdhaXRpbmcgZm9yIHRoaXMgY3VzdG9tIGVsZW1lbnQgdG8gYmUgZGVmaW5lZCwgcmVzb2x2ZVxuICAgIC8vIHRoZWlyIHByb21pc2UuXG4gICAgY29uc3QgcGVuZGluZyA9IHRoaXMucGVuZGluZ0RlZmluZXNfO1xuICAgIGNvbnN0IGRlZmVycmVkID0gcGVuZGluZ1tuYW1lXTtcbiAgICBpZiAoZGVmZXJyZWQpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nW25hbWVdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSAoYWxyZWFkeSBkZWZpbmVkKSBjdXN0b20gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7IUN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvckRlZnx1bmRlZmluZWR9XG4gICAqL1xuICBnZXQobmFtZSkge1xuICAgIGNvbnN0IGRlZiA9IHRoaXMucmVnaXN0cnlfLmdldEJ5TmFtZShuYW1lKTtcbiAgICBpZiAoZGVmKSB7XG4gICAgICByZXR1cm4gZGVmLmN0b3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2FpdHMgdW50aWwgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGRlZmluZWQuXG4gICAqIElmIHRoZSBjdXN0b20gZWxlbWVudCBpcyBhbHJlYWR5IGRlZmluZWQsIHJldHVybnMgYSByZXNvbHZlZCBwcm9taXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTx1bmRlZmluZWQ+fVxuICAgKi9cbiAgd2hlbkRlZmluZWQobmFtZSkge1xuICAgIGNvbnN0IHtQcm9taXNlLCBTeW50YXhFcnJvcn0gPSB0aGlzLndpbl87XG4gICAgYXNzZXJ0VmFsaWROYW1lKFN5bnRheEVycm9yLCBuYW1lKTtcblxuICAgIGlmICh0aGlzLnJlZ2lzdHJ5Xy5nZXRCeU5hbWUobmFtZSkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwZW5kaW5nID0gdGhpcy5wZW5kaW5nRGVmaW5lc187XG4gICAgY29uc3QgZGVmZXJyZWQgPSBwZW5kaW5nW25hbWVdO1xuICAgIGlmIChkZWZlcnJlZCkge1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmU7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyAvKk9LKi9Qcm9taXNlKHJlcyA9PiByZXNvbHZlID0gcmVzKTtcbiAgICBwZW5kaW5nW25hbWVdID0ge1xuICAgICAgcHJvbWlzZSxcbiAgICAgIHJlc29sdmUsXG4gICAgfTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZ3JhZGUgYWxsIGN1c3RvbSBlbGVtZW50cyBpbnNpZGUgcm9vdC5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZX0gcm9vdFxuICAgKi9cbiAgdXBncmFkZShyb290KSB7XG4gICAgdGhpcy5yZWdpc3RyeV8udXBncmFkZShyb290KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaW50ZXJuYWwgQVBJcyBuZWNlc3NhcnkgdG8gcnVuIHRoZSBDdXN0b21FbGVtZW50UmVnaXN0cnkuXG4gKiBTaW5jZSBSZWdpc3RyeSBpcyBuZXZlciBleHBvc2VkIGV4dGVybmFsbHksIGFsbCBtZXRob2RzIGFyZSBhY3R1YWxseVxuICogYXZhaWxhYmxlIG9uIHRoZSBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgUmVnaXN0cnkge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIEBjb25zdFxuICAgICAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIEBjb25zdFxuICAgICAqL1xuICAgIHRoaXMuZG9jXyA9IHdpbi5kb2N1bWVudDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIUN1c3RvbUVsZW1lbnREZWY+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0XG4gICAgICovXG4gICAgdGhpcy5kZWZpbml0aW9uc18gPSB3aW4uT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIC8qKlxuICAgICAqIEEgdXAtdG8tZGF0ZSBET00gc2VsZWN0b3IgZm9yIGFsbCBjdXN0b20gZWxlbWVudHMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnF1ZXJ5XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnRseSB1cGdyYWRpbmcgZWxlbWVudC5cbiAgICAgKiBAcHJpdmF0ZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5LWJlaW5nLXVwZ3JhZGVkIGN1c3RvbSBlbGVtZW50LlxuICAgKlxuICAgKiBXaGVuIGFuIGFscmVhZHkgY3JlYXRlZCAodGhyb3VnaCB0aGUgRE9NIHBhcnNpbmcgQVBJcywgb3IgaW5uZXJIVE1MKVxuICAgKiBjdXN0b20gZWxlbWVudCBub2RlIGlzIGJlaW5nIHVwZ3JhZGVkLCB3ZSBjYW4ndCBqdXN0IGNyZWF0ZSBhIG5ldyBub2RlXG4gICAqIChpdCdzIGlsbGVnYWwgaW4gdGhlIHNwZWMpLiBCdXQgd2Ugc3RpbGwgbmVlZCB0byBydW4gdGhlIGN1c3RvbSBlbGVtZW50J3NcbiAgICogY29uc3RydWN0b3IgY29kZSBvbiB0aGUgbm9kZS4gV2UgYXZvaWQgdGhpcyBjb251bmRydW0gYnkgcnVubmluZyB0aGVcbiAgICogY29uc3RydWN0b3Igd2hpbGUgcmV0dXJuaW5nIHRoaXMgY3VycmVudCBub2RlIGluIHRoZSBIVE1MRWxlbWVudFxuICAgKiBjbGFzcyBjb25zdHJ1Y3RvciAodGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGN1c3RvbSBlbGVtZW50cykuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqL1xuICBjdXJyZW50KCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnRfO1xuICAgIHRoaXMuY3VycmVudF8gPSBudWxsO1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBjdXN0b20gZWxlbWVudCBkZWZpbml0aW9uIGJ5IG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge0N1c3RvbUVsZW1lbnREZWZ8dW5kZWZpbmVkfVxuICAgKi9cbiAgZ2V0QnlOYW1lKG5hbWUpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5kZWZpbml0aW9uc19bbmFtZV07XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgIHJldHVybiBkZWZpbml0aW9uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgY3VzdG9tIGVsZW1lbnQgZGVmaW5pdGlvbiBieSBjb25zdHJ1Y3RvciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtDdXN0b21FbGVtZW50Q29uc3RydWN0b3JEZWZ9IGN0b3JcbiAgICogQHJldHVybiB7Q3VzdG9tRWxlbWVudERlZnx1bmRlZmluZWR9XG4gICAqL1xuICBnZXRCeUNvbnN0cnVjdG9yKGN0b3IpIHtcbiAgICBjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMuZGVmaW5pdGlvbnNfO1xuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGRlZmluaXRpb25zKSB7XG4gICAgICBjb25zdCBkZWYgPSBkZWZpbml0aW9uc1tuYW1lXTtcbiAgICAgIGlmIChkZWYuY3RvciA9PT0gY3Rvcikge1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGN1c3RvbSBlbGVtZW50IGRlZmluaXRpb24sIGFuZCB1cGdyYWRlcyBhbGwgZWxlbWVudHMgYnkgdGhhdFxuICAgKiBuYW1lIGluIHRoZSByb290IGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyFDdXN0b21FbGVtZW50Q29uc3RydWN0b3JEZWZ9IGN0b3JcbiAgICogQHBhcmFtIHshT2JqZWN0fHVuZGVmaW5lZH0gb3B0aW9uc1xuICAgKi9cbiAgZGVmaW5lKG5hbWUsIGN0b3IsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7RXJyb3IsIFN5bnRheEVycm9yfSA9IHRoaXMud2luXztcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4dGVuZGluZyBuYXRpdmUgY3VzdG9tIGVsZW1lbnRzIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG5cbiAgICBhc3NlcnRWYWxpZE5hbWUoU3ludGF4RXJyb3IsIG5hbWUpO1xuXG4gICAgaWYgKHRoaXMuZ2V0QnlOYW1lKG5hbWUpIHx8XG4gICAgICAgIHRoaXMuZ2V0QnlDb25zdHJ1Y3RvcihjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBkdXBsaWNhdGUgZGVmaW5pdGlvbiBcIiR7bmFtZX1cImApO1xuICAgIH1cblxuICAgIC8vIFRPRE8oanJpZGdld2VsbCk6IFJlY29yZCBjb25uZWN0ZWRDYWxsYmFjaywgZGlzY29ubmVjdGVkQ2FsbGJhY2ssXG4gICAgLy8gYWRvcHRlZENhbGxiYWNrLCBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2ssIGFuZCBvYnNlcnZlZEF0dHJpYnV0ZXMuXG4gICAgLy8gVE9ETyhqcmlkZ2V3ZWxsKTogSWYgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrLCBnYXRoZXIgb2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgdGhpcy5kZWZpbml0aW9uc19bbmFtZV0gPSB7XG4gICAgICBuYW1lLFxuICAgICAgY3RvcixcbiAgICB9O1xuXG4gICAgdGhpcy5vYnNlcnZlXyhuYW1lKTtcbiAgICB0aGlzLnVwZ3JhZGUodGhpcy5kb2NfLCBuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGdyYWRlcyBjdXN0b20gZWxlbWVudHMgZGVzY2VuZGFudHMgb2Ygcm9vdCAoYnV0IG5vdCBpbmNsdWRpbmcgcm9vdCkuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYW4gb3B0X3F1ZXJ5LCBpdCBib3RoIHVwZ3JhZGVzIGFuZCBjb25uZWN0cyB0aGUgY3VzdG9tXG4gICAqIGVsZW1lbnRzICh0aGlzIGlzIHVzZWQgZHVyaW5nIHRoZSBjdXN0b20gZWxlbWVudCBkZWZpbmUgYWxnb3JpdGhtKS5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZX0gcm9vdFxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9xdWVyeVxuICAgKi9cbiAgdXBncmFkZShyb290LCBvcHRfcXVlcnkpIHtcbiAgICAvLyBPbmx5IEN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wLmRlZmluZSBwcm92aWRlcyBhIHF1ZXJ5ICh0aGUgbmV3bHkgZGVmaW5lZFxuICAgIC8vIGN1c3RvbSBlbGVtZW50KS4gSW4gdGhpcyBjYXNlLCB3ZSBhcmUgYm90aCB1cGdyYWRpbmcgX2FuZF8gY29ubmVjdGluZ1xuICAgIC8vIHRoZSBjdXN0b20gZWxlbWVudHMuXG4gICAgY29uc3QgbmV3bHlEZWZpbmVkID0gISFvcHRfcXVlcnk7XG4gICAgY29uc3QgcXVlcnkgPSBvcHRfcXVlcnkgfHwgdGhpcy5xdWVyeV87XG4gICAgY29uc3QgdXBncmFkZUNhbmRpZGF0ZXMgPSB0aGlzLnF1ZXJ5QWxsXyhyb290LCBxdWVyeSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZ3JhZGVDYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB1cGdyYWRlQ2FuZGlkYXRlc1tpXTtcbiAgICAgIGlmIChuZXdseURlZmluZWQpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDYWxsYmFja18oY2FuZGlkYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBncmFkZVNlbGYoY2FuZGlkYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBncmFkZXMgdGhlIGN1c3RvbSBlbGVtZW50IG5vZGUsIGlmIGEgY3VzdG9tIGVsZW1lbnQgaGFzIGJlZW4gcmVnaXN0ZXJlZFxuICAgKiBieSB0aGlzIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICovXG4gIHVwZ3JhZGVTZWxmKG5vZGUpIHtcbiAgICBjb25zdCBkZWYgPSB0aGlzLmdldEJ5TmFtZShub2RlLmxvY2FsTmFtZSk7XG4gICAgaWYgKCFkZWYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnVwZ3JhZGVTZWxmXygvKiogQHR5cGUgeyFFbGVtZW50fSAqLyhub2RlKSwgZGVmKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSByb290XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuICAgKiBAcmV0dXJuIHshQXJyYXl8IU5vZGVMaXN0fVxuICAgKi9cbiAgcXVlcnlBbGxfKHJvb3QsIHF1ZXJ5KSB7XG4gICAgaWYgKCFxdWVyeSB8fCAhcm9vdC5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgICAvLyBOb3RoaW5nIHRvIGRvLi4uXG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvb3QucXVlcnlTZWxlY3RvckFsbChxdWVyeSk7XG4gIH1cblxuICAvKipcbiAgICogVXBncmFkZXMgdGhlIChhbHJlYWR5IGNyZWF0ZWQgdmlhIERPTSBwYXJzaW5nKSBjdXN0b20gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHshRWxlbWVudH0gbm9kZVxuICAgKiBAcGFyYW0geyFDdXN0b21FbGVtZW50RGVmfSBkZWZcbiAgICovXG4gIHVwZ3JhZGVTZWxmXyhub2RlLCBkZWYpIHtcbiAgICBjb25zdCB7Y3Rvcn0gPSBkZWY7XG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBjdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVzcGl0ZSBob3cgaXQgbG9va3MsIHRoaXMgaXMgbm90IGEgdXNlbGVzcyBjb25zdHJ1Y3Rpb24uXG4gICAgLy8gSFRNTEVsZW1lbnRQb2x5ZmlsbCAodGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGN1c3RvbSBlbGVtZW50cykgd2lsbCByZXR1cm5cbiAgICAvLyB0aGUgY3VycmVudCBub2RlLCBhbGxvd2luZyB0aGUgY3VzdG9tIGVsZW1lbnQncyBzdWJjbGFzcyBjb25zdHJ1Y3RvciB0b1xuICAgIC8vIHJ1biBvbiB0aGUgbm9kZS4gVGhlIG5vZGUgaXRzZWxmIGlzIGFscmVhZHkgY29uc3RydWN0ZWQsIHNvIHRoZSByZXR1cm5cbiAgICAvLyB2YWx1ZSBpcyBqdXN0IHRoZSBub2RlLlxuICAgIHRoaXMuY3VycmVudF8gPSBub2RlO1xuICAgIGNvbnN0IGVsID0gbmV3IGN0b3IoKTtcblxuICAgIGlmIChlbCAhPT0gbm9kZSkge1xuICAgICAgdGhyb3cgbmV3IHRoaXMud2luXy5FcnJvcihcbiAgICAgICAgICAnQ29uc3RydWN0b3IgaWxsZWdhbGx5IHJldHVybmVkIGEgZGlmZmVyZW50IGluc3RhbmNlLicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBjb25uZWN0ZWRDYWxsYmFjayBvbiB0aGUgY3VzdG9tIGVsZW1lbnQsIGlmIGl0IGhhcyBvbmUuXG4gICAqIFRoaXMgYWxzbyB1cGdyYWRlcyB0aGUgY3VzdG9tIGVsZW1lbnQsIHNpbmNlIGl0IG1heSBub3QgaGF2ZSBiZWVuXG4gICAqIGFjY2Vzc2libGUgdmlhIHRoZSByb290IGRvY3VtZW50IGJlZm9yZSAoYSBkZXRhY2hlZCBET00gdHJlZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrXyhub2RlKSB7XG4gICAgY29uc3QgZGVmID0gdGhpcy5nZXRCeU5hbWUobm9kZS5sb2NhbE5hbWUpO1xuICAgIGlmICghZGVmKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBncmFkZVNlbGZfKC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovKG5vZGUpLCBkZWYpO1xuICAgIC8vIFRPRE8oanJpZGdld2VsbCk6IEl0IG1heSBiZSBhcHByb3ByaWF0ZSB0byBhZG9wdENhbGxiYWNrLCBpZiB0aGUgbm9kZVxuICAgIC8vIHVzZWQgdG8gYmUgaW4gYW5vdGhlciBkb2MuXG4gICAgLy8gVE9ETyhqcmlkZ2V3ZWxsKTogSSBzaG91bGQgYmUgY2FsbGluZyB0aGUgZGVmaW5pdGlvbnMgY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAvLyB3aXRoIG5vZGUgYXMgdGhlIGNvbnRleHQuXG4gICAgaWYgKG5vZGUuY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgIG5vZGUuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgZGlzY29ubmVjdGVkQ2FsbGJhY2sgb24gdGhlIGN1c3RvbSBlbGVtZW50LCBpZiBpdCBoYXMgb25lLlxuICAgKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqL1xuICBkaXNjb25uZWN0ZWRDYWxsYmFja18obm9kZSkge1xuICAgIC8vIFRPRE8oanJpZGdld2VsbCk6IEkgc2hvdWxkIGJlIGNhbGxpbmcgdGhlIGRlZmluaXRpb25zIGNvbm5lY3RlZENhbGxiYWNrXG4gICAgLy8gd2l0aCBub2RlIGFzIHRoZSBjb250ZXh0LlxuICAgIGlmIChub2RlLmRpc2Nvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICBub2RlLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlY29yZHMgbmFtZSBhcyBhIHJlZ2lzdGVyZWQgY3VzdG9tIGVsZW1lbnQgdG8gb2JzZXJ2ZS5cbiAgICpcbiAgICogU3RhcnRzIHRoZSBNdXRhdGlvbiBPYnNlcnZlciBpZiB0aGlzIGlzIHRoZSBmaXJzdCByZWdpc3RlcmVkIGN1c3RvbVxuICAgKiBlbGVtZW50LiBUaGlzIGlzIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCBjdXN0b20gZWxlbWVudCBpcyBkZWZpbmVkIHRvXG4gICAqIHNwZWVkIHVwIGluaXRpYWwgcmVuZGVyaW5nIG9mIHRoZSBwYWdlLlxuICAgKlxuICAgKiBNdXRhdGlvbiBPYnNlcnZlcnMgYXJlIGNvbnZlbmllbnRseSBhdmFpbGFibGUgaW4gZXZlcnkgYnJvd3NlciB3ZSBjYXJlXG4gICAqIGFib3V0LiBXaGVuIGEgbm9kZSBpcyBjb25uZWN0ZWQgdG8gdGhlIHJvb3QgZG9jdW1lbnQsIGFsbCBjdXN0b21cbiAgICogZWxlbWVudHMgKGluY2x1ZGluZyB0aGF0IG5vZGUgaXRlc2VsZikgd2lsbCBiZSB1cGdyYWRlZCBhbmQgY2FsbFxuICAgKiBjb25uZWN0ZWRDYWxsYmFjay4gV2hlbiBhIG5vZGUgaXMgZGlzY29ubmVjdGVkQ2FsbGJhY2sgZnJvbSB0aGUgcm9vdFxuICAgKiBkb2N1bWVudCwgYWxsIGN1c3RvbSBlbGVtZW50cyB3aWxsIGNhbGwgZGlzY29ubmVjdGVkQ2FsbGJhY2suXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqL1xuICBvYnNlcnZlXyhuYW1lKSB7XG4gICAgaWYgKHRoaXMucXVlcnlfKSB7XG4gICAgICB0aGlzLnF1ZXJ5XyArPSBgLCR7bmFtZX1gO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucXVlcnlfID0gbmFtZTtcblxuICAgIC8vIFRoZSBmaXJzdCByZWdpc3RlcmVkIG5hbWUgc3RhcnRzIHRoZSBtdXRhdGlvbiBvYnNlcnZlci5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyB0aGlzLndpbl8uTXV0YXRpb25PYnNlcnZlcihyZWNvcmRzID0+IHtcbiAgICAgIGlmIChyZWNvcmRzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVjb3Jkc18ocmVjb3Jkcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmRvY18sIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGFsbCB0aGUgTXV0YXRpb24gT2JzZXJ2ZXIncyBNdXRhdGlvbiBSZWNvcmRzLlxuICAgKiBBbGwgYWRkZWQgY3VzdG9tIGVsZW1lbnRzIHdpbGwgYmUgdXBncmFkZWQgKGlmIG5vdCBhbHJlYWR5KSBhbmQgY2FsbFxuICAgKiBjb25uZWN0ZWRDYWxsYmFjay4gQWxsIHJlbW92ZWQgY3VzdG9tIGVsZW1lbnRzIHdpbGwgY2FsbFxuICAgKiBkaXNjb25uZWN0ZWRDYWxsYmFjay5cbiAgICpcbiAgICogQHBhcmFtIHshQXJyYXk8IU11dGF0aW9uUmVjb3JkPn0gcmVjb3Jkc1xuICAgKi9cbiAgaGFuZGxlUmVjb3Jkc18ocmVjb3Jkcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVjb3JkID0gcmVjb3Jkc1tpXTtcbiAgICAgIGlmICghcmVjb3JkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7YWRkZWROb2RlcywgcmVtb3ZlZE5vZGVzfSA9IHJlY29yZDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBub2RlID0gYWRkZWROb2Rlc1tpXTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkQ2FuZGlkYXRlcyA9IHRoaXMucXVlcnlBbGxfKG5vZGUsIHRoaXMucXVlcnlfKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDYWxsYmFja18obm9kZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ubmVjdGVkQ2FuZGlkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuY29ubmVjdGVkQ2FsbGJhY2tfKGNvbm5lY3RlZENhbmRpZGF0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSByZW1vdmVkTm9kZXNbaV07XG4gICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RlZENhbmRpZGF0ZXMgPSB0aGlzLnF1ZXJ5QWxsXyhub2RlLCB0aGlzLnF1ZXJ5Xyk7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkQ2FsbGJhY2tfKG5vZGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc2Nvbm5lY3RlZENhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZENhbGxiYWNrXyhkaXNjb25uZWN0ZWRDYW5kaWRhdGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERvZXMgdGhlIHBvbHlmaWxsaW5nLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZnVuY3Rpb24gcG9seWZpbGwod2luKSB7XG4gIGNvbnN0IHtIVE1MRWxlbWVudCwgRWxlbWVudCwgTm9kZSwgRG9jdW1lbnQsIE9iamVjdCwgZG9jdW1lbnR9ID0gd2luO1xuICBjb25zdCB7Y3JlYXRlRWxlbWVudCwgY2xvbmVOb2RlLCBpbXBvcnROb2RlfSA9IGRvY3VtZW50O1xuXG4gIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IFJlZ2lzdHJ5KHdpbik7XG4gIGNvbnN0IGN1c3RvbUVsZW1lbnRzID0gbmV3IEN1c3RvbUVsZW1lbnRSZWdpc3RyeSh3aW4sIHJlZ2lzdHJ5KTtcblxuICAvLyBFeHBvc2UgdGhlIGN1c3RvbSBlbGVtZW50IHJlZ2lzdHJ5LlxuICAvLyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdywgJ2N1c3RvbUVsZW1lbnRzJylcbiAgLy8ge2dldDogxpIsIHNldDogdW5kZWZpbmVkLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW4sICdjdXN0b21FbGVtZW50cycsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAvLyB3cml0YWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IGN1c3RvbUVsZW1lbnRzLFxuICB9KTtcblxuICAvLyBQYXRjaCBjcmVhdGVFbGVtZW50IHRvIGltbWVkaWF0ZWx5IHVwZ3JhZGUgdGhlIGN1c3RvbSBlbGVtZW50LlxuICAvLyBUaGlzIGhhcyB0aGUgYWRkZWQgYmVuZWZpdCB0aGF0IGl0IGF2b2lkcyB0aGUgXCJhbHJlYWR5IGNyZWF0ZWQgYnV0IG5lZWRzXG4gIC8vIGNvbnN0cnVjdG9yIGNvZGUgcnVuXCIgY2hpY2tlbi1hbmQtZWdnIHByb2JsZW0uXG4gIERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudFBvbHlmaWxsKG5hbWUpIHtcbiAgICBjb25zdCBkZWYgPSByZWdpc3RyeS5nZXRCeU5hbWUobmFtZSk7XG4gICAgaWYgKGRlZikge1xuICAgICAgcmV0dXJuIG5ldyBkZWYuY3RvcigpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIFBhdGNoIGltcG9ydE5vZGUgdG8gaW1tZWRpYXRlbHkgdXBncmFkZSBjdXN0b20gZWxlbWVudHMuXG4gIC8vIFRPRE8oanJpZGdld2VsbCk6IENhbiBmaXJlIGFkb3B0ZWRDYWxsYmFjayBmb3IgY3Jvc3MgZG9jIGltcG9ydHMuXG4gIERvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlID0gZnVuY3Rpb24gaW1wb3J0Tm9kZVBvbHlmaWxsKCkge1xuICAgIGNvbnN0IGltcG9ydGVkID0gaW1wb3J0Tm9kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpbXBvcnRlZCkge1xuICAgICAgcmVnaXN0cnkudXBncmFkZVNlbGYoaW1wb3J0ZWQpO1xuICAgICAgcmVnaXN0cnkudXBncmFkZShpbXBvcnRlZCk7XG4gICAgfVxuICAgIHJldHVybiBpbXBvcnRlZDtcbiAgfTtcblxuICAvLyBQYXRjaCBjbG9uZU5vZGUgdG8gaW1tZWRpYXRlbHkgdXBncmFkZSBjdXN0b20gZWxlbWVudHMuXG4gIE5vZGUucHJvdG90eXBlLmNsb25lTm9kZSA9IGZ1bmN0aW9uIGNsb25lTm9kZVBvbHlmaWxsKCkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lTm9kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHJlZ2lzdHJ5LnVwZ3JhZGVTZWxmKGNsb25lZCk7XG4gICAgcmVnaXN0cnkudXBncmFkZShjbG9uZWQpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH07XG5cbiAgLy8gUGF0Y2ggdGhlIGlubmVySFRNTCBzZXR0ZXIgdG8gaW1tZWRpYXRlbHkgdXBncmFkZSBjdXN0b20gZWxlbWVudHMuXG4gIC8vIE5vdGUsIHRoaXMgY291bGQgdGVjaG5pY2FsbHkgZmlyZSBjb25uZWN0ZWRDYWxsYmFja3MgaWYgdGhpcyBub2RlIHdhc1xuICAvLyBjb25uZWN0ZWQsIGJ1dCB3ZSBsZWF2ZSB0aGF0IHRvIHRoZSBNdXRhdGlvbiBPYnNlcnZlci5cbiAgY29uc3QgaW5uZXJIVE1MRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsXG4gICAgICAnaW5uZXJIVE1MJyk7XG4gIGNvbnN0IGlubmVySFRNTFNldHRlciA9IGlubmVySFRNTERlc2Muc2V0O1xuICBpbm5lckhUTUxEZXNjLnNldCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgICBpbm5lckhUTUxTZXR0ZXIuY2FsbCh0aGlzLCBodG1sKTtcbiAgICByZWdpc3RyeS51cGdyYWRlKHRoaXMpO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsICdpbm5lckhUTUwnLCBpbm5lckhUTUxEZXNjKTtcblxuICAvKipcbiAgICogWW91IGNhbid0IHVzZSB0aGUgcmVhbCBIVE1MRWxlbWVudCBjb25zdHJ1Y3RvciwgYmVjYXVzZSB5b3UgY2FuJ3Qgc3ViY2xhc3NcbiAgICogaXQgd2l0aG91dCB1c2luZyBuYXRpdmUgY2xhc3Nlcy4gU28sIG1vY2sgaXRzIGFwcHJveGltYXRpb24gdXNpbmdcbiAgICogY3JlYXRlRWxlbWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIEhUTUxFbGVtZW50UG9seWZpbGwoKSB7XG4gICAgY29uc3Qge2NvbnN0cnVjdG9yfSA9IHRoaXM7XG5cbiAgICAvLyBJZiB3ZSdyZSB1cGdyYWRpbmcgYW4gYWxyZWFkeSBjcmVhdGVkIGN1c3RvbSBlbGVtZW50LCB3ZSBjYW4ndCBjcmVhdGVcbiAgICAvLyBhbm90aGVyIG5ldyBub2RlIChieSB0aGUgc3BlYywgaXQgbXVzdCBiZSB0aGUgc2FtZSBub2RlKS5cbiAgICBsZXQgZWwgPSByZWdpc3RyeS5jdXJyZW50KCk7XG5cbiAgICAvLyBJZiB0aGVyZSdzIG5vdCBhIGFscmVhZHkgY3JlYXRlZCBjdXN0b20gZWxlbWVudCwgd2UncmUgYmVpbmcgaW52b2tlZCB2aWFcbiAgICAvLyBgbmV3YGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgLy9cbiAgICAvLyBUZWNobmljYWxseSwgd2UgY291bGQgZ2V0IGhlcmUgdmlhIGNyZWF0ZUVsZW1lbnQsIGJ1dCB3ZSBwYXRjaGVkIHRoYXQuXG4gICAgLy8gSWYgaXQgdGhlIGN1c3RvbSBlbGVtZW50IHdhcyByZWdpc3RlcmVkLCB0aGUgcGF0Y2ggdHVybmVkIGl0IGludG8gYVxuICAgIC8vIGBuZXdgIGNhbGwuXG4gICAgLy8gSWYgaXQgd2FzIG5vdCByZWdpc3RlcmVkLCB0aGUgbmF0aXZlIGNyZWF0ZUVsZW1lbnQgaXMgdXNlZC4gQW5kIGlmXG4gICAgLy8gbmF0aXZlIGNyZWF0ZUVsZW1lbnQgaXMgYmVpbmcgdXNlZCBhbmQgd2UgZ290IHRvIHRoaXMgY29kZSwgd2UncmUgcmVhbGx5XG4gICAgLy8gaW4gYW4gaW5maW5pdGUgbG9vcCAoYSBuYXRpdmUgY3JlYXRlRWxlbWVudCBjYWxsIGp1c3QgYmVsb3cpIHNvIHdlJ3ZlXG4gICAgLy8gZ290IGJpZ2dlciBwcm9ibGVtcy5cbiAgICAvL1xuICAgIC8vIFNvIGp1c3QgdGFrZSBteSB3b3JkIHdlIGdvdCBoZXJlIHZpYSBgbmV3YC5cbiAgICBpZiAoIWVsKSB7XG4gICAgICAvLyBUaGUgY3VzdG9tIGVsZW1lbnQgZGVmaW5pdGlvbiBpcyBhbiBpbnZhcmlhbnQuIElmIHRoZSBjdXN0b20gZWxlbWVudFxuICAgICAgLy8gaXMgcmVnaXN0ZXJlZCwgZXZlcnl0aGluZyB3b3Jrcy4gSWYgaXQncyBub3QsIGl0IHRocm93cyBpbiB0aGUgbWVtYmVyXG4gICAgICAvLyBwcm9wZXJ0eSBhY2Nlc3MgKG9ubHkgZGVmaW5lZCBjdXN0b20gZWxlbWVudHMgY2FuIGJlIGRpcmVjdGx5XG4gICAgICAvLyBjb25zdHJ1Y3RlZCB2aWEgYG5ld2ApLlxuICAgICAgY29uc3QgZGVmID0gcmVnaXN0cnkuZ2V0QnlDb25zdHJ1Y3Rvcihjb25zdHJ1Y3Rvcik7XG4gICAgICBlbCA9IGNyZWF0ZUVsZW1lbnQuY2FsbChkb2N1bWVudCwgZGVmLm5hbWUpO1xuICAgIH1cblxuICAgIC8vIEZpbmFsbHksIGlmIHRoZSBub2RlIHdhcyBhbHJlYWR5IGNvbnN0cnVjdGVkLCB3ZSBuZWVkIHRvIHJlc2V0IGl0J3NcbiAgICAvLyBwcm90b3R5cGUgdG8gdGhlIGN1c3RvbSBlbGVtZW50IHByb3RvdHlwZS4gQW5kIGlmIGl0IHdhc24ndCBhbHJlYWR5XG4gICAgLy8gY29uc3RydWN0ZWQsIHdlIGNyZWF0ZWQgYSBuZXcgbm9kZSB2aWEgbmF0aXZlIGNyZWF0ZUVsZW1lbnQsIGFuZCB3ZSBuZWVkXG4gICAgLy8gdG8gcmVzZXQgaXQncyBwcm90b3R5cGUuIEJhc2ljYWxseSBhbHdheXMgcmVzZXQgdGhlIHByb3RvdHlwZS5cbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZWwsIGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIHN1YkNsYXNzKE9iamVjdCwgSFRNTEVsZW1lbnQsIEhUTUxFbGVtZW50UG9seWZpbGwpO1xuXG4gIC8vIEV4cG9zZSB0aGUgcG9seWZpbGxlZCBIVE1MRWxlbWVudCBjb25zdHJ1Y3RvciBmb3IgZXZlcnlvbmUgdG8gZXh0ZW5kIGZyb20uXG4gIHdpbi5IVE1MRWxlbWVudCA9IEhUTUxFbGVtZW50UG9seWZpbGw7XG59XG5cbi8qKlxuICogV3JhcHMgSFRNTEVsZW1lbnQgaW4gYSBSZWZsZWN0LmNvbnN0cnVjdCBjb25zdHJ1Y3Rvciwgc28gdGhhdCB0cmFuc3BpbGVkXG4gKiBjbGFzc2VzIGNhbiBgX3RoaXMgPSBzdXBlckNsYXNzLmNhbGwodGhpcylgIGR1cmluZyB0aGVpciBjb25zdHJ1Y3Rpb24uXG4gKlxuICogVGhpcyBpcyBvbmx5IHVzZWQgd2hlbiBDdXN0b20gRWxlbWVudHMgdjEgaXMgYWxyZWFkeSBhdmFpbGFibGUgX2FuZF8gd2UncmVcbiAqIHVzaW5nIHRyYW5zcGlsZWQgY2xhc3NlcyAod2hpY2ggdXNlIEVTNSBjb25zdHJ1Y3Rpb24gaWRpb21zKS5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5mdW5jdGlvbiB3cmFwSFRNTEVsZW1lbnQod2luKSB7XG4gIGNvbnN0IHtIVE1MRWxlbWVudCwgUmVmbGVjdCwgT2JqZWN0fSA9IHdpbjtcbiAgLyoqXG4gICAqL1xuICBmdW5jdGlvbiBIVE1MRWxlbWVudFdyYXBwZXIoKSB7XG4gICAgY29uc3QgY3RvciA9IC8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uPyk6P3x1bmRlZmluZWR9ICovKFxuICAgICAgLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMpLmNvbnN0cnVjdG9yKTtcblxuICAgIC8vIFJlZmxlY3QuY29uc3RydWN0IGFsbG93cyB1cyB0byBjb25zdHJ1Y3QgYSBuZXcgSFRNTEVsZW1lbnQgd2l0aG91dCB1c2luZ1xuICAgIC8vIGBuZXdgICh3aGljaCB3aWxsIGFsd2F5cyBmYWlsIGJlY2F1c2UgbmF0aXZlIEhUTUxFbGVtZW50IGlzIGEgcmVzdHJpY3RlZFxuICAgIC8vIGNvbnN0cnVjdG9yKS5cbiAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoSFRNTEVsZW1lbnQsIFtdLCBjdG9yKTtcbiAgfVxuICBzdWJDbGFzcyhPYmplY3QsIEhUTUxFbGVtZW50LCBIVE1MRWxlbWVudFdyYXBwZXIpO1xuXG4gIC8vIEV4cG9zZSB0aGUgd3JhcHBlZCBIVE1MRWxlbWVudCBjb25zdHJ1Y3RvciBmb3IgZXZlcnlvbmUgdG8gZXh0ZW5kIGZyb20uXG4gIHdpbi5IVE1MRWxlbWVudCA9IEhUTUxFbGVtZW50V3JhcHBlcjtcbn1cblxuLyoqXG4gKiBTZXR1cHMgdXAgcHJvdG90eXBlIGluaGVyaXRhbmNlXG4gKlxuICogQHBhcmFtIHshT2JqZWN0fSBPYmplY3RcbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBzdXBlckNsYXNzXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gc3ViQ2xhc3NcbiAqL1xuZnVuY3Rpb24gc3ViQ2xhc3MoT2JqZWN0LCBzdXBlckNsYXNzLCBzdWJDbGFzcykge1xuICAvLyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHN1cGVyQ2xhc3MucHJvdG90eXBlLCAnY29uc3RydWN0b3InKVxuICAvLyB7dmFsdWU6IMaSLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZX1cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgIH0sXG4gIH0pO1xufVxuXG4vKipcbiAqIFBvbHlmaWxscyBDdXN0b20gRWxlbWVudHMgdjEgQVBJLiBUaGlzIGhhcyA0IG1vZGVzOlxuICpcbiAqIDEuIEN1c3RvbSBlbGVtZW50cyB2MSBhbHJlYWR5IHN1cHBvcnRlZCwgdXNpbmcgbmF0aXZlIGNsYXNzZXNcbiAqIDIuIEN1c3RvbSBlbGVtZW50cyB2MSBhbHJlYWR5IHN1cHBvcnRlZCwgdXNpbmcgdHJhbnNwaWxlZCBjbGFzc2VzXG4gKiAzLiBDdXN0b20gZWxlbWVudHMgdjEgbm90IHN1cHBvcnRlZCwgdXNpbmcgbmF0aXZlIGNsYXNzZXNcbiAqIDQuIEN1c3RvbSBlbGVtZW50cyB2MSBub3Qgc3VwcG9ydGVkLCB1c2luZyB0cmFuc3BpbGVkIGNsYXNzZXNcbiAqXG4gKiBJbiBtb2RlIDEsIG5vdGhpbmcgaXMgZG9uZS4gSW4gbW9kZSAyLCBhIG1pbmltYWwgcG9seWZpbGwgaXMgdXNlZCB0byBzdXBwb3J0XG4gKiBleHRlbmRpbmcgdGhlIEhUTUxFbGVtZW50IGJhc2UgY2xhc3MuIEluIG1vZGUgMyBhbmQgNCwgYSBmdWxsIHBvbHlmaWxsIGlzXG4gKiBkb25lLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbCh3aW4sIGN0b3IpIHtcbiAgaWYgKGlzUGF0Y2hlZCh3aW4pKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGluc3RhbGwgPSB0cnVlO1xuICBsZXQgaW5zdGFsbFdyYXBwZXIgPSBmYWxzZTtcblxuICBpZiAoaGFzQ3VzdG9tRWxlbWVudHMod2luKSkge1xuICAgIC8vIElmIGN0b3IgaXMgY29uc3RydWN0YWJsZSB3aXRob3V0IG5ldywgaXQncyBhIGZ1bmN0aW9uLiBUaGF0IG1lYW5zIGl0IHdhc1xuICAgIC8vIGNvbXBpbGVkIGRvd24sIGFuZCB3ZSBuZWVkIHRvIGRvIHRoZSBtaW5pbWFsIHBvbHlmaWxsIGJlY2F1c2UgYWxsIHlvdVxuICAgIC8vIGNhbm5vdCBleHRlbmQgSFRNTEVsZW1lbnQgd2l0aG91dCBuYXRpdmUgY2xhc3Nlcy5cbiAgICB0cnkge1xuICAgICAgY29uc3Qge09iamVjdCwgUmVmbGVjdH0gPSB3aW47XG5cbiAgICAgIC8vIFwiQ29uc3RydWN0XCIgY3RvciB1c2luZyBFUzUgaWRpb21zXG4gICAgICBjb25zdCBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoY3Rvci5wcm90b3R5cGUpO1xuICAgICAgY3Rvci5jYWxsKGluc3RhbmNlKTtcblxuICAgICAgLy8gSWYgdGhhdCBzdWNjZWVkZWQsIHdlJ3JlIGluIGEgdHJhbnNwaWxlZCBlbnZpcm9ubWVudFxuICAgICAgLy8gTGV0J3MgZmluZCBvdXQgaWYgd2UgY2FuIHdyYXAgSFRNTEVsZW1lbnQgYW5kIGF2b2lkIGEgZnVsbCBwYXRjaC5cbiAgICAgIGluc3RhbGxXcmFwcGVyID0gISEoUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAvLyBUaGUgY3RvciB0aHJldyB3aGVuIHdlIGNvbnN0cnVjdGVkIGlzIHZpYSBFUzUsIHNvIGl0J3MgYSByZWFsIGNsYXNzLlxuICAgICAgLy8gV2UncmUgb2sgdG8gbm90IGluc3RhbGwgdGhlIHBvbHlmaWxsLlxuICAgICAgaW5zdGFsbCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpbnN0YWxsV3JhcHBlcikge1xuICAgIHdyYXBIVE1MRWxlbWVudCh3aW4pO1xuICB9IGVsc2UgaWYgKGluc3RhbGwpIHtcbiAgICBwb2x5ZmlsbCh3aW4pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBgZG9jdW1lbnQuY29udGFpbnMoKWAgbWV0aG9kLiBOb3RpY2UgdGhhdCBhY2NvcmRpbmcgdG8gc3BlY1xuICogYGRvY3VtZW50LmNvbnRhaW5zYCBpcyBpbmNsdXNpb25hcnkuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05vZGUvY29udGFpbnNcbiAqIEBwYXJhbSB7P05vZGV9IG5vZGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAdGhpcyB7Tm9kZX1cbiAqL1xuZnVuY3Rpb24gZG9jdW1lbnRDb250YWluc1BvbHlmaWxsKG5vZGUpIHtcbiAgLy8gUGVyIHNwZWMsIFwiY29udGFpbnNcIiBtZXRob2QgaXMgaW5jbHVzaW9uYXJ5XG4gIC8vIGkuZS4gYG5vZGUuY29udGFpbnMobm9kZSkgPT0gdHJ1ZWAuIEhvd2V2ZXIsIHdlIHN0aWxsIG5lZWQgdG8gdGVzdFxuICAvLyBlcXVhbGl0eSB0byB0aGUgZG9jdW1lbnQgaXRzZWxmLlxuICByZXR1cm4gbm9kZSA9PSB0aGlzIHx8IHRoaXMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKG5vZGUpO1xufVxuXG5cbi8qKlxuICogUG9seWZpbGxzIGBIVE1MRG9jdW1lbnQuY29udGFpbnNgIEFQSS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsKHdpbikge1xuICAvLyBIVE1MRG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwLCBidXQgaXQgaGFzIERvY3VtZW50LFxuICAvLyBzbyB3ZSB1c2UgdGhhdCBhcyBhIGZhbGxiYWNrLlxuICBjb25zdCBkb2N1bWVudENsYXNzID0gd2luLkhUTUxEb2N1bWVudCB8fCB3aW4uRG9jdW1lbnQ7XG4gIGlmICghZG9jdW1lbnRDbGFzcy5wcm90b3R5cGUuY29udGFpbnMpIHtcbiAgICB3aW4uT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50Q2xhc3MucHJvdG90eXBlLCAnY29udGFpbnMnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGRvY3VtZW50Q29udGFpbnNQb2x5ZmlsbCxcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgYERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlKHRva2VuLCBvcHRfZm9yY2UpYCBtZXRob2QuIFRoaXNcbiAqIGlzIHNwZWNpYWxseSBpbXBvcnRhbnQgYmVjYXVzZSBJRSBkb2VzIG5vdCBzdXBwb3J0IGBvcHRfZm9yY2VgIGF0dHJpYnV0ZS4gU2VlXG4gKiBodHRwczovL2dvby5nbC9oZ0tOWVkgZm9yIGRldGFpbHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9rZW5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9mb3JjZVxuICogQHRoaXMge0RPTVRva2VuTGlzdH1cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGRvbVRva2VuTGlzdFRvZ2dsZVBvbHlmaWxsKHRva2VuLCBvcHRfZm9yY2UpIHtcbiAgY29uc3QgcmVtb3ZlID0gb3B0X2ZvcmNlID09PSB1bmRlZmluZWQgPyB0aGlzLmNvbnRhaW5zKHRva2VuKSA6ICFvcHRfZm9yY2U7XG4gIGlmIChyZW1vdmUpIHtcbiAgICB0aGlzLnJlbW92ZSh0b2tlbik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWRkKHRva2VuKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5cbi8qKlxuICogUG9seWZpbGxzIGBET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZWAgQVBJIGluIElFLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwod2luKSB7XG4gIGlmIChpc0llKHdpbikgJiYgd2luLkRPTVRva2VuTGlzdCkge1xuICAgIHdpbi5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luLkRPTVRva2VuTGlzdC5wcm90b3R5cGUsICd0b2dnbGUnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGRvbVRva2VuTGlzdFRvZ2dsZVBvbHlmaWxsLFxuICAgIH0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgYSBJRSBicm93c2VyLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzSWUod2luKSB7XG4gIHJldHVybiAvVHJpZGVudHxNU0lFfElFTW9iaWxlL2kudGVzdCh3aW4ubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBQYXJzZXMgdGhlIG51bWJlciB4IGFuZCByZXR1cm5zIGl0cyBzaWduLiBGb3IgcG9zaXRpdmUgeCByZXR1cm5zIDEsIGZvclxuICogbmVnYXRpdmUsIC0xLiBGb3IgMCBhbmQgLTAsIHJldHVybnMgMCBhbmQgLTAgcmVzcGVjdGl2ZWx5LiBGb3IgYW55IG51bWJlclxuICogdGhhdCBwYXJzZXMgdG8gTmFOLCByZXR1cm5zIE5hTi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnbih4KSB7XG4gIHggPSBOdW1iZXIoeCk7XG5cbiAgLy8gSWYgeCBpcyAwLCAtMCwgb3IgTmFOLCByZXR1cm4gaXQuXG4gIGlmICgheCkge1xuICAgIHJldHVybiB4O1xuICB9XG5cbiAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xufVxuXG5cbi8qKlxuICogU2V0cyB0aGUgTWF0aC5zaWduIHBvbHlmaWxsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwod2luKSB7XG4gIGlmICghd2luLk1hdGguc2lnbikge1xuICAgIHdpbi5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luLk1hdGgsICdzaWduJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBzaWduLFxuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3Qge2hhc093blByb3BlcnR5fSA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ29waWVzIHZhbHVlcyBvZiBhbGwgZW51bWVyYWJsZSBvd24gcHJvcGVydGllcyBmcm9tIG9uZSBvciBtb3JlIHNvdXJjZVxuICogb2JqZWN0cyAocHJvdmlkZWQgYXMgZXh0ZW5kZWQgYXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbikgdG8gYSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7IU9iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gdmFyX2FyZ3NcbiAqIEByZXR1cm4geyFPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCB2YXJfYXJncykge1xuICBpZiAodGFyZ2V0ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgfVxuXG4gIGNvbnN0IG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBvdXRwdXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuLyoqXG4gKiBTZXRzIHRoZSBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwod2luKSB7XG4gIGlmICghd2luLk9iamVjdC5hc3NpZ24pIHtcbiAgICB3aW4uT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbi5PYmplY3QsICdhc3NpZ24nLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGFzc2lnbixcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuaW1wb3J0ICogYXMgUHJvbWlzZSBmcm9tICdwcm9taXNlLXBqcy9wcm9taXNlJztcblxuLyoqXG4gKiBTZXRzIHRoZSBQcm9taXNlIHBvbHlmaWxsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwod2luKSB7XG4gIGlmICghd2luLlByb21pc2UpIHtcbiAgICB3aW4uUHJvbWlzZSA9IC8qKiBAdHlwZSB7P30gKi8gKFByb21pc2UpO1xuICAgIC8vIEluIGJhYmVsIHRoZSAqIGV4cG9ydCBpcyBhbiBPYmplY3Qgd2l0aCBhIGRlZmF1bHQgcHJvcGVydHkuXG4gICAgLy8gSW4gY2xvc3VyZSBjb21waWxlciBpdCBpcyB0aGUgUHJvbWlzZSBmdW5jdGlvbiBpdHNlbGYuXG4gICAgaWYgKFByb21pc2UuZGVmYXVsdCkge1xuICAgICAgd2luLlByb21pc2UgPSBQcm9taXNlLmRlZmF1bHQ7XG4gICAgfVxuICAgIC8vIFdlIGNvcHkgdGhlIGluZGl2aWR1YWwgc3RhdGljIG1ldGhvZHMsIGJlY2F1c2UgY2xvc3VyZVxuICAgIC8vIGNvbXBpbGVyIGZsYXR0ZW5zIHRoZSBwb2x5ZmlsbCBuYW1lc3BhY2UuXG4gICAgd2luLlByb21pc2UucmVzb2x2ZSA9IFByb21pc2UucmVzb2x2ZTtcbiAgICB3aW4uUHJvbWlzZS5yZWplY3QgPSBQcm9taXNlLnJlamVjdDtcbiAgICB3aW4uUHJvbWlzZS5hbGwgPSBQcm9taXNlLmFsbDtcbiAgICB3aW4uUHJvbWlzZS5yYWNlID0gUHJvbWlzZS5yYWNlO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtnZXRTZXJ2aWNlUHJvbWlzZX0gZnJvbSAnLi9zZXJ2aWNlJztcblxuLyoqXG4gKiBBIG1hcCBvZiBzZXJ2aWNlcyB0aGF0IGRlbGF5IHJlbmRlcmluZy4gVGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgc2VydmljZVxuICogYW5kIHRoZSB2YWx1ZSBpcyBhIERPTSBxdWVyeSB3aGljaCBpcyB1c2VkIHRvIGNoZWNrIGlmIHRoZSBzZXJ2aWNlIGlzIG5lZWRlZFxuICogaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQuXG4gKiBEbyBub3QgYWRkIGEgc2VydmljZSB1bmxlc3MgYWJzb2x1dGVseSBuZWNlc3NhcnkuXG4gKlxuICogXFwgICBcXCAgLyAgXFwgIC8gICAvIC8gICBcXCAgICAgfCAgIF8gIFxcICAgICB8ICBcXCB8ICB8IHwgIHwgfCAgXFwgfCAgfCAgLyBfX19fX3xcbiAqICBcXCAgIFxcLyAgICBcXC8gICAvIC8gIF4gIFxcICAgIHwgIHxfKSAgfCAgICB8ICAgXFx8ICB8IHwgIHwgfCAgIFxcfCAgfCB8ICB8ICBfX1xuICogICBcXCAgICAgICAgICAgIC8gLyAgL19cXCAgXFwgICB8ICAgICAgLyAgICAgfCAgLiBgICB8IHwgIHwgfCAgLiBgICB8IHwgIHwgfF8gfFxuICogICAgXFwgICAgL1xcICAgIC8gLyAgX19fX18gIFxcICB8ICB8XFwgIFxcLS0tLS58ICB8XFwgICB8IHwgIHwgfCAgfFxcICAgfCB8ICB8X198IHxcbiAqICAgICBcXF9fLyAgXFxfXy8gL19fLyAgICAgXFxfX1xcIHwgX3wgYC5fX19fX3x8X198IFxcX198IHxfX3wgfF9ffCBcXF9ffCAgXFxfX19fX198XG4gKlxuICogVGhlIGVxdWl2YWxlbnQgb2YgdGhpcyBsaXN0IGlzIHVzZWQgZm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZyAoU1NSKSBhbmQgYW55XG4gKiBjaGFuZ2VzIG1hZGUgdG8gaXQgbXVzdCBiZSBtYWRlIGluIGNvb3JkaW5hdGlvbiB3aXRoIGNhY2hlcyB0aGF0IGltcGxlbWVudFxuICogU1NSLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBTU1Igc2VlIGJpdC5seS9hbXAtc3NyLlxuICpcbiAqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmNvbnN0IFNFUlZJQ0VTID0ge1xuICAnYW1wLWR5bmFtaWMtY3NzLWNsYXNzZXMnOiAnW2N1c3RvbS1lbGVtZW50PWFtcC1keW5hbWljLWNzcy1jbGFzc2VzXScsXG4gICd2YXJpYW50JzogJ2FtcC1leHBlcmltZW50JyxcbiAgJ2FtcC1zdG9yeSc6ICdhbXAtc3Rvcnlbc3RhbmRhbG9uZV0nLFxufTtcblxuLyoqXG4gKiBNYXhpbXVtIG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciBhbGwgZXh0ZW5zaW9ucyB0byBsb2FkIGJlZm9yZSBlcnJvcmluZy5cbiAqIEBjb25zdFxuICovXG5jb25zdCBMT0FEX1RJTUVPVVQgPSAzMDAwO1xuXG4vKipcbiAqIERldGVjdHMgYW55IHJlbmRlciBkZWxheWluZyBzZXJ2aWNlcyB0aGF0IGFyZSByZXF1aXJlZCBvbiB0aGUgcGFnZSwgYW5kXG4gKiByZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGEgdGltZW91dC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhQXJyYXk8Kj4+fSByZXNvbHZlcyB0byBhbiBBcnJheSB0aGF0IGhhcyB0aGUgc2FtZSBsZW5ndGhcbiAqICAgICBhcyB0aGUgZGV0ZWN0ZWQgcmVuZGVyIGRlbGF5aW5nIHNlcnZpY2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yU2VydmljZXMod2luKSB7XG4gIGNvbnN0IHByb21pc2VzID0gaW5jbHVkZWRTZXJ2aWNlcyh3aW4pLm1hcChzZXJ2aWNlID0+IHtcbiAgICByZXR1cm4gU2VydmljZXMudGltZXJGb3Iod2luKS50aW1lb3V0UHJvbWlzZShcbiAgICAgICAgTE9BRF9USU1FT1VULFxuICAgICAgICBnZXRTZXJ2aWNlUHJvbWlzZSh3aW4sIHNlcnZpY2UpLFxuICAgICAgICBgUmVuZGVyIHRpbWVvdXQgd2FpdGluZyBmb3Igc2VydmljZSAke3NlcnZpY2V9IHRvIGJlIHJlYWR5LmBcbiAgICApO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBhZ2UgaGFzIGEgcmVuZGVyIGRlbGF5aW5nIHNlcnZpY2UuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1JlbmRlckRlbGF5aW5nU2VydmljZXMod2luKSB7XG4gIHJldHVybiBpbmNsdWRlZFNlcnZpY2VzKHdpbikubGVuZ3RoID4gMDtcbn1cblxuLyoqXG4gKiBEZXRlY3RzIHdoaWNoLCBpZiBhbnksIHJlbmRlci1kZWxheWluZyBleHRlbnNpb25zIGFyZSBpbmNsdWRlZCBvbiB0aGUgcGFnZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluY2x1ZGVkU2VydmljZXMod2luKSB7XG4gIC8qKiBAY29uc3QgeyFEb2N1bWVudH0gKi9cbiAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50O1xuICBkZXYoKS5hc3NlcnQoZG9jLmJvZHkpO1xuXG4gIHJldHVybiBPYmplY3Qua2V5cyhTRVJWSUNFUykuZmlsdGVyKHNlcnZpY2UgPT4ge1xuICAgIHJldHVybiBkb2MucXVlcnlTZWxlY3RvcihTRVJWSUNFU1tzZXJ2aWNlXSk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBSZWdpc3RyYXRpb24gYW5kIGdldHRlciBmdW5jdGlvbnMgZm9yIEFNUCBzZXJ2aWNlcy5cbiAqXG4gKiBJbnZhcmlhbnQ6IFNlcnZpY2UgZ2V0dGVycyBuZXZlciByZXR1cm4gbnVsbCBmb3IgcmVnaXN0ZXJlZCBzZXJ2aWNlcy5cbiAqL1xuXG4vLyBzcmMvcG9seWZpbGxzLmpzIG11c3QgYmUgdGhlIGZpcnN0IGltcG9ydC5cbmltcG9ydCAnLi9wb2x5ZmlsbHMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHNvcnQtaW1wb3J0cy1lczYtYXV0b2ZpeC9zb3J0LWltcG9ydHMtZXM2XG5cbmltcG9ydCB7RGVmZXJyZWR9IGZyb20gJy4vdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHt0b1dpbn0gZnJvbSAnLi90eXBlcyc7XG5cblxuLyoqXG4gKiBIb2xkcyBpbmZvIGFib3V0IGEgc2VydmljZS5cbiAqIC0gb2JqOiBBY3R1YWwgc2VydmljZSBpbXBsZW1lbnRhdGlvbiB3aGVuIGF2YWlsYWJsZS5cbiAqIC0gcHJvbWlzZTogUHJvbWlzZSBmb3IgdGhlIG9iai5cbiAqIC0gcmVzb2x2ZTogRnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoIHRoZSBvYmplY3QuXG4gKiAtIGNvbnRleHQ6IEFyZ3VtZW50IGZvciBjdG9yLCBlaXRoZXIgYSB3aW5kb3cgb3IgYW4gYW1wZG9jLlxuICogLSBjdG9yOiBGdW5jdGlvbiB0aGF0IGNvbnN0cnVjdHMgYW5kIHJldHVybnMgdGhlIHNlcnZpY2UuXG4gKiBAdHlwZWRlZiB7e1xuICogICBvYmo6ICg/T2JqZWN0KSxcbiAqICAgcHJvbWlzZTogKD9Qcm9taXNlKSxcbiAqICAgcmVzb2x2ZTogKD9mdW5jdGlvbighT2JqZWN0KSksXG4gKiAgIGNvbnRleHQ6ICg/V2luZG93fD8uL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jKSxcbiAqICAgY3RvcjogKD9mdW5jdGlvbihuZXc6T2JqZWN0LCAhV2luZG93KXxcbiAqICAgICAgICAgID9mdW5jdGlvbihuZXc6T2JqZWN0LCAhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvYykpLFxuICogfX1cbiAqL1xubGV0IFNlcnZpY2VIb2xkZXJEZWY7XG5cblxuLyoqXG4gKiBUaGlzIGludGVyZmFjZSBwcm92aWRlcyBhIGBkaXNwb3NlYCBtZXRob2QgdGhhdCB3aWxsIGJlIGNhbGxlZCBieVxuICogcnVudGltZSB3aGVuIGEgc2VydmljZSBuZWVkcyB0byBiZSBkaXNwb3NlZCBvZi5cbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIERpc3Bvc2FibGUge1xuXG4gIC8qKlxuICAgKiBJbnN0cnVjdHMgdGhlIHNlcnZpY2UgdG8gcmVsZWFzZSBhbnkgcmVzb3VyY2VzIGl0IG1pZ2h0IGJlIGhvbGRpbmcuIENhblxuICAgKiBiZSBjYWxsZWQgb25seSBvbmNlIGluIHRoZSBsaWZlY3ljbGUgb2YgYSBzZXJ2aWNlLlxuICAgKi9cbiAgZGlzcG9zZSgpIHt9XG59XG5cblxuLyoqXG4gKiBUaGlzIGludGVyZmFjZSBwcm92aWRlcyBhIGBhZG9wdEVtYmVkV2luZG93YCBtZXRob2QgdGhhdCB3aWxsIGJlIGNhbGxlZCBieVxuICogcnVudGltZSBmb3IgYSBuZXcgZW1iZWQgd2luZG93LlxuICogQGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgRW1iZWRkYWJsZVNlcnZpY2Uge1xuXG4gIC8qKlxuICAgKiBJbnN0cnVjdHMgdGhlIHNlcnZpY2UgdG8gYWRvcHQgdGhlIGVtYmVkIHdpbmRvdyBhbmQgYWRkIGFueSBuZWNlc3NhcnlcbiAgICogbGlzdGVuZXJzIGFuZCByZXNvdXJjZXMuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gdW51c2VkRW1iZWRXaW5cbiAgICovXG4gIGFkb3B0RW1iZWRXaW5kb3codW51c2VkRW1iZWRXaW4pIHt9XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2VydmljZSB3aXRoIHRoZSBnaXZlbiBpZC4gQXNzdW1lcyB0aGF0IGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWRcbiAqIGFscmVhZHkuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZmFsbGJhY2tUb1RvcFdpblxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgc2VydmljZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV4aXN0aW5nU2VydmljZUluRW1iZWRTY29wZSh3aW4sIGlkLCBvcHRfZmFsbGJhY2tUb1RvcFdpbikge1xuICAvLyBGaXJzdCwgdHJ5IHRvIHJlc29sdmUgdmlhIGxvY2FsIChlbWJlZCkgd2luZG93LlxuICBjb25zdCBsb2NhbCA9IGdldExvY2FsRXhpc3RpbmdTZXJ2aWNlRm9yRW1iZWRXaW5Pck51bGwod2luLCBpZCk7XG4gIGlmIChsb2NhbCkge1xuICAgIHJldHVybiBsb2NhbDtcbiAgfVxuICBpZiAob3B0X2ZhbGxiYWNrVG9Ub3BXaW4pIHtcbiAgICByZXR1cm4gZ2V0U2VydmljZSh3aW4sIGlkKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2VydmljZSB3aXRoIHRoZSBnaXZlbiBpZC4gQXNzdW1lcyB0aGF0IGl0IGhhcyBiZWVuIGNvbnN0cnVjdGVkXG4gKiBhbHJlYWR5LlxuICpcbiAqIFVubGlrZSBtb3N0IHNlcnZpY2UgZ2V0dGVycywgcGFzc2luZyBgTm9kZWAgaXMgbmVjZXNzYXJ5IGZvciBzb21lIEZJRS1zY29wZVxuICogc2VydmljZXMgc2luY2Ugc29tZXRpbWVzIHdlIG9ubHkgaGF2ZSB0aGUgRklFIERvY3VtZW50IGZvciBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7IU5vZGV8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IG5vZGVPckRvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZmFsbGJhY2tUb1RvcFdpblxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgc2VydmljZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV4aXN0aW5nU2VydmljZUZvckRvY0luRW1iZWRTY29wZShcbiAgbm9kZU9yRG9jLCBpZCwgb3B0X2ZhbGxiYWNrVG9Ub3BXaW4pIHtcbiAgLy8gRmlyc3QsIHRyeSB0byByZXNvbHZlIHZpYSBsb2NhbCAoZW1iZWQpIHdpbmRvdy5cbiAgaWYgKG5vZGVPckRvYy5ub2RlVHlwZSkge1xuICAgIC8vIElmIGEgbm9kZSBpcyBwYXNzZWQsIHRyeSB0byByZXNvbHZlIHZpYSB0aGlzIG5vZGUuXG4gICAgY29uc3Qgd2luID0gdG9XaW4oLyoqIEB0eXBlIHshRG9jdW1lbnR9ICovIChcbiAgICAgIG5vZGVPckRvYy5vd25lckRvY3VtZW50IHx8IG5vZGVPckRvYykuZGVmYXVsdFZpZXcpO1xuICAgIGNvbnN0IGxvY2FsID0gZ2V0TG9jYWxFeGlzdGluZ1NlcnZpY2VGb3JFbWJlZFdpbk9yTnVsbCh3aW4sIGlkKTtcbiAgICBpZiAobG9jYWwpIHtcbiAgICAgIHJldHVybiBsb2NhbDtcbiAgICB9XG4gIH1cbiAgLy8gSWYgYW4gYW1wZG9jIGlzIHBhc3NlZCBvciBmYWxsYmFjayBpcyBhbGxvd2VkLCBjb250aW51ZSByZXNvbHZpbmcuXG4gIGlmICghbm9kZU9yRG9jLm5vZGVUeXBlIHx8IG9wdF9mYWxsYmFja1RvVG9wV2luKSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKG5vZGVPckRvYywgaWQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEluc3RhbGxzIGEgc2VydmljZSBvdmVycmlkZSBvbiBhbXAtZG9jIGxldmVsLlxuICogQHBhcmFtIHshV2luZG93fSBlbWJlZFdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0geyFPYmplY3R9IHNlcnZpY2UgVGhlIHNlcnZpY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsU2VydmljZUluRW1iZWRTY29wZShlbWJlZFdpbiwgaWQsIHNlcnZpY2UpIHtcbiAgY29uc3QgdG9wV2luID0gZ2V0VG9wV2luZG93KGVtYmVkV2luKTtcbiAgZGV2KCkuYXNzZXJ0KGVtYmVkV2luICE9IHRvcFdpbixcbiAgICAgICdTZXJ2aWNlIG92ZXJyaWRlIGNhbiBvbmx5IGJlIGluc3RhbGxlZCBpbiBlbWJlZCB3aW5kb3c6ICVzJywgaWQpO1xuICBkZXYoKS5hc3NlcnQoIWdldExvY2FsRXhpc3RpbmdTZXJ2aWNlRm9yRW1iZWRXaW5Pck51bGwoZW1iZWRXaW4sIGlkKSxcbiAgICAgICdTZXJ2aWNlIG92ZXJyaWRlIGhhcyBhbHJlYWR5IGJlZW4gaW5zdGFsbGVkOiAlcycsIGlkKTtcbiAgcmVnaXN0ZXJTZXJ2aWNlSW50ZXJuYWwoZW1iZWRXaW4sIGVtYmVkV2luLCBpZCwgKCkgPT4gc2VydmljZSk7XG4gIGdldFNlcnZpY2VJbnRlcm5hbChlbWJlZFdpbiwgaWQpOyAvLyBGb3JjZSBzZXJ2aWNlIHRvIGJ1aWxkLlxufVxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gZW1iZWRXaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7P09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxFeGlzdGluZ1NlcnZpY2VGb3JFbWJlZFdpbk9yTnVsbChlbWJlZFdpbiwgaWQpIHtcbiAgLy8gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGN1cnJlbnRseSBvbmx5IHJlc29sdmVzIGFnYWluc3QgdGhlIGdpdmVuIHdpbmRvdy5cbiAgLy8gSXQgZG9lcyBub3QgdHJ5IHRvIGdvIGFsbCB0aGUgd2F5IHVwIHRoZSBwYXJlbnQgd2luZG93IGNoYWluLiBXZSBjYW4gY2hhbmdlXG4gIC8vIHRoaXMgaW4gdGhlIGZ1dHVyZSwgYnV0IGZvciBub3cgdGhpcyBnaXZlcyB1cyBhIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgY29uc3QgdG9wV2luID0gZ2V0VG9wV2luZG93KGVtYmVkV2luKTtcbiAgaWYgKGVtYmVkV2luICE9IHRvcFdpbiAmJiBpc1NlcnZpY2VSZWdpc3RlcmVkKGVtYmVkV2luLCBpZCkpIHtcbiAgICByZXR1cm4gZ2V0U2VydmljZUludGVybmFsKGVtYmVkV2luLCBpZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBzZXJ2aWNlIGdpdmVuIGEgY2xhc3MgdG8gYmUgdXNlZCBhcyBpbXBsZW1lbnRhdGlvbi5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpPYmplY3QsICFXaW5kb3cpfSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luc3RhbnRpYXRlIFdoZXRoZXIgdG8gaW1tZWRpYXRlbHkgY3JlYXRlIHRoZSBzZXJ2aWNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNlcnZpY2VCdWlsZGVyKHdpbixcbiAgaWQsXG4gIGNvbnN0cnVjdG9yLFxuICBvcHRfaW5zdGFudGlhdGUpIHtcbiAgd2luID0gZ2V0VG9wV2luZG93KHdpbik7XG4gIHJlZ2lzdGVyU2VydmljZUludGVybmFsKHdpbiwgd2luLCBpZCwgY29uc3RydWN0b3IpO1xuICBpZiAob3B0X2luc3RhbnRpYXRlKSB7XG4gICAgZ2V0U2VydmljZUludGVybmFsKHdpbiwgaWQpO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2VydmljZSBhbmQgcmVnaXN0ZXJzIGl0IGdpdmVuIGEgY2xhc3MgdG8gYmUgdXNlZCBhc1xuICogaW1wbGVtZW50YXRpb24uXG4gKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Ok9iamVjdCwgIS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2MpfSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luc3RhbnRpYXRlIFdoZXRoZXIgdG8gaW1tZWRpYXRlbHkgY3JlYXRlIHRoZSBzZXJ2aWNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNlcnZpY2VCdWlsZGVyRm9yRG9jKG5vZGVPckRvYyxcbiAgaWQsXG4gIGNvbnN0cnVjdG9yLFxuICBvcHRfaW5zdGFudGlhdGUpIHtcbiAgY29uc3QgYW1wZG9jID0gZ2V0QW1wZG9jKG5vZGVPckRvYyk7XG4gIGNvbnN0IGhvbGRlciA9IGdldEFtcGRvY1NlcnZpY2VIb2xkZXIoYW1wZG9jKTtcbiAgcmVnaXN0ZXJTZXJ2aWNlSW50ZXJuYWwoaG9sZGVyLCBhbXBkb2MsIGlkLCBjb25zdHJ1Y3Rvcik7XG4gIGlmIChvcHRfaW5zdGFudGlhdGUpIHtcbiAgICBnZXRTZXJ2aWNlSW50ZXJuYWwoaG9sZGVyLCBpZCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBzZXJ2aWNlIGZvciB0aGUgZ2l2ZW4gaWQgYW5kIHdpbmRvdyAoYSBwZXItd2luZG93IHNpbmdsZXRvbikuIFVzZXJzXG4gKiBzaG91bGQgdHlwaWNhbGx5IHdyYXAgdGhpcyBhcyBhIHNwZWNpYWwgcHVycG9zZSBmdW5jdGlvbiAoZS5nLlxuICogYFNlcnZpY2VzLnZzeW5jRm9yKHdpbilgKSBmb3IgdHlwZSBzYWZldHkgYW5kIGJlY2F1c2UgdGhlIGZhY3Rvcnkgc2hvdWxkIG5vdFxuICogYmUgcGFzc2VkIGFyb3VuZC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAdGVtcGxhdGUgVFxuICogQHJldHVybiB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2Uod2luLCBpZCkge1xuICB3aW4gPSBnZXRUb3BXaW5kb3cod2luKTtcbiAgcmV0dXJuIGdldFNlcnZpY2VJbnRlcm5hbCh3aW4sIGlkKTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciBhIHNlcnZpY2UgZm9yIHRoZSBnaXZlbiBpZCBhbmQgd2luZG93LiBBbHNvIGV4cGVjdHMgYW5cbiAqIGVsZW1lbnQgdGhhdCBoYXMgdGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbi4gVGhlIHByb21pc2UgcmVzb2x2ZXMgd2hlbiB0aGVcbiAqIGltcGxlbWVudGF0aW9uIGxvYWRlZC4gVXNlcnMgc2hvdWxkIHR5cGljYWxseSB3cmFwIHRoaXMgYXMgYSBzcGVjaWFsIHB1cnBvc2VcbiAqIGZ1bmN0aW9uIChlLmcuIGBTZXJ2aWNlcy52c3luY0Zvcih3aW4pYCkgZm9yIHR5cGUgc2FmZXR5IGFuZCBiZWNhdXNlIHRoZVxuICogZmFjdG9yeSBzaG91bGQgbm90IGJlIHBhc3NlZCBhcm91bmQuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHJldHVybiB7IVByb21pc2U8IU9iamVjdD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2aWNlUHJvbWlzZSh3aW4sIGlkKSB7XG4gIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZUludGVybmFsKHdpbiwgaWQpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHNlcnZpY2Ugb3IgbnVsbCB3aXRoIHRoZSBnaXZlbiBpZC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4gez9PYmplY3R9IFRoZSBzZXJ2aWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhpc3RpbmdTZXJ2aWNlT3JOdWxsKHdpbiwgaWQpIHtcbiAgd2luID0gZ2V0VG9wV2luZG93KHdpbik7XG4gIGlmIChpc1NlcnZpY2VSZWdpc3RlcmVkKHdpbiwgaWQpKSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2VJbnRlcm5hbCh3aW4sIGlkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5cbi8qKlxuICogTGlrZSBnZXRTZXJ2aWNlUHJvbWlzZSBidXQgcmV0dXJucyBudWxsIGlmIHRoZSBzZXJ2aWNlIHdhcyBuZXZlciByZWdpc3RlcmVkLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7P1Byb21pc2U8IU9iamVjdD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbCh3aW4sIGlkKSB7XG4gIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEludGVybmFsKHdpbiwgaWQpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHNlcnZpY2UgZm9yIHRoZSBnaXZlbiBpZCBhbmQgYW1wZG9jIChhIHBlci1hbXBkb2Mgc2luZ2xldG9uKS5cbiAqIEV4cGVjdHMgc2VydmljZSBgaWRgIHRvIGJlIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7VH1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2aWNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQpIHtcbiAgY29uc3QgYW1wZG9jID0gZ2V0QW1wZG9jKGVsZW1lbnRPckFtcERvYyk7XG4gIGNvbnN0IGhvbGRlciA9IGdldEFtcGRvY1NlcnZpY2VIb2xkZXIoYW1wZG9jKTtcbiAgcmV0dXJuIGdldFNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGlkKTtcbn1cblxuXG4vKipcbiAqIHRsO2RyIC0tIFVzZSBnZXRTZXJ2aWNlRm9yRG9jKCkgaW5zdGVhZCBvZiB0aGlzLlxuICpcbiAqIFByaXZpbGVnZWQgdmFyaWFudCBvZiBnZXRTZXJ2aWNlRm9yRG9jKCkgdGhhdCBhY2NlcHRzIG5vbi1lbGVtZW50IHBhcmFtcyxcbiAqIGUuZy4gd2luZG93LmRvY3VtZW50LiBUaGlzIGlzIGN1cnJlbnRseSBuZWNlc3NhcnkgZm9yIGRvYy1sZXZlbCBzZXJ2aWNlc1xuICogdXNlZCBpbiBzdGFydHVwLCBlLmcuIENodW5rcy4gRXZlbnR1YWxseSB3ZSB3YW50IHRvIHJlbW92ZSB0aGlzIGZ1bmN0aW9uXG4gKiBhbmQgaGF2ZSBjYWxsZXJzIGZpbmQgdGhlIGFwcHJvcHJpYXRlIEFtcERvYyBhbmQgdXNlIGdldFNlcnZpY2VGb3JEb2MoKS5cbiAqXG4gKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7VH1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2aWNlRm9yRG9jRGVwcmVjYXRlZChub2RlT3JEb2MsIGlkKSB7XG4gIGNvbnN0IGFtcGRvYyA9IGdldEFtcGRvYyhub2RlT3JEb2MpO1xuICBjb25zdCBob2xkZXIgPSBnZXRBbXBkb2NTZXJ2aWNlSG9sZGVyKGFtcGRvYyk7XG4gIHJldHVybiBnZXRTZXJ2aWNlSW50ZXJuYWwoaG9sZGVyLCBpZCk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzZXJ2aWNlIGZvciB0aGUgZ2l2ZW4gaWQgYW5kIGFtcGRvYy4gQWxzbyBleHBlY3RzXG4gKiBhIHNlcnZpY2UgdGhhdCBoYXMgdGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbi4gVGhlIHByb21pc2UgcmVzb2x2ZXMgd2hlblxuICogdGhlIGltcGxlbWVudGF0aW9uIGxvYWRlZC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhT2JqZWN0Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQpIHtcbiAgcmV0dXJuIGdldFNlcnZpY2VQcm9taXNlSW50ZXJuYWwoXG4gICAgICBnZXRBbXBkb2NTZXJ2aWNlSG9sZGVyKGVsZW1lbnRPckFtcERvYyksIGlkKTtcbn1cblxuXG4vKipcbiAqIExpa2UgZ2V0U2VydmljZVByb21pc2VGb3JEb2MgYnV0IHJldHVybnMgbnVsbCBpZiB0aGUgc2VydmljZSB3YXMgbmV2ZXJcbiAqIHJlZ2lzdGVyZWQgZm9yIHRoaXMgYW1wZG9jLlxuICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4gez9Qcm9taXNlPCFPYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmljZVByb21pc2VPck51bGxGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCBpZCkge1xuICByZXR1cm4gZ2V0U2VydmljZVByb21pc2VPck51bGxJbnRlcm5hbChcbiAgICAgIGdldEFtcGRvY1NlcnZpY2VIb2xkZXIoZWxlbWVudE9yQW1wRG9jKSwgaWQpO1xufVxuXG4vKipcbiAqIFNldCB0aGUgcGFyZW50IGFuZCB0b3Agd2luZG93cyBvbiBhIGNoaWxkIHdpbmRvdyAoZnJpZW5kbHkgaWZyYW1lKS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFXaW5kb3d9IHBhcmVudFdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UGFyZW50V2luZG93KHdpbiwgcGFyZW50V2luKSB7XG4gIHdpbi5fX0FNUF9QQVJFTlQgPSBwYXJlbnRXaW47XG4gIHdpbi5fX0FNUF9UT1AgPSBnZXRUb3BXaW5kb3cocGFyZW50V2luKTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBhcmVudCB3aW5kb3cgZm9yIGEgY2hpbGQgd2luZG93IChmcmllbmRseSBpZnJhbWUpLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyFXaW5kb3d9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRXaW5kb3cod2luKSB7XG4gIHJldHVybiB3aW4uX19BTVBfUEFSRU5UIHx8IHdpbjtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHRvcCB3aW5kb3cgd2hlcmUgQU1QIFJ1bnRpbWUgaXMgaW5zdGFsbGVkIGZvciBhIGNoaWxkIHdpbmRvd1xuICogKGZyaWVuZGx5IGlmcmFtZSkuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7IVdpbmRvd31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcFdpbmRvdyh3aW4pIHtcbiAgcmV0dXJuIHdpbi5fX0FNUF9UT1AgfHwgd2luO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGFyZW50IFwiZnJpZW5kbHlcIiBpZnJhbWUgaWYgdGhlIG5vZGUgYmVsb25ncyB0byBhIGNoaWxkIHdpbmRvdy5cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7IVdpbmRvd30gdG9wV2luXG4gKiBAcmV0dXJuIHs/SFRNTElGcmFtZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRXaW5kb3dGcmFtZUVsZW1lbnQobm9kZSwgdG9wV2luKSB7XG4gIGNvbnN0IGNoaWxkV2luID0gKG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlKS5kZWZhdWx0VmlldztcbiAgaWYgKGNoaWxkV2luICYmIGNoaWxkV2luICE9IHRvcFdpbiAmJiBnZXRUb3BXaW5kb3coY2hpbGRXaW4pID09IHRvcFdpbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHs/SFRNTElGcmFtZUVsZW1lbnR9ICovIChjaGlsZFdpbi5mcmFtZUVsZW1lbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSB0aGUgZXJyb3IuXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshTm9kZXwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gKiBAcmV0dXJuIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFtcGRvYyhub2RlT3JEb2MpIHtcbiAgaWYgKG5vZGVPckRvYy5ub2RlVHlwZSkge1xuICAgIGNvbnN0IHdpbiA9IHRvV2luKC8qKiBAdHlwZSB7IURvY3VtZW50fSAqLyAoXG4gICAgICBub2RlT3JEb2Mub3duZXJEb2N1bWVudCB8fCBub2RlT3JEb2MpLmRlZmF1bHRWaWV3KTtcbiAgICByZXR1cm4gZ2V0QW1wZG9jU2VydmljZSh3aW4pLmdldEFtcERvYygvKiogQHR5cGUgeyFOb2RlfSAqLyAobm9kZU9yRG9jKSk7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9ICovIChub2RlT3JEb2MpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshTm9kZXwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gKiBAcmV0dXJuIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY3whV2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRBbXBkb2NTZXJ2aWNlSG9sZGVyKG5vZGVPckRvYykge1xuICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2Mobm9kZU9yRG9jKTtcbiAgcmV0dXJuIGFtcGRvYy5pc1NpbmdsZURvYygpID8gYW1wZG9jLndpbiA6IGFtcGRvYztcbn1cblxuXG4vKipcbiAqIFRoaXMgaXMgZXNzZW50aWFsbHkgYSBkdXBsaWNhdGUgb2YgYGFtcGRvYy5qc2AsIGJ1dCBuZWNlc3NhcnkgdG8gYXZvaWRcbiAqIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY1NlcnZpY2V9XG4gKi9cbmZ1bmN0aW9uIGdldEFtcGRvY1NlcnZpY2Uod2luKSB7XG4gIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jU2VydmljZX0gKi8gKFxuICAgIGdldFNlcnZpY2Uod2luLCAnYW1wZG9jJykpO1xufVxuXG5cbi8qKlxuICogR2V0IHNlcnZpY2UgYGlkYCBmcm9tIGBob2xkZXJgLiBBc3N1bWVzIHRoZSBzZXJ2aWNlXG4gKiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlciBPYmplY3QgaG9sZGluZyB0aGUgc2VydmljZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmZ1bmN0aW9uIGdldFNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGlkKSB7XG4gIGRldigpLmFzc2VydChpc1NlcnZpY2VSZWdpc3RlcmVkKGhvbGRlciwgaWQpLFxuICAgICAgYEV4cGVjdGVkIHNlcnZpY2UgJHtpZH0gdG8gYmUgcmVnaXN0ZXJlZGApO1xuICBjb25zdCBzZXJ2aWNlcyA9IGdldFNlcnZpY2VzKGhvbGRlcik7XG4gIGNvbnN0IHMgPSBzZXJ2aWNlc1tpZF07XG4gIGlmICghcy5vYmopIHtcbiAgICBkZXYoKS5hc3NlcnQocy5jdG9yLCBgU2VydmljZSAke2lkfSByZWdpc3RlcmVkIHdpdGhvdXQgY3RvciBub3IgaW1wbC5gKTtcbiAgICBkZXYoKS5hc3NlcnQocy5jb250ZXh0LCBgU2VydmljZSAke2lkfSByZWdpc3RlcmVkIHdpdGhvdXQgY29udGV4dC5gKTtcbiAgICBzLm9iaiA9IG5ldyBzLmN0b3Iocy5jb250ZXh0KTtcbiAgICBkZXYoKS5hc3NlcnQocy5vYmosIGBTZXJ2aWNlICR7aWR9IGNvbnN0cnVjdGVkIHRvIG51bGwuYCk7XG4gICAgcy5jdG9yID0gbnVsbDtcbiAgICBzLmNvbnRleHQgPSBudWxsO1xuICAgIC8vIFRoZSBzZXJ2aWNlIG1heSBoYXZlIGJlZW4gcmVxdWVzdGVkIGFscmVhZHksIGluIHdoaWNoIGNhc2Ugd2UgaGF2ZSBhXG4gICAgLy8gcGVuZGluZyBwcm9taXNlIHdlIG5lZWQgdG8gZnVsZmlsbC5cbiAgICBpZiAocy5yZXNvbHZlKSB7XG4gICAgICBzLnJlc29sdmUocy5vYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcy5vYmo7XG59XG5cbi8qKlxuICogQHBhcmFtIHshT2JqZWN0fSBob2xkZXIgT2JqZWN0IGhvbGRpbmcgdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyFXaW5kb3d8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGNvbnRleHQgV2luIG9yIEFtcERvYy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9uKG5ldzpPYmplY3QsICFXaW5kb3cpfD9mdW5jdGlvbihuZXc6T2JqZWN0LCAhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvYyl9IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gbmV3IHRoZSBzZXJ2aWNlLiBDYWxsZWQgd2l0aCBjb250ZXh0LlxuICovXG5mdW5jdGlvbiByZWdpc3RlclNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGNvbnRleHQsIGlkLCBjdG9yKSB7XG4gIGNvbnN0IHNlcnZpY2VzID0gZ2V0U2VydmljZXMoaG9sZGVyKTtcbiAgbGV0IHMgPSBzZXJ2aWNlc1tpZF07XG5cbiAgaWYgKCFzKSB7XG4gICAgcyA9IHNlcnZpY2VzW2lkXSA9IHtcbiAgICAgIG9iajogbnVsbCxcbiAgICAgIHByb21pc2U6IG51bGwsXG4gICAgICByZXNvbHZlOiBudWxsLFxuICAgICAgY29udGV4dDogbnVsbCxcbiAgICAgIGN0b3I6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChzLmN0b3IgfHwgcy5vYmopIHtcbiAgICAvLyBTZXJ2aWNlIGFscmVhZHkgcmVnaXN0ZXJlZC5cbiAgICByZXR1cm47XG4gIH1cblxuICBzLmN0b3IgPSBjdG9yO1xuICBzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gIC8vIFRoZSBzZXJ2aWNlIG1heSBoYXZlIGJlZW4gcmVxdWVzdGVkIGFscmVhZHksIGluIHdoaWNoIGNhc2UgdGhlcmUgaXMgYVxuICAvLyBwZW5kaW5nIHByb21pc2UgdGhhdCBuZWVkcyB0byBmdWxmaWxsZWQuXG4gIGlmIChzLnJlc29sdmUpIHtcbiAgICAvLyBnZXRTZXJ2aWNlSW50ZXJuYWwgd2lsbCByZXNvbHZlIHRoZSBwcm9taXNlLlxuICAgIGdldFNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGlkKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gaG9sZGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhT2JqZWN0Pn1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VydmljZVByb21pc2VJbnRlcm5hbChob2xkZXIsIGlkKSB7XG4gIGNvbnN0IGNhY2hlZCA9IGdldFNlcnZpY2VQcm9taXNlT3JOdWxsSW50ZXJuYWwoaG9sZGVyLCBpZCk7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIC8vIFNlcnZpY2UgaXMgbm90IHJlZ2lzdGVyZWQuXG5cbiAgLy8gVE9ETyhAY3JhbWZvcmNlKTogQWRkIGEgY2hlY2sgdGhhdCBpZiB0aGUgZWxlbWVudCBpcyBldmVudHVhbGx5IHJlZ2lzdGVyZWRcbiAgLy8gdGhhdCB0aGUgc2VydmljZSBpcyBhY3R1YWxseSBwcm92aWRlZCBhbmQgdGhpcyBwcm9taXNlIHJlc29sdmVzLlxuICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICBjb25zdCB7cHJvbWlzZSwgcmVzb2x2ZX0gPSBkZWZlcnJlZDtcblxuICBjb25zdCBzZXJ2aWNlcyA9IGdldFNlcnZpY2VzKGhvbGRlcik7XG4gIHNlcnZpY2VzW2lkXSA9IHtcbiAgICBvYmo6IG51bGwsXG4gICAgcHJvbWlzZSxcbiAgICByZXNvbHZlLFxuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgY3RvcjogbnVsbCxcbiAgfTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3Igc2VydmljZSBgaWRgIGlmIHRoZSBzZXJ2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWRcbiAqIG9uIGBob2xkZXJgLlxuICogQHBhcmFtIHshT2JqZWN0fSBob2xkZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEByZXR1cm4gez9Qcm9taXNlPCFPYmplY3Q+fVxuICovXG5mdW5jdGlvbiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEludGVybmFsKGhvbGRlciwgaWQpIHtcbiAgY29uc3Qgc2VydmljZXMgPSBnZXRTZXJ2aWNlcyhob2xkZXIpO1xuICBjb25zdCBzID0gc2VydmljZXNbaWRdO1xuICBpZiAocykge1xuICAgIGlmIChzLnByb21pc2UpIHtcbiAgICAgIHJldHVybiBzLnByb21pc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEluc3RhbnRpYXRlIHNlcnZpY2UgaWYgbm90IGFscmVhZHkgaW5zdGFudGlhdGVkLlxuICAgICAgZ2V0U2VydmljZUludGVybmFsKGhvbGRlciwgaWQpO1xuICAgICAgcmV0dXJuIHMucHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgvKiogQHR5cGUgeyFPYmplY3R9ICovIChzLm9iaikpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIG9iamVjdCB0aGF0IGhvbGRzIHRoZSBzZXJ2aWNlcyByZWdpc3RlcmVkIGluIGEgaG9sZGVyLlxuICogQHBhcmFtIHshT2JqZWN0fSBob2xkZXJcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCFTZXJ2aWNlSG9sZGVyRGVmPn1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VydmljZXMoaG9sZGVyKSB7XG4gIGxldCB7c2VydmljZXN9ID0gaG9sZGVyO1xuICBpZiAoIXNlcnZpY2VzKSB7XG4gICAgc2VydmljZXMgPSBob2xkZXIuc2VydmljZXMgPSB7fTtcbiAgfVxuICByZXR1cm4gc2VydmljZXM7XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgc2VydmljZSBpbXBsZW1lbnRzIGBEaXNwb3NhYmxlYCBpbnRlcmZhY2UuXG4gKiBAcGFyYW0geyFPYmplY3R9IHNlcnZpY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc3Bvc2FibGUoc2VydmljZSkge1xuICByZXR1cm4gdHlwZW9mIHNlcnZpY2UuZGlzcG9zZSA9PSAnZnVuY3Rpb24nO1xufVxuXG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IHRoZSBzcGVjaWZpZWQgc2VydmljZSBpbXBsZW1lbnRzIGBEaXNwb3NhYmxlYCBpbnRlcmZhY2UgYW5kXG4gKiB0eXBlY2FzdHMgdGhlIGluc3RhbmNlIHRvIGBEaXNwb3NhYmxlYC5cbiAqIEBwYXJhbSB7IU9iamVjdH0gc2VydmljZVxuICogQHJldHVybiB7IURpc3Bvc2FibGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREaXNwb3NhYmxlKHNlcnZpY2UpIHtcbiAgZGV2KCkuYXNzZXJ0KGlzRGlzcG9zYWJsZShzZXJ2aWNlKSwgJ3JlcXVpcmVkIHRvIGltcGxlbWVudCBEaXNwb3NhYmxlJyk7XG4gIHJldHVybiAvKiogQHR5cGUgeyFEaXNwb3NhYmxlfSAqLyAoc2VydmljZSk7XG59XG5cblxuLyoqXG4gKiBEaXNwb3NlcyBhbGwgZGlzcG9zYWJsZSAoaW1wbGVtZW50cyBgRGlzcG9zYWJsZWAgaW50ZXJmYWNlKSBzZXJ2aWNlcyBpblxuICogYW1wZG9jIHNjb3BlLlxuICogQHBhcmFtIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlU2VydmljZXNGb3JEb2MoYW1wZG9jKSB7XG4gIGRpc3Bvc2VTZXJ2aWNlc0ludGVybmFsKGFtcGRvYyk7XG59XG5cblxuLyoqXG4gKiBEaXNwb3NlcyBhbGwgZGlzcG9zYWJsZSAoaW1wbGVtZW50cyBgRGlzcG9zYWJsZWAgaW50ZXJmYWNlKSBzZXJ2aWNlcyBpblxuICogZW1iZWQgc2NvcGUuXG4gKiBAcGFyYW0geyFXaW5kb3d9IGVtYmVkV2luXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlU2VydmljZXNGb3JFbWJlZChlbWJlZFdpbikge1xuICBkaXNwb3NlU2VydmljZXNJbnRlcm5hbChlbWJlZFdpbik7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlciBPYmplY3QgaG9sZGluZyB0aGUgc2VydmljZSBpbnN0YW5jZXMuXG4gKi9cbmZ1bmN0aW9uIGRpc3Bvc2VTZXJ2aWNlc0ludGVybmFsKGhvbGRlcikge1xuICAvLyBUT0RPKGR2b3l0ZW5rbyk6IENvbnNpZGVyIG1hcmtpbmcgaG9sZGVyIGFzIGRlc3Ryb3llZCBmb3IgbGF0ZXItYXJyaXZpbmdcbiAgLy8gc2VydmljZSB0byBiZSBjYW5jZWxlZCBhdXRvbWF0aWNhbGx5LlxuICBjb25zdCBzZXJ2aWNlcyA9IGdldFNlcnZpY2VzKGhvbGRlcik7XG4gIGZvciAoY29uc3QgaWQgaW4gc2VydmljZXMpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZXJ2aWNlcywgaWQpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3Qgc2VydmljZUhvbGRlciA9IHNlcnZpY2VzW2lkXTtcbiAgICBpZiAoc2VydmljZUhvbGRlci5vYmopIHtcbiAgICAgIGRpc3Bvc2VTZXJ2aWNlSW50ZXJuYWwoaWQsIHNlcnZpY2VIb2xkZXIub2JqKTtcbiAgICB9IGVsc2UgaWYgKHNlcnZpY2VIb2xkZXIucHJvbWlzZSkge1xuICAgICAgc2VydmljZUhvbGRlci5wcm9taXNlLnRoZW4oXG4gICAgICAgICAgaW5zdGFuY2UgPT4gZGlzcG9zZVNlcnZpY2VJbnRlcm5hbChpZCwgaW5zdGFuY2UpKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHshT2JqZWN0fSBzZXJ2aWNlXG4gKi9cbmZ1bmN0aW9uIGRpc3Bvc2VTZXJ2aWNlSW50ZXJuYWwoaWQsIHNlcnZpY2UpIHtcbiAgaWYgKCFpc0Rpc3Bvc2FibGUoc2VydmljZSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBhc3NlcnREaXNwb3NhYmxlKHNlcnZpY2UpLmRpc3Bvc2UoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEVuc3VyZSB0aGF0IGEgZmFpbHVyZSB0byBkaXNwb3NlIGEgc2VydmljZSBkb2VzIG5vdCBkaXNydXB0IG90aGVyXG4gICAgLy8gc2VydmljZXMuXG4gICAgZGV2KCkuZXJyb3IoJ1NFUlZJQ0UnLCAnZmFpbGVkIHRvIGRpc3Bvc2Ugc2VydmljZScsIGlkLCBlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogV2hldGhlciB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgaW1wbGVtZW50cyBgRW1iZWRkYWJsZVNlcnZpY2VgIGludGVyZmFjZS5cbiAqIEBwYXJhbSB7IU9iamVjdH0gc2VydmljZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1iZWRkYWJsZShzZXJ2aWNlKSB7XG4gIHJldHVybiB0eXBlb2Ygc2VydmljZS5hZG9wdEVtYmVkV2luZG93ID09ICdmdW5jdGlvbic7XG59XG5cblxuLyoqXG4gKiBBZG9wdHMgYW4gZW1iZWRkYWJsZSAoaW1wbGVtZW50cyBgRW1iZWRkYWJsZVNlcnZpY2VgIGludGVyZmFjZSkgc2VydmljZVxuICogaW4gZW1iZWQgc2NvcGUuXG4gKiBAcGFyYW0geyFXaW5kb3d9IGVtYmVkV2luXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZUlkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZG9wdFNlcnZpY2VGb3JFbWJlZChlbWJlZFdpbiwgc2VydmljZUlkKSB7XG4gIGNvbnN0IGFkb3B0ZWQgPSBhZG9wdFNlcnZpY2VGb3JFbWJlZElmRW1iZWRkYWJsZShlbWJlZFdpbiwgc2VydmljZUlkKTtcbiAgZGV2KCkuYXNzZXJ0KGFkb3B0ZWQsIGBTZXJ2aWNlICR7c2VydmljZUlkfSBub3QgZm91bmQgb24gcGFyZW50IGAgK1xuICAgICAgJ29yIGRvZXNuXFwndCBpbXBsZW1lbnQgRW1iZWRkYWJsZVNlcnZpY2UuJyk7XG59XG5cblxuLyoqXG4gKiBBZG9wdHMgYW4gZW1iZWRkYWJsZSAoaW1wbGVtZW50cyBgRW1iZWRkYWJsZVNlcnZpY2VgIGludGVyZmFjZSkgc2VydmljZVxuICogaW4gZW1iZWQgc2NvcGUuXG4gKiBAcGFyYW0geyFXaW5kb3d9IGVtYmVkV2luXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZUlkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRvcHRTZXJ2aWNlRm9yRW1iZWRJZkVtYmVkZGFibGUoZW1iZWRXaW4sIHNlcnZpY2VJZCkge1xuICBjb25zdCBmcmFtZUVsZW1lbnQgPSAvKiogQHR5cGUgeyFOb2RlfSAqLyAoZGV2KCkuYXNzZXJ0KFxuICAgICAgZW1iZWRXaW4uZnJhbWVFbGVtZW50LFxuICAgICAgJ2ZyYW1lRWxlbWVudCBub3QgZm91bmQgZm9yIGVtYmVkJykpO1xuICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2MoZnJhbWVFbGVtZW50KTtcbiAgY29uc3QgaG9sZGVyID0gZ2V0QW1wZG9jU2VydmljZUhvbGRlcihhbXBkb2MpO1xuICBpZiAoIWlzU2VydmljZVJlZ2lzdGVyZWQoaG9sZGVyLCBzZXJ2aWNlSWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTZXJ2aWNlRm9yRG9jRGVwcmVjYXRlZChmcmFtZUVsZW1lbnQsIHNlcnZpY2VJZCk7XG4gIGlmICghaXNFbWJlZGRhYmxlKHNlcnZpY2UpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHNlcnZpY2UuYWRvcHRFbWJlZFdpbmRvdyhlbWJlZFdpbik7XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogUmVzZXRzIGEgc2luZ2xlIHNlcnZpY2UsIHNvIGl0IGdldHMgcmVjcmVhdGVkIG9uIG5leHQgZ2V0U2VydmljZSBpbnZvY2F0aW9uLlxuICogQHBhcmFtIHshT2JqZWN0fSBob2xkZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U2VydmljZUZvclRlc3RpbmcoaG9sZGVyLCBpZCkge1xuICBpZiAoaG9sZGVyLnNlcnZpY2VzKSB7XG4gICAgaG9sZGVyLnNlcnZpY2VzW2lkXSA9IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlciBPYmplY3QgaG9sZGluZyB0aGUgc2VydmljZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU2VydmljZVJlZ2lzdGVyZWQoaG9sZGVyLCBpZCkge1xuICBjb25zdCBzZXJ2aWNlID0gaG9sZGVyLnNlcnZpY2VzICYmIGhvbGRlci5zZXJ2aWNlc1tpZF07XG4gIC8vIEFsbCByZWdpc3RlcmVkIHNlcnZpY2VzIG11c3QgaGF2ZSBhbiBpbXBsZW1lbnRhdGlvbiBvciBhIGNvbnN0cnVjdG9yLlxuICByZXR1cm4gISEoc2VydmljZSAmJiAoc2VydmljZS5jdG9yIHx8IHNlcnZpY2Uub2JqKSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgYmFzZUluc3RhbmNlIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgUG9zaXRpb25PYnNlcnZlcldvcmtlciwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xufSBmcm9tICcuL3Bvc2l0aW9uLW9ic2VydmVyLXdvcmtlcic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7XG5pbXBvcnQge2RlYm91bmNlfSBmcm9tICcuLi8uLi91dGlscy9yYXRlLWxpbWl0JztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi9sb2cnO1xuaW1wb3J0IHtyZWdpc3RlclNlcnZpY2VCdWlsZGVyRm9yRG9jfSBmcm9tICcuLi8uLi9zZXJ2aWNlJztcblxuLyoqIEBjb25zdCBAcHJpdmF0ZSAqL1xuY29uc3QgVEFHID0gJ1BPU0lUSU9OX09CU0VSVkVSJztcblxuLyoqIEBjb25zdCBAcHJpdmF0ZSAqL1xuY29uc3QgU0NST0xMX1RJTUVPVVQgPSA1MDA7XG5cblxuZXhwb3J0IGNsYXNzIFBvc2l0aW9uT2JzZXJ2ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi4vYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYykge1xuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gKi9cbiAgICB0aGlzLmFtcGRvY18gPSBhbXBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gYW1wZG9jLndpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PCFQb3NpdGlvbk9ic2VydmVyV29ya2VyPn0gKi9cbiAgICB0aGlzLndvcmtlcnNfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgeyEuLi92c3luYy1pbXBsLlZzeW5jfSAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL3ZpZXdwb3J0L3ZpZXdwb3J0LWltcGwuVmlld3BvcnR9ICovXG4gICAgdGhpcy52aWV3cG9ydF8gPSBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyhhbXBkb2MpO1xuXG4gICAgLyoqIEBwcml2YXRlIHtBcnJheTxmdW5jdGlvbigpPn0gKi9cbiAgICB0aGlzLnVubGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaW5TY3JvbGxfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5tZWFzdXJlXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuY2FsbGJhY2tTdGFydGVkXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtmdW5jdGlvbigpfSAqL1xuICAgIHRoaXMuYm91bmRTdG9wU2Nyb2xsXyA9IGRlYm91bmNlKHRoaXMud2luXywgKCkgPT4ge1xuICAgICAgdGhpcy5pblNjcm9sbF8gPSBmYWxzZTtcbiAgICB9LCBTQ1JPTExfVElNRU9VVCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0geyFQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHl9IGZpZGVsaXR5XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oPy4vcG9zaXRpb24tb2JzZXJ2ZXItd29ya2VyLlBvc2l0aW9uSW5WaWV3cG9ydEVudHJ5RGVmKX0gaGFuZGxlclxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqL1xuICBvYnNlcnZlKGVsZW1lbnQsIGZpZGVsaXR5LCBoYW5kbGVyKSB7XG4gICAgY29uc3Qgd29ya2VyID1cbiAgICAgICAgbmV3IFBvc2l0aW9uT2JzZXJ2ZXJXb3JrZXIodGhpcy5hbXBkb2NfLCBlbGVtZW50LCBmaWRlbGl0eSwgaGFuZGxlcik7XG5cbiAgICB0aGlzLndvcmtlcnNfLnB1c2god29ya2VyKTtcblxuICAgIGlmICghdGhpcy5jYWxsYmFja1N0YXJ0ZWRfKSB7XG4gICAgICB0aGlzLnN0YXJ0Q2FsbGJhY2tfKCk7XG4gICAgfVxuXG4gICAgd29ya2VyLnVwZGF0ZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy53b3JrZXJzX1tpXSA9PSB3b3JrZXIpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVdvcmtlcl8oaSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICB1bm9ic2VydmUoZWxlbWVudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMud29ya2Vyc19baV0uZWxlbWVudCA9PSBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlV29ya2VyXyhpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBkZXYoKS5lcnJvcihUQUcsICdjYW5ub3QgdW5vYnNlcnZlIHVub2JzZXJ2ZWQgZWxlbWVudCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVtb3ZlV29ya2VyXyhpbmRleCkge1xuICAgIHRoaXMud29ya2Vyc18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAodGhpcy53b3JrZXJzXy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5zdG9wQ2FsbGJhY2tfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiBzdGFydCB0byBvYnNlcnZlIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRDYWxsYmFja18oKSB7XG4gICAgdGhpcy5jYWxsYmFja1N0YXJ0ZWRfID0gdHJ1ZTtcbiAgICAvLyBsaXN0ZW4gdG8gdmlld3BvcnQgc2Nyb2xsIGV2ZW50IHRvIGhlbHAgcGFzcyBkZXRlcm1pbmUgaWYgbmVlZCB0b1xuICAgIHRoaXMudW5saXN0ZW5lcnNfLnB1c2godGhpcy52aWV3cG9ydF8ub25TY3JvbGwoKCkgPT4ge1xuICAgICAgdGhpcy5vblNjcm9sbEhhbmRsZXJfKCk7XG4gICAgfSkpO1xuICAgIHRoaXMudW5saXN0ZW5lcnNfLnB1c2godGhpcy52aWV3cG9ydF8ub25SZXNpemUoKCkgPT4ge1xuICAgICAgdGhpcy5vblJlc2l6ZUhhbmRsZXJfKCk7XG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB1bm9ic2VydmUgbGFzdCBvYnNlcnZlZCBlbGVtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RvcENhbGxiYWNrXygpIHtcbiAgICB0aGlzLmNhbGxiYWNrU3RhcnRlZF8gPSBmYWxzZTtcbiAgICB3aGlsZSAodGhpcy51bmxpc3RlbmVyc18ubGVuZ3RoKSB7XG4gICAgICBjb25zdCB1bmxpc3RlbiA9IHRoaXMudW5saXN0ZW5lcnNfLnBvcCgpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCBpbiB2c3luYy5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2ZvcmNlXG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAqL1xuICB1cGRhdGVBbGxFbnRyaWVzKG9wdF9mb3JjZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgd29ya2VyID0gdGhpcy53b3JrZXJzX1tpXTtcbiAgICAgIHdvcmtlci51cGRhdGUob3B0X2ZvcmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHZpZXdwb3J0IHNjcm9sbCBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25TY3JvbGxIYW5kbGVyXygpIHtcbiAgICB0aGlzLmJvdW5kU3RvcFNjcm9sbF8oKTtcbiAgICB0aGlzLmluU2Nyb2xsXyA9IHRydWU7XG4gICAgaWYgKCF0aGlzLm1lYXN1cmVfKSB7XG4gICAgICB0aGlzLnNjaGVkdWxlUGFzc18oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHZpZXdwb3J0IHJlc2l6ZSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SZXNpemVIYW5kbGVyXygpIHtcbiAgICB0aGlzLnVwZGF0ZUFsbEVudHJpZXModHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFsbCBlbnRyaWVzIGR1cmluZyBzY3JvbGxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNjaGVkdWxlUGFzc18oKSB7XG4gICAgLy8gVE9ETyAoQHpob3V5eCwgIzkyMDgpOlxuICAgIC8vIFAxOiBhY2NvdW50IGZvciBlZmZlY3RpdmUgZmlkZWxpdHkgdXNpbmcgdGhpcy5lZmZlY3RpdmVGaWRlbGl0eVxuICAgIC8vIFAyOiBkbyBwYXNzZXMgb24gb25Eb21NdXRhdGlvbiAoaWYgYXZhaWxhYmxlIHVzaW5nIE11dGF0aW9uT2JzZXJ2ZXJcbiAgICAvLyBtb3N0bHkgZm9yIGluLWEtYm94IGhvc3QsIHNpbmNlIG1vc3QgRE9NIG11dGF0aW9ucyBhcmUgY29uc3RyYWludCB0byB0aGVcbiAgICAvLyBBTVAgZWxlbWVudHMpLlxuICAgIHRoaXMudXBkYXRlQWxsRW50cmllcygpO1xuICAgIHRoaXMubWVhc3VyZV8gPSB0cnVlO1xuICAgIGlmICghdGhpcy5pblNjcm9sbF8pIHtcbiAgICAgIC8vIFN0b3AgbWVhc3VyZSBpZiB2aWV3cG9ydCBpcyBubyBsb25nZXIgc2Nyb2xsaW5nXG4gICAgICB0aGlzLm1lYXN1cmVfID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudnN5bmNfLm1lYXN1cmUoKCkgPT4ge1xuICAgICAgdGhpcy5zY2hlZHVsZVBhc3NfKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyEuLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFBvc2l0aW9uT2JzZXJ2ZXJTZXJ2aWNlRm9yRG9jKGFtcGRvYykge1xuICByZWdpc3RlclNlcnZpY2VCdWlsZGVyRm9yRG9jKGFtcGRvYywgJ3Bvc2l0aW9uLW9ic2VydmVyJywgKCkgPT4ge1xuICAgIHJldHVybiBuZXcgUG9zaXRpb25PYnNlcnZlcihhbXBkb2MpO1xuICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSBiYXNlSW5zdGFuY2UgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uL3NlcnZpY2VzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi9sb2cnO1xuaW1wb3J0IHtcbiAgbGF5b3V0UmVjdEVxdWFscyxcbiAgbGF5b3V0UmVjdEx0d2gsXG4gIGxheW91dFJlY3RzT3ZlcmxhcCxcbiAgbGF5b3V0UmVjdHNSZWxhdGl2ZVBvcyxcbn0gZnJvbSAnLi4vLi4vbGF5b3V0LXJlY3QnO1xuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmV4cG9ydCBjb25zdCBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHkgPSB7XG4gIEhJR0g6IDEsXG4gIExPVzogMCxcbn07XG5cbi8qKiBAY29uc3QgQHByaXZhdGUgKi9cbmNvbnN0IExPV19GSURFTElUWV9GUkFNRV9DT1VOVCA9IDQ7XG5cbi8qKlxuICogVE9ETyAoQHpob3V5eCk6IHJlbmFtZSByZWxhdGl2ZVBvcyB0byByZWxhdGl2ZVBvc2l0aW9uc1xuICogVGhlIHBvc2l0aW9uT2JzZXJ2ZXIgcmV0dXJuZWQgcG9zaXRpb24gdmFsdWUgd2hpY2ggaW5jbHVkZXMgdGhlIHBvc2l0aW9uIHJlY3RcbiAqIHJlbGF0aXZlIHRvIHZpZXdwb3J0LiBBbmQgdmlld3BvcnQgcmVjdCB3aGljaCBhbHdheXMgaGFzIHRvcCAwLCBsZWZ0IDAsIGFuZFxuICogdmlld3BvcnQgd2lkdGggYW5kIGhlaWdodC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgcG9zaXRpb25SZWN0OiA/Li4vLi4vbGF5b3V0LXJlY3QuTGF5b3V0UmVjdERlZixcbiAqICB2aWV3cG9ydFJlY3Q6ICEuLi8uLi9sYXlvdXQtcmVjdC5MYXlvdXRSZWN0RGVmLFxuICogIHJlbGF0aXZlUG9zOiBzdHJpbmcsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFBvc2l0aW9uSW5WaWV3cG9ydEVudHJ5RGVmO1xuXG5leHBvcnQgY2xhc3MgUG9zaXRpb25PYnNlcnZlcldvcmtlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7IVBvc2l0aW9uT2JzZXJ2ZXJGaWRlbGl0eX0gZmlkZWxpdHlcbiAgICogQHBhcmFtIHtmdW5jdGlvbig/UG9zaXRpb25JblZpZXdwb3J0RW50cnlEZWYpfSBoYW5kbGVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhbXBkb2MsIGVsZW1lbnQsIGZpZGVsaXR5LCBoYW5kbGVyKSB7XG4gICAgLyoqIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgIC8qKiBAY29uc3Qge2Z1bmN0aW9uKD9Qb3NpdGlvbkluVmlld3BvcnRFbnRyeURlZil9ICovXG4gICAgdGhpcy5oYW5kbGVyXyA9IGhhbmRsZXI7XG5cbiAgICAvKiogQHR5cGUgeyFQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHl9ICovXG4gICAgdGhpcy5maWRlbGl0eSA9IGZpZGVsaXR5O1xuXG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpcy50dXJuID0gKGZpZGVsaXR5ID09IFBvc2l0aW9uT2JzZXJ2ZXJGaWRlbGl0eS5MT1cpID9cbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExPV19GSURFTElUWV9GUkFNRV9DT1VOVCkgOiAwO1xuXG4gICAgLyoqIEB0eXBlIHs/UG9zaXRpb25JblZpZXdwb3J0RW50cnlEZWZ9ICovXG4gICAgdGhpcy5wcmV2UG9zaXRpb25fID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL3ZpZXdwb3J0L3ZpZXdwb3J0LWltcGwuVmlld3BvcnR9ICovXG4gICAgdGhpcy52aWV3cG9ydF8gPSBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyhhbXBkb2MpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgdG8gdHJpZ2dlciBhbiBlbnRyeSBoYW5kbGVyXG4gICAqIEBwYXJhbSB7IVBvc2l0aW9uSW5WaWV3cG9ydEVudHJ5RGVmfSBwb3NpdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJpZ2dlcl8ocG9zaXRpb24pIHtcbiAgICBjb25zdCBwcmV2UG9zID0gdGhpcy5wcmV2UG9zaXRpb25fO1xuICAgIGlmIChwcmV2UG9zXG4gICAgICAgICYmIGxheW91dFJlY3RFcXVhbHMocHJldlBvcy5wb3NpdGlvblJlY3QsIHBvc2l0aW9uLnBvc2l0aW9uUmVjdClcbiAgICAgICAgJiYgbGF5b3V0UmVjdEVxdWFscyhwcmV2UG9zLnZpZXdwb3J0UmVjdCwgcG9zaXRpb24udmlld3BvcnRSZWN0KSkge1xuICAgICAgLy8gcG9zaXRpb24gZGlkbid0IGNoYW5nZSwgZG8gbm90aGluZy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkZXYoKS5hc3NlcnQocG9zaXRpb24ucG9zaXRpb25SZWN0LFxuICAgICAgICAnUG9zaXRpb25PYnNlcnZlciBzaG91bGQgYWx3YXlzIHRyaWdnZXIgZW50cnkgd2l0aCBjbGllbnRSZWN0Jyk7XG4gICAgY29uc3QgcG9zaXRpb25SZWN0ID1cbiAgICAvKiogQHR5cGUgeyEuLi8uLi9sYXlvdXQtcmVjdC5MYXlvdXRSZWN0RGVmfSAqLyAocG9zaXRpb24ucG9zaXRpb25SZWN0KTtcbiAgICAvLyBBZGQgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IHRvIGl0cyB2aWV3cG9ydFxuICAgIHBvc2l0aW9uLnJlbGF0aXZlUG9zID0gbGF5b3V0UmVjdHNSZWxhdGl2ZVBvcyhwb3NpdGlvblJlY3QsXG4gICAgICAgIHBvc2l0aW9uLnZpZXdwb3J0UmVjdCk7XG5cbiAgICBpZiAobGF5b3V0UmVjdHNPdmVybGFwKHBvc2l0aW9uUmVjdCwgcG9zaXRpb24udmlld3BvcnRSZWN0KSkge1xuICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICB0aGlzLnByZXZQb3NpdGlvbl8gPSBwb3NpdGlvbjtcbiAgICAgIC8vIE9ubHkgY2FsbCBoYW5kbGVyIGlmIGVudHJ5IGVsZW1lbnQgb3ZlcmxhcCB3aXRoIHZpZXdwb3J0LlxuICAgICAgdGhpcy5oYW5kbGVyXyhwb3NpdGlvbik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByZXZQb3NpdGlvbl8pIHtcbiAgICAgIC8vIE5lZWQgdG8gbm90aWZ5IHRoYXQgZWxlbWVudCBnZXRzIG91dHNpZGUgdmlld3BvcnRcbiAgICAgIC8vIE5PVEU6IFRoaXMgaXMgcmVxdWlyZWQgZm9yIGluYWJveCBwb3NpdGlvbiBvYnNlcnZlci5cbiAgICAgIHRoaXMucHJldlBvc2l0aW9uXyA9IG51bGw7XG4gICAgICBwb3NpdGlvbi5wb3NpdGlvblJlY3QgPSBudWxsO1xuICAgICAgdGhpcy5oYW5kbGVyXyhwb3NpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvIHVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgZW50cnkgZWxlbWVudCB3aGVuIGl0IGlzIHJlYWR5LlxuICAgKiBDYWxsZWQgd2hlbiB1cGRhdGVBbGxFbnRyaWVzLCBvciB3aGVuIGZpcnN0IG9ic2VydmUgYW4gZWxlbWVudC5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2ZvcmNlXG4gICAqL1xuICB1cGRhdGUob3B0X2ZvcmNlKSB7XG4gICAgaWYgKCFvcHRfZm9yY2UpIHtcbiAgICAgIGlmICh0aGlzLnR1cm4gIT0gMCkge1xuICAgICAgICB0aGlzLnR1cm4tLTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5maWRlbGl0eSA9PSBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHkuTE9XKSB7XG4gICAgICAgIHRoaXMudHVybiA9IExPV19GSURFTElUWV9GUkFNRV9DT1VOVDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2aWV3cG9ydFNpemUgPSB0aGlzLnZpZXdwb3J0Xy5nZXRTaXplKCk7XG4gICAgY29uc3Qgdmlld3BvcnRCb3ggPVxuICAgICAgICBsYXlvdXRSZWN0THR3aCgwLCAwLCB2aWV3cG9ydFNpemUud2lkdGgsIHZpZXdwb3J0U2l6ZS5oZWlnaHQpO1xuICAgIHRoaXMudmlld3BvcnRfLmdldENsaWVudFJlY3RBc3luYyh0aGlzLmVsZW1lbnQpLnRoZW4oZWxlbWVudEJveCA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXJfKFxuICAgICAgLyoqIEB0eXBlIHsuL3Bvc2l0aW9uLW9ic2VydmVyLXdvcmtlci5Qb3NpdGlvbkluVmlld3BvcnRFbnRyeURlZn0qLyAoe1xuICAgICAgICAgICAgcG9zaXRpb25SZWN0OiBlbGVtZW50Qm94LFxuICAgICAgICAgICAgdmlld3BvcnRSZWN0OiB2aWV3cG9ydEJveCxcbiAgICAgICAgICAgIHJlbGF0aXZlUG9zOiAnJyxcbiAgICAgICAgICB9KSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cbi8qKiBAdHlwZWRlZiB7Li4vdmlkZW8taW50ZXJmYWNlLlZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZn0gKi9cbmxldCBWaWRlb0FuYWx5dGljc0RldGFpbHNEZWY7IC8vIGFsaWFzIGZvciBsaW5lIGxlbmd0aFxuXG5cbi8qKiBAaW50ZXJmYWNlICovXG5leHBvcnQgY2xhc3MgVmlkZW9TZXJ2aWNlSW50ZXJmYWNlIHtcblxuICAvKiogQHBhcmFtIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSB1bnVzZWRWaWRlbyAqL1xuICByZWdpc3Rlcih1bnVzZWRWaWRlbykge31cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBhbmFseXRpY3MgZGV0YWlscyBmb3IgdGhlIGdpdmVuIHZpZGVvLlxuICAgKiBGYWlscyBzaWxlbnRseSBpZiB0aGUgdmlkZW8gaXMgbm90IHJlZ2lzdGVyZWQuXG4gICAqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IHVudXNlZFZpZGVvXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFWaWRlb0FuYWx5dGljc0RldGFpbHNEZWY+fCFQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgZ2V0QW5hbHl0aWNzRGV0YWlscyh1bnVzZWRWaWRlbykge31cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSB1bnVzZWRWaWRlb1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNNdXRlZCh1bnVzZWRWaWRlbykge31cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSB1bnVzZWRWaWRlb1xuICAgKiBAcmV0dXJuIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSBQbGF5aW5nU3RhdGVzXG4gICAqL1xuICBnZXRQbGF5aW5nU3RhdGUodW51c2VkVmlkZW8pIHt9XG59XG5cblxuLyoqIEBlbnVtIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgVmlkZW9TZXJ2aWNlU2lnbmFscyA9IHtcbiAgVVNFUl9JTlRFUkFDVEVEOiAndXNlci1pbnRlcmFjdGVkJyxcbiAgQVVUT1BMQVlfREVMRUdBVEVEOiAnYXV0b3BsYXktZGVsZWdhdGVkJyxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBdXRvcGxheSwgQXV0b3BsYXlFdmVudHN9IGZyb20gJy4vdmlkZW8vYXV0b3BsYXknO1xuaW1wb3J0IHtQbGF5aW5nU3RhdGVzLCBWaWRlb0F0dHJpYnV0ZXMsIFZpZGVvRXZlbnRzfSBmcm9tICcuLi92aWRlby1pbnRlcmZhY2UnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vc2VydmljZXMnO1xuaW1wb3J0IHtWaWRlb1NlcnZpY2VTaWduYWxzfSBmcm9tICcuL3ZpZGVvLXNlcnZpY2UtaW50ZXJmYWNlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi9sb2cnO1xuaW1wb3J0IHtnZXRBbXBkb2N9IGZyb20gJy4uL3NlcnZpY2UnO1xuaW1wb3J0IHtnZXRFbGVtZW50U2VydmljZUZvckRvY30gZnJvbSAnLi4vZWxlbWVudC1zZXJ2aWNlJztcbmltcG9ydCB7aXNFeHBlcmltZW50T259IGZyb20gJy4uL2V4cGVyaW1lbnRzJztcbmltcG9ydCB7bGlzdGVuLCBsaXN0ZW5PbmNlUHJvbWlzZX0gZnJvbSAnLi4vZXZlbnQtaGVscGVyJztcbmltcG9ydCB7b25jZX0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb24nO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEVYVEVOU0lPTiA9ICdhbXAtdmlkZW8tc2VydmljZSc7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVEFHID0gJ3ZpZGVvLXNlcnZpY2UnO1xuXG5cbi8qKlxuICogQHR5cGVkZWZcbiAqIHsuLi8uLi9leHRlbnNpb25zL2FtcC12aWRlby1zZXJ2aWNlLzAuMS9hbXAtdmlkZW8tc2VydmljZS5WaWRlb1NlcnZpY2V9XG4gKi9cbmxldCBWaWRlb1NlcnZpY2VEZWY7IC8vIGFsaWFzIGZvciBsaW5lIGxlbmd0aC5cblxuXG4vKipcbiAqIFByb3ZpZGVzIHVuaWZpZWQgYmVoYXZpb3IgZm9yIGFsbCB2aWRlb3MgcmVnYXJkbGVzcyBvZiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgYSBmYcOnYWRlIGFyb3VuZCBhbiBhc3luYy1sb2FkZWQgaW1wbGVtZW50YXRpb24uXG4gKiBTZWUge0BsaW5rIEFtcFZpZGVvU2VydmljZX0gZm9yIHRoZSB1bmRlcmx5aW5nIHNlcnZpY2UuXG4gKlxuICogVGhpcyBjby1lZXhpc3RzIHdpdGggYFZpZGVvTWFuYWdlcmAgKGRlcHJlY2F0ZWQpIHdoaWxlIHRoZSBpbXBsZW1lbnRhdGlvblxuICogaXMgbWlncmF0ZWQuXG4gKlxuICogQGltcGxlbWVudHMgey4vdmlkZW8tc2VydmljZS1pbnRlcmZhY2UuVmlkZW9TZXJ2aWNlSW50ZXJmYWNlfVxuICovXG5leHBvcnQgY2xhc3MgVmlkZW9TZXJ2aWNlU3luYyB7XG5cbiAgLyoqIEBwYXJhbSB7IS4vYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2MgKi9cbiAgY29uc3RydWN0b3IoYW1wZG9jKSB7XG4gICAgY29uc3Qge3dpbn0gPSBhbXBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXBkb2MtaW1wbC5BbXBEb2N9ICovXG4gICAgdGhpcy5hbXBkb2NfID0gYW1wZG9jO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IVZpZGVvU2VydmljZURlZj59ICAqL1xuICAgIHRoaXMuYXN5bmNJbXBsXyA9IFZpZGVvU2VydmljZVN5bmMudmlkZW9TZXJ2aWNlRm9yKHdpbiwgYW1wZG9jKTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFBdXRvcGxheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZ2V0QXV0b3BsYXlfID0gb25jZSgoKSA9PiBuZXcgQXV0b3BsYXkodGhpcy5hbXBkb2NfKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAqL1xuICBzdGF0aWMgc2hvdWxkQmVVc2VkSW4od2luKSB7XG4gICAgcmV0dXJuIGlzRXhwZXJpbWVudE9uKHdpbiwgJ3ZpZGVvLXNlcnZpY2UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFOb2RlfCEuL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFWaWRlb1NlcnZpY2VEZWY+fVxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIHN0YXRpYyB2aWRlb1NlcnZpY2VGb3Iod2luLCBub2RlT3JEb2MpIHtcbiAgICAvLyBOb3QgZXhwb3NlZCBpbiAuLi9zZXJ2aWNlcy5qcyBzaW5jZSB3ZSBkb24ndCB3YW50IG90aGVyIG1vZHVsZXMgdG9cbiAgICAvLyBpbnN0YW50aWF0ZSBvciBhY2Nlc3MgdGhlIHNlcnZpY2UuXG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IFNlcnZpY2VzLmV4dGVuc2lvbnNGb3Iod2luKTtcbiAgICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2Mobm9kZU9yRG9jKTtcbiAgICByZXR1cm4gZXh0ZW5zaW9ucy5pbnN0YWxsRXh0ZW5zaW9uRm9yRG9jKGFtcGRvYywgRVhURU5TSU9OKVxuICAgICAgICAudGhlbigoKSA9PiAvKiogQHR5cGUgeyFQcm9taXNlPCFWaWRlb1NlcnZpY2VEZWY+fSAqLyAoXG4gICAgICAgICAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoYW1wZG9jLCAndmlkZW8tc2VydmljZScsIEVYVEVOU0lPTikpKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVnaXN0ZXIodmlkZW8pIHtcbiAgICB0aGlzLmFzeW5jSW1wbF8udGhlbihpbXBsID0+XG4gICAgICBpbXBsLnJlZ2lzdGVyKHZpZGVvKSk7XG5cbiAgICB0aGlzLm1heWJlSW5zdGFsbEF1dG9wbGF5Xyh2aWRlbyk7XG5cbiAgICBuZXcgVmlkZW9FbnRyeSh2aWRlbyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7IS4uL3ZpZGVvLWludGVyZmFjZS5WaWRlb09yQmFzZUVsZW1lbnREZWZ9IHZpZGVvXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtYXliZUluc3RhbGxBdXRvcGxheV8odmlkZW8pIHtcbiAgICBpZiAoIXZpZGVvLmVsZW1lbnQuaGFzQXR0cmlidXRlKFZpZGVvQXR0cmlidXRlcy5BVVRPUExBWSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmdldEF1dG9wbGF5XygpLnJlZ2lzdGVyKHZpZGVvKTtcblxuICAgIGNvbnN0IGF1dG9wbGF5RGVsZWdhdGVkID0gVmlkZW9TZXJ2aWNlU2lnbmFscy5BVVRPUExBWV9ERUxFR0FURUQ7XG4gICAgdmlkZW8uc2lnbmFscygpLndoZW5TaWduYWwoYXV0b3BsYXlEZWxlZ2F0ZWQpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5nZXRBdXRvcGxheV8oKS5kZWxlZ2F0ZSh2aWRlby5lbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBbXBFbGVtZW50fCEuLi9iYXNlLWVsZW1lbnQuQmFzZUVsZW1lbnR9IHZpZGVvXG4gICAqL1xuICBzdGF0aWMgZGVsZWdhdGVBdXRvcGxheSh2aWRlbykge1xuICAgIHZpZGVvLnNpZ25hbHMoKS5zaWduYWwoVmlkZW9TZXJ2aWNlU2lnbmFscy5BVVRPUExBWV9ERUxFR0FURUQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRBbmFseXRpY3NEZXRhaWxzKHZpZGVvKSB7XG4gICAgcmV0dXJuIHRoaXMuYXN5bmNJbXBsXy50aGVuKGltcGwgPT5cbiAgICAgIGltcGwuZ2V0QW5hbHl0aWNzRGV0YWlscyh2aWRlbykpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpc011dGVkKHVudXNlZFZpZGVvKSB7XG4gICAgZGV2KCkud2FybihUQUcsICdpc011dGVkIGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UGxheWluZ1N0YXRlKHVudXNlZFZpZGVvKSB7XG4gICAgZGV2KCkud2FybihUQUcsICdnZXRQbGF5aW5nU3RhdGUgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gICAgcmV0dXJuIFBsYXlpbmdTdGF0ZXMuUEFVU0VEO1xuICB9XG59XG5cblxuLyoqIEB2aXNpYmxlRm9yVGVzdGluZyAqL1xuZXhwb3J0IGNsYXNzIFZpZGVvRW50cnkge1xuXG4gIC8qKiBAcGFyYW0geyEuLi92aWRlby1pbnRlcmZhY2UuVmlkZW9PckJhc2VFbGVtZW50RGVmfSB2aWRlbyAqL1xuICBjb25zdHJ1Y3Rvcih2aWRlbykge1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3ZpZGVvLWludGVyZmFjZS5WaWRlb09yQmFzZUVsZW1lbnREZWZ9ICovXG4gICAgdGhpcy52aWRlb18gPSB2aWRlbztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBbXBFbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSB2aWRlby5lbGVtZW50O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2V9ICovXG4gICAgdGhpcy5sb2FkUHJvbWlzZV8gPSBsaXN0ZW5PbmNlUHJvbWlzZSh0aGlzLmVsZW1lbnRfLCBWaWRlb0V2ZW50cy5MT0FEKTtcblxuICAgIHRoaXMubGlzdGVuVG9BdXRvcGxheUV2ZW50c18oKTtcblxuICAgIHNldFZpZGVvQ29tcG9uZW50Q2xhc3NuYW1lKHRoaXMuZWxlbWVudF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCl9IGhhbmRsZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxpc3Rlbk9uTG9hZF8oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBsaXN0ZW4odGhpcy5lbGVtZW50XywgZXZlbnQsIGUgPT4ge1xuICAgICAgdGhpcy5sb2FkUHJvbWlzZV8udGhlbigoKSA9PiB7XG4gICAgICAgIGhhbmRsZXIoZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBsaXN0ZW5Ub0F1dG9wbGF5RXZlbnRzXygpIHtcbiAgICAvLyBUT0RPKGFsYW5vcm96Y28pOiBLZWVwIHRyYWNrIG9mIHNlc3Npb25cbiAgICB0aGlzLmxpc3Rlbk9uTG9hZF8oQXV0b3BsYXlFdmVudHMuUExBWSwgKCkgPT4ge1xuICAgICAgdGhpcy52aWRlb18ucGxheSgvKiBhdXRvICovIHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5saXN0ZW5PbkxvYWRfKEF1dG9wbGF5RXZlbnRzLlBBVVNFLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZGVvXy5wYXVzZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VmlkZW9Db21wb25lbnRDbGFzc25hbWUoZWxlbWVudCkge1xuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC12aWRlby1jb21wb25lbnQnKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBNSU5fVklTSUJJTElUWV9SQVRJT19GT1JfQVVUT1BMQVksXG4gIFZpZGVvRXZlbnRzLFxufSBmcm9tICcuLi8uLi92aWRlby1pbnRlcmZhY2UnO1xuaW1wb3J0IHtcbiAgUG9zaXRpb25PYnNlcnZlckZpZGVsaXR5LFxufSBmcm9tICcuLi9wb3NpdGlvbi1vYnNlcnZlci9wb3NpdGlvbi1vYnNlcnZlci13b3JrZXInO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vc2VydmljZXMnO1xuaW1wb3J0IHtWaWRlb1NlcnZpY2VTaWduYWxzfSBmcm9tICcuLi92aWRlby1zZXJ2aWNlLWludGVyZmFjZSc7XG5pbXBvcnQge1ZpZGVvVXRpbHN9IGZyb20gJy4uLy4uL3V0aWxzL3ZpZGVvJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi9sb2cnO1xuaW1wb3J0IHtnZXREYXRhLCBsaXN0ZW4sIGxpc3Rlbk9uY2V9IGZyb20gJy4uLy4uL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4uLy4uL21vZGUnO1xuaW1wb3J0IHtnZXRTZXJ2aWNlRm9yRG9jfSBmcm9tICcuLi8uLi9zZXJ2aWNlJztcbmltcG9ydCB7aHRtbEZvcn0gZnJvbSAnLi4vLi4vc3RhdGljLXRlbXBsYXRlJztcbmltcG9ydCB7aW5zdGFsbEF1dG9wbGF5U3R5bGVzRm9yRG9jfSBmcm9tICcuL2luc3RhbGwtYXV0b3BsYXktc3R5bGVzJztcbmltcG9ydCB7XG4gIGluc3RhbGxQb3NpdGlvbk9ic2VydmVyU2VydmljZUZvckRvYyxcbn0gZnJvbSAnLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbCc7XG5pbXBvcnQge2lzRmluaXRlTnVtYmVyfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge29uY2V9IGZyb20gJy4uLy4uL3V0aWxzL2Z1bmN0aW9uJztcbmltcG9ydCB7cmVtb3ZlRWxlbWVudH0gZnJvbSAnLi4vLi4vZG9tJztcblxuXG4vKiogQHByaXZhdGUgQGVudW0ge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBBdXRvcGxheUV2ZW50cyA9IHtcbiAgUExBWTogJ2FtcDphdXRvcGxheScsXG4gIFBBVVNFOiAnYW1wOmF1dG9wYXVzZScsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjbG9uZURlZXAobm9kZSkge1xuICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudChub2RlLmNsb25lTm9kZSgvKiBkZWVwICovIHRydWUpKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIVdpbmRvdywgIUVsZW1lbnQpOiFFbGVtZW50fSByZW5kZXJGblxuICogQHJldHVybiB7ZnVuY3Rpb24oIVdpbmRvdywgIUVsZW1lbnQpOiFFbGVtZW50fVxuICovXG5mdW5jdGlvbiByZW5kZXJPckNsb25lKHJlbmRlckZuKSB7XG4gIGNvbnN0IHNlZWRGbiA9IG9uY2UocmVuZGVyRm4pO1xuICByZXR1cm4gKHdpbiwgZG9jKSA9PiBjbG9uZURlZXAoc2VlZEZuKHdpbiwgZG9jKSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHVudXNlZFdpblxuICogQHBhcmFtIHshRWxlbWVudHwhRG9jdW1lbnR9IGVsT3JEb2NcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySW50ZXJhY3Rpb25PdmVybGF5KHVudXNlZFdpbiwgZWxPckRvYykge1xuICBjb25zdCBodG1sID0gaHRtbEZvcihlbE9yRG9jKTtcbiAgcmV0dXJuIGh0bWxgPGktYW1waHRtbC12aWRlby1tYXNrIGNsYXNzPVwiaS1hbXBodG1sLWZpbGwtY29udGVudFwiIHJvbGU9YnV0dG9uPlxuICAgIDwvaS1hbXBodG1sLXZpZGVvLW1hc2s+YDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFFbGVtZW50fCFEb2N1bWVudH0gZWxPckRvY1xuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJJY29uKHdpbiwgZWxPckRvYykge1xuICBjb25zdCBpY29uID0gaHRtbEZvcihlbE9yRG9jKWA8aS1hbXBodG1sLXZpZGVvLWljb24gY2xhc3M9XCJhbXAtdmlkZW8tZXFcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYW1wLXZpZGVvLWVxLWNvbFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImFtcC12aWRlby1lcS1maWxsZXJcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJhbXAtdmlkZW8tZXEtZmlsbGVyXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvaS1hbXBodG1sLXZpZGVvLWljb24+YDtcblxuICAvLyBDb3B5IGVxdWFsaXplciBjb2x1bW4gNHggYW5kIGFubm90YXRlIGZpbGxlciBwb3NpdGlvbnMgZm9yIGFuaW1hdGlvbi5cbiAgY29uc3QgZmlyc3RDb2wgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGljb24uZmlyc3RFbGVtZW50Q2hpbGQpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGNvbnN0IGNvbCA9IGNsb25lRGVlcChmaXJzdENvbCk7XG4gICAgY29uc3QgZmlsbGVycyA9IGNvbC5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpbGxlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGZpbGxlciA9IGZpbGxlcnNbal07XG4gICAgICBmaWxsZXIuY2xhc3NMaXN0LmFkZChgYW1wLXZpZGVvLWVxLSR7aSArIDF9LSR7aiArIDF9YCk7XG4gICAgfVxuICAgIGljb24uYXBwZW5kQ2hpbGQoY29sKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBzZWVkIGNvbHVtbi5cbiAgcmVtb3ZlRWxlbWVudChmaXJzdENvbCk7XG5cbiAgaWYgKFNlcnZpY2VzLnBsYXRmb3JtRm9yKHdpbikuaXNJb3MoKSkge1xuICAgIC8vIGlPUyBpcyB1bmFibGUgdG8gcGF1c2UgaGFyZHdhcmUgYWNjZWxlcmF0ZWQgYW5pbWF0aW9ucy5cbiAgICBpY29uLnNldEF0dHJpYnV0ZSgndW5wYXVzYWJsZScsICcnKTtcbiAgfVxuXG4gIHJldHVybiBpY29uO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB1bnVzZWRXaW5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IURvY3VtZW50fSBlbE9yRG9jXG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuY29uc3QgcmVuZGVyT3JDbG9uZUludGVyYWN0aW9uT3ZlcmxheSA9IHJlbmRlck9yQ2xvbmUocmVuZGVySW50ZXJhY3Rpb25PdmVybGF5KTtcblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gdW51c2VkV2luXG4gKiBAcGFyYW0geyFFbGVtZW50fCFEb2N1bWVudH0gZWxPckRvY1xuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmNvbnN0IHJlbmRlck9yQ2xvbmVJY29uID0gcmVuZGVyT3JDbG9uZShyZW5kZXJJY29uKTtcblxuXG4vKiogTWFuYWdlcyBhdXRvcGxheSB2aWRlby4gKi9cbmV4cG9ydCBjbGFzcyBBdXRvcGxheSB7XG5cbiAgLyoqIEBwYXJhbSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYykge1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gKi9cbiAgICB0aGlzLmFtcGRvY18gPSBhbXBkb2M7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbC5Qb3NpdGlvbk9ic2VydmVyfVxuICAgICAqIEByZXN0cmljdGVkXG4gICAgICovXG4gICAgdGhpcy5nZXRQb3NpdGlvbk9ic2VydmVyXyA9IG9uY2UoKCkgPT4gdGhpcy5pbnN0YWxsUG9zaXRpb25PYnNlcnZlcl8oKSk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8IUF1dG9wbGF5RW50cnk+fSAqL1xuICAgIHRoaXMuZW50cmllc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFQcm9taXNlPGJvb2xlYW4+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pc1N1cHBvcnRlZF8gPSBvbmNlKCgpID0+IHtcbiAgICAgIC8vIENhbid0IGRlc3RydWN0dXJlIGFzIHRoZSBjb21waWxlciBleHBlY3RzIGRpcmVjdCBtZW1iZXIgYWNjZXNzIGZvclxuICAgICAgLy8gYGdldE1vZGVgLlxuICAgICAgY29uc3Qge3dpbn0gPSB0aGlzLmFtcGRvY187XG4gICAgICBjb25zdCBpc0xpdGUgPSBnZXRNb2RlKHdpbikubGl0ZTtcbiAgICAgIHJldHVybiBWaWRlb1V0aWxzLmlzQXV0b3BsYXlTdXBwb3J0ZWQod2luLCAvKiBpc0xpdGVNb2RlICovIGlzTGl0ZSk7XG4gICAgfSk7XG5cbiAgICBpbnN0YWxsQXV0b3BsYXlTdHlsZXNGb3JEb2ModGhpcy5hbXBkb2NfKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBpbnN0YWxsUG9zaXRpb25PYnNlcnZlcl8oKSB7XG4gICAgaW5zdGFsbFBvc2l0aW9uT2JzZXJ2ZXJTZXJ2aWNlRm9yRG9jKHRoaXMuYW1wZG9jXyk7XG4gICAgLy8gTm8gZ2V0dGVyIGluIHNlcnZpY2VzLmpzLlxuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge1xuICAgICAgICogICAhLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbC5Qb3NpdGlvbk9ic2VydmVyXG4gICAgICAgKiB9ICovIChnZXRTZXJ2aWNlRm9yRG9jKHRoaXMuYW1wZG9jXywgJ3Bvc2l0aW9uLW9ic2VydmVyJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi8uLi92aWRlby1pbnRlcmZhY2UuVmlkZW9PckJhc2VFbGVtZW50RGVmfSB2aWRlb1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/QXV0b3BsYXlFbnRyeT59IGBudWxsYCB3aGVuIHVuc3VwcG9ydGVkLlxuICAgKi9cbiAgcmVnaXN0ZXIodmlkZW8pIHtcbiAgICAvLyBDb250cm9scyBhcmUgaGlkZGVuIGJlZm9yZSBzdXBwb3J0IGlzIGRldGVybWluZWQgdG8gcHJldmVudCB2aXN1YWwganVtcFxuICAgIC8vIGZvciB0aGUgY29tbW9uIGNhc2Ugd2hlcmUgYXV0b3BsYXkgaXMgc3VwcG9ydGVkLlxuICAgIGlmICh2aWRlby5pc0ludGVyYWN0aXZlKCkpIHtcbiAgICAgIHZpZGVvLmhpZGVDb250cm9scygpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmlzU3VwcG9ydGVkXygpLnRoZW4oaXNTdXBwb3J0ZWQgPT4ge1xuICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAvLyBEaXNhYmxlIGF1dG9wbGF5XG4gICAgICAgIGlmICh2aWRlby5pc0ludGVyYWN0aXZlKCkpIHtcbiAgICAgICAgICB2aWRlby5zaG93Q29udHJvbHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gQXV0b3BsYXlFbnRyeS5jcmVhdGUodGhpcywgdmlkZW8pO1xuICAgICAgdGhpcy5lbnRyaWVzXy5wdXNoKGVudHJ5KTtcbiAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICBkZWxlZ2F0ZShlbGVtZW50KSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmdldEVudHJ5Rm9yXyhlbGVtZW50KTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVudHJ5LmRlbGVnYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHs/QXV0b3BsYXlFbnRyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEVudHJ5Rm9yXyhlbGVtZW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVudHJpZXNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50cmllc19baV07XG4gICAgICBpZiAoZW50cnkudmlkZW8uZWxlbWVudCA9PSBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuXG4vKiogQHZpc2libGVGb3JUZXN0aW5nICovXG5leHBvcnQgY2xhc3MgQXV0b3BsYXlFbnRyeSB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gICAqIEBwYXJhbSB7XG4gICAqICAgIS4uL3Bvc2l0aW9uLW9ic2VydmVyL3Bvc2l0aW9uLW9ic2VydmVyLWltcGwuUG9zaXRpb25PYnNlcnZlclxuICAgKiB9IHBvc2l0aW9uT2JzZXJ2ZXJcbiAgICogQHBhcmFtIHshLi4vLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvT3JCYXNlRWxlbWVudERlZn0gdmlkZW9cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYywgcG9zaXRpb25PYnNlcnZlciwgdmlkZW8pIHtcblxuICAgIC8qKiBAY29uc3QgeyEuLi8uLi92aWRlby1pbnRlcmZhY2UuVmlkZW9PckJhc2VFbGVtZW50RGVmfSAqL1xuICAgIHRoaXMudmlkZW8gPSB2aWRlbztcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jfSAqL1xuICAgIHRoaXMuYW1wZG9jXyA9IGFtcGRvYztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBbXBFbGVtZW50fSAgKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gdmlkZW8uZWxlbWVudDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzVmlzaWJsZV8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0FycmF5PCFVbmxpc3RlbkRlZj59ICovXG4gICAgdGhpcy52aXNpYmlsaXR5VW5saXN0ZW5lcnNfID0gW1xuICAgICAgdGhpcy5vYnNlcnZlT25fKHBvc2l0aW9uT2JzZXJ2ZXIpLFxuICAgICAgdGhpcy5saXN0ZW5Ub1Zpc2liaWxpdHlDaGFuZ2VfKCksXG4gICAgXTtcblxuICAgIC8vIE9ubHkgbXV0ZWQgdmlkZW9zIGFyZSBhbGxvd2VkIHRvIGF1dG9wbGF5XG4gICAgdmlkZW8ubXV0ZSgpO1xuICAgIHZpZGVvLmhpZGVDb250cm9scygpO1xuXG4gICAgdGhpcy5hdHRhY2hBcnRpZmFjdHNfKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXV0b3BsYXl9IG1hbmFnZXJcbiAgICogQHBhcmFtIHshLi4vLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvT3JCYXNlRWxlbWVudERlZn0gdmlkZW9cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUobWFuYWdlciwgdmlkZW8pIHtcbiAgICByZXR1cm4gbmV3IEF1dG9wbGF5RW50cnkoXG4gICAgICAgIG1hbmFnZXIuYW1wZG9jXywgbWFuYWdlci5nZXRQb3NpdGlvbk9ic2VydmVyXygpLCB2aWRlbyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtcbiAgICogICAhLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbC5Qb3NpdGlvbk9ic2VydmVyXG4gICAqIH0gcG9zaXRpb25PYnNlcnZlclxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvYnNlcnZlT25fKHBvc2l0aW9uT2JzZXJ2ZXIpIHtcbiAgICByZXR1cm4gcG9zaXRpb25PYnNlcnZlci5vYnNlcnZlKFxuICAgICAgICB0aGlzLmVsZW1lbnRfLFxuICAgICAgICBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHkuSElHSCxcbiAgICAgICAgKCkgPT4gdGhpcy5vblBvc2l0aW9uQ2hhbmdlXygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsaXN0ZW5Ub1Zpc2liaWxpdHlDaGFuZ2VfKCkge1xuICAgIHJldHVybiBsaXN0ZW4odGhpcy5lbGVtZW50XywgVmlkZW9FdmVudHMuVklTSUJJTElUWSwgZSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZ2V0RGF0YShlKTtcbiAgICAgIGNvbnN0IGVuZm9yY2VkQnlFdmVudCA9IGRhdGEgJiYgZGF0YVsndmlzaWJsZSddO1xuICAgICAgaWYgKGVuZm9yY2VkQnlFdmVudCAmJiAhdGhpcy5pc1Zpc2libGVfKSB7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlXyA9IGVuZm9yY2VkQnlFdmVudDtcbiAgICAgICAgdGhpcy50cmlnZ2VyXygvKiBpc1BsYXlpbmcgKi8gZW5mb3JjZWRCeUV2ZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy50cmlnZ2VyQnlWaXNpYmlsaXR5XygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGVnYXRlcyBhdXRvcGxheSBzbyB0aGF0IGl0J3MgdHJpZ2dlcmVkIGJ5IGEgZGlmZmVyZW50IG1vZHVsZS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZGVsZWdhdGUoKSB7XG4gICAgdGhpcy5kaXNhYmxlVHJpZ2dlckJ5VmlzaWJpbGl0eV8oKTtcbiAgICB0aGlzLnZpZGVvLnBhdXNlKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25Qb3NpdGlvbkNoYW5nZV8oKSB7XG4gICAgdGhpcy50cmlnZ2VyQnlWaXNpYmlsaXR5XygpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHRyaWdnZXJCeVZpc2liaWxpdHlfKCkge1xuICAgIGNvbnN0IHJhdGlvID0gdGhpcy5lbGVtZW50Xy5nZXRJbnRlcnNlY3Rpb25DaGFuZ2VFbnRyeSgpLmludGVyc2VjdGlvblJhdGlvO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9ICghaXNGaW5pdGVOdW1iZXIocmF0aW8pID8gMCA6IHJhdGlvKSA+PVxuICAgICAgICBNSU5fVklTSUJJTElUWV9SQVRJT19GT1JfQVVUT1BMQVk7XG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlXyA9PSBpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc1Zpc2libGVfID0gaXNWaXNpYmxlO1xuICAgIHRoaXMudHJpZ2dlcl8oLyogaXNQbGF5aW5nICovIGlzVmlzaWJsZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1BsYXlpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXJfKGlzUGxheWluZykge1xuICAgIHRoaXMuZWxlbWVudF8uZGlzcGF0Y2hDdXN0b21FdmVudChcbiAgICAgICAgaXNQbGF5aW5nID8gQXV0b3BsYXlFdmVudHMuUExBWSA6IEF1dG9wbGF5RXZlbnRzLlBBVVNFKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhdHRhY2hBcnRpZmFjdHNfKCkge1xuICAgIC8vIFRPRE8oYWxhbm9yb3pjbyk6IEFEX1NUQVJULCBBRF9FTkRcbiAgICBjb25zdCB7dmlkZW99ID0gdGhpcztcbiAgICBjb25zdCBzaWduYWxzID0gdmlkZW8uc2lnbmFscygpO1xuICAgIGNvbnN0IHVzZXJJbnRlcmFjdGVkID0gVmlkZW9TZXJ2aWNlU2lnbmFscy5VU0VSX0lOVEVSQUNURUQ7XG5cbiAgICBpZiAoc2lnbmFscy5nZXQodXNlckludGVyYWN0ZWQpICE9IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7d2lufSA9IHRoaXMuYW1wZG9jXztcblxuICAgIGNvbnN0IGljb24gPSByZW5kZXJPckNsb25lSWNvbih3aW4sIHRoaXMuZWxlbWVudF8pO1xuXG4gICAgdmlkZW8ubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGljb24pO1xuICAgIH0pO1xuXG4gICAgY29uc3Qge2VsZW1lbnR9ID0gdmlkZW87XG4gICAgY29uc3QgcGxheU9yUGF1c2VJY29uQW5pbSA9IHRoaXMucGxheU9yUGF1c2VJY29uQW5pbV8uYmluZCh0aGlzLCBpY29uKTtcblxuICAgIGNvbnN0IHVubGlzdGVuZXJzID0gW1xuICAgICAgbGlzdGVuKGVsZW1lbnQsIFZpZGVvRXZlbnRzLlBMQVlJTkcsICgpID0+IHBsYXlPclBhdXNlSWNvbkFuaW0odHJ1ZSkpLFxuICAgICAgbGlzdGVuKGVsZW1lbnQsIFZpZGVvRXZlbnRzLlBBVVNFLCAoKSA9PiBwbGF5T3JQYXVzZUljb25BbmltKGZhbHNlKSksXG4gICAgXTtcblxuICAgIHNpZ25hbHMud2hlblNpZ25hbCh1c2VySW50ZXJhY3RlZCkudGhlbigoKSA9PiB7XG4gICAgICB1bmxpc3RlbmVycy5mb3JFYWNoKHVubGlzdGVuID0+IHVubGlzdGVuKCkpO1xuICAgICAgdGhpcy5vbkludGVyYWN0aW9uXygpO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnZpZGVvLmlzSW50ZXJhY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG92ZXJsYXkgPSByZW5kZXJPckNsb25lSW50ZXJhY3Rpb25PdmVybGF5KHdpbiwgdGhpcy5lbGVtZW50Xyk7XG5cbiAgICBsaXN0ZW5PbmNlKG92ZXJsYXksICdjbGljaycsICgpID0+IHNpZ25hbHMuc2lnbmFsKHVzZXJJbnRlcmFjdGVkKSk7XG5cbiAgICB2aWRlby5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25JbnRlcmFjdGlvbl8oKSB7XG4gICAgY29uc3QgbWFzayA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignaS1hbXBodG1sLXZpZGVvLW1hc2snKTtcbiAgICB0aGlzLmRpc2FibGVUcmlnZ2VyQnlWaXNpYmlsaXR5XygpO1xuICAgIGlmIChtYXNrKSB7XG4gICAgICByZW1vdmVFbGVtZW50KG1hc2spO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWRlby5pc0ludGVyYWN0aXZlKCkpIHtcbiAgICAgIHRoaXMudmlkZW8uc2hvd0NvbnRyb2xzKCk7XG4gICAgfVxuICAgIHRoaXMudmlkZW8udW5tdXRlKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgZGlzYWJsZVRyaWdnZXJCeVZpc2liaWxpdHlfKCkge1xuICAgIGlmICghdGhpcy52aXNpYmlsaXR5VW5saXN0ZW5lcnNfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudmlzaWJpbGl0eVVubGlzdGVuZXJzXy5mb3JFYWNoKHVubGlzdGVuZXIgPT4gdW5saXN0ZW5lcigpKTtcbiAgICB0aGlzLnZpc2liaWxpdHlVbmxpc3RlbmVyc18gPSBudWxsOyAvLyBHQ1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGljb25cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1BsYXlpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBsYXlPclBhdXNlSWNvbkFuaW1fKGljb24sIGlzUGxheWluZykge1xuICAgIHRoaXMudmlkZW8ubXV0YXRlRWxlbWVudCgoKSA9PlxuICAgICAgaWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhbXAtdmlkZW8tZXEtcGxheScsIGlzUGxheWluZykpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtpbnN0YWxsU3R5bGVzRm9yRG9jfSBmcm9tICcuLi8uLi9zdHlsZS1pbnN0YWxsZXInO1xuLy8gU291cmNlIGZvciB0aGlzIGNvbnN0YW50IGlzIGNzcy92aWRlby1hdXRvcGxheS5jc3NcbmltcG9ydCB7Y3NzVGV4dH0gZnJvbSAnLi4vLi4vLi4vYnVpbGQvdmlkZW8tYXV0b3BsYXkuY3NzLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSAgeyEuLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbEF1dG9wbGF5U3R5bGVzRm9yRG9jKGFtcGRvYykge1xuICBpbnN0YWxsU3R5bGVzRm9yRG9jKFxuICAgICAgYW1wZG9jLFxuICAgICAgY3NzVGV4dCxcbiAgICAgIC8qIGNhbGxiYWNrICovIG51bGwsXG4gICAgICAvKiBvcHRfaXNSdW50aW1lQ3NzICovIGZhbHNlLFxuICAgICAgLyogb3B0X2V4dCAqLyAnYW1wLXZpZGVvLWF1dG9wbGF5Jyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0QW1wZG9jLFxuICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUsXG4gIGdldEV4aXN0aW5nU2VydmljZU9yTnVsbCxcbiAgZ2V0U2VydmljZSxcbiAgZ2V0U2VydmljZUZvckRvYyxcbiAgZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQsXG4gIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jLFxufSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IHtcbiAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MsXG4gIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGUsXG4gIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2MsXG4gIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2NJbkVtYmVkU2NvcGUsXG59IGZyb20gJy4vZWxlbWVudC1zZXJ2aWNlJztcblxuLyoqIEB0eXBlZGVmIHshLi4vZXh0ZW5zaW9ucy9hbXAtc3Vic2NyaXB0aW9ucy8wLjEvYW1wLXN1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uU2VydmljZX0gKi9cbmV4cG9ydCBsZXQgU3Vic2NyaXB0aW9uU2VydmljZTtcblxuZXhwb3J0IGNsYXNzIFNlcnZpY2VzIHtcbiAgLyoqXG4gICAqIEhpbnQ6IEFkZCBleHRlbnNpb25zIGZvbGRlciBwYXRoIHRvIGNvbXBpbGUuanMgd2l0aFxuICAgKiB3YXJuaW5ncyBjYW5ub3QgZmluZCBtb2R1bGVzLlxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBBY2Nlc3Mgc2VydmljZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC1hY2Nlc3MvMC4xL2FtcC1hY2Nlc3MuQWNjZXNzU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgYWNjZXNzU2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLWFjY2Vzcy8wLjEvYW1wLWFjY2Vzcy5BY2Nlc3NTZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnYWNjZXNzJywgJ2FtcC1hY2Nlc3MnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgQWNjZXNzIHNlcnZpY2Ugb3IgYSBwcm9taXNlIGZvciBudWxsIGlmIHRoZVxuICAgKiBzZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUgb24gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1hY2Nlc3MvMC4xL2FtcC1hY2Nlc3MuQWNjZXNzU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgYWNjZXNzU2VydmljZUZvckRvY09yTnVsbChlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLWFjY2Vzcy8wLjEvYW1wLWFjY2Vzcy5BY2Nlc3NTZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdhY2Nlc3MnLFxuICAgICAgICAgICdhbXAtYWNjZXNzJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIFN1YnNjcmlwdGlvbnMgc2VydmljZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFTdWJzY3JpcHRpb25TZXJ2aWNlPn1cbiAgICovXG4gIHN0YXRpYyBzdWJzY3JpcHRpb25zU2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8IVN1YnNjcmlwdGlvblNlcnZpY2U+fSAqLyAoXG4gICAgICBnZXRFbGVtZW50U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdzdWJzY3JpcHRpb25zJyxcbiAgICAgICAgICAnYW1wLXN1YnNjcmlwdGlvbnMnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgU3Vic2NyaXB0aW9ucyBzZXJ2aWNlLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8P1N1YnNjcmlwdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIHN1YnNjcmlwdGlvbnNTZXJ2aWNlRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAoLyoqIEB0eXBlIHshUHJvbWlzZTw/U3Vic2NyaXB0aW9uU2VydmljZT59ICovIChcbiAgICAgIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgICAgJ2FtcC1zdWJzY3JpcHRpb25zJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmxpa2UgbW9zdCBzZXJ2aWNlIGdldHRlcnMsIHBhc3NpbmcgYE5vZGVgIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBGSUUtc2NvcGVcbiAgICogc2VydmljZXMgc2luY2Ugc29tZXRpbWVzIHdlIG9ubHkgaGF2ZSB0aGUgRklFIERvY3VtZW50IGZvciBjb250ZXh0LlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25TZXJ2aWNlfVxuICAgKi9cbiAgc3RhdGljIGFjdGlvblNlcnZpY2VGb3JEb2Mobm9kZU9yRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25TZXJ2aWNlfSAqLyAoXG4gICAgICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgbm9kZU9yRG9jLCAnYWN0aW9uJywgLyogb3B0X2ZhbGxiYWNrVG9Ub3BXaW4gKi8gdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQWN0aXZpdHk+fVxuICAgKi9cbiAgc3RhdGljIGFjdGl2aXR5Rm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCFBY3Rpdml0eT59ICovIChcbiAgICAgIGdldEVsZW1lbnRTZXJ2aWNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgJ2FjdGl2aXR5JywgJ2FtcC1hbmFseXRpY3MnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ2xvYmFsIGluc3RhbmNlIG9mIHRoZSBgQW1wRG9jU2VydmljZWAgc2VydmljZSB0aGF0IGNhbiBiZVxuICAgKiB1c2VkIHRvIHJlc29sdmUgYW4gYW1wZG9jIGZvciBhbnkgbm9kZTogZWl0aGVyIGluIHRoZSBzaW5nbGUtZG9jIG9yXG4gICAqIHNoYWRvdy1kb2MgZW52aXJvbm1lbnQuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jU2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBhbXBkb2NTZXJ2aWNlRm9yKHdpbmRvdykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jU2VydmljZX0gKi8gKFxuICAgICAgZ2V0U2VydmljZSh3aW5kb3csICdhbXBkb2MnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgQW1wRG9jIGZvciB0aGUgc3BlY2lmaWVkIGNvbnRleHQgbm9kZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfVxuICAgKi9cbiAgc3RhdGljIGFtcGRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gZ2V0QW1wZG9jKGVsZW1lbnRPckFtcERvYyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGxvYWRBbmFseXRpY3NcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLWFuYWx5dGljcy8wLjEvaW5zdHJ1bWVudGF0aW9uLkluc3RydW1lbnRhdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIGFuYWx5dGljc0ZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGxvYWRBbmFseXRpY3MgPSBmYWxzZSkge1xuICAgIGlmIChsb2FkQW5hbHl0aWNzKSB7XG4gICAgICAvLyBHZXQgRXh0ZW5zaW9ucyBzZXJ2aWNlIGFuZCBmb3JjZSBsb2FkIGFuYWx5dGljcyBleHRlbnNpb24uXG4gICAgICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2MoZWxlbWVudE9yQW1wRG9jKTtcbiAgICAgIFNlcnZpY2VzLmV4dGVuc2lvbnNGb3IoYW1wZG9jLndpbikuLypPSyovaW5zdGFsbEV4dGVuc2lvbkZvckRvYyhcbiAgICAgICAgICBhbXBkb2MsICdhbXAtYW5hbHl0aWNzJyk7XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC1hbmFseXRpY3MvMC4xL2luc3RydW1lbnRhdGlvbi5JbnN0cnVtZW50YXRpb25TZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnYW1wLWFuYWx5dGljcy1pbnN0cnVtZW50YXRpb24nLFxuICAgICAgICAgICdhbXAtYW5hbHl0aWNzJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtYW5hbHl0aWNzLzAuMS9pbnN0cnVtZW50YXRpb24uSW5zdHJ1bWVudGF0aW9uU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgYW5hbHl0aWNzRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1hbmFseXRpY3MvMC4xL2luc3RydW1lbnRhdGlvbi5JbnN0cnVtZW50YXRpb25TZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsXG4gICAgICAgICAgJ2FtcC1hbmFseXRpY3MtaW5zdHJ1bWVudGF0aW9uJywgJ2FtcC1hbmFseXRpY3MnKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5kb3dcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9iYXRjaGVkLXhoci1pbXBsLkJhdGNoZWRYaHJ9XG4gICAqL1xuICBzdGF0aWMgYmF0Y2hlZFhockZvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL2JhdGNoZWQteGhyLWltcGwuQmF0Y2hlZFhocn0gKi8gKFxuICAgICAgZ2V0U2VydmljZSh3aW5kb3csICdiYXRjaGVkLXhocicpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLWJpbmQvMC4xL2JpbmQtaW1wbC5CaW5kPn1cbiAgICovXG4gIHN0YXRpYyBiaW5kRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1iaW5kLzAuMS9iaW5kLWltcGwuQmluZD59ICovIChcbiAgICAgIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgZWxlbWVudE9yQW1wRG9jLCAnYmluZCcsICdhbXAtYmluZCcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4vc2VydmljZS9jaWQtaW1wbC5DaWQ+fVxuICAgKi9cbiAgc3RhdGljIGNpZEZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTwhLi9zZXJ2aWNlL2NpZC1pbXBsLkNpZD59ICovIChcbiAgICAgIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgJ2NpZCcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9uYXZpZ2F0aW9uLk5hdmlnYXRpb259XG4gICAqL1xuICBzdGF0aWMgbmF2aWdhdGlvbkZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL25hdmlnYXRpb24uTmF2aWdhdGlvbn0gKi8gKFxuICAgICAgZ2V0U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICduYXZpZ2F0aW9uJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvY3J5cHRvLWltcGwuQ3J5cHRvfVxuICAgKi9cbiAgc3RhdGljIGNyeXB0b0Zvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IS4vc2VydmljZS9jcnlwdG8taW1wbC5DcnlwdG99ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAnY3J5cHRvJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9kb2N1bWVudC1pbmZvLWltcGwuRG9jdW1lbnRJbmZvRGVmfSBJbmZvIGFib3V0IHRoZSBkb2NcbiAgICovXG4gIHN0YXRpYyBkb2N1bWVudEluZm9Gb3JEb2MoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9kb2N1bWVudC1pbmZvLWltcGwuRG9jSW5mb30gKi8gKFxuICAgICAgZ2V0U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdkb2N1bWVudEluZm8nKSkuZ2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5kb3dcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9kb2N1bWVudC1zdGF0ZS5Eb2N1bWVudFN0YXRlfVxuICAgKi9cbiAgc3RhdGljIGRvY3VtZW50U3RhdGVGb3Iod2luZG93KSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2Uod2luZG93LCAnZG9jdW1lbnRTdGF0ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvZXh0ZW5zaW9ucy1pbXBsLkV4dGVuc2lvbnN9XG4gICAqL1xuICBzdGF0aWMgZXh0ZW5zaW9uc0Zvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL2V4dGVuc2lvbnMtaW1wbC5FeHRlbnNpb25zfSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlKHdpbmRvdywgJ2V4dGVuc2lvbnMnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBzZXJ2aWNlIGltcGxlbWVudGVkIGluIHNlcnZpY2UvaGlzdG9yeS1pbXBsLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9oaXN0b3J5LWltcGwuSGlzdG9yeX1cbiAgICovXG4gIHN0YXRpYyBoaXN0b3J5Rm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvaGlzdG9yeS1pbXBsLkhpc3Rvcnl9ICovIChcbiAgICAgIGdldFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnaGlzdG9yeScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshLi9pbnB1dC5JbnB1dH1cbiAgICovXG4gIHN0YXRpYyBpbnB1dEZvcih3aW4pIHtcbiAgICByZXR1cm4gZ2V0U2VydmljZSh3aW4sICdpbnB1dCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL2xheWVycy1pbXBsLkxheW91dExheWVyc31cbiAgICovXG4gIHN0YXRpYyBsYXllcnNGb3JEb2MoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9sYXllcnMtaW1wbC5MYXlvdXRMYXllcnN9ICovIChcbiAgICAgIGdldFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnbGF5ZXJzJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvcGVyZm9ybWFuY2UtaW1wbC5QZXJmb3JtYW5jZX1cbiAgICovXG4gIHN0YXRpYyBwZXJmb3JtYW5jZUZvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL3BlcmZvcm1hbmNlLWltcGwuUGVyZm9ybWFuY2V9Ki8gKFxuICAgICAgZ2V0U2VydmljZSh3aW5kb3csICdwZXJmb3JtYW5jZScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpbmRvd1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3BlcmZvcm1hbmNlLWltcGwuUGVyZm9ybWFuY2V9XG4gICAqL1xuICBzdGF0aWMgcGVyZm9ybWFuY2VGb3JPck51bGwod2luZG93KSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9wZXJmb3JtYW5jZS1pbXBsLlBlcmZvcm1hbmNlfSovIChcbiAgICAgIGdldEV4aXN0aW5nU2VydmljZU9yTnVsbCh3aW5kb3csICdwZXJmb3JtYW5jZScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpbmRvd1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3BsYXRmb3JtLWltcGwuUGxhdGZvcm19XG4gICAqL1xuICBzdGF0aWMgcGxhdGZvcm1Gb3Iod2luZG93KSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9wbGF0Zm9ybS1pbXBsLlBsYXRmb3JtfSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlKHdpbmRvdywgJ3BsYXRmb3JtJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXMgZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQoKSBzaW5jZSBSZXNvdXJjZXMgaXMgYSBzdGFydHVwIHNlcnZpY2UuXG4gICAqIEBwYXJhbSB7IU5vZGV8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IG5vZGVPckRvY1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3Jlc291cmNlcy1pbXBsLlJlc291cmNlc31cbiAgICovXG4gIHN0YXRpYyByZXNvdXJjZXNGb3JEb2Mobm9kZU9yRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9yZXNvdXJjZXMtaW1wbC5SZXNvdXJjZXN9ICovIChcbiAgICAgIGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKG5vZGVPckRvYywgJ3Jlc291cmNlcycpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTw/e2luY29taW5nRnJhZ21lbnQ6IHN0cmluZywgb3V0Z29pbmdGcmFnbWVudDogc3RyaW5nfT59XG4gICAqL1xuICBzdGF0aWMgc2hhcmVUcmFja2luZ0Zvck9yTnVsbCh3aW4pIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8P3tpbmNvbWluZ0ZyYWdtZW50OiBzdHJpbmcsIG91dGdvaW5nRnJhZ21lbnQ6IHN0cmluZ30+fSAqLyAoXG4gICAgICBnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlKHdpbiwgJ3NoYXJlLXRyYWNraW5nJyxcbiAgICAgICAgICAnYW1wLXNoYXJlLXRyYWNraW5nJywgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL3ZhcmlhYmxlLXNlcnZpY2UuU3RvcnlWYXJpYWJsZURlZj59XG4gICAqL1xuICBzdGF0aWMgc3RvcnlWYXJpYWJsZVNlcnZpY2VGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvdmFyaWFibGUtc2VydmljZS5TdG9yeVZhcmlhYmxlRGVmPn0gKi9cbiAgICAgIChnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlKHdpbiwgJ3N0b3J5LXZhcmlhYmxlJywgJ2FtcC1zdG9yeScsXG4gICAgICAgICAgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJzaW9uIG9mIHRoZSBzdG9yeSBzdG9yZSBzZXJ2aWNlIGRlcGVuZHMgb24gd2hpY2ggdmVyc2lvbiBvZiBhbXAtc3RvcnlcbiAgICogdGhlIHB1Ymxpc2hlciBpcyBsb2FkaW5nLiBUaGV5IGFsbCBoYXZlIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIHN0b3J5U3RvcmVTZXJ2aWNlRm9yT3JOdWxsKHdpbikge1xuICAgIHJldHVybiAoXG4gICAgLyoqIEB0eXBlIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2U+fSAqL1xuICAgICAgKGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGUod2luLCAnc3Rvcnktc3RvcmUnLCAnYW1wLXN0b3J5JykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfVxuICAgKi9cbiAgc3RhdGljIHN0b3J5U3RvcmVTZXJ2aWNlKHdpbikge1xuICAgIHJldHVybiAoLyoqIEB0eXBlIHs/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgICAgKGdldEV4aXN0aW5nU2VydmljZU9yTnVsbCh3aW4sICdzdG9yeS1zdG9yZScpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktcmVxdWVzdC1zZXJ2aWNlLkFtcFN0b3J5UmVxdWVzdFNlcnZpY2V9XG4gICAqL1xuICBzdGF0aWMgc3RvcnlSZXF1ZXN0U2VydmljZSh3aW4pIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktcmVxdWVzdC1zZXJ2aWNlLkFtcFN0b3J5UmVxdWVzdFNlcnZpY2V9ICovXG4gICAgICAoZ2V0RXhpc3RpbmdTZXJ2aWNlT3JOdWxsKHdpbiwgJ3N0b3J5LXJlcXVlc3QnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4geyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIGxvY2FsaXphdGlvblNlcnZpY2VGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2U+fSAqL1xuICAgICAgKGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGUod2luLCAnbG9jYWxpemF0aW9uJywgJ2FtcC1zdG9yeScsIHRydWUpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7IS4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBsb2NhbGl6YXRpb25TZXJ2aWNlKHdpbikge1xuICAgIHJldHVybiBnZXRTZXJ2aWNlKHdpbiwgJ2xvY2FsaXphdGlvbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE8oIzE0MzU3KTogUmVtb3ZlIHRoaXMgd2hlbiBhbXAtc3Rvcnk6MC4xIGlzIGRlcHJlY2F0ZWQuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4geyEuLi9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9XG4gICAqL1xuICBzdGF0aWMgc3RvcnlTdG9yZVNlcnZpY2VWMDEod2luKSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2Uod2luLCAnc3Rvcnktc3RvcmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPKCMxNDM1Nyk6IFJlbW92ZSB0aGlzIHdoZW4gYW1wLXN0b3J5OjAuMSBpcyBkZXByZWNhdGVkLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshLi4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FtcC1zdG9yeS1yZXF1ZXN0LXNlcnZpY2UuQW1wU3RvcnlSZXF1ZXN0U2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBzdG9yeVJlcXVlc3RTZXJ2aWNlVjAxKHdpbikge1xuICAgIHJldHVybiBnZXRTZXJ2aWNlKHdpbiwgJ3N0b3J5LXJlcXVlc3QtdjAxJyk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETygjMTQzNTcpOiBSZW1vdmUgdGhpcyB3aGVuIGFtcC1zdG9yeTowLjEgaXMgZGVwcmVjYXRlZC5cbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgbG9jYWxpemF0aW9uU2VydmljZUZvck9yTnVsbFYwMSh3aW4pIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKiBAdHlwZSB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZT59ICovXG4gICAgICAoZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sICdsb2NhbGl6YXRpb24tdjAxJywgJ2FtcC1zdG9yeScsXG4gICAgICAgICAgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPKCMxNDM1Nyk6IFJlbW92ZSB0aGlzIHdoZW4gYW1wLXN0b3J5OjAuMSBpcyBkZXByZWNhdGVkLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshLi4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2xvY2FsaXphdGlvbi5Mb2NhbGl6YXRpb25TZXJ2aWNlfVxuICAgKi9cbiAgc3RhdGljIGxvY2FsaXphdGlvblNlcnZpY2VWMDEod2luKSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2Uod2luLCAnbG9jYWxpemF0aW9uLXYwMScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4gez9Qcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC12aWV3ZXItaW50ZWdyYXRpb24vMC4xL3ZhcmlhYmxlLXNlcnZpY2UuVmlld2VySW50ZWdyYXRpb25WYXJpYWJsZURlZj59XG4gICAqL1xuICBzdGF0aWMgdmlld2VySW50ZWdyYXRpb25WYXJpYWJsZVNlcnZpY2VGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC12aWV3ZXItaW50ZWdyYXRpb24vMC4xL3ZhcmlhYmxlLXNlcnZpY2UuVmlld2VySW50ZWdyYXRpb25WYXJpYWJsZURlZj59ICovXG4gICAgICAoZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sICd2aWV3ZXItaW50ZWdyYXRpb24tdmFyaWFibGUnLFxuICAgICAgICAgICdhbXAtdmlld2VyLWludGVncmF0aW9uJywgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbi1zZXJ2aWNlLldlYkFuaW1hdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIHdlYkFuaW1hdGlvblNlcnZpY2VGb3IoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuICgvKiogQHR5cGUgeyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb24tc2VydmljZS5XZWJBbmltYXRpb25TZXJ2aWNlPn0gKi9cbiAgICAgIChnZXRFbGVtZW50U2VydmljZUZvckRvYyhcbiAgICAgICAgICBlbGVtZW50T3JBbXBEb2MsICd3ZWItYW5pbWF0aW9uJywgJ2FtcC1hbmltYXRpb24nKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhLi9zZXJ2aWNlL3N0b3JhZ2UtaW1wbC5TdG9yYWdlPn1cbiAgICovXG4gIHN0YXRpYyBzdG9yYWdlRm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCEuL3NlcnZpY2Uvc3RvcmFnZS1pbXBsLlN0b3JhZ2U+fSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlUHJvbWlzZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdzdG9yYWdlJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdGVtcGxhdGUtaW1wbC5UZW1wbGF0ZXN9XG4gICAqL1xuICBzdGF0aWMgdGVtcGxhdGVzRm9yKHdpbmRvdykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvdGVtcGxhdGUtaW1wbC5UZW1wbGF0ZXN9ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAndGVtcGxhdGVzJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdGltZXItaW1wbC5UaW1lcn1cbiAgICovXG4gIHN0YXRpYyB0aW1lckZvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL3RpbWVyLWltcGwuVGltZXJ9ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAndGltZXInKSk7XG4gIH1cblxuICAvKipcbiAgICogVW5saWtlIG1vc3Qgc2VydmljZSBnZXR0ZXJzLCBwYXNzaW5nIGBOb2RlYCBpcyBuZWNlc3NhcnkgZm9yIHNvbWUgRklFLXNjb3BlXG4gICAqIHNlcnZpY2VzIHNpbmNlIHNvbWV0aW1lcyB3ZSBvbmx5IGhhdmUgdGhlIEZJRSBEb2N1bWVudCBmb3IgY29udGV4dC5cbiAgICogQHBhcmFtIHshTm9kZXwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdXJsLXJlcGxhY2VtZW50cy1pbXBsLlVybFJlcGxhY2VtZW50c31cbiAgICovXG4gIHN0YXRpYyB1cmxSZXBsYWNlbWVudHNGb3JEb2Mobm9kZU9yRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS91cmwtcmVwbGFjZW1lbnRzLWltcGwuVXJsUmVwbGFjZW1lbnRzfSAqLyAoXG4gICAgICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgbm9kZU9yRG9jLCAndXJsLXJlcGxhY2UnLCAvKiBvcHRfZmFsbGJhY2tUb1RvcFdpbiAqLyB0cnVlKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC11c2VyLW5vdGlmaWNhdGlvbi8wLjEvYW1wLXVzZXItbm90aWZpY2F0aW9uLlVzZXJOb3RpZmljYXRpb25NYW5hZ2VyPn1cbiAgICovXG4gIHN0YXRpYyB1c2VyTm90aWZpY2F0aW9uTWFuYWdlckZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLXVzZXItbm90aWZpY2F0aW9uLzAuMS9hbXAtdXNlci1ub3RpZmljYXRpb24uVXNlck5vdGlmaWNhdGlvbk1hbmFnZXI+fSAqL1xuICAgICAgKGdldEVsZW1lbnRTZXJ2aWNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgJ3VzZXJOb3RpZmljYXRpb25NYW5hZ2VyJyxcbiAgICAgICAgICAnYW1wLXVzZXItbm90aWZpY2F0aW9uJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGNvbnNlbnRQb2xpY3kgU2VydmljZSBvciBhIHByb21pc2UgZm9yIG51bGwgaWZcbiAgICogdGhlIHNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgY3VycmVudCBwYWdlLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLWNvbnNlbnQvMC4xL2NvbnNlbnQtcG9saWN5LW1hbmFnZXIuQ29uc2VudFBvbGljeU1hbmFnZXI+fVxuICAgKi9cbiAgc3RhdGljIGNvbnNlbnRQb2xpY3lTZXJ2aWNlRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAoLyoqIEB0eXBlIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtY29uc2VudC8wLjEvY29uc2VudC1wb2xpY3ktbWFuYWdlci5Db25zZW50UG9saWN5TWFuYWdlcj59ICovXG4gICAgICAoZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsXG4gICAgICAgICAgJ2NvbnNlbnRQb2xpY3lNYW5hZ2VyJywgJ2FtcC1jb25zZW50JykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGdlbyBzZXJ2aWNlIG9yIGEgcHJvbWlzZSBmb3IgbnVsbCBpZlxuICAgKiB0aGUgc2VydmljZSBpcyBub3QgYXZhaWxhYmxlIG9uIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtZ2VvLzAuMS9hbXAtZ2VvLkdlb0RlZj59XG4gICAqL1xuICBzdGF0aWMgZ2VvRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1nZW8vMC4xL2FtcC1nZW8uR2VvRGVmPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhcbiAgICAgICAgICBlbGVtZW50T3JBbXBEb2MsICdnZW8nLCAnYW1wLWdlbycsIHRydWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmxpa2UgbW9zdCBzZXJ2aWNlIGdldHRlcnMsIHBhc3NpbmcgYE5vZGVgIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBGSUUtc2NvcGVcbiAgICogc2VydmljZXMgc2luY2Ugc29tZXRpbWVzIHdlIG9ubHkgaGF2ZSB0aGUgRklFIERvY3VtZW50IGZvciBjb250ZXh0LlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS91cmwtaW1wbC5Vcmx9XG4gICAqL1xuICBzdGF0aWMgdXJsRm9yRG9jKG5vZGVPckRvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvdXJsLWltcGwuVXJsfSAqLyAoXG4gICAgICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgbm9kZU9yRG9jLCAndXJsJywgLyogb3B0X2ZhbGxiYWNrVG9Ub3BXaW4gKi8gdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgZXhwZXJpbWVudCB2YXJpYW50cyBvciBhIHByb21pc2UgZm9yIG51bGwgaWYgaXRcbiAgICogaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgY3VycmVudCBwYWdlLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/T2JqZWN0PHN0cmluZz4+fVxuICAgKi9cbiAgc3RhdGljIHZhcmlhbnRGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IVByb21pc2U8P09iamVjdDxzdHJpbmc+Pn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sICd2YXJpYW50JywgJ2FtcC1leHBlcmltZW50JywgdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3ZpZGVvLXNlcnZpY2UtaW50ZXJmYWNlLlZpZGVvU2VydmljZUludGVyZmFjZX1cbiAgICovXG4gIHN0YXRpYyB2aWRlb01hbmFnZXJGb3JEb2MoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7IS4vc2VydmljZS92aWRlby1zZXJ2aWNlLWludGVyZmFjZS5WaWRlb1NlcnZpY2VJbnRlcmZhY2V9ICovIChcbiAgICAgICAgZ2V0U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICd2aWRlby1tYW5hZ2VyJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VzIGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKCkgc2luY2UgVmlld2VyIGlzIGEgc3RhcnR1cCBzZXJ2aWNlLlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS92aWV3ZXItaW1wbC5WaWV3ZXJ9XG4gICAqL1xuICBzdGF0aWMgdmlld2VyRm9yRG9jKG5vZGVPckRvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyfSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlRm9yRG9jRGVwcmVjYXRlZChub2RlT3JEb2MsICd2aWV3ZXInKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwcm9taXNlIGZvciB0aGUgdmlld2VyLiBUaGlzIGlzIGFuIHVudXN1YWwgY2FzZSBhbmQgbmVjZXNzYXJ5IG9ubHlcbiAgICogZm9yIHNlcnZpY2VzIHRoYXQgbmVlZCByZWZlcmVuY2UgdG8gdGhlIHZpZXdlciBiZWZvcmUgaXQgaGFzIGJlZW5cbiAgICogaW5pdGlhbGl6ZWQuIE1vc3Qgb2YgdGhlIGNvZGUsIGhvd2V2ZXIsIGp1c3Qgc2hvdWxkIHVzZSBgdmlld2VyRm9yRG9jYC5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyPn1cbiAgICovXG4gIHN0YXRpYyB2aWV3ZXJQcm9taXNlRm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCEuL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyPn0gKi8gKFxuICAgICAgZ2V0U2VydmljZVByb21pc2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAndmlld2VyJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY31cbiAgICovXG4gIHN0YXRpYyB2c3luY0Zvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAndnN5bmMnKSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlcyBnZXRTZXJ2aWNlRm9yRG9jRGVwcmVjYXRlZCgpIHNpbmNlIFZpZXdwb3J0IGlzIGEgc3RhcnR1cCBzZXJ2aWNlLlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS92aWV3cG9ydC92aWV3cG9ydC1pbXBsLlZpZXdwb3J0fVxuICAgKi9cbiAgc3RhdGljIHZpZXdwb3J0Rm9yRG9jKG5vZGVPckRvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2Uvdmlld3BvcnQvdmlld3BvcnQtaW1wbC5WaWV3cG9ydH0gKi8gKFxuICAgICAgZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQobm9kZU9yRG9jLCAndmlld3BvcnQnKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5kb3dcbiAgICogQHJldHVybiB7IS4vc2VydmljZS94aHItaW1wbC5YaHJ9XG4gICAqL1xuICBzdGF0aWMgeGhyRm9yKHdpbmRvdykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UveGhyLWltcGwuWGhyfSAqLyAoZ2V0U2VydmljZSh3aW5kb3csICd4aHInKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7U2hhZG93Q1NTfSBmcm9tICcuLi90aGlyZF9wYXJ0eS93ZWJjb21wb25lbnRzanMvU2hhZG93Q1NTJztcbmltcG9ydCB7XG4gIFNoYWRvd0RvbVZlcnNpb24sXG4gIGdldFNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb24sXG4gIGlzU2hhZG93Q3NzU3VwcG9ydGVkLFxuICBpc1NoYWRvd0RvbVN1cHBvcnRlZCxcbn0gZnJvbSAnLi93ZWItY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBjaGlsZEVsZW1lbnRzQnlUYWcsXG4gIGNsb3Nlc3ROb2RlLFxuICBlc2NhcGVDc3NTZWxlY3RvcklkZW50LFxuICBpdGVyYXRlQ3Vyc29yLFxuICByZW1vdmVFbGVtZW50LFxufSBmcm9tICcuL2RvbSc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtpbnN0YWxsQ3NzVHJhbnNmb3JtZXJ9IGZyb20gJy4vc3R5bGUtaW5zdGFsbGVyJztcbmltcG9ydCB7c2V0U3R5bGV9IGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IHt0b0FycmF5LCB0b1dpbn0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVXNlZCBmb3Igbm9uLWNvbXBvc2VkIHJvb3Qtbm9kZSBzZWFyY2guIFNlZSBgZ2V0Um9vdE5vZGVgLlxuICogQGNvbnN0IHshR2V0Um9vdE5vZGVPcHRpb25zfVxuICovXG5jb25zdCBVTkNPTVBPU0VEX1NFQVJDSCA9IHtjb21wb3NlZDogZmFsc2V9O1xuXG4vKiogQGNvbnN0IHshUmVnRXhwfSAqL1xuY29uc3QgQ1NTX1NFTEVDVE9SX0JFR19SRUdFWCA9IC9bXlxcLlxcLVxcXzAtOWEtekEtWl0vO1xuXG4vKiogQGNvbnN0IHshUmVnRXhwfSAqL1xuY29uc3QgQ1NTX1NFTEVDVE9SX0VORF9SRUdFWCA9IC9bXlxcLVxcXzAtOWEtekEtWl0vO1xuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAqL1xubGV0IHNoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZDtcblxuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFkb3cgcm9vdCBmb3IgdGhlIHNwZWNpZmllZCBob3N0IGFuZCByZXR1cm5zIGl0LiBQb2x5ZmlsbHNcbiAqIHNoYWRvdyByb290IGNyZWF0aW9uIGlmIG5lY2Vzc2FyeS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGhvc3RFbGVtZW50XG4gKiBAcmV0dXJuIHshU2hhZG93Um9vdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRvd1Jvb3QoaG9zdEVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gdG9XaW4oaG9zdEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG5cbiAgY29uc3QgZXhpc3RpbmdSb290ID0gaG9zdEVsZW1lbnQuc2hhZG93Um9vdCB8fCBob3N0RWxlbWVudC5fX0FNUF9TSEFET1dfUk9PVDtcbiAgaWYgKGV4aXN0aW5nUm9vdCkge1xuICAgIGV4aXN0aW5nUm9vdC4vKk9LKi9pbm5lckhUTUwgPSAnJztcbiAgICByZXR1cm4gZXhpc3RpbmdSb290O1xuICB9XG5cbiAgbGV0IHNoYWRvd1Jvb3Q7XG4gIGNvbnN0IHNoYWRvd0RvbVN1cHBvcnRlZCA9IGdldFNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb24oKTtcbiAgaWYgKHNoYWRvd0RvbVN1cHBvcnRlZCA9PSBTaGFkb3dEb21WZXJzaW9uLlYxKSB7XG4gICAgc2hhZG93Um9vdCA9IGhvc3RFbGVtZW50LmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgaWYgKCFzaGFkb3dSb290LnN0eWxlU2hlZXRzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2hhZG93Um9vdCwgJ3N0eWxlU2hlZXRzJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgICAgaXRlcmF0ZUN1cnNvcihzaGFkb3dSb290LmNoaWxkTm9kZXMsIGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgIGl0ZW1zLnB1c2goY2hpbGQuc2hlZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzaGFkb3dEb21TdXBwb3J0ZWQgPT0gU2hhZG93RG9tVmVyc2lvbi5WMCkge1xuICAgIHNoYWRvd1Jvb3QgPSBob3N0RWxlbWVudC5jcmVhdGVTaGFkb3dSb290KCk7XG4gIH0gZWxzZSB7XG4gICAgc2hhZG93Um9vdCA9IGNyZWF0ZVNoYWRvd1Jvb3RQb2x5ZmlsbChob3N0RWxlbWVudCk7XG4gIH1cblxuICBpZiAoIWlzU2hhZG93Q3NzU3VwcG9ydGVkKCkpIHtcbiAgICBjb25zdCByb290SWQgPSBgaS1hbXBodG1sLXNkLSR7d2luLk1hdGguZmxvb3Iod2luLk1hdGgucmFuZG9tKCkgKiAxMDAwMCl9YDtcbiAgICBzaGFkb3dSb290LmlkID0gcm9vdElkO1xuICAgIHNoYWRvd1Jvb3QuaG9zdC5jbGFzc0xpc3QuYWRkKHJvb3RJZCk7XG5cbiAgICAvLyBDU1MgaXNvbGF0aW9uLlxuICAgIGluc3RhbGxDc3NUcmFuc2Zvcm1lcihzaGFkb3dSb290LCBjc3MgPT4ge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybVNoYWRvd0NzcyhzaGFkb3dSb290LCBjc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNoYWRvd1Jvb3Q7XG59XG5cblxuLyoqXG4gKiBTaGFkb3cgcm9vdCBwb2x5ZmlsbC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGhvc3RFbGVtZW50XG4gKiBAcmV0dXJuIHshU2hhZG93Um9vdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2hhZG93Um9vdFBvbHlmaWxsKGhvc3RFbGVtZW50KSB7XG4gIGNvbnN0IGRvYyA9IGhvc3RFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cbiAgLy8gSG9zdCBDU1MgcG9seWZpbGwuXG4gIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zaGFkb3ctaG9zdC1wb2x5ZmlsbCcpO1xuICBjb25zdCBob3N0U3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgaG9zdFN0eWxlLnRleHRDb250ZW50ID1cbiAgICAgICcuaS1hbXBodG1sLXNoYWRvdy1ob3N0LXBvbHlmaWxsPjpub3QoaS1hbXBodG1sLXNoYWRvdy1yb290KSdcbiAgICAgICsgJ3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSc7XG4gIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKGhvc3RTdHlsZSk7XG5cbiAgLy8gU2hhZG93IHJvb3QuXG4gIGNvbnN0IHNoYWRvd1Jvb3QgPSAvKiogQHR5cGUgeyFTaGFkb3dSb290fSAqLyAoXG4gICAgLy8gQ2FzdCB0byBTaGFkb3dSb290IGV2ZW4gdGhvdWdoIGl0IGlzIGFuIEVsZW1lbnRcbiAgICAvLyBUT0RPKEBkdm95dGVua28pIENvbnNpZGVyIHRvIHN3aXRjaCB0byBhIHR5cGUgdW5pb24gaW5zdGVhZC5cbiAgICAvKiogQHR5cGUgez99ICAqLyAoZG9jLmNyZWF0ZUVsZW1lbnQoJ2ktYW1waHRtbC1zaGFkb3ctcm9vdCcpKSk7XG4gIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKHNoYWRvd1Jvb3QpO1xuICBob3N0RWxlbWVudC5zaGFkb3dSb290ID0gaG9zdEVsZW1lbnQuX19BTVBfU0hBRE9XX1JPT1QgPSBzaGFkb3dSb290O1xuXG4gIC8vIEFQSTogaHR0cHM6Ly93d3cudzMub3JnL1RSL3NoYWRvdy1kb20vI3RoZS1zaGFkb3dyb290LWludGVyZmFjZVxuXG4gIHNoYWRvd1Jvb3QuaG9zdCA9IGhvc3RFbGVtZW50O1xuXG4gIC8vIGBnZXRFbGVtZW50QnlJZGAgaXMgcmVzb2x2ZWQgdmlhIGBxdWVyeVNlbGVjdG9yKCcjaWQnKWAuXG4gIHNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQgPSBmdW5jdGlvbihpZCkge1xuICAgIGNvbnN0IGVzY2FwZWRJZCA9IGVzY2FwZUNzc1NlbGVjdG9ySWRlbnQoaWQpO1xuICAgIHJldHVybiAvKiogQHR5cGUge0hUTUxFbGVtZW50fG51bGx9ICovIChcbiAgICAgIHNoYWRvd1Jvb3QuLypPSyovcXVlcnlTZWxlY3RvcihgIyR7ZXNjYXBlZElkfWApKTtcbiAgfTtcblxuICAvLyBUaGUgc3R5bGVTaGVldHMgcHJvcGVydHkgc2hvdWxkIGhhdmUgYSBsaXN0IG9mIGxvY2FsIHN0eWxlcy5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNoYWRvd1Jvb3QsICdzdHlsZVNoZWV0cycsIHtcbiAgICBnZXQ6ICgpID0+IHtcbiAgICAgIGlmICghZG9jLnN0eWxlU2hlZXRzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b0FycmF5KGRvYy5zdHlsZVNoZWV0cykuZmlsdGVyKFxuICAgICAgICAgIHN0eWxlU2hlZXQgPT4gc2hhZG93Um9vdC5jb250YWlucyhzdHlsZVNoZWV0Lm93bmVyTm9kZSkpO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBzaGFkb3dSb290O1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB2YWx1ZSBpcyBhY3R1YWxseSBhIGBTaGFkb3dSb290YCBub2RlLlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2hhZG93Um9vdCh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIE5vZGUubm9kZVR5cGUgPT0gRE9DVU1FTlRfRlJBR01FTlQgdG8gc3BlZWQgdXAgdGhlIHRlc3RzLiBVbmZvcnR1bmF0ZWx5LFxuICAvLyBub2RlVHlwZSBvZiBET0NVTUVOVF9GUkFHTUVOVCBpcyB1c2VkIGN1cnJlbnRseSBmb3IgU2hhZG93Um9vdCBub2Rlcy5cbiAgaWYgKHZhbHVlLnRhZ05hbWUgPT0gJ0ktQU1QSFRNTC1TSEFET1ctUk9PVCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gKHZhbHVlLm5vZGVUeXBlID09IC8qIERPQ1VNRU5UX0ZSQUdNRU5UICovIDExICYmXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBTaGFkb3dSb290XScpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHNoYWRvdyByb290IGZvciB0aGUgc3BlY2lmaWVkIG5vZGUuXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gKiBAcmV0dXJuIHs/U2hhZG93Um9vdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNoYWRvd1Jvb3ROb2RlKG5vZGUpIHtcbiAgaWYgKGlzU2hhZG93RG9tU3VwcG9ydGVkKCkgJiYgTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHs/U2hhZG93Um9vdH0gKi8gKG5vZGUuZ2V0Um9vdE5vZGUoVU5DT01QT1NFRF9TRUFSQ0gpKTtcbiAgfVxuICAvLyBQb2x5ZmlsbCBzaGFkb3cgcm9vdCBsb29rdXAuXG4gIHJldHVybiAvKiogQHR5cGUgez9TaGFkb3dSb290fSAqLyAoY2xvc2VzdE5vZGUobm9kZSwgbiA9PiBpc1NoYWRvd1Jvb3QobikpKTtcbn1cblxuXG4vKipcbiAqIEltcG9ydHMgYSBib2R5IGludG8gYSBzaGFkb3cgcm9vdCB3aXRoIHRoZSB3b3JrYXJvdW5kIGZvciBhIHBvbHlmaWxsIGNhc2UuXG4gKiBAcGFyYW0geyFTaGFkb3dSb290fSBzaGFkb3dSb290XG4gKiBAcGFyYW0geyFFbGVtZW50fSBib2R5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRlZXBcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW1wb3J0U2hhZG93Qm9keShzaGFkb3dSb290LCBib2R5LCBkZWVwKSB7XG4gIGNvbnN0IGRvYyA9IHNoYWRvd1Jvb3Qub3duZXJEb2N1bWVudDtcbiAgbGV0IHJlc3VsdEJvZHk7XG4gIGlmIChpc1NoYWRvd0Nzc1N1cHBvcnRlZCgpKSB7XG4gICAgcmVzdWx0Qm9keSA9IGRldigpLmFzc2VydEVsZW1lbnQoZG9jLmltcG9ydE5vZGUoYm9keSwgZGVlcCkpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdEJvZHkgPSBkb2MuY3JlYXRlRWxlbWVudCgnYW1wLWJvZHknKTtcbiAgICBzZXRTdHlsZShyZXN1bHRCb2R5LCAnZGlzcGxheScsICdibG9jaycpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9keS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRCb2R5LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBib2R5LmF0dHJpYnV0ZXNbMF0ubmFtZSwgYm9keS5hdHRyaWJ1dGVzWzBdLnZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGRlZXApIHtcbiAgICAgIGZvciAobGV0IG4gPSBib2R5LmZpcnN0Q2hpbGQ7ICEhbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgcmVzdWx0Qm9keS5hcHBlbmRDaGlsZChkb2MuaW1wb3J0Tm9kZShuLCB0cnVlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNldFN0eWxlKHJlc3VsdEJvZHksICdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHJlc3VsdEJvZHkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2hhZG93Um9vdCwgJ2JvZHknLCB7dmFsdWU6IHJlc3VsdEJvZHl9KTtcbiAgcmV0dXJuIHJlc3VsdEJvZHk7XG59XG5cblxuLyoqXG4gKiBJZiBuZWNlc3NhcnksIHRyYW5zZm9ybXMgQ1NTIHRvIGlzb2xhdGUgQU1QIENTUyB3aXRoaW4gdGhlIHNoYW9kdyByb290IGFuZFxuICogcmVkdWNlIHRoZSBwb3NzaWJpbGl0eSBvZiBoaWdoLWxldmVsIGNvbmZsaWN0cy5cbiAqIEBwYXJhbSB7IVNoYWRvd1Jvb3R9IHNoYWRvd1Jvb3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVNoYWRvd0NzcyhzaGFkb3dSb290LCBjc3MpIHtcbiAgcmV0dXJuIHNjb3BlU2hhZG93Q3NzKHNoYWRvd1Jvb3QsIGNzcyk7XG59XG5cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIENTUyB0byBpc29sYXRlIEFNUCBDU1Mgd2l0aGluIHRoZSBzaGFkb3cgcm9vdCBhbmQgcmVkdWNlIHRoZVxuICogcG9zc2liaWxpdHkgb2YgaGlnaC1sZXZlbCBjb25mbGljdHMuIFRoZXJlIGFyZSB0d28gdHlwZXMgb2YgdHJhbnNmb3JtYXRpb25zOlxuICogMS4gUm9vdCB0cmFuc2Zvcm1hdGlvbjogYGJvZHlgIC0+IGBhbXAtYm9keWAsIGV0Yy5cbiAqIDIuIFNjb3Bpbmc6IGBhIHt9YCAtPiBgLmktYW1waHRtbC1zZC0xMjMgYSB7fWAuXG4gKlxuICogQHBhcmFtIHshU2hhZG93Um9vdH0gc2hhZG93Um9vdFxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1xuICogQHJldHVybiB7c3RyaW5nfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY29wZVNoYWRvd0NzcyhzaGFkb3dSb290LCBjc3MpIHtcbiAgY29uc3QgaWQgPSBkZXYoKS5hc3NlcnQoc2hhZG93Um9vdC5pZCk7XG4gIGNvbnN0IGRvYyA9IHNoYWRvd1Jvb3Qub3duZXJEb2N1bWVudDtcbiAgbGV0IHJ1bGVzID0gbnVsbDtcbiAgLy8gVHJ5IHRvIHVzZSBhIHNlcGFyYXRlIGRvY3VtZW50LlxuICB0cnkge1xuICAgIHJ1bGVzID0gZ2V0U3R5bGVzaGVldFJ1bGVzKGRvYy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpLCBjc3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLlxuICB9XG4gIC8vIFRyeSB0byB1c2UgdGhlIGN1cnJlbnQgZG9jdW1lbnQuXG4gIGlmICghcnVsZXMpIHtcbiAgICB0cnkge1xuICAgICAgcnVsZXMgPSBnZXRTdHlsZXNoZWV0UnVsZXMoZG9jLCBjc3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZS5cbiAgICB9XG4gIH1cblxuICAvLyBObyBydWxlcyBjb3VsZCBiZSBwYXJzZWQgLSByZXR1cm4gY3NzIGFzIGlzLlxuICBpZiAoIXJ1bGVzKSB7XG4gICAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIC8vIFBhdGNoIHNlbGVjdG9ycy5cbiAgLy8gSW52b2tlIGBTaGFkb3dDU1Muc2NvcGVSdWxlc2AgdmlhIGBjYWxsYCBiZWNhdXNlIHRoZSB3YXkgaXQgdXNlcyBgdGhpc2BcbiAgLy8gaW50ZXJuYWxseSBjb25mbGljdHMgd2l0aCBDbG9zdXJlIGNvbXBpbGVyJ3MgYWR2YW5jZWQgb3B0aW1pemF0aW9ucy5cbiAgY29uc3Qge3Njb3BlUnVsZXN9ID0gU2hhZG93Q1NTO1xuICByZXR1cm4gc2NvcGVSdWxlcy5jYWxsKFNoYWRvd0NTUywgcnVsZXMsIGAuJHtpZH1gLCB0cmFuc2Zvcm1Sb290U2VsZWN0b3JzKTtcbn1cblxuXG4vKipcbiAqIFJlcGxhY2VzIHRvcC1sZXZlbCBzZWxlY3RvcnMgc3VjaCBhcyBgaHRtbGAgYW5kIGBib2R5YCB3aXRoIHRoZWlyIHBvbHlmaWxsXG4gKiBjb3VudGVycGFydHM6IGBhbXAtaHRtbGAgYW5kIGBhbXAtYm9keWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtUm9vdFNlbGVjdG9ycyhzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IucmVwbGFjZSgvKGh0bWx8Ym9keSkvZywgcm9vdFNlbGVjdG9yUHJlZml4ZXIpO1xufVxuXG5cbi8qKlxuICogU2VlIGB0cmFuc2Zvcm1Sb290U2VsZWN0b3JzYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcm9vdFNlbGVjdG9yUHJlZml4ZXIobWF0Y2gsIG5hbWUsIHBvcywgc2VsZWN0b3IpIHtcbiAgY29uc3QgcHJldiA9IHNlbGVjdG9yLmNoYXJBdChwb3MgLSAxKTtcbiAgY29uc3QgbmV4dCA9IHNlbGVjdG9yLmNoYXJBdChwb3MgKyBtYXRjaC5sZW5ndGgpO1xuICBpZiAoKCFwcmV2IHx8IENTU19TRUxFQ1RPUl9CRUdfUkVHRVgudGVzdChwcmV2KSkgJiZcbiAgICAgICghbmV4dCB8fCBDU1NfU0VMRUNUT1JfRU5EX1JFR0VYLnRlc3QobmV4dCkpKSB7XG4gICAgcmV0dXJuICdhbXAtJyArIG1hdGNoO1xuICB9XG4gIHJldHVybiBtYXRjaDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NcbiAqIEByZXR1cm4gez9DU1NSdWxlTGlzdH1cbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVzaGVldFJ1bGVzKGRvYywgY3NzKSB7XG4gIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLi8qT0sqL3RleHRDb250ZW50ID0gY3NzO1xuICB0cnkge1xuICAgIChkb2MuaGVhZCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgaWYgKHN0eWxlLnNoZWV0KSB7XG4gICAgICByZXR1cm4gc3R5bGUuc2hlZXQuY3NzUnVsZXM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChzdHlsZS5wYXJlbnROb2RlKSB7XG4gICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IHZhbFxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaGFkb3dEb21TdHJlYW1pbmdTdXBwb3J0ZWRGb3JUZXN0aW5nKHZhbCkge1xuICBzaGFkb3dEb21TdHJlYW1pbmdTdXBwb3J0ZWQgPSB2YWw7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgU2hhZG93IERPTSBzdHJlYW1pbmcgaXMgc3VwcG9ydGVkLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCh3aW4pIHtcbiAgaWYgKHNoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc2hhZG93RG9tU3RyZWFtaW5nU3VwcG9ydGVkID0gY2FsY1NoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCh3aW4pO1xuICB9XG4gIHJldHVybiBzaGFkb3dEb21TdHJlYW1pbmdTdXBwb3J0ZWQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FsY1NoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCh3aW4pIHtcbiAgLy8gQVBJIG11c3QgYmUgc3VwcG9ydGVkLlxuICBpZiAoIXdpbi5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbiB8fFxuICAgICAgdHlwZW9mIHdpbi5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBGaXJlZm94IGRvZXMgbm90IHN1cHBvcnQgRE9NIHN0cmVhbWluZy5cbiAgLy8gU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04NjcxMDJcbiAgaWYgKFNlcnZpY2VzLnBsYXRmb3JtRm9yKHdpbikuaXNGaXJlZm94KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGZ1bGwgc3RyZWFtaW5nIHN1cHBvcnQuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgU2hhZG93IERPTSB3cml0ZXIgYXZhaWxhYmxlIG9uIHRoaXMgcGxhdGZvcm0uXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7IVNoYWRvd0RvbVdyaXRlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRvd0RvbVdyaXRlcih3aW4pIHtcbiAgaWYgKGlzU2hhZG93RG9tU3RyZWFtaW5nU3VwcG9ydGVkKHdpbikpIHtcbiAgICByZXR1cm4gbmV3IFNoYWRvd0RvbVdyaXRlclN0cmVhbWVyKHdpbik7XG4gIH1cbiAgcmV0dXJuIG5ldyBTaGFkb3dEb21Xcml0ZXJCdWxrKHdpbik7XG59XG5cblxuLyoqXG4gKiBUYWtlcyBhcyBhbiBpbnB1dCBhIHRleHQgc3RyZWFtLCBwYXJzZXMgaXQgYW5kIGluY3JlbWVudGFsbHkgcmVjb25zdHJ1Y3RzXG4gKiBpdCBpbiB0aGUgc2hhZG93IHJvb3QuXG4gKlxuICogU2VlIGh0dHBzOi8vamFrZWFyY2hpYmFsZC5jb20vMjAxNi9mdW4taGFja3MtZmFzdGVyLWNvbnRlbnQvIGZvciBtb3JlXG4gKiBkZXRhaWxzLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqIEBleHRlbmRzIHtXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJ9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIFNoYWRvd0RvbVdyaXRlciB7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBib2R5IGhhcyBiZWVuIHBhcnNlZC5cbiAgICpcbiAgICogVW5saWtlIG1vc3Qgb2Ygb3RoZXIgbm9kZXMsIGA8Ym9keT5gIGNhbm5vdCBiZSBzaW1wbHkgbWVyZ2VkIHRvIHN1cHBvcnRcbiAgICogU0QgcG9seWZpbGwgd2hlcmUgdGhlIHVzZSBvZiBgPGJvZHk+YCBlbGVtZW50IGlzIG5vdCBwb3NzaWJsZS4gVGhlXG4gICAqIGNhbGxiYWNrIHdpbGwgYmUgZ2l2ZW4gdGhlIHBhcnNlZCBkb2N1bWVudCBhbmQgaXQgbXVzdCByZXR1cm4gYmFja1xuICAgKiB0aGUgcmVjb25zdHJ1Y3RlZCBgPGJvZHk+YCBub2RlIGluIHRoZSB0YXJnZXQgRE9NIHdoZXJlIGFsbCBjaGlsZHJlblxuICAgKiB3aWxsIGJlIHN0cmVhbWVkIGludG8uXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIURvY3VtZW50KTohRWxlbWVudH0gdW51c2VkQ2FsbGJhY2tcbiAgICovXG4gIG9uQm9keSh1bnVzZWRDYWxsYmFjaykge31cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIG5ldyBub2RlcyBoYXZlIGJlZW4gbWVyZ2VkXG4gICAqIGludG8gdGhlIHRhcmdldCBET00uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gdW51c2VkQ2FsbGJhY2tcbiAgICovXG4gIG9uQm9keUNodW5rKHVudXNlZENhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIERPTSBoYXMgYmVlbiBmdWxseVxuICAgKiBjb25zdHJ1Y3RlZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSB1bnVzZWRDYWxsYmFja1xuICAgKi9cbiAgb25FbmQodW51c2VkQ2FsbGJhY2spIHt9XG59XG5cblxuLyoqXG4gKiBUYWtlcyBhcyBhbiBpbnB1dCBhIHRleHQgc3RyZWFtLCBwYXJzZXMgaXQgYW5kIGluY3JlbWVudGFsbHkgcmVjb25zdHJ1Y3RzXG4gKiBpdCBpbiB0aGUgc2hhZG93IHJvb3QuXG4gKlxuICogU2VlIGh0dHBzOi8vamFrZWFyY2hpYmFsZC5jb20vMjAxNi9mdW4taGFja3MtZmFzdGVyLWNvbnRlbnQvIGZvciBtb3JlXG4gKiBkZXRhaWxzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtTaGFkb3dEb21Xcml0ZXJ9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIFNoYWRvd0RvbVdyaXRlclN0cmVhbWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshRG9jdW1lbnR9ICovXG4gICAgdGhpcy5wYXJzZXJfID0gd2luLmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gICAgdGhpcy5wYXJzZXJfLm9wZW4oKTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5ib3VuZE1lcmdlXyA9IHRoaXMubWVyZ2VfLmJpbmQodGhpcyk7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbighRG9jdW1lbnQpOiFFbGVtZW50fSAqL1xuICAgIHRoaXMub25Cb2R5XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigpfSAqL1xuICAgIHRoaXMub25Cb2R5Q2h1bmtfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Z1bmN0aW9uKCl9ICovXG4gICAgdGhpcy5vbkVuZF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMubWVyZ2VTY2hlZHVsZWRfID0gZmFsc2U7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLnN1Y2Nlc3NfID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5lb2ZfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMudGFyZ2V0Qm9keV8gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvbkJvZHkoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uQm9keV8gPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Cb2R5Q2h1bmsoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uQm9keUNodW5rXyA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvbkVuZChjYWxsYmFjaykge1xuICAgIHRoaXMub25FbmRfID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHdyaXRlKGNodW5rKSB7XG4gICAgaWYgKHRoaXMuZW9mXykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbG9zZWQgYWxyZWFkeScpO1xuICAgIH1cbiAgICBpZiAoY2h1bmspIHtcbiAgICAgIHRoaXMucGFyc2VyXy53cml0ZSgvKiogQHR5cGUge3N0cmluZ30gKi8gKGNodW5rKSk7XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGVfKCk7XG4gICAgcmV0dXJuIHRoaXMuc3VjY2Vzc187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMucGFyc2VyXy5jbG9zZSgpO1xuICAgIHRoaXMuZW9mXyA9IHRydWU7XG4gICAgdGhpcy5zY2hlZHVsZV8oKTtcbiAgICByZXR1cm4gdGhpcy5zdWNjZXNzXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWJvcnQodW51c2VkUmVhc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVsZWFzZUxvY2soKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXQgZGVzaXJlZFNpemUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IHJlYWR5KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc2NoZWR1bGVfKCkge1xuICAgIGRldigpLmFzc2VydCh0aGlzLm9uQm9keV8gJiYgdGhpcy5vbkJvZHlDaHVua18gJiYgdGhpcy5vbkVuZF8pO1xuICAgIGlmICghdGhpcy5tZXJnZVNjaGVkdWxlZF8pIHtcbiAgICAgIHRoaXMubWVyZ2VTY2hlZHVsZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSh0aGlzLmJvdW5kTWVyZ2VfKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgbWVyZ2VfKCkge1xuICAgIHRoaXMubWVyZ2VTY2hlZHVsZWRfID0gZmFsc2U7XG5cbiAgICAvLyBCb2R5IGhhcyBiZWVuIG5ld2x5IHBhcnNlZC5cbiAgICBpZiAoIXRoaXMudGFyZ2V0Qm9keV8gJiYgdGhpcy5wYXJzZXJfLmJvZHkpIHtcbiAgICAgIHRoaXMudGFyZ2V0Qm9keV8gPSB0aGlzLm9uQm9keV8odGhpcy5wYXJzZXJfKTtcbiAgICB9XG5cbiAgICAvLyBNZXJnZSBib2R5IGNoaWxkcmVuLlxuICAgIGlmICh0aGlzLnRhcmdldEJvZHlfKSB7XG4gICAgICBjb25zdCBpbnB1dEJvZHkgPSAvKiogQHR5cGUgIUVsZW1lbnQgKi8oZGV2KCkuYXNzZXJ0KHRoaXMucGFyc2VyXy5ib2R5KSk7XG4gICAgICBjb25zdCB0YXJnZXRCb2R5ID0gZGV2KCkuYXNzZXJ0KHRoaXMudGFyZ2V0Qm9keV8pO1xuICAgICAgbGV0IHRyYW5zZmVyQ291bnQgPSAwO1xuICAgICAgcmVtb3ZlTm9TY3JpcHRFbGVtZW50cyhpbnB1dEJvZHkpO1xuICAgICAgd2hpbGUgKGlucHV0Qm9keS5maXJzdENoaWxkKSB7XG4gICAgICAgIHRyYW5zZmVyQ291bnQrKztcbiAgICAgICAgdGFyZ2V0Qm9keS5hcHBlbmRDaGlsZChpbnB1dEJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmZXJDb3VudCA+IDApIHtcbiAgICAgICAgdGhpcy5vbkJvZHlDaHVua18oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFT0YuXG4gICAgaWYgKHRoaXMuZW9mXykge1xuICAgICAgdGhpcy5vbkVuZF8oKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFRha2VzIGFzIGFuIGlucHV0IGEgdGV4dCBzdHJlYW0sIGFnZ3JlZ2F0ZXMgaXQgYW5kIHBhcnNlcyBpdCBpbiBvbmUgYnVsay5cbiAqIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGFnYWluc3QgdGhlIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgc3RyZWFtaW5nIERPTVxuICogcGFyc2luZy4gTWFpbmx5IGN1cnJlbnRseSBGaXJlZm94LlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzI4MjcgYW5kXG4gKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04NjcxMDJcbiAqXG4gKiBAaW1wbGVtZW50cyB7U2hhZG93RG9tV3JpdGVyfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFkb3dEb21Xcml0ZXJCdWxrIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgeyFBcnJheTxzdHJpbmc+fSAqL1xuICAgIHRoaXMuZnVsbEh0bWxfID0gW107XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oIURvY3VtZW50KTohRWxlbWVudH0gKi9cbiAgICB0aGlzLm9uQm9keV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLm9uQm9keUNodW5rXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigpfSAqL1xuICAgIHRoaXMub25FbmRfID0gbnVsbDtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMuc3VjY2Vzc18gPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmVvZl8gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Cb2R5KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbkJvZHlfID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uQm9keUNodW5rKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbkJvZHlDaHVua18gPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25FbmQoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uRW5kXyA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB3cml0ZShjaHVuaykge1xuICAgIGRldigpLmFzc2VydCh0aGlzLm9uQm9keV8gJiYgdGhpcy5vbkJvZHlDaHVua18gJiYgdGhpcy5vbkVuZF8pO1xuICAgIGlmICh0aGlzLmVvZl8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xvc2VkIGFscmVhZHknKTtcbiAgICB9XG4gICAgaWYgKGNodW5rKSB7XG4gICAgICB0aGlzLmZ1bGxIdG1sXy5wdXNoKGRldigpLmFzc2VydFN0cmluZyhjaHVuaykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdWNjZXNzXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2xvc2UoKSB7XG4gICAgZGV2KCkuYXNzZXJ0KHRoaXMub25Cb2R5XyAmJiB0aGlzLm9uQm9keUNodW5rXyAmJiB0aGlzLm9uRW5kXyk7XG4gICAgdGhpcy5lb2ZfID0gdHJ1ZTtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4gdGhpcy5jb21wbGV0ZV8oKSk7XG4gICAgcmV0dXJuIHRoaXMuc3VjY2Vzc187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFib3J0KHVudXNlZFJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlbGVhc2VMb2NrKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldCBjbG9zZWQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IGRlc2lyZWRTaXplKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldCByZWFkeSgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGNvbXBsZXRlXygpIHtcbiAgICBjb25zdCBmdWxsSHRtbCA9IHRoaXMuZnVsbEh0bWxfLmpvaW4oJycpO1xuICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZnVsbEh0bWwsICd0ZXh0L2h0bWwnKTtcblxuICAgIC8vIE1lcmdlIGJvZHkuXG4gICAgaWYgKGRvYy5ib2R5KSB7XG4gICAgICBjb25zdCBpbnB1dEJvZHkgPSBkb2MuYm9keTtcbiAgICAgIGNvbnN0IHRhcmdldEJvZHkgPSB0aGlzLm9uQm9keV8oZG9jKTtcbiAgICAgIGxldCB0cmFuc2ZlckNvdW50ID0gMDtcbiAgICAgIHJlbW92ZU5vU2NyaXB0RWxlbWVudHMoaW5wdXRCb2R5KTtcbiAgICAgIHdoaWxlIChpbnB1dEJvZHkuZmlyc3RDaGlsZCkge1xuICAgICAgICB0cmFuc2ZlckNvdW50Kys7XG4gICAgICAgIHRhcmdldEJvZHkuYXBwZW5kQ2hpbGQoaW5wdXRCb2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zZmVyQ291bnQgPiAwKSB7XG4gICAgICAgIHRoaXMub25Cb2R5Q2h1bmtfKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRU9GLlxuICAgIHRoaXMub25FbmRfKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYW55IG5vc2NyaXB0IGVsZW1lbnRzLlxuICpcbiAqIEFjY29yZGluZyB0byB0aGUgc3BlY1xuICogKGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9ET00tUGFyc2luZy8jdGhlLWRvbXBhcnNlci1pbnRlcmZhY2UpLCB3aXRoXG4gKiBgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nYCwgY29udGVudHMgb2YgYG5vc2NyaXB0YCBnZXQgcGFyc2VkIGFzIG1hcmt1cCxcbiAqIHNvIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZW0gbWFudWFsbHkuIFdoeT8gwq9cXF8o44OEKV8vwq8gYGNyZWF0ZUhUTUxEb2N1bWVudCgpYFxuICogc2VlbXMgdG8gYmVoYXZlIHRoZSBzYW1lIHdheS5cbiAqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTm9TY3JpcHRFbGVtZW50cyhwYXJlbnQpIHtcbiAgY29uc3Qgbm9zY3JpcHRFbGVtZW50cyA9IGNoaWxkRWxlbWVudHNCeVRhZyhwYXJlbnQsICdub3NjcmlwdCcpO1xuICBpdGVyYXRlQ3Vyc29yKG5vc2NyaXB0RWxlbWVudHMsIGVsZW1lbnQgPT4ge1xuICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudCk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7ZGV2fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge21hcH0gZnJvbSAnLi91dGlscy9vYmplY3QuanMnO1xuXG5sZXQgY29udGFpbmVyO1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGh0bWwgaGVscGVyIGZvciB0aGUgZG9jLlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR8IURvY3VtZW50fSBub2RlT3JEb2NcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCFBcnJheTxzdHJpbmc+KTohRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh0bWxGb3Iobm9kZU9yRG9jKSB7XG4gIGNvbnN0IGRvYyA9IG5vZGVPckRvYy5vd25lckRvY3VtZW50IHx8IG5vZGVPckRvYztcbiAgaWYgKCFjb250YWluZXIgfHwgY29udGFpbmVyLm93bmVyRG9jdW1lbnQgIT09IGRvYykge1xuICAgIGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgfVxuXG4gIHJldHVybiBodG1sO1xufVxuXG4vKipcbiAqIEEgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWwgaGVscGVyIHRvIGdlbmVyYXRlIHN0YXRpYyBET00gdHJlZXMuXG4gKiBUaGlzIG11c3QgYmUgdXNlZCBhcyBhIHRhZ2dlZCB0ZW1wbGF0ZSwgaWVcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGRpdiA9IGh0bWxgPGRpdj48c3Bhbj48L3NwYW4+PC9kaXY+YDtcbiAqIGBgYFxuICpcbiAqIE9ubHkgdGhlIHJvb3QgZWxlbWVudCBhbmQgaXRzIHN1YnRyZWUgd2lsbCBiZSByZXR1cm5lZC4gRE8gTk9UIHVzZSB0aGlzIHRvXG4gKiByZW5kZXIgc3VidHJlZSdzIHdpdGggZHluYW1pYyBjb250ZW50LCBpdCBXSUxMIHJlc3VsdCBpbiBhbiBlcnJvciFcbiAqXG4gKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBzdHJpbmdzXG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gaHRtbChzdHJpbmdzKSB7XG4gIGRldigpLmFzc2VydChzdHJpbmdzLmxlbmd0aCA9PT0gMSwgJ0ltcHJvcGVyIGh0bWwgdGVtcGxhdGUgdGFnIHVzYWdlLicpO1xuICBjb250YWluZXIuLypPSyovaW5uZXJIVE1MID0gc3RyaW5nc1swXTtcblxuICBjb25zdCBlbCA9IGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgZGV2KCkuYXNzZXJ0KGVsLCAnTm8gZWxlbWVudHMgaW4gdGVtcGxhdGUnKTtcbiAgZGV2KCkuYXNzZXJ0KCFlbC5uZXh0RWxlbWVudFNpYmxpbmcsICdUb28gbWFueSByb290IGVsZW1lbnRzIGluIHRlbXBsYXRlJyk7XG5cbiAgLy8gQ2xlYXIgdG8gZnJlZSBtZW1vcnkuXG4gIGNvbnRhaW5lci4vKk9LKi9pbm5lckhUTUwgPSAnJztcblxuICByZXR1cm4gZWw7XG59XG5cbi8qKlxuICogUXVlcmllcyBhbiBlbGVtZW50IGZvciBhbGwgZWxlbWVudHMgd2l0aCBhIFwicmVmXCIgYXR0cmlidXRlLCByZW1vdmluZ1xuICogdGhlIGF0dHJpYnV0ZSBhZnRlcndhcmRzLlxuICogUmV0dXJucyBhIG5hbWVkIG1hcCBvZiBhbGwgcmVmIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCAhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodG1sUmVmcyhyb290KSB7XG4gIGNvbnN0IGVsZW1lbnRzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbcmVmXScpO1xuICBjb25zdCByZWZzID0gbWFwKCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBjb25zdCByZWYgPSBkZXYoKS5hc3NlcnQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JlZicpLCAnRW1wdHkgcmVmIGF0dHInKTtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVmJyk7XG4gICAgZGV2KCkuYXNzZXJ0KHJlZnNbcmVmXSA9PT0gdW5kZWZpbmVkLCAnRHVwbGljYXRlIHJlZicpO1xuICAgIHJlZnNbcmVmXSA9IGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gcmVmcztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBfbWF0Y2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9VcHBlckNhc2UoX21hdGNoLCBjaGFyYWN0ZXIpIHtcbiAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBwcmVwZW5kRGFzaEFuZFRvTG93ZXJDYXNlKG1hdGNoKSB7XG4gIHJldHVybiAnLScgKyBtYXRjaC50b0xvd2VyQ2FzZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEF0dHJpYnV0ZSBuYW1lIGNvbnRhaW5pbmcgZGFzaGVzLlxuICogQHJldHVybiB7c3RyaW5nfSBEYXNoZXMgcmVtb3ZlZCBhbmQgc3VjY2Vzc2l2ZSBjaGFyYWN0ZXIgc2VudCB0byB1cHBlciBjYXNlLlxuICogdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhc2hUb0NhbWVsQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoLy0oW2Etel0pL2csIHRvVXBwZXJDYXNlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyB0aGF0IGlzIGluIGNhbWVsQ2FzZSB0byBvbmUgdGhhdCBpcyBpbiBkYXNoLWNhc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgaW4gZGFzaC1jYXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FtZWxDYXNlVG9EYXNoKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyg/IV4pW0EtWl0vZywgcHJlcGVuZERhc2hBbmRUb0xvd2VyQ2FzZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWUgd2l0aCBkYXNoZXNcbiAqIEByZXR1cm4ge3N0cmluZ30gRGFzaGVzIHJlcGxhY2VkIGJ5IHVuZGVybGluZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYXNoVG9VbmRlcmxpbmUobmFtZSkge1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKCctJywgJ18nKTtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdWZmaXhcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHN1ZmZpeCkge1xuICBjb25zdCBpbmRleCA9IHN0cmluZy5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHJpbmcuaW5kZXhPZihzdWZmaXgsIGluZGV4KSA9PSBpbmRleDtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCBwcmVmaXgpIHtcbiAgaWYgKHByZWZpeC5sZW5ndGggPiBzdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBzdHJpbmcubGFzdEluZGV4T2YocHJlZml4LCAwKSA9PSAwO1xufVxuXG4vKipcbiAqIEV4cGFuZHMgcGxhY2Vob2xkZXJzIGluIGEgZ2l2ZW4gdGVtcGxhdGUgc3RyaW5nIHdpdGggdmFsdWVzLlxuICpcbiAqIFBsYWNlaG9sZGVycyB1c2UgJHtrZXktbmFtZX0gc3ludGF4IGFuZCBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgdmFsdWVcbiAqIHJldHVybmVkIGZyb20gdGhlIGdpdmVuIGdldHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgVGhlIHRlbXBsYXRlIHN0cmluZyB0byBleHBhbmQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyk6Kn0gZ2V0dGVyIEZ1bmN0aW9uIHVzZWQgdG8gcmV0cmlldmUgYSB2YWx1ZSBmb3IgYVxuICogICBwbGFjZWhvbGRlci4gUmV0dXJucyB2YWx1ZXMgd2lsbCBiZSBjb2VyY2VkIGludG8gc3RyaW5ncy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X21heEl0ZXJhdGlvbnMgTnVtYmVyIG9mIHRpbWVzIHRvIGV4cGFuZCB0aGUgdGVtcGxhdGUuXG4gKiAgIERlZmF1bHRzIHRvIDEsIGJ1dCBzaG91bGQgYmUgc2V0IHRvIGEgbGFyZ2VyIHZhbHVlIHlvdXIgcGxhY2Vob2xkZXIgdG9rZW5zXG4gKiAgIGNhbiBiZSBleHBhbmRlZCB0byBvdGhlciBwbGFjZWhvbGRlciB0b2tlbnMuIFRha2UgY2F1dGlvbiB3aXRoIGxhcmdlIHZhbHVlc1xuICogICBhcyByZWN1cnNpdmVseSBleHBhbmRpbmcgYSBzdHJpbmcgY2FuIGJlIGV4cG9uZW50aWFsbHkgZXhwZW5zaXZlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kVGVtcGxhdGUodGVtcGxhdGUsIGdldHRlciwgb3B0X21heEl0ZXJhdGlvbnMpIHtcbiAgY29uc3QgbWF4SXRlcmF0aW9ucyA9IG9wdF9tYXhJdGVyYXRpb25zIHx8IDE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgbGV0IG1hdGNoZXMgPSAwO1xuICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvXFwkeyhbXn1dKil9L2csIChfYSwgYikgPT4ge1xuICAgICAgbWF0Y2hlcysrO1xuICAgICAgcmV0dXJuIGdldHRlcihiKTtcbiAgICB9KTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbi8qKlxuICogSGFzaCBmdW5jdGlvbiBkamIyYVxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSBhIHNpbXBsZSwgZmFzdCBoYXNoaW5nIGZ1bmN0aW9uIHVzaW5nIG1pbmltYWwgY29kZS5cbiAqIEl0IGRvZXMgKm5vdCogaGF2ZSBnb29kIGNyeXB0b2dyYXBoaWMgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge3N0cmluZ30gMzItYml0IHVuc2lnbmVkIGhhc2ggb2YgdGhlIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nSGFzaDMyKHN0cikge1xuICBjb25zdCB7bGVuZ3RofSA9IHN0cjtcbiAgbGV0IGhhc2ggPSA1MzgxO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaGFzaCA9IGhhc2ggKiAzMyBeIHN0ci5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIC8vIENvbnZlcnQgZnJvbSAzMi1iaXQgc2lnbmVkIHRvIHVuc2lnbmVkLlxuICByZXR1cm4gU3RyaW5nKGhhc2ggPj4+IDApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHtkZXYsIHJldGhyb3dBc3luY30gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtpbnNlcnRBZnRlck9yQXRTdGFydCwgd2FpdEZvckJvZHl9IGZyb20gJy4vZG9tJztcbmltcG9ydCB7bWFwfSBmcm9tICcuL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3NldFN0eWxlc30gZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQge3dhaXRGb3JTZXJ2aWNlc30gZnJvbSAnLi9yZW5kZXItZGVsYXlpbmctc2VydmljZXMnO1xuXG5jb25zdCBUUkFOU0ZPUk1FUl9QUk9QID0gJ19fQU1QX0NTU19UUic7XG5jb25zdCBTVFlMRV9NQVBfUFJPUCA9ICdfX0FNUF9DU1NfU00nO1xuY29uc3QgYm9keVZpc2libGVTZW50aW5lbCA9ICdfX0FNUF9CT0RZX1ZJU0lCTEUnO1xuXG5cbi8qKlxuICogQWRkcyB0aGUgZ2l2ZW4gY3NzIHRleHQgdG8gdGhlIGdpdmVuIGFtcGRvYy5cbiAqXG4gKiBUaGUgc3R5bGUgdGFncyB3aWxsIGJlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGhlYWQgYmVmb3JlIGFsbCBhdXRob3JcbiAqIHN0eWxlcy4gT25lIGVsZW1lbnQgY2FuIGJlIHRoZSBtYWluIHJ1bnRpbWUgQ1NTLiBUaGlzIGlzIGd1YXJhbnRlZWRcbiAqIHRvIGFsd2F5cyBiZSB0aGUgZmlyc3Qgc3R5bGVzaGVldCBpbiB0aGUgZG9jLlxuICpcbiAqIEBwYXJhbSB7IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvYyBUaGUgYW1wZG9jIHRoYXQgc2hvdWxkIGdldCB0aGUgbmV3IHN0eWxlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcGFyYW0gez9mdW5jdGlvbighRWxlbWVudCl8dW5kZWZpbmVkfSBjYiBDYWxsZWQgd2hlbiB0aGUgbmV3IHN0eWxlcyBhcmUgYXZhaWxhYmxlLlxuICogICAgIE5vdCB1c2luZyBhIHByb21pc2UsIGJlY2F1c2UgdGhpcyBpcyBzeW5jaHJvbm91cyB3aGVuIHBvc3NpYmxlLlxuICogICAgIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNSdW50aW1lQ3NzIElmIHRydWUsIHRoaXMgc3R5bGUgdGFnIHdpbGwgYmUgaW5zZXJ0ZWRcbiAqICAgICBhcyB0aGUgZmlyc3QgZWxlbWVudCBpbiBoZWFkIGFuZCBhbGwgc3R5bGUgZWxlbWVudHMgd2lsbCBiZSBwb3NpdGlvbmVkXG4gKiAgICAgYWZ0ZXIuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9leHRcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFN0eWxlc0ZvckRvYyhcbiAgYW1wZG9jLCBjc3NUZXh0LCBjYiwgb3B0X2lzUnVudGltZUNzcywgb3B0X2V4dCkge1xuICBjb25zdCBjc3NSb290ID0gYW1wZG9jLmdldEhlYWROb2RlKCk7XG4gIGNvbnN0IHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KFxuICAgICAgY3NzUm9vdCxcbiAgICAgIG1heWJlVHJhbnNmb3JtKGNzc1Jvb3QsIGNzc1RleHQpLFxuICAgICAgb3B0X2lzUnVudGltZUNzcyB8fCBmYWxzZSxcbiAgICAgIG9wdF9leHQgfHwgbnVsbCk7XG5cbiAgaWYgKGNiKSB7XG4gICAgY29uc3Qgcm9vdE5vZGUgPSBhbXBkb2MuZ2V0Um9vdE5vZGUoKTtcbiAgICAvLyBTdHlsZXMgYXJlbid0IGFsd2F5cyBhdmFpbGFibGUgc3luY2hyb25vdXNseS4gRS5nLiBpZiB0aGVyZSBpcyBhXG4gICAgLy8gcGVuZGluZyBzdHlsZSBkb3dubG9hZCwgaXQgd2lsbCBoYXZlIHRvIGZpbmlzaCBiZWZvcmUgdGhlIG5ld1xuICAgIC8vIHN0eWxlIGlzIHZpc2libGUuXG4gICAgLy8gRm9yIHRoaXMgcmVhc29uIHdlIHBvbGwgdW50aWwgdGhlIHN0eWxlIGJlY29tZXMgYXZhaWxhYmxlLlxuICAgIC8vIFN5bmMgY2FzZS5cbiAgICBpZiAoc3R5bGVMb2FkZWQocm9vdE5vZGUsIHN0eWxlKSkge1xuICAgICAgY2Ioc3R5bGUpO1xuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cbiAgICAvLyBQb2xsIHVudGlsIHN0eWxlcyBhcmUgYXZhaWxhYmxlLlxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHN0eWxlTG9hZGVkKHJvb3ROb2RlLCBzdHlsZSkpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGNiKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9LCA0KTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5cblxuLyoqXG4gKiBBZGRzIHRoZSBnaXZlbiBjc3MgdGV4dCB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gKiBUT0RPKGR2b3l0ZW5rbywgIzEwNzA1KTogUmVtb3ZlIHRoaXMgbWV0aG9kIG9uY2UgRklFL2FtcGRvYyBtaWdyYXRpb24gaXNcbiAqIGRvbmUuXG4gKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvYyBUaGUgZG9jdW1lbnQgdGhhdCBzaG91bGQgZ2V0IHRoZSBuZXcgc3R5bGVzLlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7P2Z1bmN0aW9uKCFFbGVtZW50KXx1bmRlZmluZWR9IGNiIENhbGxlZCB3aGVuIHRoZSBuZXcgc3R5bGVzIGFyZVxuICogICAgIGF2YWlsYWJsZS4gTm90IHVzaW5nIGEgcHJvbWlzZSwgYmVjYXVzZSB0aGlzIGlzIHN5bmNocm9ub3VzIHdoZW5cbiAqICAgICBwb3NzaWJsZS4gZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc1J1bnRpbWVDc3MgSWYgdHJ1ZSwgdGhpcyBzdHlsZSB0YWcgd2lsbCBiZSBpbnNlcnRlZFxuICogICAgIGFzIHRoZSBmaXJzdCBlbGVtZW50IGluIGhlYWQgYW5kIGFsbCBzdHlsZSBlbGVtZW50cyB3aWxsIGJlIHBvc2l0aW9uZWRcbiAqICAgICBhZnRlci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2V4dFxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsU3R5bGVzTGVnYWN5KFxuICBkb2MsIGNzc1RleHQsIGNiLCBvcHRfaXNSdW50aW1lQ3NzLCBvcHRfZXh0KSB7XG4gIGNvbnN0IHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KFxuICAgICAgZGV2KCkuYXNzZXJ0RWxlbWVudChkb2MuaGVhZCksXG4gICAgICBjc3NUZXh0LFxuICAgICAgb3B0X2lzUnVudGltZUNzcyB8fCBmYWxzZSxcbiAgICAgIG9wdF9leHQgfHwgbnVsbCk7XG5cbiAgaWYgKGNiKSB7XG4gICAgLy8gU3R5bGVzIGFyZW4ndCBhbHdheXMgYXZhaWxhYmxlIHN5bmNocm9ub3VzbHkuIEUuZy4gaWYgdGhlcmUgaXMgYVxuICAgIC8vIHBlbmRpbmcgc3R5bGUgZG93bmxvYWQsIGl0IHdpbGwgaGF2ZSB0byBmaW5pc2ggYmVmb3JlIHRoZSBuZXdcbiAgICAvLyBzdHlsZSBpcyB2aXNpYmxlLlxuICAgIC8vIEZvciB0aGlzIHJlYXNvbiB3ZSBwb2xsIHVudGlsIHRoZSBzdHlsZSBiZWNvbWVzIGF2YWlsYWJsZS5cbiAgICAvLyBTeW5jIGNhc2UuXG4gICAgaWYgKHN0eWxlTG9hZGVkKGRvYywgc3R5bGUpKSB7XG4gICAgICBjYihzdHlsZSk7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICAgIC8vIFBvbGwgdW50aWwgc3R5bGVzIGFyZSBhdmFpbGFibGUuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoc3R5bGVMb2FkZWQoZG9jLCBzdHlsZSkpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGNiKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9LCA0KTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBwcm9wZXJseSBjb25maWd1cmVkIHN0eWxlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFTaGFkb3dSb290fSBjc3NSb290XG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHBhcmFtIHtib29sZWFufSBpc1J1bnRpbWVDc3NcbiAqIEBwYXJhbSB7P3N0cmluZ30gZXh0XG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KGNzc1Jvb3QsIGNzc1RleHQsIGlzUnVudGltZUNzcywgZXh0KSB7XG4gIGxldCBzdHlsZU1hcCA9IGNzc1Jvb3RbU1RZTEVfTUFQX1BST1BdO1xuICBpZiAoIXN0eWxlTWFwKSB7XG4gICAgc3R5bGVNYXAgPSBjc3NSb290W1NUWUxFX01BUF9QUk9QXSA9IG1hcCgpO1xuICB9XG5cbiAgY29uc3QgaXNFeHRDc3MgPSAhaXNSdW50aW1lQ3NzICYmXG4gICAgICAoZXh0ICYmIGV4dCAhPSAnYW1wLWN1c3RvbScgJiYgZXh0ICE9ICdhbXAta2V5ZnJhbWVzJyk7XG4gIGNvbnN0IGtleSA9XG4gICAgICBpc1J1bnRpbWVDc3MgPyAnYW1wLXJ1bnRpbWUnIDpcbiAgICAgICAgaXNFeHRDc3MgPyBgYW1wLWV4dGVuc2lvbj0ke2V4dH1gIDogbnVsbDtcblxuICAvLyBDaGVjayBpZiBpdCBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQgb3IgZGlzY292ZXJlZC5cbiAgaWYgKGtleSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gZ2V0RXhpc3RpbmdTdHlsZUVsZW1lbnQoY3NzUm9vdCwgc3R5bGVNYXAsIGtleSk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBuZXcgc3R5bGUgZWxlbWVudCBhbmQgYXBwZW5kIHRvIGNzc1Jvb3QuXG4gIGNvbnN0IGRvYyA9IChjc3NSb290Lm93bmVyRG9jdW1lbnQgfHwgY3NzUm9vdCk7XG4gIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLi8qT0sqL3RleHRDb250ZW50ID0gY3NzVGV4dDtcbiAgbGV0IGFmdGVyRWxlbWVudCA9IG51bGw7XG4gIC8vIE1ha2Ugc3VyZSB0aGF0IHdlIHBsYWNlIHN0eWxlIHRhZ3MgYWZ0ZXIgdGhlIG1haW4gcnVudGltZSBDU1MuIE90aGVyd2lzZVxuICAvLyB0aGUgb3JkZXIgaXMgcmFuZG9tLlxuICBpZiAoaXNSdW50aW1lQ3NzKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdhbXAtcnVudGltZScsICcnKTtcbiAgfSBlbHNlIGlmIChpc0V4dENzcykge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnYW1wLWV4dGVuc2lvbicsIGV4dCB8fCAnJyk7XG4gICAgYWZ0ZXJFbGVtZW50ID0gZGV2KCkuYXNzZXJ0RWxlbWVudChnZXRFeGlzdGluZ1N0eWxlRWxlbWVudChcbiAgICAgICAgY3NzUm9vdCwgc3R5bGVNYXAsICdhbXAtcnVudGltZScpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZXh0KSB7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoZXh0LCAnJyk7XG4gICAgfVxuICAgIGFmdGVyRWxlbWVudCA9IGNzc1Jvb3QubGFzdENoaWxkO1xuICB9XG4gIGluc2VydEFmdGVyT3JBdFN0YXJ0KGNzc1Jvb3QsIHN0eWxlLCBhZnRlckVsZW1lbnQpO1xuICBpZiAoa2V5KSB7XG4gICAgc3R5bGVNYXBba2V5XSA9IHN0eWxlO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR8IVNoYWRvd1Jvb3R9IGNzc1Jvb3RcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFFbGVtZW50Pn0gc3R5bGVNYXBcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXRFeGlzdGluZ1N0eWxlRWxlbWVudChjc3NSb290LCBzdHlsZU1hcCwga2V5KSB7XG4gIC8vIEFscmVhZHkgY2FjaGVkLlxuICBpZiAoc3R5bGVNYXBba2V5XSkge1xuICAgIHJldHVybiBzdHlsZU1hcFtrZXldO1xuICB9XG4gIC8vIENoZWNrIGlmIHRoZSBzdHlsZSBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIGJ5IHRoZSBzZXJ2ZXIgbGF5b3V0LlxuICBjb25zdCBleGlzdGluZyA9IGNzc1Jvb3QuLypPSyovcXVlcnlTZWxlY3Rvcihgc3R5bGVbJHtrZXl9XWApO1xuICBpZiAoZXhpc3RpbmcpIHtcbiAgICBzdHlsZU1hcFtrZXldID0gZXhpc3Rpbmc7XG4gICAgcmV0dXJuIGV4aXN0aW5nO1xuICB9XG4gIC8vIE5vdGhpbmcgZm91bmQuXG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogQXBwbGllcyBhIHRyYW5zZm9ybWVyIHRvIHRoZSBDU1MgdGV4dCBpZiBpdCBoYXMgYmVlbiByZWdpc3RlcmVkLlxuICogQHBhcmFtIHshRWxlbWVudHwhU2hhZG93Um9vdH0gY3NzUm9vdFxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpOnN0cmluZ30gdHJhbnNmb3JtZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxDc3NUcmFuc2Zvcm1lcihjc3NSb290LCB0cmFuc2Zvcm1lcikge1xuICBjc3NSb290W1RSQU5TRk9STUVSX1BST1BdID0gdHJhbnNmb3JtZXI7XG59XG5cblxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNmb3JtZXIgdG8gdGhlIENTUyB0ZXh0IGlmIGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFTaGFkb3dSb290fSBjc3NSb290XG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBtYXliZVRyYW5zZm9ybShjc3NSb290LCBjc3NUZXh0KSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gY3NzUm9vdFtUUkFOU0ZPUk1FUl9QUk9QXTtcbiAgcmV0dXJuIHRyYW5zZm9ybWVyID8gdHJhbnNmb3JtZXIoY3NzVGV4dCkgOiBjc3NUZXh0O1xufVxuXG5cbi8qKlxuICogU2V0cyB0aGUgZG9jdW1lbnQncyBib2R5IG9wYWNpdHkgdG8gMS5cbiAqIElmIHRoZSBib2R5IGlzIG5vdCB5ZXQgYXZhaWxhYmxlIChiZWNhdXNlIG91ciBzY3JpcHQgd2FzIGxvYWRlZFxuICogc3luY2hyb25vdXNseSksIHBvbGxzIHVudGlsIGl0IGlzLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvYyBUaGUgZG9jdW1lbnQgd2hvJ3MgYm9keSB3ZSBzaG91bGQgbWFrZSB2aXNpYmxlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3dhaXRGb3JTZXJ2aWNlcyBXaGV0aGVyIHRoZSBib2R5IHZpc2liaWxpdHkgc2hvdWxkXG4gKiAgICAgYmUgYmxvY2tlZCBvbiBrZXkgc2VydmljZXMgYmVpbmcgbG9hZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUJvZHlWaXNpYmxlKGRvYywgb3B0X3dhaXRGb3JTZXJ2aWNlcykge1xuICBkZXYoKS5hc3NlcnQoZG9jLmRlZmF1bHRWaWV3LCAnUGFzc2VkIGluIGRvY3VtZW50IG11c3QgaGF2ZSBhIGRlZmF1bHRWaWV3Jyk7XG4gIGNvbnN0IHdpbiA9IC8qKiBAdHlwZSB7IVdpbmRvd30gKi8gKGRvYy5kZWZhdWx0Vmlldyk7XG4gIGlmICh3aW5bYm9keVZpc2libGVTZW50aW5lbF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2V0ID0gKCkgPT4ge1xuICAgIHdpbltib2R5VmlzaWJsZVNlbnRpbmVsXSA9IHRydWU7XG4gICAgc2V0U3R5bGVzKGRldigpLmFzc2VydEVsZW1lbnQoZG9jLmJvZHkpLCB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLFxuICAgICAgJ2FuaW1hdGlvbic6ICdub25lJyxcbiAgICB9KTtcbiAgICByZW5kZXJTdGFydGVkTm9JbmxpbmUoZG9jKTtcbiAgfTtcbiAgdHJ5IHtcbiAgICB3YWl0Rm9yQm9keShkb2MsICgpID0+IHtcbiAgICAgIGlmICh3aW5bYm9keVZpc2libGVTZW50aW5lbF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luW2JvZHlWaXNpYmxlU2VudGluZWxdID0gdHJ1ZTtcbiAgICAgIGlmIChvcHRfd2FpdEZvclNlcnZpY2VzKSB7XG4gICAgICAgIHdhaXRGb3JTZXJ2aWNlcyh3aW4pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgcmV0aHJvd0FzeW5jKHJlYXNvbik7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9KS50aGVuKHNlcnZpY2VzID0+IHtcbiAgICAgICAgICBzZXQoKTtcbiAgICAgICAgICBpZiAoc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgU2VydmljZXMucmVzb3VyY2VzRm9yRG9jKGRvYykuLypPSyovc2NoZWR1bGVQYXNzKFxuICAgICAgICAgICAgICAgIDEsIC8qIHJlbGF5b3V0QWxsICovIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGVyZiA9IFNlcnZpY2VzLnBlcmZvcm1hbmNlRm9yKHdpbik7XG4gICAgICAgICAgICBwZXJmLnRpY2soJ21idicpO1xuICAgICAgICAgICAgcGVyZi5mbHVzaCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZiB0aGVyZSB3YXMgYW4gZXJyb3IgZHVyaW5nIHRoZSBsb2dpYyBhYm92ZSAoc3VjaCBhcyBzZXJ2aWNlIG5vdFxuICAgIC8vIHlldCBpbnN0YWxsZWQsIGRlZmluaXRlbHkgdHJ5IHRvIG1ha2UgdGhlIGJvZHkgdmlzaWJsZS5cbiAgICBzZXQoKTtcbiAgICAvLyBBdm9pZCBlcnJvcnMgaW4gdGhlIGZ1bmN0aW9uIHRvIGJyZWFrIGV4ZWN1dGlvbiBmbG93IGFzIHRoaXMgaXNcbiAgICAvLyBvZnRlbiBjYWxsZWQgYXMgYSBsYXN0IHJlc29ydC5cbiAgICByZXRocm93QXN5bmMoZSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3RhcnRlZE5vSW5saW5lKGRvYykge1xuICB0cnkge1xuICAgIFNlcnZpY2VzLnJlc291cmNlc0ZvckRvYyhkb2MpLnJlbmRlclN0YXJ0ZWQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGBtYWtlQm9keVZpc2libGVgIGlzIGNhbGxlZCBpbiB0aGUgZXJyb3ItcHJvY2Vzc2luZyBjeWNsZSBhbmQgdGh1c1xuICAgIC8vIGNvdWxkIGJlIHRyaWdnZXJlZCB3aGVuIHJ1bnRpbWUncyBpbml0aWFsaXphdGlvbiBpcyBpbmNvbXBsZXRlIHdoaWNoXG4gICAgLy8gd291bGQgY2F1c2UgdW5yZWxhdGVkIGVycm9ycyB0byBiZSB0aHJvd24gaGVyZS5cbiAgfVxufVxuXG5cbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgdGhlIGJvZHkgaXMgYWx3YXlzIHZpc2libGUuIEZvciBpbnN0YW5jZSwgaW4gY2FzZSBvZiBQV0EuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9keUFsd2F5c1Zpc2libGUod2luKSB7XG4gIHdpbltib2R5VmlzaWJsZVNlbnRpbmVsXSA9IHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHN0eWxlIGVsZW1lbnQgd2FzIHJlZ2lzdGVyZWQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSB7IURvY3VtZW50fCFTaGFkb3dSb290fSBkb2NcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzdHlsZUxvYWRlZChkb2MsIHN0eWxlKSB7XG4gIGNvbnN0IHNoZWV0cyA9IGRvYy5zdHlsZVNoZWV0cztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzaGVldCA9IHNoZWV0c1tpXTtcbiAgICBpZiAoc2hlZXQub3duZXJOb2RlID09IHN0eWxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIE5vdGU6IGxvYWRlZCBieSAzcCBzeXN0ZW0uIENhbm5vdCByZWx5IG9uIGJhYmVsIHBvbHlmaWxscy5cbmltcG9ydCB7bWFwfSBmcm9tICcuL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQge3N0YXJ0c1dpdGh9IGZyb20gJy4vc3RyaW5nJztcblxuXG4vKiogQHR5cGUge09iamVjdDxzdHJpbmcsIHN0cmluZz59ICovXG5sZXQgcHJvcGVydHlOYW1lQ2FjaGU7XG5cbi8qKiBAY29uc3QgeyFBcnJheTxzdHJpbmc+fSAqL1xuY29uc3QgdmVuZG9yUHJlZml4ZXMgPSBbJ1dlYmtpdCcsICd3ZWJraXQnLCAnTW96JywgJ21veicsICdtcycsICdPJywgJ28nXTtcblxuXG4vKipcbiAqIEBleHBvcnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYW1lbENhc2UgY2FtZWwgY2FzZWQgc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRpdGxlIGNhc2VkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2FtZWxDYXNlVG9UaXRsZUNhc2UoY2FtZWxDYXNlKSB7XG4gIHJldHVybiBjYW1lbENhc2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYW1lbENhc2Uuc2xpY2UoMSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHRoZSBzdHlsZSBpZiBhIHByZWZpeGVkIHZlcnNpb24gb2YgYSBwcm9wZXJ0eSBleGlzdHMgYW5kIHJldHVybnNcbiAqIGl0IG9yIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7IU9iamVjdH0gc3R5bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZUNhc2UgdGhlIHRpdGxlIGNhc2UgdmVyc2lvbiBvZiBhIGNzcyBwcm9wZXJ0eSBuYW1lXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eSBuYW1lIG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvckpzUHJvcGVydHlOYW1lXyhzdHlsZSwgdGl0bGVDYXNlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmVuZG9yUHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSB2ZW5kb3JQcmVmaXhlc1tpXSArIHRpdGxlQ2FzZTtcbiAgICBpZiAoc3R5bGVbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHlOYW1lO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcG9zc2libHkgcHJlZml4ZWQgSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lIG9mIGEgc3R5bGUgcHJvcGVydHlcbiAqIChleC4gV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uKSBnaXZlbiBhIGNhbWVsQ2FzZSdkIHZlcnNpb24gb2YgdGhlIHByb3BlcnR5XG4gKiAoZXguIHRyYW5zaXRpb25EdXJhdGlvbikuXG4gKiBAZXhwb3J0XG4gKiBAcGFyYW0geyFPYmplY3R9IHN0eWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FtZWxDYXNlIHRoZSBjYW1lbCBjYXNlZCB2ZXJzaW9uIG9mIGEgY3NzIHByb3BlcnR5IG5hbWVcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9ieXBhc3NDYWNoZSBieXBhc3MgdGhlIG1lbW9pemVkIGNhY2hlIG9mIHByb3BlcnR5XG4gKiAgIG1hcHBpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZlbmRvckpzUHJvcGVydHlOYW1lKHN0eWxlLCBjYW1lbENhc2UsIG9wdF9ieXBhc3NDYWNoZSkge1xuICBpZiAoc3RhcnRzV2l0aChjYW1lbENhc2UsICctLScpKSB7XG4gICAgLy8gQ1NTIHZhcnMgYXJlIHJldHVybmVkIGFzIGlzLlxuICAgIHJldHVybiBjYW1lbENhc2U7XG4gIH1cbiAgaWYgKCFwcm9wZXJ0eU5hbWVDYWNoZSkge1xuICAgIHByb3BlcnR5TmFtZUNhY2hlID0gbWFwKCk7XG4gIH1cbiAgbGV0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZUNhY2hlW2NhbWVsQ2FzZV07XG4gIGlmICghcHJvcGVydHlOYW1lIHx8IG9wdF9ieXBhc3NDYWNoZSkge1xuICAgIHByb3BlcnR5TmFtZSA9IGNhbWVsQ2FzZTtcbiAgICBpZiAoc3R5bGVbY2FtZWxDYXNlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCB0aXRsZUNhc2UgPSBjYW1lbENhc2VUb1RpdGxlQ2FzZShjYW1lbENhc2UpO1xuICAgICAgY29uc3QgcHJlZml4ZWRQcm9wZXJ0eU5hbWUgPSBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZV8oc3R5bGUsIHRpdGxlQ2FzZSk7XG5cbiAgICAgIGlmIChzdHlsZVtwcmVmaXhlZFByb3BlcnR5TmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wZXJ0eU5hbWUgPSBwcmVmaXhlZFByb3BlcnR5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFvcHRfYnlwYXNzQ2FjaGUpIHtcbiAgICAgIHByb3BlcnR5TmFtZUNhY2hlW2NhbWVsQ2FzZV0gPSBwcm9wZXJ0eU5hbWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0eU5hbWU7XG59XG5cblxuLyoqXG4gKiBTZXRzIHRoZSBDU1Mgc3R5bGVzIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudCB3aXRoICFpbXBvcnRhbnQuIFRoZSBzdHlsZXNcbiAqIGFyZSBzcGVjaWZpZWQgYXMgYSBtYXAgZnJvbSBDU1MgcHJvcGVydHkgbmFtZXMgdG8gdGhlaXIgdmFsdWVzLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgKj59IHN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SW1wb3J0YW50U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICBmb3IgKGNvbnN0IGsgaW4gc3R5bGVzKSB7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgZ2V0VmVuZG9ySnNQcm9wZXJ0eU5hbWUoc3R5bGVzLCBrKSwgc3R5bGVzW2tdLnRvU3RyaW5nKCksICdpbXBvcnRhbnQnKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHN0eWxlIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudCB3aXRoIG9wdGlvbmFsIHVuaXRzLCBlLmcuIFwicHhcIi5cbiAqIEBwYXJhbSB7P0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdW5pdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9ieXBhc3NDYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgcHJvcGVydHksIHZhbHVlLCBvcHRfdW5pdHMsIG9wdF9ieXBhc3NDYWNoZSkge1xuICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZShlbGVtZW50LnN0eWxlLCBwcm9wZXJ0eSxcbiAgICAgIG9wdF9ieXBhc3NDYWNoZSk7XG4gIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPVxuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChvcHRfdW5pdHMgPyB2YWx1ZSArIG9wdF91bml0cyA6IHZhbHVlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIENTUyBzdHlsZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9ieXBhc3NDYWNoZVxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKGVsZW1lbnQsIHByb3BlcnR5LCBvcHRfYnlwYXNzQ2FjaGUpIHtcbiAgY29uc3QgcHJvcGVydHlOYW1lID0gZ2V0VmVuZG9ySnNQcm9wZXJ0eU5hbWUoZWxlbWVudC5zdHlsZSwgcHJvcGVydHksXG4gICAgICBvcHRfYnlwYXNzQ2FjaGUpO1xuICBpZiAoIXByb3BlcnR5TmFtZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXTtcbn1cblxuXG4vKipcbiAqIFNldHMgdGhlIENTUyBzdHlsZXMgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50LiBUaGUgc3R5bGVzXG4gKiBhIHNwZWNpZmllZCBhcyBhIG1hcCBmcm9tIENTUyBwcm9wZXJ0eSBuYW1lcyB0byB0aGVpciB2YWx1ZXMuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAqPn0gc3R5bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gIGZvciAoY29uc3QgayBpbiBzdHlsZXMpIHtcbiAgICBzZXRTdHlsZShlbGVtZW50LCBrLCBzdHlsZXNba10pO1xuICB9XG59XG5cblxuLyoqXG4gKiBTaG93cyBvciBoaWRlcyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZGlzcGxheVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQsIG9wdF9kaXNwbGF5KSB7XG4gIGlmIChvcHRfZGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0X2Rpc3BsYXkgPSBnZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScpID09ICdub25lJztcbiAgfVxuICBzZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScsIG9wdF9kaXNwbGF5ID8gJycgOiAnbm9uZScpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHBpeGVsIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBweCh2YWx1ZSkge1xuICByZXR1cm4gYCR7dmFsdWV9cHhgO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBkZWdyZWUgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZyh2YWx1ZSkge1xuICByZXR1cm4gYCR7dmFsdWV9ZGVnYDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgXCJ0cmFuc2xhdGVYXCIgZm9yIENTUyBcInRyYW5zZm9ybVwiIHByb3BlcnR5LlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlWCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7dmFsdWV9KWA7XG4gIH1cbiAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7cHgodmFsdWUpfSlgO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIFwidHJhbnNsYXRlWFwiIGZvciBDU1MgXCJ0cmFuc2Zvcm1cIiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30geFxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBvcHRfeVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKHgsIG9wdF95KSB7XG4gIGlmICh0eXBlb2YgeCA9PSAnbnVtYmVyJykge1xuICAgIHggPSBweCh4KTtcbiAgfVxuICBpZiAob3B0X3kgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBgdHJhbnNsYXRlKCR7eH0pYDtcbiAgfVxuICBpZiAodHlwZW9mIG9wdF95ID09ICdudW1iZXInKSB7XG4gICAgb3B0X3kgPSBweChvcHRfeSk7XG4gIH1cbiAgcmV0dXJuIGB0cmFuc2xhdGUoJHt4fSwgJHtvcHRfeX0pYDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBcInNjYWxlXCIgZm9yIENTUyBcInRyYW5zZm9ybVwiIHByb3BlcnR5LlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUodmFsdWUpIHtcbiAgcmV0dXJuIGBzY2FsZSgke3ZhbHVlfSlgO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBcInJvdGF0ZVwiIGZvciBDU1MgXCJ0cmFuc2Zvcm1cIiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgdmFsdWUgPSBkZWcodmFsdWUpO1xuICB9XG4gIHJldHVybiBgcm90YXRlKCR7dmFsdWV9KWA7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFscGhhIHZhbHVlIGZyb20gYSByZ2JhIGNvbG9yIHZhbHVlLlxuICogUmV0dXJuIHRoZSBuZXcgY29sb3IgcHJvcGVydHkgd2l0aCBhbHBoYSBlcXVhbHMgaWYgaGFzIHRoZSBhbHBoYSB2YWx1ZS5cbiAqIENhbGxlciBuZWVkcyB0byBtYWtlIHN1cmUgdGhlIGlucHV0IGNvbG9yIHZhbHVlIGlzIGEgdmFsaWQgcmdiYS9yZ2IgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZ2JhQ29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFscGhhRnJvbUNvbG9yKHJnYmFDb2xvcikge1xuICByZXR1cm4gcmdiYUNvbG9yLnJlcGxhY2UoXG4gICAgICAvXFwoKFteLF0rKSwoW14sXSspLChbXiwpXSspLFteKV0rXFwpL2csICcoJDEsJDIsJDMsIDEpJyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY29tcHV0ZWQgc3R5bGUgb2YgdGhlIGVsZW1lbnQuIFRoZSBoZWxwZXIgaXMgbmVjZXNzYXJ5IHRvIGVuZm9yY2VcbiAqIHRoZSBwb3NzaWJsZSBgbnVsbGAgdmFsdWUgcmV0dXJuZWQgYnkgYSBidWdneSBGaXJlZm94LlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlZFN0eWxlKHdpbiwgZWwpIHtcbiAgY29uc3Qgc3R5bGUgPSAvKiogQHR5cGUgez9DU1NTdHlsZURlY2xhcmF0aW9ufSAqLyh3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCkpO1xuICByZXR1cm4gLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gKi8oc3R5bGUpIHx8IG1hcCgpO1xufVxuXG5cbi8qKlxuICogUmVzZXRzIHN0eWxlcyB0aGF0IHdlcmUgc2V0IGR5bmFtaWNhbGx5IChpLmUuIGlubGluZSlcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U3R5bGVzKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgY29uc3Qgc3R5bGVPYmogPSB7fTtcbiAgcHJvcGVydGllcy5mb3JFYWNoKHByb3AgPT4ge1xuICAgIHN0eWxlT2JqW3Byb3BdID0gbnVsbDtcbiAgfSk7XG4gIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZU9iaik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogQGNvbnN0ICovXG5jb25zdCB0b1N0cmluZ18gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIEVDTUEgW1tDbGFzc11dIG9mIGEgdmFsdWVcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHRvU3RyaW5nXy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHZhbHVlIGlzIGFjdHVhbGx5IGFuIEFycmF5LlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIGFycmF5LlxuICogQHBhcmFtIHs/SUFycmF5TGlrZTxUPnxzdHJpbmd9IGFycmF5TGlrZVxuICogQHJldHVybiB7IUFycmF5PFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXlMaWtlKSB7XG4gIGlmICghYXJyYXlMaWtlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGFycmF5ID0gbmV3IEFycmF5KGFycmF5TGlrZS5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5TGlrZS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gYXJyYXlMaWtlW2ldO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHZhbHVlIGlzIGFjdHVhbGx5IGFuIE9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHZhbHVlIGlzIG9mIG51bWJlciB0eXBlIGFuZCBmaW5pdGUuXG4gKiBOYU4gYW5kIEluZmluaXR5IGFyZSBub3QgY29uc2lkZXJlZCBhIGZpbml0ZSBudW1iZXIuXG4gKiBTdHJpbmcgbnVtYmVycyBhcmUgbm90IGNvbnNpZGVyZWQgbnVtYmVycy5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Zpbml0ZU51bWJlcih2YWx1ZSkge1xuICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBgc2AgaXMgYSB2YWxpZCB2YWx1ZSBvZiBgZW51bU9iamAuXG4gKlxuICogQHBhcmFtIHshT2JqZWN0PFQ+fSBlbnVtT2JqXG4gKiBAcGFyYW0ge1R9IHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbnVtVmFsdWUoZW51bU9iaiwgcykge1xuICBmb3IgKGNvbnN0IGsgaW4gZW51bU9iaikge1xuICAgIGlmIChlbnVtT2JqW2tdID09PSBzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEV4dGVybnMgZGVjbGFyZSB0aGF0IGFjY2VzcyBgZGVmYXVsdFZpZXdgIGZyb20gYGRvY3VtZW50YCBvclxuICogYG93bmVyRG9jdW1lbnRgIGlzIG9mIHR5cGUgYChXaW5kb3d8bnVsbClgIGJ1dCBtb3N0IG9mIG91ciBwYXJhbWV0ZXIgdHlwZXNcbiAqIGFzc3VtZSB0aGF0IGl0IGlzIG5ldmVyIG51bGwuIFRoaXMgaXMgT0sgaW4gcHJhY3RpY2UgYXMgd2UgZXZlciBvbmx5IGdldFxuICogbnVsbCBvbiBkaXNjb25uZWN0ZWQgZG9jdW1lbnRzIG9yIG9sZCBJRS5cbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIGNhc3RzIGl0IGludG8ganVzdCBhIHNpbXBsZSBXaW5kb3cgcmV0dXJuIHR5cGUuXG4gKlxuICogQHBhcmFtIHshV2luZG93fG51bGx9IHdpbk9yTnVsbFxuICogQHJldHVybiB7IVdpbmRvd31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvV2luKHdpbk9yTnVsbCkge1xuICByZXR1cm4gLyoqIEB0eXBlIHshV2luZG93fSAqLyAod2luT3JOdWxsKTtcbn1cblxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7dHJ5RGVjb2RlVXJpQ29tcG9uZW50X30gZnJvbSAnLi91cmwtdHJ5LWRlY29kZS11cmktY29tcG9uZW50JztcblxuY29uc3QgcmVnZXggPSAvKD86XlsjP10/fCYpKFtePSZdKykoPzo9KFteJl0qKSk/L2c7XG5cbi8qKlxuICogUGFyc2VzIHRoZSBxdWVyeSBzdHJpbmcgb2YgYW4gVVJMLiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgc2ltcGxlIGtleS92YWx1ZVxuICogbWFwLiBJZiB0aGVyZSBhcmUgZHVwbGljYXRlIGtleXMgdGhlIGxhdGVzdCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAqXG4gKiBETyBOT1QgaW1wb3J0IHRoZSBmdW5jdGlvbiBmcm9tIHRoaXMgZmlsZS4gSW5zdGVhZCwgaW1wb3J0IHBhcnNlUXVlcnlTdHJpbmdcbiAqIGZyb20gYHNyYy91cmwuanNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVN0cmluZ1xuICogQHJldHVybiB7IUpzb25PYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nXyhxdWVyeVN0cmluZykge1xuICBjb25zdCBwYXJhbXMgPSAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gIGlmICghcXVlcnlTdHJpbmcpIHtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgbGV0IG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyhxdWVyeVN0cmluZykpKSB7XG4gICAgY29uc3QgbmFtZSA9IHRyeURlY29kZVVyaUNvbXBvbmVudF8obWF0Y2hbMV0sIG1hdGNoWzFdKTtcbiAgICBjb25zdCB2YWx1ZSA9IG1hdGNoWzJdID8gdHJ5RGVjb2RlVXJpQ29tcG9uZW50XyhtYXRjaFsyXSwgbWF0Y2hbMl0pIDogJyc7XG4gICAgcGFyYW1zW25hbWVdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFRyaWVzIHRvIGRlY29kZSBhIFVSSSBjb21wb25lbnQsIGZhbGxpbmcgYmFjayB0byBvcHRfZmFsbGJhY2sgKG9yIGFuIGVtcHR5XG4gKiBzdHJpbmcpXG4gKlxuICogRE8gTk9UIGltcG9ydCB0aGUgZnVuY3Rpb24gZnJvbSB0aGlzIGZpbGUuIEluc3RlYWQsIGltcG9ydFxuICogdHJ5RGVjb2RlVXJpQ29tcG9uZW50IGZyb20gYHNyYy91cmwuanNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gZmFsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeURlY29kZVVyaUNvbXBvbmVudF8oY29tcG9uZW50LCBmYWxsYmFjayA9ICcnKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjb21wb25lbnQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtMcnVDYWNoZX0gZnJvbSAnLi91dGlscy9scnUtY2FjaGUnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge2VuZHNXaXRoLCBzdGFydHNXaXRofSBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4vbW9kZSc7XG5pbXBvcnQge2lzQXJyYXl9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtwYXJzZVF1ZXJ5U3RyaW5nX30gZnJvbSAnLi91cmwtcGFyc2UtcXVlcnktc3RyaW5nJztcbmltcG9ydCB7dHJ5RGVjb2RlVXJpQ29tcG9uZW50X30gZnJvbSAnLi91cmwtdHJ5LWRlY29kZS11cmktY29tcG9uZW50JztcbmltcG9ydCB7dXJsc30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuL2xvZyc7XG5cbi8qKlxuICogQHR5cGUgeyFKc29uT2JqZWN0fVxuICovXG5jb25zdCBTRVJWSU5HX1RZUEVfUFJFRklYID0gZGljdCh7XG4gIC8vIE5vIHZpZXdlclxuICAnYyc6IHRydWUsXG4gIC8vIEluIHZpZXdlclxuICAndic6IHRydWUsXG4gIC8vIEFkIGxhbmRpbmcgcGFnZVxuICAnYSc6IHRydWUsXG4gIC8vIEFkXG4gICdhZCc6IHRydWUsXG59KTtcblxuLyoqXG4gKiBDYWNoZWQgYS10YWcgdG8gYXZvaWQgbWVtb3J5IGFsbG9jYXRpb24gZHVyaW5nIFVSTCBwYXJzaW5nLlxuICogQHR5cGUge0hUTUxBbmNob3JFbGVtZW50fVxuICovXG5sZXQgYTtcblxuLyoqXG4gKiBXZSBjYWNoZWQgYWxsIHBhcnNlZCBVUkxzLiBBcyBvZiBub3cgdGhlcmUgYXJlIG5vIHVzZSBjYXNlc1xuICogb2YgQU1QIGRvY3MgdGhhdCB3b3VsZCBldmVyIHBhcnNlIGFuIGFjdHVhbCBsYXJnZSBudW1iZXIgb2YgVVJMcyxcbiAqIGJ1dCB3ZSBvZnRlbiBwYXJzZSB0aGUgc2FtZSBvbmUgb3ZlciBhbmQgb3ZlciBhZ2Fpbi5cbiAqIEB0eXBlIHtMcnVDYWNoZX1cbiAqL1xubGV0IGNhY2hlO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IE1hdGNoZXMgYW1wX2pzXyogcGFyYW1ldGVycyBpbiBxdWVyeSBzdHJpbmcuICovXG5jb25zdCBBTVBfSlNfUEFSQU1TX1JFR0VYID0gL1s/Jl1hbXBfanNbXiZdKi87XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgTWF0Y2hlcyBhbXBfZ3NhIHBhcmFtZXRlcnMgaW4gcXVlcnkgc3RyaW5nLiAqL1xuY29uc3QgQU1QX0dTQV9QQVJBTVNfUkVHRVggPSAvWz8mXWFtcF9nc2FbXiZdKi87XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgTWF0Y2hlcyBhbXBfciBwYXJhbWV0ZXJzIGluIHF1ZXJ5IHN0cmluZy4gKi9cbmNvbnN0IEFNUF9SX1BBUkFNU19SRUdFWCA9IC9bPyZdYW1wX3JbXiZdKi87XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgTWF0Y2hlcyB1c3FwIHBhcmFtZXRlcnMgZnJvbSBnb29nIGV4cGVyaW1lbnQgaW4gcXVlcnkgc3RyaW5nLiAqL1xuY29uc3QgR09PR0xFX0VYUEVSSU1FTlRfUEFSQU1TX1JFR0VYID0gL1s/Jl11c3FwW14mXSovO1xuXG5jb25zdCBJTlZBTElEX1BST1RPQ09MUyA9IFtcbiAgLyplc2xpbnQgbm8tc2NyaXB0LXVybDogMCovICdqYXZhc2NyaXB0OicsXG4gIC8qZXNsaW50IG5vLXNjcmlwdC11cmw6IDAqLyAnZGF0YTonLFxuICAvKmVzbGludCBuby1zY3JpcHQtdXJsOiAwKi8gJ3Zic2NyaXB0OicsXG5dO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgU09VUkNFX09SSUdJTl9QQVJBTSA9ICdfX2FtcF9zb3VyY2Vfb3JpZ2luJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb3JyZWN0IG9yaWdpbiBmb3IgYSBnaXZlbiB3aW5kb3cuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7c3RyaW5nfSBvcmlnaW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbk9yaWdpbih3aW4pIHtcbiAgcmV0dXJuIHdpbi5vcmlnaW4gfHwgcGFyc2VVcmxEZXByZWNhdGVkKHdpbi5sb2NhdGlvbi5ocmVmKS5vcmlnaW47XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvY2F0aW9uLWxpa2Ugb2JqZWN0IGZvciB0aGUgZ2l2ZW4gVVJMLiBJZiBpdCBpcyByZWxhdGl2ZSxcbiAqIHRoZSBVUkwgZ2V0cyByZXNvbHZlZC5cbiAqIENvbnNpZGVyIHRoZSByZXR1cm5lZCBvYmplY3QgaW1tdXRhYmxlLiBUaGlzIGlzIGVuZm9yY2VkIGR1cmluZ1xuICogdGVzdGluZyBieSBmcmVlemluZyB0aGUgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X25vY2FjaGVcbiAqIEByZXR1cm4geyFMb2NhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwsIG9wdF9ub2NhY2hlKSB7XG4gIGlmICghYSkge1xuICAgIGEgPSAvKiogQHR5cGUgeyFIVE1MQW5jaG9yRWxlbWVudH0gKi8gKHNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpKTtcbiAgICBjYWNoZSA9IHNlbGYuVXJsQ2FjaGUgfHwgKHNlbGYuVXJsQ2FjaGUgPSBuZXcgTHJ1Q2FjaGUoMTAwKSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VVcmxXaXRoQShhLCB1cmwsIG9wdF9ub2NhY2hlID8gbnVsbCA6IGNhY2hlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgTG9jYXRpb24tbGlrZSBvYmplY3QgZm9yIHRoZSBnaXZlbiBVUkwuIElmIGl0IGlzIHJlbGF0aXZlLFxuICogdGhlIFVSTCBnZXRzIHJlc29sdmVkLlxuICogQ29uc2lkZXIgdGhlIHJldHVybmVkIG9iamVjdCBpbW11dGFibGUuIFRoaXMgaXMgZW5mb3JjZWQgZHVyaW5nXG4gKiB0ZXN0aW5nIGJ5IGZyZWV6aW5nIHRoZSBvYmplY3QuXG4gKiBAcGFyYW0geyFIVE1MQW5jaG9yRWxlbWVudH0gYVxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtMcnVDYWNoZT19IG9wdF9jYWNoZVxuICogQHJldHVybiB7IUxvY2F0aW9ufVxuICogQHJlc3RyaWN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsV2l0aEEoYSwgdXJsLCBvcHRfY2FjaGUpIHtcbiAgaWYgKG9wdF9jYWNoZSAmJiBvcHRfY2FjaGUuaGFzKHVybCkpIHtcbiAgICByZXR1cm4gb3B0X2NhY2hlLmdldCh1cmwpO1xuICB9XG5cbiAgYS5ocmVmID0gdXJsO1xuXG4gIC8vIElFMTEgZG9lc24ndCBwcm92aWRlIGZ1bGwgVVJMIGNvbXBvbmVudHMgd2hlbiBwYXJzaW5nIHJlbGF0aXZlIFVSTHMuXG4gIC8vIEFzc2lnbmluZyB0byBpdHNlbGYgYWdhaW4gZG9lcyB0aGUgdHJpY2sgIzM0NDkuXG4gIGlmICghYS5wcm90b2NvbCkge1xuICAgIGEuaHJlZiA9IGEuaHJlZjtcbiAgfVxuXG4gIGNvbnN0IGluZm8gPSAvKiogQHR5cGUgeyFMb2NhdGlvbn0gKi8oe1xuICAgIGhyZWY6IGEuaHJlZixcbiAgICBwcm90b2NvbDogYS5wcm90b2NvbCxcbiAgICBob3N0OiBhLmhvc3QsXG4gICAgaG9zdG5hbWU6IGEuaG9zdG5hbWUsXG4gICAgcG9ydDogYS5wb3J0ID09ICcwJyA/ICcnIDogYS5wb3J0LFxuICAgIHBhdGhuYW1lOiBhLnBhdGhuYW1lLFxuICAgIHNlYXJjaDogYS5zZWFyY2gsXG4gICAgaGFzaDogYS5oYXNoLFxuICAgIG9yaWdpbjogbnVsbCwgLy8gU2V0IGJlbG93LlxuICB9KTtcblxuICAvLyBTb21lIElFMTEgc3BlY2lmaWMgcG9seWZpbGxzLlxuICAvLyAxKSBJRTExIHN0cmlwcyBvdXQgdGhlIGxlYWRpbmcgJy8nIGluIHRoZSBwYXRobmFtZS5cbiAgaWYgKGluZm8ucGF0aG5hbWVbMF0gIT09ICcvJykge1xuICAgIGluZm8ucGF0aG5hbWUgPSAnLycgKyBpbmZvLnBhdGhuYW1lO1xuICB9XG5cbiAgLy8gMikgRm9yIFVSTHMgd2l0aCBpbXBsaWNpdCBwb3J0cywgSUUxMSBwYXJzZXMgdG8gZGVmYXVsdCBwb3J0cyB3aGlsZVxuICAvLyBvdGhlciBicm93c2VycyBsZWF2ZSB0aGUgcG9ydCBmaWVsZCBlbXB0eS5cbiAgaWYgKChpbmZvLnByb3RvY29sID09ICdodHRwOicgJiYgaW5mby5wb3J0ID09IDgwKVxuICAgICAgfHwgKGluZm8ucHJvdG9jb2wgPT0gJ2h0dHBzOicgJiYgaW5mby5wb3J0ID09IDQ0MykpIHtcbiAgICBpbmZvLnBvcnQgPSAnJztcbiAgICBpbmZvLmhvc3QgPSBpbmZvLmhvc3RuYW1lO1xuICB9XG5cbiAgLy8gRm9yIGRhdGEgVVJJIGEub3JpZ2luIGlzIGVxdWFsIHRvIHRoZSBzdHJpbmcgJ251bGwnIHdoaWNoIGlzIG5vdCB1c2VmdWwuXG4gIC8vIFdlIGluc3RlYWQgcmV0dXJuIHRoZSBhY3R1YWwgb3JpZ2luIHdoaWNoIGlzIHRoZSBmdWxsIFVSTC5cbiAgaWYgKGEub3JpZ2luICYmIGEub3JpZ2luICE9ICdudWxsJykge1xuICAgIGluZm8ub3JpZ2luID0gYS5vcmlnaW47XG4gIH0gZWxzZSBpZiAoaW5mby5wcm90b2NvbCA9PSAnZGF0YTonIHx8ICFpbmZvLmhvc3QpIHtcbiAgICBpbmZvLm9yaWdpbiA9IGluZm8uaHJlZjtcbiAgfSBlbHNlIHtcbiAgICBpbmZvLm9yaWdpbiA9IGluZm8ucHJvdG9jb2wgKyAnLy8nICsgaW5mby5ob3N0O1xuICB9XG5cbiAgLy8gRnJlZXplIGR1cmluZyB0ZXN0aW5nIHRvIGF2b2lkIGFjY2lkZW50YWwgbXV0YXRpb24uXG4gIGNvbnN0IGZyb3plbiA9IChnZXRNb2RlKCkudGVzdCAmJiBPYmplY3QuZnJlZXplKSA/IE9iamVjdC5mcmVlemUoaW5mbykgOiBpbmZvO1xuXG4gIGlmIChvcHRfY2FjaGUpIHtcbiAgICBvcHRfY2FjaGUucHV0KHVybCwgZnJvemVuKTtcbiAgfVxuXG4gIHJldHVybiBmcm96ZW47XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgc3RyaW5nIGp1c3QgYmVmb3JlIHRoZSBmcmFnbWVudCBwYXJ0IChvciBvcHRpb25hbGx5XG4gKiB0byB0aGUgZnJvbnQgb2YgdGhlIHF1ZXJ5IHN0cmluZykgb2YgdGhlIFVSTC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVN0cmluZ1xuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2FkZFRvRnJvbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEVuY29kZWRQYXJhbVN0cmluZ1RvVXJsKHVybCwgcGFyYW1TdHJpbmcsXG4gIG9wdF9hZGRUb0Zyb250KSB7XG4gIGlmICghcGFyYW1TdHJpbmcpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGNvbnN0IG1haW5BbmRGcmFnbWVudCA9IHVybC5zcGxpdCgnIycsIDIpO1xuICBjb25zdCBtYWluQW5kUXVlcnkgPSBtYWluQW5kRnJhZ21lbnRbMF0uc3BsaXQoJz8nLCAyKTtcblxuICBsZXQgbmV3VXJsID0gbWFpbkFuZFF1ZXJ5WzBdICsgKFxuICAgIG1haW5BbmRRdWVyeVsxXVxuICAgICAgPyAob3B0X2FkZFRvRnJvbnRcbiAgICAgICAgPyBgPyR7cGFyYW1TdHJpbmd9JiR7bWFpbkFuZFF1ZXJ5WzFdfWBcbiAgICAgICAgOiBgPyR7bWFpbkFuZFF1ZXJ5WzFdfSYke3BhcmFtU3RyaW5nfWApXG4gICAgICA6IGA/JHtwYXJhbVN0cmluZ31gKTtcbiAgbmV3VXJsICs9IG1haW5BbmRGcmFnbWVudFsxXSA/IGAjJHttYWluQW5kRnJhZ21lbnRbMV19YCA6ICcnO1xuICByZXR1cm4gbmV3VXJsO1xufVxuLyoqXG4gKiBBcHBlbmRzIGEgcXVlcnkgc3RyaW5nIGZpZWxkIGFuZCB2YWx1ZSB0byBhIHVybC4gYGtleWAgYW5kIGB2YWx1ZWBcbiAqIHdpbGwgYmUgcmFuIHRocm91Z2ggYGVuY29kZVVSSUNvbXBvbmVudGAgYmVmb3JlIGFwcGVuZGluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2FkZFRvRnJvbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFBhcmFtVG9VcmwodXJsLCBrZXksIHZhbHVlLCBvcHRfYWRkVG9Gcm9udCkge1xuICBjb25zdCBmaWVsZCA9IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcbiAgcmV0dXJuIGFwcGVuZEVuY29kZWRQYXJhbVN0cmluZ1RvVXJsKHVybCwgZmllbGQsIG9wdF9hZGRUb0Zyb250KTtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHF1ZXJ5IHN0cmluZyBmaWVsZHMgYW5kIHZhbHVlcyB0byBhIHVybC4gVGhlIGBwYXJhbXNgIG9iamVjdHMnXG4gKiBga2V5YHMgYW5kIGB2YWx1ZWBzIHdpbGwgYmUgdHJhbnNmb3JtZWQgaW50byBxdWVyeSBzdHJpbmcga2V5cy92YWx1ZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0PHN0cmluZywgc3RyaW5nfCFBcnJheTxzdHJpbmc+Pn0gcGFyYW1zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXJhbXNUb1VybCh1cmwsIHBhcmFtcykge1xuICByZXR1cm4gYXBwZW5kRW5jb2RlZFBhcmFtU3RyaW5nVG9VcmwodXJsLCBzZXJpYWxpemVRdWVyeVN0cmluZyhwYXJhbXMpKTtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemVzIHRoZSBwYXNzZWQgcGFyYW1ldGVyIG1hcCBpbnRvIGEgcXVlcnkgc3RyaW5nIHdpdGggYm90aCBrZXlzXG4gKiBhbmQgdmFsdWVzIGVuY29kZWQuXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0PHN0cmluZywgc3RyaW5nfCFBcnJheTxzdHJpbmc+Pn0gcGFyYW1zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVRdWVyeVN0cmluZyhwYXJhbXMpIHtcbiAgY29uc3QgcyA9IFtdO1xuICBmb3IgKGNvbnN0IGsgaW4gcGFyYW1zKSB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1trXTtcbiAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodikpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdiA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodltpXSk7XG4gICAgICAgIHMucHVzaChgJHtlbmNvZGVVUklDb21wb25lbnQoayl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN2KX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3YgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHYpO1xuICAgICAgcy5wdXNoKGAke2VuY29kZVVSSUNvbXBvbmVudChrKX09JHtlbmNvZGVVUklDb21wb25lbnQoc3YpfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBpcyBzZWN1cmU6IGVpdGhlciBIVFRQUyBvciBsb2NhbGhvc3QgKGZvciB0ZXN0aW5nKS5cbiAqIEBwYXJhbSB7c3RyaW5nfCFMb2NhdGlvbn0gdXJsXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTZWN1cmVVcmxEZXByZWNhdGVkKHVybCkge1xuICBpZiAodHlwZW9mIHVybCA9PSAnc3RyaW5nJykge1xuICAgIHVybCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwpO1xuICB9XG4gIHJldHVybiAodXJsLnByb3RvY29sID09ICdodHRwczonIHx8XG4gICAgICB1cmwuaG9zdG5hbWUgPT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAgIGVuZHNXaXRoKHVybC5ob3N0bmFtZSwgJy5sb2NhbGhvc3QnKSk7XG59XG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IGEgZ2l2ZW4gdXJsIGlzIEhUVFBTIG9yIHByb3RvY29sIHJlbGF0aXZlLiBJdCdzIGEgdXNlci1sZXZlbFxuICogYXNzZXJ0LlxuICpcbiAqIFByb3ZpZGVzIGFuIGV4Y2VwdGlvbiBmb3IgbG9jYWxob3N0LlxuICpcbiAqIEBwYXJhbSB7P3N0cmluZ3x1bmRlZmluZWR9IHVybFN0cmluZ1xuICogQHBhcmFtIHshRWxlbWVudHxzdHJpbmd9IGVsZW1lbnRDb250ZXh0IEVsZW1lbnQgd2hlcmUgdGhlIHVybCB3YXMgZm91bmQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHNvdXJjZU5hbWUgVXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRIdHRwc1VybChcbiAgdXJsU3RyaW5nLCBlbGVtZW50Q29udGV4dCwgc291cmNlTmFtZSA9ICdzb3VyY2UnKSB7XG4gIHVzZXIoKS5hc3NlcnQodXJsU3RyaW5nICE9IG51bGwsICclcyAlcyBtdXN0IGJlIGF2YWlsYWJsZScsXG4gICAgICBlbGVtZW50Q29udGV4dCwgc291cmNlTmFtZSk7XG4gIC8vIChlcndpbm0sICM0NTYwKTogdHlwZSBjYXN0IG5lY2Vzc2FyeSB1bnRpbCAjNDU2MCBpcyBmaXhlZC5cbiAgY29uc3QgdGhlVXJsU3RyaW5nID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovICh1cmxTdHJpbmcpO1xuICB1c2VyKCkuYXNzZXJ0KGlzU2VjdXJlVXJsRGVwcmVjYXRlZCh0aGVVcmxTdHJpbmcpIHx8IC9eKFxcL1xcLykvLnRlc3QodGhlVXJsU3RyaW5nKSxcbiAgICAgICclcyAlcyBtdXN0IHN0YXJ0IHdpdGggJyArXG4gICAgICAnXCJodHRwczovL1wiIG9yIFwiLy9cIiBvciBiZSByZWxhdGl2ZSBhbmQgc2VydmVkIGZyb20gJyArXG4gICAgICAnZWl0aGVyIGh0dHBzIG9yIGZyb20gbG9jYWxob3N0LiBJbnZhbGlkIHZhbHVlOiAlcycsXG4gICAgICBlbGVtZW50Q29udGV4dCwgc291cmNlTmFtZSwgdGhlVXJsU3RyaW5nKTtcbiAgcmV0dXJuIHRoZVVybFN0cmluZztcbn1cblxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgYSBnaXZlbiB1cmwgaXMgYW4gYWJzb2x1dGUgSFRUUCBvciBIVFRQUyBVUkwuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsU3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBYnNvbHV0ZUh0dHBPckh0dHBzVXJsKHVybFN0cmluZykge1xuICB1c2VyKCkuYXNzZXJ0KC9eaHR0cHM/XFw6L2kudGVzdCh1cmxTdHJpbmcpLFxuICAgICAgJ1VSTCBtdXN0IHN0YXJ0IHdpdGggXCJodHRwOi8vXCIgb3IgXCJodHRwczovL1wiLiBJbnZhbGlkIHZhbHVlOiAlcycsXG4gICAgICB1cmxTdHJpbmcpO1xuICByZXR1cm4gcGFyc2VVcmxEZXByZWNhdGVkKHVybFN0cmluZykuaHJlZjtcbn1cblxuXG4vKipcbiAqIFBhcnNlcyB0aGUgcXVlcnkgc3RyaW5nIG9mIGFuIFVSTC4gVGhpcyBtZXRob2QgcmV0dXJucyBhIHNpbXBsZSBrZXkvdmFsdWVcbiAqIG1hcC4gSWYgdGhlcmUgYXJlIGR1cGxpY2F0ZSBrZXlzIHRoZSBsYXRlc3QgdmFsdWUgaXMgcmV0dXJuZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbXBsZW1lbnRlZCBpbiBhIHNlcGFyYXRlIGZpbGUgdG8gYXZvaWQgYSBjaXJjdWxhclxuICogZGVwZW5kZW5jeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmdcbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZykge1xuICByZXR1cm4gcGFyc2VRdWVyeVN0cmluZ18ocXVlcnlTdHJpbmcpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIFVSTCB3aXRob3V0IGZyYWdtZW50LiBJZiBVUkwgZG9lc24ndCBjb250YWluIGZyYWdtZW50LCB0aGUgc2FtZVxuICogc3RyaW5nIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRnJhZ21lbnQodXJsKSB7XG4gIGNvbnN0IGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZnJhZ21lbnQgZnJvbSB0aGUgVVJMLiBJZiB0aGUgVVJMIGRvZXNuJ3QgY29udGFpbiBmcmFnbWVudCxcbiAqIHRoZSBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFnbWVudCh1cmwpIHtcbiAgY29uc3QgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoaW5kZXgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgVVJMIGhhcyB0aGUgb3JpZ2luIG9mIGEgcHJveHkuXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybCBVUkwgb2YgYW4gQU1QIGRvY3VtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJveHlPcmlnaW4odXJsKSB7XG4gIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybCk7XG4gIH1cbiAgcmV0dXJuIHVybHMuY2RuUHJveHlSZWdleC50ZXN0KHVybC5vcmlnaW4pO1xufVxuXG4vKipcbiAqIEZvciBwcm94eS1vcmlnaW4gVVJMcywgcmV0dXJucyB0aGUgc2VydmluZyB0eXBlLiBPdGhlcndpc2UsIHJldHVybnMgbnVsbC5cbiAqIEUuZy4sICdodHRwczovL2FtcC1jb20uY2RuLmFtcHByb2plY3Qub3JnL2Evcy9hbXAuY29tL2FtcF9kb2N1bWVudC5odG1sJ1xuICogcmV0dXJucyAnYScuXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybCBVUkwgb2YgYW4gQU1QIGRvY3VtZW50LlxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3h5U2VydmluZ1R5cGUodXJsKSB7XG4gIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybCk7XG4gIH1cbiAgaWYgKCFpc1Byb3h5T3JpZ2luKHVybCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lLnNwbGl0KCcvJywgMik7XG4gIHJldHVybiBwYXRoWzFdO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgVVJMIG9yaWdpbiBpcyBsb2NhbGhvc3QuXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybCBVUkwgb2YgYW4gQU1QIGRvY3VtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9jYWxob3N0T3JpZ2luKHVybCkge1xuICBpZiAodHlwZW9mIHVybCA9PSAnc3RyaW5nJykge1xuICAgIHVybCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwpO1xuICB9XG4gIHJldHVybiB1cmxzLmxvY2FsaG9zdFJlZ2V4LnRlc3QodXJsLm9yaWdpbik7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBVUkwgaGFzIHZhbGlkIHByb3RvY29sLlxuICogRGVlcCBsaW5rIHByb3RvY29sIGlzIHZhbGlkLCBidXQgbm90IGphdmFzY3JpcHQgZXRjLlxuICogQHBhcmFtIHtzdHJpbmd8IUxvY2F0aW9ufSB1cmxcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3RvY29sVmFsaWQodXJsKSB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB1cmwgPT0gJ3N0cmluZycpIHtcbiAgICB1cmwgPSBwYXJzZVVybERlcHJlY2F0ZWQodXJsKTtcbiAgfVxuICByZXR1cm4gIUlOVkFMSURfUFJPVE9DT0xTLmluY2x1ZGVzKHVybC5wcm90b2NvbCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFVSTCB3aXRob3V0IEFNUCBKUyBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQW1wSnNQYXJhbXNGcm9tVXJsKHVybCkge1xuICBjb25zdCBwYXJzZWQgPSBwYXJzZVVybERlcHJlY2F0ZWQodXJsKTtcbiAgY29uc3Qgc2VhcmNoID0gcmVtb3ZlQW1wSnNQYXJhbXNGcm9tU2VhcmNoKHBhcnNlZC5zZWFyY2gpO1xuICByZXR1cm4gcGFyc2VkLm9yaWdpbiArIHBhcnNlZC5wYXRobmFtZSArIHNlYXJjaCArIHBhcnNlZC5oYXNoO1xuXG59XG5cbi8qKlxuICogUmV0dXJucyBhIFVSTCB3aXRob3V0IGEgcXVlcnkgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2VhcmNoKHVybCkge1xuICBjb25zdCBpbmRleCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gIGlmIChpbmRleCA9PSAtMSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgY29uc3QgZnJhZ21lbnQgPSBnZXRGcmFnbWVudCh1cmwpO1xuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCBpbmRleCkgKyBmcmFnbWVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHBhcmFtZXRlcnMgdGhhdCBzdGFydCB3aXRoIGFtcCBqcyBwYXJhbWV0ZXIgcGF0dGVybiBhbmQgcmV0dXJucyB0aGVcbiAqIG5ldyBzZWFyY2ggc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFNlYXJjaFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZW1vdmVBbXBKc1BhcmFtc0Zyb21TZWFyY2godXJsU2VhcmNoKSB7XG4gIGlmICghdXJsU2VhcmNoIHx8IHVybFNlYXJjaCA9PSAnPycpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3Qgc2VhcmNoID0gdXJsU2VhcmNoXG4gICAgICAucmVwbGFjZShBTVBfSlNfUEFSQU1TX1JFR0VYLCAnJylcbiAgICAgIC5yZXBsYWNlKEFNUF9HU0FfUEFSQU1TX1JFR0VYLCAnJylcbiAgICAgIC5yZXBsYWNlKEFNUF9SX1BBUkFNU19SRUdFWCwgJycpXG4gICAgICAucmVwbGFjZShHT09HTEVfRVhQRVJJTUVOVF9QQVJBTVNfUkVHRVgsICcnKVxuICAgICAgLnJlcGxhY2UoL15bPyZdLywgJycpOyAvLyBSZW1vdmVzIGZpcnN0ID8gb3IgJi5cbiAgcmV0dXJuIHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNvdXJjZSBVUkwgb2YgYW4gQU1QIGRvY3VtZW50IGZvciBkb2N1bWVudHMgc2VydmVkXG4gKiBvbiBhIHByb3h5IG9yaWdpbiBvciBkaXJlY3RseS5cbiAqIEBwYXJhbSB7c3RyaW5nfCFMb2NhdGlvbn0gdXJsIFVSTCBvZiBhbiBBTVAgZG9jdW1lbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTb3VyY2VVcmwodXJsKSB7XG4gIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybCk7XG4gIH1cblxuICAvLyBOb3QgYSBwcm94eSBVUkwgLSByZXR1cm4gdGhlIFVSTCBpdHNlbGYuXG4gIGlmICghaXNQcm94eU9yaWdpbih1cmwpKSB7XG4gICAgcmV0dXJuIHVybC5ocmVmO1xuICB9XG5cbiAgLy8gQSBwcm94eSBVUkwuXG4gIC8vIEV4YW1wbGUgcGF0aCB0aGF0IGlzIGJlaW5nIG1hdGNoZWQgaGVyZS5cbiAgLy8gaHR0cHM6Ly9jZG4uYW1wcHJvamVjdC5vcmcvYy9zL3d3dy5vcmlnaW4uY29tL2Zvby9cbiAgLy8gVGhlIC9zLyBpcyBvcHRpb25hbCBhbmQgc2lnbmFscyBhIHNlY3VyZSBvcmlnaW4uXG4gIGNvbnN0IHBhdGggPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgY29uc3QgcHJlZml4ID0gcGF0aFsxXTtcbiAgdXNlcigpLmFzc2VydChTRVJWSU5HX1RZUEVfUFJFRklYW3ByZWZpeF0sXG4gICAgICAnVW5rbm93biBwYXRoIHByZWZpeCBpbiB1cmwgJXMnLCB1cmwuaHJlZik7XG4gIGNvbnN0IGRvbWFpbk9ySHR0cHNTaWduYWwgPSBwYXRoWzJdO1xuICBjb25zdCBvcmlnaW4gPSBkb21haW5Pckh0dHBzU2lnbmFsID09ICdzJ1xuICAgID8gJ2h0dHBzOi8vJyArIGRlY29kZVVSSUNvbXBvbmVudChwYXRoWzNdKVxuICAgIDogJ2h0dHA6Ly8nICsgZGVjb2RlVVJJQ29tcG9uZW50KGRvbWFpbk9ySHR0cHNTaWduYWwpO1xuICAvLyBTYW5pdHkgdGVzdCB0aGF0IHdoYXQgd2UgZm91bmQgbG9va3MgbGlrZSBhIGRvbWFpbi5cbiAgdXNlcigpLmFzc2VydChvcmlnaW4uaW5kZXhPZignLicpID4gMCwgJ0V4cGVjdGVkIGEgLiBpbiBvcmlnaW4gJXMnLCBvcmlnaW4pO1xuICBwYXRoLnNwbGljZSgxLCBkb21haW5Pckh0dHBzU2lnbmFsID09ICdzJyA/IDMgOiAyKTtcbiAgcmV0dXJuIG9yaWdpbiArIHBhdGguam9pbignLycpICtcbiAgICAgIHJlbW92ZUFtcEpzUGFyYW1zRnJvbVNlYXJjaCh1cmwuc2VhcmNoKSArICh1cmwuaGFzaCB8fCAnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc291cmNlIG9yaWdpbiBvZiBhbiBBTVAgZG9jdW1lbnQgZm9yIGRvY3VtZW50cyBzZXJ2ZWRcbiAqIG9uIGEgcHJveHkgb3JpZ2luIG9yIGRpcmVjdGx5LlxuICogQHBhcmFtIHtzdHJpbmd8IUxvY2F0aW9ufSB1cmwgVVJMIG9mIGFuIEFNUCBkb2N1bWVudC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHNvdXJjZSBvcmlnaW4gb2YgdGhlIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNvdXJjZU9yaWdpbih1cmwpIHtcbiAgcmV0dXJuIHBhcnNlVXJsRGVwcmVjYXRlZChnZXRTb3VyY2VVcmwodXJsKSkub3JpZ2luO1xufVxuXG4vKipcbiAqIFJldHVybnMgYWJzb2x1dGUgVVJMIHJlc29sdmVkIGJhc2VkIG9uIHRoZSByZWxhdGl2ZSBVUkwgYW5kIHRoZSBiYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVXJsU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IGJhc2VVcmxcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSZWxhdGl2ZVVybChyZWxhdGl2ZVVybFN0cmluZywgYmFzZVVybCkge1xuICBpZiAodHlwZW9mIGJhc2VVcmwgPT0gJ3N0cmluZycpIHtcbiAgICBiYXNlVXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKGJhc2VVcmwpO1xuICB9XG4gIGlmICh0eXBlb2YgVVJMID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IFVSTChyZWxhdGl2ZVVybFN0cmluZywgYmFzZVVybC5ocmVmKS50b1N0cmluZygpO1xuICB9XG4gIHJldHVybiByZXNvbHZlUmVsYXRpdmVVcmxGYWxsYmFja18ocmVsYXRpdmVVcmxTdHJpbmcsIGJhc2VVcmwpO1xufVxuXG4vKipcbiAqIEZhbGxiYWNrIGZvciBVUkwgcmVzb2x2ZXIgd2hlbiBVUkwgY2xhc3MgaXMgbm90IGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVybFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd8IUxvY2F0aW9ufSBiYXNlVXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZSBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJlbGF0aXZlVXJsRmFsbGJhY2tfKHJlbGF0aXZlVXJsU3RyaW5nLCBiYXNlVXJsKSB7XG4gIGlmICh0eXBlb2YgYmFzZVVybCA9PSAnc3RyaW5nJykge1xuICAgIGJhc2VVcmwgPSBwYXJzZVVybERlcHJlY2F0ZWQoYmFzZVVybCk7XG4gIH1cbiAgcmVsYXRpdmVVcmxTdHJpbmcgPSByZWxhdGl2ZVVybFN0cmluZy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gIGNvbnN0IHJlbGF0aXZlVXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHJlbGF0aXZlVXJsU3RyaW5nKTtcblxuICAvLyBBYnNvbHV0ZSBVUkwuXG4gIGlmIChzdGFydHNXaXRoKHJlbGF0aXZlVXJsU3RyaW5nLnRvTG93ZXJDYXNlKCksIHJlbGF0aXZlVXJsLnByb3RvY29sKSkge1xuICAgIHJldHVybiByZWxhdGl2ZVVybC5ocmVmO1xuICB9XG5cbiAgLy8gUHJvdG9jb2wtcmVsYXRpdmUgVVJMLlxuICBpZiAoc3RhcnRzV2l0aChyZWxhdGl2ZVVybFN0cmluZywgJy8vJykpIHtcbiAgICByZXR1cm4gYmFzZVVybC5wcm90b2NvbCArIHJlbGF0aXZlVXJsU3RyaW5nO1xuICB9XG5cbiAgLy8gQWJzb2x1dGUgcGF0aC5cbiAgaWYgKHN0YXJ0c1dpdGgocmVsYXRpdmVVcmxTdHJpbmcsICcvJykpIHtcbiAgICByZXR1cm4gYmFzZVVybC5vcmlnaW4gKyByZWxhdGl2ZVVybFN0cmluZztcbiAgfVxuXG4gIC8vIFJlbGF0aXZlIHBhdGguXG4gIHJldHVybiBiYXNlVXJsLm9yaWdpbiArIGJhc2VVcmwucGF0aG5hbWUucmVwbGFjZSgvXFwvW14vXSokLywgJy8nKVxuICAgICAgKyByZWxhdGl2ZVVybFN0cmluZztcbn1cblxuXG4vKipcbiAqIEFkZCBcIl9fYW1wX3NvdXJjZV9vcmlnaW5cIiBxdWVyeSBwYXJhbWV0ZXIgdG8gdGhlIFVSTC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JzVXJsKHdpbiwgdXJsKSB7XG4gIGNoZWNrQ29yc1VybCh1cmwpO1xuICBjb25zdCBzb3VyY2VPcmlnaW4gPSBnZXRTb3VyY2VPcmlnaW4od2luLmxvY2F0aW9uLmhyZWYpO1xuICByZXR1cm4gYWRkUGFyYW1Ub1VybCh1cmwsIFNPVVJDRV9PUklHSU5fUEFSQU0sIHNvdXJjZU9yaWdpbik7XG59XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHVybCBoYXMgX19hbXBfc291cmNlX29yaWdpbiBhbmQgdGhyb3dzIGlmIGl0IGRvZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NvcnNVcmwodXJsKSB7XG4gIGNvbnN0IHBhcnNlZFVybCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwpO1xuICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcocGFyc2VkVXJsLnNlYXJjaCk7XG4gIHVzZXIoKS5hc3NlcnQoIShTT1VSQ0VfT1JJR0lOX1BBUkFNIGluIHF1ZXJ5KSxcbiAgICAgICdTb3VyY2Ugb3JpZ2luIGlzIG5vdCBhbGxvd2VkIGluICVzJywgdXJsKTtcbn1cblxuLyoqXG4gKiBUcmllcyB0byBkZWNvZGUgYSBVUkkgY29tcG9uZW50LCBmYWxsaW5nIGJhY2sgdG8gb3B0X2ZhbGxiYWNrIChvciBhbiBlbXB0eVxuICogc3RyaW5nKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2ZhbGxiYWNrXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlEZWNvZGVVcmlDb21wb25lbnQoY29tcG9uZW50LCBvcHRfZmFsbGJhY2spIHtcbiAgcmV0dXJuIHRyeURlY29kZVVyaUNvbXBvbmVudF8oY29tcG9uZW50LCBvcHRfZmFsbGJhY2spO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBDb21wYXJlcyBpZiB0d28gYXJyYXlzIGNvbnRhaW5zIGV4YWN0bHkgc2FtZSBlbGVtZW50cyBvZiBzYW1lIG51bWJlclxuICogb2Ygc2FtZSBvcmRlci5cbiAqIE5vdGljZSB0aGF0IGl0IGRvZXMgTk9UIGhhbmRsZSBOYU4gY2FzZSBhcyBleHBlY3RlZFxuICpcbiAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIxXG4gKiBAcGFyYW0geyFBcnJheTxUPn0gYXJyMlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVFcXVhbE9yZGVyZWQoYXJyMSwgYXJyMikge1xuICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycjFbaV0gIT09IGFycjJbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBBIGJpdCBsaWtlIEFycmF5I2ZpbHRlciwgYnV0IHJlbW92ZXMgZWxlbWVudHMgdGhhdCBmaWx0ZXIgZmFsc2UgZnJvbSB0aGVcbiAqIGFycmF5LiBSZXR1cm5zIHRoZSBmaWx0ZXJlZCBpdGVtcy5cbiAqXG4gKiBAcGFyYW0geyFBcnJheTxUPn0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCAhQXJyYXk8VD4pOmJvb2xlYW59IGZpbHRlclxuICogQHJldHVybiB7IUFycmF5PFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclNwbGljZShhcnJheSwgZmlsdGVyKSB7XG4gIGNvbnN0IHNwbGljZSA9IFtdO1xuICBsZXQgaW5kZXggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaXRlbSA9IGFycmF5W2ldO1xuICAgIGlmIChmaWx0ZXIoaXRlbSwgaSwgYXJyYXkpKSB7XG4gICAgICBpZiAoaW5kZXggPCBpKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IGl0ZW07XG4gICAgICB9XG4gICAgICBpbmRleCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpY2UucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaW5kZXggPCBhcnJheS5sZW5ndGgpIHtcbiAgICBhcnJheS5sZW5ndGggPSBpbmRleDtcbiAgfVxuXG4gIHJldHVybiBzcGxpY2U7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgbWF0Y2hpbmcgdGhlIHByZWRpY2F0ZS5cbiAqIExpa2UgQXJyYXkjZmluZEluZGV4LlxuICpcbiAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIsICFBcnJheTxUPik6Ym9vbGVhbn0gcHJlZGljYXRlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaV0sIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gaXRlcmF0b3IgdG8gYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIHshSXRlcmF0b3I8VD59IGl0ZXJhdG9yXG4gKiBAcmV0dXJuIHtBcnJheTxUPn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgY29uc3QgYXJyYXkgPSBbXTtcbiAgZm9yIChsZXQgZSA9IGl0ZXJhdG9yLm5leHQoKTsgIWUuZG9uZTsgZSA9IGl0ZXJhdG9yLm5leHQoKSkge1xuICAgIGFycmF5LnB1c2goZS52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEFkZHMgaXRlbSB0byBhcnJheSBpZiBpdCBpcyBub3QgYWxyZWFkeSBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8VD59IGFycmF5XG4gKiBAcGFyYW0ge1R9IGl0ZW1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdXNoSWZOb3RFeGlzdChhcnJheSwgaXRlbSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZihpdGVtKSA8IDApIHtcbiAgICBhcnJheS5wdXNoKGl0ZW0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVE9ETyhyc2ltaGEsICMxNTMzNCk6IEVuYWJsZSB0aGlzIHJ1bGUuXG4vKiBlc2xpbnQganNkb2MvY2hlY2stdHlwZXM6IDAgKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyBldmFsdWF0ZWQgb25seSBvbmNlIGFuZCByZXR1cm5zIHRoZSBjYWNoZWQgcmVzdWx0XG4gKiBzdWJzZXF1ZW50bHkuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBgb25jZWAgb25seSB0YWtlcyB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpbnRvIGFjY291bnQsXG4gKiBzbyBpdCB3aWxsIHJldHVybiB0aGUgc2FtZSBjYWNoZWQgdmFsdWUgZXZlbiB3aGVuIHRoZSBhcmd1bWVudHMgYXJlXG4gKiBkaWZmZXJlbnQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4pOlR9IGZuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi4pOlR9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZXZhbHVhdGVkID0gZmFsc2U7XG4gIGxldCByZXRWYWx1ZSA9IG51bGw7XG4gIGxldCBjYWxsYmFjayA9IGZuO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIWV2YWx1YXRlZCkge1xuICAgICAgcmV0VmFsdWUgPSBjYWxsYmFjay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIGV2YWx1YXRlZCA9IHRydWU7XG4gICAgICBjYWxsYmFjayA9IG51bGw7IC8vIEdDXG4gICAgfVxuICAgIHJldHVybiByZXRWYWx1ZTtcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBLZXlDb2RlcyA9IHtcbiAgRU5URVI6IDEzLFxuICBFU0NBUEU6IDI3LFxuICBTUEFDRTogMzIsXG4gIExFRlRfQVJST1c6IDM3LFxuICBVUF9BUlJPVzogMzgsXG4gIFJJR0hUX0FSUk9XOiAzOSxcbiAgRE9XTl9BUlJPVzogNDAsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7ZGV2fSBmcm9tICcuLi9sb2cnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBUQUcgPSAnbHJ1LWNhY2hlJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgTHJ1Q2FjaGUge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNhcGFjaXR5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYXBhY2l0eSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbiAgICB0aGlzLmNhcGFjaXR5XyA9IGNhcGFjaXR5O1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zaXplXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBBbiBpbmNyZW1lbnRpbmcgY291bnRlciB0byBkZWZpbmUgdGhlIGxhc3QgYWNjZXNzLlxuICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hY2Nlc3NfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU9iamVjdDwobnVtYmVyfHN0cmluZyksIHtwYXlsb2FkOiBULCBhY2Nlc3M6IG51bWJlcn0+fSAqL1xuICAgIHRoaXMuY2FjaGVfID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIga2V5IGlzIGNhY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGhhcyhrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLmNhY2hlX1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30ga2V5XG4gICAqIEByZXR1cm4ge1R9IFRoZSBjYWNoZWQgcGF5bG9hZC5cbiAgICovXG4gIGdldChrZXkpIHtcbiAgICBjb25zdCBjYWNoZWFibGUgPSB0aGlzLmNhY2hlX1trZXldO1xuICAgIGlmIChjYWNoZWFibGUpIHtcbiAgICAgIGNhY2hlYWJsZS5hY2Nlc3MgPSArK3RoaXMuYWNjZXNzXztcbiAgICAgIHJldHVybiBjYWNoZWFibGUucGF5bG9hZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge1R9IHBheWxvYWQgVGhlIHBheWxvYWQgdG8gY2FjaGUuXG4gICAqL1xuICBwdXQoa2V5LCBwYXlsb2FkKSB7XG4gICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICB0aGlzLnNpemVfKys7XG4gICAgfVxuICAgIHRoaXMuY2FjaGVfW2tleV0gPSB7cGF5bG9hZCwgYWNjZXNzOiB0aGlzLmFjY2Vzc199O1xuICAgIHRoaXMuZXZpY3RfKCk7XG4gIH1cblxuICAvKipcbiAgICogRXZpY3RzIHRoZSBvbGRlc3QgY2FjaGUgZW50cnksIGlmIHdlJ3ZlIGV4Y2VlZGVkIGNhcGFjaXR5LlxuICAgKi9cbiAgZXZpY3RfKCkge1xuICAgIGlmICh0aGlzLnNpemVfIDw9IHRoaXMuY2FwYWNpdHlfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGV2KCkud2FybihUQUcsICdUcmltbWluZyBMUlUgY2FjaGUnKTtcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVfO1xuICAgIGxldCBvbGRlc3QgPSB0aGlzLmFjY2Vzc18gKyAxO1xuICAgIGxldCBvbGRlc3RLZXk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY2FjaGUpIHtcbiAgICAgIGNvbnN0IHthY2Nlc3N9ID0gY2FjaGVba2V5XTtcbiAgICAgIGlmIChhY2Nlc3MgPCBvbGRlc3QpIHtcbiAgICAgICAgb2xkZXN0ID0gYWNjZXNzO1xuICAgICAgICBvbGRlc3RLZXkgPSBrZXk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9sZGVzdEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgY2FjaGVbb2xkZXN0S2V5XTtcbiAgICAgIHRoaXMuc2l6ZV8tLTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2lzT2JqZWN0fSBmcm9tICcuLi90eXBlcyc7XG5cbi8qIEBjb25zdCAqL1xuY29uc3QgaGFzT3duXyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogUmV0dXJucyBhIG1hcC1saWtlIG9iamVjdC5cbiAqIElmIG9wdF9pbml0aWFsIGlzIHByb3ZpZGVkLCBjb3BpZXMgaXRzIG93biBwcm9wZXJ0aWVzIGludG8gdGhlXG4gKiBuZXdseSBjcmVhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7VD19IG9wdF9pbml0aWFsIFRoaXMgc2hvdWxkIHR5cGljYWxseSBiZSBhbiBvYmplY3QgbGl0ZXJhbC5cbiAqIEByZXR1cm4ge1R9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwKG9wdF9pbml0aWFsKSB7XG4gIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChvcHRfaW5pdGlhbCkge1xuICAgIE9iamVjdC5hc3NpZ24ob2JqLCBvcHRfaW5pdGlhbCk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gZW1wdHkgSnNvbk9iamVjdCBvciBtYWtlcyB0aGUgcGFzc2VkIGluIG9iamVjdCBsaXRlcmFsXG4gKiBhbiBKc29uT2JqZWN0LlxuICogVGhlIEpzb25PYmplY3QgdHlwZSBpcyBqdXN0IGEgc2ltcGxlIG9iamVjdCB0aGF0IGlzIGF0LWRpY3QuXG4gKiBTZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci93aWtpL0BzdHJ1Y3QtYW5kLUBkaWN0LUFubm90YXRpb25zXG4gKiBmb3Igd2hhdCBhIGRpY3QgaXMgdHlwZS13aXNlLlxuICogVGhlIGxpbnRlciBlbmZvcmNlcyB0aGF0IHRoZSBhcmd1bWVudCBpcywgaW4gZmFjdCwgYXQtZGljdCBsaWtlLlxuICogQHBhcmFtIHshT2JqZWN0PX0gb3B0X2luaXRpYWxcbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGljdChvcHRfaW5pdGlhbCkge1xuICAvLyBXZSBkbyBub3QgY29weS4gVGhlIGxpbnRlciBlbmZvcmNlcyB0aGF0IHRoZSBwYXNzZWQgaW4gb2JqZWN0IGlzIGEgbGl0ZXJhbFxuICAvLyBhbmQgdGh1cyB0aGUgY2FsbGVyIGNhbm5vdCBoYXZlIGEgcmVmZXJlbmNlIHRvIGl0LlxuICByZXR1cm4gLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKG9wdF9pbml0aWFsIHx8IHt9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGtleSBpcyBhIHByb3BlcnR5IGluIHRoZSBtYXAuXG4gKlxuICogQHBhcmFtIHtUfSAgb2JqIGEgbWFwIGxpa2UgcHJvcGVydHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gIGtleVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNPd24ob2JqLCBrZXkpIHtcbiAgcmV0dXJuIGhhc093bl8uY2FsbChvYmosIGtleSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBvYmpba2V5XSBpZmYga2V5IGlzIG9iaidzIG93biBwcm9wZXJ0eSAoaXMgbm90IGluaGVyaXRlZCkuXG4gKiBPdGhlcndpc2UsIHJldHVybnMgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvd25Qcm9wZXJ0eShvYmosIGtleSkge1xuICBpZiAoaGFzT3duKG9iaiwga2V5KSkge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogRGVlcCBtZXJnZXMgc291cmNlIGludG8gdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7IU9iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0geyFPYmplY3R9IHNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIG1lcmdlIGRlcHRoLiBJZiBleGNlZWRlZCwgT2JqZWN0LmFzc2lnblxuICogICAgICAgICAgICAgICAgICAgICAgIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7IU9iamVjdH1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBzb3VyY2UgY29udGFpbnMgYSBjaXJjdWxhciByZWZlcmVuY2UuXG4gKiBOb3RlOiBPbmx5IG5lc3RlZCBvYmplY3RzIGFyZSBkZWVwLW1lcmdlZCwgcHJpbWl0aXZlcyBhbmQgYXJyYXlzIGFyZSBub3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UsIGRlcHRoID0gMTApIHtcbiAgLy8gS2VlcCB0cmFjayBvZiBzZWVuIG9iamVjdHMgdG8gZGV0ZWN0IHJlY3Vyc2l2ZSByZWZlcmVuY2VzLlxuICBjb25zdCBzZWVuID0gW107XG5cbiAgLyoqIEB0eXBlIHshQXJyYXk8e3Q6ICFPYmplY3QsIHM6ICFPYmplY3QsIGQ6IG51bWJlcn0+fSAqL1xuICBjb25zdCBxdWV1ZSA9IFtdO1xuICBxdWV1ZS5wdXNoKHt0OiB0YXJnZXQsIHM6IHNvdXJjZSwgZDogMH0pO1xuXG4gIC8vIEJGUyB0byBlbnN1cmUgb2JqZWN0cyBkb24ndCBoYXZlIHJlY3Vyc2l2ZSByZWZlcmVuY2VzIGF0IHNoYWxsb3dlciBkZXB0aHMuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3Qge3QsIHMsIGR9ID0gcXVldWUuc2hpZnQoKTtcbiAgICBpZiAoc2Vlbi5pbmNsdWRlcyhzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2Ugb2JqZWN0IGhhcyBhIGNpcmN1bGFyIHJlZmVyZW5jZS4nKTtcbiAgICB9XG4gICAgc2Vlbi5wdXNoKHMpO1xuICAgIGlmICh0ID09PSBzKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGQgPiBkZXB0aCkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0LCBzKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHNba2V5XTtcbiAgICAgIC8vIFBlcmZvcm0gYSBkZWVwIG1lcmdlIElGRiBib3RoIHRhcmdldCBhbmQgc291cmNlIGhhdmUgdGhlIHNhbWUga2V5XG4gICAgICAvLyB3aG9zZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBhcmUgb2JqZWN0cy5cbiAgICAgIGlmIChoYXNPd24odCwga2V5KSkge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRba2V5XTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KG5ld1ZhbHVlKSAmJiBpc09iamVjdChvbGRWYWx1ZSkpIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHt0OiBvbGRWYWx1ZSwgczogbmV3VmFsdWUsIGQ6IGQgKyAxfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0W2tleV0gPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gbyBBbiBvYmplY3QgdG8gcmVtb3ZlIHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gcHJvcHMgQSBsaXN0IG9mIHByb3BlcnRpZXMgdG8gcmVtb3ZlIGZyb20gdGhlIE9iamVjdFxuICogQHJldHVybiB7IU9iamVjdH0gQW4gb2JqZWN0IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXMgcmVtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gb21pdChvLCBwcm9wcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMobykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGlmICghcHJvcHMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgYWNjW2tleV0gPSBvW2tleV07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBEZWZlcnJlZCBzdHJ1Y3QsIHdoaWNoIGhvbGRzIGEgcGVuZGluZyBwcm9taXNlIGFuZCBpdHMgYXNzb2NpYXRlZFxuICogcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy5cbiAqXG4gKiBUaGlzIGlzIHByZWZlcnJlZCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgUHJvbWlzZSBpbnN0YW5jZSB0byBleHRyYWN0IHRoZVxuICogcmVzb2x2ZS9yZWplY3QgZnVuY3Rpb25zIHlvdXJzZWxmOlxuICpcbiAqIGBgYFxuICogLy8gQXZvaWQgZG9pbmdcbiAqIGxldCByZXNvbHZlO1xuICogY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlcyA9PiB7XG4gKiAgIHJlc29sdmUgPSByZXM7XG4gKiB9KTtcbiAqXG4gKiAvLyBHb29kXG4gKiBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICogY29uc3QgeyBwcm9taXNlLCByZXNvbHZlIH0gPSBkZWZlcnJlZDtcbiAqIGBgYFxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIERlZmVycmVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IHJlc29sdmUsIHJlamVjdDtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdCB7IVByb21pc2U8VD59XG4gICAgICovXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IC8qT0sqL1Byb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgcmVqZWN0ID0gcmVqO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0IHtmdW5jdGlvbihUPSl9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdCB7ZnVuY3Rpb24oKj0pfVxuICAgICAqL1xuICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHByb21pc2UgcmVzb2x2ZWQgdG8gdGhlIHJldHVybiB2YWx1ZSBvZiBmbi5cbiAqIElmIGZuIHN5bmMgdGhyb3dzLCBpdCB3aWxsIGNhdXNlIHRoZSBwcm9taXNlIHRvIHJlamVjdC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6VH0gZm5cbiAqIEByZXR1cm4geyFQcm9taXNlPFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeVJlc29sdmUoZm4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHJlc29sdmUoZm4oKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIGlmIGEgdGhyZXNob2xkIGFtb3VudCBvZiB0aGUgZ2l2ZW4gcHJvbWlzZXNcbiAqIHJlc29sdmUsIGFuZCByZWplY3RzIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7IUFycmF5PCFQcm9taXNlPn0gcHJvbWlzZXMgVGhlIGFycmF5IG9mIHByb21pc2VzIHRvIHRlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnQgVGhlIG51bWJlciBvZiBwcm9taXNlcyB0aGF0IG11c3QgcmVzb2x2ZSBmb3IgdGhlXG4gKiAgICAgcmV0dXJuZWQgcHJvbWlzZSB0byByZXNvbHZlLlxuICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIGFueSBvZiB0aGUgZ2l2ZW4gcHJvbWlzZXNcbiAqICAgICByZXNvbHZlLCBhbmQgd2hpY2ggcmVqZWN0cyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb21lKHByb21pc2VzLCBjb3VudCA9IDEpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb3VudCA9IE1hdGgubWF4KGNvdW50LCAwKTtcbiAgICBjb25zdCBleHRyYSA9IHByb21pc2VzLmxlbmd0aCAtIGNvdW50O1xuICAgIGlmIChleHRyYSA8IDApIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ25vdCBlbm91Z2ggcHJvbWlzZXMgdG8gcmVzb2x2ZScpKTtcbiAgICB9XG4gICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXNvbHZlKFtdKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgY29uc3QgcmVhc29ucyA9IFtdO1xuXG4gICAgY29uc3Qgb25GdWxmaWxsZWQgPSB2YWx1ZSA9PiB7XG4gICAgICBpZiAodmFsdWVzLmxlbmd0aCA8IGNvdW50KSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09IGNvdW50KSB7XG4gICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZWFzb24gPT4ge1xuICAgICAgaWYgKHJlYXNvbnMubGVuZ3RoIDw9IGV4dHJhKSB7XG4gICAgICAgIHJlYXNvbnMucHVzaChyZWFzb24pO1xuICAgICAgfVxuICAgICAgaWYgKHJlYXNvbnMubGVuZ3RoID4gZXh0cmEpIHtcbiAgICAgICAgcmVqZWN0KHJlYXNvbnMpO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKHByb21pc2VzW2ldKS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBwcm9taXNlIGFkZGVkLlxuICogQGltcGxlbWVudHMge0lUaGVuYWJsZX1cbiAqL1xuZXhwb3J0IGNsYXNzIExhc3RBZGRlZFJlc29sdmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCFQcm9taXNlPj19IG9wdF9wcm9taXNlc1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0X3Byb21pc2VzKSB7XG4gICAgbGV0IHJlc29sdmVfLCByZWplY3RfO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMucHJvbWlzZV8gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXNvbHZlXyA9IHJlc29sdmU7XG4gICAgICByZWplY3RfID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5yZXNvbHZlXyA9IHJlc29sdmVfO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5yZWplY3RfID0gcmVqZWN0XztcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuY291bnRfID0gMDtcblxuICAgIGlmIChvcHRfcHJvbWlzZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0X3Byb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkKG9wdF9wcm9taXNlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHByb21pc2UgdG8gcG9zc2libHkgYmUgcmVzb2x2ZWQuXG4gICAqIEBwYXJhbSB7IVByb21pc2V9IHByb21pc2VcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBhZGQocHJvbWlzZSkge1xuICAgIGNvbnN0IGNvdW50QXRBZGQgPSArK3RoaXMuY291bnRfO1xuICAgIFByb21pc2UucmVzb2x2ZShwcm9taXNlKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICBpZiAodGhpcy5jb3VudF8gPT09IGNvdW50QXRBZGQpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlXyhyZXN1bHQpO1xuICAgICAgfVxuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIC8vIERvbid0IGZvbGxvdyBiZWhhdmlvciBvZiBQcm9taXNlLmFsbCBhbmQgUHJvbWlzZS5yYWNlIGVycm9yIHNvIHRoYXRcbiAgICAgIC8vIHRoaXMgd2lsbCBvbmx5IHJlamVjdCB3aGVuIG1vc3QgcmVjZW50bHkgYWRkZWQgcHJvbWlzZSBmYWlscy5cbiAgICAgIGlmICh0aGlzLmNvdW50XyA9PT0gY291bnRBdEFkZCkge1xuICAgICAgICB0aGlzLnJlamVjdF8oZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnByb21pc2VfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB0aGVuKG9wdF9yZXNvbHZlLCBvcHRfcmVqZWN0KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZV8udGhlbihvcHRfcmVzb2x2ZSwgb3B0X3JlamVjdCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFdyYXBzIGEgZ2l2ZW4gY2FsbGJhY2sgYW5kIGFwcGxpZXMgYSByYXRlIGxpbWl0LlxuICogSXQgdGhyb3R0bGVzIHRoZSBjYWxscyBzbyB0aGF0IG5vIGNvbnNlcXVlbnQgY2FsbHMgaGF2ZSB0aW1lIGludGVydmFsXG4gKiBzbWFsbGVyIHRoYW4gdGhlIGdpdmVuIG1pbmltYWwgaW50ZXJ2YWwuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uKil9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gbWluSW50ZXJ2YWwgdGhlIG1pbmltdW0gdGltZSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZFxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uKil9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZSh3aW4sIGNhbGxiYWNrLCBtaW5JbnRlcnZhbCkge1xuICBsZXQgbG9ja2VyID0gMDtcbiAgbGV0IG5leHRDYWxsQXJncyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gYXJnc1xuICAgKi9cbiAgZnVuY3Rpb24gZmlyZShhcmdzKSB7XG4gICAgbmV4dENhbGxBcmdzID0gbnVsbDtcbiAgICAvLyBMb2NrIHRoZSBmaXJlIGZvciBtaW5JbnRlcnZhbCBtaWxsaXNlY29uZHNcbiAgICBsb2NrZXIgPSB3aW4uc2V0VGltZW91dCh3YWl0ZXIsIG1pbkludGVydmFsKTtcblxuICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXRlciBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gd2FpdGVyKCkge1xuICAgIGxvY2tlciA9IDA7XG4gICAgLy8gSWYgZHVyaW5nIHRoZSBwZXJpb2QgdGhlcmUncmUgaW52b2NhdGlvbnMgcXVldWVkIHVwLCBmaXJlIG9uY2UuXG4gICAgaWYgKG5leHRDYWxsQXJncykge1xuICAgICAgZmlyZShuZXh0Q2FsbEFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgaWYgKGxvY2tlcikge1xuICAgICAgbmV4dENhbGxBcmdzID0gYXJncztcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyZShhcmdzKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogV3JhcHMgYSBnaXZlbiBjYWxsYmFjayBhbmQgYXBwbGllcyBhIHdhaXQgdGltZXIsIHNvIHRoYXQgbWluSW50ZXJ2YWxcbiAqIG1pbGxpc2Vjb25kcyBtdXN0IHBhc3Mgc2luY2UgdGhlIGxhc3QgY2FsbCBiZWZvcmUgdGhlIGNhbGxiYWNrIGlzIGFjdHVhbGx5XG4gKiBpbnZva2VkLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopfSBjYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IG1pbkludGVydmFsIHRoZSBtaW5pbXVtIHRpbWUgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLiopfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2Uod2luLCBjYWxsYmFjaywgbWluSW50ZXJ2YWwpIHtcbiAgbGV0IGxvY2tlciA9IDA7XG4gIGxldCB0aW1lc3RhbXAgPSAwO1xuICBsZXQgbmV4dENhbGxBcmdzID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIHs/QXJyYXl9IGFyZ3NcbiAgICovXG4gIGZ1bmN0aW9uIGZpcmUoYXJncykge1xuICAgIG5leHRDYWxsQXJncyA9IG51bGw7XG4gICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBmdW5jdGlvbiBmb3IgZGVib3VuY2VcbiAgICovXG4gIGZ1bmN0aW9uIHdhaXRlcigpIHtcbiAgICBsb2NrZXIgPSAwO1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IG1pbkludGVydmFsIC0gKHdpbi5EYXRlLm5vdygpIC0gdGltZXN0YW1wKTtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgbG9ja2VyID0gd2luLnNldFRpbWVvdXQod2FpdGVyLCByZW1haW5pbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXJlKG5leHRDYWxsQXJncyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICB0aW1lc3RhbXAgPSB3aW4uRGF0ZS5ub3coKTtcbiAgICBuZXh0Q2FsbEFyZ3MgPSBhcmdzO1xuICAgIGlmICghbG9ja2VyKSB7XG4gICAgICBsb2NrZXIgPSB3aW4uc2V0VGltZW91dCh3YWl0ZXIsIG1pbkludGVydmFsKTtcbiAgICB9XG4gIH07XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7ZGV2fSBmcm9tICcuLi9sb2cnO1xuaW1wb3J0IHtvbmNlfSBmcm9tICcuL2Z1bmN0aW9uJztcbmltcG9ydCB7c2V0U3R5bGVzfSBmcm9tICcuLi9zdHlsZSc7XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtib29sZWFufSBpc0xpdGVWaWV3ZXJcbiAqIEByZXR1cm4geyFQcm9taXNlPGJvb2xlYW4+fVxuICovXG5mdW5jdGlvbiBpc0F1dG9wbGF5U3VwcG9ydGVkSW1wbCh3aW4sIGlzTGl0ZVZpZXdlcikge1xuICAvLyBXZSBkbyBub3Qgc3VwcG9ydCBhdXRvcGxheSBpbiBhbXAtbGl0ZSB2aWV3ZXIgcmVnYXJkbGVzcyBvZiBwbGF0Zm9ybS5cbiAgaWYgKGlzTGl0ZVZpZXdlcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICB9XG5cbiAgLy8gVG8gZGV0ZWN0IGF1dG9wbGF5LCB3ZSBjcmVhdGUgYSB2aWRlbyBlbGVtZW50IGFuZCBjYWxsIHBsYXkgb24gaXQsIGlmXG4gIC8vIGBwYXVzZWRgIGlzIHRydWUgYWZ0ZXIgYHBsYXkoKWAgY2FsbCwgYXV0b3BsYXkgaXMgc3VwcG9ydGVkLiBBbHRob3VnaFxuICAvLyB0aGlzIGlzIHVuaW50dWl0aXZlLCBpdCB3b3JrcyBhY3Jvc3MgYnJvd3NlcnMgYW5kIGlzIGN1cnJlbnRseSB0aGUgbGlnaHRlc3RcbiAgLy8gd2F5IHRvIGRldGVjdCBhdXRvcGxheSB3aXRob3V0IHVzaW5nIGEgZGF0YSBzb3VyY2UuXG4gIGNvbnN0IGRldGVjdGlvbkVsZW1lbnQgPSB3aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAvLyBOT1RFKGFnaGFzc2VtaSk6IFdlIG5lZWQgYm90aCBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzIGR1ZSB0byBDaHJvbWUgYW5kXG4gIC8vIFNhZmFyaSBkaWZmZXJlbmNlcyB3aGVuIGRlYWxpbmcgd2l0aCBub24tYXR0YWNoZWQgZWxlbWVudHMuXG4gIGRldGVjdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgZGV0ZWN0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuICBkZXRlY3Rpb25FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICBkZXRlY3Rpb25FbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzAnKTtcbiAgZGV0ZWN0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzAnKTtcblxuICBkZXRlY3Rpb25FbGVtZW50Lm11dGVkID0gdHJ1ZTtcbiAgZGV0ZWN0aW9uRWxlbWVudC5wbGF5c2lubGluZSA9IHRydWU7XG4gIGRldGVjdGlvbkVsZW1lbnQud2Via2l0UGxheXNpbmxpbmUgPSB0cnVlO1xuXG4gIHNldFN0eWxlcyhkZXRlY3Rpb25FbGVtZW50LCB7XG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgdG9wOiAnMCcsXG4gICAgd2lkdGg6ICcwJyxcbiAgICBoZWlnaHQ6ICcwJyxcbiAgICBvcGFjaXR5OiAnMCcsXG4gIH0pO1xuXG4gIC8vIFByb21pc2Ugd3JhcHBlZCB0aGlzIHdheSB0byBjYXRjaCBib3RoIHN5bmMgdGhyb3dzIGFuZCBhc3luYyByZWplY3Rpb25zLlxuICAvLyBNb3JlIGluZm86IGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5XG4gIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gcmVzb2x2ZShkZXRlY3Rpb25FbGVtZW50LnBsYXkoKSkpLmNhdGNoKCgpID0+IHtcbiAgICAvLyBTdXBwcmVzcyBhbnkgZXJyb3JzLCB1c2VsZXNzIHRvIHJlcG9ydCBhcyB0aGV5IGFyZSBleHBlY3RlZC5cbiAgfSk7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSghZGV0ZWN0aW9uRWxlbWVudC5wYXVzZWQpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSB7PyhmdW5jdGlvbihXaW5kb3csIGJvb2xlYW4pOiFQcm9taXNlPGJvb2xlYW4+KX0gKi9cbmxldCBpc0F1dG9wbGF5U3VwcG9ydGVkID0gbnVsbDtcblxuLyoqXG4gKiBTZXRzIGlmIGF1dG9wbGF5IGlzIHN1cHBvcnRlZC5cbiAqL1xuZnVuY3Rpb24gc2V0SXNBdXRvcGxheVN1cHBvcnRlZCgpIHtcbiAgaXNBdXRvcGxheVN1cHBvcnRlZCA9XG4gICAgLyoqIEB0eXBlIHtmdW5jdGlvbihXaW5kb3csIGJvb2xlYW4pOiFQcm9taXNlPGJvb2xlYW4+fSAqLyAoXG4gICAgICBvbmNlKGlzQXV0b3BsYXlTdXBwb3J0ZWRJbXBsKSk7XG59XG5cblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBzdGF0aWMgdXRpbGl0aWVzIGZvciB0ZXN0YWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZpZGVvVXRpbHMge1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyBhdXRvcGxheSBzdXBwb3J0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgZXZlbiBpZiBwbGF0ZnJvbSBzdXBwb3J0cyBhdXRvcGxheSwgdXNlcnMgb3IgYnJvd3NlcnMgY2FuIGRpc2FibGVcbiAgICogYXV0b3BsYXkgdG8gc2F2ZSBkYXRhIC8gYmF0dGVyeS4gVGhpcyBkZXRlY3RzIGJvdGggcGxhdGZyb20gc3VwcG9ydCBhbmRcbiAgICogd2hlbiBhdXRvcGxheSBoYXMgYmVlbiBkaXNhYmxlZCBieSB0aGUgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0xpdGVWaWV3ZXJcbiAgICogQHJldHVybiB7IVByb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBzdGF0aWMgaXNBdXRvcGxheVN1cHBvcnRlZCh3aW4sIGlzTGl0ZVZpZXdlcikge1xuICAgIGlmICghaXNBdXRvcGxheVN1cHBvcnRlZCkge1xuICAgICAgc2V0SXNBdXRvcGxheVN1cHBvcnRlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gaXNBdXRvcGxheVN1cHBvcnRlZCh3aW4sIGlzTGl0ZVZpZXdlcik7XG4gIH1cblxuICAvKiogQHZpc2libGVGb3JUZXN0aW5nICovXG4gIHN0YXRpYyByZXNldElzQXV0b3BsYXlTdXBwb3J0ZWQoKSB7XG4gICAgc2V0SXNBdXRvcGxheVN1cHBvcnRlZCgpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKiBOb3RlOiBOb3QgaW5jbHVkZWQgaW4gYFZpZGVvVXRpbHNgIGFzIHdlIGRvbid0IG5lZWQgdG8gdGVzdCBhXG4gKiBzdGF0aWMgc2VsZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5hbFZpZGVvRWxlbWVudEZvcihlbGVtZW50KSB7XG4gIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KGVsZW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8sIGlmcmFtZScpKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgTUlOX1ZJU0lCSUxJVFlfUkFUSU9fRk9SX0FVVE9QTEFZID0gMC41O1xuXG4vKipcbiAqIFZpZGVvSW50ZXJmYWNlIGRlZmluZXMgYSBjb21tb24gdmlkZW8gQVBJIHdoaWNoIGFueSBBTVAgY29tcG9uZW50IHRoYXQgcGxheXNcbiAqIHZpZGVvcyBpcyBleHBlY3RlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQU1QIHJ1bnRpbWUgdXNlcyB0aGlzIGNvbW1vbiBBUEkgdG8gcHJvdmlkZSBjb25zaXN0ZW50IHZpZGVvIGV4cGVyaWVuY2UgYW5kXG4gKiBhbmFseXRpY3MgYWNyb3NzIGFsbCB2aWRlbyBwbGF5ZXJzLlxuICpcbiAqIENvbXBvbmVudHMgaW1wbGVtZW50aW5nIHRoaXMgaW50ZXJmYWNlIG11c3QgYWxzbyBleHRlbmRcbiAqIHtAbGluayAuL2Jhc2UtZWxlbWVudC5CYXNlRWxlbWVudH0gYW5kIHJlZ2lzdGVyIHdpdGggdGhlXG4gKiBWaWRlbyBNYW5hZ2VyIHtAbGluayAuL3NlcnZpY2UvdmlkZW8tbWFuYWdlci1pbXBsLlZpZGVvTWFuYWdlcn0gZHVyaW5nXG4gKiB0aGVpciBgYnVpbHRDYWxsYmFja2AuXG4gKlxuICogQGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgVmlkZW9JbnRlcmZhY2Uge1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjb21wb25lbnQgc3VwcG9ydHMgdmlkZW8gcGxheWJhY2sgaW4gdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gICAqIElmIGZhbHNlLCBjb21wb25lbnQgd2lsbCBiZSBub3QgdHJlYXRlZCBhcyBhIHZpZGVvIGNvbXBvbmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHN1cHBvcnRzUGxhdGZvcm0oKSB7fVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHVzZXJzIGNhbiBpbnRlcmFjdCB3aXRoIHRoZSB2aWRlbyBzdWNoIGFzIHBhdXNpbmcgaXQuXG4gICAqIEV4YW1wbGUgb2Ygbm9uLWludGVyYWN0aXZlIHZpZGVvcyBpbmNsdWRlIGRlc2lnbiBiYWNrZ3JvdW5kIHZpZGVvcyB3aGVyZVxuICAgKiBhbGwgY29udHJvbHMgYXJlIGhpZGRlbiBmcm9tIHRoZSB1c2VyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNJbnRlcmFjdGl2ZSgpIHt9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgcGxheWJhY2sgdGltZSBpbiBzZWNvbmRzIGF0IHRpbWUgb2YgdHJpZ2dlclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRDdXJyZW50VGltZSgpIHt9XG5cbiAgLyoqXG4gICAqIFRvdGFsIGR1cmF0aW9uIG9mIHRoZSB2aWRlbyBpbiBzZWNvbmRzXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldER1cmF0aW9uKCkge31cblxuICAvKipcbiAgICogR2V0IGEgMmQgYXJyYXkgb2Ygc3RhcnQgYW5kIHN0b3AgdGltZXMgdGhhdCB0aGUgdXNlciBoYXMgd2F0Y2hlZC5cbiAgICogQHJldHVybiB7IUFycmF5PEFycmF5PG51bWJlcj4+fVxuICAgKi9cbiAgZ2V0UGxheWVkUmFuZ2VzKCkge31cblxuICAvKipcbiAgICogUGxheXMgdGhlIHZpZGVvLi5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB1bnVzZWRJc0F1dG9wbGF5IFdoZXRoZXIgdGhlIGNhbGwgdG8gdGhlIGBwbGF5YCBtZXRob2QgaXNcbiAgICogdHJpZ2dlcmVkIGJ5IHRoZSBhdXRvcGxheSBmdW5jdGlvbmFsaXR5LiBWaWRlbyBwbGF5ZXJzIGNhbiB1c2UgdGhpcyBoaW50XG4gICAqIHRvIG1ha2UgZGVjaXNpb25zIHN1Y2ggYXMgbm90IHBsYXlpbmcgcHJlLXJvbGwgdmlkZW8gYWRzLlxuICAgKi9cbiAgcGxheSh1bnVzZWRJc0F1dG9wbGF5KSB7fVxuXG4gIC8qKlxuICAgKiBQYXVzZXMgdGhlIHZpZGVvLlxuICAgKi9cbiAgcGF1c2UoKSB7fVxuXG4gIC8qKlxuICAgKiBNdXRlcyB0aGUgdmlkZW8uXG4gICAqL1xuICBtdXRlKCkge31cblxuICAvKipcbiAgICogVW5tdXRlcyB0aGUgdmlkZW8uXG4gICAqL1xuICB1bm11dGUoKSB7fVxuXG4gIC8qKlxuICAgKiBNYWtlcyB0aGUgdmlkZW8gVUkgY29udHJvbHMgdmlzaWJsZS5cbiAgICpcbiAgICogQU1QIHdpbGwgbm90IGNhbGwgdGhpcyBtZXRob2QgaWYgYGNvbnRyb2xzYCBhdHRyaWJ1dGUgaXMgbm90IHNldC5cbiAgICovXG4gIHNob3dDb250cm9scygpIHt9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSB2aWRlbyBVSSBjb250cm9scy5cbiAgICpcbiAgICogQU1QIHdpbGwgbm90IGNhbGwgdGhpcyBtZXRob2QgaWYgYGNvbnRyb2xzYCBhdHRyaWJ1dGUgaXMgbm90IHNldC5cbiAgICovXG4gIGhpZGVDb250cm9scygpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdmlkZW8ncyBtZXRhIGRhdGEgKGFydHdvcmssIHRpdGxlLCBhcnRpc3QsIGFsYnVtLCBldGMuKSBmb3IgdXNlXG4gICAqIHdpdGggdGhlIE1lZGlhIFNlc3Npb24gQVBJXG4gICAqIGFydHdvcmsgKEFycmF5KTogVVJMIHRvIHRoZSBwb3N0ZXIgaW1hZ2UgKHByZWZlcmFibHkgYSA1MTJ4NTEyIFBORylcbiAgICogdGl0bGUgKHN0cmluZyk6IE5hbWUgb2YgdGhlIHZpZGVvXG4gICAqIGFydGlzdCAoc3RyaW5nKTogTmFtZSBvZiB0aGUgdmlkZW8ncyBhdXRob3IvYXJ0aXN0XG4gICAqIGFsYnVtIChzdHJpbmcpOiBOYW1lIG9mIHRoZSB2aWRlbydzIGFsYnVtIGlmIGl0IGV4aXN0c1xuICAgKiBAcmV0dXJuIHshLi9tZWRpYXNlc3Npb24taGVscGVyLk1ldGFkYXRhRGVmfHVuZGVmaW5lZH0gbWV0YWRhdGFcbiAgICovXG4gIGdldE1ldGFkYXRhKCkge31cblxuICAvKipcbiAgICogSWYgdGhpcyByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIGFzc3VtZWQgdGhhdCB0aGUgcGxheWVyIGltcGxlbWVudHNcbiAgICogYSBmZWF0dXJlIHRvIGVudGVyIGZ1bGxzY3JlZW4gb24gZGV2aWNlIHJvdGF0aW9uIGludGVybmFsbHksIHNvIHRoYXQgdGhlXG4gICAqIHZpZGVvIG1hbmFnZXIgZG9lcyBub3Qgb3ZlcnJpZGUgaXQuIElmIG5vdCwgdGhlIHZpZGVvIG1hbmFnZXIgd2lsbFxuICAgKiBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIGF1dG9tYXRpY2FsbHkgZm9yIHZpZGVvcyB3aXRoIHRoZSBhdHRyaWJ1dGVcbiAgICogYHJvdGF0ZS10by1mdWxsc2NyZWVuYC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHByZWltcGxlbWVudHNBdXRvRnVsbHNjcmVlbigpIHt9XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSBhc3N1bWVkIHRoYXQgdGhlIHBsYXllciBpbXBsZW1lbnRzXG4gICAqIHRoZSBNZWRpYVNlc3Npb24gQVBJIGludGVybmFsbHkgc28gdGhhdCB0aGUgdmlkZW8gbWFuYWdlciBkb2VzIG5vdCBvdmVycmlkZVxuICAgKiBpdC4gSWYgbm90LCB0aGUgdmlkZW8gbWFuYWdlciB3aWxsIHVzZSB0aGUgbWV0YWRhdGEgdmFyaWFibGUgYXMgd2VsbCBhc1xuICAgKiBpbmZlcnJlZCBtZXRhLWRhdGEgdG8gdXBkYXRlIHRoZSB2aWRlbydzIE1lZGlhIFNlc3Npb24gbm90aWZpY2F0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgcHJlaW1wbGVtZW50c01lZGlhU2Vzc2lvbkFQSSgpIHt9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgZnVsbHNjcmVlbiBvbiB0aGUgaW50ZXJuYWwgdmlkZW8gZWxlbWVudFxuICAgKiBOT1RFOiBXaGlsZSBpbXBsZW1lbnRpbmcsIGtlZXAgaW4gbWluZCB0aGF0IFNhZmFyaS9pT1MgZG8gbm90IGFsbG93IHRha2luZ1xuICAgKiBhbnkgZWxlbWVudCBvdGhlciB0aGFuIDx2aWRlbz4gdG8gZnVsbHNjcmVlbiwgaWYgdGhlIHBsYXllciBoYXMgYW4gaW50ZXJuYWxcbiAgICogaW1wbGVtZW50YXRpb24gb2YgZnVsbHNjcmVlbiAoZmxhc2ggZm9yIGV4YW1wbGUpIHRoZW4gY2hlY2tcbiAgICogaWYgU2VydmljZXMucGxhdGZvcm1Gb3IodGhpcy53aW4pLmlzU2FmYXJpIGlzIHRydWUgYW5kIHVzZSB0aGUgaW50ZXJuYWxcbiAgICogaW1wbGVtZW50YXRpb24gaW5zdGVhZC4gSWYgbm90LCBpdCBpcyByZWNvbW1lbmRlZCB0byB0YWtlIHRoZSBpZnJhbWVcbiAgICogdG8gZnVsbHNjcmVlbiB1c2luZyBmdWxsc2NyZWVuRW50ZXIgZnJvbSBkb20uanNcbiAgICovXG4gIGZ1bGxzY3JlZW5FbnRlcigpIHt9XG5cbiAgLyoqXG4gICAqIFF1aXRzIGZ1bGxzY3JlZW4gbW9kZVxuICAgKi9cbiAgZnVsbHNjcmVlbkV4aXQoKSB7fVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHZpZGVvIGlzIGN1cnJlbnRseSBpbiBmdWxsc2NyZWVuIG1vZGUgb3Igbm90XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0Z1bGxzY3JlZW4oKSB7fVxufVxuXG5cbi8qKlxuICogQXR0cmlidXRlc1xuICpcbiAqIENvbXBvbmVudHMgaW1wbGVtZW50aW5nIHRoZSBWaWRlb0ludGVyZmFjZSBhcmUgZXhwZWN0ZWQgdG8gc3VwcG9ydFxuICogdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzLlxuICpcbiAqIEBjb25zdGFudCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0F0dHJpYnV0ZXMgPSB7XG4gIC8qKlxuICAgKiBhdXRvcGxheVxuICAgKlxuICAgKiBXaGV0aGVyIHRoZSBkZXZlbG9wZXIgaGFzIGNvbmZpZ3VyZWQgYXV0b3BsYXkgb24gdGhlIGNvbXBvbmVudC5cbiAgICogVGhpcyBpcyBub3JtYWxseSBkb25lIGJ5IHNldHRpbmcgYGF1dG9wbGF5YCBhdHRyaWJ1dGUgb24gdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQU1QIHJ1bnRpbWUgbWFuYWdlcyBhdXRvcGxheSBiZWhhdmlvdXIgaXRzZWxmIHVzaW5nIG1ldGhvZHMgc3VjaCBhcyBgcGxheWAsXG4gICAqIGBwYXVzZWAsIGBzaG93Q29udHJvbHNgLCBgaGlkZUNvbnRyb2xzYCwgYG11dGVgLCBldGMuLiB0aGVyZWZvcmUgY29tcG9uZW50c1xuICAgKiBzaG91bGQgbm90IHByb3BhZ2F0ZSB0aGUgYXV0b3BsYXkgYXR0cmlidXRlIHRvIHRoZSB1bmRlcmx5aW5nIHBsYXllclxuICAgKiBpbXBsZW1lbnRhdGlvbi5cbiAgICpcbiAgICogV2hlbiBhIHZpZGVvIGlzIHJlcXVlc3RlZCB0byBhdXRvcGxheSwgQU1QIHdpbGwgYXV0b21hdGljYWxseVxuICAgKiBtdXRlIGFuZCBoaWRlIHRoZSBjb250cm9scyBmb3IgdGhlIHZpZGVvLCB3aGVuIHZpZGVvIGlzIDc1JSB2aXNpYmxlIGluXG4gICAqIHRoZSB2aWV3cG9ydCwgQU1QIHdpbGwgcGxheSB0aGUgdmlkZW8gYW5kIGxhdGVyIHBhdXNlcyBpdCB3aGVuIDI1JVxuICAgKiBvciBtb3JlIG9mIHRoZSB2aWRlbyBleGl0cyB0aGUgdmlld3BvcnQuIElmIGFuIGF1dG8tcGxheWluZyB2aWRlbyBhbHNvIGhhc1xuICAgKiBjb250cm9scywgQU1QIHdpbGwgaW5zdGFsbCBhIHRhcFxuICAgKiBoYW5kbGVyIG9uIHRoZSB2aWRlbywgYW5kIHdoZW4gYW4gZW5kLXVzZXIgdGFwcyB0aGUgdmlkZW8sIEFNUCB3aWxsIHNob3dcbiAgICogdGhlIGNvbnRyb2xzLlxuICAgKlxuICAgKi9cbiAgQVVUT1BMQVk6ICdhdXRvcGxheScsXG4gIC8qKlxuICAgKiBkb2NrXG4gICAqXG4gICAqIFNldHRpbmcgdGhlIGBkb2NrYCBhdHRyaWJ1dGUgb24gdGhlIGNvbXBvbmVudCBtYWtlcyB0aGUgdmlkZW8gbWluaW1pemVcbiAgICogdG8gdGhlIGNvcm5lciB3aGVuIHNjcm9sbGVkIG91dCBvZiB2aWV3IGFuZCBoYXMgYmVlbiBpbnRlcmFjdGVkIHdpdGguXG4gICAqL1xuICBET0NLOiAnZG9jaycsXG4gIC8qKlxuICAgKiByb3RhdGUtdG8tZnVsbHNjcmVlblxuICAgKlxuICAgKiBJZiBlbmFibGVkLCB0aGlzIGF1dG9tYXRpY2FsbHkgZXhwYW5kcyB0aGUgY3VycmVudGx5IHZpc2libGUgdmlkZW8gYW5kXG4gICAqIHBsYXlpbmcgdG8gZnVsbHNjcmVlbiB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIGRldmljZSdzIG9yaWVudGF0aW9uIHRvXG4gICAqIGxhbmRzY2FwZSBpZiB0aGUgdmlkZW8gd2FzIHN0YXJ0ZWQgZm9sbG93aW5nIGEgdXNlciBpbnRlcmFjdGlvblxuICAgKiAobm90IGF1dG9wbGF5KVxuICAgKlxuICAgKiBEZXBlbmRlbnQgdXBvbiBicm93c2VyIHN1cHBvcnQgb2ZcbiAgICogaHR0cDovL2Nhbml1c2UuY29tLyNmZWF0PXNjcmVlbi1vcmllbnRhdGlvblxuICAgKiBhbmQgaHR0cDovL2Nhbml1c2UuY29tLyNmZWF0PWZ1bGxzY3JlZW5cbiAgICovXG4gIFJPVEFURV9UT19GVUxMU0NSRUVOOiAncm90YXRlLXRvLWZ1bGxzY3JlZW4nLFxuICAvKipcbiAgICogbm9hdWRpb1xuICAgKlxuICAgKiBJZiBzZXQgYW5kIGF1dG9wbGF5LCB0aGUgZXF1YWxpemVyIGljb24gd2lsbCBub3QgYmUgZGlzcGxheWVkLlxuICAgKi9cbiAgTk9fQVVESU86ICdub2F1ZGlvJyxcbn07XG5cblxuLyoqXG4gKiBFdmVudHNcbiAqXG4gKiBDb21wb25lbnRzIGltcGxlbWVudGluZyB0aGUgVmlkZW9JbnRlcmZhY2UgYXJlIGV4cGVjdGVkIHRvIGRpc3BhdGNoXG4gKiB0aGUgZm9sbG93aW5nIERPTSBldmVudHMuXG4gKlxuICogQGNvbnN0YW50IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvRXZlbnRzID0ge1xuICAvKipcbiAgICogcmVnaXN0ZXJlZFxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBwbGF5ZXIgZWxlbWVudCBpcyBidWlsdCBhbmQgaGFzIGJlZW4gcmVnaXN0ZXJlZCB3aXRoXG4gICAqIHRoZSB2aWRlbyBtYW5hZ2VyLlxuICAgKlxuICAgKiBAZXZlbnQgcmVnaXN0ZXJlZFxuICAgKi9cbiAgUkVHSVNURVJFRDogJ3JlZ2lzdGVyZWQnLFxuXG4gIC8qKlxuICAgKiBsb2FkXG4gICAqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIHBsYXllciBpcyBsb2FkZWQgYW5kIGNhbGxzIHRvIG1ldGhvZHMgc3VjaCBhcyBgcGxheSgpYFxuICAgKiBhcmUgYWxsb3dlZC5cbiAgICpcbiAgICogQGV2ZW50IGxvYWRcbiAgICovXG4gIExPQUQ6ICdsb2FkJyxcblxuICAvKipcbiAgICogcGxheWluZ1xuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBiZWdpbnMgcGxheWluZy5cbiAgICpcbiAgICogQGV2ZW50IHBsYXlpbmdcbiAgICovXG4gIFBMQVlJTkc6ICdwbGF5aW5nJyxcblxuICAvKipcbiAgICogcGF1c2VcbiAgICpcbiAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gcGF1c2VzLlxuICAgKlxuICAgKiBAZXZlbnQgcGF1c2VcbiAgICovXG4gIFBBVVNFOiAncGF1c2UnLFxuXG4gIC8qKlxuICAgKiBlbmRlZFxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBlbmRzLlxuICAgKlxuICAgKiBUaGlzIGV2ZW50IHNob3VsZCBiZSBmaXJlZCBpbiBhZGRpdGlvbiB0byBgcGF1c2VgIHdoZW4gdmlkZW8gZW5kcy5cbiAgICpcbiAgICogQGV2ZW50IGVuZGVkXG4gICAqL1xuICBFTkRFRDogJ2VuZGVkJyxcblxuICAvKipcbiAgICogbXV0ZWRcbiAgICpcbiAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbXV0ZWQuXG4gICAqXG4gICAqIEBldmVudCBtdXRlZFxuICAgKi9cbiAgTVVURUQ6ICdtdXRlZCcsXG5cbiAgLyoqXG4gICAqIHVubXV0ZWRcbiAgICpcbiAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgdW5tdXRlZC5cbiAgICpcbiAgICogQGV2ZW50IHVubXV0ZWRcbiAgICovXG4gIFVOTVVURUQ6ICd1bm11dGVkJyxcblxuICAvKipcbiAgICogYW1wOnZpZGVvOnZpc2liaWxpdHlcbiAgICpcbiAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8ncyB2aXNpYmlsaXR5IGNoYW5nZXMuIE5vcm1hbGx5IGZpcmVkXG4gICAqIGZyb20gYHZpZXdwb3J0Q2FsbGJhY2tgLlxuICAgKlxuICAgKiBAZXZlbnQgYW1wOnZpZGVvOnZpc2liaWxpdHlcbiAgICogQHByb3BlcnR5IHtib29sZWFufSB2aXNpYmxlIFdoZXRoZXIgdGhlIHZpZGVvIHBsYXllciBpcyB2aXNpYmxlIG9yIG5vdC5cbiAgICovXG4gIFZJU0lCSUxJVFk6ICdhbXA6dmlkZW86dmlzaWJpbGl0eScsXG5cbiAgLyoqXG4gICAqIHJlbG9hZFxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbydzIHNyYyBjaGFuZ2VzLlxuICAgKlxuICAgKiBAZXZlbnQgcmVsb2FkZWRcbiAgICovXG4gIFJFTE9BRDogJ3JlbG9hZGVkJyxcblxuICAvKipcbiAgICogcHJlL21pZC9wb3N0IEFkIHN0YXJ0XG4gICAqXG4gICAqIEZpcmVkIHdoZW4gYW4gQWQgc3RhcnRzIHBsYXlpbmcuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZCB0byByZW1vdmUgYW55IG92ZXJsYXkgc2hpbXMgZHVyaW5nIEFkIHBsYXkgZHVyaW5nIGF1dG9wbGF5XG4gICAqIG9yIG1pbmltaXplZC10by1jb3JuZXIgdmVyc2lvbiBvZiB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBAZXZlbnQgYWRfc3RhcnRcbiAgICovXG4gIEFEX1NUQVJUOiAnYWRfc3RhcnQnLFxuXG4gIC8qKlxuICAgKiBwcmUvbWlkL3Bvc3QgQWQgZW5kc1xuICAgKlxuICAgKiBGaXJlZCB3aGVuIGFuIEFkIGVuZHMgcGxheWluZy5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VkIHRvIHJlc3RvcmUgYW55IG92ZXJsYXkgc2hpbXMgZHVyaW5nIEFkIHBsYXkgZHVyaW5nIGF1dG9wbGF5XG4gICAqIG9yIG1pbmltaXplZC10by1jb3JuZXIgdmVyc2lvbiBvZiB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBAZXZlbnQgYWRfZW5kXG4gICAqL1xuICBBRF9FTkQ6ICdhZF9lbmQnLFxufTtcblxuXG4vKipcbiAqIFBsYXlpbmcgU3RhdGVzXG4gKlxuICogSW50ZXJuYWwgcGxheWluZyBzdGF0ZXMgdXNlZCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIHZpZGVvIHBsYXlpbmcgb24gdXNlcidzXG4gKiBjb21tYW5kIGFuZCB2aWRlb3MgcGxheWluZyBhdXRvbWF0aWNhbGx5XG4gKlxuICogQGNvbnN0YW50IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNvbnN0IFBsYXlpbmdTdGF0ZXMgPSB7XG4gIC8qKlxuICAgKiBwbGF5aW5nX21hbnVhbFxuICAgKlxuICAgKiBXaGVuIHRoZSB2aWRlbyB1c2VyIG1hbnVhbGx5IGludGVyYWN0ZWQgd2l0aCB0aGUgdmlkZW8gYW5kIHRoZSB2aWRlb1xuICAgKiBpcyBub3cgcGxheWluZ1xuICAgKlxuICAgKiBAZXZlbnQgcGxheWluZ19tYW51YWxcbiAgICovXG4gIFBMQVlJTkdfTUFOVUFMOiAncGxheWluZ19tYW51YWwnLFxuXG4gIC8qKlxuICAgKiBwbGF5aW5nX2F1dG9cbiAgICpcbiAgICogV2hlbiB0aGUgdmlkZW8gaGFzIGF1dG9wbGF5IGFuZCB0aGUgdXNlciBoYXNuJ3QgaW50ZXJhY3RlZCB3aXRoIGl0IHlldFxuICAgKlxuICAgKiBAZXZlbnQgcGxheWluZ19hdXRvXG4gICAqL1xuICBQTEFZSU5HX0FVVE86ICdwbGF5aW5nX2F1dG8nLFxuXG4gIC8qKlxuICAgKiBwYXVzZWRcbiAgICpcbiAgICogV2hlbiB0aGUgdmlkZW8gaXMgcGF1c2VkLlxuICAgKlxuICAgKiBAZXZlbnQgcGF1c2VkXG4gICAqL1xuICBQQVVTRUQ6ICdwYXVzZWQnLFxufTtcblxuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0FuYWx5dGljc0V2ZW50cyA9IHtcbiAgLyoqXG4gICAqIHZpZGVvLWVuZGVkXG4gICAqXG4gICAqIEluZGljYXRlcyB0aGF0IGEgdmlkZW8gZW5kZWQuXG4gICAqIEBwcm9wZXJ0eSB7IVZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZn0gZGV0YWlsc1xuICAgKiBAZXZlbnQgdmlkZW8tZW5kZWRcbiAgICovXG4gIEVOREVEOiAndmlkZW8tZW5kZWQnLFxuXG4gIC8qKlxuICAgKiB2aWRlby1wYXVzZVxuICAgKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBhIHZpZGVvIHBhdXNlZC5cbiAgICogQHByb3BlcnR5IHshVmlkZW9BbmFseXRpY3NEZXRhaWxzRGVmfSBkZXRhaWxzXG4gICAqIEBldmVudCB2aWRlby1wYXVzZVxuICAgKi9cbiAgUEFVU0U6ICd2aWRlby1wYXVzZScsXG5cbiAgLyoqXG4gICAqIHZpZGVvLXBsYXlcbiAgICpcbiAgICogSW5kaWNhdGVzIHRoYXQgYSB2aWRlbyBiZWdhbiB0byBwbGF5LlxuICAgKiBAcHJvcGVydHkgeyFWaWRlb0FuYWx5dGljc0RldGFpbHNEZWZ9IGRldGFpbHNcbiAgICogQGV2ZW50IHZpZGVvLXBsYXlcbiAgICovXG4gIFBMQVk6ICd2aWRlby1wbGF5JyxcblxuICAvKipcbiAgICogdmlkZW8tc2Vzc2lvblxuICAgKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBzb21lIHNlZ21lbnQgb2YgdGhlIHZpZGVvIHBsYXllZC5cbiAgICogQHByb3BlcnR5IHshVmlkZW9BbmFseXRpY3NEZXRhaWxzRGVmfSBkZXRhaWxzXG4gICAqIEBldmVudCB2aWRlby1zZXNzaW9uXG4gICAqL1xuICBTRVNTSU9OOiAndmlkZW8tc2Vzc2lvbicsXG5cbiAgLyoqXG4gICAqIHZpZGVvLXNlc3Npb24tdmlzaWJsZVxuICAgKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBzb21lIHNlZ21lbnQgb2YgdGhlIHZpZGVvIHBsYXllZCBpbiB0aGUgdmlld3BvcnQuXG4gICAqIEBwcm9wZXJ0eSB7IVZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZn0gZGV0YWlsc1xuICAgKiBAZXZlbnQgdmlkZW8tc2Vzc2lvbi12aXNpYmxlXG4gICAqL1xuICBTRVNTSU9OX1ZJU0lCTEU6ICd2aWRlby1zZXNzaW9uLXZpc2libGUnLFxuXG4gIC8qKlxuICAgKiB2aWRlby1zZWNvbmRzLXBsYXllZFxuICAgKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBhIHZpZGVvIHdhcyBwbGF5aW5nIHdoZW4gdGhlXG4gICAqIHZpZGVvLXNlY29uZHMtcGxheWVkIGludGVydmFsIGZpcmVkLlxuICAgKiBAcHJvcGVydHkgeyFWaWRlb0FuYWx5dGljc0RldGFpbHNEZWZ9IGRldGFpbHNcbiAgICogQGV2ZW50IHZpZGVvLXNlc3Npb24tdmlzaWJsZVxuICAgKi9cbiAgU0VDT05EU19QTEFZRUQ6ICd2aWRlby1zZWNvbmRzLXBsYXllZCcsXG59O1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgYXV0b3BsYXk6IGJvb2xlYW4sXG4gKiAgIGN1cnJlbnRUaW1lOiBudW1iZXIsXG4gKiAgIGR1cmF0aW9uOiBudW1iZXIsXG4gKiAgIGhlaWdodDogbnVtYmVyLFxuICogICBpZDogc3RyaW5nLFxuICogICBwbGF5ZWRSYW5nZXNKc29uOiBzdHJpbmcsXG4gKiAgIHBsYXllZFRvdGFsOiBudW1iZXIsXG4gKiAgIG11dGVkOiBib29sZWFuLFxuICogICBzdGF0ZTogc3RyaW5nLFxuICogICB3aWR0aDogbnVtYmVyXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZjtcblxuXG4vKipcbiAqIEhlbHBlciB1bmlvbiB0eXBlIHRvIGJlIHVzZWQgaW50ZXJuYWxseSwgc28gdGhhdCB0aGUgY29tcGlsZXIgdHJlYXRzXG4gKiBgVmlkZW9JbnRlcmZhY2VgIG9iamVjdHMgYXMgYEJhc2VFbGVtZW50YHMsIHdoaWNoIHRoZXkgc2hvdWxkIGJlIGFueXdheS5cbiAqXG4gKiBXQVJOSU5HOiBEb24ndCB1c2UgdGhpcyBhdCB0aGUgc2VydmljZSBsZXZlbC4gSXRzIGByZWdpc3RlcmAgbWV0aG9kIHNob3VsZFxuICogb25seSBhbGxvdyBgVmlkZW9JbnRlcmZhY2VgIGFzIGEgZ3VhcmRpbmcgbWVhc3VyZS5cbiAqXG4gKiBAdHlwZWRlZiB7IVZpZGVvSW50ZXJmYWNlfCEuL2Jhc2UtZWxlbWVudC5CYXNlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGxldCBWaWRlb09yQmFzZUVsZW1lbnREZWY7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBQb3NzaWJsZSB2ZXJzaW9ucyBvZiBTaGFkb3cgRE9NIHNwZWNcbiAqIEBjb25zdFxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFNoYWRvd0RvbVZlcnNpb24gPSB7XG4gIE5PTkU6ICdub25lJyxcbiAgVjA6ICd2MCcsXG4gIFYxOiAndjEnLFxufTtcblxuLyoqXG4gKiBAdHlwZSB7U2hhZG93RG9tVmVyc2lvbnx1bmRlZmluZWR9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xubGV0IHNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb247XG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmxldCBzaGFkb3dDc3NTdXBwb3J0ZWQ7XG5cbi8qKlxuICogQHBhcmFtIHtTaGFkb3dEb21WZXJzaW9ufHVuZGVmaW5lZH0gdmFsXG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb25Gb3JUZXN0aW5nKHZhbCkge1xuICBzaGFkb3dEb21TdXBwb3J0ZWRWZXJzaW9uID0gdmFsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IHZhbFxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaGFkb3dDc3NTdXBwb3J0ZWRGb3JUZXN0aW5nKHZhbCkge1xuICBzaGFkb3dDc3NTdXBwb3J0ZWQgPSB2YWw7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFNoYWRvdyBET00gaXMgc3VwcG9ydGVkLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2hhZG93RG9tU3VwcG9ydGVkKCkge1xuICByZXR1cm4gZ2V0U2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbigpICE9IFNoYWRvd0RvbVZlcnNpb24uTk9ORTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBTaGFkb3cgQ1NTIGVuY2Fwc3VsYXRpb24gaXMgc3VwcG9ydGVkLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2hhZG93Q3NzU3VwcG9ydGVkKCkge1xuICBpZiAoc2hhZG93Q3NzU3VwcG9ydGVkID09PSB1bmRlZmluZWQpIHtcbiAgICBzaGFkb3dDc3NTdXBwb3J0ZWQgPSBpc1NoYWRvd0RvbVN1cHBvcnRlZCgpICYmIChcbiAgICAgIGlzTmF0aXZlKEVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdykgfHxcbiAgICAgIGlzTmF0aXZlKEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gc2hhZG93Q3NzU3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBwYXNzZWQgZnVuY3Rpb24gaXMgbmF0aXZlIHRvIHRoZSBicm93c2VyLCBhbmQgaXMgbm90XG4gKiBwb2x5ZmlsbGVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl8dW5kZWZpbmVkfSBmdW5jIEEgZnVuY3Rpb24gdGhhdCBpcyBhdHRhdGNoZWQgdG8gYSBKU1xuICogb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOYXRpdmUoZnVuYykge1xuICByZXR1cm4gISFmdW5jICYmIGZ1bmMudG9TdHJpbmcoKS5pbmRleE9mKCdbbmF0aXZlIGNvZGVdJykgIT0gLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3VwcG9ydGVkIHZlcnNpb24gb2YgU2hhZG93IERPTSBzcGVjLlxuICogQHBhcmFtIHs/ZnVuY3Rpb24obmV3OkVsZW1lbnQpPX0gb3B0X2VsZW1lbnRDbGFzcyBvcHRpb25hbCBmb3IgdGVzdGluZ1xuICogQHJldHVybiB7U2hhZG93RG9tVmVyc2lvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb24ob3B0X2VsZW1lbnRDbGFzcykge1xuICBpZiAoc2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbiA9XG4gICAgICAgIGdldFNoYWRvd0RvbVZlcnNpb24ob3B0X2VsZW1lbnRDbGFzcyB8fCBFbGVtZW50KTtcbiAgfVxuICByZXR1cm4gc2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNoYWRvdyBkb20gdmVyc2lvbi5cbiAqXG4gKiBAcGFyYW0gez9mdW5jdGlvbihuZXc6RWxlbWVudCk9fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtTaGFkb3dEb21WZXJzaW9ufVxuICovXG5mdW5jdGlvbiBnZXRTaGFkb3dEb21WZXJzaW9uKGVsZW1lbnQpIHtcbiAgaWYgKCEhZWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93KSB7XG4gICAgcmV0dXJuIFNoYWRvd0RvbVZlcnNpb24uVjE7XG4gIH0gZWxzZSBpZiAoISFlbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290KSB7XG4gICAgcmV0dXJuIFNoYWRvd0RvbVZlcnNpb24uVjA7XG4gIH1cbiAgcmV0dXJuIFNoYWRvd0RvbVZlcnNpb24uTk9ORTtcbn1cbiIsIi8qISBodHRwczovL210aHMuYmUvY3NzZXNjYXBlIHYxLjUuMSBieSBAbWF0aGlhcyB8IE1JVCBsaWNlbnNlICovXG5cblxuLyoqXG4gKiBUaGlzIHJlZ2V4IGNvbnNpc3RzIG9mIDQgbWF0Y2hpbmcgY2FwdHVyZSBncm91cHMgYW5kIG9uZSAobm9uLW1hdGNoaW5nKSBmYWxsYmFjazpcbiAqXG4gKiAtIChcXDApLCBjYXRjaCB0aGUgbnVsbCB0ZXJtaW5hdG9yIGNoYXJhY3RlciBzbyBpdCBtYXkgYmUgcmVwbGFjZWQgYnkgVVRGXG4gKiAgIFJlcGxhY2VtZW50IENoYXJcbiAqIC0gXigtKSQsIGNhdGNoIGEgc29saXRhcnkgZGFzaCBjaGFyLCBzbyB0aGF0IGl0IG1heSBiZSBiYWNrc2xhc2ggZXNjYXBlZC5cbiAqICAgVGhpcyBpcyBhIHNlcGFyYXRlIGNhcHR1cmUgZ3JvdXAgc28gdGhhdCB0aGUgbGVnYWwtY2hhcnMgKGdyb3VwIDQpIGRvZXNuJ3RcbiAqICAgY2FwdHVyZSBpdCBmaXJzdCwgc2luY2UgdGhhdCBncm91cCBkb2Vzbid0IG5lZWQgdG8gZXNjYXBlIGl0cyBkYXNoLlxuICogLSAoW1xceDAxLVxceDFmXFx4N2ZdfF4tP1swLTldKSwgY2F0Y2ggYSBVVEYgY29udHJvbCBjaGFyLCBvciBhbnkgbGVhZGluZ1xuICogICBudW1iZXIgKHdpdGggYW4gb3B0aW9uYWwgbGVhZGluZyBkYXNoKS4gVGhlIGNvbnRyb2wgb3IgdGhlIG51bWJlciAoYnV0IG5vdFxuICogICB0aGUgbGVhZGluZyBkYXNoKSBtdXN0IGJlIGhleC1lc2NhcGVkLC5cbiAqIC0gKFtcXHg4MC1cXHVmZmZmMC05YS16QS1aXy1dKyksIGNhdGNoIGxlZ2FsLWNoYXJzLCB3aXRoIHRoZSBleGNlcHRpb24gb2YgYVxuICogICBzb2xpdGFyeSBkYXNoLCB3aGljaCB3aWxsIGFscmVhZHkgaGF2ZSBtYXRjaGVkIGluIGdyb3VwIDEuXG4gKiAtIFteXSwgZmluYWxseSwgYSBjYXRjaC1hbGwgdGhhdCBhbGxvd3MgdXMgdG8gYmFja3NsYXNoIGVzY2FwZSB0aGUgY2hhci5cbiAqXG4gKiBUb2dldGhlciwgdGhpcyBtYXRjaGVzIGV2ZXJ5dGhpbmcgbmVjZXNzYXJ5IGZvciBDU1MuZXNjYXBlLlxuICovXG52YXIgcmVnZXggPSAvKFxcMCl8XigtKSR8KFtcXHgwMS1cXHgxZlxceDdmXXxeLT9bMC05XSl8KFtcXHg4MC1cXHVmZmZmMC05YS16QS1aXy1dKyl8W15dL2c7XG5cbmZ1bmN0aW9uIGVzY2FwZXIobWF0Y2gsIG5pbCwgZGFzaCwgaGV4RXNjYXBlLCBjaGFycykge1xuICAvLyBDaGFycyBpcyB0aGUgbGVnYWwtY2hhcnMgKGdyb3VwIDQpIGNhcHR1cmVcbiAgaWYgKGNoYXJzKSB7XG4gICAgcmV0dXJuIGNoYXJzO1xuICB9XG4gIC8vIE5pbCBpcyB0aGUgbnVsbCB0ZXJtaW5hdG9yIChncm91cCAxKSBjYXB0dXJlXG4gIGlmIChuaWwpIHtcbiAgICByZXR1cm4gJ1xcdUZGRkQnO1xuICB9XG4gIC8vIEJvdGggVVRGIGNvbnRyb2wgY2hhcnMsIGFuZCBsZWFkaW5nIG51bWJlcnMgKHdpdGggb3B0aW9uYWwgbGVhZGluZyBkYXNoKVxuICAvLyAoZ3JvdXAgMykgbXVzdCBiZSBiYWNrc2xhc2ggZXNjYXBlZCB3aXRoIGEgdHJhaWxpbmcgc3BhY2UuICBGdW5uaWx5LCB0aGVcbiAgLy8gbGVhZGluZyBkYXNoIG11c3Qgbm90IGJlIGVzY2FwZWQsIGJ1dCB0aGUgbnVtYmVyLiA6c2hydWc6XG4gIGlmIChoZXhFc2NhcGUpIHtcbiAgICByZXR1cm4gbWF0Y2guc2xpY2UoMCwgLTEpICsgJ1xcXFwnICsgbWF0Y2guc2xpY2UoLTEpLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpICsgJyAnXG4gIH1cbiAgLy8gRmluYWxseSwgdGhlIHNvbGl0YXJ5IGRhc2ggYW5kIHRoZSBjYXRjaC1hbGwgY2hhcnMgcmVxdWlyZSBiYWNrc2xhc2hcbiAgLy8gZXNjYXBpbmcuXG4gIHJldHVybiAnXFxcXCcgKyBtYXRjaDtcbn1cblxuLyoqXG4gKiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3NlcmlhbGl6ZS1hbi1pZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0VzY2FwZSh2YWx1ZSkge1xuICByZXR1cm4gU3RyaW5nKHZhbHVlKS5yZXBsYWNlKHJlZ2V4LCBlc2NhcGVyKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKlxuICBUaGlzIGlzIGEgbGltaXRlZCBzaGltIGZvciBTaGFkb3dET00gY3NzIHN0eWxpbmcuXG4gIGh0dHBzOi8vZHZjcy53My5vcmcvaGcvd2ViY29tcG9uZW50cy9yYXctZmlsZS90aXAvc3BlYy9zaGFkb3cvaW5kZXguaHRtbCNzdHlsZXNcblxuICBUaGUgaW50ZW50aW9uIGhlcmUgaXMgdG8gc3VwcG9ydCBvbmx5IHRoZSBzdHlsaW5nIGZlYXR1cmVzIHdoaWNoIGNhbiBiZVxuICByZWxhdGl2ZWx5IHNpbXBseSBpbXBsZW1lbnRlZC4gVGhlIGdvYWwgaXMgdG8gYWxsb3cgdXNlcnMgdG8gYXZvaWQgdGhlXG4gIG1vc3Qgb2J2aW91cyBwaXRmYWxscyBhbmQgZG8gc28gd2l0aG91dCBjb21wcm9taXNpbmcgcGVyZm9ybWFuY2Ugc2lnbmlmaWNhbnRseS5cbiAgRm9yIFNoYWRvd0RPTSBzdHlsaW5nIHRoYXQncyBub3QgY292ZXJlZCBoZXJlLCBhIHNldCBvZiBiZXN0IHByYWN0aWNlc1xuICBjYW4gYmUgcHJvdmlkZWQgdGhhdCBzaG91bGQgYWxsb3cgdXNlcnMgdG8gYWNjb21wbGlzaCBtb3JlIGNvbXBsZXggc3R5bGluZy5cblxuICBUaGUgZm9sbG93aW5nIGlzIGEgbGlzdCBvZiBzcGVjaWZpYyBTaGFkb3dET00gc3R5bGluZyBmZWF0dXJlcyBhbmQgYSBicmllZlxuICBkaXNjdXNzaW9uIG9mIHRoZSBhcHByb2FjaCB1c2VkIHRvIHNoaW0uXG5cbiAgU2hpbW1lZCBmZWF0dXJlczpcblxuICAqIDpob3N0LCA6aG9zdC1jb250ZXh0OiBTaGFkb3dET00gYWxsb3dzIHN0eWxpbmcgb2YgdGhlIHNoYWRvd1Jvb3QncyBob3N0XG4gIGVsZW1lbnQgdXNpbmcgdGhlIDpob3N0IHJ1bGUuIFRvIHNoaW0gdGhpcyBmZWF0dXJlLCB0aGUgOmhvc3Qgc3R5bGVzIGFyZVxuICByZWZvcm1hdHRlZCBhbmQgcHJlZml4ZWQgd2l0aCBhIGdpdmVuIHNjb3BlIG5hbWUgYW5kIHByb21vdGVkIHRvIGFcbiAgZG9jdW1lbnQgbGV2ZWwgc3R5bGVzaGVldC5cbiAgRm9yIGV4YW1wbGUsIGdpdmVuIGEgc2NvcGUgbmFtZSBvZiAuZm9vLCBhIHJ1bGUgbGlrZSB0aGlzOlxuXG4gICAgOmhvc3Qge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gIGJlY29tZXM6XG5cbiAgICAuZm9vIHtcbiAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICB9XG5cbiAgKiBlbmNhcHN1bHRpb246IFN0eWxlcyBkZWZpbmVkIHdpdGhpbiBTaGFkb3dET00sIGFwcGx5IG9ubHkgdG9cbiAgZG9tIGluc2lkZSB0aGUgU2hhZG93RE9NLiBQb2x5bWVyIHVzZXMgb25lIG9mIHR3byB0ZWNobmlxdWVzIHRvIGltbGVtZW50XG4gIHRoaXMgZmVhdHVyZS5cblxuICBCeSBkZWZhdWx0LCBydWxlcyBhcmUgcHJlZml4ZWQgd2l0aCB0aGUgaG9zdCBlbGVtZW50IHRhZyBuYW1lXG4gIGFzIGEgZGVzY2VuZGFudCBzZWxlY3Rvci4gVGhpcyBlbnN1cmVzIHN0eWxpbmcgZG9lcyBub3QgbGVhayBvdXQgb2YgdGhlICd0b3AnXG4gIG9mIHRoZSBlbGVtZW50J3MgU2hhZG93RE9NLiBGb3IgZXhhbXBsZSxcblxuICBkaXYge1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gIGJlY29tZXM6XG5cbiAgeC1mb28gZGl2IHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cblxuICBiZWNvbWVzOlxuXG5cbiAgQWx0ZXJuYXRpdmVseSwgaWYgV2ViQ29tcG9uZW50cy5TaGFkb3dDU1Muc3RyaWN0U3R5bGluZyBpcyBzZXQgdG8gdHJ1ZSB0aGVuXG4gIHNlbGVjdG9ycyBhcmUgc2NvcGVkIGJ5IGFkZGluZyBhbiBhdHRyaWJ1dGUgc2VsZWN0b3Igc3VmZml4IHRvIGVhY2hcbiAgc2ltcGxlIHNlbGVjdG9yIHRoYXQgY29udGFpbnMgdGhlIGhvc3QgZWxlbWVudCB0YWcgbmFtZS4gRWFjaCBlbGVtZW50XG4gIGluIHRoZSBlbGVtZW50J3MgU2hhZG93RE9NIHRlbXBsYXRlIGlzIGFsc28gZ2l2ZW4gdGhlIHNjb3BlIGF0dHJpYnV0ZS5cbiAgVGh1cywgdGhlc2UgcnVsZXMgbWF0Y2ggb25seSBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHNjb3BlIGF0dHJpYnV0ZS5cbiAgRm9yIGV4YW1wbGUsIGdpdmVuIGEgc2NvcGUgbmFtZSBvZiB4LWZvbywgYSBydWxlIGxpa2UgdGhpczpcblxuICAgIGRpdiB7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgYmVjb21lczpcblxuICAgIGRpdlt4LWZvb10ge1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gIE5vdGUgdGhhdCBlbGVtZW50cyB0aGF0IGFyZSBkeW5hbWljYWxseSBhZGRlZCB0byBhIHNjb3BlIG11c3QgaGF2ZSB0aGUgc2NvcGVcbiAgc2VsZWN0b3IgYWRkZWQgdG8gdGhlbSBtYW51YWxseS5cblxuICAqIHVwcGVyL2xvd2VyIGJvdW5kIGVuY2Fwc3VsYXRpb246IFN0eWxlcyB3aGljaCBhcmUgZGVmaW5lZCBvdXRzaWRlIGFcbiAgc2hhZG93Um9vdCBzaG91bGQgbm90IGNyb3NzIHRoZSBTaGFkb3dET00gYm91bmRhcnkgYW5kIHNob3VsZCBub3QgYXBwbHlcbiAgaW5zaWRlIGEgc2hhZG93Um9vdC5cblxuICBUaGlzIHN0eWxpbmcgYmVoYXZpb3IgaXMgbm90IGVtdWxhdGVkLiBTb21lIHBvc3NpYmxlIHdheXMgdG8gZG8gdGhpcyB0aGF0XG4gIHdlcmUgcmVqZWN0ZWQgZHVlIHRvIGNvbXBsZXhpdHkgYW5kL29yIHBlcmZvcm1hbmNlIGNvbmNlcm5zIGluY2x1ZGU6ICgxKSByZXNldFxuICBldmVyeSBwb3NzaWJsZSBwcm9wZXJ0eSBmb3IgZXZlcnkgcG9zc2libGUgc2VsZWN0b3IgZm9yIGEgZ2l2ZW4gc2NvcGUgbmFtZTtcbiAgKDIpIHJlLWltcGxlbWVudCBjc3MgaW4gamF2YXNjcmlwdC5cblxuICBBcyBhbiBhbHRlcm5hdGl2ZSwgdXNlcnMgc2hvdWxkIG1ha2Ugc3VyZSB0byB1c2Ugc2VsZWN0b3JzXG4gIHNwZWNpZmljIHRvIHRoZSBzY29wZSBpbiB3aGljaCB0aGV5IGFyZSB3b3JraW5nLlxuXG4gICogOjpkaXN0cmlidXRlZDogVGhpcyBiZWhhdmlvciBpcyBub3QgZW11bGF0ZWQuIEl0J3Mgb2Z0ZW4gbm90IG5lY2Vzc2FyeVxuICB0byBzdHlsZSB0aGUgY29udGVudHMgb2YgYSBzcGVjaWZpYyBpbnNlcnRpb24gcG9pbnQgYW5kIGluc3RlYWQsIGRlc2NlbmRhbnRzXG4gIG9mIHRoZSBob3N0IGVsZW1lbnQgY2FuIGJlIHN0eWxlZCBzZWxlY3RpdmVseS4gVXNlcnMgY2FuIGFsc28gY3JlYXRlIGFuXG4gIGV4dHJhIG5vZGUgYXJvdW5kIGFuIGluc2VydGlvbiBwb2ludCBhbmQgc3R5bGUgdGhhdCBub2RlJ3MgY29udGVudHNcbiAgdmlhIGRlc2NlbmRlbnQgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgd2l0aCBhIHNoYWRvd1Jvb3QgbGlrZSB0aGlzOlxuXG4gICAgPHN0eWxlPlxuICAgICAgOjpjb250ZW50KGRpdikge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgICA8Y29udGVudD48L2NvbnRlbnQ+XG5cbiAgY291bGQgYmVjb21lOlxuXG4gICAgPHN0eWxlPlxuICAgICAgLyAqQHBvbHlmaWxsIC5jb250ZW50LWNvbnRhaW5lciBkaXYgKiAvXG4gICAgICA6OmNvbnRlbnQoZGl2KSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWNvbnRhaW5lclwiPlxuICAgICAgPGNvbnRlbnQ+PC9jb250ZW50PlxuICAgIDwvZGl2PlxuXG4gIE5vdGUgdGhlIHVzZSBvZiBAcG9seWZpbGwgaW4gdGhlIGNvbW1lbnQgYWJvdmUgYSBTaGFkb3dET00gc3BlY2lmaWMgc3R5bGVcbiAgZGVjbGFyYXRpb24uIFRoaXMgaXMgYSBkaXJlY3RpdmUgdG8gdGhlIHN0eWxpbmcgc2hpbSB0byB1c2UgdGhlIHNlbGVjdG9yXG4gIGluIGNvbW1lbnRzIGluIGxpZXUgb2YgdGhlIG5leHQgc2VsZWN0b3Igd2hlbiBydW5uaW5nIHVuZGVyIHBvbHlmaWxsLlxuKi9cblxuZXhwb3J0IGNvbnN0IFNoYWRvd0NTUyA9IHtcbiAgc3RyaWN0U3R5bGluZzogZmFsc2UsXG4gIC8vIGNoYW5nZSBhIHNlbGVjdG9yIGxpa2UgJ2RpdicgdG8gJ25hbWUgZGl2J1xuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgc2NvcGVSdWxlczogZnVuY3Rpb24oY3NzUnVsZXMsIHNjb3BlU2VsZWN0b3IsIG9wdF90cmFuc2Zvcm1lcikge1xuICAgIHZhciBjc3NUZXh0ID0gJyc7XG4gICAgaWYgKGNzc1J1bGVzKSB7XG4gICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGNzc1J1bGVzLCBmdW5jdGlvbihydWxlKSB7XG4gICAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCAmJiAocnVsZS5zdHlsZSAmJiBydWxlLnN0eWxlLmNzc1RleHQgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICBjc3NUZXh0ICs9IHRoaXMuc2NvcGVTZWxlY3RvcihydWxlLnNlbGVjdG9yVGV4dCwgc2NvcGVTZWxlY3RvcixcbiAgICAgICAgICAgIHRoaXMuc3RyaWN0U3R5bGluZywgb3B0X3RyYW5zZm9ybWVyKSArICcge1xcblxcdCc7XG4gICAgICAgICAgY3NzVGV4dCArPSB0aGlzLnByb3BlcnRpZXNGcm9tUnVsZShydWxlKSArICdcXG59XFxuXFxuJztcbiAgICAgICAgfSBlbHNlIGlmIChydWxlLnR5cGUgPT09IENTU1J1bGUuTUVESUFfUlVMRSkge1xuICAgICAgICAgIGNzc1RleHQgKz0gJ0BtZWRpYSAnICsgcnVsZS5tZWRpYS5tZWRpYVRleHQgKyAnIHtcXG4nO1xuICAgICAgICAgIGNzc1RleHQgKz0gdGhpcy5zY29wZVJ1bGVzKHJ1bGUuY3NzUnVsZXMsIHNjb3BlU2VsZWN0b3IpO1xuICAgICAgICAgIGNzc1RleHQgKz0gJ1xcbn1cXG5cXG4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEtFWUZSQU1FU19SVUxFIGluIElFIHRocm93cyB3aGVuIHdlIHF1ZXJ5IGNzc1RleHRcbiAgICAgICAgICAvLyB3aGVuIGl0IGNvbnRhaW5zIGEgLXdlYmtpdC0gcHJvcGVydHkuXG4gICAgICAgICAgLy8gaWYgdGhpcyBoYXBwZW5zLCB3ZSBmYWxsYmFjayB0byBjb25zdHJ1Y3RpbmcgdGhlIHJ1bGVcbiAgICAgICAgICAvLyBmcm9tIHRoZSBDU1NSdWxlU2V0XG4gICAgICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2tkZXRhaWwvdmlldy85NTU3MDMvYWNjZXNzaW5nLWNzc3RleHQtb2YtYS1rZXlmcmFtZS1ydWxlLXRoYXQtY29udGFpbnMtYS13ZWJraXQtcHJvcGVydHktdmlhLWNzc29tLWdlbmVyYXRlcy1leGNlcHRpb25cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJ1bGUuY3NzVGV4dCkge1xuICAgICAgICAgICAgICBjc3NUZXh0ICs9IHJ1bGUuY3NzVGV4dCArICdcXG5cXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gQ1NTUnVsZS5LRVlGUkFNRVNfUlVMRSAmJiBydWxlLmNzc1J1bGVzKSB7XG4gICAgICAgICAgICAgIGNzc1RleHQgKz0gdGhpcy5pZVNhZmVDc3NUZXh0RnJvbUtleUZyYW1lUnVsZShydWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gY3NzVGV4dDtcbiAgfSxcbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIGllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlOiBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGNzc1RleHQgPSAnQGtleWZyYW1lcyAnICsgcnVsZS5uYW1lICsgJyB7JztcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHJ1bGUuY3NzUnVsZXMsIGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgIGNzc1RleHQgKz0gJyAnICsgcnVsZS5rZXlUZXh0ICsgJyB7JyArIHJ1bGUuc3R5bGUuY3NzVGV4dCArICd9JztcbiAgICB9KTtcbiAgICBjc3NUZXh0ICs9ICcgfSc7XG4gICAgcmV0dXJuIGNzc1RleHQ7XG4gIH0sXG4gIC8qKiBAdGhpcyB7U2hhZG93Q1NTfSAqL1xuICBzY29wZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3Rvciwgc2NvcGVTZWxlY3Rvciwgc3RyaWN0LCBvcHRfdHJhbnNmb3JtZXIpIHtcbiAgICB2YXIgciA9IFtdLCBwYXJ0cyA9IHNlbGVjdG9yLnNwbGl0KCcsJyk7XG4gICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbihwKSB7XG4gICAgICBwID0gcC50cmltKCk7XG4gICAgICBpZiAob3B0X3RyYW5zZm9ybWVyKSB7XG4gICAgICAgIHAgPSBvcHRfdHJhbnNmb3JtZXIocCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhwLCBzY29wZVNlbGVjdG9yKSkge1xuICAgICAgICBwID0gKHN0cmljdCAmJiAhcC5tYXRjaChwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IpKSA/XG4gICAgICAgICAgICB0aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShwLCBzY29wZVNlbGVjdG9yKSA6XG4gICAgICAgICAgICB0aGlzLmFwcGx5U2VsZWN0b3JTY29wZShwLCBzY29wZVNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICAgIHIucHVzaChwKTtcbiAgICB9LCB0aGlzKTtcbiAgICByZXR1cm4gci5qb2luKCcsICcpO1xuICB9LFxuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgc2VsZWN0b3JOZWVkc1Njb3Bpbmc6IGZ1bmN0aW9uKHNlbGVjdG9yLCBzY29wZVNlbGVjdG9yKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NvcGVTZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgcmUgPSB0aGlzLm1ha2VTY29wZU1hdGNoZXIoc2NvcGVTZWxlY3Rvcik7XG4gICAgcmV0dXJuICFzZWxlY3Rvci5tYXRjaChyZSk7XG4gIH0sXG4gIC8qKiBAdGhpcyB7U2hhZG93Q1NTfSAqL1xuICBtYWtlU2NvcGVNYXRjaGVyOiBmdW5jdGlvbihzY29wZVNlbGVjdG9yKSB7XG4gICAgc2NvcGVTZWxlY3RvciA9IHNjb3BlU2VsZWN0b3IucmVwbGFjZSgvXFxbL2csICdcXFxcWycpLnJlcGxhY2UoL1xcXS9nLCAnXFxcXF0nKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXignICsgc2NvcGVTZWxlY3RvciArICcpJyArIHNlbGVjdG9yUmVTdWZmaXgsICdtJyk7XG4gIH0sXG4gIC8qKiBAdGhpcyB7U2hhZG93Q1NTfSAqL1xuICBhcHBseVNlbGVjdG9yU2NvcGU6IGZ1bmN0aW9uKHNlbGVjdG9yLCBzZWxlY3RvclNjb3BlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc2VsZWN0b3JTY29wZSkgP1xuICAgICAgICB0aGlzLmFwcGx5U2VsZWN0b3JTY29wZUxpc3Qoc2VsZWN0b3IsIHNlbGVjdG9yU2NvcGUpIDpcbiAgICAgICAgdGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoc2VsZWN0b3IsIHNlbGVjdG9yU2NvcGUpO1xuICB9LFxuICAvLyBhcHBseSBhbiBhcnJheSBvZiBzZWxlY3RvcnNcbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIGFwcGx5U2VsZWN0b3JTY29wZUxpc3Q6IGZ1bmN0aW9uKHNlbGVjdG9yLCBzY29wZVNlbGVjdG9yTGlzdCkge1xuICAgIHZhciByID0gW107XG4gICAgZm9yICh2YXIgaT0wLCBzOyAocz1zY29wZVNlbGVjdG9yTGlzdFtpXSk7IGkrKykge1xuICAgICAgci5wdXNoKHRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKHNlbGVjdG9yLCBzKSk7XG4gICAgfVxuICAgIHJldHVybiByLmpvaW4oJywgJyk7XG4gIH0sXG4gIC8vIHNjb3BlIHZpYSBuYW1lIGFuZCBbaXM9bmFtZV1cbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZTogZnVuY3Rpb24oc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IpIHtcbiAgICBpZiAoc2VsZWN0b3IubWF0Y2gocG9seWZpbGxIb3N0UmUpKSB7XG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLCBzY29wZVNlbGVjdG9yKTtcbiAgICAgIHJldHVybiBzZWxlY3Rvci5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCBzY29wZVNlbGVjdG9yICsgJyAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNjb3BlU2VsZWN0b3IgKyAnICcgKyBzZWxlY3RvcjtcbiAgICB9XG4gIH0sXG4gIC8vIHJldHVybiBhIHNlbGVjdG9yIHdpdGggW25hbWVdIHN1ZmZpeCBvbiBlYWNoIHNpbXBsZSBzZWxlY3RvclxuICAvLyBlLmcuIC5mb28uYmFyID4gLnpvdCBiZWNvbWVzIC5mb29bbmFtZV0uYmFyW25hbWVdID4gLnpvdFtuYW1lXVxuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOiBmdW5jdGlvbihzZWxlY3Rvciwgc2NvcGVTZWxlY3Rvcikge1xuICAgIHNjb3BlU2VsZWN0b3IgPSBzY29wZVNlbGVjdG9yLnJlcGxhY2UoL1xcW2lzPShbXlxcXV0qKVxcXS9nLCAnJDEnKTtcbiAgICB2YXIgc3BsaXRzID0gWycgJywgJz4nLCAnKycsICd+J10sXG4gICAgICBzY29wZWQgPSBzZWxlY3RvcixcbiAgICAgIGF0dHJOYW1lID0gJ1snICsgc2NvcGVTZWxlY3RvciArICddJztcbiAgICBzcGxpdHMuZm9yRWFjaChmdW5jdGlvbihzZXApIHtcbiAgICAgIHZhciBwYXJ0cyA9IHNjb3BlZC5zcGxpdChzZXApO1xuICAgICAgc2NvcGVkID0gcGFydHMubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgLy8gcmVtb3ZlIDpob3N0IHNpbmNlIGl0IHNob3VsZCBiZSB1bm5lY2Vzc2FyeVxuICAgICAgICB2YXIgdCA9IHAudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsICcnKTtcbiAgICAgICAgaWYgKHQgJiYgKHNwbGl0cy5pbmRleE9mKHQpIDwgMCkgJiYgKHQuaW5kZXhPZihhdHRyTmFtZSkgPCAwKSkge1xuICAgICAgICAgIHAgPSB0LnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sICckMScgKyBhdHRyTmFtZSArICckMiQzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9KS5qb2luKHNlcCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNjb3BlZDtcbiAgfSxcbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIHByb3BlcnRpZXNGcm9tUnVsZTogZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciBjc3NUZXh0ID0gcnVsZS5zdHlsZS5jc3NUZXh0O1xuICAgIC8vIFRPRE8oc29ydmVsbCk6IFNhZmFyaSBjc3NvbSBpbmNvcnJlY3RseSByZW1vdmVzIHF1b3RlcyBmcm9tIHRoZSBjb250ZW50XG4gICAgLy8gcHJvcGVydHkuIChodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE4MDQ1KVxuICAgIC8vIGRvbid0IHJlcGxhY2UgYXR0ciBydWxlc1xuICAgIGlmIChydWxlLnN0eWxlLmNvbnRlbnQgJiYgIXJ1bGUuc3R5bGUuY29udGVudC5tYXRjaCgvWydcIl0rfGF0dHIvKSkge1xuICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywgJ2NvbnRlbnQ6IFxcJycgK1xuICAgICAgICAgIHJ1bGUuc3R5bGUuY29udGVudCArICdcXCc7Jyk7XG4gICAgfVxuICAgIC8vIFRPRE8oc29ydmVsbCk6IHdlIGNhbiB3b3JrYXJvdW5kIHRoaXMgaXNzdWUgaGVyZSwgYnV0IHdlIG5lZWQgYSBsaXN0XG4gICAgLy8gb2YgdHJvdWJsZXNvbWUgcHJvcGVydGllcyB0byBmaXggaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcGxhdGZvcm0vaXNzdWVzLzUzXG4gICAgLy9cbiAgICAvLyBpbmhlcml0IHJ1bGVzIGNhbiBiZSBvbWl0dGVkIGZyb20gY3NzVGV4dFxuICAgIC8vIFRPRE8oc29ydmVsbCk6IHJlbW92ZSB3aGVuIEJsaW5rIGJ1ZyBpcyBmaXhlZDpcbiAgICAvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzU4MjczXG4gICAgdmFyIHN0eWxlID0gcnVsZS5zdHlsZTtcbiAgICBmb3IgKHZhciBpIGluIHN0eWxlKSB7XG4gICAgICBpZiAoc3R5bGVbaV0gPT09ICdpbml0aWFsJykge1xuICAgICAgICBjc3NUZXh0ICs9IGkgKyAnOiBpbml0aWFsOyAnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3NzVGV4dDtcbiAgfVxufTtcblxudmFyIHNlbGVjdG9yUmUgPSAvKFtee10qKSh7W1xcc1xcU10qP30pL2dpbSxcbiAgICBjc3NDb21tZW50UmUgPSAvXFwvXFwqW14qXSpcXCorKFteLypdW14qXSpcXCorKSpcXC8vZ2ltLFxuICAgIC8vIFRPRE8oc29ydmVsbCk6IHJlbW92ZSBlaXRoZXIgY29udGVudCBvciBjb21tZW50XG4gICAgY3NzQ29tbWVudE5leHRTZWxlY3RvclJlID0gL1xcL1xcKlxccypAcG9seWZpbGwgKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvKShbXntdKj8pey9naW0sXG4gICAgY3NzQ29udGVudE5leHRTZWxlY3RvclJlID0gL3BvbHlmaWxsLW5leHQtc2VsZWN0b3JbXn1dKmNvbnRlbnRcXDpbXFxzXSo/WydcIl0oLio/KVsnXCJdWztcXHNdKn0oW157XSo/KXsvZ2ltLFxuICAgIC8vIFRPRE8oc29ydmVsbCk6IHJlbW92ZSBlaXRoZXIgY29udGVudCBvciBjb21tZW50XG4gICAgY3NzQ29tbWVudFJ1bGVSZSA9IC9cXC9cXCpcXHNAcG9seWZpbGwtcnVsZShbXipdKlxcKisoW14vKl1bXipdKlxcKispKilcXC8vZ2ltLFxuICAgIGNzc0NvbnRlbnRSdWxlUmUgPSAvKHBvbHlmaWxsLXJ1bGUpW159XSooY29udGVudFxcOltcXHNdKlsnXCJdKC4qPylbJ1wiXSlbO1xcc10qW159XSp9L2dpbSxcbiAgICAvLyBUT0RPKHNvcnZlbGwpOiByZW1vdmUgZWl0aGVyIGNvbnRlbnQgb3IgY29tbWVudFxuICAgIGNzc0NvbW1lbnRVbnNjb3BlZFJ1bGVSZSA9IC9cXC9cXCpcXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlxcKisoW14vKl1bXipdKlxcKispKilcXC8vZ2ltLFxuICAgIGNzc0NvbnRlbnRVbnNjb3BlZFJ1bGVSZSA9IC8ocG9seWZpbGwtdW5zY29wZWQtcnVsZSlbXn1dKihjb250ZW50XFw6W1xcc10qWydcIl0oLio/KVsnXCJdKVs7XFxzXSpbXn1dKn0vZ2ltLFxuICAgIGNzc1BzZXVkb1JlID0gLzo6KHgtW15cXHN7LChdKikvZ2ltLFxuICAgIGNzc1BhcnRSZSA9IC86OnBhcnRcXCgoW14pXSopXFwpL2dpbSxcbiAgICAvLyBub3RlOiA6aG9zdCBwcmUtcHJvY2Vzc2VkIHRvIC1zaGFkb3djc3Nob3N0LlxuICAgIHBvbHlmaWxsSG9zdCA9ICctc2hhZG93Y3NzaG9zdCcsXG4gICAgLy8gbm90ZTogOmhvc3QtY29udGV4dCBwcmUtcHJvY2Vzc2VkIHRvIC1zaGFkb3djc3Nob3N0Y29udGV4dC5cbiAgICBwb2x5ZmlsbEhvc3RDb250ZXh0ID0gJy1zaGFkb3djc3Njb250ZXh0JyxcbiAgICBwYXJlblN1ZmZpeCA9ICcpKD86XFxcXCgoJyArXG4gICAgICAgICcoPzpcXFxcKFteKShdKlxcXFwpfFteKShdKikrPycgK1xuICAgICAgICAnKVxcXFwpKT8oW14se10qKSc7XG4gICAgdmFyIGNzc0NvbG9uSG9zdFJlID0gbmV3IFJlZ0V4cCgnKCcgKyBwb2x5ZmlsbEhvc3QgKyBwYXJlblN1ZmZpeCwgJ2dpbScpLFxuICAgIGNzc0NvbG9uSG9zdENvbnRleHRSZSA9IG5ldyBSZWdFeHAoJygnICsgcG9seWZpbGxIb3N0Q29udGV4dCArIHBhcmVuU3VmZml4LCAnZ2ltJyksXG4gICAgc2VsZWN0b3JSZVN1ZmZpeCA9ICcoWz5cXFxcc34rXFxbLix7Ol1bXFxcXHNcXFxcU10qKT8kJyxcbiAgICBjb2xvbkhvc3RSZSA9IC9cXDpob3N0L2dpbSxcbiAgICBjb2xvbkhvc3RDb250ZXh0UmUgPSAvXFw6aG9zdC1jb250ZXh0L2dpbSxcbiAgICAvKiBob3N0IG5hbWUgd2l0aG91dCBjb21iaW5hdG9yICovXG4gICAgcG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yID0gcG9seWZpbGxIb3N0ICsgJy1uby1jb21iaW5hdG9yJyxcbiAgICBwb2x5ZmlsbEhvc3RSZSA9IG5ldyBSZWdFeHAocG9seWZpbGxIb3N0LCAnZ2ltJyksXG4gICAgcG9seWZpbGxIb3N0Q29udGV4dFJlID0gbmV3IFJlZ0V4cChwb2x5ZmlsbEhvc3RDb250ZXh0LCAnZ2ltJyksXG4gICAgc2hhZG93RE9NU2VsZWN0b3JzUmUgPSBbXG4gICAgICAvPj4+L2csXG4gICAgICAvOjpzaGFkb3cvZyxcbiAgICAgIC86OmNvbnRlbnQvZyxcbiAgICAgIC8vIERlcHJlY2F0ZWQgc2VsZWN0b3JzXG4gICAgICAvXFwvZGVlcFxcLy9nLCAvLyBmb3JtZXIgPj4+XG4gICAgICAvXFwvc2hhZG93XFwvL2csIC8vIGZvcm1lciA6OnNoYWRvd1xuICAgICAgL1xcL3NoYWRvdy1kZWVwXFwvL2csIC8vIGZvcm1lciAvZGVlcC9cbiAgICAgIC9cXF5cXF4vZywgICAgIC8vIGZvcm1lciAvc2hhZG93L1xuICAgICAgL1xcXig/IT0pL2cgICAvLyBmb3JtZXIgL3NoYWRvdy1kZWVwL1xuICAgIF07XG4iXX0="}