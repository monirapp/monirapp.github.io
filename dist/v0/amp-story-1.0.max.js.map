{"version":3,"sources":["node_modules/browser-pack/_prelude.js","build/amp-story-1.0.css.js","build/amp-story-bookend-1.0.css.js","build/amp-story-consent-1.0.css.js","build/amp-story-hint-1.0.css.js","build/amp-story-info-dialog-1.0.css.js","build/amp-story-share-menu-1.0.css.js","build/amp-story-system-layer-1.0.css.js","build/amp-story-unsupported-browser-layer-1.0.css.js","build/amp-story-viewport-warning-layer-1.0.css.js","build/video-autoplay.css.js","extensions/amp-animation/0.1/web-animation-types.js","extensions/amp-story/1.0/_locales/de.js","extensions/amp-story/1.0/_locales/default.js","extensions/amp-story/1.0/_locales/en-GB.js","extensions/amp-story/1.0/_locales/en.js","extensions/amp-story/1.0/_locales/es-419.js","extensions/amp-story/1.0/_locales/es.js","extensions/amp-story/1.0/_locales/fr-CA.js","extensions/amp-story/1.0/_locales/fr.js","extensions/amp-story/1.0/_locales/hi.js","extensions/amp-story/1.0/_locales/id.js","extensions/amp-story/1.0/_locales/it.js","extensions/amp-story/1.0/_locales/ja.js","extensions/amp-story/1.0/_locales/ko.js","extensions/amp-story/1.0/_locales/nl.js","extensions/amp-story/1.0/_locales/no.js","extensions/amp-story/1.0/_locales/pt-BR.js","extensions/amp-story/1.0/_locales/pt.js","extensions/amp-story/1.0/_locales/ru.js","extensions/amp-story/1.0/_locales/tr.js","extensions/amp-story/1.0/_locales/vi.js","extensions/amp-story/1.0/_locales/zh-TW.js","extensions/amp-story/1.0/_locales/zh.js","extensions/amp-story/1.0/amp-story-access.js","extensions/amp-story/1.0/amp-story-base-layer.js","extensions/amp-story/1.0/amp-story-consent.js","extensions/amp-story/1.0/amp-story-cta-layer.js","extensions/amp-story/1.0/amp-story-grid-layer.js","extensions/amp-story/1.0/amp-story-hint.js","extensions/amp-story/1.0/amp-story-info-dialog.js","extensions/amp-story/1.0/amp-story-page.js","extensions/amp-story/1.0/amp-story-request-service.js","extensions/amp-story/1.0/amp-story-share-menu.js","extensions/amp-story/1.0/amp-story-share.js","extensions/amp-story/1.0/amp-story-store-service.js","extensions/amp-story/1.0/amp-story-system-layer.js","extensions/amp-story/1.0/amp-story-unsupported-browser-layer.js","extensions/amp-story/1.0/amp-story-viewport-warning-layer.js","extensions/amp-story/1.0/amp-story.js","extensions/amp-story/1.0/analytics.js","extensions/amp-story/1.0/animation-presets-utils.js","extensions/amp-story/1.0/animation-presets.js","extensions/amp-story/1.0/animation-types.js","extensions/amp-story/1.0/animation.js","extensions/amp-story/1.0/audio.js","extensions/amp-story/1.0/background.js","extensions/amp-story/1.0/bookend/amp-story-bookend.js","extensions/amp-story/1.0/bookend/bookend-component.js","extensions/amp-story/1.0/bookend/components/article.js","extensions/amp-story/1.0/bookend/components/bookend-component-interface.js","extensions/amp-story/1.0/bookend/components/cta-link.js","extensions/amp-story/1.0/bookend/components/heading.js","extensions/amp-story/1.0/bookend/components/landscape.js","extensions/amp-story/1.0/bookend/components/portrait.js","extensions/amp-story/1.0/bookend/components/text-box.js","extensions/amp-story/1.0/default-media.js","extensions/amp-story/1.0/development-ui.js","extensions/amp-story/1.0/embed-mode.js","extensions/amp-story/1.0/events.js","extensions/amp-story/1.0/jsonld.js","extensions/amp-story/1.0/loading-spinner.js","extensions/amp-story/1.0/localization.js","extensions/amp-story/1.0/logging.js","extensions/amp-story/1.0/media-pool.js","extensions/amp-story/1.0/media-tasks.js","extensions/amp-story/1.0/navigation-state.js","extensions/amp-story/1.0/page-advancement.js","extensions/amp-story/1.0/page-scaling.js","extensions/amp-story/1.0/pagination-buttons.js","extensions/amp-story/1.0/progress-bar.js","extensions/amp-story/1.0/simple-template.js","extensions/amp-story/1.0/sources.js","extensions/amp-story/1.0/toast.js","extensions/amp-story/1.0/utils.js","extensions/amp-story/1.0/variable-service.js","node_modules/document-register-element/build/document-register-element.patched.js","node_modules/promise-pjs/promise.js","src/action-constants.js","src/amp-events.js","src/analytics.js","src/clipboard.js","src/common-signals.js","src/config.js","src/consent-state.js","src/consent.js","src/cookies.js","src/document-ready.js","src/dom.js","src/element-service.js","src/error.js","src/event-helper-listen.js","src/event-helper.js","src/experiments.js","src/exponential-backoff.js","src/friendly-iframe-embed.js","src/gesture-recognizers.js","src/gesture.js","src/json.js","src/layout-rect.js","src/layout.js","src/log.js","src/mode-object.js","src/mode.js","src/motion.js","src/observable.js","src/pass.js","src/polyfills.js","src/polyfills/array-includes.js","src/polyfills/custom-elements.js","src/polyfills/document-contains.js","src/polyfills/domtokenlist-toggle.js","src/polyfills/math-sign.js","src/polyfills/object-assign.js","src/polyfills/promise.js","src/render-delaying-services.js","src/service.js","src/service/action-impl.js","src/service/position-observer/position-observer-impl.js","src/service/position-observer/position-observer-worker.js","src/service/video-service-interface.js","src/service/video-service-sync-impl.js","src/service/video/autoplay.js","src/service/video/install-autoplay-styles.js","src/services.js","src/shadow-embed.js","src/static-template.js","src/string.js","src/style-installer.js","src/style.js","src/types.js","src/url-parse-query-string.js","src/url-try-decode-uri-component.js","src/url.js","src/utils/array.js","src/utils/function.js","src/utils/key-codes.js","src/utils/lru-cache.js","src/utils/object.js","src/utils/promise.js","src/utils/rate-limit.js","src/utils/signals.js","src/utils/video.js","src/video-interface.js","src/web-components.js","third_party/css-escape/css-escape.js","third_party/webcomponentsjs/ShadowCSS.js"],"names":[],"mappings":"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D;;;;;;;ACjFH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACn6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"amp-story-1.0.max.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const CSS = \"amp-story-access{position:absolute!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100003!important;-webkit-transform:translate3d(0,100vh,0)!important;transform:translate3d(0,100vh,0)!important;-webkit-transition-delay:0.15s!important;transition-delay:0.15s!important}amp-story-access.i-amphtml-story-access-visible{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition-delay:0s!important;transition-delay:0s!important}amp-story-access:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0!important;-webkit-transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}amp-story-access.i-amphtml-story-access-visible:before{opacity:0.4!important;-webkit-transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-access-overflow{margin-top:auto!important;overflow-y:auto!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-story-access-container{position:relative!important;margin:88px 8px 0!important;background:#fff!important;border-radius:8px 8px 0 0!important;color:rgba(0,0,0,0.87)!important;font-family:Roboto,sans-serif!important;text-align:left!important;overflow:hidden!important;-webkit-transform:translate3d(0,100%,0)!important;transform:translate3d(0,100%,0)!important;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-access-visible .i-amphtml-story-access-container{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-access-fullbleed .i-amphtml-story-access-container{margin:88px 0px 0!important;padding:0 8px!important;border-radius:initial!important}.i-amphtml-story-access-content{padding:16px!important;font-size:14px!important;z-index:0!important}@media (min-width:420px){amp-story-access{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-access-overflow{margin-top:0!important}.i-amphtml-story-access-container{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;margin:0!important;max-height:80vh!important;min-height:40vh!important;width:calc(100vw - 80px)!important;max-width:800px!important}.i-amphtml-story-access-content{margin:0 auto!important;max-width:424px!important;-webkit-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important;overflow-y:auto!important}.i-amphtml-story-access-content::-webkit-scrollbar{width:0px!important;background:transparent!important}}amp-story[scroll]{overflow-y:auto!important}[scroll] amp-story-page{position:relative!important;height:100vh!important}[scroll] amp-story-page[distance]{-webkit-transform:none!important;transform:none!important}.i-amphtml-story-background{background-color:transparent}amp-story[standalone][desktop]{max-width:none!important;max-height:none!important;width:100vw!important}[desktop] .i-amphtml-story-logo{display:block!important}.i-amphtml-story-background-container{opacity:.8!important;position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;overflow:hidden!important}.i-amphtml-story-background-overlay,.i-amphtml-story-background-overlay:after{position:absolute!important;left:0!important;top:0!important;height:100%!important;width:100%!important;z-index:1!important;background-color:rgba(0,0,0,0.2)!important}.i-amphtml-story-background-overlay:after{content:\\\"\\\"!important;display:block!important;opacity:0!important;background-color:rgba(0,0,0,0.5)!important;-webkit-transition:opacity 0.3s!important;transition:opacity 0.3s!important}.i-amphtml-story-bookend-active .i-amphtml-story-background-overlay:after{opacity:1!important}.i-amphtml-story-background{position:absolute!important;top:-150px!important;right:-150px!important;bottom:-150px!important;left:-150px!important;opacity:0!important;-webkit-filter:blur(50px)!important;filter:blur(50px)!important;background-size:cover!important;background-color:transparent!important;background-position:50%!important;will-change:opacity,z-index!important;z-index:0!important}.i-amphtml-story-background.active{opacity:1!important;z-index:1!important}[desktop] amp-story-page[distance]{-webkit-transform:scale(1.0) translateX(50vw) translateY(0%)!important;transform:scale(1.0) translateX(50vw) translateY(0%)!important;opacity:.05!important;-webkit-transform-origin:left!important;transform-origin:left!important;border-radius:16px!important}[desktop] amp-story-page[distance=\\\"0\\\"],[desktop] amp-story-page[distance=\\\"1\\\"]{-webkit-transition:opacity 300ms linear,-webkit-transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important;transition:opacity 300ms linear,-webkit-transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important;transition:opacity 300ms linear,transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important;transition:opacity 300ms linear,transform 300ms cubic-bezier(0.4,0.0,0.2,1),-webkit-transform 300ms cubic-bezier(0.4,0.0,0.2,1)!important}[desktop] .i-amphtml-story-button-container{position:absolute!important;top:0!important;bottom:0!important;left:0!important;right:0!important;z-index:100002!important;pointer-events:none!important;display:block!important}[desktop] .i-amphtml-story-button-container:before{content:\\\"\\\";position:absolute!important;top:0!important;bottom:0!important;width:calc(50vw - 23vh - 32px)!important}.i-amphtml-story-back-prev>.i-amphtml-story-page-sentinel,.i-amphtml-story-button-move,.i-amphtml-story-fwd-next>.i-amphtml-story-page-sentinel{pointer-events:all!important}.i-amphtml-story-button-hidden>.i-amphtml-story-button-move{cursor:default!important;pointer-events:none!important;opacity:0!important}[desktop]>.next-container:before,[dir=rtl] [desktop]>.prev-container:before{right:0!important;left:auto!important;background:-webkit-linear-gradient(left,rgba(33,33,33,0),rgba(33,33,33,0.32))!important;background:linear-gradient(90deg,rgba(33,33,33,0) 0%,rgba(33,33,33,0.32))!important}[desktop]>.prev-container:before,[dir=rtl] [desktop]>.next-container:before{left:0!important;right:auto!important;background:-webkit-linear-gradient(left,rgba(33,33,33,0.32),rgba(33,33,33,0))!important;background:linear-gradient(90deg,rgba(33,33,33,0.32) 0%,rgba(33,33,33,0))!important}[desktop]>.next-container>.i-amphtml-story-button-move{left:auto!important;right:0!important}[dir=rtl] [desktop]>.next-container>.i-amphtml-story-button-move{right:auto!important;left:0!important}[desktop] amp-story-page[i-amphtml-visited]{-webkit-transform:scale(0.9) translateX(-200vw) translateY(0%)!important;transform:scale(0.9) translateX(-200vw) translateY(0%)!important}.prev-container>.i-amphtml-story-page-sentinel,[desktop] amp-story-page[i-amphtml-previous-page],[dir=rtl] .next-container>.i-amphtml-story-page-sentinel,[dir=rtl] [desktop] amp-story-page[i-amphtml-next-page]{-webkit-transform:scale(0.9) translateX(calc(-150% - 64px)) translateY(0%)!important;transform:scale(0.9) translateX(calc(-150% - 64px)) translateY(0%)!important}[desktop] amp-story-page[active]{-webkit-transform:scale(1.0) translateX(-50%) translateY(0%)!important;transform:scale(1.0) translateX(-50%) translateY(0%)!important;opacity:1!important}.next-container>.i-amphtml-story-page-sentinel,[desktop] amp-story-page[i-amphtml-next-page],[dir=rtl] .prev-container>.i-amphtml-story-page-sentinel,[dir=rtl] [desktop] amp-story-page[i-amphtml-previous-page]{-webkit-transform:scale(0.9) translate(calc(50% + 64px))!important;transform:scale(0.9) translate(calc(50% + 64px))!important}.i-amphtml-story-page-sentinel,[desktop]>amp-story-page{left:50%!important;right:auto!important;margin:auto!important;max-height:75vh!important;max-width:45vh!important;min-width:320px!important;min-height:533px!important}[desktop]>amp-story-page{box-shadow:0 0 15px rgba(0,0,0,0.4)!important}.i-amphtml-story-page-sentinel{width:100vw!important;height:100vh!important;margin-left:-32px!important;cursor:pointer}.i-amphtml-story-button-move,.i-amphtml-story-page-sentinel{position:absolute!important;top:0!important;bottom:0!important;z-index:100002!important}.i-amphtml-story-button-move{margin:auto 40px!important;width:60px!important;height:60px!important;border-radius:50%!important;border:0!important;background-color:#fff!important;background-repeat:no-repeat!important;background-size:12px 17px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;opacity:.5!important;-webkit-transition:opacity 150ms linear,-webkit-transform 300ms linear!important;transition:opacity 150ms linear,-webkit-transform 300ms linear!important;transition:opacity 150ms linear,transform 300ms linear!important;transition:opacity 150ms linear,transform 300ms linear,-webkit-transform 300ms linear!important;cursor:pointer!important;outline:none!important}.i-amphtml-story-prev-hover>amp-story-page[i-amphtml-previous-page]{opacity:0.3!important}.i-amphtml-story-next-hover>amp-story-page[active]+amp-story-page{opacity:0.3!important}.prev-container>.i-amphtml-story-button-move,[dir=rtl] .i-amphtml-story-fwd-next>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.7 22l-9.5-9.5L15.7 3l-3-3L.4 12.6 12.8 25'/%3E%3C/svg%3E\\\")!important;background-position:45% 50%!important;left:0!important;right:auto!important}.i-amphtml-story-fwd-next>.i-amphtml-story-button-move,[dir=rtl] .prev-container>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.3 3l9.5 9.5L.3 22l3 3 12.4-12.5L3.2 0'/%3E%3C/svg%3E\\\")!important;background-position:55% 50%!important;left:auto!important;right:0!important}.i-amphtml-story-fwd-replay>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important;background-position:50%;background-size:32px 32px!important}.i-amphtml-story-fwd-more>.i-amphtml-story-button-move{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important;background-position:50%;background-size:32px 32px!important}.i-amphtml-story-next-hover>.next-container>.i-amphtml-story-button-move,.i-amphtml-story-prev-hover>.prev-container>.i-amphtml-story-button-move{-webkit-transform:scale(1.1)!important;transform:scale(1.1)!important;opacity:1!important}.i-amphtml-story-prev-hover>.i-amphtml-story-button-hidden>.i-amphtml-story-button-move{opacity:0!important}.i-amphtml-story-next-hover>.i-amphtml-story-fwd-next>.i-amphtml-story-button-move{-webkit-transform:translateX(8px)!important;transform:translateX(8px)!important;opacity:1!important}.i-amphtml-story-prev-hover>.i-amphtml-story-back-close-bookend>.i-amphtml-story-button-move,.i-amphtml-story-prev-hover>.i-amphtml-story-back-prev>.i-amphtml-story-button-move{-webkit-transform:translateX(-8px)!important;transform:translateX(-8px)!important;opacity:1!important}amp-story{font-display:optional}amp-story-grid-layer *{box-sizing:border-box;margin:0}.i-amphtml-story-grid-template-fill>amp-anim img,.i-amphtml-story-grid-template-fill>amp-img img,.i-amphtml-story-grid-template-fill>amp-video video{-o-object-fit:cover;object-fit:cover}.i-amphtml-story-grid-template-vertical{-ms-flex-line-pack:start;align-content:start;grid-gap:16px;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;justify-items:start}.i-amphtml-story-grid-template-vertical>*{width:100%}.i-amphtml-story-grid-template-horizontal{-ms-flex-line-pack:stretch;align-content:stretch;-webkit-box-align:start;-ms-flex-align:start;align-items:start;grid-gap:16px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start}amp-story-grid-layer{padding:68px 32px 32px}amp-story,amp-story-cta-layer,amp-story-grid-layer,amp-story-page{contain:strict!important;overflow:hidden!important}amp-consent{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:none!important;z-index:initial!important}.i-amphtml-story-system-reset,.i-amphtml-story-system-reset *{border:none!important;box-sizing:initial!important;color:initial!important;font-family:Roboto,sans-serif!important;font-size:initial!important;font-weight:initial!important;height:auto!important;margin:0!important;padding:0!important;text-align:left!important;width:auto!important}amp-story{height:100%!important;position:relative!important;text-rendering:geometricPrecision!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;width:100%!important}html.i-amphtml-story-standalone,html.i-amphtml-story-standalone body{font-size:calc(2 * var(--i-amphtml-story-vh, 8px));height:100%!important;margin:0!important;padding:0!important;width:100%!important;border:0!important;cursor:auto!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important}amp-story h4,amp-story p{font-size:1rem}amp-story h1{font-size:2rem}amp-story h2{font-size:1.5rem}amp-story h3{font-size:1.17rem}amp-story h5{font-size:0.83rem}amp-story h6{font-size:0.67rem}html.i-amphtml-story-standalone #i-amphtml-wrapper body{border-top:none!important;overflow:hidden!important}amp-story[standalone]{-ms-flex-item-align:center!important;align-self:center!important;box-shadow:2px 2px 20px rgba(0,0,0,0.5)!important;height:100%!important;justify-self:center!important;max-height:initial!important;max-width:initial!important;min-height:initial!important;min-width:initial!important}amp-story[standalone]:-webkit-full-screen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:-moz-full-screen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:-ms-fullscreen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:fullscreen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story .amp-video-eq{height:14px!important;width:14px!important}amp-story .amp-video-eq .amp-video-eq-col{margin-right:2px!important}amp-story .amp-video-eq .amp-video-eq-col:last-child{margin-right:0!important}amp-story .amp-video-eq:not(.amp-video-eq-play){display:none!important}amp-story-page{bottom:0!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;opacity:1!important;-webkit-transition:none!important;transition:none!important;z-index:0!important}amp-story-page[active]{z-index:1!important}.i-amphtml-story-fallback amp-story-page{display:none!important}amp-story-page:not([active]){-webkit-transform:translateY(1000%)!important;transform:translateY(1000%)!important}amp-story-page[active],amp-story-page[distance=\\\"0\\\"],amp-story-page[distance=\\\"1\\\"]{-webkit-transform:translateY(0)!important;transform:translateY(0)!important}amp-story-page[distance=\\\"2\\\"]{-webkit-transform:translateY(100%)!important;transform:translateY(100%)!important}amp-story-page[active]{-webkit-transition:-webkit-filter 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-filter 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:filter 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:filter 0.2s cubic-bezier(0.4,0.0,1,1),-webkit-filter 0.2s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-bookend-active amp-story-page[active]{-webkit-filter:blur(3px)!important;filter:blur(3px)!important;-webkit-transition:-webkit-filter 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-filter 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:filter 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:filter 0.3s cubic-bezier(0.0,0.0,0.2,1),-webkit-filter 0.3s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-bookend-active amp-story-page[active]:after{content:\\\"\\\"!important;display:block!important;left:0!important;top:0!important;bottom:0!important;right:0!important;position:absolute!important;background:#000!important;z-index:2!important;-webkit-animation:i-amphtml-bookend-overlay-opacity 0.3s cubic-bezier(0.0,0.0,0.2,1) forwards!important;animation:i-amphtml-bookend-overlay-opacity 0.3s cubic-bezier(0.0,0.0,0.2,1) forwards!important}@-webkit-keyframes i-amphtml-bookend-overlay-opacity{0%{opacity:0}to{opacity:0.5}}@keyframes i-amphtml-bookend-overlay-opacity{0%{opacity:0}to{opacity:0.5}}amp-story amp-video:after{content:\\\"\\\"!important;position:absolute!important;height:100%!important;width:100%!important;top:0!important;left:0!important}amp-story-cta-layer{display:block!important;top:80%!important;margin:0!important;z-index:3!important}amp-story-cta-layer,amp-story-grid-layer{position:absolute!important;right:0!important;bottom:0!important;left:0!important}amp-story-grid-layer{display:grid!important;top:0!important;z-index:2!important}.i-amphtml-story-grid-template-with-full-bleed-animation{position:absolute!important;display:block!important;padding:0!important}.i-amphtml-story-grid-template-fill>:not(:first-child){display:none!important}.i-amphtml-story-logo{display:none!important;margin:15px!important}.i-amphtml-story-grid-template-fill>:first-child{bottom:0!important;display:block!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;width:auto!important}.i-amphtml-story-grid-template-vertical{grid-auto-flow:row!important;grid-template-columns:100%!important}.i-amphtml-story-grid-template-horizontal{grid-auto-flow:column!important;grid-template-rows:100%!important}.i-amphtml-story-grid-template-thirds{grid-template-rows:33% 33% 33%!important;grid-template-areas:\\\"upper-third\\\" \\\"middle-third\\\" \\\"lower-third\\\"!important}.i-amphtml-story-bookend-active .i-amphtml-story-dev-logs-button,.i-amphtml-story-dev-logs-button[data-count=\\\"0\\\"]{display:none!important}.i-amphtml-story-dev-logs-button{background-position:50%!important;background-repeat:no-repeat!important}.i-amphtml-story-dev-logs-button:after{background-color:#fff!important;border-radius:6px!important;box-sizing:border-box!important;color:#444;content:attr(data-count)!important;display:inline-block!important;font-family:Roboto!important;font-size:11px!important;height:12px!important;line-height:12px!important;padding:0 6px!important;position:absolute!important;right:0!important;top:6px!important}.i-amphtml-story-error-button{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23DB4437'%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-warning-button{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFC107'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-success-button{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%230F9D58'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E\\\")!important}amp-story[standalone] .i-amphtml-story-developer-log{background:rgba(0,0,0,0.85)!important;bottom:0!important;box-sizing:border-box!important;color:#fff!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;font-family:Roboto!important;left:0!important;max-height:45%!important;padding:0!important;position:fixed!important;right:0!important;text-align:left!important;z-index:100002!important}.i-amphtml-story-developer-log-header{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;background:rgba(3,169,244,0.85)!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;font-weight:700!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important;padding:12px 20px!important;text-align:center!important}.i-amphtml-story-developer-log-close,.i-amphtml-story-developer-log-header{-webkit-box-flex:0!important;-ms-flex-positive:0!important;flex-grow:0!important;-ms-flex-negative:0!important;flex-shrink:0!important}.i-amphtml-story-developer-log-close{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23FFF' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-developer-log-context{color:#000!important;font-family:Roboto Mono!important}.i-amphtml-story-developer-log-entries{list-style-type:none!important;margin:0!important;overflow-x:hidden!important;overflow-y:auto!important;padding:0!important}.i-amphtml-story-developer-log-entry{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;border-bottom:1px solid hsla(0,0%,100%,0.5)!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;padding:20px!important}.i-amphtml-story-developer-log-entry:before{background-position:50%!important;background-repeat:no-repeat!important;background-size:cover!important;content:\\\"\\\";display:inline-block!important;-webkit-box-flex:0!important;-ms-flex-positive:0!important;flex-grow:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;height:32px!important;margin-right:20px!important;width:32px!important}.i-amphtml-story-developer-log-entry-error:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23DB4437'%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-developer-log-entry-warning:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFC107'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-developer-log-entry-success:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%230F9D58'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-experiment-error{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-line-pack:center!important;align-content:center!important;background-color:#222!important;bottom:0!important;color:#f0f0f0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;font-family:Roboto,sans-serif!important;font-size:20px!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;left:0!important;padding:32px!important;position:absolute!important;right:0!important;top:0!important;z-index:999999!important;text-align:center!important}.i-amphtml-story-experiment-icon{background-repeat:no-repeat!important;background-size:cover!important;height:64px!important;margin:0 auto 16px!important;width:64px!important}.i-amphtml-story-experiment-icon-error{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-experiment-icon-done{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-experiment-error button{background-color:transparent!important;border:1px solid #f0f0f0!important;border-radius:8px!important;color:#f0f0f0!important;cursor:pointer!important;font-size:20px!important;font-family:Roboto,sans-serif!important;margin:16px 0 0!important;outline:none!important;padding:8px 32px!important;text-transform:uppercase!important;width:50%!important}.i-amphtml-story-experiment-error button:active,.i-amphtml-story-experiment-error button:focus{background-color:#f0f0f0!important;color:#222!important}.i-amphtml-story-toast{position:absolute!important;bottom:0!important;left:0!important;right:0!important;display:inline-block!important;padding:1.16em 1.33em!important;line-height:1.33!important;color:#fff!important;background:#212121!important;-webkit-animation:toast 2.2s!important;animation:toast 2.2s!important;-webkit-animation-fill-mode:both!important;animation-fill-mode:both!important;font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:12px!important;max-width:640px!important;z-index:100002!important}@media (min-width:640px){.i-amphtml-story-toast{right:auto!important;font-size:14px!important;margin:0 auto 1.16em 1.16em!important;border-radius:6px}}@-webkit-keyframes toast{0%{-webkit-transform:translateY(100px);transform:translateY(100px);easing:cubic-bezier(0.0,0.0,0.2,1)}8%{-webkit-transform:translateY(0);transform:translateY(0)}92%{-webkit-transform:translateY(0);transform:translateY(0);easing:cubic-bezier(0.4,0.0,1,1)}to{-webkit-transform:translateY(100px);transform:translateY(100px)}}@keyframes toast{0%{-webkit-transform:translateY(100px);transform:translateY(100px);easing:cubic-bezier(0.0,0.0,0.2,1)}8%{-webkit-transform:translateY(0);transform:translateY(0)}92%{-webkit-transform:translateY(0);transform:translateY(0);easing:cubic-bezier(0.4,0.0,1,1)}to{-webkit-transform:translateY(100px);transform:translateY(100px)}}.i-amphtml-story-copy-successful{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E\\\")!important;background-repeat:no-repeat!important;background-size:16px 16px!important;padding-left:24px!important;color:#fff!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-story-copy-url{-webkit-box-flex:1!important;-ms-flex:1!important;flex:1!important;color:hsla(0,0%,100%,0.5)!important;margin-left:40px!important;text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important}.i-amphtml-story-button-container{display:none!important}.i-amphtml-story-spinner,amp-story .amp-video-eq{right:12px!important;bottom:12px!important}[dir=rtl] .i-amphtml-story-spinner,[dir=rtl]amp-story .amp-video-eq{left:12px!important;right:auto!important}.i-amphtml-story-spinner{display:inline-block!important;position:absolute!important;width:24px!important;height:24px!important;z-index:10!important}.i-amphtml-story-spinner-container{width:100%!important;height:100%!important;direction:ltr!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-container{-webkit-animation:container-rotate 1294ms linear infinite!important;animation:container-rotate 1294ms linear infinite!important}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes container-rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.i-amphtml-story-spinner-layer{position:absolute!important;width:100%!important;height:100%!important;opacity:0!important;white-space:nowrap!important;color:#fff!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-layer{-webkit-animation-name:fill-unfill-rotate!important;animation-name:fill-unfill-rotate!important;-webkit-animation-duration:4400ms!important;animation-duration:4400ms!important;-webkit-animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;-webkit-animation-iteration-count:infinite!important;animation-iteration-count:infinite!important;opacity:1!important}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg);transform:rotate(1080deg)}}@keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg);transform:rotate(1080deg)}}.i-amphtml-story-spinner-circle-clipper{display:inline-block!important;position:relative!important;width:50%!important;height:100%!important;overflow:hidden!important}.i-amphtml-story-spinner-layer:after{left:45%!important;width:10%!important;border-top-style:solid!important}.i-amphtml-story-spinner-circle-clipper:after,.i-amphtml-story-spinner-layer:after{content:\\\"\\\"!important;box-sizing:border-box!important;position:absolute!important;top:0!important;border-width:3px!important;border-radius:50%!important}.i-amphtml-story-spinner-circle-clipper:after{bottom:0!important;width:200%!important;border-style:solid!important;border-bottom-color:transparent!important}.i-amphtml-story-spinner-circle-clipper.left:after{left:0!important;border-right-color:transparent!important;-webkit-transform:rotate(129deg)!important;transform:rotate(129deg)!important}.i-amphtml-story-spinner-circle-clipper.right:after{left:-100%!important;border-left-color:transparent!important;-webkit-transform:rotate(-129deg)!important;transform:rotate(-129deg)!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper:after{-webkit-animation-duration:1100ms!important;animation-duration:1100ms!important;-webkit-animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;animation-timing-function:cubic-bezier(0.4,0.0,0.2,1)!important;-webkit-animation-iteration-count:infinite!important;animation-iteration-count:infinite!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper.left:after{-webkit-animation-name:left-spin!important;animation-name:left-spin!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper.right:after{-webkit-animation-name:right-spin!important;animation-name:right-spin!important}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}}@keyframes left-spin{0%{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}}@keyframes right-spin{0%{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;overflow:auto!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-bookend{text-align:left!important;color:#fff!important;bottom:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;left:0!important;position:absolute!important;right:0!important;top:0!important;z-index:100001!important;-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.3s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.3s cubic-bezier(0.0,0.0,0.2,1)!important}[dir=rtl].i-amphtml-story-bookend{text-align:right!important}.i-amphtml-story-bookend.i-amphtml-hidden{-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.2s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.2s cubic-bezier(0.4,0.0,1,1)!important;-webkit-transform:translateY(100vh)!important;transform:translateY(100vh)!important;pointer-events:none!important}.i-amphtml-story-bookend-overflow{overflow:auto!important;-webkit-overflow-scrolling:touch!important;margin-top:auto!important}.i-amphtml-story-bookend-inner{margin:88px 0 0!important;font-family:Roboto,sans-serif!important;position:relative!important;padding-top:32px!important;overflow:hidden!important}.i-amphtml-story-bookend-inner:before{content:\\\" \\\"!important;display:block!important;z-index:-1!important;background:rgba(0,0,0,0.7)!important;position:absolute!important;left:8px!important;top:8px!important;bottom:8px!important;right:8px!important;border-radius:8px!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-bookend-inner:before,[desktop] .i-amphtml-story-bookend-inner:before{left:0!important;top:0!important;bottom:0!important;right:0!important;border-radius:0!important}.i-amphtml-story-bookend-heading{width:100%!important;text-transform:uppercase!important;font-size:12px!important;padding-bottom:8px!important;margin:0!important;border-bottom:1px solid hsla(0,0%,100%,0.25)!important;color:hsla(0,0%,100%,0.54)!important;font-weight:700!important;letter-spacing:0.83px!important;line-height:1.48!important;overflow:hidden!important}.i-amphtml-story-bookend-consent{margin:0 32px!important}.i-amphtml-story-bookend-consent:last-child{margin-bottom:32px!important}.i-amphtml-story-bookend-consent .i-amphtml-story-bookend-heading{margin-left:0!important;margin-right:0!important}.i-amphtml-story-bookend-component-meta{font-weight:400!important;font-size:14px!important;text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important;line-height:16px!important;color:hsla(0,0%,100%,0.6)!important;margin-top:8px!important}.i-amphtml-story-bookend-article{text-decoration:none!important;color:inherit!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important;max-height:100px!important}.i-amphtml-story-bookend-article-text-content{width:100%!important;overflow:hidden!important;padding-right:10px!important}[dir=rtl] .i-amphtml-story-bookend-article-text-content{padding-right:0px!important;padding-left:10px!important}.i-amphtml-story-bookend-article-heading,.i-amphtml-story-bookend-consent-button,.i-amphtml-story-bookend-text{font-weight:400!important;font-size:16px!important;overflow:hidden!important;text-overflow:ellipsis!important;color:#fff!important;line-height:1.45em!important;max-height:4.35em!important;margin:0 0 8px!important}.i-amphtml-story-bookend-component{width:100%!important;margin-bottom:24px!important}.i-amphtml-story-bookend-landscape,.i-amphtml-story-bookend-portrait{box-sizing:border-box!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;text-decoration:none!important;color:inherit!important;overflow:hidden!important}@media (min-width:640px){.i-amphtml-story-bookend-component-set{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.i-amphtml-story-bookend-component:not(.i-amphtml-story-bookend-heading){width:calc(50% - 12px)!important}}@media (min-width:960px){.i-amphtml-story-bookend-component:not(.i-amphtml-story-bookend-heading){width:calc(33% - 16px)!important}}.i-amphtml-story-bookend-text{font-size:14px!important}.i-amphtml-story-bookend-component-category{margin-top:0px!important;margin-bottom:8px!important;font-weight:400!important;font-size:12px!important;text-transform:uppercase!important;text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important;width:100%!important;color:#fff!important;letter-spacing:0.5px!important;line-height:1.48!important}.i-amphtml-story-bookend-article-image,.i-amphtml-story-bookend-replay-image{width:100px!important;height:100px!important;border-radius:8px!important;overflow:hidden!important}@media (max-width:376px){.i-amphtml-story-bookend-landscape-image,.i-amphtml-story-bookend-portrait-image{width:100%!important}}.i-amphtml-story-bookend-article-image>img,.i-amphtml-story-bookend-landscape-image>img,.i-amphtml-story-bookend-portrait-image>img{-o-object-fit:cover!important;object-fit:cover!important;width:100%!important;height:100%!important}.i-amphtml-story-bookend-landscape-image,.i-amphtml-story-bookend-portrait-image{width:100%!important;position:relative!important;border-radius:8px!important;overflow:hidden!important}.i-amphtml-story-bookend-portrait-image{padding-bottom:125%!important}.i-amphtml-story-bookend-landscape-image{padding-bottom:75%!important}.i-amphtml-story-bookend-landscape-image>img,.i-amphtml-story-bookend-portrait-image>img{position:absolute!important}.i-amphtml-story-bookend-replay-image{background-position:50%!important;background-size:cover!important}.i-amphtml-story-bookend-article-image,.i-amphtml-story-bookend-replay-icon,.i-amphtml-story-bookend-replay-image{position:relative!important;-webkit-box-flex:0!important;-ms-flex:none!important;flex:none!important}.i-amphtml-story-bookend-replay{margin:0 24px!important;overflow:hidden!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;max-height:120px!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.i-amphtml-story-bookend-replay-icon{background:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\") 50% no-repeat!important}.i-amphtml-story-bookend-replay-image>.i-amphtml-story-bookend-replay-icon{width:100%!important;height:100%!important;background-color:rgba(0,0,0,0.3)!important;position:absolute!important;margin-left:0!important}.i-amphtml-story-bookend-replay>.i-amphtml-story-bookend-replay-icon{width:48px!important;height:48px!important;background-color:rgba(60,60,60,0.5)!important;position:static!important;border-radius:4px!important}.i-amphtml-story-bookend-component-set{margin:0 24px 24px!important}.i-amphtml-story-bookend-cta-link-wrapper,.i-amphtml-story-bookend-textbox{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;box-sizing:border-box!important;color:inherit!important;overflow:hidden!important;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.i-amphtml-story-bookend-textbox{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.i-amphtml-story-bookend-cta-link{background-color:hsla(0,0%,100%,0.15)!important;border-radius:100px!important;height:40px!important;overflow:hidden!important;text-decoration:none!important;width:calc(50% - 6px)!important;cursor:pointer!important;margin-bottom:12px}.i-amphtml-story-bookend-cta-link:nth-child(odd):last-child{width:100%!important}.i-amphtml-story-bookend-cta-link-text{color:#fff!important;text-transform:uppercase!important;text-align:center!important;font-size:13px!important;font-weight:700!important;line-height:40px!important;padding:0 24px!important;text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important}.i-amphtml-story-bookend-fullbleed:before{content:\\\" \\\"!important;display:block!important;background-image:-webkit-linear-gradient(bottom,rgba(1,1,1,0),#000)!important;background-image:linear-gradient(0deg,rgba(1,1,1,0),#000)!important;position:absolute!important;top:0!important;left:0!important;right:0!important;height:40px!important;pointer-events:none!important;z-index:1!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}[desktop].i-amphtml-story-bookend{-webkit-transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;-webkit-transform:translateY(0)!important;transform:translateY(0)!important;opacity:1!important}[desktop].i-amphtml-story-bookend.i-amphtml-hidden{-webkit-transition:opacity 0.2s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.2s cubic-bezier(0.4,0.0,1,1)!important;-webkit-transform:translateY(100vh)!important;transform:translateY(100vh)!important;opacity:0!important}[desktop].i-amphtml-story-bookend .i-amphtml-story-share-widget{display:none!important}[desktop] .i-amphtml-story-bookend-inner{box-sizing:border-box!important;min-height:100vh!important;padding:104px 156px 64px!important;margin:0!important}[desktop] .i-amphtml-story-bookend-inner:before{display:none!important}[desktop] .i-amphtml-story-bookend-replay{display:none!important}[desktop] .i-amphtml-story-bookend-overflow{margin-top:0!important;margin-bottom:0!important}@media (min-width:952px){[desktop] .i-amphtml-story-bookend-component:not(.i-amphtml-story-bookend-heading){width:calc(50% - 12px)!important}}@media (min-width:1272px){[desktop] .i-amphtml-story-bookend-component:not(.i-amphtml-story-bookend-heading){width:calc(33% - 16px)!important}}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-bookend.css*/\";\n","export const CSS = \".i-amphtml-story-consent{position:absolute!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100003!important}.i-amphtml-story-consent:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0.4!important}.i-amphtml-story-consent-overflow{margin-top:auto!important;overflow-y:auto!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-story-consent-container{position:relative!important;margin:88px 8px 72px!important;background:#fff!important;border-radius:8px 8px 0 0!important;color:rgba(0,0,0,0.87)!important;font-family:Roboto,sans-serif!important;text-align:left!important;overflow:hidden!important}[dir=rtl] .i-amphtml-story-consent-container{text-align:right!important}.i-amphtml-story-consent-fullbleed .i-amphtml-story-consent-container{margin:88px 0px 72px!important;padding:0 8px!important;border-radius:initial!important}.i-amphtml-story-consent-header{position:relative!important;height:80px!important;min-height:80px!important;background:var(--primary-color,#f0f0f0)!important;z-index:2!important;margin:0 -8px!important}.i-amphtml-story-consent-logo{position:absolute!important;bottom:-32px!important;margin-left:-32px!important;left:50%!important;height:64px!important;width:64px!important;background:#f0f0f0!important;background-position:50%!important;background-repeat:no-repeat!important;background-size:contain!important;border-radius:5px!important}.i-amphtml-story-consent-logo:before{content:\\\"\\\"!important;position:absolute!important;top:-6px!important;bottom:-6px!important;left:-6px!important;right:-6px!important;background:#fff!important;border-radius:6px!important;box-shadow:0 2px 3px rgba(0,0,0,0.12)!important;z-index:-1!important}.i-amphtml-story-consent-content{padding:42px 16px 16px!important;font-size:14px!important;z-index:0!important}.i-amphtml-story-consent-vendors{margin:0!important;padding:0!important;list-style:none!important}.i-amphtml-story-consent-vendor{height:40px!important;border-bottom:1px solid #f0f0f0!important;line-height:40px!important;text-overflow:ellipsis!important;overflow:hidden!important}.i-amphtml-story-consent-external-link{position:relative!important;display:inline-block!important;margin:24px 0!important;color:rgba(0,0,0,0.87)!important;font-size:15px!important;font-weight:700!important;text-decoration:none!important}.i-amphtml-story-consent-external-link:hover{text-decoration:underline!important}.i-amphtml-story-consent-external-link:after{content:\\\"\\\"!important;position:absolute!important;display:block!important;height:16px!important;width:16px!important;top:3px!important;right:-20px!important;background:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='rgba(0, 0, 0, 0.87)'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\") 50% no-repeat!important}.i-amphtml-story-consent-external-link.i-amphtml-hidden{display:none!important}.i-amphtml-story-consent-actions{position:absolute!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;bottom:0!important;left:8px!important;right:8px!important;height:72px!important;min-height:72px!important;background:#fff!important;box-shadow:0 -2px 3px rgba(0,0,0,0.12)!important;z-index:1!important}.i-amphtml-story-consent-fullbleed .i-amphtml-story-consent-actions{left:0px!important;right:0px!important}.i-amphtml-story-consent-action{position:relative!important;padding:0 24px!important;margin:0 12px!important;height:40px!important;width:40vw!important;background:#fff!important;border:none!important;border-radius:40px!important;box-sizing:border-box!important;cursor:pointer!important;font-size:13px!important;font-weight:700!important;line-height:40px!important;text-align:center!important;text-transform:uppercase!important}.i-amphtml-story-consent-action.i-amphtml-hidden{display:none!important}.i-amphtml-story-consent-action-accept{background:var(--primary-color,#000)!important;color:#fff!important}.i-amphtml-story-consent-action-reject{border:1px solid #000!important}@media (min-width:420px){.i-amphtml-story-consent{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-consent-overflow{margin-top:0!important}.i-amphtml-story-consent-container{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;margin:0!important;max-height:80vh!important;min-height:40vh!important;width:calc(100vw - 80px)!important;max-width:800px!important}.i-amphtml-story-consent-content{margin:0 auto!important;max-width:424px!important;-webkit-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important;overflow-y:auto!important}.i-amphtml-story-consent-content::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-consent-actions{position:relative!important;left:0px!important;right:0px!important}.i-amphtml-story-consent-action{width:33vw!important;max-width:200px!important}}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-consent.css*/\";\n","export const CSS = \".i-amphtml-story-hint-container{-webkit-transition-property:opacity!important;transition-property:opacity!important;-webkit-transition-duration:200ms!important;transition-duration:200ms!important;contain:strict!important;pointer-events:none!important;position:absolute!important;left:0!important;top:0!important;right:0!important;bottom:0!important;z-index:2!important}.i-amphtml-story-hint-container.i-amphtml-hidden{opacity:0!important}.i-amphtml-story-hint-container .i-amphtml-story-navigation-help-overlay{position:absolute!important;left:0!important;top:0!important;right:0!important;bottom:0!important;background:rgba(0,0,0,0.7)!important;-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important;color:#fff!important;font-size:20px!important;padding:16px 0!important}.i-amphtml-story-navigation-help-section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.prev-page{-webkit-box-flex:1!important;-ms-flex:1!important;flex:1!important}[dir=rtl] .prev-page{-webkit-box-flex:1!important;-ms-flex:1!important;flex:1!important;border-left:1px dashed transparent!important;border-image-source:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30'%3E%3Cpath fill='none' stroke-linecap='square' stroke-dasharray='6,6' stroke='%23fff' d='M0 0v30'/%3E%3C/svg%3E\\\")!important;border-image-slice:33% 33%!important;border-image-repeat:repeat!important;border-image-width:14px!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay{background:transparent!important}.show-first-page-overlay .prev-page{background:-webkit-linear-gradient(left,rgba(0,0,0,0.5),transparent)!important;background:linear-gradient(90deg,rgba(0,0,0,0.5),transparent)!important}.show-first-page-overlay .next-page{opacity:0!important}.show-first-page-overlay .i-amphtml-story-hint-placeholder{display:none!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay{padding:0px!important}.i-amphtml-story-hint-container .next-page{-webkit-box-flex:3!important;-ms-flex:3!important;flex:3!important;border-left:1px dashed transparent!important;border-image-source:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30'%3E%3Cpath fill='none' stroke-linecap='square' stroke-dasharray='6,6' stroke='%23fff' d='M0 0v30'/%3E%3C/svg%3E\\\")!important;border-image-slice:33% 33%!important;border-image-repeat:repeat!important;border-image-width:14px!important}[dir=rtl].i-amphtml-story-hint-container .next-page{border-left:none!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay,.show-navigation-overlay .i-amphtml-story-navigation-help-overlay{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.show-first-page-overlay .prev-page .i-amphtml-story-hint-tap-button{visibility:hidden}.show-navigation-overlay .prev-page .i-amphtml-story-hint-tap-button-icon:before{content:\\\"\\\"!important;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24'%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important;width:30px!important;height:30px!important;display:inline-block!important}[dir=rtl].show-navigation-overlay .prev-page .i-amphtml-story-hint-tap-button-icon:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button{position:relative!important;width:44px!important;height:44px!important}.i-amphtml-story-hint-tap-button:after,.i-amphtml-story-hint-tap-button:before{position:absolute!important;content:\\\"\\\"!important;width:44px!important;height:44px!important;border-radius:50%!important;background-color:hsla(0,0%,100%,0.5)!important;left:0!important;right:0!important}.i-amphtml-story-hint-tap-button:before{-webkit-animation:expandingBubble 1000ms infinite cubic-bezier(0.4,0,0.2,1)!important;animation:expandingBubble 1000ms infinite cubic-bezier(0.4,0,0.2,1)!important}.i-amphtml-story-hint-tap-button:after{background-color:#fff!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button-icon{position:absolute!important;z-index:1!important;height:44px!important;width:44px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-story-hint-tap-button-icon:after,.i-amphtml-story-hint-tap-button-icon:before{vertical-align:middle!important;margin:0 2px!important;background-position:50%}.next-page .i-amphtml-story-hint-tap-button-icon:after{content:\\\"\\\"!important;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important;width:24px!important;height:24px!important;display:inline-block!important}[dir=rtl] .next-page .i-amphtml-story-hint-tap-button-icon:after{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24'%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-hint-placeholder{top:50%!important;position:absolute;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button-text{color:#fff!important;font-size:16px!important;font-family:Roboto-Medium,sans-serif!important;margin-top:24px!important;text-align:center!important}@-webkit-keyframes expandingBubble{0%{-webkit-transform:scale(1);transform:scale(1);opacity:0}50%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:1}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}@keyframes expandingBubble{0%{-webkit-transform:scale(1);transform:scale(1);opacity:0}50%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:1}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-hint.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;overflow:auto!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-info-dialog{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100001!important;-webkit-transform:translate3d(0,-100%,0)!important;transform:translate3d(0,-100%,0)!important;-webkit-transition-delay:0.15s!important;transition-delay:0.15s!important}.i-amphtml-story-info-dialog-visible{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition-delay:0s!important;transition-delay:0s!important}.i-amphtml-story-info-dialog:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0!important;-webkit-transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-info-dialog.i-amphtml-story-info-dialog-visible:before{opacity:0.4!important;-webkit-transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-info-dialog-container{position:absolute!important;top:0!important;left:0!important;right:0!important;height:auto!important;background:#fff!important;-webkit-transform:translate3d(0,-100%,0)!important;transform:translate3d(0,-100%,0)!important;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;padding:20px!important;font-family:Roboto,sans-serif!important}.i-amphtml-story-info-dialog-visible .i-amphtml-story-info-dialog-container{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-info-heading{display:block!important;font-size:14px!important;font-weight:700!important;margin:0 0 8px!important}.i-amphtml-story-info-link{color:#000!important;display:block!important;margin:0!important;opacity:0.64!important;font-size:12px!important;text-decoration:none!important}.i-amphtml-story-info-moreinfo{color:#4285f4!important;display:none!important;font-family:Roboto-Medium,sans-serif!important;font-size:12px!important;letter-spacing:0.5px!important;margin:16px 0 0;text-decoration:none!important}.i-amphtml-story-info-moreinfo.i-amphtml-story-info-moreinfo-visible{display:block!important}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-info-dialog.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;overflow:auto!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-menu{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100001!important;-webkit-transform:translate3d(0,100vh,0)!important;transform:translate3d(0,100vh,0)!important;-webkit-transition-delay:0.15s!important;transition-delay:0.15s!important}.i-amphtml-story-share-menu-visible{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition-delay:0s!important;transition-delay:0s!important}.i-amphtml-story-share-menu:before{content:\\\"\\\"!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0!important;-webkit-transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-share-menu.i-amphtml-story-share-menu-visible:before{opacity:0.4!important;-webkit-transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-share-menu-container{position:absolute!important;bottom:0!important;left:0!important;right:0!important;height:auto!important;background:rgba(0,0,0,0.9)!important;-webkit-transform:translate3d(0,100%,0)!important;transform:translate3d(0,100%,0)!important;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1),-webkit-transform 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-share-menu-visible .i-amphtml-story-share-menu-container{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1),-webkit-transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-share-menu.css*/\";\n","export const CSS = \".amp-social-share-facebook{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M211.9 197.4h-36.7v59.9h36.7v175.8h70.5V256.5h49.2l5.2-59.1h-54.4v-33.7c0-13.9 2.8-19.5 16.3-19.5h38.2V82.9h-48.8c-52.5 0-76.1 23.1-76.1 67.3-.1 38.6-.1 47.2-.1 47.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-pinterest{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M266.6 76.5c-100.2 0-150.7 71.8-150.7 131.7 0 36.3 13.7 68.5 43.2 80.6 4.8 2 9.2.1 10.6-5.3 1-3.7 3.3-13 4.3-16.9 1.4-5.3.9-7.1-3-11.8-8.5-10-13.9-23-13.9-41.3 0-53.3 39.9-101 103.8-101 56.6 0 87.7 34.6 87.7 80.8 0 60.8-26.9 112.1-66.8 112.1-22.1 0-38.6-18.2-33.3-40.6 6.3-26.7 18.6-55.5 18.6-74.8 0-17.3-9.3-31.7-28.4-31.7-22.5 0-40.7 23.3-40.7 54.6 0 19.9 6.7 33.4 6.7 33.4s-23.1 97.8-27.1 114.9c-8.1 34.1-1.2 75.9-.6 80.1.3 2.5 3.6 3.1 5 1.2 2.1-2.7 28.9-35.9 38.1-69 2.6-9.4 14.8-58 14.8-58 7.3 14 28.7 26.3 51.5 26.3 67.8 0 113.8-61.8 113.8-144.5-.1-62.6-53.1-120.8-133.6-120.8z'/%3E%3C/svg%3E\\\")}.amp-social-share-linkedin{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M186.4 142.4c0 19-15.3 34.5-34.2 34.5-18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5 18.9 0 34.2 15.5 34.2 34.5zm-5 58.9h-57.8v186.8h57.8V201.3zm92.4 0h-55.4v186.8h55.4v-98c0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9v98H398V269.8c0-50-28.3-74.2-68-74.2-39.6 0-56.3 30.9-56.3 30.9v-25.2h.1z'/%3E%3C/svg%3E\\\")}.amp-social-share-gplus{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M179.7 237.6v46.6h77c-3.1 20-23.3 58.7-77 58.7-46.3 0-84.1-38.5-84.1-85.9 0-47.4 37.8-85.9 84.1-85.9 26.4 0 44 11.3 54.1 21l36.8-35.5C247 134.4 216.4 121 179.7 121 104.7 121 44 181.8 44 257s60.7 136 135.7 136C258 393 310 337.8 310 260.1c0-8.9-1-15.7-2.1-22.5H179.7zm288.3-.9h-38.7V198h-38.6v38.7H352v38.6h38.7V314h38.6v-38.7H468'/%3E%3C/svg%3E\\\")}.amp-social-share-email{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M101.3 141.6v228.9h309.5V141.6H101.3zm274.4 26.2L256 259.3l-119.6-91.5h239.3zm-248.1 26.3l64.1 49.1-64.1 64.1V194.1zm.2 150.1l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7H127.8zm256.6-36.4L320 243.4l64.4-49.3v113.7z'/%3E%3C/svg%3E\\\")}.amp-social-share-twitter{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h400v400H0z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45c-15.9-16.906-41.163-21.044-61.625-10.093-20.461 10.95-31.032 34.266-25.785 56.873A145.62 145.62 0 0 1 92.4 107.81c-13.614 23.436-6.66 53.419 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65c.007 24.416 17.218 45.445 41.15 50.28a51.21 51.21 0 0 1-23.16.88c6.72 20.894 25.976 35.208 47.92 35.62a102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23'/%3E%3C/g%3E%3C/svg%3E\\\")}.amp-social-share-tumblr{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M210.8 80.3c-2.3 18.3-6.4 33.4-12.4 45.2-6 11.9-13.9 22-23.9 30.5-9.9 8.5-21.8 14.9-35.7 19.5v50.6h38.9v124.5c0 16.2 1.7 28.6 5.1 37.1 3.4 8.5 9.5 16.6 18.3 24.2 8.8 7.6 19.4 13.4 31.9 17.5s26.8 6.1 43 6.1c14.3 0 27.6-1.4 39.9-4.3 12.3-2.9 26-7.9 41.2-15v-55.9c-17.8 11.7-35.7 17.5-53.7 17.5-10.1 0-19.1-2.4-27-7.1-5.9-3.5-10-8.2-12.2-14-2.2-5.8-3.3-19.1-3.3-39.7v-91.1h84.6v-55.8h-84.4v-90h-50.3z'/%3E%3C/svg%3E\\\")}.amp-social-share-whatsapp{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='46'%3E%3Cpath fill='%23FFF' d='M35.4 10.4C32 6.9 27.3 5 22.5 5 12.3 5 4.1 13.3 4.2 23.4c0 3.2.9 6.3 2.4 9.1L4 42l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM22.5 38.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L9.9 32l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9 7.2-4.4 16.5-2.3 20.9 4.9 4.4 7.2 2.3 16.5-4.9 20.9-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5.2-.2.4-.4.5-.6.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z'/%3E%3C/svg%3E\\\")}.amp-social-share-line{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 511.99'%3E%3Cpath d='M443.2 233.29c0-84.14-84.35-152.6-188-152.6s-188 68.46-188 152.6c0 75.43 66.9 138.61 157.26 150.55 6.13 1.32 14.46 4 16.57 9.27 1.89 4.76 1.24 12.2.61 17 0 0-2.21 13.26-2.69 16.09-.82 4.75-3.78 18.6 16.29 10.14s108.21-63.76 147.66-109.16c27.25-29.89 40.3-60.18 40.3-93.89zm-254.38 44.92a3.67 3.67 0 0 1-3.66 3.67h-52.69a3.6 3.6 0 0 1-2.53-1l-.06-.05v-.05a3.65 3.65 0 0 1-1-2.53v-81.96a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66v65.07h35.84a3.66 3.66 0 0 1 3.66 3.66zm31.8 0a3.65 3.65 0 0 1-3.66 3.65h-13.2a3.65 3.65 0 0 1-3.66-3.65v-81.92a3.66 3.66 0 0 1 3.66-3.66H217a3.66 3.66 0 0 1 3.66 3.66zm90.78 0a3.65 3.65 0 0 1-3.66 3.65h-13.19a3.67 3.67 0 0 1-.94-.12h-.05l-.25-.08h-.11l-.18-.08-.17-.08-.11-.06-.22-.14a3.45 3.45 0 0 1-.93-.9L254 229.56v48.66a3.66 3.66 0 0 1-3.67 3.65H237.1a3.65 3.65 0 0 1-3.66-3.65v-81.93a3.66 3.66 0 0 1 3.66-3.66h13.86l.21.05h.13l.21.07h.12a1.31 1.31 0 0 1 .21.08l.12.06.19.11a.41.41 0 0 1 .11.07l.19.13.1.07.19.16.07.07a2.28 2.28 0 0 1 .22.22 3.58 3.58 0 0 1 .28.37L290.89 245v-48.71a3.66 3.66 0 0 1 3.66-3.66h13.19a3.66 3.66 0 0 1 3.66 3.66zm72.83-68.74a3.66 3.66 0 0 1-3.65 3.67h-35.84V227h35.84a3.66 3.66 0 0 1 3.65 3.67v13.19a3.65 3.65 0 0 1-3.65 3.66h-35.84v13.85h35.84a3.65 3.65 0 0 1 3.65 3.66v13.19a3.66 3.66 0 0 1-3.65 3.67h-52.7a3.66 3.66 0 0 1-2.53-1l-.05-.05a.12.12 0 0 1-.05-.05 3.65 3.65 0 0 1-1-2.53V196.3a3.6 3.6 0 0 1 1-2.52l.06-.07a3.63 3.63 0 0 1 2.54-1h52.7a3.66 3.66 0 0 1 3.65 3.67z' fill='%23fff' data-name=' 1'/%3E%3C/svg%3E\\\")}.amp-social-share-sms{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='30' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23FFF' stroke-width='3' d='M8.73 26v-5.658H2V2h25.97L28 20.355l-12.062.042z' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\\\")}.amp-social-share-system{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg fill='%23fff' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")}amp-social-share{background-repeat:no-repeat;background-position:50%;background-size:contain;text-decoration:none;cursor:pointer;position:relative}.amp-social-share-twitter{background-color:#1da1f2}.amp-social-share-facebook{background-color:#3b5998}.amp-social-share-pinterest{background-color:#bd081c}.amp-social-share-linkedin{background-color:#0077b5}.amp-social-share-gplus{background-color:#dc4e41}.amp-social-share-tumblr{background-color:#3c5a77}.amp-social-share-email{background-color:#000}.amp-social-share-whatsapp{background-color:#25d366}.amp-social-share-line{background-color:#52b448}.amp-social-share-sms{background-color:#ca2b63}.amp-social-share-system{background-color:#000}.i-amphtml-story-share-widget{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;margin:16px 8px!important}.i-amphtml-story-no-sharing .i-amphtml-story-share-widget{display:none!important}.i-amphtml-story-share-widget-scrollable{padding:16px 0!important;overflow:auto!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-widget{margin-left:0!important;margin-right:0!important}.i-amphtml-story-share-widget::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-share-list{list-style:none!important;padding:0 8px!important;margin:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;width:100%!important}.i-amphtml-story-bookend-fullbleed .i-amphtml-story-share-list{padding-left:16px!important;padding-right:16px!important}.i-amphtml-story-share-item{width:48px!important;height:66px!important;padding:0 16px!important;margin-bottom:12px!important}@media (max-width:410px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;min-width:60px!important;width:25%!important}}@media (min-width:410px) and (max-width:500px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:20%!important}}@media (min-width:500px) and (max-width:720px){.i-amphtml-story-share-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0!important;width:16.66%!important}}.i-amphtml-story-share-widget-scrollable .i-amphtml-story-share-list{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.i-amphtml-story-share-widget-scrollable>*>.i-amphtml-story-share-item{display:block!important;margin:0!important;padding:0 16px!important;min-width:auto!important}.i-amphtml-story-share-item:empty{display:none!important}.i-amphtml-story-share-icon{box-sizing:border-box!important;position:relative!important;width:48px!important;height:66px!important;padding:56px 0 0!important;background-color:transparent!important;display:block!important;text-transform:capitalize!important;font-family:Roboto,sans-serif!important;color:#fff!important;font-weight:400!important;line-height:10px!important;font-size:10px!important;text-align:center!important;cursor:pointer!important;background-position:8px 8px!important;background-size:32px 32px!important;background-repeat:no-repeat!important}.i-amphtml-story-share-icon.amp-social-share-facebook{background-size:38px 38px!important;background-position:5px 5px!important}.i-amphtml-story-share-icon:before{content:\\\" \\\"!important;border-radius:4px!important;background-color:hsla(0,0%,100%,0.15)!important;width:48px!important;height:48px!important;position:absolute!important;display:block!important;top:0!important;left:0!important;z-index:-1!important}.i-amphtml-story-share-icon:active,.i-amphtml-story-share-icon:focus{outline:none!important;box-shadow:none!important}.i-amphtml-story-share-icon:active:before{background-color:#787878!important}.i-amphtml-story-share-icon[type=email]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon[type=system]{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-icon-link{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-system-layer{background:-webkit-linear-gradient(top,rgba(0,0,0,0.35),transparent)!important;background:linear-gradient(180deg,rgba(0,0,0,0.35),transparent)!important;position:absolute!important;top:0!important;left:0!important;right:0!important;height:56px!important;opacity:1!important;z-index:100000!important;box-sizing:border-box!important;-webkit-transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;pointer-events:none!important}.i-amphtml-story-bookend-active.i-amphtml-story-system-layer{opacity:0.3!important;-webkit-transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}[desktop].i-amphtml-story-bookend-active.i-amphtml-story-system-layer{opacity:0!important}.i-amphtml-story-system-layer-buttons{margin-top:8px;pointer-events:auto!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important;-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.i-amphtml-story-button{background-repeat:no-repeat!important;background-position:50%!important;height:48px!important;width:48px!important;cursor:pointer!important;border-radius:50%!important;box-sizing:border-box!important;position:relative!important;background:50% no-repeat!important}.i-amphtml-story-button:active{background-color:rgba(0,0,0,0.2)!important}.i-amphtml-story-system-layer .i-amphtml-story-button{float:left!important}.i-amphtml-story-progress-bar{border:0!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;height:2px!important;left:0!important;margin:4px 0 0!important;padding:0 2px!important;position:absolute!important;right:0!important;top:0!important;visibility:visible!important;z-index:100001!important}[ad-showing] .i-amphtml-story-progress-bar{visibility:hidden!important}.i-amphtml-story-page-progress-bar{background:hsla(0,0%,100%,0.4)!important;border-radius:1px!important;height:100%!important;list-style-type:none!important;margin:0 2px!important;overflow:hidden!important;width:100%!important;-webkit-mask-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)!important}.i-amphtml-story-page-progress-value{background:#fff!important;height:100%!important;width:100%!important;-webkit-transform:translateZ(0) scaleX(0)!important;transform:translateZ(0) scaleX(0)!important;-webkit-transform-origin:left!important;transform-origin:left!important;will-change:transform,transition!important}[dir=rtl] .i-amphtml-story-page-progress-value{-webkit-transform-origin:right!important;transform-origin:right!important}.i-amphtml-story-mute-audio-control,.i-amphtml-story-unmute-audio-control{display:none!important}.audio-playing:not([muted]) .i-amphtml-story-mute-audio-control,.audio-playing[muted] .i-amphtml-story-unmute-audio-control{display:block!important}.i-amphtml-story-ui-no-buttons .i-amphtml-story-button,.i-amphtml-story-ui-no-buttons .i-amphtml-story-share-pill,.i-amphtml-story-ui-no-buttons .i-amphtml-story-system-layer-buttons{visibility:hidden!important}.i-amphtml-story-unmute-audio-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-mute-audio-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\")!important}.i-amphtml-story-share-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E\\\")!important}[ios] .i-amphtml-story-share-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6a2 2 0 0 1-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3a2 2 0 0 1 2 2z'/%3E%3C/svg%3E\\\")!important;background-position-y:calc(50% - 2px)!important}.i-amphtml-story-info-control{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 48 48' fill='%23FFF'%3E%3Cpath d='M0 0h48v48H0z' fill='none'/%3E%3Cpath d='M22 34h4V22h-4v12zm2-30C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z'/%3E%3C/svg%3E\\\")!important;display:none!important}.i-amphtml-embedded.first-page-active .i-amphtml-story-info-control{display:block!important}.i-amphtml-story-no-sharing .i-amphtml-story-info-control,.i-amphtml-story-no-sharing .i-amphtml-story-share-control{display:none!important}[desktop].i-amphtml-story-system-layer{background:-webkit-linear-gradient(top,rgba(33,33,33,0),rgba(33,33,33,0.32))!important;background:linear-gradient(180deg,rgba(33,33,33,0) 0%,rgba(33,33,33,0.32))!important;top:auto!important;bottom:0!important;height:96px!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}[desktop] .i-amphtml-story-progress-bar{position:relative!important;height:3px!important;width:33.33333vw!important;margin:0 24px!important}[desktop] .i-amphtml-story-page-progress-bar{border-radius:100px!important}[desktop].i-amphtml-story-system-layer .i-amphtml-story-system-layer-buttons{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;height:40px!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important;margin-top:0px!important}[desktop] .i-amphtml-story-share-control{display:none!important}div.i-amphtml-story-share-pill-container{position:fixed!important;display:none!important;top:0!important;height:96px!important;width:100%!important;z-index:1!important;background:-webkit-linear-gradient(top,rgba(33,33,33,0.32),rgba(33,33,33,0))!important;background:linear-gradient(180deg,rgba(33,33,33,0.32) 0%,rgba(33,33,33,0))!important}[desktop] div.i-amphtml-story-share-pill-container{display:block!important}.i-amphtml-story-share-pill{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;position:absolute!important;top:0!important;right:40px!important;bottom:0!important;margin:auto!important;height:40px!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;pointer-events:auto!important}[dir=rtl] .i-amphtml-story-share-pill{right:auto!important;left:40px!important}span.i-amphtml-story-share-pill-label{font-family:Roboto,sans-serif!important;position:absolute!important;right:15px!important;text-align:center!important;width:60px!important;font-size:12px!important;font-weight:700!important;letter-spacing:.5px!important;margin:auto!important;color:#fff!important;box-sizing:initial!important;text-transform:uppercase!important}[dir=rtl] span.i-amphtml-story-share-pill-label{right:auto!important;left:15px!important}.i-amphtml-story-share-pill:before{position:absolute!important;content:\\\"\\\"!important;width:58px!important;height:40px!important;padding:0 16px!important;background-color:hsla(0,0%,100%,0.2)!important;border-radius:500px!important;box-sizing:initial!important;-webkit-transition:width 300ms ease-in-out!important;transition:width 300ms ease-in-out!important;right:0!important}[dir=rtl] .i-amphtml-story-share-pill:before{right:auto!important;left:0!important}.i-amphtml-story-share-pill .i-amphtml-story-share-item{opacity:0!important;-webkit-transition:opacity 300ms linear!important;transition:opacity 300ms linear!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item{opacity:1!important}.i-amphtml-story-share-pill .i-amphtml-story-share-item{margin:0!important;width:48px!important;height:48px!important;padding:0!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(9){-webkit-transition-delay:30ms!important;transition-delay:30ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(8){-webkit-transition-delay:60ms!important;transition-delay:60ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(7){-webkit-transition-delay:90ms!important;transition-delay:90ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(6){-webkit-transition-delay:120ms!important;transition-delay:120ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(5){-webkit-transition-delay:150ms!important;transition-delay:150ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(4){-webkit-transition-delay:180ms!important;transition-delay:180ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(3){-webkit-transition-delay:210ms!important;transition-delay:210ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:nth-child(2){-webkit-transition-delay:240ms!important;transition-delay:240ms!important}.i-amphtml-story-share-pill:hover .i-amphtml-story-share-item:first-child{-webkit-transition-delay:270ms!important;transition-delay:270ms!important}.i-amphtml-story-share-pill .i-amphtml-story-share-list{padding:0!important}.i-amphtml-story-share-pill:hover:before{width:calc(100% - 32px)!important}.i-amphtml-story-share-pill .i-amphtml-story-share-icon{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:48px!important;height:48px!important;padding:0}[desktop] .i-amphtml-story-share-icon{font-size:0px!important;background-size:24px 24px!important;background-position:50%!important;padding:0!important}[desktop] .i-amphtml-story-share-icon.amp-social-share-facebook{background-size:28px 28px!important;background-position:50%!important}[desktop] .i-amphtml-story-share-icon:before{display:none!important}[desktop] .i-amphtml-story-share-icon:active:before{display:none!important}[desktop] .i-amphtml-story-share-list{margin-right:72px!important}[dir=rtl][desktop] .i-amphtml-story-share-list{margin-right:0!important;margin-left:72px!important}[desktop] .i-amphtml-story-share-pill-container{z-index:100002!important}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-system-layer.css*/\";\n","export const CSS = \".i-amphtml-story-unsupported-browser-overlay{position:absolute!important;z-index:200001!important;font-family:Roboto,sans-serif;font-weight:700!important;line-height:1.5;padding:32px;background-color:#000!important;color:#fff!important;top:0!important;left:0!important;right:0!important;bottom:0!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important;display:none!important}.i-amphtml-story-unsupported-browser-overlay .i-amphtml-story-overlay-text{color:#fff!important}.i-amphtml-story-unsupported-browser-overlay{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-gear-icon{background-repeat:no-repeat!important;background-position:50%!important;border-radius:50%!important;background-color:#fff!important;padding:16px!important;height:24px!important;width:24px!important;margin:16px auto!important;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34a.4.4 0 0 0-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-continue-button{border-radius:20px;font-family:Roboto,sans-serif;color:#000;font-weight:400!important;font-size:16px;background:#fff;padding:10px 20px;border:2px solid #aaa;text-decoration:none;display:block;margin-top:25px;margin-right:auto;margin-left:auto;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-unsupported-browser-layer.css*/\";\n","export const CSS = \".i-amphtml-story-no-rotation-overlay{position:absolute!important;z-index:200000!important;font-family:Roboto,sans-serif;font-weight:700!important;line-height:1.5;padding:32px;background-color:#000!important;color:#fff!important;top:0!important;left:0!important;right:0!important;bottom:0!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important;display:none!important}.i-amphtml-story-no-rotation-overlay .i-amphtml-story-overlay-text{color:#fff!important}.i-amphtml-story-landscape.i-amphtml-story-no-rotation-overlay{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-desktop-size-icon,.i-amphtml-rotate-icon{background-repeat:no-repeat!important;background-position:50%!important;border-radius:50%!important;background-color:#fff!important;padding:16px!important;height:24px!important;width:24px!important;margin:16px auto!important}.i-amphtml-rotate-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M16.48 2.52c3.27 1.55 5.61 4.72 5.97 8.48h1.5C23.44 4.84 18.29 0 12 0l-.66.03 3.81 3.81 1.33-1.32zm-6.25-.77a1.49 1.49 0 0 0-2.12 0L1.75 8.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12L10.23 1.75zm4.6 19.44L2.81 9.17l6.36-6.36 12.02 12.02-6.36 6.36zm-7.31.29A10.487 10.487 0 0 1 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32z'/%3E%3C/svg%3E\\\")!important}.i-amphtml-desktop-size-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z'/%3E%3C/svg%3E\\\")!important}\\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-viewport-warning-layer.css*/\";\n","export const cssText = \"i-amphtml-video-mask{z-index:1}.amp-video-eq{display:none}.i-amphtml-video-component:not(amp-video) .amp-video-eq,amp-story .amp-video-eq,amp-video[controls] .amp-video-eq{display:-webkit-box;display:-ms-flexbox;display:flex}[noaudio] .amp-video-eq{display:none!important}.amp-video-eq{pointer-events:none!important;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:7px;height:12px;opacity:0.8;overflow:hidden;position:absolute;right:7px;width:20px;z-index:1}.amp-video-eq .amp-video-eq-col{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;margin-right:1px;position:relative}.amp-video-eq .amp-video-eq-col div{-webkit-animation-name:amp-video-eq-animation;animation-name:amp-video-eq-animation;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;background-color:#fafafa;height:100%;position:absolute;width:100%;will-change:transform;-webkit-animation-play-state:paused;animation-play-state:paused}.amp-video-eq[unpausable] .amp-video-eq-col div{-webkit-animation-name:none;animation-name:none}.amp-video-eq[unpausable].amp-video-eq-play .amp-video-eq-col div{-webkit-animation-name:amp-video-eq-animation;animation-name:amp-video-eq-animation}.amp-video-eq.amp-video-eq-play .amp-video-eq-col div{-webkit-animation-play-state:running;animation-play-state:running}.amp-video-eq-1-1{-webkit-animation-duration:0.3s;animation-duration:0.3s}.amp-video-eq-1-1,.amp-video-eq-1-2{-webkit-transform:translateY(60%);transform:translateY(60%)}.amp-video-eq-1-2{-webkit-animation-duration:0.45s;animation-duration:0.45s}.amp-video-eq-2-1{-webkit-animation-duration:0.5s;animation-duration:0.5s}.amp-video-eq-2-1,.amp-video-eq-2-2{-webkit-transform:translateY(30%);transform:translateY(30%)}.amp-video-eq-2-2{-webkit-animation-duration:0.4s;animation-duration:0.4s}.amp-video-eq-3-1{-webkit-animation-duration:0.3s;animation-duration:0.3s}.amp-video-eq-3-1,.amp-video-eq-3-2{-webkit-transform:translateY(70%);transform:translateY(70%)}.amp-video-eq-3-2{-webkit-animation-duration:0.35s;animation-duration:0.35s}.amp-video-eq-4-1{-webkit-animation-duration:0.4s;animation-duration:0.4s}.amp-video-eq-4-1,.amp-video-eq-4-2{-webkit-transform:translateY(50%);transform:translateY(50%)}.amp-video-eq-4-2{-webkit-animation-duration:0.25s;animation-duration:0.25s}@-webkit-keyframes amp-video-eq-animation{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes amp-video-eq-animation{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}\\n/*# sourceURL=/css/video-autoplay.css*/\"","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// WARNING\n// WARNING\n// WARNING\n// WARNING\n// File must be synced with amp.extens.js\n\n\n/**\n * @typedef {\n *   !WebMultiAnimationDef|\n *   !WebSwitchAnimationDef|\n *   !WebCompAnimationDef|\n *   !WebKeyframeAnimationDef\n * }\n */\nexport let WebAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   animations: !Array<!WebAnimationDef>,\n * }}\n */\nexport let WebMultiAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   switch: !Array<!WebAnimationDef>,\n * }}\n */\nexport let WebSwitchAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   animation: string,\n * }}\n */\nexport let WebCompAnimationDef;\n\n\n/**\n * @mixes WebAnimationSelectorDef\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @mixes WebAnimationConditionalDef\n * @typedef {{\n *   keyframes: (string|!WebKeyframesDef),\n * }}\n */\nexport let WebKeyframeAnimationDef;\n\n\n/**\n * @typedef {!Object<string, *>|!Array<!Object<string, *>>}\n */\nexport let WebKeyframesDef;\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffectTimingProperties\n *\n * @mixin\n * @typedef {{\n *   duration: (time|undefined),\n *   delay: (time|undefined),\n *   endDelay: (time|undefined),\n *   iterations: (number|string|undefined),\n *   iterationStart: (number|undefined),\n *   easing: (string|undefined),\n *   direction: (!WebAnimationTimingDirection|undefined),\n *   fill: (!WebAnimationTimingFill|undefined),\n * }}\n */\nexport let WebAnimationTimingDef;\n\n\n/**\n * Indicates an extension to a type that allows specifying vars. Vars are\n * specified as properties with the name in the format of `--varName`.\n *\n * @mixin\n * @typedef {Object}\n */\nexport let WebAnimationVarsDef;\n\n\n/**\n * Defines media parameters for an animation.\n *\n * @mixin\n * @typedef {{\n *   media: (string|undefined),\n *   supports: (string|undefined),\n * }}\n */\nexport let WebAnimationConditionalDef;\n\n\n/**\n * @typedef {{\n *   target: (!Element|undefined),\n *   selector: (string|undefined),\n *   subtargets: (!Array<!WebAnimationSubtargetDef>|undefined),\n * }}\n */\nexport let WebAnimationSelectorDef;\n\n\n/**\n * @mixes WebAnimationTimingDef\n * @mixes WebAnimationVarsDef\n * @typedef {{\n *   matcher: (function(!Element, number):boolean|undefined),\n *   index: (number|undefined),\n *   selector: (string|undefined),\n * }}\n */\nexport let WebAnimationSubtargetDef;\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/Animation/playState\n * @enum {string}\n */\nexport const WebAnimationPlayState = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RUNNING: 'running',\n  PAUSED: 'paused',\n  FINISHED: 'finished',\n};\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffectTimingProperties/direction\n * @enum {string}\n */\nexport const WebAnimationTimingDirection = {\n  NORMAL: 'normal',\n  REVERSE: 'reverse',\n  ALTERNATE: 'alternate',\n  ALTERNATE_REVERSE: 'alternate-reverse',\n};\n\n\n/**\n * See https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffectTimingProperties/fill\n * @enum {string}\n */\nexport const WebAnimationTimingFill = {\n  NONE: 'none',\n  FORWARDS: 'forwards',\n  BACKWARDS: 'backwards',\n  BOTH: 'both',\n  AUTO: 'auto',\n};\n\n\n/** @const {!Object<string, boolean>} */\nconst WHITELISTED_RPOPS = {\n  'opacity': true,\n  'transform': true,\n  'transform-origin': true,\n  'visibility': true,\n  'offset-distance': true,\n  'offsetDistance': true,\n};\n\n\n/**\n * @param {string} prop\n * @return {boolean}\n */\nexport function isWhitelistedProp(prop) {\n  return WHITELISTED_RPOPS[prop] || false;\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for German strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Akzeptieren',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Ablehnen',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Sehen Sie auf der ursprnglichen Domne',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Mehr ber die AMP Ergebnisse',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Weiter klicken',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Zurck klicken',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Der Link konnte nicht zur Zwischenablage kopiert werden',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Der Link wurde kopiert.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Link erhalten',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Mehr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Teilen',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: ' Vergrern Sie das Fenster um dieses Erlebnis zu sehen',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Sie mssen das amp-story Experiment aktivieren um den Inhalt zu ' +\n        'sehen',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'Diese Seite is am Besten im Portrait Mode',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Es tut uns sehr leid, aber es sieht so aus als dass der Browser ' +\n        'dieses Erlebnis nicht untersttzt.',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for English strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_BOOKEND_MORE_TO_READ_LABEL]: {\n    string: 'More to read',\n  },\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE]: {\n    string: 'Privacy settings',\n  },\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL]: {\n    string: 'Change data privacy settings',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accept',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Decline',\n  },\n  [LocalizedStringId.AMP_STORY_CONTINUE_ANYWAY_BUTTON_LABEL]: {\n    string: 'Continue Anyway',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'View on original domain:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'More about AMP results',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: ':(',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Share',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Expand your window to view this experience',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'You must enable the amp-story experiment to view this content.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'The page is best viewed in portrait mode',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'We\\'re sorry, it looks like your browser doesn\\'t support ' +\n        'this experience',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for English strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accept',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Decline',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'View on original domain:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'More about AMP results',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Tap Next',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Tap Back',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Could not copy link to clipboard :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link copied!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Get Link',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'More',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Share',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Expand your window to view this experience',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'You must enable the amp-story experiment to view this content.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'The page is best viewed in portrait mode',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'We\\'re sorry, it looks like your browser doesn\\'t support ' +\n        'this experience',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for English strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_BOOKEND_MORE_TO_READ_LABEL]: {\n    string: 'More to read',\n    description: 'Label to be placed as a title on top of related articles ' +\n        'at the end of a story.',\n  },\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE]: {\n    string: 'Privacy settings',\n    description: 'Title for a section that allows the user to configure ' +\n        'their privacy settings',\n  },\n  [LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL]: {\n    string: 'Change data privacy settings',\n    description: 'Label for a button that allows the user to change their ' +\n        'choice to consent to providing their cookie access.',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accept',\n    description: 'Label for a button that allows the user to consent to ' +\n        'providing their cookie access.',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Decline',\n    description: 'Label for a button that allows the user to disconsent to ' +\n        'providing their cookie access.',\n  },\n  [LocalizedStringId.AMP_STORY_CONTINUE_ANYWAY_BUTTON_LABEL]: {\n    string: 'Continue Anyway',\n    description: 'Button label to allow the user to continue even if they ' +\n        'are not using a supportive browser.',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'View on original domain:',\n    description: 'Label for a heading of a dialog that shows the user the ' +\n        'domain from which the story is served.',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'More about AMP results',\n    description: 'Label for a link to documentation on how AMP links are ' +\n        'handled.',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Tap Next',\n    description: 'Label indicating that users can navigate to the next ' +\n        'page, in the amp-story hint UI.',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Tap Back',\n    description: 'Label indicating that users can navigate to the previous ' +\n        'page, in the amp-story hint UI.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Could not copy link to clipboard :(',\n    description: 'String shown in a failure message to inform the user that ' +\n        'a link could not be successfully copied to their clipboard.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link copied!',\n    description: 'String shown in a confirmation message to inform the user ' +\n        'that a link was successfully copied to their clipboard.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n    description: 'Button label for the share target that shares a link via ' +\n        'email.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n    description: 'Button label for the share target that shares a link via ' +\n        'Facebook.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n    description: 'Button label for the share target that shares a link via ' +\n        'Google+.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Get Link',\n    description: 'Button label for the share target that shares a link via ' +\n        'by copying it to the user\\'s clipboard.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n    description: 'Button label for the share target that shares a link via ' +\n        'LinkedIn.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n    description: 'Button label for the share target that shares a link via ' +\n        'Pinterest.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n    description: 'Button label for the share target that shares a link via ' +\n        'SMS.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'More',\n    description: 'Button label for the share target that shares a link via ' +\n        'deferral to the operating system\\'s native sharing handler.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n    description: 'Button label for the share target that shares a link via ' +\n        'Tumblr.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n    description: 'Button label for the share target that shares a link via ' +\n        'Twitter.',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n    description: 'Button label for the share target that shares a link via ' +\n        'Whatsapp.',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Share',\n    description: 'Label for the expandable share widget shown in the ' +\n        'desktop UI.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Expand your window to view this experience',\n    description: 'Text for a warning screen that informs the user that ' +\n        'stories are only supported in larger browser windows.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'You must enable the amp-story experiment to view this content.',\n    description: 'Text for a warning screen that informs the user that ' +\n        'they must enable an experiment to use stories.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'The page is best viewed in portrait mode',\n    description: 'Text for a warning screen that informs the user that ' +\n        'stories are only supported in portrait orientation.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'We\\'re sorry, it looks like your browser doesn\\'t support ' +\n        'this experience',\n    description: 'Text for a warning screen that informs the user that ' +\n        'their browser does not support stories.',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Latin American Spanish strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Aceptar',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Declinar',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Ver el dominio original:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Ms sobre los resultados de AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Toque Siguiente',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Toque Volver',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'No se pudo copiar al portapapeles enlace :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Enlace copiado!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Conseguir enlace',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Ms',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Gorjeo',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Compartir',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Ampliar su ventana para ver esta experiencia',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Debe habilitar el experimento amp pisos para ver este contenido',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'La pgina se ve mejor en modo vertical',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Lo sentimos, parece que su navegador no soporta esta experiencia',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Spanish strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Aceptar',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Declinar',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Ver el dominio original:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Ms sobre los resultados de AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Toque Siguiente',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Toque Volver',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'No se pudo copiar al portapapeles enlace :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Enlace copiado!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Conseguir enlace',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Ms',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Gorjeo',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Compartir',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Ampliar su ventana para ver esta experiencia',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Debe habilitar el experimento amp pisos para ver este contenido',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'La pgina se ve mejor en modo vertical',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Lo sentimos, parece que su navegador no soporta esta experiencia',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Canadian French strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Acceptez',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Dcliner',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Voir sur le domaine original:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'En savoir plus sur les rsultats AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Appuyez sur Suivant',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Appuyez sur Retour',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Impossible de copier le lien dans le presse-papier :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Lien copi !',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Courriel',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Obtenir le lien',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Plus',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Partager',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Faire largir votre fentre pour voir cette exprience',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Vous devez activer l\\'exprience amp-story pour afficher ce ' +\n        'contenu',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'La page est mieux visualise en mode portrait',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Nous sommes dsols, il semble que votre navigateur ne supporte ' +\n        'pas cette exprience',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for French strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Acceptez',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Dcliner',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Voir sur le domaine original:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'En savoir plus sur les rsultats AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Appuyez sur Suivant',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Appuyez sur Retour',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Impossible de copier le lien dans le presse-papier :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Lien copi !',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Courriel',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Obtenir le lien',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Plus',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Partager',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Faire largir votre fentre pour voir cette exprience',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Vous devez activer l\\'exprience amp-story pour afficher ce ' +\n        'contenu',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'La page est mieux visualise en mode portrait',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Nous sommes dsols, il semble que votre navigateur ne supporte ' +\n        'pas cette exprience',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Hindi strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: '   :',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: '      ',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Next  ',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Back  ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: '         :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: '   !',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: ' +',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: '   ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: '          ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: '  content     -    ' +\n        ' ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: '          ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: '  ,           ' +\n        '  ',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Indonesian strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Menerima',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Decline',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Lihat pada domain asli:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Lebih lanjut tentang hasil AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'tekan Berikutnya',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'tekan Kembali',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'tidak bisa copy link ke clipboard :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link dicopy!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'E-mail',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Dapatkan link',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Selebihnya',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Share',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Besarkan browser window anda untuk menggunakan fitur ini',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Anda harus mengaktifkan eksperimen amp-story untuk melihat ' +\n        'konten ini',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'Halaman ini hanya dapat dilihat dengan menggunakan portrait mode',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Maaf, sepertinya browser anda tidak mendukung fitur ini',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Italian strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accetta',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Rifiuto',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Visualizza sul dominio originale:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Ulteriori informazioni sui risultati AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Tocca Avanti',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Tocca Indietro',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Impossibile copiare il link negli appunti :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link copiato!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Ottieni Link',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Altro',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Condividi',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Espandi la finestra per vedere questo contenuto',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Devi attivare l\\'esperimento amp-story per visualizzare questo ' +\n        'contenuto',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'La pagina viene visualizzata al meglio in modalit verticale',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Siamo spiacenti, sembra che il tuo browser non supporti questo ' +\n        'contenuto',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Japanese strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'amp-story',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: '',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Korean strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: '  ',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'AMP   ',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: '    ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'stories   .',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: '   amp-story experiment  ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'stories     . ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: '.    stories   . ',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Dutch strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Accepteer',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Wijs af',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Bekijk op origineel domein:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Meer over AMP-resultaten',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Tik op Volgende',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Tik op Terug',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Link kon niet naar naar het klembord gekopieerd worden :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link gekopieerd!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Link selecteren',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Meer',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Deel',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Vergroot je venster om deze inhoud te bekijken',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'U moet het amp-story-experiment inschakelen om deze inhoud te ' +\n        'kunnen bekijken',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'De pagina kan het best bekeken worden in portretmodus',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Helaas lijkt het erop dat uw browser deze inhoud niet ondersteunt',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Norwegian strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Aksepter',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Avsl',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Vis p det opprinnelige domenet:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Mer om AMP-resultater',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Trykk neste',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Trykk tilbake',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Kunne ikke kopiere link til utklippstavle',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link kopiert!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Epost',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Kopier link til utklippstavlen',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Mer',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Del',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Utvid vinduet for  se denne opplevelsen',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Du m aktivere amp-story-eksperimentet for  f tilgang til ' +\n        'dette innholdet',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'Denne siden vises best i portrettmodus',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Beklager, det ser ut for at nettleseren din ikke sttter denne ' +\n        'opplevelsen',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Brazilian Portuguese strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Aceitar',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Recusar',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Ver no domnio original:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Mais sobre os resultados AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Pressione Avanar',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Pressione Voltar',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'No foi possvel o copiar link para rea de transferncia :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link copiado!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Obter link',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Mais',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Compartilhar',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Amplie sua janela para ver esta experincia',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Voc deve habilitar o experimento amp-story para visualizar ' +\n        'este contedo',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'A pgina  melhor visualizada em modo retrato',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Lamentamos, mas parece que seu navegador no suporta essa ' +\n        'experincia',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Portuguese strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Aceitar',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Recusar',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Ver no domnio original:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Mais sobre os resultados AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Toque em Avanar',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Toque Voltar',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'No foi possvel copiar link para rea de transferncia :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link copiado!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Obter link',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Mais',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Compartilhar',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Amplie sua janela para ver esta experincia',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Voc deve habilitar o experimento amp-story para visualizar ' +\n        'este contedo',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'A pgina  melhor visualizada em modo retrato',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Lamentamos, mas parece que seu navegador no suporta essa ' +\n        'experincia',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Russian strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: '. :',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: '   AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: '       :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: ' !',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: '. ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: ' ',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: '       ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: '      amp-story ' +\n        '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: '     ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: ', ,      ',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Turkish strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Kabul ediyorum',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'Reddediyorum',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Orijinal alanda grntle:',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'AMP sonular hakknda daha fazla bilgi',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'leri dmesine dokunun',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Geri dmesine dokunun',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Link panoya kopyalanamad :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'Link kopyaland :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'E-posta',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Linki kopyala',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Daha',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Payla',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'Bu deneyimi grebilmek iin pencerenizi geniletiniz.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Bu grnm aabilmek iin amp-story deneyini ' +\n        'etkinletirmelisiniz.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'Bu sayfa portre modunda en iyi grntlenir.',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'zgnz, taraycnz bu deneyimi desteklemiyor gibi grnyor.',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for Vietnamese strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: 'Chp nhn',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: 'T chi',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: 'Xem trn min gc',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'Thm v kt qua AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: 'Cham k tip',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: 'Cham tr lai',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: 'Khng th sao chep ung dn n clipboard :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: 'ung dn a sao chep!',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: 'Email',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: 'Facebook',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: 'Google+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: 'Ly ung dn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: 'LinkedIn',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: 'SMS',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: 'Na',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: 'Twitter',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: 'Chia se',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: 'M rng ca s cua ban  xem th nghim nay',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'Ban phai cho phep th nghim amp-story  xem ni dung ' +\n        'nay ',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: 'Trang uc xem tt nht bng ch  chn dung',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: 'Chung ti xin li, hinh nh la trinh duyt cua ' +\n        'ban khng h tr th nghim nay',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for traditional Chinese strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: ' :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: '+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'AMP-STORY',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: '',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringBundleDef, LocalizedStringId} from '../localization';\n\n\n/**\n * Localized string bundle used for simplified Chinese strings.\n * @const {!LocalizedStringBundleDef}\n */\nexport default {\n  [LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK]: {\n    string: 'AMP',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT]: {\n    string: ' :(',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS]: {\n    string: '+',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST]: {\n    string: 'Pinterest',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR]: {\n    string: 'Tumblr',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP]: {\n    string: 'Whatsapp',\n  },\n  [LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT]: {\n    string: 'AMP-STORY',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT]: {\n    string: '',\n  },\n  [LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT]: {\n    string: '',\n  },\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Layout} from '../../../src/layout';\nimport {Services} from '../../../src/services';\nimport {StateProperty, getStoreService} from './amp-story-store-service';\nimport {copyChildren, removeChildren} from '../../../src/dom';\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {isArray, isObject} from '../../../src/types';\nimport {parseJson} from '../../../src/json';\nimport {renderAsElement} from './simple-template';\nimport {throttle} from '../../../src/utils/rate-limit';\n\n\n/**\n * Story access template.\n * @const {!./simple-template.ElementDef}\n */\nconst TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-access-overflow'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-access-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-access-content'}),\n        },\n      ],\n    },\n  ],\n};\n\n/**\n * The <amp-story-access> custom element.\n */\nexport class AmpStoryAccess extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @const @private {!../../../src/service/action-impl.ActionService} */\n    this.actions_ = Services.actionServiceForDoc(this.element);\n\n    /** @private {?Element} */\n    this.scrollableEl_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win);\n  }\n\n  /** @override */\n  buildCallback() {\n    const drawerEl = renderAsElement(this.win.document, TEMPLATE);\n    const contentEl = dev().assertElement(\n        drawerEl.querySelector('.i-amphtml-story-access-content'));\n\n    copyChildren(this.element, contentEl);\n    removeChildren(this.element);\n\n    this.element.appendChild(drawerEl);\n\n    this.whitelistActions_();\n\n    this.initializeListeners_();\n  }\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.NODISPLAY;\n  }\n\n  /** @override */\n  prerenderAllowed() {\n    return false;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.ACCESS_STATE, isAccess => {\n      this.onAccessStateChange_(isAccess);\n    });\n\n    this.scrollableEl_ =\n        this.element.querySelector('.i-amphtml-story-access-overflow');\n    this.scrollableEl_.addEventListener(\n        'scroll', throttle(this.win, () => this.onScroll_(), 100));\n  }\n\n  /**\n   * Reacts to access state updates, and shows/hides the UI accordingly.\n   * @param {boolean} isAccess\n   * @private\n   */\n  onAccessStateChange_(isAccess) {\n    this.mutateElement(() => {\n      this.element.classList.toggle('i-amphtml-story-access-visible', isAccess);\n    });\n  }\n\n  /**\n   * Toggles the fullbleed UI on scroll.\n   * @private\n   */\n  onScroll_() {\n    let isFullBleed;\n\n    // Toggles the fullbleed UI as soon as the scrollable container, which has a\n    // 88px margin top, reaches the top of the screen.\n    const measurer =\n        () => isFullBleed = this.scrollableEl_./*OK*/scrollTop > 88;\n    const mutator = () => {\n      this.element\n          .classList.toggle('i-amphtml-story-access-fullbleed', isFullBleed);\n    };\n\n    this.element.getResources()\n        .measureMutateElement(this.element, measurer, mutator);\n  }\n\n  /**\n   * Whitelists the <amp-access> actions.\n   * Depending on the publisher configuration, actions can be:\n   *   - login\n   *   - login-<namespace>\n   *   - login-<namespace>-<type>\n   *\n   * Publishers can provide one (object) or multiple (array) configurations,\n   * identified by their \"namespace\" property.\n   * Each configuration can have one or multiple login URLs, called \"type\".\n   * All the namespace/type pairs have to be whitelisted.\n   * @private\n   */\n  whitelistActions_() {\n    const accessEl =\n        dev().assertElement(\n            this.win.document.getElementById('amp-access'),\n            'Cannot find the amp-access configuration');\n\n    // Configuration validation is handled by the amp-access extension.\n    let accessConfig =\n    /** @type {!Array|!Object} */ (parseJson(accessEl.textContent));\n\n    if (!isArray(accessConfig)) {\n      accessConfig = [accessConfig];\n\n      // If there is only one configuration and the publisher provided a\n      // namespace, we want to allow actions with or without namespace.\n      if (accessConfig[0].namespace) {\n        accessConfig.push(\n            Object.assign({}, accessConfig[0], {namespace: undefined}));\n      }\n    }\n\n    accessConfig.forEach(config => {\n      const {login, namespace} = /** @type {{login, namespace}} */ (config);\n\n      if (isObject(login)) {\n        const types = Object.keys(login);\n        types.forEach(type => this.whitelistAction_(namespace, type));\n      } else {\n        this.whitelistAction_(namespace);\n      }\n    });\n  }\n\n  /**\n   * Whitelists an action for the given namespace / type pair.\n   * @param {string=} namespace\n   * @param {string=} type\n   * @private\n   */\n  whitelistAction_(namespace = undefined, type = undefined) {\n    const action = ['login', namespace, type].filter(s => !!s).join('-');\n    this.actions_.addToWhitelist(`SCRIPT.${action}`);\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Base layer from which other layers in a story page extend from.\n */\n\nimport {Layout} from '../../../src/layout';\n\n/**\n * Base layer template.\n */\nexport class AmpStoryBaseLayer extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n  }\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.CONTAINER;\n  }\n\n  /** @override */\n  buildCallback() {\n    this.element.classList.add('i-amphtml-story-layer');\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Action, StateProperty, getStoreService} from './amp-story-store-service';\nimport {ActionTrust} from '../../../src/action-constants';\nimport {CSS} from '../../../build/amp-story-consent-1.0.css';\nimport {Layout} from '../../../src/layout';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {assertAbsoluteHttpOrHttpsUrl} from '../../../src/url';\nimport {\n  childElementByTag,\n  closestByTag,\n  isJsonScriptTag,\n} from '../../../src/dom';\nimport {computedStyle, setImportantStyles} from '../../../src/style';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev, user} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {getRGBFromCssColorValue, getTextColorForRGB} from './utils';\nimport {isArray} from '../../../src/types';\nimport {parseJson} from '../../../src/json';\nimport {renderAsElement} from './simple-template';\nimport {throttle} from '../../../src/utils/rate-limit';\n\n\n/** @const {string} */\nconst TAG = 'amp-story-consent';\n\n/**\n * Default optional config parameters.\n * @const {!Object}\n */\nconst DEFAULT_OPTIONAL_PARAMETERS = {\n  externalLink: {},\n  onlyAccept: false,\n};\n\n// TODO(gmajoulet): switch to `htmlFor` static template helper.\n/**\n * Story consent template.\n * @param {!Object} config\n * @param {string} consentId\n * @param {?string} logoSrc\n * @return {!./simple-template.ElementDef}\n * @private @const\n */\nconst getTemplate = (config, consentId, logoSrc) => ({\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-consent i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-consent-overflow'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-consent-container'}),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-consent-header'}),\n              children: [\n                {\n                  tag: 'div',\n                  attrs: dict({\n                    'class': 'i-amphtml-story-consent-logo',\n                    'style': logoSrc ?\n                      `background-image: url('${logoSrc}') !important;` : '',\n                  }),\n                  children: [],\n                },\n              ],\n            },\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-consent-content'}),\n              children: [\n                {\n                  tag: 'h3',\n                  attrs: dict({}),\n                  children: [],\n                  unlocalizedString: config.title,\n                },\n                {\n                  tag: 'p',\n                  attrs: dict({}),\n                  children: [],\n                  unlocalizedString: config.message,\n                },\n                {\n                  tag: 'ul',\n                  attrs: dict({'class': 'i-amphtml-story-consent-vendors'}),\n                  children: config.vendors && config.vendors.map(vendor => (\n                    {\n                      tag: 'li',\n                      attrs: dict({'class': 'i-amphtml-story-consent-vendor'}),\n                      children: [],\n                      unlocalizedString: vendor,\n                    })\n                  ),\n                },\n                {\n                  tag: 'a',\n                  attrs: dict({\n                    'class': 'i-amphtml-story-consent-external-link ' +\n                        (!(config.externalLink.title &&\n                            config.externalLink.href) ?\n                          'i-amphtml-hidden' : ''),\n                    'href': config.externalLink.href,\n                    'target': '_top',\n                    'title': config.externalLink.title,\n                  }),\n                  children: [],\n                  unlocalizedString: config.externalLink.title,\n                },\n              ],\n            },\n          ],\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-consent-actions'}),\n          children: [\n            {\n              tag: 'button',\n              attrs: dict({\n                'class': 'i-amphtml-story-consent-action ' +\n                    'i-amphtml-story-consent-action-reject' +\n                    (config.onlyAccept === true ? ' i-amphtml-hidden' : ''),\n                'on': `tap:${consentId}.reject`,\n              }),\n              children: [],\n              localizedStringId:\n                  LocalizedStringId.AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL,\n            },\n            {\n              tag: 'button',\n              attrs: dict({\n                'class': 'i-amphtml-story-consent-action ' +\n                    'i-amphtml-story-consent-action-accept',\n                'on': `tap:${consentId}.accept`,\n              }),\n              children: [],\n              localizedStringId:\n                  LocalizedStringId.AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL,\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\n/**\n * The <amp-story-consent> custom element.\n */\nexport class AmpStoryConsent extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @const @private {!../../../src/service/action-impl.ActionService} */\n    this.actions_ = Services.actionServiceForDoc(this.element);\n\n    /** @private {?Object} */\n    this.consentConfig_ = null;\n\n    /** @private {?Element} */\n    this.scrollableEl_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win);\n\n    /** @private {?Object} */\n    this.storyConsentConfig_ = null;\n\n    /** @private {?Element} */\n    this.storyConsentEl_ = null;\n  }\n\n  /** @override */\n  buildCallback() {\n    this.assertAndParseConfig_();\n\n    const storyEl = closestByTag(this.element, 'AMP-STORY');\n    const consentEl = closestByTag(this.element, 'AMP-CONSENT');\n    const consentId = consentEl.id;\n\n    this.storeConsentId_(consentId);\n\n    const logoSrc = storyEl && storyEl.getAttribute('publisher-logo-src');\n\n    if (!logoSrc) {\n      user().warn(\n          TAG, 'Expected \"publisher-logo-src\" attribute on <amp-story>');\n    }\n\n    // Story consent config is set by the `assertAndParseConfig_` method.\n    if (this.storyConsentConfig_) {\n      this.storyConsentEl_ = renderAsElement(\n          this.win.document,\n          getTemplate(this.storyConsentConfig_, consentId, logoSrc));\n      createShadowRootWithStyle(this.element, this.storyConsentEl_, CSS);\n\n      // Allow <amp-consent> actions in STAMP (defaults to no actions allowed).\n      this.actions_.addToWhitelist('AMP-CONSENT.accept');\n      this.actions_.addToWhitelist('AMP-CONSENT.prompt');\n      this.actions_.addToWhitelist('AMP-CONSENT.reject');\n\n      this.setAcceptButtonFontColor_();\n\n      this.initializeListeners_();\n    }\n  }\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.NODISPLAY;\n  }\n\n  /** @override */\n  prerenderAllowed() {\n    return false;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storyConsentEl_.addEventListener(\n        'click', event => this.onClick_(event), true /** useCapture */);\n\n    this.scrollableEl_ =\n        this.storyConsentEl_.querySelector('.i-amphtml-story-consent-overflow');\n    this.scrollableEl_.addEventListener(\n        'scroll', throttle(this.win, () => this.onScroll_(), 100));\n\n    this.storeService_.subscribe(StateProperty.RTL_STATE, rtlState => {\n      this.onRtlStateUpdate_(rtlState);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * Listens to click events to trigger the actions programatically.\n   * Since events bubble up from the Shadow DOM but their target is updated to\n   * the Shadow root, the top level actions event listeners would not detect\n   * and trigger the actions upon click events.\n   * @param {!Event} event\n   * @private\n   */\n  onClick_(event) {\n    if (event.target && event.target.hasAttribute('on')) {\n      const targetEl = dev().assertElement(event.target);\n      this.actions_.trigger(targetEl, 'tap', event, ActionTrust.HIGH);\n    }\n  }\n\n  /**\n   * Toggles the fullbleed UI on scroll.\n   * @private\n   */\n  onScroll_() {\n    let isFullBleed;\n\n    const measurer =\n        () => isFullBleed = this.scrollableEl_./*OK*/scrollTop > 88;\n    const mutator = () => {\n      this.storyConsentEl_\n          .classList.toggle('i-amphtml-story-consent-fullbleed', isFullBleed);\n    };\n\n    this.measureMutateElement(measurer, mutator, this.storyConsentEl_);\n  }\n\n  /**\n   * Reacts to RTL state updates and triggers the UI for RTL.\n   * @param {boolean} rtlState\n   * @private\n   */\n  onRtlStateUpdate_(rtlState) {\n    const mutator = () => {\n      rtlState ?\n        this.storyConsentEl_.setAttribute('dir', 'rtl') :\n        this.storyConsentEl_.removeAttribute('dir');\n    };\n\n    this.mutateElement(mutator, this.storyConsentEl_);\n  }\n\n  /**\n   * Validates the story-consent config. `story-consent` is a new parameter\n   * specific to stories, added on the `amp-consent` JSON config.\n   * @private\n   */\n  assertAndParseConfig_() {\n    // Validation of the amp-consent config is handled by the amp-consent\n    // javascript.\n    const parentEl = dev().assertElement(this.element.parentElement);\n    const consentScript = childElementByTag(parentEl, 'script');\n    this.consentConfig_ = consentScript && parseJson(consentScript.textContent);\n\n    // amp-consent already triggered console errors, step out to avoid polluting\n    // the console.\n    if (!this.consentConfig_) {\n      return;\n    }\n\n    const storyConsentScript = childElementByTag(this.element, 'script');\n\n    user().assert(\n        storyConsentScript && isJsonScriptTag(storyConsentScript),\n        `${TAG} config should be put in a <script> tag with ` +\n        'type=\"application/json\"');\n\n    this.storyConsentConfig_ =\n        Object.assign(\n            {},\n            DEFAULT_OPTIONAL_PARAMETERS,\n            /** @type {Object} */ (parseJson(storyConsentScript.textContent)));\n\n    user().assertString(\n        this.storyConsentConfig_.title, `${TAG}: config requires a title`);\n    user().assertString(\n        this.storyConsentConfig_.message, `${TAG}: config requires a message`);\n    user().assert(\n        this.storyConsentConfig_.vendors &&\n            isArray(this.storyConsentConfig_.vendors),\n        `${TAG}: config requires an array of vendors`);\n    user().assertBoolean(\n        this.storyConsentConfig_.onlyAccept,\n        `${TAG}: config requires \"onlyAccept\" to be a boolean`);\n\n    // Runs the validation if any of the title or link are provided, since\n    // both have to be provided for the external link to be displayed.\n    if (this.storyConsentConfig_.externalLink.href ||\n        this.storyConsentConfig_.externalLink.title) {\n      user().assertString(\n          this.storyConsentConfig_.externalLink.title,\n          `${TAG}: config requires \"externalLink.title\" to be a string`);\n      user().assertString(\n          this.storyConsentConfig_.externalLink.href,\n          `${TAG}: config requires \"externalLink.href\" to be an absolute URL`);\n      assertAbsoluteHttpOrHttpsUrl(this.storyConsentConfig_.externalLink.href);\n    }\n  }\n\n  /**\n   * @param {string} consentId\n   * @private\n   */\n  storeConsentId_(consentId) {\n    const policyId = Object.keys(this.consentConfig_['consents'])[0];\n    const policy = this.consentConfig_['consents'][policyId];\n\n    // checkConsentHref response overrides the amp-geo config, if provided.\n    if (policy.checkConsentHref) {\n      this.storeService_.dispatch(Action.SET_CONSENT_ID, consentId);\n      return;\n    }\n\n    // If using amp-access with amp-geo, only set the consent id if the user is\n    // in the expected geo group.\n    if (policy['promptIfUnknownForGeoGroup']) {\n      Services.geoForDocOrNull(this.element).then(geo => {\n        const geoGroup = policy['promptIfUnknownForGeoGroup'];\n        const matchedGeoGroups =\n          /** @type {!Array<string>} */ (geo.matchedISOCountryGroups);\n        if (geo && !matchedGeoGroups.includes(geoGroup)) {\n          return;\n        }\n        this.storeService_.dispatch(Action.SET_CONSENT_ID, consentId);\n      });\n    }\n  }\n\n  /**\n   * Sets the accept button font color to either white or black, depending on\n   * the publisher custom background color.\n   * Must be called from the `buildCallback` or in another vsync mutate state.\n   * @private\n   */\n  setAcceptButtonFontColor_() {\n    const buttonEl =\n        dev().assertElement(this.storyConsentEl_\n            .querySelector('.i-amphtml-story-consent-action-accept'));\n    const styles = computedStyle(this.win, buttonEl);\n\n    const rgb = getRGBFromCssColorValue(styles['background-color']);\n    const color = getTextColorForRGB(rgb);\n\n    setImportantStyles(buttonEl, {color});\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This is a layer that allows a call to action in a story page.\n * With this, a user could link to an external site from inside a story using\n * the call to action layer, for example.\n *\n * Example:\n * ...\n * <amp-story-page>\n *   <amp-story-cta-layer>\n *     <a href=\"wwww.google.com\"> Visit my site! </a>\n *   </amp-story-cta-layer>\n * <amp-story-page>\n * ...\n */\n\nimport {AmpStoryBaseLayer} from './amp-story-base-layer';\nimport {addAttributesToElement} from '../../../src/dom';\nimport {dict} from '../../../src/utils/object';\nimport {matches, removeElement} from '../../../src/dom';\nimport {user} from '../../../src/log';\n\n/**\n * @type {string}\n * @const\n */\nconst TAG = 'amp-story-cta-layer';\n\n/**\n * Call to action button layer template.\n */\nexport class AmpStoryCtaLayer extends AmpStoryBaseLayer {\n\n  /** @override */\n  prerenderAllowed() {\n    /**\n     * Skip pre-rendering to let more computing-intensive elements (like\n     * videos) get pre-rendered first. Since this layer will not contain\n     * computing-intensive resources such as videos, we can just risk rendering\n     * while the user is looking.\n     */\n    return false;\n  }\n\n  /** @override */\n  buildCallback() {\n    super.buildCallback();\n    this.setOrOverwriteAttributes_();\n    this.checkAndRemoveLayerIfOnFirstPage_();\n  }\n\n  /**\n   * Overwrite or set target attributes that are cta-layer-specific.\n   * @private\n   */\n  setOrOverwriteAttributes_() {\n    const ctaLinks = this.element.querySelectorAll('a');\n    for (let i = 0; i < ctaLinks.length; i++) {\n      addAttributesToElement(ctaLinks[i], dict({'target': '_blank'}));\n\n      if (!ctaLinks[i].getAttribute('role')) {\n        addAttributesToElement(ctaLinks[i], dict({'role': 'link'}));\n      }\n    }\n\n    const ctaButtons = this.element.querySelectorAll('button');\n    for (let i = 0; i < ctaButtons.length; i++) {\n      if (!ctaButtons[i].getAttribute('role')) {\n        addAttributesToElement(ctaButtons[i], dict({'role': 'button'}));\n      }\n    }\n  }\n\n  /**\n   * CTA links or buttons are not allowed on the first amp-story page. Remove\n   * the amp-story-cta-layer if it is found on the first page of the story.\n   * @private\n   */\n  checkAndRemoveLayerIfOnFirstPage_() {\n    if (matches(this.element,\n        'amp-story-page:first-of-type > amp-story-cta-layer')) {\n      removeElement(this.element);\n      user().error(TAG, 'amp-story-cta-layer is not allowed on the first page' +\n          ' of an amp-story.');\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This is a layer that lays its children out into a grid. Its\n * implementation is based off of the CSS Grid Spec.\n *\n * Example:\n * <code>\n * <amp-story-grid-layer template=\"fill\">\n *   ...\n * </amp-story-grid-layer>\n * </code>\n */\n\nimport {AmpStoryBaseLayer} from './amp-story-base-layer';\nimport {matches, scopedQuerySelectorAll} from '../../../src/dom';\nimport {setStyle} from '../../../src/style';\n\n/**\n * A mapping of attribute names we support for grid layers to the CSS Grid\n * properties they control.\n * @private @const {!Object<string, string>}\n */\nconst SUPPORTED_CSS_GRID_ATTRIBUTES = {\n  'align-content': 'alignContent',\n  'align-items': 'alignItems',\n  'align-self': 'alignSelf',\n  'grid-area': 'gridArea',\n  'justify-content': 'justifyContent',\n  'justify-items': 'justifyItems',\n  'justify-self': 'justifySelf',\n};\n\n/**\n * Converts the keys of the SUPPORTED_CSS_GRID_ATTRIBUTES object above into a\n * selector for the specified attributes.\n * (e.g. [align-content], [align-items], ...)\n * @private @const {string}\n */\nconst SUPPORTED_CSS_GRID_ATTRIBUTES_SELECTOR =\n    Object.keys(SUPPORTED_CSS_GRID_ATTRIBUTES)\n        .map(key => `[${key}]`)\n        .join(',');\n\n/**\n * The attribute name for grid layer templates.\n * @private @const {string}\n */\nconst TEMPLATE_ATTRIBUTE_NAME = 'template';\n\n/**\n * A mapping of template attribute values to CSS class names.\n * @const {!Object<string, string>}\n */\nexport const GRID_LAYER_TEMPLATE_CLASS_NAMES = {\n  'fill': 'i-amphtml-story-grid-template-fill',\n  'vertical': 'i-amphtml-story-grid-template-vertical',\n  'horizontal': 'i-amphtml-story-grid-template-horizontal',\n  'thirds': 'i-amphtml-story-grid-template-thirds',\n};\n\n/**\n * Grid layer template templating system.\n */\nexport class AmpStoryGridLayer extends AmpStoryBaseLayer {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @private @const {boolean} Only prerender if child of the first page. */\n    this.prerenderAllowed_ = matches(this.element,\n        'amp-story-page:first-of-type amp-story-grid-layer');\n  }\n\n\n  /** @override */\n  buildCallback() {\n    super.buildCallback();\n    this.applyTemplateClassName_();\n    this.setOwnCssGridStyles_();\n    this.setDescendentCssGridStyles_();\n  }\n\n\n  /** @override */\n  prerenderAllowed() {\n    return this.prerenderAllowed_;\n  }\n\n\n  /**\n   * Applies internal CSS class names for the template attribute, so that styles\n   * can use the class name instead of compound\n   * amp-story-grid-layer[template=\"...\"] selectors, since the latter increases\n   * CSS specificity and can prevent users from being able to override styles.\n   * @private\n   */\n  applyTemplateClassName_() {\n    if (this.element.hasAttribute(TEMPLATE_ATTRIBUTE_NAME)) {\n      const templateName = this.element.getAttribute(TEMPLATE_ATTRIBUTE_NAME);\n      const templateClassName = GRID_LAYER_TEMPLATE_CLASS_NAMES[templateName];\n      this.element.classList.add(templateClassName);\n    }\n  }\n\n\n  /**\n   * Copies the whitelisted CSS grid styles for descendants of the\n   * <amp-story-grid-layer> element.\n   * @private\n   */\n  setDescendentCssGridStyles_() {\n    const elementsToUpgradeStyles = scopedQuerySelectorAll(this.element,\n        SUPPORTED_CSS_GRID_ATTRIBUTES_SELECTOR);\n\n    Array.prototype.forEach.call(elementsToUpgradeStyles, element => {\n      this.setCssGridStyles_(element);\n    });\n  }\n\n  /**\n   * Copies the whitelisted CSS grid styles for the <amp-story-grid-layer>\n   * element itself.\n   * @private\n   */\n  setOwnCssGridStyles_() {\n    this.setCssGridStyles_(this.element);\n  }\n\n\n  /**\n   * Copies the values of an element's attributes to its styles, if the\n   * attributes/properties are in the whitelist.\n   *\n   * @param {!Element} element The element whose styles should be copied from\n   *     its attributes.\n   */\n  setCssGridStyles_(element) {\n    for (let i = element.attributes.length - 1; i >= 0; i--) {\n      const attribute = element.attributes[i];\n      const attributeName = attribute.name.toLowerCase();\n      const propertyName = SUPPORTED_CSS_GRID_ATTRIBUTES[attributeName];\n      if (propertyName) {\n        setStyle(element, propertyName, attribute.value);\n        element.removeAttribute(attributeName);\n      }\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CSS} from '../../../build/amp-story-hint-1.0.css';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {\n  StateProperty,\n  UIType,\n  getStoreService,\n} from './amp-story-store-service';\nimport {createShadowRootWithStyle} from './utils';\nimport {dict} from '../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst TEMPLATE = {\n  tag: 'aside',\n  attrs: dict({\n    'class': 'i-amphtml-story-hint-container ' +\n        'i-amphtml-story-system-reset i-amphtml-hidden'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-navigation-help-overlay'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-navigation-help-section'\n              + ' prev-page'}),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-hint-placeholder'}),\n              children: [\n                {\n                  tag: 'div',\n                  attrs: dict({'class': 'i-amphtml-story-hint-tap-button'}),\n                  children: [\n                    {\n                      tag: 'div',\n                      attrs: dict({'class':\n                          'i-amphtml-story-hint-tap-button-icon'}),\n                    },\n                  ],\n                },\n                {\n                  tag: 'div',\n                  attrs: dict({'class':\n                      'i-amphtml-story-hint-tap-button-text'}),\n                  localizedStringId:\n                      LocalizedStringId.AMP_STORY_HINT_UI_PREVIOUS_LABEL,\n                },\n              ],\n            },\n          ],\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-navigation-help-section'\n              + ' next-page'}),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({'class': 'i-amphtml-story-hint-placeholder'}),\n              children: [\n                {\n                  tag: 'div',\n                  attrs: dict({'class': 'i-amphtml-story-hint-tap-button'}),\n                  children: [\n                    {\n                      tag: 'div',\n                      attrs: dict({'class':\n                          'i-amphtml-story-hint-tap-button-icon'}),\n                    },\n                  ],\n                },\n                {\n                  tag: 'div',\n                  attrs: dict({'class':\n                      'i-amphtml-story-hint-tap-button-text'}),\n                  localizedStringId:\n                      LocalizedStringId.AMP_STORY_HINT_UI_NEXT_LABEL,\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n\n/** @type {string} */\nconst NAVIGATION_OVERLAY_CLASS = 'show-navigation-overlay';\n\n/** @type {string} */\nconst FIRST_PAGE_OVERLAY_CLASS = 'show-first-page-overlay';\n\n/** @type {number} */\nconst NAVIGATION_OVERLAY_TIMEOUT = 3000;\n\n/** @type {number} */\nconst FIRST_PAGE_NAVIGATION_OVERLAY_TIMEOUT = 275;\n\n/**\n * User Hint Layer for <amp-story>.\n */\nexport class AmpStoryHint {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl Element where to append the component\n   */\n  constructor(win, parentEl) {\n    /** @private {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} Whether the component is built. */\n    this.isBuilt_ = false;\n\n    /** @private {!Document} */\n    this.document_ = this.win_.document;\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    /** @const @private {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(this.win_);\n\n    /** @private {?Element} */\n    this.hintContainer_ = null;\n\n    /** @private {?(number|string)} */\n    this.hintTimeout_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n  }\n\n  /**\n   * Builds the hint layer DOM.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    const root = this.document_.createElement('div');\n    this.hintContainer_ = renderAsElement(this.document_, TEMPLATE);\n    createShadowRootWithStyle(root, this.hintContainer_, CSS);\n\n    this.storeService_.subscribe(StateProperty.RTL_STATE, rtlState => {\n      this.onRtlStateUpdate_(rtlState);\n    }, true /** callToInitialize */);\n\n    this.vsync_.mutate(() => {\n      this.parentEl_.appendChild(root);\n    });\n  }\n\n  /**\n   * Whether the component is built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * Shows the given hint, only if not desktop.\n   * @param {string} hintClass\n   * @private\n   */\n  showHint_(hintClass) {\n    if (this.storeService_.get(StateProperty.UI_STATE) !== UIType.MOBILE) {\n      return;\n    }\n\n    this.build();\n\n    this.vsync_.mutate(() => {\n      this.hintContainer_.classList.toggle(NAVIGATION_OVERLAY_CLASS,\n          hintClass == NAVIGATION_OVERLAY_CLASS);\n      this.hintContainer_.classList.toggle(FIRST_PAGE_OVERLAY_CLASS,\n          hintClass == FIRST_PAGE_OVERLAY_CLASS);\n      this.hintContainer_.classList.remove('i-amphtml-hidden');\n\n      const hideTimeout = hintClass == NAVIGATION_OVERLAY_CLASS\n        ? NAVIGATION_OVERLAY_TIMEOUT : FIRST_PAGE_NAVIGATION_OVERLAY_TIMEOUT;\n      this.hideAfterTimeout(hideTimeout);\n    });\n\n  }\n\n  /**\n   * Show navigation overlay DOM.\n   */\n  showNavigationOverlay() {\n    // Don't show the overlay if the share menu is open.\n    if (this.storeService_.get(StateProperty.SHARE_MENU_STATE)) {\n      return;\n    }\n\n    this.showHint_(NAVIGATION_OVERLAY_CLASS);\n  }\n\n  /**\n   * Show navigation overlay DOM.\n   */\n  showFirstPageHintOverlay() {\n    this.showHint_(FIRST_PAGE_OVERLAY_CLASS);\n  }\n\n  /**\n   * Hides the overlay after a given time\n   * @param {number} timeout\n   */\n  hideAfterTimeout(timeout) {\n    this.hintTimeout_ = this.timer_.delay(\n        () => this.hideInternal_(), timeout);\n  }\n\n  /**\n   * Hide all navigation hints.\n   */\n  hideAllNavigationHint() {\n    this.hideInternal_();\n\n    if (this.hintTimeout_ !== null) {\n      this.timer_.cancel(this.hintTimeout_);\n      this.hintTimeout_ = null;\n    }\n  }\n\n  /** @private */\n  hideInternal_() {\n    if (!this.isBuilt()) {\n      return;\n    }\n\n    this.vsync_.mutate(() => {\n      this.hintContainer_.classList.add('i-amphtml-hidden');\n    });\n  }\n\n  /**\n   * Reacts to RTL state updates and triggers the UI for RTL.\n   * @param {boolean} rtlState\n   * @private\n   */\n  onRtlStateUpdate_(rtlState) {\n    this.vsync_.mutate(() => {\n      rtlState ?\n        this.hintContainer_.setAttribute('dir', 'rtl') :\n        this.hintContainer_.removeAttribute('dir');\n    });\n  }\n}\n\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Action,\n  StateProperty,\n  getStoreService,\n} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-info-dialog-1.0.css';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {assertAbsoluteHttpOrHttpsUrl} from '../../../src/url';\nimport {closest} from '../../../src/dom';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev} from '../../../src/log';\nimport {getAmpdoc} from '../../../src/service';\nimport {htmlFor} from '../../../src/static-template';\n\n/** @const {string} Class to toggle the info dialog. */\nexport const DIALOG_VISIBLE_CLASS = 'i-amphtml-story-info-dialog-visible';\n\n/** @const {string} Class to toggle the info dialog link. */\nexport const MOREINFO_VISIBLE_CLASS = 'i-amphtml-story-info-moreinfo-visible';\n\n/**\n * A dialog that provides a link to the canonical URL of the story, as well as\n * a link to any more information that the viewer would like to provide about\n * linking on that platform.\n */\nexport class InfoDialog {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl Element where to append the component\n   */\n  constructor(win, parentEl) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.element_ = null;\n\n    /** @private {?Element} */\n    this.innerContainerEl_ = null;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private @const {!./localization.LocalizationService} */\n    this.localizationService_ = Services.localizationService(this.win_);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n\n    /** @private @const {!../../../src/service/resources-impl.Resources} */\n    this.resources_ = Services.resourcesForDoc(getAmpdoc(this.win_.document));\n\n    /** @private {?Element} */\n    this.moreInfoLinkEl_ = null;\n\n    /** @const @private {!../../../src/service/viewer-impl.Viewer} */\n    this.viewer_ = Services.viewerForDoc(this.parentEl_);\n  }\n\n  /**\n   * Builds and appends the component in the story.\n   * @return {!Promise} used for testing to ensure that the component is built\n   *     before assertions.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return Promise.resolve();\n    }\n\n    this.isBuilt_ = true;\n    const root = this.win_.document.createElement('div');\n    const html = htmlFor(this.parentEl_);\n    this.element_ = html`\n        <div class=\"i-amphtml-story-info-dialog i-amphtml-story-system-reset\">\n          <div class=\"i-amphtml-story-info-dialog-container\">\n            <h1 class=\"i-amphtml-story-info-heading\"></h1>\n            <a class=\"i-amphtml-story-info-link\"></a>\n            <a class=\"i-amphtml-story-info-moreinfo\"></a>\n          </div>\n        </div>`;\n\n    createShadowRootWithStyle(root, this.element_, CSS);\n    this.initializeListeners_();\n\n    this.innerContainerEl_ = this.element_\n        .querySelector('.i-amphtml-story-info-dialog-container');\n\n    const appendPromise = this.resources_.mutateElement(this.parentEl_, () => {\n      this.parentEl_.appendChild(root);\n    });\n\n    const pageUrl = Services.documentInfoForDoc(\n        getAmpdoc(this.parentEl_)).canonicalUrl;\n\n    return Promise.all([\n      appendPromise,\n      this.setHeading_(),\n      this.setPageLink_(pageUrl),\n      this.requestMoreInfoLink_()\n          .then(moreInfoUrl => this.setMoreInfoLinkUrl_(moreInfoUrl)),\n    ]);\n  }\n\n  /**\n   * Whether the element has been built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.INFO_DIALOG_STATE, isOpen => {\n      this.onInfoDialogStateUpdated_(isOpen);\n    });\n\n    this.element_.addEventListener(\n        'click', event => this.onInfoDialogClick_(event));\n  }\n\n  /**\n   * Reacts to menu state updates and decides whether to show either the native\n   * system sharing, or the fallback UI.\n   * @param {boolean} isOpen\n   * @private\n   */\n  onInfoDialogStateUpdated_(isOpen) {\n    this.resources_.mutateElement(dev().assertElement(this.element_), () => {\n      this.element_.classList.toggle(DIALOG_VISIBLE_CLASS, isOpen);\n    });\n  }\n\n  /**\n   * Handles click events and maybe closes the dialog.\n   * @param  {!Event} event\n   */\n  onInfoDialogClick_(event) {\n    const el = dev().assertElement(event.target);\n    // Closes the dialog if click happened outside of the dialog main container.\n    if (!closest(el, el => el === this.innerContainerEl_, this.element_)) {\n      this.close_();\n    }\n  }\n\n  /**\n   * Closes the info dialog.\n   * @private\n   */\n  close_() {\n    this.storeService_.dispatch(Action.TOGGLE_INFO_DIALOG, false);\n  }\n\n  /**\n   * @return {!Promise<?string>} The URL to visit to receive more info on this\n   *     page.\n   * @private\n   */\n  requestMoreInfoLink_() {\n    const messagingPromise = this.viewer_.whenMessagingReady();\n\n    if (!messagingPromise) {\n      // There is no viewer to supply the more info URL.\n      return Promise.resolve();\n    }\n\n    return messagingPromise\n        .then(() => {\n          return this.viewer_./*OK*/sendMessageAwaitResponse('moreInfoLinkUrl',\n              /* data */ undefined);\n        })\n        .then(moreInfoUrl => {\n          if (!moreInfoUrl) {\n            return null;\n          }\n\n          return assertAbsoluteHttpOrHttpsUrl(dev().assertString(moreInfoUrl));\n        });\n  }\n\n  /**\n   * Sets the heading on the dialog.\n   */\n  setHeading_() {\n    const label = this.localizationService_.getLocalizedString(\n        LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL);\n    const headingEl = dev().assertElement(\n        this.element_.querySelector('.i-amphtml-story-info-heading'));\n\n    return this.resources_.mutateElement(headingEl, () => {\n      headingEl.textContent = label;\n    });\n  }\n\n  /**\n   * @param {string} pageUrl The URL to the canonical version of the current\n   *     document.\n   */\n  setPageLink_(pageUrl) {\n    const linkEl = dev().assertElement(\n        this.element_.querySelector('.i-amphtml-story-info-link'));\n\n    return this.resources_.mutateElement(linkEl, () => {\n      linkEl.setAttribute('href', pageUrl);\n\n      // Add zero-width space character (\\u200B) after \".\" and \"/\" characters\n      // to help line-breaks occur more naturally.\n      linkEl.textContent = pageUrl.replace(/([/.]+)/gi, '$1\\u200B');\n    });\n  }\n\n  /**\n   * @param {?string} moreInfoUrl The URL to the \"more info\" page, if there is\n   * one.\n   */\n  setMoreInfoLinkUrl_(moreInfoUrl) {\n    if (!moreInfoUrl) {\n      return Promise.resolve();\n    }\n\n    this.moreInfoLinkEl_ = dev().assertElement(\n        this.element_.querySelector('.i-amphtml-story-info-moreinfo'));\n\n    return this.resources_.mutateElement(this.moreInfoLinkEl_, () => {\n      const label = this.localizationService_.getLocalizedString(\n          LocalizedStringId.AMP_STORY_DOMAIN_DIALOG_HEADING_LINK);\n      this.moreInfoLinkEl_.classList.add(MOREINFO_VISIBLE_CLASS);\n      this.moreInfoLinkEl_.setAttribute('href',\n          dev().assertString(moreInfoUrl));\n      this.moreInfoLinkEl_.setAttribute('target', '_blank');\n      this.moreInfoLinkEl_.textContent = label;\n    });\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Embeds a story\n *\n * Example:\n * <code>\n * <amp-story-page>\n * </amp-story>\n * </code>\n */\nimport {AdvancementConfig} from './page-advancement';\nimport {\n  AnimationManager,\n  hasAnimations,\n} from './animation';\nimport {Deferred} from '../../../src/utils/promise';\nimport {EventType, dispatch} from './events';\nimport {Layout} from '../../../src/layout';\nimport {LoadingSpinner} from './loading-spinner';\nimport {MediaPool} from './media-pool';\nimport {PageScalingService} from './page-scaling';\nimport {Services} from '../../../src/services';\nimport {VideoServiceSync} from '../../../src/service/video-service-sync-impl';\nimport {\n  closestBySelector,\n  iterateCursor,\n  matches,\n  scopedQuerySelectorAll,\n} from '../../../src/dom';\nimport {debounce} from '../../../src/utils/rate-limit';\nimport {dev} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {getFriendlyIframeEmbedOptional} from '../../../src/friendly-iframe-embed';\nimport {getLogEntries} from './logging';\nimport {getMode} from '../../../src/mode';\nimport {listen} from '../../../src/event-helper';\nimport {toArray} from '../../../src/types';\nimport {upgradeBackgroundAudio} from './audio';\n\n/**\n * CSS class for an amp-story-page that indicates the entire page is loaded.\n * @const {string}\n */\nconst PAGE_LOADED_CLASS_NAME = 'i-amphtml-story-page-loaded';\n\n/**\n * Selectors for media elements\n * @enum {string}\n */\nconst Selectors = {\n  // which media to wait for on page layout.\n  ALL_AMP_MEDIA: 'amp-audio, amp-video, amp-img, amp-anim',\n  ALL_MEDIA: 'audio, video',\n  ALL_VIDEO: 'video',\n};\n\n/** @private @const {string} */\nconst TAG = 'amp-story-page';\n\n/** @private @const {string} */\nconst ADVERTISEMENT_ATTR_NAME = 'ad';\n\n/**\n * amp-story-page states.\n * @enum {number}\n */\nexport const PageState = {\n  NOT_ACTIVE: 0, // Page is not displayed. Could still be visible on desktop.\n  ACTIVE: 1, // Page is currently the main page, and playing.\n  PAUSED: 2, // Page is currently the main page, but not playing.\n};\n\n/**\n * The <amp-story-page> custom element, which represents a single page of\n * an <amp-story>.\n */\nexport class AmpStoryPage extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @private {?AnimationManager} */\n    this.animationManager_ = null;\n\n    /** @private @const {!AdvancementConfig} */\n    this.advancement_ = AdvancementConfig.forPage(this);\n\n    /** @const @private {!function(boolean)} */\n    this.debounceToggleLoadingSpinner_ = debounce(\n        this.win, isActive => this.toggleLoadingSpinner_(!!isActive), 100);\n\n    /** @private {?LoadingSpinner} */\n    this.loadingSpinner_ = null;\n\n    /** @private @const {!Promise} */\n    this.mediaLayoutPromise_ = this.waitForMediaLayout_();\n\n    /** @private @const {!Promise} */\n    this.pageLoadPromise_ = this.mediaLayoutPromise_.then(() => {\n      this.markPageAsLoaded_();\n    });\n\n    const deferred = new Deferred();\n\n    /** @private @const {!Promise<!MediaPool>} */\n    this.mediaPoolPromise_ = deferred.promise;\n\n    /** @private @const {!function(!MediaPool)} */\n    this.mediaPoolResolveFn_ = deferred.resolve;\n\n    /** @private @const {!function(*)} */\n    this.mediaPoolRejectFn_ = deferred.reject;\n\n    /** @private @const {boolean} Only prerender the first story page. */\n    this.prerenderAllowed_ = matches(this.element,\n        'amp-story-page:first-of-type');\n\n    /** @private {!PageState} */\n    this.state_ = PageState.NOT_ACTIVE;\n\n    /** @private {!Array<function()>} */\n    this.unlisteners_ = [];\n\n    /**\n     * Whether the user agent matches a bot.  This is used to prevent resource\n     * optimizations that make the document less useful at crawl time, e.g.\n     * removing sources from videos.\n     * @private @const {boolean}\n     */\n    this.isBotUserAgent_ = Services.platformFor(this.win).isBot();\n  }\n\n\n  /**\n   * @private\n   */\n  maybeCreateAnimationManager_() {\n    if (!this.animationManager_) {\n      if (!hasAnimations(this.element)) {\n        return;\n      }\n\n      this.animationManager_ = AnimationManager.create(\n          this.element, this.getAmpDoc(), this.getAmpDoc().getUrl());\n    }\n  }\n\n\n  /** @override */\n  buildCallback() {\n    upgradeBackgroundAudio(this.element);\n    this.delegateVideoAutoplay();\n    this.markMediaElementsWithPreload_();\n    this.initializeMediaPool_();\n    this.maybeCreateAnimationManager_();\n    this.advancement_.addPreviousListener(() => this.previous());\n    this.advancement_\n        .addAdvanceListener(() => this.next(/* opt_isAutomaticAdvance */ true));\n    this.advancement_.addOnTapNavigationListener(\n        navigationDirection => this.navigateOnTap(navigationDirection));\n    this.advancement_\n        .addProgressListener(progress => this.emitProgress_(progress));\n  }\n\n\n  /**\n   * Delegates video autoplay so the video manager does not follow the\n   * autoplay attribute that may have been set by a publisher, which could\n   * play videos from an inactive page.\n   */\n  delegateVideoAutoplay() {\n    const videos = this.element.querySelectorAll('amp-video');\n    if (videos.length < 1) {\n      return;\n    }\n    toArray(videos).forEach(el => {\n      VideoServiceSync.delegateAutoplay(/** @type {!AmpElement} */ (el));\n    });\n  }\n\n\n  /** @private */\n  initializeMediaPool_() {\n    const storyEl = dev().assertElement(\n        closestBySelector(this.element, 'amp-story'),\n        'amp-story-page must be a descendant of amp-story.');\n\n    storyEl.getImpl()\n        .then(storyImpl => {\n          this.mediaPoolResolveFn_(MediaPool.for(storyImpl));\n        }, reason => this.mediaPoolRejectFn_(reason));\n  }\n\n\n  /**\n   * Marks any AMP elements that represent media elements with preload=\"auto\".\n   * @private\n   */\n  markMediaElementsWithPreload_() {\n    const mediaSet = this.element.querySelectorAll('amp-audio, amp-video');\n    Array.prototype.forEach.call(mediaSet, mediaItem => {\n      mediaItem.setAttribute('preload', 'auto');\n    });\n  }\n\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.CONTAINER;\n  }\n\n\n  /**\n   * Updates the state of the page.\n   * @param {!PageState} state\n   */\n  setState(state) {\n    switch (state) {\n      case PageState.NOT_ACTIVE:\n        this.element.removeAttribute('active');\n        this.pauseCallback();\n        this.state_ = state;\n        break;\n      case PageState.ACTIVE:\n        if (this.state_ === PageState.NOT_ACTIVE) {\n          this.element.setAttribute('active', '');\n          this.resumeCallback();\n        }\n\n        if (this.state_ === PageState.PAUSED) {\n          this.advancement_.start();\n          this.playAllMedia_();\n        }\n\n        this.state_ = state;\n        break;\n      case PageState.PAUSED:\n        this.advancement_.stop();\n        this.pauseAllMedia_(false /** rewindToBeginning */);\n        this.state_ = state;\n        break;\n      default:\n        dev().warn(TAG, `PageState ${state} does not exist`);\n        break;\n    }\n  }\n\n\n  /** @override */\n  pauseCallback() {\n    this.advancement_.stop();\n\n    this.stopListeningToVideoEvents_();\n    this.pauseAllMedia_(true /** rewindToBeginning */);\n\n    if (this.animationManager_) {\n      this.animationManager_.cancelAll();\n    }\n  }\n\n\n  /** @override */\n  resumeCallback() {\n    this.registerAllMedia_();\n\n    if (this.isActive()) {\n      this.advancement_.start();\n      this.maybeStartAnimations();\n      this.preloadAllMedia_()\n          .then(() => this.startListeningToVideoEvents_())\n          .then(() => this.playAllMedia_());\n    }\n\n    this.reportDevModeErrors_();\n  }\n\n\n  /** @override */\n  layoutCallback() {\n    this.muteAllMedia();\n\n    return Promise.all([\n      this.beforeVisible(),\n      this.mediaLayoutPromise_,\n      this.mediaPoolPromise_,\n    ]);\n  }\n\n\n  /** @return {!Promise} */\n  beforeVisible() {\n    return this.scale_().then(() => this.maybeApplyFirstAnimationFrame());\n  }\n\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  waitForMediaLayout_() {\n    const mediaSet = this.getMediaBySelector_(Selectors.ALL_AMP_MEDIA);\n\n    const mediaPromises = Array.prototype.map.call(mediaSet, mediaEl => {\n      return new Promise(resolve => {\n        switch (mediaEl.tagName.toLowerCase()) {\n          case 'amp-img':\n          case 'amp-anim':\n            mediaEl.addEventListener('load', resolve, true /* useCapture */);\n            break;\n          case 'amp-audio':\n          case 'amp-video':\n            if (mediaEl.readyState >= 2) {\n              resolve();\n              return;\n            }\n\n            mediaEl.addEventListener('canplay', resolve, true /* useCapture */);\n            break;\n          default:\n            // Any other tags should not block loading.\n            resolve();\n        }\n\n        // We suppress errors so that Promise.all will still wait for all\n        // promises to complete, even if one has failed.  We do nothing with the\n        // error, as the resource itself and/or code that loads it should handle\n        // the error.\n        mediaEl.addEventListener('error', resolve, true /* useCapture */);\n      });\n    });\n\n    return Promise.all(mediaPromises);\n  }\n\n\n  /** @return {!Promise} */\n  whenLoaded() {\n    return this.pageLoadPromise_;\n  }\n\n\n  /** @private */\n  markPageAsLoaded_() {\n    dispatch(this.win, this.element, EventType.PAGE_LOADED,\n        /* payload */ undefined, {bubbles: true});\n    this.mutateElement(() => {\n      this.element.classList.add(PAGE_LOADED_CLASS_NAME);\n    });\n  }\n\n\n  /** @override */\n  prerenderAllowed() {\n    return this.prerenderAllowed_;\n  }\n\n\n  /**\n   * Gets all media elements on this page.\n   * @return {!Array<?Element>}\n   * @private\n   */\n  getAllMedia_() {\n    return this.getMediaBySelector_(Selectors.ALL_MEDIA);\n  }\n\n\n  /**\n   * Gets all video elements on this page.\n   * @return {!Array<?Element>}\n   * @private\n   */\n  getAllVideos_() {\n    return this.getMediaBySelector_(Selectors.ALL_VIDEO);\n  }\n\n\n  /**\n   * Gets media on page by given selector. Finds elements through friendly\n   * iframe (if one exists).\n   * @param {string} selector\n   * @return {!Array<?Element>}\n   */\n  getMediaBySelector_(selector) {\n    const iframe = this.element.querySelector('iframe');\n    const fie = iframe &&\n        getFriendlyIframeEmbedOptional(/** @type {!HTMLIFrameElement} */ (iframe));\n    const mediaSet = [];\n\n    iterateCursor(scopedQuerySelectorAll(this.element, selector),\n        el => mediaSet.push(el));\n\n    if (!fie) {\n      return mediaSet;\n    }\n\n    iterateCursor(fie.win.document.querySelectorAll(selector),\n        el => mediaSet.push(el));\n    return mediaSet;\n  }\n\n\n  /**\n   * Applies the specified callback to each media element on the page, after the\n   * media element is loaded.\n   * @param {!function(!./media-pool.MediaPool, !Element)} callbackFn The\n   *     callback to be applied to each media element.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   */\n  whenAllMediaElements_(callbackFn) {\n    const mediaSet = this.getAllMedia_();\n    return this.mediaPoolPromise_.then(mediaPool => {\n      const promises = Array.prototype.map.call(mediaSet, mediaEl => {\n        return callbackFn(mediaPool, mediaEl);\n      });\n\n      return Promise.all(promises);\n    });\n  }\n\n\n  /**\n   * Pauses all media on this page.\n   * @param {boolean=} rewindToBeginning Whether to rewind the currentTime\n   *     of media items to the beginning.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  pauseAllMedia_(rewindToBeginning = false) {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.pause();\n      } else {\n        return mediaPool.pause(\n            /** @type {!HTMLMediaElement} */ (mediaEl), rewindToBeginning);\n      }\n    });\n  }\n\n\n  /**\n   * Plays all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  playAllMedia_() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.play();\n      } else {\n        return mediaPool.play(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Preloads all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  preloadAllMedia_() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        // No-op.\n      } else {\n        return mediaPool.preload(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Mutes all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   */\n  muteAllMedia() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.muted = true;\n        mediaEl.setAttribute('muted', '');\n      } else {\n        return mediaPool.mute(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Unmutes all media on this page.\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   */\n  unmuteAllMedia() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        mediaEl.muted = false;\n        mediaEl.removeAttribute('muted');\n      } else {\n        return mediaPool.unmute(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Registers all media on this page\n   * @return {!Promise} Promise that resolves after the callbacks are called.\n   * @private\n   */\n  registerAllMedia_() {\n    return this.whenAllMediaElements_((mediaPool, mediaEl) => {\n      if (this.isBotUserAgent_) {\n        // No-op.\n      } else {\n        return mediaPool.register(/** @type {!HTMLMediaElement} */ (mediaEl));\n      }\n    });\n  }\n\n\n  /**\n   * Starts playing animations, if the animation manager is available.\n   */\n  maybeStartAnimations() {\n    if (!this.animationManager_) {\n      return;\n    }\n    this.animationManager_.animateIn();\n  }\n\n\n  /**\n   * @return {!Promise}\n   */\n  maybeApplyFirstAnimationFrame() {\n    if (!this.animationManager_) {\n      return Promise.resolve();\n    }\n    return this.animationManager_.applyFirstFrame();\n  }\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  scale_() {\n    const storyEl = dev().assertElement(this.element.parentNode);\n    return PageScalingService.for(storyEl).scale(this.element);\n  }\n\n  /**\n   * @return {number} The distance from the current page to the active page.\n   */\n  getDistance() {\n    return parseInt(this.element.getAttribute('distance'), 10);\n  }\n\n\n  /**\n   * @param {number} distance The distance from the current page to the active\n   *     page.\n   */\n  setDistance(distance) {\n    // TODO(ccordry) refactor this when pages are managed\n    if (this.isAd()) {\n      distance = Math.min(distance, 2);\n    }\n\n    this.element.setAttribute('distance', distance);\n    this.registerAllMedia_();\n    if (distance > 0 && distance <= 2) {\n      this.preloadAllMedia_();\n      this.scale_();\n    }\n  }\n\n\n  /**\n   * @return {boolean} Whether this page is currently active.\n   */\n  isActive() {\n    return this.element.hasAttribute('active');\n  }\n\n  /**\n   * Emits an event indicating that the progress of the current page has changed\n   * to the specified value.\n   * @param {number} progress The progress from 0.0 to 1.0.\n   */\n  emitProgress_(progress) {\n    // Don't emit progress for ads, since the progress bar is hidden.\n    if (this.isAd()) {\n      return;\n    }\n\n    const payload = dict({\n      'pageId': this.element.id,\n      'progress': progress,\n    });\n    const eventInit = {bubbles: true};\n    dispatch(this.win, this.element, EventType.PAGE_PROGRESS, payload,\n        eventInit);\n  }\n\n\n  /**\n   * Returns all of the pages that are one hop from this page.\n   * @return {!Array<string>}\n   */\n  getAdjacentPageIds() {\n    const adjacentPageIds = [];\n\n    const autoAdvanceNext =\n        this.getNextPageId(true /* opt_isAutomaticAdvance */);\n    const manualAdvanceNext =\n        this.getNextPageId(false /* opt_isAutomaticAdvance */);\n    const previous = this.getPreviousPageId();\n\n    if (autoAdvanceNext) {\n      adjacentPageIds.push(autoAdvanceNext);\n    }\n\n    if (manualAdvanceNext && manualAdvanceNext != autoAdvanceNext) {\n      adjacentPageIds.push(manualAdvanceNext);\n    }\n\n    if (previous) {\n      adjacentPageIds.push(previous);\n    }\n\n    return adjacentPageIds;\n  }\n\n\n  /**\n   * Gets the ID of the previous page in the story (before the current page).\n   * @return {?string} Returns the ID of the next page in the story, or null if\n   *     there isn't one.\n   */\n  getPreviousPageId() {\n    if (this.element.hasAttribute('i-amphtml-return-to')) {\n      return this.element.getAttribute('i-amphtml-return-to');\n    }\n\n    const previousElement = this.element.previousElementSibling;\n    if (previousElement && previousElement.tagName.toLowerCase() === TAG) {\n      return previousElement.id;\n    }\n\n    return null;\n  }\n\n\n  /**\n   * Gets the ID of the next page in the story (after the current page).\n   * @param {boolean=} opt_isAutomaticAdvance Whether this navigation was caused\n   *     by an automatic advancement after a timeout.\n   * @return {?string} Returns the ID of the next page in the story, or null if\n   *     there isn't one.\n   */\n  getNextPageId(opt_isAutomaticAdvance) {\n    if (opt_isAutomaticAdvance &&\n        this.element.hasAttribute('auto-advance-to')) {\n      return this.element.getAttribute('auto-advance-to');\n    }\n\n    if (this.element.hasAttribute('i-amphtml-advance-to')) {\n      return this.element.getAttribute('i-amphtml-advance-to');\n    }\n\n    const nextElement = this.element.nextElementSibling;\n    if (nextElement && nextElement.tagName.toLowerCase() === TAG) {\n      return nextElement.id;\n    }\n\n    return null;\n  }\n\n\n  /**\n   * Navigates to the previous page in the story.\n   */\n  previous() {\n    const targetPageId = this.getPreviousPageId();\n\n    if (targetPageId === null) {\n      dispatch(this.win, this.element, EventType.SHOW_NO_PREVIOUS_PAGE_HELP,\n          /* payload */ undefined, {bubbles: true});\n      return;\n    }\n\n    this.switchTo_(targetPageId);\n  }\n\n\n  /**\n   * Navigates to the next page in the story.\n   * @param {boolean=} opt_isAutomaticAdvance Whether this navigation was caused\n   *     by an automatic advancement after a timeout.\n   */\n  next(opt_isAutomaticAdvance) {\n    const pageId = this.getNextPageId(opt_isAutomaticAdvance);\n\n    if (!pageId) {\n      return;\n    }\n\n    this.switchTo_(pageId);\n  }\n\n  /**\n   * Delegated the navigation decision to AMP-STORY via event.\n   * @param {number} direction The direction in which navigation needs to\n   * takes place.\n   */\n  navigateOnTap(direction) {\n    const payload = dict({'direction': direction});\n    const eventInit = {bubbles: true};\n    dispatch(this.win, this.element, EventType.TAP_NAVIGATION, payload,\n        eventInit);\n  }\n\n\n  /**\n   * @param {string} targetPageId\n   * @private\n   */\n  switchTo_(targetPageId) {\n    const payload = dict({'targetPageId': targetPageId});\n    const eventInit = {bubbles: true};\n    dispatch(this.win, this.element, EventType.SWITCH_PAGE, payload,\n        eventInit);\n  }\n\n\n  /**\n   * @private\n   */\n  reportDevModeErrors_() {\n    if (!getMode().development) {\n      return;\n    }\n\n    getLogEntries(this.element).then(logEntries => {\n      dispatch(this.win, this.element,\n          EventType.DEV_LOG_ENTRIES_AVAILABLE,\n          // ? is OK because all consumers are internal.\n          /** @type {?} */ (logEntries), {bubbles: true});\n    });\n  }\n\n\n  /**\n   * Displays a loading spinner whenever the video is buffering.\n   * Has to be called after the mediaPool preload method, that swaps the video\n   * elements with new amp elements.\n   * @private\n   */\n  startListeningToVideoEvents_() {\n    const videos = this.getAllVideos_();\n\n    if (videos.length === 0) {\n      return;\n    }\n\n    this.debounceToggleLoadingSpinner_(true);\n    Array.prototype.forEach.call(videos, videoEl => {\n      this.unlisteners_.push(listen(\n          videoEl, 'playing', () => this.debounceToggleLoadingSpinner_(false)));\n      this.unlisteners_.push(listen(\n          videoEl, 'waiting', () => this.debounceToggleLoadingSpinner_(true)));\n    });\n  }\n\n\n  /**\n   * @private\n   */\n  stopListeningToVideoEvents_() {\n    this.debounceToggleLoadingSpinner_(false);\n    this.unlisteners_.forEach(unlisten => unlisten());\n    this.unlisteners_ = [];\n  }\n\n\n  /**\n   * @private\n   */\n  buildAndAppendLoadingSpinner_() {\n    this.loadingSpinner_ = new LoadingSpinner(this.win.document);\n    this.element.appendChild(this.loadingSpinner_.build());\n  }\n\n\n  /**\n   * Has to be called through the `debounceToggleLoadingSpinner_` method, to\n   * avoid the spinner flashing on the screen when the video loops, or during\n   * navigation transitions.\n   * Builds the loading spinner and attaches it to the DOM on first call.\n   * @param {boolean} isActive\n   * @private\n   */\n  toggleLoadingSpinner_(isActive) {\n    this.getVsync().mutate(() => {\n      if (!this.loadingSpinner_) {\n        this.buildAndAppendLoadingSpinner_();\n      }\n\n      this.loadingSpinner_.toggle(isActive);\n    });\n  }\n\n\n  /**\n   * check to see if this page is a wrapper for an ad\n   * @return {boolean}\n   */\n  isAd() {\n    return this.element.hasAttribute(ADVERTISEMENT_ATTR_NAME);\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../../src/services';\nimport {childElementByTag} from '../../../src/dom';\nimport {getAmpdoc} from '../../../src/service';\nimport {once} from '../../../src/utils/function';\nimport {registerServiceBuilder} from '../../../src/service';\nimport {user} from '../../../src/log';\n\n/** @private @const {string} */\nexport const BOOKEND_CONFIG_ATTRIBUTE_NAME = 'src';\n\n/**\n * Service to send XHRs.\n */\nexport class AmpStoryRequestService {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyElement\n   */\n  constructor(win, storyElement) {\n    /** @private @const {!Element} */\n    this.storyElement_ = storyElement;\n\n    /** @private @const {!../../../src/service/xhr-impl.Xhr} */\n    this.xhr_ = Services.xhrFor(win);\n\n    /** @const @type {function():(!Promise<!JsonObject>|!Promise<null>)} */\n    this.loadBookendConfig = once(() => this.loadBookendConfigImpl_());\n  }\n\n  /**\n   * Retrieves the publisher bookend configuration, including the share\n   * providers.\n   * Has to be called through `loadBookendConfig`.\n   * @return {(!Promise<!JsonObject>|!Promise<null>)}\n   * @private\n   */\n  loadBookendConfigImpl_() {\n    return this.loadJsonFromAttribute_(BOOKEND_CONFIG_ATTRIBUTE_NAME);\n  }\n\n  /**\n   * @param {string} attributeName\n   * @return {(!Promise<!JsonObject>|!Promise<null>)}\n   * @private\n   */\n  loadJsonFromAttribute_(attributeName) {\n    const bookendEl = childElementByTag(this.storyElement_,\n        'amp-story-bookend');\n\n    if (!bookendEl || !bookendEl.hasAttribute(attributeName)) {\n      return Promise.resolve(null);\n    }\n\n    const rawUrl = bookendEl.getAttribute(attributeName);\n    const opts = {};\n    opts.requireAmpResponseSourceOrigin = false;\n\n    return Services.urlReplacementsForDoc(getAmpdoc(this.storyElement_))\n        .expandUrlAsync(user().assertString(rawUrl))\n        .then(url => this.xhr_.fetchJson(url, opts))\n        .then(response => {\n          user().assert(response.ok, 'Invalid HTTP response');\n          return response.json();\n        });\n  }\n}\n\n/**\n * Util function to retrieve the request service. Ensures we can retrieve the\n * service synchronously from the amp-story codebase without running into race\n * conditions.\n * @param  {!Window} win\n * @param  {!Element} storyEl\n * @return {!AmpStoryRequestService}\n */\nexport const getRequestService = (win, storyEl) => {\n  let service = Services.storyRequestService(win);\n\n  if (!service) {\n    service = new AmpStoryRequestService(win, storyEl);\n    registerServiceBuilder(win, 'story-request', () => service);\n  }\n\n  return service;\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Action,\n  StateProperty,\n  getStoreService,\n} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-share-menu-1.0.css';\nimport {Services} from '../../../src/services';\nimport {ShareWidget} from './amp-story-share';\nimport {closest} from '../../../src/dom';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {getAmpdoc} from '../../../src/service';\nimport {renderAsElement} from './simple-template';\nimport {setStyle} from '../../../src/style';\n\n\n/** @const {string} Class to toggle the share menu. */\nexport const VISIBLE_CLASS = 'i-amphtml-story-share-menu-visible';\n\n/** @const {string} Class for the share widget component container. */\nconst SHARE_WIDGET_CONTAINER_CLASS = 'i-amphtml-story-share-menu-container';\n\n/**\n * Quick share template, used as a fallback if native sharing is not supported.\n * @private @const {!./simple-template.ElementDef}\n */\nconst TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-share-menu i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': SHARE_WIDGET_CONTAINER_CLASS}),\n      children: [],\n    },\n  ],\n};\n\n/**\n * System amp-social-share button template.\n * @private @const {!./simple-template.ElementDef}\n */\nconst AMP_SOCIAL_SYSTEM_SHARE_TEMPLATE = {\n  tag: 'amp-social-share',\n  attrs: /** @type {!JsonObject} */ (dict({'type': 'system'})),\n};\n\n\n/**\n * Share menu UI.\n */\nexport class ShareMenu {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyEl Element where to append the component\n   */\n  constructor(win, storyEl) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.element_ = null;\n\n    /** @private {?Element} */\n    this.innerContainerEl_ = null;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {boolean} */\n    this.isSystemShareSupported_ = false;\n\n    /** @private @const {!ShareWidget} */\n    this.shareWidget_ = ShareWidget.create(this.win_, storyEl);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n\n    /** @private @const {!Element} */\n    this.parentEl_ = storyEl;\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n  }\n\n  /**\n   * Builds and appends the component in the story. Could build either the\n   * amp-social-share button to display the native system sharing, or a fallback\n   * UI.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    this.isSystemShareSupported_ =\n        this.shareWidget_.isSystemShareSupported(getAmpdoc(this.parentEl_));\n\n    this.isSystemShareSupported_ ?\n      this.buildForSystemSharing_() :\n      this.buildForFallbackSharing_();\n  }\n\n  /**\n   * Whether the element has been built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * Builds a hidden amp-social-share button that triggers the native system\n   * sharing UI.\n   * @private\n   */\n  buildForSystemSharing_() {\n    this.shareWidget_.loadRequiredExtensions(getAmpdoc(this.parentEl_));\n    this.element_ =\n        renderAsElement(this.win_.document, AMP_SOCIAL_SYSTEM_SHARE_TEMPLATE);\n\n    this.initializeListeners_();\n\n    this.vsync_.mutate(() => {\n      setStyle(this.element_, 'display', 'none');\n      this.parentEl_.appendChild(this.element_);\n    });\n  }\n\n  /**\n   * Builds and appends the fallback UI.\n   * @private\n   */\n  buildForFallbackSharing_() {\n    const root = this.win_.document.createElement('div');\n\n    this.element_ = renderAsElement(this.win_.document, TEMPLATE);\n    createShadowRootWithStyle(root, this.element_, CSS);\n\n    this.initializeListeners_();\n\n    this.vsync_.run({\n      measure: () => {\n        this.innerContainerEl_ =\n            this.element_\n                ./*OK*/querySelector(`.${SHARE_WIDGET_CONTAINER_CLASS}`);\n      },\n      mutate: () => {\n        this.parentEl_.appendChild(root);\n        // Preloads and renders the share widget content.\n        const shareWidget = this.shareWidget_.build(getAmpdoc(this.parentEl_));\n        this.innerContainerEl_.appendChild(shareWidget);\n      },\n    });\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.SHARE_MENU_STATE, isOpen => {\n      this.onShareMenuStateUpdate_(isOpen);\n    });\n\n    // Don't listen to click events if the system share is supported, since the\n    // native layer handles all the UI interactions.\n    if (!this.isSystemShareSupported_) {\n      this.element_.addEventListener(\n          'click', event => this.onShareMenuClick_(event));\n    }\n  }\n\n  /**\n   * Reacts to menu state updates and decides whether to show either the native\n   * system sharing, or the fallback UI.\n   * @param {boolean} isOpen\n   * @private\n   */\n  onShareMenuStateUpdate_(isOpen) {\n    if (this.isSystemShareSupported_ && isOpen) {\n      // Dispatches a click event on the amp-social-share button to trigger the\n      // native system sharing UI. This has to be done upon user interaction.\n      this.element_.dispatchEvent(new Event('click'));\n\n      // There is no way to know when the user dismisses the native system share\n      // menu, so we pretend it is closed on the story end, and let the native\n      // end handle the UI interactions.\n      this.close_();\n    }\n\n    if (!this.isSystemShareSupported_) {\n      this.vsync_.mutate(() => {\n        this.element_.classList.toggle(VISIBLE_CLASS, isOpen);\n      });\n    }\n  }\n\n  /**\n   * Handles click events and maybe closes the menu for the fallback UI.\n   * @param  {!Event} event\n   */\n  onShareMenuClick_(event) {\n    const el = dev().assertElement(event.target);\n    // Closes the menu if click happened outside of the menu main container.\n    if (!closest(el, el => el === this.innerContainerEl_, this.element_)) {\n      this.close_();\n    }\n  }\n\n  /**\n   * Closes the share menu.\n   * @private\n   */\n  close_() {\n    this.storeService_.dispatch(Action.TOGGLE_SHARE_MENU, false);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {Toast} from './toast';\nimport {\n  copyTextToClipboard,\n  isCopyingToClipboardSupported,\n} from '../../../src/clipboard';\nimport {dev, user} from '../../../src/log';\nimport {dict, map} from './../../../src/utils/object';\nimport {getRequestService} from './amp-story-request-service';\nimport {isObject} from '../../../src/types';\nimport {listen} from '../../../src/event-helper';\nimport {px, setImportantStyles} from '../../../src/style';\nimport {renderAsElement, renderSimpleTemplate} from './simple-template';\nimport {throttle} from '../../../src/utils/rate-limit';\n\n\n/**\n * Maps share provider type to visible name.\n * If the name only needs to be capitalized (e.g. `facebook` to `Facebook`) it\n * does not need to be included here.\n * @const {!Object<string, !LocalizedStringId>}\n */\nconst SHARE_PROVIDER_LOCALIZED_STRING_ID = map({\n  'system': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM,\n  'email': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_EMAIL,\n  'facebook': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK,\n  'linkedin': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN,\n  'pinterest': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST,\n  'gplus': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS,\n  'tumblr': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR,\n  'twitter': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_TWITTER,\n  'whatsapp': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP,\n  'sms': LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_SMS,\n});\n\n\n/**\n * Default left/right padding for share buttons.\n * @private @const {number}\n */\nconst DEFAULT_BUTTON_PADDING = 16;\n\n/**\n * Minimum left/right padding for share buttons.\n * @private @const {number}\n */\nconst MIN_BUTTON_PADDING = 10;\n\n/**\n * Key for share providers in bookend config.\n * @private @const {string}\n */\nexport const SHARE_PROVIDERS_KEY = 'shareProviders';\n\n/**\n * Deprecated key for share providers in bookend config.\n * @private @const {string}\n */\nexport const DEPRECATED_SHARE_PROVIDERS_KEY = 'share-providers';\n\n/** @private @const {!./simple-template.ElementDef} */\nconst TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-share-widget'}),\n  children: [{\n    tag: 'ul',\n    attrs: dict({'class': 'i-amphtml-story-share-list'}),\n    children: [\n      {\n        tag: 'li',\n        attrs: dict({'class': 'i-amphtml-story-share-system'}),\n      },\n    ],\n  }],\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst SHARE_ITEM_TEMPLATE = {\n  tag: 'li',\n  attrs: dict({'class': 'i-amphtml-story-share-item'}),\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst LINK_SHARE_ITEM_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class':\n        'i-amphtml-story-share-icon i-amphtml-story-share-icon-link',\n  }),\n  localizedStringId: LocalizedStringId.AMP_STORY_SHARING_PROVIDER_NAME_LINK,\n};\n\n\n/** @private @const {string} */\nconst SCROLLABLE_CLASSNAME = 'i-amphtml-story-share-widget-scrollable';\n\n\n/**\n * @param {!JsonObject=} opt_params\n * @return {!JsonObject}\n */\nfunction buildProviderParams(opt_params) {\n  const attrs = dict();\n\n  if (opt_params) {\n    Object.keys(opt_params).forEach(field => {\n      if (field === 'provider') { return; }\n      attrs[`data-param-${field}`] = opt_params[field];\n    });\n  }\n\n  return attrs;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} shareType\n * @param {!JsonObject=} opt_params\n * @return {!Node}\n */\nfunction buildProvider(doc, shareType, opt_params) {\n  const shareProviderLocalizedStringId = dev().assert(\n      SHARE_PROVIDER_LOCALIZED_STRING_ID[shareType],\n      `No localized string to display name for share type ${shareType}.`);\n\n  return renderSimpleTemplate(doc,\n      /** @type {!Array<!./simple-template.ElementDef>} */ ([\n        {\n          tag: 'amp-social-share',\n          attrs: /** @type {!JsonObject} */ (Object.assign(\n              dict({\n                'width': 48,\n                'height': 66,\n                'class': 'i-amphtml-story-share-icon',\n                'type': shareType,\n              }),\n              buildProviderParams(opt_params))),\n          localizedStringId: shareProviderLocalizedStringId,\n        },\n      ]));\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} url\n * @return {!Element}\n */\nfunction buildCopySuccessfulToast(doc, url) {\n  return renderAsElement(doc, /** @type {!./simple-template.ElementDef} */ ({\n    tag: 'div',\n    attrs: dict({'class': 'i-amphtml-story-copy-successful'}),\n    children: [\n      {\n        tag: 'div',\n        localizedStringId:\n            LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT,\n      },\n      {\n        tag: 'div',\n        attrs: dict({'class': 'i-amphtml-story-copy-url'}),\n        unlocalizedString: url,\n      },\n    ],\n  }));\n}\n\n\n/**\n * Social share widget for story bookend.\n */\nexport class ShareWidget {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyEl\n   */\n  constructor(win, storyEl) {\n    /** @private {?../../../src/service/ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = null;\n\n    /** @protected @const {!Window} */\n    this.win = win;\n\n    /** @protected {?Element} */\n    this.root = null;\n\n    /** @private {?Promise<?./localization.LocalizationService>} */\n    this.localizationServicePromise_ = null;\n\n    /** @private @const {!./amp-story-request-service.AmpStoryRequestService} */\n    this.requestService_ = getRequestService(this.win, storyEl);\n  }\n\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyEl\n   * @return {!ShareWidget}\n   */\n  static create(win, storyEl) {\n    return new ShareWidget(win, storyEl);\n  }\n\n  /**\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   * @return {!Element}\n   */\n  build(ampdoc) {\n    dev().assert(!this.root, 'Already built.');\n\n    this.ampdoc_ = ampdoc;\n    this.localizationServicePromise_ =\n        Services.localizationServiceForOrNull(this.win);\n\n    this.root = renderAsElement(this.win.document, TEMPLATE);\n\n    this.loadProviders();\n    this.maybeAddLinkShareButton_();\n    this.maybeAddSystemShareButton_();\n\n    return this.root;\n  }\n\n  /**\n   * @return {!../../../src/service/ampdoc-impl.AmpDoc}\n   * @private\n   */\n  getAmpDoc_() {\n    return /** @type {!../../../src/service/ampdoc-impl.AmpDoc} */ (\n      dev().assert(this.ampdoc_));\n  }\n\n  /** @private */\n  maybeAddLinkShareButton_() {\n    if (!isCopyingToClipboardSupported(this.win.document)) {\n      return;\n    }\n\n    const linkShareButton =\n        renderAsElement(this.win.document, LINK_SHARE_ITEM_TEMPLATE);\n\n    this.add_(linkShareButton);\n\n    // TODO(alanorozco): Listen for proper tap event (i.e. fastclick)\n    listen(linkShareButton, 'click', e => {\n      e.preventDefault();\n      this.copyUrlToClipboard_();\n    });\n  }\n\n  /** @private */\n  copyUrlToClipboard_() {\n    const url = Services.documentInfoForDoc(this.getAmpDoc_()).canonicalUrl;\n\n    if (!copyTextToClipboard(this.win, url)) {\n      this.localizationServicePromise_.then(localizationService => {\n        dev().assert(localizationService,\n            'Could not retrieve LocalizationService.');\n        const failureString = localizationService.getLocalizedString(\n            LocalizedStringId.AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT);\n        Toast.show(this.win, failureString);\n      });\n      return;\n    }\n\n    Toast.show(this.win, buildCopySuccessfulToast(this.win.document, url));\n  }\n\n  /** @private */\n  maybeAddSystemShareButton_() {\n    if (!this.isSystemShareSupported()) {\n      // `amp-social-share` will hide `system` buttons when not supported, but\n      // we also need to avoid adding it for rendering reasons.\n      return;\n    }\n\n    const container = dev().assertElement(this.root).querySelector(\n        '.i-amphtml-story-share-system');\n\n    this.loadRequiredExtensions();\n\n    container.appendChild(buildProvider(this.win.document, 'system'));\n  }\n\n  /**\n   * NOTE(alanorozco): This is a duplicate of the logic in the\n   * `amp-social-share` component.\n   * @param  {!../../../src/service/ampdoc-impl.AmpDoc=}  ampdoc\n   * @return {boolean} Whether the browser supports native system sharing.\n   */\n  isSystemShareSupported(ampdoc = this.getAmpDoc_()) {\n    const viewer = Services.viewerForDoc(ampdoc);\n\n    const platform = Services.platformFor(this.win);\n\n    // Chrome exports navigator.share in WebView but does not implement it.\n    // See https://bugs.chromium.org/p/chromium/issues/detail?id=765923\n    const isChromeWebview = viewer.isWebviewEmbedded() && platform.isChrome();\n\n    return ('share' in navigator) && !isChromeWebview;\n  }\n\n  /**\n   * Loads and applies the share providers configured by the publisher.\n   * @protected\n   */\n  loadProviders() {\n    this.loadRequiredExtensions();\n\n    this.requestService_.loadBookendConfig().then(config => {\n      const providers = config && (config[SHARE_PROVIDERS_KEY] ||\n        config[DEPRECATED_SHARE_PROVIDERS_KEY]);\n      if (!providers) {\n        return;\n      }\n      this.setProviders_(providers);\n    });\n  }\n\n  /**\n   * @param {(!Object<string, (!JsonObject|boolean)> | !Array<!Object|string>)} providers\n   * @private\n   * TODO(alanorozco): Set story metadata in share config.\n   */\n  setProviders_(providers) {\n    providers.forEach(provider => {\n      if (isObject(provider)) {\n        this.add_(buildProvider(this.win.document,\n            provider['provider'], provider));\n        return;\n      }\n\n      if (provider == 'system') {\n        user().warn('AMP-STORY',\n            '`system` is not a valid share provider type. Native sharing is ' +\n            'enabled by default and cannot be turned off.',\n            provider);\n        return;\n      }\n      this.add_(buildProvider(this.win.document, provider));\n    });\n  }\n\n  /**\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc=} ampdoc\n   */\n  loadRequiredExtensions(ampdoc = this.getAmpDoc_()) {\n    Services.extensionsFor(this.win)\n        .installExtensionForDoc(ampdoc, 'amp-social-share');\n  }\n\n  /**\n   * @param {!Node} node\n   * @private\n   */\n  add_(node) {\n    const list = dev().assert(this.root).firstElementChild;\n    const item = renderAsElement(this.win.document, SHARE_ITEM_TEMPLATE);\n\n    item.appendChild(node);\n\n    // `lastElementChild` is the system share button container, which should\n    // always be last in list\n    list.insertBefore(item, list.lastElementChild);\n  }\n}\n\n\n/**\n * Social share widget for story bookend with a scrollable layout.\n * This class is coupled to the DOM structure for ShareWidget, but that's ok.\n */\nexport class ScrollableShareWidget extends ShareWidget {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyEl\n   */\n  constructor(win, storyEl) {\n    super(win, storyEl);\n\n    /** @private @const {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /**\n     * Container width is being tracked to prevent unnecessary layout\n     * calculations.\n     * @private {?number}\n     */\n    this.containerWidth_ = null;\n  }\n\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyEl\n   * @return {!ScrollableShareWidget}\n   */\n  static create(win, storyEl) {\n    return new ScrollableShareWidget(win, storyEl);\n  }\n\n  /**\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   * @return {!Element}\n   */\n  build(ampdoc) {\n    super.build(ampdoc);\n\n    this.root.classList.add(SCROLLABLE_CLASSNAME);\n\n    Services.viewportForDoc(ampdoc).onResize(\n        // we don't require a lot of smoothness here, so we throttle\n        throttle(this.win, () => this.applyButtonPadding_(), 100));\n\n    return this.root;\n  }\n\n  /**\n   * Calculates padding between buttons so that the result is that there's\n   * always one item visually \"cut off\" for scroll affordance.\n   * @private\n   */\n  applyButtonPadding_() {\n    const items = this.getVisibleItems_();\n\n    if (!items.length) {\n      return;\n    }\n\n    this.vsync_.run({\n      measure: state => {\n        const containerWidth = this.root./*OK*/clientWidth;\n\n        if (containerWidth == this.containerWidth_) {\n          // Don't recalculate if width has not changed (i.e. onscreen keyboard)\n          state.noop = true;\n          return;\n        }\n\n        const icon = dev().assert(items[0].firstElementChild);\n\n        const leftMargin = icon./*OK*/offsetLeft - this.root./*OK*/offsetLeft;\n        const iconWidth = icon./*OK*/offsetWidth;\n\n        // Total width that the buttons will occupy with minimum padding.\n        const totalItemWidth =\n            (iconWidth * items.length) + ((2 * MIN_BUTTON_PADDING) *\n                (items.length - 1));\n\n        // If buttons don't fit within the available area, calculate padding so\n        // that there will be an element cut-off.\n        if (totalItemWidth > (containerWidth - (leftMargin * 2))) {\n          const availableWidth = containerWidth - leftMargin - (iconWidth / 2);\n          const amountVisible =\n              Math.floor(\n                  availableWidth / (iconWidth + (MIN_BUTTON_PADDING * 2)));\n\n          state.padding = 0.5 * ((availableWidth / amountVisible) - iconWidth);\n        } else {\n          // Otherwise, calculate padding in from MIN_PADDING to DEFAULT_PADDING\n          // so that all elements fit and take as much area as possible.\n          const totalPadding =\n              ((containerWidth - (leftMargin * 2)) -\n              (iconWidth * items.length)) / (items.length - 1);\n\n          state.padding = Math.min(DEFAULT_BUTTON_PADDING, 0.5 * totalPadding);\n        }\n\n        this.containerWidth_ = containerWidth;\n      },\n      mutate: state => {\n        if (state.noop) {\n          return;\n        }\n        items.forEach((el, i) => {\n          if (i != 0) {\n            setImportantStyles(el, {'padding-left': px(state.padding)});\n          }\n          if (i != items.length - 1) {\n            setImportantStyles(el, {'padding-right': px(state.padding)});\n          }\n        });\n      },\n    }, {});\n  }\n\n  /**\n   * @return {!Array<!Element>}\n   * @private\n   */\n  getVisibleItems_() {\n    return Array.prototype.filter.call(\n        dev().assertElement(this.root).querySelectorAll('li'),\n        el => !!el.firstElementChild);\n  }\n\n  /**\n   * Loads and applies the share providers configured by the publisher.\n   * @protected\n   */\n  loadProviders() {\n    super.loadProviders();\n    this.applyButtonPadding_();\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {EmbedMode, parseEmbedMode} from './embed-mode';\nimport {Observable} from '../../../src/observable';\nimport {Services} from '../../../src/services';\nimport {dev} from '../../../src/log';\nimport {hasOwn} from '../../../src/utils/object';\nimport {registerServiceBuilder} from '../../../src/service';\n\n\n/** @type {string} */\nconst TAG = 'amp-story';\n\n\n/**\n * Util function to retrieve the store service. Ensures we can retrieve the\n * service synchronously from the amp-story codebase without running into race\n * conditions.\n * @param  {!Window} win\n * @return {!AmpStoryStoreService}\n */\nexport const getStoreService = win => {\n  let service = Services.storyStoreService(win);\n\n  if (!service) {\n    service = new AmpStoryStoreService(win);\n    registerServiceBuilder(win, 'story-store', () => service);\n  }\n\n  return service;\n};\n\n\n/**\n * Different UI experiences to display the story.\n * @const @enum {number}\n */\nexport const UIType = {\n  MOBILE: 0,\n  DESKTOP: 1,\n  SCROLL: 2,\n};\n\n\n/**\n * @typedef {{\n *    caninsertautomaticad: boolean,\n *    canshowbookend: boolean,\n *    canshownavigationoverlayhint: boolean,\n *    canshowpreviouspagehelp: boolean,\n *    canshowsharinguis: boolean,\n *    canshowsystemlayerbuttons: boolean,\n *    accessstate: boolean,\n *    adstate: boolean,\n *    bookendstate: boolean,\n *    desktopstate: boolean,\n *    infodialogstate: boolean,\n *    hasaudiostate: boolean,\n *    landscapestate: boolean,\n *    mutedstate: boolean,\n *    pausedstate: boolean,\n *    rtlstate: boolean,\n *    sharemenustate: boolean,\n *    supportedbrowserstate: boolean,\n *    uistate: !UIType,\n *    consentid: ?string,\n *    currentpageid: string,\n * }}\n */\nexport let State;\n\n\n/** @private @const @enum {string} */\nexport const StateProperty = {\n  // Embed options.\n  CAN_INSERT_AUTOMATIC_AD: 'caninsertautomaticad',\n  CAN_SHOW_BOOKEND: 'canshowbookend',\n  CAN_SHOW_NAVIGATION_OVERLAY_HINT: 'canshownavigationoverlayhint',\n  CAN_SHOW_PREVIOUS_PAGE_HELP: 'canshowpreviouspagehelp',\n  CAN_SHOW_SHARING_UIS: 'canshowsharinguis',\n  CAN_SHOW_SYSTEM_LAYER_BUTTONS: 'canshowsystemlayerbuttons',\n\n  // App States.\n  ACCESS_STATE: 'accessstate', // amp-access paywall.\n  AD_STATE: 'adstate',\n  BOOKEND_STATE: 'bookendstate',\n  DESKTOP_STATE: 'desktopstate',\n  HAS_AUDIO_STATE: 'hasaudiostate',\n  INFO_DIALOG_STATE: 'infodialogstate',\n  LANDSCAPE_STATE: 'landscapestate',\n  MUTED_STATE: 'mutedstate',\n  PAUSED_STATE: 'pausedstate',\n  RTL_STATE: 'rtlstate',\n  SHARE_MENU_STATE: 'sharemenustate',\n  SUPPORTED_BROWSER_STATE: 'supportedbrowserstate',\n  UI_STATE: 'uistate',\n\n  // App data.\n  CONSENT_ID: 'consentid',\n  CURRENT_PAGE_ID: 'currentpageid',\n  CURRENT_PAGE_INDEX: 'currentpageindex',\n};\n\n\n/** @private @const @enum {string} */\nexport const Action = {\n  CHANGE_PAGE: 'setcurrentpageid',\n  SET_CONSENT_ID: 'setconsentid',\n  TOGGLE_ACCESS: 'toggleaccess',\n  TOGGLE_AD: 'togglead',\n  TOGGLE_BOOKEND: 'togglebookend',\n  TOGGLE_INFO_DIALOG: 'toggleinfodialog',\n  TOGGLE_HAS_AUDIO: 'togglehasaudio',\n  TOGGLE_LANDSCAPE: 'togglelandscape',\n  TOGGLE_MUTED: 'togglemuted',\n  TOGGLE_PAUSED: 'togglepaused',\n  TOGGLE_RTL: 'togglertl',\n  TOGGLE_SHARE_MENU: 'togglesharemenu',\n  TOGGLE_SUPPORTED_BROWSER: 'togglesupportedbrowser',\n  TOGGLE_UI: 'toggleui',\n};\n\n\n/**\n * Returns the new sate.\n * @param  {!State} state Immutable state\n * @param  {!Action} action\n * @param  {*} data\n * @return {!State} new state\n */\nconst actions = (state, action, data) => {\n  switch (action) {\n    // Triggers the amp-acess paywall.\n    case Action.TOGGLE_ACCESS:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            [StateProperty.ACCESS_STATE]: !!data,\n            [StateProperty.PAUSED_STATE]: !!data,\n          }));\n    // Triggers the ad UI.\n    case Action.TOGGLE_AD:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.AD_STATE]: !!data}));\n    // Shows or hides the bookend.\n    case Action.TOGGLE_BOOKEND:\n      if (!state[StateProperty.CAN_SHOW_BOOKEND]) {\n        return state;\n      }\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.BOOKEND_STATE]: !!data}));\n    // Shows or hides the info dialog.\n    case Action.TOGGLE_INFO_DIALOG:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            [StateProperty.INFO_DIALOG_STATE]: !!data,\n            [StateProperty.PAUSED_STATE]: !!data,\n          }));\n    // Shows or hides the audio controls.\n    case Action.TOGGLE_HAS_AUDIO:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.HAS_AUDIO_STATE]: !!data}));\n    case Action.TOGGLE_LANDSCAPE:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.LANDSCAPE_STATE]: !!data}));\n    // Mutes or unmutes the story media.\n    case Action.TOGGLE_MUTED:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.MUTED_STATE]: !!data}));\n    case Action.TOGGLE_PAUSED:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.PAUSED_STATE]: !!data}));\n    case Action.TOGGLE_RTL:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.RTL_STATE]: !!data}));\n    case Action.TOGGLE_SUPPORTED_BROWSER:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.SUPPORTED_BROWSER_STATE]: !!data}));\n    case Action.TOGGLE_SHARE_MENU:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            [StateProperty.PAUSED_STATE]: !!data,\n            [StateProperty.SHARE_MENU_STATE]: !!data,\n          }));\n    case Action.TOGGLE_UI:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            // Keep DESKTOP_STATE for compatiblity with v0.1.\n            [StateProperty.DESKTOP_STATE]: data === UIType.DESKTOP,\n            [StateProperty.UI_STATE]: data,\n          }));\n    case Action.SET_CONSENT_ID:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {[StateProperty.CONSENT_ID]: data}));\n    case Action.CHANGE_PAGE:\n      return /** @type {!State} */ (Object.assign(\n          {}, state, {\n            [StateProperty.CURRENT_PAGE_ID]: data.id,\n            [StateProperty.CURRENT_PAGE_INDEX]: data.index,\n          }));\n    default:\n      dev().error(TAG, `Unknown action ${action}.`);\n      return state;\n  }\n};\n\n\n/**\n * Store service.\n */\nexport class AmpStoryStoreService {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {!Object<string, !Observable>} */\n    this.listeners_ = {};\n\n    /** @private {!State} */\n    this.state_ = /** @type {!State} */ (Object.assign(\n        {}, this.getDefaultState_(), this.getEmbedOverrides_()));\n  }\n\n  /**\n   * Retrieves a state property.\n   * @param  {string} key Property to retrieve from the state.\n   * @return {*}\n   */\n  get(key) {\n    if (!hasOwn(this.state_, key)) {\n      dev().error(TAG, `Unknown state ${key}.`);\n      return;\n    }\n    return this.state_[key];\n  }\n\n  /**\n   * Subscribes to a state property mutations.\n   * @param  {string} key\n   * @param  {!Function} listener\n   * @param  {boolean=} callToInitialize Whether the listener should be\n   *                                     triggered with current value.\n   */\n  subscribe(key, listener, callToInitialize = false) {\n    if (!hasOwn(this.state_, key)) {\n      dev().error(TAG, `Can't subscribe to unknown state ${key}.`);\n      return;\n    }\n    if (!this.listeners_[key]) {\n      this.listeners_[key] = new Observable();\n    }\n    this.listeners_[key].add(listener);\n\n    if (callToInitialize) {\n      listener(this.get(key));\n    }\n  }\n\n  /**\n   * Dispatches an action and triggers the listeners for the updated state\n   * properties.\n   * @param  {!Action} action\n   * @param  {*} data\n   */\n  dispatch(action, data) {\n    const oldState = Object.assign({}, this.state_);\n    this.state_ = actions(this.state_, action, data);\n\n    Object.keys(this.listeners_).forEach(key => {\n      if (oldState[key] !== this.state_[key]) {\n        this.listeners_[key].fire(this.state_[key]);\n      }\n    });\n  }\n\n  /**\n   * Retrieves the default state, that could be overriden by an embed mode.\n   * @return {!State}\n   * @private\n   */\n  getDefaultState_() {\n    // Compiler won't resolve the object keys and trigger an error for missing\n    // properties, so we have to force the type.\n    return /** @type {!State} */ ({\n      [StateProperty.CAN_INSERT_AUTOMATIC_AD]: true,\n      [StateProperty.CAN_SHOW_BOOKEND]: true,\n      [StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT]: true,\n      [StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP]: true,\n      [StateProperty.CAN_SHOW_SHARING_UIS]: true,\n      [StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS]: true,\n      [StateProperty.ACCESS_STATE]: false,\n      [StateProperty.AD_STATE]: false,\n      [StateProperty.BOOKEND_STATE]: false,\n      [StateProperty.DESKTOP_STATE]: false,\n      [StateProperty.INFO_DIALOG_STATE]: false,\n      [StateProperty.HAS_AUDIO_STATE]: false,\n      [StateProperty.LANDSCAPE_STATE]: false,\n      [StateProperty.MUTED_STATE]: true,\n      [StateProperty.PAUSED_STATE]: false,\n      [StateProperty.RTL_STATE]: false,\n      [StateProperty.SHARE_MENU_STATE]: false,\n      [StateProperty.SUPPORTED_BROWSER_STATE]: true,\n      [StateProperty.UI_STATE]: UIType.MOBILE,\n      [StateProperty.CONSENT_ID]: null,\n      [StateProperty.CURRENT_PAGE_ID]: '',\n      [StateProperty.CURRENT_PAGE_INDEX]: 0,\n    });\n  }\n\n  // @TODO(gmajoulet): These should get their own file if they start growing.\n  /**\n   * Retrieves the embed mode config, that will override the default state.\n   * @return {!Object<StateProperty, *>} Partial state\n   * @private\n   */\n  getEmbedOverrides_() {\n    const embedMode = parseEmbedMode(this.win_.location.hash);\n    switch (embedMode) {\n      case EmbedMode.NAME_TBD:\n        return {\n          [StateProperty.CAN_INSERT_AUTOMATIC_AD]: false,\n          [StateProperty.CAN_SHOW_BOOKEND]: false,\n          [StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT]: false,\n          [StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP]: true,\n          [StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS]: false,\n          [StateProperty.MUTED_STATE]: false,\n        };\n      case EmbedMode.NO_SHARING:\n        return {\n          [StateProperty.CAN_SHOW_SHARING_UIS]: false,\n        };\n      default:\n        return {};\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  Action,\n  StateProperty,\n  UIType,\n  getStoreService,\n} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-system-layer-1.0.css';\nimport {DevelopmentModeLog, DevelopmentModeLogButtonSet} from './development-ui';\nimport {LocalizedStringId} from './localization';\nimport {ProgressBar} from './progress-bar';\nimport {Services} from '../../../src/services';\nimport {ShareWidget} from './amp-story-share';\nimport {createShadowRootWithStyle} from './utils';\nimport {dev} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {getAmpdoc} from '../../../src/service';\nimport {getMode} from '../../../src/mode';\nimport {matches} from '../../../src/dom';\nimport {renderAsElement, renderSimpleTemplate} from './simple-template';\n\n\n/** @private @const {string} */\nconst AD_SHOWING_ATTRIBUTE = 'ad-showing';\n\n/** @private @const {string} */\nconst AUDIO_MUTED_ATTRIBUTE = 'muted';\n\n/** @private @const {string} */\nconst MUTE_CLASS = 'i-amphtml-story-mute-audio-control';\n\n/** @private @const {string} */\nconst UNMUTE_CLASS = 'i-amphtml-story-unmute-audio-control';\n\n/** @private @const {string} */\nconst SHARE_CLASS = 'i-amphtml-story-share-control';\n\n/** @private @const {string} */\nconst INFO_CLASS = 'i-amphtml-story-info-control';\n\n/** @private @const {!./simple-template.ElementDef} */\nconst TEMPLATE = {\n  tag: 'aside',\n  attrs: dict(\n      {'class': 'i-amphtml-story-system-layer i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-system-layer-buttons'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': INFO_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': UNMUTE_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': MUTE_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n        {\n          tag: 'div',\n          attrs: dict({\n            'role': 'button',\n            'class': SHARE_CLASS + ' i-amphtml-story-button',\n          }),\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * Container for \"pill-style\" share widget, rendered on desktop.\n * @private @const {!./simple-template.ElementDef}\n */\nconst SHARE_WIDGET_PILL_CONTAINER = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-share-pill-container'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-share-pill'}),\n      children: [\n        {\n          tag: 'span',\n          attrs: dict({'class': 'i-amphtml-story-share-pill-label'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL,\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * System Layer (i.e. UI Chrome) for <amp-story>.\n * Chrome contains:\n *   - mute/unmute button\n *   - story progress bar\n *   - bookend close butotn\n */\nexport class SystemLayer {\n  /**\n   * @param {!Window} win\n   * @param {!Element} parentEl\n   */\n  constructor(win, parentEl) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!Element} */\n    this.parentEl_ = parentEl;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /**\n     * Root element containing a shadow DOM root.\n     * @private {?Element}\n     */\n    this.root_ = null;\n\n    /**\n     * Actual system layer.\n     * @private {?Element}\n     */\n    this.systemLayerEl_ = null;\n\n    /** @private {?Element} */\n    this.buttonsContainer_ = null;\n\n    /** @private @const {!ProgressBar} */\n    this.progressBar_ = ProgressBar.create(win);\n\n    /** @private {!DevelopmentModeLog} */\n    this.developerLog_ = DevelopmentModeLog.create(win);\n\n    /** @private {!DevelopmentModeLogButtonSet} */\n    this.developerButtons_ = DevelopmentModeLogButtonSet.create(win);\n\n    /** @private {?Node} */\n    this.sharePillContainerNode_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n  }\n\n  /**\n   * @param {!Array<string>} pageIds the ids of each page in the story\n   * @return {!Element}\n   */\n  build(pageIds) {\n    if (this.isBuilt_) {\n      return this.getRoot();\n    }\n\n    this.isBuilt_ = true;\n\n    this.root_ = this.win_.document.createElement('div');\n    this.systemLayerEl_ = renderAsElement(this.win_.document, TEMPLATE);\n\n    createShadowRootWithStyle(this.root_, this.systemLayerEl_, CSS);\n\n    this.systemLayerEl_.insertBefore(\n        this.progressBar_.build(pageIds), this.systemLayerEl_.lastChild);\n\n    this.buttonsContainer_ =\n        this.systemLayerEl_.querySelector(\n            '.i-amphtml-story-system-layer-buttons');\n\n    this.buildForDevelopmentMode_();\n\n    this.initializeListeners_();\n\n    this.storeService_.subscribe(StateProperty.CAN_SHOW_SYSTEM_LAYER_BUTTONS,\n        canShowButtons => {\n          this.systemLayerEl_.classList\n              .toggle('i-amphtml-story-ui-no-buttons', !canShowButtons);\n        }, true /* callToInitialize */);\n\n    if (Services.platformFor(this.win_).isIos()) {\n      this.systemLayerEl_.setAttribute('ios', '');\n    }\n\n    if (Services.viewerForDoc(this.win_.document.documentElement)\n        .isEmbedded()) {\n      this.systemLayerEl_.classList.add('i-amphtml-embedded');\n    }\n\n    return this.getRoot();\n  }\n\n  /**\n   * @private\n   */\n  buildForDevelopmentMode_() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.buttonsContainer_.appendChild(this.developerButtons_.build(\n        this.developerLog_.toggle.bind(this.developerLog_)));\n    this.getShadowRoot().appendChild(this.developerLog_.build());\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    // TODO(alanorozco): Listen to tap event properly (i.e. fastclick)\n    this.getShadowRoot().addEventListener('click', event => {\n      const target = dev().assertElement(event.target);\n\n      if (matches(target, `.${MUTE_CLASS}, .${MUTE_CLASS} *`)) {\n        this.onMuteAudioClick_();\n      } else if (matches(target, `.${UNMUTE_CLASS}, .${UNMUTE_CLASS} *`)) {\n        this.onUnmuteAudioClick_();\n      } else if (matches(target, `.${SHARE_CLASS}, .${SHARE_CLASS} *`)) {\n        this.onShareClick_();\n      } else if (matches(target, `.${INFO_CLASS}, .${INFO_CLASS} *`)) {\n        this.onInfoClick_();\n      }\n    });\n\n    this.storeService_.subscribe(StateProperty.AD_STATE, isAd => {\n      this.onAdStateUpdate_(isAd);\n    });\n\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      this.onBookendStateUpdate_(isActive);\n    });\n\n    this.storeService_.subscribe(StateProperty.CAN_SHOW_SHARING_UIS, show => {\n      this.onCanShowSharingUisUpdate_(show);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.HAS_AUDIO_STATE, hasAudio => {\n      this.onHasAudioStateUpdate_(hasAudio);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.MUTED_STATE, isMuted => {\n      this.onMutedStateUpdate_(isMuted);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.UI_STATE, isDesktop => {\n      this.onUIStateUpdate_(isDesktop);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.CURRENT_PAGE_INDEX, index => {\n      this.onPageIndexUpdate_(index);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.RTL_STATE, rtlState => {\n      this.onRtlStateUpdate_(rtlState);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  getRoot() {\n    return dev().assertElement(this.root_);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  getShadowRoot() {\n    return dev().assertElement(this.systemLayerEl_);\n  }\n\n  /**\n   * Reacts to the ad state updates and updates the UI accordingly.\n   * @param {boolean} isAd\n   * @private\n   */\n  onAdStateUpdate_(isAd) {\n    this.vsync_.mutate(() => {\n      isAd ?\n        this.getShadowRoot().setAttribute(AD_SHOWING_ATTRIBUTE, '') :\n        this.getShadowRoot().removeAttribute(AD_SHOWING_ATTRIBUTE);\n    });\n  }\n\n  /**\n   * Reacts to the bookend state updates and updates the UI accordingly.\n   * @param {boolean} isActive\n   * @private\n   */\n  onBookendStateUpdate_(isActive) {\n    this.getShadowRoot()\n        .classList.toggle('i-amphtml-story-bookend-active', isActive);\n  }\n\n  /**\n   * Reacts to updates to whether sharing UIs may be shown, and updates the UI\n   * accordingly.\n   * @param {boolean} canShowSharingUis\n   * @private\n   */\n  onCanShowSharingUisUpdate_(canShowSharingUis) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot()\n          .classList.toggle('i-amphtml-story-no-sharing', !canShowSharingUis);\n    });\n  }\n\n  /**\n   * Reacts to has audio state updates, displays the audio controls if needed.\n   * @param {boolean} hasAudio\n   * @private\n   */\n  onHasAudioStateUpdate_(hasAudio) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot().classList.toggle('audio-playing', hasAudio);\n    });\n  }\n\n  /**\n   * Reacts to muted state updates.\n   * @param {boolean} isMuted\n   * @private\n   */\n  onMutedStateUpdate_(isMuted) {\n    this.vsync_.mutate(() => {\n      isMuted ?\n        this.getShadowRoot().setAttribute(AUDIO_MUTED_ATTRIBUTE, '') :\n        this.getShadowRoot().removeAttribute(AUDIO_MUTED_ATTRIBUTE);\n    });\n  }\n\n  /**\n   * Reacts to desktop state updates and triggers the desktop UI.\n   * @param {!UIType} uiState\n   * @private\n   */\n  onUIStateUpdate_(uiState) {\n    if ([UIType.SCROLL, UIType.DESKTOP].includes(uiState)) {\n      this.buildSharePill_();\n    }\n\n    this.vsync_.mutate(() => {\n      uiState === UIType.DESKTOP ?\n        this.getShadowRoot().setAttribute('desktop', '') :\n        this.getShadowRoot().removeAttribute('desktop');\n    });\n  }\n\n  /**\n   * Reacts to the active page index changing.\n   * @param {number} index\n   */\n  onPageIndexUpdate_(index) {\n    this.vsync_.mutate(() => {\n      this.getShadowRoot().classList.toggle('first-page-active', index === 0);\n    });\n  }\n\n  /**\n   * Reacts to RTL state updates and triggers the UI for RTL.\n   * @param {boolean} rtlState\n   * @private\n   */\n  onRtlStateUpdate_(rtlState) {\n    this.vsync_.mutate(() => {\n      rtlState ?\n        this.getShadowRoot().setAttribute('dir', 'rtl') :\n        this.getShadowRoot().removeAttribute('dir');\n    });\n  }\n\n  /**\n   * Handles click events on the mute button.\n   * @private\n   */\n  onMuteAudioClick_() {\n    this.storeService_.dispatch(Action.TOGGLE_MUTED, true);\n  }\n\n  /**\n   * Handles click events on the unmute button.\n   * @private\n   */\n  onUnmuteAudioClick_() {\n    this.storeService_.dispatch(Action.TOGGLE_MUTED, false);\n  }\n\n  /**\n   * Handles click events on the share button and toggles the share menu.\n   * @private\n   */\n  onShareClick_() {\n    const isOpen = this.storeService_.get(StateProperty.SHARE_MENU_STATE);\n    this.storeService_.dispatch(Action.TOGGLE_SHARE_MENU, !isOpen);\n  }\n\n  /**\n   * Handles click events on the info button and toggles the info dialog.\n   * @private\n   */\n  onInfoClick_() {\n    const isOpen = this.storeService_.get(StateProperty.INFO_DIALOG_STATE);\n    this.storeService_.dispatch(Action.TOGGLE_INFO_DIALOG, !isOpen);\n  }\n\n  /**\n   * @param {string} pageId The id of the page whose progress should be\n   *     changed.\n   * @param {number} progress A number from 0.0 to 1.0, representing the\n   *     progress of the current page.\n   * @public\n   */\n  updateProgress(pageId, progress) {\n    // TODO(newmuis) avoid passing progress logic through system-layer\n    this.progressBar_.updateProgress(pageId, progress);\n  }\n\n  /**\n   * Builds and appends the share pill. Desktop only.\n   * @private\n   */\n  buildSharePill_() {\n    if (this.sharePillContainerNode_) {\n      return;\n    }\n\n    this.sharePillContainerNode_ =\n        renderSimpleTemplate(this.win_.document, SHARE_WIDGET_PILL_CONTAINER);\n\n    const shareWidget = new ShareWidget(this.win_, this.parentEl_);\n\n    this.sharePillContainerNode_\n        .querySelector('.i-amphtml-story-share-pill')\n        .appendChild(shareWidget.build(getAmpdoc(this.parentEl_)));\n\n    this.systemLayerEl_.appendChild(this.sharePillContainerNode_);\n  }\n\n  /**\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry\n   * @private\n   */\n  logInternal_(logEntry) {\n    this.developerButtons_.log(logEntry);\n    this.developerLog_.log(logEntry);\n  }\n\n  /**\n   * Logs an array of entries to the developer logs.\n   * @param {!Array<!./logging.AmpStoryLogEntryDef>} logEntries\n   */\n  logAll(logEntries) {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.vsync_.mutate(() => {\n      logEntries.forEach(logEntry => this.logInternal_(logEntry));\n    });\n  }\n\n  /**\n   * Logs a single entry to the developer logs.\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry\n   */\n  log(logEntry) {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.logInternal_(logEntry);\n  }\n\n  /**\n   * Clears any state held by the developer log or buttons.\n   */\n  resetDeveloperLogs() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.developerButtons_.clear();\n    this.developerLog_.clear();\n  }\n\n  /**\n   * Sets the string providing context for the developer logs window.  This is\n   * often the name or ID of the element that all logs are for (e.g. the page).\n   * @param {string} contextString\n   */\n  setDeveloperLogContextString(contextString) {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.developerLog_.setContextString(contextString);\n  }\n\n  /**\n   * Hides the developer log in the UI.\n   */\n  hideDeveloperLog() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.developerLog_.hide();\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Action, getStoreService} from './amp-story-store-service';\nimport {CSS} from '../../../build/amp-story-unsupported-browser-layer-1.0.css';\nimport {LocalizedStringId} from './localization';\nimport {createShadowRootWithStyle} from './utils';\nimport {dict} from './../../../src/utils/object';\nimport {removeElement} from '../../../src/dom';\nimport {renderAsElement} from './simple-template';\n\n/** @const {string} Class for the continue anyway button */\nconst CONTINUE_ANYWAY_BUTTON_CLASS = 'i-amphtml-continue-button';\n/**\n * Full viewport black layer indicating browser is not supported.\n * @private @const {!./simple-template.ElementDef}\n */\nconst UNSUPPORTED_BROWSER_LAYER_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-unsupported-browser-overlay'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-overlay-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-gear-icon'}),\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-overlay-text'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT,\n        },\n        // The continue button functionality will only be present in the default\n        // layer. Publisher provided fallbacks will not provide users with the\n        // ability to continue with an unsupported browser\n        {\n          tag: 'button',\n          attrs: dict({'class': 'i-amphtml-continue-button'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_CONTINUE_ANYWAY_BUTTON_LABEL,\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * Unsupported browser layer UI.\n */\nexport class UnsupportedBrowserLayer {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {?Element} */\n    this.element_ = null;\n\n    /** @private {?Element} */\n    this.continueButton_ = null;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n  }\n\n  /**\n   * Builds and appends the component in the story.\n   */\n  build() {\n    if (this.root_) {\n      return this.root_;\n    }\n    this.root_ = this.win_.document.createElement('div');\n    this.element_ =\n        renderAsElement(this.win_.document, UNSUPPORTED_BROWSER_LAYER_TEMPLATE);\n    createShadowRootWithStyle(this.root_, this.element_, CSS);\n    this.continueButton_ =\n      this.element_./*OK*/querySelector(`.${CONTINUE_ANYWAY_BUTTON_CLASS}`);\n    this.continueButton_.addEventListener('click', () => {\n      this.storeService_.dispatch(Action.TOGGLE_SUPPORTED_BROWSER, true);\n    });\n    return this.root_;\n  }\n\n  /**\n   * Returns the unsupported browser componenet\n   * @return {?Element} The root element of the componenet\n   */\n  get() {\n    if (!this.root_) {\n      this.build();\n    }\n    return this.root_;\n  }\n\n  /**\n   * Removes the entire layer\n   */\n  removeLayer() {\n    if (this.root_) {\n      removeElement(this.root_);\n    }\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CSS} from '../../../build/amp-story-viewport-warning-layer-1.0.css';\nimport {LocalizedStringId} from './localization';\nimport {Services} from '../../../src/services';\nimport {\n  StateProperty,\n  UIType,\n  getStoreService,\n} from './amp-story-store-service';\nimport {createShadowRootWithStyle} from './utils';\nimport {dict} from './../../../src/utils/object';\nimport {isExperimentOn} from '../../../src/experiments';\nimport {renderAsElement} from './simple-template';\n\n\n/**\n * CSS class indicating the format is landscape.\n * @const {string}\n */\nconst LANDSCAPE_OVERLAY_CLASS = 'i-amphtml-story-landscape';\n\n\n/**\n * Full viewport layer advising the user to rotate his device. Mobile only.\n * @private @const {!./simple-template.ElementDef}\n */\nconst LANDSCAPE_ORIENTATION_WARNING_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-no-rotation-overlay ' +\n        'i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-overlay-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-rotate-icon'}),\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-overlay-text'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT,\n        },\n      ],\n    },\n  ],\n};\n\n\n/**\n * Full viewport layer advising the user to expand his window. Only displayed\n * for small desktop viewports.\n * @private @const {!./simple-template.ElementDef}\n */\nconst DESKTOP_SIZE_WARNING_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-no-rotation-overlay ' +\n        'i-amphtml-story-system-reset'}),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-overlay-container'}),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-desktop-size-icon'}),\n        },\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-overlay-text'}),\n          localizedStringId:\n              LocalizedStringId.AMP_STORY_WARNING_DESKTOP_SIZE_TEXT,\n        },\n      ],\n    },\n  ],\n};\n\n\n\n/**\n * Viewport warning layer UI.\n */\nexport class ViewportWarningLayer {\n  /**\n   * @param {!Window} win\n   * @param {!Element} storyElement Element where to append the component\n   */\n  constructor(win, storyElement) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {?Element} */\n    this.overlayEl_ = null;\n\n    /** @private @const {!../../../src/service/platform-impl.Platform} */\n    this.platform_ = Services.platformFor(this.win_);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n\n    /** @private @const {!Element} */\n    this.storyElement_ = storyElement;\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    this.initializeListeners_();\n  }\n\n  /**\n   * Builds and appends the component in the story.\n   */\n  build() {\n    if (this.isBuilt()) {\n      return;\n    }\n\n    const template = this.getViewportWarningOverlayTemplate_();\n    if (!template) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n    const root = this.win_.document.createElement('div');\n    this.overlayEl_ = renderAsElement(this.win_.document, template);\n\n    createShadowRootWithStyle(root, this.overlayEl_, CSS);\n\n    // Initializes the UI state now that the component is built.\n    this.onUIStateUpdate_(/** @type {!UIType} */\n        (this.storeService_.get(StateProperty.UI_STATE)));\n\n    this.vsync_.mutate(() => {\n      this.storyElement_.insertBefore(root, this.storyElement_.firstChild);\n    });\n  }\n\n  /**\n   * Whether the element has been built.\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.UI_STATE, uiState => {\n      this.onUIStateUpdate_(uiState);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.LANDSCAPE_STATE, isLandscape => {\n      this.onLandscapeStateUpdate_(isLandscape);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * Reacts to the landscape state update, only on mobile.\n   * @param  {boolean} isLandscape\n   * @private\n   */\n  onLandscapeStateUpdate_(isLandscape) {\n    const isMobile =\n        this.storeService_.get(StateProperty.UI_STATE) === UIType.MOBILE;\n\n    // Adds the landscape class if we are mobile landscape.\n    const shouldShowLandscapeOverlay = isMobile && isLandscape;\n\n    // Don't build the layer until we need to display it.\n    if (!shouldShowLandscapeOverlay && !this.isBuilt()) {\n      return;\n    }\n\n    this.build();\n\n    this.vsync_.mutate(() => {\n      this.overlayEl_.classList.toggle(\n          LANDSCAPE_OVERLAY_CLASS, shouldShowLandscapeOverlay);\n    });\n  }\n\n  /**\n   * Reacts to UI state updates.\n   * @param {!UIType} uiState\n   * @private\n   */\n  onUIStateUpdate_(uiState) {\n    if (!this.isBuilt()) {\n      return;\n    }\n\n    this.vsync_.mutate(() => {\n      uiState === UIType.DESKTOP ?\n        this.overlayEl_.setAttribute('desktop', '') :\n        this.overlayEl_.removeAttribute('desktop');\n    });\n  }\n\n  /**\n   * Returns the overlay corresponding to the device currently used.\n   * @return {?./simple-template.ElementDef} template\n   * @private\n   */\n  getViewportWarningOverlayTemplate_() {\n    if (this.platform_.isIos() || this.platform_.isAndroid()) {\n      return LANDSCAPE_ORIENTATION_WARNING_TEMPLATE;\n    }\n\n    if (!isExperimentOn(this.win_, 'disable-amp-story-desktop')) {\n      return DESKTOP_SIZE_WARNING_TEMPLATE;\n    }\n\n    return null;\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Embeds a story\n *\n * Example:\n * <code>\n * <amp-story standalone>\n *   [...]\n * </amp-story>\n * </code>\n */\nimport './amp-story-cta-layer';\nimport './amp-story-grid-layer';\nimport './amp-story-page';\nimport {\n  Action,\n  StateProperty,\n  UIType,\n  getStoreService,\n} from './amp-story-store-service';\nimport {ActionTrust} from '../../../src/action-constants';\nimport {AmpStoryAccess} from './amp-story-access';\nimport {AmpStoryAnalytics} from './analytics';\nimport {AmpStoryBackground} from './background';\nimport {AmpStoryBookend} from './bookend/amp-story-bookend';\nimport {AmpStoryConsent} from './amp-story-consent';\nimport {AmpStoryCtaLayer} from './amp-story-cta-layer';\nimport {AmpStoryGridLayer} from './amp-story-grid-layer';\nimport {AmpStoryHint} from './amp-story-hint';\nimport {AmpStoryPage, PageState} from './amp-story-page';\nimport {AmpStoryVariableService} from './variable-service';\nimport {CSS} from '../../../build/amp-story-1.0.css';\nimport {CommonSignals} from '../../../src/common-signals';\nimport {\n  DoubletapRecognizer,\n  SwipeXYRecognizer,\n} from '../../../src/gesture-recognizers';\nimport {EventType, dispatch} from './events';\nimport {Gestures} from '../../../src/gesture';\nimport {InfoDialog} from './amp-story-info-dialog';\nimport {KeyCodes} from '../../../src/utils/key-codes';\nimport {Layout} from '../../../src/layout';\nimport {\n  LocalizationService,\n  createPseudoLocale,\n} from './localization';\nimport {MediaPool, MediaType} from './media-pool';\nimport {NavigationState} from './navigation-state';\nimport {PaginationButtons} from './pagination-buttons';\nimport {Services} from '../../../src/services';\nimport {ShareMenu} from './amp-story-share-menu';\nimport {SystemLayer} from './amp-story-system-layer';\nimport {TapNavigationDirection} from './page-advancement';\nimport {UnsupportedBrowserLayer} from './amp-story-unsupported-browser-layer';\nimport {ViewportWarningLayer} from './amp-story-viewport-warning-layer';\nimport {\n  childElement,\n  childElementByTag,\n  childElements,\n  closest,\n  createElementWithAttributes,\n  isRTL,\n  scopedQuerySelectorAll,\n} from '../../../src/dom';\nimport {\n  computedStyle,\n  px,\n  resetStyles,\n  setImportantStyles,\n  setStyle,\n} from '../../../src/style';\nimport {debounce} from '../../../src/utils/rate-limit';\nimport {dev, user} from '../../../src/log';\nimport {dict} from '../../../src/utils/object';\nimport {findIndex} from '../../../src/utils/array';\nimport {getConsentPolicyState} from '../../../src/consent';\nimport {getDetail} from '../../../src/event-helper';\nimport {getMode} from '../../../src/mode';\nimport {isExperimentOn} from '../../../src/experiments';\nimport {registerServiceBuilder} from '../../../src/service';\nimport {removeAttributeInMutate, setAttributeInMutate} from './utils';\nimport {upgradeBackgroundAudio} from './audio';\nimport LocalizedStringsDe from './_locales/de';\nimport LocalizedStringsDefault from './_locales/default';\nimport LocalizedStringsEn from './_locales/en';\nimport LocalizedStringsEnGb from './_locales/en-GB';\nimport LocalizedStringsEs from './_locales/es';\nimport LocalizedStringsEs419 from './_locales/es-419';\nimport LocalizedStringsFr from './_locales/fr';\nimport LocalizedStringsFrCa from './_locales/fr-CA';\nimport LocalizedStringsHi from './_locales/hi';\nimport LocalizedStringsId from './_locales/id';\nimport LocalizedStringsIt from './_locales/it';\nimport LocalizedStringsJa from './_locales/ja';\nimport LocalizedStringsKo from './_locales/ko';\nimport LocalizedStringsNl from './_locales/nl';\nimport LocalizedStringsNo from './_locales/no';\nimport LocalizedStringsPt from './_locales/pt';\nimport LocalizedStringsPtBr from './_locales/pt-BR';\nimport LocalizedStringsRu from './_locales/ru';\nimport LocalizedStringsTr from './_locales/tr';\nimport LocalizedStringsVi from './_locales/vi';\nimport LocalizedStringsZh from './_locales/zh';\nimport LocalizedStringsZhTw from './_locales/zh-TW';\n\n/** @private @const {number} */\nconst DESKTOP_WIDTH_THRESHOLD = 1024;\n\n/** @private @const {number} */\nconst DESKTOP_HEIGHT_THRESHOLD = 550;\n\n/** @private @const {number} */\nconst MIN_SWIPE_FOR_HINT_OVERLAY_PX = 50;\n\n/** @enum {string} */\nconst Attributes = {\n  STANDALONE: 'standalone',\n  ADVANCE_TO: 'i-amphtml-advance-to',\n  RETURN_TO: 'i-amphtml-return-to',\n  AUTO_ADVANCE_TO: 'auto-advance-to',\n  AD_SHOWING: 'ad-showing',\n  // Attributes that desktop css looks for to decide where pages will be placed\n  PREVIOUS: 'i-amphtml-previous-page', // shown in left pane\n  NEXT: 'i-amphtml-next-page', // shown in right pane\n  VISITED: 'i-amphtml-visited', // stacked offscreen to left\n};\n\n/**\n * The duration of time (in milliseconds) to wait for a page to be loaded,\n * before the story becomes visible.\n * @const {number}\n */\nconst PAGE_LOAD_TIMEOUT_MS = 5000;\n\n/**\n * Single page ads may be injected later. If the original story contains 0 media\n * elements the mediaPool will not be able to handle the injected audio/video\n * Therefore we preallocate a minimum here.\n * @const {number}\n */\nconst MINIMUM_AD_MEDIA_ELEMENTS = 2;\n\n/**\n * CSS class for an amp-story that indicates the initial load for the story has\n * completed.\n * @const {string}\n */\nconst STORY_LOADED_CLASS_NAME = 'i-amphtml-story-loaded';\n\n/** @const {!Object<string, number>} */\nconst MAX_MEDIA_ELEMENT_COUNTS = {\n  [MediaType.AUDIO]: 4,\n  [MediaType.VIDEO]: 8,\n};\n\n/** @type {string} */\nconst TAG = 'amp-story';\n\n/**\n * Selector for elements that should be hidden when the bookend is open on\n * desktop view.\n * @private @const {string}\n */\nconst HIDE_ON_BOOKEND_SELECTOR =\n    'amp-story-page, .i-amphtml-story-system-layer';\n\n\n/**\n * @implements {./media-pool.MediaPoolRoot}\n */\nexport class AmpStory extends AMP.BaseElement {\n  /** @param {!AmpElement} element */\n  constructor(element) {\n    super(element);\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win);\n\n    /** @private {!NavigationState} */\n    this.navigationState_ =\n        new NavigationState(this.win, () => this.hasBookend_());\n\n    /** @private {!AmpStoryAnalytics} */\n    this.analytics_ = new AmpStoryAnalytics(this.win, this.element);\n\n    /** @const @private {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = this.getVsync();\n\n    /** @private {?AmpStoryBookend} */\n    this.bookend_ = null;\n\n    /** @private @const {!ShareMenu} Preloads and prerenders the share menu. */\n    this.shareMenu_ = new ShareMenu(this.win, this.element);\n\n    /** @private @const {!SystemLayer} */\n    this.systemLayer_ = new SystemLayer(this.win, this.element);\n\n    /** @private @const {!UnsupportedBrowserLayer} */\n    this.unsupportedBrowserLayer_ = new UnsupportedBrowserLayer(this.win);\n\n    /** Instantiates the viewport warning layer. */\n    new ViewportWarningLayer(this.win, this.element);\n\n    /** @private @const {!Array<!./amp-story-page.AmpStoryPage>} */\n    this.pages_ = [];\n\n    /** @private @const {!Array<!./amp-story-page.AmpStoryPage>} */\n    this.adPages_ = [];\n\n    /** @const @private {!AmpStoryVariableService} */\n    this.variableService_ = new AmpStoryVariableService();\n    registerServiceBuilder(\n        this.win, 'story-variable', () => this.variableService_.get());\n\n    /** @private {?./amp-story-page.AmpStoryPage} */\n    this.activePage_ = null;\n\n    /** @private {?./amp-story-page.AmpStoryPage} */\n    this.previousPage_ = null;\n\n    /** @private {?./amp-story-page.AmpStoryPage} */\n    this.nextPage_ = null;\n\n    /** @private @const */\n    this.desktopMedia_ = this.win.matchMedia(\n        `(min-width: ${DESKTOP_WIDTH_THRESHOLD}px) and ` +\n        `(min-height: ${DESKTOP_HEIGHT_THRESHOLD}px)`);\n\n    /** @private @const */\n    this.canRotateToDesktopMedia_ = this.win.matchMedia(\n        `(min-width: ${DESKTOP_HEIGHT_THRESHOLD}px) and ` +\n        `(min-height: ${DESKTOP_WIDTH_THRESHOLD}px)`);\n\n    /** @private {?AmpStoryBackground} */\n    this.background_ = null;\n\n    /** @private {?HTMLMediaElement} */\n    this.backgroundAudioEl_ = null;\n\n    /** @private {?./pagination-buttons.PaginationButtons} */\n    this.paginationButtons_ = null;\n\n    /** @private {!AmpStoryHint} */\n    this.ampStoryHint_ = new AmpStoryHint(this.win, this.element);\n\n    /** @private {!MediaPool} */\n    this.mediaPool_ = MediaPool.for(this);\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(this.win);\n\n    /** @private @const {!../../../src/service/platform-impl.Platform} */\n    this.platform_ = Services.platformFor(this.win);\n\n    /** @private @const {!../../../src/service/document-state.DocumentState} */\n    this.documentState_ = Services.documentStateFor(this.win);\n\n    /** @private {boolean} */\n    this.pausedStateToRestore_ = false;\n\n    /** @private @const {!LocalizationService} */\n    this.localizationService_ = new LocalizationService(this.win);\n    this.localizationService_\n        .registerLocalizedStringBundle('default', LocalizedStringsDefault)\n        // TODO(newmuis, #11647): Enable Arabic strings once RTL is supported.\n        // .registerLocalizedStringBundle('ar', LocalizedStringsAr)\n        .registerLocalizedStringBundle('de', LocalizedStringsDe)\n        .registerLocalizedStringBundle('en', LocalizedStringsEn)\n        .registerLocalizedStringBundle('en-GB', LocalizedStringsEnGb)\n        .registerLocalizedStringBundle('es', LocalizedStringsEs)\n        .registerLocalizedStringBundle('es-419', LocalizedStringsEs419)\n        .registerLocalizedStringBundle('fr', LocalizedStringsFr)\n        .registerLocalizedStringBundle('fr-CA', LocalizedStringsFrCa)\n        .registerLocalizedStringBundle('hi', LocalizedStringsHi)\n        .registerLocalizedStringBundle('id', LocalizedStringsId)\n        .registerLocalizedStringBundle('it', LocalizedStringsIt)\n        .registerLocalizedStringBundle('ja', LocalizedStringsJa)\n        .registerLocalizedStringBundle('ko', LocalizedStringsKo)\n        .registerLocalizedStringBundle('nl', LocalizedStringsNl)\n        .registerLocalizedStringBundle('no', LocalizedStringsNo)\n        .registerLocalizedStringBundle('pt', LocalizedStringsPt)\n        .registerLocalizedStringBundle('pt-BR', LocalizedStringsPtBr)\n        .registerLocalizedStringBundle('ru', LocalizedStringsRu)\n        .registerLocalizedStringBundle('tr', LocalizedStringsTr)\n        .registerLocalizedStringBundle('vi', LocalizedStringsVi)\n        .registerLocalizedStringBundle('zh', LocalizedStringsZh)\n        .registerLocalizedStringBundle('zh-TW', LocalizedStringsZhTw);\n\n    const enXaPseudoLocaleBundle =\n        createPseudoLocale(LocalizedStringsEn, s => `[${s} one two]`);\n    this.localizationService_\n        .registerLocalizedStringBundle('en-xa', enXaPseudoLocaleBundle);\n\n    registerServiceBuilder(this.win, 'localization',\n        () => this.localizationService_);\n  }\n\n\n\n\n\n  /** @override */\n  buildCallback() {\n    if (this.isStandalone_()) {\n      this.initializeStandaloneStory_();\n    }\n\n    // Check if story is RTL.\n    if (isRTL(this.win.document)) {\n      this.storeService_.dispatch(Action.TOGGLE_RTL, true);\n    }\n\n    const pageEl = this.element.querySelector('amp-story-page');\n    pageEl && pageEl.setAttribute('active', '');\n\n    this.initializeStyles_();\n    this.initializeListeners_();\n    this.initializeListenersForDev_();\n\n    if (this.isDesktop_()) {\n      const uiState =\n          isExperimentOn(this.win, 'amp-story-scroll') ?\n            UIType.SCROLL : UIType.DESKTOP;\n      this.storeService_.dispatch(Action.TOGGLE_UI, uiState);\n    }\n\n    this.navigationState_.observe(stateChangeEvent => {\n      this.variableService_.onNavigationStateChange(stateChangeEvent);\n      this.analytics_.onNavigationStateChange(stateChangeEvent);\n    });\n\n    // Disallow all actions in a (standalone) story.\n    // Components then add their own actions.\n    const actions = Services.actionServiceForDoc(this.getAmpDoc());\n    actions.setWhitelist([]);\n  }\n\n\n  /** @override */\n  pauseCallback() {\n    // Store the current paused state, to make sure the story does not play on\n    // resume if it was previously paused.\n    this.pausedStateToRestore_ = !!this.storeService_\n        .get(StateProperty.PAUSED_STATE);\n    this.storeService_.dispatch(Action.TOGGLE_PAUSED, true);\n  }\n\n\n  /** @override */\n  resumeCallback() {\n    this.storeService_\n        .dispatch(Action.TOGGLE_PAUSED, this.pausedStateToRestore_);\n  }\n\n\n  /**\n   * Note: runs in the buildCallback vsync mutate context.\n   * @private\n   */\n  initializeStandaloneStory_() {\n    const html = this.win.document.documentElement;\n    html.classList.add('i-amphtml-story-standalone');\n    // Lock body to prevent overflow.\n    this.lockBody_();\n    // Standalone CSS affects sizing of the entire page.\n    this.onResize();\n  }\n\n\n  /** @private */\n  initializeStyles_() {\n    const styleEl = document.querySelector('style[amp-custom]');\n    if (!styleEl) {\n      return;\n    }\n\n    this.rewriteStyles_(styleEl);\n  }\n\n\n  /**\n   * @param {!Element} styleEl\n   * @private\n   */\n  rewriteStyles_(styleEl) {\n    if (!isExperimentOn(this.win, 'amp-story-responsive-units')) {\n      return;\n    }\n\n    // TODO(#15955): Update this to use CssContext from\n    // ../../../extensions/amp-animation/0.1/web-animations.js\n    this.mutateElement(() => {\n      styleEl.textContent = styleEl.textContent\n          .replace(/([\\d.]+)vh/gmi, 'calc($1 * var(--i-amphtml-story-vh))')\n          .replace(/([\\d.]+)vw/gmi, 'calc($1 * var(--i-amphtml-story-vw))')\n          .replace(/([\\d.]+)vmin/gmi, 'calc($1 * var(--i-amphtml-story-vmin))')\n          .replace(/([\\d.]+)vmax/gmi, 'calc($1 * var(--i-amphtml-story-vmax))');\n    });\n  }\n\n\n  /**\n   * @private\n   */\n  updateViewportSizeStyles_() {\n    if (!this.activePage_) {\n      return;\n    }\n\n    this.vsync_.run({\n      measure: state => {\n        state.vh = this.activePage_.element./*OK*/clientHeight / 100;\n        state.vw = this.activePage_.element./*OK*/clientWidth / 100;\n        state.vmin = Math.min(state.vh, state.vw);\n        state.vmax = Math.max(state.vh, state.vw);\n      },\n      mutate: state => {\n        this.element.setAttribute('style',\n            `--i-amphtml-story-vh: ${px(state.vh)};` +\n            `--i-amphtml-story-vw: ${px(state.vw)};` +\n            `--i-amphtml-story-vmin: ${px(state.vmin)};` +\n            `--i-amphtml-story-vmax: ${px(state.vmax)};`);\n      },\n    }, {});\n  }\n\n  /**\n   * Builds the system layer DOM.  This is dependent on the pages_ array having\n   * been initialized, so it cannot happen at build time.\n   * @private\n   */\n  buildSystemLayer_() {\n    const pageIds = this.pages_.map(page => page.element.id);\n    this.element.appendChild(this.systemLayer_.build(pageIds));\n    this.updateAudioIcon_();\n  }\n\n  /** @private */\n  initializeListeners_() {\n    this.element.addEventListener(EventType.NEXT_PAGE, () => {\n      this.next_();\n    });\n\n    this.element.addEventListener(EventType.PREVIOUS_PAGE, () => {\n      this.previous_();\n    });\n\n    this.storeService_.subscribe(StateProperty.MUTED_STATE, isMuted => {\n      this.onMutedStateUpdate_(isMuted);\n      this.variableService_.onMutedStateChange(isMuted);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.MUTED_STATE, isMuted => {\n      // We do not want to trigger an analytics event for the initialization of\n      // the muted state.\n      this.analytics_.onMutedStateChange(isMuted);\n    }, false /** callToInitialize */);\n\n    this.storeService_.subscribe(\n        StateProperty.SUPPORTED_BROWSER_STATE, isBrowserSupported => {\n          this.onSupportedBrowserStateUpdate_(isBrowserSupported);\n        });\n\n    this.element.addEventListener(EventType.SWITCH_PAGE, e => {\n      if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n        // Disallow switching pages while the bookend is active.\n        return;\n      }\n\n      this.switchTo_(getDetail(e)['targetPageId']);\n      this.ampStoryHint_.hideAllNavigationHint();\n    });\n\n    this.element.addEventListener(EventType.PAGE_PROGRESS, e => {\n      const detail = getDetail(e);\n      const pageId = detail['pageId'];\n      const progress = detail['progress'];\n\n      if (pageId !== this.activePage_.element.id) {\n        // Ignore progress update events from inactive pages.\n        return;\n      }\n\n      if (!this.activePage_.isAd()) {\n        this.systemLayer_.updateProgress(pageId, progress);\n      }\n    });\n\n    this.element.addEventListener(EventType.REPLAY, () => {\n      this.replay_();\n    });\n\n    this.element.addEventListener(EventType.SHOW_NO_PREVIOUS_PAGE_HELP, () => {\n      if (this.storeService_.get(StateProperty.CAN_SHOW_PREVIOUS_PAGE_HELP)) {\n        this.ampStoryHint_.showFirstPageHintOverlay();\n      }\n    });\n\n    this.element.addEventListener(EventType.TAP_NAVIGATION, e => {\n      const direction = getDetail(e)['direction'];\n      this.performTapNavigation_(direction);\n    });\n\n    this.element.addEventListener(EventType.DISPATCH_ACTION, e => {\n      if (!getMode().test) {\n        return;\n      }\n\n      const action = getDetail(e)['action'];\n      const data = getDetail(e)['data'];\n      this.storeService_.dispatch(action, data);\n    });\n\n    this.storeService_.subscribe(StateProperty.AD_STATE, isAd => {\n      this.onAdStateUpdate_(isAd);\n    });\n\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      this.onBookendStateUpdate_(isActive);\n    });\n\n    this.storeService_.subscribe(StateProperty.CURRENT_PAGE_ID, pageId => {\n      this.onCurrentPageIdUpdate_(pageId);\n    });\n\n    this.storeService_.subscribe(StateProperty.PAUSED_STATE, isPaused => {\n      this.onPausedStateUpdate_(isPaused);\n    });\n\n    this.storeService_.subscribe(StateProperty.UI_STATE, uiState => {\n      this.onUIStateUpdate_(uiState);\n    }, true /** callToInitialize */);\n\n    this.win.document.addEventListener('keydown', e => {\n      this.onKeyDown_(e);\n    }, true);\n\n    // TODO(#16795): Remove once the runtime triggers pause/resume callbacks\n    // on document visibility change (eg: user switches tab).\n    this.documentState_.onVisibilityChanged(() => this.onVisibilityChanged_());\n\n    this.getViewport().onResize(debounce(this.win, () => this.onResize(), 300));\n    this.installGestureRecognizers_();\n  }\n\n  /** @private */\n  installGestureRecognizers_() {\n    const {element} = this;\n    const gestures = Gestures.get(element, /* shouldNotPreventDefault */ true);\n\n    // Disables zoom on double-tap.\n    gestures.onGesture(DoubletapRecognizer, gesture => {\n      const {event} = gesture;\n      event.preventDefault();\n    });\n\n    // Shows \"tap to navigate\" hint when swiping.\n    gestures.onGesture(SwipeXYRecognizer, gesture => {\n      const {deltaX, deltaY} = gesture.data;\n      if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n        return;\n      }\n      if (!this.isSwipeLargeEnoughForHint_(deltaX, deltaY)) {\n        return;\n      }\n      if (!this.storeService_\n          .get(StateProperty.CAN_SHOW_NAVIGATION_OVERLAY_HINT)) {\n        return;\n      }\n\n      this.ampStoryHint_.showNavigationOverlay();\n    });\n  }\n\n  /**\n   * @param {number} deltaX\n   * @param {number} deltaY\n   * @return {boolean}\n   * @private\n   */\n  isSwipeLargeEnoughForHint_(deltaX, deltaY) {\n    const sideSwipe = Math.abs(deltaX) >= MIN_SWIPE_FOR_HINT_OVERLAY_PX;\n    const upSwipe = (-1 * deltaY) >= MIN_SWIPE_FOR_HINT_OVERLAY_PX;\n    return sideSwipe || upSwipe;\n  }\n\n  /** @private */\n  initializeListenersForDev_() {\n    if (!getMode().development) {\n      return;\n    }\n\n    this.element.addEventListener(EventType.DEV_LOG_ENTRIES_AVAILABLE, e => {\n      this.systemLayer_.logAll(/** @type {?} */ (getDetail(e)));\n    });\n  }\n\n  /** @private */\n  lockBody_() {\n    const {document} = this.win;\n    setImportantStyles(document.documentElement, {\n      'overflow': 'hidden',\n    });\n    setImportantStyles(document.body, {\n      'overflow': 'hidden',\n    });\n\n    this.getViewport().resetTouchZoom();\n    this.getViewport().disableTouchZoom();\n    this.maybeLockScreenOrientation_();\n  }\n\n\n  /** @private */\n  maybeLockScreenOrientation_() {\n    const {screen} = this.win;\n    if (!screen || !this.canRotateToDesktopMedia_.matches) {\n      return;\n    }\n\n    const lockOrientation = screen.lockOrientation ||\n        screen.mozLockOrientation || screen.msLockOrientation ||\n        (unusedOrientation => {});\n\n    try {\n      lockOrientation('portrait');\n    } catch (e) {\n      dev().warn(TAG, 'Failed to lock screen orientation:', e.message);\n    }\n  }\n\n  /** @private */\n  buildPaginationButtons_() {\n    this.paginationButtons_ = PaginationButtons.create(this.win);\n\n    this.paginationButtons_.attach(this.element);\n\n    this.navigationState_.observe(e =>\n      this.paginationButtons_.onNavigationStateChange(e));\n  }\n\n  /** @visibleForTesting */\n  buildPaginationButtonsForTesting() {\n    this.buildPaginationButtons_();\n  }\n\n  /** @override */\n  layoutCallback() {\n    if (!AmpStory.isBrowserSupported(this.win) && !this.platform_.isBot()) {\n      this.storeService_.dispatch(Action.TOGGLE_SUPPORTED_BROWSER, false);\n      return Promise.resolve();\n    }\n    return this.layoutStory_();\n  }\n\n  /**\n   * Renders the layout for the story\n   * @return {!Promise} A promise that is resolved when the story layout is\n   *       loaded\n   * @private\n   */\n  layoutStory_() {\n    const firstPageEl = user().assertElement(\n        this.element.querySelector('amp-story-page'),\n        'Story must have at least one page.');\n\n    const initialPageId = this.getHistoryStatePageId_() || firstPageEl.id;\n\n    if (!this.paginationButtons_) {\n      this.buildPaginationButtons_();\n    }\n\n    this.initializeBookend_();\n\n    const storyLayoutPromise = this.initializePages_()\n        .then(() => this.buildSystemLayer_())\n        .then(() => {\n          this.pages_.forEach(page => {\n            page.setState(PageState.NOT_ACTIVE);\n          });\n        })\n        .then(() => this.switchTo_(initialPageId))\n        .then(() => this.updateViewportSizeStyles_())\n        .then(() => {\n          // Preloads and prerenders the share menu if mobile, where the share\n          // button is visible.\n          const uiState = this.storeService_.get(StateProperty.UI_STATE);\n          if (uiState === UIType.MOBILE) {\n            this.shareMenu_.build();\n          }\n\n          const infoDialog = Services.viewerForDoc(this.element).isEmbedded() ?\n            new InfoDialog(this.win, this.element) : null;\n          if (infoDialog) {\n            infoDialog.build();\n          }\n        });\n\n    // Do not block the layout callback on the completion of these promises, as\n    // that prevents descendents from being laid out (and therefore loaded).\n    storyLayoutPromise.then(() => this.whenPagesLoaded_(PAGE_LOAD_TIMEOUT_MS))\n        .then(() => this.markStoryAsLoaded_());\n\n    this.handleConsentExtension_();\n\n    return storyLayoutPromise;\n  }\n  /**\n   * @param {number} timeoutMs The maximum amount of time to wait, in\n   *     milliseconds.\n   * @ {!Promise} A promise that is resolved when the page is loaded or\n   *     the timeout has been exceeded, whichever happens first.\n   * @private\n   */\n  whenPagesLoaded_(timeoutMs = 0) {\n    const pagesToWaitFor = this.isDesktop_() ?\n      [this.pages_[0], this.pages_[1]] :\n      [this.pages_[0]];\n\n    const storyLoadPromise = Promise.all(\n        pagesToWaitFor.filter(page => !!page).map(page => page.whenLoaded()));\n\n    return this.timer_.timeoutPromise(timeoutMs, storyLoadPromise)\n        .catch(() => {});\n  }\n\n\n  /** @private */\n  markStoryAsLoaded_() {\n    dispatch(this.win, this.element, EventType.STORY_LOADED,\n        /* payload */ undefined, {bubbles: true});\n    this.signals().signal(CommonSignals.INI_LOAD);\n    this.mutateElement(() => {\n      this.element.classList.add(STORY_LOADED_CLASS_NAME);\n    });\n  }\n\n\n  /**\n   * Handles the story consent extension.\n   * @private\n   */\n  handleConsentExtension_() {\n    const consentEl = this.element.querySelector('amp-consent');\n    if (!consentEl) {\n      return;\n    }\n\n    this.pauseStoryUntilConsentIsResolved_();\n    this.validateConsent_(consentEl);\n  }\n\n\n  /**\n   * Pauses the story until the consent is resolved (accepted or rejected).\n   * @private\n   */\n  pauseStoryUntilConsentIsResolved_() {\n    const policyId = this.getConsentPolicy() || 'default';\n    const consentPromise = getConsentPolicyState(this.getAmpDoc(), policyId);\n\n    if (!consentPromise) {\n      return;\n    }\n\n    this.storeService_.dispatch(Action.TOGGLE_PAUSED, true);\n\n    consentPromise.then(() => {\n      this.storeService_.dispatch(Action.TOGGLE_PAUSED, false);\n    });\n  }\n\n\n  /**\n   * Ensures publishers using amp-consent use amp-story-consent.\n   * @param {!Element} consentEl\n   * @private\n   */\n  validateConsent_(consentEl) {\n    if (!childElementByTag(consentEl, 'amp-story-consent')) {\n      dev().error(TAG, 'amp-consent must have an amp-story-consent child');\n    }\n\n    const allowedTags = ['SCRIPT', 'AMP-STORY-CONSENT'];\n    const toRemoveChildren = childElements(\n        consentEl, el => allowedTags.indexOf(el.tagName) === -1);\n\n    if (toRemoveChildren.length === 0) {\n      return;\n    }\n    dev().error(TAG, `amp-consent only allows tags: ${allowedTags}`);\n    toRemoveChildren.forEach(el => consentEl.removeChild(el));\n  }\n\n\n  /** @override */\n  isLayoutSupported(layout) {\n    return layout == Layout.CONTAINER;\n  }\n\n  /** @override */\n  prerenderAllowed() {\n    return true;\n  }\n\n  /** @private */\n  initializePages_() {\n    const pageImplPromises = Array.prototype.map.call(\n        this.element.querySelectorAll('amp-story-page'),\n        (pageEl, index) => {\n          return pageEl.getImpl().then(pageImpl => {\n            this.pages_[index] = pageImpl;\n          });\n        });\n\n    return Promise.all(pageImplPromises);\n  }\n\n\n  /**\n   * Advance to the next screen in the story, if there is one.\n   * @param {boolean=} opt_isAutomaticAdvance Whether this navigation was caused\n   *     by an automatic advancement after a timeout.\n   * @private\n   */\n  next_(opt_isAutomaticAdvance) {\n    const activePage = dev().assert(this.activePage_,\n        'No active page set when navigating to next page.');\n\n    const lastPage = this.pages_[this.getPageCount() - 1];\n    if (activePage.element.hasAttribute(Attributes.ADVANCE_TO) ||\n        activePage !== lastPage) {\n      console.log('NEXT PAGE');\n      activePage.next(opt_isAutomaticAdvance);\n    } else {\n      this.hasBookend_().then(hasBookend => {\n        if (hasBookend) {\n          this.showBookend_();\n        }\n      });\n    }\n  }\n\n  /**\n   * Go back to the previous screen in the story, if there is one.\n   * @private\n   */\n  previous_() {\n    const activePage = dev().assert(this.activePage_,\n        'No active page set when navigating to previous page.');\n    console.log('PREV PAGE');\n    activePage.previous();\n  }\n\n\n\n  /**\n   * @param {!TapNavigationDirection} direction The direction to navigate.\n   * @private\n   */\n  performTapNavigation_(direction) {\n    if (this.isDesktop_()) {\n      this.next_();\n      return;\n    }\n\n    if (direction === TapNavigationDirection.NEXT) {\n      this.next_();\n    } else if (direction === TapNavigationDirection.PREVIOUS) {\n      this.previous_();\n    }\n  }\n\n\n  /**\n   * Switches to a particular page.\n   * @param {string} targetPageId\n   * @return {!Promise}\n   */\n  switchTo_(targetPageId) {\n    if (isExperimentOn(this.win, 'amp-story-navigation-performance')) {\n      return this.experimentalSwitchTo_(targetPageId);\n    }\n\n    const targetPage = this.getPageById(targetPageId);\n    const pageIndex = this.getPageIndex(targetPage);\n\n    this.storeService_.dispatch(Action.CHANGE_PAGE, {\n      id: targetPageId,\n      index: pageIndex,\n    });\n\n    this.handlePreviewAttributes_(targetPage);\n\n    this.updateBackground_(targetPage.element, /* initial */ !this.activePage_);\n\n    if (targetPage.isAd()) {\n      this.storeService_.dispatch(Action.TOGGLE_AD, true);\n      setAttributeInMutate(this, Attributes.AD_SHOWING);\n    } else {\n      this.storeService_.dispatch(Action.TOGGLE_AD, false);\n      removeAttributeInMutate(this, Attributes.AD_SHOWING);\n    }\n\n    // TODO(alanorozco): check if autoplay\n    this.navigationState_.updateActivePage(\n        pageIndex,\n        this.getPageCount(),\n        targetPage.element.id,\n        targetPage.getNextPageId() === null /* isFinalPage */\n    );\n\n    const oldPage = this.activePage_;\n\n    this.activePage_ = targetPage;\n\n    this.systemLayer_.resetDeveloperLogs();\n    this.systemLayer_.setDeveloperLogContextString(this.activePage_.element.id);\n\n    return targetPage.beforeVisible().then(() => {\n      this.triggerActiveEventForPage_();\n\n      if (oldPage) {\n        oldPage.setState(PageState.NOT_ACTIVE);\n\n        // Indication that this should be offscreen to left in desktop view.\n        setAttributeInMutate(oldPage, Attributes.VISITED);\n      }\n\n      // Starts playing the page, if the story is not paused.\n      // Note: navigation is prevented when the story is paused, this test\n      // covers the case where the story is rendered paused (eg: consent).\n      if (!this.storeService_.get(StateProperty.PAUSED_STATE)) {\n        targetPage.setState(PageState.ACTIVE);\n      }\n\n      // If first navigation.\n      if (!oldPage) {\n        this.registerAndPreloadBackgroundAudio_();\n      }\n\n      if (!this.storeService_.get(StateProperty.MUTED_STATE)) {\n        oldPage && oldPage.muteAllMedia();\n        this.activePage_.unmuteAllMedia();\n      }\n\n      this.preloadPagesByDistance_();\n      this.forceRepaintForSafari_();\n      this.maybePreloadBookend_();\n    });\n  }\n\n\n  /**\n   * Switches to a particular page.\n   * Protected behing the 'amp-story-navigation-performance' experiment.\n   * @param {string} targetPageId\n   * @return {!Promise}\n   */\n  experimentalSwitchTo_(targetPageId) {\n    const targetPage = this.getPageById(targetPageId);\n    const pageIndex = this.getPageIndex(targetPage);\n\n    // Step out if trying to navigate to the currently active page.\n    if (this.activePage_ && (this.activePage_.element.id === targetPageId)) {\n      return Promise.resolve();\n    }\n\n    const oldPage = this.activePage_;\n    this.activePage_ = targetPage;\n\n    // Each step will run in a requestAnimationFrame, and wait for the next\n    // frame before executing the following step.\n    const steps = [\n      // First step contains the minimum amount of code to display and play the\n      // target page as fast as possible.\n      () => {\n        oldPage && oldPage.element.removeAttribute('active');\n\n        // Starts playing the page, if the story is not paused.\n        // Note: navigation is prevented when the story is paused, this test\n        // covers the case where the story is rendered paused (eg: consent).\n        if (!this.storeService_.get(StateProperty.PAUSED_STATE)) {\n          targetPage.setState(PageState.ACTIVE);\n        }\n\n        this.forceRepaintForSafari_();\n      },\n      // Second step does all the operations that impact the UI/UX: media sound,\n      // progress bar, ...\n      () => {\n        if (oldPage) {\n          oldPage.setState(PageState.NOT_ACTIVE);\n\n          // Indication that this should be offscreen to left in desktop view.\n          setAttributeInMutate(oldPage, Attributes.VISITED);\n        }\n\n        this.storeService_.dispatch(Action.CHANGE_PAGE, {\n          id: targetPageId,\n          index: pageIndex,\n        });\n\n        if (targetPage.isAd()) {\n          this.storeService_.dispatch(Action.TOGGLE_AD, true);\n          setAttributeInMutate(this, Attributes.AD_SHOWING);\n        } else {\n          this.storeService_.dispatch(Action.TOGGLE_AD, false);\n          removeAttributeInMutate(this, Attributes.AD_SHOWING);\n        }\n\n        // TODO(alanorozco): check if autoplay\n        this.navigationState_.updateActivePage(\n            pageIndex,\n            this.getPageCount(),\n            targetPage.element.id,\n            targetPage.getNextPageId() === null /* isFinalPage */\n        );\n\n        // If first navigation.\n        if (!oldPage) {\n          this.registerAndPreloadBackgroundAudio_();\n        }\n\n        if (!this.storeService_.get(StateProperty.MUTED_STATE)) {\n          oldPage && oldPage.muteAllMedia();\n          this.activePage_.unmuteAllMedia();\n        }\n\n        this.handlePreviewAttributes_(targetPage);\n\n        this.updateBackground_(targetPage.element, /* initial */ !oldPage);\n      },\n      // Third and last step contains all the actions that can be delayed after\n      // the navigation happened, like preloading the following pages, or\n      // sending analytics events.\n      () => {\n        this.preloadPagesByDistance_();\n        this.maybePreloadBookend_();\n\n        this.triggerActiveEventForPage_();\n\n        this.systemLayer_.resetDeveloperLogs();\n        this.systemLayer_\n            .setDeveloperLogContextString(this.activePage_.element.id);\n      },\n    ];\n\n    return new Promise(resolve => {\n      targetPage.beforeVisible().then(() => {\n        // Recursively executes one step per frame.\n        const unqueueStepInRAF = () => {\n          steps.shift().call(this);\n          if (!steps.length) {\n            return resolve();\n          }\n          this.win.requestAnimationFrame(() => unqueueStepInRAF());\n        };\n\n        unqueueStepInRAF();\n      });\n    });\n  }\n\n\n  /**\n   * Clear existing preview attributes, Check to see if there is a next or\n   * previous page, set new attributes.\n   * @param {!./amp-story-page.AmpStoryPage} targetPage\n   * @private\n   */\n  handlePreviewAttributes_(targetPage) {\n    if (this.previousPage_) {\n      removeAttributeInMutate(this.previousPage_, Attributes.PREVIOUS);\n      this.previousPage_ = null;\n    }\n\n    if (this.nextPage_) {\n      removeAttributeInMutate(this.nextPage_, Attributes.NEXT);\n      this.nextPage_ = null;\n    }\n\n    const prevPageId = targetPage.getPreviousPageId();\n    if (prevPageId) {\n      this.previousPage_ = this.getPageById(prevPageId);\n      setAttributeInMutate(this.previousPage_, Attributes.PREVIOUS);\n    }\n\n    const nextPageId = targetPage.getNextPageId(\n        /* opt_isAutomaticAdvance */ false);\n    if (nextPageId) {\n      this.nextPage_ = this.getPageById(nextPageId);\n      setAttributeInMutate(this.nextPage_, Attributes.NEXT);\n    }\n  }\n\n\n  /** @private */\n  triggerActiveEventForPage_() {\n    // TODO(alanorozco): pass event priority once amphtml-story repo is merged\n    // with upstream.\n    Services.actionServiceForDoc(this.element)\n        .trigger(this.activePage_.element, 'active', /* event */ null,\n            ActionTrust.HIGH);\n  }\n\n\n  /**\n   * For some reason, Safari has an issue where sometimes when pages become\n   * visible, some descendants are not painted.  This is a hack where we detect\n   * that the browser is Safari and force it to repaint, to avoid this case.\n   * See newmuis/amphtml-story#106 for details.\n   * @private\n   */\n  forceRepaintForSafari_() {\n    if (!this.platform_.isSafari() && !this.platform_.isIos()) {\n      return;\n    }\n    if (this.isDesktop_()) {\n      // Force repaint is only needed when transitioning from invisible to\n      // visible\n      return;\n    }\n\n    this.mutateElement(() => {\n      setStyle(this.element, 'display', 'none');\n\n      // Reading the height is what forces the repaint.  The conditional exists\n      // only to workaround the fact that the closure compiler would otherwise\n      // think that only reading the height has no effect.  Since the height is\n      // always >= 0, this conditional will always be executed.\n      const height = this.element./*OK*/offsetHeight;\n      if (height >= 0) {\n        setStyle(this.element, 'display', '');\n      }\n    });\n  }\n\n\n  /**\n   * Handles all key presses within the story.\n   * @param {!Event} e The keydown event.\n   * @private\n   */\n  onKeyDown_(e) {\n    if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n      return;\n    }\n\n    const rtlState = this.storeService_.get(StateProperty.RTL_STATE);\n\n    switch (e.keyCode) {\n      case KeyCodes.LEFT_ARROW:\n        rtlState ? this.next_() : this.previous_();\n        break;\n      case KeyCodes.RIGHT_ARROW:\n        rtlState ? this.previous_() : this.next_();\n        break;\n    }\n  }\n\n\n  /**\n   * @param {string} pageId new current page id\n   * @private\n   * */\n  onCurrentPageIdUpdate_(pageId) {\n    this.setHistoryStatePageId_(pageId);\n  }\n\n\n  /**\n   * Save page id using history API.\n   * @param {string} pageId page id to be saved\n   * @private\n   */\n  setHistoryStatePageId_(pageId) {\n    // Never save ad pages to history as they are unique to each visit.\n    const page = this.getPageById(pageId);\n    if (page.isAd()) {\n      return;\n    }\n\n    const {history} = this.win;\n    if (history.replaceState && this.getHistoryStatePageId_() !== pageId) {\n      history.replaceState({\n        ampStoryPageId: pageId,\n      }, '');\n    }\n  }\n\n\n  /**\n   * @private\n   * @return {?string}\n   */\n  getHistoryStatePageId_() {\n    const {history} = this.win;\n    if (history && history.state) {\n      return history.state.ampStoryPageId;\n    }\n    return null;\n  }\n\n\n  /**\n   * Handle resize events and set the story's desktop state.\n   * @visibleForTesting\n   */\n  onResize() {\n    this.updateViewportSizeStyles_();\n\n    let uiState = UIType.MOBILE;\n\n    if (this.isDesktop_()) {\n      uiState = isExperimentOn(this.win, 'amp-story-scroll') ?\n        UIType.SCROLL : UIType.DESKTOP;\n    }\n\n    this.storeService_.dispatch(Action.TOGGLE_UI, uiState);\n\n    if (uiState !== UIType.MOBILE) {\n      this.storeService_.dispatch(Action.TOGGLE_LANDSCAPE, false);\n      return;\n    }\n\n    // On mobile, maybe display the landscape overlay warning.\n    this.vsync_.run({\n      measure: state => {\n        const {offsetWidth, offsetHeight} = this.element;\n        state.isLandscape = offsetWidth > offsetHeight;\n      },\n      mutate: state => {\n        this.storeService_.dispatch(Action.TOGGLE_LANDSCAPE, state.isLandscape);\n      },\n    }, {});\n  }\n\n  /**\n   * Reacts to the browser tab becoming active/inactive.\n   * @private\n   */\n  onVisibilityChanged_() {\n    this.documentState_.isHidden() ?\n      this.pauseCallback() :\n      this.resumeCallback();\n  }\n\n  /**\n   * Reacts to the ad state updates, and pauses the background-audio when an ad\n   * is displayed.\n   * @param {boolean} isAd\n   * @private\n   */\n  onAdStateUpdate_(isAd) {\n    if (this.storeService_.get(StateProperty.MUTED_STATE)) {\n      return;\n    }\n\n    isAd ? this.pauseBackgroundAudio_() : this.playBackgroundAudio_();\n  }\n\n  /**\n   * Reacts to UI state updates.\n   * @param {!UIType} uiState\n   * @private\n   */\n  onUIStateUpdate_(uiState) {\n    this.vsync_.mutate(() => {\n      this.element.removeAttribute('desktop');\n      this.element.removeAttribute('scroll');\n    });\n\n    switch (uiState) {\n      case UIType.MOBILE:\n        // Preloads and prerenders the share menu as the share button gets\n        // visible on the mobile UI. No-op if already built.\n        this.shareMenu_.build();\n        break;\n      case UIType.DESKTOP:\n        this.vsync_.mutate(() => {\n          this.element.setAttribute('desktop', '');\n        });\n        if (!this.background_) {\n          this.background_ = new AmpStoryBackground(this.win, this.element);\n          this.background_.attach();\n        }\n        if (this.activePage_) {\n          this.updateBackground_(this.activePage_.element, /* initial */ true);\n        }\n        break;\n      case UIType.SCROLL:\n        this.vsync_.mutate(() => {\n          this.element.setAttribute('scroll', '');\n        });\n        break;\n    }\n  }\n\n  /**\n   * @return {boolean} True if the screen size matches the desktop media query.\n   */\n  isDesktop_() {\n    return this.desktopMedia_.matches && !this.platform_.isBot() &&\n        !isExperimentOn(this.win, 'disable-amp-story-desktop');\n  }\n\n  /**\n   * @return {boolean} true if this is a standalone story (i.e. this story is\n   *     the only content of the document).\n   */\n  isStandalone_() {\n    return this.element.hasAttribute(Attributes.STANDALONE);\n  }\n\n  /**\n   * Reacts to paused state updates.\n   * @param {boolean} isPaused\n   * @private\n   */\n  onPausedStateUpdate_(isPaused) {\n    if (!this.activePage_) {\n      return;\n    }\n\n    const pageState = isPaused ? PageState.PAUSED : PageState.ACTIVE;\n    this.activePage_.setState(pageState);\n  }\n\n  /**\n   * If browser is supported, displays the story. Otherwise, shows either the\n   * default unsupported browser layer or the publisher fallback (if provided).\n   * @param {boolean} isBrowserSupported\n   * @private\n   */\n  onSupportedBrowserStateUpdate_(isBrowserSupported) {\n    const fallbackEl = this.getFallback();\n    if (isBrowserSupported) {\n      // Removes the default unsupported browser layer or throws an error\n      // if the publisher has provided their own fallback\n      if (fallbackEl) {\n        dev().error(TAG, 'No handler to exit unsupported browser state on ' +\n        'publisher provided fallback.');\n      } else {\n        this.layoutStory_().then(() => this.mutateElement(() => {\n          this.unsupportedBrowserLayer_.removeLayer();\n          this.element.classList.remove('i-amphtml-story-fallback');\n        }));\n\n      }\n    } else {\n      this.mutateElement(() => {\n        this.element.classList.add('i-amphtml-story-fallback');\n      });\n      // Displays the publisher provided fallback or fallbacks to the default\n      // unsupported browser layer.\n      if (fallbackEl) {\n        this.toggleFallback(true);\n      } else {\n        this.unsupportedBrowserLayer_.build();\n        this.mutateElement(() => {\n          this.element.appendChild(this.unsupportedBrowserLayer_.get());\n        });\n      }\n    }\n  }\n\n  /**\n   * Get the URL of the given page's background resource.\n   * @param {!Element} pageElement\n   * @return {?string} The URL of the background resource\n   */\n  getBackgroundUrl_(pageElement) {\n    let fillElement = pageElement.querySelector(\n        '[template=\"fill\"]:not(.i-amphtml-hidden-by-media-query)');\n\n    if (!fillElement) {\n      return null;\n    }\n\n    fillElement = dev().assertElement(fillElement);\n\n    const fillPosterElement = fillElement.querySelector(\n        '[poster]:not(.i-amphtml-hidden-by-media-query)');\n\n    const srcElement = fillElement.querySelector(\n        '[src]:not(.i-amphtml-hidden-by-media-query)');\n\n    const fillPoster = fillPosterElement ?\n      fillPosterElement.getAttribute('poster') : '';\n    const src = srcElement ? srcElement.getAttribute('src') : '';\n\n    return fillPoster || src;\n  }\n\n\n  /**\n   * Update the background to the specified page's background.\n   * @param {!Element} pageElement\n   * @param {boolean=} initial\n   */\n  updateBackground_(pageElement, initial = false) {\n    if (!this.background_) {\n      return;\n    }\n\n    this.getVsync().run({\n      measure: state => {\n        state.url = this.getBackgroundUrl_(pageElement);\n        state.color = computedStyle(this.win, pageElement)\n            .getPropertyValue('background-color');\n      },\n      mutate: state => {\n        this.background_.setBackground(state.color, state.url, initial);\n      },\n    }, {});\n  }\n\n\n  /**\n   * Shows the bookend overlay.\n   * @private\n   */\n  showBookend_() {\n    this.buildAndPreloadBookend_().then(() => {\n      this.storeService_.dispatch(Action.TOGGLE_BOOKEND, true);\n    });\n  }\n\n\n  /**\n   * Hides the bookend overlay.\n   * @private\n   */\n  hideBookend_() {\n    this.storeService_.dispatch(Action.TOGGLE_BOOKEND, false);\n  }\n\n\n  /**\n   * @param {boolean} isActive\n   * @private\n   */\n  onBookendStateUpdate_(isActive) {\n    this.toggleElementsOnBookend_(/* display */ isActive);\n    this.element.classList.toggle('i-amphtml-story-bookend-active', isActive);\n\n    if (isActive) {\n      this.systemLayer_.hideDeveloperLog();\n      this.activePage_.setState(PageState.PAUSED);\n    }\n\n    if (!isActive) {\n      this.activePage_.setState(PageState.ACTIVE);\n    }\n  }\n\n\n  /**\n   * Toggle content when bookend is opened/closed.\n   * TODO(gmajoulet): these elements should get hidden by listening to bookend\n   *                  state events.\n   * @param {boolean} isActive\n   * @private\n   */\n  toggleElementsOnBookend_(isActive) {\n    if (!this.isDesktop_()) {\n      return;\n    }\n\n    const elements = scopedQuerySelectorAll(this.element,\n        HIDE_ON_BOOKEND_SELECTOR);\n\n    Array.prototype.forEach.call(elements, el => {\n      if (isActive) {\n        setImportantStyles(el, {\n          opacity: 0,\n          transition: 'opacity 0.1s',\n        });\n      } else {\n        resetStyles(el, ['opacity', 'transition']);\n      }\n    });\n  }\n\n  /**\n   * @return {!Array<!Array<string>>} A 2D array representing lists of pages by\n   *     distance.  The outer array index represents the distance from the\n   *     active page; the inner array is a list of page IDs at the specified\n   *     distance.\n   */\n  getPagesByDistance_() {\n    const distanceMap = this.getPageDistanceMapHelper_(\n        /* distance */ 0, /* map */ {}, this.activePage_.element.id);\n\n    // Transpose the map into a 2D array.\n    const pagesByDistance = [];\n    Object.keys(distanceMap).forEach(pageId => {\n      const distance = distanceMap[pageId];\n      if (!pagesByDistance[distance]) {\n        pagesByDistance[distance] = [];\n      }\n      pagesByDistance[distance].push(pageId);\n    });\n\n    return pagesByDistance;\n  }\n\n  /**\n   * Creates a map of a page and all of the pages reachable from that page, by\n   * distance.\n   *\n   * @param {number} distance The distance that the page with the specified\n   *     pageId is from the active page.\n   * @param {!Object<string, number>} map A mapping from pageId to its distance\n   *     from the active page.\n   * @param {string} pageId The page to be added to the map.\n   * @return {!Object<string, number>} A mapping from page ID to the priority of\n   *     that page.\n   * @private\n   */\n  getPageDistanceMapHelper_(distance, map, pageId) {\n    if (map[pageId] !== undefined && map[pageId] <= distance) {\n      return map;\n    }\n\n    map[pageId] = distance;\n    const page = this.getPageById(pageId);\n    page.getAdjacentPageIds().forEach(adjacentPageId => {\n      if (map[adjacentPageId] !== undefined\n          && map[adjacentPageId] <= distance) {\n        return;\n      }\n\n      // TODO(newmuis): Remove the assignment and return, as they're\n      // unnecessary.\n      map = this.getPageDistanceMapHelper_(distance + 1, map, adjacentPageId);\n    });\n\n    return map;\n  }\n\n\n  /** @private */\n  preloadPagesByDistance_() {\n    if (this.platform_.isBot()) {\n      this.pages_.forEach(page => {\n        page.setDistance(0);\n      });\n      return;\n    }\n\n    const pagesByDistance = this.getPagesByDistance_();\n\n    this.mutateElement(() => {\n      pagesByDistance.forEach((pageIds, distance) => {\n        pageIds.forEach(pageId => {\n          const page = this.getPageById(pageId);\n          page.setDistance(distance);\n        });\n      });\n    });\n  }\n\n\n  /**\n   * Handles a background-audio attribute set on an <amp-story> tag.\n   * @private\n   */\n  registerAndPreloadBackgroundAudio_() {\n    let backgroundAudioEl = upgradeBackgroundAudio(this.element);\n\n    if (!backgroundAudioEl) {\n      return;\n    }\n\n    // Once the media pool is ready, registers and preloads the background\n    // audio, and then gets the swapped element from the DOM to mute/unmute/play\n    // it programmatically later.\n    this.activePage_.whenLoaded()\n        .then(() => {\n          backgroundAudioEl =\n            /** @type {!HTMLMediaElement} */ (backgroundAudioEl);\n          this.mediaPool_.register(backgroundAudioEl);\n          return this.mediaPool_.preload(backgroundAudioEl);\n        }).then(() => {\n          this.backgroundAudioEl_ = /** @type {!HTMLMediaElement} */\n              (childElement(this.element, el => {\n                return el.tagName.toLowerCase() === 'audio';\n              }));\n        });\n  }\n\n  /**\n   * Initializes bookend.\n   * @private\n   */\n  initializeBookend_() {\n    let bookendEl = this.element.querySelector('amp-story-bookend');\n    if (!bookendEl) {\n      bookendEl = createElementWithAttributes(this.win.document,\n          'amp-story-bookend', dict({'layout': 'nodisplay'}));\n      this.element.appendChild(bookendEl);\n    }\n\n    bookendEl.getImpl().then(\n        bookendImpl => {\n          this.bookend_ = bookendImpl;\n        });\n  }\n\n  /**\n   * Preloads the bookend config if on the last page.\n   * @private\n   */\n  maybePreloadBookend_() {\n    if (!this.activePage_) {\n      return;\n    }\n\n    const pageIndex = this.getPageIndex(this.activePage_);\n\n    if (pageIndex + 1 >= this.getPageCount()) {\n      this.buildAndPreloadBookend_();\n    }\n  }\n\n\n  /**\n   * Builds, fetches and sets the bookend publisher configuration.\n   * @return {!Promise<?./bookend/bookend-component.BookendDataDef>}\n   * @private\n   */\n  buildAndPreloadBookend_() {\n    this.bookend_.build();\n    return this.bookend_.loadConfigAndMaybeRenderBookend();\n  }\n\n\n  /**\n   * @return {!Promise<boolean>}\n   * @private\n   */\n  hasBookend_() {\n    if (!this.storeService_.get(StateProperty.CAN_SHOW_BOOKEND)) {\n      return Promise.resolve(false);\n    }\n\n    // TODO(newmuis): Change this comment.\n    // On mobile there is always a bookend. On desktop, the bookend will only\n    // be shown if related articles have been configured.\n    if (!this.isDesktop_()) {\n      return Promise.resolve(true);\n    }\n\n    return this.bookend_\n        .loadConfigAndMaybeRenderBookend(false /** renderBookend */).then(\n            config => !!(config && config.components &&\n              config.components.length > 0));\n  }\n\n\n  /**\n   * @param {string} id The ID of the page whose index should be retrieved.\n   * @return {number} The index of the page.\n   */\n  getPageIndexById(id) {\n    const pageIndex = findIndex(this.pages_, page => page.element.id === id);\n    if (pageIndex < 0) {\n      user().error(TAG,\n          `Story refers to page \"${id}\", but no such page exists.`);\n    }\n\n    return pageIndex;\n  }\n\n\n  /**\n   * @param {string} id The ID of the page to be retrieved.\n   * @return {!./amp-story-page.AmpStoryPage} Retrieves the page with the\n   *     specified ID.\n   */\n  getPageById(id) {\n    const pageIndex = this.getPageIndexById(id);\n    return dev().assert(this.pages_[pageIndex],\n        `Page at index ${pageIndex} exists, but is missing from the array.`);\n  }\n\n\n  /**\n   * @return {number}\n   */\n  getPageCount() {\n    return this.pages_.length - this.adPages_.length;\n  }\n\n  /**\n   * @param {!./amp-story-page.AmpStoryPage} desiredPage\n   * @return {number} The index of the page.\n   */\n  getPageIndex(desiredPage) {\n    return findIndex(this.pages_, page => page === desiredPage);\n  }\n\n\n  /**\n   * Retrieves the page containing the element, or null. A background audio\n   * set on the <amp-story> tag would not be contained in a page.\n   * @param {!Element} element The element whose containing AmpStoryPage should\n   *     be retrieved\n   * @return {?./amp-story-page.AmpStoryPage} The AmpStoryPage containing the\n   *     specified element, if any.\n   */\n  getPageContainingElement_(element) {\n    const pageIndex = findIndex(this.pages_, page => {\n      const pageEl = closest(element, el => {\n        return el === page.element;\n      });\n\n      return !!pageEl;\n    });\n\n    return this.pages_[pageIndex] || null;\n  }\n\n\n  /** @override */\n  getElementDistance(element) {\n    const page = this.getPageContainingElement_(element);\n\n    // An element not contained in a page is likely to be global to the story,\n    // like a background audio. Setting the distance to -1 ensures it will not\n    // get evicted from the media pool.\n    if (!page) {\n      return -1;\n    }\n\n    return page.getDistance();\n  }\n\n\n  /** @override */\n  getMaxMediaElementCounts() {\n    let audioMediaElementsCount =\n        this.element.querySelectorAll('amp-audio, [background-audio]').length;\n    const videoMediaElementsCount =\n        this.element.querySelectorAll('amp-video').length;\n\n    // The root element (amp-story) might have a background-audio as well.\n    if (this.element.hasAttribute('background-audio')) {\n      audioMediaElementsCount++;\n    }\n\n    return {\n      [MediaType.AUDIO]: Math.min(\n          audioMediaElementsCount + MINIMUM_AD_MEDIA_ELEMENTS,\n          MAX_MEDIA_ELEMENT_COUNTS[MediaType.AUDIO]),\n      [MediaType.VIDEO]: Math.min(\n          videoMediaElementsCount + MINIMUM_AD_MEDIA_ELEMENTS,\n          MAX_MEDIA_ELEMENT_COUNTS[MediaType.VIDEO]),\n    };\n  }\n\n\n  /** @override */\n  getElement() {\n    return this.element;\n  }\n\n  /**\n   * Reacts to muted state updates.\n   * @param  {boolean} isMuted Whether the story just got muted.\n   * @private\n   */\n  onMutedStateUpdate_(isMuted) {\n    isMuted ? this.mute_() : this.unmute_();\n  }\n\n  /**\n   * Mutes the audio for the story.\n   * @private\n   */\n  mute_() {\n    this.pauseBackgroundAudio_();\n    if (this.activePage_) {\n      this.activePage_.muteAllMedia();\n    }\n  }\n\n  /**\n   * Pauses the background audio.\n   * @private\n   */\n  pauseBackgroundAudio_() {\n    if (!this.backgroundAudioEl_) {\n      return;\n    }\n    this.mediaPool_.pause(this.backgroundAudioEl_);\n  }\n\n  /**\n   * Unmutes the audio for the story.\n   * @private\n   */\n  unmute_() {\n    const unmuteAllMedia = () => {\n      this.playBackgroundAudio_();\n      if (this.activePage_) {\n        this.activePage_.unmuteAllMedia();\n      }\n    };\n\n    this.mediaPool_.blessAll()\n        .then(unmuteAllMedia, unmuteAllMedia);\n  }\n\n  /**\n   * Unmutes and plays the background audio.\n   * @private\n   */\n  playBackgroundAudio_() {\n    if (!this.backgroundAudioEl_) {\n      return;\n    }\n    this.mediaPool_.unmute(this.backgroundAudioEl_);\n    this.mediaPool_.play(this.backgroundAudioEl_);\n  }\n\n  /**\n   * Shows the audio icon if the story has any media elements containing audio,\n   * or background audio at the story or page level.\n   * @private\n   */\n  updateAudioIcon_() {\n    const containsMediaElementWithAudio = !!this.element.querySelector(\n        'amp-audio, amp-video:not([noaudio]), [background-audio]');\n    const hasStoryAudio = this.element.hasAttribute('background-audio');\n\n    this.storeService_.dispatch(Action.TOGGLE_HAS_AUDIO,\n        containsMediaElementWithAudio || hasStoryAudio);\n  }\n\n  /** @private */\n  replay_() {\n    if (this.storeService_.get(StateProperty.BOOKEND_STATE)) {\n      this.hideBookend_();\n    }\n    const switchPromise = this.switchTo_(\n        dev().assertElement(this.pages_[0].element).id);\n\n    // Reset all pages so that they are offscreen to right instead of left in\n    // desktop view.\n    switchPromise.then((() => {\n      this.pages_.forEach(page =>\n        removeAttributeInMutate(page, Attributes.VISITED));\n    }));\n  }\n\n  /** @return {!NavigationState} */\n  getNavigationState() {\n    return this.navigationState_;\n  }\n\n\n  /**\n   * Add page to back of pages_ array\n   * @param {!./amp-story-page.AmpStoryPage} page\n   */\n  addPage(page) {\n    this.pages_.push(page);\n\n    if (page.isAd()) {\n      this.adPages_.push(page);\n    }\n  }\n\n  /**\n   * Insert a new page in navigation flow by changing the attr pointers\n   * on amp-story-page elements\n   * @param {string} pageBeforeId\n   * @param {string} pageToBeInsertedId\n   * @return {boolean} was page inserted\n   */\n  insertPage(pageBeforeId, pageToBeInsertedId) {\n    // TODO(ccordry): make sure this method moves to PageManager when\n    // implemented\n    const pageToBeInserted = this.getPageById(pageToBeInsertedId);\n    const pageToBeInsertedEl = pageToBeInserted.element;\n\n    if (pageToBeInserted.isAd() &&\n        !this.storeService_.get(StateProperty.CAN_INSERT_AUTOMATIC_AD)) {\n      dev().expectedError(TAG, 'Inserting ads automatically is disallowed.');\n      return false;\n    }\n\n    const pageBefore = this.getPageById(pageBeforeId);\n    const pageBeforeEl = pageBefore.element;\n\n    const nextPage = this.getNextPage(pageBefore);\n\n    if (!nextPage) {\n      return false;\n    }\n\n    pageBeforeEl.setAttribute(Attributes.ADVANCE_TO, pageToBeInsertedId);\n    pageBeforeEl.setAttribute(Attributes.AUTO_ADVANCE_TO, pageToBeInsertedId);\n    pageToBeInsertedEl.setAttribute(Attributes.RETURN_TO, pageBeforeId);\n\n    const nextPageEl = nextPage.element;\n    const nextPageId = nextPageEl.id;\n    pageToBeInsertedEl.setAttribute(Attributes.ADVANCE_TO, nextPageId);\n    pageToBeInsertedEl.setAttribute(Attributes.AUTO_ADVANCE_TO, nextPageId);\n    nextPageEl.setAttribute(Attributes.RETURN_TO, pageToBeInsertedId);\n\n    return true;\n  }\n\n  /**\n   * Get next page object\n   * @param {!./amp-story-page.AmpStoryPage} page\n   * @return {?./amp-story-page.AmpStoryPage}\n   */\n  getNextPage(page) {\n    const nextPageId = page.getNextPageId(true /*opt_isAutomaticAdvance */);\n    if (!nextPageId) {\n      return null;\n    }\n    return this.getPageById(nextPageId);\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {boolean} true if the user's browser supports the features needed\n   *     for amp-story.\n   */\n  static isBrowserSupported(win) {\n    return Boolean(win.CSS && win.CSS.supports &&\n    win.CSS.supports('display', 'grid'));\n  }\n}\n\nAMP.extension('amp-story', '1.0', AMP => {\n  AMP.registerElement('amp-story', AmpStory, CSS);\n  AMP.registerElement('amp-story-access', AmpStoryAccess);\n  AMP.registerElement('amp-story-bookend', AmpStoryBookend);\n  AMP.registerElement('amp-story-consent', AmpStoryConsent);\n  AMP.registerElement('amp-story-cta-layer', AmpStoryCtaLayer);\n  AMP.registerElement('amp-story-grid-layer', AmpStoryGridLayer);\n  AMP.registerElement('amp-story-page', AmpStoryPage);\n});\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {StateChangeType} from './navigation-state';\nimport {dev} from '../../../src/log';\nimport {triggerAnalyticsEvent} from '../../../src/analytics';\n\n\n/** @enum {string} */\nconst Events = {\n  PAGE_VISIBLE: 'story-page-visible',\n  BOOKEND_ENTER: 'story-bookend-enter',\n  BOOKEND_EXIT: 'story-bookend-exit',\n  STORY_MUTED: 'story-audio-muted',\n  STORY_UNMUTED: 'story-audio-unmuted',\n};\n\n\n/**\n * Intermediate handler for amp-story specific analytics.\n */\nexport class AmpStoryAnalytics {\n  /**\n   * @param {!Window} win\n   * @param {!Element} element\n   */\n  constructor(win, element) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!Element} */\n    this.element_ = element;\n\n\n  }\n\n  /**\n   * @param {!./navigation-state.StateChangeEventDef} stateChangeEvent\n   */\n  onNavigationStateChange(stateChangeEvent) {\n    switch (stateChangeEvent.type) {\n      case StateChangeType.ACTIVE_PAGE:\n          this.triggerEvent_(Events.PAGE_VISIBLE);\n        break;\n      case StateChangeType.BOOKEND_ENTER:\n        this.triggerEvent_(Events.BOOKEND_ENTER);\n        break;\n      case StateChangeType.BOOKEND_EXIT:\n          this.triggerEvent_(Events.BOOKEND_EXIT);\n        break;\n    }\n  }\n\n  /**\n   * @param {boolean} isMuted\n   */\n  onMutedStateChange(isMuted) {\n    const event = isMuted ? Events.STORY_MUTED : Events.STORY_UNMUTED;\n    this.triggerEvent_(event);\n  }\n\n  /**\n   * @param {string} eventType\n   * @private\n   */\n  triggerEvent_(eventType) {\n    const variablesPromise = Services.storyVariableServiceForOrNull(this.win_);\n    variablesPromise.then(\n        variables => {\n          triggerAnalyticsEvent(this.element_, eventType,\n              /** @type {!Object<string, string>} */ (variables));\n        },\n        reason => {\n          dev().error('AMP-STORY', 'Could not get analytics variables', reason);\n        });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Common animations utility functions used in the animation\n * presets.\n */\n\nimport {\n  KeyframesDef,\n  StoryAnimationDimsDef,\n} from './animation-types';\nimport {\n  rotate,\n  scale,\n  translate,\n} from '../../../src/style';\n\n/**\n * Translates the element on the 2d plane according to the given points.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function translate2d(startX, startY, endX, endY) {\n  return [\n    {transform: translate(startX, startY)},\n    {transform: translate(endX, endY)},\n  ];\n}\n\n/**\n * Translates and rotates the element on the 2d plane.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @param {number} direction -1 for left, 1 for right\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function rotateAndTranslate(startX, startY, endX, endY, direction) {\n  return [\n    {transform: translate(startX, startY) + ' ' + rotate(direction * 360)},\n    {transform: translate(endX, endY) + ' ' + rotate(0)},\n  ];\n}\n\n/**\n * Gradually shows and grows the element while translating it on the 2d plane.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function whooshIn(startX, startY, endX, endY) {\n  return [\n    {\n      opacity: 0,\n      transform: translate(startX, startY) + ' ' + scale(0.15),\n    },\n    {\n      opacity: 1,\n      transform: translate(endX, endY) + ' ' + scale(1),\n    },\n  ];\n}\n\n/**\n * Checks if either of the target's dimensions are smaller than or equal to\n * those of the page.\n * @param {StoryAnimationDimsDef} dimensions Dimensions of page and target.\n * @return {boolean}\n * @visibleForTesting\n */\nexport function targetFitsWithinPage(dimensions) {\n  return dimensions.targetWidth <= dimensions.pageWidth ||\n         dimensions.targetHeight <= dimensions.pageHeight;\n}\n\n/**\n * Calculate target scaling factor so that it is at least 25% larger than the\n * page.\n * @param {StoryAnimationDimsDef} dimensions Dimensions of page and target.\n * @return {number}\n */\nexport function calculateTargetScalingFactor(dimensions) {\n  if (targetFitsWithinPage(dimensions)) {\n    const scalingFactor = 1.25;\n    const widthFactor = dimensions.pageWidth > dimensions.targetWidth ?\n      dimensions.pageWidth / dimensions.targetWidth : 1;\n    const heightFactor = dimensions.pageHeight > dimensions.targetHeight ?\n      dimensions.pageHeight / dimensions.targetHeight : 1;\n    return Math.max(widthFactor, heightFactor) * scalingFactor;\n  }\n  return 1;\n}\n\n/**\n * Scale the image in every frame by a certain factor.\n * @param {KeyframesDef} keyframes Keyframes that will be used for the animation.\n * @param {number} scalingFactor Scaling factor at which target will be scaled.\n * @return {KeyframesDef}\n */\nfunction enlargeKeyFrames(keyframes, scalingFactor) {\n  keyframes.forEach(frame => {\n    frame['transform'] += ' ' + scale(scalingFactor);\n    frame['transform-origin'] = 'left top';\n  });\n  return keyframes;\n}\n\n/**\n * Translates the element and scales it if necessary.\n * @param {number} startX Starting point in the abscissa.\n * @param {number} startY Starting point in the ordinate.\n * @param {number} endX Ending point in the abscissa.\n * @param {number} endY Ending point in the ordinate.\n * @param {number} scalingFactor Factor by which target will be scaled.\n * @return {KeyframesDef} Keyframes that make up the animation.\n */\nexport function scaleAndTranslate(startX, startY, endX, endY, scalingFactor) {\n  if (scalingFactor === 1) {\n    return translate2d(startX, startY, endX, endY);\n  }\n  return enlargeKeyFrames(\n      translate2d(startX, startY, endX, endY), scalingFactor);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {GRID_LAYER_TEMPLATE_CLASS_NAMES} from './amp-story-grid-layer';\nimport {StoryAnimationPresetDef} from './animation-types';\nimport {\n  calculateTargetScalingFactor,\n  rotateAndTranslate,\n  scaleAndTranslate,\n  translate2d,\n  whooshIn,\n} from './animation-presets-utils';\nimport {px} from '../../../src/style';\n\nconst FULL_BLEED_CATEGORY = 'full-bleed';\nconst FILL_TEMPLATE_LAYOUT = 'fill';\n\n/**\n * A list of animations that are full bleed.\n * @private @const {!Array<string>}\n */\nconst FULL_BLEED_ANIMATION_NAMES = [\n  'pan-up',\n  'pan-down',\n  'pan-right',\n  'pan-left',\n  'zoom-in',\n  'zoom-out',\n];\n\n/**\n * A mapping of animation categories to corresponding CSS class names.\n * @private @const {!Object<string, string>}\n */\nconst ANIMATION_CSS_CLASS_NAMES = {\n  [FULL_BLEED_CATEGORY]:\n      'i-amphtml-story-grid-template-with-full-bleed-animation',\n};\n\n/**\n * Perform style-specific operations for presets.\n * @param {!Element} el\n * @param {string} presetName\n */\nexport function setStyleForPreset(el, presetName) {\n  // For full bleed animations.\n  if (FULL_BLEED_ANIMATION_NAMES.indexOf(presetName) >= 0) {\n    const parent = el.parentElement;\n    if (parent.classList.contains(\n        GRID_LAYER_TEMPLATE_CLASS_NAMES[FILL_TEMPLATE_LAYOUT])) {\n      parent.classList\n          .remove(GRID_LAYER_TEMPLATE_CLASS_NAMES[FILL_TEMPLATE_LAYOUT]);\n    }\n    parent.classList.add(ANIMATION_CSS_CLASS_NAMES[FULL_BLEED_CATEGORY]);\n  }\n}\n\n/** @const {!Object<string, !StoryAnimationPresetDef>} */\n// First keyframe will always be considered offset: 0 and will be applied to the\n// element as the first frame before animation starts.\nexport const PRESETS = {\n  'pulse': {\n    duration: 500,\n    easing: 'linear',\n    keyframes: [\n      {\n        offset: 0,\n        transform: 'scale(1)',\n      },\n      {\n        offset: 0.25,\n        transform: 'scale(0.95)',\n      },\n      {\n        offset: 0.75,\n        transform: 'scale(1.05)',\n      },\n      {\n        offset: 1,\n        transform: 'scale(1)',\n      },\n    ],\n  },\n  'fly-in-left': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = -(dimensions.targetX + dimensions.targetWidth);\n      return translate2d(offsetX, 0, 0, 0);\n    },\n  },\n  'fly-in-right': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = dimensions.pageWidth - dimensions.targetX;\n      return translate2d(offsetX, 0, 0, 0);\n    },\n  },\n  'fly-in-top': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetY = -(dimensions.targetY + dimensions.targetHeight);\n      return translate2d(0, offsetY, 0, 0);\n    },\n  },\n  'fly-in-bottom': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetY = dimensions.pageHeight - dimensions.targetY;\n      return translate2d(0, offsetY, 0, 0);\n    },\n  },\n  'rotate-in-left': {\n    duration: 700,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = -(dimensions.targetX + dimensions.targetWidth);\n      return rotateAndTranslate(offsetX, 0, 0, 0, -1);\n    },\n  },\n  'rotate-in-right': {\n    duration: 700,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = dimensions.pageWidth - dimensions.targetX;\n      return rotateAndTranslate(offsetX, 0, 0, 0, 1);\n    },\n  },\n  'fade-in': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes: [\n      {\n        opacity: 0,\n      },\n      {\n        opacity: 1,\n      },\n    ],\n  },\n  'drop': {\n    duration: 1600,\n    keyframes(dimensions) {\n      const maxBounceHeight =\n          Math.max(160, dimensions.targetY + dimensions.targetHeight);\n\n      return [\n        {\n          offset: 0,\n          transform: `translateY(${px(-maxBounceHeight)})`,\n          easing: 'cubic-bezier(.75,.05,.86,.08)',\n        },\n        {\n          offset: 0.3,\n          transform: 'translateY(0)',\n          easing: 'cubic-bezier(.22,.61,.35,1)',\n        },\n        {\n          offset: 0.52,\n          transform: `translateY(${px(-0.6 * maxBounceHeight)})`,\n          easing: 'cubic-bezier(.75,.05,.86,.08)',\n        },\n        {\n          offset: 0.74,\n          transform: 'translateY(0)',\n          easing: 'cubic-bezier(.22,.61,.35,1)',\n        },\n        {\n          offset: 0.83,\n          transform: `translateY(${px(-0.3 * maxBounceHeight)})`,\n          easing: 'cubic-bezier(.75,.05,.86,.08)',\n        },\n        {\n          offset: 1,\n          transform: 'translateY(0)',\n          easing: 'cubic-bezier(.22,.61,.35,1)',\n        },\n      ];\n    },\n  },\n  'twirl-in': {\n    duration: 1000,\n    easing: 'cubic-bezier(.2,.75,.4,1)',\n    keyframes: [\n      {\n        transform: 'rotate(-540deg) scale(0.1)',\n        opacity: 0,\n      },\n      {\n        transform: 'none',\n        opacity: 1,\n      },\n    ],\n  },\n  'whoosh-in-left': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = -(dimensions.targetX + dimensions.targetWidth);\n      return whooshIn(offsetX, 0, 0, 0);\n    },\n  },\n  'whoosh-in-right': {\n    duration: 500,\n    easing: 'ease-out',\n    keyframes(dimensions) {\n      const offsetX = dimensions.pageWidth - dimensions.targetX;\n      return whooshIn(offsetX, 0, 0, 0);\n    },\n  },\n  'pan-left': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = dimensions.pageWidth - dimensions.targetWidth;\n      const offsetY = (dimensions.pageHeight - dimensions.targetHeight) / 2;\n\n      return scaleAndTranslate(offsetX, offsetY, 0, offsetY, scalingFactor);\n    },\n  },\n  'pan-right': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = dimensions.pageWidth - dimensions.targetWidth;\n      const offsetY = (dimensions.pageHeight - dimensions.targetHeight) / 2;\n\n      return scaleAndTranslate(0, offsetY, offsetX, offsetY, scalingFactor);\n    },\n  },\n  'pan-down': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = -dimensions.targetWidth / 2;\n      const offsetY = dimensions.pageHeight - dimensions.targetHeight;\n\n      return scaleAndTranslate(offsetX, 0, offsetX, offsetY, scalingFactor);\n    },\n  },\n  'pan-up': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes(dimensions) {\n      const scalingFactor = calculateTargetScalingFactor(dimensions);\n      dimensions.targetWidth *= scalingFactor;\n      dimensions.targetHeight *= scalingFactor;\n\n      const offsetX = -dimensions.targetWidth / 2;\n      const offsetY = dimensions.pageHeight - dimensions.targetHeight;\n\n      return scaleAndTranslate(offsetX, offsetY, offsetX, 0, scalingFactor);\n    },\n  },\n  'zoom-in': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes: [\n      {transform: 'scale(1,1)'},\n      {transform: 'scale(3,3)'},\n    ],\n  },\n  'zoom-out': {\n    duration: 1000,\n    easing: 'linear',\n    keyframes: [\n      {transform: 'scale(3,3)'},\n      {transform: 'scale(1,1)'},\n    ],\n  },\n};\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {!Array<!Object<string, *>>} */\nexport let KeyframesDef;\n\n\n/** @typedef {(function(StoryAnimationDimsDef):!KeyframesDef)|!KeyframesDef} */\nexport let KeyframesOrFilterFnDef;\n\n\n/**\n * @typedef {{\n *   pageWidth: number,\n *   pageHeight: number,\n *   targetWidth: number,\n *   targetHeight: number,\n *   targetX: number,\n *   targetY: number,\n * }}\n */\nexport let StoryAnimationDimsDef;\n\n\n/**\n * @typedef {{\n *   duration: number,\n *   easing: (string|undefined),\n *   keyframes: !KeyframesOrFilterFnDef,\n * }}\n */\nexport let StoryAnimationPresetDef;\n\n\n/**\n * @typedef {{\n *  target: !Element,\n *  startAfterId: (string|undefined),\n *  preset: !StoryAnimationPresetDef,\n *  duration: (number|undefined),\n *  delay: (number|undefined),\n * }}\n */\nexport let StoryAnimationDef;\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from '../../../src/utils/promise';\nimport {\n  KeyframesDef,\n  KeyframesOrFilterFnDef,\n  StoryAnimationDef,\n  StoryAnimationDimsDef,\n  StoryAnimationPresetDef,\n} from './animation-types';\nimport {PRESETS, setStyleForPreset} from './animation-presets';\nimport {Services} from '../../../src/services';\nimport {\n  WebAnimationPlayState,\n} from '../../amp-animation/0.1/web-animation-types';\nimport {dev, user} from '../../../src/log';\nimport {escapeCssSelectorIdent, scopedQuerySelector, scopedQuerySelectorAll} from '../../../src/dom';\nimport {map, omit} from '../../../src/utils/object';\nimport {setStyles} from '../../../src/style';\nimport {timeStrToMillis, unscaledClientRect} from './utils';\n\n/** const {string} */\nexport const ANIMATE_IN_ATTRIBUTE_NAME = 'animate-in';\n/** const {string} */\nconst ANIMATE_IN_DURATION_ATTRIBUTE_NAME = 'animate-in-duration';\n/** const {string} */\nconst ANIMATE_IN_DELAY_ATTRIBUTE_NAME = 'animate-in-delay';\n/** const {string} */\nconst ANIMATE_IN_AFTER_ATTRIBUTE_NAME = 'animate-in-after';\n/** const {string} */\nconst ANIMATABLE_ELEMENTS_SELECTOR = `[${ANIMATE_IN_ATTRIBUTE_NAME}]`;\n\n\n/**\n * @param {!Element} element\n * @return {boolean}\n * TODO(alanorozco): maybe memoize?\n */\nexport function hasAnimations(element) {\n  return !!scopedQuerySelector(element, ANIMATABLE_ELEMENTS_SELECTOR);\n}\n\n\n/** @enum {number} */\nconst PlaybackActivity = {\n  START: 0,\n  FINISH: 1,\n};\n\n\n/** Wraps WebAnimationRunner for story page elements. */\nclass AnimationRunner {\n  /**\n   * @param {!Element} page\n   * @param {!StoryAnimationDef} animationDef\n   * @param {!Promise<\n   *    !../../amp-animation/0.1/web-animations.Builder\n   * >} webAnimationBuilderPromise\n   * @param {!../../../src/service/vsync-impl.Vsync} vsync\n   * @param {!../../../src/service/timer-impl.Timer} timer\n   * @param {!AnimationSequence} sequence\n   */\n  constructor(\n    page, animationDef, webAnimationBuilderPromise, vsync, timer, sequence) {\n    /** @private @const */\n    this.page_ = page;\n\n    /** @private @const */\n    this.timer_ = timer;\n\n    /** @private @const */\n    this.vsync_ = vsync;\n\n    /** @private @const */\n    this.target_ = dev().assertElement(animationDef.target);\n\n    /** @private @const */\n    this.sequence_ = sequence;\n\n    /** @private @const */\n    this.animationDef_ = animationDef;\n\n    /** @private @const */\n    this.presetDef_ = animationDef.preset;\n\n    /** @private @const */\n    this.keyframes_ = this.filterKeyframes_(animationDef.preset.keyframes);\n\n    /** @private @const */\n    this.delay_ = animationDef.delay || this.presetDef_.delay || 0;\n\n    /** @private @const */\n    this.duration_ = animationDef.duration || this.presetDef_.duration || 0;\n\n    /**\n     * @private @const {!Promise<\n     *    !../../amp-animation/0.1/web-animations.WebAnimationRunner>}\n     */\n    this.runnerPromise_ = this.getWebAnimationDef_().then(webAnimDef =>\n      webAnimationBuilderPromise.then(builder =>\n        builder.createRunner(webAnimDef)));\n\n    /** @private @const {!Promise<!Object<string, *>>} */\n    this.firstFrameProps_ =\n        this.keyframes_.then(keyframes => omit(keyframes[0], ['offset']));\n\n    /** @private {?../../amp-animation/0.1/web-animations.WebAnimationRunner} */\n    this.runner_ = null;\n\n    /** @private {?PlaybackActivity} */\n    this.scheduledActivity_ = null;\n\n    /** @private {?Promise} */\n    this.scheduledWait_ = null;\n\n    this.keyframes_.then(keyframes => dev().assert(\n        !keyframes[0].offset,\n        'First keyframe offset for animation preset should be 0 or undefined'));\n\n    user().assert(\n        this.delay_ >= 0,\n        'Negative delays are not allowed in amp-story entrance animations.');\n\n    this.runnerPromise_.then(runner => this.onRunnerReady_(runner));\n  }\n\n  /**\n   * @return {!Promise<!StoryAnimationDimsDef>}\n   * @visibleForTesting\n   */\n  getDims() {\n    return this.vsync_.measurePromise(() => {\n      const targetRect = unscaledClientRect(this.target_);\n      const pageRect = unscaledClientRect(this.page_);\n\n      return /** @type {!StoryAnimationDimsDef} */ ({\n        pageWidth: pageRect.width,\n        pageHeight: pageRect.height,\n        targetWidth: targetRect.width,\n        targetHeight: targetRect.height,\n        targetX: targetRect.left - pageRect.left,\n        targetY: targetRect.top - pageRect.top,\n      });\n    });\n  }\n\n  /**\n   * @param {!KeyframesOrFilterFnDef} keyframesArrayOrFn\n   * @return {!Promise<!KeyframesDef>}\n   * @private\n   */\n  filterKeyframes_(keyframesArrayOrFn) {\n    if (Array.isArray(keyframesArrayOrFn)) {\n      return Promise.resolve(keyframesArrayOrFn);\n    }\n    return this.getDims().then(keyframesArrayOrFn);\n  }\n\n  /**\n   * @return {!Promise<\n   *   !../../amp-animation/0.1/web-animation-types.WebKeyframeAnimationDef>}\n   * @private\n   */\n  getWebAnimationDef_() {\n    return this.keyframes_.then(keyframes => ({\n      keyframes,\n      target: this.target_,\n      duration: `${this.duration_}ms`,\n      easing: this.presetDef_.easing,\n      fill: 'forwards',\n    }));\n  }\n\n  /** @return {!Promise<void>} */\n  applyFirstFrame() {\n    if (this.hasStarted()) {\n      return Promise.resolve();\n    }\n\n    if (this.runner_) {\n      this.runner_.cancel();\n    }\n\n    return this.firstFrameProps_.then(firstFrameProps =>\n      this.vsync_.mutatePromise(() => {\n        setStyles(this.target_, firstFrameProps);\n      }));\n  }\n\n  /** Starts or resumes the animation. */\n  start() {\n    if (this.hasStarted()) {\n      return;\n    }\n\n    this.playback_(PlaybackActivity.START, this.getStartWaitPromise_());\n  }\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  getStartWaitPromise_() {\n    let promise = Promise.resolve();\n\n    if (this.animationDef_.startAfterId) {\n      const startAfterId = /** @type {string} */(\n        this.animationDef_.startAfterId);\n      promise = promise.then(() => this.sequence_.waitFor(startAfterId));\n    }\n\n    if (this.delay_) {\n      promise = promise.then(() => this.timer_.promise(this.delay_));\n    }\n\n    return promise;\n  }\n\n  /**\n   * @param {!../../amp-animation/0.1/web-animations.WebAnimationRunner} runner\n   * @private\n   */\n  startWhenReady_(runner) {\n    runner.start();\n  }\n\n  /** @return {boolean} */\n  hasStarted() {\n    return this.isActivityScheduled_(PlaybackActivity.START) ||\n        (!!this.runner_ && dev().assert(this.runner_)\n            .getPlayState() == WebAnimationPlayState.RUNNING);\n  }\n\n  /** Force-finishes all animations. */\n  finish() {\n    if (!this.runner_) {\n      this.notifyFinish_();\n    }\n    this.playback_(PlaybackActivity.FINISH);\n  }\n\n  /**\n   * @param {!../../amp-animation/0.1/web-animations.WebAnimationRunner} runner\n   * @private\n   */\n  finishWhenReady_(runner) {\n    if (runner.getPlayState() == WebAnimationPlayState.RUNNING) {\n      runner.finish();\n    }\n  }\n\n  /** Cancels animation. */\n  cancel() {\n    this.scheduledActivity_ = null;\n    this.scheduledWait_ = null;\n\n    if (this.runner_) {\n      dev().assert(this.runner_).cancel();\n    }\n  }\n\n  /**\n   * @param {!PlaybackActivity} activity\n   * @param {!Promise=} opt_wait\n   * @private\n   */\n  playback_(activity, opt_wait) {\n    const wait = opt_wait || null;\n\n    this.scheduledActivity_ = activity;\n    this.scheduledWait_ = wait;\n\n    if (this.runner_) {\n      this.playbackWhenReady_(activity, wait);\n    }\n  }\n\n  /**\n   * Executes playback activity if runner is ready.\n   * @param {!PlaybackActivity} activity\n   * @param {?Promise} wait\n   * @private\n   */\n  playbackWhenReady_(activity, wait) {\n    const runner =\n        /**\n         * @type {!../../amp-animation/0.1/web-animations.WebAnimationRunner}\n         */\n        (dev().assert(\n            this.runner_,\n            'Tried to execute playbackWhenReady_ before runner was resolved.'));\n\n    (wait || Promise.resolve()).then(() => {\n      if (!this.isActivityScheduled_(activity)) {\n        return;\n      }\n\n      this.scheduledActivity_ = null;\n      this.scheduledWait_ = null;\n\n      switch (activity) {\n        case PlaybackActivity.START: return this.startWhenReady_(runner);\n        case PlaybackActivity.FINISH: return this.finishWhenReady_(runner);\n      }\n    });\n  }\n\n  /**\n   * Marks runner as ready and executes playback activity if needed.\n   * @param {!../../amp-animation/0.1/web-animations.WebAnimationRunner} runner\n   * @private\n   */\n  onRunnerReady_(runner) {\n    this.runner_ = runner;\n\n    runner.onPlayStateChanged(state => {\n      if (state == WebAnimationPlayState.FINISHED) {\n        this.notifyFinish_();\n      }\n    });\n\n    if (!this.isActivityScheduled_()) {\n      return;\n    }\n\n    this.playbackWhenReady_(\n        /** @type {!PlaybackActivity} */ (this.scheduledActivity_),\n        this.scheduledWait_);\n  }\n\n  /**\n   * @param {!PlaybackActivity=} opt_activity\n   * @return {boolean}\n   * @private\n   */\n  isActivityScheduled_(opt_activity) {\n    if (!opt_activity) {\n      return this.scheduledActivity_ !== null;\n    }\n    return this.scheduledActivity_ === opt_activity;\n  }\n\n  /** @private */\n  notifyFinish_() {\n    if (this.target_.id) {\n      this.sequence_.notifyFinish(this.target_.id);\n    }\n  }\n}\n\n\n// TODO(alanorozco): Looping animations\n/** Manager for animations in story pages. */\nexport class AnimationManager {\n  /**\n   * @param {!Element} root\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   */\n  constructor(root, ampdoc) {\n    dev().assert(hasAnimations(root));\n\n    /** @private @const */\n    this.root_ = root;\n\n    /** @private @const */\n    this.ampdoc_ = ampdoc;\n\n    /** @private @const */\n    this.vsync_ = Services.vsyncFor(this.ampdoc_.win);\n\n    /** @private @const */\n    this.timer_ = Services.timerFor(this.ampdoc_.win);\n\n    /** @private @const */\n    this.builderPromise_ = this.createAnimationBuilderPromise_();\n\n    /** @private {?Array<!Promise<!AnimationRunner>>} */\n    this.runners_ = null;\n\n    /** @private */\n    this.sequence_ = AnimationSequence.create();\n  }\n\n  /**\n   * Decouples constructor so it can be stubbed in tests.\n   * @param {!Element} root\n   * @param {!../../../src/service/ampdoc-impl.AmpDoc} ampdoc\n   * @param {string} unusedBaseUrl\n   * @return {!AnimationManager}\n   */\n  static create(root, ampdoc, unusedBaseUrl) {\n    return new AnimationManager(root, ampdoc);\n  }\n\n  /**\n   * Applies first frame to target element before starting animation.\n   * @return {!Promise}\n   */\n  applyFirstFrame() {\n    return Promise.all(\n        this.getOrCreateRunners_().map(runner => runner.applyFirstFrame()));\n  }\n\n  /** Starts all entrance animations for the page. */\n  animateIn() {\n    this.getRunners_().forEach(runner => runner.start());\n  }\n\n  /** Skips all entrance animations for the page. */\n  finishAll() {\n    this.getRunners_().forEach(runner => runner.finish());\n  }\n\n  /** Cancels all entrance animations for the page. */\n  cancelAll() {\n    if (!this.runners_) {\n      // nothing to cancel when the first frame has not been applied yet.\n      return;\n    }\n    this.getRunners_().forEach(runner => runner.cancel());\n  }\n\n  /** Determines if there is an entrance animation running. */\n  hasAnimationStarted() {\n    return this.getRunners_().some(runner => runner.hasStarted());\n  }\n\n  /** @private */\n  getRunners_() {\n    return dev().assert(this.runners_, 'Executed before applyFirstFrame');\n  }\n\n  /**\n   * @return {!Array<!AnimationRunner>}\n   * @private\n   */\n  getOrCreateRunners_() {\n    if (!this.runners_) {\n      this.runners_ = Array.prototype.map.call(\n          scopedQuerySelectorAll(this.root_, ANIMATABLE_ELEMENTS_SELECTOR),\n          el => this.createRunner_(el));\n    }\n    return dev().assert(this.runners_);\n  }\n\n  /**\n   * @param {!Element} el\n   * @return {!AnimationRunner}\n   */\n  createRunner_(el) {\n    const preset = this.getPreset_(el);\n    const animationDef = this.createAnimationDef(el, preset);\n\n    return new AnimationRunner(\n        this.root_,\n        animationDef,\n        dev().assert(this.builderPromise_),\n        this.vsync_,\n        this.timer_,\n        this.sequence_);\n  }\n\n  /**\n   * @param {!Element} el\n   * @param {!StoryAnimationPresetDef} preset\n   * @return {!StoryAnimationDef}\n   */\n  createAnimationDef(el, preset) {\n    const animationDef = {target: el, preset};\n\n    if (el.hasAttribute(ANIMATE_IN_DURATION_ATTRIBUTE_NAME)) {\n      animationDef.duration =\n          timeStrToMillis(el.getAttribute(ANIMATE_IN_DURATION_ATTRIBUTE_NAME));\n    }\n\n    if (el.hasAttribute(ANIMATE_IN_DELAY_ATTRIBUTE_NAME)) {\n      animationDef.delay =\n          timeStrToMillis(el.getAttribute(ANIMATE_IN_DELAY_ATTRIBUTE_NAME));\n    }\n\n    if (el.hasAttribute(ANIMATE_IN_AFTER_ATTRIBUTE_NAME)) {\n      const dependencyId = el.getAttribute(ANIMATE_IN_AFTER_ATTRIBUTE_NAME);\n\n      user().assertElement(\n          this.root_.querySelector(`#${escapeCssSelectorIdent(dependencyId)}`),\n          `The attribute '${ANIMATE_IN_AFTER_ATTRIBUTE_NAME}' in tag ` +\n              `'${el.tagName}' is set to the invalid value ` +\n              `'${dependencyId}'. No children of parenting 'amp-story-page' ` +\n              `exist with id ${dependencyId}.`);\n\n      animationDef.startAfterId =\n          el.getAttribute(ANIMATE_IN_AFTER_ATTRIBUTE_NAME);\n    }\n\n    return animationDef;\n  }\n\n  /**\n   * @return {!Promise<!../../amp-animation/0.1/web-animations.Builder>}\n   * @private\n   */\n  createAnimationBuilderPromise_() {\n    return Services.extensionsFor(this.ampdoc_.win)\n        .installExtensionForDoc(this.ampdoc_, 'amp-animation')\n        .then(() => Services.webAnimationServiceFor(this.ampdoc_))\n        .then(webAnimationService => webAnimationService.createBuilder());\n  }\n\n  /**\n   * @param {!Element} el\n   * @return {!StoryAnimationPresetDef}\n   */\n  getPreset_(el) {\n    const name = el.getAttribute(ANIMATE_IN_ATTRIBUTE_NAME);\n    setStyleForPreset(el, name);\n\n    return user().assert(\n        PRESETS[name],\n        'Invalid %s preset \"%s\" for element %s',\n        ANIMATE_IN_ATTRIBUTE_NAME,\n        name,\n        el);\n  }\n}\n\n\n/** Bus for animation sequencing. */\nclass AnimationSequence {\n  /**\n   * @public\n   */\n  constructor() {\n    /** @private @const {!Object<string, !Promise>} */\n    this.subscriptionPromises_ = map();\n\n    /** @private @const {!Object<string, !Function>} */\n    this.subscriptionResolvers_ = map();\n  }\n\n  /** Decouples constructor for testing. */\n  static create() {\n    return new AnimationSequence();\n  }\n\n  /**\n   * Notifies dependent elements that animation has finished.\n   * @param {string} id\n   */\n  notifyFinish(id) {\n    if (id in this.subscriptionPromises_) {\n      dev().assert(this.subscriptionResolvers_[id])();\n\n      delete this.subscriptionPromises_[id];\n    }\n  }\n\n  /**\n   * Waits for another element to finish animating.\n   * @param {string} id\n   * @return {!Promise<void>}\n   */\n  waitFor(id) {\n    if (!(id in this.subscriptionPromises_)) {\n      const deferred = new Deferred();\n      this.subscriptionPromises_[id] = deferred.promise;\n      this.subscriptionResolvers_[id] = deferred.resolve;\n    }\n    return this.subscriptionPromises_[id];\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../../src/services';\n\n/**\n * @const {string}\n */\nconst BACKGROUND_AUDIO_ELEMENT_CLASS_NAME = 'i-amphtml-story-background-audio';\n\n\n/**\n * Adds support for the background-audio property on the specified element.\n * @param {!Element} element The element to upgrade with support for background\n *     audio.\n * @return {?Element} audioEl\n */\nexport function upgradeBackgroundAudio(element) {\n  if (!element.hasAttribute('background-audio')) {\n    return null;\n  }\n  const audioEl = element.ownerDocument.createElement('audio');\n  const audioSrc =\n      Services.urlForDoc(element).assertHttpsUrl(\n          element.getAttribute('background-audio'), element);\n  audioEl.setAttribute('src', audioSrc);\n  audioEl.setAttribute('preload', 'auto');\n  audioEl.setAttribute('loop', '');\n  audioEl.setAttribute('autoplay', '');\n  audioEl.setAttribute('muted', '');\n  audioEl.muted = true;\n  audioEl.classList.add(BACKGROUND_AUDIO_ELEMENT_CLASS_NAME);\n  element.appendChild(audioEl);\n\n  return audioEl;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../../src/services';\nimport {listenOncePromise} from '../../../src/event-helper';\nimport {setStyle} from '../../../src/style';\n\n\n/** @const {number} */\nconst SWAP_TIMEOUT_MS = 500;\n\n\nconst BACKGROUND_CLASS = 'i-amphtml-story-background';\n\nconst BACKGROUND_CONTAINER_CLASS = 'i-amphtml-story-background-container';\n\nconst BACKGROUND_OVERLAY_CLASS = 'i-amphtml-story-background-overlay';\n\n\n\n/**\n * @param {?string} url\n * @return {!Promise}\n */\nfunction maybeLoadImage(url) {\n  if (!url) {\n    return Promise.resolve();\n  }\n  const img = new Image;\n  img.src = url;\n  return listenOncePromise(img, 'load');\n}\n\n\n/**\n * TODO(cvializ): Investigate pre-rendering blurred backgrounds to canvas to\n * possibly improve performance?\n */\nexport class AmpStoryBackground {\n  /**\n   * @param {!Window} win\n   * @param {!Element} element\n   */\n  constructor(win, element) {\n    /* @private @const {!Element} */\n    this.element_ = element;\n\n    /* @private @const {!Window} */\n    this.win_ = win;\n\n    /* @private {number} */\n    this.count_ = 0;\n\n    /** @private @const */\n    this.container_ = this.element_.ownerDocument.createElement('div');\n\n    /** @private @const */\n    this.containerOverlay_ = this.element_.ownerDocument.createElement('div');\n\n    /** @private {!Element} */\n    this.hidden_ = this.createBackground_();\n\n    /** @private {!Element} */\n    this.active_ = this.createBackground_();\n\n    this.container_.classList.add(BACKGROUND_CONTAINER_CLASS);\n    this.containerOverlay_.classList.add(BACKGROUND_OVERLAY_CLASS);\n\n    this.container_.appendChild(this.hidden_);\n    this.container_.appendChild(this.active_);\n    this.container_.appendChild(this.containerOverlay_);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  createBackground_() {\n    const bg = this.element_.ownerDocument.createElement('div');\n    bg.classList.add(BACKGROUND_CLASS);\n    return bg;\n  }\n\n  /**\n   * Attach the backgrounds to the document.\n   */\n  attach() {\n    this.element_.insertBefore(this.container_, this.element_.firstChild);\n  }\n\n  /**\n   * Update the background with new background image URL.\n   * @param {string} color\n   * @param {?string} url\n   * @param {boolean=} initial\n   */\n  setBackground(color, url, initial = false) {\n    const countAtAdd = ++this.count_;\n\n    const whenFresh = (promise, callback) => promise.then(() => {\n      if (this.count_ == countAtAdd) {\n        callback();\n      }\n    });\n\n    const imgLoad = maybeLoadImage(url);\n    const timeout =\n        Services.timerFor(this.win_).promise(initial ? 0 : SWAP_TIMEOUT_MS);\n\n    const hidden = this.hidden_;\n\n    setStyle(hidden, 'background-image', 'none');\n\n    // Image will be swapped on load.\n    whenFresh(imgLoad, () => {\n      setStyle(hidden, 'background-image', url ? `url(${url})` : null);\n    });\n\n    // Color will always be swapped on timeout.\n    whenFresh(Promise.race([imgLoad, timeout]), () => {\n      setStyle(hidden, 'background-color', color);\n      this.rotateActiveBackground_();\n    });\n  }\n\n  /**\n   * Rotates the classes on page background to bring the new bacground in\n   * foreground.\n   * @private\n   */\n  rotateActiveBackground_() {\n    const newHidden = this.active_;\n    this.active_ = this.hidden_;\n    this.hidden_ = newHidden;\n    this.active_.classList.add('active');\n    this.hidden_.classList.remove('active');\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Action,\n  StateProperty,\n  UIType,\n  getStoreService,\n} from '../amp-story-store-service';\nimport {ActionTrust} from '../../../../src/action-constants';\nimport {BookendComponent} from './bookend-component';\nimport {CSS} from '../../../../build/amp-story-bookend-1.0.css';\nimport {DEPRECATED_SHARE_PROVIDERS_KEY, SHARE_PROVIDERS_KEY, ScrollableShareWidget} from '../amp-story-share';\nimport {EventType, dispatch} from '../events';\nimport {KeyCodes} from '../../../../src/utils/key-codes';\nimport {LocalizedStringId} from '../localization';\nimport {Services} from '../../../../src/services';\nimport {closest} from '../../../../src/dom';\nimport {createShadowRootWithStyle} from '../utils';\nimport {dev, user} from '../../../../src/log';\nimport {dict} from '../../../../src/utils/object';\nimport {getAmpdoc} from '../../../../src/service';\nimport {getJsonLd} from '../jsonld';\nimport {getRequestService} from '../amp-story-request-service';\nimport {isArray} from '../../../../src/types';\nimport {renderAsElement} from '../simple-template';\nimport {throttle} from '../../../../src/utils/rate-limit';\n\n/**\n * Scroll amount required for full-bleed in px.\n * @private @const {number}\n */\nconst FULLBLEED_THRESHOLD = 88;\n\n/** @private @const {string} */\nconst FULLBLEED_CLASSNAME = 'i-amphtml-story-bookend-fullbleed';\n\n/** @private @const {string} */\nconst HIDDEN_CLASSNAME = 'i-amphtml-hidden';\n\n// TODO(#14591): Clean when bookend API v0.1 is deprecated.\nconst BOOKEND_VERSION_1 = 'v1.0';\nconst BOOKEND_VERSION_0 = 'v0.1';\n\n/**\n * Key for omponents in bookend config.\n * @private @const {string}\n */\nconst BOOKEND_VERSION_KEY = 'bookendVersion';\n\n/**\n * Deprecated key for components in bookend config.\n * @private @const {string}\n */\nconst DEPRECATED_BOOKEND_VERSION_KEY = 'bookend-version';\n\n/** @private @const {!../simple-template.ElementDef} */\nconst ROOT_TEMPLATE = {\n  tag: 'section',\n  attrs: dict({\n    'class': 'i-amphtml-story-bookend i-amphtml-story-system-reset ' +\n        HIDDEN_CLASSNAME}),\n  children: [\n    // Overflow container that gets pushed to the bottom when content height is\n    // smaller than viewport.\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-bookend-overflow'}),\n      children: [\n        // Holds bookend content.\n        {\n          tag: 'div',\n          attrs: dict({'class': 'i-amphtml-story-bookend-inner'}),\n        },\n      ],\n    },\n  ],\n};\n\n/** @private @const {!../simple-template.ElementDef} */\nconst REPLAY_ICON_TEMPLATE = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-bookend-replay-icon'}),\n};\n\n/** @type {string} */\nconst TAG = 'amp-story';\n\n/**\n * @param {string} title\n * @param {string} domainName\n * @param {string=} imageUrl\n * @return {!../simple-template.ElementDef}\n */\nconst buildReplayButtonTemplate = (title, domainName, imageUrl = undefined) => {\n  return /** @type {!../simple-template.ElementDef} */ ({\n    tag: 'div',\n    attrs: dict({'class': 'i-amphtml-story-bookend-replay'}),\n    children: [\n      {\n        tag: 'div',\n        attrs: dict({'class': 'i-amphtml-story-bookend-article-text-content'}),\n        children: [\n          {\n            tag: 'h2',\n            attrs: dict({'class': 'i-amphtml-story-bookend-article-heading'}),\n            unlocalizedString: title,\n          },\n          {\n            tag: 'div',\n            attrs: dict({'class': 'i-amphtml-story-bookend-component-meta'}),\n            unlocalizedString: domainName,\n          },\n        ],\n      },\n      !imageUrl ? REPLAY_ICON_TEMPLATE : {\n        tag: 'div',\n        attrs: dict({\n          'class': 'i-amphtml-story-bookend-replay-image',\n          'style': `background-image: url(${imageUrl}) !important`,\n        }),\n        children: [REPLAY_ICON_TEMPLATE],\n      },\n    ],\n  });\n};\n\n/**\n * @param {?string} consentId\n * @return {!../simple-template.ElementDef}\n */\nconst buildPromptConsentTemplate = consentId => {\n  return /** @type {!../simple-template.ElementDef} */ ({\n    tag: 'div',\n    attrs: dict({'class': 'i-amphtml-story-bookend-consent'}),\n    children: [\n      {\n        tag: 'h3',\n        attrs: dict({'class': 'i-amphtml-story-bookend-heading ' +\n          ' i-amphtml-story-bookend-component'}),\n        localizedStringId:\n            LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE,\n      },\n      {\n        tag: 'h2',\n        attrs: dict({\n          'class': 'i-amphtml-story-bookend-consent-button ' +\n            'i-amphtml-story-bookend-component',\n          'on': `tap:${consentId}.prompt`,\n          'role': 'button',\n          'aria-label': 'Change data privacy settings',\n        }),\n        localizedStringId:\n            LocalizedStringId.AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL,\n      },\n    ],\n  });\n};\n\n\n/**\n * Bookend component for <amp-story>.\n * This component has to be built and preloaded before it can be displayed,\n * through the 'build' and 'loadConfig' method. It can then be toggled by\n * dispatching the store TOGGLE_BOOKEND action.\n */\nexport class AmpStoryBookend extends AMP.BaseElement {\n  /**\n   * @param {!Element} element\n   */\n  constructor(element) {\n    super(element);\n\n    /** @private {?./bookend-component.BookendDataDef} */\n    this.config_ = null;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {boolean} */\n    this.isBookendRendered_ = false;\n\n    /** @private {?Element} */\n    this.replayButton_ = null;\n\n    /**\n     * Root element containing a shadow DOM root.\n     * @private {?Element}\n     */\n    this.root_ = null;\n\n    /**\n     * Actual bookend.\n     * @private {?Element}\n     */\n    this.bookendEl_ = null;\n\n    const {win} = this;\n\n    /** @private {?ScrollableShareWidget} */\n    this.shareWidget_ = null;\n\n    /** @private @const {!../amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(win);\n  }\n\n  /**\n   * Builds the bookend components and appends it to the provided story.\n   */\n  build() {\n    if (this.isBuilt_) {\n      return;\n    }\n\n    this.isBuilt_ = true;\n\n    this.root_ = this.win.document.createElement('div');\n    this.bookendEl_ = renderAsElement(this.win.document, ROOT_TEMPLATE);\n\n    createShadowRootWithStyle(this.root_, this.bookendEl_, CSS);\n\n    this.replayButton_ = this.buildReplayButton_();\n\n    this.shareWidget_ =\n        ScrollableShareWidget.create(\n            this.win, dev().assertElement(this.element.parentElement));\n\n    const innerContainer = this.getInnerContainer_();\n    innerContainer.appendChild(this.replayButton_);\n    innerContainer.appendChild(\n        this.shareWidget_.build(getAmpdoc(this.win.document)));\n\n    const consentId = this.storeService_.get(StateProperty.CONSENT_ID);\n\n    if (consentId) {\n      const promptConsentEl =\n          renderAsElement(\n              this.win.document, buildPromptConsentTemplate(String(consentId)));\n      innerContainer.appendChild(promptConsentEl);\n    }\n\n    this.initializeListeners_();\n\n    this.mutateElement(() => {\n      this.element.parentElement.appendChild(this.getRoot());\n    });\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.getShadowRoot()\n        .addEventListener('click', event => this.onClick_(event));\n    this.replayButton_\n        .addEventListener('click', event => this.onReplayButtonClick_(event));\n\n    this.getOverflowContainer_().addEventListener('scroll',\n        // minInterval is high since this is a step function that does not\n        // require smoothness\n        throttle(this.win, () => this.onScroll_(), 100));\n\n    this.win.addEventListener('keyup', event => {\n      if (!this.isActive_()) {\n        return;\n      }\n      if (event.keyCode == KeyCodes.ESCAPE) {\n        event.preventDefault();\n        this.close_();\n      }\n    });\n\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      this.onBookendStateUpdate_(isActive);\n    });\n\n    this.storeService_.subscribe(StateProperty.CAN_SHOW_SHARING_UIS, show => {\n      this.onCanShowSharingUisUpdate_(show);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.UI_STATE, uiState => {\n      this.onUIStateUpdate_(uiState);\n    }, true /** callToInitialize */);\n\n    this.storeService_.subscribe(StateProperty.RTL_STATE, rtlState => {\n      this.onRtlStateUpdate_(rtlState);\n    }, true /** callToInitialize */);\n  }\n\n  /**\n   * Whether the bookend is displayed.\n   * @return {boolean}\n   * @private\n   */\n  isActive_() {\n    return !!this.storeService_.get(StateProperty.BOOKEND_STATE);\n  }\n\n  /**\n   * @param {!Event} event\n   * @private\n   */\n  onReplayButtonClick_(event) {\n    event.stopPropagation();\n    dispatch(this.win, this.getRoot(), EventType.REPLAY,\n    /* payload */ undefined, {bubbles: true});\n  }\n\n  /**\n   * Reacts to bookend state updates.\n   * @param {boolean} isActive\n   * @private\n   */\n  onBookendStateUpdate_(isActive) {\n    this.toggle_(isActive);\n  }\n\n  /**\n   * Reacts to updates to whether sharing UIs may be shown, and updates the UI\n   * accordingly.\n   * @param {boolean} canShowSharingUis\n   * @private\n   */\n  onCanShowSharingUisUpdate_(canShowSharingUis) {\n    this.mutateElement(() => {\n      this.getShadowRoot()\n          .classList.toggle('i-amphtml-story-no-sharing', !canShowSharingUis);\n    });\n  }\n\n  /**\n   * Reacts to UI state updates.\n   * @param {!UIType} uiState\n   * @private\n   */\n  onUIStateUpdate_(uiState) {\n    this.mutateElement(() => {\n      uiState === UIType.DESKTOP ?\n        this.getShadowRoot().setAttribute('desktop', '') :\n        this.getShadowRoot().removeAttribute('desktop');\n    });\n  }\n\n  /**\n   * Reacts to RTL state updates and triggers the UI for RTL.\n   * @param {boolean} rtlState\n   * @private\n   */\n  onRtlStateUpdate_(rtlState) {\n    this.mutateElement(() => {\n      rtlState ?\n        this.getShadowRoot().setAttribute('dir', 'rtl') :\n        this.getShadowRoot().removeAttribute('dir');\n    });\n  }\n\n  /**\n   * Reads the bookend version from the bookend JSON config.\n   * @param {!JsonObject} config\n   * @return {?string}\n   * @private\n   */\n  readBookendVersion_(config) {\n    if (config[DEPRECATED_BOOKEND_VERSION_KEY]) {\n      user().warn('AMP-STORY-BOOKEND', '`bookend-version` and ' +\n      '`share-providers` keys in the bookend config are deprecated, please ' +\n      '`bookendVersion` and `shareProviders` keys');\n    }\n\n    return config[DEPRECATED_BOOKEND_VERSION_KEY] ||\n      config[BOOKEND_VERSION_KEY] || null;\n  }\n\n  /**\n   * Retrieves the publisher bookend configuration.\n   * @return {!Promise<?./bookend-component.BookendDataDef>}\n   */\n  loadConfig() {\n    if (this.config_) {\n      return Promise.resolve(this.config_);\n    }\n\n    const requestService =\n        getRequestService(\n            this.win, dev().assertElement(this.element.parentElement));\n\n    return requestService.loadBookendConfig().then(response => {\n      if (!response) {\n        return null;\n      }\n      if (this.readBookendVersion_(response) === BOOKEND_VERSION_1) {\n        const components = BookendComponent.buildFromJson(\n            response['components'], this.element);\n\n        this.config_ = /** @type {./bookend-component.BookendDataDef} */ ({\n          [BOOKEND_VERSION_KEY]: BOOKEND_VERSION_1,\n          'components': components,\n          'shareProviders': response[SHARE_PROVIDERS_KEY] ||\n            response[DEPRECATED_SHARE_PROVIDERS_KEY],\n        });\n      } else {\n        // TODO(#14667): Write doc regarding amp-story bookend v1.0.\n        dev().warn(TAG, `Version ${BOOKEND_VERSION_0} of the amp-story` +\n        `-bookend is deprecated. Use ${BOOKEND_VERSION_1} instead.`);\n      }\n      return this.config_;\n    }).catch(e => {\n      user().error(TAG, 'Error fetching bookend configuration', e.message);\n      return null;\n    });\n  }\n\n  /**\n   * Retrieves the publisher bookend configuration. Applying the configuration\n   * will prerender the bookend DOM, but there are cases where we need it before\n   * the component is built. Eg: the desktop share button needs the providers.\n   * @param {boolean=} renderBookend  Whether the bookend should be rendered.\n   * When set to false it allows the config to be fetched before the component\n   * is built, for cases like getting the share providers\n   * on desktop.\n   * @return {!Promise<?./bookend-component.BookendDataDef>}\n   */\n  loadConfigAndMaybeRenderBookend(renderBookend = true) {\n    return this.loadConfig().then(config => {\n      if (renderBookend && !this.isBookendRendered_ && config) {\n        return this.renderBookend_(config).then(() => config);\n      }\n      return config;\n    });\n  }\n\n  /**\n   * Handles click events on the bookend:\n   *   - Closes bookend if tapping outside usable area\n   *   - Forwards AMP actions\n   * @param {!Event} event\n   * @private\n   */\n  onClick_(event) {\n    const target = dev().assertElement(event.target);\n\n    if (this.elementOutsideUsableArea_(target)) {\n      event.stopPropagation();\n      this.close_();\n      return;\n    }\n\n    if (target.hasAttribute('on')) {\n      const actionService = Services.actionServiceForDoc(this.element);\n      actionService.trigger(target, 'tap', event, ActionTrust.HIGH);\n    }\n  }\n\n  /**\n   * Closes the bookend.\n   * @private\n   */\n  close_() {\n    this.storeService_.dispatch(Action.TOGGLE_BOOKEND, false);\n  }\n\n  /**\n   * @param {!Element} el\n   * @return {boolean}\n   * @private\n   */\n  elementOutsideUsableArea_(el) {\n    return !closest(el, el => el == this.getInnerContainer_());\n  }\n\n  /**\n   * Changes between card view and full-bleed based on scroll position.\n   * @private\n   */\n  onScroll_() {\n    if (!this.isActive_()) {\n      return;\n    }\n    let shouldBeFullBleed = false;\n    this.measureMutateElement(() => {\n      shouldBeFullBleed =\n          this.getOverflowContainer_()./*OK*/scrollTop >= FULLBLEED_THRESHOLD;\n    }, () => {\n      this.getShadowRoot().classList.toggle(\n          FULLBLEED_CLASSNAME, shouldBeFullBleed);\n    });\n  }\n\n  /**\n   * @param {boolean} show\n   * @private\n   */\n  toggle_(show) {\n    this.mutateElement(() => {\n      this.getShadowRoot().classList.toggle(HIDDEN_CLASSNAME, !show);\n    });\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isBuilt() {\n    return this.isBuilt_;\n  }\n\n  /** @private */\n  assertBuilt_() {\n    dev().assert(this.isBuilt(), 'Bookend component needs to be built.');\n  }\n\n  /**\n   * @param {!./bookend-component.BookendDataDef} bookendConfig\n   * @return {!Promise}\n   * @private\n   */\n  renderBookend_(bookendConfig) {\n    this.assertBuilt_();\n    this.isBookendRendered_ = true;\n\n    return this.renderComponents_(bookendConfig.components);\n  }\n\n  /**\n   * Renders the configurable components of the bookend in the page. It returns\n   * a promise to ensure loadConfigAndMaybeRenderBookend renders the components\n   * first before proceeding. This is needed for our unit tests.\n   * @param {!Array<!../bookend/bookend-component.BookendComponentDef>} components\n   * @return {!Promise}\n   * @private\n   */\n  renderComponents_(components) {\n    dev().assertElement(this.bookendEl_, 'Error rendering amp-story-bookend.');\n\n    return Services\n        .localizationServiceForOrNull(this.win).then(localizationService => {\n          const bookendEls = BookendComponent\n              .buildElements(\n                  components, this.win.document, localizationService);\n          const container = dev().assertElement(\n              BookendComponent.buildContainer(this.getInnerContainer_(),\n                  this.win.document));\n          this.mutateElement(() => container.appendChild(bookendEls));\n        }).catch(e => {\n          user().error(TAG, 'Unable to fetch localization service.', e.message);\n          return null;\n        });\n  }\n\n  /** @return {!Element} */\n  getRoot() {\n    this.assertBuilt_();\n    return dev().assertElement(this.root_);\n  }\n\n  /** @return {!Element} */\n  getShadowRoot() {\n    this.assertBuilt_();\n    return dev().assertElement(this.bookendEl_);\n  }\n\n  /**\n   * Gets container for bookend content.\n   * @return {!Element}\n   * @private\n   */\n  getInnerContainer_() {\n    return dev().assertElement(this.getOverflowContainer_().firstElementChild);\n  }\n\n  /**\n   * Gets outer container that gets scrolled.\n   * @return {!Element}\n   * @private\n   */\n  getOverflowContainer_() {\n    return dev().assertElement(this.getShadowRoot().firstElementChild);\n  }\n\n  /**\n   * @return {{\n   *   title: string,\n   *   domainName: string,\n   *   imageUrl: (string|undefined),\n   * }}\n   * @private\n   */\n  getStoryMetadata_() {\n    const jsonLd = getJsonLd(this.getAmpDoc().getRootNode());\n\n    const urlService = Services.urlForDoc(this.getAmpDoc());\n    const {canonicalUrl} = Services.documentInfoForDoc(this.getAmpDoc());\n    const {hostname: domainName} = urlService.parse(canonicalUrl);\n\n    const title =\n      jsonLd && jsonLd['headline'] ?\n        jsonLd['headline'] :\n        user().assertElement(\n            this.win.document.head.querySelector('title'),\n            'Please set <title> or structured data (JSON-LD).').textContent;\n\n    const metadata = {domainName, title};\n    const image = jsonLd && isArray(jsonLd['image']) ? jsonLd['image'] : null;\n\n    if (image != null && image.length >= 0) {\n      user().assert(urlService.isProtocolValid(image[0]),\n          `Unsupported protocol for story image URL ${image[0]}`);\n      metadata.imageUrl = image[0];\n    }\n\n    return metadata;\n  }\n\n  /**\n   * @return {!Element}\n   * @private\n   */\n  buildReplayButton_() {\n    const metadata = this.getStoryMetadata_();\n    return renderAsElement(this.win.document, buildReplayButtonTemplate(\n        metadata.title,\n        metadata.domainName,\n        metadata.imageUrl));\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {ArticleComponent} from './components/article';\nimport {CtaLinkComponent} from './components/cta-link';\nimport {HeadingComponent} from './components/heading';\nimport {LandscapeComponent} from './components/landscape';\nimport {LocalizedStringId} from '../localization';\nimport {PortraitComponent} from './components/portrait';\nimport {TextBoxComponent} from './components/text-box';\nimport {dev} from '../../../../src/log';\nimport {htmlFor} from '../../../../src/static-template';\n\n/** @type {string} */\nexport const TAG = 'amp-story-bookend';\n\n/**\n * @typedef {{\n *   bookendVersion: string,\n *   components: !Array<!BookendComponentDef>,\n *   shareProviders: !Array<(!JsonObject|string|undefined)>,\n * }}\n */\nexport let BookendDataDef;\n\n/**\n * @typedef {\n *   (!./components/article.ArticleComponentDef|\n *    !./components/cta-link.CtaLinkDef|\n *    !./components/heading.HeadingComponentDef|\n *    !./components/landscape.LandscapeComponentDef|\n *    !./components/portrait.PortraitComponentDef|\n *    !./components/text-box.TextBoxComponentDef)\n * }\n */\nexport let BookendComponentDef;\n\n\n/**\n * @typedef {\n *   (!ArticleComponent|\n *    !CtaLinkComponent|\n *    !HeadingComponent|\n *    !LandscapeComponent|\n *    !PortraitComponent|\n *    !TextBoxComponent)\n * }\n */\nexport let BookendComponentClass;\n\n\n/** @private @const {!Object<string, !BookendComponentClass>} */\nconst builderInstances = {};\n\n\n/**\n * @param {string} type\n * @param {function(new:BookendComponentClass)} ctor\n * @return {!BookendComponentClass}\n * @restricted\n */\nfunction setBuilderInstance(type, ctor) {\n  return (builderInstances[type] = builderInstances[type] || new ctor());\n}\n\n\n/**\n * Dispatches the components to their specific builder classes.\n * @param {string} type\n * @return {?BookendComponentClass}\n * @restricted\n */\nfunction componentBuilderInstanceFor(type) {\n  switch (type) {\n    case 'small':\n      return setBuilderInstance(type, ArticleComponent);\n    case 'cta-link':\n      return setBuilderInstance(type, CtaLinkComponent);\n    case 'heading':\n      return setBuilderInstance(type, HeadingComponent);\n    case 'landscape':\n      return setBuilderInstance(type, LandscapeComponent);\n    case 'portrait':\n      return setBuilderInstance(type, PortraitComponent);\n    case 'textbox':\n      return setBuilderInstance(type, TextBoxComponent);\n    default:\n      return null;\n  }\n}\n\n/**\n * Prepend a heading to the related articles section if first component is not a\n * heading already.\n * @param {!Array<BookendComponentDef>} components\n * @param {?../localization.LocalizationService} localizationService\n * @return {!Array<BookendComponentDef>}\n */\nfunction prependTitle(components, localizationService) {\n  if (components[0] && components[0].type == 'heading') {\n    return components;\n  }\n\n  const title = localizationService\n      .getLocalizedString(\n          LocalizedStringId.AMP_STORY_BOOKEND_MORE_TO_READ_LABEL);\n  components.unshift({'type': 'heading', 'text': title});\n  return components;\n}\n\n/**\n * Delegator class that dispatches the logic to build different components\n * on the bookend to their corresponding classes.\n */\nexport class BookendComponent {\n  /**\n   * Takes components from JSON and delegates them to their corresponding\n   * builder class.\n   * @param {!Array<BookendComponentDef>} components\n   * @param {!Element} el\n   * @return {!Array<BookendComponentDef>}\n   */\n  static buildFromJson(components, el) {\n    return components.reduce((builtComponents, component) => {\n      const componentBuilder = componentBuilderInstanceFor(component.type);\n      if (!componentBuilder) {\n        dev().error(TAG, 'Component type `' + component.type +\n        '` is not supported. Skipping invalid.');\n        return builtComponents;\n      }\n      componentBuilder.assertValidity(component, el);\n      builtComponents.push(componentBuilder.build(component, el));\n      return builtComponents;\n    }, []);\n  }\n\n  /**\n   * Builds the bookend components elements by choosing the appropriate builder\n   * class and appending the elements to the container.\n   * @param {!Array<BookendComponentDef>} components\n   * @param {!Document} doc\n   * @param {?../localization.LocalizationService} localizationService\n   * @return {!DocumentFragment}\n   */\n  static buildElements(components, doc, localizationService) {\n    const fragment = doc.createDocumentFragment();\n\n    components = prependTitle(components, localizationService);\n\n    components.forEach(component => {\n      const {type} = component;\n      if (type && componentBuilderInstanceFor(type)) {\n        fragment.appendChild(componentBuilderInstanceFor(type)\n            .buildElement(component, doc));\n      }\n    });\n    return fragment;\n  }\n\n  /**\n   * Builds container for components.\n   * @param {!Element} element Bookend container\n   * @param {!Document} doc\n   * @return {?Element}\n   */\n  static buildContainer(element, doc) {\n    const html = htmlFor(doc);\n    const containerTemplate =\n      html`<div class=\"i-amphtml-story-bookend-component-set\"></div>`;\n    element.appendChild(containerTemplate);\n    return element.lastElementChild;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BookendComponentInterface} from './bookend-component-interface';\nimport {addAttributesToElement} from '../../../../../src/dom';\nimport {dict} from '../../../../../src/utils/object';\nimport {getSourceOriginForBookendComponent} from './bookend-component-interface';\nimport {htmlFor, htmlRefs} from '../../../../../src/static-template';\nimport {user} from '../../../../../src/log';\nimport {userAssertValidProtocol} from '../../utils';\n\n/**\n * @typedef {{\n *   type: string,\n *   title: string,\n *   url: string,\n *   image: (string|undefined),\n *   domainName: string,\n * }}\n */\nexport let ArticleComponentDef;\n\n/**\n * Builder class for the small article component.\n * @implements {BookendComponentInterface}\n */\nexport class ArticleComponent {\n\n  /** @override */\n  assertValidity(articleJson, element) {\n\n    const requiredFields = ['title', 'url'];\n    const hasAllRequiredFields =\n        !requiredFields.some(field => !(field in articleJson));\n    user().assert(\n        hasAllRequiredFields,\n        'Small article component must contain ' +\n            requiredFields.map(field => '`' + field + '`').join(', ') +\n            ' fields, skipping invalid.');\n\n    userAssertValidProtocol(element, articleJson['url']);\n\n    const image = articleJson['image'];\n    if (image) {\n      userAssertValidProtocol(element, image);\n    }\n  }\n\n  /** @override */\n  build(articleJson, element) {\n    const url = articleJson['url'];\n    const domainName = getSourceOriginForBookendComponent(element, url);\n\n    const article = {\n      url,\n      domainName,\n      type: articleJson['type'],\n      title: articleJson['title'],\n    };\n\n    if (articleJson['image']) {\n      article.image = articleJson['image'];\n    }\n\n    if (articleJson['amphtml']) {\n      article.amphtml = articleJson['amphtml'];\n    }\n\n    return /** @type {!ArticleComponentDef} */ (article);\n  }\n\n  /** @override */\n  buildElement(articleData, doc) {\n    const html = htmlFor(doc);\n    //TODO(#14657, #14658): Binaries resulting from htmlFor are bloated.\n    const el =\n        html`\n        <a class=\"i-amphtml-story-bookend-article\n          i-amphtml-story-bookend-component\"\n          target=\"_top\">\n          <div class=\"i-amphtml-story-bookend-article-text-content\">\n            <h2\n              class=\"i-amphtml-story-bookend-article-heading\" ref=\"heading\">\n            </h2>\n            <div\n              class=\"i-amphtml-story-bookend-component-meta\" ref=\"meta\">\n            </div>\n          </div>\n        </a>`;\n    addAttributesToElement(el, dict({'href': articleData.url}));\n\n    if (articleData['amphtml'] === true) {\n      addAttributesToElement(el, dict({'rel': 'amphtml'}));\n    }\n\n    if (articleData.image) {\n      const imgEl =\n          html`\n          <div class=\"i-amphtml-story-bookend-article-image\">\n            <img ref=\"image\">\n            </img>\n          </div>`;\n\n      const {image} = htmlRefs(imgEl);\n      addAttributesToElement(image, dict({'src': articleData.image}));\n      el.appendChild(imgEl);\n    }\n\n    const articleElements = htmlRefs(el);\n    const {heading, meta} = articleElements;\n\n    heading.textContent = articleData.title;\n    meta.textContent = articleData.domainName;\n\n    return el;\n  }\n}\n","import {Services} from '../../../../../src/services';\nimport {getSourceOrigin} from '../../../../../src/url';\n\n/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Interface implemented by the bookend components.\n * @interface\n */\nexport class BookendComponentInterface {\n\n  /**\n   * Asserts whether the comopnent is valid.\n   * @param {../bookend-component.BookendComponentDef} unusedComponentJson\n   * @param {!Element} unusedElement\n   */\n  assertValidity(unusedComponentJson, unusedElement) {}\n\n  /**\n   * Builds the component.\n   * @param {../bookend-component.BookendComponentDef} unusedComponentJson\n   * @param {!Element} unusedElement\n   * @return {../bookend-component.BookendComponentDef}\n   */\n  build(unusedComponentJson, unusedElement) {}\n\n  /**\n   * Builds the DOM element for the component.\n   * @param {../bookend-component.BookendComponentDef} unusedComponentJson\n   * @param {!Document} unusedDoc\n   * @return {!Element}\n   */\n  buildElement(unusedComponentJson, unusedDoc) {}\n}\n\n/**\n * Gets the origin url for components that display a url in the bookend. It\n * trims the protocol prefix and returns only the hostname of the origin.\n * @param {!Element} element\n * @param {string} url\n * @return {string}\n */\nexport function getSourceOriginForBookendComponent(element, url) {\n  let domainName;\n  try {\n    domainName = getSourceOrigin(Services.urlForDoc(element).parse(url));\n    // Remove protocol prefix.\n    domainName = Services.urlForDoc(element).parse(domainName).hostname;\n  } catch (e) {\n    // Unknown path prefix in url.\n    domainName = Services.urlForDoc(element).parse(url).hostname;\n  }\n  return domainName;\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BookendComponentInterface} from './bookend-component-interface';\nimport {addAttributesToElement} from '../../../../../src/dom';\nimport {dict} from '../../../../../src/utils/object';\nimport {htmlFor, htmlRefs} from '../../../../../src/static-template';\nimport {isArray} from '../../../../../src/types';\nimport {user} from '../../../../../src/log';\nimport {userAssertValidProtocol} from '../../utils';\n\n/**\n * @typedef {{\n *   url: string,\n *   text: string,\n * }}\n */\nlet CtaLinkArrDef;\n\n/**\n * @typedef {{\n *   type: string,\n *   links: !Array<CtaLinkArrDef>,\n * }}\n */\nexport let CtaLinkDef;\n\n/**\n * Builder class for the call to action link component.\n * @implements {BookendComponentInterface}\n */\nexport class CtaLinkComponent {\n  /**\n   * @param {!../bookend-component.BookendComponentDef} ctaLinksJson\n   * @override\n   * */\n  assertValidity(ctaLinksJson, element) {\n    const links = ctaLinksJson['links'];\n    user().assert(links && isArray(links) && links.length > 0,\n        'CTA link component must be an array and contain at least one link ' +\n        'inside it.');\n\n    links.forEach(ctaLink => {\n      user().assert('text' in ctaLink && 'url' in ctaLink,\n          'Links in CTA link component must contain `text` field and a `url`.');\n\n      userAssertValidProtocol(element, ctaLink['url']);\n    });\n  }\n\n  /**\n   * @param {!../bookend-component.BookendComponentDef} ctaLinksJson\n   * @param {!Element} unusedElement\n   * @return {!CtaLinkDef}\n   * @override\n   * */\n  build(ctaLinksJson, unusedElement) {\n    const ctaLinks = {\n      type: ctaLinksJson['type'],\n      links: ctaLinksJson['links'],\n    };\n\n    return ctaLinks;\n  }\n\n  /** @override */\n  buildElement(ctaLinksData, doc) {\n    const html = htmlFor(doc);\n    const container =\n        html`<div class=\"i-amphtml-story-bookend-cta-link-wrapper\n          i-amphtml-story-bookend-component\">\n        </div>`;\n\n    let linkSeed =\n        html`<a class=\"i-amphtml-story-bookend-cta-link\" target=\"_top\">\n          <div class=\"i-amphtml-story-bookend-cta-link-text\" ref=\"linkText\">\n          </div>\n        </a>`;\n    ctaLinksData['links'].forEach(currentLink => {\n      const el = linkSeed.cloneNode(/* deep */ true);\n      addAttributesToElement(el, dict({'href': currentLink['url']}));\n\n      if (currentLink['amphtml'] === true) {\n        addAttributesToElement(el, dict({'rel': 'amphtml'}));\n      }\n\n      const refs = htmlRefs(el);\n      refs['linkText'].textContent = currentLink['text'];\n\n      container.appendChild(el);\n    });\n\n    linkSeed = null; // GC\n\n    return container;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BookendComponentInterface} from './bookend-component-interface';\nimport {htmlFor} from '../../../../../src/static-template';\nimport {user} from '../../../../../src/log';\n\n/**\n * @typedef {{\n *   type: string,\n *   text: string,\n * }}\n */\nexport let HeadingComponentDef;\n\n/**\n * Builder class for the heading component that sits on top of a given set of\n * components in the bookend.\n * @implements {BookendComponentInterface}\n */\nexport class HeadingComponent {\n  /**\n   * @param {!../bookend-component.BookendComponentDef} headingJson\n   * @override\n   * */\n  assertValidity(headingJson) {\n    user().assert('text' in headingJson, 'Heading component must contain ' +\n      '`text` field, skipping invalid.');\n  }\n\n  /**\n   * @param {!../bookend-component.BookendComponentDef} headingJson\n   * @return {!HeadingComponentDef}\n   * @override\n   * */\n  build(headingJson) {\n    return {\n      type: headingJson['type'],\n      text: headingJson['text'],\n    };\n  }\n\n  /**\n   * @param {!../bookend-component.BookendComponentDef} headingData\n   * @param {!Document} doc\n   * @return {!Element}\n   * @override\n   * */\n  buildElement(headingData, doc) {\n    const html = htmlFor(doc);\n    const template =\n      html`<h3 class=\"i-amphtml-story-bookend-component\n        i-amphtml-story-bookend-heading\"></h3>`;\n\n    template.textContent = headingData.text;\n\n    return template;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BookendComponentInterface} from './bookend-component-interface';\nimport {addAttributesToElement} from '../../../../../src/dom';\nimport {dict} from '../../../../../src/utils/object';\nimport {getSourceOriginForBookendComponent} from './bookend-component-interface';\nimport {htmlFor, htmlRefs} from '../../../../../src/static-template';\nimport {user} from '../../../../../src/log';\nimport {userAssertValidProtocol} from '../../utils';\n\n/**\n * @typedef {{\n *   type: string,\n *   category: string,\n *   title: string,\n *   url: string,\n *   domainName: string,\n *   image: string,\n * }}\n */\nexport let LandscapeComponentDef;\n\n/**\n * @struct @typedef {{\n *   category: !Element,\n *   title: !Element,\n *   image: !Element,\n *   meta: !Element,\n *   domainName: string,\n * }}\n */\nlet landscapeElementsDef;\n\n/**\n * Builder class for the landscape component.\n * @implements {BookendComponentInterface}\n */\nexport class LandscapeComponent {\n\n  /** @override */\n  assertValidity(landscapeJson, element) {\n\n    const requiredFields = ['title', 'image', 'url'];\n    const hasAllRequiredFields =\n        !requiredFields.some(field => !(field in landscapeJson));\n    user().assert(\n        hasAllRequiredFields,\n        'Landscape component must contain ' +\n        requiredFields.map(field => '`' + field + '`').join(', ') +\n        ' fields, skipping invalid.');\n\n    userAssertValidProtocol(element, landscapeJson['url']);\n    userAssertValidProtocol(element, landscapeJson['image']);\n  }\n\n  /** @override */\n  build(landscapeJson, element) {\n    const url = landscapeJson['url'];\n    const domainName = getSourceOriginForBookendComponent(element, url);\n\n    const landscape = {\n      url,\n      domainName,\n      type: landscapeJson['type'],\n      title: landscapeJson['title'],\n      category: landscapeJson['category'],\n      image: landscapeJson['image'],\n    };\n\n    if (landscapeJson['amphtml']) {\n      landscape.amphtml = landscapeJson['amphtml'];\n    }\n\n    return landscape;\n  }\n\n  /** @override */\n  buildElement(landscapeData, doc) {\n    const html = htmlFor(doc);\n    const el =\n        html`\n        <a class=\"i-amphtml-story-bookend-landscape\n          i-amphtml-story-bookend-component\"\n          target=\"_top\">\n          <h2 class=\"i-amphtml-story-bookend-component-category\"\n            ref=\"category\"></h2>\n          <h2 class=\"i-amphtml-story-bookend-article-heading\"\n            ref=\"title\"></h2>\n          <div class=\"i-amphtml-story-bookend-landscape-image\">\n            <img ref=\"image\"></img>\n          </div>\n          <div class=\"i-amphtml-story-bookend-component-meta\"\n            ref=\"meta\"></div>\n        </a>`;\n    addAttributesToElement(el, dict({'href': landscapeData.url}));\n\n    if (landscapeData['amphtml'] === true) {\n      addAttributesToElement(el, dict({'rel': 'amphtml'}));\n    }\n\n    const landscapeEls = htmlRefs(el);\n    const {\n      category,\n      title,\n      image,\n      meta,\n    } = /** @type {!landscapeElementsDef} */ (landscapeEls);\n\n    category.textContent = landscapeData.category;\n    title.textContent = landscapeData.title;\n    addAttributesToElement(image, dict({'src': landscapeData.image}));\n    meta.textContent = landscapeData.domainName;\n\n    return el;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BookendComponentInterface} from './bookend-component-interface';\nimport {addAttributesToElement} from '../../../../../src/dom';\nimport {dict} from '../../../../../src/utils/object';\nimport {getSourceOriginForBookendComponent} from './bookend-component-interface';\nimport {htmlFor, htmlRefs} from '../../../../../src/static-template';\nimport {user} from '../../../../../src/log';\nimport {userAssertValidProtocol} from '../../utils';\n\n/**\n * @typedef {{\n *   type: string,\n *   category: string,\n *   title: string,\n *   url: string,\n *   domainName: string,\n *   image: string,\n * }}\n */\nexport let PortraitComponentDef;\n\n/**\n * @struct @typedef {{\n *   category: !Element,\n *   title: !Element,\n *   image: !Element,\n *   meta: !Element,\n *   domainName: string\n * }}\n */\nlet portraitElementsDef;\n\n/**\n * Builder class for the portrait component.\n * @implements {BookendComponentInterface}\n */\nexport class PortraitComponent {\n\n  /** @override */\n  assertValidity(portraitJson, element) {\n\n    const requiredFields = ['title', 'image', 'url'];\n    const hasAllRequiredFields =\n        !requiredFields.some(field => !(field in portraitJson));\n    user().assert(\n        hasAllRequiredFields,\n        'Portrait component must contain ' +\n        requiredFields.map(field => '`' + field + '`').join(', ') +\n        ' fields, skipping invalid.');\n\n    userAssertValidProtocol(element, portraitJson['url']);\n    userAssertValidProtocol(element, portraitJson['image']);\n  }\n\n  /** @override */\n  build(portraitJson, element) {\n    const url = portraitJson['url'];\n    const domainName = getSourceOriginForBookendComponent(element, url);\n\n    const portrait = {\n      url,\n      domainName,\n      type: portraitJson['type'],\n      category: portraitJson['category'],\n      title: portraitJson['title'],\n      image: portraitJson['image'],\n    };\n\n    if (portraitJson['amphtml']) {\n      portrait.amphtml = portraitJson['amphtml'];\n    }\n\n    return portrait;\n  }\n\n  /** @override */\n  buildElement(portraitData, doc) {\n    const html = htmlFor(doc);\n    const el =\n        html`\n        <a class=\"i-amphtml-story-bookend-portrait\n          i-amphtml-story-bookend-component\"\n          target=\"_top\">\n          <h2 class=\"i-amphtml-story-bookend-component-category\"\n            ref=\"category\"></h2>\n          <h2 class=\"i-amphtml-story-bookend-article-heading\"\n            ref=\"title\"></h2>\n          <div class=\"i-amphtml-story-bookend-portrait-image\">\n            <img ref=\"image\"></img>\n          </div>\n          <div class=\"i-amphtml-story-bookend-component-meta\"\n            ref=\"meta\"></div>\n        </a>`;\n    addAttributesToElement(el, dict({'href': portraitData.url}));\n\n    if (portraitData['amphtml'] === true) {\n      addAttributesToElement(el, dict({'rel': 'amphtml'}));\n    }\n\n    const {category, title, image, meta} =\n      /** @type {!portraitElementsDef} */ (htmlRefs(el));\n\n    category.textContent = portraitData.category;\n    title.textContent = portraitData.title;\n    addAttributesToElement(image, dict({'src': portraitData.image}));\n    meta.textContent = portraitData.domainName;\n\n    return el;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BookendComponentInterface} from './bookend-component-interface';\nimport {htmlFor} from '../../../../../src/static-template';\nimport {isArray} from '../../../../../src/types';\nimport {user} from '../../../../../src/log';\n\n/**\n * @typedef {{\n *   type: string,\n *   text: string\n * }}\n */\nexport let TextBoxComponentDef;\n\n/**\n * Builder class for the textbox bookend component.\n * @implements {BookendComponentInterface}\n */\nexport class TextBoxComponent {\n  /**\n   * @param {!../bookend-component.BookendComponentDef} textboxJson\n   * @override\n   * */\n  assertValidity(textboxJson) {\n    user().assert('text' in textboxJson && isArray(textboxJson['text']) &&\n      textboxJson['text'].length > 0, 'Textbox component must contain ' +\n      '`text` array and at least one element inside it, ' +\n      'skipping invalid.');\n  }\n\n  /**\n   * @param {!../bookend-component.BookendComponentDef} textboxJson\n   * @return {!TextBoxComponentDef}\n   * @override\n   * */\n  build({type, text}) {\n    return {type, text};\n  }\n\n  /** @override */\n  buildElement(textboxData, doc) {\n    const html = htmlFor(doc);\n    const container =\n        html`\n        <div class=\"i-amphtml-story-bookend-textbox\n          i-amphtml-story-bookend-component\"></div>`;\n\n    let textSeed = html`<h3 class=\"i-amphtml-story-bookend-text\"></h3>`;\n    textboxData['text'].forEach(currentLine => {\n      const el = textSeed.cloneNode(/* deep */ true);\n      el.textContent = currentLine;\n      container.appendChild(el);\n    });\n\n    textSeed = null;\n\n    return container;\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const BLANK_AUDIO_SRC = 'data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBA' +\n    'AAAABAAEAIlYAAESsAAACABAAZGF0YRAAAAAAAAAAAAAAAAAAAAAAAA==';\n\nexport const BLANK_VIDEO_SRC = 'data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAG' +\n    'lzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARw' +\n    'AAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIE' +\n    'guMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3' +\n    'd3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYm' +\n    'xvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3' +\n    'JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbG' +\n    'lzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV' +\n    '9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3Rocm' +\n    'VhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb2' +\n    '5zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbn' +\n    'RfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcm' +\n    'M9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcH' +\n    'N0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYW' +\n    'xfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8m' +\n    'KAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX' +\n    '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' +\n    'AAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAAD' +\n    'MAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAA' +\n    'AACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAA' +\n    'kAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAA' +\n    'AACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAA' +\n    'AAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAA' +\n    'AEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ' +\n    '0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAA' +\n    'AAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYX' +\n    'ZmNTUuMzMuMTAw';\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LogLevel, dev} from '../../../src/log';\nimport {Services} from '../../../src/services';\nimport {isArray} from '../../../src/types';\nimport {removeChildren} from '../../../src/dom';\n\n\n/**\n * @param {!../../../src/service/vsync-impl.Vsync} vsync\n * @param {!Element} el\n * @param {boolean} isHidden\n */\nfunction toggleHiddenAttribute(vsync, el, isHidden) {\n  vsync.mutate(() => {\n    if (isHidden) {\n      el.setAttribute('hidden', 'hidden');\n    } else {\n      el.removeAttribute('hidden');\n    }\n  });\n}\n\n\n/**\n * @param {!Window} win\n * @param {string|!Array<string>} classNameOrList\n * @param {function(Event)} handler\n * @return {!Element}\n */\nfunction createButton(win, classNameOrList, handler) {\n  const button = win.document.createElement('div');\n  button.setAttribute('role', 'button');\n\n  if (isArray(classNameOrList)) {\n    classNameOrList.forEach(className => button.classList.add(className));\n  } else {\n    button.classList.add(/** @type {string} */ (classNameOrList));\n  }\n  button.classList.add('i-amphtml-story-button');\n  button.addEventListener('click', handler);\n  return button;\n}\n\n\n/**\n * Development mode logs buttons.\n */\nexport class DevelopmentModeLogButtonSet {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {?Element} */\n    this.errorButton_ = null;\n\n    /** @private {?Element} */\n    this.warningButton_ = null;\n\n    /** @private {?Element} */\n    this.successButton_ = null;\n  }\n\n\n  /**\n   * @param {!Window} win\n   */\n  static create(win) {\n    return new DevelopmentModeLogButtonSet(win);\n  }\n\n\n  /**\n   * Builds the developer log button set element.\n   * @param {function()} logButtonActionFn A callback function to be invoked when\n   *     the log buttons are clicked.\n   * @return {?Element}\n   */\n  build(logButtonActionFn) {\n    this.errorButton_ = createButton(this.win_,\n        ['i-amphtml-story-error-button', 'i-amphtml-story-dev-logs-button'],\n        () => logButtonActionFn());\n\n    this.warningButton_ = createButton(this.win_,\n        ['i-amphtml-story-warning-button', 'i-amphtml-story-dev-logs-button'],\n        () => logButtonActionFn());\n\n    this.successButton_ = createButton(this.win_,\n        ['i-amphtml-story-success-button', 'i-amphtml-story-dev-logs-button'],\n        () => logButtonActionFn());\n\n\n    this.root_ = this.win_.document.createElement('div');\n    this.root_.appendChild(this.errorButton_);\n    this.root_.appendChild(this.warningButton_);\n    this.root_.appendChild(this.successButton_);\n\n    return this.root_;\n  }\n\n\n  /**\n   * Gets the button associated to a given log entry.\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry The log entry for which\n   *     the associated button shouldbe retrieved.\n   * @return {?Element} The button associated to the specified log entry, if one\n   *     exists.\n   * @private\n   */\n  getButtonForLogEntry_(logEntry) {\n    if (logEntry.conforms) {\n      return this.successButton_;\n    }\n\n    switch (logEntry.level) {\n      case LogLevel.ERROR:\n        return this.errorButton_;\n      case LogLevel.WARN:\n        return this.warningButton_;\n      default:\n        return null;\n    }\n  }\n\n\n  /**\n   * Logs an individual entry into the developer log.\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry The entry to log.\n   */\n  log(logEntry) {\n    const button = this.getButtonForLogEntry_(logEntry);\n    if (!button) {\n      return;\n    }\n\n    const oldCount = parseInt(button.getAttribute('data-count') || 0, 10);\n    button.setAttribute('data-count', oldCount + 1);\n  }\n\n\n  /**\n   * Clears any error state held by the buttons.\n   */\n  clear() {\n    this.errorButton_.setAttribute('data-count', 0);\n    this.warningButton_.setAttribute('data-count', 0);\n    this.successButton_.setAttribute('data-count', 0);\n  }\n}\n\n\n/**\n * Development mode log for <amp-story>.\n */\nexport class DevelopmentModeLog {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {?Element} */\n    this.entriesEl_ = null;\n\n    /** @private {?Element} */\n    this.contextStringEl_ = null;\n  }\n\n\n  /**\n   * @param {!Window} win\n   */\n  static create(win) {\n    return new DevelopmentModeLog(win);\n  }\n\n\n  /**\n   * Builds the developer log element.\n   * @return {?Element}\n   */\n  build() {\n    this.contextStringEl_ = this.win_.document.createElement('span');\n    this.contextStringEl_.classList\n        .add('i-amphtml-story-developer-log-context');\n    const titleEl = this.win_.document.createElement('div');\n    titleEl.textContent = 'Developer logs for page ';\n    titleEl.appendChild(this.contextStringEl_);\n\n    const closeDeveloperLogEl = createButton(this.win_,\n        'i-amphtml-story-developer-log-close',\n        () => this.hide());\n\n    const headerEl = this.win_.document.createElement('div');\n    headerEl.classList.add('i-amphtml-story-developer-log-header');\n    headerEl.appendChild(titleEl);\n    headerEl.appendChild(closeDeveloperLogEl);\n\n    this.entriesEl_ = this.win_.document.createElement('ul');\n    this.entriesEl_.classList\n        .add('i-amphtml-story-developer-log-entries');\n\n    this.root_ = this.win_.document.createElement('div');\n    this.root_.classList.add('i-amphtml-story-developer-log');\n    this.root_.setAttribute('hidden', '');\n    this.root_.appendChild(headerEl);\n    this.root_.appendChild(this.entriesEl_);\n\n    this.clear();\n    return this.root_;\n  }\n\n\n  /**\n   * @param {!LogLevel} logLevel\n   * @return {?string} The CSS class to be applied to the log entry, given the\n   *     specified log level, or null if no class should be added.\n   * @private\n   */\n  getCssLogLevelClass_(logLevel) {\n    switch (logLevel) {\n      case LogLevel.WARN:\n        return 'i-amphtml-story-developer-log-entry-warning';\n      case LogLevel.ERROR:\n        return 'i-amphtml-story-developer-log-entry-error';\n      default:\n        return null;\n    }\n  }\n\n\n  /**\n   * @param {boolean} conforms Whether the log entry is for an element that\n   *     conforms to a best practice.\n   * @return {?string} The CSS class to be applied to the log entry, given the\n   *     element's conformance to a best practice, or null if no class should be\n   *     added.\n   * @private\n   */\n  getCssConformanceClass_(conforms) {\n    if (conforms) {\n      return 'i-amphtml-story-developer-log-entry-success';\n    }\n\n    return null;\n  }\n\n\n  /**\n   * @param {!./logging.AmpStoryLogEntryDef} logEntry The entry to be logged.\n   */\n  log(logEntry) {\n    const logLevelClass = this.getCssLogLevelClass_(logEntry.level);\n    const conformanceClass = this.getCssConformanceClass_(logEntry.conforms);\n\n    const logEntryUi = this.win_.document.createElement('li');\n    logEntryUi.classList.add('i-amphtml-story-developer-log-entry');\n\n    if (logLevelClass) {\n      logEntryUi.classList.add(logLevelClass);\n    }\n\n    if (conformanceClass) {\n      logEntryUi.classList.add(conformanceClass);\n    }\n\n    logEntryUi.textContent = logEntry.message;\n    this.entriesEl_.appendChild(logEntryUi);\n  }\n\n\n  /**\n   * Clears all entries from the developer logs.\n   */\n  clear() {\n    Services.vsyncFor(this.win_).mutate(() => {\n      removeChildren(dev().assertElement(this.entriesEl_));\n    });\n  }\n\n\n  /**\n   * Sets the string providing context for the developer logs window.  This is\n   * often the name or ID of the element that all logs are for (e.g. the page).\n   * @param {string} contextString\n   */\n  setContextString(contextString) {\n    this.contextStringEl_.textContent = contextString;\n  }\n\n\n  /**\n   * Toggles the visibility of the developer log.\n   */\n  toggle() {\n    const newHiddenState = !this.root_.hasAttribute('hidden');\n    toggleHiddenAttribute(\n        Services.vsyncFor(this.win_), dev().assertElement(this.root_),\n        newHiddenState);\n  }\n\n\n  /**\n   * Hides the developer log in the UI.\n   */\n  hide() {\n    toggleHiddenAttribute(\n        Services.vsyncFor(this.win_), dev().assertElement(this.root_),\n        /* isHidden */ true);\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {isEnumValue} from '../../../src/types';\nimport {parseQueryString} from '../../../src/url';\n\n\n/**\n * Embed mode for AMP story.  See ../embed-modes.md for details.\n * @enum {number}\n */\nexport const EmbedMode = {\n  /**\n   * Default mode.\n   */\n  NOT_EMBEDDED: 0,\n\n  /**\n   * TBD embed mode.\n   *\n   * This differs from the NOT_EMBEDDED embed mode in the following ways:\n   * - Hides bookend\n   * - Hides all system layer buttons\n   * - Disables swipe-based user education\n   * - Disallows ads\n   * - Unmutes audio in the story by default\n   */\n  NAME_TBD: 1,\n\n  /**\n   * This mode is intended for embedders that natively handle sharing the story,\n   * thereby rendering the sharing functionality within the amp-story extension\n   * redundant.\n   *\n   * This differs from the NOT_EMBEDDED embed mode in the following ways:\n   * - Removes \"share\" pill from desktop UI\n   * - Removes \"share\" icon from mobile UI\n   * - Removes sharing section from bookend\n   * - TODO(#14923): Removes the link information from embedded UIs.\n   */\n  NO_SHARING: 2,\n};\n\n\n/**\n * Parameter to retrieve the embed mode from the location hash.\n * @type {string}\n */\nexport const EmbedModeParam = 'embedMode';\n\n\n/**\n * @param {string} str\n * @return {!EmbedMode}\n * @private\n */\nexport function parseEmbedMode(str) {\n  const params = parseQueryString(str);\n  const unsanitizedEmbedMode = params[EmbedModeParam];\n  const embedModeIndex = parseInt(unsanitizedEmbedMode, 10);\n\n  return isEnumValue(EmbedMode, embedModeIndex)\n    ? /** @type {!EmbedMode} */ (embedModeIndex)\n    : EmbedMode.NOT_EMBEDDED;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createCustomEvent} from '../../../src/event-helper';\n\n\n/** @const {!Object<string, string>} */\nexport const EventType = {\n  // Triggered when the user mutes the story\n  MUTE: 'ampstory:mute',\n\n  // Triggered when the user unmutes the story\n  UNMUTE: 'ampstory:unmute',\n\n  // Triggered when the story should switch to a specified page\n  SWITCH_PAGE: 'ampstory:switchpage',\n\n  // Triggered when the story should switch to the previous page\n  PREVIOUS_PAGE: 'ampstory:previouspage',\n\n  // Triggered when the story should switch to the next page\n  NEXT_PAGE: 'ampstory:nextpage',\n\n  // Triggered when the story should navigate after a tap on active page.\n  TAP_NAVIGATION: 'ampstory:tapnavigation',\n\n  // Triggered when a page updates its progress\n  PAGE_PROGRESS: 'ampstory:pageprogress',\n\n  // Triggered when the story should be replayed\n  REPLAY: 'ampstory:replay',\n\n  // DEVELOPMENT MODE ONLY: Triggered when a story page has log entries (e.g.\n  // warnings or errors).\n  DEV_LOG_ENTRIES_AVAILABLE: 'ampstory:devlogentriesavailable',\n\n  // Triggered when user clicks on left 25% of the first page\n  SHOW_NO_PREVIOUS_PAGE_HELP: 'ampstory:shownopreviouspagehelp',\n\n  // Triggered when a story has loaded at least its initial set of pages.\n  STORY_LOADED: 'ampstory:load',\n\n  // Triggered when a page has loaded at least one frame of all of its media.\n  PAGE_LOADED: 'ampstory:pageload',\n\n  // Dispatches an action to the amp-story store service. Only works under test.\n  DISPATCH_ACTION: 'ampstory:dispatchaction',\n};\n\n/**\n * @param {!Window} win\n * @param {!EventTarget} source\n * @param {string} eventName\n * @param {!JsonObject=} payload\n * @param {!CustomEventInit=} eventInit\n */\nexport function dispatch(win, source, eventName, payload = undefined,\n  eventInit = undefined) {\n  const event = createCustomEvent(win, eventName, payload, eventInit);\n  source.dispatchEvent(event);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {isJsonLdScriptTag} from '../../../src/dom';\nimport {tryParseJson} from '../../../src/json';\nimport {user} from '../../../src/log';\n\nconst TAG = 'getJsonLd';\n\n/**\n * @param {!Node} root\n * @return {?JsonObject}\n */\nexport function getJsonLd(root) {\n  const scriptTag = root.querySelector('script[type=\"application/ld+json\"]');\n\n  if (!scriptTag || !isJsonLdScriptTag(scriptTag)) {\n    return null;\n  }\n\n  return tryParseJson(scriptTag.textContent, e => {\n    user().error(TAG, 'Failed to parse ld+json. Is it valid JSON?', e);\n  }) || null;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/** @const {string} */\nconst SPINNER_ACTIVE_ATTRIBUTE = 'active';\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst SPINNER = {\n  tag: 'div',\n  attrs: dict({\n    'class': 'i-amphtml-story-spinner',\n    'aria-hidden': 'true',\n    'aria-label': 'Loading video',\n  }),\n  children: [\n    {\n      tag: 'div',\n      attrs: dict({\n        'class': 'i-amphtml-story-spinner-container',\n      }),\n      children: [\n        {\n          tag: 'div',\n          attrs: dict({\n            'class': 'i-amphtml-story-spinner-layer',\n          }),\n          children: [\n            {\n              tag: 'div',\n              attrs: dict({\n                'class': 'i-amphtml-story-spinner-circle-clipper left',\n              }),\n            },\n            {\n              tag: 'div',\n              attrs: dict({\n                'class': 'i-amphtml-story-spinner-circle-clipper right',\n              }),\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n\n/**\n * Loading spinner UI element.\n */\nexport class LoadingSpinner {\n  /**\n   * @param {!Document} doc\n   */\n  constructor(doc) {\n    /** @private @const {!Document} */\n    this.doc_ = doc;\n\n    /** @public {?Element} */\n    this.root_ = null;\n\n    /** @private {boolean} */\n    this.isActive_ = false;\n  }\n\n  /**\n   * @return {!Element}\n   */\n  build() {\n    if (this.root_) {\n      return this.root_;\n    }\n\n    this.root_ = renderAsElement(this.doc_, SPINNER);\n\n    return this.getRoot();\n  }\n\n  /** @return {!Element} */\n  getRoot() {\n    return dev().assertElement(this.root_);\n  }\n\n  /** @param {boolean} isActive */\n  toggle(isActive) {\n    if (isActive === this.isActive_) {\n      return;\n    }\n    if (isActive) {\n      this.root_.setAttribute(SPINNER_ACTIVE_ATTRIBUTE, '');\n      this.root_.setAttribute('aria-hidden', 'false');\n    } else {\n      this.root_.removeAttribute(SPINNER_ACTIVE_ATTRIBUTE);\n      this.root_.setAttribute('aria-hidden', 'true');\n    }\n    this.isActive_ = isActive;\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {closest} from '../../../src/dom';\nimport {parseJson} from '../../../src/json';\n\n/**\n * A unique identifier for each localized string.  Localized string IDs should:\n *\n *   - Maintain alphabetical order\n *   - Be prefixed with the name of the extension that uses the string\n *     (e.g. \"AMP_STORY_\"), or with \"AMP_\" if they are general\n *   - NOT be reused; to deprecate an ID, comment it out and prefix its key with\n *     the string \"DEPRECATED_\"\n *\n * Next ID: 31\n *\n * @const @enum {string}\n */\nexport const LocalizedStringId = {\n  // amp-story\n  AMP_STORY_BOOKEND_MORE_TO_READ_LABEL: '30',\n  AMP_STORY_BOOKEND_PRIVACY_SETTINGS_TITLE: '29',\n  AMP_STORY_BOOKEND_PRIVACY_SETTINGS_BUTTON_LABEL: '28',\n  AMP_STORY_CONSENT_ACCEPT_BUTTON_LABEL: '22',\n  AMP_STORY_CONSENT_DECLINE_BUTTON_LABEL: '23',\n  AMP_STORY_CONTINUE_ANYWAY_BUTTON_LABEL: '27',\n  AMP_STORY_DOMAIN_DIALOG_HEADING_LABEL: '25',\n  AMP_STORY_DOMAIN_DIALOG_HEADING_LINK: '26',\n  AMP_STORY_HINT_UI_NEXT_LABEL: '2',\n  AMP_STORY_HINT_UI_PREVIOUS_LABEL: '3',\n  AMP_STORY_SHARING_CLIPBOARD_FAILURE_TEXT: '4',\n  AMP_STORY_SHARING_CLIPBOARD_SUCCESS_TEXT: '5',\n  AMP_STORY_SHARING_PROVIDER_NAME_EMAIL: '6',\n  AMP_STORY_SHARING_PROVIDER_NAME_FACEBOOK: '7',\n  AMP_STORY_SHARING_PROVIDER_NAME_GOOGLE_PLUS: '8',\n  AMP_STORY_SHARING_PROVIDER_NAME_LINK: '9',\n  AMP_STORY_SHARING_PROVIDER_NAME_LINKEDIN: '10',\n  AMP_STORY_SHARING_PROVIDER_NAME_PINTEREST: '11',\n  AMP_STORY_SHARING_PROVIDER_NAME_SMS: '12',\n  AMP_STORY_SHARING_PROVIDER_NAME_SYSTEM: '13',\n  AMP_STORY_SHARING_PROVIDER_NAME_TUMBLR: '14',\n  AMP_STORY_SHARING_PROVIDER_NAME_TWITTER: '15',\n  AMP_STORY_SHARING_PROVIDER_NAME_WHATSAPP: '16',\n  AMP_STORY_SYSTEM_LAYER_SHARE_WIDGET_LABEL: '17',\n  AMP_STORY_WARNING_DESKTOP_SIZE_TEXT: '18',\n  AMP_STORY_WARNING_EXPERIMENT_DISABLED_TEXT: '19',\n  AMP_STORY_WARNING_LANDSCAPE_ORIENTATION_TEXT: '20',\n  AMP_STORY_WARNING_UNSUPPORTED_BROWSER_TEXT: '21',\n  // DEPRECATED_AMP_STORY_EXPERIMENT_ENABLE_BUTTON_LABEL: '0',\n  // DEPRECATED_AMP_STORY_EXPERIMENT_ENABLED_TEXT: '1',\n  // DEPRECATED_AMP_STORY_CONSENT_DISMISS_DIALOG_BUTTON_LABEL: '24',\n};\n\n\n/**\n * @typedef {{\n *   string: string,\n *   description: string,\n * }}\n */\nexport let LocalizedStringDef;\n\n\n/**\n * @typedef {!Object<!LocalizedStringId, !LocalizedStringDef>}\n */\nexport let LocalizedStringBundleDef;\n\n\n/**\n * Language code used if there is no language code specified by the document.\n * @const {string}\n */\nconst FALLBACK_LANGUAGE_CODE = 'default';\n\n\n/**\n * @const {!RegExp}\n */\nconst LANGUAGE_CODE_CHUNK_REGEX = /\\w+/gi;\n\n\n/**\n * @param {string} languageCode\n * @return {!Array<string>} A list of language codes.\n */\nexport function getLanguageCodesFromString(languageCode) {\n  if (!languageCode) {\n    return ['en', FALLBACK_LANGUAGE_CODE];\n  }\n  const matches = languageCode.match(LANGUAGE_CODE_CHUNK_REGEX) || [];\n  return matches.reduce((fallbackLanguageCodeList, chunk, index) => {\n    const fallbackLanguageCode = matches.slice(0, index + 1)\n        .join('-')\n        .toLowerCase();\n    fallbackLanguageCodeList.unshift(fallbackLanguageCode);\n    return fallbackLanguageCodeList;\n  }, [FALLBACK_LANGUAGE_CODE]);\n}\n\n\n/**\n * Gets the string matching the specified localized string ID in the language\n * specified.\n * @param {!Object<string, LocalizedStringBundleDef>} localizedStringBundles\n * @param {!Array<string>} languageCodes\n * @param {!LocalizedStringId} localizedStringId\n */\nfunction findLocalizedString(localizedStringBundles, languageCodes,\n  localizedStringId) {\n  let localizedString = null;\n\n  languageCodes.some(languageCode => {\n    const localizedStringBundle = localizedStringBundles[languageCode];\n    if (localizedStringBundle && localizedStringBundle[localizedStringId] &&\n        localizedStringBundle[localizedStringId].string) {\n      localizedString = localizedStringBundle[localizedStringId].string;\n      return true;\n    }\n\n    return false;\n  });\n\n  return localizedString;\n}\n\n\n/**\n * Creates a deep copy of the specified LocalizedStringBundle.\n * @param {!LocalizedStringBundleDef} localizedStringBundle\n * @return {!LocalizedStringBundleDef}\n */\nfunction cloneLocalizedStringBundle(localizedStringBundle) {\n  return /** @type {!LocalizedStringBundleDef} */ (parseJson(\n      JSON.stringify(/** @type {!JsonObject} */ (localizedStringBundle))));\n}\n\n\n/**\n * Creates a pseudo locale by applying string transformations (specified by the\n * localizationFn) to an existing string bundle, without modifying the original.\n * @param {!LocalizedStringBundleDef} localizedStringBundle The localized\n *     string bundle to be transformed.\n * @param {function(string): string} localizationFn The transformation to be\n *     applied to each string in the bundle.\n * @return {!LocalizedStringBundleDef} The new strings.\n */\nexport function createPseudoLocale(localizedStringBundle, localizationFn) {\n  /** @type {!LocalizedStringBundleDef} */\n  const pseudoLocaleStringBundle =\n      cloneLocalizedStringBundle(localizedStringBundle);\n\n  Object.keys(pseudoLocaleStringBundle).forEach(localizedStringIdAsStr => {\n    const localizedStringId =\n    /** @type {!LocalizedStringId} */ (localizedStringIdAsStr);\n    pseudoLocaleStringBundle[localizedStringId].string =\n        localizationFn(localizedStringBundle[localizedStringId].string);\n  });\n\n  return pseudoLocaleStringBundle;\n}\n\n\n/**\n * Localization service.\n */\nexport class LocalizationService {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    const rootEl = win.document.documentElement;\n\n    /**\n     * @private @const {!Array<string>}\n     */\n    this.rootLanguageCodes_ = this.getLanguageCodesForElement_(rootEl);\n\n    /**\n     * A mapping of language code to localized string bundle.\n     * @private @const {!Object<string, !LocalizedStringBundleDef>}\n     */\n    this.localizedStringBundles_ = {};\n  }\n\n\n  /**\n   * @param {!Element} element\n   * @return {!Array<string>}\n   * @private\n   */\n  getLanguageCodesForElement_(element) {\n    const languageEl = closest(element, el => el.hasAttribute('lang'));\n    const languageCode = languageEl ? languageEl.getAttribute('lang') : null;\n    return getLanguageCodesFromString(languageCode || '');\n  }\n\n\n  /**\n   * @param {string} languageCode The language code to associate with the\n   *     specified localized string bundle.\n   * @param {!LocalizedStringBundleDef} localizedStringBundle The localized\n   *     string bundle to register.\n   * @return {!LocalizationService} For chaining.\n   */\n  registerLocalizedStringBundle(languageCode, localizedStringBundle) {\n    if (!this.localizedStringBundles_[languageCode]) {\n      this.localizedStringBundles_[languageCode] = {};\n    }\n\n    Object.assign(this.localizedStringBundles_[languageCode],\n        localizedStringBundle);\n    return this;\n  }\n\n\n  /**\n   * @param {!LocalizedStringId} LocalizedStringId\n   * @param {!Element=} elementToUse The element where the string will be\n   *     used.  The language is based on the language at that part of the\n   *     document.  If unspecified, will use the document-level language, if\n   *     one exists, or the default otherwise.\n   */\n  getLocalizedString(LocalizedStringId, elementToUse = undefined) {\n    const languageCodes = elementToUse ?\n      this.getLanguageCodesForElement_(elementToUse) :\n      this.rootLanguageCodes_;\n\n    return findLocalizedString(this.localizedStringBundles_, languageCodes,\n        LocalizedStringId);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LogLevel, dev} from '../../../src/log';\nimport {scopedQuerySelectorAll} from '../../../src/dom';\nimport {tryResolve} from '../../../src/utils/promise';\n\n\n/** @typedef {function(!Element): (boolean|!Promise<boolean>)} */\nlet ElementPredicateDef;\n\n/**\n * A log type is an abstract rule or best practice that should be followed when\n * constructing a story.  This is internal to this file, which handles finding\n * specific instances of these log types, and returning them as log entries.\n *\n * message: (required) The message shown to developers in development mode if\n *     the best practice is not followed.\n * level: (required) The log level at which this entry should be logged.\n * moreInfo: (optional) A URL to a page containing additional documentation on\n *     the best practice.\n * selector: (optional) A selector to be queried on the currently-active page,\n *     and whose results will be subject to the best practice (given that they\n *     also match the precondition).  If unspecified, the amp-story-page itself\n *     is assumed to be subject to the best practice.\n * precondition: (optional) A predicate that takes an element and returns true\n *     if the specified element should be subject to the best practice.  If\n *     unspecified, all elements that match the selector are subject to the best\n *     practice.\n * predicate: (optional) A predicate that takes an element and returns true if\n *     the element follows the best practice, or false otherwise.  If\n *     unspecified, all elements are assumed not to follow the best practice.\n *\n * @typedef {{\n *   message: string,\n *   level: !LogLevel,\n *   moreInfo: (string|undefined),\n *   selector: (string|undefined),\n *   precondition: (!ElementPredicateDef|undefined),\n *   predicate: (!ElementPredicateDef|undefined),\n * }}\n */\nlet AmpStoryLogTypeDef;\n\n\n/**\n * A log entry is a more concrete version of a rule or best practice; it refers\n * to whether a specific element on a specific page of a specific story conforms\n * to a given best practice.\n *\n * @typedef {{\n *   element: !Element,\n *   rootElement: !Element,\n *   message: string,\n *   level: !LogLevel,\n *   conforms: boolean,\n *   moreInfo: (string|undefined),\n * }}\n */\nexport let AmpStoryLogEntryDef;\n\n\n/** @private @const {string} */\nconst AMPPROJECT_DOCS = 'https://www.ampproject.org/docs';\n\n\n/**\n * @param {!HTMLMediaElement} el\n * @return {!Promise<Image>}\n */\nfunction getPosterFromVideo(el) {\n  return new Promise((resolve, reject) => {\n    const poster = new Image();\n    poster.onload = () => resolve(poster);\n    poster.onerror = reject;\n    poster.src = el.getAttribute('poster');\n  });\n}\n\n/** @enum {!AmpStoryLogTypeDef} */\nconst LogType = {\n  /** Errors */\n  VIDEOS_POSTER_SPECIFIED: {\n    message: 'Videos should specify a poster image.',\n    moreInfo: AMPPROJECT_DOCS + '/reference/components/amp-video#poster',\n    selector: 'video:not([poster])',\n    level: LogLevel.ERROR,\n  },\n\n  /** Warnings */\n  IMAGES_MAX_720P_OR_SRCSET: {\n    message: 'Images should not be larger than 720p.  If you wish to use' +\n        ' images that are larger than 720p, you should specify a srcset.',\n    moreInfo: AMPPROJECT_DOCS + '/guides/responsive/art_direction#srcset',\n    selector: 'img:not([srcset])',\n    predicate: el => el.naturalWidth <= 720 && el.naturalHeight <= 1280,\n    level: LogLevel.WARN,\n  },\n\n  IMAGES_PORTRAIT: {\n    message: 'Full-bleed images should be in portrait orientation.',\n    selector: 'amp-story-grid-layer[template=\"fill\"] > amp-img > img',\n    predicate: el => el.naturalWidth < el.naturalHeight,\n    level: LogLevel.WARN,\n  },\n\n  VIDEOS_MAX_720P: {\n    message: 'Videos should not be larger than 720p.',\n    selector: 'video',\n    predicate: el => el.videoWidth <= 720 && el.videoHeight <= 1280,\n    level: LogLevel.WARN,\n  },\n\n  VIDEOS_PORTRAIT: {\n    message: 'Full-bleed videos should be in portrait orientation.',\n    selector: 'amp-story-grid-layer[template=\"fill\"] > amp-video > video',\n    predicate: el => el.videoWidth < el.videoHeight,\n    level: LogLevel.WARN,\n  },\n\n  VIDEO_POSTER_MAX_720P: {\n    message: 'Video poster images should not be larger than 720p.',\n    selector: 'video[poster]',\n    predicate: el => getPosterFromVideo(el)\n        .then(poster => {\n          return poster.naturalWidth <= 720 && poster.naturalHeight <= 1280;\n        }),\n    level: LogLevel.WARN,\n  },\n\n  VIDEO_POSTER_POTRAIT: {\n    message: 'Poster images for full-bleed videos should be in portrait ' +\n        'orientation.',\n    selector: 'amp-story-grid-layer[template=\"fill\"] > amp-video > ' +\n        'video[poster]',\n    predicate: el => getPosterFromVideo(el)\n        .then(poster => poster.naturalWidth < poster.naturalHeight),\n    level: LogLevel.WARN,\n  },\n};\n\n\n/**\n * Gets the log type associated with the specified key.\n * @param {string} logTypeKey\n * @return {!AmpStoryLogTypeDef}\n */\nfunction getLogType(logTypeKey) {\n  const logType = LogType[logTypeKey];\n  dev().assert(logType, `There is no log type \"${logTypeKey}\".`);\n  dev().assert(logType.message,\n      `Log type \"${logTypeKey}\" has no associated message.`);\n  dev().assert(logType.level,\n      `Log type \"${logTypeKey}\" has no associated log level.`);\n\n  return logType;\n}\n\n\n/**\n * @param {!Element} rootElement\n * @param {!AmpStoryLogTypeDef} logType\n * @param {!Element} element\n * @return {!Promise<!AmpStoryLogEntryDef>}\n */\nfunction getLogEntry(rootElement, logType, element) {\n  const predicate = logType.predicate || (unusedEl => false);\n\n  return tryResolve(() => predicate(element))\n      .then(conforms => {\n        return new Promise(resolve => {\n          resolve({\n            rootElement,\n            element,\n            conforms,\n            level: logType.level,\n            message: logType.message,\n            moreInfo: logType.moreInfo,\n          });\n        });\n      });\n}\n\n\n/**\n * @param {!Element} rootElement\n * @param {!AmpStoryLogTypeDef} logType\n * @return {!Array<!Promise<!AmpStoryLogEntryDef>>}\n */\nfunction getLogEntriesForType(rootElement, logType) {\n  const precondition = logType.precondition || (unusedEl => true);\n\n  const elements = logType.selector ?\n    [].slice.call(scopedQuerySelectorAll(rootElement, logType.selector)) :\n    [rootElement];\n\n  return elements\n      .filter(precondition)\n      .map(getLogEntry.bind(/** thisArg */ null, rootElement, logType));\n}\n\n/**\n * @param {!AmpStoryLogEntryDef} logEntryA\n * @param {!AmpStoryLogEntryDef} logEntryB\n * @return {number}\n */\nfunction logEntryCompareFn(logEntryA, logEntryB) {\n  if (logEntryA.conforms == logEntryB.conforms) {\n    // For entries within that are all conformant or all non-conformant, sort by\n    // log level, with most severe entries first and least severe entries last.\n    return logEntryA.level <= logEntryB.level ? -1 : 1;\n  } else {\n    // false < true, so non-conformant issues go before conformant ones.\n    return logEntryA.conforms < logEntryB.conforms ? -1 : 1;\n  }\n}\n\n\n/**\n * Gets a promise which yields a list of log entries for the specified element.\n * @param {!Element} rootElement\n * @return {!Promise<!Array<!AmpStoryLogEntryDef>>}\n */\nexport function getLogEntries(rootElement) {\n  const logEntryPromises = Object.keys(LogType).reduce((entries, key) => {\n    const logType = getLogType(key);\n    const newEntries = getLogEntriesForType(rootElement, logType);\n    return entries.concat(newEntries);\n  }, []);\n\n  return Promise.all(logEntryPromises)\n      .then(logEntries => {\n        return logEntries.sort(logEntryCompareFn);\n      });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BLANK_AUDIO_SRC, BLANK_VIDEO_SRC} from './default-media';\nimport {\n  BlessTask,\n  ELEMENT_BLESSED_PROPERTY_NAME,\n  LoadTask,\n  MuteTask,\n  PauseTask,\n  PlayTask,\n  RewindTask,\n  SwapIntoDomTask,\n  SwapOutOfDomTask,\n  UnmuteTask,\n  UpdateSourcesTask,\n} from './media-tasks';\nimport {Services} from '../../../src/services';\nimport {Sources} from './sources';\nimport {\n  VideoServiceSignals,\n} from '../../../src/service/video-service-interface';\nimport {ampMediaElementFor} from './utils';\nimport {dev} from '../../../src/log';\nimport {findIndex} from '../../../src/utils/array';\nimport {isConnectedNode} from '../../../src/dom';\nimport {toWin} from '../../../src/types';\n\n\n/** @const @enum {string} */\nexport const MediaType = {\n  UNSUPPORTED: 'unsupported',\n  AUDIO: 'audio',\n  VIDEO: 'video',\n};\n\n\n/**\n * Represents the distance of an element from the current place in the document.\n * @typedef {function(!HTMLMediaElement): number}\n */\nexport let ElementDistanceFnDef;\n\n\n/**\n * Represents a task to be executed on a media element.\n * @typedef {function(!HTMLMediaElement, *): !Promise}\n */\nlet ElementTaskDef;\n\n\n/**\n * @const {string}\n */\nconst DOM_MEDIA_ELEMENT_ID_PREFIX = 'i-amphtml-media-';\n\n\n/**\n * @const {string}\n */\nconst POOL_MEDIA_ELEMENT_PROPERTY_NAME = '__AMP_MEDIA_POOL_ID__';\n\n\n/**\n * @const {string}\n */\nconst ELEMENT_TASK_QUEUE_PROPERTY_NAME = '__AMP_MEDIA_ELEMENT_TASKS__';\n\n\n/**\n * The name for a string attribute that represents the ID of a media element\n * that the element containing this attribute replaced.\n * @const {string}\n */\nexport const REPLACED_MEDIA_PROPERTY_NAME = 'replaced-media';\n\n\n/**\n * @type {!Object<string, !MediaPool>}\n */\nconst instances = {};\n\n\n/**\n * @type {number}\n */\nlet nextInstanceId = 0;\n\n\nlet elId = 0;\n\n\n/**\n *  MediaPool\n * Keeps a pool of N media elements to be shared across components.\n */\nexport class MediaPool {\n  /**\n   * @param {!Window} win The window object.\n   * @param {!Object<!MediaType, number>} maxCounts The maximum amount of each\n   *     media element that can be allocated by the pool.\n   * @param {!ElementDistanceFnDef} distanceFn A function that, given an\n   *     element, returns the distance of that element from the current position\n   *     in the document.  The definition of \"distance\" can be implementation-\n   *     dependant, as long as it is consistent between invocations.\n   */\n  constructor(win, maxCounts, distanceFn) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(win);\n\n    /**\n     * The function used to retrieve the distance between an element and the\n     * current position in the document.\n     * @private @const {!ElementDistanceFnDef}\n     */\n    this.distanceFn_ = distanceFn;\n\n    /**\n     * Holds all of the media elements that have been allocated.\n     * @const {!Object<!MediaType, !Array<!HTMLMediaElement>>}\n     * @visibleForTesting\n     */\n    this.allocated = {};\n\n    /**\n     * Holds all of the media elements that have not been allocated.\n     * @const {!Object<!MediaType, !Array<!HTMLMediaElement>>}\n     * @visibleForTesting\n     */\n    this.unallocated = {};\n\n    /**\n     * Maps a media element's ID to the object containing its sources.\n     * @private @const {!Object<string, !Sources>}\n     */\n    this.sources_ = {};\n\n    /**\n     * Maps a media element's ID to the element.  This is necessary, as elements\n     * are kept in memory when they are swapped out of the DOM.\n     * @private @const {!Object<string, !HTMLMediaElement>}\n     */\n    this.domMediaEls_ = {};\n\n    /**\n     * Counter used to produce unique IDs for media elements.\n     * @private {number}\n     */\n    this.idCounter_ = 0;\n\n    /**\n     * Whether the media elements in this MediaPool instance have been \"blessed\"\n     * for unmuted playback without user gesture.\n     * @private {boolean}\n     */\n    this.blessed_ = false;\n\n    /** @private {?Array<!AmpElement>} */\n    this.ampElementsToBless_ = null;\n\n    /** @const {!Object<string, (function(): !HTMLMediaElement)>} */\n    this.mediaFactory_ = {\n      [MediaType.AUDIO]: () => {\n        const audioEl = this.win_.document.createElement('audio');\n        audioEl.setAttribute('muted', '');\n        audioEl.muted = true;\n        audioEl.classList.add('i-amphtml-pool-media');\n        audioEl.classList.add('i-amphtml-pool-audio');\n        return audioEl;\n      },\n      [MediaType.VIDEO]: () => {\n        const videoEl = this.win_.document.createElement('video');\n        videoEl.setAttribute('muted', '');\n        videoEl.muted = true;\n        videoEl.setAttribute('playsinline', '');\n        videoEl.classList.add('i-amphtml-pool-media');\n        videoEl.classList.add('i-amphtml-pool-video');\n        return videoEl;\n      },\n    };\n\n    this.initializeMediaPool_(maxCounts);\n  }\n\n\n  /**\n   * Fills the media pool by creating the maximum number of media elements for\n   * each of the types of media elements.  We need to create these eagerly so\n   * that all media elements exist by the time that blessAll() is invoked,\n   * thereby \"blessing\" all media elements for playback without user gesture.\n   * @param {!Object<!MediaType, number>} maxCounts The maximum amount of each\n   *     media element that can be allocated by the pool.\n   * @private\n   */\n  initializeMediaPool_(maxCounts) {\n    this.forEachMediaType_(key => {\n      const type = MediaType[key];\n      const count = maxCounts[type] || 0;\n\n      if (count <= 0) {\n        return;\n      }\n\n      const ctor = dev().assert(this.mediaFactory_[type],\n          `Factory for media type \\`${type}\\` unset.`);\n\n      // Cloning nodes is faster than building them.\n      // Construct a seed media element as a small optimization.\n      const mediaElSeed = ctor.call(this);\n\n      this.allocated[type] = [];\n      this.unallocated[type] = [];\n\n      // Reverse-looping is generally faster and Closure would usually make\n      // this optimization automatically. However, it skips it due to a\n      // comparison with the itervar below, so we have to roll it by hand.\n      for (let i = count; i > 0; i--) {\n        const mediaEl = /** @type {!HTMLMediaElement} */\n            // Use seed element at end of set to prevent wasting it.\n            (i == 1 ? mediaElSeed : mediaElSeed.cloneNode(/* deep */ true));\n        const sources = this.getDefaultSource_(type);\n        mediaEl.setAttribute('pool-element', elId++);\n        this.enqueueMediaElementTask_(mediaEl,\n            new UpdateSourcesTask(sources));\n        // TODO(newmuis): Check the 'error' field to see if MEDIA_ERR_DECODE\n        // is returned.  If so, we should adjust the pool size/distribution\n        // between media types.\n        this.unallocated[type].push(mediaEl);\n      }\n    });\n  }\n\n\n  /**\n   * @param {!MediaType} mediaType The media type whose source should be\n   *     retrieved.\n   * @return {!Sources} The default source for the specified type of media.\n   */\n  getDefaultSource_(mediaType) {\n    switch (mediaType) {\n      case MediaType.AUDIO:\n        return new Sources(BLANK_AUDIO_SRC);\n      case MediaType.VIDEO:\n        return new Sources(BLANK_VIDEO_SRC);\n      default:\n        dev().error('AMP-STORY', `No default media for type ${mediaType}.`);\n        return new Sources();\n    }\n  }\n\n\n  /**\n   * Comparison function that compares the distance of each element from the\n   * current position in the document.\n   * @param {!HTMLMediaElement} mediaA The first element to compare.\n   * @param {!HTMLMediaElement} mediaB The second element to compare.\n   * @private\n   */\n  compareMediaDistances_(mediaA, mediaB) {\n    const distanceA = this.distanceFn_(mediaA);\n    const distanceB = this.distanceFn_(mediaB);\n    return distanceA < distanceB ? -1 : 1;\n  }\n\n\n  /**\n   * @return {string} A unique ID.\n   * @private\n   */\n  createDomMediaElementId_() {\n    return DOM_MEDIA_ELEMENT_ID_PREFIX + this.idCounter_++;\n  }\n\n  /**\n   * Gets the media type from a given element.\n   * @param {!HTMLMediaElement} mediaElement The element whose media type should\n   *     be retrieved.\n   * @return {!MediaType}\n   * @private\n   */\n  getMediaType_(mediaElement) {\n    const tagName = mediaElement.tagName.toLowerCase();\n    switch (tagName) {\n      case 'audio':\n        return MediaType.AUDIO;\n      case 'video':\n        return MediaType.VIDEO;\n      default:\n        return MediaType.UNSUPPORTED;\n    }\n  }\n\n\n  /**\n   * Reserves an element of the specified type by removing it from the set of\n   * unallocated elements and returning it.\n   * @param {!MediaType} mediaType The type of media element to reserve.\n   * @return {?HTMLMediaElement} The reserved element, if one exists.\n   * @private\n   */\n  reserveUnallocatedMediaElement_(mediaType) {\n    return this.unallocated[mediaType].pop();\n  }\n\n\n  /**\n   * Retrieves the media element from the pool that matches the specified\n   * element, if one exists.\n   * @param {!MediaType} mediaType The type of media element to get.\n   * @param {!HTMLMediaElement} domMediaEl The element whose matching media\n   *     element should be retrieved.\n   * @return {?HTMLMediaElement} The media element in the pool that represents\n   *     the specified media element\n   */\n  getMatchingMediaElementFromPool_(mediaType, domMediaEl) {\n    if (this.isAllocatedMediaElement_(mediaType, domMediaEl)) {\n      return domMediaEl;\n    }\n\n    const allocatedEls = this.allocated[mediaType];\n    const index = findIndex(allocatedEls, poolMediaEl => {\n      return poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME] === domMediaEl.id;\n    });\n\n    return allocatedEls[index];\n  }\n\n\n  /**\n   * Allocates the specified media element of the specified type.\n   * @param {!MediaType} mediaType The type of media element to allocate.\n   * @param {!HTMLMediaElement} poolMediaEl The element to be allocated.\n   * @private\n   */\n  allocateMediaElement_(mediaType, poolMediaEl) {\n    this.allocated[mediaType].push(poolMediaEl);\n\n    const unallocatedEls = this.unallocated[mediaType];\n    const indexToRemove = unallocatedEls.indexOf(poolMediaEl);\n\n    if (indexToRemove >= 0) {\n      unallocatedEls.splice(indexToRemove, 1);\n    }\n  }\n\n\n  /**\n   * Deallocates and returns the media element of the specified type furthest\n   * from the current position in the document.\n   * @param {!MediaType} mediaType The type of media element to deallocate.\n   * @param {!HTMLMediaElement=} opt_elToAllocate If specified, the element that\n   *     is trying to be allocated, such that another element must be evicted.\n   * @return {?HTMLMediaElement} The deallocated element, if one exists.\n   * @private\n   */\n  deallocateMediaElement_(mediaType, opt_elToAllocate) {\n    const allocatedEls = this.allocated[mediaType];\n\n    // Sort the allocated media elements by distance to ensure that we are\n    // evicting the media element that is furthest from the current place in the\n    // document.\n    allocatedEls.sort((a, b) => this.compareMediaDistances_(a, b));\n\n    // Do not deallocate any media elements if the element being loaded or\n    // played is further than the farthest allocated element.\n    if (opt_elToAllocate) {\n      const furthestEl = allocatedEls[allocatedEls.length - 1];\n      if (!furthestEl ||\n          this.distanceFn_(furthestEl) < this.distanceFn_(opt_elToAllocate)) {\n        return null;\n      }\n    }\n\n    // De-allocate a media element.\n    const poolMediaEl = allocatedEls.pop();\n    this.unallocated[mediaType].push(poolMediaEl);\n    return poolMediaEl;\n  }\n\n\n  /**\n   * Forcibly deallocates a specific media element, regardless of its distance\n   * from the current position in the document.\n   * @param {!HTMLMediaElement} poolMediaEl The element to be deallocated.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully deallocated.\n   */\n  forceDeallocateMediaElement_(poolMediaEl) {\n    const mediaType = this.getMediaType_(poolMediaEl);\n    const allocatedEls = this.allocated[mediaType];\n    const removeFromDom = isConnectedNode(poolMediaEl) ?\n      this.swapPoolMediaElementOutOfDom_(poolMediaEl) : Promise.resolve();\n\n    return removeFromDom.then(() => {\n      const index = allocatedEls.indexOf(poolMediaEl);\n      dev().assert(index >= 0, 'Cannot deallocate unallocated media element.');\n      allocatedEls.splice(index, 1);\n      this.unallocated[mediaType].push(poolMediaEl);\n    });\n  }\n\n\n  /**\n   * Evicts an element of the specified type, replaces it in the DOM with the\n   * original media element, and returns it.\n   * @param {!MediaType} mediaType The type of media element to evict.\n   * @param {!HTMLMediaElement=} opt_elToAllocate If specified, the element that\n   *     is trying to be allocated, such that another element must be evicted.\n   * @return {?HTMLMediaElement} A media element of the specified type.\n   * @private\n   */\n  evictMediaElement_(mediaType, opt_elToAllocate) {\n    const poolMediaEl =\n        this.deallocateMediaElement_(mediaType, opt_elToAllocate);\n    if (!poolMediaEl) {\n      return null;\n    }\n\n    this.swapPoolMediaElementOutOfDom_(poolMediaEl);\n    return poolMediaEl;\n  }\n\n\n  /**\n   * @param {!MediaType} mediaType The media type to check.\n   * @param {!HTMLMediaElement} el The element to check.\n   * @return {boolean} true, if the specified element has already been allocated\n   *     as the specified type of media element.\n   * @private\n   */\n  isAllocatedMediaElement_(mediaType, el) {\n    return this.allocated[mediaType].indexOf(el) >= 0;\n  }\n\n\n  /**\n   * Replaces a media element that was originally in the DOM with a media\n   * element from the pool.\n   * @param {!HTMLMediaElement} domMediaEl The media element originating from\n   *     the DOM.\n   * @param {!HTMLMediaElement} poolMediaEl The media element originating from\n   *     the pool.\n   * @param {!Sources} sources The sources for the media element.\n   * @return {!Promise} A promise that is resolved when the media element has\n   *     been successfully swapped into the DOM.\n   * @private\n   */\n  swapPoolMediaElementIntoDom_(domMediaEl, poolMediaEl, sources) {\n    const ampMediaForPoolEl = ampMediaElementFor(poolMediaEl);\n    const ampMediaForDomEl = ampMediaElementFor(domMediaEl);\n    poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME] = domMediaEl.id;\n\n    return this.enqueueMediaElementTask_(poolMediaEl,\n        new SwapIntoDomTask(domMediaEl))\n        .then(() => {\n          this.maybeResetAmpMedia_(ampMediaForPoolEl);\n          this.maybeResetAmpMedia_(ampMediaForDomEl);\n          this.enqueueMediaElementTask_(poolMediaEl,\n              new UpdateSourcesTask(sources));\n          this.enqueueMediaElementTask_(poolMediaEl, new LoadTask());\n        }, () => {\n          this.forceDeallocateMediaElement_(poolMediaEl);\n        });\n  }\n\n\n  /**\n   * @param {?Element} componentEl\n   * @private\n   */\n  maybeResetAmpMedia_(componentEl) {\n    if (!componentEl) {\n      return;\n    }\n\n    if (componentEl.tagName.toLowerCase() == 'amp-audio') {\n      // TODO(alanorozco): Implement reset for amp-audio\n      return;\n    }\n\n    componentEl.getImpl().then(impl => {\n      if (impl.resetOnDomChange) {\n        impl.resetOnDomChange();\n      }\n    });\n  }\n\n\n  /**\n   * @param {!HTMLMediaElement} poolMediaEl The element whose source should be\n   *     reset.\n   * @return {!Promise} A promise that is resolved when the pool media element\n   *     has been reset.\n   */\n  resetPoolMediaElementSource_(poolMediaEl) {\n    const mediaType = this.getMediaType_(poolMediaEl);\n    const defaultSources = this.getDefaultSource_(mediaType);\n\n    return this.enqueueMediaElementTask_(poolMediaEl,\n        new UpdateSourcesTask(defaultSources));\n  }\n\n\n  /**\n   * Removes a pool media element from the DOM and replaces it with the video\n   * that it originally replaced.\n   * @param {!HTMLMediaElement} poolMediaEl The pool media element to remove\n   *     from the DOM.\n   * @return {!Promise} A promise that is resolved when the media element has\n   *     been successfully swapped out of the DOM.\n   * @private\n   */\n  swapPoolMediaElementOutOfDom_(poolMediaEl) {\n    const oldDomMediaElId = poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME];\n    const oldDomMediaEl = /** @type {!HTMLMediaElement} */ (dev().assertElement(\n        this.domMediaEls_[oldDomMediaElId],\n        'No media element to put back into DOM after eviction.'));\n\n    const swapOutOfDom = this.enqueueMediaElementTask_(poolMediaEl,\n        new SwapOutOfDomTask(oldDomMediaEl))\n        .then(() => {\n          poolMediaEl[REPLACED_MEDIA_PROPERTY_NAME] = null;\n        });\n\n    this.resetPoolMediaElementSource_(poolMediaEl);\n    return swapOutOfDom;\n  }\n\n  /**\n   * @param {function(string)} callbackFn\n   * @private\n   */\n  forEachMediaType_(callbackFn) {\n    Object.keys(MediaType).forEach(callbackFn.bind(this));\n  }\n\n  /**\n   * Invokes a function for all media managed by the media pool.\n   * @param {function(!HTMLMediaElement)} callbackFn The function to be\n   *     invoked.\n   * @private\n   */\n  forEachMediaElement_(callbackFn) {\n    [this.allocated, this.unallocated].forEach(mediaSet => {\n      this.forEachMediaType_(key => {\n        const type = MediaType[key];\n        const els = mediaSet[type];\n        if (!els) {\n          return;\n        }\n        els.forEach(callbackFn.bind(this));\n      });\n    });\n  }\n\n\n  /**\n   * Preloads the content of the specified media element in the DOM and returns\n   * a media element that can be used in its stead for playback.\n   * @param {!HTMLMediaElement} domMediaEl The media element, found in the DOM,\n   *     whose content should be loaded.\n   * @return {Promise<!HTMLMediaElement>} A media element from the pool that can be used\n   *     to replace the specified element.\n   */\n  loadInternal_(domMediaEl) {\n    if (!isConnectedNode(domMediaEl)) {\n      // Don't handle nodes that aren't even in the document.\n      return Promise.resolve();\n    }\n\n    const mediaType = this.getMediaType_(domMediaEl);\n    const existingPoolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n    if (existingPoolMediaEl) {\n      // The element being loaded already has an allocated media element.\n      return Promise.resolve(existingPoolMediaEl);\n    }\n\n    const sources = this.sources_[domMediaEl.id];\n    dev().assert(sources instanceof Sources,\n        'Cannot play unregistered element.');\n\n    const poolMediaEl = this.reserveUnallocatedMediaElement_(mediaType) ||\n        this.evictMediaElement_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      // If there is no space in the pool to allocate a new element, and no\n      // element can be evicted, do not return any element.\n      return Promise.resolve();\n    }\n\n    this.allocateMediaElement_(mediaType, poolMediaEl);\n\n    return this.swapPoolMediaElementIntoDom_(domMediaEl, poolMediaEl, sources)\n        .then(() => poolMediaEl);\n  }\n\n\n  /**\n   * \"Blesses\" the specified media element for future playback without a user\n   * gesture.  In order for this to bless the media element, this function must\n   * be invoked in response to a user gesture.\n   * @param {!HTMLMediaElement} poolMediaEl The media element to bless.\n   * @return {!Promise} A promise that is resolved when blessing the media\n   *     element is complete.\n   */\n  bless_(poolMediaEl) {\n    if (poolMediaEl[ELEMENT_BLESSED_PROPERTY_NAME]) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new BlessTask());\n  }\n\n\n  /**\n   * Registers the specified element to be usable by the media pool.  Elements\n   * should be registered as early as possible, in order to prevent them from\n   * being played while not managed by the media pool.  If the media element is\n   * already registered, this is a no-op.  Registering elements from within the\n   * pool is not allowed, and will also be a no-op.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be registered.\n   * @return {!Promise} A promise that is resolved when the element has been\n   *     successfully registered, or rejected otherwise.\n   */\n  register(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n\n    const parent = domMediaEl.parentNode;\n    if (parent.signals) {\n      this.trackAmpElementToBless_(/** @type {!AmpElement} */ (parent));\n    }\n\n    if (this.isAllocatedMediaElement_(mediaType, domMediaEl)) {\n      // This media element originated from the media pool.\n      return Promise.resolve();\n    }\n\n    const id = domMediaEl.id || this.createDomMediaElementId_();\n    if (this.sources_[id] && this.domMediaEls_[id]) {\n      // This media element is already registered.\n      return Promise.resolve();\n    }\n\n    // This media element has not yet been registered.\n    domMediaEl.id = id;\n    const sources = Sources.removeFrom(domMediaEl);\n    this.sources_[id] = sources;\n    this.domMediaEls_[id] = domMediaEl;\n\n    domMediaEl.muted = true;\n    domMediaEl.setAttribute('muted', '');\n    domMediaEl.pause();\n\n    return Promise.resolve();\n  }\n\n  /**\n   * @param {!AmpElement} element\n   * @private\n   */\n  trackAmpElementToBless_(element) {\n    this.ampElementsToBless_ = this.ampElementsToBless_ || [];\n    this.ampElementsToBless_.push(element);\n  }\n\n\n  /**\n   * Preloads the content of the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element, found in the DOM,\n   *     whose content should be loaded.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has successfully started preloading.\n   */\n  preload(domMediaEl) {\n    // Empty then() invocation hides the value yielded by the loadInternal_\n    // promise, so that we do not leak the pool media element outside of the\n    // scope of the media pool.\n    return this.loadInternal_(domMediaEl).then();\n  }\n\n\n  /**\n   * Plays the specified media element in the DOM by replacing it with a media\n   * element from the pool and playing that.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be played.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully played.\n   */\n  play(domMediaEl) {\n    return this.loadInternal_(domMediaEl)\n        .then(poolMediaEl => {\n          if (!poolMediaEl) {\n            return Promise.resolve();\n          }\n\n          return this.enqueueMediaElementTask_(poolMediaEl, new PlayTask());\n        });\n  }\n\n\n  /**\n   * Pauses the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be paused.\n   * @param {boolean=} rewindToBeginning Whether to rewind the currentTime\n   *     of media items to the beginning.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully paused.\n   */\n  pause(domMediaEl, rewindToBeginning = false) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new PauseTask())\n        .then(() => {\n          if (rewindToBeginning) {\n            this.enqueueMediaElementTask_(\n                /** @type {!HTMLMediaElement} */ (poolMediaEl),\n                new RewindTask());\n          }\n        });\n  }\n\n\n  /**\n   * Rewinds a specified media element in the DOM to 0.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be rewound.\n   * @return {!Promise} A promise that is resolved when the\n   *     specified media element has been successfully rewound.\n   */\n  rewindToBeginning(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new RewindTask());\n  }\n\n\n  /**\n   * Mutes the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be muted.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully muted.\n   */\n  mute(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new MuteTask());\n  }\n\n\n  /**\n   * Unmutes the specified media element in the DOM.\n   * @param {!HTMLMediaElement} domMediaEl The media element to be unmuted.\n   * @return {!Promise} A promise that is resolved when the specified media\n   *     element has been successfully paused.\n   */\n  unmute(domMediaEl) {\n    const mediaType = this.getMediaType_(domMediaEl);\n    const poolMediaEl =\n        this.getMatchingMediaElementFromPool_(mediaType, domMediaEl);\n\n    if (!poolMediaEl) {\n      return Promise.resolve();\n    }\n\n    return this.enqueueMediaElementTask_(poolMediaEl, new UnmuteTask());\n  }\n\n\n  /**\n   * \"Blesses\" all media elements in the media pool for future playback without\n   * a user gesture.  In order for this to bless the media elements, this\n   * function must be invoked in response to a user gesture.\n   * @return {!Promise} A promise that is resolved when all media elements in\n   *     the pool are blessed.\n   */\n  blessAll() {\n    if (this.blessed_) {\n      return Promise.resolve();\n    }\n\n    const blessPromises = [];\n\n    (this.ampElementsToBless_ || []).forEach(ampEl => {\n      ampEl.signals().signal(VideoServiceSignals.USER_INTERACTED);\n    });\n\n    this.ampElementsToBless_ = null; // GC\n\n    this.forEachMediaElement_(mediaEl => {\n      blessPromises.push(this.bless_(mediaEl));\n    });\n\n    return Promise.all(blessPromises)\n        .then(() => {\n          this.blessed_ = true;\n        }).catch(reason => {\n          dev().expectedError('AMP-STORY', 'Blessing all media failed: ',\n              reason);\n        });\n  }\n\n\n  /**\n   * @param {!HTMLMediaElement} mediaEl The element whose task queue should be\n   *     executed.\n   * @private\n   */\n  executeNextMediaElementTask_(mediaEl) {\n    const queue = mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME];\n    if (queue.length === 0) {\n      return;\n    }\n\n    const task = queue[0];\n\n    const executionFn = () => {\n      task.execute(mediaEl)\n          .catch(reason => dev().error('AMP-STORY', reason))\n          .then(() => {\n            // Run regardless of success or failure of task execution.\n            queue.shift();\n            this.executeNextMediaElementTask_(mediaEl);\n          });\n    };\n\n    if (task.requiresSynchronousExecution()) {\n      executionFn.call(this);\n    } else {\n      this.timer_.delay(executionFn.bind(this), 0);\n    }\n  }\n\n\n  /**\n   * @param {!HTMLMediaElement} mediaEl The element for which the specified task\n   *     should be executed.\n   * @param {!./media-tasks.MediaTask} task The task to be executed.\n   * @return {!Promise} A promise that is resolved when the specified task is\n   *     completed.\n   * @private\n   */\n  enqueueMediaElementTask_(mediaEl, task) {\n    if (!mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME]) {\n      mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME] = [];\n    }\n\n    const queue = mediaEl[ELEMENT_TASK_QUEUE_PROPERTY_NAME];\n    const isQueueRunning = queue.length !== 0;\n\n    queue.push(task);\n\n    if (!isQueueRunning) {\n      this.executeNextMediaElementTask_(mediaEl);\n    }\n\n    return task.whenComplete();\n  }\n\n\n  /**\n   * @param {!MediaPoolRoot} root\n   * @return {!MediaPool}\n   */\n  static for(root) {\n    const element = root.getElement();\n    const existingId = element[POOL_MEDIA_ELEMENT_PROPERTY_NAME];\n    const hasInstanceAllocated = existingId && instances[existingId];\n\n    if (hasInstanceAllocated) {\n      return instances[existingId];\n    }\n\n    const newId = String(nextInstanceId++);\n    element[POOL_MEDIA_ELEMENT_PROPERTY_NAME] = newId;\n    instances[newId] = new MediaPool(\n        toWin(root.getElement().ownerDocument.defaultView),\n        root.getMaxMediaElementCounts(),\n        element => root.getElementDistance(element));\n\n    return instances[newId];\n  }\n}\n\n\n/**\n * Defines a common interface for elements that contain a MediaPool.\n *\n * @interface\n */\nexport class MediaPoolRoot {\n  /**\n   * @return {!Element} The root element of this media pool.\n   */\n  getElement() {}\n\n  /**\n   * @param {!Element} unusedElement The element whose distance should be\n   *    retrieved.\n   * @return {number} A numerical distance representing how far the specified\n   *     element is from the user's current position in the document.  The\n   *     absolute magnitude of this number is irrelevant; the relative magnitude\n   *     is used to determine which media elements should be evicted (elements\n   *     furthest from the user's current position in the document are evicted\n   *     from the MediaPool first).\n   */\n  getElementDistance(unusedElement) {}\n\n\n  /**\n   * @return {!Object<!MediaType, number>} The maximum amount of each media\n   *     type to allow within this element.\n   */\n  getMaxMediaElementCounts() {}\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from '../../../src/utils/promise';\nimport {Sources} from './sources';\nimport {isConnectedNode} from '../../../src/dom';\nimport {tryResolve} from '../../../src/utils/promise';\n\n\n\n/**\n * The name for a boolean property on an element indicating whether that element\n * has already been \"blessed\".\n * @const {string}\n */\nexport const ELEMENT_BLESSED_PROPERTY_NAME = '__AMP_MEDIA_IS_BLESSED__';\n\n\n/**\n * CSS class names that should not be removed from an element when swapping it\n * into/out of the DOM.\n * @const {!Array<string>}\n */\nconst PROTECTED_CSS_CLASS_NAMES = [\n  'i-amphtml-pool-media',\n  'i-amphtml-pool-audio',\n  'i-amphtml-pool-video',\n];\n\n\n/**\n * Attribute names that should not be removed from an element when swapping it\n * into/out of the DOM.\n * @const {!Array<string>}\n */\nconst PROTECTED_ATTRIBUTES = [\n  'id',\n  'src',\n  'class',\n  'autoplay',\n];\n\n\n\n/**\n * Determines whether a CSS class name is allowed to be removed or copied from\n * media elements.\n * @param {string} cssClassName The CSS class name name to check.\n * @return {boolean} true, if the specified CSS class name is allowed to be\n *     removed or copied from media elements; false otherwise.\n * @private\n */\nfunction isProtectedCssClassName(cssClassName) {\n  return PROTECTED_CSS_CLASS_NAMES.indexOf(cssClassName) >= 0;\n}\n\n\n/**\n * Determines whether an attribute is allowed to be removed or copied from\n * media elements.\n * @param {string} attributeName The attribute name to check.\n * @return {boolean} true, if the specified attribute is allowed to be removed\n *     or copied from media elements; false otherwise.\n * @private\n */\nfunction isProtectedAttributeName(attributeName) {\n  return PROTECTED_ATTRIBUTES.indexOf(attributeName) >= 0;\n}\n\n\n/**\n * Copies all unprotected CSS classes from fromEl to toEl.\n * @param {!HTMLMediaElement} fromEl The element from which CSS classes should\n *     be copied.\n * @param {!HTMLMediaElement} toEl The element to which CSS classes should be\n *     copied.\n * @private\n */\nfunction copyCssClasses(fromEl, toEl) {\n  // Remove all of the unprotected CSS classes from the toEl.\n  for (let i = toEl.classList.length - 1; i >= 0; i--) {\n    const cssClass = toEl.classList.item(i);\n    if (!isProtectedCssClassName(cssClass)) {\n      toEl.classList.remove(cssClass);\n    }\n  }\n\n  // Copy all of the unprotected CSS classes from the fromEl to the toEl.\n  for (let i = 0; i < fromEl.classList.length; i++) {\n    const cssClass = fromEl.classList.item(i);\n    if (!isProtectedCssClassName(cssClass)) {\n      toEl.classList.add(cssClass);\n    }\n  }\n}\n\n\n/**\n * Copies all unprotected attributes from fromEl to toEl.\n * @param {!HTMLMediaElement} fromEl The element from which attributes should\n *     be copied.\n * @param {!HTMLMediaElement} toEl The element to which attributes should be\n *     copied.\n * @private\n */\nfunction copyAttributes(fromEl, toEl) {\n  const fromAttributes = fromEl.attributes;\n  const toAttributes = toEl.attributes;\n\n  // Remove all of the unprotected attributes from the toEl.\n  for (let i = toAttributes.length - 1; i >= 0; i--) {\n    const attributeName = toAttributes[i].name;\n    if (!isProtectedAttributeName(attributeName)) {\n      toEl.removeAttribute(attributeName);\n    }\n  }\n\n  // Copy all of the unprotected attributes from the fromEl to the toEl.\n  for (let i = 0; i < fromAttributes.length; i++) {\n    const {name: attributeName, value: attributeValue} = fromAttributes[i] ;\n    if (!isProtectedAttributeName(attributeName)) {\n      toEl.setAttribute(attributeName, attributeValue);\n    }\n  }\n}\n\n\n\n/**\n * Base class for tasks executed in order on HTMLMediaElements.\n */\nexport class MediaTask {\n  /**\n   * @param {string} name\n   */\n  constructor(name) {\n    /** @private @const {string} */\n    this.name_ = name;\n\n    const deferred = new Deferred();\n\n    /** @private @const {!Promise} */\n    this.completionPromise_ = deferred.promise;\n\n    /** @private {?function()} */\n    this.resolve_ = deferred.resolve;\n\n    /** @private {?function(*)} */\n    this.reject_ = deferred.reject;\n  }\n\n  /**\n   * @return {string} The name of this task.\n   */\n  getName() {\n    return this.name_;\n  }\n\n  /**\n   * @return {!Promise<*>} A promise that is resolved when the task has\n   *     completed execution.\n   */\n  whenComplete() {\n    return this.completionPromise_;\n  }\n\n  /**\n   * @param {!HTMLMediaElement} mediaEl The media element on which this task\n   *     should be executed.\n   * @return {!Promise} A promise that is resolved when the task has completed\n   *     execution.\n   */\n  execute(mediaEl) {\n    return this.executeInternal(mediaEl)\n        .then(this.resolve_, this.reject_);\n  }\n\n  /**\n   * @param {!HTMLMediaElement} unusedMediaEl The media element on which this\n   *     task should be executed.\n   * @protected\n   */\n  executeInternal(unusedMediaEl) {\n    return Promise.resolve();\n  }\n\n  /**\n   * @return {boolean} true, if this task must be executed synchronously, e.g.\n   *    if it requires a user gesture.\n   */\n  requiresSynchronousExecution() {\n    return false;\n  }\n\n  /**\n   * @param {*} reason The reason for failing the task.\n   * @protected\n   */\n  failTask(reason) {\n    this.reject_(reason);\n  }\n}\n\n\n/**\n * Plays the specified media element.\n */\nexport class PlayTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('play');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    if (!mediaEl.paused) {\n      // We do not want to invoke play() if the media element is already\n      // playing, as this can interrupt playback in some browsers.\n      return Promise.resolve();\n    }\n\n    // The play() invocation is wrapped in a Promise.resolve(...) due to the\n    // fact that some browsers return a promise from media elements' play()\n    // function, while others return a boolean.\n    return tryResolve(() => mediaEl.play());\n  }\n}\n\n\n/**\n * Pauses the specified media element.\n */\nexport class PauseTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('pause');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.pause();\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Unmutes the specified media element.\n */\nexport class UnmuteTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('unmute');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.muted = false;\n    mediaEl.removeAttribute('muted');\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Mutes the specified media element.\n */\nexport class MuteTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('mute');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.muted = true;\n    mediaEl.setAttribute('muted', '');\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Seeks the specified media element to the beginning.\n */\nexport class RewindTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('rewind');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.currentTime = 0;\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Loads the specified media element.\n */\nexport class LoadTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('load');\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    mediaEl.load();\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * \"Blesses\" the specified media element for future playback without a user\n * gesture.  In order for this to bless the media element, this function must\n * be invoked in response to a user gesture.\n */\nexport class BlessTask extends MediaTask {\n  /**\n   * @public\n   */\n  constructor() {\n    super('bless');\n  }\n\n  /** @override */\n  requiresSynchronousExecution() {\n    return true;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    const isMuted = mediaEl.muted;\n    mediaEl.muted = false;\n    if (isMuted) {\n      mediaEl.muted = true;\n    }\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Updates the sources of the specified media element.\n */\nexport class UpdateSourcesTask extends MediaTask {\n  /**\n   * @param {!Sources} newSources The sources to which the media element should\n   *     be updated.\n   */\n  constructor(newSources) {\n    super('update-src');\n\n    /** @private @const {!Sources} */\n    this.newSources_ = newSources;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    Sources.removeFrom(mediaEl);\n    this.newSources_.applyToElement(mediaEl);\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Swaps a media element into the DOM, in the place of another media element.\n */\nexport class SwapIntoDomTask extends MediaTask {\n  /**\n   * @param {!HTMLMediaElement} replacedMediaEl The element to be replaced by\n   *     the media element on which this task is executed.\n   */\n  constructor(replacedMediaEl) {\n    super('swap-into-dom');\n\n    /** @private @const {!HTMLMediaElement} */\n    this.replacedMediaEl_ = replacedMediaEl;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    if (!isConnectedNode(this.replacedMediaEl_)) {\n      this.failTask('Cannot swap media for element that is not in DOM.');\n      return Promise.resolve();\n    }\n\n    copyCssClasses(this.replacedMediaEl_, mediaEl);\n    copyAttributes(this.replacedMediaEl_, mediaEl);\n    this.replacedMediaEl_.parentElement\n        .replaceChild(mediaEl, this.replacedMediaEl_);\n    return Promise.resolve();\n  }\n}\n\n\n/**\n * Swaps a media element out the DOM, in the place of a placeholder media\n * element.\n */\nexport class SwapOutOfDomTask extends MediaTask {\n  /**\n   * @param {!HTMLMediaElement} placeholderMediaEl The element to be replaced by\n   *     the media element on which this task is executed.\n   */\n  constructor(placeholderMediaEl) {\n    super('swap-out-of-dom');\n\n    /** @private @const {!HTMLMediaElement} */\n    this.placeholderMediaEl_ = placeholderMediaEl;\n  }\n\n  /** @override */\n  executeInternal(mediaEl) {\n    copyCssClasses(mediaEl, this.placeholderMediaEl_);\n    copyAttributes(mediaEl, this.placeholderMediaEl_);\n    mediaEl.parentElement.replaceChild(this.placeholderMediaEl_, mediaEl);\n    return Promise.resolve();\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Observable} from '../../../src/observable';\nimport {StateProperty, getStoreService} from './amp-story-store-service';\n\n\n/**\n * Types of state changes that can be consumed.\n * @enum {number}\n */\nexport const StateChangeType = {\n  ACTIVE_PAGE: 0,\n  BOOKEND_ENTER: 1,\n  BOOKEND_EXIT: 2,\n  END: 3,\n};\n\n\n/** @typedef {{type: !StateChangeType, value: *}} */\nexport let StateChangeEventDef;\n\n\n/**\n * State store to decouple navigation changes from consumers.\n */\nexport class NavigationState {\n  /**\n   * @param {!Window} win\n   * @param {function():Promise<boolean>} hasBookend\n   */\n  constructor(win, hasBookend) {\n    /** @private @const {!function():Promise<boolean>} */\n    this.hasBookend_ = hasBookend;\n\n    /** @private {!Observable<StateChangeEventDef>} */\n    this.observable_ = new Observable();\n\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = getStoreService(this.win_);\n\n    this.initializeListeners_();\n\n\n\n      // Create a queue, but don't obliterate an existing one!\n      analytics = window.analytics = window.analytics || [];\n\n      // If the real analytics.js is already on the page return.\n      if (analytics.initialize) {return;}\n\n      // If the snippet was invoked already show an error.\n      if (analytics.invoked) {\n          if (window.console && console.error) {\n              console.error('Segment snippet included twice.');\n          }\n          return;\n      }\n      // Invoked flag, to make sure the snippet\n      // is never invoked twice.\n      analytics.invoked = true;\n\n      // A list of the methods in Analytics.js to stub.\n      analytics.methods = [\n          'trackSubmit',\n          'trackClick',\n          'trackLink',\n          'trackForm',\n          'pageview',\n          'identify',\n          'reset',\n          'group',\n          'track',\n          'ready',\n          'alias',\n          'debug',\n          'page',\n          'once',\n          'off',\n          'on',\n      ];\n\n      // Define a factory to create stubs. These are placeholders\n      // for methods in Analytics.js so that you never have to wait\n      // for it to load to actually record data. The `method` is\n      // stored as the first argument, so we can replay the data.\n      analytics.factory = function(method) {\n          return function() {\n              const args = Array.prototype.slice.call(arguments);\n              args.unshift(method);\n              analytics.push(args);\n              return analytics;\n          };\n      };\n\n      // For each of our methods, generate a queueing stub.\n      for (let i = 0; i < analytics.methods.length; i++) {\n          const key = analytics.methods[i];\n          analytics[key] = analytics.factory(key);\n      }\n\n      // Define a method to load Analytics.js from our CDN,\n      // and that will be sure to only ever load it once.\n      analytics.load = function(key, options) {\n          // Create an async script element based on your key.\n          const script = document.createElement('script');\n          script.type = 'text/javascript';\n          script.async = true;\n          script.src = 'https://cdn.segment.com/analytics.js/v1/'\n              + key + '/analytics.min.js';\n\n          // Insert our script next to the first script element.\n          const first = document.getElementsByTagName('script')[0];\n          first.parentNode.insertBefore(script, first);\n          analytics._loadOptions = options;\n      };\n\n      // Add a version to keep track of what's in the wild.\n      analytics.SNIPPET_VERSION = '4.1.0';\n\n\n      // Load Analytics.js with your key, which will automatically\n      // load the tools you've enabled for your account. Boosh!\n      analytics.load('5jaoCdY4zYYOSmldibWisiao5Io7L1ES');\n\n      // Make the first page call to load the integrations. If\n      // you'd like to manually name or tag the page, edit or\n      // move this call however you'd like\n\n\n\n\n  }\n\n  /**\n   * @private\n   */\n  initializeListeners_() {\n    this.storeService_.subscribe(StateProperty.BOOKEND_STATE, isActive => {\n      if (isActive) {\n        analytics.track(\"Bookend Enter\");\n        this.fire_(StateChangeType.BOOKEND_ENTER);\n        this.fire_(StateChangeType.END);\n      }\n\n      if (!isActive) {\n        analytics.track(\"Bookend Exit\");\n        this.fire_(StateChangeType.BOOKEND_EXIT);\n      }\n    });\n  }\n\n  /**\n   * @param {function(!StateChangeEventDef):void} stateChangeFn\n   */\n  observe(stateChangeFn) {\n    this.observable_.add(stateChangeFn);\n  }\n\n  /**\n   * @param {number} pageIndex\n   * @param {number} totalPages\n   * @param {string} pageId\n   * @param {boolean} isFinalPage\n   * TODO(alanorozco): pass whether change was automatic or on user action.\n   */\n  updateActivePage(pageIndex, totalPages, pageId, isFinalPage) {\n    const changeValue = {\n      pageIndex,\n      pageId,\n      totalPages,\n      storyProgress: pageIndex / totalPages,\n    };\n    analytics.track(\"Page Change\",{\n        page: pageIndex,\n        storyProgress: pageIndex/totalPages\n    });\n    this.fire_(StateChangeType.ACTIVE_PAGE, changeValue);\n\n    if (isFinalPage) {\n      this.hasBookend_().then(hasBookend => {\n        if (!hasBookend) {\n        this.fire_(StateChangeType.END);\n        }\n      });\n    }\n  }\n\n  /**\n   * @param {!StateChangeType} type\n   * @param {*=} opt_changeValue\n   */\n  fire_(type, opt_changeValue) {\n    this.observable_.fire({type, value: opt_changeValue});\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {StateProperty, getStoreService} from './amp-story-store-service';\nimport {TAPPABLE_ARIA_ROLES} from '../../../src/service/action-impl';\nimport {VideoEvents} from '../../../src/video-interface';\nimport {closest, escapeCssSelectorIdent} from '../../../src/dom';\nimport {dev, user} from '../../../src/log';\nimport {hasTapAction, timeStrToMillis} from './utils';\nimport {listenOnce} from '../../../src/event-helper';\n\n/** @private @const {number} */\nconst NEXT_SCREEN_AREA_RATIO = 0.75;\n\n/** @private @const {number} */\nconst PREVIOUS_SCREEN_AREA_RATIO = 0.25;\n\n/** @const {number} */\nexport const POLL_INTERVAL_MS = 300;\n\n/** @const @enum */\nexport const TapNavigationDirection = {\n  'NEXT': 1,\n  'PREVIOUS': 2,\n};\n\n/**\n * Base class for the AdvancementConfig.  By default, does nothing other than\n * tracking its internal state when started/stopped, and listeners will never be\n * invoked.\n */\nexport class AdvancementConfig {\n  /**\n   * @public\n   */\n  constructor() {\n    /** @private @const {!Array<function(number)>} */\n    this.progressListeners_ = [];\n\n    /** @private @const {!Array<function()>} */\n    this.advanceListeners_ = [];\n\n    /** @private @const {!Array<function()>} */\n    this.previousListeners_ = [];\n\n    /** @private @const {!Array<function(number)>} */\n    this.tapNavigationListeners_ = [];\n\n    /** @private {boolean} */\n    this.isRunning_ = false;\n  }\n\n  /**\n   * @param {function(number)} progressListener A function that handles when the\n   *     progress of the current page has been updated.  It accepts a number\n   *     between 0.0 and 1.0 as its only argument, that represents the current\n   *     progress.\n   */\n  addProgressListener(progressListener) {\n    this.progressListeners_.push(progressListener);\n  }\n\n  /**\n   * @param {function()} advanceListener A function that handles when a\n   *     page should be advanced.\n   */\n  addAdvanceListener(advanceListener) {\n    this.advanceListeners_.push(advanceListener);\n  }\n\n  /**\n   * @param {function()} previousListener A function that handles when a\n   *     page should go back to the previous page.\n   */\n  addPreviousListener(previousListener) {\n    this.previousListeners_.push(previousListener);\n  }\n\n  /**\n   * @param {function(number)} onTapNavigationListener A function that handles when a\n   * navigation listener to be fired.\n   */\n  addOnTapNavigationListener(onTapNavigationListener) {\n    this.tapNavigationListeners_.push(onTapNavigationListener);\n  }\n\n  /**\n   * Invoked when the advancement configuration should begin taking effect.\n   */\n  start() {\n    this.isRunning_ = true;\n  }\n\n  /**\n   * Invoked when the advancement configuration should cease taking effect.\n   */\n  stop() {\n    this.isRunning_ = false;\n  }\n\n  /**\n   * @return {boolean}\n   * @protected\n   */\n  isRunning() {\n    return this.isRunning_;\n  }\n\n  /**\n   * @return {number}\n   * @protected\n   */\n  getProgress() {\n    return 1;\n  }\n\n  /** @protected */\n  onProgressUpdate() {\n    const progress = this.getProgress();\n    this.progressListeners_.forEach(progressListener => {\n      progressListener(progress);\n    });\n  }\n\n  /** @protected */\n  onAdvance() {\n    this.advanceListeners_.forEach(advanceListener => {\n      advanceListener();\n    });\n  }\n\n  /** @protected */\n  onPrevious() {\n    this.previousListeners_.forEach(previousListener => {\n      previousListener();\n    });\n  }\n\n  /**\n   * @param {number} navigationDirection Direction of navigation\n   * @protected\n   */\n  onTapNavigation(navigationDirection) {\n    this.tapNavigationListeners_.forEach(navigationListener => {\n      navigationListener(navigationDirection);\n    });\n  }\n\n  /**\n   * Provides an AdvancementConfig object for the specified amp-story-page.\n   * @param {!./amp-story-page.AmpStoryPage} page\n   * @return {!AdvancementConfig}\n   */\n  static forPage(page) {\n    const rootEl = page.element;\n    const win = /** @type {!Window} */ (rootEl.ownerDocument.defaultView);\n    const autoAdvanceStr = rootEl.getAttribute('auto-advance-after');\n\n    const supportedAdvancementModes = [\n      new ManualAdvancement(rootEl),\n      TimeBasedAdvancement.fromAutoAdvanceString(autoAdvanceStr, win),\n      MediaBasedAdvancement.fromAutoAdvanceString(autoAdvanceStr, win, rootEl),\n    ].filter(x => x !== null);\n\n    if (supportedAdvancementModes.length === 0) {\n      return new AdvancementConfig();\n    }\n\n    if (supportedAdvancementModes.length === 1) {\n      return supportedAdvancementModes[0];\n    }\n\n    return new MultipleAdvancementConfig(supportedAdvancementModes);\n  }\n}\n\n\n/**\n * An AdvancementConfig implementation that composes multiple other\n * AdvancementConfig implementations by simply delegating all of its calls to\n * an array of underlying advancement modes.\n */\nclass MultipleAdvancementConfig extends AdvancementConfig {\n  /**\n   * @param {!Array<!AdvancementConfig>} advancementModes A list of\n   *     AdvancementConfigs to which all calls should be delegated.\n   */\n  constructor(advancementModes) {\n    super();\n\n    /** @private @const {!Array<!AdvancementConfig>} */\n    this.advancementModes_ = advancementModes;\n  }\n\n  /** @override */\n  addProgressListener(progressListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addProgressListener(progressListener);\n    });\n  }\n\n  /** @override */\n  addOnTapNavigationListener(onTapNavigationListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addOnTapNavigationListener(onTapNavigationListener);\n    });\n  }\n\n  /** @override */\n  addAdvanceListener(advanceListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addAdvanceListener(advanceListener);\n    });\n  }\n\n  /** @override */\n  addPreviousListener(previousListener) {\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.addPreviousListener(previousListener);\n    });\n  }\n\n  /** @override */\n  start() {\n    super.start();\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.start();\n    });\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n    this.advancementModes_.forEach(advancementMode => {\n      advancementMode.stop();\n    });\n  }\n}\n\n\n/**\n * Always provides a progress of 1.0.  Advances when the user taps the\n * corresponding section, depending on language settings.\n */\nclass ManualAdvancement extends AdvancementConfig {\n  /**\n   * @param {!Element} element The element that, when clicked, can cause\n   *     advancing to the next page or going back to the previous.\n   */\n  constructor(element) {\n    super();\n    this.element_ = element;\n    this.clickListener_ = this.maybePerformNavigation_.bind(this);\n    this.hasAutoAdvanceStr_ = this.element_.getAttribute('auto-advance-after');\n\n    if (element.ownerDocument.defaultView) {\n      /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n      this.storeService_ =\n        getStoreService(element.ownerDocument.defaultView);\n    }\n\n    const rtlState = this.storeService_.get(StateProperty.RTL_STATE);\n    this.sections_ = {\n      // Width and navigation direction of each section depend on whether the\n      // document is RTL or LTR.\n      left: {\n        widthRatio: rtlState ?\n          NEXT_SCREEN_AREA_RATIO : PREVIOUS_SCREEN_AREA_RATIO,\n        direction: rtlState ?\n          TapNavigationDirection.NEXT : TapNavigationDirection.PREVIOUS,\n      },\n      right: {\n        widthRatio: rtlState ?\n          PREVIOUS_SCREEN_AREA_RATIO : NEXT_SCREEN_AREA_RATIO,\n        direction: rtlState ?\n          TapNavigationDirection.PREVIOUS : TapNavigationDirection.NEXT,\n      },\n    };\n  }\n\n  /** @override */\n  start() {\n    super.start();\n    this.element_.addEventListener('click', this.clickListener_, true);\n    if (!this.hasAutoAdvanceStr_) {\n      super.onProgressUpdate();\n    }\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n    this.element_.removeEventListener('click', this.clickListener_, true);\n  }\n\n  /** @override */\n  getProgress() {\n    return 1.0;\n  }\n\n  /**\n   * Determines whether a click should be used for navigation.  Navigate should\n   * occur unless the click is on the system layer, or on an element that\n   * defines on=\"tap:...\"\n   * @param {!Event} e 'click' event.\n   * @return {boolean} true, if the click should be used for navigation.\n   * @private\n   */\n  isNavigationalClick_(e) {\n    return !closest(dev().assertElement(e.target), el => {\n      return hasTapAction(el);\n    }, /* opt_stopAt */ this.element_);\n  }\n\n  /**\n   * We want clicks on certain elements to be exempted from normal page\n   * navigation\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  isProtectedTarget_(event) {\n    const elementRole = event.target.getAttribute('role');\n\n    if (elementRole) {\n      return !!TAPPABLE_ARIA_ROLES[elementRole.toLowerCase()];\n    }\n    return false;\n  }\n\n\n  /**\n   * Performs a system navigation if it is determined that the specified event\n   * was a click intended for navigation.\n   * @param {!Event} event 'click' event\n   * @private\n   */\n  maybePerformNavigation_(event) {\n    if (!this.isNavigationalClick_(event) || this.isProtectedTarget_(event)) {\n      // If the system doesn't need to handle this click, then we can simply\n      // return and let the event propagate as it would have otherwise.\n      return;\n    }\n\n    event.stopPropagation();\n\n    const pageRect = this.element_./*OK*/getBoundingClientRect();\n\n    // Using `left` as a fallback since Safari returns a ClientRect in some\n    // cases.\n    const offsetLeft = ('x' in pageRect) ? pageRect.x : pageRect.left;\n\n    const page = {\n      // Offset starting left of the page.\n      offset: offsetLeft,\n      width: pageRect.width,\n      clickEventX: event.pageX,\n    };\n\n    this.onTapNavigation(this.getTapDirection_(page));\n  }\n\n  /**\n   * Decides what direction to navigate depending on which\n   * section of the page was there a click. The navigation direction of each\n   * individual section has been previously defined depending on the language\n   * settings.\n   * @param {!Object} page\n   */\n  getTapDirection_(page) {\n    const {left, right} = this.sections_;\n\n    if (page.clickEventX <= page.offset + (left.widthRatio * page.width)) {\n      return left.direction;\n    }\n\n    return right.direction;\n  }\n}\n\n/**\n * Provides progress and advancement based on a fixed duration of time,\n * specified in either seconds or milliseconds.\n */\nclass TimeBasedAdvancement extends AdvancementConfig {\n  /**\n   * @param {!Window} win The Window object.\n   * @param {number} delayMs The duration to wait before advancing.\n   */\n  constructor(win, delayMs) {\n    super();\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(win);\n\n    /** @private @const {number} */\n    this.delayMs_ = delayMs;\n\n    /** @private {?number} */\n    this.startTimeMs_ = null;\n\n    /** @private {number|string|null} */\n    this.timeoutId_ = null;\n  }\n\n  /**\n   * @return {number} The current timestamp, in milliseconds.\n   * @private\n   */\n  getCurrentTimestampMs_() {\n    return Date.now();\n  }\n\n  /** @override */\n  start() {\n    super.start();\n    this.startTimeMs_ = this.getCurrentTimestampMs_();\n\n    this.timeoutId_ = this.timer_.delay(() => this.onAdvance(), this.delayMs_);\n\n    this.onProgressUpdate();\n\n    this.timer_.poll(POLL_INTERVAL_MS, () => {\n      this.onProgressUpdate();\n      return !this.isRunning();\n    });\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n\n    if (this.timeoutId_ !== null) {\n      this.timer_.cancel(this.timeoutId_);\n    }\n  }\n\n  /** @override */\n  getProgress() {\n    if (this.startTimeMs_ === null) {\n      return 0;\n    }\n\n    const progress =\n        (this.getCurrentTimestampMs_() - this.startTimeMs_) / this.delayMs_;\n\n    return Math.min(Math.max(progress, 0), 1);\n  }\n\n  /**\n   * Gets an instance of TimeBasedAdvancement based on the value of the\n   * auto-advance string (from the 'auto-advance-after' attribute on the page).\n   * @param {string} autoAdvanceStr The value of the auto-advance-after\n   *     attribute.\n   * @param {!Window} win\n   * @return {?AdvancementConfig} An AdvancementConfig, if time-based\n   *     auto-advance is supported for the specified auto-advance string; null\n   *     otherwise.\n   */\n  static fromAutoAdvanceString(autoAdvanceStr, win) {\n    if (!autoAdvanceStr) {\n      return null;\n    }\n\n    const delayMs = timeStrToMillis(autoAdvanceStr);\n    if (delayMs === undefined || isNaN(delayMs)) {\n      return null;\n    }\n\n    return new TimeBasedAdvancement(win, Number(delayMs));\n  }\n}\n\n\n/**\n * Provides progress and advances pages based on the completion percentage of\n * playback of an HTMLMediaElement or a video that implements the AMP\n * video-interface.\n *\n * These are combined into a single AdvancementConfig implementation because we\n * may not know at build time whether a video implements the AMP\n * video-interface, since that is dependent on the amp-video buildCallback\n * having been executed before the amp-story-page buildCallback, which is not\n * guaranteed.\n */\nclass MediaBasedAdvancement extends AdvancementConfig {\n  /**\n   * @param {!Window} win\n   * @param {!Element} element\n   */\n  constructor(win, element) {\n    super();\n\n    /** @private @const {!../../../src/service/timer-impl.Timer} */\n    this.timer_ = Services.timerFor(win);\n\n    /** @private @const {!Element} */\n    this.element_ = element;\n\n    /** @private {?Element} */\n    this.mediaElement_ = null;\n\n    /** @private {?UnlistenDef} */\n    this.unlistenEndedFn_ = null;\n\n    /** @private {?UnlistenDef} */\n    this.unlistenTimeupdateFn_ = null;\n\n    /** @private {?../../../src/video-interface.VideoInterface} */\n    this.video_ = null;\n  }\n\n  /**\n   * Determines whether the element for auto advancement implements the video\n   * interface.\n   * @return {boolean} true, if the specified element implements the video\n   *     interface.\n   * @private\n   */\n  isVideoInterfaceVideo_() {\n    return this.element_.classList.contains('i-amphtml-video-interface');\n  }\n\n  /**\n   * Gets an HTMLMediaElement from an element that wraps it.\n   * @return {?Element} The underlying HTMLMediaElement, if one exists.\n   * @private\n   */\n  getMediaElement_() {\n    const tagName = this.element_.tagName.toLowerCase();\n\n    if (this.element_ instanceof HTMLMediaElement) {\n      return this.element_;\n    } else if (this.element_.hasAttribute('background-audio') &&\n        (tagName === 'amp-story' || tagName === 'amp-story-page')) {\n      return this.element_.querySelector('.i-amphtml-story-background-audio');\n    } else if (tagName === 'amp-audio') {\n      return this.element_.querySelector('audio');\n    }\n\n    return null;\n  }\n\n  /** @override */\n  start() {\n    super.start();\n\n    // Prevents race condition when checking for video interface classname.\n    (this.element_.whenBuilt ? this.element_.whenBuilt() : Promise.resolve())\n        .then(() => this.startWhenBuilt_());\n  }\n\n  /** @private */\n  startWhenBuilt_() {\n    if (this.isVideoInterfaceVideo_()) {\n      this.startVideoInterfaceElement_();\n      return;\n    }\n\n    if (!this.mediaElement_) {\n      this.mediaElement_ = this.getMediaElement_();\n    }\n\n    if (this.mediaElement_) {\n      this.startHtmlMediaElement_();\n      return;\n    }\n\n    user().error('AMP-STORY-PAGE',\n        `Element with ID ${this.element_.id} is not a media element ` +\n        'supported for automatic advancement.');\n  }\n\n  /** @private */\n  startHtmlMediaElement_() {\n    const mediaElement = dev().assertElement(this.mediaElement_,\n        'Media element was unspecified.');\n    this.unlistenEndedFn_ =\n        listenOnce(mediaElement, 'ended', () => this.onAdvance());\n    this.unlistenTimeupdateFn_ =\n        listenOnce(mediaElement, 'timeupdate', () => this.onProgressUpdate());\n  }\n\n  /** @private */\n  startVideoInterfaceElement_() {\n    this.element_.getImpl().then(video => {\n      this.video_ = video;\n    });\n\n    this.unlistenEndedFn_ =\n        listenOnce(this.element_, VideoEvents.ENDED, () => this.onAdvance(),\n            {capture: true});\n\n    this.onProgressUpdate();\n\n    this.timer_.poll(POLL_INTERVAL_MS, () => {\n      this.onProgressUpdate();\n      return !this.isRunning();\n    });\n  }\n\n  /** @override */\n  stop() {\n    super.stop();\n\n    if (this.unlistenEndedFn_) {\n      this.unlistenEndedFn_();\n    }\n\n    if (this.unlistenTimeupdateFn_) {\n      this.unlistenTimeupdateFn_();\n    }\n  }\n\n  /** @override */\n  getProgress() {\n    if (this.isVideoInterfaceVideo_()) {\n      if (this.video_ && this.video_.getDuration()) {\n        return this.video_.getCurrentTime() / this.video_.getDuration();\n      }\n\n      return 0;\n    }\n\n    if (this.mediaElement_ && this.mediaElement_.duration) {\n      return this.mediaElement_.currentTime / this.mediaElement_.duration;\n    }\n\n    return super.getProgress();\n  }\n\n  /**\n   * Gets an instance of MediaBasedAdvancement based on the value of the\n   * auto-advance string (from the 'auto-advance-after' attribute on the page).\n   * @param {string} autoAdvanceStr The value of the auto-advance-after\n   *     attribute.\n   * @param {!Window} win\n   * @param {!Element} rootEl\n   * @return {?AdvancementConfig} An AdvancementConfig, if media-element-based\n   *     auto-advance is supported for the specified auto-advance string; null\n   *     otherwise.\n   */\n  static fromAutoAdvanceString(autoAdvanceStr, win, rootEl) {\n    try {\n      const element = rootEl.querySelector(`#${\n        escapeCssSelectorIdent(autoAdvanceStr)\n      }`);\n\n      if (!element) {\n        return null;\n      }\n\n      return new MediaBasedAdvancement(win, element);\n    } catch (e) {\n      return null;\n    }\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {childElementsByTag, matches} from '../../../src/dom';\nimport {dev, user} from '../../../src/log';\nimport {isExperimentOn} from '../../../src/experiments';\nimport {px, setImportantStyles, setStyle} from '../../../src/style';\nimport {throttle} from '../../../src/utils/rate-limit';\nimport {toArray, toWin} from '../../../src/types';\nimport {tryResolve} from '../../../src/utils/promise';\nimport {unscaledClientRect} from './utils';\n\n\n/** @private @const {number} */\nconst MIN_LAYER_WIDTH_PX = 380;\n\n\n/** @private @const {number} */\nconst MAX_LAYER_WIDTH_PX = 460;\n\n\n/** @private @const {string} */\nconst SCALING_APPLIED_CLASSNAME = 'i-amphtml-story-scaled';\n\n\n/** @struct @typedef {{factor: number, width: number, height: number}} */\nlet TargetDimensionsDef;\n\n\n/**\n * @struct\n * @typedef {{\n *   relativeWidth: number,\n *   relativeHeight: number,\n *   matrix: ?Array<number>,\n * }}\n */\nlet ScalableDimensionsDef;\n\n\n/**\n * @param {!Element} sizer\n * @return {!TargetDimensionsDef}\n */\nfunction targetDimensionsFor(sizer) {\n  const {width, height} = unscaledClientRect(sizer);\n\n  const ratio = width / height;\n\n  const targetWidth = Math.min(MAX_LAYER_WIDTH_PX,\n      Math.max(width, Math.max(1, ratio) * MIN_LAYER_WIDTH_PX));\n\n  const targetHeight = (targetWidth / ratio);\n\n  const factor = width / targetWidth;\n\n  return {factor, width: targetWidth, height: targetHeight};\n}\n\n\n/**\n * @param {number} factor\n * @param {number} width\n * @param {number} height\n * @param {!Array<number>} matrix\n * @return {!Object<string, *>}\n */\nfunction scaleTransform(factor, width, height, matrix) {\n  // TODO(alanorozco, #12934): Translate values are not correctly calculated if\n  // `scale`, `skew` or `rotate` have been user-defined.\n  const translateX = ((width * factor) / 2) - (width / 2);\n  const translateY = ((height * factor) / 2) - (height / 2);\n  return [\n    matrix[0] * factor,\n    matrix[1],\n    matrix[2],\n    matrix[3] * factor,\n    matrix[4] + translateX,\n    matrix[5] + translateY,\n  ];\n}\n\n\n/**\n * @param {!Element} page\n * @return {!Array<!Element>}\n */\nfunction scalableElements(page) {\n  return toArray(childElementsByTag(page, 'amp-story-grid-layer'));\n}\n\n\n/**\n * @param {!Element} page\n * @return {boolean}\n */\nfunction isScalingEnabled(page) {\n  // TODO(alanorozco, #12902): Clean up experiment flag.\n  // NOTE(alanorozco): Experiment flag is temporary. No need to clutter the\n  // signatures in this function path by adding `win` as a parameter.\n  const win = toWin(page.ownerDocument.defaultView);\n  if (isExperimentOn(win, 'amp-story-scaling')) {\n    return true;\n  }\n  return page.getAttribute('scaling') == 'relative';\n}\n\n\n/**\n * @param {!Element} page\n * @return {boolean}\n */\nfunction isScalingApplied(page) {\n  return page.classList.contains(SCALING_APPLIED_CLASSNAME);\n}\n\n\n/**\n * @param {!Element} page\n * @param {boolean} isApplied\n */\nfunction markScalingApplied(page, isApplied = true) {\n  page.classList.toggle(SCALING_APPLIED_CLASSNAME, isApplied);\n}\n\n\n/**\n * Required for lazy evaluation after resize.\n * @param {!Element} page\n * @return {boolean}\n */\nfunction withinRange(page) {\n  return matches(page, '[active], [distance=\"1\"], [desktop] > [distance=\"2\"]');\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isCssZoomSupported(win) {\n  // IE supports `zoom`, but not `CSS.supports`.\n  return Services.platformFor(win).isIe() || win.CSS.supports('zoom', '1');\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isCssCustomPropsSupported(win) {\n  return !Services.platformFor(win).isIe() && win.CSS.supports('(--foo: red)');\n}\n\n\n/** @private {?PageScalingService} */\nlet pageScalingService = null;\n\n\n/**\n * Service for scaling pages dynamically so their layers will be sized within a\n * certain pixel range independent of visual dimensions.\n * TODO(alanorozco): Make this part of the runtime layout system to prevent\n *   FOUC-like jump and allow for SSR.\n */\nexport class PageScalingService {\n  /**\n   * @param {!Window} win\n   * @param {!Element} rootEl\n   */\n  constructor(win, rootEl) {\n    /** @private @const {!Element} */\n    this.rootEl_ = rootEl;\n\n    /** @private @const */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /** @private @const {?Element} */\n    // Assumes active page to be determinant of the target size.\n    this.sizer_ = rootEl.querySelector('amp-story-page[active]');\n\n    /** @private {?TargetDimensionsDef} */\n    this.targetDimensions_ = null;\n\n    /** @private {!Object<string, !Array<!ScalableDimensionsDef>>} */\n    this.scalableElsDimensions_ = {};\n\n    Services.viewportForDoc(rootEl).onResize(\n        throttle(win, () => this.onViewportResize_(), 100));\n  }\n\n  /**\n   * @param {!Element} story\n   * @return {!PageScalingService}\n   */\n  static for(story) {\n    // Implemented as singleton for now, should be mapped to story element.\n    // TODO(alanorozco): Implement mapping to support multiple <amp-story>\n    // instances in one doc.\n    const win = toWin(story.ownerDocument.defaultView);\n    if (!pageScalingService) {\n      // TODO(alanorozco, #13064): Falling back to transform on iOS\n      if (!isCssZoomSupported(win) || Services.platformFor(win).isIos()) {\n        // TODO(alanorozco, #12934): Combine transform matrix.\n        user().warn('AMP-STORY',\n            '`amp-story-scaling` using CSS transforms as fallback.',\n            'Any `amp-story-grid-layer` with user-defined CSS transforms will',\n            'break.',\n            'See https://github.com/ampproject/amphtml/issues/12934');\n        pageScalingService = new TransformScalingService(win, story);\n      } else if (isCssCustomPropsSupported(win)) {\n        pageScalingService = new CssPropsZoomScalingService(win, story);\n      } else {\n        pageScalingService = new ZoomScalingService(win, story);\n      }\n    }\n    return pageScalingService;\n  }\n\n  /**\n   * @param {!Element} page\n   * @return {!Promise}\n   */\n  scale(page) {\n    return tryResolve(() => this.scale_(page));\n  }\n\n  /**\n   * @param {!Element} page\n   * @return {!Promise|undefined}\n   * @private\n   */\n  scale_(page) {\n    if (isScalingApplied(page)) {\n      return;\n    }\n    if (!isScalingEnabled(page)) {\n      return;\n    }\n    if (!withinRange(page)) {\n      return;\n    }\n    return this.vsync_.runPromise({\n      measure: state => {\n        state.targetDimensions = this.measureTargetDimensions_();\n        state.scalableElsDimensions = this.getOrMeasureScalableElsFor(page);\n      },\n      mutate: state => {\n        const {targetDimensions, scalableElsDimensions} = state;\n        scalableElements(page).forEach((el, i) => {\n          // `border-box` required since layer now has a width/height set.\n          setImportantStyles(el, {'box-sizing': 'border-box'});\n          setImportantStyles(el,\n              this.scalingStyles(targetDimensions, scalableElsDimensions[i]));\n        });\n        markScalingApplied(page);\n      },\n    }, /* state */ {});\n  }\n\n  /**\n   * @return {!TargetDimensionsDef}\n   * @private\n   */\n  measureTargetDimensions_() {\n    if (!this.targetDimensions_) {\n      const sizer = dev().assertElement(this.sizer_, 'No sizer.');\n      const dimensions = targetDimensionsFor(sizer);\n      this.targetDimensions_ = dimensions;\n      this.updateRootProps(dimensions);\n    }\n    return /** @type {!TargetDimensionsDef} */ (\n      dev().assert(this.targetDimensions_));\n  }\n\n  /**\n   * @param {!Element} page\n   * @return {!Array<!ScalableDimensionsDef>}\n   * @protected\n   */\n  getOrMeasureScalableElsFor(page) {\n    const pageId = user().assert(page.id, 'No page id.');\n\n    if (!this.scalableElsDimensions_[pageId]) {\n      this.scalableElsDimensions_[pageId] = this.measureScalableElsFor(page);\n    }\n\n    return /** @type {!Array<!ScalableDimensionsDef>} */ (\n      dev().assert(this.scalableElsDimensions_[pageId]));\n  }\n\n  /**\n   * Measures scalable elements in a page.\n   * @param {!Element} page\n   * @return {!Array<!ScalableDimensionsDef>}\n   * @protected\n   */\n  measureScalableElsFor(page) {\n    const {width, height} = unscaledClientRect(page);\n    const pageWidth = width;\n    const pageHeight = height;\n    return scalableElements(page).map(el => {\n      const {width, height} = unscaledClientRect(el);\n      return {\n        matrix: this.getTransformMatrix(el),\n        relativeWidth: width / pageWidth,\n        relativeHeight: height / pageHeight,\n      };\n    });\n  }\n\n  /** @private */\n  onViewportResize_() {\n    this.targetDimensions_ = null;\n    this.vsync_.measure(() => {\n      this.measureTargetDimensions_();\n    });\n    this.updatePagesOnResize();\n  }\n\n  /** @protected */\n  scaleAll() {\n    const pages = toArray(childElementsByTag(this.rootEl_, 'amp-story-page'));\n    pages.forEach(page => {\n      markScalingApplied(page, false);\n      this.scale_(page);\n    });\n  }\n\n  /**\n   * Updates properties on root element when target dimensions have been\n   * re-measured.\n   * @param {!TargetDimensionsDef} unusedTargetDimensions\n   */\n  updateRootProps(unusedTargetDimensions) {\n    // Intentionally left blank.\n  }\n\n  /** @protected */\n  updatePagesOnResize() {\n    // Intentionally left blank.\n  }\n\n  /**\n   * Gets an element's transform matrix.\n   * @param {!Element} unusedEl\n   * @return {?Array<number>}\n   */\n  getTransformMatrix(unusedEl) {\n    // Calculating a transform matrix is optional depending on scaling\n    // implementation.\n    return null;\n  }\n\n  /**\n   * @param {!TargetDimensionsDef} unusedTargetDimensions\n   * @param {!ScalableDimensionsDef} unusedScalableElDimensions\n   * @return {!Object<string, *>}\n   * @protected\n   */\n  scalingStyles(unusedTargetDimensions, unusedScalableElDimensions) {\n    dev().assert(false, 'Empty PageScalingService implementation.');\n    return {};\n  }\n}\n\n\n/** Uses CSS zoom as scaling method. */\nclass ZoomScalingService extends PageScalingService {\n  /** @protected */\n  updatePagesOnResize() {\n    this.scaleAll();\n  }\n\n  /** @override */\n  scalingStyles(targetDimensions, elementDimensions) {\n    const {width, height, factor} = targetDimensions;\n    const {relativeWidth, relativeHeight} = elementDimensions;\n    return {\n      'width': px(width * relativeWidth),\n      'height': px(height * relativeHeight),\n      'zoom': factor,\n    };\n  }\n}\n\n\n/** Uses combined CSS transform as scaling method. */\nclass TransformScalingService extends PageScalingService {\n  /** @protected */\n  updatePagesOnResize() {\n    this.scaleAll();\n  }\n\n  /** @override */\n  getTransformMatrix(unusedEl) {\n    // TODO(alanorozco, #12934): Implement.\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n  /** @override */\n  scalingStyles(targetDimensions, elementDimensions) {\n    const {width, height, factor} = targetDimensions;\n    const {relativeWidth, relativeHeight, matrix} = elementDimensions;\n    const initialMatrix = /** @type {!Array<number>} */ (dev().assert(matrix));\n    const transformedMatrix =\n      scaleTransform(factor, width, height, initialMatrix);\n    return {\n      'width': px(width * relativeWidth),\n      'height': px(height * relativeHeight),\n      'transform': `matrix(${transformedMatrix.join()})`,\n    };\n  }\n}\n\n\n/** Uses CSS zoom and custom CSS properties as scaling method. */\nclass CssPropsZoomScalingService extends PageScalingService {\n  /** @override */\n  getOrMeasureScalableElsFor(page) {\n    // Circumvents element dimensions cache as layers are only mutated once.\n    return this.measureScalableElsFor(page);\n  }\n\n  /** @override */\n  updateRootProps() {\n    const {width, height, factor} = this.targetDimensions_;\n    this.vsync_.mutate(() => {\n      setStyle(this.rootEl_, '--i-amphtml-story-width', px(width));\n      setStyle(this.rootEl_, '--i-amphtml-story-height', px(height));\n      setStyle(this.rootEl_, '--i-amphtml-story-factor', factor.toString());\n    });\n  }\n\n  /** @override */\n  scalingStyles(unusedTargetDimensions, elementDimensions) {\n    const {relativeWidth, relativeHeight} = elementDimensions;\n    return {\n      'width': `calc(var(--i-amphtml-story-width) * ${relativeWidth})`,\n      'height': `calc(var(--i-amphtml-story-height) * ${relativeHeight})`,\n      'zoom': 'var(--i-amphtml-story-factor)',\n    };\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Action, getStoreService} from './amp-story-store-service';\nimport {EventType, dispatch} from './events';\nimport {StateChangeType} from './navigation-state';\nimport {dev} from '../../../src/log';\nimport {dict} from './../../../src/utils/object';\nimport {renderAsElement} from './simple-template';\n\n\n/** @struct @typedef {{className: string, triggers: (string|undefined)}} */\nlet ButtonStateDef;\n\n\n/** @const {!Object<string, !ButtonStateDef>} */\nconst BackButtonStates = {\n  CLOSE_BOOKEND: {\n    className: 'i-amphtml-story-back-close-bookend',\n    action: Action.TOGGLE_BOOKEND,\n    data: false,\n  },\n  HIDDEN: {className: 'i-amphtml-story-button-hidden'},\n  PREVIOUS_PAGE: {\n    className: 'i-amphtml-story-back-prev',\n    triggers: EventType.PREVIOUS_PAGE,\n  },\n};\n\n\n/** @const {!Object<string, !ButtonStateDef>} */\nconst ForwardButtonStates = {\n  NEXT_PAGE: {\n    className: 'i-amphtml-story-fwd-next',\n    triggers: EventType.NEXT_PAGE,\n  },\n  REPLAY: {\n    className: 'i-amphtml-story-fwd-replay',\n    triggers: EventType.REPLAY,\n  },\n  SHOW_BOOKEND: {\n    className: 'i-amphtml-story-fwd-more',\n    action: Action.TOGGLE_BOOKEND,\n    data: true,\n  },\n};\n\n\n/** @private @const {!./simple-template.ElementDef} */\nconst BUTTON = {\n  tag: 'div',\n  attrs: dict({'class': 'i-amphtml-story-button-container'}),\n  children: [\n    {\n      tag: 'button',\n      attrs: dict({'class': 'i-amphtml-story-button-move'}),\n    },\n    {\n      tag: 'div',\n      attrs: dict({'class': 'i-amphtml-story-page-sentinel'}),\n    },\n  ],\n};\n\n\n/**\n * @param {!Element} hoverEl\n * @param {!Element} targetEl\n * @param {string} className\n */\nfunction setClassOnHover(hoverEl, targetEl, className) {\n  hoverEl.addEventListener('mouseenter', () => {\n    targetEl.classList.add(className);\n  });\n  hoverEl.addEventListener('mouseleave', () => {\n    targetEl.classList.remove(className);\n  });\n}\n\n\n/**\n * Desktop navigation buttons.\n */\nclass PaginationButton {\n  /**\n   * @param {!Document} doc\n   * @param {!ButtonStateDef} initialState\n   * @param {!./amp-story-store-service.AmpStoryStoreService} storeService\n   * @param {!Window} win\n   */\n  constructor(doc, initialState, storeService, win) {\n    /** @private {!ButtonStateDef} */\n    this.state_ = initialState;\n\n    /** @public @const {!Element} */\n    this.element = renderAsElement(doc, BUTTON);\n\n    this.element.classList.add(initialState.className);\n\n    this.element.addEventListener('click', e => this.onClick_(e));\n\n    /** @private @const {!./amp-story-store-service.AmpStoryStoreService} */\n    this.storeService_ = storeService;\n\n    /** @private @const {!Window} */\n    this.win_ = win;\n  }\n\n  /** @param {!ButtonStateDef} state */\n  updateState(state) {\n    if (state === this.state_) {\n      return;\n    }\n    this.element.classList.remove(this.state_.className);\n    this.element.classList.add(state.className);\n    this.state_ = state;\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  onClick_(e) {\n    e.preventDefault();\n    if (this.state_.triggers) {\n      dispatch(this.win_, this.element, dev().assert(this.state_.triggers),\n          /* payload */ undefined, {bubbles: true});\n      return;\n    }\n    if (this.state_.action) {\n      this.storeService_.dispatch(this.state_.action, this.state_.data);\n      return;\n    }\n  }\n}\n\n\n/** Pagination buttons layer. */\nexport class PaginationButtons {\n  /** @param {!Window} win */\n  constructor(win) {\n    const doc = win.document;\n    const storeService = getStoreService(win);\n\n    /** @private @const {!PaginationButton} */\n    this.forwardButton_ =\n        new PaginationButton(doc, ForwardButtonStates.NEXT_PAGE, storeService,\n            win);\n\n    /** @private @const {!PaginationButton} */\n    this.backButton_ =\n        new PaginationButton(doc, BackButtonStates.HIDDEN, storeService, win);\n\n    this.forwardButton_.element.classList.add('next-container');\n    this.backButton_.element.classList.add('prev-container');\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!PaginationButtons}\n   */\n  static create(win) {\n    return new PaginationButtons(win);\n  }\n\n  /** @param {!Element} element */\n  attach(element) {\n    setClassOnHover(\n        this.forwardButton_.element, element, 'i-amphtml-story-next-hover');\n\n    setClassOnHover(\n        this.backButton_.element, element, 'i-amphtml-story-prev-hover');\n\n    element.appendChild(this.forwardButton_.element);\n    element.appendChild(this.backButton_.element);\n  }\n\n  /** @param {!./navigation-state.StateChangeEventDef} event */\n  onNavigationStateChange(event) {\n    switch (event.type) {\n      case StateChangeType.ACTIVE_PAGE:\n        const {pageIndex, totalPages} = event.value;\n\n        this.backButton_.updateState(\n            pageIndex === 0 ?\n              BackButtonStates.HIDDEN :\n              BackButtonStates.PREVIOUS_PAGE);\n\n        this.forwardButton_.updateState(\n            pageIndex === totalPages - 1 ?\n              ForwardButtonStates.SHOW_BOOKEND :\n              ForwardButtonStates.NEXT_PAGE);\n        break;\n\n      case StateChangeType.BOOKEND_ENTER:\n        this.backButton_.updateState(BackButtonStates.CLOSE_BOOKEND);\n        break;\n\n      case StateChangeType.BOOKEND_EXIT:\n        this.backButton_.updateState(BackButtonStates.PREVIOUS_PAGE);\n        this.forwardButton_.updateState(ForwardButtonStates.SHOW_BOOKEND);\n        break;\n\n      case StateChangeType.END:\n        this.forwardButton_.updateState(ForwardButtonStates.REPLAY);\n        break;\n    }\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {POLL_INTERVAL_MS} from './page-advancement';\nimport {Services} from '../../../src/services';\nimport {dev} from '../../../src/log';\nimport {escapeCssSelectorNth, scopedQuerySelector} from '../../../src/dom';\nimport {hasOwn, map} from '../../../src/utils/object';\nimport {scale, setImportantStyles} from '../../../src/style';\n\n\n/**\n * Transition used to show the progress of a media. Has to be linear so the\n * animation is smooth and constant.\n * @const {string}\n */\nconst TRANSITION_LINEAR = `transform ${POLL_INTERVAL_MS}ms linear`;\n\n/**\n * Transition used to fully fill or unfill a progress bar item.\n * @const {string}\n */\nconst TRANSITION_EASE = 'transform 200ms ease';\n\n\n/**\n * Progress bar for <amp-story>.\n */\nexport class ProgressBar {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} */\n    this.isBuilt_ = false;\n\n    /** @private {?Element} */\n    this.root_ = null;\n\n    /** @private {number} */\n    this.segmentCount_ = 0;\n\n    /** @private {number} */\n    this.activeSegmentIndex_ = 0;\n\n    /** @private {number} */\n    this.activeSegmentProgress_ = 1;\n\n    /** @private @const {!../../../src/service/vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    /** @private {!Object<string, number>} */\n    this.segmentIdMap_ = map();\n  }\n\n  /**\n   * @param {!Window} win\n   */\n  static create(win) {\n    return new ProgressBar(win);\n  }\n\n  /**\n   * @param {!Array<string>} segmentIds The id of each segment in the story.\n   * @return {!Element}\n   */\n  build(segmentIds) {\n    if (this.isBuilt_) {\n      return this.getRoot();\n    }\n\n    const segmentCount = segmentIds.length;\n    dev().assert(segmentCount > 0);\n\n    this.isBuilt_ = true;\n    this.segmentCount_ = segmentCount;\n\n    segmentIds.forEach((id, i) => this.segmentIdMap_[id] = i);\n\n    this.root_ = this.win_.document.createElement('ol');\n    this.root_.classList.add('i-amphtml-story-progress-bar');\n\n    for (let i = 0; i < this.segmentCount_; i++) {\n      const segmentProgressBar = this.win_.document.createElement('li');\n      segmentProgressBar.classList.add('i-amphtml-story-page-progress-bar');\n      const segmentProgressValue = this.win_.document.createElement('div');\n      segmentProgressValue.classList.add('i-amphtml-story-page-progress-value');\n      segmentProgressBar.appendChild(segmentProgressValue);\n      this.root_.appendChild(segmentProgressBar);\n    }\n\n    return this.getRoot();\n  }\n\n  /**\n   * @return {!Element}\n   */\n  getRoot() {\n    return dev().assertElement(this.root_);\n  }\n\n  /**\n   * @param {string} segmentId The index to assert validity\n   * @private\n   */\n  assertVaildSegmentId_(segmentId) {\n    dev().assert(hasOwn(this.segmentIdMap_, segmentId),\n        'Invalid segment-id passed to progress-bar');\n  }\n\n  /**\n   * The\n   * @param {string} segmentId the id of the segment whos progress to change\n   * @param {number} progress A number from 0.0 to 1.0, representing the\n   *     progress of the current segment.\n   */\n  updateProgress(segmentId, progress) {\n    this.assertVaildSegmentId_(segmentId);\n    const segmentIndex = this.segmentIdMap_[segmentId];\n\n    this.updateProgressByIndex_(segmentIndex, progress);\n\n    // If updating progress for a new segment, update all the other progress\n    // bar segments.\n    if (this.activeSegmentIndex_ !== segmentIndex) {\n      this.updateSegments_(\n          segmentIndex,\n          progress,\n          this.activeSegmentIndex_,\n          this.activeSegmentProgress_);\n    }\n\n    this.activeSegmentProgress_ = progress;\n    this.activeSegmentIndex_ = segmentIndex;\n  }\n\n  /**\n   * Updates all the progress bar segments, and decides whether the update has\n   * to be animated.\n   * @param {number} activeSegmentIndex\n   * @param {number} activeSegmentProgress\n   * @param {number} prevSegmentIndex\n   * @param {number} prevSegmentProgress\n   * @private\n   */\n  updateSegments_(\n    activeSegmentIndex,\n    activeSegmentProgress,\n    prevSegmentIndex,\n    prevSegmentProgress) {\n    let shouldAnimatePreviousSegment = false;\n\n    // Animating the transition from one full segment to another, which is the\n    // most common case.\n    if (prevSegmentProgress === 1 && activeSegmentProgress === 1) {\n      shouldAnimatePreviousSegment = true;\n    }\n\n    // When navigating forward, animate the previous segment only if the\n    // following one does not get fully filled.\n    if (activeSegmentIndex > prevSegmentIndex && activeSegmentProgress !== 1) {\n      shouldAnimatePreviousSegment = true;\n    }\n\n    // When navigating backward, animate the previous segment only if the\n    // following one gets fully filled.\n    if (prevSegmentIndex > activeSegmentIndex && activeSegmentProgress === 1) {\n      shouldAnimatePreviousSegment = true;\n    }\n\n    for (let i = 0; i < this.segmentCount_; i++) {\n      // Active segment already gets updated through update progress events\n      // dispatched by its amp-story-page.\n      if (i === activeSegmentIndex) {\n        continue;\n      }\n\n      const progress = i < activeSegmentIndex ? 1 : 0;\n\n      // Only animate the segment corresponding to the previous page, if needed.\n      const withTransition =\n          shouldAnimatePreviousSegment ? (i === prevSegmentIndex) : false;\n\n      this.updateProgressByIndex_(i, progress, withTransition);\n    }\n  }\n\n  /**\n   * @param {number} segmentIndex The index of the progress bar segment whose progress should be\n   *     changed.\n   * @param {number} progress A number from 0.0 to 1.0, representing the\n   *     progress of the current segment.\n   * @param {boolean=} withTransition\n   * @public\n   */\n  updateProgressByIndex_(segmentIndex, progress, withTransition = true) {\n    // Offset the index by 1, since nth-child indices start at 1 while\n    // JavaScript indices start at 0.\n    const nthChildIndex = segmentIndex + 1;\n    const progressEl = scopedQuerySelector(this.getRoot(),\n        `.i-amphtml-story-page-progress-bar:nth-child(${\n          escapeCssSelectorNth(nthChildIndex)\n        }) .i-amphtml-story-page-progress-value`);\n    this.vsync_.mutate(() => {\n      let transition = 'none';\n      if (withTransition) {\n        // Using an eased transition only if filling the bar to 0 or 1.\n        transition =\n            (progress === 1 || progress === 0) ?\n              TRANSITION_EASE : TRANSITION_LINEAR;\n      }\n      setImportantStyles(dev().assertElement(progressEl), {\n        'transform': scale(`${progress},1`),\n        'transition': transition,\n      });\n    });\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {LocalizedStringId} from './localization'; // eslint-disable-line no-unused-vars\nimport {Services} from '../../../src/services';\nimport {createElementWithAttributes} from '../../../src/dom';\nimport {dev} from '../../../src/log';\nimport {hasOwn} from '../../../src/utils/object';\nimport {isArray, toWin} from '../../../src/types';\n\n\n/**\n * @typedef {{\n *   tag: string,\n *   attrs: (!JsonObject|undefined),\n *   localizedStringId: (!LocalizedStringId|undefined),\n *   unlocalizedString: (string|undefined),\n *   children: (!Array<!ElementDef>|undefined),\n * }}\n */\nexport let ElementDef;\n\n\n/**\n * @param {!Document} doc\n * @param {!ElementDef|!Array<!ElementDef>} elementsDef\n * @return {!Node}\n */\nexport function renderSimpleTemplate(doc, elementsDef) {\n  if (isArray(elementsDef)) {\n    return renderMulti(doc, /** @type {!Array<!ElementDef>} */ (elementsDef));\n  }\n  return renderSingle(doc, /** @type {!ElementDef} */ (elementsDef));\n}\n\n\n/**\n * @param {!Document} doc\n * @param {!ElementDef} elementDef\n * @return {!Element}\n */\nexport function renderAsElement(doc, elementDef) {\n  return renderSingle(doc, elementDef);\n}\n\n\n/**\n * @param {!Document} doc\n * @param {!Array<!ElementDef>} elementsDef\n * @return {!Node}\n */\nfunction renderMulti(doc, elementsDef) {\n  const fragment = doc.createDocumentFragment();\n  elementsDef.forEach(elementDef =>\n    fragment.appendChild(renderSingle(doc, elementDef)));\n  return fragment;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {!ElementDef} elementDef\n * @return {!Element}\n */\nfunction renderSingle(doc, elementDef) {\n  const el = hasOwn(elementDef, 'attrs') ?\n    createElementWithAttributes(doc, elementDef.tag,\n        /** @type {!JsonObject} */ (elementDef.attrs)) :\n    doc.createElement(elementDef.tag);\n\n  if (hasOwn(elementDef, 'localizedStringId')) {\n    const win = toWin(doc.defaultView);\n    Services.localizationServiceForOrNull(win).then(localizationService => {\n      dev().assert(localizationService,\n          'Could not retrieve LocalizationService.');\n      el.textContent = localizationService\n          .getLocalizedString(/** @type {!LocalizedStringId} */ (\n            elementDef.localizedStringId));\n    });\n  }\n\n  if (hasOwn(elementDef, 'unlocalizedString')) {\n    el.textContent = elementDef.unlocalizedString;\n  }\n\n  if (hasOwn(elementDef, 'children')) {\n    el.appendChild(renderMulti(doc,\n        /** @type {!Array<!ElementDef>} */ (elementDef.children)));\n  }\n\n  return el;\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ampMediaElementFor} from './utils';\nimport {removeElement} from '../../../src/dom';\n\n\n\n/**\n * Class handling HTMLMediaElements sources.\n */\nexport class Sources {\n  /**\n   * @param {?string=} opt_srcAttr The 'src' attribute of the media element.\n   * @param {?IArrayLike<!Element>=} opt_srcEls Any child <source> tags of the\n   *     media element.\n   * @param {?IArrayLike<!Element>=} opt_trackEls Any child <track> tags of the\n   *     media element.\n   */\n  constructor(opt_srcAttr, opt_srcEls, opt_trackEls) {\n    /** @private @const {?string} */\n    this.srcAttr_ = opt_srcAttr && opt_srcAttr.length ? opt_srcAttr : null;\n\n    /** @private @const {!IArrayLike<!Element>} */\n    this.srcEls_ = opt_srcEls || [];\n\n    /** @private @const {!IArrayLike<!Element>} */\n    this.trackEls_ = opt_trackEls || [];\n  }\n\n\n  /**\n   * Applies track tags to a specified element. This is done in a separate\n   * method from the source tags, because we must wait for \"loadedmetadata\"\n   * video event before doing this.\n   * @param {!HTMLMediaElement} element The element to adopt the text tracks\n   *     represented by this object.\n   * @private\n   */\n  applyTracksToElement_(element) {\n    Array.prototype.forEach.call(this.trackEls_, trackEl => {\n      const track = document.createElement('track');\n      track.id = trackEl.id;\n      track.kind = trackEl.kind;\n      track.label = trackEl.label;\n      track.srclang = trackEl.srclang;\n      track.default = trackEl.default;\n      track.src = trackEl.src;\n      track.addEventListener('load', () => {\n        track.mode = 'showing';\n        element.textTracks[0].mode = 'showing';\n      });\n      element.appendChild(track);\n    });\n  }\n\n\n  /**\n   * Applies the src attribute and source tags to a specified element.\n   * @param {!HTMLMediaElement} element The element to adopt the sources\n   *     represented by this object.\n   */\n  applyToElement(element) {\n    Sources.removeFrom(element);\n\n    if (!this.srcAttr_) {\n      element.removeAttribute('src');\n    } else {\n      element.setAttribute('src', this.srcAttr_);\n    }\n\n    Array.prototype.forEach.call(this.srcEls_,\n        srcEl => element.appendChild(srcEl));\n\n    if (this.trackEls_.length > 0) {\n      // Wait for \"loadedmetadata\" before adding tracks.\n      // Firefox adds tracks, but does not toggle them on unless video metadata\n      // is loaded first.\n      if (element.readyState >= 1 /* HAVE_METADATA */) {\n        this.applyTracksToElement_(element);\n      } else {\n        const addTracksHandler = () => {\n          element.removeEventListener('loadedmetadata', addTracksHandler);\n          this.applyTracksToElement_(element);\n        };\n\n        element.addEventListener('loadedmetadata', addTracksHandler);\n      }\n    }\n  }\n\n\n  /**\n   * Removes and returns the sources from a specified element.\n   * @param {!Element} element The element whose sources should be removed and\n   *     returned.\n   * @return {!Sources} An object representing the sources of the specified\n   *     element.\n   */\n  static removeFrom(element) {\n    const elementToUse = ampMediaElementFor(element) || element;\n    const srcAttr = elementToUse.getAttribute('src');\n    elementToUse.removeAttribute('src');\n\n    const srcEls = elementToUse.querySelectorAll('source');\n    Array.prototype.forEach.call(srcEls, srcEl => removeElement(srcEl));\n\n    const trackEls = elementToUse.querySelectorAll('track');\n    Array.prototype.forEach.call(trackEls, trackEl => removeElement(trackEl));\n\n    return new Sources(srcAttr, srcEls, trackEls);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {createElementWithAttributes, removeElement} from '../../../src/dom';\n\n\n/** @private @const {string} */\nconst TOAST_CLASSNAME = 'i-amphtml-story-toast';\n\n\n/**\n * Should be higher than total animation time.\n * @private @const {number}\n */\nconst TOAST_VISIBLE_TIME_MS = 2600;\n\n\n/**\n * UI notifications service, displaying a message to the user for a limited\n * amount of time.\n */\nexport class Toast {\n  /**\n   * @param {!Window} win\n   * @param {!Node|string} childNodeOrText\n   */\n  static show(win, childNodeOrText) {\n    const toast = createElementWithAttributes(win.document, 'div',\n        /** @type {!JsonObject} */ ({'class': TOAST_CLASSNAME}));\n\n    if (typeof childNodeOrText == 'string') {\n      toast.textContent = childNodeOrText;\n    } else {\n      toast.appendChild(childNodeOrText);\n    }\n\n    win.document.body.appendChild(toast);\n\n    Services.timerFor(win)\n        .delay(() => removeElement(toast), TOAST_VISIBLE_TIME_MS);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Services} from '../../../src/services';\nimport {closestBySelector} from '../../../src/dom';\nimport {createShadowRoot} from '../../../src/shadow-embed';\nimport {getMode} from '../../../src/mode';\nimport {user} from '../../../src/log';\n\n/**\n * Returns millis as number if given a string(e.g. 1s, 200ms etc)\n * @param {string} time\n * @return {number|undefined}\n */\nexport function timeStrToMillis(time) {\n  const match = time.toLowerCase().match(/^([0-9\\.]+)\\s*(s|ms)$/);\n  if (!match) {\n    return NaN;\n  }\n\n  const num = match[1];\n  const units = match[2];\n\n  user().assert(\n      match &&\n          match.length == 3 &&\n          (units == 's' || units == 'ms'),\n      'Invalid time string %s', time);\n\n  return units == 's' ? parseFloat(num) * 1000 : parseInt(num, 10);\n}\n\n\n/**\n * Determines whether the specified element has an action for its on=\"tap:...\"\n * handler.\n * @param {!Element} el\n * @return {boolean}\n */\nexport function hasTapAction(el) {\n  // There are better ways to determine this, but they're all bound to action\n  // service race conditions. This is good enough for our use case.\n  return el.hasAttribute('on') &&\n      !!el.getAttribute('on').match(/(^|;)\\s*tap\\s*:/);\n}\n\n\n/**\n * Calculates a client rect without applying scaling transformations.\n * Note: must be run in a vsync measure context.\n * @param {!Element} el\n * @return {!ClientRect}\n */\nexport function unscaledClientRect(el) {\n  const {width, height, left, top} = el./*OK*/getBoundingClientRect();\n\n  const scaleFactorX = width == 0 ? 1 : width / el./*OK*/offsetWidth;\n  const scaleFactorY = height == 0 ? 1 : height / el./*OK*/offsetHeight;\n\n  return /** @type {!ClientRect} */ ({\n    left: left / scaleFactorX,\n    top: top / scaleFactorY,\n    width: width / scaleFactorX,\n    height: height / scaleFactorY,\n  });\n}\n\n\n/**\n * Finds an amp-video/amp-audio ancestor.\n * @param {!Element} el\n * @return {?AmpElement}\n */\nexport function ampMediaElementFor(el) {\n  return closestBySelector(el, 'amp-video, amp-audio');\n}\n\n\n/**\n * Creates a shadow root for the provided container, and appends the element\n * along with its CSS.\n * @param  {!Element} container\n * @param  {!Element} element\n * @param  {string} css\n */\nexport function createShadowRootWithStyle(container, element, css) {\n  const style = self.document.createElement('style');\n  style./*OK*/textContent = css;\n\n  const containerToUse = getMode().test ?\n    container : createShadowRoot(container);\n\n  containerToUse.appendChild(style);\n  containerToUse.appendChild(element);\n}\n\n\n/**\n * Parses the resolved CSS color property, that is always in the form of\n * `rgba(0, 0, 0, 1)` or `rgb(0, 0, 0)`, that can be retrieved using\n * `getComputedStyle`.\n * Returns an object containing the R, G, and B 8bit numbers.\n * @param  {string} cssValue\n * @return {!Object<string, number>}\n */\nexport function getRGBFromCssColorValue(cssValue) {\n  const regexPattern = /rgba?\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})/;\n\n  if (!cssValue.match(regexPattern)) {\n    user().error('UTILS', 'getRGBFromCssColorValue expects a parameter in ' +\n        `the form of 'rgba(0, 0, 0, 1)' or 'rgb(0, 0, 0)' but got ${cssValue}`);\n    // Returns a fallback value, to fail 'gracefully' in case a browser we don't\n    // know about gave an unexpected value.\n    return {r: 0, g: 0, b: 0};\n  }\n\n  const matches = regexPattern.exec(cssValue);\n\n  return {\n    r: Number(matches[1]),\n    g: Number(matches[2]),\n    b: Number(matches[3]),\n  };\n}\n\n/**\n * Returns the color, either black or white, that has the best contrast ratio\n * against the provided RGB 8bit values.\n * @param  {!Object<string, number>} rgb  ie: {r: 0, g: 0, b: 0}\n * @return {string} '#fff' or '#000'\n */\nexport function getTextColorForRGB({r, g, b}) {\n  // Calculates the relative luminance L.\n  // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n  const getLinearRGBValue = x => {\n    // 8bit to sRGB.\n    x /= 255;\n\n    // Converts the gamma-compressed RGB values to linear RGB.\n    return x <= 0.03928 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n  };\n\n  const linearR = getLinearRGBValue(r);\n  const linearG = getLinearRGBValue(g);\n  const linearB = getLinearRGBValue(b);\n\n  const L = (0.2126 * linearR) + (0.7152 * linearG) + (0.0722 * linearB);\n\n  // Determines which one of the white and black text have a better contrast\n  // ratio against the used background color.\n  // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n  // @TODO(gmajoulet): Improve the text color for high contrast ratio.\n  // 1 is L for #FFF, and 0 is L for #000.\n  // (1 + 0.05) / (L + 0.05) > (L + 0.05) / (0 + 0.05) toggles for L = 0.179.\n  return L > 0.179 ? '#000' : '#FFF';\n}\n\n\n/**\n * Sets given attribute to the given element in next `mutate` phase.\n * @param {!AMP.BaseElement} elementImpl\n * @param {string} name\n * @param {string=} opt_value\n */\nexport function setAttributeInMutate(elementImpl, name, opt_value) {\n  const value = opt_value || '';\n  elementImpl.mutateElement(() => {\n    elementImpl.element.setAttribute(name, value);\n  });\n}\n\n\n/**\n * Removes given attribute from the given element in next `mutate` phase.\n * @param {!AMP.BaseElement} elementImpl\n * @param {string} name\n */\nexport function removeAttributeInMutate(elementImpl, name) {\n  elementImpl.mutateElement(() => {\n    elementImpl.element.removeAttribute(name);\n  });\n}\n\n/**\n * @param {!Element} element\n * @param {string|!Location} url\n */\nexport function userAssertValidProtocol(element, url) {\n  user().assert(Services.urlForDoc(element).isProtocolValid(url),\n      'Unsupported protocol for URL %s', url);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {StateChangeType} from './navigation-state';\n\n/**\n * @typedef {!Object<string, *>}\n */\nexport let StoryVariableDef;\n\n\n/** @enum {string} */\nconst Variable = {\n  STORY_PAGE_ID: 'storyPageId',\n  STORY_PAGE_INDEX: 'storyPageIndex',\n  STORY_PAGE_COUNT: 'storyPageCount',\n  STORY_IS_MUTED: 'storyIsMuted',\n  STORY_PROGRESS: 'storyProgress',\n};\n\n\n/**\n * Variable service for amp-story.\n * Used for URL replacement service. See usage in src/url-replacements-impl.\n */\nexport class AmpStoryVariableService {\n  /**\n   * @public\n   */\n  constructor() {\n    /** @private {!StoryVariableDef} */\n    this.variables_ = {\n      [Variable.STORY_PAGE_INDEX]: null,\n      [Variable.STORY_PAGE_ID]: null,\n      [Variable.STORY_PAGE_COUNT]: null,\n      [Variable.STORY_PROGRESS]: null,\n      [Variable.STORY_IS_MUTED]: null,\n    };\n  }\n\n  /**\n   * @param {!./navigation-state.StateChangeEventDef} stateChangeEvent\n   */\n  onNavigationStateChange(stateChangeEvent) {\n    switch (stateChangeEvent.type) {\n      case StateChangeType.ACTIVE_PAGE:\n        const {pageIndex, pageId, storyProgress, totalPages} =\n            stateChangeEvent.value;\n        this.variables_[Variable.STORY_PAGE_INDEX] = pageIndex;\n        this.variables_[Variable.STORY_PAGE_ID] = pageId;\n        this.variables_[Variable.STORY_PROGRESS] = storyProgress;\n        this.variables_[Variable.STORY_PAGE_COUNT] = totalPages;\n        break;\n    }\n  }\n\n  /**\n   * @param {boolean} isMuted\n   */\n  onMutedStateChange(isMuted) {\n    this.variables_[Variable.STORY_IS_MUTED] = isMuted;\n  }\n\n  /**\n   * @return {!StoryVariableDef}\n   */\n  get() {\n    // TODO(newmius): You should probably Object.freeze this in development.\n    return this.variables_;\n  }\n}\n","/*!\n\nCopyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n// global window Object\n// optional polyfill info\n//    'auto' used by default, everything is feature detected\n//    'force' use the polyfill even if not fully needed\nfunction installCustomElements(window, polyfill) {'use strict';\n\n  // DO NOT USE THIS FILE DIRECTLY, IT WON'T WORK\n  // THIS IS A PROJECT BASED ON A BUILD SYSTEM\n  // THIS FILE IS JUST WRAPPED UP RESULTING IN\n  // build/document-register-element.node.js\n\n  var\n    document = window.document,\n    Object = window.Object\n  ;\n\n  var htmlClass = (function (info) {\n    // (C) Andrea Giammarchi - @WebReflection - MIT Style\n    var\n      catchClass = /^[A-Z]+[a-z]/,\n      filterBy = function (re) {\n        var arr = [], tag;\n        for (tag in register) {\n          if (re.test(tag)) arr.push(tag);\n        }\n        return arr;\n      },\n      add = function (Class, tag) {\n        tag = tag.toLowerCase();\n        if (!(tag in register)) {\n          register[Class] = (register[Class] || []).concat(tag);\n          register[tag] = (register[tag.toUpperCase()] = Class);\n        }\n      },\n      register = (Object.create || Object)(null),\n      htmlClass = {},\n      i, section, tags, Class\n    ;\n    for (section in info) {\n      for (Class in info[section]) {\n        tags = info[section][Class];\n        register[Class] = tags;\n        for (i = 0; i < tags.length; i++) {\n          register[tags[i].toLowerCase()] =\n          register[tags[i].toUpperCase()] = Class;\n        }\n      }\n    }\n    htmlClass.get = function get(tagOrClass) {\n      return typeof tagOrClass === 'string' ?\n        (register[tagOrClass] || (catchClass.test(tagOrClass) ? [] : '')) :\n        filterBy(tagOrClass);\n    };\n    htmlClass.set = function set(tag, Class) {\n      return (catchClass.test(tag) ?\n        add(tag, Class) :\n        add(Class, tag)\n      ), htmlClass;\n    };\n    return htmlClass;\n  }({\n    \"collections\": {\n      \"HTMLAllCollection\": [\n        \"all\"\n      ],\n      \"HTMLCollection\": [\n        \"forms\"\n      ],\n      \"HTMLFormControlsCollection\": [\n        \"elements\"\n      ],\n      \"HTMLOptionsCollection\": [\n        \"options\"\n      ]\n    },\n    \"elements\": {\n      \"Element\": [\n        \"element\"\n      ],\n      \"HTMLAnchorElement\": [\n        \"a\"\n      ],\n      \"HTMLAppletElement\": [\n        \"applet\"\n      ],\n      \"HTMLAreaElement\": [\n        \"area\"\n      ],\n      \"HTMLAttachmentElement\": [\n        \"attachment\"\n      ],\n      \"HTMLAudioElement\": [\n        \"audio\"\n      ],\n      \"HTMLBRElement\": [\n        \"br\"\n      ],\n      \"HTMLBaseElement\": [\n        \"base\"\n      ],\n      \"HTMLBodyElement\": [\n        \"body\"\n      ],\n      \"HTMLButtonElement\": [\n        \"button\"\n      ],\n      \"HTMLCanvasElement\": [\n        \"canvas\"\n      ],\n      \"HTMLContentElement\": [\n        \"content\"\n      ],\n      \"HTMLDListElement\": [\n        \"dl\"\n      ],\n      \"HTMLDataElement\": [\n        \"data\"\n      ],\n      \"HTMLDataListElement\": [\n        \"datalist\"\n      ],\n      \"HTMLDetailsElement\": [\n        \"details\"\n      ],\n      \"HTMLDialogElement\": [\n        \"dialog\"\n      ],\n      \"HTMLDirectoryElement\": [\n        \"dir\"\n      ],\n      \"HTMLDivElement\": [\n        \"div\"\n      ],\n      \"HTMLDocument\": [\n        \"document\"\n      ],\n      \"HTMLElement\": [\n        \"element\",\n        \"abbr\",\n        \"address\",\n        \"article\",\n        \"aside\",\n        \"b\",\n        \"bdi\",\n        \"bdo\",\n        \"cite\",\n        \"code\",\n        \"command\",\n        \"dd\",\n        \"dfn\",\n        \"dt\",\n        \"em\",\n        \"figcaption\",\n        \"figure\",\n        \"footer\",\n        \"header\",\n        \"i\",\n        \"kbd\",\n        \"mark\",\n        \"nav\",\n        \"noscript\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"section\",\n        \"small\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"u\",\n        \"var\",\n        \"wbr\"\n      ],\n      \"HTMLEmbedElement\": [\n        \"embed\"\n      ],\n      \"HTMLFieldSetElement\": [\n        \"fieldset\"\n      ],\n      \"HTMLFontElement\": [\n        \"font\"\n      ],\n      \"HTMLFormElement\": [\n        \"form\"\n      ],\n      \"HTMLFrameElement\": [\n        \"frame\"\n      ],\n      \"HTMLFrameSetElement\": [\n        \"frameset\"\n      ],\n      \"HTMLHRElement\": [\n        \"hr\"\n      ],\n      \"HTMLHeadElement\": [\n        \"head\"\n      ],\n      \"HTMLHeadingElement\": [\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\"\n      ],\n      \"HTMLHtmlElement\": [\n        \"html\"\n      ],\n      \"HTMLIFrameElement\": [\n        \"iframe\"\n      ],\n      \"HTMLImageElement\": [\n        \"img\"\n      ],\n      \"HTMLInputElement\": [\n        \"input\"\n      ],\n      \"HTMLKeygenElement\": [\n        \"keygen\"\n      ],\n      \"HTMLLIElement\": [\n        \"li\"\n      ],\n      \"HTMLLabelElement\": [\n        \"label\"\n      ],\n      \"HTMLLegendElement\": [\n        \"legend\"\n      ],\n      \"HTMLLinkElement\": [\n        \"link\"\n      ],\n      \"HTMLMapElement\": [\n        \"map\"\n      ],\n      \"HTMLMarqueeElement\": [\n        \"marquee\"\n      ],\n      \"HTMLMediaElement\": [\n        \"media\"\n      ],\n      \"HTMLMenuElement\": [\n        \"menu\"\n      ],\n      \"HTMLMenuItemElement\": [\n        \"menuitem\"\n      ],\n      \"HTMLMetaElement\": [\n        \"meta\"\n      ],\n      \"HTMLMeterElement\": [\n        \"meter\"\n      ],\n      \"HTMLModElement\": [\n        \"del\",\n        \"ins\"\n      ],\n      \"HTMLOListElement\": [\n        \"ol\"\n      ],\n      \"HTMLObjectElement\": [\n        \"object\"\n      ],\n      \"HTMLOptGroupElement\": [\n        \"optgroup\"\n      ],\n      \"HTMLOptionElement\": [\n        \"option\"\n      ],\n      \"HTMLOutputElement\": [\n        \"output\"\n      ],\n      \"HTMLParagraphElement\": [\n        \"p\"\n      ],\n      \"HTMLParamElement\": [\n        \"param\"\n      ],\n      \"HTMLPictureElement\": [\n        \"picture\"\n      ],\n      \"HTMLPreElement\": [\n        \"pre\"\n      ],\n      \"HTMLProgressElement\": [\n        \"progress\"\n      ],\n      \"HTMLQuoteElement\": [\n        \"blockquote\",\n        \"q\",\n        \"quote\"\n      ],\n      \"HTMLScriptElement\": [\n        \"script\"\n      ],\n      \"HTMLSelectElement\": [\n        \"select\"\n      ],\n      \"HTMLShadowElement\": [\n        \"shadow\"\n      ],\n      \"HTMLSlotElement\": [\n        \"slot\"\n      ],\n      \"HTMLSourceElement\": [\n        \"source\"\n      ],\n      \"HTMLSpanElement\": [\n        \"span\"\n      ],\n      \"HTMLStyleElement\": [\n        \"style\"\n      ],\n      \"HTMLTableCaptionElement\": [\n        \"caption\"\n      ],\n      \"HTMLTableCellElement\": [\n        \"td\",\n        \"th\"\n      ],\n      \"HTMLTableColElement\": [\n        \"col\",\n        \"colgroup\"\n      ],\n      \"HTMLTableElement\": [\n        \"table\"\n      ],\n      \"HTMLTableRowElement\": [\n        \"tr\"\n      ],\n      \"HTMLTableSectionElement\": [\n        \"thead\",\n        \"tbody\",\n        \"tfoot\"\n      ],\n      \"HTMLTemplateElement\": [\n        \"template\"\n      ],\n      \"HTMLTextAreaElement\": [\n        \"textarea\"\n      ],\n      \"HTMLTimeElement\": [\n        \"time\"\n      ],\n      \"HTMLTitleElement\": [\n        \"title\"\n      ],\n      \"HTMLTrackElement\": [\n        \"track\"\n      ],\n      \"HTMLUListElement\": [\n        \"ul\"\n      ],\n      \"HTMLUnknownElement\": [\n        \"unknown\",\n        \"vhgroupv\",\n        \"vkeygen\"\n      ],\n      \"HTMLVideoElement\": [\n        \"video\"\n      ]\n    },\n    \"nodes\": {\n      \"Attr\": [\n        \"node\"\n      ],\n      \"Audio\": [\n        \"audio\"\n      ],\n      \"CDATASection\": [\n        \"node\"\n      ],\n      \"CharacterData\": [\n        \"node\"\n      ],\n      \"Comment\": [\n        \"#comment\"\n      ],\n      \"Document\": [\n        \"#document\"\n      ],\n      \"DocumentFragment\": [\n        \"#document-fragment\"\n      ],\n      \"DocumentType\": [\n        \"node\"\n      ],\n      \"HTMLDocument\": [\n        \"#document\"\n      ],\n      \"Image\": [\n        \"img\"\n      ],\n      \"Option\": [\n        \"option\"\n      ],\n      \"ProcessingInstruction\": [\n        \"node\"\n      ],\n      \"ShadowRoot\": [\n        \"#shadow-root\"\n      ],\n      \"Text\": [\n        \"#text\"\n      ],\n      \"XMLDocument\": [\n        \"xml\"\n      ]\n    }\n  }));\n  \n  \n    \n  // passed at runtime, configurable\n  // via nodejs module\n  if (!polyfill) polyfill = 'auto';\n  \n  var\n    // V0 polyfill entry\n    REGISTER_ELEMENT = 'registerElement',\n  \n    // IE < 11 only + old WebKit for attributes + feature detection\n    EXPANDO_UID = '__' + REGISTER_ELEMENT + (window.Math.random() * 10e4 >> 0),\n  \n    // shortcuts and costants\n    ADD_EVENT_LISTENER = 'addEventListener',\n    ATTACHED = 'attached',\n    CALLBACK = 'Callback',\n    DETACHED = 'detached',\n    EXTENDS = 'extends',\n  \n    ATTRIBUTE_CHANGED_CALLBACK = 'attributeChanged' + CALLBACK,\n    ATTACHED_CALLBACK = ATTACHED + CALLBACK,\n    CONNECTED_CALLBACK = 'connected' + CALLBACK,\n    DISCONNECTED_CALLBACK = 'disconnected' + CALLBACK,\n    CREATED_CALLBACK = 'created' + CALLBACK,\n    DETACHED_CALLBACK = DETACHED + CALLBACK,\n  \n    ADDITION = 'ADDITION',\n    MODIFICATION = 'MODIFICATION',\n    REMOVAL = 'REMOVAL',\n  \n    DOM_ATTR_MODIFIED = 'DOMAttrModified',\n    DOM_CONTENT_LOADED = 'DOMContentLoaded',\n    DOM_SUBTREE_MODIFIED = 'DOMSubtreeModified',\n  \n    PREFIX_TAG = '<',\n    PREFIX_IS = '=',\n  \n    // valid and invalid node names\n    validName = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,\n    invalidNames = [\n      'ANNOTATION-XML',\n      'COLOR-PROFILE',\n      'FONT-FACE',\n      'FONT-FACE-SRC',\n      'FONT-FACE-URI',\n      'FONT-FACE-FORMAT',\n      'FONT-FACE-NAME',\n      'MISSING-GLYPH'\n    ],\n  \n    // registered types and their prototypes\n    types = [],\n    protos = [],\n  \n    // to query subnodes\n    query = '',\n  \n    // html shortcut used to feature detect\n    documentElement = document.documentElement,\n  \n    // ES5 inline helpers || basic patches\n    indexOf = types.indexOf || function (v) {\n      for(var i = this.length; i-- && this[i] !== v;){}\n      return i;\n    },\n  \n    // other helpers / shortcuts\n    OP = Object.prototype,\n    hOP = OP.hasOwnProperty,\n    iPO = OP.isPrototypeOf,\n  \n    defineProperty = Object.defineProperty,\n    empty = [],\n    gOPD = Object.getOwnPropertyDescriptor,\n    gOPN = Object.getOwnPropertyNames,\n    gPO = Object.getPrototypeOf,\n    sPO = Object.setPrototypeOf,\n  \n    // jshint proto: true\n    hasProto = !!Object.__proto__,\n  \n    // V1 helpers\n    fixGetClass = false,\n    DRECEV1 = '__dreCEv1',\n    customElements = window.customElements,\n    usableCustomElements = polyfill !== 'force' && !!(\n      customElements &&\n      customElements.define &&\n      customElements.get &&\n      customElements.whenDefined\n    ),\n    Dict = Object.create || Object,\n    Map = window.Map || function Map() {\n      var K = [], V = [], i;\n      return {\n        get: function (k) {\n          return V[indexOf.call(K, k)];\n        },\n        set: function (k, v) {\n          i = indexOf.call(K, k);\n          if (i < 0) V[K.push(k) - 1] = v;\n          else V[i] = v;\n        }\n      };\n    },\n    Promise = window.Promise || function (fn) {\n      var\n        notify = [],\n        done = false,\n        p = {\n          'catch': function () {\n            return p;\n          },\n          'then': function (cb) {\n            notify.push(cb);\n            if (done) setTimeout(resolve, 1);\n            return p;\n          }\n        }\n      ;\n      function resolve(value) {\n        done = true;\n        while (notify.length) notify.shift()(value);\n      }\n      fn(resolve);\n      return p;\n    },\n    justCreated = false,\n    constructors = Dict(null),\n    waitingList = Dict(null),\n    nodeNames = new Map(),\n    secondArgument = function (is) {\n      return is.toLowerCase();\n    },\n  \n    // used to create unique instances\n    create = Object.create || function Bridge(proto) {\n      // silly broken polyfill probably ever used but short enough to work\n      return proto ? ((Bridge.prototype = proto), new Bridge()) : this;\n    },\n  \n    // will set the prototype if possible\n    // or copy over all properties\n    setPrototype = sPO || (\n      hasProto ?\n        function (o, p) {\n          o.__proto__ = p;\n          return o;\n        } : (\n      (gOPN && gOPD) ?\n        (function(){\n          function setProperties(o, p) {\n            for (var\n              key,\n              names = gOPN(p),\n              i = 0, length = names.length;\n              i < length; i++\n            ) {\n              key = names[i];\n              if (!hOP.call(o, key)) {\n                defineProperty(o, key, gOPD(p, key));\n              }\n            }\n          }\n          return function (o, p) {\n            do {\n              setProperties(o, p);\n            } while ((p = gPO(p)) && !iPO.call(p, o));\n            return o;\n          };\n        }()) :\n        function (o, p) {\n          for (var key in p) {\n            o[key] = p[key];\n          }\n          return o;\n        }\n    )),\n  \n    // DOM shortcuts and helpers, if any\n  \n    MutationObserver = window.MutationObserver ||\n                       window.WebKitMutationObserver,\n  \n    HTMLElementPrototype = (\n      window.HTMLElement ||\n      window.Element ||\n      window.Node\n    ).prototype,\n  \n    IE8 = !iPO.call(HTMLElementPrototype, documentElement),\n  \n    safeProperty = IE8 ? function (o, k, d) {\n      o[k] = d.value;\n      return o;\n    } : defineProperty,\n  \n    isValidNode = IE8 ?\n      function (node) {\n        return node.nodeType === 1;\n      } :\n      function (node) {\n        return iPO.call(HTMLElementPrototype, node);\n      },\n  \n    targets = IE8 && [],\n  \n    attachShadow = HTMLElementPrototype.attachShadow,\n    cloneNode = HTMLElementPrototype.cloneNode,\n    dispatchEvent = HTMLElementPrototype.dispatchEvent,\n    getAttribute = HTMLElementPrototype.getAttribute,\n    hasAttribute = HTMLElementPrototype.hasAttribute,\n    removeAttribute = HTMLElementPrototype.removeAttribute,\n    setAttribute = HTMLElementPrototype.setAttribute,\n  \n    // replaced later on\n    createElement = document.createElement,\n    patchedCreateElement = createElement,\n  \n    // shared observer for all attributes\n    attributesObserver = MutationObserver && {\n      attributes: true,\n      characterData: true,\n      attributeOldValue: true\n    },\n  \n    // useful to detect only if there's no MutationObserver\n    DOMAttrModified = MutationObserver || function(e) {\n      doesNotSupportDOMAttrModified = false;\n      documentElement.removeEventListener(\n        DOM_ATTR_MODIFIED,\n        DOMAttrModified\n      );\n    },\n  \n    // will both be used to make DOMNodeInserted asynchronous\n    asapQueue,\n    asapTimer = 0,\n  \n    // internal flags\n    V0 = REGISTER_ELEMENT in document,\n    setListener = true,\n    justSetup = false,\n    doesNotSupportDOMAttrModified = true,\n    dropDomContentLoaded = true,\n  \n    // needed for the innerHTML helper\n    notFromInnerHTMLHelper = true,\n  \n    // optionally defined later on\n    onSubtreeModified,\n    callDOMAttrModified,\n    getAttributesMirror,\n    observer,\n    observe,\n  \n    // based on setting prototype capability\n    // will check proto or the expando attribute\n    // in order to setup the node once\n    patchIfNotAlready,\n    patch\n  ;\n  \n  // only if needed\n  if (!V0) {\n  \n    if (sPO || hasProto) {\n        patchIfNotAlready = function (node, proto) {\n          if (!iPO.call(proto, node)) {\n            setupNode(node, proto);\n          }\n        };\n        patch = setupNode;\n    } else {\n        patchIfNotAlready = function (node, proto) {\n          if (!node[EXPANDO_UID]) {\n            node[EXPANDO_UID] = Object(true);\n            setupNode(node, proto);\n          }\n        };\n        patch = patchIfNotAlready;\n    }\n  \n    if (IE8) {\n      doesNotSupportDOMAttrModified = false;\n      (function (){\n        var\n          descriptor = gOPD(HTMLElementPrototype, ADD_EVENT_LISTENER),\n          addEventListener = descriptor.value,\n          patchedRemoveAttribute = function (name) {\n            var e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n            e.attrName = name;\n            e.prevValue = getAttribute.call(this, name);\n            e.newValue = null;\n            e[REMOVAL] = e.attrChange = 2;\n            removeAttribute.call(this, name);\n            dispatchEvent.call(this, e);\n          },\n          patchedSetAttribute = function (name, value) {\n            var\n              had = hasAttribute.call(this, name),\n              old = had && getAttribute.call(this, name),\n              e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true})\n            ;\n            setAttribute.call(this, name, value);\n            e.attrName = name;\n            e.prevValue = had ? old : null;\n            e.newValue = value;\n            if (had) {\n              e[MODIFICATION] = e.attrChange = 1;\n            } else {\n              e[ADDITION] = e.attrChange = 0;\n            }\n            dispatchEvent.call(this, e);\n          },\n          onPropertyChange = function (e) {\n            // jshint eqnull:true\n            var\n              node = e.currentTarget,\n              superSecret = node[EXPANDO_UID],\n              propertyName = e.propertyName,\n              event\n            ;\n            if (superSecret.hasOwnProperty(propertyName)) {\n              superSecret = superSecret[propertyName];\n              event = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n              event.attrName = superSecret.name;\n              event.prevValue = superSecret.value || null;\n              event.newValue = (superSecret.value = node[propertyName] || null);\n              if (event.prevValue == null) {\n                event[ADDITION] = event.attrChange = 0;\n              } else {\n                event[MODIFICATION] = event.attrChange = 1;\n              }\n              dispatchEvent.call(node, event);\n            }\n          }\n        ;\n        descriptor.value = function (type, handler, capture) {\n          if (\n            type === DOM_ATTR_MODIFIED &&\n            this[ATTRIBUTE_CHANGED_CALLBACK] &&\n            this.setAttribute !== patchedSetAttribute\n          ) {\n            this[EXPANDO_UID] = {\n              className: {\n                name: 'class',\n                value: this.className\n              }\n            };\n            this.setAttribute = patchedSetAttribute;\n            this.removeAttribute = patchedRemoveAttribute;\n            addEventListener.call(this, 'propertychange', onPropertyChange);\n          }\n          addEventListener.call(this, type, handler, capture);\n        };\n        defineProperty(HTMLElementPrototype, ADD_EVENT_LISTENER, descriptor);\n      }());\n    } else if (!MutationObserver) {\n      documentElement[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, DOMAttrModified);\n      documentElement.setAttribute(EXPANDO_UID, 1);\n      documentElement.removeAttribute(EXPANDO_UID);\n      if (doesNotSupportDOMAttrModified) {\n        onSubtreeModified = function (e) {\n          var\n            node = this,\n            oldAttributes,\n            newAttributes,\n            key\n          ;\n          if (node === e.target) {\n            oldAttributes = node[EXPANDO_UID];\n            node[EXPANDO_UID] = (newAttributes = getAttributesMirror(node));\n            for (key in newAttributes) {\n              if (!(key in oldAttributes)) {\n                // attribute was added\n                return callDOMAttrModified(\n                  0,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  ADDITION\n                );\n              } else if (newAttributes[key] !== oldAttributes[key]) {\n                // attribute was changed\n                return callDOMAttrModified(\n                  1,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  MODIFICATION\n                );\n              }\n            }\n            // checking if it has been removed\n            for (key in oldAttributes) {\n              if (!(key in newAttributes)) {\n                // attribute removed\n                return callDOMAttrModified(\n                  2,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  REMOVAL\n                );\n              }\n            }\n          }\n        };\n        callDOMAttrModified = function (\n          attrChange,\n          currentTarget,\n          attrName,\n          prevValue,\n          newValue,\n          action\n        ) {\n          var e = {\n            attrChange: attrChange,\n            currentTarget: currentTarget,\n            attrName: attrName,\n            prevValue: prevValue,\n            newValue: newValue\n          };\n          e[action] = attrChange;\n          onDOMAttrModified(e);\n        };\n        getAttributesMirror = function (node) {\n          for (var\n            attr, name,\n            result = {},\n            attributes = node.attributes,\n            i = 0, length = attributes.length;\n            i < length; i++\n          ) {\n            attr = attributes[i];\n            name = attr.name;\n            if (name !== 'setAttribute') {\n              result[name] = attr.value;\n            }\n          }\n          return result;\n        };\n      }\n    }\n  \n    // set as enumerable, writable and configurable\n    document[REGISTER_ELEMENT] = function registerElement(type, options) {\n      upperType = type.toUpperCase();\n      if (setListener) {\n        // only first time document.registerElement is used\n        // we need to set this listener\n        // setting it by default might slow down for no reason\n        setListener = false;\n        if (MutationObserver) {\n          observer = (function(attached, detached){\n            function checkEmAll(list, callback) {\n              for (var i = 0, length = list.length; i < length; callback(list[i++])){}\n            }\n            return new MutationObserver(function (records) {\n              for (var\n                current, node, newValue,\n                i = 0, length = records.length; i < length; i++\n              ) {\n                current = records[i];\n                if (current.type === 'childList') {\n                  checkEmAll(current.addedNodes, attached);\n                  checkEmAll(current.removedNodes, detached);\n                } else {\n                  node = current.target;\n                  if (notFromInnerHTMLHelper &&\n                      node[ATTRIBUTE_CHANGED_CALLBACK] &&\n                      current.attributeName !== 'style') {\n                    newValue = getAttribute.call(node, current.attributeName);\n                    if (newValue !== current.oldValue) {\n                      node[ATTRIBUTE_CHANGED_CALLBACK](\n                        current.attributeName,\n                        current.oldValue,\n                        newValue\n                      );\n                    }\n                  }\n                }\n              }\n            });\n          }(executeAction(ATTACHED), executeAction(DETACHED)));\n          observe = function (node) {\n            observer.observe(\n              node,\n              {\n                childList: true,\n                subtree: true\n              }\n            );\n            return node;\n          };\n          observe(document);\n          if (attachShadow) {\n            HTMLElementPrototype.attachShadow = function () {\n              return observe(attachShadow.apply(this, arguments));\n            };\n          }\n        } else {\n          asapQueue = [];\n          document[ADD_EVENT_LISTENER]('DOMNodeInserted', onDOMNode(ATTACHED));\n          document[ADD_EVENT_LISTENER]('DOMNodeRemoved', onDOMNode(DETACHED));\n        }\n  \n        document[ADD_EVENT_LISTENER](DOM_CONTENT_LOADED, onReadyStateChange);\n        document[ADD_EVENT_LISTENER]('readystatechange', onReadyStateChange);\n  \n        HTMLElementPrototype.cloneNode = function (deep) {\n          var\n            node = cloneNode.call(this, !!deep),\n            i = getTypeIndex(node)\n          ;\n          if (-1 < i) patch(node, protos[i]);\n          if (deep && query.length) loopAndSetup(node.querySelectorAll(query));\n          return node;\n        };\n      }\n  \n      if (justSetup) return (justSetup = false);\n  \n      if (-2 < (\n        indexOf.call(types, PREFIX_IS + upperType) +\n        indexOf.call(types, PREFIX_TAG + upperType)\n      )) {\n        throwTypeError(type);\n      }\n  \n      if (!validName.test(upperType) || -1 < indexOf.call(invalidNames, upperType)) {\n        throw new Error('The type ' + type + ' is invalid');\n      }\n  \n      var\n        constructor = function () {\n          return extending ?\n            document.createElement(nodeName, upperType) :\n            document.createElement(nodeName);\n        },\n        opt = options || OP,\n        extending = hOP.call(opt, EXTENDS),\n        nodeName = extending ? options[EXTENDS].toUpperCase() : upperType,\n        upperType,\n        i\n      ;\n  \n      if (extending && -1 < (\n        indexOf.call(types, PREFIX_TAG + nodeName)\n      )) {\n        throwTypeError(nodeName);\n      }\n  \n      i = types.push((extending ? PREFIX_IS : PREFIX_TAG) + upperType) - 1;\n  \n      query = query.concat(\n        query.length ? ',' : '',\n        extending ? nodeName + '[is=\"' + type.toLowerCase() + '\"]' : nodeName\n      );\n  \n      constructor.prototype = (\n        protos[i] = hOP.call(opt, 'prototype') ?\n          opt.prototype :\n          create(HTMLElementPrototype)\n      );\n  \n      if (query.length) loopAndVerify(\n        document.querySelectorAll(query),\n        ATTACHED\n      );\n  \n      return constructor;\n    };\n  \n    document.createElement = (patchedCreateElement = function (localName, typeExtension) {\n      var\n        is = getIs(typeExtension),\n        node = is ?\n          createElement.call(document, localName, secondArgument(is)) :\n          createElement.call(document, localName),\n        name = '' + localName,\n        i = indexOf.call(\n          types,\n          (is ? PREFIX_IS : PREFIX_TAG) +\n          (is || name).toUpperCase()\n        ),\n        setup = -1 < i\n      ;\n      if (is) {\n        node.setAttribute('is', is = is.toLowerCase());\n        if (setup) {\n          setup = isInQSA(name.toUpperCase(), is);\n        }\n      }\n      notFromInnerHTMLHelper = !document.createElement.innerHTMLHelper;\n      if (setup) patch(node, protos[i]);\n      return node;\n    });\n  \n  }\n  \n  function ASAP() {\n    var queue = asapQueue.splice(0, asapQueue.length);\n    asapTimer = 0;\n    while (queue.length) {\n      queue.shift().call(\n        null, queue.shift()\n      );\n    }\n  }\n  \n  function loopAndVerify(list, action) {\n    for (var i = 0, length = list.length; i < length; i++) {\n      verifyAndSetupAndAction(list[i], action);\n    }\n  }\n  \n  function loopAndSetup(list) {\n    for (var i = 0, length = list.length, node; i < length; i++) {\n      node = list[i];\n      patch(node, protos[getTypeIndex(node)]);\n    }\n  }\n  \n  function executeAction(action) {\n    return function (node) {\n      if (isValidNode(node)) {\n        verifyAndSetupAndAction(node, action);\n        if (query.length) loopAndVerify(\n          node.querySelectorAll(query),\n          action\n        );\n      }\n    };\n  }\n  \n  function getTypeIndex(target) {\n    var\n      is = getAttribute.call(target, 'is'),\n      nodeName = target.nodeName.toUpperCase(),\n      i = indexOf.call(\n        types,\n        is ?\n            PREFIX_IS + is.toUpperCase() :\n            PREFIX_TAG + nodeName\n      )\n    ;\n    return is && -1 < i && !isInQSA(nodeName, is) ? -1 : i;\n  }\n  \n  function isInQSA(name, type) {\n    return -1 < query.indexOf(name + '[is=\"' + type + '\"]');\n  }\n  \n  function onDOMAttrModified(e) {\n    var\n      node = e.currentTarget,\n      attrChange = e.attrChange,\n      attrName = e.attrName,\n      target = e.target,\n      addition = e[ADDITION] || 2,\n      removal = e[REMOVAL] || 3\n    ;\n    if (notFromInnerHTMLHelper &&\n        (!target || target === node) &&\n        node[ATTRIBUTE_CHANGED_CALLBACK] &&\n        attrName !== 'style' && (\n          e.prevValue !== e.newValue ||\n          // IE9, IE10, and Opera 12 gotcha\n          e.newValue === '' && (\n            attrChange === addition ||\n            attrChange === removal\n          )\n    )) {\n      node[ATTRIBUTE_CHANGED_CALLBACK](\n        attrName,\n        attrChange === addition ? null : e.prevValue,\n        attrChange === removal ? null : e.newValue\n      );\n    }\n  }\n  \n  function onDOMNode(action) {\n    var executor = executeAction(action);\n    return function (e) {\n      asapQueue.push(executor, e.target);\n      if (asapTimer) clearTimeout(asapTimer);\n      asapTimer = setTimeout(ASAP, 1);\n    };\n  }\n  \n  function onReadyStateChange(e) {\n    if (dropDomContentLoaded) {\n      dropDomContentLoaded = false;\n      e.currentTarget.removeEventListener(DOM_CONTENT_LOADED, onReadyStateChange);\n    }\n    if (query.length) loopAndVerify(\n      (e.target || document).querySelectorAll(query),\n      e.detail === DETACHED ? DETACHED : ATTACHED\n    );\n    if (IE8) purge();\n  }\n  \n  function patchedSetAttribute(name, value) {\n    // jshint validthis:true\n    var self = this;\n    setAttribute.call(self, name, value);\n    onSubtreeModified.call(self, {target: self});\n  }\n  \n  function setupNode(node, proto) {\n    setPrototype(node, proto);\n    if (observer) {\n      observer.observe(node, attributesObserver);\n    } else {\n      if (doesNotSupportDOMAttrModified) {\n        node.setAttribute = patchedSetAttribute;\n        node[EXPANDO_UID] = getAttributesMirror(node);\n        node[ADD_EVENT_LISTENER](DOM_SUBTREE_MODIFIED, onSubtreeModified);\n      }\n      node[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, onDOMAttrModified);\n    }\n    if (node[CREATED_CALLBACK] && notFromInnerHTMLHelper) {\n      node.created = true;\n      node[CREATED_CALLBACK]();\n      node.created = false;\n    }\n  }\n  \n  function purge() {\n    for (var\n      node,\n      i = 0,\n      length = targets.length;\n      i < length; i++\n    ) {\n      node = targets[i];\n      if (!documentElement.contains(node)) {\n        length--;\n        targets.splice(i--, 1);\n        verifyAndSetupAndAction(node, DETACHED);\n      }\n    }\n  }\n  \n  function throwTypeError(type) {\n    throw new Error('A ' + type + ' type is already registered');\n  }\n  \n  function verifyAndSetupAndAction(node, action) {\n    var\n      fn,\n      i = getTypeIndex(node)\n    ;\n    if (-1 < i) {\n      patchIfNotAlready(node, protos[i]);\n      i = 0;\n      if (action === ATTACHED && !node[ATTACHED]) {\n        node[DETACHED] = false;\n        node[ATTACHED] = true;\n        i = 1;\n        if (IE8 && indexOf.call(targets, node) < 0) {\n          targets.push(node);\n        }\n      } else if (action === DETACHED && !node[DETACHED]) {\n        node[ATTACHED] = false;\n        node[DETACHED] = true;\n        i = 1;\n      }\n      if (i && (fn = node[action + CALLBACK])) fn.call(node);\n    }\n  }\n  \n  \n  \n  // V1 in da House!\n  function CustomElementRegistry() {}\n  \n  CustomElementRegistry.prototype = {\n    constructor: CustomElementRegistry,\n    // a workaround for the stubborn WebKit\n    define: usableCustomElements ?\n      function (name, Class, options) {\n        if (options) {\n          CERDefine(name, Class, options);\n        } else {\n          var NAME = name.toUpperCase();\n          constructors[NAME] = {\n            constructor: Class,\n            create: [NAME]\n          };\n          nodeNames.set(Class, NAME);\n          customElements.define(name, Class);\n        }\n      } :\n      CERDefine,\n    get: usableCustomElements ?\n      function (name) {\n        return customElements.get(name) || get(name);\n      } :\n      get,\n    whenDefined: usableCustomElements ?\n      function (name) {\n        return Promise.race([\n          customElements.whenDefined(name),\n          whenDefined(name)\n        ]);\n      } :\n      whenDefined\n  };\n  \n  function CERDefine(name, Class, options) {\n    var\n      is = options && options[EXTENDS] || '',\n      CProto = Class.prototype,\n      proto = create(CProto),\n      attributes = Class.observedAttributes || empty,\n      definition = {prototype: proto}\n    ;\n    // TODO: is this needed at all since it's inherited?\n    // defineProperty(proto, 'constructor', {value: Class});\n    safeProperty(proto, CREATED_CALLBACK, {\n        value: function () {\n          if (justCreated) justCreated = false;\n          else if (!this[DRECEV1]) {\n            this[DRECEV1] = true;\n            new Class(this);\n            if (CProto[CREATED_CALLBACK])\n              CProto[CREATED_CALLBACK].call(this);\n            var info = constructors[nodeNames.get(Class)];\n            if (!usableCustomElements || info.create.length > 1) {\n              notifyAttributes(this);\n            }\n          }\n      }\n    });\n    safeProperty(proto, ATTRIBUTE_CHANGED_CALLBACK, {\n      value: function (name) {\n        if (-1 < indexOf.call(attributes, name))\n          CProto[ATTRIBUTE_CHANGED_CALLBACK].apply(this, arguments);\n      }\n    });\n    if (CProto[CONNECTED_CALLBACK]) {\n      safeProperty(proto, ATTACHED_CALLBACK, {\n        value: CProto[CONNECTED_CALLBACK]\n      });\n    }\n    if (CProto[DISCONNECTED_CALLBACK]) {\n      safeProperty(proto, DETACHED_CALLBACK, {\n        value: CProto[DISCONNECTED_CALLBACK]\n      });\n    }\n    if (is) definition[EXTENDS] = is;\n    name = name.toUpperCase();\n    constructors[name] = {\n      constructor: Class,\n      create: is ? [is, secondArgument(name)] : [name]\n    };\n    nodeNames.set(Class, name);\n    document[REGISTER_ELEMENT](name.toLowerCase(), definition);\n    whenDefined(name);\n    waitingList[name].r();\n  }\n  \n  function get(name) {\n    var info = constructors[name.toUpperCase()];\n    return info && info.constructor;\n  }\n  \n  function getIs(options) {\n    return typeof options === 'string' ?\n        options : (options && options.is || '');\n  }\n  \n  function notifyAttributes(self) {\n    var\n      callback = self[ATTRIBUTE_CHANGED_CALLBACK],\n      attributes = callback ? self.attributes : empty,\n      i = attributes.length,\n      attribute\n    ;\n    while (i--) {\n      attribute =  attributes[i]; // || attributes.item(i);\n      callback.call(\n        self,\n        attribute.name || attribute.nodeName,\n        null,\n        attribute.value || attribute.nodeValue\n      );\n    }\n  }\n  \n  function whenDefined(name) {\n    name = name.toUpperCase();\n    if (!(name in waitingList)) {\n      waitingList[name] = {};\n      waitingList[name].p = new Promise(function (resolve) {\n        waitingList[name].r = resolve;\n      });\n    }\n    return waitingList[name].p;\n  }\n  \n  function polyfillV1() {\n    if (customElements) delete window.customElements;\n    defineProperty(window, 'customElements', {\n      configurable: true,\n      value: new CustomElementRegistry()\n    });\n    defineProperty(window, 'CustomElementRegistry', {\n      configurable: true,\n      value: CustomElementRegistry\n    });\n    for (var\n      patchClass = function (name) {\n        var Class = window[name];\n        if (Class) {\n          window[name] = function CustomElementsV1(self) {\n            var info, isNative;\n            if (!self) self = this;\n            if (!self[DRECEV1]) {\n              justCreated = true;\n              info = constructors[nodeNames.get(self.constructor)];\n              isNative = usableCustomElements && info.create.length === 1;\n              self = isNative ?\n                Reflect.construct(Class, empty, info.constructor) :\n                document.createElement.apply(document, info.create);\n              self[DRECEV1] = true;\n              justCreated = false;\n              if (!isNative) notifyAttributes(self);\n            }\n            return self;\n          };\n          window[name].prototype = Class.prototype;\n          try {\n            Class.prototype.constructor = window[name];\n          } catch(WebKit) {\n            fixGetClass = true;\n            defineProperty(Class, DRECEV1, {value: window[name]});\n          }\n        }\n      },\n      Classes = htmlClass.get(/^HTML[A-Z]*[a-z]/),\n      i = Classes.length;\n      i--;\n      patchClass(Classes[i])\n    ) {}\n    (document.createElement = function (name, options) {\n      var is = getIs(options);\n      return is ?\n        patchedCreateElement.call(this, name, secondArgument(is)) :\n        patchedCreateElement.call(this, name);\n    });\n    if (!V0) {\n      justSetup = true;\n      document[REGISTER_ELEMENT]('');\n    }\n  }\n  \n  // if customElements is not there at all\n  if (!customElements || polyfill === 'force') polyfillV1();\n  else {\n    // if available test extends work as expected\n    try {\n      (function (DRE, options, name) {\n        options[EXTENDS] = 'a';\n        DRE.prototype = create(HTMLAnchorElement.prototype);\n        DRE.prototype.constructor = DRE;\n        window.customElements.define(name, DRE, options);\n        if (\n          getAttribute.call(document.createElement('a', {is: name}), 'is') !== name ||\n          (usableCustomElements && getAttribute.call(new DRE(), 'is') !== name)\n        ) {\n          throw options;\n        }\n      }(\n        function DRE() {\n          return Reflect.construct(HTMLAnchorElement, [], DRE);\n        },\n        {},\n        'document-register-element-a'\n      ));\n    } catch(o_O) {\n      // or force the polyfill if not\n      // and keep internal original reference\n      polyfillV1();\n    }\n  }\n  \n  try {\n    createElement.call(document, 'a', 'a');\n  } catch(FireFox) {\n    secondArgument = function (is) {\n      return {is: is.toLowerCase()};\n    };\n  }\n  \n}\n\nexports.installCustomElements = installCustomElements;\n\n","'use strict';\n\n/**\n * Constructs a ES6/Promises A+ Promise instance.\n *\n * @constructor\n * @param {function(function(*=), function (*=))} resolver\n */\nfunction Promise(resolver) {\n  if (!(this instanceof Promise)) {\n    throw new TypeError('Constructor Promise requires `new`');\n  }\n  if (!isFunction(resolver)) {\n    throw new TypeError('Must pass resolver function');\n  }\n\n  /**\n   * @type {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise}\n   * @private\n   */\n  this._state = PendingPromise;\n\n  /**\n   * @type {*}\n   * @private\n   */\n  this._value = [];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this._isChainEnd = true;\n\n  doResolve(\n    this,\n    adopter(this, FulfilledPromise),\n    adopter(this, RejectedPromise),\n    { then: resolver }\n  );\n}\n\n/****************************\n  Public Instance Methods\n ****************************/\n\n/**\n * Creates a new promise instance that will receive the result of this promise\n * as inputs to the onFulfilled or onRejected callbacks.\n *\n * @param {function(*)} onFulfilled\n * @param {function(*)} onRejected\n */\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  onFulfilled = isFunction(onFulfilled) ? onFulfilled : void 0;\n  onRejected = isFunction(onRejected) ? onRejected : void 0;\n\n  if (onFulfilled || onRejected) {\n    this._isChainEnd = false;\n  }\n\n  return this._state(\n    this._value,\n    onFulfilled,\n    onRejected\n  );\n};\n\n/**\n * Creates a new promise that will handle the rejected state of this promise.\n *\n * @param {function(*)} onRejected\n * @returns {!Promise}\n */\nPromise.prototype.catch = function(onRejected) {\n  return this.then(void 0, onRejected);\n};\n\n/****************************\n  Public Static Methods\n ****************************/\n\n/**\n * Creates a fulfilled Promise of value. If value is itself a then-able,\n * resolves with the then-able's value.\n *\n * @this {!Promise}\n * @param {*=} value\n * @returns {!Promise}\n */\nPromise.resolve = function(value) {\n  var Constructor = this;\n  var promise;\n\n  if (isObject(value) && value instanceof this) {\n    promise = value;\n  } else {\n    promise = new Constructor(function(resolve) {\n      resolve(value);\n    });\n  }\n\n  return /** @type {!Promise} */(promise);\n};\n\n/**\n * Creates a rejected Promise of reason.\n *\n * @this {!Promise}\n * @param {*=} reason\n * @returns {!Promise}\n */\nPromise.reject = function(reason) {\n  var Constructor = this;\n  var promise = new Constructor(function(_, reject) {\n    reject(reason);\n  });\n\n  return /** @type {!Promise} */(promise);\n};\n\n/**\n * Creates a Promise that will resolve with an array of the values of the\n * passed in promises. If any promise rejects, the returned promise will\n * reject.\n *\n * @this {!Promise}\n * @param {!Array<Promise|*>} promises\n * @returns {!Promise}\n */\nPromise.all = function(promises) {\n  var Constructor = this;\n  var promise = new Constructor(function(resolve, reject) {\n    var length = promises.length;\n    var values = new Array(length);\n\n    if (length === 0) {\n      return resolve(values);\n    }\n\n    each(promises, function(promise, index) {\n      Constructor.resolve(promise).then(function(value) {\n        values[index] = value;\n        if (--length === 0) {\n          resolve(values);\n        }\n      }, reject);\n    });\n  });\n\n  return /** @type {!Promise} */(promise);\n};\n\n/**\n * Creates a Promise that will resolve or reject based on the first\n * resolved or rejected promise.\n *\n * @this {!Promise}\n * @param {!Array<Promise|*>} promises\n * @returns {!Promise}\n */\nPromise.race = function(promises) {\n  var Constructor = this;\n  var promise = new Constructor(function(resolve, reject) {\n    for (var i = 0; i < promises.length; i++) {\n      Constructor.resolve(promises[i]).then(resolve, reject);\n    }\n  });\n\n  return /** @type {!Promise} */(promise);\n};\n\nvar onPossiblyUnhandledRejection = function(reason, promise) {\n  throw reason;\n};\n\n/**\n * An internal use static function.\n */\nPromise._overrideUnhandledExceptionHandler = function(handler) {\n  onPossiblyUnhandledRejection = handler;\n};\n\n/****************************\n  Private functions\n ****************************/\n\n/**\n * The Fulfilled Promise state. Calls onFulfilled with the resolved value of\n * this promise, creating a new promise.\n *\n * If there is no onFulfilled, returns the current promise to avoid an promise\n * instance.\n *\n * @this {!Promise} The current promise\n * @param {*=} value The current promise's resolved value.\n * @param {function(*=)=} onFulfilled\n * @param {function(*=)=} unused\n * @param {Deferred} deferred A deferred object that holds a promise and its\n *     resolve and reject functions. It IS NOT passed when called from\n *     Promise#then to save an object instance (since we may return the current\n *     promise). It IS passed in when adopting the Fulfilled state from the\n *     Pending state.\n * @returns {!Promise}\n */\nfunction FulfilledPromise(value, onFulfilled, unused, deferred) {\n  if (!onFulfilled) {\n    deferredAdopt(deferred, FulfilledPromise, value);\n    return this;\n  }\n  if (!deferred) {\n    deferred = new Deferred(this.constructor);\n  }\n  defer(tryCatchDeferred(deferred, onFulfilled, value));\n  return deferred.promise;\n}\n\n/**\n * The Rejected Promise state. Calls onRejected with the resolved value of\n * this promise, creating a new promise.\n *\n * If there is no onRejected, returns the current promise to avoid an promise\n * instance.\n *\n * @this {!Promise} The current promise\n * @param {*=} reason The current promise's rejection reason.\n * @param {function(*=)=} unused\n * @param {function(*=)=} onRejected\n * @param {Deferred} deferred A deferred object that holds a promise and its\n *     resolve and reject functions. It IS NOT passed when called from\n *     Promise#then to save an object instance (since we may return the current\n *     promise). It IS passed in when adopting the Rejected state from the\n *     Pending state.\n * @returns {!Promise}\n */\nfunction RejectedPromise(reason, unused, onRejected, deferred) {\n  if (!onRejected) {\n    deferredAdopt(deferred, RejectedPromise, reason);\n    return this;\n  }\n  if (!deferred) {\n    deferred = new Deferred(this.constructor);\n  }\n  defer(tryCatchDeferred(deferred, onRejected, reason));\n  return deferred.promise;\n}\n\n/**\n * The Pending Promise state. Eventually calls onFulfilled once the promise has\n * resolved, or onRejected once the promise rejects.\n *\n * If there is no onFulfilled and no onRejected, returns the current promise to\n * avoid an promise instance.\n *\n * @this {!Promise} The current promise\n * @param {*=} queue The current promise's pending promises queue.\n * @param {function(*=)=} onFulfilled\n * @param {function(*=)=} onRejected\n * @param {Deferred} deferred A deferred object that holds a promise and its\n *     resolve and reject functions. It IS NOT passed when called from\n *     Promise#then to save an object instance (since we may return the current\n *     promise). It IS passed in when adopting the Pending state from the\n *     Pending state of another promise.\n * @returns {!Promise}\n */\nfunction PendingPromise(queue, onFulfilled, onRejected, deferred) {\n  if (!deferred) {\n    if (!onFulfilled && !onRejected) { return this; }\n    deferred = new Deferred(this.constructor);\n  }\n  queue.push({\n    deferred: deferred,\n    onFulfilled: onFulfilled || deferred.resolve,\n    onRejected: onRejected || deferred.reject\n  });\n  return deferred.promise;\n}\n\n/**\n * Constructs a deferred instance that holds a promise and its resolve and\n * reject functions.\n *\n * @constructor\n */\nfunction Deferred(Promise) {\n  var deferred = this;\n  /** @type {!Promise} */\n  this.promise = new Promise(function(resolve, reject) {\n    /** @type {function(*=)} */\n    deferred.resolve = resolve;\n\n    /** @type {function(*=)} */\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n\n/**\n * Transitions the state of promise to another state. This is only ever called\n * on with a promise that is currently in the Pending state.\n *\n * @param {!Promise} promise\n * @param {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise} state\n * @param {*=} value\n */\nfunction adopt(promise, state, value, adoptee) {\n  var queue = promise._value;\n  promise._state = state;\n  promise._value = value;\n\n  if (adoptee && state === PendingPromise) {\n    adoptee._state(value, void 0, void 0, {\n      promise: promise,\n      resolve: void 0,\n      reject: void 0\n    });\n  }\n\n  for (var i = 0; i < queue.length; i++) {\n    var next = queue[i];\n    promise._state(\n      value,\n      next.onFulfilled,\n      next.onRejected,\n      next.deferred\n    );\n  }\n  queue.length = 0;\n\n  // Determine if this rejected promise will be \"handled\".\n  if (state === RejectedPromise && promise._isChainEnd) {\n    setTimeout(function() {\n      if (promise._isChainEnd) {\n        onPossiblyUnhandledRejection(value, promise);\n      }\n    }, 0);\n  }\n}\n\n/**\n * A partial application of adopt.\n *\n * @param {!Promise} promise\n * @param {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise} state\n * @returns {function(*=)}\n */\nfunction adopter(promise, state) {\n  return function(value) {\n    adopt(promise, state, value);\n  };\n}\n\n/**\n * Updates a deferred promises state. Necessary for updating an adopting\n * promise's state when the adoptee resolves.\n *\n * @param {?Deferred} deferred\n * @param {function(this:Promise,*=,function(*=),function(*=),Deferred):!Promise} state\n * @param {*=} value\n */\nfunction deferredAdopt(deferred, state, value) {\n  if (deferred) {\n    var promise = deferred.promise;\n    promise._state = state;\n    promise._value = value;\n  }\n}\n\n/**\n * A no-op function to prevent double resolving.\n */\nfunction noop() {}\n\n/**\n * Tests if fn is a Function\n *\n * @param {*} fn\n * @returns {boolean}\n */\nfunction isFunction(fn) {\n  return typeof fn === 'function';\n}\n\n/**\n * Tests if fn is an Object\n *\n * @param {*} obj\n * @returns {boolean}\n */\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Iterates over each element of an array, calling the iterator with the\n * element and its index.\n *\n * @param {!Array} collection\n * @param {function(*=,number)} iterator\n */\nfunction each(collection, iterator) {\n  for (var i = 0; i < collection.length; i++) {\n    iterator(collection[i], i);\n  }\n}\n\n/**\n * Creates a function that will attempt to resolve the deferred with the return\n * of fn. If any error is raised, rejects instead.\n *\n * @param {!Deferred} deferred\n * @param {function(*=)} fn\n * @param {*} arg\n * @returns {function()}\n */\nfunction tryCatchDeferred(deferred, fn, arg) {\n  var promise = deferred.promise;\n  var resolve = deferred.resolve;\n  var reject = deferred.reject;\n  return function() {\n    try {\n      var result = fn(arg);\n      doResolve(promise, resolve, reject, result, result);\n    } catch (e) {\n      reject(e);\n    }\n  };\n}\n\n/**\n * Queues and executes multiple deferred functions on another run loop.\n */\nvar defer = (function() {\n  /**\n   * Defers fn to another run loop.\n   */\n  var scheduleFlush;\n  if (typeof window !== 'undefined' && window.postMessage) {\n    window.addEventListener('message', flush);\n    scheduleFlush = function() {\n      window.postMessage('macro-task', '*');\n    };\n  } else {\n    scheduleFlush = function() {\n      setTimeout(flush, 0);\n    };\n  }\n\n  var queue = new Array(16);\n  var length = 0;\n\n  function flush() {\n    for (var i = 0; i < length; i++) {\n      var fn = queue[i];\n      queue[i] = null;\n      fn();\n    }\n    length = 0;\n  }\n\n  /**\n   * @param {function()} fn\n   */\n  function defer(fn) {\n    if (length === 0) { scheduleFlush(); }\n    queue[length++] = fn;\n  }\n\n  return defer;\n})();\n\n/**\n * The Promise resolution procedure.\n * https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n *\n * @param {!Promise} promise\n * @param {function(*=)} resolve\n * @param {function(*=)} reject\n * @param {*} value\n * @param {*=} context\n */\nfunction doResolve(promise, resolve, reject, value, context) {\n  var _reject = reject;\n  var then;\n  var _resolve;\n  try {\n    if (value === promise) {\n      throw new TypeError('Cannot fulfill promise with itself');\n    }\n    var isObj = isObject(value);\n    if (isObj && value instanceof promise.constructor) {\n      adopt(promise, value._state, value._value, value);\n    } else if (isObj && (then = value.then) && isFunction(then)) {\n      _resolve = function(value) {\n        _resolve = _reject = noop;\n        doResolve(promise, resolve, reject, value, value);\n      };\n      _reject = function(reason) {\n        _resolve = _reject = noop;\n        reject(reason);\n      };\n      then.call(\n        context,\n        function(value) { _resolve(value); },\n        function(reason) { _reject(reason); }\n      );\n    } else {\n      resolve(value);\n    }\n  } catch (e) {\n    _reject(e);\n  }\n}\n\nmodule.exports = Promise;\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Key string in an action arguments map for an unparsed object literal string.\n *\n * E.g. for the action in <p on=\"tap:AMP.setState({foo: 'bar'})\",\n * then `args[RAW_OBJECT_ARGS_KEY]` is the string \"{foo: 'bar'}\".\n *\n * The action service delegates parsing of object literals to the corresponding\n * extension (in the example above, amp-bind).\n *\n * @see ./service/action-impl.ActionInfoDef\n * @const {string}\n */\nexport const RAW_OBJECT_ARGS_KEY = '__AMP_OBJECT_STRING__';\n\n/**\n * Trust level of an action.\n *\n * Corresponds to degree of user intent, i.e. events triggered with strong\n * user intent have high trust.\n *\n * @enum {number}\n */\nexport const ActionTrust = {\n  LOW: 1,\n  HIGH: 100,\n};\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Common AMP events.\n * @enum {string}\n */\nexport const AmpEvents = {\n  BUILT: 'amp:built',\n  DOM_UPDATE: 'amp:dom-update',\n  VISIBILITY_CHANGE: 'amp:visibilitychange', // https://github.com/ampproject/amphtml/blob/master/ads/README.md#page-visibility\n  // The following codes are only used for testing.\n  // TODO(choumx): Move these to a separate enum so they can be DCE'd.\n  ATTACHED: 'amp:attached',\n  STUBBED: 'amp:stubbed',\n  LOAD_START: 'amp:load:start',\n  LOAD_END: 'amp:load:end',\n  ERROR: 'amp:error',\n};\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\n\n/**\n * Helper method to trigger analytics event if amp-analytics is available.\n * TODO: Do not expose this function\n * @param {!Element} target\n * @param {string} eventType\n * @param {!Object<string, string>=} opt_vars A map of vars and their values.\n */\nexport function triggerAnalyticsEvent(target, eventType, opt_vars) {\n  Services.analyticsForDocOrNull(target).then(analytics => {\n    if (!analytics) {\n      return;\n    }\n    analytics.triggerEventForTarget(target, eventType, opt_vars);\n  });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {removeElement} from './dom';\nimport {setStyles} from './style';\n\n\n/**\n * @param {!Window} win\n * @param {string} text\n * @return {boolean}\n */\nexport function copyTextToClipboard(win, text) {\n  let copySuccessful = false;\n  const doc = win.document;\n\n  const textarea = doc.createElement('textarea');\n\n  setStyles(textarea, {\n    'position': 'fixed',\n    'top': 0,\n    'left': 0,\n    'width': '50px',\n    'height': '50px',\n    'padding': 0,\n    'border': 'none',\n    'outline': 'none',\n    'background': 'transparent',\n  });\n\n  textarea.value = text;\n  textarea.readOnly = true;\n  textarea.contentEditable = true;\n\n  doc.body.appendChild(textarea);\n  const range = doc.createRange();\n  range.selectNode(textarea);\n  win.getSelection().removeAllRanges();\n  win.getSelection().addRange(range);\n  textarea.setSelectionRange(0, text.length);\n\n  try {\n    copySuccessful = doc.execCommand('copy');\n  } catch (e) {\n    // \n  }\n\n  removeElement(textarea);\n\n  return copySuccessful;\n}\n\n\n/**\n * @param {!Document} doc\n * @return {boolean}\n */\nexport function isCopyingToClipboardSupported(doc) {\n  return doc.queryCommandSupported('copy');\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Commonly used signals across different elements and documents.\n * @enum {string}\n */\nexport const CommonSignals = {\n\n  /**\n   * The element has been built.\n   */\n  BUILT: 'built',\n\n  /**\n   * The initial contents of an element/document/embed have been loaded.\n   */\n  INI_LOAD: 'ini-load',\n\n  /**\n   * The element has been loaded.\n   */\n  LOAD_END: 'load-end',\n\n  /**\n   * The element has started loading.\n   */\n  LOAD_START: 'load-start',\n\n  /**\n   * Rendering has been confirmed to have been started.\n   */\n  RENDER_START: 'render-start',\n\n  /**\n   * The element has been unlaid out.\n   */\n  UNLOAD: 'unload',\n};\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Allows for runtime configuration. Internally, the runtime should\n * use the src/config.js module for various constants. We can use the\n * AMP_CONFIG global to translate user-defined configurations to this\n * module.\n * @type {!Object<string, string>}\n */\nconst env = self.AMP_CONFIG || {};\n\nconst thirdPartyFrameRegex = typeof env['thirdPartyFrameRegex'] == 'string' ?\n  new RegExp(env['thirdPartyFrameRegex']) : env['thirdPartyFrameRegex'];\n\nconst cdnProxyRegex = typeof env['cdnProxyRegex'] == 'string' ?\n  new RegExp(env['cdnProxyRegex']) : env['cdnProxyRegex'];\n\n/** @type {!Object<string, string|boolean|RegExp>} */\nexport const urls = {\n  thirdParty: env['thirdPartyUrl'] || 'https://3p.ampproject.net',\n  thirdPartyFrameHost: env['thirdPartyFrameHost'] || 'ampproject.net',\n  thirdPartyFrameRegex: thirdPartyFrameRegex || /^d-\\d+\\.ampproject\\.net$/,\n  cdn: env['cdnUrl'] || 'https://cdn.ampproject.org',\n  /* Note that cdnProxyRegex is only ever checked against origins\n   * (proto://host[:port]) so does not need to consider path\n   */\n  cdnProxyRegex: cdnProxyRegex ||\n      /^https:\\/\\/([a-zA-Z0-9_-]+\\.)?cdn\\.ampproject\\.org$/,\n  localhostRegex: /^https?:\\/\\/localhost(:\\d+)?$/,\n  errorReporting: env['errorReportingUrl'] ||\n      'https://amp-error-reporting.appspot.com/r',\n  localDev: env['localDev'] || false,\n};\n\nexport const config = {\n  urls,\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This file will be imported by 3P scripts.\n\n/**\n * Possible consent policy state to proceed with.\n * @enum {number}\n */\nexport const CONSENT_POLICY_STATE = {\n  // Enum value has external dependency. Please do not change existing value.\n  // If new values are added, please notify the AMP for Ads team to assure\n  // correct Real Time Config behavior is maintained for Fast Fetch.\n  SUFFICIENT: 1,\n  INSUFFICIENT: 2,\n  UNKNOWN_NOT_REQUIRED: 3,\n  UNKNOWN: 4,\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  CONSENT_POLICY_STATE, // eslint-disable-line no-unused-vars\n} from './consent-state';\nimport {Services} from './services';\n\n/**\n * Returns a promise that resolve when all consent state the policy wait\n * for resolve. Or if consent service is not available.\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc\n * @param {string} policyId\n * @return {!Promise<?CONSENT_POLICY_STATE>}\n */\nexport function getConsentPolicyState(ampdoc, policyId) {\n  return Services.consentPolicyServiceForDocOrNull(ampdoc)\n      .then(consentPolicy => {\n        if (!consentPolicy) {\n          return null;\n        }\n        return consentPolicy.whenPolicyResolved(\n            /** @type {string} */ (policyId));\n      });\n}\n\n/**\n * Returns a promise that resolves to a sharedData retrieved from consent\n * remote endpoint.\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc\n * @param {string} policyId\n * @return {!Promise<?Object>}\n */\nexport function getConsentPolicySharedData(ampdoc, policyId) {\n  return Services.consentPolicyServiceForDocOrNull(ampdoc)\n      .then(consentPolicy => {\n        if (!consentPolicy) {\n          return null;\n        }\n        return consentPolicy.getMergedSharedData(\n            /** @type {string} */ (policyId));\n      });\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {endsWith} from './string';\nimport {\n  isProxyOrigin,\n  parseUrlDeprecated,\n  tryDecodeUriComponent,\n} from './url';\nimport {urls} from './config';\n\n\n/**\n * Returns the value of the cookie. The cookie access is restricted and must\n * go through the privacy review. Before using this method please file a\n * GitHub issue with \"Privacy Review\" label.\n *\n * Returns the cookie's value or `null`.\n *\n * @param {!Window} win\n * @param {string} name\n * @return {?string}\n */\nexport function getCookie(win, name) {\n  const cookieString = tryGetDocumentCookieNoInline(win);\n  if (!cookieString) {\n    return null;\n  }\n  const cookies = cookieString.split(';');\n  for (let i = 0; i < cookies.length; i++) {\n    const cookie = cookies[i].trim();\n    const eq = cookie.indexOf('=');\n    if (eq == -1) {\n      continue;\n    }\n    if (tryDecodeUriComponent(cookie.substring(0, eq).trim()) == name) {\n      const value = cookie.substring(eq + 1).trim();\n      return tryDecodeUriComponent(value, value);\n    }\n  }\n  return null;\n}\n\n/**\n * This method should not be inlined to prevent TryCatch deoptimization.\n * NoInline keyword at the end of function name also prevents Closure compiler\n * from inlining the function.\n * @param {!Window} win\n * @return {string}\n */\nfunction tryGetDocumentCookieNoInline(win) {\n  try {\n    return win.document.cookie;\n  } catch (e) {\n    // Act as if no cookie is available. Exceptions can be thrown when\n    // AMP docs are opened on origins that do not allow setting\n    // cookies such as null origins.\n    return '';\n  }\n}\n\n/**\n * Sets the value of the cookie. The cookie access is restricted and must\n * go through the privacy review. Before using this method please file a\n * GitHub issue with \"Privacy Review\" label.\n *\n * @param {!Window} win\n * @param {string} name\n * @param {string} value\n * @param {time} expirationTime\n * @param {{\n *   highestAvailableDomain:(boolean|undefined),\n *   domain:(string|undefined)\n * }=} opt_options\n *     - highestAvailableDomain: If true, set the cookie at the widest domain\n *       scope allowed by the browser. E.g. on example.com if we are currently\n *       on www.example.com.\n *     - domain: Explicit domain to set.\n *     - allowOnProxyOrigin: Allow setting a cookie on the AMP Cache.\n */\nexport function setCookie(win, name, value, expirationTime, opt_options) {\n  checkOriginForSettingCookie(win, opt_options, name);\n  if (opt_options && opt_options.highestAvailableDomain) {\n    const parts = win.location.hostname.split('.');\n    let domain = parts[parts.length - 1];\n    for (let i = parts.length - 2; i >= 0; i--) {\n      domain = parts[i] + '.' + domain;\n      trySetCookie(win, name, value, expirationTime, domain);\n      if (getCookie(win, name) == value) {\n        return;\n      }\n    }\n  }\n  let domain = undefined;\n  if (opt_options && opt_options.domain) {\n    domain = opt_options.domain;\n  }\n  trySetCookie(win, name, value, expirationTime, domain);\n}\n\n/**\n * Attempt to set a cookie with the given params.\n *\n * @param {!Window} win\n * @param {string} name\n * @param {string} value\n * @param {time} expirationTime\n * @param {string|undefined} domain\n */\nfunction trySetCookie(win, name, value, expirationTime, domain) {\n  // We do not allow setting cookies on the domain that contains both\n  // the cdn. and www. hosts.\n  if (domain == 'ampproject.org') {\n    // Actively delete them.\n    value = 'delete';\n    expirationTime = 0;\n  }\n  const cookie = encodeURIComponent(name) + '=' +\n      encodeURIComponent(value) +\n      '; path=/' +\n      (domain ? '; domain=' + domain : '') +\n      '; expires=' + new Date(expirationTime).toUTCString();\n  try {\n    win.document.cookie = cookie;\n  } catch (ignore) {\n    // Do not throw if setting the cookie failed Exceptions can be thrown\n    // when AMP docs are opened on origins that do not allow setting\n    // cookies such as null origins.\n  }\n}\n\n/**\n * Throws if a given cookie should not be set on the given origin.\n * This is a defense-in-depth. Callers should never run into this.\n *\n * @param {!Window} win\n * @param {!Object|undefined} options\n * @param {string} name For the error message.\n */\nfunction checkOriginForSettingCookie(win, options, name) {\n  if (options && options.allowOnProxyOrigin) {\n    return;\n  }\n  if (isProxyOrigin(win.location.href)) {\n    throw new Error('Should never attempt to set cookie on proxy origin: '\n        + name);\n  }\n\n  const current = parseUrlDeprecated(win.location.href).hostname.toLowerCase();\n  const proxy = parseUrlDeprecated(urls.cdn).hostname.toLowerCase();\n  if (current == proxy || endsWith(current, '.' + proxy)) {\n    throw new Error('Should never attempt to set cookie on proxy origin.'\n        + ' (in depth check): ' + name);\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Whether the document is ready.\n * @param {!Document} doc\n * @return {boolean}\n */\nexport function isDocumentReady(doc) {\n  return doc.readyState != 'loading' && doc.readyState != 'uninitialized';\n}\n\n/**\n * Whether the document has loaded all the css and sub-resources.\n * @param {!Document} doc\n * @return {boolean}\n */\nfunction isDocumentComplete(doc) {\n  return doc.readyState == 'complete';\n}\n\n/**\n * Calls the callback when document is ready.\n * @param {!Document} doc\n * @param {function(!Document)} callback\n */\nexport function onDocumentReady(doc, callback) {\n  onDocumentState(doc, isDocumentReady, callback);\n}\n\n/**\n * Calls the callback when document's state satisfies the stateFn.\n * @param {!Document} doc\n * @param {function(!Document):boolean} stateFn\n * @param {function(!Document)} callback\n */\nfunction onDocumentState(doc, stateFn, callback) {\n  let ready = stateFn(doc);\n  if (ready) {\n    callback(doc);\n  } else {\n    const readyListener = () => {\n      if (stateFn(doc)) {\n        if (!ready) {\n          ready = true;\n          callback(doc);\n        }\n        doc.removeEventListener('readystatechange', readyListener);\n      }\n    };\n    doc.addEventListener('readystatechange', readyListener);\n  }\n}\n\n/**\n * Returns a promise that is resolved when document is ready.\n * @param {!Document} doc\n * @return {!Promise<!Document>}\n */\nexport function whenDocumentReady(doc) {\n  return new Promise(resolve => {\n    onDocumentReady(doc, resolve);\n  });\n}\n\n/**\n * Returns a promise that is resolved when document is complete.\n * @param {!Document} doc\n * @return {!Promise<!Document>}\n */\nexport function whenDocumentComplete(doc) {\n  return new Promise(resolve => {\n    onDocumentState(doc, isDocumentComplete, resolve);\n  });\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from './utils/promise';\nimport {cssEscape} from '../third_party/css-escape/css-escape';\nimport {dev} from './log';\nimport {dict} from './utils/object';\nimport {startsWith} from './string';\nimport {toWin} from './types';\n\nconst HTML_ESCAPE_CHARS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n};\nconst HTML_ESCAPE_REGEX = /(&|<|>|\"|'|`)/g;\n\n/** @const {string} */\nexport const UPGRADE_TO_CUSTOMELEMENT_PROMISE =\n    '__AMP_UPG_PRM';\n\n/** @const {string} */\nexport const UPGRADE_TO_CUSTOMELEMENT_RESOLVER =\n    '__AMP_UPG_RES';\n\n/**\n * Waits until the child element is constructed. Once the child is found, the\n * callback is executed.\n * @param {!Element} parent\n * @param {function(!Element):boolean} checkFunc\n * @param {function()} callback\n */\nexport function waitForChild(parent, checkFunc, callback) {\n  if (checkFunc(parent)) {\n    callback();\n    return;\n  }\n  /** @const {!Window} */\n  const win = toWin(parent.ownerDocument.defaultView);\n  if (win.MutationObserver) {\n    /** @const {MutationObserver} */\n    const observer = new win.MutationObserver(() => {\n      if (checkFunc(parent)) {\n        observer.disconnect();\n        callback();\n      }\n    });\n    observer.observe(parent, {childList: true});\n  } else {\n    /** @const {number} */\n    const interval = win.setInterval(() => {\n      if (checkFunc(parent)) {\n        win.clearInterval(interval);\n        callback();\n      }\n    }, /* milliseconds */ 5);\n  }\n}\n\n/**\n * Waits until the child element is constructed. Once the child is found, the\n * promise is resolved.\n * @param {!Element} parent\n * @param {function(!Element):boolean} checkFunc\n * @return {!Promise}\n */\nexport function waitForChildPromise(parent, checkFunc) {\n  return new Promise(resolve => {\n    waitForChild(parent, checkFunc, resolve);\n  });\n}\n\n/**\n * Waits for document's body to be available.\n * Will be deprecated soon; use {@link AmpDoc#whenBodyAvailable} or\n * @{link DocumentState#onBodyAvailable} instead.\n * @param {!Document} doc\n * @param {function()} callback\n */\nexport function waitForBody(doc, callback) {\n  waitForChild(doc.documentElement, () => !!doc.body, callback);\n}\n\n\n/**\n * Waits for document's body to be available.\n * @param {!Document} doc\n * @return {!Promise}\n */\nexport function waitForBodyPromise(doc) {\n  return new Promise(resolve => {\n    waitForBody(doc, resolve);\n  });\n}\n\n\n/**\n * Removes the element.\n * @param {!Element} element\n */\nexport function removeElement(element) {\n  if (element.parentElement) {\n    element.parentElement.removeChild(element);\n  }\n}\n\n\n/**\n * Removes all child nodes of the specified element.\n * @param {!Element} parent\n */\nexport function removeChildren(parent) {\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n}\n\n\n/**\n * Copies all children nodes of element \"from\" to element \"to\". Child nodes\n * are deeply cloned. Notice, that this method should be used with care and\n * preferably on smaller subtrees.\n * @param {!Element} from\n * @param {!Element|!DocumentFragment} to\n */\nexport function copyChildren(from, to) {\n  const frag = to.ownerDocument.createDocumentFragment();\n  for (let n = from.firstChild; n; n = n.nextSibling) {\n    frag.appendChild(n.cloneNode(true));\n  }\n  to.appendChild(frag);\n}\n\n/**\n * Insert the element in the root after the element named after or\n * if that is null at the beginning.\n * @param {!Element|!ShadowRoot} root\n * @param {!Element} element\n * @param {?Node} after\n */\nexport function insertAfterOrAtStart(root, element, after) {\n  const before = after ? after.nextSibling : root.firstChild;\n  root.insertBefore(element, before);\n}\n\n/**\n * Add attributes to an element.\n * @param {!Element} element\n * @param {!JsonObject<string, string>} attributes\n * @return {!Element} created element\n */\nexport function addAttributesToElement(element, attributes) {\n  for (const attr in attributes) {\n    element.setAttribute(attr, attributes[attr]);\n  }\n  return element;\n}\n\n/**\n * Create a new element on document with specified tagName and attributes.\n * @param {!Document} doc\n * @param {string} tagName\n * @param {!JsonObject<string, string>} attributes\n * @return {!Element} created element\n */\nexport function createElementWithAttributes(doc, tagName, attributes) {\n  const element = doc.createElement(tagName);\n  return addAttributesToElement(element, attributes);\n}\n\n/**\n * Returns true if node is connected (attached).\n * @param {!Node} node\n * @return {boolean}\n * @see https://dom.spec.whatwg.org/#connected\n */\nexport function isConnectedNode(node) {\n  const connected = node.isConnected;\n  if (connected !== undefined) {\n    return connected;\n  }\n\n  // \"An element is connected if its shadow-including root is a document.\"\n  let n = node;\n  do {\n    n = rootNodeFor(n);\n    if (n.host) {\n      n = n.host;\n    } else {\n      break;\n    }\n  } while (true);\n  return n.nodeType === Node.DOCUMENT_NODE;\n}\n\n/**\n * Returns the root for a given node. Does not cross shadow DOM boundary.\n * @param {!Node} node\n * @return {!Node}\n */\nexport function rootNodeFor(node) {\n  if (Node.prototype.getRootNode) {\n    // Type checker says `getRootNode` may return null.\n    return node.getRootNode() || node;\n  }\n  let n;\n  for (n = node; !!n.parentNode; n = n.parentNode) {}\n  return n;\n}\n\n/**\n * Finds the closest element that satisfies the callback from this element\n * up the DOM subtree.\n * @param {!Element} element\n * @param {function(!Element):boolean} callback\n * @param {Element=} opt_stopAt optional elemnt to stop the search at.\n * @return {?Element}\n */\nexport function closest(element, callback, opt_stopAt) {\n  for (let el = element; el && el !== opt_stopAt; el = el.parentElement) {\n    if (callback(el)) {\n      return el;\n    }\n  }\n  return null;\n}\n\n\n/**\n * Finds the closest node that satisfies the callback from this node\n * up the DOM subtree.\n * @param {!Node} node\n * @param {function(!Node):boolean} callback\n * @return {?Node}\n */\nexport function closestNode(node, callback) {\n  for (let n = node; n; n = n.parentNode) {\n    if (callback(n)) {\n      return n;\n    }\n  }\n  return null;\n}\n\n\n/**\n * Finds the closest element with the specified name from this element\n * up the DOM subtree.\n * @param {!Element} element\n * @param {string} tagName\n * @return {?Element}\n */\nexport function closestByTag(element, tagName) {\n  if (element.closest) {\n    return element.closest(tagName);\n  }\n  tagName = tagName.toUpperCase();\n  return closest(element, el => {\n    return el.tagName == tagName;\n  });\n}\n\n/**\n * Finds the closest element with the specified selector from this element\n * @param {!Element} element\n * @param {string} selector\n * @return {?Element} closest ancestor if found.\n */\nexport function closestBySelector(element, selector) {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  return closest(element, el => {\n    return matches(el, selector);\n  });\n}\n\n/**\n * Checks if the given element matches the selector\n * @param  {!Element} el The element to verify\n * @param  {string} selector The selector to check against\n * @return {boolean} True if the element matched the selector. False otherwise.\n */\nexport function matches(el, selector) {\n  const matcher = el.matches ||\n      el.webkitMatchesSelector ||\n      el.mozMatchesSelector ||\n      el.msMatchesSelector ||\n      el.oMatchesSelector;\n  if (matcher) {\n    return matcher.call(el, selector);\n  }\n  return false; // IE8 always returns false.\n}\n\n/**\n * Finds the first descendant element with the specified name.\n * @param {!Element|!Document|!ShadowRoot} element\n * @param {string} tagName\n * @return {?Element}\n */\nexport function elementByTag(element, tagName) {\n  let elements;\n  // getElementsByTagName() is not supported on ShadowRoot.\n  if (typeof element.getElementsByTagName === 'function') {\n    elements = element.getElementsByTagName(tagName);\n  } else {\n    elements = element./*OK*/querySelectorAll(tagName);\n  }\n  return (elements && elements[0]) || null;\n}\n\n\n/**\n * Finds the first child element that satisfies the callback.\n * @param {!Element} parent\n * @param {function(!Element):boolean} callback\n * @return {?Element}\n */\nexport function childElement(parent, callback) {\n  for (let child = parent.firstElementChild; child;\n    child = child.nextElementSibling) {\n    if (callback(child)) {\n      return child;\n    }\n  }\n  return null;\n}\n\n\n/**\n * Finds all child elements that satisfy the callback.\n * @param {!Element} parent\n * @param {function(!Element):boolean} callback\n * @return {!Array<!Element>}\n */\nexport function childElements(parent, callback) {\n  const children = [];\n  for (let child = parent.firstElementChild; child;\n    child = child.nextElementSibling) {\n    if (callback(child)) {\n      children.push(child);\n    }\n  }\n  return children;\n}\n\n\n/**\n * Finds the last child element that satisfies the callback.\n * @param {!Element} parent\n * @param {function(!Element):boolean} callback\n * @return {?Element}\n */\nexport function lastChildElement(parent, callback) {\n  for (let child = parent.lastElementChild; child;\n    child = child.previousElementSibling) {\n    if (callback(child)) {\n      return child;\n    }\n  }\n  return null;\n}\n\n/**\n * Finds all child nodes that satisfy the callback.\n * These nodes can include Text, Comment and other child nodes.\n * @param {!Node} parent\n * @param {function(!Node):boolean} callback\n * @return {!Array<!Node>}\n */\nexport function childNodes(parent, callback) {\n  const nodes = [];\n  for (let child = parent.firstChild; child;\n    child = child.nextSibling) {\n    if (callback(child)) {\n      nodes.push(child);\n    }\n  }\n  return nodes;\n}\n\n/**\n * @type {boolean|undefined}\n * @visibleForTesting\n */\nlet scopeSelectorSupported;\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setScopeSelectorSupportedForTesting(val) {\n  scopeSelectorSupported = val;\n}\n\n/**\n * Test that the :scope selector is supported and behaves correctly.\n * @param {!Element} parent\n * @return {boolean}\n */\nfunction isScopeSelectorSupported(parent) {\n  const doc = parent.ownerDocument;\n  try {\n    const testElement = doc.createElement('div');\n    const testChild = doc.createElement('div');\n    testElement.appendChild(testChild);\n    // NOTE(cvializ, #12383): Firefox's implementation is incomplete,\n    // therefore we test actual functionality of`:scope` as well.\n    return testElement./*OK*/querySelector(':scope div') === testChild;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Finds the first child element that has the specified attribute.\n * @param {!Element} parent\n * @param {string} attr\n * @return {?Element}\n */\nexport function childElementByAttr(parent, attr) {\n  return scopedQuerySelector/*OK*/(parent, `> [${attr}]`);\n}\n\n\n/**\n * Finds the last child element that has the specified attribute.\n * @param {!Element} parent\n * @param {string} attr\n * @return {?Element}\n */\nexport function lastChildElementByAttr(parent, attr) {\n  return lastChildElement(parent, el => {\n    return el.hasAttribute(attr);\n  });\n}\n\n\n/**\n * Finds all child elements that has the specified attribute.\n * @param {!Element} parent\n * @param {string} attr\n * @return {!NodeList<!Element>}\n */\nexport function childElementsByAttr(parent, attr) {\n  return scopedQuerySelectorAll/*OK*/(parent, `> [${attr}]`);\n}\n\n\n/**\n * Finds the first child element that has the specified tag name.\n * @param {!Element} parent\n * @param {string} tagName\n * @return {?Element}\n */\nexport function childElementByTag(parent, tagName) {\n  return scopedQuerySelector/*OK*/(parent, `> ${tagName}`);\n}\n\n\n/**\n * Finds all child elements with the specified tag name.\n * @param {!Element} parent\n * @param {string} tagName\n * @return {!NodeList<!Element>}\n */\nexport function childElementsByTag(parent, tagName) {\n  return scopedQuerySelectorAll/*OK*/(parent, `> ${tagName}`);\n}\n\n\n/**\n * Finds the first element that matches `selector`, scoped inside `root`.\n * Note: in IE, this causes a quick mutation of the element's class list.\n * @param {!Element} root\n * @param {string} selector\n * @return {?Element}\n */\nexport function scopedQuerySelector(root, selector) {\n  if (scopeSelectorSupported == null) {\n    scopeSelectorSupported = isScopeSelectorSupported(root);\n  }\n  if (scopeSelectorSupported) {\n    return root./*OK*/querySelector(`:scope ${selector}`);\n  }\n\n  // Only IE.\n  const unique = 'i-amphtml-scoped';\n  root.classList.add(unique);\n  const element = root./*OK*/querySelector(`.${unique} ${selector}`);\n  root.classList.remove(unique);\n  return element;\n}\n\n\n/**\n * Finds the every element that matches `selector`, scoped inside `root`.\n * Note: in IE, this causes a quick mutation of the element's class list.\n * @param {!Element} root\n * @param {string} selector\n * @return {!NodeList<!Element>}\n */\nexport function scopedQuerySelectorAll(root, selector) {\n  if (scopeSelectorSupported == null) {\n    scopeSelectorSupported = isScopeSelectorSupported(root);\n  }\n  if (scopeSelectorSupported) {\n    return root./*OK*/querySelectorAll(`:scope ${selector}`);\n  }\n\n  // Only IE.\n  const unique = 'i-amphtml-scoped';\n  root.classList.add(unique);\n  const elements = root./*OK*/querySelectorAll(`.${unique} ${selector}`);\n  root.classList.remove(unique);\n  return elements;\n}\n\n\n/**\n * Returns element data-param- attributes as url parameters key-value pairs.\n * e.g. data-param-some-attr=value -> {someAttr: value}.\n * @param {!Element} element\n * @param {function(string):string=} opt_computeParamNameFunc to compute the\n *    parameter name, get passed the camel-case parameter name.\n * @param {!RegExp=} opt_paramPattern Regex pattern to match data attributes.\n * @return {!JsonObject}\n */\nexport function getDataParamsFromAttributes(element, opt_computeParamNameFunc,\n  opt_paramPattern) {\n  const computeParamNameFunc = opt_computeParamNameFunc || (key => key);\n  const {dataset} = element;\n  const params = dict();\n  const paramPattern = opt_paramPattern ? opt_paramPattern : /^param(.+)/;\n  for (const key in dataset) {\n    const matches = key.match(paramPattern);\n    if (matches) {\n      const param = matches[1][0].toLowerCase() + matches[1].substr(1);\n      params[computeParamNameFunc(param)] = dataset[key];\n    }\n  }\n  return params;\n}\n\n/**\n * Whether the element have a next node in the document order.\n * This means either:\n *  a. The element itself has a nextSibling.\n *  b. Any of the element ancestors has a nextSibling.\n * @param {!Element} element\n * @param {?Node} opt_stopNode\n * @return {boolean}\n */\nexport function hasNextNodeInDocumentOrder(element, opt_stopNode) {\n  let currentElement = element;\n  do {\n    if (currentElement.nextSibling) {\n      return true;\n    }\n  } while ((currentElement = currentElement.parentNode) &&\n            currentElement != opt_stopNode);\n  return false;\n}\n\n\n/**\n * Finds all ancestor elements that satisfy predicate.\n * @param {!Element} child\n * @param {function(!Element):boolean} predicate\n * @return {!Array<!Element>}\n */\nexport function ancestorElements(child, predicate) {\n  const ancestors = [];\n  for (let ancestor = child.parentElement; ancestor;\n    ancestor = ancestor.parentElement) {\n    if (predicate(ancestor)) {\n      ancestors.push(ancestor);\n    }\n  }\n  return ancestors;\n}\n\n\n/**\n * Finds all ancestor elements that has the specified tag name.\n * @param {!Element} child\n * @param {string} tagName\n * @return {!Array<!Element>}\n */\nexport function ancestorElementsByTag(child, tagName) {\n  tagName = tagName.toUpperCase();\n  return ancestorElements(child, el => {\n    return el.tagName == tagName;\n  });\n}\n\n/**\n * Returns a clone of the content of a template element.\n *\n * Polyfill to replace .content access for browsers that do not support\n * HTMLTemplateElements natively.\n *\n * @param {!HTMLTemplateElement|!Element} template\n * @return {!DocumentFragment}\n */\nexport function templateContentClone(template) {\n  if ('content' in template) {\n    return template.content.cloneNode(true);\n  } else {\n    const content = template.ownerDocument.createDocumentFragment();\n    copyChildren(template, content);\n    return content;\n  }\n}\n\n/**\n * Iterate over an array-like. Some collections like NodeList are\n * lazily evaluated in some browsers, and accessing `length` forces full\n * evaluation. We can improve performance by iterating until an element is\n * `undefined` to avoid checking the `length` property.\n * Test cases: https://jsperf.com/iterating-over-collections-of-elements\n * @param {!IArrayLike<T>} iterable\n * @param {function(T, number)} cb\n * @template T\n */\nexport function iterateCursor(iterable, cb) {\n  for (let i = 0, value; (value = iterable[i]) !== undefined; i++) {\n    cb(value, i);\n  }\n}\n\n/**\n * This method wraps around window's open method. It first tries to execute\n * `open` call with the provided target and if it fails, it retries the call\n * with the `_top` target. This is necessary given that in some embedding\n * scenarios, such as iOS' WKWebView, navigation to `_blank` and other targets\n * is blocked by default.\n *\n * @param {!Window} win\n * @param {string} url\n * @param {string} target\n * @param {string=} opt_features\n * @return {?Window}\n */\nexport function openWindowDialog(win, url, target, opt_features) {\n  // Try first with the specified target. If we're inside the WKWebView or\n  // a similar environments, this method is expected to fail by default for\n  // all targets except `_top`.\n  let res;\n  try {\n    res = win.open(url, target, opt_features);\n  } catch (e) {\n    dev().error('DOM', 'Failed to open url on target: ', target, e);\n  }\n\n  // Then try with `_top` target.\n  if (!res && target != '_top') {\n    res = win.open(url, '_top');\n  }\n  return res;\n}\n\n/**\n * Whether the element is a script tag with application/json type.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isJsonScriptTag(element) {\n  return element.tagName == 'SCRIPT' &&\n            element.getAttribute('type').toUpperCase() == 'APPLICATION/JSON';\n}\n\n/**\n * Whether the element is a script tag with application/json type.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isJsonLdScriptTag(element) {\n  return element.tagName == 'SCRIPT' &&\n      element.getAttribute('type').toUpperCase() == 'APPLICATION/LD+JSON';\n}\n\n/**\n * Whether the page's direction is right to left or not.\n * @param {!Document} doc\n * @return {boolean}\n */\nexport function isRTL(doc) {\n  const dir = doc.body.getAttribute('dir')\n                 || doc.documentElement.getAttribute('dir')\n                 || 'ltr';\n  return dir == 'rtl';\n}\n\n\n/**\n * Escapes an ident (ID or a class name) to be used as a CSS selector.\n *\n * See https://drafts.csswg.org/cssom/#serialize-an-identifier.\n *\n * @param {string} ident\n * @return {string}\n */\nexport function escapeCssSelectorIdent(ident) {\n  return cssEscape(ident);\n}\n\n/**\n * Escapes an ident in a way that can be used by :nth-child() psuedo-class.\n *\n * See https://github.com/w3c/csswg-drafts/issues/2306.\n *\n * @param {string|number} ident\n * @return {string}\n */\nexport function escapeCssSelectorNth(ident) {\n  const escaped = String(ident);\n  // Ensure it doesn't close the nth-child psuedo class.\n  dev().assert(escaped.indexOf(')') === -1);\n  return escaped;\n}\n\n/**\n * Escapes `<`, `>` and other HTML charcaters with their escaped forms.\n * @param {string} text\n * @return {string}\n */\nexport function escapeHtml(text) {\n  if (!text) {\n    return text;\n  }\n  return text.replace(HTML_ESCAPE_REGEX, escapeHtmlChar);\n}\n\n/**\n * @param {string} c\n * @return {string}\n */\nfunction escapeHtmlChar(c) {\n  return HTML_ESCAPE_CHARS[c];\n}\n\n/**\n * Tries to focus on the given element; fails silently if browser throws an\n * exception.\n * @param {!Element} element\n */\nexport function tryFocus(element) {\n  try {\n    element./*OK*/focus();\n  } catch (e) {\n    // IE <= 7 may throw exceptions when focusing on hidden items.\n  }\n}\n\n/**\n * Whether the given window is in an iframe or not.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isIframed(win) {\n  return win.parent && win.parent != win;\n}\n\n/**\n * Determines if this element is an AMP element\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isAmpElement(element) {\n  const tag = element.tagName;\n  // Use prefix to recognize AMP element. This is necessary because stub\n  // may not be attached yet.\n  return startsWith(tag, 'AMP-') &&\n      // Some \"amp-*\" elements are not really AMP elements. :smh:\n      !(tag == 'AMP-STICKY-AD-TOP-PADDING' || tag == 'AMP-BODY');\n}\n\n/**\n * Return a promise that resolve when an AMP element upgrade from HTMLElement\n * to CustomElement\n * @param {!Element} element\n * @return {!Promise<!Element>}\n */\nexport function whenUpgradedToCustomElement(element) {\n  dev().assert(isAmpElement(element), 'element is not AmpElement');\n  if (element.createdCallback) {\n    // Element already is CustomElement;\n    return Promise.resolve(element);\n  }\n  // If Element is still HTMLElement, wait for it to upgrade to customElement\n  // Note: use pure string to avoid obfuscation between versions.\n  if (!element[UPGRADE_TO_CUSTOMELEMENT_PROMISE]) {\n    const deferred = new Deferred();\n    element[UPGRADE_TO_CUSTOMELEMENT_PROMISE] = deferred.promise;\n    element[UPGRADE_TO_CUSTOMELEMENT_RESOLVER] = deferred.resolve;\n\n  }\n\n  return element[UPGRADE_TO_CUSTOMELEMENT_PROMISE];\n}\n\n/**\n * Replacement for `Element.requestFullscreen()` method.\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen\n * @param {!Element} element\n */\nexport function fullscreenEnter(element) {\n  const requestFs = element.requestFullscreen\n   || element.requestFullScreen\n   || element.webkitRequestFullscreen\n   || element.webkitRequestFullScreen\n   || element.webkitEnterFullscreen\n   || element.webkitEnterFullScreen\n   || element.msRequestFullscreen\n   || element.msRequestFullScreen\n   || element.mozRequestFullscreen\n   || element.mozRequestFullScreen;\n  if (requestFs) {\n    requestFs.call(element);\n  }\n}\n\n/**\n * Replacement for `Document.exitFullscreen()` method.\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/exitFullscreen\n * @param {!Element} element\n */\nexport function fullscreenExit(element) {\n  let exitFs = element.cancelFullScreen\n              || element.exitFullscreen\n              || element.exitFullScreen\n              || element.webkitExitFullscreen\n              || element.webkitExitFullScreen\n              || element.webkitCancelFullScreen\n              || element.mozCancelFullScreen\n              || element.msExitFullscreen;\n  if (exitFs) {\n    exitFs.call(element);\n    return;\n  }\n  if (element.ownerDocument) {\n    exitFs = element.ownerDocument.cancelFullScreen\n             || element.ownerDocument.exitFullscreen\n             || element.ownerDocument.exitFullScreen\n             || element.ownerDocument.webkitExitFullscreen\n             || element.ownerDocument.webkitExitFullScreen\n             || element.ownerDocument.webkitCancelFullScreen\n             || element.ownerDocument.mozCancelFullScreen\n             || element.ownerDocument.msExitFullscreen;\n  }\n  if (exitFs) {\n    exitFs.call(element.ownerDocument);\n    return;\n  }\n}\n\n\n/**\n * Replacement for `Document.fullscreenElement`.\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/fullscreenElement\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isFullscreenElement(element) {\n  const isFullscreen = element.webkitDisplayingFullscreen;\n  if (isFullscreen) {\n    return true;\n  }\n  if (element.ownerDocument) {\n    const fullscreenElement = element.ownerDocument.fullscreenElement\n             || element.ownerDocument.webkitFullscreenElement\n             || element.ownerDocument.mozFullScreenElement\n             || element.webkitCurrentFullScreenElement;\n    if (fullscreenElement == element) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Returns true if node is not disabled.\n *\n * IE8 can return false positives, see {@link matches}.\n * @param {!Element} element\n * @return {boolean}\n * @see https://www.w3.org/TR/html5/forms.html#concept-fe-disabled\n */\nexport function isEnabled(element) {\n  return !(element.disabled || matches(element, ':disabled'));\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as dom from './dom';\nimport {\n  getAmpdoc,\n  getExistingServiceForDocInEmbedScope,\n  getService,\n  getServicePromise,\n  getServicePromiseForDoc,\n  getServicePromiseOrNull,\n  getServicePromiseOrNullForDoc,\n  getTopWindow,\n} from './service';\nimport {toWin} from './types';\nimport {user} from './log';\n\n/**\n * Returns a promise for a service for the given id and window. Also expects an\n * element that has the actual implementation. The promise resolves when the\n * implementation loaded. Users should typically wrap this as a special purpose\n * function (e.g. Services.viewportForDoc(...)) for type safety and because the\n * factory should not be passed around.\n * @param {!Window} win\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an element,\n *     not the extension.\n * @return {!Promise<*>}\n */\nexport function getElementService(win, id, extension, opt_element) {\n  return getElementServiceIfAvailable(win, id, extension, opt_element).then(\n      service => assertService(service, id, extension));\n}\n\n/**\n * Same as getElementService but produces null if the given element is not\n * actually available on the current page.\n * @param {!Window} win\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an\n *     element, not the extension.\n * @return {!Promise<?Object>}\n */\nexport function getElementServiceIfAvailable(win, id, extension, opt_element) {\n  const s = getServicePromiseOrNull(win, id);\n  if (s) {\n    return /** @type {!Promise<?Object>} */ (s);\n  }\n  return getElementServicePromiseOrNull(win, id, extension, opt_element);\n}\n\n/**\n * @param {!Window} win\n * @param {string} elementName Name of an extended custom element.\n * @return {boolean} Whether this element is scheduled to be loaded.\n */\nfunction isElementScheduled(win, elementName) {\n  // Set in custom-element.js\n  if (!win.ampExtendedElements) {\n    return false;\n  }\n  return !!win.ampExtendedElements[elementName];\n}\n\n\n/**\n * Returns a promise for a service for the given id and window. Also expects an\n * element that has the actual implementation. The promise resolves when the\n * implementation loaded. Users should typically wrap this as a special purpose\n * function (e.g. Services.viewportForDoc(...)) for type safety and because the\n * factory should not be passed around.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an element,\n *     not the extension.\n * @return {!Promise<*>}\n */\nexport function getElementServiceForDoc(elementOrAmpDoc, id, extension,\n  opt_element) {\n  return getElementServiceIfAvailableForDoc(\n      elementOrAmpDoc, id, extension, opt_element)\n      .then(service => assertService(service, id, extension));\n}\n\n/**\n * Same as getElementService but produces null if the given element is not\n * actually available on the current page.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id of the service.\n * @param {string} extension Name of the custom extension that provides the\n *     implementation of this service.\n * @param {boolean=} opt_element Whether this service is provided by an\n *     element, not the extension.\n * @return {!Promise<?Object>}\n */\nexport function getElementServiceIfAvailableForDoc(\n  elementOrAmpDoc, id, extension, opt_element) {\n  const ampdoc = getAmpdoc(elementOrAmpDoc);\n  const s = getServicePromiseOrNullForDoc(elementOrAmpDoc, id);\n  if (s) {\n    return /** @type {!Promise<?Object>} */ (s);\n  }\n\n  return ampdoc.whenBodyAvailable()\n      .then(() => waitForExtensionIfPresent(\n          ampdoc.win, extension,\n          ampdoc.getHeadNode()))\n      .then(() => {\n        // If this service is provided by an element, then we can't depend on\n        // the service (they may not use the element).\n        if (opt_element) {\n          return getServicePromiseOrNullForDoc(elementOrAmpDoc, id);\n        } else if (isElementScheduled(ampdoc.win, extension)) {\n          return getServicePromiseForDoc(elementOrAmpDoc, id);\n        }\n        return null;\n      });\n}\n\n/**\n * Returns a promise for service for the given id in the embed scope of\n * a given node, if it exists. Otherwise, falls back to ampdoc scope IFF\n * the given node is in the top-level window.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id of the service.\n * @param {string} extension Name of the custom element that provides\n *     the implementation of this service.\n * @return {!Promise<?Object>}\n */\nexport function getElementServiceIfAvailableForDocInEmbedScope(\n  elementOrAmpDoc, id, extension) {\n  const s = getExistingServiceForDocInEmbedScope(elementOrAmpDoc, id);\n  if (s) {\n    return /** @type {!Promise<?Object>} */ (Promise.resolve(s));\n  }\n  // Return embed-scope element service promise if scheduled.\n  if (elementOrAmpDoc.nodeType) {\n    const win = toWin(elementOrAmpDoc.ownerDocument.defaultView);\n    const topWin = getTopWindow(win);\n    // In embeds, doc-scope services are window-scope. But make sure to\n    // only do this for embeds (not the top window), otherwise we'd grab\n    // a promise from the wrong service holder which would never resolve.\n    if (win !== topWin) {\n      return getElementServicePromiseOrNull(win, id, extension);\n    } else {\n      // Fallback to ampdoc IFF the given node is _not_ FIE.\n      return getElementServiceIfAvailableForDoc(elementOrAmpDoc, id, extension);\n    }\n  }\n  return /** @type {!Promise<?Object>} */ (Promise.resolve(null));\n}\n\n/**\n * Throws user error if `service` is null.\n * @param {Object} service\n * @param {string} id\n * @param {string} extension\n * @return {!Object}\n * @private\n */\nfunction assertService(service, id, extension) {\n  return /** @type {!Object} */ (user().assert(service,\n      'Service %s was requested to be provided through %s, ' +\n      'but %s is not loaded in the current page. To fix this ' +\n      'problem load the JavaScript file for %s in this page.',\n      id, extension, extension, extension));\n}\n\n/**\n * Get list of all the extension JS files\n * @param {HTMLHeadElement|Element|ShadowRoot} head\n * @return {!Array<string>}\n */\nexport function extensionScriptsInNode(head) {\n  // ampdoc.getHeadNode() can return null\n  if (!head) {\n    return [];\n  }\n  const scripts = [];\n  const list = head.querySelectorAll('script[custom-element]');\n  for (let i = 0; i < list.length; i++) {\n    scripts.push(list[i].getAttribute('custom-element'));\n  }\n  return scripts;\n}\n\n/**\n * Waits for body to be present then verifies that an extension script is\n * present in head for installation.\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc\n * @param {string} extensionId\n * @return {!Promise<boolean>}\n */\nexport function isExtensionScriptInNode(ampdoc, extensionId) {\n  return ampdoc.whenBodyAvailable()\n      .then(() => {\n        return extensionScriptInNode(\n            ampdoc.getHeadNode(), extensionId);\n      });\n}\n\n/**\n * Verifies that an extension script is present in head for\n * installation.\n * @param {HTMLHeadElement|Element|ShadowRoot} head\n * @param {string} extensionId\n * @private\n */\nfunction extensionScriptInNode(head, extensionId) {\n  return extensionScriptsInNode(head).includes(extensionId);\n}\n\n/**\n * Waits for an extension if its script is present\n * @param {!Window} win\n * @param {string} extension\n * @param {HTMLHeadElement|Element|ShadowRoot} head\n * @return {!Promise}\n * @private\n */\nfunction waitForExtensionIfPresent(win, extension, head) {\n  /**\n   * If there is an extension script wait for it to load before trying\n   * to get the service. Prevents a race condition when everything but\n   * the extensions is in cache. If there is no script then it's either\n   * not present, or the service was defined by a test. In those cases\n   * we don't wait around for an extension that does not exist.\n   */\n\n  // TODO(jpettitt) investigate registerExtension to short circuit\n  // the dom call in extensionScriptsInNode()\n  if (!extensionScriptInNode(head, extension)) {\n    return Promise.resolve();\n  }\n\n  const extensions = getService(win, 'extensions');\n  return /** @type {!Promise<?Object>} */ (\n    extensions.waitForExtension(win, extension));\n}\n\n/**\n * Returns the promise for service with `id` on the given window if available.\n * Otherwise, resolves with null (service was not registered).\n * @param {!Window} win\n * @param {string} id\n * @param {string} extension\n * @param {boolean=} opt_element\n * @return {!Promise<Object>}\n * @private\n */\nfunction getElementServicePromiseOrNull(win, id, extension, opt_element) {\n  return dom.waitForBodyPromise(win.document)\n      .then(() => waitForExtensionIfPresent(win, extension, win.document.head))\n      .then(() => {\n        // If this service is provided by an element, then we can't depend on\n        // the service (they may not use the element).\n        if (opt_element) {\n          return getServicePromiseOrNull(win, id);\n        } else if (isElementScheduled(win, extension)) {\n          return getServicePromise(win, id);\n        }\n        return null;\n      });\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {AmpEvents} from './amp-events';\nimport {Services} from './services';\nimport {\n  USER_ERROR_SENTINEL,\n  dev,\n  duplicateErrorIfNecessary,\n  isUserErrorEmbed,\n  isUserErrorMessage,\n} from './log';\nimport {experimentTogglesOrNull, getBinaryType, isCanary} from './experiments';\nimport {exponentialBackoff} from './exponential-backoff';\nimport {getMode} from './mode';\nimport {isExperimentOn} from './experiments';\nimport {\n  isLoadErrorMessage,\n} from './event-helper';\nimport {isProxyOrigin} from './url';\nimport {makeBodyVisible} from './style-installer';\nimport {startsWith} from './string';\nimport {triggerAnalyticsEvent} from './analytics';\nimport {urls} from './config';\n\n/**\n * @const {string}\n */\nconst CANCELLED = 'CANCELLED';\n\n/**\n * @const {string}\n */\nconst BLOCK_BY_CONSENT = 'BLOCK_BY_CONSENT';\n\n\n/**\n * The threshold for errors throttled because nothing can be done about\n * them, but we'd still like to report the rough number.\n * @const {number}\n */\nconst NON_ACTIONABLE_ERROR_THROTTLE_THRESHOLD = 0.001;\n\n/**\n * The threshold for errors throttled because nothing can be done about\n * them, but we'd still like to report the rough number.\n * @const {number}\n */\nconst USER_ERROR_THROTTLE_THRESHOLD = 0.1;\n\n\n/**\n * Collects error messages, so they can be included in subsequent reports.\n * That allows identifying errors that might be caused by previous errors.\n */\nlet accumulatedErrorMessages = self.AMPErrors || [];\n// Use a true global, to avoid multi-module inclusion issues.\nself.AMPErrors = accumulatedErrorMessages;\n\n/**\n * Pushes element into array, keeping at most the most recent limit elements\n *\n * @param {!Array<T>} array\n * @param {T} element\n * @param {number} limit\n * @template T\n */\nfunction pushLimit(array, element, limit) {\n  if (array.length >= limit) {\n    array.splice(0, array.length - limit + 1);\n  }\n  array.push(element);\n}\n\n/**\n * A wrapper around our exponentialBackoff, to lazy initialize it to avoid an\n * un-DCE'able side-effect.\n * @param {function()} work the function to execute after backoff\n * @return {number} the setTimeout id\n */\nlet reportingBackoff = function(work) {\n  // Set reportingBackoff as the lazy-created function. JS Vooodoooo.\n  reportingBackoff = exponentialBackoff(1.5);\n  return reportingBackoff(work);\n};\n\n/**\n * Attempts to stringify a value, falling back to String.\n * @param {*} value\n * @return {string}\n */\nfunction tryJsonStringify(value) {\n  try {\n    // Cast is fine, because we really don't care here. Just trying.\n    return JSON.stringify(/** @type {!JsonObject} */ (value));\n  } catch (e) {\n    return String(value);\n  }\n}\n\n/**\n * The true JS engine, as detected by inspecting an Error stack. This should be\n * used with the userAgent to tell definitely. I.e., Chrome on iOS is really a\n * Safari JS engine.\n */\nlet detectedJsEngine;\n\n/**\n * @param {!Window} win\n * @param {*} error\n * @param {!Element=} opt_associatedElement\n */\nexport function reportErrorForWin(win, error, opt_associatedElement) {\n  reportError(error, opt_associatedElement);\n  if (error && !!win && isUserErrorMessage(error.message)\n      && !isUserErrorEmbed(error.message)) {\n    reportErrorToAnalytics(/** @type {!Error} */(error), win);\n  }\n}\n\n/**\n * Reports an error. If the error has an \"associatedElement\" property\n * the element is marked with the `i-amphtml-element-error` and displays\n * the message itself. The message is always send to the console.\n * If the error has a \"messageArray\" property, that array is logged.\n * This way one gets the native fidelity of the console for things like\n * elements instead of stringification.\n * @param {*} error\n * @param {!Element=} opt_associatedElement\n * @return {!Error}\n */\nexport function reportError(error, opt_associatedElement) {\n  try {\n    // Convert error to the expected type.\n    let isValidError;\n    if (error) {\n      if (error.message !== undefined) {\n        error = duplicateErrorIfNecessary(/** @type {!Error} */(error));\n        isValidError = true;\n      } else {\n        const origError = error;\n        error = new Error(tryJsonStringify(origError));\n        error.origError = origError;\n      }\n    } else {\n      error = new Error('Unknown error');\n    }\n    // Report if error is not an expected type.\n    if (!isValidError && getMode().localDev && !getMode().test) {\n      setTimeout(function() {\n        const rethrow = new Error(\n            '_reported_ Error reported incorrectly: ' + error);\n        throw rethrow;\n      });\n    }\n\n    if (error.reported) {\n      return /** @type {!Error} */ (error);\n    }\n    error.reported = true;\n\n    // Update element.\n    const element = opt_associatedElement || error.associatedElement;\n    if (element && element.classList) {\n      element.classList.add('i-amphtml-error');\n      if (getMode().development) {\n        element.classList.add('i-amphtml-element-error');\n        element.setAttribute('error-message', error.message);\n      }\n    }\n\n    // Report to console.\n    if (self.console) {\n      const output = (console.error || console.log);\n      if (error.messageArray) {\n        output.apply(console, error.messageArray);\n      } else {\n        if (element) {\n          output.call(console, error.message, element);\n        } else if (!getMode().minified) {\n          output.call(console, error.stack);\n        } else {\n          output.call(console, error.message);\n        }\n      }\n    }\n    if (element && element.dispatchCustomEventForTesting) {\n      element.dispatchCustomEventForTesting(AmpEvents.ERROR, error.message);\n    }\n\n    // 'call' to make linter happy. And .call to make compiler happy\n    // that expects some @this.\n    reportErrorToServer['call'](undefined, undefined, undefined, undefined,\n        undefined, error);\n  } catch (errorReportingError) {\n    setTimeout(function() {\n      throw errorReportingError;\n    });\n  }\n  return /** @type {!Error} */ (error);\n}\n\n/**\n * Returns an error for a cancellation of a promise.\n * @return {!Error}\n */\nexport function cancellation() {\n  return new Error(CANCELLED);\n}\n\n/**\n * @param {*} errorOrMessage\n * @return {boolean}\n */\nexport function isCancellation(errorOrMessage) {\n  if (!errorOrMessage) {\n    return false;\n  }\n  if (typeof errorOrMessage == 'string') {\n    return startsWith(errorOrMessage, CANCELLED);\n  }\n  if (typeof errorOrMessage.message == 'string') {\n    return startsWith(errorOrMessage.message, CANCELLED);\n  }\n  return false;\n}\n\n/**\n * Returns an error for component blocked by consent\n * @return {!Error}\n */\nexport function blockedByConsentError() {\n  return new Error(BLOCK_BY_CONSENT);\n}\n\n/**\n * @param {*} errorOrMessage\n * @return {boolean}\n */\nexport function isBlockedByConsent(errorOrMessage) {\n  if (!errorOrMessage) {\n    return false;\n  }\n  if (typeof errorOrMessage == 'string') {\n    return startsWith(errorOrMessage, BLOCK_BY_CONSENT);\n  }\n  if (typeof errorOrMessage.message == 'string') {\n    return startsWith(errorOrMessage.message, BLOCK_BY_CONSENT);\n  }\n  return false;\n}\n\n\n/**\n * Install handling of global unhandled exceptions.\n * @param {!Window} win\n */\nexport function installErrorReporting(win) {\n  win.onerror = /** @type {!Function} */ (reportErrorToServer);\n  win.addEventListener('unhandledrejection', event => {\n    if (event.reason &&\n      (event.reason.message === CANCELLED ||\n      event.reason.message === BLOCK_BY_CONSENT)) {\n      event.preventDefault();\n      return;\n    }\n    reportError(event.reason || new Error('rejected promise ' + event));\n  });\n}\n\n/**\n * Signature designed, so it can work with window.onerror\n * @param {string|undefined} message\n * @param {string|undefined} filename\n * @param {string|undefined} line\n * @param {string|undefined} col\n * @param {*|undefined} error\n * @this {!Window|undefined}\n */\nfunction reportErrorToServer(message, filename, line, col, error) {\n  // Make an attempt to unhide the body.\n  if (this && this.document) {\n    makeBodyVisible(this.document);\n  }\n  if (getMode().localDev || getMode().development || getMode().test) {\n    return;\n  }\n  let hasNonAmpJs = false;\n  try {\n    hasNonAmpJs = detectNonAmpJs(self);\n  } catch (ignore) {\n    // Ignore errors during error report generation.\n  }\n  if (hasNonAmpJs && Math.random() > 0.01) {\n    // Only report 1% of errors on pages with non-AMP JS.\n    // These errors can almost never be acted upon, but spikes such as\n    // due to buggy browser extensions may be helpful to notify authors.\n    return;\n  }\n  const data = getErrorReportData(message, filename, line, col, error,\n      hasNonAmpJs);\n  if (data) {\n    // Report the error to viewer if it has the capability. The data passed\n    // to the viewer is exactly the same as the data passed to the server\n    // below.\n    maybeReportErrorToViewer(this, data);\n    reportingBackoff(() => {\n      const xhr = new XMLHttpRequest();\n      xhr.open('POST', urls.errorReporting, true);\n      xhr.send(JSON.stringify(data));\n    });\n  }\n}\n\n/**\n * Passes the given error data to the viewer if the following criteria is met:\n * - The viewer is a trusted viewer\n * - The viewer has the `errorReporter` capability\n * - The AMP doc is in single doc mode\n * - The AMP doc is opted-in for error interception (`<html>` tag has the\n *   `report-errors-to-viewer` attribute)\n *\n * @param {!Window} win\n * @param {!JsonObject} data Data from `getErrorReportData`.\n * @return {!Promise<boolean>} `Promise<True>` if the error was sent to the\n *     viewer, `Promise<False>` otherwise.\n * @visibleForTesting\n */\nexport function maybeReportErrorToViewer(win, data) {\n  const ampdocService = Services.ampdocServiceFor(win);\n  if (!ampdocService.isSingleDoc()) {\n    return Promise.resolve(false);\n  }\n  const ampdocSingle = ampdocService.getAmpDoc();\n  const htmlElement = ampdocSingle.getRootNode().documentElement;\n  const docOptedIn = htmlElement.hasAttribute('report-errors-to-viewer');\n  if (!docOptedIn) {\n    return Promise.resolve(false);\n  }\n\n  const viewer = Services.viewerForDoc(ampdocSingle);\n  if (!viewer.hasCapability('errorReporter')) {\n    return Promise.resolve(false);\n  }\n\n  return viewer.isTrustedViewer().then(viewerTrusted => {\n    if (!viewerTrusted) {\n      return false;\n    }\n    viewer.sendMessage('error', data);\n    return true;\n  });\n}\n\n/**\n * Signature designed, so it can work with window.onerror\n * @param {string|undefined} message\n * @param {string|undefined} filename\n * @param {string|undefined} line\n * @param {string|undefined} col\n * @param {*|undefined} error\n * @param {boolean} hasNonAmpJs\n * @return {!JsonObject|undefined} The data to post\n * visibleForTesting\n */\nexport function getErrorReportData(message, filename, line, col, error,\n  hasNonAmpJs) {\n  let expected = false;\n  if (error) {\n    if (error.message) {\n      message = error.message;\n    } else {\n      // This should never be a string, but sometimes it is.\n      message = String(error);\n    }\n    // An \"expected\" error is still an error, i.e. some features are disabled\n    // or not functioning fully because of it. However, it's an expected\n    // error. E.g. as is the case with some browser API missing (storage).\n    // Thus, the error can be classified differently by log aggregators.\n    // The main goal is to monitor that an \"expected\" error doesn't deteriorate\n    // over time. It's impossible to completely eliminate it.\n    if (error.expected) {\n      expected = true;\n    }\n  }\n  if (!message) {\n    message = 'Unknown error';\n  }\n  if (/_reported_/.test(message)) {\n    return;\n  }\n  if (message == CANCELLED) {\n    return;\n  }\n\n  const detachedWindow = !(self && self.window);\n  const throttleBase = Math.random();\n\n  // We throttle load errors and generic \"Script error.\" errors\n  // that have no information and thus cannot be acted upon.\n  if (isLoadErrorMessage(message) ||\n    // See https://github.com/ampproject/amphtml/issues/7353\n    // for context.\n    message == 'Script error.' ||\n    // Window has become detached, really anything can happen\n    // at this point.\n    detachedWindow) {\n    expected = true;\n\n    if (throttleBase > NON_ACTIONABLE_ERROR_THROTTLE_THRESHOLD) {\n      return;\n    }\n  }\n\n  const isUserError = isUserErrorMessage(message);\n\n  // Only report a subset of user errors.\n  if (isUserError && throttleBase > USER_ERROR_THROTTLE_THRESHOLD) {\n    return;\n  }\n\n  // This is the App Engine app in\n  // https://github.com/ampproject/error-tracker\n  // It stores error reports via https://cloud.google.com/error-reporting/\n  // for analyzing production issues.\n  const data = /** @type {!JsonObject} */ (Object.create(null));\n  data['v'] = getMode().rtvVersion;\n  data['noAmp'] = hasNonAmpJs ? '1' : '0';\n  data['m'] = message.replace(USER_ERROR_SENTINEL, '');\n  data['a'] = isUserError ? '1' : '0';\n\n  // Errors are tagged with \"ex\" (\"expected\") label to allow loggers to\n  // classify these errors as benchmarks and not exceptions.\n  data['ex'] = expected ? '1' : '0';\n  data['dw'] = detachedWindow ? '1' : '0';\n\n  let runtime = '1p';\n  if (self.context && self.context.location) {\n    data['3p'] = '1';\n    runtime = '3p';\n  } else if (getMode().runtime) {\n    runtime = getMode().runtime;\n  }\n  data['rt'] = runtime;\n\n  // TODO(erwinm): Remove ca when all systems read `bt` instead of `ca` to\n  // identify js binary type.\n  data['ca'] = isCanary(self) ? '1' : '0';\n\n  // Pass binary type.\n  data['bt'] = getBinaryType(self);\n\n  if (self.location.ancestorOrigins && self.location.ancestorOrigins[0]) {\n    data['or'] = self.location.ancestorOrigins[0];\n  }\n  if (self.viewerState) {\n    data['vs'] = self.viewerState;\n  }\n  // Is embedded?\n  if (self.parent && self.parent != self) {\n    data['iem'] = '1';\n  }\n\n  if (self.AMP && self.AMP.viewer) {\n    const resolvedViewerUrl = self.AMP.viewer.getResolvedViewerUrl();\n    const messagingOrigin = self.AMP.viewer.maybeGetMessagingOrigin();\n    if (resolvedViewerUrl) {\n      data['rvu'] = resolvedViewerUrl;\n    }\n    if (messagingOrigin) {\n      data['mso'] = messagingOrigin;\n    }\n  }\n\n  if (!detectedJsEngine) {\n    detectedJsEngine = detectJsEngineFromStack();\n  }\n  data['jse'] = detectedJsEngine;\n\n  const exps = [];\n  const experiments = experimentTogglesOrNull(self);\n  for (const exp in experiments) {\n    const on = experiments[exp];\n    exps.push(`${exp}=${on ? '1' : '0'}`);\n  }\n  data['exps'] = exps.join(',');\n\n  if (error) {\n    const tagName = error.associatedElement\n      ? error.associatedElement.tagName\n      : 'u'; // Unknown\n    data['el'] = tagName;\n\n    if (error.args) {\n      data['args'] = JSON.stringify(error.args);\n    }\n\n    if (!isUserError && !error.ignoreStack && error.stack) {\n      data['s'] = error.stack;\n    }\n\n    error.message += ' _reported_';\n  } else {\n    data['f'] = filename || '';\n    data['l'] = line || '';\n    data['c'] = col || '';\n  }\n  data['r'] = self.document.referrer;\n  data['ae'] = accumulatedErrorMessages.join(',');\n  data['fr'] = self.location.originalHash || self.location.hash;\n\n  pushLimit(accumulatedErrorMessages, message, 25);\n\n  return data;\n}\n\n/**\n * Returns true if it appears like there is non-AMP JS on the\n * current page.\n * @param {!Window} win\n * @return {boolean}\n * @visibleForTesting\n */\nexport function detectNonAmpJs(win) {\n  const scripts = win.document.querySelectorAll('script[src]');\n  for (let i = 0; i < scripts.length; i++) {\n    if (!isProxyOrigin(scripts[i].src.toLowerCase())) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Resets accumulated error messages for testing\n */\nexport function resetAccumulatedErrorMessagesForTesting() {\n  accumulatedErrorMessages = [];\n}\n\n/**\n * Does a series of checks on the stack of an thrown error to determine the\n * JS engine that is currently running. This gives a bit more information than\n * just the UserAgent, since browsers often allow overriding it to \"emulate\"\n * mobile.\n * @return {string}\n * @visibleForTesting\n */\nexport function detectJsEngineFromStack() {\n  /** @constructor */\n  function Fn() {}\n  Fn.prototype.t = function() {\n    throw new Error('message');\n  };\n  const object = new Fn();\n  try {\n    object.t();\n  } catch (e) {\n    const {stack} = e;\n\n    // Safari only mentions the method name.\n    if (startsWith(stack, 't@')) {\n      return 'Safari';\n    }\n\n    // Firefox mentions \"prototype\".\n    if (stack.indexOf('.prototype.t@') > -1) {\n      return 'Firefox';\n    }\n\n    // IE looks like Chrome, but includes a context for the base stack line.\n    // Explicitly, we're looking for something like:\n    // \"    at Global code (https://example.com/app.js:1:200)\" or\n    // \"    at Anonymous function (https://example.com/app.js:1:200)\"\n    // vs Chrome which has:\n    // \"    at https://example.com/app.js:1:200\"\n    const last = stack.split('\\n').pop();\n    if (/\\bat .* \\(/i.test(last)) {\n      return 'IE';\n    }\n\n    // Finally, chrome includes the error message in the stack.\n    if (startsWith(stack, 'Error: message')) {\n      return 'Chrome';\n    }\n  }\n\n  return 'unknown';\n}\n\n/**\n * @param {!Error} error\n * @param {!Window} win\n */\nexport function reportErrorToAnalytics(error, win) {\n  if (isExperimentOn(win, 'user-error-reporting')) {\n    const vars = {\n      'errorName': error.name,\n      'errorMessage': error.message,\n    };\n    triggerAnalyticsEvent(getRootElement_(win), 'user-error', vars);\n  }\n}\n\n/**\n * @param {!Window} win\n * @return {!Element}\n * @private\n */\nfunction getRootElement_(win) {\n  const root = Services.ampdocServiceFor(win).getAmpDoc().getRootNode();\n  return dev().assertElement(root.documentElement || root.body || root);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n  * Whether addEventListener supports options or only takes capture as a boolean\n  * @type {boolean|undefined}\n  * @visibleForTesting\n  */\nlet optsSupported;\n\n/**\n * Listens for the specified event on the element.\n *\n * Do not use this directly. This method is implemented as a shared\n * dependency. Use `listen()` in either `event-helper` or `3p-frame-messaging`,\n * depending on your use case.\n *\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {function(!Event)} listener\n * @param {Object=} opt_evtListenerOpts\n * @return {!UnlistenDef}\n */\nexport function internalListenImplementation(element, eventType, listener,\n  opt_evtListenerOpts) {\n  let localElement = element;\n  let localListener = listener;\n  /**\n   * @type {?Function}\n   */\n  let wrapped;\n\n  wrapped = event => {\n    try {\n      return localListener(event);\n    } catch (e) {\n      // reportError is installed globally per window in the entry point.\n      self.reportError(e);\n      throw e;\n    }\n  };\n  const optsSupported = detectEvtListenerOptsSupport();\n  let capture = false;\n  if (opt_evtListenerOpts) {\n    capture = opt_evtListenerOpts.capture;\n  }\n  localElement.addEventListener(\n      eventType,\n      wrapped,\n      optsSupported ? opt_evtListenerOpts : capture\n  );\n  return () => {\n    if (localElement) {\n      localElement.removeEventListener(\n          eventType,\n          wrapped,\n          optsSupported ? opt_evtListenerOpts : capture\n      );\n    }\n    // Ensure these are GC'd\n    localListener = null;\n    localElement = null;\n    wrapped = null;\n  };\n}\n\n/**\n * Tests whether the browser supports options as an argument of addEventListener\n * or not.\n *\n * @return {boolean}\n */\nexport function detectEvtListenerOptsSupport() {\n  // Only run the test once\n  if (optsSupported !== undefined) {\n    return optsSupported;\n  }\n\n  optsSupported = false;\n  try {\n    // Test whether browser supports EventListenerOptions or not\n    const options = {\n      get capture() {\n        optsSupported = true;\n      },\n    };\n    self.addEventListener('test-options', null, options);\n    self.removeEventListener('test-options', null, options);\n  } catch (err) {\n    // EventListenerOptions are not supported\n  }\n  return optsSupported;\n}\n\n/**\n  * Resets the test for whether addEventListener supports options or not.\n  */\nexport function resetEvtListenerOptsSupportForTesting() {\n  optsSupported = undefined;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {internalListenImplementation} from './event-helper-listen';\nimport {user} from './log';\n\n/** @const {string}  */\nconst LOAD_FAILURE_PREFIX = 'Failed to load:';\n\n/**\n * Returns a CustomEvent with a given type and detail; supports fallback for IE.\n * @param {!Window} win\n * @param {string} type\n * @param {!JsonObject|string|undefined|null} detail\n * @param {EventInit=} opt_eventInit\n * @return {!Event}\n */\nexport function createCustomEvent(win, type, detail, opt_eventInit) {\n  const eventInit = /** @type {!CustomEventInit} */ ({detail});\n  Object.assign(eventInit, opt_eventInit);\n  // win.CustomEvent is a function on Edge, Chrome, FF, Safari but\n  // is an object on IE 11.\n  if (typeof win.CustomEvent == 'function') {\n    return new win.CustomEvent(type, eventInit);\n  } else {\n    // Deprecated fallback for IE.\n    const e = win.document.createEvent('CustomEvent');\n    e.initCustomEvent(\n        type, !!eventInit.bubbles, !!eventInit.cancelable, detail);\n    return e;\n  }\n}\n\n/**\n * Listens for the specified event on the element.\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {function(!Event)} listener\n * @param {Object=} opt_evtListenerOpts\n * @return {!UnlistenDef}\n */\nexport function listen(element, eventType, listener, opt_evtListenerOpts) {\n  return internalListenImplementation(\n      element, eventType, listener, opt_evtListenerOpts);\n}\n\n/**\n * Returns the data property of an event with the correct type.\n * @param {!Event|{data: !JsonObject}} event\n * @return {?JsonObject|string|undefined}\n */\nexport function getData(event) {\n  return /** @type {?JsonObject|string|undefined} */ (event.data);\n}\n\n/**\n * Returns the detail property of an event with the correct type.\n * @param {!Event|{detail: !JsonObject}} event\n * @return {?JsonObject|string|undefined}\n */\nexport function getDetail(event) {\n  return /** @type {?JsonObject|string|undefined} */ (event.detail);\n}\n\n/**\n * Listens for the specified event on the element and removes the listener\n * as soon as event has been received.\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {function(!Event)} listener\n * @param {Object=} opt_evtListenerOpts\n * @return {!UnlistenDef}\n */\nexport function listenOnce(element, eventType, listener, opt_evtListenerOpts) {\n  let localListener = listener;\n  const unlisten = internalListenImplementation(element, eventType, event => {\n    try {\n      localListener(event);\n    } finally {\n      // Ensure listener is GC'd\n      localListener = null;\n      unlisten();\n    }\n  }, opt_evtListenerOpts);\n  return unlisten;\n}\n\n\n/**\n * Returns  a promise that will resolve as soon as the specified event has\n * fired on the element.\n * @param {!EventTarget} element\n * @param {string} eventType\n * @param {Object=} opt_evtListenerOpts\n * @param {function(!UnlistenDef)=} opt_cancel An optional function that, when\n *     provided, will be called with the unlistener. This gives the caller\n *     access to the unlistener, so it may be called manually when necessary.\n * @return {!Promise<!Event>}\n */\nexport function listenOncePromise(element, eventType, opt_evtListenerOpts,\n  opt_cancel) {\n  let unlisten;\n  const eventPromise = new Promise(resolve => {\n    unlisten = listenOnce(element, eventType, resolve, opt_evtListenerOpts);\n  });\n  eventPromise.then(unlisten, unlisten);\n  if (opt_cancel) {\n    opt_cancel(unlisten);\n  }\n  return eventPromise;\n}\n\n\n/**\n * Whether the specified element/window has been loaded already.\n * @param {!Element|!Window} eleOrWindow\n * @return {boolean}\n */\nexport function isLoaded(eleOrWindow) {\n  return !!(eleOrWindow.complete || eleOrWindow.readyState == 'complete'\n      // If the passed in thing is a Window, infer loaded state from\n      //\n      || (eleOrWindow.document\n          && eleOrWindow.document.readyState == 'complete'));\n}\n\n/**\n * Returns a promise that will resolve or fail based on the eleOrWindow's 'load'\n * and 'error' events. Optionally this method takes a timeout, which will reject\n * the promise if the resource has not loaded by then.\n * @param {T} eleOrWindow Supports both Elements and as a special case Windows.\n * @return {!Promise<T>}\n * @template T\n */\nexport function loadPromise(eleOrWindow) {\n  let unlistenLoad;\n  let unlistenError;\n  if (isLoaded(eleOrWindow)) {\n    return Promise.resolve(eleOrWindow);\n  }\n  const loadingPromise = new Promise((resolve, reject) => {\n    // Listen once since IE 5/6/7 fire the onload event continuously for\n    // animated GIFs.\n    const {tagName} = eleOrWindow;\n    if (tagName === 'AUDIO' || tagName === 'VIDEO') {\n      unlistenLoad = listenOnce(eleOrWindow, 'loadstart', resolve);\n    } else {\n      unlistenLoad = listenOnce(eleOrWindow, 'load', resolve);\n    }\n    // For elements, unlisten on error (don't for Windows).\n    if (tagName) {\n      unlistenError = listenOnce(eleOrWindow, 'error', reject);\n    }\n  });\n\n  return loadingPromise.then(() => {\n    if (unlistenError) {\n      unlistenError();\n    }\n    return eleOrWindow;\n  }, () => {\n    if (unlistenLoad) {\n      unlistenLoad();\n    }\n    failedToLoad(eleOrWindow);\n  });\n}\n\n/**\n * Emit error on load failure.\n * @param {!Element|!Window} eleOrWindow Supports both Elements and as a special\n *     case Windows.\n */\nfunction failedToLoad(eleOrWindow) {\n  // Report failed loads as user errors so that they automatically go\n  // into the \"document error\" bucket.\n  let target = eleOrWindow;\n  if (target && target.src) {\n    target = target.src;\n  }\n  throw user().createError(LOAD_FAILURE_PREFIX, target);\n}\n\n/**\n * Returns true if this error message is was created for a load error.\n * @param {string} message An error message\n * @return {boolean}\n */\nexport function isLoadErrorMessage(message) {\n  return message.indexOf(LOAD_FAILURE_PREFIX) != -1;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Experiments system allows a developer to opt-in to test\n * features that are not yet fully tested.\n *\n * Experiments page: https://cdn.ampproject.org/experiments.html *\n */\n\nimport {getCookie, setCookie} from './cookies';\nimport {hasOwn} from './utils/object';\nimport {parseQueryString} from './url';\n\n/** @const {string} */\nconst COOKIE_NAME = 'AMP_EXP';\n\n/** @const {number} */\nconst COOKIE_MAX_AGE_DAYS = 180; // 6 month\n\n/** @const {time} */\nconst COOKIE_EXPIRATION_INTERVAL = COOKIE_MAX_AGE_DAYS * 24 * 60 * 60 * 1000;\n\n/** @const {string} */\nconst TOGGLES_WINDOW_PROPERTY = '__AMP__EXPERIMENT_TOGGLES';\n\n/**\n * @typedef {{\n *   isTrafficEligible: function(!Window):boolean,\n *   branches: !Array<string>\n * }}\n */\nexport let ExperimentInfo;\n\n/**\n * Whether we are in canary.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isCanary(win) {\n  return !!(win.AMP_CONFIG && win.AMP_CONFIG.canary);\n}\n\n/**\n * Returns binary type, e.g., canary, control, or production.\n * @param {!Window} win\n * @return {string}\n */\nexport function getBinaryType(win) {\n  return win.AMP_CONFIG && win.AMP_CONFIG.type ?\n    win.AMP_CONFIG.type : 'unknown';\n}\n\n/**\n * Whether the specified experiment is on or off.\n * @param {!Window} win\n * @param {string} experimentId\n * @return {boolean}\n */\nexport function isExperimentOn(win, experimentId) {\n  const toggles = experimentToggles(win);\n  return !!toggles[experimentId];\n}\n\n/**\n * Toggles the experiment on or off. Returns the actual value of the experiment\n * after toggling is done.\n * @param {!Window} win\n * @param {string} experimentId\n * @param {boolean=} opt_on\n * @param {boolean=} opt_transientExperiment  Whether to toggle the\n *     experiment state \"transiently\" (i.e., for this page load only) or\n *     durably (by saving the experiment IDs to the cookie after toggling).\n *     Default: false (save durably).\n * @return {boolean} New state for experimentId.\n */\nexport function toggleExperiment(win, experimentId, opt_on,\n  opt_transientExperiment) {\n  const currentlyOn = isExperimentOn(win, /*OK*/experimentId);\n  const on = !!(opt_on !== undefined ? opt_on : !currentlyOn);\n  if (on != currentlyOn) {\n    const toggles = experimentToggles(win);\n    toggles[experimentId] = on;\n\n    if (!opt_transientExperiment) {\n      const cookieToggles = getExperimentTogglesFromCookie(win);\n      cookieToggles[experimentId] = on;\n      saveExperimentTogglesToCookie(win, cookieToggles);\n    }\n  }\n  return on;\n}\n\n/**\n * Calculate whether the experiment is on or off based off of the\n * cookieFlag or the global config frequency given.\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n */\nexport function experimentToggles(win) {\n  if (win[TOGGLES_WINDOW_PROPERTY]) {\n    return win[TOGGLES_WINDOW_PROPERTY];\n  }\n  win[TOGGLES_WINDOW_PROPERTY] = Object.create(null);\n  const toggles = win[TOGGLES_WINDOW_PROPERTY];\n\n  // Read the default config of this build.\n  if (win.AMP_CONFIG) {\n    for (const experimentId in win.AMP_CONFIG) {\n      const frequency = win.AMP_CONFIG[experimentId];\n      if (typeof frequency === 'number' && frequency >= 0 && frequency <= 1) {\n        toggles[experimentId] = Math.random() < frequency;\n      }\n    }\n  }\n  // Read document level override from meta tag.\n  if (win.AMP_CONFIG\n      && Array.isArray(win.AMP_CONFIG['allow-doc-opt-in'])\n      && win.AMP_CONFIG['allow-doc-opt-in'].length > 0) {\n    const allowed = win.AMP_CONFIG['allow-doc-opt-in'];\n    const meta =\n        win.document.head.querySelector('meta[name=\"amp-experiments-opt-in\"]');\n    if (meta) {\n      const optedInExperiments = meta.getAttribute('content').split(',');\n      for (let i = 0; i < optedInExperiments.length; i++) {\n        if (allowed.indexOf(optedInExperiments[i]) != -1) {\n          toggles[optedInExperiments[i]] = true;\n        }\n      }\n    }\n  }\n\n  Object.assign(toggles, getExperimentTogglesFromCookie(win));\n\n  if (win.AMP_CONFIG\n      && Array.isArray(win.AMP_CONFIG['allow-url-opt-in'])\n      && win.AMP_CONFIG['allow-url-opt-in'].length > 0) {\n    const allowed = win.AMP_CONFIG['allow-url-opt-in'];\n    const hash = win.location.originalHash || win.location.hash;\n    const params = parseQueryString(hash);\n    for (let i = 0; i < allowed.length; i++) {\n      const param = params[`e-${allowed[i]}`];\n      if (param == '1') {\n        toggles[allowed[i]] = true;\n      }\n      if (param == '0') {\n        toggles[allowed[i]] = false;\n      }\n    }\n  }\n  return toggles;\n}\n\n/**\n * Returns the cached experiments toggles, or null if they have not been\n * computed yet.\n * @param {!Window} win\n * @return {Object<string, boolean>}\n */\nexport function experimentTogglesOrNull(win) {\n  return win[TOGGLES_WINDOW_PROPERTY] || null;\n}\n\n/**\n * Returns a set of experiment IDs currently on.\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n */\nfunction getExperimentTogglesFromCookie(win) {\n  const experimentCookie = getCookie(win, COOKIE_NAME);\n  const tokens = experimentCookie ? experimentCookie.split(/\\s*,\\s*/g) : [];\n\n  const toggles = Object.create(null);\n  for (let i = 0; i < tokens.length; i++) {\n    if (tokens[i].length == 0) {\n      continue;\n    }\n    if (tokens[i][0] == '-') {\n      toggles[tokens[i].substr(1)] = false;\n    } else {\n      toggles[tokens[i]] = true;\n    }\n  }\n\n  return toggles;\n}\n\n/**\n * Saves a set of experiment IDs currently on.\n * @param {!Window} win\n * @param {!Object<string, boolean>} toggles\n */\nfunction saveExperimentTogglesToCookie(win, toggles) {\n  const experimentIds = [];\n  for (const experiment in toggles) {\n    experimentIds.push((toggles[experiment] === false ? '-' : '') + experiment);\n  }\n\n  setCookie(win, COOKIE_NAME, experimentIds.join(','),\n      Date.now() + COOKIE_EXPIRATION_INTERVAL, {\n        // Set explicit domain, so the cookie gets send to sub domains.\n        domain: win.location.hostname,\n        allowOnProxyOrigin: true,\n      });\n}\n\n/**\n * See getExperimentTogglesFromCookie().\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n * @visibleForTesting\n */\nexport function getExperimentToglesFromCookieForTesting(win) {\n  return getExperimentTogglesFromCookie(win);\n}\n\n/**\n * Resets the experimentsToggle cache for testing purposes.\n * @param {!Window} win\n * @visibleForTesting\n */\nexport function resetExperimentTogglesForTesting(win) {\n  setCookie(win, COOKIE_NAME, '', 0, {\n    domain: win.location.hostname,\n  });\n  win[TOGGLES_WINDOW_PROPERTY] = null;\n}\n\n/**\n * In some browser implementations of Math.random(), sequential calls of\n * Math.random() are correlated and can cause a bias.  In particular,\n * if the previous random() call was < 0.001 (as it will be if we select\n * into an experiment), the next value could be less than 0.5 more than\n * 50.7% of the time.  This provides an implementation that roots down into\n * the crypto API, when available, to produce less biased samples.\n *\n * @return {number} Pseudo-random floating-point value on the range [0, 1).\n */\nfunction slowButAccuratePrng() {\n  // TODO(tdrl): Implement.\n  return Math.random();\n}\n\n/**\n * Container for alternate random number generator implementations.  This\n * allows us to set an \"accurate\" PRNG for branch selection, but to mock it\n * out easily in tests.\n *\n * @visibleForTesting\n * @const {!{accuratePrng: function():number}}\n */\nexport const RANDOM_NUMBER_GENERATORS = {\n  accuratePrng: slowButAccuratePrng,\n};\n\n/**\n * Selects, uniformly at random, a single item from the array.\n * @param {!Array<string>} arr Object to select from.\n * @return {?string} Single item from arr or null if arr was empty.\n */\nfunction selectRandomItem(arr) {\n  const rn = RANDOM_NUMBER_GENERATORS.accuratePrng();\n  return arr[Math.floor(rn * arr.length)] || null;\n}\n\n/**\n * Selects which page-level experiment branches are enabled. If a given\n * experiment name is already set (including to the null / no branches selected\n * state), this won't alter its state.\n *\n * Check whether a given experiment is set using isExperimentOn(win,\n * experimentName) and, if it is on, look for which branch is selected in\n * win.experimentBranches[experimentName].\n *\n * @param {!Window} win Window context on which to save experiment\n *     selection state.\n * @param {!Object<string, !ExperimentInfo>} experiments  Set of experiments to\n *     configure for this page load.\n * @return {!Object<string, string>} Map of experiment names to selected\n *     branches.\n */\nexport function randomlySelectUnsetExperiments(win, experiments) {\n  win.experimentBranches = win.experimentBranches || {};\n  const selectedExperiments = {};\n  for (const experimentName in experiments) {\n    // Skip experimentName if it is not a key of experiments object or if it\n    // has already been populated by some other property.\n    if (!hasOwn(experiments, experimentName)) {\n      continue;\n    }\n    if (hasOwn(win.experimentBranches, experimentName)) {\n      selectedExperiments[experimentName] =\n          win.experimentBranches[experimentName];\n      continue;\n    }\n\n    if (!experiments[experimentName].isTrafficEligible ||\n        !experiments[experimentName].isTrafficEligible(win)) {\n      win.experimentBranches[experimentName] = null;\n      continue;\n    }\n\n    // If we're in the experiment, but we haven't already forced a specific\n    // experiment branch (e.g., via a test setup), then randomize the branch\n    // choice.\n    if (!win.experimentBranches[experimentName] &&\n      isExperimentOn(win, /*OK*/experimentName)) {\n      const {branches} = experiments[experimentName];\n      win.experimentBranches[experimentName] = selectRandomItem(branches);\n      selectedExperiments[experimentName] =\n          win.experimentBranches[experimentName];\n    }\n  }\n  return selectedExperiments;\n}\n\n/**\n * Returns the experiment branch enabled for the given experiment ID.\n * For example, 'control' or 'experiment'.\n *\n * @param {!Window} win Window context to check for experiment state.\n * @param {string} experimentName Name of the experiment to check.\n * @return {?string} Active experiment branch ID for experimentName (possibly\n *     null if experimentName has been tested but no branch was enabled).\n */\nexport function getExperimentBranch(win, experimentName) {\n  return win.experimentBranches ? win.experimentBranches[experimentName] : null;\n}\n\n/**\n * Force enable (or disable) a specific branch of a given experiment name.\n * Disables the experiment name altogether if branchId is falseish.\n *\n * @param {!Window} win Window context to check for experiment state.\n * @param {string} experimentName Name of the experiment to check.\n * @param {?string} branchId ID of branch to force or null to disable\n *     altogether.\n * @visibleForTesting\n */\nexport function forceExperimentBranch(win, experimentName, branchId) {\n  win.experimentBranches = win.experimentBranches || {};\n  toggleExperiment(win, experimentName, !!branchId, true);\n  win.experimentBranches[experimentName] = branchId;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * @param {number=} opt_base Exponential base. Defaults to 2.\n * @return {function(function()): number} Function that when invoked will\n *     call the passed in function. On every invocation the next\n *     invocation of the passed in function will be exponentially\n *     later. Returned function returns timeout id.\n */\nexport function exponentialBackoff(opt_base) {\n  const getTimeout = exponentialBackoffClock(opt_base);\n  return work => {\n    return setTimeout(work, getTimeout());\n  };\n}\n\n/**\n * @param {number=} opt_base Exponential base. Defaults to 2.\n * @return {function(): number} Function that when invoked will return\n *    a number that exponentially grows per invocation.\n */\nexport function exponentialBackoffClock(opt_base) {\n  const base = opt_base || 2;\n  let count = 0;\n  return () => {\n    let wait = Math.pow(base, count++);\n    wait += getJitter(wait);\n    return wait * 1000;\n  };\n}\n\n/**\n * Add jitter to avoid the thundering herd. This can e.g. happen when\n * we poll a backend and it fails for everyone at the same time.\n * We add up to 30% (default) longer or shorter than the given time.\n *\n * @param {number} wait the amount if base milliseconds\n * @param {number=} opt_perc the min/max percentage to add or sutract\n * @return {number}\n */\nexport function getJitter(wait, opt_perc) {\n  opt_perc = opt_perc || .3;\n  let jitter = wait * opt_perc * Math.random();\n  if (Math.random() > .5) {\n    jitter *= -1;\n  }\n  return jitter;\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CommonSignals} from './common-signals';\nimport {Observable} from './observable';\nimport {Services} from './services';\nimport {Signals} from './utils/signals';\nimport {closestBySelector, escapeHtml} from './dom';\nimport {dev, rethrowAsync, user} from './log';\nimport {disposeServicesForEmbed, getTopWindow} from './service';\nimport {isDocumentReady} from './document-ready';\nimport {layoutRectLtwh, moveLayoutRect} from './layout-rect';\nimport {loadPromise} from './event-helper';\nimport {\n  px,\n  resetStyles,\n  setImportantStyles,\n  setStyle,\n  setStyles,\n} from './style';\nimport {toWin} from './types';\n\n\n/** @const {string} */\nconst EMBED_PROP = '__AMP_EMBED__';\n\n/** @const {!Array<string>} */\nconst EXCLUDE_INI_LOAD =\n    ['AMP-AD', 'AMP-ANALYTICS', 'AMP-PIXEL', 'AMP-AD-EXIT'];\n\n\n/**\n * Parameters used to create the new \"friendly iframe\" embed.\n * - html: The complete content of an AMP embed, which is itself an AMP\n *   document. Can include whatever is normally allowed in an AMP document,\n *   except for AMP `<script>` declarations. Those should be passed as an\n *   array of `extensionIds`.\n * - extensionsIds: An optional array of AMP extension IDs used in this embed.\n * - fonts: An optional array of fonts used in this embed.\n *\n * @typedef {{\n *   host: (?AmpElement|undefined),\n *   url: string,\n *   html: string,\n *   extensionIds: (?Array<string>|undefined),\n *   fonts: (?Array<string>|undefined),\n * }}\n */\nexport let FriendlyIframeSpec;\n\n\n/**\n * @type {boolean|undefined}\n * @visibleForTesting\n */\nlet srcdocSupported;\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setSrcdocSupportedForTesting(val) {\n  srcdocSupported = val;\n}\n\n/**\n * Returns `true` if the Friendly Iframes are supported.\n * @return {boolean}\n */\nfunction isSrcdocSupported() {\n  if (srcdocSupported === undefined) {\n    srcdocSupported = 'srcdoc' in HTMLIFrameElement.prototype;\n  }\n  return srcdocSupported;\n}\n\n\n/**\n * Sets whether the embed is currently visible. The interpretation of visibility\n * is up to the embed parent. However, most of typical cases would rely on\n * whether the embed is currently in the viewport.\n * @param {!FriendlyIframeEmbed} embed\n * @param {boolean} visible\n * TODO(dvoytenko): Re-evaluate and probably drop once layers are ready.\n */\nexport function setFriendlyIframeEmbedVisible(embed, visible) {\n  embed.setVisible_(visible);\n}\n\n\n/**\n * Returns the embed created using `installFriendlyIframeEmbed` or `null`.\n * Caution: This will only return the FIE after the iframe has 'loaded'. If you\n * are checking before this signal you may be in a race condition that returns\n * null.\n * @param {!HTMLIFrameElement} iframe\n * @return {?FriendlyIframeEmbed}\n */\nexport function getFriendlyIframeEmbedOptional(iframe) {\n  return /** @type {?FriendlyIframeEmbed} */ (iframe[EMBED_PROP]);\n}\n\n\n/**\n * Creates the requested \"friendly iframe\" embed. Returns the promise that\n * will be resolved as soon as the embed is available. The actual\n * initialization of the embed will start as soon as the `iframe` is added\n * to the DOM.\n * @param {!HTMLIFrameElement} iframe\n * @param {!Element} container\n * @param {!FriendlyIframeSpec} spec\n * @param {function(!Window)=} opt_preinstallCallback\n * @return {!Promise<!FriendlyIframeEmbed>}\n */\nexport function installFriendlyIframeEmbed(iframe, container, spec,\n  opt_preinstallCallback) {\n  /** @const {!Window} */\n  const win = getTopWindow(toWin(iframe.ownerDocument.defaultView));\n  /** @const {!./service/extensions-impl.Extensions} */\n  const extensions = Services.extensionsFor(win);\n\n  setStyle(iframe, 'visibility', 'hidden');\n  iframe.setAttribute('referrerpolicy', 'unsafe-url');\n\n  // Pre-load extensions.\n  if (spec.extensionIds) {\n    spec.extensionIds.forEach(\n        extensionId => extensions.preloadExtension(extensionId));\n  }\n\n  const html = mergeHtml(spec);\n\n  // Receive the signal when iframe is ready: it's document is formed.\n  iframe.onload = () => {\n    // Chrome does not reflect the iframe readystate.\n    iframe.readyState = 'complete';\n  };\n  const registerViolationListener = () => {\n    iframe.contentWindow.addEventListener('securitypolicyviolation',\n        violationEvent => {\n          dev().warn('FIE', 'security policy violation', violationEvent);\n        });\n  };\n  let loadedPromise;\n  if (isSrcdocSupported()) {\n    iframe.srcdoc = html;\n    loadedPromise = loadPromise(iframe);\n    container.appendChild(iframe);\n    registerViolationListener();\n  } else {\n    iframe.src = 'about:blank';\n    container.appendChild(iframe);\n    const childDoc = iframe.contentWindow.document;\n    childDoc.open();\n    registerViolationListener();\n    childDoc.write(html);\n    // With document.write, `iframe.onload` arrives almost immediately, thus\n    // we need to wait for child's `window.onload`.\n    loadedPromise = loadPromise(iframe.contentWindow);\n    childDoc.close();\n  }\n\n  // Wait for document ready signal.\n  // This is complicated due to crbug.com/649201 on Chrome and a similar issue\n  // on Safari where newly created document's `readyState` immediately equals\n  // `complete`, even though the document itself is not yet available. There's\n  // no other reliable signal for `readyState` in a child window and thus\n  // we have to fallback to polling.\n  let readyPromise;\n  if (isIframeReady(iframe)) {\n    readyPromise = Promise.resolve();\n  } else {\n    readyPromise = new Promise(resolve => {\n      /** @const {number} */\n      const interval = win.setInterval(() => {\n        if (isIframeReady(iframe)) {\n          resolve();\n          win.clearInterval(interval);\n        }\n      }, /* milliseconds */ 5);\n\n      // For safety, make sure we definitely stop polling when child doc is\n      // loaded.\n      loadedPromise.catch(error => {\n        rethrowAsync(error);\n      }).then(() => {\n        resolve();\n        win.clearInterval(interval);\n      });\n    });\n  }\n\n  return readyPromise.then(() => {\n    const embed = new FriendlyIframeEmbed(iframe, spec, loadedPromise);\n    iframe[EMBED_PROP] = embed;\n\n    const childWin = /** @type {!Window} */ (iframe.contentWindow);\n    // Add extensions.\n    extensions.installExtensionsInChildWindow(\n        childWin, spec.extensionIds || [], opt_preinstallCallback);\n    // Ready to be shown.\n    embed.startRender_();\n    return embed;\n  });\n}\n\n\n/**\n * Returns `true` when iframe is ready.\n * @param {!HTMLIFrameElement} iframe\n * @return {boolean}\n */\nfunction isIframeReady(iframe) {\n  // This is complicated due to crbug.com/649201 on Chrome and a similar issue\n  // on Safari where newly created document's `readyState` immediately equals\n  // `complete`, even though the document itself is not yet available. There's\n  // no other reliable signal for `readyState` in a child window and thus\n  // the best way to check is to see the contents of the body.\n  const childDoc = iframe.contentWindow && iframe.contentWindow.document;\n  return !!(childDoc &&\n      isDocumentReady(childDoc) &&\n      childDoc.body &&\n      childDoc.body.firstChild);\n}\n\n\n/**\n * Merges base and fonts into html document.\n * @param {!FriendlyIframeSpec} spec\n */\nfunction mergeHtml(spec) {\n  const originalHtml = spec.html;\n  const originalHtmlUp = originalHtml.toUpperCase();\n\n  // Find the insertion point.\n  let ip = originalHtmlUp.indexOf('<HEAD');\n  if (ip != -1) {\n    ip = originalHtmlUp.indexOf('>', ip + 1) + 1;\n  }\n  if (ip == -1) {\n    ip = originalHtmlUp.indexOf('<BODY');\n  }\n  if (ip == -1) {\n    ip = originalHtmlUp.indexOf('<HTML');\n    if (ip != -1) {\n      ip = originalHtmlUp.indexOf('>', ip + 1) + 1;\n    }\n  }\n\n  const result = [];\n\n  // Preambule.\n  if (ip > 0) {\n    result.push(originalHtml.substring(0, ip));\n  }\n\n  // Add <BASE> tag.\n  result.push(`<base href=\"${escapeHtml(spec.url)}\">`);\n\n  // Load fonts.\n  if (spec.fonts) {\n    spec.fonts.forEach(font => {\n      result.push(\n          `<link href=\"${escapeHtml(font)}\" rel=\"stylesheet\" type=\"text/css\">`);\n    });\n  }\n\n  // Load CSP\n  result.push('<meta http-equiv=Content-Security-Policy ' +\n      'content=\"script-src \\'none\\';object-src \\'none\\';child-src \\'none\\'\">');\n\n  // Postambule.\n  if (ip > 0) {\n    result.push(originalHtml.substring(ip));\n  } else {\n    result.push(originalHtml);\n  }\n\n  return result.join('');\n}\n\n\n/**\n * Exposes `mergeHtml` for testing purposes.\n * @param {!FriendlyIframeSpec} spec\n * @visibleForTesting\n */\nexport function mergeHtmlForTesting(spec) {\n  return mergeHtml(spec);\n}\n\n\n/**\n * A \"friendly iframe\" embed. This is the iframe that's fully accessible to\n * the AMP runtime. It's similar to Shadow DOM in many respects, but it also\n * provides iframe/viewport measurements and enables the use of `vh`, `vw` and\n * `@media` CSS.\n *\n * The friendly iframe is managed by the top-level AMP Runtime. When it's\n * destroyed, the `destroy` method must be called to free up the shared\n * resources.\n */\nexport class FriendlyIframeEmbed {\n\n  /**\n   * @param {!HTMLIFrameElement} iframe\n   * @param {!FriendlyIframeSpec} spec\n   * @param {!Promise} loadedPromise\n   */\n  constructor(iframe, spec, loadedPromise) {\n    /** @const {!HTMLIFrameElement} */\n    this.iframe = iframe;\n\n    /** @const {!Window} */\n    this.win = /** @type{!Window} */(iframe.contentWindow);\n\n    /** @const {!FriendlyIframeSpec} */\n    this.spec = spec;\n\n    /** @const {?AmpElement} */\n    this.host = spec.host || null;\n\n    /** @const @private {time} */\n    this.startTime_ = Date.now();\n\n    /**\n     * Starts out as invisible. The interpretation of this flag is up to\n     * the emded parent.\n     * @private {boolean}\n     */\n    this.visible_ = false;\n\n    /** @private {!Observable<boolean>} */\n    this.visibilityObservable_ = new Observable();\n\n    /** @private @const */\n    this.signals_ = this.host ? this.host.signals() : new Signals();\n\n    /** @private @const {!Promise} */\n    this.winLoadedPromise_ = Promise.all([loadedPromise, this.whenReady()]);\n  }\n\n  /**\n   * Ensures that all resources from this iframe have been released.\n   */\n  destroy() {\n    Services.resourcesForDoc(this.iframe).removeForChildWindow(this.win);\n    disposeServicesForEmbed(this.win);\n  }\n\n  /**\n   * @return {time}\n   */\n  getStartTime() {\n    return this.startTime_;\n  }\n\n  /**\n   * Returns the base URL for the embedded document.\n   * @return {string}\n   */\n  getUrl() {\n    return this.spec.url;\n  }\n\n  /** @return {!Signals} */\n  signals() {\n    return this.signals_;\n  }\n\n  /**\n   * Returns a promise that will resolve when the embed document is ready.\n   * Notice that this signal coincides with the embed's `render-start`.\n   * @return {!Promise}\n   */\n  whenReady() {\n    return this.signals_.whenSignal(CommonSignals.RENDER_START);\n  }\n\n  /**\n   * Returns a promise that will resolve when the child window's `onload` event\n   * has been emitted. In friendly iframes this typically only includes font\n   * loading.\n   * @return {!Promise}\n   */\n  whenWindowLoaded() {\n    return this.winLoadedPromise_;\n  }\n\n  /**\n   * Returns a promise that will resolve when the initial load  of the embed's\n   * content has been completed.\n   * @return {!Promise}\n   */\n  whenIniLoaded() {\n    return this.signals_.whenSignal(CommonSignals.INI_LOAD);\n  }\n\n  /**\n   * @private\n   * @restricted\n   */\n  startRender_() {\n    if (this.host) {\n      this.host.renderStarted();\n    } else {\n      this.signals_.signal(CommonSignals.RENDER_START);\n    }\n    setStyle(this.iframe, 'visibility', '');\n    if (this.win.document && this.win.document.body) {\n      this.win.document.documentElement.classList.add('i-amphtml-fie');\n      setStyles(dev().assertElement(this.win.document.body), {\n        opacity: 1,\n        visibility: 'visible',\n        animation: 'none',\n      });\n    }\n\n    // Initial load signal signal.\n    let rect;\n    if (this.host) {\n      rect = this.host.getLayoutBox();\n    } else {\n      rect = layoutRectLtwh(\n          0, 0,\n          this.win./*OK*/innerWidth,\n          this.win./*OK*/innerHeight);\n    }\n    Promise.all([\n      this.whenReady(),\n      whenContentIniLoad(this.iframe, this.win, rect),\n    ]).then(() => {\n      this.signals_.signal(CommonSignals.INI_LOAD);\n    });\n  }\n\n  /**\n   * Whether the embed is currently visible. The interpretation of visibility\n   * is up to the embed parent. However, most of typical cases would rely on\n   * whether the embed is currently in the viewport.\n   * @return {boolean}\n   * TODO(dvoytenko): Re-evaluate and probably drop once layers are ready.\n   */\n  isVisible() {\n    return this.visible_;\n  }\n\n  /**\n   * See `isVisible` for more info.\n   * @param {function(boolean)} handler\n   * @return {!UnlistenDef}\n   */\n  onVisibilityChanged(handler) {\n    return this.visibilityObservable_.add(handler);\n  }\n\n  /**\n   * @param {boolean} visible\n   * @private\n   * @restricted\n   */\n  setVisible_(visible) {\n    if (this.visible_ != visible) {\n      this.visible_ = visible;\n      this.visibilityObservable_.fire(this.visible_);\n    }\n  }\n\n  /**\n   * @return {!HTMLBodyElement}\n   * @visibleForTesting\n   */\n  getBodyElement() {\n    return /** @type {!HTMLBodyElement} */ (\n      (this.iframe.contentDocument || this.iframe.contentWindow.document)\n          .body);\n  }\n\n  /**\n   * @return {!./service/resources-impl.Resources}\n   * @private\n   */\n  getResources_() {\n    return Services.resourcesForDoc(this.iframe);\n  }\n\n  /**\n   * Runs a measure/mutate cycle ensuring that the iframe change is propagated\n   * to the resource manager.\n   * @param {{measure: (function()|undefined), mutate: function()}} task\n   * @return {!Promise}\n   * @private\n   */\n  measureMutate_(task) {\n    return this.getResources_().measureMutateElement(this.iframe,\n        task.measure || null, task.mutate);\n  }\n\n  /**\n   * @return {!Promise}\n   */\n  enterFullOverlayMode() {\n    const ampAdParent = dev().assertElement(this.iframe.parentNode);\n\n    // Security assertion. Otherwise any 3p frame could request lighbox mode.\n    user().assert(ampAdParent.tagName.toLowerCase() == 'amp-ad',\n        'Only <amp-ad> is allowed to enter lightbox mode.');\n\n    const bodyStyle = {\n      'background': 'transparent',\n      'position': 'absolute',\n      'bottom': 'auto',\n      'right': 'auto',\n\n      // Set for replacing with vsync values.\n      'top': '',\n      'left': '',\n      'width': '',\n      'height': '',\n    };\n\n    const iframeStyle = {\n      'position': 'fixed',\n      'left': 0,\n      'right': 0,\n      'bottom': 0,\n      'width': '100vw',\n      'top': 0,\n      'height': '100vh',\n    };\n\n    return this.measureMutate_({\n      measure: () => {\n        const rect = this.host ?\n          this.host.getLayoutBox() :\n          this.iframe./*OK*/getBoundingClientRect();\n\n        // Offset by scroll top as iframe will be position: fixed.\n        const dy = -Services.viewportForDoc(this.iframe).getScrollTop();\n        const {top, left, width, height} = moveLayoutRect(rect, /* dx */ 0, dy);\n\n        // Offset body by header height to prevent visual jump.\n        Object.assign(bodyStyle, {\n          'top': px(top),\n          'left': px(left),\n          'width': px(width),\n          'height': px(height),\n        });\n      },\n      mutate: () => {\n        // !important to prevent abuse e.g. box @ ltwh = 0, 0, 0, 0\n        setImportantStyles(this.iframe, iframeStyle);\n\n        // We need to override runtime-level !important rules\n        setImportantStyles(this.getBodyElement(), bodyStyle);\n      },\n    });\n  }\n\n  /**\n   * @return {!Promise}\n   */\n  leaveFullOverlayMode() {\n    return this.measureMutate_({\n      mutate: () => {\n        resetStyles(this.iframe, [\n          'position',\n          'left',\n          'right',\n          'top',\n          'bottom',\n          'width',\n          'height',\n        ]);\n\n        // we're not resetting background here as we need to set it to\n        // transparent permanently.\n        resetStyles(this.getBodyElement(), [\n          'position',\n          'top',\n          'left',\n          'width',\n          'height',\n          'bottom',\n          'right',\n        ]);\n      },\n    });\n  }\n}\n\n/**\n * Returns the promise that will be resolved when all content elements\n * have been loaded in the initially visible set.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {!Window} hostWin\n * @param {!./layout-rect.LayoutRectDef} rect\n * @return {!Promise}\n */\nexport function whenContentIniLoad(elementOrAmpDoc, hostWin, rect) {\n  return Services.resourcesForDoc(elementOrAmpDoc)\n      .getResourcesInRect(hostWin, rect)\n      .then(resources => {\n        const promises = [];\n        resources.forEach(r => {\n          if (!EXCLUDE_INI_LOAD.includes(r.element.tagName)) {\n            promises.push(r.loadedOnce());\n          }\n        });\n        return Promise.all(promises);\n      });\n}\n\n/**\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isInFie(element) {\n  return !!closestBySelector(element, '.i-amphtml-fie');\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {GestureRecognizer} from './gesture';\nimport {calcVelocity} from './motion';\n\n\n/**\n * A \"tap\" gesture.\n * @typedef {{\n *   clientX: number,\n *   clientY: number\n * }}\n */\nlet TapDef;\n\n\n/**\n * Recognizes \"tap\" gestures.\n * @extends {GestureRecognizer<TapDef>}\n */\nexport class TapRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('tap', manager);\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {?EventTarget} */\n    this.target_ = null;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    const {touches} = e;\n    this.target_ = e.target;\n    if (touches && touches.length == 1) {\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const touches = e.changedTouches || e.touches;\n    if (touches && touches.length == 1) {\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      const dx = Math.abs(this.lastX_ - this.startX_) >= 8;\n      const dy = Math.abs(this.lastY_ - this.startY_) >= 8;\n      if (dx || dy) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /** @override */\n  onTouchEnd(unusedE) {\n    this.signalReady(0);\n  }\n\n  /** @override */\n  acceptStart() {\n    this.signalEmit({\n      clientX: this.lastX_,\n      clientY: this.lastY_,\n      target: this.target_,\n    }, null);\n    this.signalEnd();\n  }\n}\n\n\n\n/**\n * A \"doubletap\" gesture.\n * @typedef {{\n *   clientX: number,\n *   clientY: number\n * }}\n */\nlet DoubletapDef;\n\n\n/**\n * Recognizes a \"doubletap\" gesture. This gesture will block a single \"tap\"\n * for about 300ms while it's expecting the second \"tap\".\n * @extends {GestureRecognizer<DoubletapDef>}\n */\nexport class DoubletapRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('doubletap', manager);\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {number} */\n    this.tapCount_ = 0;\n\n    /** @private {?Event} */\n    this.event_ = null;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    if (this.tapCount_ > 1) {\n      return false;\n    }\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      const dx = Math.abs(this.lastX_ - this.startX_) >= 8;\n      const dy = Math.abs(this.lastY_ - this.startY_) >= 8;\n      if (dx || dy) {\n        this.acceptCancel();\n        return false;\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    this.tapCount_++;\n    if (this.tapCount_ < 2) {\n      this.signalPending(300);\n    } else {\n      this.event_ = e;\n      this.signalReady(0);\n    }\n  }\n\n  /** @override */\n  acceptStart() {\n    this.tapCount_ = 0;\n    this.signalEmit({clientX: this.lastX_, clientY: this.lastY_}, this.event_);\n    this.signalEnd();\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.tapCount_ = 0;\n  }\n}\n\n\n\n/**\n * A \"swipe-xy\", \"swipe-x\" or \"swipe-y\" gesture. A number of these gestures\n * may be emitted for a single touch series.\n * @typedef {{\n *   first: boolean,\n *   last: boolean,\n *   deltaX: number,\n *   deltaY: number,\n *   velocityX: number,\n *   velocityY: number\n * }}\n */\nexport let SwipeDef;\n\n\n/**\n * Recognizes swipe gestures. This gesture will yield about 10ms to other\n * gestures.\n * @extends {GestureRecognizer<SwipeDef>}\n */\nclass SwipeRecognizer extends GestureRecognizer {\n  /**\n   * @param {string} type\n   * @param {!./gesture.Gestures} manager\n   * @param {boolean} horiz\n   * @param {boolean} vert\n   */\n  constructor(type, manager, horiz, vert) {\n    super(type, manager);\n\n    /** @private {boolean} */\n    this.horiz_ = horiz;\n\n    /** @private {boolean} */\n    this.vert_ = vert;\n\n    /** @private {boolean} */\n    this.eventing_ = false;\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {number} */\n    this.prevX_ = 0;\n\n    /** @private {number} */\n    this.prevY_ = 0;\n\n    /** @private {time} */\n    this.startTime_ = 0;\n\n    /** @private {time} */\n    this.lastTime_ = 0;\n\n    /** @private {time} */\n    this.prevTime_ = 0;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n\n    /** @private {number} */\n    this.velocityY_ = 0;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.startTime_ = Date.now();\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      const {clientX: x, clientY: y} = touches[0] ;\n      this.lastX_ = x;\n      this.lastY_ = y;\n      if (this.eventing_) {\n        this.emit_(false, false, e);\n      } else {\n        const dx = Math.abs(x - this.startX_);\n        const dy = Math.abs(y - this.startY_);\n        // Swipe is penalized slightly since it's one of the least demanding\n        // gesture, thus -10 in signalReady.\n        if (this.horiz_ && this.vert_) {\n          if (dx >= 8 || dy >= 8) {\n            this.signalReady(-10);\n          }\n        } else if (this.horiz_) {\n          if (dx >= 8 && dx > dy) {\n            this.signalReady(-10);\n          } else if (dy >= 8) {\n            return false;\n          }\n        } else if (this.vert_) {\n          if (dy >= 8 && dy > dx) {\n            this.signalReady(-10);\n          } else if (dx >= 8) {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    this.end_(e);\n  }\n\n  /** @override */\n  acceptStart() {\n    this.eventing_ = true;\n    // Reset start coordinates to where the gesture began to avoid visible\n    // jump, but preserve them as \"prev\" coordinates to calculate the right\n    // velocity.\n    this.prevX_ = this.startX_;\n    this.prevY_ = this.startY_;\n    this.prevTime_ = this.startTime_;\n    this.startX_ = this.lastX_;\n    this.startY_ = this.lastY_;\n    this.emit_(true, false, null);\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.eventing_ = false;\n  }\n\n  /**\n   * @param {boolean} first\n   * @param {boolean} last\n   * @param {?Event} event\n   * @private\n   */\n  emit_(first, last, event) {\n    this.lastTime_ = Date.now();\n    const deltaTime = this.lastTime_ - this.prevTime_;\n    // It's often that `touchend` arrives on the next frame. These should\n    // be ignored to avoid a significant velocity downgrade.\n    if ((!last && deltaTime > 4) || (last && deltaTime > 16)) {\n      this.velocityX_ = calcVelocity(this.lastX_ - this.prevX_, deltaTime,\n          this.velocityX_);\n      this.velocityY_ = calcVelocity(this.lastY_ - this.prevY_, deltaTime,\n          this.velocityY_);\n      this.velocityX_ = Math.abs(this.velocityX_) > 1e-4 ? this.velocityX_ : 0;\n      this.velocityY_ = Math.abs(this.velocityY_) > 1e-4 ? this.velocityY_ : 0;\n      this.prevX_ = this.lastX_;\n      this.prevY_ = this.lastY_;\n      this.prevTime_ = this.lastTime_;\n    }\n\n    this.signalEmit({\n      first,\n      last,\n      time: this.lastTime_,\n      deltaX: this.horiz_ ? this.lastX_ - this.startX_ : 0,\n      deltaY: this.vert_ ? this.lastY_ - this.startY_ : 0,\n      startX: this.startX_,\n      startY: this.startY_,\n      lastX: this.lastX_,\n      lastY: this.lastY_,\n      velocityX: this.horiz_ ? this.velocityX_ : 0,\n      velocityY: this.vert_ ? this.velocityY_ : 0,\n    }, event);\n  }\n\n  /**\n   * @param {?Event} event\n   * @private\n   */\n  end_(event) {\n    if (this.eventing_) {\n      this.eventing_ = false;\n      this.emit_(false, true, event);\n      this.signalEnd();\n    }\n  }\n}\n\n\n/**\n * Recognizes \"swipe-xy\" gesture. Yields about 10ms to other gestures.\n */\nexport class SwipeXYRecognizer extends SwipeRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('swipe-xy', manager, true, true);\n  }\n}\n\n\n/**\n * Recognizes \"swipe-x\" gesture. Yields about 10ms to other gestures.\n */\nexport class SwipeXRecognizer extends SwipeRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('swipe-x', manager, true, false);\n  }\n}\n\n\n/**\n * Recognizes \"swipe-y\" gesture. Yields about 10ms to other gestures.\n */\nexport class SwipeYRecognizer extends SwipeRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('swipe-y', manager, false, true);\n  }\n}\n\n\n\n/**\n * A \"tapzoom\" gesture. It has a center, delta off the center center and\n * the velocity of moving away from the center.\n * @typedef {{\n *   first: boolean,\n *   last: boolean,\n *   centerClientX: number,\n *   centerClientY: number,\n *   deltaX: number,\n *   deltaY: number,\n *   velocityX: number,\n *   velocityY: number\n * }}\n */\nlet TapzoomDef;\n\n\n/**\n * Recognizes a \"tapzoom\" gesture. This gesture will block other gestures\n * for about 400ms after first \"tap\" while it's expecting swipe.\n * @extends {GestureRecognizer<TapzoomDef>}\n */\nexport class TapzoomRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('tapzoom', manager);\n\n    /** @private {boolean} */\n    this.eventing_ = false;\n\n    /** @private {number} */\n    this.startX_ = 0;\n\n    /** @private {number} */\n    this.startY_ = 0;\n\n    /** @private {number} */\n    this.lastX_ = 0;\n\n    /** @private {number} */\n    this.lastY_ = 0;\n\n    /** @private {number} */\n    this.tapCount_ = 0;\n\n    /** @private {number} */\n    this.prevX_ = 0;\n\n    /** @private {number} */\n    this.prevY_ = 0;\n\n    /** @private {time} */\n    this.lastTime_ = 0;\n\n    /** @private {time} */\n    this.prevTime_ = 0;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n\n    /** @private {number} */\n    this.velocityY_ = 0;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    if (this.eventing_) {\n      return false;\n    }\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.startX_ = touches[0].clientX;\n      this.startY_ = touches[0].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    if (touches && touches.length == 1) {\n      this.lastX_ = touches[0].clientX;\n      this.lastY_ = touches[0].clientY;\n      if (this.eventing_) {\n        this.emit_(false, false, e);\n      } else {\n        const dx = Math.abs(this.lastX_ - this.startX_) >= 8;\n        const dy = Math.abs(this.lastY_ - this.startY_) >= 8;\n        if (dx || dy) {\n          if (this.tapCount_ == 0) {\n            this.acceptCancel();\n            return false;\n          } else {\n            this.signalReady(0);\n          }\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    if (this.eventing_) {\n      this.end_(e);\n      return;\n    }\n\n    this.tapCount_++;\n    if (this.tapCount_ == 1) {\n      this.signalPending(400);\n      return;\n    }\n\n    this.acceptCancel();\n  }\n\n  /** @override */\n  acceptStart() {\n    this.tapCount_ = 0;\n    this.eventing_ = true;\n    this.emit_(true, false, null);\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.tapCount_ = 0;\n    this.eventing_ = false;\n  }\n\n  /**\n   * @param {boolean} first\n   * @param {boolean} last\n   * @param {?Event} event\n   * @private\n   */\n  emit_(first, last, event) {\n    this.lastTime_ = Date.now();\n    if (first) {\n      this.velocityX_ = this.velocityY_ = 0;\n    } else if (this.lastTime_ - this.prevTime_ > 2) {\n      this.velocityX_ = calcVelocity(this.lastX_ - this.prevX_,\n          this.lastTime_ - this.prevTime_, this.velocityX_);\n      this.velocityY_ = calcVelocity(this.lastY_ - this.prevY_,\n          this.lastTime_ - this.prevTime_, this.velocityY_);\n    }\n    this.prevX_ = this.lastX_;\n    this.prevY_ = this.lastY_;\n    this.prevTime_ = this.lastTime_;\n\n    this.signalEmit({\n      first,\n      last,\n      centerClientX: this.startX_,\n      centerClientY: this.startY_,\n      deltaX: this.lastX_ - this.startX_,\n      deltaY: this.lastY_ - this.startY_,\n      velocityX: this.velocityX_,\n      velocityY: this.velocityY_,\n    }, event);\n  }\n\n  /**\n   * @param {?Event} event\n   * @private\n   */\n  end_(event) {\n    if (this.eventing_) {\n      this.eventing_ = false;\n      this.emit_(false, true, event);\n      this.signalEnd();\n    }\n  }\n}\n\n\n\n/**\n * A \"pinch\" gesture. It has a center, delta off the center center and\n * the velocity of moving away from the center. \"dir\" component of `1`\n * indicates that it's a expand motion and `-1` indicates pinch motion.\n * @typedef {{\n *   first: boolean,\n *   last: boolean,\n *   centerClientX: number,\n *   centerClientY: number,\n *   dir: number,\n *   deltaX: number,\n *   deltaY: number,\n *   velocityX: number,\n *   velocityY: number\n * }}\n */\nlet PinchDef;\n\n/**\n * Threshold in pixels for how much two touches move away from\n * each other before we recognize the gesture as a pinch.\n */\nconst PINCH_ACCEPT_THRESHOLD = 4;\n\n/**\n * Threshold in pixels for how much two touches move in the same\n * direction before we reject the gesture as a pinch.\n */\nconst PINCH_REJECT_THRESHOLD = 10;\n\n/**\n * Recognizes a \"pinch\" gesture.\n * @extends {GestureRecognizer<PinchDef>}\n */\nexport class PinchRecognizer extends GestureRecognizer {\n  /**\n   * @param {!./gesture.Gestures} manager\n   */\n  constructor(manager) {\n    super('pinch', manager);\n\n    /** @private {boolean} */\n    this.eventing_ = false;\n\n    /** @private {number} */\n    this.startX1_ = 0;\n    /** @private {number} */\n    this.startY1_ = 0;\n\n    /** @private {number} */\n    this.startX2_ = 0;\n    /** @private {number} */\n    this.startY2_ = 0;\n\n    /** @private {number} */\n    this.lastX1_ = 0;\n    /** @private {number} */\n    this.lastY1_ = 0;\n\n    /** @private {number} */\n    this.lastX2_ = 0;\n    /** @private {number} */\n    this.lastY2_ = 0;\n\n    /** @private {number} */\n    this.prevDeltaX_ = 0;\n    /** @private {number} */\n    this.prevDeltaY_ = 0;\n\n    /** @private {number} */\n    this.centerClientX_ = 0;\n    /** @private {number} */\n    this.centerClientY_ = 0;\n\n    /** @private {time} */\n    this.startTime_ = 0;\n    /** @private {time} */\n    this.lastTime_ = 0;\n    /** @private {time} */\n    this.prevTime_ = 0;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n    /** @private {number} */\n    this.velocityY_ = 0;\n  }\n\n  /** @override */\n  onTouchStart(e) {\n    const {touches} = e;\n    // Pinch touches are not always simultaneous, continue to listen\n    // for second touch.\n    if (touches && touches.length == 1) {\n      return true;\n    } else if (touches && touches.length == 2) {\n      this.startTime_ = Date.now();\n      this.startX1_ = touches[0].clientX;\n      this.startY1_ = touches[0].clientY;\n      this.startX2_ = touches[1].clientX;\n      this.startY2_ = touches[1].clientY;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchMove(e) {\n    const {touches} = e;\n    // Pinch touches are not always simultaneous, continue to listen\n    // for second touch.\n    if (touches && touches.length == 1) {\n      return true;\n    } else if (touches && touches.length == 2) {\n      this.lastX1_ = touches[0].clientX;\n      this.lastY1_ = touches[0].clientY;\n      this.lastX2_ = touches[1].clientX;\n      this.lastY2_ = touches[1].clientY;\n      if (this.eventing_) {\n        this.emit_(false, false, e);\n      } else {\n        const dx1 = this.lastX1_ - this.startX1_;\n        const dy1 = this.lastY1_ - this.startY1_;\n        const dx2 = this.lastX2_ - this.startX2_;\n        const dy2 = this.lastY2_ - this.startY2_;\n        // Fingers should move in opposite directions and go over the threshold.\n        if (dx1 * dx2 <= 0 && dy1 * dy2 <= 0) {\n          if (Math.abs(dx1 - dx2) >= PINCH_ACCEPT_THRESHOLD\n            || Math.abs(dy1 - dy2) >= PINCH_ACCEPT_THRESHOLD) {\n            this.signalReady(0);\n          }\n        } else if (Math.abs(dx1 + dx2) >= PINCH_REJECT_THRESHOLD\n          || Math.abs(dy1 + dy2) >= PINCH_REJECT_THRESHOLD) {\n          // Moving in the same direction over a threshold.\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** @override */\n  onTouchEnd(e) {\n    this.end_(e);\n  }\n\n  /** @override */\n  acceptStart() {\n    this.eventing_ = true;\n    this.prevTime_ = this.startTime_;\n    this.prevDeltaX_ = 0;\n    this.prevDeltaY_ = 0;\n    this.centerClientX_ = (this.startX1_ + this.startX2_) * 0.5;\n    this.centerClientY_ = (this.startY1_ + this.startY2_) * 0.5;\n    this.emit_(true, false, null);\n  }\n\n  /** @override */\n  acceptCancel() {\n    this.eventing_ = false;\n  }\n\n  /**\n   * @param {boolean} first\n   * @param {boolean} last\n   * @param {?Event} event\n   * @private\n   */\n  emit_(first, last, event) {\n    this.lastTime_ = Date.now();\n    const deltaTime = this.lastTime_ - this.prevTime_;\n    const deltaX = this.deltaX_();\n    const deltaY = this.deltaY_();\n    // It's often that `touchend` arrives on the next frame. These should\n    // be ignored to avoid a significant velocity downgrade.\n    if ((!last && deltaTime > 4) || (last && deltaTime > 16)) {\n      this.velocityX_ = calcVelocity(deltaX - this.prevDeltaX_, deltaTime,\n          this.velocityX_);\n      this.velocityY_ = calcVelocity(deltaY - this.prevDeltaY_, deltaTime,\n          this.velocityY_);\n      this.velocityX_ = Math.abs(this.velocityX_) > 1e-4 ? this.velocityX_ : 0;\n      this.velocityY_ = Math.abs(this.velocityY_) > 1e-4 ? this.velocityY_ : 0;\n      this.prevDeltaX_ = deltaX;\n      this.prevDeltaY_ = deltaY;\n      this.prevTime_ = this.lastTime_;\n    }\n\n    const startSq = this.sqDist_(this.startX1_, this.startX2_,\n        this.startY1_, this.startY2_);\n    const lastSq = this.sqDist_(this.lastX1_, this.lastX2_,\n        this.lastY1_, this.lastY2_);\n    this.signalEmit({\n      first,\n      last,\n      time: this.lastTime_,\n      centerClientX: this.centerClientX_,\n      centerClientY: this.centerClientY_,\n      dir: Math.sign(lastSq - startSq),\n      deltaX: deltaX * 0.5,\n      deltaY: deltaY * 0.5,\n      velocityX: this.velocityX_ * 0.5,\n      velocityY: this.velocityY_ * 0.5,\n    }, event);\n  }\n\n  /**\n   * @param {?Event} event\n   * @private\n   */\n  end_(event) {\n    if (this.eventing_) {\n      this.eventing_ = false;\n      this.emit_(false, true, event);\n      this.signalEnd();\n    }\n  }\n\n  /**\n   * @param {number} x1\n   * @param {number} x2\n   * @param {number} y1\n   * @param {number} y2\n   * @return {number}\n   * @private\n   */\n  sqDist_(x1, x2, y1, y2) {\n    return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  deltaX_() {\n    return Math.abs((this.lastX1_ - this.startX1_) -\n        (this.lastX2_ - this.startX2_));\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  deltaY_() {\n    return Math.abs((this.lastY1_ - this.startY1_) -\n        (this.lastY2_ - this.startY2_));\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Observable} from './observable';\nimport {Pass} from './pass';\nimport {dev} from './log';\nimport {findIndex} from './utils/array';\nimport {toWin} from './types';\n\n\nconst PROP_ = '__AMP_Gestures';\n\n\n/**\n * A gesture object contains the type and data of the gesture such as\n * a tap or a double-tap or a swipe. See {@link GestureRecognizer} for\n * more details.\n * @struct\n * @const\n * @template DATA\n */\nexport class Gesture {\n  /**\n   * @param {string} type The gesture's string type.\n   * @param {DATA} data The data of the gesture.\n   * @param {time} time The time that the gesture has been emitted.\n   * @param {?Event} event An optional browser event that resulted in the\n   *   gesture.\n   */\n  constructor(type, data, time, event) {\n    /** @const {string} */\n    this.type = type;\n    /** @const {DATA} */\n    this.data = data;\n    /** @const {time} */\n    this.time = time;\n    /** @const {?Event} */\n    this.event = event;\n  }\n}\n\n\n/**\n * Gestures object manages all gestures on a particular element. It listens\n * to all pointer events and delegates them to individual gesture recognizers.\n * When a recognizer has recognized a gesture and ready to start emitting it\n * it requests permission to do so from this class which resolves conflicts\n * between competing recognizers to decide which gesture should go forward.\n */\nexport class Gestures {\n\n  /**\n   * Creates if not yet created and returns the shared Gestures instance for\n   * the specified element.\n   * @param {!Element} element\n   * @param {boolean=} opt_shouldNotPreventDefault\n   * @return {!Gestures}\n   */\n  static get(element, opt_shouldNotPreventDefault = false) {\n    let res = element[PROP_];\n    if (!res) {\n      res = new Gestures(element, opt_shouldNotPreventDefault);\n      element[PROP_] = res;\n    }\n    return res;\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {boolean} shouldNotPreventDefault\n   */\n  constructor(element, shouldNotPreventDefault) {\n    /** @private {!Element} */\n    this.element_ = element;\n\n    /** @private {!Array<!GestureRecognizer>} */\n    this.recognizers_ = [];\n\n    /** @private {!Array<boolean>} */\n    this.tracking_ = [];\n\n    /** @private {!Array<time>} */\n    this.ready_ = [];\n\n    /** @private {!Array<time>} */\n    this.pending_ = [];\n\n    /** @private {?GestureRecognizer} */\n    this.eventing_ = null;\n\n    /** @private {boolean} */\n    this.shouldNotPreventDefault_ = shouldNotPreventDefault;\n\n    /**\n     * This variable indicates that the eventing has stopped on this\n     * event cycle.\n     * @private {boolean}\n     */\n    this.wasEventing_ = false;\n\n    /** @private {!Pass} */\n    this.pass_ = new Pass(toWin(element.ownerDocument.defaultView),\n        this.doPass_.bind(this));\n\n    /** @private {!Observable} */\n    this.pointerDownObservable_ = new Observable();\n\n    /**\n     * Observers for each type of registered gesture types.\n     * @private {!Object<string, !Observable<!Gesture>>}\n     */\n    this.overservers_ = Object.create(null);\n\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchStart_ = this.onTouchStart_.bind(this);\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchEnd_ = this.onTouchEnd_.bind(this);\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchMove_ = this.onTouchMove_.bind(this);\n    /** @private @const {function(!Event)} */\n    this.boundOnTouchCancel_ = this.onTouchCancel_.bind(this);\n\n    this.element_.addEventListener('touchstart', this.boundOnTouchStart_);\n    this.element_.addEventListener('touchend', this.boundOnTouchEnd_);\n    this.element_.addEventListener('touchmove', this.boundOnTouchMove_);\n    this.element_.addEventListener('touchcancel', this.boundOnTouchCancel_);\n\n    /** @private {boolean} */\n    this.passAfterEvent_ = false;\n  }\n\n  /**\n   * Unsubscribes from all pointer events and removes the shared cache instance.\n   */\n  cleanup() {\n    this.element_.removeEventListener('touchstart', this.boundOnTouchStart_);\n    this.element_.removeEventListener('touchend', this.boundOnTouchEnd_);\n    this.element_.removeEventListener('touchmove', this.boundOnTouchMove_);\n    this.element_.removeEventListener('touchcancel', this.boundOnTouchCancel_);\n    delete this.element_[PROP_];\n    this.pass_.cancel();\n  }\n\n  /**\n   * Subscribes to a gesture emitted by the specified recognizer. For a first\n   * gesture handler registered in this method the recognizer is installed\n   * and from that point on it participates in the event processing.\n   *\n   * @param {function(new:GestureRecognizer<DATA>, !Gestures)} recognizerConstr\n   * @param {function(!Gesture<DATA>)} handler\n   * @return {!UnlistenDef}\n   * @template DATA\n   */\n  onGesture(recognizerConstr, handler) {\n    const recognizer = new recognizerConstr(this);\n    const type = recognizer.getType();\n    let overserver = this.overservers_[type];\n    if (!overserver) {\n      this.recognizers_.push(recognizer);\n      overserver = new Observable();\n      this.overservers_[type] = overserver;\n    }\n    return overserver.add(handler);\n  }\n\n  /**\n   * Unsubscribes all handlers from the given gesture recognizer. Returns\n   * true if anything was done. Returns false if there were no handlers\n   * registered on the given gesture recognizer in first place.\n   *\n   * @param {function(new:GestureRecognizer<DATA>, !Gestures)} recognizerConstr\n   * @return {boolean}\n   */\n  removeGesture(recognizerConstr) {\n    const type = new recognizerConstr(this).getType();\n    const overserver = this.overservers_[type];\n    if (overserver) {\n      overserver.removeAll();\n      const index = findIndex(this.recognizers_, e => e.getType() == type);\n      if (index < 0) {\n        return false;\n      }\n      // Remove the recognizer as well as all associated tracking state\n      this.recognizers_.splice(index, 1);\n      this.ready_.splice(index, 1);\n      this.pending_.splice(index, 1);\n      this.tracking_.splice(index, 1);\n      delete this.overservers_[type];\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Subscribes to pointer down events, such as \"touchstart\" or \"mousedown\".\n   * @param {!Function} handler\n   * @return {!UnlistenDef}\n   */\n  onPointerDown(handler) {\n    return this.pointerDownObservable_.add(handler);\n  }\n\n  /**\n   * Handles all \"touchstart\" events and dispatches them to the tracking\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchStart_(event) {\n    const now = Date.now();\n    this.wasEventing_ = false;\n\n    this.pointerDownObservable_.fire(event);\n\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.ready_[i]) {\n        // If the recognizer is in the \"ready\" state, it won't receive\n        // any more touch series until it's allowed to emit.\n        continue;\n      }\n      if (this.pending_[i] && this.pending_[i] < now) {\n        // Pending state expired. Reset.\n        this.stopTracking_(i);\n      }\n      if (this.recognizers_[i].onTouchStart(event)) {\n        // When a recognizer is interested in the touch series it returns \"true\"\n        // from its onTouchStart method. For this recognizer we start tracking\n        // the whole series of touch events from touchstart to touchend. Other\n        // recognizers will not receive them unless they return \"true\" from\n        // onTouchStart.\n        this.startTracking_(i);\n      }\n    }\n\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Handles all \"touchmove\" events and dispatches them to the tracking\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchMove_(event) {\n    const now = Date.now();\n\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (!this.tracking_[i]) {\n        // The whole touch series are ignored for non-tracking recognizers.\n        continue;\n      }\n      if (this.pending_[i] && this.pending_[i] < now) {\n        // Pending state expired. Reset.\n        this.stopTracking_(i);\n        continue;\n      }\n      if (!this.recognizers_[i].onTouchMove(event)) {\n        // Recognizer lost interest in the series. Reset.\n        this.stopTracking_(i);\n      }\n    }\n\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Handles all \"touchend\" events and dispatches them to the tracking\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchEnd_(event) {\n    const now = Date.now();\n\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (!this.tracking_[i]) {\n        // The whole touch series are ignored for non-tracking recognizers.\n        continue;\n      }\n      if (this.pending_[i] && this.pending_[i] < now) {\n        // Pending state expired. Reset.\n        this.stopTracking_(i);\n        continue;\n      }\n      this.recognizers_[i].onTouchEnd(event);\n      if (!this.pending_[i] || this.pending_[i] < now) {\n        this.stopTracking_(i);\n      }\n    }\n\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Handles all \"touchcancel\" events. Cancels all tracking/emitting\n   * recognizers.\n   * @param {!Event} event\n   * @private\n   */\n  onTouchCancel_(event) {\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      this.cancelEventing_(i);\n    }\n    this.afterEvent_(event);\n  }\n\n  /**\n   * Callback for a gesture recognizer to communicate that it's ready to\n   * start emitting gestures. Gestures instance may or may not allow the\n   * recognizer to proceed.\n   * @param {!GestureRecognizer} recognizer\n   * @param {number} offset\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalReady_(recognizer, offset) {\n    // Somebody got here first.\n    if (this.eventing_) {\n      recognizer.acceptCancel();\n      return;\n    }\n\n    // Set the recognizer as ready and wait for the pass to\n    // make the decision.\n    const now = Date.now();\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.recognizers_[i] == recognizer) {\n        this.ready_[i] = now + offset;\n        this.pending_[i] = 0;\n      }\n    }\n    this.passAfterEvent_ = true;\n  }\n\n  /**\n   * Callback for a gesture recognizer to communicate that it's close to\n   * start emitting gestures, but needs more time to see more events. Once\n   * this time expires the recognizer should either signal readiness or it\n   * will be canceled.\n   * @param {!GestureRecognizer} recognizer\n   * @param {number} timeLeft\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalPending_(recognizer, timeLeft) {\n    // Somebody got here first.\n    if (this.eventing_) {\n      recognizer.acceptCancel();\n      return;\n    }\n\n    const now = Date.now();\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.recognizers_[i] == recognizer) {\n        this.pending_[i] = now + timeLeft;\n      }\n    }\n  }\n\n  /**\n   * Callback for a gesture recognizer to communicate that it's done\n   * emitting gestures.\n   * @param {!GestureRecognizer} recognizer\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalEnd_(recognizer) {\n    if (this.eventing_ == recognizer) {\n      this.eventing_ = null;\n      this.wasEventing_ = true;\n    }\n  }\n\n  /**\n   * Callback for a gesture emit the gesture. Only the currently emitting\n   * recognizer is allowed to emit gestures.\n   * @param {!GestureRecognizer} recognizer\n   * @param {*} data\n   * @param {?Event} event\n   * @private\n   * @restricted\n   * @visibleForTesting\n   */\n  signalEmit_(recognizer, data, event) {\n    dev().assert(this.eventing_ == recognizer,\n        'Recognizer is not currently allowed: %s', recognizer.getType());\n    const overserver = this.overservers_[recognizer.getType()];\n    if (overserver) {\n      overserver.fire(new Gesture(recognizer.getType(), data, Date.now(),\n          event));\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   * @private\n   */\n  afterEvent_(event) {\n    let cancelEvent = !!this.eventing_ || this.wasEventing_;\n    this.wasEventing_ = false;\n    if (!cancelEvent) {\n      const now = Date.now();\n      for (let i = 0; i < this.recognizers_.length; i++) {\n        if (this.ready_[i] ||\n                (this.pending_[i] && this.pending_[i] >= now)) {\n          cancelEvent = true;\n          break;\n        }\n      }\n    }\n    if (cancelEvent) {\n      event.stopPropagation();\n      if (!this.shouldNotPreventDefault_) {\n        event.preventDefault();\n      }\n    }\n    if (this.passAfterEvent_) {\n      this.passAfterEvent_ = false;\n      this.doPass_();\n    }\n  }\n\n  /**\n   * The pass that decides which recognizers can start emitting and which\n   * are canceled.\n   * @private\n   */\n  doPass_() {\n    const now = Date.now();\n\n    // The \"most ready\" recognizer is the youngest in the \"ready\" set.\n    // Otherwise we wouldn't wait for it at all.\n    let readyIndex = -1;\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (!this.ready_[i]) {\n        if (this.pending_[i] && this.pending_[i] < now) {\n          // Pending state expired. Reset.\n          this.stopTracking_(i);\n        }\n        continue;\n      }\n      if (readyIndex == -1 || this.ready_[i] > this.ready_[readyIndex]) {\n        readyIndex = i;\n      }\n    }\n\n    if (readyIndex == -1) {\n      // Nothing to do.\n      return;\n    }\n\n    // Look for conflicts.\n    let waitTime = 0;\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (this.ready_[i] || !this.tracking_[i]) {\n        continue;\n      }\n      waitTime = Math.max(waitTime, this.pending_[i] - now);\n    }\n\n    if (waitTime < 2) {\n      // We waited long enough.\n      this.startEventing_(readyIndex);\n      return;\n    }\n\n    // Some conflicts: have to wait to see who wins.\n    this.pass_.schedule(waitTime);\n  }\n\n  /**\n   * This recognizer is given \"go ahead\" and all others are canceled.\n   * @param {number} index\n   * @private\n   */\n  startEventing_(index) {\n    const recognizer = this.recognizers_[index];\n    for (let i = 0; i < this.recognizers_.length; i++) {\n      if (i != index) {\n        this.cancelEventing_(i);\n      }\n    }\n    this.ready_[index] = 0;\n    this.pending_[index] = 0;\n    this.eventing_ = recognizer;\n    recognizer.acceptStart();\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  startTracking_(index) {\n    this.tracking_[index] = true;\n    this.pending_[index] = 0;\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  stopTracking_(index) {\n    this.tracking_[index] = false;\n    this.pending_[index] = 0;\n    if (!this.ready_[index]) {\n      this.recognizers_[index].acceptCancel();\n    }\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  cancelEventing_(index) {\n    this.ready_[index] = 0;\n    this.stopTracking_(index);\n  }\n}\n\n\n/**\n * The gesture recognizer receives the pointer events from Gestures instance.\n * Based on these events, it can \"recognize\" the gesture it's responsible for,\n * request to start emitting and emit gestures. Gestures instances manages\n * several competing recognizers and decides which ones get to emit gestures\n * and which do not.\n *\n * The recognizer can be in several main states:\n * 1. Tracking state. In this state the recognizer is receiving the series of\n *    touch events from touchstart to touchend. To get into this state the\n *    recognizer has to return \"true\" from the {@link onTouchStart}.\n * 2. Pending state (optional). The recognizer matched part of the gesture,\n *    but needs more time to get track more events. It requests more time\n *    by calling {@link signalPending}, By the end of this time the recognizer\n *    has either matched the gesture or has been canceled.\n * 3. Ready state. The recognizer matched the whole gesture and ready to start\n *    emitting. It communicates to the Gestures this readiness by calling\n *    {@link signalReady}.\n * 5. Emitting state. If Gestures decides to go ahead with this recognizer, it\n *    will call {@link acceptStart} method. Otherwise, it will call\n *    {@link acceptCancel} method. Once in the emitting state, the recognizer\n *    can emit any number of events by calling {@link signalEmit}.\n * 6. Complete state. Once done, the recognizer can call {@link signalEnd} to\n *    communicate that it's done.\n *\n * @template DATA\n */\nexport class GestureRecognizer {\n\n  /**\n   * @param {string} type\n   * @param {!Gestures} manager\n   */\n  constructor(type, manager) {\n    /** @private @const {string} */\n    this.type_ = type;\n\n    /** @private @const {!Gestures} */\n    this.manager_ = manager;\n  }\n\n  /**\n   * Returns the type of the gesture emitted by the instance of this class.\n   * It has to be unique in the scope of the Gestures instance.\n   * @return {string}\n   */\n  getType() {\n    return this.type_;\n  }\n\n  /**\n   * The recognizer can call this method to communicate that it's ready to\n   * start emitting the gesture. Optionally it can pass a zero, positive or\n   * negative offset - a time on how much the gesture should be penalized or\n   * given advantage in conflict resolution. The recognizer at this point is\n   * in the \"ready\" state.\n   * @param {time} offset\n   */\n  signalReady(offset) {\n    this.manager_.signalReady_(this, offset);\n  }\n\n  /**\n   * The recognizer can call this method to communicate that it needs more\n   * time (timeLeft) to match the gesture. By the end of this time the\n   * recognizer has to either transit to the ready state using\n   * {@link signalReady} or it will be canceled. The recognizer is in the\n   * \"pending\" state.\n   * @param {time} timeLeft\n   */\n  signalPending(timeLeft) {\n    this.manager_.signalPending_(this, timeLeft);\n  }\n\n  /**\n   * The recognizer can call this method to communicate that it's done\n   * emitting the gestures. It will return to the waiting state. Recognizer\n   * can only call this method if it has previously received the\n   * {@link acceptStart} call.\n   */\n  signalEnd() {\n    this.manager_.signalEnd_(this);\n  }\n\n  /**\n   * The recognizer can call this method to emit the gestures while in the\n   * \"emitting\" state. Recognizer can only call this method if it has\n   * previously received the {@link acceptStart} call.\n   * @param {DATA} data\n   * @param {?Event} event\n   */\n  signalEmit(data, event) {\n    this.manager_.signalEmit_(this, data, event);\n  }\n\n  /**\n   * The Gestures instance calls this method to allow the recognizer to start\n   * emitting the gestures. At this point the recognizer is in the \"emitting\"\n   * state. It will be in this state until it calls {@link signalEnd} or\n   * the {@link acceptCancel} is called by the Gestures instance.\n   */\n  acceptStart() {\n  }\n\n  /**\n   * The Gestures instance calls this method to reset the recognizer. At this\n   * point the recognizer is in the initial waiting state.\n   */\n  acceptCancel() {\n  }\n\n  /**\n   * The Gestures instance calls this method for each \"touchstart\" event. If\n   * the recognizer wants to receive other touch events in the series, it has\n   * to return \"true\".\n   * @param {!Event} unusedEvent\n   * @return {boolean}\n   */\n  onTouchStart(unusedEvent) {\n    return false;\n  }\n\n  /**\n   * The Gestures instance calls this method for each \"touchmove\" event. If\n   * the recognizer wants to continue receiving touch events in the series,\n   * it has to return \"true\".\n   * @param {!Event} unusedEvent\n   * @return {boolean}\n   */\n  onTouchMove(unusedEvent) {\n    return false;\n  }\n\n  /**\n   * The Gestures instance calls this method for the \"touchend\" event.\n   * Somewhere within this touch series the recognizer has to call\n   * {@link signalReady} or {@link signalPending} or it will be reset for the\n   * next touch series.\n   * @param {!Event} unusedEvent\n   */\n  onTouchEnd(unusedEvent) {\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This module declares JSON types as defined in the\n * {@link http://json.org/}.\n */\n\nimport {isObject} from './types';\n\n\n// NOTE Type are changed to {*} because of\n// https://github.com/google/closure-compiler/issues/1999\n\n/**\n * JSON scalar. It's either string, number or boolean.\n * @typedef {*} should be string|number|boolean\n */\nlet JSONScalarDef;\n\n\n/**\n * JSON object. It's a map with string keys and JSON values.\n * @typedef {*} should be !Object<string, ?JSONValueDef>\n */\nlet JSONObjectDef;\n\n\n/**\n * JSON array. It's an array with JSON values.\n * @typedef {*} should be !Array<?JSONValueDef>\n */\nlet JSONArrayDef;\n\n\n/**\n * JSON value. It's either a scalar, an object or an array.\n * @typedef {*} should be !JSONScalarDef|!JSONObjectDef|!JSONArrayDef\n */\nlet JSONValueDef;\n\n/**\n * Recreates objects with prototype-less copies.\n * @param {!JsonObject} obj\n * @return {!JsonObject}\n */\nexport function recreateNonProtoObject(obj) {\n  const copy = Object.create(null);\n  for (const k in obj) {\n    if (!hasOwnProperty(obj, k)) {\n      continue;\n    }\n    const v = obj[k];\n    copy[k] = isObject(v) ? recreateNonProtoObject(v) : v;\n  }\n  return /** @type {!JsonObject} */ (copy);\n}\n\n/**\n * Returns a value from an object for a field-based expression. The expression\n * is a simple nested dot-notation of fields, such as `field1.field2`. If any\n * field in a chain does not exist or is not an object or array, the returned\n * value will be `undefined`.\n *\n * @param {!JsonObject} obj\n * @param {string} expr\n * @return {*}\n */\nexport function getValueForExpr(obj, expr) {\n  // The `.` indicates \"the object itself\".\n  if (expr == '.') {\n    return obj;\n  }\n  // Otherwise, navigate via properties.\n  const parts = expr.split('.');\n  let value = obj;\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n    if (part &&\n        value &&\n        value[part] !== undefined &&\n        hasOwnProperty(value, part)\n    ) {\n      value = value[part];\n      continue;\n    }\n    value = undefined;\n    break;\n  }\n  return value;\n}\n\n/**\n * Simple wrapper around JSON.parse that casts the return value\n * to JsonObject.\n * Create a new wrapper if an array return value is desired.\n * @param {*} json JSON string to parse\n * @return {?JsonObject} May be extend to parse arrays.\n */\nexport function parseJson(json) {\n  return /** @type {?JsonObject} */(JSON.parse(/** @type {string} */ (json)));\n}\n\n/**\n * Parses the given `json` string without throwing an exception if not valid.\n * Returns `undefined` if parsing fails.\n * Returns the `Object` corresponding to the JSON string when parsing succeeds.\n * @param {*} json JSON string to parse\n * @param {function(!Error)=} opt_onFailed Optional function that will be called\n *     with the error if parsing fails.\n * @return {?JsonObject|undefined} May be extend to parse arrays.\n */\nexport function tryParseJson(json, opt_onFailed) {\n  try {\n    return parseJson(json);\n  } catch (e) {\n    if (opt_onFailed) {\n      opt_onFailed(e);\n    }\n    return undefined;\n  }\n}\n\n/**\n * Recursively checks strict equality of items in nested arrays and objects.\n *\n * @param {JSONValueDef} a\n * @param {JSONValueDef} b\n * @param {number} depth The maximum recursion depth. Must be finite.\n * @return {boolean}\n * @throws {Error} If depth argument is not finite.\n */\nexport function recursiveEquals(a, b, depth = 3) {\n  if (!isFinite(depth)) {\n    throw new Error('depth arg must be finite: ' + depth);\n  }\n  if (a === b) {\n    return true;\n  }\n  // Only check shallow equality for depth < 1.\n  if (depth < 1) {\n    return false;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!recursiveEquals(a[i], b[i], depth - 1)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const keysA = Object.keys(/** @type {!Object} */ (a));\n    const keysB = Object.keys(/** @type {!Object} */ (b));\n    if (keysA.length !== keysB.length) {\n      return false;\n    }\n    for (let i = 0; i < keysA.length; i++) {\n      const keyA = keysA[i];\n      const valueA = a[keyA];\n      const valueB = b[keyA];\n      if (!recursiveEquals(valueA, valueB, depth - 1)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\n\n/**\n * @param {*} obj\n * @param {string} key\n * @return {boolean}\n */\nfunction hasOwnProperty(obj, key) {\n  if (obj == null || typeof obj != 'object') {\n    return false;\n  }\n  return Object.prototype.hasOwnProperty.call(\n      /** @type {!Object} */ (obj), key);\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The structure that combines position and size for an element. The exact\n * interpretation of position and size depends on the use case.\n *\n * @typedef {{\n *   top: number,\n *   bottom: number,\n *   left: number,\n *   right: number,\n *   width: number,\n *   height: number,\n *   x: number,\n *   y: number\n * }}\n */\nexport let LayoutRectDef;\n\n\n/**\n * The structure that represents the margins of an Element.\n *\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n */\nexport let LayoutMarginsDef;\n\n\n/**\n * The structure that represents a requested change to the margins of an\n * Element. Any new values specified will replace existing ones (rather than\n * being additive).\n *\n * @typedef {{\n *   top: (number|undefined),\n *   right: (number|undefined),\n *   bottom: (number|undefined),\n *   left: (number|undefined)\n * }}\n */\nexport let LayoutMarginsChangeDef;\n\n/**\n* RelativePositions\n*\n* Describes the relative position of an element to another (whether the\n* first is inside the second, on top of the second or on the bottom\n* @enum {string}\n*/\nexport const RelativePositions = {\n  INSIDE: 'inside',\n  TOP: 'top',\n  BOTTOM: 'bottom',\n};\n\n/**\n * Creates a layout rect based on the left, top, width and height parameters\n * in that order.\n * @param {number} left\n * @param {number} top\n * @param {number} width\n * @param {number} height\n * @return {!LayoutRectDef}\n */\nexport function layoutRectLtwh(left, top, width, height) {\n  return {\n    left,\n    top,\n    width,\n    height,\n    bottom: top + height,\n    right: left + width,\n    x: left,\n    y: top,\n  };\n}\n\n\n/**\n * Creates a layout rect based on the DOMRect, e.g. obtained from calling\n * getBoundingClientRect.\n * @param {!ClientRect} rect\n * @return {!LayoutRectDef}\n */\nexport function layoutRectFromDomRect(rect) {\n  return layoutRectLtwh(Number(rect.left), Number(rect.top),\n      Number(rect.width), Number(rect.height));\n}\n\n/**\n * Returns true if the specified two rects overlap by a single pixel.\n * @param {!LayoutRectDef} r1\n * @param {!LayoutRectDef} r2\n * @return {boolean}\n */\nexport function layoutRectsOverlap(r1, r2) {\n  return (r1.top <= r2.bottom && r2.top <= r1.bottom &&\n      r1.left <= r2.right && r2.left <= r1.right);\n}\n\n\n/**\n * Returns the intersection between a, b or null if there is none.\n * @param {...?LayoutRectDef|undefined} var_args\n * @return {?LayoutRectDef}\n */\nexport function rectIntersection(var_args) {\n  let x0 = -Infinity;\n  let x1 = Infinity;\n  let y0 = -Infinity;\n  let y1 = Infinity;\n  for (let i = 0; i < arguments.length; i++) {\n    const current = arguments[i];\n    if (!current) {\n      continue;\n    }\n    x0 = Math.max(x0, current.left);\n    x1 = Math.min(x1, current.left + current.width);\n    y0 = Math.max(y0, current.top);\n    y1 = Math.min(y1, current.top + current.height);\n    if (x1 < x0 || y1 < y0) {\n      return null;\n    }\n  }\n  if (x1 == Infinity) {\n    return null;\n  }\n  return layoutRectLtwh(x0, y0, x1 - x0, y1 - y0);\n}\n\n/**\n * Returns the position of r2 relative to r1\n * @param {!LayoutRectDef} r1\n * @param {!LayoutRectDef} r2\n * @return {RelativePositions}\n */\nexport function layoutRectsRelativePos(r1, r2) {\n  if (r1.top < r2.top) {\n    return RelativePositions.TOP;\n  } else if (r1.bottom > r2.bottom) {\n    return RelativePositions.BOTTOM;\n  } else {\n    return RelativePositions.INSIDE;\n  }\n}\n\n/**\n * Expand the layout rect using multiples of width and height.\n * @param {!LayoutRectDef} rect Original rect.\n * @param {number} dw Expansion in width, specified as a multiple of width.\n * @param {number} dh Expansion in height, specified as a multiple of height.\n * @return {!LayoutRectDef}\n */\nexport function expandLayoutRect(rect, dw, dh) {\n  return layoutRectLtwh(rect.left - rect.width * dw,\n      rect.top - rect.height * dh,\n      rect.width * (1 + dw * 2),\n      rect.height * (1 + dh * 2));\n}\n\n/**\n * Moves the layout rect using dx and dy.\n * @param {!LayoutRectDef} rect Original rect.\n * @param {number} dx Move horizontally with this value.\n * @param {number} dy Move vertically with this value.\n * @return {!LayoutRectDef}\n */\nexport function moveLayoutRect(rect, dx, dy) {\n  if ((dx == 0 && dy == 0) ||\n      (rect.width == 0 && rect.height == 0)) {\n    return rect;\n  }\n  return layoutRectLtwh(rect.left + dx, rect.top + dy,\n      rect.width, rect.height);\n}\n\n\n/**\n * @param {!LayoutMarginsDef} margins\n * @param {!LayoutMarginsChangeDef} change\n * @return {boolean}\n */\nexport function areMarginsChanged(margins, change) {\n  return (change.top !== undefined && change.top != margins.top) ||\n      (change.right !== undefined && change.right != margins.right) ||\n      (change.bottom !== undefined && change.bottom != margins.bottom) ||\n      (change.left !== undefined && change.left != margins.left);\n}\n\n/**\n * @param {!LayoutRectDef} from\n * @param {!LayoutRectDef} to\n * @return {boolean}\n */\nexport function layoutRectSizeEquals(from, to) {\n  return from.width == to.width &&\n      from.height === to.height;\n}\n\n/**\n * @param {?LayoutRectDef} r1\n * @param {?LayoutRectDef} r2\n * @return {boolean}\n */\nexport function layoutRectEquals(r1, r2) {\n  if (!r1 || !r2) {\n    return false;\n  }\n  return r1.left == r2.left && r1.top == r2.top &&\n      r1.width == r2.width && r1.height == r2.height;\n}\n\n/**\n * @param {LayoutMarginsChangeDef|undefined} marginsChange\n * @return {LayoutMarginsChangeDef|undefined}\n */\nexport function cloneLayoutMarginsChangeDef(marginsChange) {\n  if (!marginsChange) {\n    return marginsChange;\n  }\n  return {\n    top: marginsChange.top,\n    bottom: marginsChange.bottom,\n    left: marginsChange.left,\n    right: marginsChange.right,\n  };\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Implements element layout. See https://goo.gl/9avXuT for\n * details.\n */\n\nimport {dev, user} from './log';\nimport {htmlFor} from './static-template';\nimport {isFiniteNumber} from './types';\nimport {setStyle, setStyles} from './style';\nimport {startsWith} from './string';\n\n/**\n * @enum {string}\n */\nexport const Layout = {\n  NODISPLAY: 'nodisplay',\n  FIXED: 'fixed',\n  FIXED_HEIGHT: 'fixed-height',\n  RESPONSIVE: 'responsive',\n  CONTAINER: 'container',\n  FILL: 'fill',\n  FLEX_ITEM: 'flex-item',\n  FLUID: 'fluid',\n  INTRINSIC: 'intrinsic',\n};\n\n\n/**\n * Layout priorities to use with BaseElement#getLayoutPriority() and\n * BaseElement#updateLayoutPriority().\n * @enum {number}\n */\nexport const LayoutPriority = {\n  CONTENT: 0,\n  METADATA: 1,\n  ADS: 2,\n  BACKGROUND: 3,\n};\n\n\n/**\n * CSS Length type. E.g. \"1px\" or \"20vh\".\n * @typedef {string}\n */\nexport let LengthDef;\n\n\n/**\n * @typedef {{\n *   width: string,\n *   height: string\n * }}\n */\nlet DimensionsDef;\n\n\n/**\n * The set of elements with natural dimensions, that is, elements\n * which have a known dimension either based on their value specified here,\n * or, if the value is null, a dimension specific to the browser.\n * `hasNaturalDimensions` checks for membership in this set.\n * `getNaturalDimensions` determines the dimensions for an element in the\n *    set and caches it.\n * @type {!Object<string, ?DimensionsDef>}\n * @private  Visible for testing only!\n */\nexport const naturalDimensions_ = {\n  'AMP-PIXEL': {width: '0px', height: '0px'},\n  'AMP-ANALYTICS': {width: '1px', height: '1px'},\n  // TODO(dvoytenko): audio should have width:auto.\n  'AMP-AUDIO': null,\n  'AMP-SOCIAL-SHARE': {width: '60px', height: '44px'},\n};\n\n\n/**\n * Elements that the progess can be shown for. This set has to be externalized\n * since the element's implementation may not be downloaded yet.\n * @enum {boolean}\n * @private  Visible for testing only!\n */\nexport const LOADING_ELEMENTS_ = {\n  'AMP-ANIM': true,\n  'AMP-BRIGHTCOVE': true,\n  'AMP-GOOGLE-DOCUMENT-EMBED': true,\n  'AMP-EMBED': true,\n  'AMP-FACEBOOK': true,\n  'AMP-FACEBOOK-COMMENTS': true,\n  'AMP-FACEBOOK-LIKE': true,\n  'AMP-FACEBOOK-PAGE': true,\n  'AMP-IFRAME': true,\n  'AMP-IMG': true,\n  'AMP-INSTAGRAM': true,\n  'AMP-LIST': true,\n  'AMP-OOYALA-PLAYER': true,\n  'AMP-PINTEREST': true,\n  'AMP-PLAYBUZZ': true,\n  'AMP-VIDEO': true,\n  'AMP-YOUTUBE': true,\n};\n\n\n/**\n * @param {string} s\n * @return {Layout|undefined} Returns undefined in case of failure to parse\n *   the layout string.\n */\nexport function parseLayout(s) {\n  for (const k in Layout) {\n    if (Layout[k] == s) {\n      return Layout[k];\n    }\n  }\n  return undefined;\n}\n\n\n/**\n * @param {!Layout} layout\n * @return {string}\n */\nexport function getLayoutClass(layout) {\n  return 'i-amphtml-layout-' + layout;\n}\n\n\n/**\n * Whether an element with this layout inherently defines the size.\n * @param {!Layout} layout\n * @return {boolean}\n */\nexport function isLayoutSizeDefined(layout) {\n  return (layout == Layout.FIXED ||\n      layout == Layout.FIXED_HEIGHT ||\n      layout == Layout.RESPONSIVE ||\n      layout == Layout.FILL ||\n      layout == Layout.FLEX_ITEM ||\n      layout == Layout.FLUID ||\n      layout == Layout.INTRINSIC);\n}\n\n\n/**\n * Whether the tag is an internal (service) AMP tag.\n * @param {!Node|string} tag\n * @return {boolean}\n */\nexport function isInternalElement(tag) {\n  const tagName = (typeof tag == 'string') ? tag : tag.tagName;\n  return tagName && startsWith(tagName.toLowerCase(), 'i-');\n}\n\n\n/**\n * Parses the CSS length value. If no units specified, the assumed value is\n * \"px\". Returns undefined in case of parsing error.\n * @param {string|undefined|null} s\n * @return {!LengthDef|undefined}\n */\nexport function parseLength(s) {\n  if (typeof s == 'number') {\n    return s + 'px';\n  }\n  if (!s) {\n    return undefined;\n  }\n  if (!/^\\d+(\\.\\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(s)) {\n    return undefined;\n  }\n  if (/^\\d+(\\.\\d+)?$/.test(s)) {\n    return s + 'px';\n  }\n  return s;\n}\n\n\n\n/**\n * Asserts that the supplied value is a non-percent CSS Length value.\n * @param {!LengthDef|string|null|undefined} length\n * @return {!LengthDef}\n */\nexport function assertLength(length) {\n  user().assert(\n      /^\\d+(\\.\\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test(length),\n      'Invalid length value: %s', length);\n  return /** @type {!LengthDef} */ (length);\n}\n\n\n\n\n/**\n * Asserts that the supplied value is a CSS Length value\n * (including percent unit).\n * @param {!LengthDef|string} length\n * @return {!LengthDef}\n */\nexport function assertLengthOrPercent(length) {\n  user().assert(/^\\d+(\\.\\d+)?(px|em|rem|vh|vw|vmin|vmax|%)$/.test(length),\n      'Invalid length or percent value: %s', length);\n  return length;\n}\n\n\n/**\n * Returns units from the CSS length value.\n * @param {!LengthDef|string|null|undefined} length\n * @return {string}\n */\nexport function getLengthUnits(length) {\n  assertLength(length);\n  dev().assertString(length);\n  const m = user().assert(length.match(/[a-z]+/i),\n      'Failed to read units from %s', length);\n  return m[0];\n}\n\n\n/**\n * Returns the numeric value of a CSS length value.\n * @param {!LengthDef|string|null|undefined} length\n * @return {number|undefined}\n */\nexport function getLengthNumeral(length) {\n  const res = parseFloat(length);\n  return isFiniteNumber(res) ? res : undefined;\n}\n\n\n/**\n * Determines whether the tagName is a known element that has natural dimensions\n * in our runtime or the browser.\n * @param {string} tagName The element tag name.\n * @return {boolean}\n */\nexport function hasNaturalDimensions(tagName) {\n  tagName = tagName.toUpperCase();\n  return naturalDimensions_[tagName] !== undefined;\n}\n\n\n/**\n * Determines the default dimensions for an element which could vary across\n * different browser implementations, like <audio> for instance.\n * This operation can only be completed for an element whitelisted by\n * `hasNaturalDimensions`.\n * @param {!Element} element\n * @return {DimensionsDef}\n */\nexport function getNaturalDimensions(element) {\n  const tagName = element.tagName.toUpperCase();\n  dev().assert(naturalDimensions_[tagName] !== undefined);\n  if (!naturalDimensions_[tagName]) {\n    const doc = element.ownerDocument;\n    const naturalTagName = tagName.replace(/^AMP\\-/, '');\n    const temp = doc.createElement(naturalTagName);\n    // For audio, should no-op elsewhere.\n    temp.controls = true;\n    setStyles(temp, {\n      position: 'absolute',\n      visibility: 'hidden',\n    });\n    doc.body.appendChild(temp);\n    naturalDimensions_[tagName] = {\n      width: (temp./*OK*/offsetWidth || 1) + 'px',\n      height: (temp./*OK*/offsetHeight || 1) + 'px',\n    };\n    doc.body.removeChild(temp);\n  }\n  return /** @type {DimensionsDef} */ (naturalDimensions_[tagName]);\n}\n\n\n/**\n * Whether the loading can be shown for the specified elemeent. This set has\n * to be externalized since the element's implementation may not be\n * downloaded yet.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isLoadingAllowed(element) {\n  const tagName = element.tagName.toUpperCase();\n  if (tagName == 'AMP-AD' || tagName == 'AMP-EMBED') {\n    return true;\n  }\n  return LOADING_ELEMENTS_[tagName] || false;\n}\n\n\n/**\n * Applies layout to the element. Visible for testing only.\n *\n * \\   \\  /  \\  /   / /   \\     |   _  \\     |  \\ |  | |  | |  \\ |  |  / _____|\n *  \\   \\/    \\/   / /  ^  \\    |  |_)  |    |   \\|  | |  | |   \\|  | |  |  __\n *   \\            / /  /_\\  \\   |      /     |  . `  | |  | |  . `  | |  | |_ |\n *    \\    /\\    / /  _____  \\  |  |\\  \\----.|  |\\   | |  | |  |\\   | |  |__| |\n *     \\__/  \\__/ /__/     \\__\\ | _| `._____||__| \\__| |__| |__| \\__|  \\______|\n *\n * The equivalent of this method is used for server-side rendering (SSR) and\n * any changes made to it must be made in coordination with caches that\n * implement SSR. For more information on SSR see bit.ly/amp-ssr.\n *\n * @param {!Element} element\n * @return {!Layout}\n */\nexport function applyStaticLayout(element) {\n  // Check if the layout has already been done by server-side rendering. The\n  // document may be visible to the user if the boilerplate was removed so\n  // please take care in making changes here.\n  const completedLayoutAttr = element.getAttribute('i-amphtml-layout');\n  if (completedLayoutAttr) {\n    const layout = /** @type {!Layout} */ (dev().assert(\n        parseLayout(completedLayoutAttr)));\n    if ((layout == Layout.RESPONSIVE || layout == Layout.INTRINSIC)\n      && element.firstElementChild) {\n      // Find sizer, but assume that it might not have been parsed yet.\n      element.sizerElement =\n          element.querySelector('i-amphtml-sizer') || undefined;\n    } else if (layout == Layout.NODISPLAY) {\n      applyNoDisplayLayout(element);\n    }\n    return layout;\n  }\n\n  // If the layout was already done by server-side rendering (SSR), then the\n  // code below will not run. Any changes below will necessitate a change to SSR\n  // and must be coordinated with caches that implement SSR. See bit.ly/amp-ssr.\n\n  // Parse layout from the element.\n  const layoutAttr = element.getAttribute('layout');\n  const widthAttr = element.getAttribute('width');\n  const heightAttr = element.getAttribute('height');\n  const sizesAttr = element.getAttribute('sizes');\n  const heightsAttr = element.getAttribute('heights');\n\n  // Input layout attributes.\n  const inputLayout = layoutAttr ? parseLayout(layoutAttr) : null;\n  user().assert(inputLayout !== undefined, 'Unknown layout: %s', layoutAttr);\n  /** @const {string|null|undefined} */\n  const inputWidth = (widthAttr && widthAttr != 'auto') ?\n    parseLength(widthAttr) : widthAttr;\n  user().assert(inputWidth !== undefined, 'Invalid width value: %s', widthAttr);\n  /** @const {string|null|undefined} */\n  const inputHeight = (heightAttr && heightAttr != 'fluid') ?\n    parseLength(heightAttr) : heightAttr;\n  user().assert(inputHeight !== undefined, 'Invalid height value: %s',\n      heightAttr);\n\n  // Effective layout attributes. These are effectively constants.\n  let width;\n  let height;\n  let layout;\n\n  // Calculate effective width and height.\n  if ((!inputLayout || inputLayout == Layout.FIXED ||\n      inputLayout == Layout.FIXED_HEIGHT) &&\n      (!inputWidth || !inputHeight) && hasNaturalDimensions(element.tagName)) {\n    // Default width and height: handle elements that do not specify a\n    // width/height and are defined to have natural browser dimensions.\n    const dimensions = getNaturalDimensions(element);\n    width = (inputWidth || inputLayout == Layout.FIXED_HEIGHT) ? inputWidth :\n      dimensions.width;\n    height = inputHeight || dimensions.height;\n  } else {\n    width = inputWidth;\n    height = inputHeight;\n  }\n\n  // Calculate effective layout.\n  if (inputLayout) {\n    layout = inputLayout;\n  } else if (!width && !height) {\n    layout = Layout.CONTAINER;\n  } else if (height == 'fluid') {\n    layout = Layout.FLUID;\n  } else if (height && (!width || width == 'auto')) {\n    layout = Layout.FIXED_HEIGHT;\n  } else if (height && width && (sizesAttr || heightsAttr)) {\n    layout = Layout.RESPONSIVE;\n  } else {\n    layout = Layout.FIXED;\n  }\n\n  // Verify layout attributes.\n  if (layout == Layout.FIXED || layout == Layout.FIXED_HEIGHT ||\n      layout == Layout.RESPONSIVE || layout == Layout.INTRINSIC) {\n    user().assert(height, 'Expected height to be available: %s', heightAttr);\n  }\n  if (layout == Layout.FIXED_HEIGHT) {\n    user().assert(!width || width == 'auto',\n        'Expected width to be either absent or equal \"auto\" ' +\n        'for fixed-height layout: %s', widthAttr);\n  }\n  if (layout == Layout.FIXED || layout == Layout.RESPONSIVE ||\n      layout == Layout.INTRINSIC) {\n    user().assert(width && width != 'auto',\n        'Expected width to be available and not equal to \"auto\": %s',\n        widthAttr);\n  }\n\n  if (layout == Layout.RESPONSIVE || layout == Layout.INTRINSIC) {\n    user().assert(getLengthUnits(width) == getLengthUnits(height),\n        'Length units should be the same for width and height: %s, %s',\n        widthAttr, heightAttr);\n  } else {\n    user().assert(heightsAttr === null,\n        'Unexpected \"heights\" attribute for none-responsive layout');\n  }\n\n  // Apply UI.\n  element.classList.add(getLayoutClass(layout));\n  if (isLayoutSizeDefined(layout)) {\n    element.classList.add('i-amphtml-layout-size-defined');\n  }\n  if (layout == Layout.NODISPLAY) {\n    // CSS defines layout=nodisplay automatically with `display:none`. Thus\n    // no additional styling is needed.\n    applyNoDisplayLayout(element);\n  } else if (layout == Layout.FIXED) {\n    setStyles(element, {\n      width: dev().assertString(width),\n      height: dev().assertString(height),\n    });\n  } else if (layout == Layout.FIXED_HEIGHT) {\n    setStyle(element, 'height', dev().assertString(height));\n  } else if (layout == Layout.RESPONSIVE) {\n    const sizer = element.ownerDocument.createElement('i-amphtml-sizer');\n    setStyles(sizer, {\n      display: 'block',\n      paddingTop:\n        ((getLengthNumeral(height) / getLengthNumeral(width)) * 100) + '%',\n    });\n    element.insertBefore(sizer, element.firstChild);\n    element.sizerElement = sizer;\n  } else if (layout == Layout.INTRINSIC) {\n    // Intrinsic uses an svg inside the sizer element rather than the padding\n    // trick Note a naked svg won't work becasue other thing expect the\n    // i-amphtml-sizer element\n    const sizer = htmlFor(element)`\n      <i-amphtml-sizer class=\"i-amphtml-sizer\">\n        <img class=\"i-amphtml-intrinsic-sizer\" />\n      </i-amphtml-sizer>`;\n    const intrinsicSizer = sizer.firstElementChild;\n    intrinsicSizer.setAttribute('src',\n        `data:image/svg+xml;charset=utf-8,<svg height=\"${height}\" width=\"${width}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`);\n    element.insertBefore(sizer, element.firstChild);\n    // TODO(jpettitt): sizer is leaked and can't be cleaned up.\n    element.sizerElement = intrinsicSizer;\n  } else if (layout == Layout.FILL) {\n    // Do nothing.\n  } else if (layout == Layout.CONTAINER) {\n    // Do nothing. Elements themselves will check whether the supplied\n    // layout value is acceptable. In particular container is only OK\n    // sometimes.\n  } else if (layout == Layout.FLEX_ITEM) {\n    // Set height and width to a flex item if they exist.\n    // The size set to a flex item could be overridden by `display: flex` later.\n    if (width) {\n      setStyle(element, 'width', width);\n    }\n    if (height) {\n      setStyle(element, 'height', height);\n    }\n  } else if (layout == Layout.FLUID) {\n    element.classList.add('i-amphtml-layout-awaiting-size');\n    if (width) {\n      setStyle(element, 'width', width);\n    }\n    setStyle(element, 'height', 0);\n  }\n  return layout;\n}\n\n\n/**\n * @param {!Element} element\n */\nfunction applyNoDisplayLayout(element) {\n  // TODO(dvoytenko, #9353): once `toggleLayoutDisplay` API has been deployed\n  // everywhere, switch all relevant elements to this API. In the meantime,\n  // simply unblock display toggling via `style=\"display: ...\"`.\n  setStyle(element, 'display', 'none');\n  element.classList.add('i-amphtml-display');\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getMode} from './mode';\nimport {getModeObject} from './mode-object';\nimport {isEnumValue} from './types';\n\n/**\n * Triple zero width space.\n *\n * This is added to user error messages, so that we can later identify\n * them, when the only thing that we have is the message. This is the\n * case in many browsers when the global exception handler is invoked.\n *\n * @const {string}\n */\nexport const USER_ERROR_SENTINEL = '\\u200B\\u200B\\u200B';\n\n\n/**\n * Four zero width space.\n *\n * @const {string}\n */\nexport const USER_ERROR_EMBED_SENTINEL = '\\u200B\\u200B\\u200B\\u200B';\n\n\n/**\n * @param {string} message\n * @return {boolean} Whether this message was a user error.\n */\nexport function isUserErrorMessage(message) {\n  return message.indexOf(USER_ERROR_SENTINEL) >= 0;\n}\n\n/**\n * @param {string} message\n * @return {boolean} Whether this message was a a user error from an iframe embed.\n */\nexport function isUserErrorEmbed(message) {\n  return message.indexOf(USER_ERROR_EMBED_SENTINEL) >= 0;\n}\n\n\n/**\n * @enum {number}\n * @private Visible for testing only.\n */\nexport const LogLevel = {\n  OFF: 0,\n  ERROR: 1,\n  WARN: 2,\n  INFO: 3,\n  FINE: 4,\n};\n\n/**\n * Sets reportError function. Called from error.js to break cyclic\n * dependency.\n * @param {function(*, !Element=)|undefined} fn\n */\nexport function setReportError(fn) {\n  self.reportError = fn;\n}\n\n/**\n * @type {!LogLevel|undefined}\n * @private\n */\nlet levelOverride_ = undefined;\n\n/**\n * @param {!LogLevel} level\n */\nexport function overrideLogLevel(level) {\n  levelOverride_ = level;\n}\n\n/**\n * Logging class. Use of sentinel string instead of a boolean to check user/dev\n * errors because errors could be rethrown by some native code as a new error,\n * and only a message would survive. Also, some browser dont support a 5th\n * error object argument in window.onerror. List of supporting browser can be\n * found here:\n * https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror.html\n * @final\n * @private Visible for testing only.\n */\nexport class Log {\n  /**\n   * opt_suffix will be appended to error message to identify the type of the\n   * error message. We can't rely on the error object to pass along the type\n   * because some browsers do not have this param in its window.onerror API.\n   * See:\n   * https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror.html\n   *\n   * @param {!Window} win\n   * @param {function(!./mode.ModeDef):!LogLevel} levelFunc\n   * @param {string=} opt_suffix\n   */\n  constructor(win, levelFunc, opt_suffix) {\n    /**\n     * In tests we use the main test window instead of the iframe where\n     * the tests runs because only the former is relayed to the console.\n     * @const {!Window}\n     */\n    this.win = (getMode().test && win.AMP_TEST_IFRAME) ? win.parent : win;\n\n    /** @private @const {function(!./mode.ModeDef):!LogLevel} */\n    this.levelFunc_ = levelFunc;\n\n    /** @private @const {!LogLevel} */\n    this.level_ = this.defaultLevel_();\n\n    /** @private @const {string} */\n    this.suffix_ = opt_suffix || '';\n  }\n\n  /**\n   * @return {!LogLevel}\n   * @private\n   */\n  getLevel_() {\n    return (levelOverride_ !== undefined) ? levelOverride_ : this.level_;\n  }\n\n  /**\n   * @return {!LogLevel}\n   * @private\n   */\n  defaultLevel_() {\n    // No console - can't enable logging.\n    if (!this.win.console || !this.win.console.log) {\n      return LogLevel.OFF;\n    }\n\n    // Logging has been explicitly disabled.\n    if (getMode().log == '0') {\n      return LogLevel.OFF;\n    }\n\n    // Logging is enabled for tests directly.\n    if (getMode().test && this.win.ENABLE_LOG) {\n      return LogLevel.FINE;\n    }\n\n    // LocalDev by default allows INFO level, unless overriden by `#log`.\n    if (getMode().localDev && !getMode().log) {\n      return LogLevel.INFO;\n    }\n\n    // Delegate to the specific resolver.\n    return this.levelFunc_(getModeObject());\n  }\n\n  /**\n   * @param {string} tag\n   * @param {string} level\n   * @param {!Array} messages\n   */\n  msg_(tag, level, messages) {\n    if (this.getLevel_() != LogLevel.OFF) {\n      let fn = this.win.console.log;\n      if (level == 'ERROR') {\n        fn = this.win.console.error || fn;\n      } else if (level == 'INFO') {\n        fn = this.win.console.info || fn;\n      } else if (level == 'WARN') {\n        fn = this.win.console.warn || fn;\n      }\n      if (getMode().localDev) {\n        messages.unshift('[' + tag + ']');\n      }\n      fn.apply(this.win.console, messages);\n    }\n  }\n\n  /**\n   * Whether the logging is enabled.\n   * @return {boolean}\n   */\n  isEnabled() {\n    return this.getLevel_() != LogLevel.OFF;\n  }\n\n  /**\n   * Reports a fine-grained message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  fine(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.FINE) {\n      this.msg_(tag, 'FINE', Array.prototype.slice.call(arguments, 1));\n    }\n  }\n\n  /**\n   * Reports a informational message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  info(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.INFO) {\n      this.msg_(tag, 'INFO', Array.prototype.slice.call(arguments, 1));\n    }\n  }\n\n  /**\n   * Reports a warning message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  warn(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.WARN) {\n      this.msg_(tag, 'WARN', Array.prototype.slice.call(arguments, 1));\n    }\n  }\n\n  /**\n   * Reports an error message. If the logging is disabled, the error is rethrown\n   * asynchronously.\n   * @param {string} tag\n   * @param {...*} var_args\n   * @return {!Error|undefined}\n   * @private\n   */\n  error_(tag, var_args) {\n    if (this.getLevel_() >= LogLevel.ERROR) {\n      this.msg_(tag, 'ERROR', Array.prototype.slice.call(arguments, 1));\n    } else {\n      const error = createErrorVargs.apply(null,\n          Array.prototype.slice.call(arguments, 1));\n      this.prepareError_(error);\n      return error;\n    }\n  }\n\n  /**\n   * Reports an error message.\n   * @param {string} tag\n   * @param {...*} var_args\n   */\n  error(tag, var_args) {\n    const error = this.error_.apply(this, arguments);\n    if (error) {\n      error.name = tag || error.name;\n      // reportError is installed globally per window in the entry point.\n      self.reportError(error);\n    }\n  }\n\n  /**\n   * Reports an error message and marks with an expected property. If the\n   * logging is disabled, the error is rethrown asynchronously.\n   * @param {string} unusedTag\n   * @param {...*} var_args\n   */\n  expectedError(unusedTag, var_args) {\n    const error = this.error_.apply(this, arguments);\n    if (error) {\n      error.expected = true;\n      // reportError is installed globally per window in the entry point.\n      self.reportError(error);\n    }\n  }\n\n  /**\n   * Creates an error object.\n   * @param {...*} var_args\n   * @return {!Error}\n   */\n  createError(var_args) {\n    const error = createErrorVargs.apply(null, arguments);\n    this.prepareError_(error);\n    return error;\n  }\n\n  /**\n   * Creates an error object with its expected property set to true.\n   * @param {...*} var_args\n   * @return {!Error}\n   */\n  createExpectedError(var_args) {\n    const error = createErrorVargs.apply(null, arguments);\n    this.prepareError_(error);\n    error.expected = true;\n    return error;\n  }\n\n  /**\n   * Throws an error if the first argument isn't trueish.\n   *\n   * Supports argument substitution into the message via %s placeholders.\n   *\n   * Throws an error object that has two extra properties:\n   * - associatedElement: This is the first element provided in the var args.\n   *   It can be used for improved display of error messages.\n   * - messageArray: The elements of the substituted message as non-stringified\n   *   elements in an array. When e.g. passed to console.error this yields\n   *   native displays of things like HTML elements.\n   *\n   * @param {T} shouldBeTrueish The value to assert. The assert fails if it does\n   *     not evaluate to true.\n   * @param {string=} opt_message The assertion message\n   * @param {...*} var_args Arguments substituted into %s in the message.\n   * @return {T} The value of shouldBeTrueish.\n   * @template T\n   * eslint \"google-camelcase/google-camelcase\": 0\n   */\n  assert(shouldBeTrueish, opt_message, var_args) {\n    let firstElement;\n    if (!shouldBeTrueish) {\n      const message = opt_message || 'Assertion failed';\n      const splitMessage = message.split('%s');\n      const first = splitMessage.shift();\n      let formatted = first;\n      const messageArray = [];\n      pushIfNonEmpty(messageArray, first);\n      for (let i = 2; i < arguments.length; i++) {\n        const val = arguments[i];\n        if (val && val.tagName) {\n          firstElement = val;\n        }\n        const nextConstant = splitMessage.shift();\n        messageArray.push(val);\n        pushIfNonEmpty(messageArray, nextConstant.trim());\n        formatted += toString(val) + nextConstant;\n      }\n      const e = new Error(formatted);\n      e.fromAssert = true;\n      e.associatedElement = firstElement;\n      e.messageArray = messageArray;\n      this.prepareError_(e);\n      // reportError is installed globally per window in the entry point.\n      self.reportError(e);\n      throw e;\n    }\n    return shouldBeTrueish;\n  }\n\n  /**\n   * Throws an error if the first argument isn't an Element\n   *\n   * Otherwise see `assert` for usage\n   *\n   * @param {*} shouldBeElement\n   * @param {string=} opt_message The assertion message\n   * @return {!Element} The value of shouldBeTrueish.\n   * @template T\n   * eslint \"google-camelcase/google-camelcase\": 2\n   */\n  assertElement(shouldBeElement, opt_message) {\n    const shouldBeTrueish = shouldBeElement && shouldBeElement.nodeType == 1;\n    this.assert(shouldBeTrueish, (opt_message || 'Element expected') + ': %s',\n        shouldBeElement);\n    return /** @type {!Element} */ (shouldBeElement);\n  }\n\n  /**\n   * Throws an error if the first argument isn't a string. The string can\n   * be empty.\n   *\n   * For more details see `assert`.\n   *\n   * @param {*} shouldBeString\n   * @param {string=} opt_message The assertion message\n   * @return {string} The string value. Can be an empty string.\n   * eslint \"google-camelcase/google-camelcase\": 2\n   */\n  assertString(shouldBeString, opt_message) {\n    this.assert(typeof shouldBeString == 'string',\n        (opt_message || 'String expected') + ': %s', shouldBeString);\n    return /** @type {string} */ (shouldBeString);\n  }\n\n  /**\n   * Throws an error if the first argument isn't a number. The allowed values\n   * include `0` and `NaN`.\n   *\n   * For more details see `assert`.\n   *\n   * @param {*} shouldBeNumber\n   * @param {string=} opt_message The assertion message\n   * @return {number} The number value. The allowed values include `0`\n   *   and `NaN`.\n   */\n  assertNumber(shouldBeNumber, opt_message) {\n    this.assert(typeof shouldBeNumber == 'number',\n        (opt_message || 'Number expected') + ': %s', shouldBeNumber);\n    return /** @type {number} */ (shouldBeNumber);\n  }\n\n  /**\n   * Throws an error if the first argument isn't a boolean.\n   *\n   * For more details see `assert`.\n   *\n   * @param {*} shouldBeBoolean\n   * @param {string=} opt_message The assertion message\n   * @return {boolean} The boolean value.\n   */\n  assertBoolean(shouldBeBoolean, opt_message) {\n    this.assert(!!shouldBeBoolean === shouldBeBoolean,\n        (opt_message || 'Boolean expected') + ': %s', shouldBeBoolean);\n    return /** @type {boolean} */ (shouldBeBoolean);\n  }\n\n  /**\n   * Asserts and returns the enum value. If the enum doesn't contain such a\n   * value, the error is thrown.\n   *\n   * @param {!Object<T>} enumObj\n   * @param {string} s\n   * @param {string=} opt_enumName\n   * @return {T}\n   * @template T\n   * eslint \"google-camelcase/google-camelcase\": 2\n   */\n  assertEnumValue(enumObj, s, opt_enumName) {\n    if (isEnumValue(enumObj, s)) {\n      return s;\n    }\n    this.assert(false,\n        'Unknown %s value: \"%s\"',\n        opt_enumName || 'enum', s);\n  }\n\n  /**\n   * @param {!Error} error\n   * @private\n   */\n  prepareError_(error) {\n    error = duplicateErrorIfNecessary(error);\n    if (this.suffix_) {\n      if (!error.message) {\n        error.message = this.suffix_;\n      } else if (error.message.indexOf(this.suffix_) == -1) {\n        error.message += this.suffix_;\n      }\n    } else if (isUserErrorMessage(error.message)) {\n      error.message = error.message.replace(USER_ERROR_SENTINEL, '');\n    }\n  }\n}\n\n/**\n * @param {string|!Element} val\n * @return {string}\n */\nfunction toString(val) {\n  // Do check equivalent to `val instanceof Element` without cross-window bug\n  if (val && val.nodeType == 1) {\n    return val.tagName.toLowerCase() + (val.id ? '#' + val.id : '');\n  }\n  return /** @type {string} */ (val);\n}\n\n\n/**\n * @param {!Array} array\n * @param {*} val\n */\nfunction pushIfNonEmpty(array, val) {\n  if (val != '') {\n    array.push(val);\n  }\n}\n\n/**\n * Some exceptions (DOMException, namely) have read-only message.\n * @param {!Error} error\n * @return {!Error};\n */\nexport function duplicateErrorIfNecessary(error) {\n  const {message} = error;\n  const test = String(Math.random());\n  error.message = test;\n\n  if (error.message === test) {\n    error.message = message;\n    return error;\n  }\n\n  const e = new Error(error.message);\n  // Copy all the extraneous things we attach.\n  for (const prop in error) {\n    e[prop] = error[prop];\n  }\n  // Ensure these are copied.\n  e.stack = error.stack;\n  return e;\n}\n\n/**\n * @param {...*} var_args\n * @return {!Error}\n * @visibleForTesting\n */\nexport function createErrorVargs(var_args) {\n  let error = null;\n  let message = '';\n  for (let i = 0; i < arguments.length; i++) {\n    const arg = arguments[i];\n    if (arg instanceof Error && !error) {\n      error = duplicateErrorIfNecessary(arg);\n    } else {\n      if (message) {\n        message += ' ';\n      }\n      message += arg;\n    }\n  }\n\n  if (!error) {\n    error = new Error(message);\n  } else if (message) {\n    error.message = message + ': ' + error.message;\n  }\n  return error;\n}\n\n\n/**\n * Rethrows the error without terminating the current context. This preserves\n * whether the original error designation is a user error or a dev error.\n * @param {...*} var_args\n */\nexport function rethrowAsync(var_args) {\n  const error = createErrorVargs.apply(null, arguments);\n  setTimeout(() => {\n    // reportError is installed globally per window in the entry point.\n    self.reportError(error);\n    throw error;\n  });\n}\n\n\n/**\n * Cache for logs. We do not use a Service since the service module depends\n * on Log and closure literally can't even.\n * @type {{user: ?Log, dev: ?Log, userForEmbed: ?Log}}\n */\nself.log = (self.log || {\n  user: null,\n  dev: null,\n  userForEmbed: null,\n});\n\nconst logs = self.log;\n\n/**\n * Eventually holds a constructor for Log objects. Lazily initialized, so we\n * can avoid ever referencing the real constructor except in JS binaries\n * that actually want to include the implementation.\n * @type {?Function}\n */\nlet logConstructor = null;\n\n/**\n * Initializes log contructor.\n */\nexport function initLogConstructor() {\n  logConstructor = Log;\n  // Initialize instances for use. If a binary (an extension for example) that\n  // does not call `initLogConstructor` invokes `dev()` or `user()` earlier than\n  // the binary that does call `initLogConstructor` (amp.js), the extension will\n  // throw an error as that extension will never be able to initialize the log\n  // instances and we also don't want it to call `initLogConstructor` either\n  // (since that will cause the Log implementation to be bundled into that\n  // binary). So we must initialize the instances eagerly so that they are ready\n  // for use (stored globally) after the main binary calls `initLogConstructor`.\n  dev();\n  user();\n}\n\n/**\n * Resets log contructor for testing.\n */\nexport function resetLogConstructorForTesting() {\n  logConstructor = null;\n}\n\n/**\n * Publisher level log.\n *\n * Enabled in the following conditions:\n *  1. Not disabled using `#log=0`.\n *  2. Development mode is enabled via `#development=1` or logging is explicitly\n *     enabled via `#log=D` where D >= 1.\n *  3. AMP.setLogLevel(D) is called, where D >= 1.\n *\n * @param {!Element=} opt_element\n * @return {!Log}\n */\nexport function user(opt_element) {\n  if (!logs.user) {\n    logs.user = getUserLogger(USER_ERROR_SENTINEL);\n  }\n  if (!isFromEmbed(logs.user.win, opt_element)) {\n    return logs.user;\n  } else {\n    if (logs.userForEmbed) {\n      return logs.userForEmbed;\n    }\n    return logs.userForEmbed = getUserLogger(USER_ERROR_EMBED_SENTINEL);\n  }\n}\n\n/**\n * Getter for user logger\n * @param {string=} suffix\n * @return {!Log}\n */\nfunction getUserLogger(suffix) {\n  if (!logConstructor) {\n    throw new Error('failed to call initLogConstructor');\n  }\n  return new logConstructor(self, mode => {\n    const logNum = parseInt(mode.log, 10);\n    if (mode.development || logNum >= 1) {\n      return LogLevel.FINE;\n    }\n    return LogLevel.WARN;\n  }, suffix);\n}\n\n/**\n * AMP development log. Calls to `devLog().assert` and `dev.fine` are stripped\n * in the PROD binary. However, `devLog().assert` result is preserved in either\n * case.\n *\n * Enabled in the following conditions:\n *  1. Not disabled using `#log=0`.\n *  2. Logging is explicitly enabled via `#log=D`, where D >= 2.\n *  3. AMP.setLogLevel(D) is called, where D >= 2.\n *\n * @return {!Log}\n */\nexport function dev() {\n  if (logs.dev) {\n    return logs.dev;\n  }\n  if (!logConstructor) {\n    throw new Error('failed to call initLogConstructor');\n  }\n  return logs.dev = new logConstructor(self, mode => {\n    const logNum = parseInt(mode.log, 10);\n    if (logNum >= 3) {\n      return LogLevel.FINE;\n    }\n    if (logNum >= 2) {\n      return LogLevel.INFO;\n    }\n    return LogLevel.OFF;\n  });\n}\n\n/**\n * @param {!Window} win\n * @param {!Element=} opt_element\n * @return {boolean} isEmbed\n */\nexport function isFromEmbed(win, opt_element) {\n  if (!opt_element) {\n    return false;\n  }\n  return opt_element.ownerDocument.defaultView != win;\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getMode} from './mode';\n\n/**\n * Provides info about the current app. This return value may be cached and\n * passed around as it will always be DCE'd.\n * @param {?Window=} opt_win\n * @return {!./mode.ModeDef}\n */\nexport function getModeObject(opt_win) {\n  return {\n    localDev: getMode(opt_win).localDev,\n    development: getMode(opt_win).development,\n    filter: getMode(opt_win).filter,\n    minified: getMode(opt_win).minified,\n    lite: getMode(opt_win).lite,\n    test: getMode(opt_win).test,\n    log: getMode(opt_win).log,\n    version: getMode(opt_win).version,\n    rtvVersion: getMode(opt_win).rtvVersion,\n  };\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {parseQueryString_} from './url-parse-query-string';\n\n/**\n * @typedef {{\n *   localDev: boolean,\n *   development: boolean,\n *   filter: (string|undefined),\n *   minified: boolean,\n *   lite: boolean,\n *   test: boolean,\n *   log: (string|undefined),\n *   version: string,\n *   rtvVersion: string,\n * }}\n */\nexport let ModeDef;\n\n/** @type {string} */\nconst version = '$internalRuntimeVersion$';\n\n/**\n * `rtvVersion` is the prefixed version we serve off of the cdn.\n * The prefix denotes canary(00) or prod(01) or an experiment version ( > 01).\n * @type {string}\n */\nlet rtvVersion = '';\n\n/**\n * Provides info about the current app.\n * @param {?Window=} opt_win\n * @return {!ModeDef}\n */\nexport function getMode(opt_win) {\n  const win = opt_win || self;\n  if (win.AMP_MODE) {\n    return win.AMP_MODE;\n  }\n  return win.AMP_MODE = getMode_(win);\n}\n\n/**\n * Provides info about the current app.\n * @param {!Window} win\n * @return {!ModeDef}\n */\nfunction getMode_(win) {\n  // Magic constants that are replaced by closure compiler.\n  // IS_MINIFIED is always replaced with true when closure compiler is used\n  // while IS_DEV is only replaced when `gulp dist` is called without the\n  // --fortesting flag.\n  const IS_DEV = true;\n  const IS_MINIFIED = false;\n\n  const localDevEnabled = !!(self.AMP_CONFIG && self.AMP_CONFIG.localDev);\n  const runningTests = IS_DEV && !!(win.AMP_TEST || win.__karma__);\n  const isLocalDev = IS_DEV && (localDevEnabled || runningTests);\n  const hashQuery = parseQueryString_(\n      // location.originalHash is set by the viewer when it removes the fragment\n      // from the URL.\n      win.location.originalHash || win.location.hash);\n\n  const searchQuery = parseQueryString_(win.location.search);\n\n  if (!rtvVersion) {\n    rtvVersion = getRtvVersion(win, isLocalDev);\n  }\n\n  // The `minified`, `test` and `localDev` properties are replaced\n  // as boolean literals when we run `gulp dist` without the `--fortesting`\n  // flags. This improved DCE on the production file we deploy as the code\n  // paths for localhost/testing/development are eliminated.\n  return {\n    localDev: isLocalDev,\n    // Triggers validation or enable pub level logging. Validation can be\n    // bypassed via #validate=0.\n    // Note that AMP_DEV_MODE flag is used for testing purposes.\n    development: !!(hashQuery['development'] == '1' || win.AMP_DEV_MODE),\n    examiner: hashQuery['development'] == '2',\n    // Allows filtering validation errors by error category. For the\n    // available categories, see ErrorCategory in validator/validator.proto.\n    filter: hashQuery['filter'],\n    // amp-geo override\n    geoOverride: hashQuery['amp-geo'],\n    minified: IS_MINIFIED,\n    // Whether document is in an amp-lite viewer. It signal that the user\n    // would prefer to use less bandwidth.\n    lite: searchQuery['amp_lite'] != undefined,\n    test: runningTests,\n    log: hashQuery['log'],\n    version,\n    rtvVersion,\n  };\n}\n\n/**\n * Retrieve the `rtvVersion` which will have a numeric prefix\n * denoting canary/prod/experiment (unless `isLocalDev` is true).\n *\n * @param {!Window} win\n * @param {boolean} isLocalDev\n * @return {string}\n */\nfunction getRtvVersion(win, isLocalDev) {\n  // If it's local dev then we won't actually have a full version so\n  // just use the version.\n  if (isLocalDev) {\n    return version;\n  }\n\n  if (win.AMP_CONFIG && win.AMP_CONFIG.v) {\n    return win.AMP_CONFIG.v;\n  }\n\n  // Currently `$internalRuntimeVersion$` and thus `mode.version` contain only\n  // major version. The full version however must also carry the minor version.\n  // We will default to production default `01` minor version for now.\n  // TODO(erwinmombay): decide whether $internalRuntimeVersion$ should contain\n  // minor version.\n  return `01${version}`;\n}\n\n\n/**\n * @param {!Window} win\n * @param {boolean} isLocalDev\n * @return {string}\n * @visibleForTesting\n */\nexport function getRtvVersionForTesting(win, isLocalDev) {\n  return getRtvVersion(win, isLocalDev);\n}\n\n\n/** @visibleForTesting */\nexport function resetRtvVersionForTesting() {\n  rtvVersion = '';\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from './utils/promise';\nimport {Services} from './services';\n\n/** @const {function()} */\nconst NOOP_CALLBACK_ = function() {};\n\n/** @const {number} */\nconst MIN_VELOCITY_ = 0.02;\n\n/** @const {number} */\nconst FRAME_CONST_ = 16.67;\n\n/** @const {number} */\nconst EXP_FRAME_CONST_ = Math.round(-FRAME_CONST_ / Math.log(0.95));\n\n/**\n * Depreciation factor of 1/100 of a millisecond. This is how much previous\n * velocity is depreciated when calculating the new velocity.\n * @const {number}\n */\nconst VELOCITY_DEPR_FACTOR_ = FRAME_CONST_ * 2;\n\n\n/**\n * Calculates velocity for an object traveling the distance deltaV in the\n * time deltaTime given the previous velocity prevVelocity. The calculation\n * assumes a basic informational depreciation of previous velocity.\n * @param {number} deltaV\n * @param {time} deltaTime\n * @param {number} prevVelocity\n * @return {number}\n */\nexport function calcVelocity(deltaV, deltaTime, prevVelocity) {\n  if (deltaTime < 1) {\n    deltaTime = 1;\n  }\n\n  // Calculate speed and speed depreciation.\n  const speed = deltaV / deltaTime;\n\n  // Depreciation is simply an informational quality. It basically means:\n  // we can't ignore the velocity we knew recently, but we'd only consider\n  // it proportionally to how long ago we've seen it. Currently, this\n  // depreciation factor is 1/100 of a millisecond. New average velocity is\n  // calculated by weighing toward the new velocity and away from old\n  // velocity based on the depreciation.\n  const depr = 0.5 + Math.min(deltaTime / VELOCITY_DEPR_FACTOR_, 0.5);\n  return speed * depr + prevVelocity * (1 - depr);\n}\n\n\n/**\n * Returns a motion process that will yield when the velocity has run down to\n * zerp. For each iteration, the velocity is depreciated and the coordinates\n * are advanced from start X/Y to the destination according to velocity\n * vectors. For each such iteration the callback is called with the new x and y.\n * @param {!Node} contextNode\n * @param {number} startX Start X coordinate.\n * @param {number} startY Start Y coordinate.\n * @param {number} veloX Starting X velocity.\n * @param {number} veloY Starting Y velocity.\n * @param {function(number, number):boolean} callback The callback for each\n *   step of the deceleration motion.\n * @param {!./service/vsync-impl.Vsync=} opt_vsync Mostly for testing only.\n * @return {!Motion}\n */\nexport function continueMotion(contextNode, startX, startY, veloX, veloY,\n  callback, opt_vsync) {\n  return new Motion(contextNode, startX, startY, veloX, veloY,\n      callback, opt_vsync).start();\n}\n\n\n/**\n * Motion process that allows tracking and monitoring of the running motion.\n * Most importantly it exposes methods \"then\" and \"thenAlways\" that have the\n * semantics of a Promise and signal when the motion has completed or failed.\n * Additionally, it exposes the method \"halt\" which allows to stop/reset the\n * motion.\n * @implements {IThenable}\n */\nexport class Motion {\n  /**\n   * @param {!Node} contextNode Context node.\n   * @param {number} startX Start X coordinate.\n   * @param {number} startY Start Y coordinate.\n   * @param {number} veloX Starting X velocity.\n   * @param {number} veloY Starting Y velocity.\n   * @param {function(number, number):boolean} callback The callback for each\n   *   step of the deceleration motion.\n   * @param {!./service/vsync-impl.Vsync=} opt_vsync\n   */\n  constructor(contextNode, startX, startY, veloX, veloY, callback, opt_vsync) {\n    /** @private @const {!./service/vsync-impl.Vsync} */\n    this.vsync_ = opt_vsync || Services.vsyncFor(self);\n\n    /** @private @const {!Node} */\n    this.contextNode_ = contextNode;\n\n    /** @private @const */\n    this.callback_ = callback;\n\n    /** @private {number} */\n    this.lastX_ = startX;\n\n    /** @private {number} */\n    this.lastY_ = startY;\n\n    /** @private {number} */\n    this.maxVelocityX_ = veloX;\n\n    /** @private {number} */\n    this.maxVelocityY_ = veloY;\n\n    /** @private {number} */\n    this.velocityX_ = 0;\n\n    /** @private {number} */\n    this.velocityY_ = 0;\n\n    const deferred = new Deferred();\n\n    /** @private {!Promise} */\n    this.promise_ = deferred.promise;\n\n    /** @private {!Function} */\n    this.resolve_ = deferred.resolve;\n\n    /** @private {!Function} */\n    this.reject_ = deferred.reject;\n\n    /** @private {boolean} */\n    this.continuing_ = false;\n  }\n\n  /** */\n  start() {\n    this.continuing_ = true;\n    if (Math.abs(this.maxVelocityX_) <= MIN_VELOCITY_ &&\n            Math.abs(this.maxVelocityY_) <= MIN_VELOCITY_) {\n      this.fireMove_();\n      this.completeContinue_(true);\n    } else {\n      this.runContinuing_();\n    }\n    return this;\n  }\n\n  /**\n   * Halts the motion. The motion promise will be rejected since the motion\n   * has been interrupted.\n   */\n  halt() {\n    if (this.continuing_) {\n      this.completeContinue_(false);\n    }\n  }\n\n  /**\n   * Chains to the motion's promise that will resolve when the motion has\n   * completed or will reject if motion has failed or was interrupted.\n   * @override\n   */\n  then(opt_resolve, opt_reject) {\n    if (!opt_resolve && !opt_reject) {\n      return this.promise_;\n    }\n    return this.promise_.then(opt_resolve, opt_reject);\n  }\n\n  /**\n   * Callback for regardless whether the motion succeeds or fails.\n   * @param {function()=} opt_callback\n   * @return {!Promise}\n   */\n  thenAlways(opt_callback) {\n    const callback = opt_callback || NOOP_CALLBACK_;\n    return /** @type {!Promise} */ (this.then(callback, callback));\n  }\n\n  /**\n   * @return {!Promise}\n   * @private\n   */\n  runContinuing_() {\n    this.velocityX_ = this.maxVelocityX_;\n    this.velocityY_ = this.maxVelocityY_;\n    const boundStep = this.stepContinue_.bind(this);\n    const boundComplete = this.completeContinue_.bind(this, true);\n    return this.vsync_.runAnimMutateSeries(this.contextNode_, boundStep, 5000)\n        .then(boundComplete, boundComplete);\n  }\n\n  /**\n   * Returns \"true\" to continue and \"false\" to stop motion process.\n   * @param {time} timeSinceStart\n   * @param {time} timeSincePrev\n   * @return {boolean}\n   * @private\n   */\n  stepContinue_(timeSinceStart, timeSincePrev) {\n    if (!this.continuing_) {\n      return false;\n    }\n\n    this.lastX_ += timeSincePrev * this.velocityX_;\n    this.lastY_ += timeSincePrev * this.velocityY_;\n    if (!this.fireMove_()) {\n      return false;\n    }\n\n    const decel = Math.exp(-timeSinceStart / EXP_FRAME_CONST_);\n    this.velocityX_ = this.maxVelocityX_ * decel;\n    this.velocityY_ = this.maxVelocityY_ * decel;\n    return (Math.abs(this.velocityX_) > MIN_VELOCITY_ ||\n        Math.abs(this.velocityY_) > MIN_VELOCITY_);\n  }\n\n  /**\n   * @param {boolean} success\n   * @private\n   */\n  completeContinue_(success) {\n    if (!this.continuing_) {\n      return;\n    }\n    this.continuing_ = false;\n    this.fireMove_();\n    if (success) {\n      this.resolve_();\n    } else {\n      this.reject_();\n    }\n  }\n\n  /** @private */\n  fireMove_() {\n    return this.callback_(this.lastX_, this.lastY_);\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n/**\n * This class helps to manage observers. Observers can be added, removed or\n * fired through and instance of this class.\n * @template TYPE\n */\nexport class Observable {\n\n  /**\n   * Creates an instance of Observable.\n   */\n  constructor() {\n    /** @type {?Array<function(TYPE)>} */\n    this.handlers_ = null;\n  }\n\n  /**\n   * Adds the observer to this instance.\n   * @param {function(TYPE)} handler Observer's handler.\n   * @return {!UnlistenDef}\n   */\n  add(handler) {\n    if (!this.handlers_) {\n      this.handlers_ = [];\n    }\n    this.handlers_.push(handler);\n    return () => {\n      this.remove(handler);\n    };\n  }\n\n  /**\n   * Removes the observer from this instance.\n   * @param {function(TYPE)} handler Observer's instance.\n   */\n  remove(handler) {\n    if (!this.handlers_) {\n      return;\n    }\n    const index = this.handlers_.indexOf(handler);\n    if (index > -1) {\n      this.handlers_.splice(index, 1);\n    }\n  }\n\n  /**\n   * Removes all observers.\n   */\n  removeAll() {\n    if (!this.handlers_) {\n      return;\n    }\n    this.handlers_.length = 0;\n  }\n\n  /**\n   * Fires an event. All observers are called.\n   * @param {TYPE=} opt_event\n   */\n  fire(opt_event) {\n    if (!this.handlers_) {\n      return;\n    }\n    const handlers = this.handlers_;\n    for (let i = 0; i < handlers.length; i++) {\n      const handler = handlers[i];\n      handler(opt_event);\n    }\n  }\n\n  /**\n   * Returns number of handlers. Mostly needed for tests.\n   * @return {number}\n   */\n  getHandlerCount() {\n    if (!this.handlers_) {\n      return 0;\n    }\n    return this.handlers_.length;\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\n\n\n/**\n * Pass class helps to manage single-pass process. A pass is scheduled using\n * delay method. Only one pass can be pending at a time. If no pass is pending\n * the process is considered to be \"idle\".\n */\nexport class Pass {\n\n  /**\n   * Creates a new Pass instance.\n   * @param {!Window} win\n   * @param {function()} handler Handler to be executed when pass is triggered.\n   * @param {number=} opt_defaultDelay Default delay to be used when schedule\n   *   is called without one.\n   */\n  constructor(win, handler, opt_defaultDelay) {\n    this.timer_ = Services.timerFor(win);\n\n    /** @private @const {function()} */\n    this.handler_ = handler;\n\n    /** @private @const {number} */\n    this.defaultDelay_ = opt_defaultDelay || 0;\n\n    /** @private {number|string} */\n    this.scheduled_ = -1;\n\n    /** @private {number} */\n    this.nextTime_ = 0;\n\n    /** @private {boolean} */\n    this.running_ = false;\n\n    /** @private @const {!Function} */\n    this.boundPass_ = () => this.pass_();\n  }\n\n  /**\n   * Whether or not a pass is currently pending.\n   * @return {boolean}\n   */\n  isPending() {\n    return this.scheduled_ != -1;\n  }\n\n  /**\n   * Tries to schedule a new pass optionally with specified delay. If the new\n   * requested pass is requested before the pending pass, the pending pass is\n   * canceled. If the new pass is requested after the pending pass, the newly\n   * requested pass is ignored.\n   *\n   * Returns {@code true} if the pass has been scheduled and {@code false} if\n   * ignored.\n   *\n   * @param {number=} opt_delay Delay to schedule the pass. If not specified\n   *   the default delay is used, falling back to 0.\n   * @return {boolean}\n   */\n  schedule(opt_delay) {\n    let delay = opt_delay || this.defaultDelay_;\n    if (this.running_ && delay < 10) {\n      // If we get called recursively, wait at least 10ms for the next\n      // execution.\n      delay = 10;\n    }\n\n    const nextTime = Date.now() + delay;\n    // Schedule anew if nothing is scheduled currently or if the new time is\n    // sooner then previously requested.\n    if (!this.isPending() || nextTime - this.nextTime_ < -10) {\n      this.cancel();\n      this.nextTime_ = nextTime;\n      this.scheduled_ = this.timer_.delay(this.boundPass_, delay);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   *\n   */\n  pass_() {\n    this.scheduled_ = -1;\n    this.nextTime_ = 0;\n    this.running_ = true;\n    this.handler_();\n    this.running_ = false;\n  }\n\n  /**\n   * Cancels the pending pass if any.\n   */\n  cancel() {\n    if (this.isPending()) {\n      this.timer_.cancel(this.scheduled_);\n      this.scheduled_ = -1;\n    }\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getMode} from './mode';\nimport {install as installArrayIncludes} from './polyfills/array-includes';\nimport {install as installCustomElements} from './polyfills/custom-elements';\nimport {\n  install as installDOMTokenListToggle,\n} from './polyfills/domtokenlist-toggle';\nimport {install as installDocContains} from './polyfills/document-contains';\nimport {install as installMathSign} from './polyfills/math-sign';\nimport {install as installObjectAssign} from './polyfills/object-assign';\nimport {install as installPromise} from './polyfills/promise';\nimport {installCustomElements as installRegisterElement} from\n  'document-register-element/build/document-register-element.patched';\nimport {isExperimentOn} from './experiments';\n\nif (isExperimentOn(self, 'custom-elements-v1') || getMode().test) {\n  installCustomElements(self, class {});\n} else {\n  installRegisterElement(self, 'auto');\n}\ninstallDOMTokenListToggle(self);\ninstallMathSign(self);\ninstallObjectAssign(self);\ninstallPromise(self);\ninstallDocContains(self);\ninstallArrayIncludes(self);\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Returns true if the element is in the array and false otherwise.\n *\n * @param {*} value\n * @param {number=} opt_fromIndex\n * @return {boolean}\n * @this {Array}\n */\nfunction includes(value, opt_fromIndex) {\n  const fromIndex = opt_fromIndex || 0;\n  const len = this.length;\n  let i = fromIndex >= 0 ? fromIndex : Math.max(len + fromIndex, 0);\n  for (; i < len; i++) {\n    const other = this[i];\n    // If value has been found OR (value is NaN AND other is NaN)\n    /*eslint \"no-self-compare\": 0*/\n    if (other === value || (value !== value && other !== other)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n* Sets the Array.contains polyfill if it does not exist.\n* @param {!Window} win\n*/\nexport function install(win) {\n  if (!win.Array.prototype.includes) {\n    win.Object.defineProperty(Array.prototype, 'includes', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: includes,\n    });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   promise: !Promise<undefined>,\n *   resolve: function(),\n * }}\n */\nlet DeferredDef;\n\n/**\n * @typedef {!Function}\n */\nlet CustomElementConstructorDef;\n\n/**\n * @typedef {{\n *  name: string,\n *  ctor: !CustomElementConstructorDef,\n * }}\n */\nlet CustomElementDef;\n\n/**\n * Validates the custom element's name.\n * This intentionally ignores \"valid\" higher Unicode Code Points.\n * https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n */\nconst VALID_NAME = /^[a-z][a-z0-9._]*-[a-z0-9._-]*$/;\nconst INVALID_NAMES = [\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph',\n];\n\n/**\n * Asserts that the custom element name conforms to the spec.\n *\n * @param {!Function} SyntaxError\n * @param {string} name\n */\nfunction assertValidName(SyntaxError, name) {\n  if (!VALID_NAME.test(name) || INVALID_NAMES.indexOf(name) >= 0) {\n    throw new SyntaxError(`invalid custom element name \"${name}\"`);\n  }\n}\n\n/**\n * Does win have a full Custom Elements registry?\n *\n * @param {!Window} win\n * @return {boolean}\n */\nfunction hasCustomElements(win) {\n  const {customElements} = win;\n\n  return !!(\n    customElements &&\n    customElements.define &&\n    customElements.get &&\n    customElements.whenDefined);\n}\n\n/**\n * Was HTMLElement already patched for this window?\n *\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isPatched(win) {\n  const tag = win.HTMLElement.toString();\n  return tag.indexOf('[native code]') === -1;\n}\n\n/**\n * The public Custom Elements API.\n */\nclass CustomElementRegistry {\n  /**\n   * @param {!Window} win\n   * @param {!Registry} registry\n   */\n  constructor(win, registry) {\n    /**\n     * @const @private\n     */\n    this.win_ = win;\n\n    /**\n     * @const @private\n     */\n    this.registry_ = registry;\n\n    /**\n     * @type {!Object<string, DeferredDef>}\n     * @private\n     * @const\n     */\n    this.pendingDefines_ = this.win_.Object.create(null);\n  }\n\n  /**\n   * Register the custom element.\n   *\n   * @param {string} name\n   * @param {!CustomElementConstructorDef} ctor\n   * @param {!Object=} options\n   */\n  define(name, ctor, options) {\n    this.registry_.define(name, ctor, options);\n\n    // If anyone is waiting for this custom element to be defined, resolve\n    // their promise.\n    const pending = this.pendingDefines_;\n    const deferred = pending[name];\n    if (deferred) {\n      deferred.resolve();\n      delete pending[name];\n    }\n  }\n\n  /**\n   * Get the constructor of the (already defined) custom element.\n   *\n   * @param {string} name\n   * @return {!CustomElementConstructorDef|undefined}\n   */\n  get(name) {\n    const def = this.registry_.getByName(name);\n    if (def) {\n      return def.ctor;\n    }\n  }\n\n  /**\n   * Returns a promise that waits until the custom element is defined.\n   * If the custom element is already defined, returns a resolved promise.\n   *\n   * @param {string} name\n   * @return {!Promise<undefined>}\n   */\n  whenDefined(name) {\n    const {Promise, SyntaxError} = this.win_;\n    assertValidName(SyntaxError, name);\n\n    if (this.registry_.getByName(name)) {\n      return Promise.resolve();\n    }\n\n    const pending = this.pendingDefines_;\n    const deferred = pending[name];\n    if (deferred) {\n      return deferred.promise;\n    }\n\n    let resolve;\n    const promise = new /*OK*/Promise(res => resolve = res);\n    pending[name] = {\n      promise,\n      resolve,\n    };\n\n    return promise;\n  }\n\n  /**\n   * Upgrade all custom elements inside root.\n   *\n   * @param {!Node} root\n   */\n  upgrade(root) {\n    this.registry_.upgrade(root);\n  }\n}\n\n/**\n * This internal APIs necessary to run the CustomElementRegistry.\n * Since Registry is never exposed externally, all methods are actually\n * available on the instance.\n */\nclass Registry {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /**\n     * @private @const\n     */\n    this.win_ = win;\n\n    /**\n     * @private @const\n     */\n    this.doc_ = win.document;\n\n    /**\n     * @type {!Object<string, !CustomElementDef>}\n     * @private\n     * @const\n     */\n    this.definitions_ = win.Object.create(null);\n\n    /**\n     * A up-to-date DOM selector for all custom elements.\n     * @type {string}\n     */\n    this.query_ = '';\n\n    /**\n     * The currently upgrading element.\n     * @private {Element}\n     */\n    this.current_ = null;\n  }\n\n  /**\n   * The currently-being-upgraded custom element.\n   *\n   * When an already created (through the DOM parsing APIs, or innerHTML)\n   * custom element node is being upgraded, we can't just create a new node\n   * (it's illegal in the spec). But we still need to run the custom element's\n   * constructor code on the node. We avoid this conundrum by running the\n   * constructor while returning this current node in the HTMLElement\n   * class constructor (the base class of all custom elements).\n   *\n   * @return {Element}\n   */\n  current() {\n    const current = this.current_;\n    this.current_ = null;\n    return current;\n  }\n\n  /**\n   * Finds the custom element definition by name.\n   *\n   * @param {string} name\n   * @return {CustomElementDef|undefined}\n   */\n  getByName(name) {\n    const definition = this.definitions_[name];\n    if (definition) {\n      return definition;\n    }\n  }\n\n  /**\n   * Finds the custom element definition by constructor instance.\n   *\n   * @param {CustomElementConstructorDef} ctor\n   * @return {CustomElementDef|undefined}\n   */\n  getByConstructor(ctor) {\n    const definitions = this.definitions_;\n\n    for (const name in definitions) {\n      const def = definitions[name];\n      if (def.ctor === ctor) {\n        return def;\n      }\n    }\n  }\n\n  /**\n   * Registers the custom element definition, and upgrades all elements by that\n   * name in the root document.\n   *\n   * @param {string} name\n   * @param {!CustomElementConstructorDef} ctor\n   * @param {!Object|undefined} options\n   */\n  define(name, ctor, options) {\n    const {Error, SyntaxError} = this.win_;\n\n    if (options) {\n      throw new Error('Extending native custom elements is not supported');\n    }\n\n    assertValidName(SyntaxError, name);\n\n    if (this.getByName(name) ||\n        this.getByConstructor(ctor)) {\n      throw new Error(`duplicate definition \"${name}\"`);\n    }\n\n    // TODO(jridgewell): Record connectedCallback, disconnectedCallback,\n    // adoptedCallback, attributeChangedCallback, and observedAttributes.\n    // TODO(jridgewell): If attributeChangedCallback, gather observedAttributes\n    this.definitions_[name] = {\n      name,\n      ctor,\n    };\n\n    this.observe_(name);\n    this.upgrade(this.doc_, name);\n  }\n\n  /**\n   * Upgrades custom elements descendants of root (but not including root).\n   *\n   * When called with an opt_query, it both upgrades and connects the custom\n   * elements (this is used during the custom element define algorithm).\n   *\n   * @param {!Node} root\n   * @param {string=} opt_query\n   */\n  upgrade(root, opt_query) {\n    // Only CustomElementRegistry.p.define provides a query (the newly defined\n    // custom element). In this case, we are both upgrading _and_ connecting\n    // the custom elements.\n    const newlyDefined = !!opt_query;\n    const query = opt_query || this.query_;\n    const upgradeCandidates = this.queryAll_(root, query);\n\n    for (let i = 0; i < upgradeCandidates.length; i++) {\n      const candidate = upgradeCandidates[i];\n      if (newlyDefined) {\n        this.connectedCallback_(candidate);\n      } else {\n        this.upgradeSelf(candidate);\n      }\n    }\n  }\n\n  /**\n   * Upgrades the custom element node, if a custom element has been registered\n   * by this name.\n   *\n   * @param {!Node} node\n   */\n  upgradeSelf(node) {\n    const def = this.getByName(node.localName);\n    if (!def) {\n      return;\n    }\n\n    this.upgradeSelf_(/** @type {!Element} */(node), def);\n  }\n\n  /**\n   * @param {!Node} root\n   * @param {string} query\n   * @return {!Array|!NodeList}\n   */\n  queryAll_(root, query) {\n    if (!query || !root.querySelectorAll) {\n      // Nothing to do...\n      return [];\n    }\n\n    return root.querySelectorAll(query);\n  }\n\n  /**\n   * Upgrades the (already created via DOM parsing) custom element.\n   *\n   * @param {!Element} node\n   * @param {!CustomElementDef} def\n   */\n  upgradeSelf_(node, def) {\n    const {ctor} = def;\n    if (node instanceof ctor) {\n      return;\n    }\n\n    // Despite how it looks, this is not a useless construction.\n    // HTMLElementPolyfill (the base class of all custom elements) will return\n    // the current node, allowing the custom element's subclass constructor to\n    // run on the node. The node itself is already constructed, so the return\n    // value is just the node.\n    this.current_ = node;\n    const el = new ctor();\n\n    if (el !== node) {\n      throw new this.win_.Error(\n          'Constructor illegally returned a different instance.');\n    }\n  }\n\n  /**\n   * Fires connectedCallback on the custom element, if it has one.\n   * This also upgrades the custom element, since it may not have been\n   * accessible via the root document before (a detached DOM tree).\n   *\n   * @param {!Node} node\n   */\n  connectedCallback_(node) {\n    const def = this.getByName(node.localName);\n    if (!def) {\n      return;\n    }\n    this.upgradeSelf_(/** @type {!Element} */(node), def);\n    // TODO(jridgewell): It may be appropriate to adoptCallback, if the node\n    // used to be in another doc.\n    // TODO(jridgewell): I should be calling the definitions connectedCallback\n    // with node as the context.\n    if (node.connectedCallback) {\n      node.connectedCallback();\n    }\n  }\n\n  /**\n   * Fires disconnectedCallback on the custom element, if it has one.\n   *\n   * @param {!Node} node\n   */\n  disconnectedCallback_(node) {\n    // TODO(jridgewell): I should be calling the definitions connectedCallback\n    // with node as the context.\n    if (node.disconnectedCallback) {\n      node.disconnectedCallback();\n    }\n  }\n\n  /**\n   * Records name as a registered custom element to observe.\n   *\n   * Starts the Mutation Observer if this is the first registered custom\n   * element. This is deferred until the first custom element is defined to\n   * speed up initial rendering of the page.\n   *\n   * Mutation Observers are conveniently available in every browser we care\n   * about. When a node is connected to the root document, all custom\n   * elements (including that node iteself) will be upgraded and call\n   * connectedCallback. When a node is disconnectedCallback from the root\n   * document, all custom elements will call disconnectedCallback.\n   *\n   * @param {string} name\n   */\n  observe_(name) {\n    if (this.query_) {\n      this.query_ += `,${name}`;\n      return;\n    }\n\n    this.query_ = name;\n\n    // The first registered name starts the mutation observer.\n    const observer = new this.win_.MutationObserver(records => {\n      if (records) {\n        this.handleRecords_(records);\n      }\n    });\n    observer.observe(this.doc_, {\n      childList: true,\n      subtree: true,\n    });\n  }\n\n  /**\n   * Handle all the Mutation Observer's Mutation Records.\n   * All added custom elements will be upgraded (if not already) and call\n   * connectedCallback. All removed custom elements will call\n   * disconnectedCallback.\n   *\n   * @param {!Array<!MutationRecord>} records\n   */\n  handleRecords_(records) {\n    for (let i = 0; i < records.length; i++) {\n      const record = records[i];\n      if (!record) {\n        continue;\n      }\n\n      const {addedNodes, removedNodes} = record;\n      for (let i = 0; i < addedNodes.length; i++) {\n        const node = addedNodes[i];\n        const connectedCandidates = this.queryAll_(node, this.query_);\n        this.connectedCallback_(node);\n        for (let i = 0; i < connectedCandidates.length; i++) {\n          this.connectedCallback_(connectedCandidates[i]);\n        }\n      }\n\n      for (let i = 0; i < removedNodes.length; i++) {\n        const node = removedNodes[i];\n        const disconnectedCandidates = this.queryAll_(node, this.query_);\n        this.disconnectedCallback_(node);\n        for (let i = 0; i < disconnectedCandidates.length; i++) {\n          this.disconnectedCallback_(disconnectedCandidates[i]);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Does the polyfilling.\n * @param {!Window} win\n */\nfunction polyfill(win) {\n  const {HTMLElement, Element, Node, Document, Object, document} = win;\n  const {createElement, cloneNode, importNode} = document;\n\n  const registry = new Registry(win);\n  const customElements = new CustomElementRegistry(win, registry);\n\n  // Expose the custom element registry.\n  // Object.getOwnPropertyDescriptor(window, 'customElements')\n  // {get: , set: undefined, enumerable: true, configurable: true}\n  Object.defineProperty(win, 'customElements', {\n    enumerable: true,\n    configurable: true,\n    // writable: false,\n    value: customElements,\n  });\n\n  // Patch createElement to immediately upgrade the custom element.\n  // This has the added benefit that it avoids the \"already created but needs\n  // constructor code run\" chicken-and-egg problem.\n  Document.prototype.createElement = function createElementPolyfill(name) {\n    const def = registry.getByName(name);\n    if (def) {\n      return new def.ctor();\n    }\n    return createElement.apply(this, arguments);\n  };\n\n  // Patch importNode to immediately upgrade custom elements.\n  // TODO(jridgewell): Can fire adoptedCallback for cross doc imports.\n  Document.prototype.importNode = function importNodePolyfill() {\n    const imported = importNode.apply(this, arguments);\n    if (imported) {\n      registry.upgradeSelf(imported);\n      registry.upgrade(imported);\n    }\n    return imported;\n  };\n\n  // Patch cloneNode to immediately upgrade custom elements.\n  Node.prototype.cloneNode = function cloneNodePolyfill() {\n    const cloned = cloneNode.apply(this, arguments);\n    registry.upgradeSelf(cloned);\n    registry.upgrade(cloned);\n    return cloned;\n  };\n\n  // Patch the innerHTML setter to immediately upgrade custom elements.\n  // Note, this could technically fire connectedCallbacks if this node was\n  // connected, but we leave that to the Mutation Observer.\n  const innerHTMLDesc = Object.getOwnPropertyDescriptor(Element.prototype,\n      'innerHTML');\n  const innerHTMLSetter = innerHTMLDesc.set;\n  innerHTMLDesc.set = function(html) {\n    innerHTMLSetter.call(this, html);\n    registry.upgrade(this);\n  };\n  Object.defineProperty(Element.prototype, 'innerHTML', innerHTMLDesc);\n\n  /**\n   * You can't use the real HTMLElement constructor, because you can't subclass\n   * it without using native classes. So, mock its approximation using\n   * createElement.\n   */\n  function HTMLElementPolyfill() {\n    const {constructor} = this;\n\n    // If we're upgrading an already created custom element, we can't create\n    // another new node (by the spec, it must be the same node).\n    let el = registry.current();\n\n    // If there's not a already created custom element, we're being invoked via\n    // `new`ing the constructor.\n    //\n    // Technically, we could get here via createElement, but we patched that.\n    // If it the custom element was registered, the patch turned it into a\n    // `new` call.\n    // If it was not registered, the native createElement is used. And if\n    // native createElement is being used and we got to this code, we're really\n    // in an infinite loop (a native createElement call just below) so we've\n    // got bigger problems.\n    //\n    // So just take my word we got here via `new`.\n    if (!el) {\n      // The custom element definition is an invariant. If the custom element\n      // is registered, everything works. If it's not, it throws in the member\n      // property access (only defined custom elements can be directly\n      // constructed via `new`).\n      const def = registry.getByConstructor(constructor);\n      el = createElement.call(document, def.name);\n    }\n\n    // Finally, if the node was already constructed, we need to reset it's\n    // prototype to the custom element prototype. And if it wasn't already\n    // constructed, we created a new node via native createElement, and we need\n    // to reset it's prototype. Basically always reset the prototype.\n    Object.setPrototypeOf(el, constructor.prototype);\n    return el;\n  }\n  subClass(Object, HTMLElement, HTMLElementPolyfill);\n\n  // Expose the polyfilled HTMLElement constructor for everyone to extend from.\n  win.HTMLElement = HTMLElementPolyfill;\n}\n\n/**\n * Wraps HTMLElement in a Reflect.construct constructor, so that transpiled\n * classes can `_this = superClass.call(this)` during their construction.\n *\n * This is only used when Custom Elements v1 is already available _and_ we're\n * using transpiled classes (which use ES5 construction idioms).\n *\n * @param {!Window} win\n */\nfunction wrapHTMLElement(win) {\n  const {HTMLElement, Reflect, Object} = win;\n  /**\n   */\n  function HTMLElementWrapper() {\n    const ctor = /** @type {function(...?):?|undefined} */(\n      /** @type {!HTMLElement} */(this).constructor);\n\n    // Reflect.construct allows us to construct a new HTMLElement without using\n    // `new` (which will always fail because native HTMLElement is a restricted\n    // constructor).\n    return Reflect.construct(HTMLElement, [], ctor);\n  }\n  subClass(Object, HTMLElement, HTMLElementWrapper);\n\n  // Expose the wrapped HTMLElement constructor for everyone to extend from.\n  win.HTMLElement = HTMLElementWrapper;\n}\n\n/**\n * Setups up prototype inheritance\n *\n * @param {!Object} Object\n * @param {!Function} superClass\n * @param {!Function} subClass\n */\nfunction subClass(Object, superClass, subClass) {\n  // Object.getOwnPropertyDescriptor(superClass.prototype, 'constructor')\n  // {value: , writable: true, enumerable: false, configurable: true}\n  subClass.prototype = Object.create(superClass.prototype, {\n    constructor: {\n      // enumerable: false,\n      configurable: true,\n      writable: true,\n      value: subClass,\n    },\n  });\n}\n\n/**\n * Polyfills Custom Elements v1 API. This has 4 modes:\n *\n * 1. Custom elements v1 already supported, using native classes\n * 2. Custom elements v1 already supported, using transpiled classes\n * 3. Custom elements v1 not supported, using native classes\n * 4. Custom elements v1 not supported, using transpiled classes\n *\n * In mode 1, nothing is done. In mode 2, a minimal polyfill is used to support\n * extending the HTMLElement base class. In mode 3 and 4, a full polyfill is\n * done.\n *\n * @param {!Window} win\n * @param {!Function} ctor\n */\nexport function install(win, ctor) {\n  if (isPatched(win)) {\n    return;\n  }\n\n  let install = true;\n  let installWrapper = false;\n\n  if (hasCustomElements(win)) {\n    // If ctor is constructable without new, it's a function. That means it was\n    // compiled down, and we need to do the minimal polyfill because all you\n    // cannot extend HTMLElement without native classes.\n    try {\n      const {Object, Reflect} = win;\n\n      // \"Construct\" ctor using ES5 idioms\n      const instance = Object.create(ctor.prototype);\n      ctor.call(instance);\n\n      // If that succeeded, we're in a transpiled environment\n      // Let's find out if we can wrap HTMLElement and avoid a full patch.\n      installWrapper = !!(Reflect && Reflect.construct);\n    } catch (e) {\n\n      // The ctor threw when we constructed is via ES5, so it's a real class.\n      // We're ok to not install the polyfill.\n      install = false;\n    }\n  }\n\n  if (installWrapper) {\n    wrapHTMLElement(win);\n  } else if (install) {\n    polyfill(win);\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Polyfill for `document.contains()` method. Notice that according to spec\n * `document.contains` is inclusionary.\n * See https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n * @param {?Node} node\n * @return {boolean}\n * @this {Node}\n */\nfunction documentContainsPolyfill(node) {\n  // Per spec, \"contains\" method is inclusionary\n  // i.e. `node.contains(node) == true`. However, we still need to test\n  // equality to the document itself.\n  return node == this || this.documentElement.contains(node);\n}\n\n\n/**\n * Polyfills `HTMLDocument.contains` API.\n * @param {!Window} win\n */\nexport function install(win) {\n  // HTMLDocument is undefined in Internet Explorer 10, but it has Document,\n  // so we use that as a fallback.\n  const documentClass = win.HTMLDocument || win.Document;\n  if (!documentClass.prototype.contains) {\n    win.Object.defineProperty(documentClass.prototype, 'contains', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: documentContainsPolyfill,\n    });\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Polyfill for `DOMTokenList.prototype.toggle(token, opt_force)` method. This\n * is specially important because IE does not support `opt_force` attribute. See\n * https://goo.gl/hgKNYY for details.\n * @param {string} token\n * @param {boolean=} opt_force\n * @this {DOMTokenList}\n * @return {boolean}\n */\nfunction domTokenListTogglePolyfill(token, opt_force) {\n  const remove = opt_force === undefined ? this.contains(token) : !opt_force;\n  if (remove) {\n    this.remove(token);\n    return false;\n  } else {\n    this.add(token);\n    return true;\n  }\n}\n\n\n/**\n * Polyfills `DOMTokenList.prototype.toggle` API in IE.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (isIe(win) && win.DOMTokenList) {\n    win.Object.defineProperty(win.DOMTokenList.prototype, 'toggle', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: domTokenListTogglePolyfill,\n    });\n  }\n}\n\n\n/**\n * Whether the current browser is a IE browser.\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isIe(win) {\n  return /Trident|MSIE|IEMobile/i.test(win.navigator.userAgent);\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Parses the number x and returns its sign. For positive x returns 1, for\n * negative, -1. For 0 and -0, returns 0 and -0 respectively. For any number\n * that parses to NaN, returns NaN.\n *\n * @param {number} x\n * @return {number}\n */\nexport function sign(x) {\n  x = Number(x);\n\n  // If x is 0, -0, or NaN, return it.\n  if (!x) {\n    return x;\n  }\n\n  return x > 0 ? 1 : -1;\n}\n\n\n/**\n * Sets the Math.sign polyfill if it does not exist.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (!win.Math.sign) {\n    win.Object.defineProperty(win.Math, 'sign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: sign,\n    });\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst {hasOwnProperty} = Object.prototype;\n\n/**\n * Copies values of all enumerable own properties from one or more source\n * objects (provided as extended arguments to the function) to a target object.\n *\n * @param {!Object} target\n * @param {...Object} var_args\n * @return {!Object}\n */\nexport function assign(target, var_args) {\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  const output = Object(target);\n  for (let i = 1; i < arguments.length; i++) {\n    const source = arguments[i];\n    if (source != null) {\n      for (const key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          output[key] = source[key];\n        }\n      }\n    }\n  }\n  return output;\n}\n\n\n/**\n * Sets the Object.assign polyfill if it does not exist.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (!win.Object.assign) {\n    win.Object.defineProperty(win.Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign,\n    });\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport * as Promise from 'promise-pjs/promise';\n\n/**\n * Sets the Promise polyfill if it does not exist.\n * @param {!Window} win\n */\nexport function install(win) {\n  if (!win.Promise) {\n    win.Promise = /** @type {?} */ (Promise);\n    // In babel the * export is an Object with a default property.\n    // In closure compiler it is the Promise function itself.\n    if (Promise.default) {\n      win.Promise = Promise.default;\n    }\n    // We copy the individual static methods, because closure\n    // compiler flattens the polyfill namespace.\n    win.Promise.resolve = Promise.resolve;\n    win.Promise.reject = Promise.reject;\n    win.Promise.all = Promise.all;\n    win.Promise.race = Promise.race;\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\nimport {dev} from './log';\nimport {getServicePromise} from './service';\n\n/**\n * A map of services that delay rendering. The key is the name of the service\n * and the value is a DOM query which is used to check if the service is needed\n * in the current document.\n * Do not add a service unless absolutely necessary.\n *\n * \\   \\  /  \\  /   / /   \\     |   _  \\     |  \\ |  | |  | |  \\ |  |  / _____|\n *  \\   \\/    \\/   / /  ^  \\    |  |_)  |    |   \\|  | |  | |   \\|  | |  |  __\n *   \\            / /  /_\\  \\   |      /     |  . `  | |  | |  . `  | |  | |_ |\n *    \\    /\\    / /  _____  \\  |  |\\  \\----.|  |\\   | |  | |  |\\   | |  |__| |\n *     \\__/  \\__/ /__/     \\__\\ | _| `._____||__| \\__| |__| |__| \\__|  \\______|\n *\n * The equivalent of this list is used for server-side rendering (SSR) and any\n * changes made to it must be made in coordination with caches that implement\n * SSR. For more information on SSR see bit.ly/amp-ssr.\n *\n * @const {!Object<string, string>}\n */\nconst SERVICES = {\n  'amp-dynamic-css-classes': '[custom-element=amp-dynamic-css-classes]',\n  'variant': 'amp-experiment',\n  'amp-story': 'amp-story[standalone]',\n};\n\n/**\n * Maximum milliseconds to wait for all extensions to load before erroring.\n * @const\n */\nconst LOAD_TIMEOUT = 3000;\n\n/**\n * Detects any render delaying services that are required on the page, and\n * returns a promise with a timeout.\n * @param {!Window} win\n * @return {!Promise<!Array<*>>} resolves to an Array that has the same length\n *     as the detected render delaying services\n */\nexport function waitForServices(win) {\n  const promises = includedServices(win).map(service => {\n    return Services.timerFor(win).timeoutPromise(\n        LOAD_TIMEOUT,\n        getServicePromise(win, service),\n        `Render timeout waiting for service ${service} to be ready.`\n    );\n  });\n  return Promise.all(promises);\n}\n\n/**\n * Returns true if the page has a render delaying service.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function hasRenderDelayingServices(win) {\n  return includedServices(win).length > 0;\n}\n\n/**\n * Detects which, if any, render-delaying extensions are included on the page.\n * @param {!Window} win\n * @return {!Array<string>}\n */\nexport function includedServices(win) {\n  /** @const {!Document} */\n  const doc = win.document;\n  dev().assert(doc.body);\n\n  return Object.keys(SERVICES).filter(service => {\n    return doc.querySelector(SERVICES[service]);\n  });\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Registration and getter functions for AMP services.\n *\n * Invariant: Service getters never return null for registered services.\n */\n\n// src/polyfills.js must be the first import.\nimport './polyfills'; // eslint-disable-line sort-imports-es6-autofix/sort-imports-es6\n\nimport {Deferred} from './utils/promise';\nimport {dev} from './log';\nimport {toWin} from './types';\n\n\n/**\n * Holds info about a service.\n * - obj: Actual service implementation when available.\n * - promise: Promise for the obj.\n * - resolve: Function to resolve the promise with the object.\n * - context: Argument for ctor, either a window or an ampdoc.\n * - ctor: Function that constructs and returns the service.\n * @typedef {{\n *   obj: (?Object),\n *   promise: (?Promise),\n *   resolve: (?function(!Object)),\n *   context: (?Window|?./service/ampdoc-impl.AmpDoc),\n *   ctor: (?function(new:Object, !Window)|\n *          ?function(new:Object, !./service/ampdoc-impl.AmpDoc)),\n * }}\n */\nlet ServiceHolderDef;\n\n\n/**\n * This interface provides a `dispose` method that will be called by\n * runtime when a service needs to be disposed of.\n * @interface\n */\nexport class Disposable {\n\n  /**\n   * Instructs the service to release any resources it might be holding. Can\n   * be called only once in the lifecycle of a service.\n   */\n  dispose() {}\n}\n\n\n/**\n * This interface provides a `adoptEmbedWindow` method that will be called by\n * runtime for a new embed window.\n * @interface\n */\nexport class EmbeddableService {\n\n  /**\n   * Instructs the service to adopt the embed window and add any necessary\n   * listeners and resources.\n   * @param {!Window} unusedEmbedWin\n   */\n  adoptEmbedWindow(unusedEmbedWin) {}\n}\n\n\n/**\n * Returns a service with the given id. Assumes that it has been registered\n * already.\n * @param {!Window} win\n * @param {string} id\n * @param {boolean=} opt_fallbackToTopWin\n * @return {Object} The service.\n */\nexport function getExistingServiceInEmbedScope(win, id, opt_fallbackToTopWin) {\n  // First, try to resolve via local (embed) window.\n  const local = getLocalExistingServiceForEmbedWinOrNull(win, id);\n  if (local) {\n    return local;\n  }\n  if (opt_fallbackToTopWin) {\n    return getService(win, id);\n  }\n  return null;\n}\n\n/**\n * Returns a service with the given id. Assumes that it has been constructed\n * already.\n *\n * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n * services since sometimes we only have the FIE Document for context.\n *\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @param {string} id\n * @param {boolean=} opt_fallbackToTopWin\n * @return {Object} The service.\n */\nexport function getExistingServiceForDocInEmbedScope(\n  nodeOrDoc, id, opt_fallbackToTopWin) {\n  // First, try to resolve via local (embed) window.\n  if (nodeOrDoc.nodeType) {\n    // If a node is passed, try to resolve via this node.\n    const win = toWin(/** @type {!Document} */ (\n      nodeOrDoc.ownerDocument || nodeOrDoc).defaultView);\n    const local = getLocalExistingServiceForEmbedWinOrNull(win, id);\n    if (local) {\n      return local;\n    }\n  }\n  // If an ampdoc is passed or fallback is allowed, continue resolving.\n  if (!nodeOrDoc.nodeType || opt_fallbackToTopWin) {\n    return getServiceForDocDeprecated(nodeOrDoc, id);\n  }\n  return null;\n}\n\n/**\n * Installs a service override on amp-doc level.\n * @param {!Window} embedWin\n * @param {string} id\n * @param {!Object} service The service.\n */\nexport function installServiceInEmbedScope(embedWin, id, service) {\n  const topWin = getTopWindow(embedWin);\n  dev().assert(embedWin != topWin,\n      'Service override can only be installed in embed window: %s', id);\n  dev().assert(!getLocalExistingServiceForEmbedWinOrNull(embedWin, id),\n      'Service override has already been installed: %s', id);\n  registerServiceInternal(embedWin, embedWin, id, () => service);\n  getServiceInternal(embedWin, id); // Force service to build.\n}\n\n/**\n * @param {!Window} embedWin\n * @param {string} id\n * @return {?Object}\n */\nfunction getLocalExistingServiceForEmbedWinOrNull(embedWin, id) {\n  // Note that this method currently only resolves against the given window.\n  // It does not try to go all the way up the parent window chain. We can change\n  // this in the future, but for now this gives us a better performance.\n  const topWin = getTopWindow(embedWin);\n  if (embedWin != topWin && isServiceRegistered(embedWin, id)) {\n    return getServiceInternal(embedWin, id);\n  } else {\n    return null;\n  }\n}\n\n/**\n * Registers a service given a class to be used as implementation.\n * @param {!Window} win\n * @param {string} id of the service.\n * @param {function(new:Object, !Window)} constructor\n * @param {boolean=} opt_instantiate Whether to immediately create the service\n */\nexport function registerServiceBuilder(win,\n  id,\n  constructor,\n  opt_instantiate) {\n  win = getTopWindow(win);\n  registerServiceInternal(win, win, id, constructor);\n  if (opt_instantiate) {\n    getServiceInternal(win, id);\n  }\n}\n\n\n/**\n * Returns a service and registers it given a class to be used as\n * implementation.\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @param {string} id of the service.\n * @param {function(new:Object, !./service/ampdoc-impl.AmpDoc)} constructor\n * @param {boolean=} opt_instantiate Whether to immediately create the service\n */\nexport function registerServiceBuilderForDoc(nodeOrDoc,\n  id,\n  constructor,\n  opt_instantiate) {\n  const ampdoc = getAmpdoc(nodeOrDoc);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  registerServiceInternal(holder, ampdoc, id, constructor);\n  if (opt_instantiate) {\n    getServiceInternal(holder, id);\n  }\n}\n\n\n/**\n * Returns a service for the given id and window (a per-window singleton). Users\n * should typically wrap this as a special purpose function (e.g.\n * `Services.vsyncFor(win)`) for type safety and because the factory should not\n * be passed around.\n * @param {!Window} win\n * @param {string} id of the service.\n * @template T\n * @return {T}\n */\nexport function getService(win, id) {\n  win = getTopWindow(win);\n  return getServiceInternal(win, id);\n}\n\n\n/**\n * Returns a promise for a service for the given id and window. Also expects an\n * element that has the actual implementation. The promise resolves when the\n * implementation loaded. Users should typically wrap this as a special purpose\n * function (e.g. `Services.vsyncFor(win)`) for type safety and because the\n * factory should not be passed around.\n * @param {!Window} win\n * @param {string} id of the service.\n * @return {!Promise<!Object>}\n */\nexport function getServicePromise(win, id) {\n  return getServicePromiseInternal(win, id);\n}\n\n\n/**\n * Returns a service or null with the given id.\n * @param {!Window} win\n * @param {string} id\n * @return {?Object} The service.\n */\nexport function getExistingServiceOrNull(win, id) {\n  win = getTopWindow(win);\n  if (isServiceRegistered(win, id)) {\n    return getServiceInternal(win, id);\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * Like getServicePromise but returns null if the service was never registered.\n * @param {!Window} win\n * @param {string} id\n * @return {?Promise<!Object>}\n */\nexport function getServicePromiseOrNull(win, id) {\n  return getServicePromiseOrNullInternal(win, id);\n}\n\n\n/**\n * Returns a service for the given id and ampdoc (a per-ampdoc singleton).\n * Expects service `id` to be registered.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id\n * @return {T}\n * @template T\n */\nexport function getServiceForDoc(elementOrAmpDoc, id) {\n  const ampdoc = getAmpdoc(elementOrAmpDoc);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  return getServiceInternal(holder, id);\n}\n\n\n/**\n * tl;dr -- Use getServiceForDoc() instead of this.\n *\n * Privileged variant of getServiceForDoc() that accepts non-element params,\n * e.g. window.document. This is currently necessary for doc-level services\n * used in startup, e.g. Chunks. Eventually we want to remove this function\n * and have callers find the appropriate AmpDoc and use getServiceForDoc().\n *\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @param {string} id\n * @return {T}\n * @template T\n */\nexport function getServiceForDocDeprecated(nodeOrDoc, id) {\n  const ampdoc = getAmpdoc(nodeOrDoc);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  return getServiceInternal(holder, id);\n}\n\n\n/**\n * Returns a promise for a service for the given id and ampdoc. Also expects\n * a service that has the actual implementation. The promise resolves when\n * the implementation loaded.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id\n * @return {!Promise<!Object>}\n */\nexport function getServicePromiseForDoc(elementOrAmpDoc, id) {\n  return getServicePromiseInternal(\n      getAmpdocServiceHolder(elementOrAmpDoc), id);\n}\n\n\n/**\n * Like getServicePromiseForDoc but returns null if the service was never\n * registered for this ampdoc.\n * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n * @param {string} id\n * @return {?Promise<!Object>}\n */\nexport function getServicePromiseOrNullForDoc(elementOrAmpDoc, id) {\n  return getServicePromiseOrNullInternal(\n      getAmpdocServiceHolder(elementOrAmpDoc), id);\n}\n\n/**\n * Set the parent and top windows on a child window (friendly iframe).\n * @param {!Window} win\n * @param {!Window} parentWin\n */\nexport function setParentWindow(win, parentWin) {\n  win.__AMP_PARENT = parentWin;\n  win.__AMP_TOP = getTopWindow(parentWin);\n}\n\n\n/**\n * Returns the parent window for a child window (friendly iframe).\n * @param {!Window} win\n * @return {!Window}\n */\nexport function getParentWindow(win) {\n  return win.__AMP_PARENT || win;\n}\n\n\n/**\n * Returns the top window where AMP Runtime is installed for a child window\n * (friendly iframe).\n * @param {!Window} win\n * @return {!Window}\n */\nexport function getTopWindow(win) {\n  return win.__AMP_TOP || win;\n}\n\n\n/**\n * Returns the parent \"friendly\" iframe if the node belongs to a child window.\n * @param {!Node} node\n * @param {!Window} topWin\n * @return {?HTMLIFrameElement}\n */\nexport function getParentWindowFrameElement(node, topWin) {\n  const childWin = (node.ownerDocument || node).defaultView;\n  if (childWin && childWin != topWin && getTopWindow(childWin) == topWin) {\n    try {\n      return /** @type {?HTMLIFrameElement} */ (childWin.frameElement);\n    } catch (e) {\n      // Ignore the error.\n    }\n  }\n  return null;\n}\n\n\n/**\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @return {!./service/ampdoc-impl.AmpDoc}\n */\nexport function getAmpdoc(nodeOrDoc) {\n  if (nodeOrDoc.nodeType) {\n    const win = toWin(/** @type {!Document} */ (\n      nodeOrDoc.ownerDocument || nodeOrDoc).defaultView);\n    return getAmpdocService(win).getAmpDoc(/** @type {!Node} */ (nodeOrDoc));\n  }\n  return /** @type {!./service/ampdoc-impl.AmpDoc} */ (nodeOrDoc);\n}\n\n\n/**\n * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n * @return {!./service/ampdoc-impl.AmpDoc|!Window}\n */\nfunction getAmpdocServiceHolder(nodeOrDoc) {\n  const ampdoc = getAmpdoc(nodeOrDoc);\n  return ampdoc.isSingleDoc() ? ampdoc.win : ampdoc;\n}\n\n\n/**\n * This is essentially a duplicate of `ampdoc.js`, but necessary to avoid\n * circular dependencies.\n * @param {!Window} win\n * @return {!./service/ampdoc-impl.AmpDocService}\n */\nfunction getAmpdocService(win) {\n  return /** @type {!./service/ampdoc-impl.AmpDocService} */ (\n    getService(win, 'ampdoc'));\n}\n\n\n/**\n * Get service `id` from `holder`. Assumes the service\n * has already been registered.\n * @param {!Object} holder Object holding the service instance.\n * @param {string} id of the service.\n * @return {Object}\n * @template T\n */\nfunction getServiceInternal(holder, id) {\n  dev().assert(isServiceRegistered(holder, id),\n      `Expected service ${id} to be registered`);\n  const services = getServices(holder);\n  const s = services[id];\n  if (!s.obj) {\n    dev().assert(s.ctor, `Service ${id} registered without ctor nor impl.`);\n    dev().assert(s.context, `Service ${id} registered without context.`);\n    s.obj = new s.ctor(s.context);\n    dev().assert(s.obj, `Service ${id} constructed to null.`);\n    s.ctor = null;\n    s.context = null;\n    // The service may have been requested already, in which case we have a\n    // pending promise we need to fulfill.\n    if (s.resolve) {\n      s.resolve(s.obj);\n    }\n  }\n  return s.obj;\n}\n\n/**\n * @param {!Object} holder Object holding the service instance.\n * @param {!Window|!./service/ampdoc-impl.AmpDoc} context Win or AmpDoc.\n * @param {string} id of the service.\n * @param {?function(new:Object, !Window)|?function(new:Object, !./service/ampdoc-impl.AmpDoc)} ctor Constructor function to new the service. Called with context.\n */\nfunction registerServiceInternal(holder, context, id, ctor) {\n  const services = getServices(holder);\n  let s = services[id];\n\n  if (!s) {\n    s = services[id] = {\n      obj: null,\n      promise: null,\n      resolve: null,\n      context: null,\n      ctor: null,\n    };\n  }\n\n  if (s.ctor || s.obj) {\n    // Service already registered.\n    return;\n  }\n\n  s.ctor = ctor;\n  s.context = context;\n\n  // The service may have been requested already, in which case there is a\n  // pending promise that needs to fulfilled.\n  if (s.resolve) {\n    // getServiceInternal will resolve the promise.\n    getServiceInternal(holder, id);\n  }\n}\n\n/**\n * @param {!Object} holder\n * @param {string} id of the service.\n * @return {!Promise<!Object>}\n */\nfunction getServicePromiseInternal(holder, id) {\n  const cached = getServicePromiseOrNullInternal(holder, id);\n  if (cached) {\n    return cached;\n  }\n  // Service is not registered.\n\n  // TODO(@cramforce): Add a check that if the element is eventually registered\n  // that the service is actually provided and this promise resolves.\n  const deferred = new Deferred();\n  const {promise, resolve} = deferred;\n\n  const services = getServices(holder);\n  services[id] = {\n    obj: null,\n    promise,\n    resolve,\n    context: null,\n    ctor: null,\n  };\n  return promise;\n}\n\n\n/**\n * Returns a promise for service `id` if the service has been registered\n * on `holder`.\n * @param {!Object} holder\n * @param {string} id of the service.\n * @return {?Promise<!Object>}\n */\nfunction getServicePromiseOrNullInternal(holder, id) {\n  const services = getServices(holder);\n  const s = services[id];\n  if (s) {\n    if (s.promise) {\n      return s.promise;\n    } else {\n      // Instantiate service if not already instantiated.\n      getServiceInternal(holder, id);\n      return s.promise = Promise.resolve(/** @type {!Object} */ (s.obj));\n    }\n  }\n  return null;\n}\n\n\n/**\n * Returns the object that holds the services registered in a holder.\n * @param {!Object} holder\n * @return {!Object<string,!ServiceHolderDef>}\n */\nfunction getServices(holder) {\n  let {services} = holder;\n  if (!services) {\n    services = holder.services = {};\n  }\n  return services;\n}\n\n\n/**\n * Whether the specified service implements `Disposable` interface.\n * @param {!Object} service\n * @return {boolean}\n */\nexport function isDisposable(service) {\n  return typeof service.dispose == 'function';\n}\n\n\n/**\n * Asserts that the specified service implements `Disposable` interface and\n * typecasts the instance to `Disposable`.\n * @param {!Object} service\n * @return {!Disposable}\n */\nexport function assertDisposable(service) {\n  dev().assert(isDisposable(service), 'required to implement Disposable');\n  return /** @type {!Disposable} */ (service);\n}\n\n\n/**\n * Disposes all disposable (implements `Disposable` interface) services in\n * ampdoc scope.\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc\n */\nexport function disposeServicesForDoc(ampdoc) {\n  disposeServicesInternal(ampdoc);\n}\n\n\n/**\n * Disposes all disposable (implements `Disposable` interface) services in\n * embed scope.\n * @param {!Window} embedWin\n */\nexport function disposeServicesForEmbed(embedWin) {\n  disposeServicesInternal(embedWin);\n}\n\n\n/**\n * @param {!Object} holder Object holding the service instances.\n */\nfunction disposeServicesInternal(holder) {\n  // TODO(dvoytenko): Consider marking holder as destroyed for later-arriving\n  // service to be canceled automatically.\n  const services = getServices(holder);\n  for (const id in services) {\n    if (!Object.prototype.hasOwnProperty.call(services, id)) {\n      continue;\n    }\n    const serviceHolder = services[id];\n    if (serviceHolder.obj) {\n      disposeServiceInternal(id, serviceHolder.obj);\n    } else if (serviceHolder.promise) {\n      serviceHolder.promise.then(\n          instance => disposeServiceInternal(id, instance));\n    }\n  }\n}\n\n\n/**\n * @param {string} id\n * @param {!Object} service\n */\nfunction disposeServiceInternal(id, service) {\n  if (!isDisposable(service)) {\n    return;\n  }\n  try {\n    assertDisposable(service).dispose();\n  } catch (e) {\n    // Ensure that a failure to dispose a service does not disrupt other\n    // services.\n    dev().error('SERVICE', 'failed to dispose service', id, e);\n  }\n}\n\n\n/**\n * Whether the specified service implements `EmbeddableService` interface.\n * @param {!Object} service\n * @return {boolean}\n */\nexport function isEmbeddable(service) {\n  return typeof service.adoptEmbedWindow == 'function';\n}\n\n\n/**\n * Adopts an embeddable (implements `EmbeddableService` interface) service\n * in embed scope.\n * @param {!Window} embedWin\n * @param {string} serviceId\n */\nexport function adoptServiceForEmbed(embedWin, serviceId) {\n  const adopted = adoptServiceForEmbedIfEmbeddable(embedWin, serviceId);\n  dev().assert(adopted, `Service ${serviceId} not found on parent ` +\n      'or doesn\\'t implement EmbeddableService.');\n}\n\n\n/**\n * Adopts an embeddable (implements `EmbeddableService` interface) service\n * in embed scope.\n * @param {!Window} embedWin\n * @param {string} serviceId\n * @return {boolean}\n */\nexport function adoptServiceForEmbedIfEmbeddable(embedWin, serviceId) {\n  const frameElement = /** @type {!Node} */ (dev().assert(\n      embedWin.frameElement,\n      'frameElement not found for embed'));\n  const ampdoc = getAmpdoc(frameElement);\n  const holder = getAmpdocServiceHolder(ampdoc);\n  if (!isServiceRegistered(holder, serviceId)) {\n    return false;\n  }\n  const service = getServiceForDocDeprecated(frameElement, serviceId);\n  if (!isEmbeddable(service)) {\n    return false;\n  }\n  service.adoptEmbedWindow(embedWin);\n  return true;\n}\n\n\n/**\n * Resets a single service, so it gets recreated on next getService invocation.\n * @param {!Object} holder\n * @param {string} id of the service.\n */\nexport function resetServiceForTesting(holder, id) {\n  if (holder.services) {\n    holder.services[id] = null;\n  }\n}\n\n/**\n * @param {!Object} holder Object holding the service instance.\n * @param {string} id of the service.\n * @return {boolean}\n */\nfunction isServiceRegistered(holder, id) {\n  const service = holder.services && holder.services[id];\n  // All registered services must have an implementation or a constructor.\n  return !!(service && (service.ctor || service.obj));\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActionTrust} from '../action-constants';\nimport {KeyCodes} from '../utils/key-codes';\nimport {RAW_OBJECT_ARGS_KEY} from '../action-constants';\nimport {Services} from '../services';\nimport {debounce, throttle} from '../utils/rate-limit';\nimport {dev, user} from '../log';\nimport {dict, hasOwn, map} from '../utils/object';\nimport {getDetail} from '../event-helper';\nimport {getMode} from '../mode';\nimport {getValueForExpr} from '../json';\nimport {\n  installServiceInEmbedScope,\n  registerServiceBuilderForDoc,\n} from '../service';\nimport {isArray, isFiniteNumber, toWin} from '../types';\nimport {isEnabled} from '../dom';\nimport {reportError} from '../error';\n\n/** @const {string} */\nconst TAG_ = 'Action';\n\n/** @const {string} */\nconst ACTION_MAP_ = '__AMP_ACTION_MAP__' + Math.random();\n\n/** @const {string} */\nconst ACTION_QUEUE_ = '__AMP_ACTION_QUEUE__';\n\n/** @const {string} */\nconst ACTION_HANDLER_ = '__AMP_ACTION_HANDLER__';\n\n/** @const {string} */\nconst DEFAULT_METHOD_ = 'activate';\n\n/** @const {number} */\nconst DEFAULT_DEBOUNCE_WAIT = 300; // ms\n\n/** @const {number} */\nconst DEFAULT_THROTTLE_INTERVAL = 100; // ms\n\n/** @const {!Object<string,!Array<string>>} */\nconst ELEMENTS_ACTIONS_MAP_ = {\n  'form': ['submit', 'clear'],\n};\n\n/**\n * Interactable widgets which should trigger tap events when the user clicks\n * or activates via the keyboard. Not all are here, e.g. progressbar, tabpanel,\n * since they are text inputs, readonly, or composite widgets that shouldn't\n * need to trigger tap events from spacebar or enter on their own.\n * See https://www.w3.org/TR/wai-aria-1.1/#widget_roles\n * @const {!Object<boolean>}\n */\nexport const TAPPABLE_ARIA_ROLES = {\n  'button': true,\n  'checkbox': true,\n  'link': true,\n  'listbox': true,\n  'menuitem': true,\n  'menuitemcheckbox': true,\n  'menuitemradio': true,\n  'option': true,\n  'radio': true,\n  'scrollbar': true,\n  'slider': true,\n  'spinbutton': true,\n  'switch': true,\n  'tab': true,\n  'treeitem': true,\n};\n\n/**\n * An expression arg value, e.g. `foo.bar` in `e:t.m(arg=foo.bar)`.\n * @typedef {{expression: string}}\n */\nlet ActionInfoArgExpressionDef;\n\n/**\n * An arg value.\n * @typedef {(boolean|number|string|ActionInfoArgExpressionDef)}\n */\nlet ActionInfoArgValueDef;\n\n/**\n * Map of arg names to their values, e.g. {arg: 123} in `e:t.m(arg=123)`.\n * @typedef {Object<string, ActionInfoArgValueDef>}\n */\nlet ActionInfoArgsDef;\n\n/**\n * @typedef {{\n *   event: string,\n *   target: string,\n *   method: string,\n *   args: ?ActionInfoArgsDef,\n *   str: string\n * }}\n */\nexport let ActionInfoDef;\n\n/**\n * Function called when an action is invoked.\n *\n * Optionally, takes this action's position within all actions triggered by\n * the same event, as well as said action array, as params.\n *\n * If the action is chainable, returns a Promise which resolves when the\n * action is complete. Otherwise, returns null.\n *\n * @typedef {function(!ActionInvocation, number=, !Array<!ActionInfoDef>=):?Promise}\n */\nlet ActionHandlerDef;\n\n/**\n * @typedef {Event|DeferredEvent}\n */\nexport let ActionEventDef;\n\n/**\n * The structure that contains all details of the action method invocation.\n * @struct @const @package For type.\n */\nexport class ActionInvocation {\n  /**\n   * For example:\n   *\n   *   <div id=\"div\" on=\"tap:myForm.submit(foo=bar)\">\n   *     <button id=\"btn\">Submit</button>\n   *   </div>\n   *\n   * `node` is #myForm.\n   * `method` is \"submit\".\n   * `args` is {'foo': 'bar'}.\n   * `source` is #btn.\n   * `caller` is #div.\n   * `event` is a \"click\" Event object.\n   * `actionEventType` is \"tap\".\n   * `trust` depends on whether this action was a result of a user gesture.\n   * `tagOrTarget` is \"amp-form\".\n   * `sequenceId` is a pseudo-UUID.\n   *\n   * @param {!Node} node Element whose action is being invoked.\n   * @param {string} method Name of the action being invoked.\n   * @param {?JsonObject} args Named action arguments.\n   * @param {?Element} source Element that generated the `event`.\n   * @param {?Element} caller Element containing the on=\"...\" action handler.\n   * @param {?ActionEventDef} event The event object that triggered this action.\n   * @param {ActionTrust} trust The trust level of this invocation's trigger.\n   * @param {?string} actionEventType The AMP event name that triggered this.\n   * @param {?string} tagOrTarget The global target name or the element tagName.\n   * @param {number} sequenceId An identifier for this action's sequence (all\n   *   actions triggered by one event e.g. \"tap:form1.submit, form2.submit\").\n   */\n  constructor(node, method, args, source, caller, event, trust,\n    actionEventType = '?', tagOrTarget = null, sequenceId = Math.random()) {\n    /** @const {!Node} */\n    this.node = node;\n    /** @const {string} */\n    this.method = method;\n    /** @const {?JsonObject} */\n    this.args = args;\n    /** @const {?Element} */\n    this.source = source;\n    /** @const {?Element} */\n    this.caller = caller;\n    /** @const {?ActionEventDef} */\n    this.event = event;\n    /** @const {ActionTrust} */\n    this.trust = trust;\n    /** @const {?string} */\n    this.actionEventType = actionEventType;\n    /** @const {string} */\n    this.tagOrTarget = tagOrTarget || node.tagName;\n    /** @const {number} */\n    this.sequenceId = sequenceId;\n  }\n\n  /**\n   * Returns true if the trigger event has a trust equal to or greater than\n   * `minimumTrust`. Otherwise, logs a user error and returns false.\n   * @param {ActionTrust} minimumTrust\n   * @return {boolean}\n   */\n  satisfiesTrust(minimumTrust) {\n    // Sanity check.\n    if (!isFiniteNumber(this.trust)) {\n      dev().error(TAG_, `Invalid trust for '${this.method}': ${this.trust}`);\n      return false;\n    }\n    if (this.trust < minimumTrust) {\n      user().error(TAG_, `\"${this.actionEventType}\" is not allowed to invoke ` +\n          `\"${this.tagOrTarget}.${this.method}\".`);\n      return false;\n    }\n    return true;\n  }\n}\n\n/**\n * TODO(dvoytenko): consider splitting this class into two:\n * 1. A class that has a method \"trigger(element, eventType, data)\" and\n *    simply can search target in DOM and trigger methods on it.\n * 2. A class that configures event recognizers and rules and then\n *    simply calls action.trigger.\n * @implements {../service.EmbeddableService}\n */\nexport class ActionService {\n  /**\n   * @param {!./ampdoc-impl.AmpDoc} ampdoc\n   * @param {(!Document|!ShadowRoot)=} opt_root\n   */\n  constructor(ampdoc, opt_root) {\n    /** @const {!./ampdoc-impl.AmpDoc} */\n    this.ampdoc = ampdoc;\n\n    /** @const {!Document|!ShadowRoot} */\n    this.root_ = opt_root || ampdoc.getRootNode();\n\n    /**\n     * Optional whitelist of actions e.g. [\"AMP.navigateTo\", \"amp-form.submit\"].\n     * If not null, any actions that are not in the whitelist will be ignored\n     * and throw a user error at invocation time.\n     * @private {?Array<string>}\n     */\n    this.whitelist_ = this.queryWhitelist_();\n\n    /** @const @private {!Object<string, ActionHandlerDef>} */\n    this.globalTargets_ = map();\n\n    /**\n     * @const @private {!Object<string, {handler: ActionHandlerDef, minTrust: ActionTrust}>}\n     */\n    this.globalMethodHandlers_ = map();\n    // Add core events.\n    this.addEvent('tap');\n    this.addEvent('submit');\n    this.addEvent('change');\n    this.addEvent('input-debounced');\n    this.addEvent('input-throttled');\n    this.addEvent('valid');\n    this.addEvent('invalid');\n  }\n\n  /** @override */\n  adoptEmbedWindow(embedWin) {\n    installServiceInEmbedScope(embedWin, 'action',\n        new ActionService(this.ampdoc, embedWin.document));\n  }\n\n  /**\n   * @param {string} name\n   * TODO(dvoytenko): switch to a system where the event recognizers are\n   * registered with Action instead, e.g. \"doubletap\", \"tap to zoom\".\n   */\n  addEvent(name) {\n    if (name == 'tap') {\n      // TODO(dvoytenko): if needed, also configure touch-based tap, e.g. for\n      // fast-click.\n      this.root_.addEventListener('click', event => {\n        if (!event.defaultPrevented) {\n          const element = dev().assertElement(event.target);\n          this.trigger(element, name, event, ActionTrust.HIGH);\n        }\n      });\n      this.root_.addEventListener('keydown', event => {\n        const element = dev().assertElement(event.target);\n        const {keyCode} = event;\n        if (keyCode == KeyCodes.ENTER || keyCode == KeyCodes.SPACE) {\n          const role = element.getAttribute('role');\n          const isTapEventRole =\n              (role && hasOwn(TAPPABLE_ARIA_ROLES, role.toLowerCase()));\n          if (!event.defaultPrevented && isTapEventRole) {\n            event.preventDefault();\n            this.trigger(element, name, event, ActionTrust.HIGH);\n          }\n        }\n      });\n    } else if (name == 'submit') {\n      this.root_.addEventListener(name, event => {\n        const element = dev().assertElement(event.target);\n        // For get requests, the delegating to the viewer needs to happen\n        // before this.\n        this.trigger(element, name, event, ActionTrust.HIGH);\n      });\n    } else if (name == 'change') {\n      this.root_.addEventListener(name, event => {\n        const element = dev().assertElement(event.target);\n        this.addTargetPropertiesAsDetail_(event);\n        this.trigger(element, name, event, ActionTrust.HIGH);\n      });\n    } else if (name == 'input-debounced') {\n      const debouncedInput = debounce(this.ampdoc.win, event => {\n        const target = dev().assertElement(event.target);\n        this.trigger(target, name, /** @type {!ActionEventDef} */ (event),\n            ActionTrust.HIGH);\n      }, DEFAULT_DEBOUNCE_WAIT);\n\n      this.root_.addEventListener('input', event => {\n        // Create a DeferredEvent to avoid races where the browser cleans up\n        // the event object before the async debounced function is called.\n        const deferredEvent = new DeferredEvent(event);\n        this.addTargetPropertiesAsDetail_(deferredEvent);\n        debouncedInput(deferredEvent);\n      });\n    } else if (name == 'input-throttled') {\n      const throttledInput = throttle(this.ampdoc.win, event => {\n        const target = dev().assertElement(event.target);\n        this.trigger(target, name, /** @type {!ActionEventDef} */ (event),\n            ActionTrust.HIGH);\n      }, DEFAULT_THROTTLE_INTERVAL);\n\n      this.root_.addEventListener('input', event => {\n        const deferredEvent = new DeferredEvent(event);\n        this.addTargetPropertiesAsDetail_(deferredEvent);\n        throttledInput(deferredEvent);\n      });\n    } else if (name == 'valid' || name == 'invalid') {\n      this.root_.addEventListener(name, event => {\n        const element = dev().assertElement(event.target);\n        this.trigger(element, name, event, ActionTrust.HIGH);\n      });\n    }\n  }\n\n  /**\n   * Registers the action target that will receive all designated actions.\n   * @param {string} name\n   * @param {ActionHandlerDef} handler\n   */\n  addGlobalTarget(name, handler) {\n    this.globalTargets_[name] = handler;\n  }\n\n  /**\n   * Registers the action handler for a common method.\n   * @param {string} name\n   * @param {ActionHandlerDef} handler\n   * @param {ActionTrust} minTrust\n   */\n  addGlobalMethodHandler(name, handler, minTrust = ActionTrust.HIGH) {\n    this.globalMethodHandlers_[name] = {handler, minTrust};\n  }\n\n  /**\n   * Triggers the specified event on the target element.\n   * @param {!Element} target\n   * @param {string} eventType\n   * @param {?ActionEventDef} event\n   * @param {ActionTrust} trust\n   */\n  trigger(target, eventType, event, trust) {\n    this.action_(target, eventType, event, trust);\n  }\n\n  /**\n   * Triggers execution of the method on a target/method.\n   * @param {!Element} target\n   * @param {string} method\n   * @param {?JsonObject} args\n   * @param {?Element} source\n   * @param {?Element} caller\n   * @param {?ActionEventDef} event\n   * @param {ActionTrust} trust\n   */\n  execute(target, method, args, source, caller, event, trust) {\n    const invocation = new ActionInvocation(\n        target, method, args, source, caller, event, trust);\n    this.invoke_(invocation);\n  }\n\n  /**\n   * Installs action handler for the specified element.\n   * @param {!Element} target\n   * @param {ActionHandlerDef} handler\n   * @param {ActionTrust} minTrust\n   */\n  installActionHandler(target, handler, minTrust = ActionTrust.HIGH) {\n    // TODO(dvoytenko, #7063): switch back to `target.id` with form proxy.\n    const targetId = target.getAttribute('id') || '';\n    const debugId = target.tagName + '#' + targetId;\n    dev().assert((targetId && targetId.substring(0, 4) == 'amp-') ||\n        target.tagName.toLowerCase() in ELEMENTS_ACTIONS_MAP_,\n    'AMP element or a whitelisted target element is expected: %s', debugId);\n\n    if (target[ACTION_HANDLER_]) {\n      dev().error(TAG_, `Action handler already installed for ${target}`);\n      return;\n    }\n\n    /** @const {Array<!ActionInvocation>} */\n    const currentQueue = target[ACTION_QUEUE_];\n\n    target[ACTION_HANDLER_] = {handler, minTrust};\n\n    // Dequeue the current queue.\n    if (isArray(currentQueue)) {\n      Services.timerFor(toWin(target.ownerDocument.defaultView)).delay(() => {\n        // TODO(dvoytenko, #1260): dedupe actions.\n        currentQueue.forEach(invocation => {\n          try {\n            if (invocation.satisfiesTrust(\n                /** @type {ActionTrust} */ (minTrust))) {\n              handler(invocation);\n            }\n          } catch (e) {\n            dev().error(TAG_, 'Action execution failed:', invocation, e);\n          }\n        });\n        target[ACTION_QUEUE_].length = 0;\n      }, 1);\n    }\n  }\n\n  /**\n   * Checks if the given element has registered a particular action type.\n   * @param {!Element} target\n   * @param {string} actionEventType\n   * @param {!Element=} opt_stopAt\n   * @return {boolean}\n   */\n  hasAction(target, actionEventType, opt_stopAt) {\n    return !!this.findAction_(target, actionEventType, opt_stopAt);\n  }\n\n  /**\n   * Overwrites the current action whitelist (if any). Takes an array of strings\n   * of the form \"<tagOrTarget>.<method>\" e.g. \"amp-form.submit\" or \"AMP.print\".\n   * @param {!Array<string>} whitelist\n   */\n  setWhitelist(whitelist) {\n    this.whitelist_ = whitelist;\n  }\n\n  /**\n   * Adds an action to the whitelist. Takes one string of the form\n   * \"<tagOrTarget>.<method>\", e.g. \"amp-form.submit\" or \"AMP.print\".\n   * @param {string} action\n   */\n  addToWhitelist(action) {\n    if (!this.whitelist_) {\n      this.whitelist_ = [];\n    }\n    this.whitelist_.push(action);\n  }\n\n  /**\n   * @param {!Element} source\n   * @param {string} actionEventType\n   * @param {?ActionEventDef} event\n   * @param {ActionTrust} trust\n   * @private\n   */\n  action_(source, actionEventType, event, trust) {\n    const action = this.findAction_(source, actionEventType);\n    if (!action) {\n      return;\n    }\n    // Use a pseudo-UUID to uniquely identify this sequence of actions.\n    // A sequence is all actions triggered by a single event.\n    const sequenceId = Math.random();\n    // Invoke actions serially, where each action waits for its predecessor\n    // to complete. `currentPromise` is the i'th promise in the chain.\n    let currentPromise = null;\n    action.actionInfos.forEach(actionInfo => {\n      const {target} = actionInfo;\n      // Replace any variables in args with data in `event`.\n      const args = dereferenceExprsInArgs(actionInfo.args, event);\n      const invokeAction = () => {\n        // For global targets e.g. \"AMP, `node` is the document root. Otherwise,\n        // `target` is an element id and `node` is the corresponding element.\n        const node = (this.globalTargets_[target])\n          ? this.root_\n          : this.root_.getElementById(target);\n        if (node) {\n          const invocation = new ActionInvocation(node, actionInfo.method,\n              args, source, action.node, event, trust,\n              actionEventType, node.tagName || target, sequenceId);\n          return this.invoke_(invocation);\n        } else {\n          this.error_(`Target \"${target}\" not found for action ` +\n              `[${actionInfo.str}].`);\n        }\n      };\n      // Wait for the previous action, if any.\n      currentPromise = (currentPromise)\n        ? currentPromise.then(invokeAction)\n        : invokeAction();\n    });\n  }\n\n  /**\n   * @param {string} message\n   * @param {?Element=} opt_element\n   * @private\n   */\n  error_(message, opt_element) {\n    if (opt_element) {\n      // reportError() supports displaying the element in dev console.\n      const e = user().createError(`[${TAG_}] ${message}`);\n      reportError(e, opt_element);\n      throw e;\n    } else {\n      user().error(TAG_, message);\n    }\n  }\n\n  /**\n   * @param {!ActionInvocation} invocation\n   * @return {?Promise}\n   * @private\n   */\n  invoke_(invocation) {\n    const {method, tagOrTarget} = invocation;\n\n    // Check that this action is whitelisted (if a whitelist is set).\n    if (this.whitelist_) {\n      const id = `${tagOrTarget}.${method}`;\n      if (!this.whitelist_.includes(id)) {\n        this.error_(`\"${id}\" is not whitelisted (${this.whitelist_}).`);\n        return null;\n      }\n    }\n\n    // Handle global targets e.g. \"AMP\".\n    const globalTarget = this.globalTargets_[tagOrTarget];\n    if (globalTarget) {\n      return globalTarget(invocation);\n    }\n\n    // Subsequent handlers assume that invocation target is an Element.\n    const node = dev().assertElement(invocation.node);\n\n    // Handle global actions e.g. \"<any-element-id>.toggle\".\n    const globalMethod = this.globalMethodHandlers_[method];\n    if (globalMethod && invocation.satisfiesTrust(globalMethod.minTrust)) {\n      return globalMethod.handler(invocation);\n    }\n\n    // Handle element-specific actions.\n    const lowerTagName = node.tagName.toLowerCase();\n    if (lowerTagName.substring(0, 4) == 'amp-') {\n      if (node.enqueAction) {\n        node.enqueAction(invocation);\n      } else {\n        this.error_(`Unrecognized AMP element \"${lowerTagName}\".`, node);\n      }\n      return null;\n    }\n\n    // Special elements with AMP ID or known supported actions.\n    const supportedActions = ELEMENTS_ACTIONS_MAP_[lowerTagName];\n    // TODO(dvoytenko, #7063): switch back to `target.id` with form proxy.\n    const targetId = node.getAttribute('id') || '';\n    if ((targetId && targetId.substring(0, 4) == 'amp-') ||\n        (supportedActions && supportedActions.indexOf(method) > -1)) {\n      const holder = node[ACTION_HANDLER_];\n      if (holder) {\n        const {handler, minTrust} = holder;\n        if (invocation.satisfiesTrust(minTrust)) {\n          handler(invocation);\n        }\n      } else {\n        node[ACTION_QUEUE_] = node[ACTION_QUEUE_] || [];\n        node[ACTION_QUEUE_].push(invocation);\n      }\n      return null;\n    }\n\n    // Unsupported method.\n    this.error_(`Target (${tagOrTarget}) doesn't support \"${method}\" action.`,\n        invocation.caller);\n\n    return null;\n  }\n\n  /**\n   * @param {!Element} target\n   * @param {string} actionEventType\n   * @param {!Element=} opt_stopAt\n   * @return {?{node: !Element, actionInfos: !Array<!ActionInfoDef>}}\n   */\n  findAction_(target, actionEventType, opt_stopAt) {\n    // Go from target up the DOM tree and find the applicable action.\n    let n = target;\n    while (n) {\n      if (opt_stopAt && n == opt_stopAt) {\n        return null;\n      }\n      const actionInfos = this.matchActionInfos_(n, actionEventType);\n      if (actionInfos && isEnabled(n)) {\n        return {node: n, actionInfos: dev().assert(actionInfos)};\n      }\n      n = n.parentElement;\n    }\n    return null;\n  }\n\n  /**\n   * @param {!Element} node\n   * @param {string} actionEventType\n   * @return {?Array<!ActionInfoDef>}\n   */\n  matchActionInfos_(node, actionEventType) {\n    const actionMap = this.getActionMap_(node);\n    if (!actionMap) {\n      return null;\n    }\n    return actionMap[actionEventType] || null;\n  }\n\n  /**\n   * @param {!Element} node\n   * @return {?Object<string, !Array<!ActionInfoDef>>}\n   */\n  getActionMap_(node) {\n    let actionMap = node[ACTION_MAP_];\n    if (actionMap === undefined) {\n      actionMap = null;\n      if (node.hasAttribute('on')) {\n        actionMap = parseActionMap(node.getAttribute('on'), node);\n      }\n      node[ACTION_MAP_] = actionMap;\n    }\n    return actionMap;\n  }\n\n  /**\n   * Resets a node's actions with those defined in the given actions string.\n   * @param {!Element} node\n   * @param {string} actionsStr\n   */\n  setActions(node, actionsStr) {\n    node.setAttribute('on', actionsStr);\n\n    // Clear cache.\n    delete node[ACTION_MAP_];\n  }\n\n  /**\n   * Searches for a whitelist meta tag, parses and returns its contents.\n   *\n   * For example:\n   * <meta name=\"amp-action-whitelist\" content=\"AMP.setState, amp-form.submit\">\n   *\n   * Returns:\n   * [\"AMP.setState\", \"amp-form.submit\"]\n   *\n   * @return {?Array<string>}\n   * @private\n   */\n  queryWhitelist_() {\n    const {head} = this.ampdoc.getRootNode();\n    if (!head) {\n      return null;\n    }\n    const meta = head.querySelector('meta[name=\"amp-action-whitelist\"]');\n    if (!meta) {\n      return null;\n    }\n    return meta.getAttribute('content').split(',').map(action => action.trim());\n  }\n\n  /**\n   * Given a browser 'change' or 'input' event, add `details` property to it\n   * containing whitelisted properties of the target element.\n   * @param {!ActionEventDef} event\n   * @private\n   */\n  addTargetPropertiesAsDetail_(event) {\n    const detail = /** @type {!JsonObject} */ (map());\n    const {target} = event;\n\n    if (target.value !== undefined) {\n      detail['value'] = target.value;\n    }\n\n    // Check tagName instead since `valueAsNumber` isn't supported on IE.\n    if (target.tagName == 'INPUT') {\n      // Probably supported natively but convert anyways for consistency.\n      detail['valueAsNumber'] = Number(target.value);\n    }\n\n    if (target.checked !== undefined) {\n      detail['checked'] = target.checked;\n    }\n\n    if (target.min !== undefined || target.max !== undefined) {\n      detail['min'] = target.min;\n      detail['max'] = target.max;\n    }\n\n    if (Object.keys(detail).length > 0) {\n      event.detail = detail;\n    }\n  }\n}\n\n\n/**\n * A clone of an event object with its function properties replaced.\n * This is useful e.g. for event objects that need to be passed to an async\n * context, but the browser might have cleaned up the original event object.\n * This clone replaces functions with error throws since they won't behave\n * normally after the original object has been destroyed.\n * @private visible for testing\n */\nexport class DeferredEvent {\n  /**\n   * @param {!Event} event\n   */\n  constructor(event) {\n    /** @type {?Object} */\n    this.detail = null;\n\n    cloneWithoutFunctions(event, this);\n  }\n}\n\n\n/**\n * Clones an object and replaces its function properties with throws.\n * @param {!T} original\n * @param {!T=} opt_dest\n * @return {!T}\n * @template T\n * @private\n */\nfunction cloneWithoutFunctions(original, opt_dest) {\n  const clone = opt_dest || map();\n  for (const prop in original) {\n    const value = original[prop];\n    if (typeof value === 'function') {\n      clone[prop] = notImplemented;\n    } else {\n      clone[prop] = original[prop];\n    }\n  }\n  return clone;\n}\n\n\n/** @private */\nfunction notImplemented() {\n  dev().assert(null, 'Deferred events cannot access native event functions.');\n}\n\n\n/**\n * @param {string} s\n * @param {!Element} context\n * @return {?Object<string, !Array<!ActionInfoDef>>}\n * @private Visible for testing only.\n */\nexport function parseActionMap(s, context) {\n  const assertAction = assertActionForParser.bind(null, s, context);\n  const assertToken = assertTokenForParser.bind(null, s, context);\n\n  let actionMap = null;\n\n  const toks = new ParserTokenizer(s);\n  let tok;\n  let peek;\n  do {\n    tok = toks.next();\n    if (tok.type == TokenType.EOF ||\n            (tok.type == TokenType.SEPARATOR && tok.value == ';')) {\n      // Expected, ignore.\n    } else if (tok.type == TokenType.LITERAL || tok.type == TokenType.ID) {\n\n      // Format: event:target.method\n\n      // Event: \"event:\"\n      const event = tok.value;\n\n      // Target: \":target.\" separator\n      assertToken(toks.next(), [TokenType.SEPARATOR], ':');\n\n      const actions = [];\n\n      // Handlers for event\n      do {\n        const target = assertToken(\n            toks.next(), [TokenType.LITERAL, TokenType.ID]).value;\n\n        // Method: \".method\". Method is optional.\n        let method = DEFAULT_METHOD_;\n        let args = null;\n\n        peek = toks.peek();\n        if (peek.type == TokenType.SEPARATOR && peek.value == '.') {\n          toks.next(); // Skip '.'\n          method = assertToken(\n              toks.next(), [TokenType.LITERAL, TokenType.ID]).value || method;\n\n          // Optionally, there may be arguments: \"(key = value, key = value)\".\n          peek = toks.peek();\n          if (peek.type == TokenType.SEPARATOR && peek.value == '(') {\n            toks.next(); // Skip '('\n            args = tokenizeMethodArguments(toks, assertToken, assertAction);\n          }\n        }\n\n        actions.push({\n          event,\n          target,\n          method,\n          args: (args && getMode().test && Object.freeze) ?\n            Object.freeze(args) : args,\n          str: s,\n        });\n\n        peek = toks.peek();\n\n      } while (peek.type == TokenType.SEPARATOR && peek.value == ','\n          && toks.next()); // skip \",\" when found\n\n      if (!actionMap) {\n        actionMap = map();\n      }\n\n      actionMap[event] = actions;\n    } else {\n      // Unexpected token.\n      assertAction(false, `; unexpected token [${tok.value || ''}]`);\n    }\n\n  } while (tok.type != TokenType.EOF);\n\n  return actionMap;\n}\n\n/**\n * Tokenizes and returns method arguments, e.g. target.method(arguments).\n * @param {!ParserTokenizer} toks\n * @param {!Function} assertToken\n * @param {!Function} assertAction\n * @return {ActionInfoArgsDef}\n * @private\n */\nfunction tokenizeMethodArguments(toks, assertToken, assertAction) {\n  let peek = toks.peek();\n  let tok;\n  let args = null;\n  // Object literal. Format: {...}\n  if (peek.type == TokenType.OBJECT) {\n    // Don't parse object literals. Tokenize as a single expression\n    // fragment and delegate to specific action handler.\n    args = map();\n    const {value} = toks.next();\n    args[RAW_OBJECT_ARGS_KEY] = value;\n    assertToken(toks.next(), [TokenType.SEPARATOR], ')');\n  } else {\n    // Key-value pairs. Format: key = value, ....\n    do {\n      tok = toks.next();\n      const {type, value} = tok;\n      if (type == TokenType.SEPARATOR && (value == ',' || value == ')')) {\n        // Expected: ignore.\n      } else if (type == TokenType.LITERAL || type == TokenType.ID) {\n        // Key: \"key = \"\n        assertToken(toks.next(), [TokenType.SEPARATOR], '=');\n        // Value is either a literal or an expression: \"foo.bar.baz\"\n        tok = assertToken(toks.next(/* convertValue */ true),\n            [TokenType.LITERAL, TokenType.ID]);\n        const argValueTokens = [tok];\n        // Expressions have one or more dereferences: \".identifier\"\n        if (tok.type == TokenType.ID) {\n          for (peek = toks.peek();\n            peek.type == TokenType.SEPARATOR && peek.value == '.';\n            peek = toks.peek()) {\n            toks.next(); // Skip '.'.\n            tok = assertToken(toks.next(false), [TokenType.ID]);\n            argValueTokens.push(tok);\n          }\n        }\n        const argValue = argValueForTokens(argValueTokens);\n        if (!args) {\n          args = map();\n        }\n        args[value] = argValue;\n        peek = toks.peek();\n        assertAction(\n            peek.type == TokenType.SEPARATOR &&\n            (peek.value == ',' || peek.value == ')'),\n            'Expected either [,] or [)]');\n      } else {\n        // Unexpected token.\n        assertAction(false, `; unexpected token [${tok.value || ''}]`);\n      }\n    } while (!(tok.type == TokenType.SEPARATOR && tok.value == ')'));\n  }\n  return args;\n}\n\n/**\n * @param {Array<!TokenDef>} tokens\n * @return {?ActionInfoArgValueDef}\n * @private\n */\nfunction argValueForTokens(tokens) {\n  if (tokens.length == 0) {\n    return null;\n  } else if (tokens.length == 1) {\n    return /** @type {(boolean|number|string)} */ (tokens[0].value);\n  } else {\n    const values = tokens.map(token => token.value);\n    const expression = values.join('.');\n    return /** @type {ActionInfoArgExpressionDef} */ ({expression});\n  }\n}\n\n/**\n * Dereferences expression args in `args` using data in `event`.\n * @param {?ActionInfoArgsDef} args\n * @param {?ActionEventDef} event\n * @return {?JsonObject}\n * @private\n * @visibleForTesting\n */\nexport function dereferenceExprsInArgs(args, event) {\n  if (!args) {\n    return args;\n  }\n  const data = dict();\n  if (event && getDetail(/** @type {!Event} */ (event))) {\n    data['event'] = getDetail(/** @type {!Event} */ (event));\n  }\n  const applied = map();\n  Object.keys(args).forEach(key => {\n    let value = args[key];\n    if (typeof value == 'object' && value.expression) {\n      const expr =\n        /** @type {ActionInfoArgExpressionDef} */ (value).expression;\n      const exprValue = getValueForExpr(data, expr);\n      // If expr can't be found in data, use null instead of undefined.\n      value = (exprValue === undefined) ? null : exprValue;\n    }\n    applied[key] = value;\n  });\n  return applied;\n}\n\n/**\n * @param {string} s\n * @param {!Element} context\n * @param {?T} condition\n * @param {string=} opt_message\n * @return {T}\n * @template T\n * @private\n */\nfunction assertActionForParser(s, context, condition, opt_message) {\n  return user().assert(condition, 'Invalid action definition in %s: [%s] %s',\n      context, s, opt_message || '');\n}\n\n/**\n * @param {string} s\n * @param {!Element} context\n * @param {!TokenDef} tok\n * @param {Array<TokenType>} types\n * @param {*=} opt_value\n * @return {!TokenDef}\n * @private\n */\nfunction assertTokenForParser(s, context, tok, types, opt_value) {\n  if (opt_value !== undefined) {\n    assertActionForParser(s, context,\n        types.includes(tok.type) && tok.value == opt_value,\n        `; expected [${opt_value}]`);\n  } else {\n    assertActionForParser(s, context, types.includes(tok.type));\n  }\n  return tok;\n}\n\n/**\n * @enum {number}\n */\nconst TokenType = {\n  INVALID: 0,\n  EOF: 1,\n  SEPARATOR: 2,\n  LITERAL: 3,\n  ID: 4,\n  OBJECT: 5,\n};\n\n/**\n * @typedef {{type: TokenType, value: *}}\n */\nlet TokenDef;\n\n/** @private @const {string} */\nconst WHITESPACE_SET = ' \\t\\n\\r\\f\\v\\u00A0\\u2028\\u2029';\n\n/** @private @const {string} */\nconst SEPARATOR_SET = ';:.()=,|!';\n\n/** @private @const {string} */\nconst STRING_SET = '\"\\'';\n\n/** @private @const {string} */\nconst OBJECT_SET = '{}';\n\n/** @private @const {string} */\nconst SPECIAL_SET =\n    WHITESPACE_SET + SEPARATOR_SET + STRING_SET + OBJECT_SET;\n\n/** @private */\nclass ParserTokenizer {\n  /**\n   * @param {string} str\n   */\n  constructor(str) {\n    /** @private @const {string} */\n    this.str_ = str;\n\n    /** @private {number} */\n    this.index_ = -1;\n  }\n\n  /**\n   * Returns the next token and advances the position.\n   * @param {boolean=} opt_convertValues\n   * @return {!TokenDef}\n   */\n  next(opt_convertValues) {\n    const tok = this.next_(opt_convertValues || false);\n    this.index_ = tok.index;\n    return tok;\n  }\n\n  /**\n   * Returns the next token but keeps the current position.\n   * @param {boolean=} opt_convertValues\n   * @return {!TokenDef}\n   */\n  peek(opt_convertValues) {\n    return this.next_(opt_convertValues || false);\n  }\n\n  /**\n   * @param {boolean} convertValues\n   * @return {!{type: TokenType, value: *, index: number}}\n   */\n  next_(convertValues) {\n    let newIndex = this.index_ + 1;\n    if (newIndex >= this.str_.length) {\n      return {type: TokenType.EOF, index: this.index_};\n    }\n\n    let c = this.str_.charAt(newIndex);\n\n    // Whitespace: standard set.\n    if (WHITESPACE_SET.indexOf(c) != -1) {\n      newIndex++;\n      for (; newIndex < this.str_.length; newIndex++) {\n        if (WHITESPACE_SET.indexOf(this.str_.charAt(newIndex)) == -1) {\n          break;\n        }\n      }\n      if (newIndex >= this.str_.length) {\n        return {type: TokenType.EOF, index: newIndex};\n      }\n      c = this.str_.charAt(newIndex);\n    }\n\n    // A numeric. Notice that it steals the `.` from separators.\n    if (convertValues && (isNum(c) ||\n            (c == '.' && newIndex + 1 < this.str_.length &&\n            isNum(this.str_[newIndex + 1])))) {\n      let hasFraction = c == '.';\n      let end = newIndex + 1;\n      for (; end < this.str_.length; end++) {\n        const c2 = this.str_.charAt(end);\n        if (c2 == '.') {\n          hasFraction = true;\n          continue;\n        }\n        if (!isNum(c2)) {\n          break;\n        }\n      }\n      const s = this.str_.substring(newIndex, end);\n      const value = hasFraction ? parseFloat(s) : parseInt(s, 10);\n      newIndex = end - 1;\n      return {type: TokenType.LITERAL, value, index: newIndex};\n    }\n\n    // Different separators.\n    if (SEPARATOR_SET.indexOf(c) != -1) {\n      return {type: TokenType.SEPARATOR, value: c, index: newIndex};\n    }\n\n    // String literal.\n    if (STRING_SET.indexOf(c) != -1) {\n      let end = -1;\n      for (let i = newIndex + 1; i < this.str_.length; i++) {\n        if (this.str_.charAt(i) == c) {\n          end = i;\n          break;\n        }\n      }\n      if (end == -1) {\n        return {type: TokenType.INVALID, index: newIndex};\n      }\n      const value = this.str_.substring(newIndex + 1, end);\n      newIndex = end;\n      return {type: TokenType.LITERAL, value, index: newIndex};\n    }\n\n    // Object literal.\n    if (c == '{') {\n      let numberOfBraces = 1;\n      let end = -1;\n      for (let i = newIndex + 1; i < this.str_.length; i++) {\n        const char = this.str_[i];\n        if (char == '{') {\n          numberOfBraces++;\n        } else if (char == '}') {\n          numberOfBraces--;\n        }\n        if (numberOfBraces <= 0) {\n          end = i;\n          break;\n        }\n      }\n      if (end == -1) {\n        return {type: TokenType.INVALID, index: newIndex};\n      }\n      const value = this.str_.substring(newIndex, end + 1);\n      newIndex = end;\n      return {type: TokenType.OBJECT, value, index: newIndex};\n    }\n\n    // Advance until next special character.\n    let end = newIndex + 1;\n    for (; end < this.str_.length; end++) {\n      if (SPECIAL_SET.indexOf(this.str_.charAt(end)) != -1) {\n        break;\n      }\n    }\n    const s = this.str_.substring(newIndex, end);\n    newIndex = end - 1;\n\n    // Boolean literal.\n    if (convertValues && (s == 'true' || s == 'false')) {\n      const value = (s == 'true');\n      return {type: TokenType.LITERAL, value, index: newIndex};\n    }\n\n    // Identifier.\n    if (!isNum(s.charAt(0))) {\n      return {type: TokenType.ID, value: s, index: newIndex};\n    }\n\n    // Key.\n    return {type: TokenType.LITERAL, value: s, index: newIndex};\n  }\n}\n\n\n/**\n * Tests whether a chacter is a number.\n * @param {string} c\n * @return {boolean}\n */\nfunction isNum(c) {\n  return c >= '0' && c <= '9';\n}\n\n\n/**\n * @param {!./ampdoc-impl.AmpDoc} ampdoc\n */\nexport function installActionServiceForDoc(ampdoc) {\n  registerServiceBuilderForDoc(\n      ampdoc,\n      'action',\n      ActionService,\n      /* opt_instantiate */ true);\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use baseInstance file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  PositionObserverFidelity, // eslint-disable-line no-unused-vars\n  PositionObserverWorker, // eslint-disable-line no-unused-vars\n} from './position-observer-worker';\nimport {Services} from '../../services';\nimport {debounce} from '../../utils/rate-limit';\nimport {dev} from '../../log';\nimport {registerServiceBuilderForDoc} from '../../service';\n\n/** @const @private */\nconst TAG = 'POSITION_OBSERVER';\n\n/** @const @private */\nconst SCROLL_TIMEOUT = 500;\n\n\nexport class PositionObserver {\n  /**\n   * @param {!../ampdoc-impl.AmpDoc} ampdoc\n   */\n  constructor(ampdoc) {\n    /** @private {!../ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = ampdoc;\n\n    /** @private {!Window} */\n    this.win_ = ampdoc.win;\n\n    /** @private {!Array<!PositionObserverWorker>} */\n    this.workers_ = [];\n\n    /** @private {!../vsync-impl.Vsync} */\n    this.vsync_ = Services.vsyncFor(this.win_);\n\n    /** @private {!../viewport/viewport-impl.Viewport} */\n    this.viewport_ = Services.viewportForDoc(ampdoc);\n\n    /** @private {Array<function()>} */\n    this.unlisteners_ = [];\n\n    /** @private {boolean} */\n    this.inScroll_ = false;\n\n    /** @private {boolean} */\n    this.measure_ = false;\n\n    /** @private {boolean} */\n    this.callbackStarted_ = false;\n\n    /** @private {function()} */\n    this.boundStopScroll_ = debounce(this.win_, () => {\n      this.inScroll_ = false;\n    }, SCROLL_TIMEOUT);\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {!PositionObserverFidelity} fidelity\n   * @param {function(?./position-observer-worker.PositionInViewportEntryDef)} handler\n   * @return {!UnlistenDef}\n   */\n  observe(element, fidelity, handler) {\n    const worker =\n        new PositionObserverWorker(this.ampdoc_, element, fidelity, handler);\n\n    this.workers_.push(worker);\n\n    if (!this.callbackStarted_) {\n      this.startCallback_();\n    }\n\n    worker.update();\n\n    return () => {\n      for (let i = 0; i < this.workers_.length; i++) {\n        if (this.workers_[i] == worker) {\n          this.removeWorker_(i);\n          return;\n        }\n      }\n    };\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  unobserve(element) {\n    for (let i = 0; i < this.workers_.length; i++) {\n      if (this.workers_[i].element == element) {\n        this.removeWorker_(i);\n        return;\n      }\n    }\n    dev().error(TAG, 'cannot unobserve unobserved element');\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  removeWorker_(index) {\n    this.workers_.splice(index, 1);\n    if (this.workers_.length == 0) {\n      this.stopCallback_();\n    }\n  }\n\n  /**\n   * Callback function that gets called when start to observe the first element.\n   * @private\n   */\n  startCallback_() {\n    this.callbackStarted_ = true;\n    // listen to viewport scroll event to help pass determine if need to\n    this.unlisteners_.push(this.viewport_.onScroll(() => {\n      this.onScrollHandler_();\n    }));\n    this.unlisteners_.push(this.viewport_.onResize(() => {\n      this.onResizeHandler_();\n    }));\n  }\n\n  /**\n   * Callback function that gets called when unobserve last observed element.\n   * @private\n   */\n  stopCallback_() {\n    this.callbackStarted_ = false;\n    while (this.unlisteners_.length) {\n      const unlisten = this.unlisteners_.pop();\n      unlisten();\n    }\n  }\n\n  /**\n   * This should always be called in vsync.\n   * @param {boolean=} opt_force\n   * @visibleForTesting\n  */\n  updateAllEntries(opt_force) {\n    for (let i = 0; i < this.workers_.length; i++) {\n      const worker = this.workers_[i];\n      worker.update(opt_force);\n    }\n  }\n\n  /**\n   * Handle viewport scroll event\n   * @private\n   */\n  onScrollHandler_() {\n    this.boundStopScroll_();\n    this.inScroll_ = true;\n    if (!this.measure_) {\n      this.schedulePass_();\n    }\n  }\n\n  /**\n   * Handle viewport resize event\n   * @private\n   */\n  onResizeHandler_() {\n    this.updateAllEntries(true);\n  }\n\n  /**\n   * Update all entries during scroll\n   * @private\n   */\n  schedulePass_() {\n    // TODO (@zhouyx, #9208):\n    // P1: account for effective fidelity using this.effectiveFidelity\n    // P2: do passes on onDomMutation (if available using MutationObserver\n    // mostly for in-a-box host, since most DOM mutations are constraint to the\n    // AMP elements).\n    this.updateAllEntries();\n    this.measure_ = true;\n    if (!this.inScroll_) {\n      // Stop measure if viewport is no longer scrolling\n      this.measure_ = false;\n      return;\n    }\n    this.vsync_.measure(() => {\n      this.schedulePass_();\n    });\n  }\n}\n\n/**\n * @param {!../ampdoc-impl.AmpDoc} ampdoc\n */\nexport function installPositionObserverServiceForDoc(ampdoc) {\n  registerServiceBuilderForDoc(ampdoc, 'position-observer', () => {\n    return new PositionObserver(ampdoc);\n  });\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use baseInstance file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from '../../services';\nimport {dev} from '../../log';\nimport {\n  layoutRectEquals,\n  layoutRectLtwh,\n  layoutRectsOverlap,\n  layoutRectsRelativePos,\n} from '../../layout-rect';\n\n/** @enum {number} */\nexport const PositionObserverFidelity = {\n  HIGH: 1,\n  LOW: 0,\n};\n\n/** @const @private */\nconst LOW_FIDELITY_FRAME_COUNT = 4;\n\n/**\n * TODO (@zhouyx): rename relativePos to relativePositions\n * The positionObserver returned position value which includes the position rect\n * relative to viewport. And viewport rect which always has top 0, left 0, and\n * viewport width and height.\n * @typedef {{\n *  positionRect: ?../../layout-rect.LayoutRectDef,\n *  viewportRect: !../../layout-rect.LayoutRectDef,\n *  relativePos: string,\n * }}\n */\nexport let PositionInViewportEntryDef;\n\nexport class PositionObserverWorker {\n  /**\n   * @param {!../ampdoc-impl.AmpDoc} ampdoc\n   * @param {!Element} element\n   * @param {!PositionObserverFidelity} fidelity\n   * @param {function(?PositionInViewportEntryDef)} handler\n   */\n  constructor(ampdoc, element, fidelity, handler) {\n    /** @const {!Element} */\n    this.element = element;\n\n    /** @const {function(?PositionInViewportEntryDef)} */\n    this.handler_ = handler;\n\n    /** @type {!PositionObserverFidelity} */\n    this.fidelity = fidelity;\n\n    /** @type {number} */\n    this.turn = (fidelity == PositionObserverFidelity.LOW) ?\n      Math.floor(Math.random() * LOW_FIDELITY_FRAME_COUNT) : 0;\n\n    /** @type {?PositionInViewportEntryDef} */\n    this.prevPosition_ = null;\n\n    /** @private {!../viewport/viewport-impl.Viewport} */\n    this.viewport_ = Services.viewportForDoc(ampdoc);\n  }\n\n  /**\n   * Call to trigger an entry handler\n   * @param {!PositionInViewportEntryDef} position\n   * @private\n   */\n  trigger_(position) {\n    const prevPos = this.prevPosition_;\n    if (prevPos\n        && layoutRectEquals(prevPos.positionRect, position.positionRect)\n        && layoutRectEquals(prevPos.viewportRect, position.viewportRect)) {\n      // position didn't change, do nothing.\n      return;\n    }\n\n    dev().assert(position.positionRect,\n        'PositionObserver should always trigger entry with clientRect');\n    const positionRect =\n    /** @type {!../../layout-rect.LayoutRectDef} */ (position.positionRect);\n    // Add the relative position of the element to its viewport\n    position.relativePos = layoutRectsRelativePos(positionRect,\n        position.viewportRect);\n\n    if (layoutRectsOverlap(positionRect, position.viewportRect)) {\n      // Update position\n      this.prevPosition_ = position;\n      // Only call handler if entry element overlap with viewport.\n      this.handler_(position);\n    } else if (this.prevPosition_) {\n      // Need to notify that element gets outside viewport\n      // NOTE: This is required for inabox position observer.\n      this.prevPosition_ = null;\n      position.positionRect = null;\n      this.handler_(position);\n    }\n  }\n\n  /**\n   * To update the position of entry element when it is ready.\n   * Called when updateAllEntries, or when first observe an element.\n   * @param {boolean=} opt_force\n   */\n  update(opt_force) {\n    if (!opt_force) {\n      if (this.turn != 0) {\n        this.turn--;\n        return;\n      }\n\n      if (this.fidelity == PositionObserverFidelity.LOW) {\n        this.turn = LOW_FIDELITY_FRAME_COUNT;\n      }\n    }\n\n    const viewportSize = this.viewport_.getSize();\n    const viewportBox =\n        layoutRectLtwh(0, 0, viewportSize.width, viewportSize.height);\n    this.viewport_.getClientRectAsync(this.element).then(elementBox => {\n      this.trigger_(\n      /** @type {./position-observer-worker.PositionInViewportEntryDef}*/ ({\n            positionRect: elementBox,\n            viewportRect: viewportBox,\n            relativePos: '',\n          }));\n    });\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/** @typedef {../video-interface.VideoAnalyticsDetailsDef} */\nlet VideoAnalyticsDetailsDef; // alias for line length\n\n\n/** @interface */\nexport class VideoServiceInterface {\n\n  /** @param {!../video-interface.VideoInterface} unusedVideo */\n  register(unusedVideo) {}\n\n  /**\n   * Gets the current analytics details for the given video.\n   * Fails silently if the video is not registered.\n   * @param {!AmpElement} unusedVideo\n   * @return {!Promise<!VideoAnalyticsDetailsDef>|!Promise<void>}\n   */\n  getAnalyticsDetails(unusedVideo) {}\n\n  /**\n   * @param {!../video-interface.VideoInterface} unusedVideo\n   * @return {boolean}\n   */\n  isMuted(unusedVideo) {}\n\n  /**\n   * @param {!../video-interface.VideoInterface} unusedVideo\n   * @return {!../video-interface.VideoInterface} PlayingStates\n   */\n  getPlayingState(unusedVideo) {}\n}\n\n\n/** @enum {string} */\nexport const VideoServiceSignals = {\n  USER_INTERACTED: 'user-interacted',\n  AUTOPLAY_DELEGATED: 'autoplay-delegated',\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Autoplay, AutoplayEvents} from './video/autoplay';\nimport {PlayingStates, VideoAttributes, VideoEvents} from '../video-interface';\nimport {Services} from '../services';\nimport {VideoServiceSignals} from './video-service-interface';\nimport {dev} from '../log';\nimport {getAmpdoc} from '../service';\nimport {getElementServiceForDoc} from '../element-service';\nimport {isExperimentOn} from '../experiments';\nimport {listen, listenOncePromise} from '../event-helper';\nimport {once} from '../utils/function';\n\n\n/** @private @const {string} */\nconst EXTENSION = 'amp-video-service';\n\n\n/** @private @const {string} */\nconst TAG = 'video-service';\n\n\n/**\n * @typedef\n * {../../extensions/amp-video-service/0.1/amp-video-service.VideoService}\n */\nlet VideoServiceDef; // alias for line length.\n\n\n/**\n * Provides unified behavior for all videos regardless of implementation.\n *\n * This service is a faade around an async-loaded implementation.\n * See {@link AmpVideoService} for the underlying service.\n *\n * This co-eexists with `VideoManager` (deprecated) while the implementation\n * is migrated.\n *\n * @implements {./video-service-interface.VideoServiceInterface}\n */\nexport class VideoServiceSync {\n\n  /** @param {!./ampdoc-impl.AmpDoc} ampdoc */\n  constructor(ampdoc) {\n    const {win} = ampdoc;\n\n    /** @private @const {!./ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = ampdoc;\n\n    /** @private @const {!Promise<!VideoServiceDef>}  */\n    this.asyncImpl_ = VideoServiceSync.videoServiceFor(win, ampdoc);\n\n    /**\n     * @return {!Autoplay}\n     * @private\n     */\n    this.getAutoplay_ = once(() => new Autoplay(this.ampdoc_));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {boolean}\n   * @visibleForTesting\n   */\n  static shouldBeUsedIn(win) {\n    return isExperimentOn(win, 'video-service');\n  }\n\n  /**\n   * @param {!Window} win\n   * @param {!Node|!./ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!Promise<!VideoServiceDef>}\n   * @visibleForTesting\n   */\n  static videoServiceFor(win, nodeOrDoc) {\n    // Not exposed in ../services.js since we don't want other modules to\n    // instantiate or access the service.\n    const extensions = Services.extensionsFor(win);\n    const ampdoc = getAmpdoc(nodeOrDoc);\n    return extensions.installExtensionForDoc(ampdoc, EXTENSION)\n        .then(() => /** @type {!Promise<!VideoServiceDef>} */ (\n          getElementServiceForDoc(ampdoc, 'video-service', EXTENSION)));\n  }\n\n  /** @override */\n  register(video) {\n    this.asyncImpl_.then(impl =>\n      impl.register(video));\n\n    this.maybeInstallAutoplay_(video);\n\n    new VideoEntry(video);\n  }\n\n  /**\n   * @param  {!../video-interface.VideoOrBaseElementDef} video\n   * @private\n   */\n  maybeInstallAutoplay_(video) {\n    if (!video.element.hasAttribute(VideoAttributes.AUTOPLAY)) {\n      return;\n    }\n\n    this.getAutoplay_().register(video);\n\n    const autoplayDelegated = VideoServiceSignals.AUTOPLAY_DELEGATED;\n    video.signals().whenSignal(autoplayDelegated).then(() => {\n      this.getAutoplay_().delegate(video.element);\n    });\n  }\n\n  /**\n   * @param {!AmpElement|!../base-element.BaseElement} video\n   */\n  static delegateAutoplay(video) {\n    video.signals().signal(VideoServiceSignals.AUTOPLAY_DELEGATED);\n  }\n\n  /** @override */\n  getAnalyticsDetails(video) {\n    return this.asyncImpl_.then(impl =>\n      impl.getAnalyticsDetails(video));\n  }\n\n  /** @override */\n  isMuted(unusedVideo) {\n    dev().warn(TAG, 'isMuted is not implemented');\n    return false;\n  }\n\n  /** @override */\n  getPlayingState(unusedVideo) {\n    dev().warn(TAG, 'getPlayingState is not implemented');\n    return PlayingStates.PAUSED;\n  }\n}\n\n\n/** @visibleForTesting */\nexport class VideoEntry {\n\n  /** @param {!../video-interface.VideoOrBaseElementDef} video */\n  constructor(video) {\n\n    /** @private @const {!../video-interface.VideoOrBaseElementDef} */\n    this.video_ = video;\n\n    /** @private @const {!AmpElement} */\n    this.element_ = video.element;\n\n    /** @private @const {!Promise} */\n    this.loadPromise_ = listenOncePromise(this.element_, VideoEvents.LOAD);\n\n    this.listenToAutoplayEvents_();\n\n    setVideoComponentClassname(this.element_);\n  }\n\n  /**\n   * @param {string} event\n   * @param {function(!Event)} handler\n   * @private\n   */\n  listenOnLoad_(event, handler) {\n    listen(this.element_, event, e => {\n      this.loadPromise_.then(() => {\n        handler(e);\n      });\n    });\n  }\n\n  /** @private */\n  listenToAutoplayEvents_() {\n    // TODO(alanorozco): Keep track of session\n    this.listenOnLoad_(AutoplayEvents.PLAY, () => {\n      this.video_.play(/* auto */ true);\n    });\n\n    this.listenOnLoad_(AutoplayEvents.PAUSE, () => {\n      this.video_.pause();\n    });\n  }\n}\n\n/**\n * @param {!Element} element\n */\nexport function setVideoComponentClassname(element) {\n  element.classList.add('i-amphtml-video-component');\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  MIN_VISIBILITY_RATIO_FOR_AUTOPLAY,\n  VideoEvents,\n} from '../../video-interface';\nimport {\n  PositionObserverFidelity,\n} from '../position-observer/position-observer-worker';\nimport {Services} from '../../services';\nimport {VideoServiceSignals} from '../video-service-interface';\nimport {VideoUtils} from '../../utils/video';\nimport {dev} from '../../log';\nimport {getData, listen, listenOnce} from '../../event-helper';\nimport {getMode} from '../../mode';\nimport {getServiceForDoc} from '../../service';\nimport {htmlFor} from '../../static-template';\nimport {installAutoplayStylesForDoc} from './install-autoplay-styles';\nimport {\n  installPositionObserverServiceForDoc,\n} from '../position-observer/position-observer-impl';\nimport {isFiniteNumber} from '../../types';\nimport {once} from '../../utils/function';\nimport {removeElement} from '../../dom';\n\n\n/** @private @enum {string} */\nexport const AutoplayEvents = {\n  PLAY: 'amp:autoplay',\n  PAUSE: 'amp:autopause',\n};\n\n/**\n * @param {!Element} node\n * @return {!Element}\n */\nfunction cloneDeep(node) {\n  return dev().assertElement(node.cloneNode(/* deep */ true));\n}\n\n\n/**\n * @param {function(!Window, !Element):!Element} renderFn\n * @return {function(!Window, !Element):!Element}\n */\nfunction renderOrClone(renderFn) {\n  const seedFn = once(renderFn);\n  return (win, doc) => cloneDeep(seedFn(win, doc));\n}\n\n\n/**\n * @param {!Window} unusedWin\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nexport function renderInteractionOverlay(unusedWin, elOrDoc) {\n  const html = htmlFor(elOrDoc);\n  return html`<i-amphtml-video-mask class=\"i-amphtml-fill-content\" role=button>\n    </i-amphtml-video-mask>`;\n}\n\n\n/**\n * @param {!Window} win\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nexport function renderIcon(win, elOrDoc) {\n  const icon = htmlFor(elOrDoc)`<i-amphtml-video-icon class=\"amp-video-eq\">\n    <div class=\"amp-video-eq-col\">\n      <div class=\"amp-video-eq-filler\"></div>\n      <div class=\"amp-video-eq-filler\"></div>\n    </div>\n  </i-amphtml-video-icon>`;\n\n  // Copy equalizer column 4x and annotate filler positions for animation.\n  const firstCol = dev().assertElement(icon.firstElementChild);\n  for (let i = 0; i < 4; i++) {\n    const col = cloneDeep(firstCol);\n    const fillers = col.children;\n    for (let j = 0; j < fillers.length; j++) {\n      const filler = fillers[j];\n      filler.classList.add(`amp-video-eq-${i + 1}-${j + 1}`);\n    }\n    icon.appendChild(col);\n  }\n\n  // Remove seed column.\n  removeElement(firstCol);\n\n  if (Services.platformFor(win).isIos()) {\n    // iOS is unable to pause hardware accelerated animations.\n    icon.setAttribute('unpausable', '');\n  }\n\n  return icon;\n}\n\n\n/**\n * @param {!Window} unusedWin\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nconst renderOrCloneInteractionOverlay = renderOrClone(renderInteractionOverlay);\n\n\n/**\n * @param {!Window} unusedWin\n * @param {!Element|!Document} elOrDoc\n * @return {!Element}\n */\nconst renderOrCloneIcon = renderOrClone(renderIcon);\n\n\n/** Manages autoplay video. */\nexport class Autoplay {\n\n  /** @param {!../ampdoc-impl.AmpDoc} ampdoc */\n  constructor(ampdoc) {\n\n    /** @private @const {!../ampdoc-impl.AmpDoc} */\n    this.ampdoc_ = ampdoc;\n\n    /**\n     * @return {!../position-observer/position-observer-impl.PositionObserver}\n     * @restricted\n     */\n    this.getPositionObserver_ = once(() => this.installPositionObserver_());\n\n    /** @private @const {!Array<!AutoplayEntry>} */\n    this.entries_ = [];\n\n    /**\n     * @return {!Promise<boolean>}\n     * @private\n     */\n    this.isSupported_ = once(() => {\n      // Can't destructure as the compiler expects direct member access for\n      // `getMode`.\n      const {win} = this.ampdoc_;\n      const isLite = getMode(win).lite;\n      return VideoUtils.isAutoplaySupported(win, /* isLiteMode */ isLite);\n    });\n\n    installAutoplayStylesForDoc(this.ampdoc_);\n  }\n\n  /** @private */\n  installPositionObserver_() {\n    installPositionObserverServiceForDoc(this.ampdoc_);\n    // No getter in services.js.\n    return (\n      /** @type {\n       *   !../position-observer/position-observer-impl.PositionObserver\n       * } */ (getServiceForDoc(this.ampdoc_, 'position-observer')));\n  }\n\n  /**\n   * @param {!../../video-interface.VideoOrBaseElementDef} video\n   * @return {!Promise<?AutoplayEntry>} `null` when unsupported.\n   */\n  register(video) {\n    // Controls are hidden before support is determined to prevent visual jump\n    // for the common case where autoplay is supported.\n    if (video.isInteractive()) {\n      video.hideControls();\n    }\n\n    return this.isSupported_().then(isSupported => {\n      if (!isSupported) {\n        // Disable autoplay\n        if (video.isInteractive()) {\n          video.showControls();\n        }\n        return null;\n      }\n      const entry = AutoplayEntry.create(this, video);\n      this.entries_.push(entry);\n      return entry;\n    });\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  delegate(element) {\n    const entry = this.getEntryFor_(element);\n    if (!entry) {\n      return;\n    }\n    entry.delegate();\n  }\n\n  /**\n   * @param {!Element} element\n   * @return {?AutoplayEntry}\n   * @private\n   */\n  getEntryFor_(element) {\n    for (let i = 0; i < this.entries_.length; i++) {\n      const entry = this.entries_[i];\n      if (entry.video.element == element) {\n        return entry;\n      }\n    }\n    return null;\n  }\n}\n\n\n/** @visibleForTesting */\nexport class AutoplayEntry {\n\n  /**\n   * @param {!../ampdoc-impl.AmpDoc} ampdoc\n   * @param {\n   *   !../position-observer/position-observer-impl.PositionObserver\n   * } positionObserver\n   * @param {!../../video-interface.VideoOrBaseElementDef} video\n   */\n  constructor(ampdoc, positionObserver, video) {\n\n    /** @const {!../../video-interface.VideoOrBaseElementDef} */\n    this.video = video;\n\n    /** @private {!../ampdoc-impl.AmpDoc} ampdoc} */\n    this.ampdoc_ = ampdoc;\n\n    /** @private @const {!AmpElement}  */\n    this.element_ = video.element;\n\n    /** @private {boolean} */\n    this.isVisible_ = false;\n\n    /** @private {?Array<!UnlistenDef>} */\n    this.visibilityUnlisteners_ = [\n      this.observeOn_(positionObserver),\n      this.listenToVisibilityChange_(),\n    ];\n\n    // Only muted videos are allowed to autoplay\n    video.mute();\n    video.hideControls();\n\n    this.attachArtifacts_();\n  }\n\n  /**\n   * @param {!Autoplay} manager\n   * @param {!../../video-interface.VideoOrBaseElementDef} video\n   */\n  static create(manager, video) {\n    return new AutoplayEntry(\n        manager.ampdoc_, manager.getPositionObserver_(), video);\n  }\n\n  /**\n   * @param {\n   *   !../position-observer/position-observer-impl.PositionObserver\n   * } positionObserver\n   * @return {!UnlistenDef}\n   * @private\n   */\n  observeOn_(positionObserver) {\n    return positionObserver.observe(\n        this.element_,\n        PositionObserverFidelity.HIGH,\n        () => this.onPositionChange_());\n  }\n\n  /**\n   * @return {!UnlistenDef}\n   * @private\n   */\n  listenToVisibilityChange_() {\n    return listen(this.element_, VideoEvents.VISIBILITY, e => {\n      const data = getData(e);\n      const enforcedByEvent = data && data['visible'];\n      if (enforcedByEvent && !this.isVisible_) {\n        this.isVisible_ = enforcedByEvent;\n        this.trigger_(/* isPlaying */ enforcedByEvent);\n        return;\n      }\n      this.triggerByVisibility_();\n    });\n  }\n\n  /**\n   * Delegates autoplay so that it's triggered by a different module.\n   * @public\n   */\n  delegate() {\n    this.disableTriggerByVisibility_();\n    this.video.pause();\n  }\n\n  /** @private */\n  onPositionChange_() {\n    this.triggerByVisibility_();\n  }\n\n  /** @private */\n  triggerByVisibility_() {\n    const ratio = this.element_.getIntersectionChangeEntry().intersectionRatio;\n    const isVisible = (!isFiniteNumber(ratio) ? 0 : ratio) >=\n        MIN_VISIBILITY_RATIO_FOR_AUTOPLAY;\n    if (this.isVisible_ == isVisible) {\n      return;\n    }\n    this.isVisible_ = isVisible;\n    this.trigger_(/* isPlaying */ isVisible);\n  }\n\n  /**\n   * @param {boolean} isPlaying\n   * @private\n   */\n  trigger_(isPlaying) {\n    this.element_.dispatchCustomEvent(\n        isPlaying ? AutoplayEvents.PLAY : AutoplayEvents.PAUSE);\n  }\n\n  /** @private */\n  attachArtifacts_() {\n    // TODO(alanorozco): AD_START, AD_END\n    const {video} = this;\n    const signals = video.signals();\n    const userInteracted = VideoServiceSignals.USER_INTERACTED;\n\n    if (signals.get(userInteracted) != null) {\n      return;\n    }\n\n    const {win} = this.ampdoc_;\n\n    const icon = renderOrCloneIcon(win, this.element_);\n\n    video.mutateElement(() => {\n      this.element_.appendChild(icon);\n    });\n\n    const {element} = video;\n    const playOrPauseIconAnim = this.playOrPauseIconAnim_.bind(this, icon);\n\n    const unlisteners = [\n      listen(element, VideoEvents.PLAYING, () => playOrPauseIconAnim(true)),\n      listen(element, VideoEvents.PAUSE, () => playOrPauseIconAnim(false)),\n    ];\n\n    signals.whenSignal(userInteracted).then(() => {\n      unlisteners.forEach(unlisten => unlisten());\n      this.onInteraction_();\n    });\n\n    if (!this.video.isInteractive()) {\n      return;\n    }\n\n    const overlay = renderOrCloneInteractionOverlay(win, this.element_);\n\n    listenOnce(overlay, 'click', () => signals.signal(userInteracted));\n\n    video.mutateElement(() => {\n      this.element_.appendChild(overlay);\n    });\n  }\n\n  /** @private */\n  onInteraction_() {\n    const mask = this.element_.querySelector('i-amphtml-video-mask');\n    this.disableTriggerByVisibility_();\n    if (mask) {\n      removeElement(mask);\n    }\n    if (this.video.isInteractive()) {\n      this.video.showControls();\n    }\n    this.video.unmute();\n  }\n\n  /** @private */\n  disableTriggerByVisibility_() {\n    if (!this.visibilityUnlisteners_) {\n      return;\n    }\n    this.visibilityUnlisteners_.forEach(unlistener => unlistener());\n    this.visibilityUnlisteners_ = null; // GC\n  }\n\n  /**\n   * @param {!Element} icon\n   * @param {boolean} isPlaying\n   * @private\n   */\n  playOrPauseIconAnim_(icon, isPlaying) {\n    this.video.mutateElement(() =>\n      icon.classList.toggle('amp-video-eq-play', isPlaying));\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {installStylesForDoc} from '../../style-installer';\n// Source for this constant is css/video-autoplay.css\nimport {cssText} from '../../../build/video-autoplay.css.js';\n\n\n/**\n * @param  {!../ampdoc-impl.AmpDoc} ampdoc\n */\nexport function installAutoplayStylesForDoc(ampdoc) {\n  installStylesForDoc(\n      ampdoc,\n      cssText,\n      /* callback */ null,\n      /* opt_isRuntimeCss */ false,\n      /* opt_ext */ 'amp-video-autoplay');\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getAmpdoc,\n  getExistingServiceForDocInEmbedScope,\n  getExistingServiceOrNull,\n  getService,\n  getServiceForDoc,\n  getServiceForDocDeprecated,\n  getServicePromiseForDoc,\n} from './service';\nimport {\n  getElementServiceForDoc,\n  getElementServiceIfAvailable,\n  getElementServiceIfAvailableForDoc,\n  getElementServiceIfAvailableForDocInEmbedScope,\n} from './element-service';\n\n/** @typedef {!../extensions/amp-subscriptions/0.1/amp-subscriptions.SubscriptionService} */\nexport let SubscriptionService;\n\nexport class Services {\n  /**\n   * Hint: Add extensions folder path to compile.js with\n   * warnings cannot find modules.\n   */\n\n  /**\n   * Returns a promise for the Access service.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!../extensions/amp-access/0.1/amp-access.AccessService>}\n   */\n  static accessServiceForDoc(elementOrAmpDoc) {\n    return (/** @type {!Promise<!../extensions/amp-access/0.1/amp-access.AccessService>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'access', 'amp-access')));\n  }\n\n  /**\n   * Returns a promise for the Access service or a promise for null if the\n   * service is not available on the current page.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-access/0.1/amp-access.AccessService>}\n   */\n  static accessServiceForDocOrNull(elementOrAmpDoc) {\n    return (/** @type {!Promise<?../extensions/amp-access/0.1/amp-access.AccessService>} */ (\n      getElementServiceIfAvailableForDoc(elementOrAmpDoc, 'access',\n          'amp-access')));\n  }\n\n  /**\n   * Returns a promise for the Subscriptions service.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!SubscriptionService>}\n   */\n  static subscriptionsServiceForDoc(elementOrAmpDoc) {\n    return (/** @type {!Promise<!SubscriptionService>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'subscriptions',\n          'amp-subscriptions')));\n  }\n\n  /**\n   * Returns a promise for the Subscriptions service.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?SubscriptionService>}\n   */\n  static subscriptionsServiceForDocOrNull(elementOrAmpDoc) {\n    return (/** @type {!Promise<?SubscriptionService>} */ (\n      getElementServiceIfAvailableForDoc(elementOrAmpDoc, 'subscriptions',\n          'amp-subscriptions')));\n  }\n\n  /**\n   * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n   * services since sometimes we only have the FIE Document for context.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/action-impl.ActionService}\n   */\n  static actionServiceForDoc(nodeOrDoc) {\n    return /** @type {!./service/action-impl.ActionService} */ (\n      getExistingServiceForDocInEmbedScope(\n          nodeOrDoc, 'action', /* opt_fallbackToTopWin */ true));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!Activity>}\n   */\n  static activityForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!Activity>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'activity', 'amp-analytics'));\n  }\n\n  /**\n   * Returns the global instance of the `AmpDocService` service that can be\n   * used to resolve an ampdoc for any node: either in the single-doc or\n   * shadow-doc environment.\n   * @param {!Window} window\n   * @return {!./service/ampdoc-impl.AmpDocService}\n   */\n  static ampdocServiceFor(window) {\n    return /** @type {!./service/ampdoc-impl.AmpDocService} */ (\n      getService(window, 'ampdoc'));\n  }\n\n  /**\n   * Returns the AmpDoc for the specified context node.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/ampdoc-impl.AmpDoc}\n   */\n  static ampdoc(elementOrAmpDoc) {\n    return getAmpdoc(elementOrAmpDoc);\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @param {boolean=} loadAnalytics\n   * @return {!Promise<!../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>}\n   */\n  static analyticsForDoc(elementOrAmpDoc, loadAnalytics = false) {\n    if (loadAnalytics) {\n      // Get Extensions service and force load analytics extension.\n      const ampdoc = getAmpdoc(elementOrAmpDoc);\n      Services.extensionsFor(ampdoc.win)./*OK*/installExtensionForDoc(\n          ampdoc, 'amp-analytics');\n    }\n    return /** @type {!Promise<!../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>} */ (\n      getElementServiceForDoc(elementOrAmpDoc, 'amp-analytics-instrumentation',\n          'amp-analytics'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>}\n   */\n  static analyticsForDocOrNull(elementOrAmpDoc) {\n    return /** @type {!Promise<?../extensions/amp-analytics/0.1/instrumentation.InstrumentationService>} */ (\n      getElementServiceIfAvailableForDoc(elementOrAmpDoc,\n          'amp-analytics-instrumentation', 'amp-analytics'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/batched-xhr-impl.BatchedXhr}\n   */\n  static batchedXhrFor(window) {\n    return /** @type {!./service/batched-xhr-impl.BatchedXhr} */ (\n      getService(window, 'batched-xhr'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-bind/0.1/bind-impl.Bind>}\n   */\n  static bindForDocOrNull(elementOrAmpDoc) {\n    return /** @type {!Promise<?../extensions/amp-bind/0.1/bind-impl.Bind>} */ (\n      getElementServiceIfAvailableForDocInEmbedScope(\n          elementOrAmpDoc, 'bind', 'amp-bind'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!./service/cid-impl.Cid>}\n   */\n  static cidForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!./service/cid-impl.Cid>} */ (\n      getServicePromiseForDoc(elementOrAmpDoc, 'cid'));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/navigation.Navigation}\n   */\n  static navigationForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/navigation.Navigation} */ (\n      getServiceForDoc(elementOrAmpDoc, 'navigation'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/crypto-impl.Crypto}\n   */\n  static cryptoFor(window) {\n    return (/** @type {!./service/crypto-impl.Crypto} */ (\n      getService(window, 'crypto')));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/document-info-impl.DocumentInfoDef} Info about the doc\n   */\n  static documentInfoForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/document-info-impl.DocInfo} */ (\n      getServiceForDoc(elementOrAmpDoc, 'documentInfo')).get();\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/document-state.DocumentState}\n   */\n  static documentStateFor(window) {\n    return getService(window, 'documentState');\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/extensions-impl.Extensions}\n   */\n  static extensionsFor(window) {\n    return /** @type {!./service/extensions-impl.Extensions} */ (\n      getService(window, 'extensions'));\n  }\n\n  /**\n   * Returns service implemented in service/history-impl.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/history-impl.History}\n   */\n  static historyForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/history-impl.History} */ (\n      getServiceForDoc(elementOrAmpDoc, 'history'));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!./input.Input}\n   */\n  static inputFor(win) {\n    return getService(win, 'input');\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/layers-impl.LayoutLayers}\n   */\n  static layersForDoc(elementOrAmpDoc) {\n    return /** @type {!./service/layers-impl.LayoutLayers} */ (\n      getServiceForDoc(elementOrAmpDoc, 'layers'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/performance-impl.Performance}\n   */\n  static performanceFor(window) {\n    return /** @type {!./service/performance-impl.Performance}*/ (\n      getService(window, 'performance'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/performance-impl.Performance}\n   */\n  static performanceForOrNull(window) {\n    return /** @type {!./service/performance-impl.Performance}*/ (\n      getExistingServiceOrNull(window, 'performance'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/platform-impl.Platform}\n   */\n  static platformFor(window) {\n    return /** @type {!./service/platform-impl.Platform} */ (\n      getService(window, 'platform'));\n  }\n\n  /**\n   * Uses getServiceForDocDeprecated() since Resources is a startup service.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/resources-impl.Resources}\n   */\n  static resourcesForDoc(nodeOrDoc) {\n    return /** @type {!./service/resources-impl.Resources} */ (\n      getServiceForDocDeprecated(nodeOrDoc, 'resources'));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?Promise<?{incomingFragment: string, outgoingFragment: string}>}\n   */\n  static shareTrackingForOrNull(win) {\n    return (/** @type {!Promise<?{incomingFragment: string, outgoingFragment: string}>} */ (\n      getElementServiceIfAvailable(win, 'share-tracking',\n          'amp-share-tracking', true)));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?Promise<?../extensions/amp-story/1.0/variable-service.StoryVariableDef>}\n   */\n  static storyVariableServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/1.0/variable-service.StoryVariableDef>} */\n      (getElementServiceIfAvailable(win, 'story-variable', 'amp-story',\n          true)));\n  }\n\n  /**\n   * Version of the story store service depends on which version of amp-story\n   * the publisher is loading. They all have the same implementation.\n   * @param {!Window} win\n   * @return {?Promise<?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService|?../extensions/amp-story/0.1/amp-story-store-service.AmpStoryStoreService>}\n   */\n  static storyStoreServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService|?../extensions/amp-story/0.1/amp-story-store-service.AmpStoryStoreService>} */\n      (getElementServiceIfAvailable(win, 'story-store', 'amp-story')));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService}\n   */\n  static storyStoreService(win) {\n    return (/** @type {?../extensions/amp-story/1.0/amp-story-store-service.AmpStoryStoreService} */\n      (getExistingServiceOrNull(win, 'story-store')));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?../extensions/amp-story/1.0/amp-story-request-service.AmpStoryRequestService}\n   */\n  static storyRequestService(win) {\n    return (/** @type {?../extensions/amp-story/1.0/amp-story-request-service.AmpStoryRequestService} */\n      (getExistingServiceOrNull(win, 'story-request')));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!Promise<?../extensions/amp-story/1.0/localization.LocalizationService>}\n   */\n  static localizationServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/1.0/localization.LocalizationService>} */\n      (getElementServiceIfAvailable(win, 'localization', 'amp-story', true)));\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/1.0/localization.LocalizationService}\n   */\n  static localizationService(win) {\n    return getService(win, 'localization');\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/0.1/amp-story-store-service.AmpStoryStoreService}\n   */\n  static storyStoreServiceV01(win) {\n    return getService(win, 'story-store');\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/0.1/amp-story-request-service.AmpStoryRequestService}\n   */\n  static storyRequestServiceV01(win) {\n    return getService(win, 'story-request-v01');\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!Promise<?../extensions/amp-story/0.1/localization.LocalizationService>}\n   */\n  static localizationServiceForOrNullV01(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-story/0.1/localization.LocalizationService>} */\n      (getElementServiceIfAvailable(win, 'localization-v01', 'amp-story',\n          true)));\n  }\n\n  /**\n   * TODO(#14357): Remove this when amp-story:0.1 is deprecated.\n   * @param {!Window} win\n   * @return {!../extensions/amp-story/0.1/localization.LocalizationService}\n   */\n  static localizationServiceV01(win) {\n    return getService(win, 'localization-v01');\n  }\n\n  /**\n   * @param {!Window} win\n   * @return {?Promise<?../extensions/amp-viewer-integration/0.1/variable-service.ViewerIntegrationVariableDef>}\n   */\n  static viewerIntegrationVariableServiceForOrNull(win) {\n    return (\n    /** @type {!Promise<?../extensions/amp-viewer-integration/0.1/variable-service.ViewerIntegrationVariableDef>} */\n      (getElementServiceIfAvailable(win, 'viewer-integration-variable',\n          'amp-viewer-integration', true)));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!../extensions/amp-animation/0.1/web-animation-service.WebAnimationService>}\n   */\n  static webAnimationServiceFor(elementOrAmpDoc) {\n    return (/** @type {!Promise<!../extensions/amp-animation/0.1/web-animation-service.WebAnimationService>} */\n      (getElementServiceForDoc(\n          elementOrAmpDoc, 'web-animation', 'amp-animation')));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!./service/storage-impl.Storage>}\n   */\n  static storageForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!./service/storage-impl.Storage>} */ (\n      getServicePromiseForDoc(elementOrAmpDoc, 'storage'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/template-impl.Templates}\n   */\n  static templatesFor(window) {\n    return /** @type {!./service/template-impl.Templates} */ (\n      getService(window, 'templates'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/timer-impl.Timer}\n   */\n  static timerFor(window) {\n    return /** @type {!./service/timer-impl.Timer} */ (\n      getService(window, 'timer'));\n  }\n\n  /**\n   * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n   * services since sometimes we only have the FIE Document for context.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/url-replacements-impl.UrlReplacements}\n   */\n  static urlReplacementsForDoc(nodeOrDoc) {\n    return /** @type {!./service/url-replacements-impl.UrlReplacements} */ (\n      getExistingServiceForDocInEmbedScope(\n          nodeOrDoc, 'url-replace', /* opt_fallbackToTopWin */ true));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!../extensions/amp-user-notification/0.1/amp-user-notification.UserNotificationManager>}\n   */\n  static userNotificationManagerForDoc(elementOrAmpDoc) {\n    return (/** @type {!Promise<!../extensions/amp-user-notification/0.1/amp-user-notification.UserNotificationManager>} */\n      (getElementServiceForDoc(elementOrAmpDoc, 'userNotificationManager',\n          'amp-user-notification')));\n  }\n\n  /**\n   * Returns a promise for the consentPolicy Service or a promise for null if\n   * the service is not available on the current page.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-consent/0.1/consent-policy-manager.ConsentPolicyManager>}\n   */\n  static consentPolicyServiceForDocOrNull(elementOrAmpDoc) {\n    return (/** @type {!Promise<?../extensions/amp-consent/0.1/consent-policy-manager.ConsentPolicyManager>} */\n      (getElementServiceIfAvailableForDoc(elementOrAmpDoc,\n          'consentPolicyManager', 'amp-consent')));\n  }\n\n  /**\n   * Returns a promise for the geo service or a promise for null if\n   * the service is not available on the current page.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<?../extensions/amp-geo/0.1/amp-geo.GeoDef>}\n   */\n  static geoForDocOrNull(elementOrAmpDoc) {\n    return /** @type {!Promise<?../extensions/amp-geo/0.1/amp-geo.GeoDef>} */ (\n      getElementServiceIfAvailableForDoc(\n          elementOrAmpDoc, 'geo', 'amp-geo', true));\n  }\n\n  /**\n   * Unlike most service getters, passing `Node` is necessary for some FIE-scope\n   * services since sometimes we only have the FIE Document for context.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/url-impl.Url}\n   */\n  static urlForDoc(nodeOrDoc) {\n    return /** @type {!./service/url-impl.Url} */ (\n      getExistingServiceForDocInEmbedScope(\n          nodeOrDoc, 'url', /* opt_fallbackToTopWin */ true));\n  }\n\n  /**\n   * Returns a promise for the experiment variants or a promise for null if it\n   * is not available on the current page.\n   * @param {!Window} win\n   * @return {!Promise<?Object<string>>}\n   */\n  static variantForOrNull(win) {\n    return /** @type {!Promise<?Object<string>>} */ (\n      getElementServiceIfAvailable(win, 'variant', 'amp-experiment', true));\n  }\n\n  /**\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!./service/video-service-interface.VideoServiceInterface}\n   */\n  static videoManagerForDoc(elementOrAmpDoc) {\n    return (\n      /** @type {!./service/video-service-interface.VideoServiceInterface} */ (\n        getServiceForDoc(elementOrAmpDoc, 'video-manager')));\n  }\n\n  /**\n   * Uses getServiceForDocDeprecated() since Viewer is a startup service.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/viewer-impl.Viewer}\n   */\n  static viewerForDoc(nodeOrDoc) {\n    return /** @type {!./service/viewer-impl.Viewer} */ (\n      getServiceForDocDeprecated(nodeOrDoc, 'viewer'));\n  }\n\n  /**\n   * Returns promise for the viewer. This is an unusual case and necessary only\n   * for services that need reference to the viewer before it has been\n   * initialized. Most of the code, however, just should use `viewerForDoc`.\n   * @param {!Element|!./service/ampdoc-impl.AmpDoc} elementOrAmpDoc\n   * @return {!Promise<!./service/viewer-impl.Viewer>}\n   */\n  static viewerPromiseForDoc(elementOrAmpDoc) {\n    return /** @type {!Promise<!./service/viewer-impl.Viewer>} */ (\n      getServicePromiseForDoc(elementOrAmpDoc, 'viewer'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/vsync-impl.Vsync}\n   */\n  static vsyncFor(window) {\n    return /** @type {!./service/vsync-impl.Vsync} */ (\n      getService(window, 'vsync'));\n  }\n\n  /**\n   * Uses getServiceForDocDeprecated() since Viewport is a startup service.\n   * @param {!Node|!./service/ampdoc-impl.AmpDoc} nodeOrDoc\n   * @return {!./service/viewport/viewport-impl.Viewport}\n   */\n  static viewportForDoc(nodeOrDoc) {\n    return /** @type {!./service/viewport/viewport-impl.Viewport} */ (\n      getServiceForDocDeprecated(nodeOrDoc, 'viewport'));\n  }\n\n  /**\n   * @param {!Window} window\n   * @return {!./service/xhr-impl.Xhr}\n   */\n  static xhrFor(window) {\n    return /** @type {!./service/xhr-impl.Xhr} */ (getService(window, 'xhr'));\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\nimport {ShadowCSS} from '../third_party/webcomponentsjs/ShadowCSS';\nimport {\n  ShadowDomVersion,\n  getShadowDomSupportedVersion,\n  isShadowCssSupported,\n  isShadowDomSupported,\n} from './web-components';\nimport {\n  childElementsByTag,\n  closestNode,\n  escapeCssSelectorIdent,\n  iterateCursor,\n  removeElement,\n} from './dom';\nimport {dev} from './log';\nimport {installCssTransformer} from './style-installer';\nimport {setStyle} from './style';\nimport {toArray, toWin} from './types';\n\n/**\n * Used for non-composed root-node search. See `getRootNode`.\n * @const {!GetRootNodeOptions}\n */\nconst UNCOMPOSED_SEARCH = {composed: false};\n\n/** @const {!RegExp} */\nconst CSS_SELECTOR_BEG_REGEX = /[^\\.\\-\\_0-9a-zA-Z]/;\n\n/** @const {!RegExp} */\nconst CSS_SELECTOR_END_REGEX = /[^\\-\\_0-9a-zA-Z]/;\n\n/**\n * @type {boolean|undefined}\n */\nlet shadowDomStreamingSupported;\n\n\n/**\n * Creates a shadow root for the specified host and returns it. Polyfills\n * shadow root creation if necessary.\n * @param {!Element} hostElement\n * @return {!ShadowRoot}\n */\nexport function createShadowRoot(hostElement) {\n  const win = toWin(hostElement.ownerDocument.defaultView);\n\n  const existingRoot = hostElement.shadowRoot || hostElement.__AMP_SHADOW_ROOT;\n  if (existingRoot) {\n    existingRoot./*OK*/innerHTML = '';\n    return existingRoot;\n  }\n\n  let shadowRoot;\n  const shadowDomSupported = getShadowDomSupportedVersion();\n  if (shadowDomSupported == ShadowDomVersion.V1) {\n    shadowRoot = hostElement.attachShadow({mode: 'open'});\n    if (!shadowRoot.styleSheets) {\n      Object.defineProperty(shadowRoot, 'styleSheets', {\n        get: function() {\n          const items = [];\n          iterateCursor(shadowRoot.childNodes, child => {\n            if (child.tagName === 'STYLE') {\n              items.push(child.sheet);\n            }\n          });\n          return items;\n        },\n      });\n    }\n  } else if (shadowDomSupported == ShadowDomVersion.V0) {\n    shadowRoot = hostElement.createShadowRoot();\n  } else {\n    shadowRoot = createShadowRootPolyfill(hostElement);\n  }\n\n  if (!isShadowCssSupported()) {\n    const rootId = `i-amphtml-sd-${win.Math.floor(win.Math.random() * 10000)}`;\n    shadowRoot.id = rootId;\n    shadowRoot.host.classList.add(rootId);\n\n    // CSS isolation.\n    installCssTransformer(shadowRoot, css => {\n      return transformShadowCss(shadowRoot, css);\n    });\n  }\n\n  return shadowRoot;\n}\n\n\n/**\n * Shadow root polyfill.\n * @param {!Element} hostElement\n * @return {!ShadowRoot}\n */\nfunction createShadowRootPolyfill(hostElement) {\n  const doc = hostElement.ownerDocument;\n\n  // Host CSS polyfill.\n  hostElement.classList.add('i-amphtml-shadow-host-polyfill');\n  const hostStyle = doc.createElement('style');\n  hostStyle.textContent =\n      '.i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root)'\n      + '{display:none!important}';\n  hostElement.appendChild(hostStyle);\n\n  // Shadow root.\n  const shadowRoot = /** @type {!ShadowRoot} */ (\n    // Cast to ShadowRoot even though it is an Element\n    // TODO(@dvoytenko) Consider to switch to a type union instead.\n    /** @type {?}  */ (doc.createElement('i-amphtml-shadow-root')));\n  hostElement.appendChild(shadowRoot);\n  hostElement.shadowRoot = hostElement.__AMP_SHADOW_ROOT = shadowRoot;\n\n  // API: https://www.w3.org/TR/shadow-dom/#the-shadowroot-interface\n\n  shadowRoot.host = hostElement;\n\n  // `getElementById` is resolved via `querySelector('#id')`.\n  shadowRoot.getElementById = function(id) {\n    const escapedId = escapeCssSelectorIdent(id);\n    return /** @type {HTMLElement|null} */ (\n      shadowRoot./*OK*/querySelector(`#${escapedId}`));\n  };\n\n  // The styleSheets property should have a list of local styles.\n  Object.defineProperty(shadowRoot, 'styleSheets', {\n    get: () => {\n      if (!doc.styleSheets) {\n        return [];\n      }\n      return toArray(doc.styleSheets).filter(\n          styleSheet => shadowRoot.contains(styleSheet.ownerNode));\n    },\n  });\n\n  return shadowRoot;\n}\n\n\n/**\n * Determines if value is actually a `ShadowRoot` node.\n * @param {*} value\n * @return {boolean}\n */\nexport function isShadowRoot(value) {\n  if (!value) {\n    return false;\n  }\n  // Node.nodeType == DOCUMENT_FRAGMENT to speed up the tests. Unfortunately,\n  // nodeType of DOCUMENT_FRAGMENT is used currently for ShadowRoot nodes.\n  if (value.tagName == 'I-AMPHTML-SHADOW-ROOT') {\n    return true;\n  }\n  return (value.nodeType == /* DOCUMENT_FRAGMENT */ 11 &&\n      Object.prototype.toString.call(value) === '[object ShadowRoot]');\n}\n\n\n/**\n * Return shadow root for the specified node.\n * @param {!Node} node\n * @return {?ShadowRoot}\n */\nexport function getShadowRootNode(node) {\n  if (isShadowDomSupported() && Node.prototype.getRootNode) {\n    return /** @type {?ShadowRoot} */ (node.getRootNode(UNCOMPOSED_SEARCH));\n  }\n  // Polyfill shadow root lookup.\n  return /** @type {?ShadowRoot} */ (closestNode(node, n => isShadowRoot(n)));\n}\n\n\n/**\n * Imports a body into a shadow root with the workaround for a polyfill case.\n * @param {!ShadowRoot} shadowRoot\n * @param {!Element} body\n * @param {boolean} deep\n * @return {!Element}\n */\nexport function importShadowBody(shadowRoot, body, deep) {\n  const doc = shadowRoot.ownerDocument;\n  let resultBody;\n  if (isShadowCssSupported()) {\n    resultBody = dev().assertElement(doc.importNode(body, deep));\n  } else {\n    resultBody = doc.createElement('amp-body');\n    setStyle(resultBody, 'display', 'block');\n    for (let i = 0; i < body.attributes.length; i++) {\n      resultBody.setAttribute(\n          body.attributes[0].name, body.attributes[0].value);\n    }\n    if (deep) {\n      for (let n = body.firstChild; !!n; n = n.nextSibling) {\n        resultBody.appendChild(doc.importNode(n, true));\n      }\n    }\n  }\n  setStyle(resultBody, 'position', 'relative');\n  shadowRoot.appendChild(resultBody);\n  Object.defineProperty(shadowRoot, 'body', {value: resultBody});\n  return resultBody;\n}\n\n\n/**\n * If necessary, transforms CSS to isolate AMP CSS within the shaodw root and\n * reduce the possibility of high-level conflicts.\n * @param {!ShadowRoot} shadowRoot\n * @param {string} css\n * @return {string}\n */\nexport function transformShadowCss(shadowRoot, css) {\n  return scopeShadowCss(shadowRoot, css);\n}\n\n\n/**\n * Transforms CSS to isolate AMP CSS within the shadow root and reduce the\n * possibility of high-level conflicts. There are two types of transformations:\n * 1. Root transformation: `body` -> `amp-body`, etc.\n * 2. Scoping: `a {}` -> `.i-amphtml-sd-123 a {}`.\n *\n * @param {!ShadowRoot} shadowRoot\n * @param {string} css\n * @return {string}\n * @visibleForTesting\n */\nexport function scopeShadowCss(shadowRoot, css) {\n  const id = dev().assert(shadowRoot.id);\n  const doc = shadowRoot.ownerDocument;\n  let rules = null;\n  // Try to use a separate document.\n  try {\n    rules = getStylesheetRules(doc.implementation.createHTMLDocument(''), css);\n  } catch (e) {\n    // Ignore.\n  }\n  // Try to use the current document.\n  if (!rules) {\n    try {\n      rules = getStylesheetRules(doc, css);\n    } catch (e) {\n      // Ignore.\n    }\n  }\n\n  // No rules could be parsed - return css as is.\n  if (!rules) {\n    return css;\n  }\n\n  // Patch selectors.\n  // Invoke `ShadowCSS.scopeRules` via `call` because the way it uses `this`\n  // internally conflicts with Closure compiler's advanced optimizations.\n  const {scopeRules} = ShadowCSS;\n  return scopeRules.call(ShadowCSS, rules, `.${id}`, transformRootSelectors);\n}\n\n\n/**\n * Replaces top-level selectors such as `html` and `body` with their polyfill\n * counterparts: `amp-html` and `amp-body`.\n * @param {string} selector\n * @return {string}\n */\nfunction transformRootSelectors(selector) {\n  return selector.replace(/(html|body)/g, rootSelectorPrefixer);\n}\n\n\n/**\n * See `transformRootSelectors`.\n * @param {string} match\n * @param {string} name\n * @param {number} pos\n * @param {string} selector\n * @return {string}\n * @private\n */\nfunction rootSelectorPrefixer(match, name, pos, selector) {\n  const prev = selector.charAt(pos - 1);\n  const next = selector.charAt(pos + match.length);\n  if ((!prev || CSS_SELECTOR_BEG_REGEX.test(prev)) &&\n      (!next || CSS_SELECTOR_END_REGEX.test(next))) {\n    return 'amp-' + match;\n  }\n  return match;\n}\n\n\n/**\n * @param {!Document} doc\n * @param {string} css\n * @return {?CSSRuleList}\n */\nfunction getStylesheetRules(doc, css) {\n  const style = doc.createElement('style');\n  style./*OK*/textContent = css;\n  try {\n    (doc.head || doc.documentElement).appendChild(style);\n    if (style.sheet) {\n      return style.sheet.cssRules;\n    }\n    return null;\n  } finally {\n    if (style.parentNode) {\n      style.parentNode.removeChild(style);\n    }\n  }\n}\n\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setShadowDomStreamingSupportedForTesting(val) {\n  shadowDomStreamingSupported = val;\n}\n\n\n/**\n * Returns `true` if the Shadow DOM streaming is supported.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isShadowDomStreamingSupported(win) {\n  if (shadowDomStreamingSupported === undefined) {\n    shadowDomStreamingSupported = calcShadowDomStreamingSupported(win);\n  }\n  return shadowDomStreamingSupported;\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction calcShadowDomStreamingSupported(win) {\n  // API must be supported.\n  if (!win.document.implementation ||\n      typeof win.document.implementation.createHTMLDocument != 'function') {\n    return false;\n  }\n  // Firefox does not support DOM streaming.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=867102\n  if (Services.platformFor(win).isFirefox()) {\n    return false;\n  }\n  // Assume full streaming support.\n  return true;\n}\n\n\n/**\n * Creates the Shadow DOM writer available on this platform.\n * @param {!Window} win\n * @return {!ShadowDomWriter}\n */\nexport function createShadowDomWriter(win) {\n  if (isShadowDomStreamingSupported(win)) {\n    return new ShadowDomWriterStreamer(win);\n  }\n  return new ShadowDomWriterBulk(win);\n}\n\n\n/**\n * Takes as an input a text stream, parses it and incrementally reconstructs\n * it in the shadow root.\n *\n * See https://jakearchibald.com/2016/fun-hacks-faster-content/ for more\n * details.\n *\n * @interface\n * @extends {WritableStreamDefaultWriter}\n * @visibleForTesting\n */\nexport class ShadowDomWriter {\n\n  /**\n   * Sets the callback that will be called when body has been parsed.\n   *\n   * Unlike most of other nodes, `<body>` cannot be simply merged to support\n   * SD polyfill where the use of `<body>` element is not possible. The\n   * callback will be given the parsed document and it must return back\n   * the reconstructed `<body>` node in the target DOM where all children\n   * will be streamed into.\n   *\n   * @param {function(!Document):!Element} unusedCallback\n   */\n  onBody(unusedCallback) {}\n\n  /**\n   * Sets the callback that will be called when new nodes have been merged\n   * into the target DOM.\n   * @param {function()} unusedCallback\n   */\n  onBodyChunk(unusedCallback) {}\n\n  /**\n   * Sets the callback that will be called when the DOM has been fully\n   * constructed.\n   * @param {function()} unusedCallback\n   */\n  onEnd(unusedCallback) {}\n}\n\n\n/**\n * Takes as an input a text stream, parses it and incrementally reconstructs\n * it in the shadow root.\n *\n * See https://jakearchibald.com/2016/fun-hacks-faster-content/ for more\n * details.\n *\n * @implements {ShadowDomWriter}\n * @visibleForTesting\n */\nexport class ShadowDomWriterStreamer {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @const @private {!Document} */\n    this.parser_ = win.document.implementation.createHTMLDocument('');\n    this.parser_.open();\n\n    /** @const @private */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /** @private @const */\n    this.boundMerge_ = this.merge_.bind(this);\n\n    /** @private {?function(!Document):!Element} */\n    this.onBody_ = null;\n\n    /** @private {?function()} */\n    this.onBodyChunk_ = null;\n\n    /** @private {?function()} */\n    this.onEnd_ = null;\n\n    /** @private {boolean} */\n    this.mergeScheduled_ = false;\n\n    /** @const @private {!Promise} */\n    this.success_ = Promise.resolve();\n\n    /** @private {boolean} */\n    this.eof_ = false;\n\n    /** @private {?Element} */\n    this.targetBody_ = null;\n  }\n\n  /** @override */\n  onBody(callback) {\n    this.onBody_ = callback;\n  }\n\n  /** @override */\n  onBodyChunk(callback) {\n    this.onBodyChunk_ = callback;\n  }\n\n  /** @override */\n  onEnd(callback) {\n    this.onEnd_ = callback;\n  }\n\n  /** @override */\n  write(chunk) {\n    if (this.eof_) {\n      throw new Error('closed already');\n    }\n    if (chunk) {\n      this.parser_.write(/** @type {string} */ (chunk));\n    }\n    this.schedule_();\n    return this.success_;\n  }\n\n  /** @override */\n  close() {\n    this.parser_.close();\n    this.eof_ = true;\n    this.schedule_();\n    return this.success_;\n  }\n\n  /** @override */\n  abort(unusedReason) {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  releaseLock() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get closed() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get desiredSize() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get ready() {\n    throw new Error('Not implemented');\n  }\n\n  /** @private */\n  schedule_() {\n    dev().assert(this.onBody_ && this.onBodyChunk_ && this.onEnd_);\n    if (!this.mergeScheduled_) {\n      this.mergeScheduled_ = true;\n      this.vsync_.mutate(this.boundMerge_);\n    }\n  }\n\n  /** @private */\n  merge_() {\n    this.mergeScheduled_ = false;\n\n    // Body has been newly parsed.\n    if (!this.targetBody_ && this.parser_.body) {\n      this.targetBody_ = this.onBody_(this.parser_);\n    }\n\n    // Merge body children.\n    if (this.targetBody_) {\n      const inputBody = /** @type !Element */(dev().assert(this.parser_.body));\n      const targetBody = dev().assert(this.targetBody_);\n      let transferCount = 0;\n      removeNoScriptElements(inputBody);\n      while (inputBody.firstChild) {\n        transferCount++;\n        targetBody.appendChild(inputBody.firstChild);\n      }\n      if (transferCount > 0) {\n        this.onBodyChunk_();\n      }\n    }\n\n    // EOF.\n    if (this.eof_) {\n      this.onEnd_();\n    }\n  }\n}\n\n\n/**\n * Takes as an input a text stream, aggregates it and parses it in one bulk.\n * This is a workaround against the browsers that do not support streaming DOM\n * parsing. Mainly currently Firefox.\n *\n * See https://github.com/whatwg/html/issues/2827 and\n * https://bugzilla.mozilla.org/show_bug.cgi?id=867102\n *\n * @implements {ShadowDomWriter}\n * @visibleForTesting\n */\nexport class ShadowDomWriterBulk {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private {!Array<string>} */\n    this.fullHtml_ = [];\n\n    /** @const @private */\n    this.vsync_ = Services.vsyncFor(win);\n\n    /** @private {?function(!Document):!Element} */\n    this.onBody_ = null;\n\n    /** @private {?function()} */\n    this.onBodyChunk_ = null;\n\n    /** @private {?function()} */\n    this.onEnd_ = null;\n\n    /** @const @private {!Promise} */\n    this.success_ = Promise.resolve();\n\n    /** @private {boolean} */\n    this.eof_ = false;\n  }\n\n  /** @override */\n  onBody(callback) {\n    this.onBody_ = callback;\n  }\n\n  /** @override */\n  onBodyChunk(callback) {\n    this.onBodyChunk_ = callback;\n  }\n\n  /** @override */\n  onEnd(callback) {\n    this.onEnd_ = callback;\n  }\n\n  /** @override */\n  write(chunk) {\n    dev().assert(this.onBody_ && this.onBodyChunk_ && this.onEnd_);\n    if (this.eof_) {\n      throw new Error('closed already');\n    }\n    if (chunk) {\n      this.fullHtml_.push(dev().assertString(chunk));\n    }\n    return this.success_;\n  }\n\n  /** @override */\n  close() {\n    dev().assert(this.onBody_ && this.onBodyChunk_ && this.onEnd_);\n    this.eof_ = true;\n    this.vsync_.mutate(() => this.complete_());\n    return this.success_;\n  }\n\n  /** @override */\n  abort(unusedReason) {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  releaseLock() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get closed() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get desiredSize() {\n    throw new Error('Not implemented');\n  }\n\n  /** @override */\n  get ready() {\n    throw new Error('Not implemented');\n  }\n\n  /** @private */\n  complete_() {\n    const fullHtml = this.fullHtml_.join('');\n    const doc = new DOMParser().parseFromString(fullHtml, 'text/html');\n\n    // Merge body.\n    if (doc.body) {\n      const inputBody = doc.body;\n      const targetBody = this.onBody_(doc);\n      let transferCount = 0;\n      removeNoScriptElements(inputBody);\n      while (inputBody.firstChild) {\n        transferCount++;\n        targetBody.appendChild(inputBody.firstChild);\n      }\n      if (transferCount > 0) {\n        this.onBodyChunk_();\n      }\n    }\n\n    // EOF.\n    this.onEnd_();\n  }\n}\n\n/**\n * Remove any noscript elements.\n *\n * According to the spec\n * (https://w3c.github.io/DOM-Parsing/#the-domparser-interface), with\n * `DOMParser().parseFromString`, contents of `noscript` get parsed as markup,\n * so we need to remove them manually. Why? \\_()_/ `createHTMLDocument()`\n * seems to behave the same way.\n *\n * @param {!Element} parent\n */\nfunction removeNoScriptElements(parent) {\n  const noscriptElements = childElementsByTag(parent, 'noscript');\n  iterateCursor(noscriptElements, element => {\n    removeElement(element);\n  });\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {dev} from './log';\nimport {map} from './utils/object.js';\n\nlet container;\n\n/**\n * Creates the html helper for the doc.\n *\n * @param {!Element|!Document} nodeOrDoc\n * @return {function(!Array<string>):!Element}\n */\nexport function htmlFor(nodeOrDoc) {\n  const doc = nodeOrDoc.ownerDocument || nodeOrDoc;\n  if (!container || container.ownerDocument !== doc) {\n    container = doc.createElement('div');\n  }\n\n  return html;\n}\n\n/**\n * A tagged template literal helper to generate static DOM trees.\n * This must be used as a tagged template, ie\n *\n * ```\n * const div = html`<div><span></span></div>`;\n * ```\n *\n * Only the root element and its subtree will be returned. DO NOT use this to\n * render subtree's with dynamic content, it WILL result in an error!\n *\n * @param {!Array<string>} strings\n * @return {!Element}\n */\nfunction html(strings) {\n  dev().assert(strings.length === 1, 'Improper html template tag usage.');\n  container./*OK*/innerHTML = strings[0];\n\n  const el = container.firstElementChild;\n  dev().assert(el, 'No elements in template');\n  dev().assert(!el.nextElementSibling, 'Too many root elements in template');\n\n  // Clear to free memory.\n  container./*OK*/innerHTML = '';\n\n  return el;\n}\n\n/**\n * Queries an element for all elements with a \"ref\" attribute, removing\n * the attribute afterwards.\n * Returns a named map of all ref elements.\n *\n * @param {!Element} root\n * @return {!Object<string, !Element>}\n */\nexport function htmlRefs(root) {\n  const elements = root.querySelectorAll('[ref]');\n  const refs = map();\n\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n    const ref = dev().assert(element.getAttribute('ref'), 'Empty ref attr');\n    element.removeAttribute('ref');\n    dev().assert(refs[ref] === undefined, 'Duplicate ref');\n    refs[ref] = element;\n  }\n\n  return refs;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @param {string} _match\n * @param {string} character\n * @return {string}\n */\nfunction toUpperCase(_match, character) {\n  return character.toUpperCase();\n}\n\n/**\n * @param {string} match\n * @return {string}\n */\nfunction prependDashAndToLowerCase(match) {\n  return '-' + match.toLowerCase();\n}\n\n/**\n * @param {string} name Attribute name containing dashes.\n * @return {string} Dashes removed and successive character sent to upper case.\n * visibleForTesting\n */\nexport function dashToCamelCase(name) {\n  return name.replace(/-([a-z])/g, toUpperCase);\n}\n\n/**\n * Converts a string that is in camelCase to one that is in dash-case.\n *\n * @param {string} string The string to convert.\n * @return {string} The string in dash-case.\n */\nexport function camelCaseToDash(string) {\n  return string.replace(/(?!^)[A-Z]/g, prependDashAndToLowerCase);\n}\n\n/**\n * @param {string} name Attribute name with dashes\n * @return {string} Dashes replaced by underlines.\n */\nexport function dashToUnderline(name) {\n  return name.replace('-', '_');\n}\n\n/**\n * Polyfill for String.prototype.endsWith.\n * @param {string} string\n * @param {string} suffix\n * @return {boolean}\n */\nexport function endsWith(string, suffix) {\n  const index = string.length - suffix.length;\n  return index >= 0 && string.indexOf(suffix, index) == index;\n}\n\n/**\n * Polyfill for String.prototype.startsWith.\n * @param {string} string\n * @param {string} prefix\n * @return {boolean}\n */\nexport function startsWith(string, prefix) {\n  if (prefix.length > string.length) {\n    return false;\n  }\n  return string.lastIndexOf(prefix, 0) == 0;\n}\n\n/**\n * Expands placeholders in a given template string with values.\n *\n * Placeholders use ${key-name} syntax and are replaced with the value\n * returned from the given getter function.\n *\n * @param {string} template The template string to expand.\n * @param {function(string):*} getter Function used to retrieve a value for a\n *   placeholder. Returns values will be coerced into strings.\n * @param {number=} opt_maxIterations Number of times to expand the template.\n *   Defaults to 1, but should be set to a larger value your placeholder tokens\n *   can be expanded to other placeholder tokens. Take caution with large values\n *   as recursively expanding a string can be exponentially expensive.\n */\nexport function expandTemplate(template, getter, opt_maxIterations) {\n  const maxIterations = opt_maxIterations || 1;\n  for (let i = 0; i < maxIterations; i++) {\n    let matches = 0;\n    template = template.replace(/\\${([^}]*)}/g, (_a, b) => {\n      matches++;\n      return getter(b);\n    });\n    if (!matches) {\n      break;\n    }\n  }\n  return template;\n}\n\n/**\n * Hash function djb2a\n * This is intended to be a simple, fast hashing function using minimal code.\n * It does *not* have good cryptographic properties.\n * @param {string} str\n * @return {string} 32-bit unsigned hash of the string\n */\nexport function stringHash32(str) {\n  const {length} = str;\n  let hash = 5381;\n  for (let i = 0; i < length; i++) {\n    hash = hash * 33 ^ str.charCodeAt(i);\n  }\n  // Convert from 32-bit signed to unsigned.\n  return String(hash >>> 0);\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Services} from './services';\nimport {dev, rethrowAsync} from './log';\nimport {insertAfterOrAtStart, waitForBody} from './dom';\nimport {map} from './utils/object';\nimport {setStyles} from './style';\nimport {waitForServices} from './render-delaying-services';\n\nconst TRANSFORMER_PROP = '__AMP_CSS_TR';\nconst STYLE_MAP_PROP = '__AMP_CSS_SM';\nconst bodyVisibleSentinel = '__AMP_BODY_VISIBLE';\n\n\n/**\n * Adds the given css text to the given ampdoc.\n *\n * The style tags will be at the beginning of the head before all author\n * styles. One element can be the main runtime CSS. This is guaranteed\n * to always be the first stylesheet in the doc.\n *\n * @param {!./service/ampdoc-impl.AmpDoc} ampdoc The ampdoc that should get the new styles.\n * @param {string} cssText\n * @param {?function(!Element)|undefined} cb Called when the new styles are available.\n *     Not using a promise, because this is synchronous when possible.\n *     for better performance.\n * @param {boolean=} opt_isRuntimeCss If true, this style tag will be inserted\n *     as the first element in head and all style elements will be positioned\n *     after.\n * @param {string=} opt_ext\n * @return {!Element}\n */\nexport function installStylesForDoc(\n  ampdoc, cssText, cb, opt_isRuntimeCss, opt_ext) {\n  const cssRoot = ampdoc.getHeadNode();\n  const style = insertStyleElement(\n      cssRoot,\n      maybeTransform(cssRoot, cssText),\n      opt_isRuntimeCss || false,\n      opt_ext || null);\n\n  if (cb) {\n    const rootNode = ampdoc.getRootNode();\n    // Styles aren't always available synchronously. E.g. if there is a\n    // pending style download, it will have to finish before the new\n    // style is visible.\n    // For this reason we poll until the style becomes available.\n    // Sync case.\n    if (styleLoaded(rootNode, style)) {\n      cb(style);\n      return style;\n    }\n    // Poll until styles are available.\n    const interval = setInterval(() => {\n      if (styleLoaded(rootNode, style)) {\n        clearInterval(interval);\n        cb(style);\n      }\n    }, 4);\n  }\n  return style;\n}\n\n\n/**\n * Adds the given css text to the given document.\n * TODO(dvoytenko, #10705): Remove this method once FIE/ampdoc migration is\n * done.\n *\n * @param {!Document} doc The document that should get the new styles.\n * @param {string} cssText\n * @param {?function(!Element)|undefined} cb Called when the new styles are\n *     available. Not using a promise, because this is synchronous when\n *     possible. for better performance.\n * @param {boolean=} opt_isRuntimeCss If true, this style tag will be inserted\n *     as the first element in head and all style elements will be positioned\n *     after.\n * @param {string=} opt_ext\n * @return {!Element}\n */\nexport function installStylesLegacy(\n  doc, cssText, cb, opt_isRuntimeCss, opt_ext) {\n  const style = insertStyleElement(\n      dev().assertElement(doc.head),\n      cssText,\n      opt_isRuntimeCss || false,\n      opt_ext || null);\n\n  if (cb) {\n    // Styles aren't always available synchronously. E.g. if there is a\n    // pending style download, it will have to finish before the new\n    // style is visible.\n    // For this reason we poll until the style becomes available.\n    // Sync case.\n    if (styleLoaded(doc, style)) {\n      cb(style);\n      return style;\n    }\n    // Poll until styles are available.\n    const interval = setInterval(() => {\n      if (styleLoaded(doc, style)) {\n        clearInterval(interval);\n        cb(style);\n      }\n    }, 4);\n  }\n  return style;\n}\n\n\n/**\n * Creates the properly configured style element.\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {string} cssText\n * @param {boolean} isRuntimeCss\n * @param {?string} ext\n * @return {!Element}\n */\nfunction insertStyleElement(cssRoot, cssText, isRuntimeCss, ext) {\n  let styleMap = cssRoot[STYLE_MAP_PROP];\n  if (!styleMap) {\n    styleMap = cssRoot[STYLE_MAP_PROP] = map();\n  }\n\n  const isExtCss = !isRuntimeCss &&\n      (ext && ext != 'amp-custom' && ext != 'amp-keyframes');\n  const key =\n      isRuntimeCss ? 'amp-runtime' :\n        isExtCss ? `amp-extension=${ext}` : null;\n\n  // Check if it has already been created or discovered.\n  if (key) {\n    const existing = getExistingStyleElement(cssRoot, styleMap, key);\n    if (existing) {\n      return existing;\n    }\n  }\n\n  // Create the new style element and append to cssRoot.\n  const doc = (cssRoot.ownerDocument || cssRoot);\n  const style = doc.createElement('style');\n  style./*OK*/textContent = cssText;\n  let afterElement = null;\n  // Make sure that we place style tags after the main runtime CSS. Otherwise\n  // the order is random.\n  if (isRuntimeCss) {\n    style.setAttribute('amp-runtime', '');\n  } else if (isExtCss) {\n    style.setAttribute('amp-extension', ext || '');\n    afterElement = dev().assertElement(getExistingStyleElement(\n        cssRoot, styleMap, 'amp-runtime'));\n  } else {\n    if (ext) {\n      style.setAttribute(ext, '');\n    }\n    afterElement = cssRoot.lastChild;\n  }\n  insertAfterOrAtStart(cssRoot, style, afterElement);\n  if (key) {\n    styleMap[key] = style;\n  }\n  return style;\n}\n\n\n/**\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {!Object<string, !Element>} styleMap\n * @param {string} key\n * @return {?Element}\n */\nfunction getExistingStyleElement(cssRoot, styleMap, key) {\n  // Already cached.\n  if (styleMap[key]) {\n    return styleMap[key];\n  }\n  // Check if the style has already been added by the server layout.\n  const existing = cssRoot./*OK*/querySelector(`style[${key}]`);\n  if (existing) {\n    styleMap[key] = existing;\n    return existing;\n  }\n  // Nothing found.\n  return null;\n}\n\n\n/**\n * Applies a transformer to the CSS text if it has been registered.\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {function(string):string} transformer\n */\nexport function installCssTransformer(cssRoot, transformer) {\n  cssRoot[TRANSFORMER_PROP] = transformer;\n}\n\n\n/**\n * Applies a transformer to the CSS text if it has been registered.\n * @param {!Element|!ShadowRoot} cssRoot\n * @param {string} cssText\n * @return {string}\n */\nfunction maybeTransform(cssRoot, cssText) {\n  const transformer = cssRoot[TRANSFORMER_PROP];\n  return transformer ? transformer(cssText) : cssText;\n}\n\n\n/**\n * Sets the document's body opacity to 1.\n * If the body is not yet available (because our script was loaded\n * synchronously), polls until it is.\n * @param {!Document} doc The document who's body we should make visible.\n * @param {boolean=} opt_waitForServices Whether the body visibility should\n *     be blocked on key services being loaded.\n */\nexport function makeBodyVisible(doc, opt_waitForServices) {\n  dev().assert(doc.defaultView, 'Passed in document must have a defaultView');\n  const win = /** @type {!Window} */ (doc.defaultView);\n  if (win[bodyVisibleSentinel]) {\n    return;\n  }\n  const set = () => {\n    win[bodyVisibleSentinel] = true;\n    setStyles(dev().assertElement(doc.body), {\n      opacity: 1,\n      visibility: 'visible',\n      'animation': 'none',\n    });\n    renderStartedNoInline(doc);\n  };\n  try {\n    waitForBody(doc, () => {\n      if (win[bodyVisibleSentinel]) {\n        return;\n      }\n      win[bodyVisibleSentinel] = true;\n      if (opt_waitForServices) {\n        waitForServices(win).catch(reason => {\n          rethrowAsync(reason);\n          return [];\n        }).then(services => {\n          set();\n          if (services.length > 0) {\n            Services.resourcesForDoc(doc)./*OK*/schedulePass(\n                1, /* relayoutAll */ true);\n          }\n          try {\n            const perf = Services.performanceFor(win);\n            perf.tick('mbv');\n            perf.flush();\n          } catch (e) {}\n        });\n      } else {\n        set();\n      }\n    });\n  } catch (e) {\n    // If there was an error during the logic above (such as service not\n    // yet installed, definitely try to make the body visible.\n    set();\n    // Avoid errors in the function to break execution flow as this is\n    // often called as a last resort.\n    rethrowAsync(e);\n  }\n}\n\n\n/**\n * @param {!Document} doc\n */\nfunction renderStartedNoInline(doc) {\n  try {\n    Services.resourcesForDoc(doc).renderStarted();\n  } catch (e) {\n    // `makeBodyVisible` is called in the error-processing cycle and thus\n    // could be triggered when runtime's initialization is incomplete which\n    // would cause unrelated errors to be thrown here.\n  }\n}\n\n\n/**\n * Indicates that the body is always visible. For instance, in case of PWA.\n * @param {!Window} win\n */\nexport function bodyAlwaysVisible(win) {\n  win[bodyVisibleSentinel] = true;\n}\n\n\n/**\n * Checks whether a style element was registered in the DOM.\n * @param {!Document|!ShadowRoot} doc\n * @param {!Element} style\n * @return {boolean}\n */\nfunction styleLoaded(doc, style) {\n  const sheets = doc.styleSheets;\n  for (let i = 0; i < sheets.length; i++) {\n    const sheet = sheets[i];\n    if (sheet.ownerNode == style) {\n      return true;\n    }\n  }\n  return false;\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Note: loaded by 3p system. Cannot rely on babel polyfills.\nimport {map} from './utils/object.js';\nimport {startsWith} from './string';\n\n\n/** @type {Object<string, string>} */\nlet propertyNameCache;\n\n/** @const {!Array<string>} */\nconst vendorPrefixes = ['Webkit', 'webkit', 'Moz', 'moz', 'ms', 'O', 'o'];\n\n\n/**\n * @export\n * @param {string} camelCase camel cased string\n * @return {string} title cased string\n */\nexport function camelCaseToTitleCase(camelCase) {\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n}\n\n/**\n * Checks the style if a prefixed version of a property exists and returns\n * it or returns an empty string.\n * @private\n * @param {!Object} style\n * @param {string} titleCase the title case version of a css property name\n * @return {string} the prefixed property name or null.\n */\nfunction getVendorJsPropertyName_(style, titleCase) {\n  for (let i = 0; i < vendorPrefixes.length; i++) {\n    const propertyName = vendorPrefixes[i] + titleCase;\n    if (style[propertyName] !== undefined) {\n      return propertyName;\n    }\n  }\n  return '';\n}\n\n/**\n * Returns the possibly prefixed JavaScript property name of a style property\n * (ex. WebkitTransitionDuration) given a camelCase'd version of the property\n * (ex. transitionDuration).\n * @export\n * @param {!Object} style\n * @param {string} camelCase the camel cased version of a css property name\n * @param {boolean=} opt_bypassCache bypass the memoized cache of property\n *   mapping\n * @return {string}\n */\nexport function getVendorJsPropertyName(style, camelCase, opt_bypassCache) {\n  if (startsWith(camelCase, '--')) {\n    // CSS vars are returned as is.\n    return camelCase;\n  }\n  if (!propertyNameCache) {\n    propertyNameCache = map();\n  }\n  let propertyName = propertyNameCache[camelCase];\n  if (!propertyName || opt_bypassCache) {\n    propertyName = camelCase;\n    if (style[camelCase] === undefined) {\n      const titleCase = camelCaseToTitleCase(camelCase);\n      const prefixedPropertyName = getVendorJsPropertyName_(style, titleCase);\n\n      if (style[prefixedPropertyName] !== undefined) {\n        propertyName = prefixedPropertyName;\n      }\n    }\n    if (!opt_bypassCache) {\n      propertyNameCache[camelCase] = propertyName;\n    }\n  }\n  return propertyName;\n}\n\n\n/**\n * Sets the CSS styles of the specified element with !important. The styles\n * are specified as a map from CSS property names to their values.\n * @param {!Element} element\n * @param {!Object<string, *>} styles\n */\nexport function setImportantStyles(element, styles) {\n  for (const k in styles) {\n    element.style.setProperty(\n        getVendorJsPropertyName(styles, k), styles[k].toString(), 'important');\n  }\n}\n\n\n/**\n * Sets the CSS style of the specified element with optional units, e.g. \"px\".\n * @param {?Element} element\n * @param {string} property\n * @param {*} value\n * @param {string=} opt_units\n * @param {boolean=} opt_bypassCache\n */\nexport function setStyle(element, property, value, opt_units, opt_bypassCache) {\n  const propertyName = getVendorJsPropertyName(element.style, property,\n      opt_bypassCache);\n  if (propertyName) {\n    element.style[propertyName] =\n      /** @type {string} */ (opt_units ? value + opt_units : value);\n  }\n}\n\n\n/**\n * Returns the value of the CSS style of the specified element.\n * @param {!Element} element\n * @param {string} property\n * @param {boolean=} opt_bypassCache\n * @return {*}\n */\nexport function getStyle(element, property, opt_bypassCache) {\n  const propertyName = getVendorJsPropertyName(element.style, property,\n      opt_bypassCache);\n  if (!propertyName) {\n    return undefined;\n  }\n  return element.style[propertyName];\n}\n\n\n/**\n * Sets the CSS styles of the specified element. The styles\n * a specified as a map from CSS property names to their values.\n * @param {!Element} element\n * @param {!Object<string, *>} styles\n */\nexport function setStyles(element, styles) {\n  for (const k in styles) {\n    setStyle(element, k, styles[k]);\n  }\n}\n\n\n/**\n * Shows or hides the specified element.\n * @param {!Element} element\n * @param {boolean=} opt_display\n */\nexport function toggle(element, opt_display) {\n  if (opt_display === undefined) {\n    opt_display = getStyle(element, 'display') == 'none';\n  }\n  setStyle(element, 'display', opt_display ? '' : 'none');\n}\n\n\n/**\n * Returns a pixel value.\n * @param {number} value\n * @return {string}\n */\nexport function px(value) {\n  return `${value}px`;\n}\n\n/**\n * Returns a degree value.\n * @param {number} value\n * @return {string}\n */\nexport function deg(value) {\n  return `${value}deg`;\n}\n\n/**\n * Returns a \"translateX\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function translateX(value) {\n  if (typeof value == 'string') {\n    return `translateX(${value})`;\n  }\n  return `translateX(${px(value)})`;\n}\n\n\n/**\n * Returns a \"translateX\" for CSS \"transform\" property.\n * @param {number|string} x\n * @param {(number|string)=} opt_y\n * @return {string}\n */\nexport function translate(x, opt_y) {\n  if (typeof x == 'number') {\n    x = px(x);\n  }\n  if (opt_y === undefined) {\n    return `translate(${x})`;\n  }\n  if (typeof opt_y == 'number') {\n    opt_y = px(opt_y);\n  }\n  return `translate(${x}, ${opt_y})`;\n}\n\n\n/**\n * Returns a \"scale\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function scale(value) {\n  return `scale(${value})`;\n}\n\n/**\n * Returns a \"rotate\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function rotate(value) {\n  if (typeof value == 'number') {\n    value = deg(value);\n  }\n  return `rotate(${value})`;\n}\n\n/**\n * Remove alpha value from a rgba color value.\n * Return the new color property with alpha equals if has the alpha value.\n * Caller needs to make sure the input color value is a valid rgba/rgb value\n * @param {string} rgbaColor\n * @return {string}\n */\nexport function removeAlphaFromColor(rgbaColor) {\n  return rgbaColor.replace(\n      /\\(([^,]+),([^,]+),([^,)]+),[^)]+\\)/g, '($1,$2,$3, 1)');\n}\n\n/**\n * Gets the computed style of the element. The helper is necessary to enforce\n * the possible `null` value returned by a buggy Firefox.\n *\n * @param {!Window} win\n * @param {!Element} el\n * @return {!Object<string, string>}\n */\nexport function computedStyle(win, el) {\n  const style = /** @type {?CSSStyleDeclaration} */(win.getComputedStyle(el));\n  return /** @type {!Object<string, string>} */(style) || map();\n}\n\n\n/**\n * Resets styles that were set dynamically (i.e. inline)\n * @param {!Element} element\n * @param {!Array<string>} properties\n */\nexport function resetStyles(element, properties) {\n  const styleObj = {};\n  properties.forEach(prop => {\n    styleObj[prop] = null;\n  });\n  setStyles(element, styleObj);\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* @const */\nconst toString_ = Object.prototype.toString;\n\n/**\n * Returns the ECMA [[Class]] of a value\n * @param {*} value\n * @return {string}\n */\nfunction toString(value) {\n  return toString_.call(value);\n}\n\n/**\n * Determines if value is actually an Array.\n * @param {*} value\n * @return {boolean}\n */\nexport function isArray(value) {\n  return Array.isArray(value);\n}\n\n/**\n * Converts an array-like object to an array.\n * @param {?IArrayLike<T>|string} arrayLike\n * @return {!Array<T>}\n * @template T\n */\nexport function toArray(arrayLike) {\n  if (!arrayLike) {\n    return [];\n  }\n  const array = new Array(arrayLike.length);\n  for (let i = 0; i < arrayLike.length; i++) {\n    array[i] = arrayLike[i];\n  }\n  return array;\n}\n\n/**\n * Determines if value is actually an Object.\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject(value) {\n  return toString(value) === '[object Object]';\n}\n\n/**\n * Determines if value is of number type and finite.\n * NaN and Infinity are not considered a finite number.\n * String numbers are not considered numbers.\n * @param {*} value\n * @return {boolean}\n */\nexport function isFiniteNumber(value) {\n  return (typeof value === 'number' && isFinite(value));\n}\n\n/**\n * Checks whether `s` is a valid value of `enumObj`.\n *\n * @param {!Object<T>} enumObj\n * @param {T} s\n * @return {boolean}\n * @template T\n */\nexport function isEnumValue(enumObj, s) {\n  for (const k in enumObj) {\n    if (enumObj[k] === s) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Externs declare that access `defaultView` from `document` or\n * `ownerDocument` is of type `(Window|null)` but most of our parameter types\n * assume that it is never null. This is OK in practice as we ever only get\n * null on disconnected documents or old IE.\n * This helper function casts it into just a simple Window return type.\n *\n * @param {!Window|null} winOrNull\n * @return {!Window}\n */\nexport function toWin(winOrNull) {\n  return /** @type {!Window} */ (winOrNull);\n}\n\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {tryDecodeUriComponent_} from './url-try-decode-uri-component';\n\nconst regex = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\n\n/**\n * Parses the query string of an URL. This method returns a simple key/value\n * map. If there are duplicate keys the latest value is returned.\n *\n * DO NOT import the function from this file. Instead, import parseQueryString\n * from `src/url.js`.\n *\n * @param {string} queryString\n * @return {!JsonObject}\n */\nexport function parseQueryString_(queryString) {\n  const params = /** @type {!JsonObject} */ (Object.create(null));\n  if (!queryString) {\n    return params;\n  }\n\n  let match;\n  while ((match = regex.exec(queryString))) {\n    const name = tryDecodeUriComponent_(match[1], match[1]);\n    const value = match[2] ? tryDecodeUriComponent_(match[2], match[2]) : '';\n    params[name] = value;\n  }\n  return params;\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Tries to decode a URI component, falling back to opt_fallback (or an empty\n * string)\n *\n * DO NOT import the function from this file. Instead, import\n * tryDecodeUriComponent from `src/url.js`.\n *\n * @param {string} component\n * @param {string=} fallback\n * @return {string}\n */\nexport function tryDecodeUriComponent_(component, fallback = '') {\n  try {\n    return decodeURIComponent(component);\n  } catch (e) {\n    return fallback;\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {LruCache} from './utils/lru-cache';\nimport {dict} from './utils/object';\nimport {endsWith, startsWith} from './string';\nimport {getMode} from './mode';\nimport {isArray} from './types';\nimport {parseQueryString_} from './url-parse-query-string';\nimport {tryDecodeUriComponent_} from './url-try-decode-uri-component';\nimport {urls} from './config';\nimport {user} from './log';\n\n/**\n * @type {!JsonObject}\n */\nconst SERVING_TYPE_PREFIX = dict({\n  // No viewer\n  'c': true,\n  // In viewer\n  'v': true,\n  // Ad landing page\n  'a': true,\n  // Ad\n  'ad': true,\n});\n\n/**\n * Cached a-tag to avoid memory allocation during URL parsing.\n * @type {HTMLAnchorElement}\n */\nlet a;\n\n/**\n * We cached all parsed URLs. As of now there are no use cases\n * of AMP docs that would ever parse an actual large number of URLs,\n * but we often parse the same one over and over again.\n * @type {LruCache}\n */\nlet cache;\n\n/** @private @const Matches amp_js_* parameters in query string. */\nconst AMP_JS_PARAMS_REGEX = /[?&]amp_js[^&]*/;\n\n/** @private @const Matches amp_gsa parameters in query string. */\nconst AMP_GSA_PARAMS_REGEX = /[?&]amp_gsa[^&]*/;\n\n/** @private @const Matches amp_r parameters in query string. */\nconst AMP_R_PARAMS_REGEX = /[?&]amp_r[^&]*/;\n\n/** @private @const Matches usqp parameters from goog experiment in query string. */\nconst GOOGLE_EXPERIMENT_PARAMS_REGEX = /[?&]usqp[^&]*/;\n\nconst INVALID_PROTOCOLS = [\n  /*eslint no-script-url: 0*/ 'javascript:',\n  /*eslint no-script-url: 0*/ 'data:',\n  /*eslint no-script-url: 0*/ 'vbscript:',\n];\n\n/** @const {string} */\nexport const SOURCE_ORIGIN_PARAM = '__amp_source_origin';\n\n/**\n * Returns the correct origin for a given window.\n * @param {!Window} win\n * @return {string} origin\n */\nexport function getWinOrigin(win) {\n  return win.origin || parseUrlDeprecated(win.location.href).origin;\n}\n\n/**\n * Returns a Location-like object for the given URL. If it is relative,\n * the URL gets resolved.\n * Consider the returned object immutable. This is enforced during\n * testing by freezing the object.\n * @param {string} url\n * @param {boolean=} opt_nocache\n * @return {!Location}\n */\nexport function parseUrlDeprecated(url, opt_nocache) {\n  if (!a) {\n    a = /** @type {!HTMLAnchorElement} */ (self.document.createElement('a'));\n    cache = self.UrlCache || (self.UrlCache = new LruCache(100));\n  }\n\n  return parseUrlWithA(a, url, opt_nocache ? null : cache);\n}\n\n/**\n * Returns a Location-like object for the given URL. If it is relative,\n * the URL gets resolved.\n * Consider the returned object immutable. This is enforced during\n * testing by freezing the object.\n * @param {!HTMLAnchorElement} a\n * @param {string} url\n * @param {LruCache=} opt_cache\n * @return {!Location}\n * @restricted\n */\nexport function parseUrlWithA(a, url, opt_cache) {\n  if (opt_cache && opt_cache.has(url)) {\n    return opt_cache.get(url);\n  }\n\n  a.href = url;\n\n  // IE11 doesn't provide full URL components when parsing relative URLs.\n  // Assigning to itself again does the trick #3449.\n  if (!a.protocol) {\n    a.href = a.href;\n  }\n\n  const info = /** @type {!Location} */({\n    href: a.href,\n    protocol: a.protocol,\n    host: a.host,\n    hostname: a.hostname,\n    port: a.port == '0' ? '' : a.port,\n    pathname: a.pathname,\n    search: a.search,\n    hash: a.hash,\n    origin: null, // Set below.\n  });\n\n  // Some IE11 specific polyfills.\n  // 1) IE11 strips out the leading '/' in the pathname.\n  if (info.pathname[0] !== '/') {\n    info.pathname = '/' + info.pathname;\n  }\n\n  // 2) For URLs with implicit ports, IE11 parses to default ports while\n  // other browsers leave the port field empty.\n  if ((info.protocol == 'http:' && info.port == 80)\n      || (info.protocol == 'https:' && info.port == 443)) {\n    info.port = '';\n    info.host = info.hostname;\n  }\n\n  // For data URI a.origin is equal to the string 'null' which is not useful.\n  // We instead return the actual origin which is the full URL.\n  if (a.origin && a.origin != 'null') {\n    info.origin = a.origin;\n  } else if (info.protocol == 'data:' || !info.host) {\n    info.origin = info.href;\n  } else {\n    info.origin = info.protocol + '//' + info.host;\n  }\n\n  // Freeze during testing to avoid accidental mutation.\n  const frozen = (getMode().test && Object.freeze) ? Object.freeze(info) : info;\n\n  if (opt_cache) {\n    opt_cache.put(url, frozen);\n  }\n\n  return frozen;\n}\n\n/**\n * Appends the string just before the fragment part (or optionally\n * to the front of the query string) of the URL.\n * @param {string} url\n * @param {string} paramString\n * @param {boolean=} opt_addToFront\n * @return {string}\n */\nexport function appendEncodedParamStringToUrl(url, paramString,\n  opt_addToFront) {\n  if (!paramString) {\n    return url;\n  }\n  const mainAndFragment = url.split('#', 2);\n  const mainAndQuery = mainAndFragment[0].split('?', 2);\n\n  let newUrl = mainAndQuery[0] + (\n    mainAndQuery[1]\n      ? (opt_addToFront\n        ? `?${paramString}&${mainAndQuery[1]}`\n        : `?${mainAndQuery[1]}&${paramString}`)\n      : `?${paramString}`);\n  newUrl += mainAndFragment[1] ? `#${mainAndFragment[1]}` : '';\n  return newUrl;\n}\n/**\n * Appends a query string field and value to a url. `key` and `value`\n * will be ran through `encodeURIComponent` before appending.\n * @param {string} url\n * @param {string} key\n * @param {string} value\n * @param {boolean=} opt_addToFront\n * @return {string}\n */\nexport function addParamToUrl(url, key, value, opt_addToFront) {\n  const field = `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n  return appendEncodedParamStringToUrl(url, field, opt_addToFront);\n}\n\n/**\n * Appends query string fields and values to a url. The `params` objects'\n * `key`s and `value`s will be transformed into query string keys/values.\n * @param {string} url\n * @param {!JsonObject<string, string|!Array<string>>} params\n * @return {string}\n */\nexport function addParamsToUrl(url, params) {\n  return appendEncodedParamStringToUrl(url, serializeQueryString(params));\n}\n\n/**\n * Serializes the passed parameter map into a query string with both keys\n * and values encoded.\n * @param {!JsonObject<string, string|!Array<string>>} params\n * @return {string}\n */\nexport function serializeQueryString(params) {\n  const s = [];\n  for (const k in params) {\n    const v = params[k];\n    if (v == null) {\n      continue;\n    } else if (isArray(v)) {\n      for (let i = 0; i < v.length; i++) {\n        const sv = /** @type {string} */ (v[i]);\n        s.push(`${encodeURIComponent(k)}=${encodeURIComponent(sv)}`);\n      }\n    } else {\n      const sv = /** @type {string} */ (v);\n      s.push(`${encodeURIComponent(k)}=${encodeURIComponent(sv)}`);\n    }\n  }\n  return s.join('&');\n}\n\n/**\n * Returns `true` if the URL is secure: either HTTPS or localhost (for testing).\n * @param {string|!Location} url\n * @return {boolean}\n */\nexport function isSecureUrlDeprecated(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return (url.protocol == 'https:' ||\n      url.hostname == 'localhost' ||\n      endsWith(url.hostname, '.localhost'));\n}\n\n/**\n * Asserts that a given url is HTTPS or protocol relative. It's a user-level\n * assert.\n *\n * Provides an exception for localhost.\n *\n * @param {?string|undefined} urlString\n * @param {!Element|string} elementContext Element where the url was found.\n * @param {string=} sourceName Used for error messages.\n * @return {string}\n */\nexport function assertHttpsUrl(\n  urlString, elementContext, sourceName = 'source') {\n  user().assert(urlString != null, '%s %s must be available',\n      elementContext, sourceName);\n  // (erwinm, #4560): type cast necessary until #4560 is fixed.\n  const theUrlString = /** @type {string} */ (urlString);\n  user().assert(isSecureUrlDeprecated(theUrlString) || /^(\\/\\/)/.test(theUrlString),\n      '%s %s must start with ' +\n      '\"https://\" or \"//\" or be relative and served from ' +\n      'either https or from localhost. Invalid value: %s',\n      elementContext, sourceName, theUrlString);\n  return theUrlString;\n}\n\n/**\n * Asserts that a given url is an absolute HTTP or HTTPS URL.\n * @param {string} urlString\n * @return {string}\n */\nexport function assertAbsoluteHttpOrHttpsUrl(urlString) {\n  user().assert(/^https?\\:/i.test(urlString),\n      'URL must start with \"http://\" or \"https://\". Invalid value: %s',\n      urlString);\n  return parseUrlDeprecated(urlString).href;\n}\n\n\n/**\n * Parses the query string of an URL. This method returns a simple key/value\n * map. If there are duplicate keys the latest value is returned.\n *\n * This function is implemented in a separate file to avoid a circular\n * dependency.\n *\n * @param {string} queryString\n * @return {!JsonObject}\n */\nexport function parseQueryString(queryString) {\n  return parseQueryString_(queryString);\n}\n\n/**\n * Returns the URL without fragment. If URL doesn't contain fragment, the same\n * string is returned.\n * @param {string} url\n * @return {string}\n */\nexport function removeFragment(url) {\n  const index = url.indexOf('#');\n  if (index == -1) {\n    return url;\n  }\n  return url.substring(0, index);\n}\n\n/**\n * Returns the fragment from the URL. If the URL doesn't contain fragment,\n * the empty string is returned.\n * @param {string} url\n * @return {string}\n */\nexport function getFragment(url) {\n  const index = url.indexOf('#');\n  if (index == -1) {\n    return '';\n  }\n  return url.substring(index);\n}\n\n/**\n * Returns whether the URL has the origin of a proxy.\n * @param {string|!Location} url URL of an AMP document.\n * @return {boolean}\n */\nexport function isProxyOrigin(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return urls.cdnProxyRegex.test(url.origin);\n}\n\n/**\n * For proxy-origin URLs, returns the serving type. Otherwise, returns null.\n * E.g., 'https://amp-com.cdn.ampproject.org/a/s/amp.com/amp_document.html'\n * returns 'a'.\n * @param {string|!Location} url URL of an AMP document.\n * @return {?string}\n */\nexport function getProxyServingType(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  if (!isProxyOrigin(url)) {\n    return null;\n  }\n  const path = url.pathname.split('/', 2);\n  return path[1];\n}\n\n/**\n * Returns whether the URL origin is localhost.\n * @param {string|!Location} url URL of an AMP document.\n * @return {boolean}\n */\nexport function isLocalhostOrigin(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return urls.localhostRegex.test(url.origin);\n}\n\n/**\n * Returns whether the URL has valid protocol.\n * Deep link protocol is valid, but not javascript etc.\n * @param {string|!Location} url\n * @return {boolean}\n */\nexport function isProtocolValid(url) {\n  if (!url) {\n    return true;\n  }\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n  return !INVALID_PROTOCOLS.includes(url.protocol);\n}\n\n/**\n * Returns a URL without AMP JS parameters.\n * @param {string} url\n * @return {string}\n */\nexport function removeAmpJsParamsFromUrl(url) {\n  const parsed = parseUrlDeprecated(url);\n  const search = removeAmpJsParamsFromSearch(parsed.search);\n  return parsed.origin + parsed.pathname + search + parsed.hash;\n\n}\n\n/**\n * Returns a URL without a query string.\n * @param {string} url\n * @return {string}\n */\nexport function removeSearch(url) {\n  const index = url.indexOf('?');\n  if (index == -1) {\n    return url;\n  }\n  const fragment = getFragment(url);\n  return url.substring(0, index) + fragment;\n}\n\n/**\n * Removes parameters that start with amp js parameter pattern and returns the\n * new search string.\n * @param {string} urlSearch\n * @return {string}\n */\nfunction removeAmpJsParamsFromSearch(urlSearch) {\n  if (!urlSearch || urlSearch == '?') {\n    return '';\n  }\n  const search = urlSearch\n      .replace(AMP_JS_PARAMS_REGEX, '')\n      .replace(AMP_GSA_PARAMS_REGEX, '')\n      .replace(AMP_R_PARAMS_REGEX, '')\n      .replace(GOOGLE_EXPERIMENT_PARAMS_REGEX, '')\n      .replace(/^[?&]/, ''); // Removes first ? or &.\n  return search ? '?' + search : '';\n}\n\n/**\n * Returns the source URL of an AMP document for documents served\n * on a proxy origin or directly.\n * @param {string|!Location} url URL of an AMP document.\n * @return {string}\n */\nexport function getSourceUrl(url) {\n  if (typeof url == 'string') {\n    url = parseUrlDeprecated(url);\n  }\n\n  // Not a proxy URL - return the URL itself.\n  if (!isProxyOrigin(url)) {\n    return url.href;\n  }\n\n  // A proxy URL.\n  // Example path that is being matched here.\n  // https://cdn.ampproject.org/c/s/www.origin.com/foo/\n  // The /s/ is optional and signals a secure origin.\n  const path = url.pathname.split('/');\n  const prefix = path[1];\n  user().assert(SERVING_TYPE_PREFIX[prefix],\n      'Unknown path prefix in url %s', url.href);\n  const domainOrHttpsSignal = path[2];\n  const origin = domainOrHttpsSignal == 's'\n    ? 'https://' + decodeURIComponent(path[3])\n    : 'http://' + decodeURIComponent(domainOrHttpsSignal);\n  // Sanity test that what we found looks like a domain.\n  user().assert(origin.indexOf('.') > 0, 'Expected a . in origin %s', origin);\n  path.splice(1, domainOrHttpsSignal == 's' ? 3 : 2);\n  return origin + path.join('/') +\n      removeAmpJsParamsFromSearch(url.search) + (url.hash || '');\n}\n\n/**\n * Returns the source origin of an AMP document for documents served\n * on a proxy origin or directly.\n * @param {string|!Location} url URL of an AMP document.\n * @return {string} The source origin of the URL.\n */\nexport function getSourceOrigin(url) {\n  return parseUrlDeprecated(getSourceUrl(url)).origin;\n}\n\n/**\n * Returns absolute URL resolved based on the relative URL and the base.\n * @param {string} relativeUrlString\n * @param {string|!Location} baseUrl\n * @return {string}\n */\nexport function resolveRelativeUrl(relativeUrlString, baseUrl) {\n  if (typeof baseUrl == 'string') {\n    baseUrl = parseUrlDeprecated(baseUrl);\n  }\n  if (typeof URL == 'function') {\n    return new URL(relativeUrlString, baseUrl.href).toString();\n  }\n  return resolveRelativeUrlFallback_(relativeUrlString, baseUrl);\n}\n\n/**\n * Fallback for URL resolver when URL class is not available.\n * @param {string} relativeUrlString\n * @param {string|!Location} baseUrl\n * @return {string}\n * @private Visible for testing.\n */\nexport function resolveRelativeUrlFallback_(relativeUrlString, baseUrl) {\n  if (typeof baseUrl == 'string') {\n    baseUrl = parseUrlDeprecated(baseUrl);\n  }\n  relativeUrlString = relativeUrlString.replace(/\\\\/g, '/');\n  const relativeUrl = parseUrlDeprecated(relativeUrlString);\n\n  // Absolute URL.\n  if (startsWith(relativeUrlString.toLowerCase(), relativeUrl.protocol)) {\n    return relativeUrl.href;\n  }\n\n  // Protocol-relative URL.\n  if (startsWith(relativeUrlString, '//')) {\n    return baseUrl.protocol + relativeUrlString;\n  }\n\n  // Absolute path.\n  if (startsWith(relativeUrlString, '/')) {\n    return baseUrl.origin + relativeUrlString;\n  }\n\n  // Relative path.\n  return baseUrl.origin + baseUrl.pathname.replace(/\\/[^/]*$/, '/')\n      + relativeUrlString;\n}\n\n\n/**\n * Add \"__amp_source_origin\" query parameter to the URL.\n * @param {!Window} win\n * @param {string} url\n * @return {string}\n */\nexport function getCorsUrl(win, url) {\n  checkCorsUrl(url);\n  const sourceOrigin = getSourceOrigin(win.location.href);\n  return addParamToUrl(url, SOURCE_ORIGIN_PARAM, sourceOrigin);\n}\n\n\n/**\n * Checks if the url has __amp_source_origin and throws if it does.\n * @param {string} url\n */\nexport function checkCorsUrl(url) {\n  const parsedUrl = parseUrlDeprecated(url);\n  const query = parseQueryString(parsedUrl.search);\n  user().assert(!(SOURCE_ORIGIN_PARAM in query),\n      'Source origin is not allowed in %s', url);\n}\n\n/**\n * Tries to decode a URI component, falling back to opt_fallback (or an empty\n * string)\n *\n * @param {string} component\n * @param {string=} opt_fallback\n * @return {string}\n */\nexport function tryDecodeUriComponent(component, opt_fallback) {\n  return tryDecodeUriComponent_(component, opt_fallback);\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Compares if two arrays contains exactly same elements of same number\n * of same order.\n * Notice that it does NOT handle NaN case as expected\n *\n * @param {!Array<T>} arr1\n * @param {!Array<T>} arr2\n * @return {boolean}\n * @template T\n */\nexport function areEqualOrdered(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * A bit like Array#filter, but removes elements that filter false from the\n * array. Returns the filtered items.\n *\n * @param {!Array<T>} array\n * @param {function(T, number, !Array<T>):boolean} filter\n * @return {!Array<T>}\n * @template T\n */\nexport function filterSplice(array, filter) {\n  const splice = [];\n  let index = 0;\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    if (filter(item, i, array)) {\n      if (index < i) {\n        array[index] = item;\n      }\n      index++;\n    } else {\n      splice.push(item);\n    }\n  }\n\n  if (index < array.length) {\n    array.length = index;\n  }\n\n  return splice;\n}\n\n/**\n * Returns the index of the first element matching the predicate.\n * Like Array#findIndex.\n *\n * @param {!Array<T>} array\n * @param {function(T, number, !Array<T>):boolean} predicate\n * @return {number}\n * @template T\n */\nexport function findIndex(array, predicate) {\n  for (let i = 0; i < array.length; i++) {\n    if (predicate(array[i], i, array)) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n/**\n * Converts the given iterator to an array.\n *\n * @param {!Iterator<T>} iterator\n * @return {Array<T>}\n * @template T\n */\nexport function fromIterator(iterator) {\n  const array = [];\n  for (let e = iterator.next(); !e.done; e = iterator.next()) {\n    array.push(e.value);\n  }\n  return array;\n}\n\n/**\n * Adds item to array if it is not already present.\n *\n * @param {Array<T>} array\n * @param {T} item\n * @template T\n */\nexport function pushIfNotExist(array, item) {\n  if (array.indexOf(item) < 0) {\n    array.push(item);\n  }\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// TODO(rsimha, #15334): Enable this rule.\n/* eslint jsdoc/check-types: 0 */\n\n/**\n * Creates a function that is evaluated only once and returns the cached result\n * subsequently.\n *\n * Please note that `once` only takes the function definition into account,\n * so it will return the same cached value even when the arguments are\n * different.\n *\n * @param {function(...):T} fn\n * @return {function(...):T}\n * @template T\n */\nexport function once(fn) {\n  let evaluated = false;\n  let retValue = null;\n  let callback = fn;\n  return (...args) => {\n    if (!evaluated) {\n      retValue = callback.apply(self, args);\n      evaluated = true;\n      callback = null; // GC\n    }\n    return retValue;\n  };\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @enum {number}\n */\nexport const KeyCodes = {\n  ENTER: 13,\n  ESCAPE: 27,\n  SPACE: 32,\n  LEFT_ARROW: 37,\n  UP_ARROW: 38,\n  RIGHT_ARROW: 39,\n  DOWN_ARROW: 40,\n};\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {dev} from '../log';\n\n/** @const {string} */\nconst TAG = 'lru-cache';\n\n/**\n * @template T\n */\nexport class LruCache {\n  /**\n   * @param {number} capacity\n   */\n  constructor(capacity) {\n    /** @private @const {number} */\n    this.capacity_ = capacity;\n\n    /** @private {number} */\n    this.size_ = 0;\n\n    /**\n     * An incrementing counter to define the last access.\n     * @private {number}\n     */\n    this.access_ = 0;\n\n    /** @private {!Object<(number|string), {payload: T, access: number}>} */\n    this.cache_ = Object.create(null);\n  }\n\n  /**\n   * Returns whether key is cached.\n   *\n   * @param {number|string} key\n   * @return {boolean}\n   */\n  has(key) {\n    return !!this.cache_[key];\n  }\n\n  /**\n   * @param {number|string} key\n   * @return {T} The cached payload.\n   */\n  get(key) {\n    const cacheable = this.cache_[key];\n    if (cacheable) {\n      cacheable.access = ++this.access_;\n      return cacheable.payload;\n    }\n    return undefined;\n  }\n\n  /**\n   * @param {number|string} key\n   * @param {T} payload The payload to cache.\n   */\n  put(key, payload) {\n    if (!this.has(key)) {\n      this.size_++;\n    }\n    this.cache_[key] = {payload, access: this.access_};\n    this.evict_();\n  }\n\n  /**\n   * Evicts the oldest cache entry, if we've exceeded capacity.\n   */\n  evict_() {\n    if (this.size_ <= this.capacity_) {\n      return;\n    }\n\n    dev().warn(TAG, 'Trimming LRU cache');\n    const cache = this.cache_;\n    let oldest = this.access_ + 1;\n    let oldestKey;\n    for (const key in cache) {\n      const {access} = cache[key];\n      if (access < oldest) {\n        oldest = access;\n        oldestKey = key;\n      }\n    }\n\n    if (oldestKey !== undefined) {\n      delete cache[oldestKey];\n      this.size_--;\n    }\n  }\n}\n","/**\n * Copyright 2015 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {isObject} from '../types';\n\n/* @const */\nconst hasOwn_ = Object.prototype.hasOwnProperty;\n\n/**\n * Returns a map-like object.\n * If opt_initial is provided, copies its own properties into the\n * newly created object.\n * @param {T=} opt_initial This should typically be an object literal.\n * @return {T}\n * @template T\n */\nexport function map(opt_initial) {\n  const obj = Object.create(null);\n  if (opt_initial) {\n    Object.assign(obj, opt_initial);\n  }\n  return obj;\n}\n\n/**\n * Return an empty JsonObject or makes the passed in object literal\n * an JsonObject.\n * The JsonObject type is just a simple object that is at-dict.\n * See\n * https://github.com/google/closure-compiler/wiki/@struct-and-@dict-Annotations\n * for what a dict is type-wise.\n * The linter enforces that the argument is, in fact, at-dict like.\n * @param {!Object=} opt_initial\n * @return {!JsonObject}\n */\nexport function dict(opt_initial) {\n  // We do not copy. The linter enforces that the passed in object is a literal\n  // and thus the caller cannot have a reference to it.\n  return /** @type {!JsonObject} */ (opt_initial || {});\n}\n\n/**\n * Checks if the given key is a property in the map.\n *\n * @param {T}  obj a map like property.\n * @param {string}  key\n * @return {boolean}\n * @template T\n */\nexport function hasOwn(obj, key) {\n  return hasOwn_.call(obj, key);\n}\n\n/**\n * Returns obj[key] iff key is obj's own property (is not inherited).\n * Otherwise, returns undefined.\n *\n * @param {Object} obj\n * @param {string} key\n * @return {*}\n */\nexport function ownProperty(obj, key) {\n  if (hasOwn(obj, key)) {\n    return obj[key];\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Deep merges source into target.\n *\n * @param {!Object} target\n * @param {!Object} source\n * @param {number} depth The maximum merge depth. If exceeded, Object.assign\n *                       will be used instead.\n * @return {!Object}\n * @throws {Error} If source contains a circular reference.\n * Note: Only nested objects are deep-merged, primitives and arrays are not.\n */\nexport function deepMerge(target, source, depth = 10) {\n  // Keep track of seen objects to detect recursive references.\n  const seen = [];\n\n  /** @type {!Array<{t: !Object, s: !Object, d: number}>} */\n  const queue = [];\n  queue.push({t: target, s: source, d: 0});\n\n  // BFS to ensure objects don't have recursive references at shallower depths.\n  while (queue.length > 0) {\n    const {t, s, d} = queue.shift();\n    if (seen.includes(s)) {\n      throw new Error('Source object has a circular reference.');\n    }\n    seen.push(s);\n    if (t === s) {\n      continue;\n    }\n    if (d > depth) {\n      Object.assign(t, s);\n      continue;\n    }\n    Object.keys(s).forEach(key => {\n      const newValue = s[key];\n      // Perform a deep merge IFF both target and source have the same key\n      // whose corresponding values are objects.\n      if (hasOwn(t, key)) {\n        const oldValue = t[key];\n        if (isObject(newValue) && isObject(oldValue)) {\n          queue.push({t: oldValue, s: newValue, d: d + 1});\n          return;\n        }\n      }\n      t[key] = newValue;\n    });\n  }\n  return target;\n}\n\n/**\n * @param {!Object} o An object to remove properties from\n * @param {!Array<string>} props A list of properties to remove from the Object\n * @return {!Object} An object with the given properties removed\n */\nexport function omit(o, props) {\n  return Object.keys(o).reduce((acc, key) => {\n    if (!props.includes(key)) {\n      acc[key] = o[key];\n    }\n    return acc;\n  }, {});\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns a Deferred struct, which holds a pending promise and its associated\n * resolve and reject functions.\n *\n * This is preferred instead of creating a Promise instance to extract the\n * resolve/reject functions yourself:\n *\n * ```\n * // Avoid doing\n * let resolve;\n * const promise = new Promise(res => {\n *   resolve = res;\n * });\n *\n * // Good\n * const deferred = new Deferred();\n * const { promise, resolve } = deferred;\n * ```\n *\n * @template T\n */\nexport class Deferred {\n  /**\n   * Creates an instance of Deferred.\n   */\n  constructor() {\n    let resolve, reject;\n\n    /**\n     * @const {!Promise<T>}\n     */\n    this.promise = new /*OK*/Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n\n    /**\n     * @const {function(T=)}\n     */\n    this.resolve = resolve;\n\n    /**\n     * @const {function(*=)}\n     */\n    this.reject = reject;\n  }\n}\n\n/**\n * Creates a promise resolved to the return value of fn.\n * If fn sync throws, it will cause the promise to reject.\n *\n * @param {function():T} fn\n * @return {!Promise<T>}\n * @template T\n */\nexport function tryResolve(fn) {\n  return new Promise(resolve => {\n    resolve(fn());\n  });\n}\n\n/**\n * Returns a promise which resolves if a threshold amount of the given promises\n * resolve, and rejects otherwise.\n * @param {!Array<!Promise>} promises The array of promises to test.\n * @param {number} count The number of promises that must resolve for the\n *     returned promise to resolve.\n * @return {!Promise} A promise that resolves if any of the given promises\n *     resolve, and which rejects otherwise.\n */\nexport function some(promises, count = 1) {\n  return new Promise((resolve, reject) => {\n    count = Math.max(count, 0);\n    const extra = promises.length - count;\n    if (extra < 0) {\n      reject(new Error('not enough promises to resolve'));\n    }\n    if (promises.length == 0) {\n      resolve([]);\n    }\n    const values = [];\n    const reasons = [];\n\n    const onFulfilled = value => {\n      if (values.length < count) {\n        values.push(value);\n      }\n      if (values.length == count) {\n        resolve(values);\n      }\n    };\n    const onRejected = reason => {\n      if (reasons.length <= extra) {\n        reasons.push(reason);\n      }\n      if (reasons.length > extra) {\n        reject(reasons);\n      }\n    };\n    for (let i = 0; i < promises.length; i++) {\n      Promise.resolve(promises[i]).then(onFulfilled, onRejected);\n    }\n  });\n}\n\n/**\n * Resolves with the result of the last promise added.\n * @implements {IThenable}\n */\nexport class LastAddedResolver {\n  /**\n   * @param {!Array<!Promise>=} opt_promises\n   */\n  constructor(opt_promises) {\n    let resolve_, reject_;\n    /** @private @const {!Promise} */\n    this.promise_ = new Promise((resolve, reject) => {\n      resolve_ = resolve;\n      reject_ = reject;\n    });\n\n    /** @private */\n    this.resolve_ = resolve_;\n\n    /** @private */\n    this.reject_ = reject_;\n\n    /** @private */\n    this.count_ = 0;\n\n    if (opt_promises) {\n      for (let i = 0; i < opt_promises.length; i++) {\n        this.add(opt_promises[i]);\n      }\n    }\n  }\n\n  /**\n   * Add a promise to possibly be resolved.\n   * @param {!Promise} promise\n   * @return {!Promise}\n   */\n  add(promise) {\n    const countAtAdd = ++this.count_;\n    Promise.resolve(promise).then(result => {\n      if (this.count_ === countAtAdd) {\n        this.resolve_(result);\n      }\n    }, error => {\n      // Don't follow behavior of Promise.all and Promise.race error so that\n      // this will only reject when most recently added promise fails.\n      if (this.count_ === countAtAdd) {\n        this.reject_(error);\n      }\n    });\n    return this.promise_;\n  }\n\n  /** @override */\n  then(opt_resolve, opt_reject) {\n    return this.promise_.then(opt_resolve, opt_reject);\n  }\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Wraps a given callback and applies a rate limit.\n * It throttles the calls so that no consequent calls have time interval\n * smaller than the given minimal interval.\n *\n * @param {!Window} win\n * @param {function(...*)} callback\n * @param {number} minInterval the minimum time interval in millisecond\n * @return {function(...*)}\n */\nexport function throttle(win, callback, minInterval) {\n  let locker = 0;\n  let nextCallArgs = null;\n\n  /**\n   * @param {!Object} args\n   */\n  function fire(args) {\n    nextCallArgs = null;\n    // Lock the fire for minInterval milliseconds\n    locker = win.setTimeout(waiter, minInterval);\n\n    callback.apply(null, args);\n  }\n\n  /**\n   * Waiter function\n   */\n  function waiter() {\n    locker = 0;\n    // If during the period there're invocations queued up, fire once.\n    if (nextCallArgs) {\n      fire(nextCallArgs);\n    }\n  }\n\n  return function(...args) {\n    if (locker) {\n      nextCallArgs = args;\n    } else {\n      fire(args);\n    }\n  };\n}\n\n/**\n * Wraps a given callback and applies a wait timer, so that minInterval\n * milliseconds must pass since the last call before the callback is actually\n * invoked.\n *\n * @param {!Window} win\n * @param {function(...*)} callback\n * @param {number} minInterval the minimum time interval in millisecond\n * @return {function(...*)}\n */\nexport function debounce(win, callback, minInterval) {\n  let locker = 0;\n  let timestamp = 0;\n  let nextCallArgs = null;\n\n  /**\n   * @param {?Array} args\n   */\n  function fire(args) {\n    nextCallArgs = null;\n    callback.apply(null, args);\n  }\n\n  /**\n   * Wait function for debounce\n   */\n  function waiter() {\n    locker = 0;\n    const remaining = minInterval - (win.Date.now() - timestamp);\n    if (remaining > 0) {\n      locker = win.setTimeout(waiter, remaining);\n    } else {\n      fire(nextCallArgs);\n    }\n  }\n\n  return function(...args) {\n    timestamp = win.Date.now();\n    nextCallArgs = args;\n    if (!locker) {\n      locker = win.setTimeout(waiter, minInterval);\n    }\n  };\n}\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Deferred} from './promise';\nimport {map} from './object';\n\n\n/**\n * This object tracts signals and allows blocking until a signal has been\n * received.\n */\nexport class Signals {\n\n  /**\n   * Creates an instance of Signals.\n   */\n  constructor() {\n    /**\n     * A mapping from a signal name to the signal response: either time or\n     * an error.\n     * @private @const {!Object<string, (time|!Error)>}\n     */\n    this.map_ = map();\n\n    /**\n     * A mapping from a signal name to the signal promise, resolve and reject.\n     * Only allocated when promise has been requested.\n     * @private {?Object<string, {\n     *   promise: !Promise,\n     *   resolve: (function(time)|undefined),\n     *   reject: (function(!Error)|undefined)\n     * }>}\n     */\n    this.promiseMap_ = null;\n  }\n\n  /**\n   * Returns the current known value of the signal. If signal is not yet\n   * available, `null` is returned.\n   * @param {string} name\n   * @return {number|!Error|null}\n   */\n  get(name) {\n    return this.map_[name] || null;\n  }\n\n  /**\n   * Returns the promise that's resolved when the signal is triggered. The\n   * resolved value is the time of the signal.\n   * @param {string} name\n   * @return {!Promise<time>}\n   */\n  whenSignal(name) {\n    let promiseStruct = this.promiseMap_ && this.promiseMap_[name];\n    if (!promiseStruct) {\n      const result = this.map_[name];\n      if (result != null) {\n        // Immediately resolve signal.\n        const promise = typeof result == 'number' ?\n          Promise.resolve(result) :\n          Promise.reject(result);\n        promiseStruct = {promise};\n      } else {\n        // Allocate the promise/resolver for when the signal arrives in the\n        // future.\n        const deferred = new Deferred();\n        const {promise, resolve, reject} = deferred;\n\n        promiseStruct = {promise, resolve, reject};\n      }\n      if (!this.promiseMap_) {\n        this.promiseMap_ = map();\n      }\n      this.promiseMap_[name] = promiseStruct;\n    }\n    return promiseStruct.promise;\n  }\n\n  /**\n   * Triggers the signal with the specified name on the element. The time is\n   * optional; if not provided, the current time is used. The associated\n   * promise is resolved with the resulting time.\n   * @param {string} name\n   * @param {time=} opt_time\n   */\n  signal(name, opt_time) {\n    if (this.map_[name] != null) {\n      // Do not duplicate signals.\n      return;\n    }\n    const time = opt_time || Date.now();\n    this.map_[name] = time;\n    const promiseStruct = this.promiseMap_ && this.promiseMap_[name];\n    if (promiseStruct && promiseStruct.resolve) {\n      promiseStruct.resolve(time);\n      promiseStruct.resolve = undefined;\n      promiseStruct.reject = undefined;\n    }\n  }\n\n  /**\n   * Rejects the signal. Indicates that the signal will never succeed. The\n   * associated signal is rejected.\n   * @param {string} name\n   * @param {!Error} error\n   */\n  rejectSignal(name, error) {\n    if (this.map_[name] != null) {\n      // Do not duplicate signals.\n      return;\n    }\n    this.map_[name] = error;\n    const promiseStruct = this.promiseMap_ && this.promiseMap_[name];\n    if (promiseStruct && promiseStruct.reject) {\n      promiseStruct.reject(error);\n      promiseStruct.resolve = undefined;\n      promiseStruct.reject = undefined;\n    }\n  }\n\n  /**\n   * Resets all signals.\n   * @param {string} name\n   */\n  reset(name) {\n    if (this.map_[name]) {\n      delete this.map_[name];\n    }\n    // Reset promise it has already been resolved.\n    const promiseStruct = this.promiseMap_ && this.promiseMap_[name];\n    if (promiseStruct && !promiseStruct.resolve) {\n      delete this.promiseMap_[name];\n    }\n  }\n}\n","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {dev} from '../log';\nimport {once} from './function';\nimport {setStyles} from '../style';\n\n\n/**\n * @param {!Window} win\n * @param {boolean} isLiteViewer\n * @return {!Promise<boolean>}\n */\nfunction isAutoplaySupportedImpl(win, isLiteViewer) {\n  // We do not support autoplay in amp-lite viewer regardless of platform.\n  if (isLiteViewer) {\n    return Promise.resolve(false);\n  }\n\n  // To detect autoplay, we create a video element and call play on it, if\n  // `paused` is true after `play()` call, autoplay is supported. Although\n  // this is unintuitive, it works across browsers and is currently the lightest\n  // way to detect autoplay without using a data source.\n  const detectionElement = win.document.createElement('video');\n\n  // NOTE(aghassemi): We need both attributes and properties due to Chrome and\n  // Safari differences when dealing with non-attached elements.\n  detectionElement.setAttribute('muted', '');\n  detectionElement.setAttribute('playsinline', '');\n  detectionElement.setAttribute('webkit-playsinline', '');\n  detectionElement.setAttribute('height', '0');\n  detectionElement.setAttribute('width', '0');\n\n  detectionElement.muted = true;\n  detectionElement.playsinline = true;\n  detectionElement.webkitPlaysinline = true;\n\n  setStyles(detectionElement, {\n    position: 'fixed',\n    top: '0',\n    width: '0',\n    height: '0',\n    opacity: '0',\n  });\n\n  // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n  new Promise(resolve => resolve(detectionElement.play())).catch(() => {\n    // Suppress any errors, useless to report as they are expected.\n  });\n\n  return Promise.resolve(!detectionElement.paused);\n}\n\n\n/** @private {?(function(Window, boolean):!Promise<boolean>)} */\nlet isAutoplaySupported = null;\n\n/**\n * Sets if autoplay is supported.\n */\nfunction setIsAutoplaySupported() {\n  isAutoplaySupported =\n    /** @type {function(Window, boolean):!Promise<boolean>} */ (\n      once(isAutoplaySupportedImpl));\n}\n\n\n/**\n * Wrapper around static utilities for testability.\n */\nexport class VideoUtils {\n  /**\n   * Determines autoplay support.\n   *\n   * Note that even if platfrom supports autoplay, users or browsers can disable\n   * autoplay to save data / battery. This detects both platfrom support and\n   * when autoplay has been disabled by the user.\n   *\n   * @param {!Window} win\n   * @param {boolean} isLiteViewer\n   * @return {!Promise<boolean>}\n   */\n  static isAutoplaySupported(win, isLiteViewer) {\n    if (!isAutoplaySupported) {\n      setIsAutoplaySupported();\n    }\n    return isAutoplaySupported(win, isLiteViewer);\n  }\n\n  /** @visibleForTesting */\n  static resetIsAutoplaySupported() {\n    setIsAutoplaySupported();\n  }\n}\n\n/**\n * @param {!Element} element\n * @return {!Element}\n * Note: Not included in `VideoUtils` as we don't need to test a\n * static selector.\n */\nexport function getInternalVideoElementFor(element) {\n  return dev().assertElement(element.querySelector('video, iframe'));\n}\n","/**\n * Copyright 2016 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const MIN_VISIBILITY_RATIO_FOR_AUTOPLAY = 0.5;\n\n/**\n * VideoInterface defines a common video API which any AMP component that plays\n * videos is expected to implement.\n *\n * AMP runtime uses this common API to provide consistent video experience and\n * analytics across all video players.\n *\n * Components implementing this interface must also extend\n * {@link ./base-element.BaseElement} and register with the\n * Video Manager {@link ./service/video-manager-impl.VideoManager} during\n * their `builtCallback`.\n *\n * @interface\n */\nexport class VideoInterface {\n\n  /**\n   * Whether the component supports video playback in the current platform.\n   * If false, component will be not treated as a video component.\n   * @return {boolean}\n   */\n  supportsPlatform() {}\n\n  /**\n   * Whether users can interact with the video such as pausing it.\n   * Example of non-interactive videos include design background videos where\n   * all controls are hidden from the user.\n   *\n   * @return {boolean}\n   */\n  isInteractive() {}\n\n  /**\n   * Current playback time in seconds at time of trigger\n   * @return {number}\n   */\n  getCurrentTime() {}\n\n  /**\n   * Total duration of the video in seconds\n   * @return {number}\n   */\n  getDuration() {}\n\n  /**\n   * Get a 2d array of start and stop times that the user has watched.\n   * @return {!Array<Array<number>>}\n   */\n  getPlayedRanges() {}\n\n  /**\n   * Plays the video..\n   *\n   * @param {boolean} unusedIsAutoplay Whether the call to the `play` method is\n   * triggered by the autoplay functionality. Video players can use this hint\n   * to make decisions such as not playing pre-roll video ads.\n   */\n  play(unusedIsAutoplay) {}\n\n  /**\n   * Pauses the video.\n   */\n  pause() {}\n\n  /**\n   * Mutes the video.\n   */\n  mute() {}\n\n  /**\n   * Unmutes the video.\n   */\n  unmute() {}\n\n  /**\n   * Makes the video UI controls visible.\n   *\n   * AMP will not call this method if `controls` attribute is not set.\n   */\n  showControls() {}\n\n  /**\n   * Hides the video UI controls.\n   *\n   * AMP will not call this method if `controls` attribute is not set.\n   */\n  hideControls() {}\n\n  /**\n   * Returns video's meta data (artwork, title, artist, album, etc.) for use\n   * with the Media Session API\n   * artwork (Array): URL to the poster image (preferably a 512x512 PNG)\n   * title (string): Name of the video\n   * artist (string): Name of the video's author/artist\n   * album (string): Name of the video's album if it exists\n   * @return {!./mediasession-helper.MetadataDef|undefined} metadata\n   */\n  getMetadata() {}\n\n  /**\n   * If this returns true then it will be assumed that the player implements\n   * a feature to enter fullscreen on device rotation internally, so that the\n   * video manager does not override it. If not, the video manager will\n   * implement this feature automatically for videos with the attribute\n   * `rotate-to-fullscreen`.\n   *\n   * @return {boolean}\n   */\n  preimplementsAutoFullscreen() {}\n\n  /**\n   * If this returns true then it will be assumed that the player implements\n   * the MediaSession API internally so that the video manager does not override\n   * it. If not, the video manager will use the metadata variable as well as\n   * inferred meta-data to update the video's Media Session notification.\n   *\n   * @return {boolean}\n   */\n  preimplementsMediaSessionAPI() {}\n\n  /**\n   * Enables fullscreen on the internal video element\n   * NOTE: While implementing, keep in mind that Safari/iOS do not allow taking\n   * any element other than <video> to fullscreen, if the player has an internal\n   * implementation of fullscreen (flash for example) then check\n   * if Services.platformFor(this.win).isSafari is true and use the internal\n   * implementation instead. If not, it is recommended to take the iframe\n   * to fullscreen using fullscreenEnter from dom.js\n   */\n  fullscreenEnter() {}\n\n  /**\n   * Quits fullscreen mode\n   */\n  fullscreenExit() {}\n\n  /**\n   * Returns whether the video is currently in fullscreen mode or not\n   * @return {boolean}\n   */\n  isFullscreen() {}\n}\n\n\n/**\n * Attributes\n *\n * Components implementing the VideoInterface are expected to support\n * the following attributes.\n *\n * @constant {!Object<string, string>}\n */\nexport const VideoAttributes = {\n  /**\n   * autoplay\n   *\n   * Whether the developer has configured autoplay on the component.\n   * This is normally done by setting `autoplay` attribute on the component.\n   *\n   * AMP runtime manages autoplay behaviour itself using methods such as `play`,\n   * `pause`, `showControls`, `hideControls`, `mute`, etc.. therefore components\n   * should not propagate the autoplay attribute to the underlying player\n   * implementation.\n   *\n   * When a video is requested to autoplay, AMP will automatically\n   * mute and hide the controls for the video, when video is 75% visible in\n   * the viewport, AMP will play the video and later pauses it when 25%\n   * or more of the video exits the viewport. If an auto-playing video also has\n   * controls, AMP will install a tap\n   * handler on the video, and when an end-user taps the video, AMP will show\n   * the controls.\n   *\n   */\n  AUTOPLAY: 'autoplay',\n  /**\n   * dock\n   *\n   * Setting the `dock` attribute on the component makes the video minimize\n   * to the corner when scrolled out of view and has been interacted with.\n   */\n  DOCK: 'dock',\n  /**\n   * rotate-to-fullscreen\n   *\n   * If enabled, this automatically expands the currently visible video and\n   * playing to fullscreen when the user changes the device's orientation to\n   * landscape if the video was started following a user interaction\n   * (not autoplay)\n   *\n   * Dependent upon browser support of\n   * http://caniuse.com/#feat=screen-orientation\n   * and http://caniuse.com/#feat=fullscreen\n   */\n  ROTATE_TO_FULLSCREEN: 'rotate-to-fullscreen',\n  /**\n   * noaudio\n   *\n   * If set and autoplay, the equalizer icon will not be displayed.\n   */\n  NO_AUDIO: 'noaudio',\n};\n\n\n/**\n * Events\n *\n * Components implementing the VideoInterface are expected to dispatch\n * the following DOM events.\n *\n * @constant {!Object<string, string>}\n */\nexport const VideoEvents = {\n  /**\n   * registered\n   *\n   * Fired when the video player element is built and has been registered with\n   * the video manager.\n   *\n   * @event registered\n   */\n  REGISTERED: 'registered',\n\n  /**\n   * load\n   *\n   * Fired when the video player is loaded and calls to methods such as `play()`\n   * are allowed.\n   *\n   * @event load\n   */\n  LOAD: 'load',\n\n  /**\n   * playing\n   *\n   * Fired when the video begins playing.\n   *\n   * @event playing\n   */\n  PLAYING: 'playing',\n\n  /**\n   * pause\n   *\n   * Fired when the video pauses.\n   *\n   * @event pause\n   */\n  PAUSE: 'pause',\n\n  /**\n   * ended\n   *\n   * Fired when the video ends.\n   *\n   * This event should be fired in addition to `pause` when video ends.\n   *\n   * @event ended\n   */\n  ENDED: 'ended',\n\n  /**\n   * muted\n   *\n   * Fired when the video is muted.\n   *\n   * @event muted\n   */\n  MUTED: 'muted',\n\n  /**\n   * unmuted\n   *\n   * Fired when the video is unmuted.\n   *\n   * @event unmuted\n   */\n  UNMUTED: 'unmuted',\n\n  /**\n   * amp:video:visibility\n   *\n   * Fired when the video's visibility changes. Normally fired\n   * from `viewportCallback`.\n   *\n   * @event amp:video:visibility\n   * @property {boolean} visible Whether the video player is visible or not.\n   */\n  VISIBILITY: 'amp:video:visibility',\n\n  /**\n   * reload\n   *\n   * Fired when the video's src changes.\n   *\n   * @event reloaded\n   */\n  RELOAD: 'reloaded',\n\n  /**\n   * pre/mid/post Ad start\n   *\n   * Fired when an Ad starts playing.\n   *\n   * This is used to remove any overlay shims during Ad play during autoplay\n   * or minimized-to-corner version of the player.\n   *\n   * @event ad_start\n   */\n  AD_START: 'ad_start',\n\n  /**\n   * pre/mid/post Ad ends\n   *\n   * Fired when an Ad ends playing.\n   *\n   * This is used to restore any overlay shims during Ad play during autoplay\n   * or minimized-to-corner version of the player.\n   *\n   * @event ad_end\n   */\n  AD_END: 'ad_end',\n};\n\n\n/**\n * Playing States\n *\n * Internal playing states used to distinguish between video playing on user's\n * command and videos playing automatically\n *\n * @constant {!Object<string, string>}\n */\nexport const PlayingStates = {\n  /**\n   * playing_manual\n   *\n   * When the video user manually interacted with the video and the video\n   * is now playing\n   *\n   * @event playing_manual\n   */\n  PLAYING_MANUAL: 'playing_manual',\n\n  /**\n   * playing_auto\n   *\n   * When the video has autoplay and the user hasn't interacted with it yet\n   *\n   * @event playing_auto\n   */\n  PLAYING_AUTO: 'playing_auto',\n\n  /**\n   * paused\n   *\n   * When the video is paused.\n   *\n   * @event paused\n   */\n  PAUSED: 'paused',\n};\n\n\n/** @enum {string} */\nexport const VideoAnalyticsEvents = {\n  /**\n   * video-ended\n   *\n   * Indicates that a video ended.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-ended\n   */\n  ENDED: 'video-ended',\n\n  /**\n   * video-pause\n   *\n   * Indicates that a video paused.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-pause\n   */\n  PAUSE: 'video-pause',\n\n  /**\n   * video-play\n   *\n   * Indicates that a video began to play.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-play\n   */\n  PLAY: 'video-play',\n\n  /**\n   * video-session\n   *\n   * Indicates that some segment of the video played.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-session\n   */\n  SESSION: 'video-session',\n\n  /**\n   * video-session-visible\n   *\n   * Indicates that some segment of the video played in the viewport.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-session-visible\n   */\n  SESSION_VISIBLE: 'video-session-visible',\n\n  /**\n   * video-seconds-played\n   *\n   * Indicates that a video was playing when the\n   * video-seconds-played interval fired.\n   * @property {!VideoAnalyticsDetailsDef} details\n   * @event video-session-visible\n   */\n  SECONDS_PLAYED: 'video-seconds-played',\n};\n\n\n/**\n * @typedef {{\n *   autoplay: boolean,\n *   currentTime: number,\n *   duration: number,\n *   height: number,\n *   id: string,\n *   playedRangesJson: string,\n *   playedTotal: number,\n *   muted: boolean,\n *   state: string,\n *   width: number\n * }}\n */\nexport let VideoAnalyticsDetailsDef;\n\n\n/**\n * Helper union type to be used internally, so that the compiler treats\n * `VideoInterface` objects as `BaseElement`s, which they should be anyway.\n *\n * WARNING: Don't use this at the service level. Its `register` method should\n * only allow `VideoInterface` as a guarding measure.\n *\n * @typedef {!VideoInterface|!./base-element.BaseElement}\n */\nexport let VideoOrBaseElementDef;\n","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Possible versions of Shadow DOM spec\n * @const\n * @enum {string}\n */\nexport const ShadowDomVersion = {\n  NONE: 'none',\n  V0: 'v0',\n  V1: 'v1',\n};\n\n/**\n * @type {ShadowDomVersion|undefined}\n * @visibleForTesting\n */\nlet shadowDomSupportedVersion;\n\n/**\n * @type {boolean|undefined}\n * @visibleForTesting\n */\nlet shadowCssSupported;\n\n/**\n * @param {ShadowDomVersion|undefined} val\n * @visibleForTesting\n */\nexport function setShadowDomSupportedVersionForTesting(val) {\n  shadowDomSupportedVersion = val;\n}\n\n/**\n * @param {boolean|undefined} val\n * @visibleForTesting\n */\nexport function setShadowCssSupportedForTesting(val) {\n  shadowCssSupported = val;\n}\n\n/**\n * Returns `true` if the Shadow DOM is supported.\n * @return {boolean}\n */\nexport function isShadowDomSupported() {\n  return getShadowDomSupportedVersion() != ShadowDomVersion.NONE;\n}\n\n/**\n * Returns `true` if Shadow CSS encapsulation is supported.\n * @return {boolean}\n */\nexport function isShadowCssSupported() {\n  if (shadowCssSupported === undefined) {\n    shadowCssSupported = isShadowDomSupported() && (\n      isNative(Element.prototype.attachShadow) ||\n      isNative(Element.prototype.createShadowRoot)\n    );\n  }\n  return shadowCssSupported;\n}\n\n/**\n * Returns `true` if the passed function is native to the browser, and is not\n * polyfilled\n * @param {function()|undefined} func A function that is attatched to a JS\n * object.\n * @return {boolean}\n */\nfunction isNative(func) {\n  return !!func && func.toString().indexOf('[native code]') != -1;\n}\n\n/**\n * Returns the supported version of Shadow DOM spec.\n * @param {?function(new:Element)=} opt_elementClass optional for testing\n * @return {ShadowDomVersion}\n */\nexport function getShadowDomSupportedVersion(opt_elementClass) {\n  if (shadowDomSupportedVersion === undefined) {\n    shadowDomSupportedVersion =\n        getShadowDomVersion(opt_elementClass || Element);\n  }\n  return shadowDomSupportedVersion;\n}\n\n/**\n * Returns shadow dom version.\n *\n * @param {?function(new:Element)=} element\n * @return {ShadowDomVersion}\n */\nfunction getShadowDomVersion(element) {\n  if (!!element.prototype.attachShadow) {\n    return ShadowDomVersion.V1;\n  } else if (!!element.prototype.createShadowRoot) {\n    return ShadowDomVersion.V0;\n  }\n  return ShadowDomVersion.NONE;\n}\n","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n\n\n/**\n * This regex consists of 4 matching capture groups and one (non-matching) fallback:\n *\n * - (\\0), catch the null terminator character so it may be replaced by UTF\n *   Replacement Char\n * - ^(-)$, catch a solitary dash char, so that it may be backslash escaped.\n *   This is a separate capture group so that the legal-chars (group 4) doesn't\n *   capture it first, since that group doesn't need to escape its dash.\n * - ([\\x01-\\x1f\\x7f]|^-?[0-9]), catch a UTF control char, or any leading\n *   number (with an optional leading dash). The control or the number (but not\n *   the leading dash) must be hex-escaped,.\n * - ([\\x80-\\uffff0-9a-zA-Z_-]+), catch legal-chars, with the exception of a\n *   solitary dash, which will already have matched in group 1.\n * - [^], finally, a catch-all that allows us to backslash escape the char.\n *\n * Together, this matches everything necessary for CSS.escape.\n */\nvar regex = /(\\0)|^(-)$|([\\x01-\\x1f\\x7f]|^-?[0-9])|([\\x80-\\uffff0-9a-zA-Z_-]+)|[^]/g;\n\nfunction escaper(match, nil, dash, hexEscape, chars) {\n  // Chars is the legal-chars (group 4) capture\n  if (chars) {\n    return chars;\n  }\n  // Nil is the null terminator (group 1) capture\n  if (nil) {\n    return '\\uFFFD';\n  }\n  // Both UTF control chars, and leading numbers (with optional leading dash)\n  // (group 3) must be backslash escaped with a trailing space.  Funnily, the\n  // leading dash must not be escaped, but the number. :shrug:\n  if (hexEscape) {\n    return match.slice(0, -1) + '\\\\' + match.slice(-1).charCodeAt(0).toString(16) + ' '\n  }\n  // Finally, the solitary dash and the catch-all chars require backslash\n  // escaping.\n  return '\\\\' + match;\n}\n\n/**\n * https://drafts.csswg.org/cssom/#serialize-an-identifier\n * @param {string} value\n * @return {string}\n */\nexport function cssEscape(value) {\n  return String(value).replace(regex, escaper);\n}\n","/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/*\n  This is a limited shim for ShadowDOM css styling.\n  https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#styles\n\n  The intention here is to support only the styling features which can be\n  relatively simply implemented. The goal is to allow users to avoid the\n  most obvious pitfalls and do so without compromising performance significantly.\n  For ShadowDOM styling that's not covered here, a set of best practices\n  can be provided that should allow users to accomplish more complex styling.\n\n  The following is a list of specific ShadowDOM styling features and a brief\n  discussion of the approach used to shim.\n\n  Shimmed features:\n\n  * :host, :host-context: ShadowDOM allows styling of the shadowRoot's host\n  element using the :host rule. To shim this feature, the :host styles are\n  reformatted and prefixed with a given scope name and promoted to a\n  document level stylesheet.\n  For example, given a scope name of .foo, a rule like this:\n\n    :host {\n        background: red;\n      }\n    }\n\n  becomes:\n\n    .foo {\n      background: red;\n    }\n\n  * encapsultion: Styles defined within ShadowDOM, apply only to\n  dom inside the ShadowDOM. Polymer uses one of two techniques to imlement\n  this feature.\n\n  By default, rules are prefixed with the host element tag name\n  as a descendant selector. This ensures styling does not leak out of the 'top'\n  of the element's ShadowDOM. For example,\n\n  div {\n      font-weight: bold;\n    }\n\n  becomes:\n\n  x-foo div {\n      font-weight: bold;\n    }\n\n  becomes:\n\n\n  Alternatively, if WebComponents.ShadowCSS.strictStyling is set to true then\n  selectors are scoped by adding an attribute selector suffix to each\n  simple selector that contains the host element tag name. Each element\n  in the element's ShadowDOM template is also given the scope attribute.\n  Thus, these rules match only elements that have the scope attribute.\n  For example, given a scope name of x-foo, a rule like this:\n\n    div {\n      font-weight: bold;\n    }\n\n  becomes:\n\n    div[x-foo] {\n      font-weight: bold;\n    }\n\n  Note that elements that are dynamically added to a scope must have the scope\n  selector added to them manually.\n\n  * upper/lower bound encapsulation: Styles which are defined outside a\n  shadowRoot should not cross the ShadowDOM boundary and should not apply\n  inside a shadowRoot.\n\n  This styling behavior is not emulated. Some possible ways to do this that\n  were rejected due to complexity and/or performance concerns include: (1) reset\n  every possible property for every possible selector for a given scope name;\n  (2) re-implement css in javascript.\n\n  As an alternative, users should make sure to use selectors\n  specific to the scope in which they are working.\n\n  * ::distributed: This behavior is not emulated. It's often not necessary\n  to style the contents of a specific insertion point and instead, descendants\n  of the host element can be styled selectively. Users can also create an\n  extra node around an insertion point and style that node's contents\n  via descendent selectors. For example, with a shadowRoot like this:\n\n    <style>\n      ::content(div) {\n        background: red;\n      }\n    </style>\n    <content></content>\n\n  could become:\n\n    <style>\n      / *@polyfill .content-container div * /\n      ::content(div) {\n        background: red;\n      }\n    </style>\n    <div class=\"content-container\">\n      <content></content>\n    </div>\n\n  Note the use of @polyfill in the comment above a ShadowDOM specific style\n  declaration. This is a directive to the styling shim to use the selector\n  in comments in lieu of the next selector when running under polyfill.\n*/\n\nexport const ShadowCSS = {\n  strictStyling: false,\n  // change a selector like 'div' to 'name div'\n  /** @this {ShadowCSS} */\n  scopeRules: function(cssRules, scopeSelector, opt_transformer) {\n    var cssText = '';\n    if (cssRules) {\n      Array.prototype.forEach.call(cssRules, function(rule) {\n        if (rule.selectorText && (rule.style && rule.style.cssText !== undefined)) {\n          cssText += this.scopeSelector(rule.selectorText, scopeSelector,\n            this.strictStyling, opt_transformer) + ' {\\n\\t';\n          cssText += this.propertiesFromRule(rule) + '\\n}\\n\\n';\n        } else if (rule.type === CSSRule.MEDIA_RULE) {\n          cssText += '@media ' + rule.media.mediaText + ' {\\n';\n          cssText += this.scopeRules(rule.cssRules, scopeSelector);\n          cssText += '\\n}\\n\\n';\n        } else {\n          // KEYFRAMES_RULE in IE throws when we query cssText\n          // when it contains a -webkit- property.\n          // if this happens, we fallback to constructing the rule\n          // from the CSSRuleSet\n          // https://connect.microsoft.com/IE/feedbackdetail/view/955703/accessing-csstext-of-a-keyframe-rule-that-contains-a-webkit-property-via-cssom-generates-exception\n          try {\n            if (rule.cssText) {\n              cssText += rule.cssText + '\\n\\n';\n            }\n          } catch(x) {\n            if (rule.type === CSSRule.KEYFRAMES_RULE && rule.cssRules) {\n              cssText += this.ieSafeCssTextFromKeyFrameRule(rule);\n            }\n          }\n        }\n      }, this);\n    }\n    return cssText;\n  },\n  /** @this {ShadowCSS} */\n  ieSafeCssTextFromKeyFrameRule: function(rule) {\n    var cssText = '@keyframes ' + rule.name + ' {';\n    Array.prototype.forEach.call(rule.cssRules, function(rule) {\n      cssText += ' ' + rule.keyText + ' {' + rule.style.cssText + '}';\n    });\n    cssText += ' }';\n    return cssText;\n  },\n  /** @this {ShadowCSS} */\n  scopeSelector: function(selector, scopeSelector, strict, opt_transformer) {\n    var r = [], parts = selector.split(',');\n    parts.forEach(function(p) {\n      p = p.trim();\n      if (opt_transformer) {\n        p = opt_transformer(p);\n      }\n      if (this.selectorNeedsScoping(p, scopeSelector)) {\n        p = (strict && !p.match(polyfillHostNoCombinator)) ?\n            this.applyStrictSelectorScope(p, scopeSelector) :\n            this.applySelectorScope(p, scopeSelector);\n      }\n      r.push(p);\n    }, this);\n    return r.join(', ');\n  },\n  /** @this {ShadowCSS} */\n  selectorNeedsScoping: function(selector, scopeSelector) {\n    if (Array.isArray(scopeSelector)) {\n      return true;\n    }\n    var re = this.makeScopeMatcher(scopeSelector);\n    return !selector.match(re);\n  },\n  /** @this {ShadowCSS} */\n  makeScopeMatcher: function(scopeSelector) {\n    scopeSelector = scopeSelector.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]');\n    return new RegExp('^(' + scopeSelector + ')' + selectorReSuffix, 'm');\n  },\n  /** @this {ShadowCSS} */\n  applySelectorScope: function(selector, selectorScope) {\n    return Array.isArray(selectorScope) ?\n        this.applySelectorScopeList(selector, selectorScope) :\n        this.applySimpleSelectorScope(selector, selectorScope);\n  },\n  // apply an array of selectors\n  /** @this {ShadowCSS} */\n  applySelectorScopeList: function(selector, scopeSelectorList) {\n    var r = [];\n    for (var i=0, s; (s=scopeSelectorList[i]); i++) {\n      r.push(this.applySimpleSelectorScope(selector, s));\n    }\n    return r.join(', ');\n  },\n  // scope via name and [is=name]\n  /** @this {ShadowCSS} */\n  applySimpleSelectorScope: function(selector, scopeSelector) {\n    if (selector.match(polyfillHostRe)) {\n      selector = selector.replace(polyfillHostNoCombinator, scopeSelector);\n      return selector.replace(polyfillHostRe, scopeSelector + ' ');\n    } else {\n      return scopeSelector + ' ' + selector;\n    }\n  },\n  // return a selector with [name] suffix on each simple selector\n  // e.g. .foo.bar > .zot becomes .foo[name].bar[name] > .zot[name]\n  /** @this {ShadowCSS} */\n  applyStrictSelectorScope: function(selector, scopeSelector) {\n    scopeSelector = scopeSelector.replace(/\\[is=([^\\]]*)\\]/g, '$1');\n    var splits = [' ', '>', '+', '~'],\n      scoped = selector,\n      attrName = '[' + scopeSelector + ']';\n    splits.forEach(function(sep) {\n      var parts = scoped.split(sep);\n      scoped = parts.map(function(p) {\n        // remove :host since it should be unnecessary\n        var t = p.trim().replace(polyfillHostRe, '');\n        if (t && (splits.indexOf(t) < 0) && (t.indexOf(attrName) < 0)) {\n          p = t.replace(/([^:]*)(:*)(.*)/, '$1' + attrName + '$2$3');\n        }\n        return p;\n      }).join(sep);\n    });\n    return scoped;\n  },\n  /** @this {ShadowCSS} */\n  propertiesFromRule: function(rule) {\n    var cssText = rule.style.cssText;\n    // TODO(sorvell): Safari cssom incorrectly removes quotes from the content\n    // property. (https://bugs.webkit.org/show_bug.cgi?id=118045)\n    // don't replace attr rules\n    if (rule.style.content && !rule.style.content.match(/['\"]+|attr/)) {\n      cssText = cssText.replace(/content:[^;]*;/g, 'content: \\'' +\n          rule.style.content + '\\';');\n    }\n    // TODO(sorvell): we can workaround this issue here, but we need a list\n    // of troublesome properties to fix https://github.com/Polymer/platform/issues/53\n    //\n    // inherit rules can be omitted from cssText\n    // TODO(sorvell): remove when Blink bug is fixed:\n    // https://code.google.com/p/chromium/issues/detail?id=358273\n    var style = rule.style;\n    for (var i in style) {\n      if (style[i] === 'initial') {\n        cssText += i + ': initial; ';\n      }\n    }\n    return cssText;\n  }\n};\n\nvar selectorRe = /([^{]*)({[\\s\\S]*?})/gim,\n    cssCommentRe = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n    // TODO(sorvell): remove either content or comment\n    cssCommentNextSelectorRe = /\\/\\*\\s*@polyfill ([^*]*\\*+([^/*][^*]*\\*+)*\\/)([^{]*?){/gim,\n    cssContentNextSelectorRe = /polyfill-next-selector[^}]*content\\:[\\s]*?['\"](.*?)['\"][;\\s]*}([^{]*?){/gim,\n    // TODO(sorvell): remove either content or comment\n    cssCommentRuleRe = /\\/\\*\\s@polyfill-rule([^*]*\\*+([^/*][^*]*\\*+)*)\\//gim,\n    cssContentRuleRe = /(polyfill-rule)[^}]*(content\\:[\\s]*['\"](.*?)['\"])[;\\s]*[^}]*}/gim,\n    // TODO(sorvell): remove either content or comment\n    cssCommentUnscopedRuleRe = /\\/\\*\\s@polyfill-unscoped-rule([^*]*\\*+([^/*][^*]*\\*+)*)\\//gim,\n    cssContentUnscopedRuleRe = /(polyfill-unscoped-rule)[^}]*(content\\:[\\s]*['\"](.*?)['\"])[;\\s]*[^}]*}/gim,\n    cssPseudoRe = /::(x-[^\\s{,(]*)/gim,\n    cssPartRe = /::part\\(([^)]*)\\)/gim,\n    // note: :host pre-processed to -shadowcsshost.\n    polyfillHost = '-shadowcsshost',\n    // note: :host-context pre-processed to -shadowcsshostcontext.\n    polyfillHostContext = '-shadowcsscontext',\n    parenSuffix = ')(?:\\\\((' +\n        '(?:\\\\([^)(]*\\\\)|[^)(]*)+?' +\n        ')\\\\))?([^,{]*)';\n    var cssColonHostRe = new RegExp('(' + polyfillHost + parenSuffix, 'gim'),\n    cssColonHostContextRe = new RegExp('(' + polyfillHostContext + parenSuffix, 'gim'),\n    selectorReSuffix = '([>\\\\s~+\\[.,{:][\\\\s\\\\S]*)?$',\n    colonHostRe = /\\:host/gim,\n    colonHostContextRe = /\\:host-context/gim,\n    /* host name without combinator */\n    polyfillHostNoCombinator = polyfillHost + '-no-combinator',\n    polyfillHostRe = new RegExp(polyfillHost, 'gim'),\n    polyfillHostContextRe = new RegExp(polyfillHostContext, 'gim'),\n    shadowDOMSelectorsRe = [\n      />>>/g,\n      /::shadow/g,\n      /::content/g,\n      // Deprecated selectors\n      /\\/deep\\//g, // former >>>\n      /\\/shadow\\//g, // former ::shadow\n      /\\/shadow-deep\\//g, // former /deep/\n      /\\^\\^/g,     // former /shadow/\n      /\\^(?!=)/g   // former /shadow-deep/\n    ];\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9hbXAtc3RvcnktMS4wLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS1ib29rZW5kLTEuMC5jc3MuanMiLCJidWlsZC9hbXAtc3RvcnktY29uc2VudC0xLjAuY3NzLmpzIiwiYnVpbGQvYW1wLXN0b3J5LWhpbnQtMS4wLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS1pbmZvLWRpYWxvZy0xLjAuY3NzLmpzIiwiYnVpbGQvYW1wLXN0b3J5LXNoYXJlLW1lbnUtMS4wLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS1zeXN0ZW0tbGF5ZXItMS4wLmNzcy5qcyIsImJ1aWxkL2FtcC1zdG9yeS11bnN1cHBvcnRlZC1icm93c2VyLWxheWVyLTEuMC5jc3MuanMiLCJidWlsZC9hbXAtc3Rvcnktdmlld3BvcnQtd2FybmluZy1sYXllci0xLjAuY3NzLmpzIiwiYnVpbGQvdmlkZW8tYXV0b3BsYXkuY3NzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9uLXR5cGVzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2RlLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2RlZmF1bHQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvX2xvY2FsZXMvZW4tR0IuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvX2xvY2FsZXMvZW4uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvX2xvY2FsZXMvZXMtNDE5LmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2VzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2ZyLUNBLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2ZyLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2hpLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2lkLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2l0LmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2phLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL2tvLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL25sLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL25vLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3B0LUJSLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3B0LmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3J1LmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3RyLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3ZpLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3poLVRXLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL19sb2NhbGVzL3poLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1hY2Nlc3MuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LWJhc2UtbGF5ZXIuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LWNvbnNlbnQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LWN0YS1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktZ3JpZC1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktaGludC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktaW5mby1kaWFsb2cuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LXBhZ2UuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LXJlcXVlc3Qtc2VydmljZS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3Rvcnktc2hhcmUtbWVudS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3Rvcnktc2hhcmUuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LXN5c3RlbS1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3Rvcnktdmlld3BvcnQtd2FybmluZy1sYXllci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnkuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW5hbHl0aWNzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FuaW1hdGlvbi1wcmVzZXRzLXV0aWxzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FuaW1hdGlvbi1wcmVzZXRzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FuaW1hdGlvbi10eXBlcy5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbmltYXRpb24uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYXVkaW8uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYmFja2dyb3VuZC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9ib29rZW5kL2FtcC1zdG9yeS1ib29rZW5kLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2Jvb2tlbmQvYm9va2VuZC1jb21wb25lbnQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYm9va2VuZC9jb21wb25lbnRzL2FydGljbGUuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYm9va2VuZC9jb21wb25lbnRzL2Jvb2tlbmQtY29tcG9uZW50LWludGVyZmFjZS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9ib29rZW5kL2NvbXBvbmVudHMvY3RhLWxpbmsuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYm9va2VuZC9jb21wb25lbnRzL2hlYWRpbmcuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYm9va2VuZC9jb21wb25lbnRzL2xhbmRzY2FwZS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9ib29rZW5kL2NvbXBvbmVudHMvcG9ydHJhaXQuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYm9va2VuZC9jb21wb25lbnRzL3RleHQtYm94LmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2RlZmF1bHQtbWVkaWEuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvZGV2ZWxvcG1lbnQtdWkuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvZW1iZWQtbW9kZS5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9ldmVudHMuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvanNvbmxkLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2xvYWRpbmctc3Bpbm5lci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9sb2NhbGl6YXRpb24uanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvbG9nZ2luZy5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9tZWRpYS1wb29sLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL21lZGlhLXRhc2tzLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL25hdmlnYXRpb24tc3RhdGUuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvcGFnZS1hZHZhbmNlbWVudC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9wYWdlLXNjYWxpbmcuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvcGFnaW5hdGlvbi1idXR0b25zLmpzIiwiZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL3Byb2dyZXNzLWJhci5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9zaW1wbGUtdGVtcGxhdGUuanMiLCJleHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvc291cmNlcy5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC90b2FzdC5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC91dGlscy5qcyIsImV4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC92YXJpYWJsZS1zZXJ2aWNlLmpzIiwibm9kZV9tb2R1bGVzL2RvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnQvYnVpbGQvZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC5wYXRjaGVkLmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2UtcGpzL3Byb21pc2UuanMiLCJzcmMvYWN0aW9uLWNvbnN0YW50cy5qcyIsInNyYy9hbXAtZXZlbnRzLmpzIiwic3JjL2FuYWx5dGljcy5qcyIsInNyYy9jbGlwYm9hcmQuanMiLCJzcmMvY29tbW9uLXNpZ25hbHMuanMiLCJzcmMvY29uZmlnLmpzIiwic3JjL2NvbnNlbnQtc3RhdGUuanMiLCJzcmMvY29uc2VudC5qcyIsInNyYy9jb29raWVzLmpzIiwic3JjL2RvY3VtZW50LXJlYWR5LmpzIiwic3JjL2RvbS5qcyIsInNyYy9lbGVtZW50LXNlcnZpY2UuanMiLCJzcmMvZXJyb3IuanMiLCJzcmMvZXZlbnQtaGVscGVyLWxpc3Rlbi5qcyIsInNyYy9ldmVudC1oZWxwZXIuanMiLCJzcmMvZXhwZXJpbWVudHMuanMiLCJzcmMvZXhwb25lbnRpYWwtYmFja29mZi5qcyIsInNyYy9mcmllbmRseS1pZnJhbWUtZW1iZWQuanMiLCJzcmMvZ2VzdHVyZS1yZWNvZ25pemVycy5qcyIsInNyYy9nZXN0dXJlLmpzIiwic3JjL2pzb24uanMiLCJzcmMvbGF5b3V0LXJlY3QuanMiLCJzcmMvbGF5b3V0LmpzIiwic3JjL2xvZy5qcyIsInNyYy9tb2RlLW9iamVjdC5qcyIsInNyYy9tb2RlLmpzIiwic3JjL21vdGlvbi5qcyIsInNyYy9vYnNlcnZhYmxlLmpzIiwic3JjL3Bhc3MuanMiLCJzcmMvcG9seWZpbGxzLmpzIiwic3JjL3BvbHlmaWxscy9hcnJheS1pbmNsdWRlcy5qcyIsInNyYy9wb2x5ZmlsbHMvY3VzdG9tLWVsZW1lbnRzLmpzIiwic3JjL3BvbHlmaWxscy9kb2N1bWVudC1jb250YWlucy5qcyIsInNyYy9wb2x5ZmlsbHMvZG9tdG9rZW5saXN0LXRvZ2dsZS5qcyIsInNyYy9wb2x5ZmlsbHMvbWF0aC1zaWduLmpzIiwic3JjL3BvbHlmaWxscy9vYmplY3QtYXNzaWduLmpzIiwic3JjL3BvbHlmaWxscy9wcm9taXNlLmpzIiwic3JjL3JlbmRlci1kZWxheWluZy1zZXJ2aWNlcy5qcyIsInNyYy9zZXJ2aWNlLmpzIiwic3JjL3NlcnZpY2UvYWN0aW9uLWltcGwuanMiLCJzcmMvc2VydmljZS9wb3NpdGlvbi1vYnNlcnZlci9wb3NpdGlvbi1vYnNlcnZlci1pbXBsLmpzIiwic3JjL3NlcnZpY2UvcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItd29ya2VyLmpzIiwic3JjL3NlcnZpY2UvdmlkZW8tc2VydmljZS1pbnRlcmZhY2UuanMiLCJzcmMvc2VydmljZS92aWRlby1zZXJ2aWNlLXN5bmMtaW1wbC5qcyIsInNyYy9zZXJ2aWNlL3ZpZGVvL2F1dG9wbGF5LmpzIiwic3JjL3NlcnZpY2UvdmlkZW8vaW5zdGFsbC1hdXRvcGxheS1zdHlsZXMuanMiLCJzcmMvc2VydmljZXMuanMiLCJzcmMvc2hhZG93LWVtYmVkLmpzIiwic3JjL3N0YXRpYy10ZW1wbGF0ZS5qcyIsInNyYy9zdHJpbmcuanMiLCJzcmMvc3R5bGUtaW5zdGFsbGVyLmpzIiwic3JjL3N0eWxlLmpzIiwic3JjL3R5cGVzLmpzIiwic3JjL3VybC1wYXJzZS1xdWVyeS1zdHJpbmcuanMiLCJzcmMvdXJsLXRyeS1kZWNvZGUtdXJpLWNvbXBvbmVudC5qcyIsInNyYy91cmwuanMiLCJzcmMvdXRpbHMvYXJyYXkuanMiLCJzcmMvdXRpbHMvZnVuY3Rpb24uanMiLCJzcmMvdXRpbHMva2V5LWNvZGVzLmpzIiwic3JjL3V0aWxzL2xydS1jYWNoZS5qcyIsInNyYy91dGlscy9vYmplY3QuanMiLCJzcmMvdXRpbHMvcHJvbWlzZS5qcyIsInNyYy91dGlscy9yYXRlLWxpbWl0LmpzIiwic3JjL3V0aWxzL3NpZ25hbHMuanMiLCJzcmMvdXRpbHMvdmlkZW8uanMiLCJzcmMvdmlkZW8taW50ZXJmYWNlLmpzIiwic3JjL3dlYi1jb21wb25lbnRzLmpzIiwidGhpcmRfcGFydHkvY3NzLWVzY2FwZS9jc3MtZXNjYXBlLmpzIiwidGhpcmRfcGFydHkvd2ViY29tcG9uZW50c2pzL1NoYWRvd0NTUy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztBQ0FPLElBQU0sb0JBQU0sa2lrQ0FBWjs7Ozs7O0FDQUEsSUFBTSxvQkFBTSwyMXVCQUFaOzs7Ozs7QUNBQSxJQUFNLG9CQUFNLGt5TEFBWjs7Ozs7O0FDQUEsSUFBTSxvQkFBTSwrMk5BQVo7Ozs7OztBQ0FBLElBQU0sb0JBQU0sK2xmQUFaOzs7Ozs7QUNBQSxJQUFNLG9CQUFNLHM3ZEFBWjs7Ozs7O0FDQUEsSUFBTSxvQkFBTSwwd3hCQUFaOzs7Ozs7QUNBQSxJQUFNLG9CQUFNLHM1RUFBWjs7Ozs7O0FDQUEsSUFBTSxvQkFBTSwwb0VBQVo7Ozs7OztBQ0FBLElBQU0sNEJBQVUsbXZGQUFoQjs7Ozs7O1FDMk1TLGlCLEdBQUEsaUI7QUEzTWhCOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOzs7Ozs7OztBQVFPLElBQUksa0RBQUo7O0FBR1A7Ozs7Ozs7OztBQVNPLElBQUksNERBQUo7O0FBR1A7Ozs7Ozs7OztB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuNkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuZ0JBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBOzs7Ozs7Ozs7Ozs7QUFZTyxJQUFNLG9EQUFzQix1QkFBNUI7O0FBRVA7Ozs7Ozs7O0FBUU8sSUFBTSxvQ0FBYztBQUN6QixPQUFLLENBRG9CO0FBRXpCLFFBQU07QUFGbUIsQ0FBcEI7Ozs7OztBQ3RDUDs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7OztBQUlPLElBQU0sZ0NBQVk7QUFDdkIsU0FBTyxXQURnQjtBQUV2QixjQUFZLGdCQUZXO0FBR3ZCLHFCQUFtQixzQkFISSxFQUdvQjtBQUMzQztBQUNBO0FBQ0EsWUFBVSxjQU5hO0FBT3ZCLFdBQVMsYUFQYztBQVF2QixjQUFZLGdCQVJXO0FBU3ZCLFlBQVUsY0FUYTtBQVV2QixTQUFPO0FBVmdCLENBQWxCOzs7Ozs7UUNLUyxxQixHQUFBLHFCOztBQVRoQjs7QUFFQTs7Ozs7OztBQU9PLFNBQVMscUJBQVQsQ0FBK0IsTUFBL0IsRUFBdUMsU0FBdkMsRUFBa0QsUUFBbEQsRUFBNEQ7QUFDakUscUJBQVMscUJBQVQsQ0FBK0IsTUFBL0IsRUFBdUMsSUFBdkMsQ0FBNEMscUJBQWE7QUFDdkQsUUFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZDtBQUNEO0FBQ0QsY0FBVSxxQkFBVixDQUFnQyxNQUFoQyxFQUF3QyxTQUF4QyxFQUFtRCxRQUFuRDtBQUNELEdBTEQ7QUFNRCxDLENBaENEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQ3dCZ0IsbUIsR0FBQSxtQjtRQTZDQSw2QixHQUFBLDZCOztBQXREaEI7O0FBQ0E7O0FBR0E7Ozs7O0FBbkJBOzs7Ozs7Ozs7Ozs7Ozs7QUF3Qk8sU0FBUyxtQkFBVCxDQUE2QixHQUE3QixFQUFrQyxJQUFsQyxFQUF3QztBQUM3QyxNQUFJLGlCQUFpQixLQUFyQjtBQUNBLE1BQU0sTUFBTSxJQUFJLFFBQWhCOztBQUVBLE1BQU0sV0FBVyxJQUFJLGFBQUosQ0FBa0IsVUFBbEIsQ0FBakI7O0FBRUEsd0JBQVUsUUFBVixFQUFvQjtBQUNsQixnQkFBWSxPQURNO0FBRWxCLFdBQU8sQ0FGVztBQUdsQixZQUFRLENBSFU7QUFJbEIsYUFBUyxNQUpTO0FBS2xCLGNBQVUsTUFMUTtBQU1sQixlQUFXLENBTk87QUFPbEIsY0FBVSxNQVBRO0FBUWxCLGVBQVcsTUFSTztBQVNsQixrQkFBYztBQVRJLEdBQXBCOztBQVlBLFdBQVMsS0FBVCxHQUFpQixJQUFqQjtBQUNBLFdBQVMsUUFBVCxHQUFvQixJQUFwQjtBQUNBLFdBQVMsZUFBVCxHQUEyQixJQUEzQjs7QUFFQSxNQUFJLElBQUosQ0FBUyxXQUFULENBQXFCLFFBQXJCO0FBQ0EsTUFBTSxRQUFRLElBQUksV0FBSixFQUFkO0FBQ0EsUUFBTSxVQUFOLENBQWlCLFFBQWpCO0FBQ0EsTUFBSSxZQUFKLEdBQW1CLGVBQW5CO0FBQ0EsTUFBSSxZQUFKLEdBQW1CLFFBQW5CLENBQTRCLEtBQTVCO0FBQ0EsV0FBUyxpQkFBVCxDQUEyQixDQUEzQixFQUE4QixLQUFLLE1BQW5DOztBQUVBLE1BQUk7QUFDRixxQkFBaUIsSUFBSSxXQUFKLENBQWdCLE1BQWhCLENBQWpCO0FBQ0QsR0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVO0FBQ1Y7QUFDRDs7QUFFRCwwQkFBYyxRQUFkOztBQUVBLFNBQU8sY0FBUDtBQUNEOztBQUdEOzs7O0FBSU8sU0FBUyw2QkFBVCxDQUF1QyxHQUF2QyxFQUE0QztBQUNqRCxTQUFPLElBQUkscUJBQUosQ0FBMEIsTUFBMUIsQ0FBUDtBQUNEOzs7Ozs7QUN2RUQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7Ozs7QUFJTyxJQUFNLHdDQUFnQjs7QUFFM0I7OztBQUdBLFNBQU8sT0FMb0I7O0FBTzNCOzs7QUFHQSxZQUFVLFVBVmlCOztBQVkzQjs7O0FBR0EsWUFBVSxVQWZpQjs7QUFpQjNCOzs7QUFHQSxjQUFZLFlBcEJlOztBQXNCM0I7OztBQUdBLGdCQUFjLGNBekJhOztBQTJCM0I7OztBQUdBLFVBQVE7QUE5Qm1CLENBQXRCOzs7Ozs7QUNyQlA7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7Ozs7QUFPQSxJQUFNLE1BQU0sS0FBSyxVQUFMLElBQW1CLEVBQS9COztBQUVBLElBQU0sdUJBQXVCLE9BQU8sSUFBSSxzQkFBSixDQUFQLElBQXNDLFFBQXRDLEdBQzNCLElBQUksTUFBSixDQUFXLElBQUksc0JBQUosQ0FBWCxDQUQyQixHQUNlLElBQUksc0JBQUosQ0FENUM7O0FBR0EsSUFBTSxnQkFBZ0IsT0FBTyxJQUFJLGVBQUosQ0FBUCxJQUErQixRQUEvQixHQUNwQixJQUFJLE1BQUosQ0FBVyxJQUFJLGVBQUosQ0FBWCxDQURvQixHQUNlLElBQUksZUFBSixDQURyQzs7QUFHQTtBQUNPLElBQU0sc0JBQU87QUFDbEIsY0FBWSxJQUFJLGVBQUosS0FBd0IsMkJBRGxCO0FBRWxCLHVCQUFxQixJQUFJLHFCQUFKLEtBQThCLGdCQUZqQztBQUdsQix3QkFBc0Isd0JBQXdCLDBCQUg1QjtBQUlsQixPQUFLLElBQUksUUFBSixLQUFpQiw0QkFKSjtBQUtsQjs7O0FBR0EsaUJBQWUsaUJBQ1gscURBVGM7QUFVbEIsa0JBQWdCLCtCQVZFO0FBV2xCLGtCQUFnQixJQUFJLG1CQUFKLEtBQ1osMkNBWmM7QUFhbEIsWUFBVSxJQUFJLFVBQUosS0FBbUI7QUFiWCxDQUFiOztBQWdCQSxJQUFNLDBCQUFTO0FBQ3BCO0FBRG9CLENBQWY7Ozs7OztBQ2hEUDs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7QUFFQTs7OztBQUlPLElBQU0sc0RBQXVCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGNBQVksQ0FKc0I7QUFLbEMsZ0JBQWMsQ0FMb0I7QUFNbEMsd0JBQXNCLENBTlk7QUFPbEMsV0FBUztBQVB5QixDQUE3Qjs7Ozs7O1FDTVMscUIsR0FBQSxxQjtRQWtCQSwwQixHQUFBLDBCOztBQTlCaEI7O0FBR0E7O0FBRUE7Ozs7Ozs7QUFyQkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0Qk8sU0FBUyxxQkFBVCxDQUErQixNQUEvQixFQUF1QyxRQUF2QyxFQUFpRDtBQUN0RCxTQUFPLG1CQUFTLGdDQUFULENBQTBDLE1BQTFDLEVBQ0YsSUFERSxDQUNHLHlCQUFpQjtBQUNyQixRQUFJLENBQUMsYUFBTCxFQUFvQjtBQUNsQixhQUFPLElBQVA7QUFDRDtBQUNELFdBQU8sY0FBYyxrQkFBZDtBQUNILHlCQUF1QixRQURwQixDQUFQO0FBRUQsR0FQRSxDQUFQO0FBUUQ7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLDBCQUFULENBQW9DLE1BQXBDLEVBQTRDLFFBQTVDLEVBQXNEO0FBQzNELFNBQU8sbUJBQVMsZ0NBQVQsQ0FBMEMsTUFBMUMsRUFDRixJQURFLENBQ0cseUJBQWlCO0FBQ3JCLFFBQUksQ0FBQyxhQUFMLEVBQW9CO0FBQ2xCLGFBQU8sSUFBUDtBQUNEO0FBQ0QsV0FBTyxjQUFjLG1CQUFkO0FBQ0gseUJBQXVCLFFBRHBCLENBQVA7QUFFRCxHQVBFLENBQVA7QUFRRDs7Ozs7O1FDbkJlLFMsR0FBQSxTO1FBeURBLFMsR0FBQSxTOztBQTdFaEI7O0FBQ0E7O0FBS0E7O0FBR0E7Ozs7Ozs7Ozs7O0FBV08sU0FBUyxTQUFULENBQW1CLEdBQW5CLEVBQXdCLElBQXhCLEVBQThCO0FBQ25DLE1BQU0sZUFBZSw2QkFBNkIsR0FBN0IsQ0FBckI7QUFDQSxNQUFJLENBQUMsWUFBTCxFQUFtQjtBQUNqQixXQUFPLElBQVA7QUFDRDtBQUNELE1BQU0sVUFBVSxhQUFhLEtBQWIsQ0FBbUIsR0FBbkIsQ0FBaEI7QUFDQSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksUUFBUSxNQUE1QixFQUFvQyxHQUFwQyxFQUF5QztBQUN2QyxRQUFNLFNBQVMsUUFBUSxDQUFSLEVBQVcsSUFBWCxFQUFmO0FBQ0EsUUFBTSxLQUFLLE9BQU8sT0FBUCxDQUFlLEdBQWYsQ0FBWDtBQUNBLFFBQUksTUFBTSxDQUFDLENBQVgsRUFBYztBQUNaO0FBQ0Q7QUFDRCxRQUFJLGdDQUFzQixPQUFPLFNBQVAsQ0FBaUIsQ0FBakIsRUFBb0IsRUFBcEIsRUFBd0IsSUFBeEIsRUFBdEIsS0FBeUQsSUFBN0QsRUFBbUU7QUFDakUsVUFBTSxRQUFRLE9BQU8sU0FBUCxDQUFpQixLQUFLLENBQXRCLEVBQXlCLElBQXpCLEVBQWQ7QUFDQSxhQUFPLGdDQUFzQixLQUF0QixFQUE2QixLQUE3QixDQUFQO0FBQ0Q7QUFDRjtBQUNELFNBQU8sSUFBUDtBQUNEOztBQUVEOzs7Ozs7O0FBeERBOzs7Ozs7Ozs7Ozs7Ozs7O0FBK0RBLFNBQVMsNEJBQVQsQ0FBc0MsR0FBdEMsRUFBMkM7QUFDekMsTUFBSTtBQUNGLFdBQU8sSUFBSSxRQUFKLENBQWEsTUFBcEI7QUFDRCxHQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxXQUFPLEVBQVA7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJPLFNBQVMsU0FBVCxDQUFtQixHQUFuQixFQUF3QixJQUF4QixFQUE4QixLQUE5QixFQUFxQyxjQUFyQyxFQUFxRCxXQUFyRCxFQUFrRTtBQUN2RSw4QkFBNEIsR0FBNUIsRUFBaUMsV0FBakMsRUFBOEMsSUFBOUM7QUFDQSxNQUFJLGVBQWUsWUFBWSxzQkFBL0IsRUFBdUQ7QUFDckQsUUFBTSxRQUFRLElBQUksUUFBSixDQUFhLFFBQWIsQ0FBc0IsS0FBdEIsQ0FBNEIsR0FBNUIsQ0FBZDtBQUNBLFFBQUksVUFBUyxNQUFNLE1BQU0sTUFBTixHQUFlLENBQXJCLENBQWI7QUFDQSxTQUFLLElBQUksSUFBSSxNQUFNLE1BQU4sR0FBZSxDQUE1QixFQUErQixLQUFLLENBQXBDLEVBQXVDLEdBQXZDLEVBQTRDO0FBQzFDLGdCQUFTLE1BQU0sQ0FBTixJQUFXLEdBQVgsR0FBaUIsT0FBMUI7QUFDQSxtQkFBYSxHQUFiLEVBQWtCLElBQWxCLEVBQXdCLEtBQXhCLEVBQStCLGNBQS9CLEVBQStDLE9BQS9DO0FBQ0EsVUFBSSxVQUFVLEdBQVYsRUFBZSxJQUFmLEtBQXdCLEtBQTVCLEVBQW1DO0FBQ2pDO0FBQ0Q7QUFDRjtBQUNGO0FBQ0QsTUFBSSxTQUFTLFNBQWI7QUFDQSxNQUFJLGVBQWUsWUFBWSxNQUEvQixFQUF1QztBQUNyQyxhQUFTLFlBQVksTUFBckI7QUFDRDtBQUNELGVBQWEsR0FBYixFQUFrQixJQUFsQixFQUF3QixLQUF4QixFQUErQixjQUEvQixFQUErQyxNQUEvQztBQUNEOztBQUVEOzs7Ozs7Ozs7QUFTQSxTQUFTLFlBQVQsQ0FBc0IsR0FBdEIsRUFBMkIsSUFBM0IsRUFBaUMsS0FBakMsRUFBd0MsY0FBeEMsRUFBd0QsTUFBeEQsRUFBZ0U7QUFDOUQ7QUFDQTtBQUNBLE1BQUksVUFBVSxnQkFBZCxFQUFnQztBQUM5QjtBQUNBLFlBQVEsUUFBUjtBQUNBLHFCQUFpQixDQUFqQjtBQUNEO0FBQ0QsTUFBTSxTQUFTLG1CQUFtQixJQUFuQixJQUEyQixHQUEzQixHQUNYLG1CQUFtQixLQUFuQixDQURXLEdBRVgsVUFGVyxJQUdWLFNBQVMsY0FBYyxNQUF2QixHQUFnQyxFQUh0QixJQUlYLFlBSlcsR0FJSSxJQUFJLElBQUosQ0FBUyxjQUFULEVBQXlCLFdBQXpCLEVBSm5CO0FBS0EsTUFBSTtBQUNGLFFBQUksUUFBSixDQUFhLE1BQWIsR0FBc0IsTUFBdEI7QUFDRCxHQUZELENBRUUsT0FBTyxNQUFQLEVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OztBQVFBLFNBQVMsMkJBQVQsQ0FBcUMsR0FBckMsRUFBMEMsT0FBMUMsRUFBbUQsSUFBbkQsRUFBeUQ7QUFDdkQsTUFBSSxXQUFXLFFBQVEsa0JBQXZCLEVBQTJDO0FBQ3pDO0FBQ0Q7QUFDRCxNQUFJLHdCQUFjLElBQUksUUFBSixDQUFhLElBQTNCLENBQUosRUFBc0M7QUFDcEMsVUFBTSxJQUFJLEtBQUosQ0FBVSx5REFDVixJQURBLENBQU47QUFFRDs7QUFFRCxNQUFNLFVBQVUsNkJBQW1CLElBQUksUUFBSixDQUFhLElBQWhDLEVBQXNDLFFBQXRDLENBQStDLFdBQS9DLEVBQWhCO0FBQ0EsTUFBTSxRQUFRLDZCQUFtQixhQUFLLEdBQXhCLEVBQTZCLFFBQTdCLENBQXNDLFdBQXRDLEVBQWQ7QUFDQSxNQUFJLFdBQVcsS0FBWCxJQUFvQixzQkFBUyxPQUFULEVBQWtCLE1BQU0sS0FBeEIsQ0FBeEIsRUFBd0Q7QUFDdEQsVUFBTSxJQUFJLEtBQUosQ0FBVSx3REFDVixxQkFEVSxHQUNjLElBRHhCLENBQU47QUFFRDtBQUNGOzs7Ozs7UUNqSmUsZSxHQUFBLGU7UUFrQkEsZSxHQUFBLGU7UUFpQ0EsaUIsR0FBQSxpQjtRQVdBLG9CLEdBQUEsb0I7QUFwRmhCOzs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7OztBQUtPLFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QjtBQUNuQyxTQUFPLElBQUksVUFBSixJQUFrQixTQUFsQixJQUErQixJQUFJLFVBQUosSUFBa0IsZUFBeEQ7QUFDRDs7QUFFRDs7Ozs7QUFLQSxTQUFTLGtCQUFULENBQTRCLEdBQTVCLEVBQWlDO0FBQy9CLFNBQU8sSUFBSSxVQUFKLElBQWtCLFVBQXpCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxlQUFULENBQXlCLEdBQXpCLEVBQThCLFFBQTlCLEVBQXdDO0FBQzdDLGtCQUFnQixHQUFoQixFQUFxQixlQUFyQixFQUFzQyxRQUF0QztBQUNEOztBQUVEOzs7Ozs7QUFNQSxTQUFTLGVBQVQsQ0FBeUIsR0FBekIsRUFBOEIsT0FBOUIsRUFBdUMsUUFBdkMsRUFBaUQ7QUFDL0MsTUFBSSxRQUFRLFFBQVEsR0FBUixDQUFaO0FBQ0EsTUFBSSxLQUFKLEVBQVc7QUFDVCxhQUFTLEdBQVQ7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFNLGdCQUFnQixTQUFoQixhQUFnQixHQUFNO0FBQzFCLFVBQUksUUFBUSxHQUFSLENBQUosRUFBa0I7QUFDaEIsWUFBSSxDQUFDLEtBQUwsRUFBWTtBQUNWLGtCQUFRLElBQVI7QUFDQSxtQkFBUyxHQUFUO0FBQ0Q7QUFDRCxZQUFJLG1CQUFKLENBQXdCLGtCQUF4QixFQUE0QyxhQUE1QztBQUNEO0FBQ0YsS0FSRDtBQVNBLFFBQUksZ0JBQUosQ0FBcUIsa0JBQXJCLEVBQXlDLGFBQXpDO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7QUFLTyxTQUFTLGlCQUFULENBQTJCLEdBQTNCLEVBQWdDO0FBQ3JDLFNBQU8sSUFBSSxPQUFKLENBQVksbUJBQVc7QUFDNUIsb0JBQWdCLEdBQWhCLEVBQXFCLE9BQXJCO0FBQ0QsR0FGTSxDQUFQO0FBR0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxvQkFBVCxDQUE4QixHQUE5QixFQUFtQztBQUN4QyxTQUFPLElBQUksT0FBSixDQUFZLG1CQUFXO0FBQzVCLG9CQUFnQixHQUFoQixFQUFxQixrQkFBckIsRUFBeUMsT0FBekM7QUFDRCxHQUZNLENBQVA7QUFHRDs7Ozs7OztRQ3hDZSxZLEdBQUEsWTtRQWtDQSxtQixHQUFBLG1CO1FBYUEsVyxHQUFBLFc7UUFVQSxrQixHQUFBLGtCO1FBV0EsYSxHQUFBLGE7UUFXQSxjLEdBQUEsYztRQWNBLFksR0FBQSxZO1FBZUEsb0IsR0FBQSxvQjtRQVdBLHNCLEdBQUEsc0I7UUFjQSwyQixHQUFBLDJCO1FBV0EsZSxHQUFBLGU7UUF3QkEsVyxHQUFBLFc7UUFrQkEsTyxHQUFBLE87UUFpQkEsVyxHQUFBLFc7UUFpQkEsWSxHQUFBLFk7UUFnQkEsaUIsR0FBQSxpQjtRQWdCQSxPLEdBQUEsTztRQWtCQSxZLEdBQUEsWTtRQWtCQSxZLEdBQUEsWTtRQWlCQSxhLEdBQUEsYTtRQWtCQSxnQixHQUFBLGdCO1FBaUJBLFUsR0FBQSxVO1FBcUJBLG1DLEdBQUEsbUM7UUE2QkEsa0IsR0FBQSxrQjtRQVdBLHNCLEdBQUEsc0I7UUFhQSxtQixHQUFBLG1CO1FBV0EsaUIsR0FBQSxpQjtRQVdBLGtCLEdBQUEsa0I7UUFZQSxtQixHQUFBLG1CO1FBd0JBLHNCLEdBQUEsc0I7UUEwQkEsMkIsR0FBQSwyQjtRQXlCQSwwQixHQUFBLDBCO1FBa0JBLGdCLEdBQUEsZ0I7UUFrQkEscUIsR0FBQSxxQjtRQWdCQSxvQixHQUFBLG9CO1FBb0JBLGEsR0FBQSxhO1FBbUJBLGdCLEdBQUEsZ0I7UUF1QkEsZSxHQUFBLGU7UUFVQSxpQixHQUFBLGlCO1FBVUEsSyxHQUFBLEs7UUFnQkEsc0IsR0FBQSxzQjtRQVlBLG9CLEdBQUEsb0I7UUFZQSxVLEdBQUEsVTtRQW9CQSxRLEdBQUEsUTtRQWFBLFMsR0FBQSxTO1FBU0EsWSxHQUFBLFk7UUFlQSwyQixHQUFBLDJCO1FBdUJBLGUsR0FBQSxlO1FBcUJBLGMsR0FBQSxjO1FBb0NBLG1CLEdBQUEsbUI7UUF5QkEsUyxHQUFBLFM7O0FBMzNCaEI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBckJBOzs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBLElBQU0sb0JBQW9CO0FBQ3hCLE9BQUssT0FEbUI7QUFFeEIsT0FBSyxNQUZtQjtBQUd4QixPQUFLLE1BSG1CO0FBSXhCLE9BQUssUUFKbUI7QUFLeEIsT0FBSyxRQUxtQjtBQU14QixPQUFLO0FBTm1CLENBQTFCO0FBUUEsSUFBTSxvQkFBb0IsZ0JBQTFCOztBQUVBO0FBQ08sSUFBTSw4RUFDVCxlQURHOztBQUdQO0FBQ08sSUFBTSxnRkFDVCxlQURHOztBQUdQOzs7Ozs7O0FBT08sU0FBUyxZQUFULENBQXNCLE1BQXRCLEVBQThCLFNBQTlCLEVBQXlDLFFBQXpDLEVBQW1EO0FBQ3hELE1BQUksVUFBVSxNQUFWLENBQUosRUFBdUI7QUFDckI7QUFDQTtBQUNEO0FBQ0Q7QUFDQSxNQUFNLE1BQU0sa0JBQU0sT0FBTyxhQUFQLENBQXFCLFdBQTNCLENBQVo7QUFDQSxNQUFJLElBQUksZ0JBQVIsRUFBMEI7QUFDeEI7QUFDQSxRQUFNLFdBQVcsSUFBSSxJQUFJLGdCQUFSLENBQXlCLFlBQU07QUFDOUMsVUFBSSxVQUFVLE1BQVYsQ0FBSixFQUF1QjtBQUNyQixpQkFBUyxVQUFUO0FBQ0E7QUFDRDtBQUNGLEtBTGdCLENBQWpCO0FBTUEsYUFBUyxPQUFULENBQWlCLE1BQWpCLEVBQXlCLEVBQUMsV0FBVyxJQUFaLEVBQXpCO0FBQ0QsR0FURCxNQVNPO0FBQ0w7QUFDQSxRQUFNLFdBQVcsSUFBSSxXQUFKLENBQWdCLFlBQU07QUFDckMsVUFBSSxVQUFVLE1BQVYsQ0FBSixFQUF1QjtBQUNyQixZQUFJLGFBQUosQ0FBa0IsUUFBbEI7QUFDQTtBQUNEO0FBQ0YsS0FMZ0IsRUFLZCxrQkFBbUIsQ0FMTCxDQUFqQjtBQU1EO0FBQ0Y7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLG1CQUFULENBQTZCLE1BQTdCLEVBQXFDLFNBQXJDLEVBQWdEO0FBQ3JELFNBQU8sSUFBSSxPQUFKLENBQVksbUJBQVc7QUFDNUIsaUJBQWEsTUFBYixFQUFxQixTQUFyQixFQUFnQyxPQUFoQztBQUNELEdBRk0sQ0FBUDtBQUdEOztBQUVEOzs7Ozs7O0FBT08sU0FBUyxXQUFULENBQXFCLEdBQXJCLEVBQTBCLFFBQTFCLEVBQW9DO0FBQ3pDLGVBQWEsSUFBSSxlQUFqQixFQUFrQztBQUFBLFdBQU0sQ0FBQyxDQUFDLElBQUksSUFBWjtBQUFBLEdBQWxDLEVBQW9ELFFBQXBEO0FBQ0Q7O0FBR0Q7Ozs7O0FBS08sU0FBUyxrQkFBVCxDQUE0QixHQUE1QixFQUFpQztBQUN0QyxTQUFPLElBQUksT0FBSixDQUFZLG1CQUFXO0FBQzVCLGdCQUFZLEdBQVosRUFBaUIsT0FBakI7QUFDRCxHQUZNLENBQVA7QUFHRDs7QUFHRDs7OztBQUlPLFNBQVMsYUFBVCxDQUF1QixPQUF2QixFQUFnQztBQUNyQyxNQUFJLFFBQVEsYUFBWixFQUEyQjtBQUN6QixZQUFRLGFBQVIsQ0FBc0IsV0FBdEIsQ0FBa0MsT0FBbEM7QUFDRDtBQUNGOztBQUdEOzs7O0FBSU8sU0FBUyxjQUFULENBQXdCLE1BQXhCLEVBQWdDO0FBQ3JDLFNBQU8sT0FBTyxVQUFkLEVBQTBCO0FBQ3hCLFdBQU8sV0FBUCxDQUFtQixPQUFPLFVBQTFCO0FBQ0Q7QUFDRjs7QUFHRDs7Ozs7OztBQU9PLFNBQVMsWUFBVCxDQUFzQixJQUF0QixFQUE0QixFQUE1QixFQUFnQztBQUNyQyxNQUFNLE9BQU8sR0FBRyxhQUFILENBQWlCLHNCQUFqQixFQUFiO0FBQ0EsT0FBSyxJQUFJLElBQUksS0FBSyxVQUFsQixFQUE4QixDQUE5QixFQUFpQyxJQUFJLEVBQUUsV0FBdkMsRUFBb0Q7QUFDbEQsU0FBSyxXQUFMLENBQWlCLEVBQUUsU0FBRixDQUFZLElBQVosQ0FBakI7QUFDRDtBQUNELEtBQUcsV0FBSCxDQUFlLElBQWY7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsb0JBQVQsQ0FBOEIsSUFBOUIsRUFBb0MsT0FBcEMsRUFBNkMsS0FBN0MsRUFBb0Q7QUFDekQsTUFBTSxTQUFTLFFBQVEsTUFBTSxXQUFkLEdBQTRCLEtBQUssVUFBaEQ7QUFDQSxPQUFLLFlBQUwsQ0FBa0IsT0FBbEIsRUFBMkIsTUFBM0I7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxzQkFBVCxDQUFnQyxPQUFoQyxFQUF5QyxVQUF6QyxFQUFxRDtBQUMxRCxPQUFLLElBQU0sSUFBWCxJQUFtQixVQUFuQixFQUErQjtBQUM3QixZQUFRLFlBQVIsQ0FBcUIsSUFBckIsRUFBMkIsV0FBVyxJQUFYLENBQTNCO0FBQ0Q7QUFDRCxTQUFPLE9BQVA7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsMkJBQVQsQ0FBcUMsR0FBckMsRUFBMEMsT0FBMUMsRUFBbUQsVUFBbkQsRUFBK0Q7QUFDcEUsTUFBTSxVQUFVLElBQUksYUFBSixDQUFrQixPQUFsQixDQUFoQjtBQUNBLFNBQU8sdUJBQXVCLE9BQXZCLEVBQWdDLFVBQWhDLENBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxlQUFULENBQXlCLElBQXpCLEVBQStCO0FBQ3BDLE1BQU0sWUFBWSxLQUFLLFdBQXZCO0FBQ0EsTUFBSSxjQUFjLFNBQWxCLEVBQTZCO0FBQzNCLFdBQU8sU0FBUDtBQUNEOztBQUVEO0FBQ0EsTUFBSSxJQUFJLElBQVI7QUFDQSxLQUFHO0FBQ0QsUUFBSSxZQUFZLENBQVosQ0FBSjtBQUNBLFFBQUksRUFBRSxJQUFOLEVBQVk7QUFDVixVQUFJLEVBQUUsSUFBTjtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0Q7QUFDRixHQVBELFFBT1MsSUFQVDtBQVFBLFNBQU8sRUFBRSxRQUFGLEtBQWUsS0FBSyxhQUEzQjtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsV0FBVCxDQUFxQixJQUFyQixFQUEyQjtBQUNoQyxNQUFJLEtBQUssU0FBTCxDQUFlLFdBQW5CLEVBQWdDO0FBQzlCO0FBQ0EsV0FBTyxLQUFLLFdBQUwsTUFBc0IsSUFBN0I7QUFDRDtBQUNELE1BQUksVUFBSjtBQUNBLE9BQUssSUFBSSxJQUFULEVBQWUsQ0FBQyxDQUFDLEVBQUUsVUFBbkIsRUFBK0IsSUFBSSxFQUFFLFVBQXJDLEVBQWlELENBQUU7QUFDbkQsU0FBTyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUU8sU0FBUyxPQUFULENBQWlCLE9BQWpCLEVBQTBCLFFBQTFCLEVBQW9DLFVBQXBDLEVBQWdEO0FBQ3JELE9BQUssSUFBSSxLQUFLLE9BQWQsRUFBdUIsTUFBTSxPQUFPLFVBQXBDLEVBQWdELEtBQUssR0FBRyxhQUF4RCxFQUF1RTtBQUNyRSxRQUFJLFNBQVMsRUFBVCxDQUFKLEVBQWtCO0FBQ2hCLGFBQU8sRUFBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLElBQVA7QUFDRDs7QUFHRDs7Ozs7OztBQU9PLFNBQVMsV0FBVCxDQUFxQixJQUFyQixFQUEyQixRQUEzQixFQUFxQztBQUMxQyxPQUFLLElBQUksSUFBSSxJQUFiLEVBQW1CLENBQW5CLEVBQXNCLElBQUksRUFBRSxVQUE1QixFQUF3QztBQUN0QyxRQUFJLFNBQVMsQ0FBVCxDQUFKLEVBQWlCO0FBQ2YsYUFBTyxDQUFQO0FBQ0Q7QUFDRjtBQUNELFNBQU8sSUFBUDtBQUNEOztBQUdEOzs7Ozs7O0FBT08sU0FBUyxZQUFULENBQXNCLE9BQXRCLEVBQStCLE9BQS9CLEVBQXdDO0FBQzdDLE1BQUksUUFBUSxPQUFaLEVBQXFCO0FBQ25CLFdBQU8sUUFBUSxPQUFSLENBQWdCLE9BQWhCLENBQVA7QUFDRDtBQUNELFlBQVUsUUFBUSxXQUFSLEVBQVY7QUFDQSxTQUFPLFFBQVEsT0FBUixFQUFpQixjQUFNO0FBQzVCLFdBQU8sR0FBRyxPQUFILElBQWMsT0FBckI7QUFDRCxHQUZNLENBQVA7QUFHRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxpQkFBVCxDQUEyQixPQUEzQixFQUFvQyxRQUFwQyxFQUE4QztBQUNuRCxNQUFJLFFBQVEsT0FBWixFQUFxQjtBQUNuQixXQUFPLFFBQVEsT0FBUixDQUFnQixRQUFoQixDQUFQO0FBQ0Q7O0FBRUQsU0FBTyxRQUFRLE9BQVIsRUFBaUIsY0FBTTtBQUM1QixXQUFPLFFBQVEsRUFBUixFQUFZLFFBQVosQ0FBUDtBQUNELEdBRk0sQ0FBUDtBQUdEOztBQUVEOzs7Ozs7QUFNTyxTQUFTLE9BQVQsQ0FBaUIsRUFBakIsRUFBcUIsUUFBckIsRUFBK0I7QUFDcEMsTUFBTSxVQUFVLEdBQUcsT0FBSCxJQUNaLEdBQUcscUJBRFMsSUFFWixHQUFHLGtCQUZTLElBR1osR0FBRyxpQkFIUyxJQUlaLEdBQUcsZ0JBSlA7QUFLQSxNQUFJLE9BQUosRUFBYTtBQUNYLFdBQU8sUUFBUSxJQUFSLENBQWEsRUFBYixFQUFpQixRQUFqQixDQUFQO0FBQ0Q7QUFDRCxTQUFPLEtBQVAsQ0FUb0MsQ0FTdEI7QUFDZjs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxZQUFULENBQXNCLE9BQXRCLEVBQStCLE9BQS9CLEVBQXdDO0FBQzdDLE1BQUksaUJBQUo7QUFDQTtBQUNBLE1BQUksT0FBTyxRQUFRLG9CQUFmLEtBQXdDLFVBQTVDLEVBQXdEO0FBQ3RELGVBQVcsUUFBUSxvQkFBUixDQUE2QixPQUE3QixDQUFYO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsZUFBVyxTQUFRLE1BQU0sZ0JBQWQsQ0FBK0IsT0FBL0IsQ0FBWDtBQUNEO0FBQ0QsU0FBUSxZQUFZLFNBQVMsQ0FBVCxDQUFiLElBQTZCLElBQXBDO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsWUFBVCxDQUFzQixNQUF0QixFQUE4QixRQUE5QixFQUF3QztBQUM3QyxPQUFLLElBQUksUUFBUSxPQUFPLGlCQUF4QixFQUEyQyxLQUEzQyxFQUNFLFFBQVEsTUFBTSxrQkFEaEIsRUFDb0M7QUFDbEMsUUFBSSxTQUFTLEtBQVQsQ0FBSixFQUFxQjtBQUNuQixhQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0QsU0FBTyxJQUFQO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsYUFBVCxDQUF1QixNQUF2QixFQUErQixRQUEvQixFQUF5QztBQUM5QyxNQUFNLFdBQVcsRUFBakI7QUFDQSxPQUFLLElBQUksUUFBUSxPQUFPLGlCQUF4QixFQUEyQyxLQUEzQyxFQUNFLFFBQVEsTUFBTSxrQkFEaEIsRUFDb0M7QUFDbEMsUUFBSSxTQUFTLEtBQVQsQ0FBSixFQUFxQjtBQUNuQixlQUFTLElBQVQsQ0FBYyxLQUFkO0FBQ0Q7QUFDRjtBQUNELFNBQU8sUUFBUDtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLGdCQUFULENBQTBCLE1BQTFCLEVBQWtDLFFBQWxDLEVBQTRDO0FBQ2pELE9BQUssSUFBSSxRQUFRLE9BQU8sZ0JBQXhCLEVBQTBDLEtBQTFDLEVBQ0UsUUFBUSxNQUFNLHNCQURoQixFQUN3QztBQUN0QyxRQUFJLFNBQVMsS0FBVCxDQUFKLEVBQXFCO0FBQ25CLGFBQU8sS0FBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsVUFBVCxDQUFvQixNQUFwQixFQUE0QixRQUE1QixFQUFzQztBQUMzQyxNQUFNLFFBQVEsRUFBZDtBQUNBLE9BQUssSUFBSSxRQUFRLE9BQU8sVUFBeEIsRUFBb0MsS0FBcEMsRUFDRSxRQUFRLE1BQU0sV0FEaEIsRUFDNkI7QUFDM0IsUUFBSSxTQUFTLEtBQVQsQ0FBSixFQUFxQjtBQUNuQixZQUFNLElBQU4sQ0FBVyxLQUFYO0FBQ0Q7QUFDRjtBQUNELFNBQU8sS0FBUDtBQUNEOztBQUVEOzs7O0FBSUEsSUFBSSwrQkFBSjs7QUFFQTs7OztBQUlPLFNBQVMsbUNBQVQsQ0FBNkMsR0FBN0MsRUFBa0Q7QUFDdkQsMkJBQXlCLEdBQXpCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBUyx3QkFBVCxDQUFrQyxNQUFsQyxFQUEwQztBQUN4QyxNQUFNLE1BQU0sT0FBTyxhQUFuQjtBQUNBLE1BQUk7QUFDRixRQUFNLGNBQWMsSUFBSSxhQUFKLENBQWtCLEtBQWxCLENBQXBCO0FBQ0EsUUFBTSxZQUFZLElBQUksYUFBSixDQUFrQixLQUFsQixDQUFsQjtBQUNBLGdCQUFZLFdBQVosQ0FBd0IsU0FBeEI7QUFDQTtBQUNBO0FBQ0EsV0FBTyxhQUFZLE1BQU0sYUFBbEIsQ0FBZ0MsWUFBaEMsTUFBa0QsU0FBekQ7QUFDRCxHQVBELENBT0UsT0FBTyxDQUFQLEVBQVU7QUFDVixXQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEOzs7Ozs7QUFNTyxTQUFTLGtCQUFULENBQTRCLE1BQTVCLEVBQW9DLElBQXBDLEVBQTBDO0FBQy9DLFNBQU8sb0JBQW1CLE1BQW5CLENBQTBCLE1BQTFCLFVBQXdDLElBQXhDLE9BQVA7QUFDRDs7QUFHRDs7Ozs7O0FBTU8sU0FBUyxzQkFBVCxDQUFnQyxNQUFoQyxFQUF3QyxJQUF4QyxFQUE4QztBQUNuRCxTQUFPLGlCQUFpQixNQUFqQixFQUF5QixjQUFNO0FBQ3BDLFdBQU8sR0FBRyxZQUFILENBQWdCLElBQWhCLENBQVA7QUFDRCxHQUZNLENBQVA7QUFHRDs7QUFHRDs7Ozs7O0FBTU8sU0FBUyxtQkFBVCxDQUE2QixNQUE3QixFQUFxQyxJQUFyQyxFQUEyQztBQUNoRCxTQUFPLHVCQUFzQixNQUF0QixDQUE2QixNQUE3QixVQUEyQyxJQUEzQyxPQUFQO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsaUJBQVQsQ0FBMkIsTUFBM0IsRUFBbUMsT0FBbkMsRUFBNEM7QUFDakQsU0FBTyxvQkFBbUIsTUFBbkIsQ0FBMEIsTUFBMUIsU0FBdUMsT0FBdkMsQ0FBUDtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLGtCQUFULENBQTRCLE1BQTVCLEVBQW9DLE9BQXBDLEVBQTZDO0FBQ2xELFNBQU8sdUJBQXNCLE1BQXRCLENBQTZCLE1BQTdCLFNBQTBDLE9BQTFDLENBQVA7QUFDRDs7QUFHRDs7Ozs7OztBQU9PLFNBQVMsbUJBQVQsQ0FBNkIsSUFBN0IsRUFBbUMsUUFBbkMsRUFBNkM7QUFDbEQsTUFBSSwwQkFBMEIsSUFBOUIsRUFBb0M7QUFDbEMsNkJBQXlCLHlCQUF5QixJQUF6QixDQUF6QjtBQUNEO0FBQ0QsTUFBSSxzQkFBSixFQUE0QjtBQUMxQixXQUFPLE1BQUssTUFBTSxhQUFYLGFBQW1DLFFBQW5DLENBQVA7QUFDRDs7QUFFRDtBQUNBLE1BQU0sU0FBUyxrQkFBZjtBQUNBLE9BQUssU0FBTCxDQUFlLEdBQWYsQ0FBbUIsTUFBbkI7QUFDQSxNQUFNLFVBQVUsTUFBSyxNQUFNLGFBQVgsT0FBNkIsTUFBN0IsU0FBdUMsUUFBdkMsQ0FBaEI7QUFDQSxPQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLE1BQXRCO0FBQ0EsU0FBTyxPQUFQO0FBQ0Q7O0FBR0Q7Ozs7Ozs7QUFPTyxTQUFTLHNCQUFULENBQWdDLElBQWhDLEVBQXNDLFFBQXRDLEVBQWdEO0FBQ3JELE1BQUksMEJBQTBCLElBQTlCLEVBQW9DO0FBQ2xDLDZCQUF5Qix5QkFBeUIsSUFBekIsQ0FBekI7QUFDRDtBQUNELE1BQUksc0JBQUosRUFBNEI7QUFDMUIsV0FBTyxNQUFLLE1BQU0sZ0JBQVgsYUFBc0MsUUFBdEMsQ0FBUDtBQUNEOztBQUVEO0FBQ0EsTUFBTSxTQUFTLGtCQUFmO0FBQ0EsT0FBSyxTQUFMLENBQWUsR0FBZixDQUFtQixNQUFuQjtBQUNBLE1BQU0sV0FBVyxNQUFLLE1BQU0sZ0JBQVgsT0FBZ0MsTUFBaEMsU0FBMEMsUUFBMUMsQ0FBakI7QUFDQSxPQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLE1BQXRCO0FBQ0EsU0FBTyxRQUFQO0FBQ0Q7O0FBR0Q7Ozs7Ozs7OztBQVNPLFNBQVMsMkJBQVQsQ0FBcUMsT0FBckMsRUFBOEMsd0JBQTlDLEVBQ0wsZ0JBREssRUFDYTtBQUNsQixNQUFNLHVCQUF1Qiw0QkFBNkI7QUFBQSxXQUFPLEdBQVA7QUFBQSxHQUExRDtBQURrQixNQUVYLE9BRlcsR0FFQSxPQUZBLENBRVgsT0FGVzs7QUFHbEIsTUFBTSxTQUFTLG1CQUFmO0FBQ0EsTUFBTSxlQUFlLG1CQUFtQixnQkFBbkIsR0FBc0MsWUFBM0Q7QUFDQSxPQUFLLElBQU0sR0FBWCxJQUFrQixPQUFsQixFQUEyQjtBQUN6QixRQUFNLFdBQVUsSUFBSSxLQUFKLENBQVUsWUFBVixDQUFoQjtBQUNBLFFBQUksUUFBSixFQUFhO0FBQ1gsVUFBTSxRQUFRLFNBQVEsQ0FBUixFQUFXLENBQVgsRUFBYyxXQUFkLEtBQThCLFNBQVEsQ0FBUixFQUFXLE1BQVgsQ0FBa0IsQ0FBbEIsQ0FBNUM7QUFDQSxhQUFPLHFCQUFxQixLQUFyQixDQUFQLElBQXNDLFFBQVEsR0FBUixDQUF0QztBQUNEO0FBQ0Y7QUFDRCxTQUFPLE1BQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7O0FBU08sU0FBUywwQkFBVCxDQUFvQyxPQUFwQyxFQUE2QyxZQUE3QyxFQUEyRDtBQUNoRSxNQUFJLGlCQUFpQixPQUFyQjtBQUNBLEtBQUc7QUFDRCxRQUFJLGVBQWUsV0FBbkIsRUFBZ0M7QUFDOUIsYUFBTyxJQUFQO0FBQ0Q7QUFDRixHQUpELFFBSVMsQ0FBQyxpQkFBaUIsZUFBZSxVQUFqQyxLQUNDLGtCQUFrQixZQUw1QjtBQU1BLFNBQU8sS0FBUDtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLGdCQUFULENBQTBCLEtBQTFCLEVBQWlDLFNBQWpDLEVBQTRDO0FBQ2pELE1BQU0sWUFBWSxFQUFsQjtBQUNBLE9BQUssSUFBSSxXQUFXLE1BQU0sYUFBMUIsRUFBeUMsUUFBekMsRUFDRSxXQUFXLFNBQVMsYUFEdEIsRUFDcUM7QUFDbkMsUUFBSSxVQUFVLFFBQVYsQ0FBSixFQUF5QjtBQUN2QixnQkFBVSxJQUFWLENBQWUsUUFBZjtBQUNEO0FBQ0Y7QUFDRCxTQUFPLFNBQVA7QUFDRDs7QUFHRDs7Ozs7O0FBTU8sU0FBUyxxQkFBVCxDQUErQixLQUEvQixFQUFzQyxPQUF0QyxFQUErQztBQUNwRCxZQUFVLFFBQVEsV0FBUixFQUFWO0FBQ0EsU0FBTyxpQkFBaUIsS0FBakIsRUFBd0IsY0FBTTtBQUNuQyxXQUFPLEdBQUcsT0FBSCxJQUFjLE9BQXJCO0FBQ0QsR0FGTSxDQUFQO0FBR0Q7O0FBRUQ7Ozs7Ozs7OztBQVNPLFNBQVMsb0JBQVQsQ0FBOEIsUUFBOUIsRUFBd0M7QUFDN0MsTUFBSSxhQUFhLFFBQWpCLEVBQTJCO0FBQ3pCLFdBQU8sU0FBUyxPQUFULENBQWlCLFNBQWpCLENBQTJCLElBQTNCLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFNLFVBQVUsU0FBUyxhQUFULENBQXVCLHNCQUF2QixFQUFoQjtBQUNBLGlCQUFhLFFBQWIsRUFBdUIsT0FBdkI7QUFDQSxXQUFPLE9BQVA7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7O0FBVU8sU0FBUyxhQUFULENBQXVCLFFBQXZCLEVBQWlDLEVBQWpDLEVBQXFDO0FBQzFDLE9BQUssSUFBSSxJQUFJLENBQVIsRUFBVyxLQUFoQixFQUF1QixDQUFDLFFBQVEsU0FBUyxDQUFULENBQVQsTUFBMEIsU0FBakQsRUFBNEQsR0FBNUQsRUFBaUU7QUFDL0QsT0FBRyxLQUFILEVBQVUsQ0FBVjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7QUFhTyxTQUFTLGdCQUFULENBQTBCLEdBQTFCLEVBQStCLEdBQS9CLEVBQW9DLE1BQXBDLEVBQTRDLFlBQTVDLEVBQTBEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLE1BQUksWUFBSjtBQUNBLE1BQUk7QUFDRixVQUFNLElBQUksSUFBSixDQUFTLEdBQVQsRUFBYyxNQUFkLEVBQXNCLFlBQXRCLENBQU47QUFDRCxHQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDVixvQkFBTSxLQUFOLENBQVksS0FBWixFQUFtQixnQ0FBbkIsRUFBcUQsTUFBckQsRUFBNkQsQ0FBN0Q7QUFDRDs7QUFFRDtBQUNBLE1BQUksQ0FBQyxHQUFELElBQVEsVUFBVSxNQUF0QixFQUE4QjtBQUM1QixVQUFNLElBQUksSUFBSixDQUFTLEdBQVQsRUFBYyxNQUFkLENBQU47QUFDRDtBQUNELFNBQU8sR0FBUDtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsZUFBVCxDQUF5QixPQUF6QixFQUFrQztBQUN2QyxTQUFPLFFBQVEsT0FBUixJQUFtQixRQUFuQixJQUNHLFFBQVEsWUFBUixDQUFxQixNQUFyQixFQUE2QixXQUE3QixNQUE4QyxrQkFEeEQ7QUFFRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLGlCQUFULENBQTJCLE9BQTNCLEVBQW9DO0FBQ3pDLFNBQU8sUUFBUSxPQUFSLElBQW1CLFFBQW5CLElBQ0gsUUFBUSxZQUFSLENBQXFCLE1BQXJCLEVBQTZCLFdBQTdCLE1BQThDLHFCQURsRDtBQUVEOztBQUVEOzs7OztBQUtPLFNBQVMsS0FBVCxDQUFlLEdBQWYsRUFBb0I7QUFDekIsTUFBTSxNQUFNLElBQUksSUFBSixDQUFTLFlBQVQsQ0FBc0IsS0FBdEIsS0FDTSxJQUFJLGVBQUosQ0FBb0IsWUFBcEIsQ0FBaUMsS0FBakMsQ0FETixJQUVNLEtBRmxCO0FBR0EsU0FBTyxPQUFPLEtBQWQ7QUFDRDs7QUFHRDs7Ozs7Ozs7QUFRTyxTQUFTLHNCQUFULENBQWdDLEtBQWhDLEVBQXVDO0FBQzVDLFNBQU8sMEJBQVUsS0FBVixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUU8sU0FBUyxvQkFBVCxDQUE4QixLQUE5QixFQUFxQztBQUMxQyxNQUFNLFVBQVUsT0FBTyxLQUFQLENBQWhCO0FBQ0E7QUFDQSxrQkFBTSxNQUFOLENBQWEsUUFBUSxPQUFSLENBQWdCLEdBQWhCLE1BQXlCLENBQUMsQ0FBdkM7QUFDQSxTQUFPLE9BQVA7QUFDRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLFVBQVQsQ0FBb0IsSUFBcEIsRUFBMEI7QUFDL0IsTUFBSSxDQUFDLElBQUwsRUFBVztBQUNULFdBQU8sSUFBUDtBQUNEO0FBQ0QsU0FBTyxLQUFLLE9BQUwsQ0FBYSxpQkFBYixFQUFnQyxjQUFoQyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxTQUFTLGNBQVQsQ0FBd0IsQ0FBeEIsRUFBMkI7QUFDekIsU0FBTyxrQkFBa0IsQ0FBbEIsQ0FBUDtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsUUFBVCxDQUFrQixPQUFsQixFQUEyQjtBQUNoQyxNQUFJO0FBQ0YsYUFBUSxNQUFNLEtBQWQ7QUFDRCxHQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDVjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7O0FBS08sU0FBUyxTQUFULENBQW1CLEdBQW5CLEVBQXdCO0FBQzdCLFNBQU8sSUFBSSxNQUFKLElBQWMsSUFBSSxNQUFKLElBQWMsR0FBbkM7QUFDRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0I7QUFDcEMsTUFBTSxNQUFNLFFBQVEsT0FBcEI7QUFDQTtBQUNBO0FBQ0EsU0FBTyx3QkFBVyxHQUFYLEVBQWdCLE1BQWhCO0FBQ0g7QUFDQSxJQUFFLE9BQU8sMkJBQVAsSUFBc0MsT0FBTyxVQUEvQyxDQUZKO0FBR0Q7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsMkJBQVQsQ0FBcUMsT0FBckMsRUFBOEM7QUFDbkQsa0JBQU0sTUFBTixDQUFhLGFBQWEsT0FBYixDQUFiLEVBQW9DLDJCQUFwQztBQUNBLE1BQUksUUFBUSxlQUFaLEVBQTZCO0FBQzNCO0FBQ0EsV0FBTyxRQUFRLE9BQVIsQ0FBZ0IsT0FBaEIsQ0FBUDtBQUNEO0FBQ0Q7QUFDQTtBQUNBLE1BQUksQ0FBQyxRQUFRLGdDQUFSLENBQUwsRUFBZ0Q7QUFDOUMsUUFBTSxXQUFXLHVCQUFqQjtBQUNBLFlBQVEsZ0NBQVIsSUFBNEMsU0FBUyxPQUFyRDtBQUNBLFlBQVEsaUNBQVIsSUFBNkMsU0FBUyxPQUF0RDtBQUVEOztBQUVELFNBQU8sUUFBUSxnQ0FBUixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxlQUFULENBQXlCLE9BQXpCLEVBQWtDO0FBQ3ZDLE1BQU0sWUFBWSxRQUFRLGlCQUFSLElBQ2QsUUFBUSxpQkFETSxJQUVkLFFBQVEsdUJBRk0sSUFHZCxRQUFRLHVCQUhNLElBSWQsUUFBUSxxQkFKTSxJQUtkLFFBQVEscUJBTE0sSUFNZCxRQUFRLG1CQU5NLElBT2QsUUFBUSxtQkFQTSxJQVFkLFFBQVEsb0JBUk0sSUFTZCxRQUFRLG9CQVRaO0FBVUEsTUFBSSxTQUFKLEVBQWU7QUFDYixjQUFVLElBQVYsQ0FBZSxPQUFmO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7QUFLTyxTQUFTLGNBQVQsQ0FBd0IsT0FBeEIsRUFBaUM7QUFDdEMsTUFBSSxTQUFTLFFBQVEsZ0JBQVIsSUFDRyxRQUFRLGNBRFgsSUFFRyxRQUFRLGNBRlgsSUFHRyxRQUFRLG9CQUhYLElBSUcsUUFBUSxvQkFKWCxJQUtHLFFBQVEsc0JBTFgsSUFNRyxRQUFRLG1CQU5YLElBT0csUUFBUSxnQkFQeEI7QUFRQSxNQUFJLE1BQUosRUFBWTtBQUNWLFdBQU8sSUFBUCxDQUFZLE9BQVo7QUFDQTtBQUNEO0FBQ0QsTUFBSSxRQUFRLGFBQVosRUFBMkI7QUFDekIsYUFBUyxRQUFRLGFBQVIsQ0FBc0IsZ0JBQXRCLElBQ0csUUFBUSxhQUFSLENBQXNCLGNBRHpCLElBRUcsUUFBUSxhQUFSLENBQXNCLGNBRnpCLElBR0csUUFBUSxhQUFSLENBQXNCLG9CQUh6QixJQUlHLFFBQVEsYUFBUixDQUFzQixvQkFKekIsSUFLRyxRQUFRLGFBQVIsQ0FBc0Isc0JBTHpCLElBTUcsUUFBUSxhQUFSLENBQXNCLG1CQU56QixJQU9HLFFBQVEsYUFBUixDQUFzQixnQkFQbEM7QUFRRDtBQUNELE1BQUksTUFBSixFQUFZO0FBQ1YsV0FBTyxJQUFQLENBQVksUUFBUSxhQUFwQjtBQUNBO0FBQ0Q7QUFDRjs7QUFHRDs7Ozs7O0FBTU8sU0FBUyxtQkFBVCxDQUE2QixPQUE3QixFQUFzQztBQUMzQyxNQUFNLGVBQWUsUUFBUSwwQkFBN0I7QUFDQSxNQUFJLFlBQUosRUFBa0I7QUFDaEIsV0FBTyxJQUFQO0FBQ0Q7QUFDRCxNQUFJLFFBQVEsYUFBWixFQUEyQjtBQUN6QixRQUFNLG9CQUFvQixRQUFRLGFBQVIsQ0FBc0IsaUJBQXRCLElBQ2QsUUFBUSxhQUFSLENBQXNCLHVCQURSLElBRWQsUUFBUSxhQUFSLENBQXNCLG9CQUZSLElBR2QsUUFBUSw4QkFIcEI7QUFJQSxRQUFJLHFCQUFxQixPQUF6QixFQUFrQztBQUNoQyxhQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUU8sU0FBUyxTQUFULENBQW1CLE9BQW5CLEVBQTRCO0FBQ2pDLFNBQU8sRUFBRSxRQUFRLFFBQVIsSUFBb0IsUUFBUSxPQUFSLEVBQWlCLFdBQWpCLENBQXRCLENBQVA7QUFDRDs7Ozs7O1FDajJCZSxpQixHQUFBLGlCO1FBZ0JBLDRCLEdBQUEsNEI7UUFvQ0EsdUIsR0FBQSx1QjtRQWtCQSxrQyxHQUFBLGtDO1FBa0NBLDhDLEdBQUEsOEM7UUE0Q0Esc0IsR0FBQSxzQjtRQW9CQSx1QixHQUFBLHVCOztBQXBNaEI7O0lBQVksRzs7QUFDWjs7QUFVQTs7QUFDQTs7OztBQUVBOzs7Ozs7Ozs7Ozs7OztBQTlCQTs7Ozs7Ozs7Ozs7Ozs7OztBQTRDTyxTQUFTLGlCQUFULENBQTJCLEdBQTNCLEVBQWdDLEVBQWhDLEVBQW9DLFNBQXBDLEVBQStDLFdBQS9DLEVBQTREO0FBQ2pFLFNBQU8sNkJBQTZCLEdBQTdCLEVBQWtDLEVBQWxDLEVBQXNDLFNBQXRDLEVBQWlELFdBQWpELEVBQThELElBQTlELENBQ0g7QUFBQSxXQUFXLGNBQWMsT0FBZCxFQUF1QixFQUF2QixFQUEyQixTQUEzQixDQUFYO0FBQUEsR0FERyxDQUFQO0FBRUQ7O0FBRUQ7Ozs7Ozs7Ozs7O0FBV08sU0FBUyw0QkFBVCxDQUFzQyxHQUF0QyxFQUEyQyxFQUEzQyxFQUErQyxTQUEvQyxFQUEwRCxXQUExRCxFQUF1RTtBQUM1RSxNQUFNLElBQUksc0NBQXdCLEdBQXhCLEVBQTZCLEVBQTdCLENBQVY7QUFDQSxNQUFJLENBQUosRUFBTztBQUNMLFdBQU8saUNBQWtDO0FBQXpDO0FBQ0Q7QUFDRCxTQUFPLCtCQUErQixHQUEvQixFQUFvQyxFQUFwQyxFQUF3QyxTQUF4QyxFQUFtRCxXQUFuRCxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBUyxrQkFBVCxDQUE0QixHQUE1QixFQUFpQyxXQUFqQyxFQUE4QztBQUM1QztBQUNBLE1BQUksQ0FBQyxJQUFJLG1CQUFULEVBQThCO0FBQzVCLFdBQU8sS0FBUDtBQUNEO0FBQ0QsU0FBTyxDQUFDLENBQUMsSUFBSSxtQkFBSixDQUF3QixXQUF4QixDQUFUO0FBQ0Q7O0FBR0Q7Ozs7Ozs7Ozs7Ozs7O0FBY08sU0FBUyx1QkFBVCxDQUFpQyxlQUFqQyxFQUFrRCxFQUFsRCxFQUFzRCxTQUF0RCxFQUNMLFdBREssRUFDUTtBQUNiLFNBQU8sbUNBQ0gsZUFERyxFQUNjLEVBRGQsRUFDa0IsU0FEbEIsRUFDNkIsV0FEN0IsRUFFRixJQUZFLENBRUc7QUFBQSxXQUFXLGNBQWMsT0FBZCxFQUF1QixFQUF2QixFQUEyQixTQUEzQixDQUFYO0FBQUEsR0FGSCxDQUFQO0FBR0Q7O0FBRUQ7Ozs7Ozs7Ozs7O0FBV08sU0FBUyxrQ0FBVCxDQUNMLGVBREssRUFDWSxFQURaLEVBQ2dCLFNBRGhCLEVBQzJCLFdBRDNCLEVBQ3dDO0FBQzdDLE1BQU0sU0FBUyx3QkFBVSxlQUFWLENBQWY7QUFDQSxNQUFNLElBQUksNENBQThCLGVBQTlCLEVBQStDLEVBQS9DLENBQVY7QUFDQSxNQUFJLENBQUosRUFBTztBQUNMLFdBQU8saUNBQWtDO0FBQXpDO0FBQ0Q7O0FBRUQsU0FBTyxPQUFPLGlCQUFQLEdBQ0YsSUFERSxDQUNHO0FBQUEsV0FBTSwwQkFDUixPQUFPLEdBREMsRUFDSSxTQURKLEVBRVIsT0FBTyxXQUFQLEVBRlEsQ0FBTjtBQUFBLEdBREgsRUFJRixJQUpFLENBSUcsWUFBTTtBQUNWO0FBQ0E7QUFDQSxRQUFJLFdBQUosRUFBaUI7QUFDZixhQUFPLDRDQUE4QixlQUE5QixFQUErQyxFQUEvQyxDQUFQO0FBQ0QsS0FGRCxNQUVPLElBQUksbUJBQW1CLE9BQU8sR0FBMUIsRUFBK0IsU0FBL0IsQ0FBSixFQUErQztBQUNwRCxhQUFPLHNDQUF3QixlQUF4QixFQUF5QyxFQUF6QyxDQUFQO0FBQ0Q7QUFDRCxXQUFPLElBQVA7QUFDRCxHQWJFLENBQVA7QUFjRDs7QUFFRDs7Ozs7Ozs7OztBQVVPLFNBQVMsOENBQVQsQ0FDTCxlQURLLEVBQ1ksRUFEWixFQUNnQixTQURoQixFQUMyQjtBQUNoQyxNQUFNLElBQUksbURBQXFDLGVBQXJDLEVBQXNELEVBQXRELENBQVY7QUFDQSxNQUFJLENBQUosRUFBTztBQUNMLFdBQU8saUNBQWtDLFFBQVEsT0FBUixDQUFnQixDQUFoQjtBQUF6QztBQUNEO0FBQ0Q7QUFDQSxNQUFJLGdCQUFnQixRQUFwQixFQUE4QjtBQUM1QixRQUFNLE1BQU0sa0JBQU0sZ0JBQWdCLGFBQWhCLENBQThCLFdBQXBDLENBQVo7QUFDQSxRQUFNLFNBQVMsMkJBQWEsR0FBYixDQUFmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBSSxRQUFRLE1BQVosRUFBb0I7QUFDbEIsYUFBTywrQkFBK0IsR0FBL0IsRUFBb0MsRUFBcEMsRUFBd0MsU0FBeEMsQ0FBUDtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0EsYUFBTyxtQ0FBbUMsZUFBbkMsRUFBb0QsRUFBcEQsRUFBd0QsU0FBeEQsQ0FBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLGlDQUFrQyxRQUFRLE9BQVIsQ0FBZ0IsSUFBaEI7QUFBekM7QUFDRDs7QUFFRDs7Ozs7Ozs7QUFRQSxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsRUFBZ0MsRUFBaEMsRUFBb0MsU0FBcEMsRUFBK0M7QUFDN0MsU0FBTyx1QkFBd0IsaUJBQU8sTUFBUCxDQUFjLE9BQWQsRUFDM0IseURBQ0Esd0RBREEsR0FFQSx1REFIMkIsRUFJM0IsRUFKMkIsRUFJdkIsU0FKdUIsRUFJWixTQUpZLEVBSUQsU0FKQztBQUEvQjtBQUtEOztBQUVEOzs7OztBQUtPLFNBQVMsc0JBQVQsQ0FBZ0MsSUFBaEMsRUFBc0M7QUFDM0M7QUFDQSxNQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1QsV0FBTyxFQUFQO0FBQ0Q7QUFDRCxNQUFNLFVBQVUsRUFBaEI7QUFDQSxNQUFNLE9BQU8sS0FBSyxnQkFBTCxDQUFzQix3QkFBdEIsQ0FBYjtBQUNBLE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLE1BQXpCLEVBQWlDLEdBQWpDLEVBQXNDO0FBQ3BDLFlBQVEsSUFBUixDQUFhLEtBQUssQ0FBTCxFQUFRLFlBQVIsQ0FBcUIsZ0JBQXJCLENBQWI7QUFDRDtBQUNELFNBQU8sT0FBUDtBQUNEOztBQUVEOzs7Ozs7O0FBT08sU0FBUyx1QkFBVCxDQUFpQyxNQUFqQyxFQUF5QyxXQUF6QyxFQUFzRDtBQUMzRCxTQUFPLE9BQU8saUJBQVAsR0FDRixJQURFLENBQ0csWUFBTTtBQUNWLFdBQU8sc0JBQ0gsT0FBTyxXQUFQLEVBREcsRUFDbUIsV0FEbkIsQ0FBUDtBQUVELEdBSkUsQ0FBUDtBQUtEOztBQUVEOzs7Ozs7O0FBT0EsU0FBUyxxQkFBVCxDQUErQixJQUEvQixFQUFxQyxXQUFyQyxFQUFrRDtBQUNoRCxTQUFPLHVCQUF1QixJQUF2QixFQUE2QixRQUE3QixDQUFzQyxXQUF0QyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBUyx5QkFBVCxDQUFtQyxHQUFuQyxFQUF3QyxTQUF4QyxFQUFtRCxJQUFuRCxFQUF5RDtBQUN2RDs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0EsTUFBSSxDQUFDLHNCQUFzQixJQUF0QixFQUE0QixTQUE1QixDQUFMLEVBQTZDO0FBQzNDLFdBQU8sUUFBUSxPQUFSLEVBQVA7QUFDRDs7QUFFRCxNQUFNLGFBQWEseUJBQVcsR0FBWCxFQUFnQixZQUFoQixDQUFuQjtBQUNBLFNBQU8saUNBQ0wsV0FBVyxnQkFBWCxDQUE0QixHQUE1QixFQUFpQyxTQUFqQztBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQSxTQUFTLDhCQUFULENBQXdDLEdBQXhDLEVBQTZDLEVBQTdDLEVBQWlELFNBQWpELEVBQTRELFdBQTVELEVBQXlFO0FBQ3ZFLFNBQU8sSUFBSSxrQkFBSixDQUF1QixJQUFJLFFBQTNCLEVBQ0YsSUFERSxDQUNHO0FBQUEsV0FBTSwwQkFBMEIsR0FBMUIsRUFBK0IsU0FBL0IsRUFBMEMsSUFBSSxRQUFKLENBQWEsSUFBdkQsQ0FBTjtBQUFBLEdBREgsRUFFRixJQUZFLENBRUcsWUFBTTtBQUNWO0FBQ0E7QUFDQSxRQUFJLFdBQUosRUFBaUI7QUFDZixhQUFPLHNDQUF3QixHQUF4QixFQUE2QixFQUE3QixDQUFQO0FBQ0QsS0FGRCxNQUVPLElBQUksbUJBQW1CLEdBQW5CLEVBQXdCLFNBQXhCLENBQUosRUFBd0M7QUFDN0MsYUFBTyxnQ0FBa0IsR0FBbEIsRUFBdUIsRUFBdkIsQ0FBUDtBQUNEO0FBQ0QsV0FBTyxJQUFQO0FBQ0QsR0FYRSxDQUFQO0FBWUQ7Ozs7OztRQzVKZSxpQixHQUFBLGlCO1FBbUJBLFcsR0FBQSxXO1FBMkVBLFksR0FBQSxZO1FBUUEsYyxHQUFBLGM7UUFpQkEscUIsR0FBQSxxQjtRQVFBLGtCLEdBQUEsa0I7UUFrQkEscUIsR0FBQSxxQjtRQXVFQSx3QixHQUFBLHdCO1FBcUNBLGtCLEdBQUEsa0I7UUE4SkEsYyxHQUFBLGM7UUFhQSx1QyxHQUFBLHVDO1FBWUEsdUIsR0FBQSx1QjtRQThDQSxzQixHQUFBLHNCOztBQS9rQmhCOztBQUNBOztBQUNBOztBQU9BOztBQUNBOztBQUNBOztBQUVBOztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7QUFHQSxJQUFNLFlBQVksV0FBbEI7O0FBRUE7OztBQTVDQTs7Ozs7Ozs7Ozs7Ozs7OztBQStDQSxJQUFNLG1CQUFtQixrQkFBekI7O0FBR0E7Ozs7O0FBS0EsSUFBTSwwQ0FBMEMsS0FBaEQ7O0FBRUE7Ozs7O0FBS0EsSUFBTSxnQ0FBZ0MsR0FBdEM7O0FBR0E7Ozs7QUFJQSxJQUFJLDJCQUEyQixLQUFLLFNBQUwsSUFBa0IsRUFBakQ7QUFDQTtBQUNBLEtBQUssU0FBTCxHQUFpQix3QkFBakI7O0FBRUE7Ozs7Ozs7O0FBUUEsU0FBUyxTQUFULENBQW1CLEtBQW5CLEVBQTBCLE9BQTFCLEVBQW1DLEtBQW5DLEVBQTBDO0FBQ3hDLE1BQUksTUFBTSxNQUFOLElBQWdCLEtBQXBCLEVBQTJCO0FBQ3pCLFVBQU0sTUFBTixDQUFhLENBQWIsRUFBZ0IsTUFBTSxNQUFOLEdBQWUsS0FBZixHQUF1QixDQUF2QztBQUNEO0FBQ0QsUUFBTSxJQUFOLENBQVcsT0FBWDtBQUNEOztBQUVEOzs7Ozs7QUFNQSxJQUFJLG9CQUFtQiwwQkFBUyxJQUFULEVBQWU7QUFDcEM7QUFDQSxzQkFBbUIsNENBQW1CLEdBQW5CLENBQW5CO0FBQ0EsU0FBTyxrQkFBaUIsSUFBakIsQ0FBUDtBQUNELENBSkQ7O0FBTUE7Ozs7O0FBS0EsU0FBUyxnQkFBVCxDQUEwQixLQUExQixFQUFpQztBQUMvQixNQUFJO0FBQ0Y7QUFDQSxXQUFPLEtBQUssU0FBTCxFQUFlLDBCQUE0QixLQUEzQyxDQUFQO0FBQ0QsR0FIRCxDQUdFLE9BQU8sQ0FBUCxFQUFVO0FBQ1YsV0FBTyxPQUFPLEtBQVAsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7O0FBS0EsSUFBSSx5QkFBSjs7QUFFQTs7Ozs7QUFLTyxTQUFTLGlCQUFULENBQTJCLEdBQTNCLEVBQWdDLEtBQWhDLEVBQXVDLHFCQUF2QyxFQUE4RDtBQUNuRSxjQUFZLEtBQVosRUFBbUIscUJBQW5CO0FBQ0EsTUFBSSxTQUFTLENBQUMsQ0FBQyxHQUFYLElBQWtCLDZCQUFtQixNQUFNLE9BQXpCLENBQWxCLElBQ0csQ0FBQywyQkFBaUIsTUFBTSxPQUF2QixDQURSLEVBQ3lDO0FBQ3ZDLDRCQUF1QixxQkFBc0IsS0FBN0MsRUFBcUQsR0FBckQ7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7OztBQVdPLFNBQVMsV0FBVCxDQUFxQixLQUFyQixFQUE0QixxQkFBNUIsRUFBbUQ7QUFDeEQsTUFBSTtBQUNGO0FBQ0EsUUFBSSxxQkFBSjtBQUNBLFFBQUksS0FBSixFQUFXO0FBQ1QsVUFBSSxNQUFNLE9BQU4sS0FBa0IsU0FBdEIsRUFBaUM7QUFDL0IsZ0JBQVEscUNBQTBCLHFCQUFzQixLQUFoRCxDQUFSO0FBQ0EsdUJBQWUsSUFBZjtBQUNELE9BSEQsTUFHTztBQUNMLFlBQU0sWUFBWSxLQUFsQjtBQUNBLGdCQUFRLElBQUksS0FBSixDQUFVLGlCQUFpQixTQUFqQixDQUFWLENBQVI7QUFDQSxjQUFNLFNBQU4sR0FBa0IsU0FBbEI7QUFDRDtBQUNGLEtBVEQsTUFTTztBQUNMLGNBQVEsSUFBSSxLQUFKLENBQVUsZUFBVixDQUFSO0FBQ0Q7QUFDRDtBQUNBLFFBQUksQ0FBQyxZQUFELElBQWlCLHFCQUFVLFFBQTNCLElBQXVDLENBQUMscUJBQVUsSUFBdEQsRUFBNEQ7QUFDMUQsaUJBQVcsWUFBVztBQUNwQixZQUFNLFVBQVUsSUFBSSxLQUFKLENBQ1osNENBQTRDLEtBRGhDLENBQWhCO0FBRUEsY0FBTSxPQUFOO0FBQ0QsT0FKRDtBQUtEOztBQUVELFFBQUksTUFBTSxRQUFWLEVBQW9CO0FBQ2xCLGFBQU8sc0JBQXVCO0FBQTlCO0FBQ0Q7QUFDRCxVQUFNLFFBQU4sR0FBaUIsSUFBakI7O0FBRUE7QUFDQSxRQUFNLFVBQVUseUJBQXlCLE1BQU0saUJBQS9DO0FBQ0EsUUFBSSxXQUFXLFFBQVEsU0FBdkIsRUFBa0M7QUFDaEMsY0FBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLGlCQUF0QjtBQUNBLFVBQUkscUJBQVUsV0FBZCxFQUEyQjtBQUN6QixnQkFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLHlCQUF0QjtBQUNBLGdCQUFRLFlBQVIsQ0FBcUIsZUFBckIsRUFBc0MsTUFBTSxPQUE1QztBQUNEO0FBQ0Y7O0FBRUQ7QUFDQSxRQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNoQixVQUFNLFNBQVUsUUFBUSxLQUFSLElBQWlCLFFBQVEsR0FBekM7QUFDQSxVQUFJLE1BQU0sWUFBVixFQUF3QjtBQUN0QixlQUFPLEtBQVAsQ0FBYSxPQUFiLEVBQXNCLE1BQU0sWUFBNUI7QUFDRCxPQUZELE1BRU87QUFDTCxZQUFJLE9BQUosRUFBYTtBQUNYLGlCQUFPLElBQVAsQ0FBWSxPQUFaLEVBQXFCLE1BQU0sT0FBM0IsRUFBb0MsT0FBcEM7QUFDRCxTQUZELE1BRU8sSUFBSSxDQUFDLHFCQUFVLFFBQWYsRUFBeUI7QUFDOUIsaUJBQU8sSUFBUCxDQUFZLE9BQVosRUFBcUIsTUFBTSxLQUEzQjtBQUNELFNBRk0sTUFFQTtBQUNMLGlCQUFPLElBQVAsQ0FBWSxPQUFaLEVBQXFCLE1BQU0sT0FBM0I7QUFDRDtBQUNGO0FBQ0Y7QUFDRCxRQUFJLFdBQVcsUUFBUSw2QkFBdkIsRUFBc0Q7QUFDcEQsY0FBUSw2QkFBUixDQUFzQyxxQkFBVSxLQUFoRCxFQUF1RCxNQUFNLE9BQTdEO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBLHdCQUFvQixNQUFwQixFQUE0QixTQUE1QixFQUF1QyxTQUF2QyxFQUFrRCxTQUFsRCxFQUE2RCxTQUE3RCxFQUNJLFNBREosRUFDZSxLQURmO0FBRUQsR0E5REQsQ0E4REUsT0FBTyxtQkFBUCxFQUE0QjtBQUM1QixlQUFXLFlBQVc7QUFDcEIsWUFBTSxtQkFBTjtBQUNELEtBRkQ7QUFHRDtBQUNELFNBQU8sc0JBQXVCO0FBQTlCO0FBQ0Q7O0FBRUQ7Ozs7QUFJTyxTQUFTLFlBQVQsR0FBd0I7QUFDN0IsU0FBTyxJQUFJLEtBQUosQ0FBVSxTQUFWLENBQVA7QUFDRDs7QUFFRDs7OztBQUlPLFNBQVMsY0FBVCxDQUF3QixjQUF4QixFQUF3QztBQUM3QyxNQUFJLENBQUMsY0FBTCxFQUFxQjtBQUNuQixXQUFPLEtBQVA7QUFDRDtBQUNELE1BQUksT0FBTyxjQUFQLElBQXlCLFFBQTdCLEVBQXVDO0FBQ3JDLFdBQU8sd0JBQVcsY0FBWCxFQUEyQixTQUEzQixDQUFQO0FBQ0Q7QUFDRCxNQUFJLE9BQU8sZUFBZSxPQUF0QixJQUFpQyxRQUFyQyxFQUErQztBQUM3QyxXQUFPLHdCQUFXLGVBQWUsT0FBMUIsRUFBbUMsU0FBbkMsQ0FBUDtBQUNEO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJTyxTQUFTLHFCQUFULEdBQWlDO0FBQ3RDLFNBQU8sSUFBSSxLQUFKLENBQVUsZ0JBQVYsQ0FBUDtBQUNEOztBQUVEOzs7O0FBSU8sU0FBUyxrQkFBVCxDQUE0QixjQUE1QixFQUE0QztBQUNqRCxNQUFJLENBQUMsY0FBTCxFQUFxQjtBQUNuQixXQUFPLEtBQVA7QUFDRDtBQUNELE1BQUksT0FBTyxjQUFQLElBQXlCLFFBQTdCLEVBQXVDO0FBQ3JDLFdBQU8sd0JBQVcsY0FBWCxFQUEyQixnQkFBM0IsQ0FBUDtBQUNEO0FBQ0QsTUFBSSxPQUFPLGVBQWUsT0FBdEIsSUFBaUMsUUFBckMsRUFBK0M7QUFDN0MsV0FBTyx3QkFBVyxlQUFlLE9BQTFCLEVBQW1DLGdCQUFuQyxDQUFQO0FBQ0Q7QUFDRCxTQUFPLEtBQVA7QUFDRDs7QUFHRDs7OztBQUlPLFNBQVMscUJBQVQsQ0FBK0IsR0FBL0IsRUFBb0M7QUFDekMsTUFBSSxPQUFKLEdBQWMsd0JBQTBCLG1CQUF4QztBQUNBLE1BQUksZ0JBQUosQ0FBcUIsb0JBQXJCLEVBQTJDLGlCQUFTO0FBQ2xELFFBQUksTUFBTSxNQUFOLEtBQ0QsTUFBTSxNQUFOLENBQWEsT0FBYixLQUF5QixTQUF6QixJQUNELE1BQU0sTUFBTixDQUFhLE9BQWIsS0FBeUIsZ0JBRnZCLENBQUosRUFFOEM7QUFDNUMsWUFBTSxjQUFOO0FBQ0E7QUFDRDtBQUNELGdCQUFZLE1BQU0sTUFBTixJQUFnQixJQUFJLEtBQUosQ0FBVSxzQkFBc0IsS0FBaEMsQ0FBNUI7QUFDRCxHQVJEO0FBU0Q7O0FBRUQ7Ozs7Ozs7OztBQVNBLFNBQVMsbUJBQVQsQ0FBNkIsT0FBN0IsRUFBc0MsUUFBdEMsRUFBZ0QsSUFBaEQsRUFBc0QsR0FBdEQsRUFBMkQsS0FBM0QsRUFBa0U7QUFDaEU7QUFDQSxNQUFJLFFBQVEsS0FBSyxRQUFqQixFQUEyQjtBQUN6Qix5Q0FBZ0IsS0FBSyxRQUFyQjtBQUNEO0FBQ0QsTUFBSSxxQkFBVSxRQUFWLElBQXNCLHFCQUFVLFdBQWhDLElBQStDLHFCQUFVLElBQTdELEVBQW1FO0FBQ2pFO0FBQ0Q7QUFDRCxNQUFJLGNBQWMsS0FBbEI7QUFDQSxNQUFJO0FBQ0Ysa0JBQWMsZUFBZSxJQUFmLENBQWQ7QUFDRCxHQUZELENBRUUsT0FBTyxNQUFQLEVBQWU7QUFDZjtBQUNEO0FBQ0QsTUFBSSxlQUFlLEtBQUssTUFBTCxLQUFnQixJQUFuQyxFQUF5QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNEO0FBQ0QsTUFBTSxPQUFPLG1CQUFtQixPQUFuQixFQUE0QixRQUE1QixFQUFzQyxJQUF0QyxFQUE0QyxHQUE1QyxFQUFpRCxLQUFqRCxFQUNULFdBRFMsQ0FBYjtBQUVBLE1BQUksSUFBSixFQUFVO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsNkJBQXlCLElBQXpCLEVBQStCLElBQS9CO0FBQ0Esc0JBQWlCLFlBQU07QUFDckIsVUFBTSxNQUFNLElBQUksY0FBSixFQUFaO0FBQ0EsVUFBSSxJQUFKLENBQVMsTUFBVCxFQUFpQixhQUFLLGNBQXRCLEVBQXNDLElBQXRDO0FBQ0EsVUFBSSxJQUFKLENBQVMsS0FBSyxTQUFMLENBQWUsSUFBZixDQUFUO0FBQ0QsS0FKRDtBQUtEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7O0FBY08sU0FBUyx3QkFBVCxDQUFrQyxHQUFsQyxFQUF1QyxJQUF2QyxFQUE2QztBQUNsRCxNQUFNLGdCQUFnQixtQkFBUyxnQkFBVCxDQUEwQixHQUExQixDQUF0QjtBQUNBLE1BQUksQ0FBQyxjQUFjLFdBQWQsRUFBTCxFQUFrQztBQUNoQyxXQUFPLFFBQVEsT0FBUixDQUFnQixLQUFoQixDQUFQO0FBQ0Q7QUFDRCxNQUFNLGVBQWUsY0FBYyxTQUFkLEVBQXJCO0FBQ0EsTUFBTSxjQUFjLGFBQWEsV0FBYixHQUEyQixlQUEvQztBQUNBLE1BQU0sYUFBYSxZQUFZLFlBQVosQ0FBeUIseUJBQXpCLENBQW5CO0FBQ0EsTUFBSSxDQUFDLFVBQUwsRUFBaUI7QUFDZixXQUFPLFFBQVEsT0FBUixDQUFnQixLQUFoQixDQUFQO0FBQ0Q7O0FBRUQsTUFBTSxTQUFTLG1CQUFTLFlBQVQsQ0FBc0IsWUFBdEIsQ0FBZjtBQUNBLE1BQUksQ0FBQyxPQUFPLGFBQVAsQ0FBcUIsZUFBckIsQ0FBTCxFQUE0QztBQUMxQyxXQUFPLFFBQVEsT0FBUixDQUFnQixLQUFoQixDQUFQO0FBQ0Q7O0FBRUQsU0FBTyxPQUFPLGVBQVAsR0FBeUIsSUFBekIsQ0FBOEIseUJBQWlCO0FBQ3BELFFBQUksQ0FBQyxhQUFMLEVBQW9CO0FBQ2xCLGFBQU8sS0FBUDtBQUNEO0FBQ0QsV0FBTyxXQUFQLENBQW1CLE9BQW5CLEVBQTRCLElBQTVCO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsR0FOTSxDQUFQO0FBT0Q7O0FBRUQ7Ozs7Ozs7Ozs7O0FBV08sU0FBUyxrQkFBVCxDQUE0QixPQUE1QixFQUFxQyxRQUFyQyxFQUErQyxJQUEvQyxFQUFxRCxHQUFyRCxFQUEwRCxLQUExRCxFQUNMLFdBREssRUFDUTtBQUNiLE1BQUksV0FBVyxLQUFmO0FBQ0EsTUFBSSxLQUFKLEVBQVc7QUFDVCxRQUFJLE1BQU0sT0FBVixFQUFtQjtBQUNqQixnQkFBVSxNQUFNLE9BQWhCO0FBQ0QsS0FGRCxNQUVPO0FBQ0w7QUFDQSxnQkFBVSxPQUFPLEtBQVAsQ0FBVjtBQUNEO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBSSxNQUFNLFFBQVYsRUFBb0I7QUFDbEIsaUJBQVcsSUFBWDtBQUNEO0FBQ0Y7QUFDRCxNQUFJLENBQUMsT0FBTCxFQUFjO0FBQ1osY0FBVSxlQUFWO0FBQ0Q7QUFDRCxNQUFJLGFBQWEsSUFBYixDQUFrQixPQUFsQixDQUFKLEVBQWdDO0FBQzlCO0FBQ0Q7QUFDRCxNQUFJLFdBQVcsU0FBZixFQUEwQjtBQUN4QjtBQUNEOztBQUVELE1BQU0saUJBQWlCLEVBQUUsUUFBUSxLQUFLLE1BQWYsQ0FBdkI7QUFDQSxNQUFNLGVBQWUsS0FBSyxNQUFMLEVBQXJCOztBQUVBO0FBQ0E7QUFDQSxNQUFJLHFDQUFtQixPQUFuQjtBQUNGO0FBQ0E7QUFDQSxhQUFXLGVBSFQ7QUFJRjtBQUNBO0FBQ0EsZ0JBTkYsRUFNa0I7QUFDaEIsZUFBVyxJQUFYOztBQUVBLFFBQUksZUFBZSx1Q0FBbkIsRUFBNEQ7QUFDMUQ7QUFDRDtBQUNGOztBQUVELE1BQU0sY0FBYyw2QkFBbUIsT0FBbkIsQ0FBcEI7O0FBRUE7QUFDQSxNQUFJLGVBQWUsZUFBZSw2QkFBbEMsRUFBaUU7QUFDL0Q7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sT0FBTywwQkFBNEIsT0FBTyxNQUFQLENBQWMsSUFBZCxDQUF6QztBQUNBLE9BQUssR0FBTCxJQUFZLHFCQUFVLFVBQXRCO0FBQ0EsT0FBSyxPQUFMLElBQWdCLGNBQWMsR0FBZCxHQUFvQixHQUFwQztBQUNBLE9BQUssR0FBTCxJQUFZLFFBQVEsT0FBUiwyQkFBcUMsRUFBckMsQ0FBWjtBQUNBLE9BQUssR0FBTCxJQUFZLGNBQWMsR0FBZCxHQUFvQixHQUFoQzs7QUFFQTtBQUNBO0FBQ0EsT0FBSyxJQUFMLElBQWEsV0FBVyxHQUFYLEdBQWlCLEdBQTlCO0FBQ0EsT0FBSyxJQUFMLElBQWEsaUJBQWlCLEdBQWpCLEdBQXVCLEdBQXBDOztBQUVBLE1BQUksVUFBVSxJQUFkO0FBQ0EsTUFBSSxLQUFLLE9BQUwsSUFBZ0IsS0FBSyxPQUFMLENBQWEsUUFBakMsRUFBMkM7QUFDekMsU0FBSyxJQUFMLElBQWEsR0FBYjtBQUNBLGNBQVUsSUFBVjtBQUNELEdBSEQsTUFHTyxJQUFJLHFCQUFVLE9BQWQsRUFBdUI7QUFDNUIsY0FBVSxxQkFBVSxPQUFwQjtBQUNEO0FBQ0QsT0FBSyxJQUFMLElBQWEsT0FBYjs7QUFFQTtBQUNBO0FBQ0EsT0FBSyxJQUFMLElBQWEsMkJBQVMsSUFBVCxJQUFpQixHQUFqQixHQUF1QixHQUFwQzs7QUFFQTtBQUNBLE9BQUssSUFBTCxJQUFhLGdDQUFjLElBQWQsQ0FBYjs7QUFFQSxNQUFJLEtBQUssUUFBTCxDQUFjLGVBQWQsSUFBaUMsS0FBSyxRQUFMLENBQWMsZUFBZCxDQUE4QixDQUE5QixDQUFyQyxFQUF1RTtBQUNyRSxTQUFLLElBQUwsSUFBYSxLQUFLLFFBQUwsQ0FBYyxlQUFkLENBQThCLENBQTlCLENBQWI7QUFDRDtBQUNELE1BQUksS0FBSyxXQUFULEVBQXNCO0FBQ3BCLFNBQUssSUFBTCxJQUFhLEtBQUssV0FBbEI7QUFDRDtBQUNEO0FBQ0EsTUFBSSxLQUFLLE1BQUwsSUFBZSxLQUFLLE1BQUwsSUFBZSxJQUFsQyxFQUF3QztBQUN0QyxTQUFLLEtBQUwsSUFBYyxHQUFkO0FBQ0Q7O0FBRUQsTUFBSSxLQUFLLEdBQUwsSUFBWSxLQUFLLEdBQUwsQ0FBUyxNQUF6QixFQUFpQztBQUMvQixRQUFNLG9CQUFvQixLQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLG9CQUFoQixFQUExQjtBQUNBLFFBQU0sa0JBQWtCLEtBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsdUJBQWhCLEVBQXhCO0FBQ0EsUUFBSSxpQkFBSixFQUF1QjtBQUNyQixXQUFLLEtBQUwsSUFBYyxpQkFBZDtBQUNEO0FBQ0QsUUFBSSxlQUFKLEVBQXFCO0FBQ25CLFdBQUssS0FBTCxJQUFjLGVBQWQ7QUFDRDtBQUNGOztBQUVELE1BQUksQ0FBQyxnQkFBTCxFQUF1QjtBQUNyQix1QkFBbUIseUJBQW5CO0FBQ0Q7QUFDRCxPQUFLLEtBQUwsSUFBYyxnQkFBZDs7QUFFQSxNQUFNLE9BQU8sRUFBYjtBQUNBLE1BQU0sY0FBYywwQ0FBd0IsSUFBeEIsQ0FBcEI7QUFDQSxPQUFLLElBQU0sR0FBWCxJQUFrQixXQUFsQixFQUErQjtBQUM3QixRQUFNLEtBQUssWUFBWSxHQUFaLENBQVg7QUFDQSxTQUFLLElBQUwsQ0FBYSxHQUFiLFVBQW9CLEtBQUssR0FBTCxHQUFXLEdBQS9CO0FBQ0Q7QUFDRCxPQUFLLE1BQUwsSUFBZSxLQUFLLElBQUwsQ0FBVSxHQUFWLENBQWY7O0FBRUEsTUFBSSxLQUFKLEVBQVc7QUFDVCxRQUFNLFVBQVUsTUFBTSxpQkFBTixHQUNaLE1BQU0saUJBQU4sQ0FBd0IsT0FEWixHQUVaLEdBRkosQ0FEUyxDQUdBO0FBQ1QsU0FBSyxJQUFMLElBQWEsT0FBYjs7QUFFQSxRQUFJLE1BQU0sSUFBVixFQUFnQjtBQUNkLFdBQUssTUFBTCxJQUFlLEtBQUssU0FBTCxDQUFlLE1BQU0sSUFBckIsQ0FBZjtBQUNEOztBQUVELFFBQUksQ0FBQyxXQUFELElBQWdCLENBQUMsTUFBTSxXQUF2QixJQUFzQyxNQUFNLEtBQWhELEVBQXVEO0FBQ3JELFdBQUssR0FBTCxJQUFZLE1BQU0sS0FBbEI7QUFDRDs7QUFFRCxVQUFNLE9BQU4sSUFBaUIsYUFBakI7QUFDRCxHQWZELE1BZU87QUFDTCxTQUFLLEdBQUwsSUFBWSxZQUFZLEVBQXhCO0FBQ0EsU0FBSyxHQUFMLElBQVksUUFBUSxFQUFwQjtBQUNBLFNBQUssR0FBTCxJQUFZLE9BQU8sRUFBbkI7QUFDRDtBQUNELE9BQUssR0FBTCxJQUFZLEtBQUssUUFBTCxDQUFjLFFBQTFCO0FBQ0EsT0FBSyxJQUFMLElBQWEseUJBQXlCLElBQXpCLENBQThCLEdBQTlCLENBQWI7QUFDQSxPQUFLLElBQUwsSUFBYSxLQUFLLFFBQUwsQ0FBYyxZQUFkLElBQThCLEtBQUssUUFBTCxDQUFjLElBQXpEOztBQUVBLFlBQVUsd0JBQVYsRUFBb0MsT0FBcEMsRUFBNkMsRUFBN0M7O0FBRUEsU0FBTyxJQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLGNBQVQsQ0FBd0IsR0FBeEIsRUFBNkI7QUFDbEMsTUFBTSxVQUFVLElBQUksUUFBSixDQUFhLGdCQUFiLENBQThCLGFBQTlCLENBQWhCO0FBQ0EsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFFBQVEsTUFBNUIsRUFBb0MsR0FBcEMsRUFBeUM7QUFDdkMsUUFBSSxDQUFDLHdCQUFjLFFBQVEsQ0FBUixFQUFXLEdBQVgsQ0FBZSxXQUFmLEVBQWQsQ0FBTCxFQUFrRDtBQUNoRCxhQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBRUQ7OztBQUdPLFNBQVMsdUNBQVQsR0FBbUQ7QUFDeEQsNkJBQTJCLEVBQTNCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUU8sU0FBUyx1QkFBVCxHQUFtQztBQUN4QztBQUNBLFdBQVMsRUFBVCxHQUFjLENBQUU7QUFDaEIsS0FBRyxTQUFILENBQWEsQ0FBYixHQUFpQixZQUFXO0FBQzFCLFVBQU0sSUFBSSxLQUFKLENBQVUsU0FBVixDQUFOO0FBQ0QsR0FGRDtBQUdBLE1BQU0sU0FBUyxJQUFJLEVBQUosRUFBZjtBQUNBLE1BQUk7QUFDRixXQUFPLENBQVA7QUFDRCxHQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFBQSxRQUNILEtBREcsR0FDTSxDQUROLENBQ0gsS0FERzs7QUFHVjs7QUFDQSxRQUFJLHdCQUFXLEtBQVgsRUFBa0IsSUFBbEIsQ0FBSixFQUE2QjtBQUMzQixhQUFPLFFBQVA7QUFDRDs7QUFFRDtBQUNBLFFBQUksTUFBTSxPQUFOLENBQWMsZUFBZCxJQUFpQyxDQUFDLENBQXRDLEVBQXlDO0FBQ3ZDLGFBQU8sU0FBUDtBQUNEOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU0sT0FBTyxNQUFNLEtBQU4sQ0FBWSxJQUFaLEVBQWtCLEdBQWxCLEVBQWI7QUFDQSxRQUFJLGNBQWMsSUFBZCxDQUFtQixJQUFuQixDQUFKLEVBQThCO0FBQzVCLGFBQU8sSUFBUDtBQUNEOztBQUVEO0FBQ0EsUUFBSSx3QkFBVyxLQUFYLEVBQWtCLGdCQUFsQixDQUFKLEVBQXlDO0FBQ3ZDLGFBQU8sUUFBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTyxTQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJTyxTQUFTLHNCQUFULENBQWdDLEtBQWhDLEVBQXVDLEdBQXZDLEVBQTRDO0FBQ2pELE1BQUksaUNBQWUsR0FBZixFQUFvQixzQkFBcEIsQ0FBSixFQUFpRDtBQUMvQyxRQUFNLE9BQU87QUFDWCxtQkFBYSxNQUFNLElBRFI7QUFFWCxzQkFBZ0IsTUFBTTtBQUZYLEtBQWI7QUFJQSwwQ0FBc0IsZ0JBQWdCLEdBQWhCLENBQXRCLEVBQTRDLFlBQTVDLEVBQTBELElBQTFEO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7QUFLQSxTQUFTLGVBQVQsQ0FBeUIsR0FBekIsRUFBOEI7QUFDNUIsTUFBTSxPQUFPLG1CQUFTLGdCQUFULENBQTBCLEdBQTFCLEVBQStCLFNBQS9CLEdBQTJDLFdBQTNDLEVBQWI7QUFDQSxTQUFPLGdCQUFNLGFBQU4sQ0FBb0IsS0FBSyxlQUFMLElBQXdCLEtBQUssSUFBN0IsSUFBcUMsSUFBekQsQ0FBUDtBQUNEOzs7Ozs7UUM5a0JlLDRCLEdBQUEsNEI7UUFpREEsNEIsR0FBQSw0QjtRQXlCQSxxQyxHQUFBLHFDO0FBOUdoQjs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7QUFLQSxJQUFJLHNCQUFKOztBQUVBOzs7Ozs7Ozs7Ozs7O0FBYU8sU0FBUyw0QkFBVCxDQUFzQyxPQUF0QyxFQUErQyxTQUEvQyxFQUEwRCxRQUExRCxFQUNMLG1CQURLLEVBQ2dCO0FBQ3JCLE1BQUksZUFBZSxPQUFuQjtBQUNBLE1BQUksZ0JBQWdCLFFBQXBCO0FBQ0E7OztBQUdBLE1BQUksZ0JBQUo7O0FBRUEsWUFBVSx3QkFBUztBQUNqQixRQUFJO0FBQ0YsYUFBTyxjQUFjLEtBQWQsQ0FBUDtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWO0FBQ0EsV0FBSyxXQUFMLENBQWlCLENBQWpCO0FBQ0EsWUFBTSxDQUFOO0FBQ0Q7QUFDRixHQVJEO0FBU0EsTUFBTSxnQkFBZ0IsOEJBQXRCO0FBQ0EsTUFBSSxVQUFVLEtBQWQ7QUFDQSxNQUFJLG1CQUFKLEVBQXlCO0FBQ3ZCLGNBQVUsb0JBQW9CLE9BQTlCO0FBQ0Q7QUFDRCxlQUFhLGdCQUFiLENBQ0ksU0FESixFQUVJLE9BRkosRUFHSSxnQkFBZ0IsbUJBQWhCLEdBQXNDLE9BSDFDO0FBS0EsU0FBTyxZQUFNO0FBQ1gsUUFBSSxZQUFKLEVBQWtCO0FBQ2hCLG1CQUFhLG1CQUFiLENBQ0ksU0FESixFQUVJLE9BRkosRUFHSSxnQkFBZ0IsbUJBQWhCLEdBQXNDLE9BSDFDO0FBS0Q7QUFDRDtBQUNBLG9CQUFnQixJQUFoQjtBQUNBLG1CQUFlLElBQWY7QUFDQSxjQUFVLElBQVY7QUFDRCxHQVpEO0FBYUQ7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsNEJBQVQsR0FBd0M7QUFDN0M7QUFDQSxNQUFJLGtCQUFrQixTQUF0QixFQUFpQztBQUMvQixXQUFPLGFBQVA7QUFDRDs7QUFFRCxrQkFBZ0IsS0FBaEI7QUFDQSxNQUFJO0FBQ0Y7QUFDQSxRQUFNLFVBQVU7QUFDZCxVQUFJLE9BQUosR0FBYztBQUNaLHdCQUFnQixJQUFoQjtBQUNEO0FBSGEsS0FBaEI7QUFLQSxTQUFLLGdCQUFMLENBQXNCLGNBQXRCLEVBQXNDLElBQXRDLEVBQTRDLE9BQTVDO0FBQ0EsU0FBSyxtQkFBTCxDQUF5QixjQUF6QixFQUF5QyxJQUF6QyxFQUErQyxPQUEvQztBQUNELEdBVEQsQ0FTRSxPQUFPLEdBQVAsRUFBWTtBQUNaO0FBQ0Q7QUFDRCxTQUFPLGFBQVA7QUFDRDs7QUFFRDs7O0FBR08sU0FBUyxxQ0FBVCxHQUFpRDtBQUN0RCxrQkFBZ0IsU0FBaEI7QUFDRDs7Ozs7O1FDbEZlLGlCLEdBQUEsaUI7UUF3QkEsTSxHQUFBLE07UUFVQSxPLEdBQUEsTztRQVNBLFMsR0FBQSxTO1FBYUEsVSxHQUFBLFU7UUEwQkEsaUIsR0FBQSxpQjtRQW1CQSxRLEdBQUEsUTtRQWdCQSxXLEdBQUEsVztRQXNEQSxrQixHQUFBLGtCOztBQXpMaEI7O0FBQ0E7O0FBRUE7QUFuQkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQkEsSUFBTSxzQkFBc0IsaUJBQTVCOztBQUVBOzs7Ozs7OztBQVFPLFNBQVMsaUJBQVQsQ0FBMkIsR0FBM0IsRUFBZ0MsSUFBaEMsRUFBc0MsTUFBdEMsRUFBOEMsYUFBOUMsRUFBNkQ7QUFDbEUsTUFBTSxZQUFZLCtCQUFpQyxFQUFDLGNBQUQsRUFBbkQ7QUFDQSxTQUFPLE1BQVAsQ0FBYyxTQUFkLEVBQXlCLGFBQXpCO0FBQ0E7QUFDQTtBQUNBLE1BQUksT0FBTyxJQUFJLFdBQVgsSUFBMEIsVUFBOUIsRUFBMEM7QUFDeEMsV0FBTyxJQUFJLElBQUksV0FBUixDQUFvQixJQUFwQixFQUEwQixTQUExQixDQUFQO0FBQ0QsR0FGRCxNQUVPO0FBQ0w7QUFDQSxRQUFNLElBQUksSUFBSSxRQUFKLENBQWEsV0FBYixDQUF5QixhQUF6QixDQUFWO0FBQ0EsTUFBRSxlQUFGLENBQ0ksSUFESixFQUNVLENBQUMsQ0FBQyxVQUFVLE9BRHRCLEVBQytCLENBQUMsQ0FBQyxVQUFVLFVBRDNDLEVBQ3VELE1BRHZEO0FBRUEsV0FBTyxDQUFQO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7QUFRTyxTQUFTLE1BQVQsQ0FBZ0IsT0FBaEIsRUFBeUIsU0FBekIsRUFBb0MsUUFBcEMsRUFBOEMsbUJBQTlDLEVBQW1FO0FBQ3hFLFNBQU8scURBQ0gsT0FERyxFQUNNLFNBRE4sRUFDaUIsUUFEakIsRUFDMkIsbUJBRDNCLENBQVA7QUFFRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLE9BQVQsQ0FBaUIsS0FBakIsRUFBd0I7QUFDN0IsU0FBTyw0Q0FBNkMsTUFBTTtBQUExRDtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsU0FBVCxDQUFtQixLQUFuQixFQUEwQjtBQUMvQixTQUFPLDRDQUE2QyxNQUFNO0FBQTFEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztBQVNPLFNBQVMsVUFBVCxDQUFvQixPQUFwQixFQUE2QixTQUE3QixFQUF3QyxRQUF4QyxFQUFrRCxtQkFBbEQsRUFBdUU7QUFDNUUsTUFBSSxnQkFBZ0IsUUFBcEI7QUFDQSxNQUFNLFdBQVcscURBQTZCLE9BQTdCLEVBQXNDLFNBQXRDLEVBQWlELGlCQUFTO0FBQ3pFLFFBQUk7QUFDRixvQkFBYyxLQUFkO0FBQ0QsS0FGRCxTQUVVO0FBQ1I7QUFDQSxzQkFBZ0IsSUFBaEI7QUFDQTtBQUNEO0FBQ0YsR0FSZ0IsRUFRZCxtQkFSYyxDQUFqQjtBQVNBLFNBQU8sUUFBUDtBQUNEOztBQUdEOzs7Ozs7Ozs7OztBQVdPLFNBQVMsaUJBQVQsQ0FBMkIsT0FBM0IsRUFBb0MsU0FBcEMsRUFBK0MsbUJBQS9DLEVBQ0wsVUFESyxFQUNPO0FBQ1osTUFBSSxpQkFBSjtBQUNBLE1BQU0sZUFBZSxJQUFJLE9BQUosQ0FBWSxtQkFBVztBQUMxQyxlQUFXLFdBQVcsT0FBWCxFQUFvQixTQUFwQixFQUErQixPQUEvQixFQUF3QyxtQkFBeEMsQ0FBWDtBQUNELEdBRm9CLENBQXJCO0FBR0EsZUFBYSxJQUFiLENBQWtCLFFBQWxCLEVBQTRCLFFBQTVCO0FBQ0EsTUFBSSxVQUFKLEVBQWdCO0FBQ2QsZUFBVyxRQUFYO0FBQ0Q7QUFDRCxTQUFPLFlBQVA7QUFDRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLFFBQVQsQ0FBa0IsV0FBbEIsRUFBK0I7QUFDcEMsU0FBTyxDQUFDLEVBQUUsWUFBWSxRQUFaLElBQXdCLFlBQVksVUFBWixJQUEwQjtBQUN4RDtBQUNBO0FBRk0sS0FHRixZQUFZLFFBQVosSUFDRyxZQUFZLFFBQVosQ0FBcUIsVUFBckIsSUFBbUMsVUFKdEMsQ0FBUjtBQUtEOztBQUVEOzs7Ozs7OztBQVFPLFNBQVMsV0FBVCxDQUFxQixXQUFyQixFQUFrQztBQUN2QyxNQUFJLHFCQUFKO0FBQ0EsTUFBSSxzQkFBSjtBQUNBLE1BQUksU0FBUyxXQUFULENBQUosRUFBMkI7QUFDekIsV0FBTyxRQUFRLE9BQVIsQ0FBZ0IsV0FBaEIsQ0FBUDtBQUNEO0FBQ0QsTUFBTSxpQkFBaUIsSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN0RDtBQUNBO0FBRnNELFFBRy9DLE9BSCtDLEdBR3BDLFdBSG9DLENBRy9DLE9BSCtDOztBQUl0RCxRQUFJLFlBQVksT0FBWixJQUF1QixZQUFZLE9BQXZDLEVBQWdEO0FBQzlDLHFCQUFlLFdBQVcsV0FBWCxFQUF3QixXQUF4QixFQUFxQyxPQUFyQyxDQUFmO0FBQ0QsS0FGRCxNQUVPO0FBQ0wscUJBQWUsV0FBVyxXQUFYLEVBQXdCLE1BQXhCLEVBQWdDLE9BQWhDLENBQWY7QUFDRDtBQUNEO0FBQ0EsUUFBSSxPQUFKLEVBQWE7QUFDWCxzQkFBZ0IsV0FBVyxXQUFYLEVBQXdCLE9BQXhCLEVBQWlDLE1BQWpDLENBQWhCO0FBQ0Q7QUFDRixHQWJzQixDQUF2Qjs7QUFlQSxTQUFPLGVBQWUsSUFBZixDQUFvQixZQUFNO0FBQy9CLFFBQUksYUFBSixFQUFtQjtBQUNqQjtBQUNEO0FBQ0QsV0FBTyxXQUFQO0FBQ0QsR0FMTSxFQUtKLFlBQU07QUFDUCxRQUFJLFlBQUosRUFBa0I7QUFDaEI7QUFDRDtBQUNELGlCQUFhLFdBQWI7QUFDRCxHQVZNLENBQVA7QUFXRDs7QUFFRDs7Ozs7QUFLQSxTQUFTLFlBQVQsQ0FBc0IsV0FBdEIsRUFBbUM7QUFDakM7QUFDQTtBQUNBLE1BQUksU0FBUyxXQUFiO0FBQ0EsTUFBSSxVQUFVLE9BQU8sR0FBckIsRUFBMEI7QUFDeEIsYUFBUyxPQUFPLEdBQWhCO0FBQ0Q7QUFDRCxRQUFNLGlCQUFPLFdBQVAsQ0FBbUIsbUJBQW5CLEVBQXdDLE1BQXhDLENBQU47QUFDRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLGtCQUFULENBQTRCLE9BQTVCLEVBQXFDO0FBQzFDLFNBQU8sUUFBUSxPQUFSLENBQWdCLG1CQUFoQixLQUF3QyxDQUFDLENBQWhEO0FBQ0Q7Ozs7Ozs7UUN2SmUsUSxHQUFBLFE7UUFTQSxhLEdBQUEsYTtRQVdBLGMsR0FBQSxjO1FBaUJBLGdCLEdBQUEsZ0I7UUF1QkEsaUIsR0FBQSxpQjtRQTREQSx1QixHQUFBLHVCO1FBcURBLHVDLEdBQUEsdUM7UUFTQSxnQyxHQUFBLGdDO1FBNERBLDhCLEdBQUEsOEI7UUE0Q0EsbUIsR0FBQSxtQjtRQWNBLHFCLEdBQUEscUI7O0FBelVoQjs7QUFDQTs7QUFDQTs7QUFFQTtBQUNBLElBQU0sY0FBYyxTQUFwQjs7QUFFQTtBQTlCQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7OztBQWVBLElBQU0sc0JBQXNCLEdBQTVCLEMsQ0FBaUM7O0FBRWpDO0FBQ0EsSUFBTSw2QkFBNkIsc0JBQXNCLEVBQXRCLEdBQTJCLEVBQTNCLEdBQWdDLEVBQWhDLEdBQXFDLElBQXhFOztBQUVBO0FBQ0EsSUFBTSwwQkFBMEIsMkJBQWhDOztBQUVBOzs7Ozs7QUFNTyxJQUFJLGdEQUFKOztBQUVQOzs7OztBQUtPLFNBQVMsUUFBVCxDQUFrQixHQUFsQixFQUF1QjtBQUM1QixTQUFPLENBQUMsRUFBRSxJQUFJLFVBQUosSUFBa0IsSUFBSSxVQUFKLENBQWUsTUFBbkMsQ0FBUjtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsYUFBVCxDQUF1QixHQUF2QixFQUE0QjtBQUNqQyxTQUFPLElBQUksVUFBSixJQUFrQixJQUFJLFVBQUosQ0FBZSxJQUFqQyxHQUNMLElBQUksVUFBSixDQUFlLElBRFYsR0FDaUIsU0FEeEI7QUFFRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxjQUFULENBQXdCLEdBQXhCLEVBQTZCLFlBQTdCLEVBQTJDO0FBQ2hELE1BQU0sVUFBVSxrQkFBa0IsR0FBbEIsQ0FBaEI7QUFDQSxTQUFPLENBQUMsQ0FBQyxRQUFRLFlBQVIsQ0FBVDtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7QUFZTyxTQUFTLGdCQUFULENBQTBCLEdBQTFCLEVBQStCLFlBQS9CLEVBQTZDLE1BQTdDLEVBQ0wsdUJBREssRUFDb0I7QUFDekIsTUFBTSxjQUFjLGVBQWUsR0FBZixFQUFvQixNQUFNLFlBQTFCLENBQXBCO0FBQ0EsTUFBTSxLQUFLLENBQUMsRUFBRSxXQUFXLFNBQVgsR0FBdUIsTUFBdkIsR0FBZ0MsQ0FBQyxXQUFuQyxDQUFaO0FBQ0EsTUFBSSxNQUFNLFdBQVYsRUFBdUI7QUFDckIsUUFBTSxVQUFVLGtCQUFrQixHQUFsQixDQUFoQjtBQUNBLFlBQVEsWUFBUixJQUF3QixFQUF4Qjs7QUFFQSxRQUFJLENBQUMsdUJBQUwsRUFBOEI7QUFDNUIsVUFBTSxnQkFBZ0IsK0JBQStCLEdBQS9CLENBQXRCO0FBQ0Esb0JBQWMsWUFBZCxJQUE4QixFQUE5QjtBQUNBLG9DQUE4QixHQUE5QixFQUFtQyxhQUFuQztBQUNEO0FBQ0Y7QUFDRCxTQUFPLEVBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxpQkFBVCxDQUEyQixHQUEzQixFQUFnQztBQUNyQyxNQUFJLElBQUksdUJBQUosQ0FBSixFQUFrQztBQUNoQyxXQUFPLElBQUksdUJBQUosQ0FBUDtBQUNEO0FBQ0QsTUFBSSx1QkFBSixJQUErQixPQUFPLE1BQVAsQ0FBYyxJQUFkLENBQS9CO0FBQ0EsTUFBTSxVQUFVLElBQUksdUJBQUosQ0FBaEI7O0FBRUE7QUFDQSxNQUFJLElBQUksVUFBUixFQUFvQjtBQUNsQixTQUFLLElBQU0sWUFBWCxJQUEyQixJQUFJLFVBQS9CLEVBQTJDO0FBQ3pDLFVBQU0sWUFBWSxJQUFJLFVBQUosQ0FBZSxZQUFmLENBQWxCO0FBQ0EsVUFBSSxPQUFPLFNBQVAsS0FBcUIsUUFBckIsSUFBaUMsYUFBYSxDQUE5QyxJQUFtRCxhQUFhLENBQXBFLEVBQXVFO0FBQ3JFLGdCQUFRLFlBQVIsSUFBd0IsS0FBSyxNQUFMLEtBQWdCLFNBQXhDO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Q7QUFDQSxNQUFJLElBQUksVUFBSixJQUNHLE1BQU0sT0FBTixDQUFjLElBQUksVUFBSixDQUFlLGtCQUFmLENBQWQsQ0FESCxJQUVHLElBQUksVUFBSixDQUFlLGtCQUFmLEVBQW1DLE1BQW5DLEdBQTRDLENBRm5ELEVBRXNEO0FBQ3BELFFBQU0sVUFBVSxJQUFJLFVBQUosQ0FBZSxrQkFBZixDQUFoQjtBQUNBLFFBQU0sT0FDRixJQUFJLFFBQUosQ0FBYSxJQUFiLENBQWtCLGFBQWxCLENBQWdDLHFDQUFoQyxDQURKO0FBRUEsUUFBSSxJQUFKLEVBQVU7QUFDUixVQUFNLHFCQUFxQixLQUFLLFlBQUwsQ0FBa0IsU0FBbEIsRUFBNkIsS0FBN0IsQ0FBbUMsR0FBbkMsQ0FBM0I7QUFDQSxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksbUJBQW1CLE1BQXZDLEVBQStDLEdBQS9DLEVBQW9EO0FBQ2xELFlBQUksUUFBUSxPQUFSLENBQWdCLG1CQUFtQixDQUFuQixDQUFoQixLQUEwQyxDQUFDLENBQS9DLEVBQWtEO0FBQ2hELGtCQUFRLG1CQUFtQixDQUFuQixDQUFSLElBQWlDLElBQWpDO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7O0FBRUQsU0FBTyxNQUFQLENBQWMsT0FBZCxFQUF1QiwrQkFBK0IsR0FBL0IsQ0FBdkI7O0FBRUEsTUFBSSxJQUFJLFVBQUosSUFDRyxNQUFNLE9BQU4sQ0FBYyxJQUFJLFVBQUosQ0FBZSxrQkFBZixDQUFkLENBREgsSUFFRyxJQUFJLFVBQUosQ0FBZSxrQkFBZixFQUFtQyxNQUFuQyxHQUE0QyxDQUZuRCxFQUVzRDtBQUNwRCxRQUFNLFdBQVUsSUFBSSxVQUFKLENBQWUsa0JBQWYsQ0FBaEI7QUFDQSxRQUFNLE9BQU8sSUFBSSxRQUFKLENBQWEsWUFBYixJQUE2QixJQUFJLFFBQUosQ0FBYSxJQUF2RDtBQUNBLFFBQU0sU0FBUywyQkFBaUIsSUFBakIsQ0FBZjtBQUNBLFNBQUssSUFBSSxLQUFJLENBQWIsRUFBZ0IsS0FBSSxTQUFRLE1BQTVCLEVBQW9DLElBQXBDLEVBQXlDO0FBQ3ZDLFVBQU0sUUFBUSxjQUFZLFNBQVEsRUFBUixDQUFaLENBQWQ7QUFDQSxVQUFJLFNBQVMsR0FBYixFQUFrQjtBQUNoQixnQkFBUSxTQUFRLEVBQVIsQ0FBUixJQUFzQixJQUF0QjtBQUNEO0FBQ0QsVUFBSSxTQUFTLEdBQWIsRUFBa0I7QUFDaEIsZ0JBQVEsU0FBUSxFQUFSLENBQVIsSUFBc0IsS0FBdEI7QUFDRDtBQUNGO0FBQ0Y7QUFDRCxTQUFPLE9BQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyx1QkFBVCxDQUFpQyxHQUFqQyxFQUFzQztBQUMzQyxTQUFPLElBQUksdUJBQUosS0FBZ0MsSUFBdkM7QUFDRDs7QUFFRDs7Ozs7QUFLQSxTQUFTLDhCQUFULENBQXdDLEdBQXhDLEVBQTZDO0FBQzNDLE1BQU0sbUJBQW1CLHdCQUFVLEdBQVYsRUFBZSxXQUFmLENBQXpCO0FBQ0EsTUFBTSxTQUFTLG1CQUFtQixpQkFBaUIsS0FBakIsQ0FBdUIsVUFBdkIsQ0FBbkIsR0FBd0QsRUFBdkU7O0FBRUEsTUFBTSxVQUFVLE9BQU8sTUFBUCxDQUFjLElBQWQsQ0FBaEI7QUFDQSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksT0FBTyxNQUEzQixFQUFtQyxHQUFuQyxFQUF3QztBQUN0QyxRQUFJLE9BQU8sQ0FBUCxFQUFVLE1BQVYsSUFBb0IsQ0FBeEIsRUFBMkI7QUFDekI7QUFDRDtBQUNELFFBQUksT0FBTyxDQUFQLEVBQVUsQ0FBVixLQUFnQixHQUFwQixFQUF5QjtBQUN2QixjQUFRLE9BQU8sQ0FBUCxFQUFVLE1BQVYsQ0FBaUIsQ0FBakIsQ0FBUixJQUErQixLQUEvQjtBQUNELEtBRkQsTUFFTztBQUNMLGNBQVEsT0FBTyxDQUFQLENBQVIsSUFBcUIsSUFBckI7QUFDRDtBQUNGOztBQUVELFNBQU8sT0FBUDtBQUNEOztBQUVEOzs7OztBQUtBLFNBQVMsNkJBQVQsQ0FBdUMsR0FBdkMsRUFBNEMsT0FBNUMsRUFBcUQ7QUFDbkQsTUFBTSxnQkFBZ0IsRUFBdEI7QUFDQSxPQUFLLElBQU0sVUFBWCxJQUF5QixPQUF6QixFQUFrQztBQUNoQyxrQkFBYyxJQUFkLENBQW1CLENBQUMsUUFBUSxVQUFSLE1BQXdCLEtBQXhCLEdBQWdDLEdBQWhDLEdBQXNDLEVBQXZDLElBQTZDLFVBQWhFO0FBQ0Q7O0FBRUQsMEJBQVUsR0FBVixFQUFlLFdBQWYsRUFBNEIsY0FBYyxJQUFkLENBQW1CLEdBQW5CLENBQTVCLEVBQ0ksS0FBSyxHQUFMLEtBQWEsMEJBRGpCLEVBQzZDO0FBQ3ZDO0FBQ0EsWUFBUSxJQUFJLFFBQUosQ0FBYSxRQUZrQjtBQUd2Qyx3QkFBb0I7QUFIbUIsR0FEN0M7QUFNRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyx1Q0FBVCxDQUFpRCxHQUFqRCxFQUFzRDtBQUMzRCxTQUFPLCtCQUErQixHQUEvQixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxnQ0FBVCxDQUEwQyxHQUExQyxFQUErQztBQUNwRCwwQkFBVSxHQUFWLEVBQWUsV0FBZixFQUE0QixFQUE1QixFQUFnQyxDQUFoQyxFQUFtQztBQUNqQyxZQUFRLElBQUksUUFBSixDQUFhO0FBRFksR0FBbkM7QUFHQSxNQUFJLHVCQUFKLElBQStCLElBQS9CO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQSxTQUFTLG1CQUFULEdBQStCO0FBQzdCO0FBQ0EsU0FBTyxLQUFLLE1BQUwsRUFBUDtBQUNEOztBQUVEOzs7Ozs7OztBQVFPLElBQU0sOERBQTJCO0FBQ3RDLGdCQUFjO0FBRHdCLENBQWpDOztBQUlQOzs7OztBQUtBLFNBQVMsZ0JBQVQsQ0FBMEIsR0FBMUIsRUFBK0I7QUFDN0IsTUFBTSxLQUFLLHlCQUF5QixZQUF6QixFQUFYO0FBQ0EsU0FBTyxJQUFJLEtBQUssS0FBTCxDQUFXLEtBQUssSUFBSSxNQUFwQixDQUFKLEtBQW9DLElBQTNDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQk8sU0FBUyw4QkFBVCxDQUF3QyxHQUF4QyxFQUE2QyxXQUE3QyxFQUEwRDtBQUMvRCxNQUFJLGtCQUFKLEdBQXlCLElBQUksa0JBQUosSUFBMEIsRUFBbkQ7QUFDQSxNQUFNLHNCQUFzQixFQUE1QjtBQUNBLE9BQUssSUFBTSxjQUFYLElBQTZCLFdBQTdCLEVBQTBDO0FBQ3hDO0FBQ0E7QUFDQSxRQUFJLENBQUMsb0JBQU8sV0FBUCxFQUFvQixjQUFwQixDQUFMLEVBQTBDO0FBQ3hDO0FBQ0Q7QUFDRCxRQUFJLG9CQUFPLElBQUksa0JBQVgsRUFBK0IsY0FBL0IsQ0FBSixFQUFvRDtBQUNsRCwwQkFBb0IsY0FBcEIsSUFDSSxJQUFJLGtCQUFKLENBQXVCLGNBQXZCLENBREo7QUFFQTtBQUNEOztBQUVELFFBQUksQ0FBQyxZQUFZLGNBQVosRUFBNEIsaUJBQTdCLElBQ0EsQ0FBQyxZQUFZLGNBQVosRUFBNEIsaUJBQTVCLENBQThDLEdBQTlDLENBREwsRUFDeUQ7QUFDdkQsVUFBSSxrQkFBSixDQUF1QixjQUF2QixJQUF5QyxJQUF6QztBQUNBO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsUUFBSSxDQUFDLElBQUksa0JBQUosQ0FBdUIsY0FBdkIsQ0FBRCxJQUNGLGVBQWUsR0FBZixFQUFvQixNQUFNLGNBQTFCLENBREYsRUFDNkM7QUFBQSxVQUNwQyxRQURvQyxHQUN4QixZQUFZLGNBQVosQ0FEd0IsQ0FDcEMsUUFEb0M7O0FBRTNDLFVBQUksa0JBQUosQ0FBdUIsY0FBdkIsSUFBeUMsaUJBQWlCLFFBQWpCLENBQXpDO0FBQ0EsMEJBQW9CLGNBQXBCLElBQ0ksSUFBSSxrQkFBSixDQUF1QixjQUF2QixDQURKO0FBRUQ7QUFDRjtBQUNELFNBQU8sbUJBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7O0FBU08sU0FBUyxtQkFBVCxDQUE2QixHQUE3QixFQUFrQyxjQUFsQyxFQUFrRDtBQUN2RCxTQUFPLElBQUksa0JBQUosR0FBeUIsSUFBSSxrQkFBSixDQUF1QixjQUF2QixDQUF6QixHQUFrRSxJQUF6RTtBQUNEOztBQUVEOzs7Ozs7Ozs7O0FBVU8sU0FBUyxxQkFBVCxDQUErQixHQUEvQixFQUFvQyxjQUFwQyxFQUFvRCxRQUFwRCxFQUE4RDtBQUNuRSxNQUFJLGtCQUFKLEdBQXlCLElBQUksa0JBQUosSUFBMEIsRUFBbkQ7QUFDQSxtQkFBaUIsR0FBakIsRUFBc0IsY0FBdEIsRUFBc0MsQ0FBQyxDQUFDLFFBQXhDLEVBQWtELElBQWxEO0FBQ0EsTUFBSSxrQkFBSixDQUF1QixjQUF2QixJQUF5QyxRQUF6QztBQUNEOzs7Ozs7UUM1VWUsa0IsR0FBQSxrQjtRQVlBLHVCLEdBQUEsdUI7UUFtQkEsUyxHQUFBLFM7QUF2RGhCOzs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7Ozs7O0FBT08sU0FBUyxrQkFBVCxDQUE0QixRQUE1QixFQUFzQztBQUMzQyxNQUFNLGFBQWEsd0JBQXdCLFFBQXhCLENBQW5CO0FBQ0EsU0FBTyxnQkFBUTtBQUNiLFdBQU8sV0FBVyxJQUFYLEVBQWlCLFlBQWpCLENBQVA7QUFDRCxHQUZEO0FBR0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyx1QkFBVCxDQUFpQyxRQUFqQyxFQUEyQztBQUNoRCxNQUFNLE9BQU8sWUFBWSxDQUF6QjtBQUNBLE1BQUksUUFBUSxDQUFaO0FBQ0EsU0FBTyxZQUFNO0FBQ1gsUUFBSSxPQUFPLEtBQUssR0FBTCxDQUFTLElBQVQsRUFBZSxPQUFmLENBQVg7QUFDQSxZQUFRLFVBQVUsSUFBVixDQUFSO0FBQ0EsV0FBTyxPQUFPLElBQWQ7QUFDRCxHQUpEO0FBS0Q7O0FBRUQ7Ozs7Ozs7OztBQVNPLFNBQVMsU0FBVCxDQUFtQixJQUFuQixFQUF5QixRQUF6QixFQUFtQztBQUN4QyxhQUFXLFlBQVksRUFBdkI7QUFDQSxNQUFJLFNBQVMsT0FBTyxRQUFQLEdBQWtCLEtBQUssTUFBTCxFQUEvQjtBQUNBLE1BQUksS0FBSyxNQUFMLEtBQWdCLEVBQXBCLEVBQXdCO0FBQ3RCLGNBQVUsQ0FBQyxDQUFYO0FBQ0Q7QUFDRCxTQUFPLE1BQVA7QUFDRDs7Ozs7Ozs7cWpCQzlERDs7Ozs7Ozs7Ozs7Ozs7OztRQTBFZ0IsNEIsR0FBQSw0QjtRQXdCQSw2QixHQUFBLDZCO1FBYUEsOEIsR0FBQSw4QjtRQWdCQSwwQixHQUFBLDBCO1FBNktBLG1CLEdBQUEsbUI7UUF3VEEsa0IsR0FBQSxrQjtRQWtCQSxPLEdBQUEsTzs7QUF0bUJoQjs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFPQTs7OztBQUdBO0FBQ0EsSUFBTSxhQUFhLGVBQW5COztBQUVBO0FBQ0EsSUFBTSxtQkFDRixDQUFDLFFBQUQsRUFBVyxlQUFYLEVBQTRCLFdBQTVCLEVBQXlDLGFBQXpDLENBREo7O0FBSUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJPLElBQUksd0RBQUo7O0FBR1A7Ozs7QUFJQSxJQUFJLHdCQUFKOztBQUVBOzs7O0FBSU8sU0FBUyw0QkFBVCxDQUFzQyxHQUF0QyxFQUEyQztBQUNoRCxvQkFBa0IsR0FBbEI7QUFDRDs7QUFFRDs7OztBQUlBLFNBQVMsaUJBQVQsR0FBNkI7QUFDM0IsTUFBSSxvQkFBb0IsU0FBeEIsRUFBbUM7QUFDakMsc0JBQWtCLFlBQVksa0JBQWtCLFNBQWhEO0FBQ0Q7QUFDRCxTQUFPLGVBQVA7QUFDRDs7QUFHRDs7Ozs7Ozs7QUFRTyxTQUFTLDZCQUFULENBQXVDLEtBQXZDLEVBQThDLE9BQTlDLEVBQXVEO0FBQzVELFFBQU0sV0FBTixDQUFrQixPQUFsQjtBQUNEOztBQUdEOzs7Ozs7OztBQVFPLFNBQVMsOEJBQVQsQ0FBd0MsTUFBeEMsRUFBZ0Q7QUFDckQsU0FBTyxvQ0FBcUMsT0FBTyxVQUFQO0FBQTVDO0FBQ0Q7O0FBR0Q7Ozs7Ozs7Ozs7O0FBV08sU0FBUywwQkFBVCxDQUFvQyxNQUFwQyxFQUE0QyxTQUE1QyxFQUF1RCxJQUF2RCxFQUNMLHNCQURLLEVBQ21CO0FBQ3hCO0FBQ0EsTUFBTSxNQUFNLDJCQUFhLGtCQUFNLE9BQU8sYUFBUCxDQUFxQixXQUEzQixDQUFiLENBQVo7QUFDQTtBQUNBLE1BQU0sYUFBYSxtQkFBUyxhQUFULENBQXVCLEdBQXZCLENBQW5COztBQUVBLHVCQUFTLE1BQVQsRUFBaUIsWUFBakIsRUFBK0IsUUFBL0I7QUFDQSxTQUFPLFlBQVAsQ0FBb0IsZ0JBQXBCLEVBQXNDLFlBQXRDOztBQUVBO0FBQ0EsTUFBSSxLQUFLLFlBQVQsRUFBdUI7QUFDckIsU0FBSyxZQUFMLENBQWtCLE9BQWxCLENBQ0k7QUFBQSxhQUFlLFdBQVcsZ0JBQVgsQ0FBNEIsV0FBNUIsQ0FBZjtBQUFBLEtBREo7QUFFRDs7QUFFRCxNQUFNLE9BQU8sVUFBVSxJQUFWLENBQWI7O0FBRUE7QUFDQSxTQUFPLE1BQVAsR0FBZ0IsWUFBTTtBQUNwQjtBQUNBLFdBQU8sVUFBUCxHQUFvQixVQUFwQjtBQUNELEdBSEQ7QUFJQSxNQUFNLDRCQUE0QixTQUE1Qix5QkFBNEIsR0FBTTtBQUN0QyxXQUFPLGFBQVAsQ0FBcUIsZ0JBQXJCLENBQXNDLHlCQUF0QyxFQUNJLDBCQUFrQjtBQUNoQixzQkFBTSxJQUFOLENBQVcsS0FBWCxFQUFrQiwyQkFBbEIsRUFBK0MsY0FBL0M7QUFDRCxLQUhMO0FBSUQsR0FMRDtBQU1BLE1BQUksc0JBQUo7QUFDQSxNQUFJLG1CQUFKLEVBQXlCO0FBQ3ZCLFdBQU8sTUFBUCxHQUFnQixJQUFoQjtBQUNBLG9CQUFnQiw4QkFBWSxNQUFaLENBQWhCO0FBQ0EsY0FBVSxXQUFWLENBQXNCLE1BQXRCO0FBQ0E7QUFDRCxHQUxELE1BS087QUFDTCxXQUFPLEdBQVAsR0FBYSxhQUFiO0FBQ0EsY0FBVSxXQUFWLENBQXNCLE1BQXRCO0FBQ0EsUUFBTSxXQUFXLE9BQU8sYUFBUCxDQUFxQixRQUF0QztBQUNBLGFBQVMsSUFBVDtBQUNBO0FBQ0EsYUFBUyxLQUFULENBQWUsSUFBZjtBQUNBO0FBQ0E7QUFDQSxvQkFBZ0IsOEJBQVksT0FBTyxhQUFuQixDQUFoQjtBQUNBLGFBQVMsS0FBVDtBQUNEOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUkscUJBQUo7QUFDQSxNQUFJLGNBQWMsTUFBZCxDQUFKLEVBQTJCO0FBQ3pCLG1CQUFlLFFBQVEsT0FBUixFQUFmO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsbUJBQWUsSUFBSSxPQUFKLENBQVksbUJBQVc7QUFDcEM7QUFDQSxVQUFNLFdBQVcsSUFBSSxXQUFKLENBQWdCLFlBQU07QUFDckMsWUFBSSxjQUFjLE1BQWQsQ0FBSixFQUEyQjtBQUN6QjtBQUNBLGNBQUksYUFBSixDQUFrQixRQUFsQjtBQUNEO0FBQ0YsT0FMZ0IsRUFLZCxrQkFBbUIsQ0FMTCxDQUFqQjs7QUFPQTtBQUNBO0FBQ0Esb0JBQWMsS0FBZCxDQUFvQixpQkFBUztBQUMzQiwrQkFBYSxLQUFiO0FBQ0QsT0FGRCxFQUVHLElBRkgsQ0FFUSxZQUFNO0FBQ1o7QUFDQSxZQUFJLGFBQUosQ0FBa0IsUUFBbEI7QUFDRCxPQUxEO0FBTUQsS0FqQmMsQ0FBZjtBQWtCRDs7QUFFRCxTQUFPLGFBQWEsSUFBYixDQUFrQixZQUFNO0FBQzdCLFFBQU0sUUFBUSxJQUFJLG1CQUFKLENBQXdCLE1BQXhCLEVBQWdDLElBQWhDLEVBQXNDLGFBQXRDLENBQWQ7QUFDQSxXQUFPLFVBQVAsSUFBcUIsS0FBckI7O0FBRUEsUUFBTSxXQUFXLHNCQUF3QixPQUFPLGFBQWhEO0FBQ0E7QUFDQSxlQUFXLDhCQUFYLENBQ0ksUUFESixFQUNjLEtBQUssWUFBTCxJQUFxQixFQURuQyxFQUN1QyxzQkFEdkM7QUFFQTtBQUNBLFVBQU0sWUFBTjtBQUNBLFdBQU8sS0FBUDtBQUNELEdBWE0sQ0FBUDtBQVlEOztBQUdEOzs7OztBQUtBLFNBQVMsYUFBVCxDQUF1QixNQUF2QixFQUErQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxXQUFXLE9BQU8sYUFBUCxJQUF3QixPQUFPLGFBQVAsQ0FBcUIsUUFBOUQ7QUFDQSxTQUFPLENBQUMsRUFBRSxZQUNOLG9DQUFnQixRQUFoQixDQURNLElBRU4sU0FBUyxJQUZILElBR04sU0FBUyxJQUFULENBQWMsVUFIVixDQUFSO0FBSUQ7O0FBR0Q7Ozs7QUFJQSxTQUFTLFNBQVQsQ0FBbUIsSUFBbkIsRUFBeUI7QUFDdkIsTUFBTSxlQUFlLEtBQUssSUFBMUI7QUFDQSxNQUFNLGlCQUFpQixhQUFhLFdBQWIsRUFBdkI7O0FBRUE7QUFDQSxNQUFJLEtBQUssZUFBZSxPQUFmLENBQXVCLE9BQXZCLENBQVQ7QUFDQSxNQUFJLE1BQU0sQ0FBQyxDQUFYLEVBQWM7QUFDWixTQUFLLGVBQWUsT0FBZixDQUF1QixHQUF2QixFQUE0QixLQUFLLENBQWpDLElBQXNDLENBQTNDO0FBQ0Q7QUFDRCxNQUFJLE1BQU0sQ0FBQyxDQUFYLEVBQWM7QUFDWixTQUFLLGVBQWUsT0FBZixDQUF1QixPQUF2QixDQUFMO0FBQ0Q7QUFDRCxNQUFJLE1BQU0sQ0FBQyxDQUFYLEVBQWM7QUFDWixTQUFLLGVBQWUsT0FBZixDQUF1QixPQUF2QixDQUFMO0FBQ0EsUUFBSSxNQUFNLENBQUMsQ0FBWCxFQUFjO0FBQ1osV0FBSyxlQUFlLE9BQWYsQ0FBdUIsR0FBdkIsRUFBNEIsS0FBSyxDQUFqQyxJQUFzQyxDQUEzQztBQUNEO0FBQ0Y7O0FBRUQsTUFBTSxTQUFTLEVBQWY7O0FBRUE7QUFDQSxNQUFJLEtBQUssQ0FBVCxFQUFZO0FBQ1YsV0FBTyxJQUFQLENBQVksYUFBYSxTQUFiLENBQXVCLENBQXZCLEVBQTBCLEVBQTFCLENBQVo7QUFDRDs7QUFFRDtBQUNBLFNBQU8sSUFBUCxrQkFBMkIscUJBQVcsS0FBSyxHQUFoQixDQUEzQjs7QUFFQTtBQUNBLE1BQUksS0FBSyxLQUFULEVBQWdCO0FBQ2QsU0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixnQkFBUTtBQUN6QixhQUFPLElBQVAsa0JBQ21CLHFCQUFXLElBQVgsQ0FEbkI7QUFFRCxLQUhEO0FBSUQ7O0FBRUQ7QUFDQSxTQUFPLElBQVAsQ0FBWSw4Q0FDUix1RUFESjs7QUFHQTtBQUNBLE1BQUksS0FBSyxDQUFULEVBQVk7QUFDVixXQUFPLElBQVAsQ0FBWSxhQUFhLFNBQWIsQ0FBdUIsRUFBdkIsQ0FBWjtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU8sSUFBUCxDQUFZLFlBQVo7QUFDRDs7QUFFRCxTQUFPLE9BQU8sSUFBUCxDQUFZLEVBQVosQ0FBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMsbUJBQVQsQ0FBNkIsSUFBN0IsRUFBbUM7QUFDeEMsU0FBTyxVQUFVLElBQVYsQ0FBUDtBQUNEOztBQUdEOzs7Ozs7Ozs7OztJQVVhLG1CLFdBQUEsbUI7O0FBRVg7Ozs7O0FBS0EsK0JBQVksTUFBWixFQUFvQixJQUFwQixFQUEwQixhQUExQixFQUF5QztBQUFBOztBQUN2QztBQUNBLFNBQUssTUFBTCxHQUFjLE1BQWQ7O0FBRUE7QUFDQSxTQUFLLEdBQUwsR0FBVyxxQkFBc0IsT0FBTyxhQUF4Qzs7QUFFQTtBQUNBLFNBQUssSUFBTCxHQUFZLElBQVo7O0FBRUE7QUFDQSxTQUFLLElBQUwsR0FBWSxLQUFLLElBQUwsSUFBYSxJQUF6Qjs7QUFFQTtBQUNBLFNBQUssVUFBTCxHQUFrQixLQUFLLEdBQUwsRUFBbEI7O0FBRUE7Ozs7O0FBS0EsU0FBSyxRQUFMLEdBQWdCLEtBQWhCOztBQUVBO0FBQ0EsU0FBSyxxQkFBTCxHQUE2Qiw0QkFBN0I7O0FBRUE7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsS0FBSyxJQUFMLEdBQVksS0FBSyxJQUFMLENBQVUsT0FBVixFQUFaLEdBQWtDLHNCQUFsRDs7QUFFQTtBQUNBLFNBQUssaUJBQUwsR0FBeUIsUUFBUSxHQUFSLENBQVksQ0FBQyxhQUFELEVBQWdCLEtBQUssU0FBTCxFQUFoQixDQUFaLENBQXpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OEJBR1U7QUFDUix5QkFBUyxlQUFULENBQXlCLEtBQUssTUFBOUIsRUFBc0Msb0JBQXRDLENBQTJELEtBQUssR0FBaEU7QUFDQSw0Q0FBd0IsS0FBSyxHQUE3QjtBQUNEOztBQUVEOzs7Ozs7bUNBR2U7QUFDYixhQUFPLEtBQUssVUFBWjtBQUNEOztBQUVEOzs7Ozs7OzZCQUlTO0FBQ1AsYUFBTyxLQUFLLElBQUwsQ0FBVSxHQUFqQjtBQUNEOztBQUVEOzs7OzhCQUNVO0FBQ1IsYUFBTyxLQUFLLFFBQVo7QUFDRDs7QUFFRDs7Ozs7Ozs7Z0NBS1k7QUFDVixhQUFPLEtBQUssUUFBTCxDQUFjLFVBQWQsQ0FBeUIsNkJBQWMsWUFBdkMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7dUNBTW1CO0FBQ2pCLGFBQU8sS0FBSyxpQkFBWjtBQUNEOztBQUVEOzs7Ozs7OztvQ0FLZ0I7QUFDZCxhQUFPLEtBQUssUUFBTCxDQUFjLFVBQWQsQ0FBeUIsNkJBQWMsUUFBdkMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7O21DQUllO0FBQUE7O0FBQ2IsVUFBSSxLQUFLLElBQVQsRUFBZTtBQUNiLGFBQUssSUFBTCxDQUFVLGFBQVY7QUFDRCxPQUZELE1BRU87QUFDTCxhQUFLLFFBQUwsQ0FBYyxNQUFkLENBQXFCLDZCQUFjLFlBQW5DO0FBQ0Q7QUFDRCwyQkFBUyxLQUFLLE1BQWQsRUFBc0IsWUFBdEIsRUFBb0MsRUFBcEM7QUFDQSxVQUFJLEtBQUssR0FBTCxDQUFTLFFBQVQsSUFBcUIsS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixJQUEzQyxFQUFpRDtBQUMvQyxhQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLGVBQWxCLENBQWtDLFNBQWxDLENBQTRDLEdBQTVDLENBQWdELGVBQWhEO0FBQ0EsOEJBQVUsZ0JBQU0sYUFBTixDQUFvQixLQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLElBQXRDLENBQVYsRUFBdUQ7QUFDckQsbUJBQVMsQ0FENEM7QUFFckQsc0JBQVksU0FGeUM7QUFHckQscUJBQVc7QUFIMEMsU0FBdkQ7QUFLRDs7QUFFRDtBQUNBLFVBQUksYUFBSjtBQUNBLFVBQUksS0FBSyxJQUFULEVBQWU7QUFDYixlQUFPLEtBQUssSUFBTCxDQUFVLFlBQVYsRUFBUDtBQUNELE9BRkQsTUFFTztBQUNMLGVBQU8sZ0NBQ0gsQ0FERyxFQUNBLENBREEsRUFFSCxLQUFLLEdBQUwsRUFBUyxNQUFNLFVBRlosRUFHSCxLQUFLLEdBQUwsRUFBUyxNQUFNLFdBSFosQ0FBUDtBQUlEO0FBQ0QsY0FBUSxHQUFSLENBQVksQ0FDVixLQUFLLFNBQUwsRUFEVSxFQUVWLG1CQUFtQixLQUFLLE1BQXhCLEVBQWdDLEtBQUssR0FBckMsRUFBMEMsSUFBMUMsQ0FGVSxDQUFaLEVBR0csSUFISCxDQUdRLFlBQU07QUFDWixjQUFLLFFBQUwsQ0FBYyxNQUFkLENBQXFCLDZCQUFjLFFBQW5DO0FBQ0QsT0FMRDtBQU1EOztBQUVEOzs7Ozs7Ozs7O2dDQU9ZO0FBQ1YsYUFBTyxLQUFLLFFBQVo7QUFDRDs7QUFFRDs7Ozs7Ozs7d0NBS29CLE8sRUFBUztBQUMzQixhQUFPLEtBQUsscUJBQUwsQ0FBMkIsR0FBM0IsQ0FBK0IsT0FBL0IsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OztnQ0FLWSxPLEVBQVM7QUFDbkIsVUFBSSxLQUFLLFFBQUwsSUFBaUIsT0FBckIsRUFBOEI7QUFDNUIsYUFBSyxRQUFMLEdBQWdCLE9BQWhCO0FBQ0EsYUFBSyxxQkFBTCxDQUEyQixJQUEzQixDQUFnQyxLQUFLLFFBQXJDO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7OztxQ0FJaUI7QUFDZixhQUFPLGdDQUNMLENBQUMsS0FBSyxNQUFMLENBQVksZUFBWixJQUErQixLQUFLLE1BQUwsQ0FBWSxhQUFaLENBQTBCLFFBQTFELEVBQ0s7QUFGUDtBQUdEOztBQUVEOzs7Ozs7O29DQUlnQjtBQUNkLGFBQU8sbUJBQVMsZUFBVCxDQUF5QixLQUFLLE1BQTlCLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OzttQ0FPZSxJLEVBQU07QUFDbkIsYUFBTyxLQUFLLGFBQUwsR0FBcUIsb0JBQXJCLENBQTBDLEtBQUssTUFBL0MsRUFDSCxLQUFLLE9BQUwsSUFBZ0IsSUFEYixFQUNtQixLQUFLLE1BRHhCLENBQVA7QUFFRDs7QUFFRDs7Ozs7OzJDQUd1QjtBQUFBOztBQUNyQixVQUFNLGNBQWMsZ0JBQU0sYUFBTixDQUFvQixLQUFLLE1BQUwsQ0FBWSxVQUFoQyxDQUFwQjs7QUFFQTtBQUNBLHVCQUFPLE1BQVAsQ0FBYyxZQUFZLE9BQVosQ0FBb0IsV0FBcEIsTUFBcUMsUUFBbkQsRUFDSSxrREFESjs7QUFHQSxVQUFNLFlBQVk7QUFDaEIsc0JBQWMsYUFERTtBQUVoQixvQkFBWSxVQUZJO0FBR2hCLGtCQUFVLE1BSE07QUFJaEIsaUJBQVMsTUFKTzs7QUFNaEI7QUFDQSxlQUFPLEVBUFM7QUFRaEIsZ0JBQVEsRUFSUTtBQVNoQixpQkFBUyxFQVRPO0FBVWhCLGtCQUFVO0FBVk0sT0FBbEI7O0FBYUEsVUFBTSxjQUFjO0FBQ2xCLG9CQUFZLE9BRE07QUFFbEIsZ0JBQVEsQ0FGVTtBQUdsQixpQkFBUyxDQUhTO0FBSWxCLGtCQUFVLENBSlE7QUFLbEIsaUJBQVMsT0FMUztBQU1sQixlQUFPLENBTlc7QUFPbEIsa0JBQVU7QUFQUSxPQUFwQjs7QUFVQSxhQUFPLEtBQUssY0FBTCxDQUFvQjtBQUN6QixpQkFBUyxtQkFBTTtBQUNiLGNBQU0sT0FBTyxPQUFLLElBQUwsR0FDWCxPQUFLLElBQUwsQ0FBVSxZQUFWLEVBRFcsR0FFWCxPQUFLLE1BQUwsRUFBWSxNQUFNLHFCQUFsQixFQUZGOztBQUlBO0FBQ0EsY0FBTSxLQUFLLENBQUMsbUJBQVMsY0FBVCxDQUF3QixPQUFLLE1BQTdCLEVBQXFDLFlBQXJDLEVBQVo7O0FBTmEsZ0NBT3NCLGdDQUFlLElBQWYsRUFBcUIsUUFBUyxDQUE5QixFQUFpQyxFQUFqQyxDQVB0QjtBQUFBLGNBT04sR0FQTSxtQkFPTixHQVBNO0FBQUEsY0FPRCxJQVBDLG1CQU9ELElBUEM7QUFBQSxjQU9LLEtBUEwsbUJBT0ssS0FQTDtBQUFBLGNBT1ksTUFQWixtQkFPWSxNQVBaOztBQVNiOzs7QUFDQSxpQkFBTyxNQUFQLENBQWMsU0FBZCxFQUF5QjtBQUN2QixtQkFBTyxlQUFHLEdBQUgsQ0FEZ0I7QUFFdkIsb0JBQVEsZUFBRyxJQUFILENBRmU7QUFHdkIscUJBQVMsZUFBRyxLQUFILENBSGM7QUFJdkIsc0JBQVUsZUFBRyxNQUFIO0FBSmEsV0FBekI7QUFNRCxTQWpCd0I7QUFrQnpCLGdCQUFRLGtCQUFNO0FBQ1o7QUFDQSx5Q0FBbUIsT0FBSyxNQUF4QixFQUFnQyxXQUFoQzs7QUFFQTtBQUNBLHlDQUFtQixPQUFLLGNBQUwsRUFBbkIsRUFBMEMsU0FBMUM7QUFDRDtBQXhCd0IsT0FBcEIsQ0FBUDtBQTBCRDs7QUFFRDs7Ozs7OzJDQUd1QjtBQUFBOztBQUNyQixhQUFPLEtBQUssY0FBTCxDQUFvQjtBQUN6QixnQkFBUSxrQkFBTTtBQUNaLGtDQUFZLE9BQUssTUFBakIsRUFBeUIsQ0FDdkIsVUFEdUIsRUFFdkIsTUFGdUIsRUFHdkIsT0FIdUIsRUFJdkIsS0FKdUIsRUFLdkIsUUFMdUIsRUFNdkIsT0FOdUIsRUFPdkIsUUFQdUIsQ0FBekI7O0FBVUE7QUFDQTtBQUNBLGtDQUFZLE9BQUssY0FBTCxFQUFaLEVBQW1DLENBQ2pDLFVBRGlDLEVBRWpDLEtBRmlDLEVBR2pDLE1BSGlDLEVBSWpDLE9BSmlDLEVBS2pDLFFBTGlDLEVBTWpDLFFBTmlDLEVBT2pDLE9BUGlDLENBQW5DO0FBU0Q7QUF2QndCLE9BQXBCLENBQVA7QUF5QkQ7Ozs7OztBQUdIOzs7Ozs7Ozs7O0FBUU8sU0FBUyxrQkFBVCxDQUE0QixlQUE1QixFQUE2QyxPQUE3QyxFQUFzRCxJQUF0RCxFQUE0RDtBQUNqRSxTQUFPLG1CQUFTLGVBQVQsQ0FBeUIsZUFBekIsRUFDRixrQkFERSxDQUNpQixPQURqQixFQUMwQixJQUQxQixFQUVGLElBRkUsQ0FFRyxxQkFBYTtBQUNqQixRQUFNLFdBQVcsRUFBakI7QUFDQSxjQUFVLE9BQVYsQ0FBa0IsYUFBSztBQUNyQixVQUFJLENBQUMsaUJBQWlCLFFBQWpCLENBQTBCLEVBQUUsT0FBRixDQUFVLE9BQXBDLENBQUwsRUFBbUQ7QUFDakQsaUJBQVMsSUFBVCxDQUFjLEVBQUUsVUFBRixFQUFkO0FBQ0Q7QUFDRixLQUpEO0FBS0EsV0FBTyxRQUFRLEdBQVIsQ0FBWSxRQUFaLENBQVA7QUFDRCxHQVZFLENBQVA7QUFXRDs7QUFFRDs7OztBQUlPLFNBQVMsT0FBVCxDQUFpQixPQUFqQixFQUEwQjtBQUMvQixTQUFPLENBQUMsQ0FBQyw0QkFBa0IsT0FBbEIsRUFBMkIsZ0JBQTNCLENBQVQ7QUFDRDs7Ozs7Ozs7OztBQ3htQkQ7O0FBQ0E7Ozs7OzsrZUFqQkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQkE7Ozs7Ozs7QUFPQSxJQUFJLGVBQUo7O0FBR0E7Ozs7O0lBSWEsYSxXQUFBLGE7OztBQUNYOzs7QUFHQSx5QkFBWSxPQUFaLEVBQXFCO0FBQUE7O0FBR25CO0FBSG1CLDhIQUNiLEtBRGEsRUFDTixPQURNOztBQUluQixVQUFLLE9BQUwsR0FBZSxDQUFmOztBQUVBO0FBQ0EsVUFBSyxPQUFMLEdBQWUsQ0FBZjs7QUFFQTtBQUNBLFVBQUssTUFBTCxHQUFjLENBQWQ7O0FBRUE7QUFDQSxVQUFLLE1BQUwsR0FBYyxDQUFkOztBQUVBO0FBQ0EsVUFBSyxPQUFMLEdBQWUsSUFBZjtBQWhCbUI7QUFpQnBCOztBQUVEOzs7OztpQ0FDYSxDLEVBQUc7QUFBQSxVQUNQLE9BRE8sR0FDSSxDQURKLENBQ1AsT0FETzs7QUFFZCxXQUFLLE9BQUwsR0FBZSxFQUFFLE1BQWpCO0FBQ0EsVUFBSSxXQUFXLFFBQVEsTUFBUixJQUFrQixDQUFqQyxFQUFvQztBQUNsQyxhQUFLLE9BQUwsR0FBZSxRQUFRLENBQVIsRUFBVyxPQUExQjtBQUNBLGFBQUssT0FBTCxHQUFlLFFBQVEsQ0FBUixFQUFXLE9BQTFCO0FBQ0EsZUFBTyxJQUFQO0FBQ0QsT0FKRCxNQUlPO0FBQ0wsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRDs7OztnQ0FDWSxDLEVBQUc7QUFDYixVQUFNLFVBQVUsRUFBRSxjQUFGLElBQW9CLEVBQUUsT0FBdEM7QUFDQSxVQUFJLFdBQVcsUUFBUSxNQUFSLElBQWtCLENBQWpDLEVBQW9DO0FBQ2xDLGFBQUssTUFBTCxHQUFjLFFBQVEsQ0FBUixFQUFXLE9BQXpCO0FBQ0EsYUFBSyxNQUFMLEdBQWMsUUFBUSxDQUFSLEVBQVcsT0FBekI7QUFDQSxZQUFNLEtBQUssS0FBSyxHQUFMLENBQVMsS0FBSyxNQUFMLEdBQWMsS0FBSyxPQUE1QixLQUF3QyxDQUFuRDtBQUNBLFlBQU0sS0FBSyxLQUFLLEdBQUwsQ0FBUyxLQUFLLE1BQUwsR0FBYyxLQUFLLE9BQTVCLEtBQXdDLENBQW5EO0FBQ0EsWUFBSSxNQUFNLEVBQVYsRUFBYztBQUNaLGlCQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0QsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQ7Ozs7K0JBQ1csTyxFQUFTO0FBQ2xCLFdBQUssV0FBTCxDQUFpQixDQUFqQjtBQUNEOztBQUVEOzs7O2tDQUNjO0FBQ1osV0FBSyxVQUFMLENBQWdCO0FBQ2QsaUJBQVMsS0FBSyxNQURBO0FBRWQsaUJBQVMsS0FBSyxNQUZBO0FBR2QsZ0JBQVEsS0FBSztBQUhDLE9BQWhCLEVBSUcsSUFKSDtBQUtBLFdBQUssU0FBTDtBQUNEOzs7Ozs7QUFLSDs7Ozs7Ozs7O0FBT0EsSUFBSSxxQkFBSjs7QUFHQTs7Ozs7O0lBS2EsbUIsV0FBQSxtQjs7O0FBQ1g7OztBQUdBLCtCQUFZLE9BQVosRUFBcUI7QUFBQTs7QUFHbkI7QUFIbUIsMklBQ2IsV0FEYSxFQUNBLE9BREE7O0FBSW5CLFdBQUssT0FBTCxHQUFlLENBQWY7O0FBRUE7QUFDQSxXQUFLLE9BQUwsR0FBZSxDQUFmOztBQUVBO0FBQ0EsV0FBSyxNQUFMLEdBQWMsQ0FBZDs7QUFFQTtBQUNBLFdBQUssTUFBTCxHQUFjLENBQWQ7O0FBRUE7QUFDQSxXQUFLLFNBQUwsR0FBaUIsQ0FBakI7O0FBRUE7QUFDQSxXQUFLLE1BQUwsR0FBYyxJQUFkO0FBbkJtQjtBQW9CcEI7O0FBRUQ7Ozs7O2lDQUNhLEMsRUFBRztBQUNkLFVBQUksS0FBSyxTQUFMLEdBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLGVBQU8sS0FBUDtBQUNEO0FBSGEsVUFJUCxPQUpPLEdBSUksQ0FKSixDQUlQLE9BSk87O0FBS2QsVUFBSSxXQUFXLFFBQVEsTUFBUixJQUFrQixDQUFqQyxFQUFvQztBQUNsQyxhQUFLLE9BQUwsR0FBZSxRQUFRLENBQVIsRUFBVyxPQUExQjtBQUNBLGFBQUssT0FBTCxHQUFlLFFBQVEsQ0FBUixFQUFXLE9BQTFCO0FBQ0EsYUFBSyxNQUFMLEdBQWMsUUFBUSxDQUFSLEVBQVcsT0FBekI7QUFDQSxhQUFLLE1BQUwsR0FBYyxRQUFRLENBQVIsRUFBVyxPQUF6QjtBQUNBLGVBQU8sSUFBUDtBQUNELE9BTkQsTUFNTztBQUNMLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Z0NBQ1ksQyxFQUFHO0FBQUEsVUFDTixPQURNLEdBQ0ssQ0FETCxDQUNOLE9BRE07O0FBRWIsVUFBSSxXQUFXLFFBQVEsTUFBUixJQUFrQixDQUFqQyxFQUFvQztBQUNsQyxhQUFLLE1BQUwsR0FBYyxRQUFRLENBQVIsRUFBVyxPQUF6QjtBQUNBLGFBQUssTUFBTCxHQUFjLFFBQVEsQ0FBUixFQUFXLE9BQXpCO0FBQ0EsWUFBTSxLQUFLLEtBQUssR0FBTCxDQUFTLEtBQUssTUFBTCxHQUFjLEtBQUssT0FBNUIsS0FBd0MsQ0FBbkQ7QUFDQSxZQUFNLEtBQUssS0FBSyxHQUFMLENBQVMsS0FBSyxNQUFMLEdBQWMsS0FBSyxPQUE1QixLQUF3QyxDQUFuRDtBQUNBLFlBQUksTUFBTSxFQUFWLEVBQWM7QUFDWixlQUFLLFlBQUw7QUFDQSxpQkFBTyxLQUFQO0FBQ0Q7QUFDRCxlQUFPLElBQVA7QUFDRCxPQVZELE1BVU87QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEOzs7OytCQUNXLEMsRUFBRztBQUNaLFdBQUssU0FBTDtBQUNBLFVBQUksS0FBSyxTQUFMLEdBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLGFBQUssYUFBTCxDQUFtQixHQUFuQjtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUssTUFBTCxHQUFjLENBQWQ7QUFDQSxhQUFLLFdBQUwsQ0FBaUIsQ0FBakI7QUFDRDtBQUNGOztBQUVEOzs7O2tDQUNjO0FBQ1osV0FBSyxTQUFMLEdBQWlCLENBQWpCO0FBQ0EsV0FBSyxVQUFMLENBQWdCLEVBQUMsU0FBUyxLQUFLLE1BQWYsRUFBdUIsU0FBUyxLQUFLLE1BQXJDLEVBQWhCLEVBQThELEtBQUssTUFBbkU7QUFDQSxXQUFLLFNBQUw7QUFDRDs7QUFFRDs7OzttQ0FDZTtBQUNiLFdBQUssU0FBTCxHQUFpQixDQUFqQjtBQUNEOzs7Ozs7QUFLSDs7Ozs7Ozs7Ozs7Ozs7QUFZTyxJQUFJLG9DQUFKOztBQUdQOzs7Ozs7SUFLTSxlOzs7QUFDSjs7Ozs7O0FBTUEsMkJBQVksSUFBWixFQUFrQixPQUFsQixFQUEyQixLQUEzQixFQUFrQyxJQUFsQyxFQUF3QztBQUFBOztBQUd0QztBQUhzQyxtSUFDaEMsSUFEZ0MsRUFDMUIsT0FEMEI7O0FBSXRDLFdBQUssTUFBTCxHQUFjLEtBQWQ7O0FBRUE7QUFDQSxXQUFLLEtBQUwsR0FBYSxJQUFiOztBQUVBO0FBQ0EsV0FBSyxTQUFMLEdBQWlCLEtBQWpCOztBQUVBO0FBQ0EsV0FBSyxPQUFMLEdBQWUsQ0FBZjs7QUFFQTtBQUNBLFdBQUssT0FBTCxHQUFlLENBQWY7O0FBRUE7QUFDQSxXQUFLLE1BQUwsR0FBYyxDQUFkOztBQUVBO0FBQ0EsV0FBSyxNQUFMLEdBQWMsQ0FBZDs7QUFFQTtBQUNBLFdBQUssTUFBTCxHQUFjLENBQWQ7O0FBRUE7QUFDQSxXQUFLLE1BQUwsR0FBYyxDQUFkOztBQUVBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCOztBQUVBO0FBQ0EsV0FBSyxTQUFMLEdBQWlCLENBQWpCOztBQUVBO0FBQ0EsV0FBSyxTQUFMLEdBQWlCLENBQWpCOztBQUVBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCOztBQUVBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCO0FBM0NzQztBQTRDdkM7O0FBRUQ7Ozs7O2lDQUNhLEMsRUFBRztBQUFBLFVBQ1AsT0FETyxHQUNJLENBREosQ0FDUCxPQURPOztBQUVkLFVBQUksV0FBVyxRQUFRLE1BQVIsSUFBa0IsQ0FBakMsRUFBb0M7QUFDbEMsYUFBSyxVQUFMLEdBQWtCLEtBQUssR0FBTCxFQUFsQjtBQUNBLGFBQUssT0FBTCxHQUFlLFFBQVEsQ0FBUixFQUFXLE9BQTFCO0FBQ0EsYUFBSyxPQUFMLEdBQWUsUUFBUSxDQUFSLEVBQVcsT0FBMUI7QUFDQSxlQUFPLElBQVA7QUFDRCxPQUxELE1BS087QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEOzs7O2dDQUNZLEMsRUFBRztBQUFBLFVBQ04sT0FETSxHQUNLLENBREwsQ0FDTixPQURNOztBQUViLFVBQUksV0FBVyxRQUFRLE1BQVIsSUFBa0IsQ0FBakMsRUFBb0M7QUFBQSx3QkFDRCxRQUFRLENBQVIsQ0FEQztBQUFBLFlBQ2xCLENBRGtCLGFBQzNCLE9BRDJCO0FBQUEsWUFDTixDQURNLGFBQ2YsT0FEZTs7QUFFbEMsYUFBSyxNQUFMLEdBQWMsQ0FBZDtBQUNBLGFBQUssTUFBTCxHQUFjLENBQWQ7QUFDQSxZQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixlQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLEtBQWxCLEVBQXlCLENBQXpCO0FBQ0QsU0FGRCxNQUVPO0FBQ0wsY0FBTSxLQUFLLEtBQUssR0FBTCxDQUFTLElBQUksS0FBSyxPQUFsQixDQUFYO0FBQ0EsY0FBTSxLQUFLLEtBQUssR0FBTCxDQUFTLElBQUksS0FBSyxPQUFsQixDQUFYO0FBQ0E7QUFDQTtBQUNBLGNBQUksS0FBSyxNQUFMLElBQWUsS0FBSyxLQUF4QixFQUErQjtBQUM3QixnQkFBSSxNQUFNLENBQU4sSUFBVyxNQUFNLENBQXJCLEVBQXdCO0FBQ3RCLG1CQUFLLFdBQUwsQ0FBaUIsQ0FBQyxFQUFsQjtBQUNEO0FBQ0YsV0FKRCxNQUlPLElBQUksS0FBSyxNQUFULEVBQWlCO0FBQ3RCLGdCQUFJLE1BQU0sQ0FBTixJQUFXLEtBQUssRUFBcEIsRUFBd0I7QUFDdEIsbUJBQUssV0FBTCxDQUFpQixDQUFDLEVBQWxCO0FBQ0QsYUFGRCxNQUVPLElBQUksTUFBTSxDQUFWLEVBQWE7QUFDbEIscUJBQU8sS0FBUDtBQUNEO0FBQ0YsV0FOTSxNQU1BLElBQUksS0FBSyxLQUFULEVBQWdCO0FBQ3JCLGdCQUFJLE1BQU0sQ0FBTixJQUFXLEtBQUssRUFBcEIsRUFBd0I7QUFDdEIsbUJBQUssV0FBTCxDQUFpQixDQUFDLEVBQWxCO0FBQ0QsYUFGRCxNQUVPLElBQUksTUFBTSxDQUFWLEVBQWE7QUFDbEIscUJBQU8sS0FBUDtBQUNEO0FBQ0YsV0FOTSxNQU1BO0FBQ0wsbUJBQU8sS0FBUDtBQUNEO0FBQ0Y7QUFDRCxlQUFPLElBQVA7QUFDRCxPQWhDRCxNQWdDTztBQUNMLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7K0JBQ1csQyxFQUFHO0FBQ1osV0FBSyxJQUFMLENBQVUsQ0FBVjtBQUNEOztBQUVEOzs7O2tDQUNjO0FBQ1osV0FBSyxTQUFMLEdBQWlCLElBQWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBSyxNQUFMLEdBQWMsS0FBSyxPQUFuQjtBQUNBLFdBQUssTUFBTCxHQUFjLEtBQUssT0FBbkI7QUFDQSxXQUFLLFNBQUwsR0FBaUIsS0FBSyxVQUF0QjtBQUNBLFdBQUssT0FBTCxHQUFlLEtBQUssTUFBcEI7QUFDQSxXQUFLLE9BQUwsR0FBZSxLQUFLLE1BQXBCO0FBQ0EsV0FBSyxLQUFMLENBQVcsSUFBWCxFQUFpQixLQUFqQixFQUF3QixJQUF4QjtBQUNEOztBQUVEOzs7O21DQUNlO0FBQ2IsV0FBSyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzswQkFNTSxLLEVBQU8sSSxFQUFNLEssRUFBTztBQUN4QixXQUFLLFNBQUwsR0FBaUIsS0FBSyxHQUFMLEVBQWpCO0FBQ0EsVUFBTSxZQUFZLEtBQUssU0FBTCxHQUFpQixLQUFLLFNBQXhDO0FBQ0E7QUFDQTtBQUNBLFVBQUssQ0FBQyxJQUFELElBQVMsWUFBWSxDQUF0QixJQUE2QixRQUFRLFlBQVksRUFBckQsRUFBMEQ7QUFDeEQsYUFBSyxVQUFMLEdBQWtCLDBCQUFhLEtBQUssTUFBTCxHQUFjLEtBQUssTUFBaEMsRUFBd0MsU0FBeEMsRUFDZCxLQUFLLFVBRFMsQ0FBbEI7QUFFQSxhQUFLLFVBQUwsR0FBa0IsMEJBQWEsS0FBSyxNQUFMLEdBQWMsS0FBSyxNQUFoQyxFQUF3QyxTQUF4QyxFQUNkLEtBQUssVUFEUyxDQUFsQjtBQUVBLGFBQUssVUFBTCxHQUFrQixLQUFLLEdBQUwsQ0FBUyxLQUFLLFVBQWQsSUFBNEIsSUFBNUIsR0FBbUMsS0FBSyxVQUF4QyxHQUFxRCxDQUF2RTtBQUNBLGFBQUssVUFBTCxHQUFrQixLQUFLLEdBQUwsQ0FBUyxLQUFLLFVBQWQsSUFBNEIsSUFBNUIsR0FBbUMsS0FBSyxVQUF4QyxHQUFxRCxDQUF2RTtBQUNBLGFBQUssTUFBTCxHQUFjLEtBQUssTUFBbkI7QUFDQSxhQUFLLE1BQUwsR0FBYyxLQUFLLE1BQW5CO0FBQ0EsYUFBSyxTQUFMLEdBQWlCLEtBQUssU0FBdEI7QUFDRDs7QUFFRCxXQUFLLFVBQUwsQ0FBZ0I7QUFDZCxvQkFEYztBQUVkLGtCQUZjO0FBR2QsY0FBTSxLQUFLLFNBSEc7QUFJZCxnQkFBUSxLQUFLLE1BQUwsR0FBYyxLQUFLLE1BQUwsR0FBYyxLQUFLLE9BQWpDLEdBQTJDLENBSnJDO0FBS2QsZ0JBQVEsS0FBSyxLQUFMLEdBQWEsS0FBSyxNQUFMLEdBQWMsS0FBSyxPQUFoQyxHQUEwQyxDQUxwQztBQU1kLGdCQUFRLEtBQUssT0FOQztBQU9kLGdCQUFRLEtBQUssT0FQQztBQVFkLGVBQU8sS0FBSyxNQVJFO0FBU2QsZUFBTyxLQUFLLE1BVEU7QUFVZCxtQkFBVyxLQUFLLE1BQUwsR0FBYyxLQUFLLFVBQW5CLEdBQWdDLENBVjdCO0FBV2QsbUJBQVcsS0FBSyxLQUFMLEdBQWEsS0FBSyxVQUFsQixHQUErQjtBQVg1QixPQUFoQixFQVlHLEtBWkg7QUFhRDs7QUFFRDs7Ozs7Ozt5QkFJSyxLLEVBQU87QUFDVixVQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixhQUFLLFNBQUwsR0FBaUIsS0FBakI7QUFDQSxhQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLElBQWxCLEVBQXdCLEtBQXhCO0FBQ0EsYUFBSyxTQUFMO0FBQ0Q7QUFDRjs7Ozs7O0FBSUg7Ozs7O0lBR2EsaUIsV0FBQSxpQjs7O0FBQ1g7OztBQUdBLDZCQUFZLE9BQVosRUFBcUI7QUFBQTs7QUFBQSxpSUFDYixVQURhLEVBQ0QsT0FEQyxFQUNRLElBRFIsRUFDYyxJQURkO0FBRXBCOzs7RUFOb0MsZTs7QUFVdkM7Ozs7O0lBR2EsZ0IsV0FBQSxnQjs7O0FBQ1g7OztBQUdBLDRCQUFZLE9BQVosRUFBcUI7QUFBQTs7QUFBQSwrSEFDYixTQURhLEVBQ0YsT0FERSxFQUNPLElBRFAsRUFDYSxLQURiO0FBRXBCOzs7RUFObUMsZTs7QUFVdEM7Ozs7O0lBR2EsZ0IsV0FBQSxnQjs7O0FBQ1g7OztBQUdBLDRCQUFZLE9BQVosRUFBcUI7QUFBQTs7QUFBQSwrSEFDYixTQURhLEVBQ0YsT0FERSxFQUNPLEtBRFAsRUFDYyxJQURkO0FBRXBCOzs7RUFObUMsZTs7QUFXdEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFjQSxJQUFJLG1CQUFKOztBQUdBOzs7Ozs7SUFLYSxpQixXQUFBLGlCOzs7QUFDWDs7O0FBR0EsNkJBQVksT0FBWixFQUFxQjtBQUFBOztBQUduQjtBQUhtQix1SUFDYixTQURhLEVBQ0YsT0FERTs7QUFJbkIsV0FBSyxTQUFMLEdBQWlCLEtBQWpCOztBQUVBO0FBQ0EsV0FBSyxPQUFMLEdBQWUsQ0FBZjs7QUFFQTtBQUNBLFdBQUssT0FBTCxHQUFlLENBQWY7O0FBRUE7QUFDQSxXQUFLLE1BQUwsR0FBYyxDQUFkOztBQUVBO0FBQ0EsV0FBSyxNQUFMLEdBQWMsQ0FBZDs7QUFFQTtBQUNBLFdBQUssU0FBTCxHQUFpQixDQUFqQjs7QUFFQTtBQUNBLFdBQUssTUFBTCxHQUFjLENBQWQ7O0FBRUE7QUFDQSxXQUFLLE1BQUwsR0FBYyxDQUFkOztBQUVBO0FBQ0EsV0FBSyxTQUFMLEdBQWlCLENBQWpCOztBQUVBO0FBQ0EsV0FBSyxTQUFMLEdBQWlCLENBQWpCOztBQUVBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCOztBQUVBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCO0FBckNtQjtBQXNDcEI7O0FBRUQ7Ozs7O2lDQUNhLEMsRUFBRztBQUNkLFVBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2xCLGVBQU8sS0FBUDtBQUNEO0FBSGEsVUFJUCxPQUpPLEdBSUksQ0FKSixDQUlQLE9BSk87O0FBS2QsVUFBSSxXQUFXLFFBQVEsTUFBUixJQUFrQixDQUFqQyxFQUFvQztBQUNsQyxhQUFLLE9BQUwsR0FBZSxRQUFRLENBQVIsRUFBVyxPQUExQjtBQUNBLGFBQUssT0FBTCxHQUFlLFFBQVEsQ0FBUixFQUFXLE9BQTFCO0FBQ0EsZUFBTyxJQUFQO0FBQ0QsT0FKRCxNQUlPO0FBQ0wsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRDs7OztnQ0FDWSxDLEVBQUc7QUFBQSxVQUNOLE9BRE0sR0FDSyxDQURMLENBQ04sT0FETTs7QUFFYixVQUFJLFdBQVcsUUFBUSxNQUFSLElBQWtCLENBQWpDLEVBQW9DO0FBQ2xDLGFBQUssTUFBTCxHQUFjLFFBQVEsQ0FBUixFQUFXLE9BQXpCO0FBQ0EsYUFBSyxNQUFMLEdBQWMsUUFBUSxDQUFSLEVBQVcsT0FBekI7QUFDQSxZQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixlQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLEtBQWxCLEVBQXlCLENBQXpCO0FBQ0QsU0FGRCxNQUVPO0FBQ0wsY0FBTSxLQUFLLEtBQUssR0FBTCxDQUFTLEtBQUssTUFBTCxHQUFjLEtBQUssT0FBNUIsS0FBd0MsQ0FBbkQ7QUFDQSxjQUFNLEtBQUssS0FBSyxHQUFMLENBQVMsS0FBSyxNQUFMLEdBQWMsS0FBSyxPQUE1QixLQUF3QyxDQUFuRDtBQUNBLGNBQUksTUFBTSxFQUFWLEVBQWM7QUFDWixnQkFBSSxLQUFLLFNBQUwsSUFBa0IsQ0FBdEIsRUFBeUI7QUFDdkIsbUJBQUssWUFBTDtBQUNBLHFCQUFPLEtBQVA7QUFDRCxhQUhELE1BR087QUFDTCxtQkFBSyxXQUFMLENBQWlCLENBQWpCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0QsZUFBTyxJQUFQO0FBQ0QsT0FsQkQsTUFrQk87QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEOzs7OytCQUNXLEMsRUFBRztBQUNaLFVBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2xCLGFBQUssSUFBTCxDQUFVLENBQVY7QUFDQTtBQUNEOztBQUVELFdBQUssU0FBTDtBQUNBLFVBQUksS0FBSyxTQUFMLElBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCLGFBQUssYUFBTCxDQUFtQixHQUFuQjtBQUNBO0FBQ0Q7O0FBRUQsV0FBSyxZQUFMO0FBQ0Q7O0FBRUQ7Ozs7a0NBQ2M7QUFDWixXQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxXQUFLLFNBQUwsR0FBaUIsSUFBakI7QUFDQSxXQUFLLEtBQUwsQ0FBVyxJQUFYLEVBQWlCLEtBQWpCLEVBQXdCLElBQXhCO0FBQ0Q7O0FBRUQ7Ozs7bUNBQ2U7QUFDYixXQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxXQUFLLFNBQUwsR0FBaUIsS0FBakI7QUFDRDs7QUFFRDs7Ozs7Ozs7OzBCQU1NLEssRUFBTyxJLEVBQU0sSyxFQUFPO0FBQ3hCLFdBQUssU0FBTCxHQUFpQixLQUFLLEdBQUwsRUFBakI7QUFDQSxVQUFJLEtBQUosRUFBVztBQUNULGFBQUssVUFBTCxHQUFrQixLQUFLLFVBQUwsR0FBa0IsQ0FBcEM7QUFDRCxPQUZELE1BRU8sSUFBSSxLQUFLLFNBQUwsR0FBaUIsS0FBSyxTQUF0QixHQUFrQyxDQUF0QyxFQUF5QztBQUM5QyxhQUFLLFVBQUwsR0FBa0IsMEJBQWEsS0FBSyxNQUFMLEdBQWMsS0FBSyxNQUFoQyxFQUNkLEtBQUssU0FBTCxHQUFpQixLQUFLLFNBRFIsRUFDbUIsS0FBSyxVQUR4QixDQUFsQjtBQUVBLGFBQUssVUFBTCxHQUFrQiwwQkFBYSxLQUFLLE1BQUwsR0FBYyxLQUFLLE1BQWhDLEVBQ2QsS0FBSyxTQUFMLEdBQWlCLEtBQUssU0FEUixFQUNtQixLQUFLLFVBRHhCLENBQWxCO0FBRUQ7QUFDRCxXQUFLLE1BQUwsR0FBYyxLQUFLLE1BQW5CO0FBQ0EsV0FBSyxNQUFMLEdBQWMsS0FBSyxNQUFuQjtBQUNBLFdBQUssU0FBTCxHQUFpQixLQUFLLFNBQXRCOztBQUVBLFdBQUssVUFBTCxDQUFnQjtBQUNkLG9CQURjO0FBRWQsa0JBRmM7QUFHZCx1QkFBZSxLQUFLLE9BSE47QUFJZCx1QkFBZSxLQUFLLE9BSk47QUFLZCxnQkFBUSxLQUFLLE1BQUwsR0FBYyxLQUFLLE9BTGI7QUFNZCxnQkFBUSxLQUFLLE1BQUwsR0FBYyxLQUFLLE9BTmI7QUFPZCxtQkFBVyxLQUFLLFVBUEY7QUFRZCxtQkFBVyxLQUFLO0FBUkYsT0FBaEIsRUFTRyxLQVRIO0FBVUQ7O0FBRUQ7Ozs7Ozs7eUJBSUssSyxFQUFPO0FBQ1YsVUFBSSxLQUFLLFNBQVQsRUFBb0I7QUFDbEIsYUFBSyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0EsYUFBSyxLQUFMLENBQVcsS0FBWCxFQUFrQixJQUFsQixFQUF3QixLQUF4QjtBQUNBLGFBQUssU0FBTDtBQUNEO0FBQ0Y7Ozs7OztBQUtIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkEsSUFBSSxpQkFBSjs7QUFFQTs7OztBQUlBLElBQU0seUJBQXlCLENBQS9COztBQUVBOzs7O0FBSUEsSUFBTSx5QkFBeUIsRUFBL0I7O0FBRUE7Ozs7O0lBSWEsZSxXQUFBLGU7OztBQUNYOzs7QUFHQSwyQkFBWSxPQUFaLEVBQXFCO0FBQUE7O0FBR25CO0FBSG1CLG1JQUNiLE9BRGEsRUFDSixPQURJOztBQUluQixXQUFLLFNBQUwsR0FBaUIsS0FBakI7O0FBRUE7QUFDQSxXQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQTtBQUNBLFdBQUssUUFBTCxHQUFnQixDQUFoQjs7QUFFQTtBQUNBLFdBQUssUUFBTCxHQUFnQixDQUFoQjtBQUNBO0FBQ0EsV0FBSyxRQUFMLEdBQWdCLENBQWhCOztBQUVBO0FBQ0EsV0FBSyxPQUFMLEdBQWUsQ0FBZjtBQUNBO0FBQ0EsV0FBSyxPQUFMLEdBQWUsQ0FBZjs7QUFFQTtBQUNBLFdBQUssT0FBTCxHQUFlLENBQWY7QUFDQTtBQUNBLFdBQUssT0FBTCxHQUFlLENBQWY7O0FBRUE7QUFDQSxXQUFLLFdBQUwsR0FBbUIsQ0FBbkI7QUFDQTtBQUNBLFdBQUssV0FBTCxHQUFtQixDQUFuQjs7QUFFQTtBQUNBLFdBQUssY0FBTCxHQUFzQixDQUF0QjtBQUNBO0FBQ0EsV0FBSyxjQUFMLEdBQXNCLENBQXRCOztBQUVBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCO0FBQ0E7QUFDQSxXQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQTtBQUNBLFdBQUssU0FBTCxHQUFpQixDQUFqQjs7QUFFQTtBQUNBLFdBQUssVUFBTCxHQUFrQixDQUFsQjtBQUNBO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLENBQWxCO0FBOUNtQjtBQStDcEI7O0FBRUQ7Ozs7O2lDQUNhLEMsRUFBRztBQUFBLFVBQ1AsT0FETyxHQUNJLENBREosQ0FDUCxPQURPO0FBRWQ7QUFDQTs7QUFDQSxVQUFJLFdBQVcsUUFBUSxNQUFSLElBQWtCLENBQWpDLEVBQW9DO0FBQ2xDLGVBQU8sSUFBUDtBQUNELE9BRkQsTUFFTyxJQUFJLFdBQVcsUUFBUSxNQUFSLElBQWtCLENBQWpDLEVBQW9DO0FBQ3pDLGFBQUssVUFBTCxHQUFrQixLQUFLLEdBQUwsRUFBbEI7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBUSxDQUFSLEVBQVcsT0FBM0I7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBUSxDQUFSLEVBQVcsT0FBM0I7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBUSxDQUFSLEVBQVcsT0FBM0I7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBUSxDQUFSLEVBQVcsT0FBM0I7QUFDQSxlQUFPLElBQVA7QUFDRCxPQVBNLE1BT0E7QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEOzs7O2dDQUNZLEMsRUFBRztBQUFBLFVBQ04sT0FETSxHQUNLLENBREwsQ0FDTixPQURNO0FBRWI7QUFDQTs7QUFDQSxVQUFJLFdBQVcsUUFBUSxNQUFSLElBQWtCLENBQWpDLEVBQW9DO0FBQ2xDLGVBQU8sSUFBUDtBQUNELE9BRkQsTUFFTyxJQUFJLFdBQVcsUUFBUSxNQUFSLElBQWtCLENBQWpDLEVBQW9DO0FBQ3pDLGFBQUssT0FBTCxHQUFlLFFBQVEsQ0FBUixFQUFXLE9BQTFCO0FBQ0EsYUFBSyxPQUFMLEdBQWUsUUFBUSxDQUFSLEVBQVcsT0FBMUI7QUFDQSxhQUFLLE9BQUwsR0FBZSxRQUFRLENBQVIsRUFBVyxPQUExQjtBQUNBLGFBQUssT0FBTCxHQUFlLFFBQVEsQ0FBUixFQUFXLE9BQTFCO0FBQ0EsWUFBSSxLQUFLLFNBQVQsRUFBb0I7QUFDbEIsZUFBSyxLQUFMLENBQVcsS0FBWCxFQUFrQixLQUFsQixFQUF5QixDQUF6QjtBQUNELFNBRkQsTUFFTztBQUNMLGNBQU0sTUFBTSxLQUFLLE9BQUwsR0FBZSxLQUFLLFFBQWhDO0FBQ0EsY0FBTSxNQUFNLEtBQUssT0FBTCxHQUFlLEtBQUssUUFBaEM7QUFDQSxjQUFNLE1BQU0sS0FBSyxPQUFMLEdBQWUsS0FBSyxRQUFoQztBQUNBLGNBQU0sTUFBTSxLQUFLLE9BQUwsR0FBZSxLQUFLLFFBQWhDO0FBQ0E7QUFDQSxjQUFJLE1BQU0sR0FBTixJQUFhLENBQWIsSUFBa0IsTUFBTSxHQUFOLElBQWEsQ0FBbkMsRUFBc0M7QUFDcEMsZ0JBQUksS0FBSyxHQUFMLENBQVMsTUFBTSxHQUFmLEtBQXVCLHNCQUF2QixJQUNDLEtBQUssR0FBTCxDQUFTLE1BQU0sR0FBZixLQUF1QixzQkFENUIsRUFDb0Q7QUFDbEQsbUJBQUssV0FBTCxDQUFpQixDQUFqQjtBQUNEO0FBQ0YsV0FMRCxNQUtPLElBQUksS0FBSyxHQUFMLENBQVMsTUFBTSxHQUFmLEtBQXVCLHNCQUF2QixJQUNOLEtBQUssR0FBTCxDQUFTLE1BQU0sR0FBZixLQUF1QixzQkFEckIsRUFDNkM7QUFDbEQ7QUFDQSxtQkFBTyxLQUFQO0FBQ0Q7QUFDRjtBQUNELGVBQU8sSUFBUDtBQUNELE9BekJNLE1BeUJBO0FBQ0wsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRDs7OzsrQkFDVyxDLEVBQUc7QUFDWixXQUFLLElBQUwsQ0FBVSxDQUFWO0FBQ0Q7O0FBRUQ7Ozs7a0NBQ2M7QUFDWixXQUFLLFNBQUwsR0FBaUIsSUFBakI7QUFDQSxXQUFLLFNBQUwsR0FBaUIsS0FBSyxVQUF0QjtBQUNBLFdBQUssV0FBTCxHQUFtQixDQUFuQjtBQUNBLFdBQUssV0FBTCxHQUFtQixDQUFuQjtBQUNBLFdBQUssY0FBTCxHQUFzQixDQUFDLEtBQUssUUFBTCxHQUFnQixLQUFLLFFBQXRCLElBQWtDLEdBQXhEO0FBQ0EsV0FBSyxjQUFMLEdBQXNCLENBQUMsS0FBSyxRQUFMLEdBQWdCLEtBQUssUUFBdEIsSUFBa0MsR0FBeEQ7QUFDQSxXQUFLLEtBQUwsQ0FBVyxJQUFYLEVBQWlCLEtBQWpCLEVBQXdCLElBQXhCO0FBQ0Q7O0FBRUQ7Ozs7bUNBQ2U7QUFDYixXQUFLLFNBQUwsR0FBaUIsS0FBakI7QUFDRDs7QUFFRDs7Ozs7Ozs7OzBCQU1NLEssRUFBTyxJLEVBQU0sSyxFQUFPO0FBQ3hCLFdBQUssU0FBTCxHQUFpQixLQUFLLEdBQUwsRUFBakI7QUFDQSxVQUFNLFlBQVksS0FBSyxTQUFMLEdBQWlCLEtBQUssU0FBeEM7QUFDQSxVQUFNLFNBQVMsS0FBSyxPQUFMLEVBQWY7QUFDQSxVQUFNLFNBQVMsS0FBSyxPQUFMLEVBQWY7QUFDQTtBQUNBO0FBQ0EsVUFBSyxDQUFDLElBQUQsSUFBUyxZQUFZLENBQXRCLElBQTZCLFFBQVEsWUFBWSxFQUFyRCxFQUEwRDtBQUN4RCxhQUFLLFVBQUwsR0FBa0IsMEJBQWEsU0FBUyxLQUFLLFdBQTNCLEVBQXdDLFNBQXhDLEVBQ2QsS0FBSyxVQURTLENBQWxCO0FBRUEsYUFBSyxVQUFMLEdBQWtCLDBCQUFhLFNBQVMsS0FBSyxXQUEzQixFQUF3QyxTQUF4QyxFQUNkLEtBQUssVUFEUyxDQUFsQjtBQUVBLGFBQUssVUFBTCxHQUFrQixLQUFLLEdBQUwsQ0FBUyxLQUFLLFVBQWQsSUFBNEIsSUFBNUIsR0FBbUMsS0FBSyxVQUF4QyxHQUFxRCxDQUF2RTtBQUNBLGFBQUssVUFBTCxHQUFrQixLQUFLLEdBQUwsQ0FBUyxLQUFLLFVBQWQsSUFBNEIsSUFBNUIsR0FBbUMsS0FBSyxVQUF4QyxHQUFxRCxDQUF2RTtBQUNBLGFBQUssV0FBTCxHQUFtQixNQUFuQjtBQUNBLGFBQUssV0FBTCxHQUFtQixNQUFuQjtBQUNBLGFBQUssU0FBTCxHQUFpQixLQUFLLFNBQXRCO0FBQ0Q7O0FBRUQsVUFBTSxVQUFVLEtBQUssT0FBTCxDQUFhLEtBQUssUUFBbEIsRUFBNEIsS0FBSyxRQUFqQyxFQUNaLEtBQUssUUFETyxFQUNHLEtBQUssUUFEUixDQUFoQjtBQUVBLFVBQU0sU0FBUyxLQUFLLE9BQUwsQ0FBYSxLQUFLLE9BQWxCLEVBQTJCLEtBQUssT0FBaEMsRUFDWCxLQUFLLE9BRE0sRUFDRyxLQUFLLE9BRFIsQ0FBZjtBQUVBLFdBQUssVUFBTCxDQUFnQjtBQUNkLG9CQURjO0FBRWQsa0JBRmM7QUFHZCxjQUFNLEtBQUssU0FIRztBQUlkLHVCQUFlLEtBQUssY0FKTjtBQUtkLHVCQUFlLEtBQUssY0FMTjtBQU1kLGFBQUssS0FBSyxJQUFMLENBQVUsU0FBUyxPQUFuQixDQU5TO0FBT2QsZ0JBQVEsU0FBUyxHQVBIO0FBUWQsZ0JBQVEsU0FBUyxHQVJIO0FBU2QsbUJBQVcsS0FBSyxVQUFMLEdBQWtCLEdBVGY7QUFVZCxtQkFBVyxLQUFLLFVBQUwsR0FBa0I7QUFWZixPQUFoQixFQVdHLEtBWEg7QUFZRDs7QUFFRDs7Ozs7Ozt5QkFJSyxLLEVBQU87QUFDVixVQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixhQUFLLFNBQUwsR0FBaUIsS0FBakI7QUFDQSxhQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLElBQWxCLEVBQXdCLEtBQXhCO0FBQ0EsYUFBSyxTQUFMO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7Ozs7NEJBUVEsRSxFQUFJLEUsRUFBSSxFLEVBQUksRSxFQUFJO0FBQ3RCLGFBQU8sQ0FBQyxLQUFLLEVBQU4sS0FBYSxLQUFLLEVBQWxCLElBQXdCLENBQUMsS0FBSyxFQUFOLEtBQWEsS0FBSyxFQUFsQixDQUEvQjtBQUNEOztBQUVEOzs7Ozs7OzhCQUlVO0FBQ1IsYUFBTyxLQUFLLEdBQUwsQ0FBVSxLQUFLLE9BQUwsR0FBZSxLQUFLLFFBQXJCLElBQ1gsS0FBSyxPQUFMLEdBQWUsS0FBSyxRQURULENBQVQsQ0FBUDtBQUVEOztBQUVEOzs7Ozs7OzhCQUlVO0FBQ1IsYUFBTyxLQUFLLEdBQUwsQ0FBVSxLQUFLLE9BQUwsR0FBZSxLQUFLLFFBQXJCLElBQ1gsS0FBSyxPQUFMLEdBQWUsS0FBSyxRQURULENBQVQsQ0FBUDtBQUVEOzs7Ozs7Ozs7Ozs7OztBQzcxQkg7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OzBKQXBCQTs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQSxJQUFNLFFBQVEsZ0JBQWQ7O0FBR0E7Ozs7Ozs7OztJQVFhLE87QUFDWDs7Ozs7OztRQURXLE8sR0FRWCxpQkFBWSxJQUFaLEVBQWtCLElBQWxCLEVBQXdCLElBQXhCLEVBQThCLEtBQTlCLEVBQXFDO0FBQUE7O0FBQ25DO0FBQ0EsT0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBO0FBQ0EsT0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBO0FBQ0EsT0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBO0FBQ0EsT0FBSyxLQUFMLEdBQWEsS0FBYjtBQUNELEM7O0FBSUg7Ozs7Ozs7OztJQU9hLFEsV0FBQSxROzs7OztBQUVYOzs7Ozs7O3dCQU9XLE8sRUFBOEM7QUFBQSxVQUFyQywyQkFBcUMsdUVBQVAsS0FBTzs7QUFDdkQsVUFBSSxNQUFNLFFBQVEsS0FBUixDQUFWO0FBQ0EsVUFBSSxDQUFDLEdBQUwsRUFBVTtBQUNSLGNBQU0sSUFBSSxRQUFKLENBQWEsT0FBYixFQUFzQiwyQkFBdEIsQ0FBTjtBQUNBLGdCQUFRLEtBQVIsSUFBaUIsR0FBakI7QUFDRDtBQUNELGFBQU8sR0FBUDtBQUNEOztBQUVEOzs7Ozs7O0FBSUEsb0JBQVksT0FBWixFQUFxQix1QkFBckIsRUFBOEM7QUFBQTs7QUFDNUM7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsT0FBaEI7O0FBRUE7QUFDQSxTQUFLLFlBQUwsR0FBb0IsRUFBcEI7O0FBRUE7QUFDQSxTQUFLLFNBQUwsR0FBaUIsRUFBakI7O0FBRUE7QUFDQSxTQUFLLE1BQUwsR0FBYyxFQUFkOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLEVBQWhCOztBQUVBO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLElBQWpCOztBQUVBO0FBQ0EsU0FBSyx3QkFBTCxHQUFnQyx1QkFBaEM7O0FBRUE7Ozs7O0FBS0EsU0FBSyxZQUFMLEdBQW9CLEtBQXBCOztBQUVBO0FBQ0EsU0FBSyxLQUFMLEdBQWEsZUFBUyxrQkFBTSxRQUFRLGFBQVIsQ0FBc0IsV0FBNUIsQ0FBVCxFQUNULEtBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsSUFBbEIsQ0FEUyxDQUFiOztBQUdBO0FBQ0EsU0FBSyxzQkFBTCxHQUE4Qiw0QkFBOUI7O0FBRUE7Ozs7QUFJQSxTQUFLLFlBQUwsR0FBb0IsT0FBTyxNQUFQLENBQWMsSUFBZCxDQUFwQjs7QUFFQTtBQUNBLFNBQUssa0JBQUwsR0FBMEIsS0FBSyxhQUFMLENBQW1CLElBQW5CLENBQXdCLElBQXhCLENBQTFCO0FBQ0E7QUFDQSxTQUFLLGdCQUFMLEdBQXdCLEtBQUssV0FBTCxDQUFpQixJQUFqQixDQUFzQixJQUF0QixDQUF4QjtBQUNBO0FBQ0EsU0FBSyxpQkFBTCxHQUF5QixLQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBekI7QUFDQTtBQUNBLFNBQUssbUJBQUwsR0FBMkIsS0FBSyxjQUFMLENBQW9CLElBQXBCLENBQXlCLElBQXpCLENBQTNCOztBQUVBLFNBQUssUUFBTCxDQUFjLGdCQUFkLENBQStCLFlBQS9CLEVBQTZDLEtBQUssa0JBQWxEO0FBQ0EsU0FBSyxRQUFMLENBQWMsZ0JBQWQsQ0FBK0IsVUFBL0IsRUFBMkMsS0FBSyxnQkFBaEQ7QUFDQSxTQUFLLFFBQUwsQ0FBYyxnQkFBZCxDQUErQixXQUEvQixFQUE0QyxLQUFLLGlCQUFqRDtBQUNBLFNBQUssUUFBTCxDQUFjLGdCQUFkLENBQStCLGFBQS9CLEVBQThDLEtBQUssbUJBQW5EOztBQUVBO0FBQ0EsU0FBSyxlQUFMLEdBQXVCLEtBQXZCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OEJBR1U7QUFDUixXQUFLLFFBQUwsQ0FBYyxtQkFBZCxDQUFrQyxZQUFsQyxFQUFnRCxLQUFLLGtCQUFyRDtBQUNBLFdBQUssUUFBTCxDQUFjLG1CQUFkLENBQWtDLFVBQWxDLEVBQThDLEtBQUssZ0JBQW5EO0FBQ0EsV0FBSyxRQUFMLENBQWMsbUJBQWQsQ0FBa0MsV0FBbEMsRUFBK0MsS0FBSyxpQkFBcEQ7QUFDQSxXQUFLLFFBQUwsQ0FBYyxtQkFBZCxDQUFrQyxhQUFsQyxFQUFpRCxLQUFLLG1CQUF0RDtBQUNBLGFBQU8sS0FBSyxRQUFMLENBQWMsS0FBZCxDQUFQO0FBQ0EsV0FBSyxLQUFMLENBQVcsTUFBWDtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7OzhCQVVVLGdCLEVBQWtCLE8sRUFBUztBQUNuQyxVQUFNLGFBQWEsSUFBSSxnQkFBSixDQUFxQixJQUFyQixDQUFuQjtBQUNBLFVBQU0sT0FBTyxXQUFXLE9BQVgsRUFBYjtBQUNBLFVBQUksYUFBYSxLQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBakI7QUFDQSxVQUFJLENBQUMsVUFBTCxFQUFpQjtBQUNmLGFBQUssWUFBTCxDQUFrQixJQUFsQixDQUF1QixVQUF2QjtBQUNBLHFCQUFhLDRCQUFiO0FBQ0EsYUFBSyxZQUFMLENBQWtCLElBQWxCLElBQTBCLFVBQTFCO0FBQ0Q7QUFDRCxhQUFPLFdBQVcsR0FBWCxDQUFlLE9BQWYsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7OztrQ0FRYyxnQixFQUFrQjtBQUM5QixVQUFNLE9BQU8sSUFBSSxnQkFBSixDQUFxQixJQUFyQixFQUEyQixPQUEzQixFQUFiO0FBQ0EsVUFBTSxhQUFhLEtBQUssWUFBTCxDQUFrQixJQUFsQixDQUFuQjtBQUNBLFVBQUksVUFBSixFQUFnQjtBQUNkLG1CQUFXLFNBQVg7QUFDQSxZQUFNLFFBQVEsc0JBQVUsS0FBSyxZQUFmLEVBQTZCO0FBQUEsaUJBQUssRUFBRSxPQUFGLE1BQWUsSUFBcEI7QUFBQSxTQUE3QixDQUFkO0FBQ0EsWUFBSSxRQUFRLENBQVosRUFBZTtBQUNiLGlCQUFPLEtBQVA7QUFDRDtBQUNEO0FBQ0EsYUFBSyxZQUFMLENBQWtCLE1BQWxCLENBQXlCLEtBQXpCLEVBQWdDLENBQWhDO0FBQ0EsYUFBSyxNQUFMLENBQVksTUFBWixDQUFtQixLQUFuQixFQUEwQixDQUExQjtBQUNBLGFBQUssUUFBTCxDQUFjLE1BQWQsQ0FBcUIsS0FBckIsRUFBNEIsQ0FBNUI7QUFDQSxhQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLEtBQXRCLEVBQTZCLENBQTdCO0FBQ0EsZUFBTyxLQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBUDtBQUNBLGVBQU8sSUFBUDtBQUNELE9BYkQsTUFhTztBQUNMLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7O2tDQUtjLE8sRUFBUztBQUNyQixhQUFPLEtBQUssc0JBQUwsQ0FBNEIsR0FBNUIsQ0FBZ0MsT0FBaEMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7a0NBTWMsSyxFQUFPO0FBQ25CLFVBQU0sTUFBTSxLQUFLLEdBQUwsRUFBWjtBQUNBLFdBQUssWUFBTCxHQUFvQixLQUFwQjs7QUFFQSxXQUFLLHNCQUFMLENBQTRCLElBQTVCLENBQWlDLEtBQWpDOztBQUVBLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLFlBQUwsQ0FBa0IsTUFBdEMsRUFBOEMsR0FBOUMsRUFBbUQ7QUFDakQsWUFBSSxLQUFLLE1BQUwsQ0FBWSxDQUFaLENBQUosRUFBb0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0Q7QUFDRCxZQUFJLEtBQUssUUFBTCxDQUFjLENBQWQsS0FBb0IsS0FBSyxRQUFMLENBQWMsQ0FBZCxJQUFtQixHQUEzQyxFQUFnRDtBQUM5QztBQUNBLGVBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNEO0FBQ0QsWUFBSSxLQUFLLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUIsWUFBckIsQ0FBa0MsS0FBbEMsQ0FBSixFQUE4QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBSyxjQUFMLENBQW9CLENBQXBCO0FBQ0Q7QUFDRjs7QUFFRCxXQUFLLFdBQUwsQ0FBaUIsS0FBakI7QUFDRDs7QUFFRDs7Ozs7Ozs7O2lDQU1hLEssRUFBTztBQUNsQixVQUFNLE1BQU0sS0FBSyxHQUFMLEVBQVo7O0FBRUEsV0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLEtBQUssWUFBTCxDQUFrQixNQUF0QyxFQUE4QyxHQUE5QyxFQUFtRDtBQUNqRCxZQUFJLENBQUMsS0FBSyxTQUFMLENBQWUsQ0FBZixDQUFMLEVBQXdCO0FBQ3RCO0FBQ0E7QUFDRDtBQUNELFlBQUksS0FBSyxRQUFMLENBQWMsQ0FBZCxLQUFvQixLQUFLLFFBQUwsQ0FBYyxDQUFkLElBQW1CLEdBQTNDLEVBQWdEO0FBQzlDO0FBQ0EsZUFBSyxhQUFMLENBQW1CLENBQW5CO0FBQ0E7QUFDRDtBQUNELFlBQUksQ0FBQyxLQUFLLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUIsV0FBckIsQ0FBaUMsS0FBakMsQ0FBTCxFQUE4QztBQUM1QztBQUNBLGVBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNEO0FBQ0Y7O0FBRUQsV0FBSyxXQUFMLENBQWlCLEtBQWpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztnQ0FNWSxLLEVBQU87QUFDakIsVUFBTSxNQUFNLEtBQUssR0FBTCxFQUFaOztBQUVBLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLFlBQUwsQ0FBa0IsTUFBdEMsRUFBOEMsR0FBOUMsRUFBbUQ7QUFDakQsWUFBSSxDQUFDLEtBQUssU0FBTCxDQUFlLENBQWYsQ0FBTCxFQUF3QjtBQUN0QjtBQUNBO0FBQ0Q7QUFDRCxZQUFJLEtBQUssUUFBTCxDQUFjLENBQWQsS0FBb0IsS0FBSyxRQUFMLENBQWMsQ0FBZCxJQUFtQixHQUEzQyxFQUFnRDtBQUM5QztBQUNBLGVBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNBO0FBQ0Q7QUFDRCxhQUFLLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBcUIsVUFBckIsQ0FBZ0MsS0FBaEM7QUFDQSxZQUFJLENBQUMsS0FBSyxRQUFMLENBQWMsQ0FBZCxDQUFELElBQXFCLEtBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsR0FBNUMsRUFBaUQ7QUFDL0MsZUFBSyxhQUFMLENBQW1CLENBQW5CO0FBQ0Q7QUFDRjs7QUFFRCxXQUFLLFdBQUwsQ0FBaUIsS0FBakI7QUFDRDs7QUFFRDs7Ozs7Ozs7O21DQU1lLEssRUFBTztBQUNwQixXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxZQUFMLENBQWtCLE1BQXRDLEVBQThDLEdBQTlDLEVBQW1EO0FBQ2pELGFBQUssZUFBTCxDQUFxQixDQUFyQjtBQUNEO0FBQ0QsV0FBSyxXQUFMLENBQWlCLEtBQWpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7aUNBVWEsVSxFQUFZLE0sRUFBUTtBQUMvQjtBQUNBLFVBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2xCLG1CQUFXLFlBQVg7QUFDQTtBQUNEOztBQUVEO0FBQ0E7QUFDQSxVQUFNLE1BQU0sS0FBSyxHQUFMLEVBQVo7QUFDQSxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxZQUFMLENBQWtCLE1BQXRDLEVBQThDLEdBQTlDLEVBQW1EO0FBQ2pELFlBQUksS0FBSyxZQUFMLENBQWtCLENBQWxCLEtBQXdCLFVBQTVCLEVBQXdDO0FBQ3RDLGVBQUssTUFBTCxDQUFZLENBQVosSUFBaUIsTUFBTSxNQUF2QjtBQUNBLGVBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsQ0FBbkI7QUFDRDtBQUNGO0FBQ0QsV0FBSyxlQUFMLEdBQXVCLElBQXZCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7O21DQVdlLFUsRUFBWSxRLEVBQVU7QUFDbkM7QUFDQSxVQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixtQkFBVyxZQUFYO0FBQ0E7QUFDRDs7QUFFRCxVQUFNLE1BQU0sS0FBSyxHQUFMLEVBQVo7QUFDQSxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxZQUFMLENBQWtCLE1BQXRDLEVBQThDLEdBQTlDLEVBQW1EO0FBQ2pELFlBQUksS0FBSyxZQUFMLENBQWtCLENBQWxCLEtBQXdCLFVBQTVCLEVBQXdDO0FBQ3RDLGVBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsTUFBTSxRQUF6QjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRDs7Ozs7Ozs7Ozs7K0JBUVcsVSxFQUFZO0FBQ3JCLFVBQUksS0FBSyxTQUFMLElBQWtCLFVBQXRCLEVBQWtDO0FBQ2hDLGFBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLGFBQUssWUFBTCxHQUFvQixJQUFwQjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Z0NBVVksVSxFQUFZLEksRUFBTSxLLEVBQU87QUFDbkMsc0JBQU0sTUFBTixDQUFhLEtBQUssU0FBTCxJQUFrQixVQUEvQixFQUNJLHlDQURKLEVBQytDLFdBQVcsT0FBWCxFQUQvQztBQUVBLFVBQU0sYUFBYSxLQUFLLFlBQUwsQ0FBa0IsV0FBVyxPQUFYLEVBQWxCLENBQW5CO0FBQ0EsVUFBSSxVQUFKLEVBQWdCO0FBQ2QsbUJBQVcsSUFBWCxDQUFnQixJQUFJLE9BQUosQ0FBWSxXQUFXLE9BQVgsRUFBWixFQUFrQyxJQUFsQyxFQUF3QyxLQUFLLEdBQUwsRUFBeEMsRUFDWixLQURZLENBQWhCO0FBRUQ7QUFDRjs7QUFFRDs7Ozs7OztnQ0FJWSxLLEVBQU87QUFDakIsVUFBSSxjQUFjLENBQUMsQ0FBQyxLQUFLLFNBQVAsSUFBb0IsS0FBSyxZQUEzQztBQUNBLFdBQUssWUFBTCxHQUFvQixLQUFwQjtBQUNBLFVBQUksQ0FBQyxXQUFMLEVBQWtCO0FBQ2hCLFlBQU0sTUFBTSxLQUFLLEdBQUwsRUFBWjtBQUNBLGFBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLFlBQUwsQ0FBa0IsTUFBdEMsRUFBOEMsR0FBOUMsRUFBbUQ7QUFDakQsY0FBSSxLQUFLLE1BQUwsQ0FBWSxDQUFaLEtBQ0ssS0FBSyxRQUFMLENBQWMsQ0FBZCxLQUFvQixLQUFLLFFBQUwsQ0FBYyxDQUFkLEtBQW9CLEdBRGpELEVBQ3VEO0FBQ3JELDBCQUFjLElBQWQ7QUFDQTtBQUNEO0FBQ0Y7QUFDRjtBQUNELFVBQUksV0FBSixFQUFpQjtBQUNmLGNBQU0sZUFBTjtBQUNBLFlBQUksQ0FBQyxLQUFLLHdCQUFWLEVBQW9DO0FBQ2xDLGdCQUFNLGNBQU47QUFDRDtBQUNGO0FBQ0QsVUFBSSxLQUFLLGVBQVQsRUFBMEI7QUFDeEIsYUFBSyxlQUFMLEdBQXVCLEtBQXZCO0FBQ0EsYUFBSyxPQUFMO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7OEJBS1U7QUFDUixVQUFNLE1BQU0sS0FBSyxHQUFMLEVBQVo7O0FBRUE7QUFDQTtBQUNBLFVBQUksYUFBYSxDQUFDLENBQWxCO0FBQ0EsV0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLEtBQUssWUFBTCxDQUFrQixNQUF0QyxFQUE4QyxHQUE5QyxFQUFtRDtBQUNqRCxZQUFJLENBQUMsS0FBSyxNQUFMLENBQVksQ0FBWixDQUFMLEVBQXFCO0FBQ25CLGNBQUksS0FBSyxRQUFMLENBQWMsQ0FBZCxLQUFvQixLQUFLLFFBQUwsQ0FBYyxDQUFkLElBQW1CLEdBQTNDLEVBQWdEO0FBQzlDO0FBQ0EsaUJBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNEO0FBQ0Q7QUFDRDtBQUNELFlBQUksY0FBYyxDQUFDLENBQWYsSUFBb0IsS0FBSyxNQUFMLENBQVksQ0FBWixJQUFpQixLQUFLLE1BQUwsQ0FBWSxVQUFaLENBQXpDLEVBQWtFO0FBQ2hFLHVCQUFhLENBQWI7QUFDRDtBQUNGOztBQUVELFVBQUksY0FBYyxDQUFDLENBQW5CLEVBQXNCO0FBQ3BCO0FBQ0E7QUFDRDs7QUFFRDtBQUNBLFVBQUksV0FBVyxDQUFmO0FBQ0EsV0FBSyxJQUFJLEtBQUksQ0FBYixFQUFnQixLQUFJLEtBQUssWUFBTCxDQUFrQixNQUF0QyxFQUE4QyxJQUE5QyxFQUFtRDtBQUNqRCxZQUFJLEtBQUssTUFBTCxDQUFZLEVBQVosS0FBa0IsQ0FBQyxLQUFLLFNBQUwsQ0FBZSxFQUFmLENBQXZCLEVBQTBDO0FBQ3hDO0FBQ0Q7QUFDRCxtQkFBVyxLQUFLLEdBQUwsQ0FBUyxRQUFULEVBQW1CLEtBQUssUUFBTCxDQUFjLEVBQWQsSUFBbUIsR0FBdEMsQ0FBWDtBQUNEOztBQUVELFVBQUksV0FBVyxDQUFmLEVBQWtCO0FBQ2hCO0FBQ0EsYUFBSyxjQUFMLENBQW9CLFVBQXBCO0FBQ0E7QUFDRDs7QUFFRDtBQUNBLFdBQUssS0FBTCxDQUFXLFFBQVgsQ0FBb0IsUUFBcEI7QUFDRDs7QUFFRDs7Ozs7Ozs7bUNBS2UsSyxFQUFPO0FBQ3BCLFVBQU0sYUFBYSxLQUFLLFlBQUwsQ0FBa0IsS0FBbEIsQ0FBbkI7QUFDQSxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxZQUFMLENBQWtCLE1BQXRDLEVBQThDLEdBQTlDLEVBQW1EO0FBQ2pELFlBQUksS0FBSyxLQUFULEVBQWdCO0FBQ2QsZUFBSyxlQUFMLENBQXFCLENBQXJCO0FBQ0Q7QUFDRjtBQUNELFdBQUssTUFBTCxDQUFZLEtBQVosSUFBcUIsQ0FBckI7QUFDQSxXQUFLLFFBQUwsQ0FBYyxLQUFkLElBQXVCLENBQXZCO0FBQ0EsV0FBSyxTQUFMLEdBQWlCLFVBQWpCO0FBQ0EsaUJBQVcsV0FBWDtBQUNEOztBQUVEOzs7Ozs7O21DQUllLEssRUFBTztBQUNwQixXQUFLLFNBQUwsQ0FBZSxLQUFmLElBQXdCLElBQXhCO0FBQ0EsV0FBSyxRQUFMLENBQWMsS0FBZCxJQUF1QixDQUF2QjtBQUNEOztBQUVEOzs7Ozs7O2tDQUljLEssRUFBTztBQUNuQixXQUFLLFNBQUwsQ0FBZSxLQUFmLElBQXdCLEtBQXhCO0FBQ0EsV0FBSyxRQUFMLENBQWMsS0FBZCxJQUF1QixDQUF2QjtBQUNBLFVBQUksQ0FBQyxLQUFLLE1BQUwsQ0FBWSxLQUFaLENBQUwsRUFBeUI7QUFDdkIsYUFBSyxZQUFMLENBQWtCLEtBQWxCLEVBQXlCLFlBQXpCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7OztvQ0FJZ0IsSyxFQUFPO0FBQ3JCLFdBQUssTUFBTCxDQUFZLEtBQVosSUFBcUIsQ0FBckI7QUFDQSxXQUFLLGFBQUwsQ0FBbUIsS0FBbkI7QUFDRDs7Ozs7O0FBSUg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBMkJhLGlCLFdBQUEsaUI7O0FBRVg7Ozs7QUFJQSw2QkFBWSxJQUFaLEVBQWtCLE9BQWxCLEVBQTJCO0FBQUE7O0FBQ3pCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsSUFBYjs7QUFFQTtBQUNBLFNBQUssUUFBTCxHQUFnQixPQUFoQjtBQUNEOztBQUVEOzs7Ozs7Ozs7OEJBS1U7QUFDUixhQUFPLEtBQUssS0FBWjtBQUNEOztBQUVEOzs7Ozs7Ozs7OztnQ0FRWSxNLEVBQVE7QUFDbEIsV0FBSyxRQUFMLENBQWMsWUFBZCxDQUEyQixJQUEzQixFQUFpQyxNQUFqQztBQUNEOztBQUVEOzs7Ozs7Ozs7OztrQ0FRYyxRLEVBQVU7QUFDdEIsV0FBSyxRQUFMLENBQWMsY0FBZCxDQUE2QixJQUE3QixFQUFtQyxRQUFuQztBQUNEOztBQUVEOzs7Ozs7Ozs7Z0NBTVk7QUFDVixXQUFLLFFBQUwsQ0FBYyxVQUFkLENBQXlCLElBQXpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7K0JBT1csSSxFQUFNLEssRUFBTztBQUN0QixXQUFLLFFBQUwsQ0FBYyxXQUFkLENBQTBCLElBQTFCLEVBQWdDLElBQWhDLEVBQXNDLEtBQXRDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztrQ0FNYyxDQUNiOztBQUVEOzs7Ozs7O21DQUllLENBQ2Q7O0FBRUQ7Ozs7Ozs7Ozs7aUNBT2EsVyxFQUFhO0FBQ3hCLGFBQU8sS0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7O2dDQU9ZLFcsRUFBYTtBQUN2QixhQUFPLEtBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OzsrQkFPVyxXLEVBQWEsQ0FDdkI7Ozs7Ozs7Ozs7OzhRQ3RxQkg7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7O1FBMkNnQixzQixHQUFBLHNCO1FBc0JBLGUsR0FBQSxlO1FBK0JBLFMsR0FBQSxTO1FBYUEsWSxHQUFBLFk7UUFvQkEsZSxHQUFBLGU7O0FBNUhoQjs7QUFHQTtBQUNBOztBQUVBOzs7O0FBSUEsSUFBSSxzQkFBSjs7QUFHQTs7OztBQUlBLElBQUksc0JBQUo7O0FBR0E7Ozs7QUFJQSxJQUFJLHFCQUFKOztBQUdBOzs7O0FBSUEsSUFBSSxxQkFBSjs7QUFFQTs7Ozs7QUFLTyxTQUFTLHNCQUFULENBQWdDLEdBQWhDLEVBQXFDO0FBQzFDLE1BQU0sT0FBTyxPQUFPLE1BQVAsQ0FBYyxJQUFkLENBQWI7QUFDQSxPQUFLLElBQU0sQ0FBWCxJQUFnQixHQUFoQixFQUFxQjtBQUNuQixRQUFJLENBQUMsZUFBZSxHQUFmLEVBQW9CLENBQXBCLENBQUwsRUFBNkI7QUFDM0I7QUFDRDtBQUNELFFBQU0sSUFBSSxJQUFJLENBQUosQ0FBVjtBQUNBLFNBQUssQ0FBTCxJQUFVLHFCQUFTLENBQVQsSUFBYyx1QkFBdUIsQ0FBdkIsQ0FBZCxHQUEwQyxDQUFwRDtBQUNEO0FBQ0QsU0FBTywyQkFBNEI7QUFBbkM7QUFDRDs7QUFFRDs7Ozs7Ozs7OztBQVVPLFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QixJQUE5QixFQUFvQztBQUN6QztBQUNBLE1BQUksUUFBUSxHQUFaLEVBQWlCO0FBQ2YsV0FBTyxHQUFQO0FBQ0Q7QUFDRDtBQUNBLE1BQU0sUUFBUSxLQUFLLEtBQUwsQ0FBVyxHQUFYLENBQWQ7QUFDQSxNQUFJLFFBQVEsR0FBWjtBQUNBLE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxNQUFNLE1BQTFCLEVBQWtDLEdBQWxDLEVBQXVDO0FBQ3JDLFFBQU0sT0FBTyxNQUFNLENBQU4sQ0FBYjtBQUNBLFFBQUksUUFDQSxLQURBLElBRUEsTUFBTSxJQUFOLE1BQWdCLFNBRmhCLElBR0EsZUFBZSxLQUFmLEVBQXNCLElBQXRCLENBSEosRUFJRTtBQUNBLGNBQVEsTUFBTSxJQUFOLENBQVI7QUFDQTtBQUNEO0FBQ0QsWUFBUSxTQUFSO0FBQ0E7QUFDRDtBQUNELFNBQU8sS0FBUDtBQUNEOztBQUVEOzs7Ozs7O0FBT08sU0FBUyxTQUFULENBQW1CLElBQW5CLEVBQXlCO0FBQzlCLFNBQU8sMkJBQTJCLEtBQUssS0FBTCxFQUFXLHFCQUF1QixJQUFsQztBQUFsQztBQUNEOztBQUVEOzs7Ozs7Ozs7QUFTTyxTQUFTLFlBQVQsQ0FBc0IsSUFBdEIsRUFBNEIsWUFBNUIsRUFBMEM7QUFDL0MsTUFBSTtBQUNGLFdBQU8sVUFBVSxJQUFWLENBQVA7QUFDRCxHQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDVixRQUFJLFlBQUosRUFBa0I7QUFDaEIsbUJBQWEsQ0FBYjtBQUNEO0FBQ0QsV0FBTyxTQUFQO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7O0FBU08sU0FBUyxlQUFULENBQXlCLENBQXpCLEVBQTRCLENBQTVCLEVBQTBDO0FBQUEsTUFBWCxLQUFXLHVFQUFILENBQUc7O0FBQy9DLE1BQUksQ0FBQyxTQUFTLEtBQVQsQ0FBTCxFQUFzQjtBQUNwQixVQUFNLElBQUksS0FBSixDQUFVLCtCQUErQixLQUF6QyxDQUFOO0FBQ0Q7QUFDRCxNQUFJLE1BQU0sQ0FBVixFQUFhO0FBQ1gsV0FBTyxJQUFQO0FBQ0Q7QUFDRDtBQUNBLE1BQUksUUFBUSxDQUFaLEVBQWU7QUFDYixXQUFPLEtBQVA7QUFDRDtBQUNELE1BQUksUUFBTyxDQUFQLHlDQUFPLENBQVAsZUFBb0IsQ0FBcEIseUNBQW9CLENBQXBCLEVBQUosRUFBMkI7QUFDekIsV0FBTyxLQUFQO0FBQ0Q7QUFDRCxNQUFJLE1BQU0sT0FBTixDQUFjLENBQWQsS0FBb0IsTUFBTSxPQUFOLENBQWMsQ0FBZCxDQUF4QixFQUEwQztBQUN4QyxRQUFJLEVBQUUsTUFBRixLQUFhLEVBQUUsTUFBbkIsRUFBMkI7QUFDekIsYUFBTyxLQUFQO0FBQ0Q7QUFDRCxTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksRUFBRSxNQUF0QixFQUE4QixHQUE5QixFQUFtQztBQUNqQyxVQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBRixDQUFoQixFQUFzQixFQUFFLENBQUYsQ0FBdEIsRUFBNEIsUUFBUSxDQUFwQyxDQUFMLEVBQTZDO0FBQzNDLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7QUFDRCxXQUFPLElBQVA7QUFDRDtBQUNELE1BQUksS0FBSyxDQUFMLElBQVUsUUFBTyxDQUFQLHlDQUFPLENBQVAsT0FBYSxRQUF2QixJQUFtQyxRQUFPLENBQVAseUNBQU8sQ0FBUCxPQUFhLFFBQXBELEVBQThEO0FBQzVELFFBQU0sUUFBUSxPQUFPLElBQVAsRUFBWSxzQkFBd0IsQ0FBcEMsQ0FBZDtBQUNBLFFBQU0sUUFBUSxPQUFPLElBQVAsRUFBWSxzQkFBd0IsQ0FBcEMsQ0FBZDtBQUNBLFFBQUksTUFBTSxNQUFOLEtBQWlCLE1BQU0sTUFBM0IsRUFBbUM7QUFDakMsYUFBTyxLQUFQO0FBQ0Q7QUFDRCxTQUFLLElBQUksS0FBSSxDQUFiLEVBQWdCLEtBQUksTUFBTSxNQUExQixFQUFrQyxJQUFsQyxFQUF1QztBQUNyQyxVQUFNLE9BQU8sTUFBTSxFQUFOLENBQWI7QUFDQSxVQUFNLFNBQVMsRUFBRSxJQUFGLENBQWY7QUFDQSxVQUFNLFNBQVMsRUFBRSxJQUFGLENBQWY7QUFDQSxVQUFJLENBQUMsZ0JBQWdCLE1BQWhCLEVBQXdCLE1BQXhCLEVBQWdDLFFBQVEsQ0FBeEMsQ0FBTCxFQUFpRDtBQUMvQyxlQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0QsV0FBTyxJQUFQO0FBQ0Q7QUFDRCxTQUFPLEtBQVA7QUFDRDs7QUFHRDs7Ozs7QUFLQSxTQUFTLGNBQVQsQ0FBd0IsR0FBeEIsRUFBNkIsR0FBN0IsRUFBa0M7QUFDaEMsTUFBSSxPQUFPLElBQVAsSUFBZSxRQUFPLEdBQVAseUNBQU8sR0FBUCxNQUFjLFFBQWpDLEVBQTJDO0FBQ3pDLFdBQU8sS0FBUDtBQUNEO0FBQ0QsU0FBTyxPQUFPLFNBQVAsQ0FBaUIsY0FBakIsQ0FBZ0MsSUFBaEM7QUFDSCx3QkFBd0IsR0FEckIsRUFDMkIsR0FEM0IsQ0FBUDtBQUVEOzs7Ozs7UUNySGUsYyxHQUFBLGM7UUFvQkEscUIsR0FBQSxxQjtRQVdBLGtCLEdBQUEsa0I7UUFXQSxnQixHQUFBLGdCO1FBOEJBLHNCLEdBQUEsc0I7UUFpQkEsZ0IsR0FBQSxnQjtRQWNBLGMsR0FBQSxjO1FBZUEsaUIsR0FBQSxpQjtRQVlBLG9CLEdBQUEsb0I7UUFVQSxnQixHQUFBLGdCO1FBWUEsMkIsR0FBQSwyQjtBQTVPaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7Ozs7Ozs7Ozs7Ozs7OztBQWVPLElBQUksOENBQUo7O0FBR1A7Ozs7Ozs7Ozs7QUFVTyxJQUFJLG9EQUFKOztBQUdQOzs7Ozs7Ozs7Ozs7QUFZTyxJQUFJLGdFQUFKOztBQUVQOzs7Ozs7O0FBT08sSUFBTSxnREFBb0I7QUFDL0IsVUFBUSxRQUR1QjtBQUUvQixPQUFLLEtBRjBCO0FBRy9CLFVBQVE7QUFIdUIsQ0FBMUI7O0FBTVA7Ozs7Ozs7OztBQVNPLFNBQVMsY0FBVCxDQUF3QixJQUF4QixFQUE4QixHQUE5QixFQUFtQyxLQUFuQyxFQUEwQyxNQUExQyxFQUFrRDtBQUN2RCxTQUFPO0FBQ0wsY0FESztBQUVMLFlBRks7QUFHTCxnQkFISztBQUlMLGtCQUpLO0FBS0wsWUFBUSxNQUFNLE1BTFQ7QUFNTCxXQUFPLE9BQU8sS0FOVDtBQU9MLE9BQUcsSUFQRTtBQVFMLE9BQUc7QUFSRSxHQUFQO0FBVUQ7O0FBR0Q7Ozs7OztBQU1PLFNBQVMscUJBQVQsQ0FBK0IsSUFBL0IsRUFBcUM7QUFDMUMsU0FBTyxlQUFlLE9BQU8sS0FBSyxJQUFaLENBQWYsRUFBa0MsT0FBTyxLQUFLLEdBQVosQ0FBbEMsRUFDSCxPQUFPLEtBQUssS0FBWixDQURHLEVBQ2lCLE9BQU8sS0FBSyxNQUFaLENBRGpCLENBQVA7QUFFRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxrQkFBVCxDQUE0QixFQUE1QixFQUFnQyxFQUFoQyxFQUFvQztBQUN6QyxTQUFRLEdBQUcsR0FBSCxJQUFVLEdBQUcsTUFBYixJQUF1QixHQUFHLEdBQUgsSUFBVSxHQUFHLE1BQXBDLElBQ0osR0FBRyxJQUFILElBQVcsR0FBRyxLQURWLElBQ21CLEdBQUcsSUFBSCxJQUFXLEdBQUcsS0FEekM7QUFFRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLGdCQUFULENBQTBCLFFBQTFCLEVBQW9DO0FBQ3pDLE1BQUksS0FBSyxDQUFDLFFBQVY7QUFDQSxNQUFJLEtBQUssUUFBVDtBQUNBLE1BQUksS0FBSyxDQUFDLFFBQVY7QUFDQSxNQUFJLEtBQUssUUFBVDtBQUNBLE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxVQUFVLE1BQTlCLEVBQXNDLEdBQXRDLEVBQTJDO0FBQ3pDLFFBQU0sVUFBVSxVQUFVLENBQVYsQ0FBaEI7QUFDQSxRQUFJLENBQUMsT0FBTCxFQUFjO0FBQ1o7QUFDRDtBQUNELFNBQUssS0FBSyxHQUFMLENBQVMsRUFBVCxFQUFhLFFBQVEsSUFBckIsQ0FBTDtBQUNBLFNBQUssS0FBSyxHQUFMLENBQVMsRUFBVCxFQUFhLFFBQVEsSUFBUixHQUFlLFFBQVEsS0FBcEMsQ0FBTDtBQUNBLFNBQUssS0FBSyxHQUFMLENBQVMsRUFBVCxFQUFhLFFBQVEsR0FBckIsQ0FBTDtBQUNBLFNBQUssS0FBSyxHQUFMLENBQVMsRUFBVCxFQUFhLFFBQVEsR0FBUixHQUFjLFFBQVEsTUFBbkMsQ0FBTDtBQUNBLFFBQUksS0FBSyxFQUFMLElBQVcsS0FBSyxFQUFwQixFQUF3QjtBQUN0QixhQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsTUFBSSxNQUFNLFFBQVYsRUFBb0I7QUFDbEIsV0FBTyxJQUFQO0FBQ0Q7QUFDRCxTQUFPLGVBQWUsRUFBZixFQUFtQixFQUFuQixFQUF1QixLQUFLLEVBQTVCLEVBQWdDLEtBQUssRUFBckMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7QUFNTyxTQUFTLHNCQUFULENBQWdDLEVBQWhDLEVBQW9DLEVBQXBDLEVBQXdDO0FBQzdDLE1BQUksR0FBRyxHQUFILEdBQVMsR0FBRyxHQUFoQixFQUFxQjtBQUNuQixXQUFPLGtCQUFrQixHQUF6QjtBQUNELEdBRkQsTUFFTyxJQUFJLEdBQUcsTUFBSCxHQUFZLEdBQUcsTUFBbkIsRUFBMkI7QUFDaEMsV0FBTyxrQkFBa0IsTUFBekI7QUFDRCxHQUZNLE1BRUE7QUFDTCxXQUFPLGtCQUFrQixNQUF6QjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLGdCQUFULENBQTBCLElBQTFCLEVBQWdDLEVBQWhDLEVBQW9DLEVBQXBDLEVBQXdDO0FBQzdDLFNBQU8sZUFBZSxLQUFLLElBQUwsR0FBWSxLQUFLLEtBQUwsR0FBYSxFQUF4QyxFQUNILEtBQUssR0FBTCxHQUFXLEtBQUssTUFBTCxHQUFjLEVBRHRCLEVBRUgsS0FBSyxLQUFMLElBQWMsSUFBSSxLQUFLLENBQXZCLENBRkcsRUFHSCxLQUFLLE1BQUwsSUFBZSxJQUFJLEtBQUssQ0FBeEIsQ0FIRyxDQUFQO0FBSUQ7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLGNBQVQsQ0FBd0IsSUFBeEIsRUFBOEIsRUFBOUIsRUFBa0MsRUFBbEMsRUFBc0M7QUFDM0MsTUFBSyxNQUFNLENBQU4sSUFBVyxNQUFNLENBQWxCLElBQ0MsS0FBSyxLQUFMLElBQWMsQ0FBZCxJQUFtQixLQUFLLE1BQUwsSUFBZSxDQUR2QyxFQUMyQztBQUN6QyxXQUFPLElBQVA7QUFDRDtBQUNELFNBQU8sZUFBZSxLQUFLLElBQUwsR0FBWSxFQUEzQixFQUErQixLQUFLLEdBQUwsR0FBVyxFQUExQyxFQUNILEtBQUssS0FERixFQUNTLEtBQUssTUFEZCxDQUFQO0FBRUQ7O0FBR0Q7Ozs7O0FBS08sU0FBUyxpQkFBVCxDQUEyQixPQUEzQixFQUFvQyxNQUFwQyxFQUE0QztBQUNqRCxTQUFRLE9BQU8sR0FBUCxLQUFlLFNBQWYsSUFBNEIsT0FBTyxHQUFQLElBQWMsUUFBUSxHQUFuRCxJQUNGLE9BQU8sS0FBUCxLQUFpQixTQUFqQixJQUE4QixPQUFPLEtBQVAsSUFBZ0IsUUFBUSxLQURwRCxJQUVGLE9BQU8sTUFBUCxLQUFrQixTQUFsQixJQUErQixPQUFPLE1BQVAsSUFBaUIsUUFBUSxNQUZ0RCxJQUdGLE9BQU8sSUFBUCxLQUFnQixTQUFoQixJQUE2QixPQUFPLElBQVAsSUFBZSxRQUFRLElBSHpEO0FBSUQ7O0FBRUQ7Ozs7O0FBS08sU0FBUyxvQkFBVCxDQUE4QixJQUE5QixFQUFvQyxFQUFwQyxFQUF3QztBQUM3QyxTQUFPLEtBQUssS0FBTCxJQUFjLEdBQUcsS0FBakIsSUFDSCxLQUFLLE1BQUwsS0FBZ0IsR0FBRyxNQUR2QjtBQUVEOztBQUVEOzs7OztBQUtPLFNBQVMsZ0JBQVQsQ0FBMEIsRUFBMUIsRUFBOEIsRUFBOUIsRUFBa0M7QUFDdkMsTUFBSSxDQUFDLEVBQUQsSUFBTyxDQUFDLEVBQVosRUFBZ0I7QUFDZCxXQUFPLEtBQVA7QUFDRDtBQUNELFNBQU8sR0FBRyxJQUFILElBQVcsR0FBRyxJQUFkLElBQXNCLEdBQUcsR0FBSCxJQUFVLEdBQUcsR0FBbkMsSUFDSCxHQUFHLEtBQUgsSUFBWSxHQUFHLEtBRFosSUFDcUIsR0FBRyxNQUFILElBQWEsR0FBRyxNQUQ1QztBQUVEOztBQUVEOzs7O0FBSU8sU0FBUywyQkFBVCxDQUFxQyxhQUFyQyxFQUFvRDtBQUN6RCxNQUFJLENBQUMsYUFBTCxFQUFvQjtBQUNsQixXQUFPLGFBQVA7QUFDRDtBQUNELFNBQU87QUFDTCxTQUFLLGNBQWMsR0FEZDtBQUVMLFlBQVEsY0FBYyxNQUZqQjtBQUdMLFVBQU0sY0FBYyxJQUhmO0FBSUwsV0FBTyxjQUFjO0FBSmhCLEdBQVA7QUFNRDs7Ozs7Ozs7OztRQzNIZSxXLEdBQUEsVztRQWNBLGMsR0FBQSxjO1FBVUEsbUIsR0FBQSxtQjtRQWdCQSxpQixHQUFBLGlCO1FBWUEsVyxHQUFBLFc7UUF1QkEsWSxHQUFBLFk7UUFnQkEscUIsR0FBQSxxQjtRQVlBLGMsR0FBQSxjO1FBY0EsZ0IsR0FBQSxnQjtRQVlBLG9CLEdBQUEsb0I7UUFjQSxvQixHQUFBLG9CO1FBK0JBLGdCLEdBQUEsZ0I7UUF5QkEsaUIsR0FBQSxpQjs7QUE3U2hCOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztrSkF6QkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7O0FBV0E7OztBQUdPLElBQU0sMEJBQVM7QUFDcEIsYUFBVyxXQURTO0FBRXBCLFNBQU8sT0FGYTtBQUdwQixnQkFBYyxjQUhNO0FBSXBCLGNBQVksWUFKUTtBQUtwQixhQUFXLFdBTFM7QUFNcEIsUUFBTSxNQU5jO0FBT3BCLGFBQVcsV0FQUztBQVFwQixTQUFPLE9BUmE7QUFTcEIsYUFBVztBQVRTLENBQWY7O0FBYVA7Ozs7O0FBS08sSUFBTSwwQ0FBaUI7QUFDNUIsV0FBUyxDQURtQjtBQUU1QixZQUFVLENBRmtCO0FBRzVCLE9BQUssQ0FIdUI7QUFJNUIsY0FBWTtBQUpnQixDQUF2Qjs7QUFRUDs7OztBQUlPLElBQUksc0NBQUo7O0FBR1A7Ozs7OztBQU1BLElBQUksc0JBQUo7O0FBR0E7Ozs7Ozs7Ozs7QUFVTyxJQUFNLGtEQUFxQjtBQUNoQyxlQUFhLEVBQUMsT0FBTyxLQUFSLEVBQWUsUUFBUSxLQUF2QixFQURtQjtBQUVoQyxtQkFBaUIsRUFBQyxPQUFPLEtBQVIsRUFBZSxRQUFRLEtBQXZCLEVBRmU7QUFHaEM7QUFDQSxlQUFhLElBSm1CO0FBS2hDLHNCQUFvQixFQUFDLE9BQU8sTUFBUixFQUFnQixRQUFRLE1BQXhCO0FBTFksQ0FBM0I7O0FBU1A7Ozs7OztBQU1PLElBQU0sZ0RBQW9CO0FBQy9CLGNBQVksSUFEbUI7QUFFL0Isb0JBQWtCLElBRmE7QUFHL0IsK0JBQTZCLElBSEU7QUFJL0IsZUFBYSxJQUprQjtBQUsvQixrQkFBZ0IsSUFMZTtBQU0vQiwyQkFBeUIsSUFOTTtBQU8vQix1QkFBcUIsSUFQVTtBQVEvQix1QkFBcUIsSUFSVTtBQVMvQixnQkFBYyxJQVRpQjtBQVUvQixhQUFXLElBVm9CO0FBVy9CLG1CQUFpQixJQVhjO0FBWS9CLGNBQVksSUFabUI7QUFhL0IsdUJBQXFCLElBYlU7QUFjL0IsbUJBQWlCLElBZGM7QUFlL0Isa0JBQWdCLElBZmU7QUFnQi9CLGVBQWEsSUFoQmtCO0FBaUIvQixpQkFBZTtBQWpCZ0IsQ0FBMUI7O0FBcUJQOzs7OztBQUtPLFNBQVMsV0FBVCxDQUFxQixDQUFyQixFQUF3QjtBQUM3QixPQUFLLElBQU0sQ0FBWCxJQUFnQixNQUFoQixFQUF3QjtBQUN0QixRQUFJLE9BQU8sQ0FBUCxLQUFhLENBQWpCLEVBQW9CO0FBQ2xCLGFBQU8sT0FBTyxDQUFQLENBQVA7QUFDRDtBQUNGO0FBQ0QsU0FBTyxTQUFQO0FBQ0Q7O0FBR0Q7Ozs7QUFJTyxTQUFTLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0M7QUFDckMsU0FBTyxzQkFBc0IsTUFBN0I7QUFDRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLG1CQUFULENBQTZCLE1BQTdCLEVBQXFDO0FBQzFDLFNBQVEsVUFBVSxPQUFPLEtBQWpCLElBQ0osVUFBVSxPQUFPLFlBRGIsSUFFSixVQUFVLE9BQU8sVUFGYixJQUdKLFVBQVUsT0FBTyxJQUhiLElBSUosVUFBVSxPQUFPLFNBSmIsSUFLSixVQUFVLE9BQU8sS0FMYixJQU1KLFVBQVUsT0FBTyxTQU5yQjtBQU9EOztBQUdEOzs7OztBQUtPLFNBQVMsaUJBQVQsQ0FBMkIsR0FBM0IsRUFBZ0M7QUFDckMsTUFBTSxVQUFXLE9BQU8sR0FBUCxJQUFjLFFBQWYsR0FBMkIsR0FBM0IsR0FBaUMsSUFBSSxPQUFyRDtBQUNBLFNBQU8sV0FBVyx3QkFBVyxRQUFRLFdBQVIsRUFBWCxFQUFrQyxJQUFsQyxDQUFsQjtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLFdBQVQsQ0FBcUIsQ0FBckIsRUFBd0I7QUFDN0IsTUFBSSxPQUFPLENBQVAsSUFBWSxRQUFoQixFQUEwQjtBQUN4QixXQUFPLElBQUksSUFBWDtBQUNEO0FBQ0QsTUFBSSxDQUFDLENBQUwsRUFBUTtBQUNOLFdBQU8sU0FBUDtBQUNEO0FBQ0QsTUFBSSxDQUFDLDZEQUE2RCxJQUE3RCxDQUFrRSxDQUFsRSxDQUFMLEVBQTJFO0FBQ3pFLFdBQU8sU0FBUDtBQUNEO0FBQ0QsTUFBSSxnQkFBZ0IsSUFBaEIsQ0FBcUIsQ0FBckIsQ0FBSixFQUE2QjtBQUMzQixXQUFPLElBQUksSUFBWDtBQUNEO0FBQ0QsU0FBTyxDQUFQO0FBQ0Q7O0FBSUQ7Ozs7O0FBS08sU0FBUyxZQUFULENBQXNCLE1BQXRCLEVBQThCO0FBQ25DLG1CQUFPLE1BQVAsQ0FDSSw0REFBNEQsSUFBNUQsQ0FBaUUsTUFBakUsQ0FESixFQUVJLDBCQUZKLEVBRWdDLE1BRmhDO0FBR0EsU0FBTywwQkFBMkI7QUFBbEM7QUFDRDs7QUFLRDs7Ozs7O0FBTU8sU0FBUyxxQkFBVCxDQUErQixNQUEvQixFQUF1QztBQUM1QyxtQkFBTyxNQUFQLENBQWMsNkNBQTZDLElBQTdDLENBQWtELE1BQWxELENBQWQsRUFDSSxxQ0FESixFQUMyQyxNQUQzQztBQUVBLFNBQU8sTUFBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMsY0FBVCxDQUF3QixNQUF4QixFQUFnQztBQUNyQyxlQUFhLE1BQWI7QUFDQSxrQkFBTSxZQUFOLENBQW1CLE1BQW5CO0FBQ0EsTUFBTSxJQUFJLGlCQUFPLE1BQVAsQ0FBYyxPQUFPLEtBQVAsQ0FBYSxTQUFiLENBQWQsRUFDTiw4QkFETSxFQUMwQixNQUQxQixDQUFWO0FBRUEsU0FBTyxFQUFFLENBQUYsQ0FBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMsZ0JBQVQsQ0FBMEIsTUFBMUIsRUFBa0M7QUFDdkMsTUFBTSxNQUFNLFdBQVcsTUFBWCxDQUFaO0FBQ0EsU0FBTywyQkFBZSxHQUFmLElBQXNCLEdBQXRCLEdBQTRCLFNBQW5DO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsb0JBQVQsQ0FBOEIsT0FBOUIsRUFBdUM7QUFDNUMsWUFBVSxRQUFRLFdBQVIsRUFBVjtBQUNBLFNBQU8sbUJBQW1CLE9BQW5CLE1BQWdDLFNBQXZDO0FBQ0Q7O0FBR0Q7Ozs7Ozs7O0FBUU8sU0FBUyxvQkFBVCxDQUE4QixPQUE5QixFQUF1QztBQUM1QyxNQUFNLFVBQVUsUUFBUSxPQUFSLENBQWdCLFdBQWhCLEVBQWhCO0FBQ0Esa0JBQU0sTUFBTixDQUFhLG1CQUFtQixPQUFuQixNQUFnQyxTQUE3QztBQUNBLE1BQUksQ0FBQyxtQkFBbUIsT0FBbkIsQ0FBTCxFQUFrQztBQUNoQyxRQUFNLE1BQU0sUUFBUSxhQUFwQjtBQUNBLFFBQU0saUJBQWlCLFFBQVEsT0FBUixDQUFnQixRQUFoQixFQUEwQixFQUExQixDQUF2QjtBQUNBLFFBQU0sT0FBTyxJQUFJLGFBQUosQ0FBa0IsY0FBbEIsQ0FBYjtBQUNBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsMEJBQVUsSUFBVixFQUFnQjtBQUNkLGdCQUFVLFVBREk7QUFFZCxrQkFBWTtBQUZFLEtBQWhCO0FBSUEsUUFBSSxJQUFKLENBQVMsV0FBVCxDQUFxQixJQUFyQjtBQUNBLHVCQUFtQixPQUFuQixJQUE4QjtBQUM1QixhQUFPLENBQUMsTUFBSyxNQUFNLFdBQVgsSUFBMEIsQ0FBM0IsSUFBZ0MsSUFEWDtBQUU1QixjQUFRLENBQUMsTUFBSyxNQUFNLFlBQVgsSUFBMkIsQ0FBNUIsSUFBaUM7QUFGYixLQUE5QjtBQUlBLFFBQUksSUFBSixDQUFTLFdBQVQsQ0FBcUIsSUFBckI7QUFDRDtBQUNELFNBQU8sNkJBQThCLG1CQUFtQixPQUFuQjtBQUFyQztBQUNEOztBQUdEOzs7Ozs7O0FBT08sU0FBUyxnQkFBVCxDQUEwQixPQUExQixFQUFtQztBQUN4QyxNQUFNLFVBQVUsUUFBUSxPQUFSLENBQWdCLFdBQWhCLEVBQWhCO0FBQ0EsTUFBSSxXQUFXLFFBQVgsSUFBdUIsV0FBVyxXQUF0QyxFQUFtRDtBQUNqRCxXQUFPLElBQVA7QUFDRDtBQUNELFNBQU8sa0JBQWtCLE9BQWxCLEtBQThCLEtBQXJDO0FBQ0Q7O0FBR0Q7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQk8sU0FBUyxpQkFBVCxDQUEyQixPQUEzQixFQUFvQztBQUN6QztBQUNBO0FBQ0E7QUFDQSxNQUFNLHNCQUFzQixRQUFRLFlBQVIsQ0FBcUIsa0JBQXJCLENBQTVCO0FBQ0EsTUFBSSxtQkFBSixFQUF5QjtBQUN2QixRQUFNLFVBQVMsc0JBQXdCLGdCQUFNLE1BQU4sQ0FDbkMsWUFBWSxtQkFBWixDQURtQyxDQUF2QztBQUVBLFFBQUksQ0FBQyxXQUFVLE9BQU8sVUFBakIsSUFBK0IsV0FBVSxPQUFPLFNBQWpELEtBQ0MsUUFBUSxpQkFEYixFQUNnQztBQUM5QjtBQUNBLGNBQVEsWUFBUixHQUNJLFFBQVEsYUFBUixDQUFzQixpQkFBdEIsS0FBNEMsU0FEaEQ7QUFFRCxLQUxELE1BS08sSUFBSSxXQUFVLE9BQU8sU0FBckIsRUFBZ0M7QUFDckMsMkJBQXFCLE9BQXJCO0FBQ0Q7QUFDRCxXQUFPLE9BQVA7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGFBQWEsUUFBUSxZQUFSLENBQXFCLFFBQXJCLENBQW5CO0FBQ0EsTUFBTSxZQUFZLFFBQVEsWUFBUixDQUFxQixPQUFyQixDQUFsQjtBQUNBLE1BQU0sYUFBYSxRQUFRLFlBQVIsQ0FBcUIsUUFBckIsQ0FBbkI7QUFDQSxNQUFNLFlBQVksUUFBUSxZQUFSLENBQXFCLE9BQXJCLENBQWxCO0FBQ0EsTUFBTSxjQUFjLFFBQVEsWUFBUixDQUFxQixTQUFyQixDQUFwQjs7QUFFQTtBQUNBLE1BQU0sY0FBYyxhQUFhLFlBQVksVUFBWixDQUFiLEdBQXVDLElBQTNEO0FBQ0EsbUJBQU8sTUFBUCxDQUFjLGdCQUFnQixTQUE5QixFQUF5QyxvQkFBekMsRUFBK0QsVUFBL0Q7QUFDQTtBQUNBLE1BQU0sYUFBYyxhQUFhLGFBQWEsTUFBM0IsR0FDakIsWUFBWSxTQUFaLENBRGlCLEdBQ1EsU0FEM0I7QUFFQSxtQkFBTyxNQUFQLENBQWMsZUFBZSxTQUE3QixFQUF3Qyx5QkFBeEMsRUFBbUUsU0FBbkU7QUFDQTtBQUNBLE1BQU0sY0FBZSxjQUFjLGNBQWMsT0FBN0IsR0FDbEIsWUFBWSxVQUFaLENBRGtCLEdBQ1EsVUFENUI7QUFFQSxtQkFBTyxNQUFQLENBQWMsZ0JBQWdCLFNBQTlCLEVBQXlDLDBCQUF6QyxFQUNJLFVBREo7O0FBR0E7QUFDQSxNQUFJLGNBQUo7QUFDQSxNQUFJLGVBQUo7QUFDQSxNQUFJLGVBQUo7O0FBRUE7QUFDQSxNQUFJLENBQUMsQ0FBQyxXQUFELElBQWdCLGVBQWUsT0FBTyxLQUF0QyxJQUNELGVBQWUsT0FBTyxZQUR0QixNQUVDLENBQUMsVUFBRCxJQUFlLENBQUMsV0FGakIsS0FFaUMscUJBQXFCLFFBQVEsT0FBN0IsQ0FGckMsRUFFNEU7QUFDMUU7QUFDQTtBQUNBLFFBQU0sYUFBYSxxQkFBcUIsT0FBckIsQ0FBbkI7QUFDQSxZQUFTLGNBQWMsZUFBZSxPQUFPLFlBQXJDLEdBQXFELFVBQXJELEdBQ04sV0FBVyxLQURiO0FBRUEsYUFBUyxlQUFlLFdBQVcsTUFBbkM7QUFDRCxHQVRELE1BU087QUFDTCxZQUFRLFVBQVI7QUFDQSxhQUFTLFdBQVQ7QUFDRDs7QUFFRDtBQUNBLE1BQUksV0FBSixFQUFpQjtBQUNmLGFBQVMsV0FBVDtBQUNELEdBRkQsTUFFTyxJQUFJLENBQUMsS0FBRCxJQUFVLENBQUMsTUFBZixFQUF1QjtBQUM1QixhQUFTLE9BQU8sU0FBaEI7QUFDRCxHQUZNLE1BRUEsSUFBSSxVQUFVLE9BQWQsRUFBdUI7QUFDNUIsYUFBUyxPQUFPLEtBQWhCO0FBQ0QsR0FGTSxNQUVBLElBQUksV0FBVyxDQUFDLEtBQUQsSUFBVSxTQUFTLE1BQTlCLENBQUosRUFBMkM7QUFDaEQsYUFBUyxPQUFPLFlBQWhCO0FBQ0QsR0FGTSxNQUVBLElBQUksVUFBVSxLQUFWLEtBQW9CLGFBQWEsV0FBakMsQ0FBSixFQUFtRDtBQUN4RCxhQUFTLE9BQU8sVUFBaEI7QUFDRCxHQUZNLE1BRUE7QUFDTCxhQUFTLE9BQU8sS0FBaEI7QUFDRDs7QUFFRDtBQUNBLE1BQUksVUFBVSxPQUFPLEtBQWpCLElBQTBCLFVBQVUsT0FBTyxZQUEzQyxJQUNBLFVBQVUsT0FBTyxVQURqQixJQUMrQixVQUFVLE9BQU8sU0FEcEQsRUFDK0Q7QUFDN0QscUJBQU8sTUFBUCxDQUFjLE1BQWQsRUFBc0IscUNBQXRCLEVBQTZELFVBQTdEO0FBQ0Q7QUFDRCxNQUFJLFVBQVUsT0FBTyxZQUFyQixFQUFtQztBQUNqQyxxQkFBTyxNQUFQLENBQWMsQ0FBQyxLQUFELElBQVUsU0FBUyxNQUFqQyxFQUNJLHdEQUNBLDZCQUZKLEVBRW1DLFNBRm5DO0FBR0Q7QUFDRCxNQUFJLFVBQVUsT0FBTyxLQUFqQixJQUEwQixVQUFVLE9BQU8sVUFBM0MsSUFDQSxVQUFVLE9BQU8sU0FEckIsRUFDZ0M7QUFDOUIscUJBQU8sTUFBUCxDQUFjLFNBQVMsU0FBUyxNQUFoQyxFQUNJLDREQURKLEVBRUksU0FGSjtBQUdEOztBQUVELE1BQUksVUFBVSxPQUFPLFVBQWpCLElBQStCLFVBQVUsT0FBTyxTQUFwRCxFQUErRDtBQUM3RCxxQkFBTyxNQUFQLENBQWMsZUFBZSxLQUFmLEtBQXlCLGVBQWUsTUFBZixDQUF2QyxFQUNJLDhEQURKLEVBRUksU0FGSixFQUVlLFVBRmY7QUFHRCxHQUpELE1BSU87QUFDTCxxQkFBTyxNQUFQLENBQWMsZ0JBQWdCLElBQTlCLEVBQ0ksMkRBREo7QUFFRDs7QUFFRDtBQUNBLFVBQVEsU0FBUixDQUFrQixHQUFsQixDQUFzQixlQUFlLE1BQWYsQ0FBdEI7QUFDQSxNQUFJLG9CQUFvQixNQUFwQixDQUFKLEVBQWlDO0FBQy9CLFlBQVEsU0FBUixDQUFrQixHQUFsQixDQUFzQiwrQkFBdEI7QUFDRDtBQUNELE1BQUksVUFBVSxPQUFPLFNBQXJCLEVBQWdDO0FBQzlCO0FBQ0E7QUFDQSx5QkFBcUIsT0FBckI7QUFDRCxHQUpELE1BSU8sSUFBSSxVQUFVLE9BQU8sS0FBckIsRUFBNEI7QUFDakMsMEJBQVUsT0FBVixFQUFtQjtBQUNqQixhQUFPLGdCQUFNLFlBQU4sQ0FBbUIsS0FBbkIsQ0FEVTtBQUVqQixjQUFRLGdCQUFNLFlBQU4sQ0FBbUIsTUFBbkI7QUFGUyxLQUFuQjtBQUlELEdBTE0sTUFLQSxJQUFJLFVBQVUsT0FBTyxZQUFyQixFQUFtQztBQUN4Qyx5QkFBUyxPQUFULEVBQWtCLFFBQWxCLEVBQTRCLGdCQUFNLFlBQU4sQ0FBbUIsTUFBbkIsQ0FBNUI7QUFDRCxHQUZNLE1BRUEsSUFBSSxVQUFVLE9BQU8sVUFBckIsRUFBaUM7QUFDdEMsUUFBTSxRQUFRLFFBQVEsYUFBUixDQUFzQixhQUF0QixDQUFvQyxpQkFBcEMsQ0FBZDtBQUNBLDBCQUFVLEtBQVYsRUFBaUI7QUFDZixlQUFTLE9BRE07QUFFZixrQkFDSSxpQkFBaUIsTUFBakIsSUFBMkIsaUJBQWlCLEtBQWpCLENBQTVCLEdBQXVELEdBQXhELEdBQStEO0FBSGxELEtBQWpCO0FBS0EsWUFBUSxZQUFSLENBQXFCLEtBQXJCLEVBQTRCLFFBQVEsVUFBcEM7QUFDQSxZQUFRLFlBQVIsR0FBdUIsS0FBdkI7QUFDRCxHQVRNLE1BU0EsSUFBSSxVQUFVLE9BQU8sU0FBckIsRUFBZ0M7QUFDckM7QUFDQTtBQUNBO0FBQ0EsUUFBTSxTQUFRLDZCQUFRLE9BQVIsQ0FBUixpQkFBTjtBQUlBLFFBQU0saUJBQWlCLE9BQU0saUJBQTdCO0FBQ0EsbUJBQWUsWUFBZixDQUE0QixLQUE1QixxREFDcUQsTUFEckQsaUJBQ3VFLEtBRHZFO0FBRUEsWUFBUSxZQUFSLENBQXFCLE1BQXJCLEVBQTRCLFFBQVEsVUFBcEM7QUFDQTtBQUNBLFlBQVEsWUFBUixHQUF1QixjQUF2QjtBQUNELEdBZE0sTUFjQSxJQUFJLFVBQVUsT0FBTyxJQUFyQixFQUEyQjtBQUNoQztBQUNELEdBRk0sTUFFQSxJQUFJLFVBQVUsT0FBTyxTQUFyQixFQUFnQztBQUNyQztBQUNBO0FBQ0E7QUFDRCxHQUpNLE1BSUEsSUFBSSxVQUFVLE9BQU8sU0FBckIsRUFBZ0M7QUFDckM7QUFDQTtBQUNBLFFBQUksS0FBSixFQUFXO0FBQ1QsMkJBQVMsT0FBVCxFQUFrQixPQUFsQixFQUEyQixLQUEzQjtBQUNEO0FBQ0QsUUFBSSxNQUFKLEVBQVk7QUFDViwyQkFBUyxPQUFULEVBQWtCLFFBQWxCLEVBQTRCLE1BQTVCO0FBQ0Q7QUFDRixHQVRNLE1BU0EsSUFBSSxVQUFVLE9BQU8sS0FBckIsRUFBNEI7QUFDakMsWUFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLGdDQUF0QjtBQUNBLFFBQUksS0FBSixFQUFXO0FBQ1QsMkJBQVMsT0FBVCxFQUFrQixPQUFsQixFQUEyQixLQUEzQjtBQUNEO0FBQ0QseUJBQVMsT0FBVCxFQUFrQixRQUFsQixFQUE0QixDQUE1QjtBQUNEO0FBQ0QsU0FBTyxNQUFQO0FBQ0Q7O0FBR0Q7OztBQUdBLFNBQVMsb0JBQVQsQ0FBOEIsT0FBOUIsRUFBdUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EsdUJBQVMsT0FBVCxFQUFrQixTQUFsQixFQUE2QixNQUE3QjtBQUNBLFVBQVEsU0FBUixDQUFrQixHQUFsQixDQUFzQixtQkFBdEI7QUFDRDs7Ozs7Ozs7cWpCQ3BmRDs7Ozs7Ozs7Ozs7Ozs7OztRQTRDZ0Isa0IsR0FBQSxrQjtRQVFBLGdCLEdBQUEsZ0I7UUFzQkEsYyxHQUFBLGM7UUFhQSxnQixHQUFBLGdCO1FBK1lBLHlCLEdBQUEseUI7UUF5QkEsZ0IsR0FBQSxnQjtRQTZCQSxZLEdBQUEsWTtRQWtDQSxrQixHQUFBLGtCO1FBaUJBLDZCLEdBQUEsNkI7UUFnQkEsSSxHQUFBLEk7UUE0Q0EsRyxHQUFBLEc7UUF3QkEsVyxHQUFBLFc7O0FBbnBCaEI7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTs7Ozs7Ozs7O0FBU08sSUFBTSxvREFBc0Isb0JBQTVCOztBQUdQOzs7OztBQUtPLElBQU0sZ0VBQTRCLDBCQUFsQzs7QUFHUDs7OztBQUlPLFNBQVMsa0JBQVQsQ0FBNEIsT0FBNUIsRUFBcUM7QUFDMUMsU0FBTyxRQUFRLE9BQVIsQ0FBZ0IsbUJBQWhCLEtBQXdDLENBQS9DO0FBQ0Q7O0FBRUQ7Ozs7QUFJTyxTQUFTLGdCQUFULENBQTBCLE9BQTFCLEVBQW1DO0FBQ3hDLFNBQU8sUUFBUSxPQUFSLENBQWdCLHlCQUFoQixLQUE4QyxDQUFyRDtBQUNEOztBQUdEOzs7O0FBSU8sSUFBTSw4QkFBVztBQUN0QixPQUFLLENBRGlCO0FBRXRCLFNBQU8sQ0FGZTtBQUd0QixRQUFNLENBSGdCO0FBSXRCLFFBQU0sQ0FKZ0I7QUFLdEIsUUFBTTtBQUxnQixDQUFqQjs7QUFRUDs7Ozs7QUFLTyxTQUFTLGNBQVQsQ0FBd0IsRUFBeEIsRUFBNEI7QUFDakMsT0FBSyxXQUFMLEdBQW1CLEVBQW5CO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxJQUFJLGlCQUFpQixTQUFyQjs7QUFFQTs7O0FBR08sU0FBUyxnQkFBVCxDQUEwQixLQUExQixFQUFpQztBQUN0QyxtQkFBaUIsS0FBakI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7SUFVYSxHLFdBQUEsRztBQUNYOzs7Ozs7Ozs7OztBQVdBLGVBQVksR0FBWixFQUFpQixTQUFqQixFQUE0QixVQUE1QixFQUF3QztBQUFBOztBQUN0Qzs7Ozs7QUFLQSxTQUFLLEdBQUwsR0FBWSxxQkFBVSxJQUFWLElBQWtCLElBQUksZUFBdkIsR0FBMEMsSUFBSSxNQUE5QyxHQUF1RCxHQUFsRTs7QUFFQTtBQUNBLFNBQUssVUFBTCxHQUFrQixTQUFsQjs7QUFFQTtBQUNBLFNBQUssTUFBTCxHQUFjLEtBQUssYUFBTCxFQUFkOztBQUVBO0FBQ0EsU0FBSyxPQUFMLEdBQWUsY0FBYyxFQUE3QjtBQUNEOztBQUVEOzs7Ozs7OztnQ0FJWTtBQUNWLGFBQVEsbUJBQW1CLFNBQXBCLEdBQWlDLGNBQWpDLEdBQWtELEtBQUssTUFBOUQ7QUFDRDs7QUFFRDs7Ozs7OztvQ0FJZ0I7QUFDZDtBQUNBLFVBQUksQ0FBQyxLQUFLLEdBQUwsQ0FBUyxPQUFWLElBQXFCLENBQUMsS0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixHQUEzQyxFQUFnRDtBQUM5QyxlQUFPLFNBQVMsR0FBaEI7QUFDRDs7QUFFRDtBQUNBLFVBQUkscUJBQVUsR0FBVixJQUFpQixHQUFyQixFQUEwQjtBQUN4QixlQUFPLFNBQVMsR0FBaEI7QUFDRDs7QUFFRDtBQUNBLFVBQUkscUJBQVUsSUFBVixJQUFrQixLQUFLLEdBQUwsQ0FBUyxVQUEvQixFQUEyQztBQUN6QyxlQUFPLFNBQVMsSUFBaEI7QUFDRDs7QUFFRDtBQUNBLFVBQUkscUJBQVUsUUFBVixJQUFzQixDQUFDLHFCQUFVLEdBQXJDLEVBQTBDO0FBQ3hDLGVBQU8sU0FBUyxJQUFoQjtBQUNEOztBQUVEO0FBQ0EsYUFBTyxLQUFLLFVBQUwsQ0FBZ0IsZ0NBQWhCLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7eUJBS0ssRyxFQUFLLEssRUFBTyxRLEVBQVU7QUFDekIsVUFBSSxLQUFLLFNBQUwsTUFBb0IsU0FBUyxHQUFqQyxFQUFzQztBQUNwQyxZQUFJLEtBQUssS0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixHQUExQjtBQUNBLFlBQUksU0FBUyxPQUFiLEVBQXNCO0FBQ3BCLGVBQUssS0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixLQUFqQixJQUEwQixFQUEvQjtBQUNELFNBRkQsTUFFTyxJQUFJLFNBQVMsTUFBYixFQUFxQjtBQUMxQixlQUFLLEtBQUssR0FBTCxDQUFTLE9BQVQsQ0FBaUIsSUFBakIsSUFBeUIsRUFBOUI7QUFDRCxTQUZNLE1BRUEsSUFBSSxTQUFTLE1BQWIsRUFBcUI7QUFDMUIsZUFBSyxLQUFLLEdBQUwsQ0FBUyxPQUFULENBQWlCLElBQWpCLElBQXlCLEVBQTlCO0FBQ0Q7QUFDRCxZQUFJLHFCQUFVLFFBQWQsRUFBd0I7QUFDdEIsbUJBQVMsT0FBVCxDQUFpQixNQUFNLEdBQU4sR0FBWSxHQUE3QjtBQUNEO0FBQ0QsV0FBRyxLQUFILENBQVMsS0FBSyxHQUFMLENBQVMsT0FBbEIsRUFBMkIsUUFBM0I7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O2dDQUlZO0FBQ1YsYUFBTyxLQUFLLFNBQUwsTUFBb0IsU0FBUyxHQUFwQztBQUNEOztBQUVEOzs7Ozs7Ozt5QkFLSyxHLEVBQUssUSxFQUFVO0FBQ2xCLFVBQUksS0FBSyxTQUFMLE1BQW9CLFNBQVMsSUFBakMsRUFBdUM7QUFDckMsYUFBSyxJQUFMLENBQVUsR0FBVixFQUFlLE1BQWYsRUFBdUIsTUFBTSxTQUFOLENBQWdCLEtBQWhCLENBQXNCLElBQXRCLENBQTJCLFNBQTNCLEVBQXNDLENBQXRDLENBQXZCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7eUJBS0ssRyxFQUFLLFEsRUFBVTtBQUNsQixVQUFJLEtBQUssU0FBTCxNQUFvQixTQUFTLElBQWpDLEVBQXVDO0FBQ3JDLGFBQUssSUFBTCxDQUFVLEdBQVYsRUFBZSxNQUFmLEVBQXVCLE1BQU0sU0FBTixDQUFnQixLQUFoQixDQUFzQixJQUF0QixDQUEyQixTQUEzQixFQUFzQyxDQUF0QyxDQUF2QjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7O3lCQUtLLEcsRUFBSyxRLEVBQVU7QUFDbEIsVUFBSSxLQUFLLFNBQUwsTUFBb0IsU0FBUyxJQUFqQyxFQUF1QztBQUNyQyxhQUFLLElBQUwsQ0FBVSxHQUFWLEVBQWUsTUFBZixFQUF1QixNQUFNLFNBQU4sQ0FBZ0IsS0FBaEIsQ0FBc0IsSUFBdEIsQ0FBMkIsU0FBM0IsRUFBc0MsQ0FBdEMsQ0FBdkI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7OzsyQkFRTyxHLEVBQUssUSxFQUFVO0FBQ3BCLFVBQUksS0FBSyxTQUFMLE1BQW9CLFNBQVMsS0FBakMsRUFBd0M7QUFDdEMsYUFBSyxJQUFMLENBQVUsR0FBVixFQUFlLE9BQWYsRUFBd0IsTUFBTSxTQUFOLENBQWdCLEtBQWhCLENBQXNCLElBQXRCLENBQTJCLFNBQTNCLEVBQXNDLENBQXRDLENBQXhCO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsWUFBTSxRQUFRLGlCQUFpQixLQUFqQixDQUF1QixJQUF2QixFQUNWLE1BQU0sU0FBTixDQUFnQixLQUFoQixDQUFzQixJQUF0QixDQUEyQixTQUEzQixFQUFzQyxDQUF0QyxDQURVLENBQWQ7QUFFQSxhQUFLLGFBQUwsQ0FBbUIsS0FBbkI7QUFDQSxlQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OzswQkFLTSxHLEVBQUssUSxFQUFVO0FBQ25CLFVBQU0sUUFBUSxLQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLElBQWxCLEVBQXdCLFNBQXhCLENBQWQ7QUFDQSxVQUFJLEtBQUosRUFBVztBQUNULGNBQU0sSUFBTixHQUFhLE9BQU8sTUFBTSxJQUExQjtBQUNBO0FBQ0EsYUFBSyxXQUFMLENBQWlCLEtBQWpCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7O2tDQU1jLFMsRUFBVyxRLEVBQVU7QUFDakMsVUFBTSxRQUFRLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0IsU0FBeEIsQ0FBZDtBQUNBLFVBQUksS0FBSixFQUFXO0FBQ1QsY0FBTSxRQUFOLEdBQWlCLElBQWpCO0FBQ0E7QUFDQSxhQUFLLFdBQUwsQ0FBaUIsS0FBakI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OztnQ0FLWSxRLEVBQVU7QUFDcEIsVUFBTSxRQUFRLGlCQUFpQixLQUFqQixDQUF1QixJQUF2QixFQUE2QixTQUE3QixDQUFkO0FBQ0EsV0FBSyxhQUFMLENBQW1CLEtBQW5CO0FBQ0EsYUFBTyxLQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O3dDQUtvQixRLEVBQVU7QUFDNUIsVUFBTSxRQUFRLGlCQUFpQixLQUFqQixDQUF1QixJQUF2QixFQUE2QixTQUE3QixDQUFkO0FBQ0EsV0FBSyxhQUFMLENBQW1CLEtBQW5CO0FBQ0EsWUFBTSxRQUFOLEdBQWlCLElBQWpCO0FBQ0EsYUFBTyxLQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJCQW9CTyxlLEVBQWlCLFcsRUFBYSxRLEVBQVU7QUFDN0MsVUFBSSxxQkFBSjtBQUNBLFVBQUksQ0FBQyxlQUFMLEVBQXNCO0FBQ3BCLFlBQU0sVUFBVSxlQUFlLGtCQUEvQjtBQUNBLFlBQU0sZUFBZSxRQUFRLEtBQVIsQ0FBYyxJQUFkLENBQXJCO0FBQ0EsWUFBTSxRQUFRLGFBQWEsS0FBYixFQUFkO0FBQ0EsWUFBSSxZQUFZLEtBQWhCO0FBQ0EsWUFBTSxlQUFlLEVBQXJCO0FBQ0EsdUJBQWUsWUFBZixFQUE2QixLQUE3QjtBQUNBLGFBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxVQUFVLE1BQTlCLEVBQXNDLEdBQXRDLEVBQTJDO0FBQ3pDLGNBQU0sTUFBTSxVQUFVLENBQVYsQ0FBWjtBQUNBLGNBQUksT0FBTyxJQUFJLE9BQWYsRUFBd0I7QUFDdEIsMkJBQWUsR0FBZjtBQUNEO0FBQ0QsY0FBTSxlQUFlLGFBQWEsS0FBYixFQUFyQjtBQUNBLHVCQUFhLElBQWIsQ0FBa0IsR0FBbEI7QUFDQSx5QkFBZSxZQUFmLEVBQTZCLGFBQWEsSUFBYixFQUE3QjtBQUNBLHVCQUFhLFNBQVMsR0FBVCxJQUFnQixZQUE3QjtBQUNEO0FBQ0QsWUFBTSxJQUFJLElBQUksS0FBSixDQUFVLFNBQVYsQ0FBVjtBQUNBLFVBQUUsVUFBRixHQUFlLElBQWY7QUFDQSxVQUFFLGlCQUFGLEdBQXNCLFlBQXRCO0FBQ0EsVUFBRSxZQUFGLEdBQWlCLFlBQWpCO0FBQ0EsYUFBSyxhQUFMLENBQW1CLENBQW5CO0FBQ0E7QUFDQSxhQUFLLFdBQUwsQ0FBaUIsQ0FBakI7QUFDQSxjQUFNLENBQU47QUFDRDtBQUNELGFBQU8sZUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7OztrQ0FXYyxlLEVBQWlCLFcsRUFBYTtBQUMxQyxVQUFNLGtCQUFrQixtQkFBbUIsZ0JBQWdCLFFBQWhCLElBQTRCLENBQXZFO0FBQ0EsV0FBSyxNQUFMLENBQVksZUFBWixFQUE2QixDQUFDLGVBQWUsa0JBQWhCLElBQXNDLE1BQW5FLEVBQ0ksZUFESjtBQUVBLGFBQU8sd0JBQXlCO0FBQWhDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7O2lDQVdhLGMsRUFBZ0IsVyxFQUFhO0FBQ3hDLFdBQUssTUFBTCxDQUFZLE9BQU8sY0FBUCxJQUF5QixRQUFyQyxFQUNJLENBQUMsZUFBZSxpQkFBaEIsSUFBcUMsTUFEekMsRUFDaUQsY0FEakQ7QUFFQSxhQUFPLHNCQUF1QjtBQUE5QjtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7OztpQ0FXYSxjLEVBQWdCLFcsRUFBYTtBQUN4QyxXQUFLLE1BQUwsQ0FBWSxPQUFPLGNBQVAsSUFBeUIsUUFBckMsRUFDSSxDQUFDLGVBQWUsaUJBQWhCLElBQXFDLE1BRHpDLEVBQ2lELGNBRGpEO0FBRUEsYUFBTyxzQkFBdUI7QUFBOUI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7O2tDQVNjLGUsRUFBaUIsVyxFQUFhO0FBQzFDLFdBQUssTUFBTCxDQUFZLENBQUMsQ0FBQyxlQUFGLEtBQXNCLGVBQWxDLEVBQ0ksQ0FBQyxlQUFlLGtCQUFoQixJQUFzQyxNQUQxQyxFQUNrRCxlQURsRDtBQUVBLGFBQU8sdUJBQXdCO0FBQS9CO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7O29DQVdnQixPLEVBQVMsQyxFQUFHLFksRUFBYztBQUN4QyxVQUFJLHdCQUFZLE9BQVosRUFBcUIsQ0FBckIsQ0FBSixFQUE2QjtBQUMzQixlQUFPLENBQVA7QUFDRDtBQUNELFdBQUssTUFBTCxDQUFZLEtBQVosRUFDSSx3QkFESixFQUVJLGdCQUFnQixNQUZwQixFQUU0QixDQUY1QjtBQUdEOztBQUVEOzs7Ozs7O2tDQUljLEssRUFBTztBQUNuQixjQUFRLDBCQUEwQixLQUExQixDQUFSO0FBQ0EsVUFBSSxLQUFLLE9BQVQsRUFBa0I7QUFDaEIsWUFBSSxDQUFDLE1BQU0sT0FBWCxFQUFvQjtBQUNsQixnQkFBTSxPQUFOLEdBQWdCLEtBQUssT0FBckI7QUFDRCxTQUZELE1BRU8sSUFBSSxNQUFNLE9BQU4sQ0FBYyxPQUFkLENBQXNCLEtBQUssT0FBM0IsS0FBdUMsQ0FBQyxDQUE1QyxFQUErQztBQUNwRCxnQkFBTSxPQUFOLElBQWlCLEtBQUssT0FBdEI7QUFDRDtBQUNGLE9BTkQsTUFNTyxJQUFJLG1CQUFtQixNQUFNLE9BQXpCLENBQUosRUFBdUM7QUFDNUMsY0FBTSxPQUFOLEdBQWdCLE1BQU0sT0FBTixDQUFjLE9BQWQsQ0FBc0IsbUJBQXRCLEVBQTJDLEVBQTNDLENBQWhCO0FBQ0Q7QUFDRjs7Ozs7O0FBR0g7Ozs7OztBQUlBLFNBQVMsUUFBVCxDQUFrQixHQUFsQixFQUF1QjtBQUNyQjtBQUNBLE1BQUksT0FBTyxJQUFJLFFBQUosSUFBZ0IsQ0FBM0IsRUFBOEI7QUFDNUIsV0FBTyxJQUFJLE9BQUosQ0FBWSxXQUFaLE1BQTZCLElBQUksRUFBSixHQUFTLE1BQU0sSUFBSSxFQUFuQixHQUF3QixFQUFyRCxDQUFQO0FBQ0Q7QUFDRCxTQUFPLHNCQUF1QjtBQUE5QjtBQUNEOztBQUdEOzs7O0FBSUEsU0FBUyxjQUFULENBQXdCLEtBQXhCLEVBQStCLEdBQS9CLEVBQW9DO0FBQ2xDLE1BQUksT0FBTyxFQUFYLEVBQWU7QUFDYixVQUFNLElBQU4sQ0FBVyxHQUFYO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7QUFLTyxTQUFTLHlCQUFULENBQW1DLEtBQW5DLEVBQTBDO0FBQUEsTUFDeEMsT0FEd0MsR0FDN0IsS0FENkIsQ0FDeEMsT0FEd0M7O0FBRS9DLE1BQU0sT0FBTyxPQUFPLEtBQUssTUFBTCxFQUFQLENBQWI7QUFDQSxRQUFNLE9BQU4sR0FBZ0IsSUFBaEI7O0FBRUEsTUFBSSxNQUFNLE9BQU4sS0FBa0IsSUFBdEIsRUFBNEI7QUFDMUIsVUFBTSxPQUFOLEdBQWdCLE9BQWhCO0FBQ0EsV0FBTyxLQUFQO0FBQ0Q7O0FBRUQsTUFBTSxJQUFJLElBQUksS0FBSixDQUFVLE1BQU0sT0FBaEIsQ0FBVjtBQUNBO0FBQ0EsT0FBSyxJQUFNLElBQVgsSUFBbUIsS0FBbkIsRUFBMEI7QUFDeEIsTUFBRSxJQUFGLElBQVUsTUFBTSxJQUFOLENBQVY7QUFDRDtBQUNEO0FBQ0EsSUFBRSxLQUFGLEdBQVUsTUFBTSxLQUFoQjtBQUNBLFNBQU8sQ0FBUDtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsZ0JBQVQsQ0FBMEIsUUFBMUIsRUFBb0M7QUFDekMsTUFBSSxRQUFRLElBQVo7QUFDQSxNQUFJLFVBQVUsRUFBZDtBQUNBLE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxVQUFVLE1BQTlCLEVBQXNDLEdBQXRDLEVBQTJDO0FBQ3pDLFFBQU0sTUFBTSxVQUFVLENBQVYsQ0FBWjtBQUNBLFFBQUksZUFBZSxLQUFmLElBQXdCLENBQUMsS0FBN0IsRUFBb0M7QUFDbEMsY0FBUSwwQkFBMEIsR0FBMUIsQ0FBUjtBQUNELEtBRkQsTUFFTztBQUNMLFVBQUksT0FBSixFQUFhO0FBQ1gsbUJBQVcsR0FBWDtBQUNEO0FBQ0QsaUJBQVcsR0FBWDtBQUNEO0FBQ0Y7O0FBRUQsTUFBSSxDQUFDLEtBQUwsRUFBWTtBQUNWLFlBQVEsSUFBSSxLQUFKLENBQVUsT0FBVixDQUFSO0FBQ0QsR0FGRCxNQUVPLElBQUksT0FBSixFQUFhO0FBQ2xCLFVBQU0sT0FBTixHQUFnQixVQUFVLElBQVYsR0FBaUIsTUFBTSxPQUF2QztBQUNEO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS08sU0FBUyxZQUFULENBQXNCLFFBQXRCLEVBQWdDO0FBQ3JDLE1BQU0sUUFBUSxpQkFBaUIsS0FBakIsQ0FBdUIsSUFBdkIsRUFBNkIsU0FBN0IsQ0FBZDtBQUNBLGFBQVcsWUFBTTtBQUNmO0FBQ0EsU0FBSyxXQUFMLENBQWlCLEtBQWpCO0FBQ0EsVUFBTSxLQUFOO0FBQ0QsR0FKRDtBQUtEOztBQUdEOzs7OztBQUtBLEtBQUssR0FBTCxHQUFZLEtBQUssR0FBTCxJQUFZO0FBQ3RCLFFBQU0sSUFEZ0I7QUFFdEIsT0FBSyxJQUZpQjtBQUd0QixnQkFBYztBQUhRLENBQXhCOztBQU1BLElBQU0sT0FBTyxLQUFLLEdBQWxCOztBQUVBOzs7Ozs7QUFNQSxJQUFJLGlCQUFpQixJQUFyQjs7QUFFQTs7O0FBR08sU0FBUyxrQkFBVCxHQUE4QjtBQUNuQyxtQkFBaUIsR0FBakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNEOztBQUVEOzs7QUFHTyxTQUFTLDZCQUFULEdBQXlDO0FBQzlDLG1CQUFpQixJQUFqQjtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7QUFZTyxTQUFTLElBQVQsQ0FBYyxXQUFkLEVBQTJCO0FBQ2hDLE1BQUksQ0FBQyxLQUFLLElBQVYsRUFBZ0I7QUFDZCxTQUFLLElBQUwsR0FBWSxjQUFjLG1CQUFkLENBQVo7QUFDRDtBQUNELE1BQUksQ0FBQyxZQUFZLEtBQUssSUFBTCxDQUFVLEdBQXRCLEVBQTJCLFdBQTNCLENBQUwsRUFBOEM7QUFDNUMsV0FBTyxLQUFLLElBQVo7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFJLEtBQUssWUFBVCxFQUF1QjtBQUNyQixhQUFPLEtBQUssWUFBWjtBQUNEO0FBQ0QsV0FBTyxLQUFLLFlBQUwsR0FBb0IsY0FBYyx5QkFBZCxDQUEzQjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7O0FBS0EsU0FBUyxhQUFULENBQXVCLE1BQXZCLEVBQStCO0FBQzdCLE1BQUksQ0FBQyxjQUFMLEVBQXFCO0FBQ25CLFVBQU0sSUFBSSxLQUFKLENBQVUsbUNBQVYsQ0FBTjtBQUNEO0FBQ0QsU0FBTyxJQUFJLGNBQUosQ0FBbUIsSUFBbkIsRUFBeUIsZ0JBQVE7QUFDdEMsUUFBTSxTQUFTLFNBQVMsS0FBSyxHQUFkLEVBQW1CLEVBQW5CLENBQWY7QUFDQSxRQUFJLEtBQUssV0FBTCxJQUFvQixVQUFVLENBQWxDLEVBQXFDO0FBQ25DLGFBQU8sU0FBUyxJQUFoQjtBQUNEO0FBQ0QsV0FBTyxTQUFTLElBQWhCO0FBQ0QsR0FOTSxFQU1KLE1BTkksQ0FBUDtBQU9EOztBQUVEOzs7Ozs7Ozs7Ozs7QUFZTyxTQUFTLEdBQVQsR0FBZTtBQUNwQixNQUFJLEtBQUssR0FBVCxFQUFjO0FBQ1osV0FBTyxLQUFLLEdBQVo7QUFDRDtBQUNELE1BQUksQ0FBQyxjQUFMLEVBQXFCO0FBQ25CLFVBQU0sSUFBSSxLQUFKLENBQVUsbUNBQVYsQ0FBTjtBQUNEO0FBQ0QsU0FBTyxLQUFLLEdBQUwsR0FBVyxJQUFJLGNBQUosQ0FBbUIsSUFBbkIsRUFBeUIsZ0JBQVE7QUFDakQsUUFBTSxTQUFTLFNBQVMsS0FBSyxHQUFkLEVBQW1CLEVBQW5CLENBQWY7QUFDQSxRQUFJLFVBQVUsQ0FBZCxFQUFpQjtBQUNmLGFBQU8sU0FBUyxJQUFoQjtBQUNEO0FBQ0QsUUFBSSxVQUFVLENBQWQsRUFBaUI7QUFDZixhQUFPLFNBQVMsSUFBaEI7QUFDRDtBQUNELFdBQU8sU0FBUyxHQUFoQjtBQUNELEdBVGlCLENBQWxCO0FBVUQ7O0FBRUQ7Ozs7O0FBS08sU0FBUyxXQUFULENBQXFCLEdBQXJCLEVBQTBCLFdBQTFCLEVBQXVDO0FBQzVDLE1BQUksQ0FBQyxXQUFMLEVBQWtCO0FBQ2hCLFdBQU8sS0FBUDtBQUNEO0FBQ0QsU0FBTyxZQUFZLGFBQVosQ0FBMEIsV0FBMUIsSUFBeUMsR0FBaEQ7QUFDRDs7Ozs7O1FDaHBCZSxhLEdBQUEsYTs7QUFSaEI7O0FBRUE7Ozs7OztBQU1PLFNBQVMsYUFBVCxDQUF1QixPQUF2QixFQUFnQztBQUNyQyxTQUFPO0FBQ0wsY0FBVSxtQkFBUSxPQUFSLEVBQWlCLFFBRHRCO0FBRUwsaUJBQWEsbUJBQVEsT0FBUixFQUFpQixXQUZ6QjtBQUdMLFlBQVEsbUJBQVEsT0FBUixFQUFpQixNQUhwQjtBQUlMLGNBQVUsbUJBQVEsT0FBUixFQUFpQixRQUp0QjtBQUtMLFVBQU0sbUJBQVEsT0FBUixFQUFpQixJQUxsQjtBQU1MLFVBQU0sbUJBQVEsT0FBUixFQUFpQixJQU5sQjtBQU9MLFNBQUssbUJBQVEsT0FBUixFQUFpQixHQVBqQjtBQVFMLGFBQVMsbUJBQVEsT0FBUixFQUFpQixPQVJyQjtBQVNMLGdCQUFZLG1CQUFRLE9BQVIsRUFBaUI7QUFUeEIsR0FBUDtBQVdELEMsQ0FwQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQ2dEZ0IsTyxHQUFBLE87UUFnR0EsdUIsR0FBQSx1QjtRQU1BLHlCLEdBQUEseUI7O0FBdEloQjs7QUFFQTs7Ozs7Ozs7Ozs7OztBQWFPLElBQUksa0NBQUo7O0FBRVA7QUFqQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQ0EsSUFBTSxVQUFVLDBCQUFoQjs7QUFFQTs7Ozs7QUFLQSxJQUFJLGFBQWEsRUFBakI7O0FBRUE7Ozs7O0FBS08sU0FBUyxPQUFULENBQWlCLE9BQWpCLEVBQTBCO0FBQy9CLE1BQU0sTUFBTSxXQUFXLElBQXZCO0FBQ0EsTUFBSSxJQUFJLFFBQVIsRUFBa0I7QUFDaEIsV0FBTyxJQUFJLFFBQVg7QUFDRDtBQUNELFNBQU8sSUFBSSxRQUFKLEdBQWUsU0FBUyxHQUFULENBQXRCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsU0FBUyxRQUFULENBQWtCLEdBQWxCLEVBQXVCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxTQUFTLElBQWY7QUFDQSxNQUFNLGNBQWMsS0FBcEI7O0FBRUEsTUFBTSxrQkFBa0IsQ0FBQyxFQUFFLEtBQUssVUFBTCxJQUFtQixLQUFLLFVBQUwsQ0FBZ0IsUUFBckMsQ0FBekI7QUFDQSxNQUFNLGVBQWUsVUFBVSxDQUFDLEVBQUUsSUFBSSxRQUFKLElBQWdCLElBQUksU0FBdEIsQ0FBaEM7QUFDQSxNQUFNLGFBQWEsV0FBVyxtQkFBbUIsWUFBOUIsQ0FBbkI7QUFDQSxNQUFNLFlBQVk7QUFDZDtBQUNBO0FBQ0EsTUFBSSxRQUFKLENBQWEsWUFBYixJQUE2QixJQUFJLFFBQUosQ0FBYSxJQUg1QixDQUFsQjs7QUFLQSxNQUFNLGNBQWMsNENBQWtCLElBQUksUUFBSixDQUFhLE1BQS9CLENBQXBCOztBQUVBLE1BQUksQ0FBQyxVQUFMLEVBQWlCO0FBQ2YsaUJBQWEsY0FBYyxHQUFkLEVBQW1CLFVBQW5CLENBQWI7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQU87QUFDTCxjQUFVLFVBREw7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBYSxDQUFDLEVBQUUsVUFBVSxhQUFWLEtBQTRCLEdBQTVCLElBQW1DLElBQUksWUFBekMsQ0FMVDtBQU1MLGNBQVUsVUFBVSxhQUFWLEtBQTRCLEdBTmpDO0FBT0w7QUFDQTtBQUNBLFlBQVEsVUFBVSxRQUFWLENBVEg7QUFVTDtBQUNBLGlCQUFhLFVBQVUsU0FBVixDQVhSO0FBWUwsY0FBVSxXQVpMO0FBYUw7QUFDQTtBQUNBLFVBQU0sWUFBWSxVQUFaLEtBQTJCLFNBZjVCO0FBZ0JMLFVBQU0sWUFoQkQ7QUFpQkwsU0FBSyxVQUFVLEtBQVYsQ0FqQkE7QUFrQkwsb0JBbEJLO0FBbUJMO0FBbkJLLEdBQVA7QUFxQkQ7O0FBRUQ7Ozs7Ozs7O0FBUUEsU0FBUyxhQUFULENBQXVCLEdBQXZCLEVBQTRCLFVBQTVCLEVBQXdDO0FBQ3RDO0FBQ0E7QUFDQSxNQUFJLFVBQUosRUFBZ0I7QUFDZCxXQUFPLE9BQVA7QUFDRDs7QUFFRCxNQUFJLElBQUksVUFBSixJQUFrQixJQUFJLFVBQUosQ0FBZSxDQUFyQyxFQUF3QztBQUN0QyxXQUFPLElBQUksVUFBSixDQUFlLENBQXRCO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFZLE9BQVo7QUFDRDs7QUFHRDs7Ozs7O0FBTU8sU0FBUyx1QkFBVCxDQUFpQyxHQUFqQyxFQUFzQyxVQUF0QyxFQUFrRDtBQUN2RCxTQUFPLGNBQWMsR0FBZCxFQUFtQixVQUFuQixDQUFQO0FBQ0Q7O0FBR0Q7QUFDTyxTQUFTLHlCQUFULEdBQXFDO0FBQzFDLGVBQWEsRUFBYjtBQUNEOzs7Ozs7OztxakJDeEpEOzs7Ozs7Ozs7Ozs7Ozs7O1FBZ0RnQixZLEdBQUEsWTtRQWtDQSxjLEdBQUEsYzs7QUFsRWhCOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNLGlCQUFpQixTQUFqQixjQUFpQixHQUFXLENBQUUsQ0FBcEM7O0FBRUE7QUFDQSxJQUFNLGdCQUFnQixJQUF0Qjs7QUFFQTtBQUNBLElBQU0sZUFBZSxLQUFyQjs7QUFFQTtBQUNBLElBQU0sbUJBQW1CLEtBQUssS0FBTCxDQUFXLENBQUMsWUFBRCxHQUFnQixLQUFLLEdBQUwsQ0FBUyxJQUFULENBQTNCLENBQXpCOztBQUVBOzs7OztBQUtBLElBQU0sd0JBQXdCLGVBQWUsQ0FBN0M7O0FBR0E7Ozs7Ozs7OztBQVNPLFNBQVMsWUFBVCxDQUFzQixNQUF0QixFQUE4QixTQUE5QixFQUF5QyxZQUF6QyxFQUF1RDtBQUM1RCxNQUFJLFlBQVksQ0FBaEIsRUFBbUI7QUFDakIsZ0JBQVksQ0FBWjtBQUNEOztBQUVEO0FBQ0EsTUFBTSxRQUFRLFNBQVMsU0FBdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxPQUFPLE1BQU0sS0FBSyxHQUFMLENBQVMsWUFBWSxxQkFBckIsRUFBNEMsR0FBNUMsQ0FBbkI7QUFDQSxTQUFPLFFBQVEsSUFBUixHQUFlLGdCQUFnQixJQUFJLElBQXBCLENBQXRCO0FBQ0Q7O0FBR0Q7Ozs7Ozs7Ozs7Ozs7OztBQWVPLFNBQVMsY0FBVCxDQUF3QixXQUF4QixFQUFxQyxNQUFyQyxFQUE2QyxNQUE3QyxFQUFxRCxLQUFyRCxFQUE0RCxLQUE1RCxFQUNMLFFBREssRUFDSyxTQURMLEVBQ2dCO0FBQ3JCLFNBQU8sSUFBSSxNQUFKLENBQVcsV0FBWCxFQUF3QixNQUF4QixFQUFnQyxNQUFoQyxFQUF3QyxLQUF4QyxFQUErQyxLQUEvQyxFQUNILFFBREcsRUFDTyxTQURQLEVBQ2tCLEtBRGxCLEVBQVA7QUFFRDs7QUFHRDs7Ozs7Ozs7O0lBUWEsTSxXQUFBLE07QUFDWDs7Ozs7Ozs7OztBQVVBLGtCQUFZLFdBQVosRUFBeUIsTUFBekIsRUFBaUMsTUFBakMsRUFBeUMsS0FBekMsRUFBZ0QsS0FBaEQsRUFBdUQsUUFBdkQsRUFBaUUsU0FBakUsRUFBNEU7QUFBQTs7QUFDMUU7QUFDQSxTQUFLLE1BQUwsR0FBYyxhQUFhLG1CQUFTLFFBQVQsQ0FBa0IsSUFBbEIsQ0FBM0I7O0FBRUE7QUFDQSxTQUFLLFlBQUwsR0FBb0IsV0FBcEI7O0FBRUE7QUFDQSxTQUFLLFNBQUwsR0FBaUIsUUFBakI7O0FBRUE7QUFDQSxTQUFLLE1BQUwsR0FBYyxNQUFkOztBQUVBO0FBQ0EsU0FBSyxNQUFMLEdBQWMsTUFBZDs7QUFFQTtBQUNBLFNBQUssYUFBTCxHQUFxQixLQUFyQjs7QUFFQTtBQUNBLFNBQUssYUFBTCxHQUFxQixLQUFyQjs7QUFFQTtBQUNBLFNBQUssVUFBTCxHQUFrQixDQUFsQjs7QUFFQTtBQUNBLFNBQUssVUFBTCxHQUFrQixDQUFsQjs7QUFFQSxRQUFNLFdBQVcsdUJBQWpCOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLFNBQVMsT0FBekI7O0FBRUE7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsU0FBUyxPQUF6Qjs7QUFFQTtBQUNBLFNBQUssT0FBTCxHQUFlLFNBQVMsTUFBeEI7O0FBRUE7QUFDQSxTQUFLLFdBQUwsR0FBbUIsS0FBbkI7QUFDRDs7QUFFRDs7Ozs7NEJBQ1E7QUFDTixXQUFLLFdBQUwsR0FBbUIsSUFBbkI7QUFDQSxVQUFJLEtBQUssR0FBTCxDQUFTLEtBQUssYUFBZCxLQUFnQyxhQUFoQyxJQUNJLEtBQUssR0FBTCxDQUFTLEtBQUssYUFBZCxLQUFnQyxhQUR4QyxFQUN1RDtBQUNyRCxhQUFLLFNBQUw7QUFDQSxhQUFLLGlCQUFMLENBQXVCLElBQXZCO0FBQ0QsT0FKRCxNQUlPO0FBQ0wsYUFBSyxjQUFMO0FBQ0Q7QUFDRCxhQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7OzsyQkFJTztBQUNMLFVBQUksS0FBSyxXQUFULEVBQXNCO0FBQ3BCLGFBQUssaUJBQUwsQ0FBdUIsS0FBdkI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozt5QkFLSyxXLEVBQWEsVSxFQUFZO0FBQzVCLFVBQUksQ0FBQyxXQUFELElBQWdCLENBQUMsVUFBckIsRUFBaUM7QUFDL0IsZUFBTyxLQUFLLFFBQVo7QUFDRDtBQUNELGFBQU8sS0FBSyxRQUFMLENBQWMsSUFBZCxDQUFtQixXQUFuQixFQUFnQyxVQUFoQyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OytCQUtXLFksRUFBYztBQUN2QixVQUFNLFdBQVcsZ0JBQWdCLGNBQWpDO0FBQ0EsYUFBTyx3QkFBeUIsS0FBSyxJQUFMLENBQVUsUUFBVixFQUFvQixRQUFwQjtBQUFoQztBQUNEOztBQUVEOzs7Ozs7O3FDQUlpQjtBQUNmLFdBQUssVUFBTCxHQUFrQixLQUFLLGFBQXZCO0FBQ0EsV0FBSyxVQUFMLEdBQWtCLEtBQUssYUFBdkI7QUFDQSxVQUFNLFlBQVksS0FBSyxhQUFMLENBQW1CLElBQW5CLENBQXdCLElBQXhCLENBQWxCO0FBQ0EsVUFBTSxnQkFBZ0IsS0FBSyxpQkFBTCxDQUF1QixJQUF2QixDQUE0QixJQUE1QixFQUFrQyxJQUFsQyxDQUF0QjtBQUNBLGFBQU8sS0FBSyxNQUFMLENBQVksbUJBQVosQ0FBZ0MsS0FBSyxZQUFyQyxFQUFtRCxTQUFuRCxFQUE4RCxJQUE5RCxFQUNGLElBREUsQ0FDRyxhQURILEVBQ2tCLGFBRGxCLENBQVA7QUFFRDs7QUFFRDs7Ozs7Ozs7OztrQ0FPYyxjLEVBQWdCLGEsRUFBZTtBQUMzQyxVQUFJLENBQUMsS0FBSyxXQUFWLEVBQXVCO0FBQ3JCLGVBQU8sS0FBUDtBQUNEOztBQUVELFdBQUssTUFBTCxJQUFlLGdCQUFnQixLQUFLLFVBQXBDO0FBQ0EsV0FBSyxNQUFMLElBQWUsZ0JBQWdCLEtBQUssVUFBcEM7QUFDQSxVQUFJLENBQUMsS0FBSyxTQUFMLEVBQUwsRUFBdUI7QUFDckIsZUFBTyxLQUFQO0FBQ0Q7O0FBRUQsVUFBTSxRQUFRLEtBQUssR0FBTCxDQUFTLENBQUMsY0FBRCxHQUFrQixnQkFBM0IsQ0FBZDtBQUNBLFdBQUssVUFBTCxHQUFrQixLQUFLLGFBQUwsR0FBcUIsS0FBdkM7QUFDQSxXQUFLLFVBQUwsR0FBa0IsS0FBSyxhQUFMLEdBQXFCLEtBQXZDO0FBQ0EsYUFBUSxLQUFLLEdBQUwsQ0FBUyxLQUFLLFVBQWQsSUFBNEIsYUFBNUIsSUFDSixLQUFLLEdBQUwsQ0FBUyxLQUFLLFVBQWQsSUFBNEIsYUFEaEM7QUFFRDs7QUFFRDs7Ozs7OztzQ0FJa0IsTyxFQUFTO0FBQ3pCLFVBQUksQ0FBQyxLQUFLLFdBQVYsRUFBdUI7QUFDckI7QUFDRDtBQUNELFdBQUssV0FBTCxHQUFtQixLQUFuQjtBQUNBLFdBQUssU0FBTDtBQUNBLFVBQUksT0FBSixFQUFhO0FBQ1gsYUFBSyxRQUFMO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsYUFBSyxPQUFMO0FBQ0Q7QUFDRjs7QUFFRDs7OztnQ0FDWTtBQUNWLGFBQU8sS0FBSyxTQUFMLENBQWUsS0FBSyxNQUFwQixFQUE0QixLQUFLLE1BQWpDLENBQVA7QUFDRDs7Ozs7Ozs7Ozs7Ozs7O0FDOVBIOzs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBOzs7OztJQUthLFUsV0FBQSxVOztBQUVYOzs7QUFHQSx3QkFBYztBQUFBOztBQUNaO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLElBQWpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozt3QkFLSSxPLEVBQVM7QUFBQTs7QUFDWCxVQUFJLENBQUMsS0FBSyxTQUFWLEVBQXFCO0FBQ25CLGFBQUssU0FBTCxHQUFpQixFQUFqQjtBQUNEO0FBQ0QsV0FBSyxTQUFMLENBQWUsSUFBZixDQUFvQixPQUFwQjtBQUNBLGFBQU8sWUFBTTtBQUNYLGNBQUssTUFBTCxDQUFZLE9BQVo7QUFDRCxPQUZEO0FBR0Q7O0FBRUQ7Ozs7Ozs7MkJBSU8sTyxFQUFTO0FBQ2QsVUFBSSxDQUFDLEtBQUssU0FBVixFQUFxQjtBQUNuQjtBQUNEO0FBQ0QsVUFBTSxRQUFRLEtBQUssU0FBTCxDQUFlLE9BQWYsQ0FBdUIsT0FBdkIsQ0FBZDtBQUNBLFVBQUksUUFBUSxDQUFDLENBQWIsRUFBZ0I7QUFDZCxhQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLEtBQXRCLEVBQTZCLENBQTdCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7O2dDQUdZO0FBQ1YsVUFBSSxDQUFDLEtBQUssU0FBVixFQUFxQjtBQUNuQjtBQUNEO0FBQ0QsV0FBSyxTQUFMLENBQWUsTUFBZixHQUF3QixDQUF4QjtBQUNEOztBQUVEOzs7Ozs7O3lCQUlLLFMsRUFBVztBQUNkLFVBQUksQ0FBQyxLQUFLLFNBQVYsRUFBcUI7QUFDbkI7QUFDRDtBQUNELFVBQU0sV0FBVyxLQUFLLFNBQXRCO0FBQ0EsV0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFNBQVMsTUFBN0IsRUFBcUMsR0FBckMsRUFBMEM7QUFDeEMsWUFBTSxVQUFVLFNBQVMsQ0FBVCxDQUFoQjtBQUNBLGdCQUFRLFNBQVI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O3NDQUlrQjtBQUNoQixVQUFJLENBQUMsS0FBSyxTQUFWLEVBQXFCO0FBQ25CLGVBQU8sQ0FBUDtBQUNEO0FBQ0QsYUFBTyxLQUFLLFNBQUwsQ0FBZSxNQUF0QjtBQUNEOzs7Ozs7Ozs7Ozs7cWpCQ2hHSDs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7OztBQUdBOzs7OztJQUthLEksV0FBQSxJOztBQUVYOzs7Ozs7O0FBT0EsZ0JBQVksR0FBWixFQUFpQixPQUFqQixFQUEwQixnQkFBMUIsRUFBNEM7QUFBQTs7QUFBQTs7QUFDMUMsU0FBSyxNQUFMLEdBQWMsbUJBQVMsUUFBVCxDQUFrQixHQUFsQixDQUFkOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLE9BQWhCOztBQUVBO0FBQ0EsU0FBSyxhQUFMLEdBQXFCLG9CQUFvQixDQUF6Qzs7QUFFQTtBQUNBLFNBQUssVUFBTCxHQUFrQixDQUFDLENBQW5COztBQUVBO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLENBQWpCOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLEtBQWhCOztBQUVBO0FBQ0EsU0FBSyxVQUFMLEdBQWtCO0FBQUEsYUFBTSxNQUFLLEtBQUwsRUFBTjtBQUFBLEtBQWxCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O2dDQUlZO0FBQ1YsYUFBTyxLQUFLLFVBQUwsSUFBbUIsQ0FBQyxDQUEzQjtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7OzZCQWFTLFMsRUFBVztBQUNsQixVQUFJLFFBQVEsYUFBYSxLQUFLLGFBQTlCO0FBQ0EsVUFBSSxLQUFLLFFBQUwsSUFBaUIsUUFBUSxFQUE3QixFQUFpQztBQUMvQjtBQUNBO0FBQ0EsZ0JBQVEsRUFBUjtBQUNEOztBQUVELFVBQU0sV0FBVyxLQUFLLEdBQUwsS0FBYSxLQUE5QjtBQUNBO0FBQ0E7QUFDQSxVQUFJLENBQUMsS0FBSyxTQUFMLEVBQUQsSUFBcUIsV0FBVyxLQUFLLFNBQWhCLEdBQTRCLENBQUMsRUFBdEQsRUFBMEQ7QUFDeEQsYUFBSyxNQUFMO0FBQ0EsYUFBSyxTQUFMLEdBQWlCLFFBQWpCO0FBQ0EsYUFBSyxVQUFMLEdBQWtCLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsS0FBSyxVQUF2QixFQUFtQyxLQUFuQyxDQUFsQjs7QUFFQSxlQUFPLElBQVA7QUFDRDs7QUFFRCxhQUFPLEtBQVA7QUFDRDs7QUFFRDs7Ozs7OzRCQUdRO0FBQ04sV0FBSyxVQUFMLEdBQWtCLENBQUMsQ0FBbkI7QUFDQSxXQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxXQUFLLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxXQUFLLFFBQUw7QUFDQSxXQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDRDs7QUFFRDs7Ozs7OzZCQUdTO0FBQ1AsVUFBSSxLQUFLLFNBQUwsRUFBSixFQUFzQjtBQUNwQixhQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLEtBQUssVUFBeEI7QUFDQSxhQUFLLFVBQUwsR0FBa0IsQ0FBQyxDQUFuQjtBQUNEO0FBQ0Y7Ozs7Ozs7QUNyR0g7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7OzBKQTVCQTs7Ozs7Ozs7Ozs7Ozs7OztBQThCQSxJQUFJLGlDQUFlLElBQWYsRUFBcUIsb0JBQXJCLEtBQThDLHFCQUFVLElBQTVELEVBQWtFO0FBQ2hFLCtCQUFzQixJQUF0QjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQ0QsQ0FGRCxNQUVPO0FBQ0wsc0RBQXVCLElBQXZCLEVBQTZCLE1BQTdCO0FBQ0Q7QUFDRCxpQ0FBMEIsSUFBMUI7QUFDQSx1QkFBZ0IsSUFBaEI7QUFDQSwyQkFBb0IsSUFBcEI7QUFDQSxzQkFBZSxJQUFmO0FBQ0EsK0JBQW1CLElBQW5CO0FBQ0EsNEJBQXFCLElBQXJCOzs7Ozs7UUNJZ0IsTyxHQUFBLE87QUE1Q2hCOzs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7Ozs7OztBQVFBLFNBQVMsUUFBVCxDQUFrQixLQUFsQixFQUF5QixhQUF6QixFQUF3QztBQUN0QyxNQUFNLFlBQVksaUJBQWlCLENBQW5DO0FBQ0EsTUFBTSxNQUFNLEtBQUssTUFBakI7QUFDQSxNQUFJLElBQUksYUFBYSxDQUFiLEdBQWlCLFNBQWpCLEdBQTZCLEtBQUssR0FBTCxDQUFTLE1BQU0sU0FBZixFQUEwQixDQUExQixDQUFyQztBQUNBLFNBQU8sSUFBSSxHQUFYLEVBQWdCLEdBQWhCLEVBQXFCO0FBQ25CLFFBQU0sUUFBUSxLQUFLLENBQUwsQ0FBZDtBQUNBO0FBQ0E7QUFDQSxRQUFJLFVBQVUsS0FBVixJQUFvQixVQUFVLEtBQVYsSUFBbUIsVUFBVSxLQUFyRCxFQUE2RDtBQUMzRCxhQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJTyxTQUFTLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0I7QUFDM0IsTUFBSSxDQUFDLElBQUksS0FBSixDQUFVLFNBQVYsQ0FBb0IsUUFBekIsRUFBbUM7QUFDakMsUUFBSSxNQUFKLENBQVcsY0FBWCxDQUEwQixNQUFNLFNBQWhDLEVBQTJDLFVBQTNDLEVBQXVEO0FBQ3JELGtCQUFZLEtBRHlDO0FBRXJELG9CQUFjLElBRnVDO0FBR3JELGdCQUFVLElBSDJDO0FBSXJELGFBQU87QUFKOEMsS0FBdkQ7QUFNRDtBQUNGOzs7Ozs7Ozs7UUNnbkJlLE8sR0FBQSxPOzs7O0FBcnFCaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7OztBQU1BLElBQUksb0JBQUo7O0FBRUE7OztBQUdBLElBQUksb0NBQUo7O0FBRUE7Ozs7OztBQU1BLElBQUkseUJBQUo7O0FBRUE7Ozs7O0FBS0EsSUFBTSxhQUFhLGlDQUFuQjtBQUNBLElBQU0sZ0JBQWdCLENBQ3BCLGdCQURvQixFQUVwQixlQUZvQixFQUdwQixXQUhvQixFQUlwQixlQUpvQixFQUtwQixlQUxvQixFQU1wQixrQkFOb0IsRUFPcEIsZ0JBUG9CLEVBUXBCLGVBUm9CLENBQXRCOztBQVdBOzs7Ozs7QUFNQSxTQUFTLGVBQVQsQ0FBeUIsV0FBekIsRUFBc0MsSUFBdEMsRUFBNEM7QUFDMUMsTUFBSSxDQUFDLFdBQVcsSUFBWCxDQUFnQixJQUFoQixDQUFELElBQTBCLGNBQWMsT0FBZCxDQUFzQixJQUF0QixLQUErQixDQUE3RCxFQUFnRTtBQUM5RCxVQUFNLElBQUksV0FBSixtQ0FBZ0QsSUFBaEQsT0FBTjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7OztBQU1BLFNBQVMsaUJBQVQsQ0FBMkIsR0FBM0IsRUFBZ0M7QUFBQSxNQUN2QixjQUR1QixHQUNMLEdBREssQ0FDdkIsY0FEdUI7OztBQUc5QixTQUFPLENBQUMsRUFDTixrQkFDQSxlQUFlLE1BRGYsSUFFQSxlQUFlLEdBRmYsSUFHQSxlQUFlLFdBSlQsQ0FBUjtBQUtEOztBQUVEOzs7Ozs7QUFNQSxTQUFTLFNBQVQsQ0FBbUIsR0FBbkIsRUFBd0I7QUFDdEIsTUFBTSxNQUFNLElBQUksV0FBSixDQUFnQixRQUFoQixFQUFaO0FBQ0EsU0FBTyxJQUFJLE9BQUosQ0FBWSxlQUFaLE1BQWlDLENBQUMsQ0FBekM7QUFDRDs7QUFFRDs7OztJQUdNLHFCO0FBQ0o7Ozs7QUFJQSxpQ0FBWSxHQUFaLEVBQWlCLFFBQWpCLEVBQTJCO0FBQUE7O0FBQ3pCOzs7QUFHQSxTQUFLLElBQUwsR0FBWSxHQUFaOztBQUVBOzs7QUFHQSxTQUFLLFNBQUwsR0FBaUIsUUFBakI7O0FBRUE7Ozs7O0FBS0EsU0FBSyxlQUFMLEdBQXVCLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsTUFBakIsQ0FBd0IsSUFBeEIsQ0FBdkI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7MkJBT08sSSxFQUFNLEksRUFBTSxPLEVBQVM7QUFDMUIsV0FBSyxTQUFMLENBQWUsTUFBZixDQUFzQixJQUF0QixFQUE0QixJQUE1QixFQUFrQyxPQUFsQzs7QUFFQTtBQUNBO0FBQ0EsVUFBTSxVQUFVLEtBQUssZUFBckI7QUFDQSxVQUFNLFdBQVcsUUFBUSxJQUFSLENBQWpCO0FBQ0EsVUFBSSxRQUFKLEVBQWM7QUFDWixpQkFBUyxPQUFUO0FBQ0EsZUFBTyxRQUFRLElBQVIsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozt3QkFNSSxJLEVBQU07QUFDUixVQUFNLE1BQU0sS0FBSyxTQUFMLENBQWUsU0FBZixDQUF5QixJQUF6QixDQUFaO0FBQ0EsVUFBSSxHQUFKLEVBQVM7QUFDUCxlQUFPLElBQUksSUFBWDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7Z0NBT1ksSSxFQUFNO0FBQUEsa0JBQ2UsS0FBSyxJQURwQjtBQUFBLFVBQ1QsT0FEUyxTQUNULE9BRFM7QUFBQSxVQUNBLFdBREEsU0FDQSxXQURBOztBQUVoQixzQkFBZ0IsV0FBaEIsRUFBNkIsSUFBN0I7O0FBRUEsVUFBSSxLQUFLLFNBQUwsQ0FBZSxTQUFmLENBQXlCLElBQXpCLENBQUosRUFBb0M7QUFDbEMsZUFBTyxRQUFRLE9BQVIsRUFBUDtBQUNEOztBQUVELFVBQU0sVUFBVSxLQUFLLGVBQXJCO0FBQ0EsVUFBTSxXQUFXLFFBQVEsSUFBUixDQUFqQjtBQUNBLFVBQUksUUFBSixFQUFjO0FBQ1osZUFBTyxTQUFTLE9BQWhCO0FBQ0Q7O0FBRUQsVUFBSSxnQkFBSjtBQUNBLFVBQU0sVUFBVSxJQUFJLE1BQU0sT0FBVixDQUFrQjtBQUFBLGVBQU8sVUFBVSxHQUFqQjtBQUFBLE9BQWxCLENBQWhCO0FBQ0EsY0FBUSxJQUFSLElBQWdCO0FBQ2Qsd0JBRGM7QUFFZDtBQUZjLE9BQWhCOztBQUtBLGFBQU8sT0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs0QkFLUSxJLEVBQU07QUFDWixXQUFLLFNBQUwsQ0FBZSxPQUFmLENBQXVCLElBQXZCO0FBQ0Q7Ozs7OztBQUdIOzs7Ozs7O0lBS00sUTtBQUNKOzs7QUFHQSxvQkFBWSxHQUFaLEVBQWlCO0FBQUE7O0FBQ2Y7OztBQUdBLFNBQUssSUFBTCxHQUFZLEdBQVo7O0FBRUE7OztBQUdBLFNBQUssSUFBTCxHQUFZLElBQUksUUFBaEI7O0FBRUE7Ozs7O0FBS0EsU0FBSyxZQUFMLEdBQW9CLElBQUksTUFBSixDQUFXLE1BQVgsQ0FBa0IsSUFBbEIsQ0FBcEI7O0FBRUE7Ozs7QUFJQSxTQUFLLE1BQUwsR0FBYyxFQUFkOztBQUVBOzs7O0FBSUEsU0FBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBWVU7QUFDUixVQUFNLFVBQVUsS0FBSyxRQUFyQjtBQUNBLFdBQUssUUFBTCxHQUFnQixJQUFoQjtBQUNBLGFBQU8sT0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7OEJBTVUsSSxFQUFNO0FBQ2QsVUFBTSxhQUFhLEtBQUssWUFBTCxDQUFrQixJQUFsQixDQUFuQjtBQUNBLFVBQUksVUFBSixFQUFnQjtBQUNkLGVBQU8sVUFBUDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OztxQ0FNaUIsSSxFQUFNO0FBQ3JCLFVBQU0sY0FBYyxLQUFLLFlBQXpCOztBQUVBLFdBQUssSUFBTSxJQUFYLElBQW1CLFdBQW5CLEVBQWdDO0FBQzlCLFlBQU0sTUFBTSxZQUFZLElBQVosQ0FBWjtBQUNBLFlBQUksSUFBSSxJQUFKLEtBQWEsSUFBakIsRUFBdUI7QUFDckIsaUJBQU8sR0FBUDtBQUNEO0FBQ0Y7QUFDRjs7QUFFRDs7Ozs7Ozs7Ozs7MkJBUU8sSSxFQUFNLEksRUFBTSxPLEVBQVM7QUFBQSxtQkFDRyxLQUFLLElBRFI7QUFBQSxVQUNuQixLQURtQixVQUNuQixLQURtQjtBQUFBLFVBQ1osV0FEWSxVQUNaLFdBRFk7OztBQUcxQixVQUFJLE9BQUosRUFBYTtBQUNYLGNBQU0sSUFBSSxLQUFKLENBQVUsbURBQVYsQ0FBTjtBQUNEOztBQUVELHNCQUFnQixXQUFoQixFQUE2QixJQUE3Qjs7QUFFQSxVQUFJLEtBQUssU0FBTCxDQUFlLElBQWYsS0FDQSxLQUFLLGdCQUFMLENBQXNCLElBQXRCLENBREosRUFDaUM7QUFDL0IsY0FBTSxJQUFJLEtBQUosNEJBQW1DLElBQW5DLE9BQU47QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxXQUFLLFlBQUwsQ0FBa0IsSUFBbEIsSUFBMEI7QUFDeEIsa0JBRHdCO0FBRXhCO0FBRndCLE9BQTFCOztBQUtBLFdBQUssUUFBTCxDQUFjLElBQWQ7QUFDQSxXQUFLLE9BQUwsQ0FBYSxLQUFLLElBQWxCLEVBQXdCLElBQXhCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs0QkFTUSxJLEVBQU0sUyxFQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLFVBQU0sZUFBZSxDQUFDLENBQUMsU0FBdkI7QUFDQSxVQUFNLFFBQVEsYUFBYSxLQUFLLE1BQWhDO0FBQ0EsVUFBTSxvQkFBb0IsS0FBSyxTQUFMLENBQWUsSUFBZixFQUFxQixLQUFyQixDQUExQjs7QUFFQSxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksa0JBQWtCLE1BQXRDLEVBQThDLEdBQTlDLEVBQW1EO0FBQ2pELFlBQU0sWUFBWSxrQkFBa0IsQ0FBbEIsQ0FBbEI7QUFDQSxZQUFJLFlBQUosRUFBa0I7QUFDaEIsZUFBSyxrQkFBTCxDQUF3QixTQUF4QjtBQUNELFNBRkQsTUFFTztBQUNMLGVBQUssV0FBTCxDQUFpQixTQUFqQjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRDs7Ozs7Ozs7O2dDQU1ZLEksRUFBTTtBQUNoQixVQUFNLE1BQU0sS0FBSyxTQUFMLENBQWUsS0FBSyxTQUFwQixDQUFaO0FBQ0EsVUFBSSxDQUFDLEdBQUwsRUFBVTtBQUNSO0FBQ0Q7O0FBRUQsV0FBSyxZQUFMLEVBQWtCLHVCQUF3QixJQUExQyxFQUFpRCxHQUFqRDtBQUNEOztBQUVEOzs7Ozs7Ozs4QkFLVSxJLEVBQU0sSyxFQUFPO0FBQ3JCLFVBQUksQ0FBQyxLQUFELElBQVUsQ0FBQyxLQUFLLGdCQUFwQixFQUFzQztBQUNwQztBQUNBLGVBQU8sRUFBUDtBQUNEOztBQUVELGFBQU8sS0FBSyxnQkFBTCxDQUFzQixLQUF0QixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztpQ0FNYSxJLEVBQU0sRyxFQUFLO0FBQUEsVUFDZixJQURlLEdBQ1AsR0FETyxDQUNmLElBRGU7O0FBRXRCLFVBQUksZ0JBQWdCLElBQXBCLEVBQTBCO0FBQ3hCO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQUssUUFBTCxHQUFnQixJQUFoQjtBQUNBLFVBQU0sS0FBSyxJQUFJLElBQUosRUFBWDs7QUFFQSxVQUFJLE9BQU8sSUFBWCxFQUFpQjtBQUNmLGNBQU0sSUFBSSxLQUFLLElBQUwsQ0FBVSxLQUFkLENBQ0Ysc0RBREUsQ0FBTjtBQUVEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7dUNBT21CLEksRUFBTTtBQUN2QixVQUFNLE1BQU0sS0FBSyxTQUFMLENBQWUsS0FBSyxTQUFwQixDQUFaO0FBQ0EsVUFBSSxDQUFDLEdBQUwsRUFBVTtBQUNSO0FBQ0Q7QUFDRCxXQUFLLFlBQUwsRUFBa0IsdUJBQXdCLElBQTFDLEVBQWlELEdBQWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFJLEtBQUssaUJBQVQsRUFBNEI7QUFDMUIsYUFBSyxpQkFBTDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OzBDQUtzQixJLEVBQU07QUFDMUI7QUFDQTtBQUNBLFVBQUksS0FBSyxvQkFBVCxFQUErQjtBQUM3QixhQUFLLG9CQUFMO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZCQWVTLEksRUFBTTtBQUFBOztBQUNiLFVBQUksS0FBSyxNQUFULEVBQWlCO0FBQ2YsYUFBSyxNQUFMLFVBQW1CLElBQW5CO0FBQ0E7QUFDRDs7QUFFRCxXQUFLLE1BQUwsR0FBYyxJQUFkOztBQUVBO0FBQ0EsVUFBTSxXQUFXLElBQUksS0FBSyxJQUFMLENBQVUsZ0JBQWQsQ0FBK0IsbUJBQVc7QUFDekQsWUFBSSxPQUFKLEVBQWE7QUFDWCxnQkFBSyxjQUFMLENBQW9CLE9BQXBCO0FBQ0Q7QUFDRixPQUpnQixDQUFqQjtBQUtBLGVBQVMsT0FBVCxDQUFpQixLQUFLLElBQXRCLEVBQTRCO0FBQzFCLG1CQUFXLElBRGU7QUFFMUIsaUJBQVM7QUFGaUIsT0FBNUI7QUFJRDs7QUFFRDs7Ozs7Ozs7Ozs7bUNBUWUsTyxFQUFTO0FBQ3RCLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxRQUFRLE1BQTVCLEVBQW9DLEdBQXBDLEVBQXlDO0FBQ3ZDLFlBQU0sU0FBUyxRQUFRLENBQVIsQ0FBZjtBQUNBLFlBQUksQ0FBQyxNQUFMLEVBQWE7QUFDWDtBQUNEOztBQUpzQyxZQU1oQyxVQU5nQyxHQU1KLE1BTkksQ0FNaEMsVUFOZ0M7QUFBQSxZQU1wQixZQU5vQixHQU1KLE1BTkksQ0FNcEIsWUFOb0I7O0FBT3ZDLGFBQUssSUFBSSxLQUFJLENBQWIsRUFBZ0IsS0FBSSxXQUFXLE1BQS9CLEVBQXVDLElBQXZDLEVBQTRDO0FBQzFDLGNBQU0sT0FBTyxXQUFXLEVBQVgsQ0FBYjtBQUNBLGNBQU0sc0JBQXNCLEtBQUssU0FBTCxDQUFlLElBQWYsRUFBcUIsS0FBSyxNQUExQixDQUE1QjtBQUNBLGVBQUssa0JBQUwsQ0FBd0IsSUFBeEI7QUFDQSxlQUFLLElBQUksTUFBSSxDQUFiLEVBQWdCLE1BQUksb0JBQW9CLE1BQXhDLEVBQWdELEtBQWhELEVBQXFEO0FBQ25ELGlCQUFLLGtCQUFMLENBQXdCLG9CQUFvQixHQUFwQixDQUF4QjtBQUNEO0FBQ0Y7O0FBRUQsYUFBSyxJQUFJLE1BQUksQ0FBYixFQUFnQixNQUFJLGFBQWEsTUFBakMsRUFBeUMsS0FBekMsRUFBOEM7QUFDNUMsY0FBTSxRQUFPLGFBQWEsR0FBYixDQUFiO0FBQ0EsY0FBTSx5QkFBeUIsS0FBSyxTQUFMLENBQWUsS0FBZixFQUFxQixLQUFLLE1BQTFCLENBQS9CO0FBQ0EsZUFBSyxxQkFBTCxDQUEyQixLQUEzQjtBQUNBLGVBQUssSUFBSSxNQUFJLENBQWIsRUFBZ0IsTUFBSSx1QkFBdUIsTUFBM0MsRUFBbUQsS0FBbkQsRUFBd0Q7QUFDdEQsaUJBQUsscUJBQUwsQ0FBMkIsdUJBQXVCLEdBQXZCLENBQTNCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7Ozs7OztBQUdIOzs7Ozs7QUFJQSxTQUFTLFFBQVQsQ0FBa0IsR0FBbEIsRUFBdUI7QUFBQSxNQUNkLFdBRGMsR0FDNEMsR0FENUMsQ0FDZCxXQURjO0FBQUEsTUFDRCxPQURDLEdBQzRDLEdBRDVDLENBQ0QsT0FEQztBQUFBLE1BQ1EsSUFEUixHQUM0QyxHQUQ1QyxDQUNRLElBRFI7QUFBQSxNQUNjLFFBRGQsR0FDNEMsR0FENUMsQ0FDYyxRQURkO0FBQUEsTUFDd0IsTUFEeEIsR0FDNEMsR0FENUMsQ0FDd0IsTUFEeEI7QUFBQSxNQUNnQyxRQURoQyxHQUM0QyxHQUQ1QyxDQUNnQyxRQURoQztBQUFBLE1BRWQsYUFGYyxHQUUwQixRQUYxQixDQUVkLGFBRmM7QUFBQSxNQUVDLFNBRkQsR0FFMEIsUUFGMUIsQ0FFQyxTQUZEO0FBQUEsTUFFWSxVQUZaLEdBRTBCLFFBRjFCLENBRVksVUFGWjs7O0FBSXJCLE1BQU0sV0FBVyxJQUFJLFFBQUosQ0FBYSxHQUFiLENBQWpCO0FBQ0EsTUFBTSxpQkFBaUIsSUFBSSxxQkFBSixDQUEwQixHQUExQixFQUErQixRQUEvQixDQUF2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFPLGNBQVAsQ0FBc0IsR0FBdEIsRUFBMkIsZ0JBQTNCLEVBQTZDO0FBQzNDLGdCQUFZLElBRCtCO0FBRTNDLGtCQUFjLElBRjZCO0FBRzNDO0FBQ0EsV0FBTztBQUpvQyxHQUE3Qzs7QUFPQTtBQUNBO0FBQ0E7QUFDQSxXQUFTLFNBQVQsQ0FBbUIsYUFBbkIsR0FBbUMsU0FBUyxxQkFBVCxDQUErQixJQUEvQixFQUFxQztBQUN0RSxRQUFNLE1BQU0sU0FBUyxTQUFULENBQW1CLElBQW5CLENBQVo7QUFDQSxRQUFJLEdBQUosRUFBUztBQUNQLGFBQU8sSUFBSSxJQUFJLElBQVIsRUFBUDtBQUNEO0FBQ0QsV0FBTyxjQUFjLEtBQWQsQ0FBb0IsSUFBcEIsRUFBMEIsU0FBMUIsQ0FBUDtBQUNELEdBTkQ7O0FBUUE7QUFDQTtBQUNBLFdBQVMsU0FBVCxDQUFtQixVQUFuQixHQUFnQyxTQUFTLGtCQUFULEdBQThCO0FBQzVELFFBQU0sV0FBVyxXQUFXLEtBQVgsQ0FBaUIsSUFBakIsRUFBdUIsU0FBdkIsQ0FBakI7QUFDQSxRQUFJLFFBQUosRUFBYztBQUNaLGVBQVMsV0FBVCxDQUFxQixRQUFyQjtBQUNBLGVBQVMsT0FBVCxDQUFpQixRQUFqQjtBQUNEO0FBQ0QsV0FBTyxRQUFQO0FBQ0QsR0FQRDs7QUFTQTtBQUNBLE9BQUssU0FBTCxDQUFlLFNBQWYsR0FBMkIsU0FBUyxpQkFBVCxHQUE2QjtBQUN0RCxRQUFNLFNBQVMsVUFBVSxLQUFWLENBQWdCLElBQWhCLEVBQXNCLFNBQXRCLENBQWY7QUFDQSxhQUFTLFdBQVQsQ0FBcUIsTUFBckI7QUFDQSxhQUFTLE9BQVQsQ0FBaUIsTUFBakI7QUFDQSxXQUFPLE1BQVA7QUFDRCxHQUxEOztBQU9BO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0JBQWdCLE9BQU8sd0JBQVAsQ0FBZ0MsUUFBUSxTQUF4QyxFQUNsQixXQURrQixDQUF0QjtBQUVBLE1BQU0sa0JBQWtCLGNBQWMsR0FBdEM7QUFDQSxnQkFBYyxHQUFkLEdBQW9CLFVBQVMsSUFBVCxFQUFlO0FBQ2pDLG9CQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixJQUEzQjtBQUNBLGFBQVMsT0FBVCxDQUFpQixJQUFqQjtBQUNELEdBSEQ7QUFJQSxTQUFPLGNBQVAsQ0FBc0IsUUFBUSxTQUE5QixFQUF5QyxXQUF6QyxFQUFzRCxhQUF0RDs7QUFFQTs7Ozs7QUFLQSxXQUFTLG1CQUFULEdBQStCO0FBQUEsUUFDdEIsV0FEc0IsR0FDUCxJQURPLENBQ3RCLFdBRHNCOztBQUc3QjtBQUNBOztBQUNBLFFBQUksS0FBSyxTQUFTLE9BQVQsRUFBVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFJLENBQUMsRUFBTCxFQUFTO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFNLE1BQU0sU0FBUyxnQkFBVCxDQUEwQixXQUExQixDQUFaO0FBQ0EsV0FBSyxjQUFjLElBQWQsQ0FBbUIsUUFBbkIsRUFBNkIsSUFBSSxJQUFqQyxDQUFMO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFPLGNBQVAsQ0FBc0IsRUFBdEIsRUFBMEIsWUFBWSxTQUF0QztBQUNBLFdBQU8sRUFBUDtBQUNEO0FBQ0QsV0FBUyxNQUFULEVBQWlCLFdBQWpCLEVBQThCLG1CQUE5Qjs7QUFFQTtBQUNBLE1BQUksV0FBSixHQUFrQixtQkFBbEI7QUFDRDs7QUFFRDs7Ozs7Ozs7O0FBU0EsU0FBUyxlQUFULENBQXlCLEdBQXpCLEVBQThCO0FBQUEsTUFDckIsV0FEcUIsR0FDVyxHQURYLENBQ3JCLFdBRHFCO0FBQUEsTUFDUixPQURRLEdBQ1csR0FEWCxDQUNSLE9BRFE7QUFBQSxNQUNDLE1BREQsR0FDVyxHQURYLENBQ0MsTUFERDtBQUU1Qjs7O0FBRUEsV0FBUyxrQkFBVCxHQUE4QjtBQUM1QixRQUFNLE9BQU87QUFDWCwrQkFBNEIsSUFBRCxDQUFPLFdBRHBDOztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQU8sUUFBUSxTQUFSLENBQWtCLFdBQWxCLEVBQStCLEVBQS9CLEVBQW1DLElBQW5DLENBQVA7QUFDRDtBQUNELFdBQVMsTUFBVCxFQUFpQixXQUFqQixFQUE4QixrQkFBOUI7O0FBRUE7QUFDQSxNQUFJLFdBQUosR0FBa0Isa0JBQWxCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPQSxTQUFTLFFBQVQsQ0FBa0IsTUFBbEIsRUFBMEIsVUFBMUIsRUFBc0MsUUFBdEMsRUFBZ0Q7QUFDOUM7QUFDQTtBQUNBLFdBQVMsU0FBVCxHQUFxQixPQUFPLE1BQVAsQ0FBYyxXQUFXLFNBQXpCLEVBQW9DO0FBQ3ZELGlCQUFhO0FBQ1g7QUFDQSxvQkFBYyxJQUZIO0FBR1gsZ0JBQVUsSUFIQztBQUlYLGFBQU87QUFKSTtBQUQwQyxHQUFwQyxDQUFyQjtBQVFEOztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7QUFlTyxTQUFTLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0IsSUFBdEIsRUFBNEI7QUFDakMsTUFBSSxVQUFVLEdBQVYsQ0FBSixFQUFvQjtBQUNsQjtBQUNEOztBQUVELE1BQUksVUFBVSxJQUFkO0FBQ0EsTUFBSSxpQkFBaUIsS0FBckI7O0FBRUEsTUFBSSxrQkFBa0IsR0FBbEIsQ0FBSixFQUE0QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxRQUFJO0FBQUEsVUFDSyxPQURMLEdBQ3dCLEdBRHhCLENBQ0ssTUFETDtBQUFBLFVBQ2EsUUFEYixHQUN3QixHQUR4QixDQUNhLE9BRGI7O0FBR0Y7O0FBQ0EsVUFBTSxXQUFXLFFBQU8sTUFBUCxDQUFjLEtBQUssU0FBbkIsQ0FBakI7QUFDQSxXQUFLLElBQUwsQ0FBVSxRQUFWOztBQUVBO0FBQ0E7QUFDQSx1QkFBaUIsQ0FBQyxFQUFFLFlBQVcsU0FBUSxTQUFyQixDQUFsQjtBQUNELEtBVkQsQ0FVRSxPQUFPLENBQVAsRUFBVTs7QUFFVjtBQUNBO0FBQ0EsZ0JBQVUsS0FBVjtBQUNEO0FBQ0Y7O0FBRUQsTUFBSSxjQUFKLEVBQW9CO0FBQ2xCLG9CQUFnQixHQUFoQjtBQUNELEdBRkQsTUFFTyxJQUFJLE9BQUosRUFBYTtBQUNsQixhQUFTLEdBQVQ7QUFDRDtBQUNGOzs7Ozs7UUNucUJlLE8sR0FBQSxPO0FBckNoQjs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTs7Ozs7Ozs7QUFRQSxTQUFTLHdCQUFULENBQWtDLElBQWxDLEVBQXdDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQU8sUUFBUSxJQUFSLElBQWdCLEtBQUssZUFBTCxDQUFxQixRQUFyQixDQUE4QixJQUE5QixDQUF2QjtBQUNEOztBQUdEOzs7O0FBSU8sU0FBUyxPQUFULENBQWlCLEdBQWpCLEVBQXNCO0FBQzNCO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQixJQUFJLFlBQUosSUFBb0IsSUFBSSxRQUE5QztBQUNBLE1BQUksQ0FBQyxjQUFjLFNBQWQsQ0FBd0IsUUFBN0IsRUFBdUM7QUFDckMsUUFBSSxNQUFKLENBQVcsY0FBWCxDQUEwQixjQUFjLFNBQXhDLEVBQW1ELFVBQW5ELEVBQStEO0FBQzdELGtCQUFZLEtBRGlEO0FBRTdELG9CQUFjLElBRitDO0FBRzdELGdCQUFVLElBSG1EO0FBSTdELGFBQU87QUFKc0QsS0FBL0Q7QUFNRDtBQUNGOzs7Ozs7UUNQZSxPLEdBQUEsTztBQTFDaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7Ozs7Ozs7OztBQVNBLFNBQVMsMEJBQVQsQ0FBb0MsS0FBcEMsRUFBMkMsU0FBM0MsRUFBc0Q7QUFDcEQsTUFBTSxTQUFTLGNBQWMsU0FBZCxHQUEwQixLQUFLLFFBQUwsQ0FBYyxLQUFkLENBQTFCLEdBQWlELENBQUMsU0FBakU7QUFDQSxNQUFJLE1BQUosRUFBWTtBQUNWLFNBQUssTUFBTCxDQUFZLEtBQVo7QUFDQSxXQUFPLEtBQVA7QUFDRCxHQUhELE1BR087QUFDTCxTQUFLLEdBQUwsQ0FBUyxLQUFUO0FBQ0EsV0FBTyxJQUFQO0FBQ0Q7QUFDRjs7QUFHRDs7OztBQUlPLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUMzQixNQUFJLEtBQUssR0FBTCxLQUFhLElBQUksWUFBckIsRUFBbUM7QUFDakMsUUFBSSxNQUFKLENBQVcsY0FBWCxDQUEwQixJQUFJLFlBQUosQ0FBaUIsU0FBM0MsRUFBc0QsUUFBdEQsRUFBZ0U7QUFDOUQsa0JBQVksS0FEa0Q7QUFFOUQsb0JBQWMsSUFGZ0Q7QUFHOUQsZ0JBQVUsSUFIb0Q7QUFJOUQsYUFBTztBQUp1RCxLQUFoRTtBQU1EO0FBQ0Y7O0FBR0Q7Ozs7O0FBS0EsU0FBUyxJQUFULENBQWMsR0FBZCxFQUFtQjtBQUNqQixTQUFPLDBCQUF5QixJQUF6QixDQUE4QixJQUFJLFNBQUosQ0FBYyxTQUE1QztBQUFQO0FBQ0Q7Ozs7OztRQ3JDZSxJLEdBQUEsSTtRQWdCQSxPLEdBQUEsTztBQXhDaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7Ozs7O0FBUU8sU0FBUyxJQUFULENBQWMsQ0FBZCxFQUFpQjtBQUN0QixNQUFJLE9BQU8sQ0FBUCxDQUFKOztBQUVBO0FBQ0EsTUFBSSxDQUFDLENBQUwsRUFBUTtBQUNOLFdBQU8sQ0FBUDtBQUNEOztBQUVELFNBQU8sSUFBSSxDQUFKLEdBQVEsQ0FBUixHQUFZLENBQUMsQ0FBcEI7QUFDRDs7QUFHRDs7OztBQUlPLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUMzQixNQUFJLENBQUMsSUFBSSxJQUFKLENBQVMsSUFBZCxFQUFvQjtBQUNsQixRQUFJLE1BQUosQ0FBVyxjQUFYLENBQTBCLElBQUksSUFBOUIsRUFBb0MsTUFBcEMsRUFBNEM7QUFDMUMsa0JBQVksS0FEOEI7QUFFMUMsb0JBQWMsSUFGNEI7QUFHMUMsZ0JBQVUsSUFIZ0M7QUFJMUMsYUFBTztBQUptQyxLQUE1QztBQU1EO0FBQ0Y7Ozs7OztRQ3ZCZSxNLEdBQUEsTTtRQXdCQSxPLEdBQUEsTztBQWxEaEI7Ozs7Ozs7Ozs7Ozs7Ozs7SUFnQk8sYyxHQUFrQixPQUFPLFMsQ0FBekIsYzs7QUFFUDs7Ozs7Ozs7O0FBUU8sU0FBUyxNQUFULENBQWdCLE1BQWhCLEVBQXdCLFFBQXhCLEVBQWtDO0FBQ3ZDLE1BQUksVUFBVSxJQUFkLEVBQW9CO0FBQ2xCLFVBQU0sSUFBSSxTQUFKLENBQWMsNENBQWQsQ0FBTjtBQUNEOztBQUVELE1BQU0sU0FBUyxPQUFPLE1BQVAsQ0FBZjtBQUNBLE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxVQUFVLE1BQTlCLEVBQXNDLEdBQXRDLEVBQTJDO0FBQ3pDLFFBQU0sU0FBUyxVQUFVLENBQVYsQ0FBZjtBQUNBLFFBQUksVUFBVSxJQUFkLEVBQW9CO0FBQ2xCLFdBQUssSUFBTSxHQUFYLElBQWtCLE1BQWxCLEVBQTBCO0FBQ3hCLFlBQUksZUFBZSxJQUFmLENBQW9CLE1BQXBCLEVBQTRCLEdBQTVCLENBQUosRUFBc0M7QUFDcEMsaUJBQU8sR0FBUCxJQUFjLE9BQU8sR0FBUCxDQUFkO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7QUFDRCxTQUFPLE1BQVA7QUFDRDs7QUFHRDs7OztBQUlPLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUMzQixNQUFJLENBQUMsSUFBSSxNQUFKLENBQVcsTUFBaEIsRUFBd0I7QUFDdEIsUUFBSSxNQUFKLENBQVcsY0FBWCxDQUEwQixJQUFJLE1BQTlCLEVBQXNDLFFBQXRDLEVBQWdEO0FBQzlDLGtCQUFZLEtBRGtDO0FBRTlDLG9CQUFjLElBRmdDO0FBRzlDLGdCQUFVLElBSG9DO0FBSTlDLGFBQU87QUFKdUMsS0FBaEQ7QUFNRDtBQUNGOzs7Ozs7UUNwQ2UsTyxHQUFBLE87O0FBTmhCOztJQUFZLE87Ozs7QUFFWjs7OztBQUlPLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUMzQixNQUFJLENBQUMsSUFBSSxPQUFULEVBQWtCO0FBQ2hCLFFBQUksT0FBSixHQUFjLGdCQUFrQixPQUFoQztBQUNBO0FBQ0E7QUFDQSxRQUFJLFFBQVEsT0FBWixFQUFxQjtBQUNuQixVQUFJLE9BQUosR0FBYyxRQUFRLE9BQXRCO0FBQ0Q7QUFDRDtBQUNBO0FBQ0EsUUFBSSxPQUFKLENBQVksT0FBWixHQUFzQixRQUFRLE9BQTlCO0FBQ0EsUUFBSSxPQUFKLENBQVksTUFBWixHQUFxQixRQUFRLE1BQTdCO0FBQ0EsUUFBSSxPQUFKLENBQVksR0FBWixHQUFrQixRQUFRLEdBQTFCO0FBQ0EsUUFBSSxPQUFKLENBQVksSUFBWixHQUFtQixRQUFRLElBQTNCO0FBQ0Q7QUFDRixDLENBdENEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQ3lEZ0IsZSxHQUFBLGU7UUFnQkEseUIsR0FBQSx5QjtRQVNBLGdCLEdBQUEsZ0I7O0FBbEVoQjs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBLElBQU0sV0FBVztBQUNmLDZCQUEyQiwwQ0FEWjtBQUVmLGFBQVcsZ0JBRkk7QUFHZixlQUFhO0FBSEUsQ0FBakI7O0FBTUE7Ozs7QUE1Q0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnREEsSUFBTSxlQUFlLElBQXJCOztBQUVBOzs7Ozs7O0FBT08sU0FBUyxlQUFULENBQXlCLEdBQXpCLEVBQThCO0FBQ25DLE1BQU0sV0FBVyxpQkFBaUIsR0FBakIsRUFBc0IsR0FBdEIsQ0FBMEIsbUJBQVc7QUFDcEQsV0FBTyxtQkFBUyxRQUFULENBQWtCLEdBQWxCLEVBQXVCLGNBQXZCLENBQ0gsWUFERyxFQUVILGdDQUFrQixHQUFsQixFQUF1QixPQUF2QixDQUZHLDBDQUdtQyxPQUhuQyxtQkFBUDtBQUtELEdBTmdCLENBQWpCO0FBT0EsU0FBTyxRQUFRLEdBQVIsQ0FBWSxRQUFaLENBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLHlCQUFULENBQW1DLEdBQW5DLEVBQXdDO0FBQzdDLFNBQU8saUJBQWlCLEdBQWpCLEVBQXNCLE1BQXRCLEdBQStCLENBQXRDO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxnQkFBVCxDQUEwQixHQUExQixFQUErQjtBQUNwQztBQUNBLE1BQU0sTUFBTSxJQUFJLFFBQWhCO0FBQ0Esa0JBQU0sTUFBTixDQUFhLElBQUksSUFBakI7O0FBRUEsU0FBTyxPQUFPLElBQVAsQ0FBWSxRQUFaLEVBQXNCLE1BQXRCLENBQTZCLG1CQUFXO0FBQzdDLFdBQU8sSUFBSSxhQUFKLENBQWtCLFNBQVMsT0FBVCxDQUFsQixDQUFQO0FBQ0QsR0FGTSxDQUFQO0FBR0Q7Ozs7Ozs7O3FqQkMxRkQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7OztBQU1BO0FBQ3NCOztRQWlFTiw4QixHQUFBLDhCO1FBd0JBLG9DLEdBQUEsb0M7UUF5QkEsMEIsR0FBQSwwQjtRQWtDQSxzQixHQUFBLHNCO1FBb0JBLDRCLEdBQUEsNEI7UUF1QkEsVSxHQUFBLFU7UUFnQkEsaUIsR0FBQSxpQjtRQVdBLHdCLEdBQUEsd0I7UUFnQkEsdUIsR0FBQSx1QjtRQWFBLGdCLEdBQUEsZ0I7UUFvQkEsMEIsR0FBQSwwQjtRQWVBLHVCLEdBQUEsdUI7UUFhQSw2QixHQUFBLDZCO1FBVUEsZSxHQUFBLGU7UUFXQSxlLEdBQUEsZTtRQVdBLFksR0FBQSxZO1FBV0EsMkIsR0FBQSwyQjtRQWlCQSxTLEdBQUEsUztRQXdLQSxZLEdBQUEsWTtRQVdBLGdCLEdBQUEsZ0I7UUFXQSxxQixHQUFBLHFCO1FBVUEsdUIsR0FBQSx1QjtRQWtEQSxZLEdBQUEsWTtRQVdBLG9CLEdBQUEsb0I7UUFjQSxnQyxHQUFBLGdDO1FBdUJBLHNCLEdBQUEsc0I7O0FBN29CaEI7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFHQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQSxJQUFJLHlCQUFKOztBQUdBOzs7Ozs7SUFLYSxVLFdBQUEsVTs7Ozs7Ozs7O0FBRVg7Ozs7OEJBSVUsQ0FBRTs7Ozs7O0FBSWQ7Ozs7Ozs7SUFLYSxpQixXQUFBLGlCOzs7Ozs7Ozs7QUFFWDs7Ozs7cUNBS2lCLGMsRUFBZ0IsQ0FBRTs7Ozs7O0FBSXJDOzs7Ozs7Ozs7O0FBUU8sU0FBUyw4QkFBVCxDQUF3QyxHQUF4QyxFQUE2QyxFQUE3QyxFQUFpRCxvQkFBakQsRUFBdUU7QUFDNUU7QUFDQSxNQUFNLFFBQVEseUNBQXlDLEdBQXpDLEVBQThDLEVBQTlDLENBQWQ7QUFDQSxNQUFJLEtBQUosRUFBVztBQUNULFdBQU8sS0FBUDtBQUNEO0FBQ0QsTUFBSSxvQkFBSixFQUEwQjtBQUN4QixXQUFPLFdBQVcsR0FBWCxFQUFnQixFQUFoQixDQUFQO0FBQ0Q7QUFDRCxTQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7O0FBWU8sU0FBUyxvQ0FBVCxDQUNMLFNBREssRUFDTSxFQUROLEVBQ1Usb0JBRFYsRUFDZ0M7QUFDckM7QUFDQSxNQUFJLFVBQVUsUUFBZCxFQUF3QjtBQUN0QjtBQUNBLFFBQU0sTUFBTSxtQkFBTSx3QkFBeUIsQ0FDekMsVUFBVSxhQUFWLElBQTJCLFNBRGMsRUFDSCxXQUQ1QixDQUFaO0FBRUEsUUFBTSxRQUFRLHlDQUF5QyxHQUF6QyxFQUE4QyxFQUE5QyxDQUFkO0FBQ0EsUUFBSSxLQUFKLEVBQVc7QUFDVCxhQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0Q7QUFDQSxNQUFJLENBQUMsVUFBVSxRQUFYLElBQXVCLG9CQUEzQixFQUFpRDtBQUMvQyxXQUFPLDJCQUEyQixTQUEzQixFQUFzQyxFQUF0QyxDQUFQO0FBQ0Q7QUFDRCxTQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUywwQkFBVCxDQUFvQyxRQUFwQyxFQUE4QyxFQUE5QyxFQUFrRCxPQUFsRCxFQUEyRDtBQUNoRSxNQUFNLFNBQVMsYUFBYSxRQUFiLENBQWY7QUFDQSxrQkFBTSxNQUFOLENBQWEsWUFBWSxNQUF6QixFQUNJLDREQURKLEVBQ2tFLEVBRGxFO0FBRUEsa0JBQU0sTUFBTixDQUFhLENBQUMseUNBQXlDLFFBQXpDLEVBQW1ELEVBQW5ELENBQWQsRUFDSSxpREFESixFQUN1RCxFQUR2RDtBQUVBLDBCQUF3QixRQUF4QixFQUFrQyxRQUFsQyxFQUE0QyxFQUE1QyxFQUFnRDtBQUFBLFdBQU0sT0FBTjtBQUFBLEdBQWhEO0FBQ0EscUJBQW1CLFFBQW5CLEVBQTZCLEVBQTdCLEVBUGdFLENBTzlCO0FBQ25DOztBQUVEOzs7OztBQUtBLFNBQVMsd0NBQVQsQ0FBa0QsUUFBbEQsRUFBNEQsRUFBNUQsRUFBZ0U7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsTUFBTSxTQUFTLGFBQWEsUUFBYixDQUFmO0FBQ0EsTUFBSSxZQUFZLE1BQVosSUFBc0Isb0JBQW9CLFFBQXBCLEVBQThCLEVBQTlCLENBQTFCLEVBQTZEO0FBQzNELFdBQU8sbUJBQW1CLFFBQW5CLEVBQTZCLEVBQTdCLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPLElBQVA7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O0FBT08sU0FBUyxzQkFBVCxDQUFnQyxHQUFoQyxFQUNMLEVBREssRUFFTCxXQUZLLEVBR0wsZUFISyxFQUdZO0FBQ2pCLFFBQU0sYUFBYSxHQUFiLENBQU47QUFDQSwwQkFBd0IsR0FBeEIsRUFBNkIsR0FBN0IsRUFBa0MsRUFBbEMsRUFBc0MsV0FBdEM7QUFDQSxNQUFJLGVBQUosRUFBcUI7QUFDbkIsdUJBQW1CLEdBQW5CLEVBQXdCLEVBQXhCO0FBQ0Q7QUFDRjs7QUFHRDs7Ozs7Ozs7QUFRTyxTQUFTLDRCQUFULENBQXNDLFNBQXRDLEVBQ0wsRUFESyxFQUVMLFdBRkssRUFHTCxlQUhLLEVBR1k7QUFDakIsTUFBTSxTQUFTLFVBQVUsU0FBVixDQUFmO0FBQ0EsTUFBTSxTQUFTLHVCQUF1QixNQUF2QixDQUFmO0FBQ0EsMEJBQXdCLE1BQXhCLEVBQWdDLE1BQWhDLEVBQXdDLEVBQXhDLEVBQTRDLFdBQTVDO0FBQ0EsTUFBSSxlQUFKLEVBQXFCO0FBQ25CLHVCQUFtQixNQUFuQixFQUEyQixFQUEzQjtBQUNEO0FBQ0Y7O0FBR0Q7Ozs7Ozs7Ozs7QUFVTyxTQUFTLFVBQVQsQ0FBb0IsR0FBcEIsRUFBeUIsRUFBekIsRUFBNkI7QUFDbEMsUUFBTSxhQUFhLEdBQWIsQ0FBTjtBQUNBLFNBQU8sbUJBQW1CLEdBQW5CLEVBQXdCLEVBQXhCLENBQVA7QUFDRDs7QUFHRDs7Ozs7Ozs7OztBQVVPLFNBQVMsaUJBQVQsQ0FBMkIsR0FBM0IsRUFBZ0MsRUFBaEMsRUFBb0M7QUFDekMsU0FBTywwQkFBMEIsR0FBMUIsRUFBK0IsRUFBL0IsQ0FBUDtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLHdCQUFULENBQWtDLEdBQWxDLEVBQXVDLEVBQXZDLEVBQTJDO0FBQ2hELFFBQU0sYUFBYSxHQUFiLENBQU47QUFDQSxNQUFJLG9CQUFvQixHQUFwQixFQUF5QixFQUF6QixDQUFKLEVBQWtDO0FBQ2hDLFdBQU8sbUJBQW1CLEdBQW5CLEVBQXdCLEVBQXhCLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPLElBQVA7QUFDRDtBQUNGOztBQUdEOzs7Ozs7QUFNTyxTQUFTLHVCQUFULENBQWlDLEdBQWpDLEVBQXNDLEVBQXRDLEVBQTBDO0FBQy9DLFNBQU8sZ0NBQWdDLEdBQWhDLEVBQXFDLEVBQXJDLENBQVA7QUFDRDs7QUFHRDs7Ozs7Ozs7QUFRTyxTQUFTLGdCQUFULENBQTBCLGVBQTFCLEVBQTJDLEVBQTNDLEVBQStDO0FBQ3BELE1BQU0sU0FBUyxVQUFVLGVBQVYsQ0FBZjtBQUNBLE1BQU0sU0FBUyx1QkFBdUIsTUFBdkIsQ0FBZjtBQUNBLFNBQU8sbUJBQW1CLE1BQW5CLEVBQTJCLEVBQTNCLENBQVA7QUFDRDs7QUFHRDs7Ozs7Ozs7Ozs7OztBQWFPLFNBQVMsMEJBQVQsQ0FBb0MsU0FBcEMsRUFBK0MsRUFBL0MsRUFBbUQ7QUFDeEQsTUFBTSxTQUFTLFVBQVUsU0FBVixDQUFmO0FBQ0EsTUFBTSxTQUFTLHVCQUF1QixNQUF2QixDQUFmO0FBQ0EsU0FBTyxtQkFBbUIsTUFBbkIsRUFBMkIsRUFBM0IsQ0FBUDtBQUNEOztBQUdEOzs7Ozs7OztBQVFPLFNBQVMsdUJBQVQsQ0FBaUMsZUFBakMsRUFBa0QsRUFBbEQsRUFBc0Q7QUFDM0QsU0FBTywwQkFDSCx1QkFBdUIsZUFBdkIsQ0FERyxFQUNzQyxFQUR0QyxDQUFQO0FBRUQ7O0FBR0Q7Ozs7Ozs7QUFPTyxTQUFTLDZCQUFULENBQXVDLGVBQXZDLEVBQXdELEVBQXhELEVBQTREO0FBQ2pFLFNBQU8sZ0NBQ0gsdUJBQXVCLGVBQXZCLENBREcsRUFDc0MsRUFEdEMsQ0FBUDtBQUVEOztBQUVEOzs7OztBQUtPLFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QixTQUE5QixFQUF5QztBQUM5QyxNQUFJLFlBQUosR0FBbUIsU0FBbkI7QUFDQSxNQUFJLFNBQUosR0FBZ0IsYUFBYSxTQUFiLENBQWhCO0FBQ0Q7O0FBR0Q7Ozs7O0FBS08sU0FBUyxlQUFULENBQXlCLEdBQXpCLEVBQThCO0FBQ25DLFNBQU8sSUFBSSxZQUFKLElBQW9CLEdBQTNCO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsWUFBVCxDQUFzQixHQUF0QixFQUEyQjtBQUNoQyxTQUFPLElBQUksU0FBSixJQUFpQixHQUF4QjtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLDJCQUFULENBQXFDLElBQXJDLEVBQTJDLE1BQTNDLEVBQW1EO0FBQ3hELE1BQU0sV0FBVyxDQUFDLEtBQUssYUFBTCxJQUFzQixJQUF2QixFQUE2QixXQUE5QztBQUNBLE1BQUksWUFBWSxZQUFZLE1BQXhCLElBQWtDLGFBQWEsUUFBYixLQUEwQixNQUFoRSxFQUF3RTtBQUN0RSxRQUFJO0FBQ0YsYUFBTyxrQ0FBbUMsU0FBUztBQUFuRDtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWO0FBQ0Q7QUFDRjtBQUNELFNBQU8sSUFBUDtBQUNEOztBQUdEOzs7O0FBSU8sU0FBUyxTQUFULENBQW1CLFNBQW5CLEVBQThCO0FBQ25DLE1BQUksVUFBVSxRQUFkLEVBQXdCO0FBQ3RCLFFBQU0sTUFBTSxtQkFBTSx3QkFBeUIsQ0FDekMsVUFBVSxhQUFWLElBQTJCLFNBRGMsRUFDSCxXQUQ1QixDQUFaO0FBRUEsV0FBTyxpQkFBaUIsR0FBakIsRUFBc0IsU0FBdEIsRUFBZ0Msb0JBQXNCLFNBQXRELENBQVA7QUFDRDtBQUNELFNBQU8sNkNBQThDO0FBQXJEO0FBQ0Q7O0FBR0Q7Ozs7QUFJQSxTQUFTLHNCQUFULENBQWdDLFNBQWhDLEVBQTJDO0FBQ3pDLE1BQU0sU0FBUyxVQUFVLFNBQVYsQ0FBZjtBQUNBLFNBQU8sT0FBTyxXQUFQLEtBQXVCLE9BQU8sR0FBOUIsR0FBb0MsTUFBM0M7QUFDRDs7QUFHRDs7Ozs7O0FBTUEsU0FBUyxnQkFBVCxDQUEwQixHQUExQixFQUErQjtBQUM3QixTQUFPLG9EQUNMLFdBQVcsR0FBWCxFQUFnQixRQUFoQjtBQURGO0FBRUQ7O0FBR0Q7Ozs7Ozs7O0FBUUEsU0FBUyxrQkFBVCxDQUE0QixNQUE1QixFQUFvQyxFQUFwQyxFQUF3QztBQUN0QyxrQkFBTSxNQUFOLENBQWEsb0JBQW9CLE1BQXBCLEVBQTRCLEVBQTVCLENBQWIsd0JBQ3dCLEVBRHhCO0FBRUEsTUFBTSxXQUFXLFlBQVksTUFBWixDQUFqQjtBQUNBLE1BQU0sSUFBSSxTQUFTLEVBQVQsQ0FBVjtBQUNBLE1BQUksQ0FBQyxFQUFFLEdBQVAsRUFBWTtBQUNWLG9CQUFNLE1BQU4sQ0FBYSxFQUFFLElBQWYsZUFBZ0MsRUFBaEM7QUFDQSxvQkFBTSxNQUFOLENBQWEsRUFBRSxPQUFmLGVBQW1DLEVBQW5DO0FBQ0EsTUFBRSxHQUFGLEdBQVEsSUFBSSxFQUFFLElBQU4sQ0FBVyxFQUFFLE9BQWIsQ0FBUjtBQUNBLG9CQUFNLE1BQU4sQ0FBYSxFQUFFLEdBQWYsZUFBK0IsRUFBL0I7QUFDQSxNQUFFLElBQUYsR0FBUyxJQUFUO0FBQ0EsTUFBRSxPQUFGLEdBQVksSUFBWjtBQUNBO0FBQ0E7QUFDQSxRQUFJLEVBQUUsT0FBTixFQUFlO0FBQ2IsUUFBRSxPQUFGLENBQVUsRUFBRSxHQUFaO0FBQ0Q7QUFDRjtBQUNELFNBQU8sRUFBRSxHQUFUO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1BLFNBQVMsdUJBQVQsQ0FBaUMsTUFBakMsRUFBeUMsT0FBekMsRUFBa0QsRUFBbEQsRUFBc0QsSUFBdEQsRUFBNEQ7QUFDMUQsTUFBTSxXQUFXLFlBQVksTUFBWixDQUFqQjtBQUNBLE1BQUksSUFBSSxTQUFTLEVBQVQsQ0FBUjs7QUFFQSxNQUFJLENBQUMsQ0FBTCxFQUFRO0FBQ04sUUFBSSxTQUFTLEVBQVQsSUFBZTtBQUNqQixXQUFLLElBRFk7QUFFakIsZUFBUyxJQUZRO0FBR2pCLGVBQVMsSUFIUTtBQUlqQixlQUFTLElBSlE7QUFLakIsWUFBTTtBQUxXLEtBQW5CO0FBT0Q7O0FBRUQsTUFBSSxFQUFFLElBQUYsSUFBVSxFQUFFLEdBQWhCLEVBQXFCO0FBQ25CO0FBQ0E7QUFDRDs7QUFFRCxJQUFFLElBQUYsR0FBUyxJQUFUO0FBQ0EsSUFBRSxPQUFGLEdBQVksT0FBWjs7QUFFQTtBQUNBO0FBQ0EsTUFBSSxFQUFFLE9BQU4sRUFBZTtBQUNiO0FBQ0EsdUJBQW1CLE1BQW5CLEVBQTJCLEVBQTNCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7QUFLQSxTQUFTLHlCQUFULENBQW1DLE1BQW5DLEVBQTJDLEVBQTNDLEVBQStDO0FBQzdDLE1BQU0sU0FBUyxnQ0FBZ0MsTUFBaEMsRUFBd0MsRUFBeEMsQ0FBZjtBQUNBLE1BQUksTUFBSixFQUFZO0FBQ1YsV0FBTyxNQUFQO0FBQ0Q7QUFDRDs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxXQUFXLHVCQUFqQjtBQVQ2QyxNQVV0QyxPQVZzQyxHQVVsQixRQVZrQixDQVV0QyxPQVZzQztBQUFBLE1BVTdCLE9BVjZCLEdBVWxCLFFBVmtCLENBVTdCLE9BVjZCOzs7QUFZN0MsTUFBTSxXQUFXLFlBQVksTUFBWixDQUFqQjtBQUNBLFdBQVMsRUFBVCxJQUFlO0FBQ2IsU0FBSyxJQURRO0FBRWIsb0JBRmE7QUFHYixvQkFIYTtBQUliLGFBQVMsSUFKSTtBQUtiLFVBQU07QUFMTyxHQUFmO0FBT0EsU0FBTyxPQUFQO0FBQ0Q7O0FBR0Q7Ozs7Ozs7QUFPQSxTQUFTLCtCQUFULENBQXlDLE1BQXpDLEVBQWlELEVBQWpELEVBQXFEO0FBQ25ELE1BQU0sV0FBVyxZQUFZLE1BQVosQ0FBakI7QUFDQSxNQUFNLElBQUksU0FBUyxFQUFULENBQVY7QUFDQSxNQUFJLENBQUosRUFBTztBQUNMLFFBQUksRUFBRSxPQUFOLEVBQWU7QUFDYixhQUFPLEVBQUUsT0FBVDtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0EseUJBQW1CLE1BQW5CLEVBQTJCLEVBQTNCO0FBQ0EsYUFBTyxFQUFFLE9BQUYsR0FBWSxRQUFRLE9BQVIsRUFBZ0Isc0JBQXdCLEVBQUUsR0FBMUMsQ0FBbkI7QUFDRDtBQUNGO0FBQ0QsU0FBTyxJQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS0EsU0FBUyxXQUFULENBQXFCLE1BQXJCLEVBQTZCO0FBQUEsTUFDdEIsUUFEc0IsR0FDVixNQURVLENBQ3RCLFFBRHNCOztBQUUzQixNQUFJLENBQUMsUUFBTCxFQUFlO0FBQ2IsZUFBVyxPQUFPLFFBQVAsR0FBa0IsRUFBN0I7QUFDRDtBQUNELFNBQU8sUUFBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMsWUFBVCxDQUFzQixPQUF0QixFQUErQjtBQUNwQyxTQUFPLE9BQU8sUUFBUSxPQUFmLElBQTBCLFVBQWpDO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUM7QUFDeEMsa0JBQU0sTUFBTixDQUFhLGFBQWEsT0FBYixDQUFiLEVBQW9DLGtDQUFwQztBQUNBLFNBQU8sMkJBQTRCO0FBQW5DO0FBQ0Q7O0FBR0Q7Ozs7O0FBS08sU0FBUyxxQkFBVCxDQUErQixNQUEvQixFQUF1QztBQUM1QywwQkFBd0IsTUFBeEI7QUFDRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLHVCQUFULENBQWlDLFFBQWpDLEVBQTJDO0FBQ2hELDBCQUF3QixRQUF4QjtBQUNEOztBQUdEOzs7QUFHQSxTQUFTLHVCQUFULENBQWlDLE1BQWpDLEVBQXlDO0FBQ3ZDO0FBQ0E7QUFDQSxNQUFNLFdBQVcsWUFBWSxNQUFaLENBQWpCOztBQUh1Qyw2QkFJNUIsRUFKNEI7QUFLckMsUUFBSSxDQUFDLE9BQU8sU0FBUCxDQUFpQixjQUFqQixDQUFnQyxJQUFoQyxDQUFxQyxRQUFyQyxFQUErQyxFQUEvQyxDQUFMLEVBQXlEO0FBQ3ZEO0FBQ0Q7QUFDRCxRQUFNLGdCQUFnQixTQUFTLEVBQVQsQ0FBdEI7QUFDQSxRQUFJLGNBQWMsR0FBbEIsRUFBdUI7QUFDckIsNkJBQXVCLEVBQXZCLEVBQTJCLGNBQWMsR0FBekM7QUFDRCxLQUZELE1BRU8sSUFBSSxjQUFjLE9BQWxCLEVBQTJCO0FBQ2hDLG9CQUFjLE9BQWQsQ0FBc0IsSUFBdEIsQ0FDSTtBQUFBLGVBQVksdUJBQXVCLEVBQXZCLEVBQTJCLFFBQTNCLENBQVo7QUFBQSxPQURKO0FBRUQ7QUFkb0M7O0FBSXZDLE9BQUssSUFBTSxFQUFYLElBQWlCLFFBQWpCLEVBQTJCO0FBQUEscUJBQWhCLEVBQWdCOztBQUFBLDZCQUV2QjtBQVNIO0FBQ0Y7O0FBR0Q7Ozs7QUFJQSxTQUFTLHNCQUFULENBQWdDLEVBQWhDLEVBQW9DLE9BQXBDLEVBQTZDO0FBQzNDLE1BQUksQ0FBQyxhQUFhLE9BQWIsQ0FBTCxFQUE0QjtBQUMxQjtBQUNEO0FBQ0QsTUFBSTtBQUNGLHFCQUFpQixPQUFqQixFQUEwQixPQUExQjtBQUNELEdBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWO0FBQ0E7QUFDQSxvQkFBTSxLQUFOLENBQVksU0FBWixFQUF1QiwyQkFBdkIsRUFBb0QsRUFBcEQsRUFBd0QsQ0FBeEQ7QUFDRDtBQUNGOztBQUdEOzs7OztBQUtPLFNBQVMsWUFBVCxDQUFzQixPQUF0QixFQUErQjtBQUNwQyxTQUFPLE9BQU8sUUFBUSxnQkFBZixJQUFtQyxVQUExQztBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLG9CQUFULENBQThCLFFBQTlCLEVBQXdDLFNBQXhDLEVBQW1EO0FBQ3hELE1BQU0sVUFBVSxpQ0FBaUMsUUFBakMsRUFBMkMsU0FBM0MsQ0FBaEI7QUFDQSxrQkFBTSxNQUFOLENBQWEsT0FBYixFQUFzQixhQUFXLFNBQVgsNkJBQ2xCLDBDQURKO0FBRUQ7O0FBR0Q7Ozs7Ozs7QUFPTyxTQUFTLGdDQUFULENBQTBDLFFBQTFDLEVBQW9ELFNBQXBELEVBQStEO0FBQ3BFLE1BQU0sZUFBZSxvQkFBc0IsZ0JBQU0sTUFBTixDQUN2QyxTQUFTLFlBRDhCLEVBRXZDLGtDQUZ1QyxDQUEzQztBQUdBLE1BQU0sU0FBUyxVQUFVLFlBQVYsQ0FBZjtBQUNBLE1BQU0sU0FBUyx1QkFBdUIsTUFBdkIsQ0FBZjtBQUNBLE1BQUksQ0FBQyxvQkFBb0IsTUFBcEIsRUFBNEIsU0FBNUIsQ0FBTCxFQUE2QztBQUMzQyxXQUFPLEtBQVA7QUFDRDtBQUNELE1BQU0sVUFBVSwyQkFBMkIsWUFBM0IsRUFBeUMsU0FBekMsQ0FBaEI7QUFDQSxNQUFJLENBQUMsYUFBYSxPQUFiLENBQUwsRUFBNEI7QUFDMUIsV0FBTyxLQUFQO0FBQ0Q7QUFDRCxVQUFRLGdCQUFSLENBQXlCLFFBQXpCO0FBQ0EsU0FBTyxJQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS08sU0FBUyxzQkFBVCxDQUFnQyxNQUFoQyxFQUF3QyxFQUF4QyxFQUE0QztBQUNqRCxNQUFJLE9BQU8sUUFBWCxFQUFxQjtBQUNuQixXQUFPLFFBQVAsQ0FBZ0IsRUFBaEIsSUFBc0IsSUFBdEI7QUFDRDtBQUNGOztBQUVEOzs7OztBQUtBLFNBQVMsbUJBQVQsQ0FBNkIsTUFBN0IsRUFBcUMsRUFBckMsRUFBeUM7QUFDdkMsTUFBTSxVQUFVLE9BQU8sUUFBUCxJQUFtQixPQUFPLFFBQVAsQ0FBZ0IsRUFBaEIsQ0FBbkM7QUFDQTtBQUNBLFNBQU8sQ0FBQyxFQUFFLFlBQVksUUFBUSxJQUFSLElBQWdCLFFBQVEsR0FBcEMsQ0FBRixDQUFSO0FBQ0Q7Ozs7Ozs7Ozs7cWpCQ25yQkQ7Ozs7Ozs7Ozs7Ozs7Ozs7UUFnd0JnQixjLEdBQUEsYztRQXNLQSxzQixHQUFBLHNCO1FBaVFBLDBCLEdBQUEsMEI7O0FBdnBDaEI7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBSUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTtBQUNBLElBQU0sT0FBTyxRQUFiOztBQUVBO0FBQ0EsSUFBTSxjQUFjLHVCQUF1QixLQUFLLE1BQUwsRUFBM0M7O0FBRUE7QUFDQSxJQUFNLGdCQUFnQixzQkFBdEI7O0FBRUE7QUFDQSxJQUFNLGtCQUFrQix3QkFBeEI7O0FBRUE7QUFDQSxJQUFNLGtCQUFrQixVQUF4Qjs7QUFFQTtBQUNBLElBQU0sd0JBQXdCLEdBQTlCLEMsQ0FBbUM7O0FBRW5DO0FBQ0EsSUFBTSw0QkFBNEIsR0FBbEMsQyxDQUF1Qzs7QUFFdkM7QUFDQSxJQUFNLHdCQUF3QjtBQUM1QixVQUFRLENBQUMsUUFBRCxFQUFXLE9BQVg7QUFEb0IsQ0FBOUI7O0FBSUE7Ozs7Ozs7O0FBUU8sSUFBTSxvREFBc0I7QUFDakMsWUFBVSxJQUR1QjtBQUVqQyxjQUFZLElBRnFCO0FBR2pDLFVBQVEsSUFIeUI7QUFJakMsYUFBVyxJQUpzQjtBQUtqQyxjQUFZLElBTHFCO0FBTWpDLHNCQUFvQixJQU5hO0FBT2pDLG1CQUFpQixJQVBnQjtBQVFqQyxZQUFVLElBUnVCO0FBU2pDLFdBQVMsSUFUd0I7QUFVakMsZUFBYSxJQVZvQjtBQVdqQyxZQUFVLElBWHVCO0FBWWpDLGdCQUFjLElBWm1CO0FBYWpDLFlBQVUsSUFidUI7QUFjakMsU0FBTyxJQWQwQjtBQWVqQyxjQUFZO0FBZnFCLENBQTVCOztBQWtCUDs7OztBQUlBLElBQUksbUNBQUo7O0FBRUE7Ozs7QUFJQSxJQUFJLDhCQUFKOztBQUVBOzs7O0FBSUEsSUFBSSwwQkFBSjs7QUFFQTs7Ozs7Ozs7O0FBU08sSUFBSSw4Q0FBSjs7QUFFUDs7Ozs7Ozs7Ozs7QUFXQSxJQUFJLHlCQUFKOztBQUVBOzs7QUFHTyxJQUFJLGdEQUFKOztBQUVQOzs7OztJQUlhLGdCLFdBQUEsZ0I7QUFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBOEJBLDRCQUFZLElBQVosRUFBa0IsTUFBbEIsRUFBMEIsSUFBMUIsRUFBZ0MsTUFBaEMsRUFBd0MsTUFBeEMsRUFBZ0QsS0FBaEQsRUFBdUQsS0FBdkQsRUFDeUU7QUFBQSxRQUF2RSxlQUF1RSx1RUFBckQsR0FBcUQ7QUFBQSxRQUFoRCxXQUFnRCx1RUFBbEMsSUFBa0M7QUFBQSxRQUE1QixVQUE0Qix1RUFBZixLQUFLLE1BQUwsRUFBZTs7QUFBQTs7QUFDdkU7QUFDQSxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0E7QUFDQSxTQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0E7QUFDQSxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0E7QUFDQSxTQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0E7QUFDQSxTQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0E7QUFDQSxTQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0E7QUFDQSxTQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0E7QUFDQSxTQUFLLGVBQUwsR0FBdUIsZUFBdkI7QUFDQTtBQUNBLFNBQUssV0FBTCxHQUFtQixlQUFlLEtBQUssT0FBdkM7QUFDQTtBQUNBLFNBQUssVUFBTCxHQUFrQixVQUFsQjtBQUNEOztBQUVEOzs7Ozs7Ozs7O21DQU1lLFksRUFBYztBQUMzQjtBQUNBLFVBQUksQ0FBQywyQkFBZSxLQUFLLEtBQXBCLENBQUwsRUFBaUM7QUFDL0Isd0JBQU0sS0FBTixDQUFZLElBQVosMkJBQXdDLEtBQUssTUFBN0MsWUFBeUQsS0FBSyxLQUE5RDtBQUNBLGVBQU8sS0FBUDtBQUNEO0FBQ0QsVUFBSSxLQUFLLEtBQUwsR0FBYSxZQUFqQixFQUErQjtBQUM3Qix5QkFBTyxLQUFQLENBQWEsSUFBYixFQUFtQixNQUFJLEtBQUssZUFBVCwwQ0FDWCxLQUFLLFdBRE0sU0FDUyxLQUFLLE1BRGQsUUFBbkI7QUFFQSxlQUFPLEtBQVA7QUFDRDtBQUNELGFBQU8sSUFBUDtBQUNEOzs7Ozs7QUFHSDs7Ozs7Ozs7OztJQVFhLGEsV0FBQSxhO0FBQ1g7Ozs7QUFJQSx5QkFBWSxNQUFaLEVBQW9CLFFBQXBCLEVBQThCO0FBQUE7O0FBQzVCO0FBQ0EsU0FBSyxNQUFMLEdBQWMsTUFBZDs7QUFFQTtBQUNBLFNBQUssS0FBTCxHQUFhLFlBQVksT0FBTyxXQUFQLEVBQXpCOztBQUVBOzs7Ozs7QUFNQSxTQUFLLFVBQUwsR0FBa0IsS0FBSyxlQUFMLEVBQWxCOztBQUVBO0FBQ0EsU0FBSyxjQUFMLEdBQXNCLGtCQUF0Qjs7QUFFQTs7O0FBR0EsU0FBSyxxQkFBTCxHQUE2QixrQkFBN0I7QUFDQTtBQUNBLFNBQUssUUFBTCxDQUFjLEtBQWQ7QUFDQSxTQUFLLFFBQUwsQ0FBYyxRQUFkO0FBQ0EsU0FBSyxRQUFMLENBQWMsUUFBZDtBQUNBLFNBQUssUUFBTCxDQUFjLGlCQUFkO0FBQ0EsU0FBSyxRQUFMLENBQWMsaUJBQWQ7QUFDQSxTQUFLLFFBQUwsQ0FBYyxPQUFkO0FBQ0EsU0FBSyxRQUFMLENBQWMsU0FBZDtBQUNEOztBQUVEOzs7OztxQ0FDaUIsUSxFQUFVO0FBQ3pCLCtDQUEyQixRQUEzQixFQUFxQyxRQUFyQyxFQUNJLElBQUksYUFBSixDQUFrQixLQUFLLE1BQXZCLEVBQStCLFNBQVMsUUFBeEMsQ0FESjtBQUVEOztBQUVEOzs7Ozs7Ozs2QkFLUyxJLEVBQU07QUFBQTs7QUFDYixVQUFJLFFBQVEsS0FBWixFQUFtQjtBQUNqQjtBQUNBO0FBQ0EsYUFBSyxLQUFMLENBQVcsZ0JBQVgsQ0FBNEIsT0FBNUIsRUFBcUMsaUJBQVM7QUFDNUMsY0FBSSxDQUFDLE1BQU0sZ0JBQVgsRUFBNkI7QUFDM0IsZ0JBQU0sVUFBVSxnQkFBTSxhQUFOLENBQW9CLE1BQU0sTUFBMUIsQ0FBaEI7QUFDQSxrQkFBSyxPQUFMLENBQWEsT0FBYixFQUFzQixJQUF0QixFQUE0QixLQUE1QixFQUFtQyw2QkFBWSxJQUEvQztBQUNEO0FBQ0YsU0FMRDtBQU1BLGFBQUssS0FBTCxDQUFXLGdCQUFYLENBQTRCLFNBQTVCLEVBQXVDLGlCQUFTO0FBQzlDLGNBQU0sVUFBVSxnQkFBTSxhQUFOLENBQW9CLE1BQU0sTUFBMUIsQ0FBaEI7QUFEOEMsY0FFdkMsT0FGdUMsR0FFNUIsS0FGNEIsQ0FFdkMsT0FGdUM7O0FBRzlDLGNBQUksV0FBVyxtQkFBUyxLQUFwQixJQUE2QixXQUFXLG1CQUFTLEtBQXJELEVBQTREO0FBQzFELGdCQUFNLE9BQU8sUUFBUSxZQUFSLENBQXFCLE1BQXJCLENBQWI7QUFDQSxnQkFBTSxpQkFDRCxRQUFRLG9CQUFPLG1CQUFQLEVBQTRCLEtBQUssV0FBTCxFQUE1QixDQURiO0FBRUEsZ0JBQUksQ0FBQyxNQUFNLGdCQUFQLElBQTJCLGNBQS9CLEVBQStDO0FBQzdDLG9CQUFNLGNBQU47QUFDQSxvQkFBSyxPQUFMLENBQWEsT0FBYixFQUFzQixJQUF0QixFQUE0QixLQUE1QixFQUFtQyw2QkFBWSxJQUEvQztBQUNEO0FBQ0Y7QUFDRixTQVpEO0FBYUQsT0F0QkQsTUFzQk8sSUFBSSxRQUFRLFFBQVosRUFBc0I7QUFDM0IsYUFBSyxLQUFMLENBQVcsZ0JBQVgsQ0FBNEIsSUFBNUIsRUFBa0MsaUJBQVM7QUFDekMsY0FBTSxVQUFVLGdCQUFNLGFBQU4sQ0FBb0IsTUFBTSxNQUExQixDQUFoQjtBQUNBO0FBQ0E7QUFDQSxnQkFBSyxPQUFMLENBQWEsT0FBYixFQUFzQixJQUF0QixFQUE0QixLQUE1QixFQUFtQyw2QkFBWSxJQUEvQztBQUNELFNBTEQ7QUFNRCxPQVBNLE1BT0EsSUFBSSxRQUFRLFFBQVosRUFBc0I7QUFDM0IsYUFBSyxLQUFMLENBQVcsZ0JBQVgsQ0FBNEIsSUFBNUIsRUFBa0MsaUJBQVM7QUFDekMsY0FBTSxVQUFVLGdCQUFNLGFBQU4sQ0FBb0IsTUFBTSxNQUExQixDQUFoQjtBQUNBLGdCQUFLLDRCQUFMLENBQWtDLEtBQWxDO0FBQ0EsZ0JBQUssT0FBTCxDQUFhLE9BQWIsRUFBc0IsSUFBdEIsRUFBNEIsS0FBNUIsRUFBbUMsNkJBQVksSUFBL0M7QUFDRCxTQUpEO0FBS0QsT0FOTSxNQU1BLElBQUksUUFBUSxpQkFBWixFQUErQjtBQUNwQyxZQUFNLGlCQUFpQix5QkFBUyxLQUFLLE1BQUwsQ0FBWSxHQUFyQixFQUEwQixpQkFBUztBQUN4RCxjQUFNLFNBQVMsZ0JBQU0sYUFBTixDQUFvQixNQUFNLE1BQTFCLENBQWY7QUFDQSxnQkFBSyxPQUFMLENBQWEsTUFBYixFQUFxQixJQUFyQixFQUEyQiw4QkFBZ0MsS0FBM0QsRUFDSSw2QkFBWSxJQURoQjtBQUVELFNBSnNCLEVBSXBCLHFCQUpvQixDQUF2Qjs7QUFNQSxhQUFLLEtBQUwsQ0FBVyxnQkFBWCxDQUE0QixPQUE1QixFQUFxQyxpQkFBUztBQUM1QztBQUNBO0FBQ0EsY0FBTSxnQkFBZ0IsSUFBSSxhQUFKLENBQWtCLEtBQWxCLENBQXRCO0FBQ0EsZ0JBQUssNEJBQUwsQ0FBa0MsYUFBbEM7QUFDQSx5QkFBZSxhQUFmO0FBQ0QsU0FORDtBQU9ELE9BZE0sTUFjQSxJQUFJLFFBQVEsaUJBQVosRUFBK0I7QUFDcEMsWUFBTSxpQkFBaUIseUJBQVMsS0FBSyxNQUFMLENBQVksR0FBckIsRUFBMEIsaUJBQVM7QUFDeEQsY0FBTSxTQUFTLGdCQUFNLGFBQU4sQ0FBb0IsTUFBTSxNQUExQixDQUFmO0FBQ0EsZ0JBQUssT0FBTCxDQUFhLE1BQWIsRUFBcUIsSUFBckIsRUFBMkIsOEJBQWdDLEtBQTNELEVBQ0ksNkJBQVksSUFEaEI7QUFFRCxTQUpzQixFQUlwQix5QkFKb0IsQ0FBdkI7O0FBTUEsYUFBSyxLQUFMLENBQVcsZ0JBQVgsQ0FBNEIsT0FBNUIsRUFBcUMsaUJBQVM7QUFDNUMsY0FBTSxnQkFBZ0IsSUFBSSxhQUFKLENBQWtCLEtBQWxCLENBQXRCO0FBQ0EsZ0JBQUssNEJBQUwsQ0FBa0MsYUFBbEM7QUFDQSx5QkFBZSxhQUFmO0FBQ0QsU0FKRDtBQUtELE9BWk0sTUFZQSxJQUFJLFFBQVEsT0FBUixJQUFtQixRQUFRLFNBQS9CLEVBQTBDO0FBQy9DLGFBQUssS0FBTCxDQUFXLGdCQUFYLENBQTRCLElBQTVCLEVBQWtDLGlCQUFTO0FBQ3pDLGNBQU0sVUFBVSxnQkFBTSxhQUFOLENBQW9CLE1BQU0sTUFBMUIsQ0FBaEI7QUFDQSxnQkFBSyxPQUFMLENBQWEsT0FBYixFQUFzQixJQUF0QixFQUE0QixLQUE1QixFQUFtQyw2QkFBWSxJQUEvQztBQUNELFNBSEQ7QUFJRDtBQUNGOztBQUVEOzs7Ozs7OztvQ0FLZ0IsSSxFQUFNLE8sRUFBUztBQUM3QixXQUFLLGNBQUwsQ0FBb0IsSUFBcEIsSUFBNEIsT0FBNUI7QUFDRDs7QUFFRDs7Ozs7Ozs7OzJDQU11QixJLEVBQU0sTyxFQUFzQztBQUFBLFVBQTdCLFFBQTZCLHVFQUFsQiw2QkFBWSxJQUFNOztBQUNqRSxXQUFLLHFCQUFMLENBQTJCLElBQTNCLElBQW1DLEVBQUMsZ0JBQUQsRUFBVSxrQkFBVixFQUFuQztBQUNEOztBQUVEOzs7Ozs7Ozs7OzRCQU9RLE0sRUFBUSxTLEVBQVcsSyxFQUFPLEssRUFBTztBQUN2QyxXQUFLLE9BQUwsQ0FBYSxNQUFiLEVBQXFCLFNBQXJCLEVBQWdDLEtBQWhDLEVBQXVDLEtBQXZDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7NEJBVVEsTSxFQUFRLE0sRUFBUSxJLEVBQU0sTSxFQUFRLE0sRUFBUSxLLEVBQU8sSyxFQUFPO0FBQzFELFVBQU0sYUFBYSxJQUFJLGdCQUFKLENBQ2YsTUFEZSxFQUNQLE1BRE8sRUFDQyxJQURELEVBQ08sTUFEUCxFQUNlLE1BRGYsRUFDdUIsS0FEdkIsRUFDOEIsS0FEOUIsQ0FBbkI7QUFFQSxXQUFLLE9BQUwsQ0FBYSxVQUFiO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozt5Q0FNcUIsTSxFQUFRLE8sRUFBc0M7QUFBQSxVQUE3QixRQUE2Qix1RUFBbEIsNkJBQVksSUFBTTs7QUFDakU7QUFDQSxVQUFNLFdBQVcsT0FBTyxZQUFQLENBQW9CLElBQXBCLEtBQTZCLEVBQTlDO0FBQ0EsVUFBTSxVQUFVLE9BQU8sT0FBUCxHQUFpQixHQUFqQixHQUF1QixRQUF2QztBQUNBLHNCQUFNLE1BQU4sQ0FBYyxZQUFZLFNBQVMsU0FBVCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixLQUE0QixNQUF6QyxJQUNULE9BQU8sT0FBUCxDQUFlLFdBQWYsTUFBZ0MscUJBRHBDLEVBRUEsNkRBRkEsRUFFK0QsT0FGL0Q7O0FBSUEsVUFBSSxPQUFPLGVBQVAsQ0FBSixFQUE2QjtBQUMzQix3QkFBTSxLQUFOLENBQVksSUFBWiw0Q0FBMEQsTUFBMUQ7QUFDQTtBQUNEOztBQUVEO0FBQ0EsVUFBTSxlQUFlLE9BQU8sYUFBUCxDQUFyQjs7QUFFQSxhQUFPLGVBQVAsSUFBMEIsRUFBQyxnQkFBRCxFQUFVLGtCQUFWLEVBQTFCOztBQUVBO0FBQ0EsVUFBSSxvQkFBUSxZQUFSLENBQUosRUFBMkI7QUFDekIsMkJBQVMsUUFBVCxDQUFrQixrQkFBTSxPQUFPLGFBQVAsQ0FBcUIsV0FBM0IsQ0FBbEIsRUFBMkQsS0FBM0QsQ0FBaUUsWUFBTTtBQUNyRTtBQUNBLHVCQUFhLE9BQWIsQ0FBcUIsc0JBQWM7QUFDakMsZ0JBQUk7QUFDRixrQkFBSSxXQUFXLGNBQVg7QUFDQSx3Q0FBNEIsUUFENUIsQ0FBSixFQUM0QztBQUMxQyx3QkFBUSxVQUFSO0FBQ0Q7QUFDRixhQUxELENBS0UsT0FBTyxDQUFQLEVBQVU7QUFDViw4QkFBTSxLQUFOLENBQVksSUFBWixFQUFrQiwwQkFBbEIsRUFBOEMsVUFBOUMsRUFBMEQsQ0FBMUQ7QUFDRDtBQUNGLFdBVEQ7QUFVQSxpQkFBTyxhQUFQLEVBQXNCLE1BQXRCLEdBQStCLENBQS9CO0FBQ0QsU0FiRCxFQWFHLENBYkg7QUFjRDtBQUNGOztBQUVEOzs7Ozs7Ozs7OzhCQU9VLE0sRUFBUSxlLEVBQWlCLFUsRUFBWTtBQUM3QyxhQUFPLENBQUMsQ0FBQyxLQUFLLFdBQUwsQ0FBaUIsTUFBakIsRUFBeUIsZUFBekIsRUFBMEMsVUFBMUMsQ0FBVDtBQUNEOztBQUVEOzs7Ozs7OztpQ0FLYSxTLEVBQVc7QUFDdEIsV0FBSyxVQUFMLEdBQWtCLFNBQWxCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O21DQUtlLE0sRUFBUTtBQUNyQixVQUFJLENBQUMsS0FBSyxVQUFWLEVBQXNCO0FBQ3BCLGFBQUssVUFBTCxHQUFrQixFQUFsQjtBQUNEO0FBQ0QsV0FBSyxVQUFMLENBQWdCLElBQWhCLENBQXFCLE1BQXJCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7NEJBT1EsTSxFQUFRLGUsRUFBaUIsSyxFQUFPLEssRUFBTztBQUFBOztBQUM3QyxVQUFNLFNBQVMsS0FBSyxXQUFMLENBQWlCLE1BQWpCLEVBQXlCLGVBQXpCLENBQWY7QUFDQSxVQUFJLENBQUMsTUFBTCxFQUFhO0FBQ1g7QUFDRDtBQUNEO0FBQ0E7QUFDQSxVQUFNLGFBQWEsS0FBSyxNQUFMLEVBQW5CO0FBQ0E7QUFDQTtBQUNBLFVBQUksaUJBQWlCLElBQXJCO0FBQ0EsYUFBTyxXQUFQLENBQW1CLE9BQW5CLENBQTJCLHNCQUFjO0FBQUEsWUFDaEMsTUFEZ0MsR0FDdEIsVUFEc0IsQ0FDaEMsTUFEZ0M7QUFFdkM7O0FBQ0EsWUFBTSxPQUFPLHVCQUF1QixXQUFXLElBQWxDLEVBQXdDLEtBQXhDLENBQWI7QUFDQSxZQUFNLGVBQWUsU0FBZixZQUFlLEdBQU07QUFDekI7QUFDQTtBQUNBLGNBQU0sT0FBUSxPQUFLLGNBQUwsQ0FBb0IsTUFBcEIsQ0FBRCxHQUNULE9BQUssS0FESSxHQUVULE9BQUssS0FBTCxDQUFXLGNBQVgsQ0FBMEIsTUFBMUIsQ0FGSjtBQUdBLGNBQUksSUFBSixFQUFVO0FBQ1IsZ0JBQU0sYUFBYSxJQUFJLGdCQUFKLENBQXFCLElBQXJCLEVBQTJCLFdBQVcsTUFBdEMsRUFDZixJQURlLEVBQ1QsTUFEUyxFQUNELE9BQU8sSUFETixFQUNZLEtBRFosRUFDbUIsS0FEbkIsRUFFZixlQUZlLEVBRUUsS0FBSyxPQUFMLElBQWdCLE1BRmxCLEVBRTBCLFVBRjFCLENBQW5CO0FBR0EsbUJBQU8sT0FBSyxPQUFMLENBQWEsVUFBYixDQUFQO0FBQ0QsV0FMRCxNQUtPO0FBQ0wsbUJBQUssTUFBTCxDQUFZLGFBQVcsTUFBWCxzQ0FDSixXQUFXLEdBRFAsUUFBWjtBQUVEO0FBQ0YsU0FmRDtBQWdCQTtBQUNBLHlCQUFrQixjQUFELEdBQ2IsZUFBZSxJQUFmLENBQW9CLFlBQXBCLENBRGEsR0FFYixjQUZKO0FBR0QsT0F4QkQ7QUF5QkQ7O0FBRUQ7Ozs7Ozs7OzJCQUtPLE8sRUFBUyxXLEVBQWE7QUFDM0IsVUFBSSxXQUFKLEVBQWlCO0FBQ2Y7QUFDQSxZQUFNLElBQUksaUJBQU8sV0FBUCxPQUF1QixJQUF2QixVQUFnQyxPQUFoQyxDQUFWO0FBQ0EsZ0NBQVksQ0FBWixFQUFlLFdBQWY7QUFDQSxjQUFNLENBQU47QUFDRCxPQUxELE1BS087QUFDTCx5QkFBTyxLQUFQLENBQWEsSUFBYixFQUFtQixPQUFuQjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OzRCQUtRLFUsRUFBWTtBQUFBLFVBQ1gsTUFEVyxHQUNZLFVBRFosQ0FDWCxNQURXO0FBQUEsVUFDSCxXQURHLEdBQ1ksVUFEWixDQUNILFdBREc7O0FBR2xCOztBQUNBLFVBQUksS0FBSyxVQUFULEVBQXFCO0FBQ25CLFlBQU0sS0FBUSxXQUFSLFNBQXVCLE1BQTdCO0FBQ0EsWUFBSSxDQUFDLEtBQUssVUFBTCxDQUFnQixRQUFoQixDQUF5QixFQUF6QixDQUFMLEVBQW1DO0FBQ2pDLGVBQUssTUFBTCxPQUFnQixFQUFoQiw4QkFBMkMsS0FBSyxVQUFoRDtBQUNBLGlCQUFPLElBQVA7QUFDRDtBQUNGOztBQUVEO0FBQ0EsVUFBTSxlQUFlLEtBQUssY0FBTCxDQUFvQixXQUFwQixDQUFyQjtBQUNBLFVBQUksWUFBSixFQUFrQjtBQUNoQixlQUFPLGFBQWEsVUFBYixDQUFQO0FBQ0Q7O0FBRUQ7QUFDQSxVQUFNLE9BQU8sZ0JBQU0sYUFBTixDQUFvQixXQUFXLElBQS9CLENBQWI7O0FBRUE7QUFDQSxVQUFNLGVBQWUsS0FBSyxxQkFBTCxDQUEyQixNQUEzQixDQUFyQjtBQUNBLFVBQUksZ0JBQWdCLFdBQVcsY0FBWCxDQUEwQixhQUFhLFFBQXZDLENBQXBCLEVBQXNFO0FBQ3BFLGVBQU8sYUFBYSxPQUFiLENBQXFCLFVBQXJCLENBQVA7QUFDRDs7QUFFRDtBQUNBLFVBQU0sZUFBZSxLQUFLLE9BQUwsQ0FBYSxXQUFiLEVBQXJCO0FBQ0EsVUFBSSxhQUFhLFNBQWIsQ0FBdUIsQ0FBdkIsRUFBMEIsQ0FBMUIsS0FBZ0MsTUFBcEMsRUFBNEM7QUFDMUMsWUFBSSxLQUFLLFdBQVQsRUFBc0I7QUFDcEIsZUFBSyxXQUFMLENBQWlCLFVBQWpCO0FBQ0QsU0FGRCxNQUVPO0FBQ0wsZUFBSyxNQUFMLGdDQUF5QyxZQUF6QyxTQUEyRCxJQUEzRDtBQUNEO0FBQ0QsZUFBTyxJQUFQO0FBQ0Q7O0FBRUQ7QUFDQSxVQUFNLG1CQUFtQixzQkFBc0IsWUFBdEIsQ0FBekI7QUFDQTtBQUNBLFVBQU0sV0FBVyxLQUFLLFlBQUwsQ0FBa0IsSUFBbEIsS0FBMkIsRUFBNUM7QUFDQSxVQUFLLFlBQVksU0FBUyxTQUFULENBQW1CLENBQW5CLEVBQXNCLENBQXRCLEtBQTRCLE1BQXpDLElBQ0Msb0JBQW9CLGlCQUFpQixPQUFqQixDQUF5QixNQUF6QixJQUFtQyxDQUFDLENBRDdELEVBQ2lFO0FBQy9ELFlBQU0sU0FBUyxLQUFLLGVBQUwsQ0FBZjtBQUNBLFlBQUksTUFBSixFQUFZO0FBQUEsY0FDSCxPQURHLEdBQ2tCLE1BRGxCLENBQ0gsT0FERztBQUFBLGNBQ00sUUFETixHQUNrQixNQURsQixDQUNNLFFBRE47O0FBRVYsY0FBSSxXQUFXLGNBQVgsQ0FBMEIsUUFBMUIsQ0FBSixFQUF5QztBQUN2QyxvQkFBUSxVQUFSO0FBQ0Q7QUFDRixTQUxELE1BS087QUFDTCxlQUFLLGFBQUwsSUFBc0IsS0FBSyxhQUFMLEtBQXVCLEVBQTdDO0FBQ0EsZUFBSyxhQUFMLEVBQW9CLElBQXBCLENBQXlCLFVBQXpCO0FBQ0Q7QUFDRCxlQUFPLElBQVA7QUFDRDs7QUFFRDtBQUNBLFdBQUssTUFBTCxjQUF1QixXQUF2Qiw0QkFBd0QsTUFBeEQsZ0JBQ0ksV0FBVyxNQURmOztBQUdBLGFBQU8sSUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7Z0NBTVksTSxFQUFRLGUsRUFBaUIsVSxFQUFZO0FBQy9DO0FBQ0EsVUFBSSxJQUFJLE1BQVI7QUFDQSxhQUFPLENBQVAsRUFBVTtBQUNSLFlBQUksY0FBYyxLQUFLLFVBQXZCLEVBQW1DO0FBQ2pDLGlCQUFPLElBQVA7QUFDRDtBQUNELFlBQU0sY0FBYyxLQUFLLGlCQUFMLENBQXVCLENBQXZCLEVBQTBCLGVBQTFCLENBQXBCO0FBQ0EsWUFBSSxlQUFlLG9CQUFVLENBQVYsQ0FBbkIsRUFBaUM7QUFDL0IsaUJBQU8sRUFBQyxNQUFNLENBQVAsRUFBVSxhQUFhLGdCQUFNLE1BQU4sQ0FBYSxXQUFiLENBQXZCLEVBQVA7QUFDRDtBQUNELFlBQUksRUFBRSxhQUFOO0FBQ0Q7QUFDRCxhQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7c0NBS2tCLEksRUFBTSxlLEVBQWlCO0FBQ3ZDLFVBQU0sWUFBWSxLQUFLLGFBQUwsQ0FBbUIsSUFBbkIsQ0FBbEI7QUFDQSxVQUFJLENBQUMsU0FBTCxFQUFnQjtBQUNkLGVBQU8sSUFBUDtBQUNEO0FBQ0QsYUFBTyxVQUFVLGVBQVYsS0FBOEIsSUFBckM7QUFDRDs7QUFFRDs7Ozs7OztrQ0FJYyxJLEVBQU07QUFDbEIsVUFBSSxZQUFZLEtBQUssV0FBTCxDQUFoQjtBQUNBLFVBQUksY0FBYyxTQUFsQixFQUE2QjtBQUMzQixvQkFBWSxJQUFaO0FBQ0EsWUFBSSxLQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBSixFQUE2QjtBQUMzQixzQkFBWSxlQUFlLEtBQUssWUFBTCxDQUFrQixJQUFsQixDQUFmLEVBQXdDLElBQXhDLENBQVo7QUFDRDtBQUNELGFBQUssV0FBTCxJQUFvQixTQUFwQjtBQUNEO0FBQ0QsYUFBTyxTQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OytCQUtXLEksRUFBTSxVLEVBQVk7QUFDM0IsV0FBSyxZQUFMLENBQWtCLElBQWxCLEVBQXdCLFVBQXhCOztBQUVBO0FBQ0EsYUFBTyxLQUFLLFdBQUwsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7c0NBWWtCO0FBQUEsZ0NBQ0QsS0FBSyxNQUFMLENBQVksV0FBWixFQURDO0FBQUEsVUFDVCxJQURTLHVCQUNULElBRFM7O0FBRWhCLFVBQUksQ0FBQyxJQUFMLEVBQVc7QUFDVCxlQUFPLElBQVA7QUFDRDtBQUNELFVBQU0sT0FBTyxLQUFLLGFBQUwsQ0FBbUIsbUNBQW5CLENBQWI7QUFDQSxVQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1QsZUFBTyxJQUFQO0FBQ0Q7QUFDRCxhQUFPLEtBQUssWUFBTCxDQUFrQixTQUFsQixFQUE2QixLQUE3QixDQUFtQyxHQUFuQyxFQUF3QyxHQUF4QyxDQUE0QztBQUFBLGVBQVUsT0FBTyxJQUFQLEVBQVY7QUFBQSxPQUE1QyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztpREFNNkIsSyxFQUFPO0FBQ2xDLFVBQU0sU0FBUywwQkFBNEIsa0JBQTNDO0FBRGtDLFVBRTNCLE1BRjJCLEdBRWpCLEtBRmlCLENBRTNCLE1BRjJCOzs7QUFJbEMsVUFBSSxPQUFPLEtBQVAsS0FBaUIsU0FBckIsRUFBZ0M7QUFDOUIsZUFBTyxPQUFQLElBQWtCLE9BQU8sS0FBekI7QUFDRDs7QUFFRDtBQUNBLFVBQUksT0FBTyxPQUFQLElBQWtCLE9BQXRCLEVBQStCO0FBQzdCO0FBQ0EsZUFBTyxlQUFQLElBQTBCLE9BQU8sT0FBTyxLQUFkLENBQTFCO0FBQ0Q7O0FBRUQsVUFBSSxPQUFPLE9BQVAsS0FBbUIsU0FBdkIsRUFBa0M7QUFDaEMsZUFBTyxTQUFQLElBQW9CLE9BQU8sT0FBM0I7QUFDRDs7QUFFRCxVQUFJLE9BQU8sR0FBUCxLQUFlLFNBQWYsSUFBNEIsT0FBTyxHQUFQLEtBQWUsU0FBL0MsRUFBMEQ7QUFDeEQsZUFBTyxLQUFQLElBQWdCLE9BQU8sR0FBdkI7QUFDQSxlQUFPLEtBQVAsSUFBZ0IsT0FBTyxHQUF2QjtBQUNEOztBQUVELFVBQUksT0FBTyxJQUFQLENBQVksTUFBWixFQUFvQixNQUFwQixHQUE2QixDQUFqQyxFQUFvQztBQUNsQyxjQUFNLE1BQU4sR0FBZSxNQUFmO0FBQ0Q7QUFDRjs7Ozs7O0FBSUg7Ozs7Ozs7Ozs7SUFRYSxhO0FBQ1g7OztRQURXLGEsR0FJWCx1QkFBWSxLQUFaLEVBQW1CO0FBQUE7O0FBQ2pCO0FBQ0EsT0FBSyxNQUFMLEdBQWMsSUFBZDs7QUFFQSx3QkFBc0IsS0FBdEIsRUFBNkIsSUFBN0I7QUFDRCxDOztBQUlIOzs7Ozs7Ozs7O0FBUUEsU0FBUyxxQkFBVCxDQUErQixRQUEvQixFQUF5QyxRQUF6QyxFQUFtRDtBQUNqRCxNQUFNLFFBQVEsWUFBWSxrQkFBMUI7QUFDQSxPQUFLLElBQU0sSUFBWCxJQUFtQixRQUFuQixFQUE2QjtBQUMzQixRQUFNLFFBQVEsU0FBUyxJQUFULENBQWQ7QUFDQSxRQUFJLE9BQU8sS0FBUCxLQUFpQixVQUFyQixFQUFpQztBQUMvQixZQUFNLElBQU4sSUFBYyxjQUFkO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsWUFBTSxJQUFOLElBQWMsU0FBUyxJQUFULENBQWQ7QUFDRDtBQUNGO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBR0Q7QUFDQSxTQUFTLGNBQVQsR0FBMEI7QUFDeEIsa0JBQU0sTUFBTixDQUFhLElBQWIsRUFBbUIsdURBQW5CO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsY0FBVCxDQUF3QixDQUF4QixFQUEyQixPQUEzQixFQUFvQztBQUN6QyxNQUFNLGVBQWUsc0JBQXNCLElBQXRCLENBQTJCLElBQTNCLEVBQWlDLENBQWpDLEVBQW9DLE9BQXBDLENBQXJCO0FBQ0EsTUFBTSxjQUFjLHFCQUFxQixJQUFyQixDQUEwQixJQUExQixFQUFnQyxDQUFoQyxFQUFtQyxPQUFuQyxDQUFwQjs7QUFFQSxNQUFJLFlBQVksSUFBaEI7O0FBRUEsTUFBTSxPQUFPLElBQUksZUFBSixDQUFvQixDQUFwQixDQUFiO0FBQ0EsTUFBSSxZQUFKO0FBQ0EsTUFBSSxhQUFKO0FBQ0EsS0FBRztBQUNELFVBQU0sS0FBSyxJQUFMLEVBQU47QUFDQSxRQUFJLElBQUksSUFBSixJQUFZLFVBQVUsR0FBdEIsSUFDSyxJQUFJLElBQUosSUFBWSxVQUFVLFNBQXRCLElBQW1DLElBQUksS0FBSixJQUFhLEdBRHpELEVBQytEO0FBQzdEO0FBQ0QsS0FIRCxNQUdPLElBQUksSUFBSSxJQUFKLElBQVksVUFBVSxPQUF0QixJQUFpQyxJQUFJLElBQUosSUFBWSxVQUFVLEVBQTNELEVBQStEOztBQUVwRTs7QUFFQTtBQUNBLFVBQU0sUUFBUSxJQUFJLEtBQWxCOztBQUVBO0FBQ0Esa0JBQVksS0FBSyxJQUFMLEVBQVosRUFBeUIsQ0FBQyxVQUFVLFNBQVgsQ0FBekIsRUFBZ0QsR0FBaEQ7O0FBRUEsVUFBTSxVQUFVLEVBQWhCOztBQUVBO0FBQ0EsU0FBRztBQUNELFlBQU0sU0FBUyxZQUNYLEtBQUssSUFBTCxFQURXLEVBQ0UsQ0FBQyxVQUFVLE9BQVgsRUFBb0IsVUFBVSxFQUE5QixDQURGLEVBQ3FDLEtBRHBEOztBQUdBO0FBQ0EsWUFBSSxTQUFTLGVBQWI7QUFDQSxZQUFJLE9BQU8sSUFBWDs7QUFFQSxlQUFPLEtBQUssSUFBTCxFQUFQO0FBQ0EsWUFBSSxLQUFLLElBQUwsSUFBYSxVQUFVLFNBQXZCLElBQW9DLEtBQUssS0FBTCxJQUFjLEdBQXRELEVBQTJEO0FBQ3pELGVBQUssSUFBTCxHQUR5RCxDQUM1QztBQUNiLG1CQUFTLFlBQ0wsS0FBSyxJQUFMLEVBREssRUFDUSxDQUFDLFVBQVUsT0FBWCxFQUFvQixVQUFVLEVBQTlCLENBRFIsRUFDMkMsS0FEM0MsSUFDb0QsTUFEN0Q7O0FBR0E7QUFDQSxpQkFBTyxLQUFLLElBQUwsRUFBUDtBQUNBLGNBQUksS0FBSyxJQUFMLElBQWEsVUFBVSxTQUF2QixJQUFvQyxLQUFLLEtBQUwsSUFBYyxHQUF0RCxFQUEyRDtBQUN6RCxpQkFBSyxJQUFMLEdBRHlELENBQzVDO0FBQ2IsbUJBQU8sd0JBQXdCLElBQXhCLEVBQThCLFdBQTlCLEVBQTJDLFlBQTNDLENBQVA7QUFDRDtBQUNGOztBQUVELGdCQUFRLElBQVIsQ0FBYTtBQUNYLHNCQURXO0FBRVgsd0JBRlc7QUFHWCx3QkFIVztBQUlYLGdCQUFPLFFBQVEscUJBQVUsSUFBbEIsSUFBMEIsT0FBTyxNQUFsQyxHQUNKLE9BQU8sTUFBUCxDQUFjLElBQWQsQ0FESSxHQUNrQixJQUxiO0FBTVgsZUFBSztBQU5NLFNBQWI7O0FBU0EsZUFBTyxLQUFLLElBQUwsRUFBUDtBQUVELE9BakNELFFBaUNTLEtBQUssSUFBTCxJQUFhLFVBQVUsU0FBdkIsSUFBb0MsS0FBSyxLQUFMLElBQWMsR0FBbEQsSUFDRixLQUFLLElBQUwsRUFsQ1AsRUFib0UsQ0ErQy9DOztBQUVyQixVQUFJLENBQUMsU0FBTCxFQUFnQjtBQUNkLG9CQUFZLGtCQUFaO0FBQ0Q7O0FBRUQsZ0JBQVUsS0FBVixJQUFtQixPQUFuQjtBQUNELEtBdERNLE1Bc0RBO0FBQ0w7QUFDQSxtQkFBYSxLQUFiLDRCQUEyQyxJQUFJLEtBQUosSUFBYSxFQUF4RDtBQUNEO0FBRUYsR0FoRUQsUUFnRVMsSUFBSSxJQUFKLElBQVksVUFBVSxHQWhFL0I7O0FBa0VBLFNBQU8sU0FBUDtBQUNEOztBQUVEOzs7Ozs7OztBQVFBLFNBQVMsdUJBQVQsQ0FBaUMsSUFBakMsRUFBdUMsV0FBdkMsRUFBb0QsWUFBcEQsRUFBa0U7QUFDaEUsTUFBSSxPQUFPLEtBQUssSUFBTCxFQUFYO0FBQ0EsTUFBSSxZQUFKO0FBQ0EsTUFBSSxPQUFPLElBQVg7QUFDQTtBQUNBLE1BQUksS0FBSyxJQUFMLElBQWEsVUFBVSxNQUEzQixFQUFtQztBQUNqQztBQUNBO0FBQ0EsV0FBTyxrQkFBUDs7QUFIaUMscUJBSWpCLEtBQUssSUFBTCxFQUppQjtBQUFBLFFBSTFCLEtBSjBCLGNBSTFCLEtBSjBCOztBQUtqQyxpREFBNEIsS0FBNUI7QUFDQSxnQkFBWSxLQUFLLElBQUwsRUFBWixFQUF5QixDQUFDLFVBQVUsU0FBWCxDQUF6QixFQUFnRCxHQUFoRDtBQUNELEdBUEQsTUFPTztBQUNMO0FBQ0EsT0FBRztBQUNELFlBQU0sS0FBSyxJQUFMLEVBQU47QUFEQyxpQkFFcUIsR0FGckI7QUFBQSxVQUVNLElBRk4sUUFFTSxJQUZOO0FBQUEsVUFFWSxNQUZaLFFBRVksS0FGWjs7QUFHRCxVQUFJLFFBQVEsVUFBVSxTQUFsQixLQUFnQyxVQUFTLEdBQVQsSUFBZ0IsVUFBUyxHQUF6RCxDQUFKLEVBQW1FO0FBQ2pFO0FBQ0QsT0FGRCxNQUVPLElBQUksUUFBUSxVQUFVLE9BQWxCLElBQTZCLFFBQVEsVUFBVSxFQUFuRCxFQUF1RDtBQUM1RDtBQUNBLG9CQUFZLEtBQUssSUFBTCxFQUFaLEVBQXlCLENBQUMsVUFBVSxTQUFYLENBQXpCLEVBQWdELEdBQWhEO0FBQ0E7QUFDQSxjQUFNLFlBQVksS0FBSyxJQUFMLEVBQVUsa0JBQW1CLElBQTdCLENBQVosRUFDRixDQUFDLFVBQVUsT0FBWCxFQUFvQixVQUFVLEVBQTlCLENBREUsQ0FBTjtBQUVBLFlBQU0saUJBQWlCLENBQUMsR0FBRCxDQUF2QjtBQUNBO0FBQ0EsWUFBSSxJQUFJLElBQUosSUFBWSxVQUFVLEVBQTFCLEVBQThCO0FBQzVCLGVBQUssT0FBTyxLQUFLLElBQUwsRUFBWixFQUNFLEtBQUssSUFBTCxJQUFhLFVBQVUsU0FBdkIsSUFBb0MsS0FBSyxLQUFMLElBQWMsR0FEcEQsRUFFRSxPQUFPLEtBQUssSUFBTCxFQUZULEVBRXNCO0FBQ3BCLGlCQUFLLElBQUwsR0FEb0IsQ0FDUDtBQUNiLGtCQUFNLFlBQVksS0FBSyxJQUFMLENBQVUsS0FBVixDQUFaLEVBQThCLENBQUMsVUFBVSxFQUFYLENBQTlCLENBQU47QUFDQSwyQkFBZSxJQUFmLENBQW9CLEdBQXBCO0FBQ0Q7QUFDRjtBQUNELFlBQU0sV0FBVyxrQkFBa0IsY0FBbEIsQ0FBakI7QUFDQSxZQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1QsaUJBQU8sa0JBQVA7QUFDRDtBQUNELGFBQUssTUFBTCxJQUFjLFFBQWQ7QUFDQSxlQUFPLEtBQUssSUFBTCxFQUFQO0FBQ0EscUJBQ0ksS0FBSyxJQUFMLElBQWEsVUFBVSxTQUF2QixLQUNDLEtBQUssS0FBTCxJQUFjLEdBQWQsSUFBcUIsS0FBSyxLQUFMLElBQWMsR0FEcEMsQ0FESixFQUdJLDRCQUhKO0FBSUQsT0EzQk0sTUEyQkE7QUFDTDtBQUNBLHFCQUFhLEtBQWIsNEJBQTJDLElBQUksS0FBSixJQUFhLEVBQXhEO0FBQ0Q7QUFDRixLQXBDRCxRQW9DUyxFQUFFLElBQUksSUFBSixJQUFZLFVBQVUsU0FBdEIsSUFBbUMsSUFBSSxLQUFKLElBQWEsR0FBbEQsQ0FwQ1Q7QUFxQ0Q7QUFDRCxTQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLQSxTQUFTLGlCQUFULENBQTJCLE1BQTNCLEVBQW1DO0FBQ2pDLE1BQUksT0FBTyxNQUFQLElBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLFdBQU8sSUFBUDtBQUNELEdBRkQsTUFFTyxJQUFJLE9BQU8sTUFBUCxJQUFpQixDQUFyQixFQUF3QjtBQUM3QixXQUFPLHVDQUF3QyxPQUFPLENBQVAsRUFBVTtBQUF6RDtBQUNELEdBRk0sTUFFQTtBQUNMLFFBQU0sU0FBUyxPQUFPLEdBQVAsQ0FBVztBQUFBLGFBQVMsTUFBTSxLQUFmO0FBQUEsS0FBWCxDQUFmO0FBQ0EsUUFBTSxhQUFhLE9BQU8sSUFBUCxDQUFZLEdBQVosQ0FBbkI7QUFDQSxXQUFPLDBDQUEyQyxFQUFDLHNCQUFEO0FBQWxEO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7QUFRTyxTQUFTLHNCQUFULENBQWdDLElBQWhDLEVBQXNDLEtBQXRDLEVBQTZDO0FBQ2xELE1BQUksQ0FBQyxJQUFMLEVBQVc7QUFDVCxXQUFPLElBQVA7QUFDRDtBQUNELE1BQU0sT0FBTyxtQkFBYjtBQUNBLE1BQUksU0FBUyw2QkFBVSxxQkFBdUIsS0FBakMsQ0FBYixFQUF1RDtBQUNyRCxTQUFLLE9BQUwsSUFBZ0IsNkJBQVUscUJBQXVCLEtBQWpDLENBQWhCO0FBQ0Q7QUFDRCxNQUFNLFVBQVUsa0JBQWhCO0FBQ0EsU0FBTyxJQUFQLENBQVksSUFBWixFQUFrQixPQUFsQixDQUEwQixlQUFPO0FBQy9CLFFBQUksUUFBUSxLQUFLLEdBQUwsQ0FBWjtBQUNBLFFBQUksUUFBTyxLQUFQLHlDQUFPLEtBQVAsTUFBZ0IsUUFBaEIsSUFBNEIsTUFBTSxVQUF0QyxFQUFrRDtBQUNoRCxVQUFNO0FBQ0osK0NBQTJDLEtBQUQsQ0FBUSxVQURwRDtBQUVBLFVBQU0sWUFBWSwyQkFBZ0IsSUFBaEIsRUFBc0IsSUFBdEIsQ0FBbEI7QUFDQTtBQUNBLGNBQVMsY0FBYyxTQUFmLEdBQTRCLElBQTVCLEdBQW1DLFNBQTNDO0FBQ0Q7QUFDRCxZQUFRLEdBQVIsSUFBZSxLQUFmO0FBQ0QsR0FWRDtBQVdBLFNBQU8sT0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7QUFTQSxTQUFTLHFCQUFULENBQStCLENBQS9CLEVBQWtDLE9BQWxDLEVBQTJDLFNBQTNDLEVBQXNELFdBQXRELEVBQW1FO0FBQ2pFLFNBQU8saUJBQU8sTUFBUCxDQUFjLFNBQWQsRUFBeUIsMENBQXpCLEVBQ0gsT0FERyxFQUNNLENBRE4sRUFDUyxlQUFlLEVBRHhCLENBQVA7QUFFRDs7QUFFRDs7Ozs7Ozs7O0FBU0EsU0FBUyxvQkFBVCxDQUE4QixDQUE5QixFQUFpQyxPQUFqQyxFQUEwQyxHQUExQyxFQUErQyxLQUEvQyxFQUFzRCxTQUF0RCxFQUFpRTtBQUMvRCxNQUFJLGNBQWMsU0FBbEIsRUFBNkI7QUFDM0IsMEJBQXNCLENBQXRCLEVBQXlCLE9BQXpCLEVBQ0ksTUFBTSxRQUFOLENBQWUsSUFBSSxJQUFuQixLQUE0QixJQUFJLEtBQUosSUFBYSxTQUQ3QyxtQkFFbUIsU0FGbkI7QUFHRCxHQUpELE1BSU87QUFDTCwwQkFBc0IsQ0FBdEIsRUFBeUIsT0FBekIsRUFBa0MsTUFBTSxRQUFOLENBQWUsSUFBSSxJQUFuQixDQUFsQztBQUNEO0FBQ0QsU0FBTyxHQUFQO0FBQ0Q7O0FBRUQ7OztBQUdBLElBQU0sWUFBWTtBQUNoQixXQUFTLENBRE87QUFFaEIsT0FBSyxDQUZXO0FBR2hCLGFBQVcsQ0FISztBQUloQixXQUFTLENBSk87QUFLaEIsTUFBSSxDQUxZO0FBTWhCLFVBQVE7QUFOUSxDQUFsQjs7QUFTQTs7O0FBR0EsSUFBSSxpQkFBSjs7QUFFQTtBQUNBLElBQU0saUJBQWlCLCtCQUF2Qjs7QUFFQTtBQUNBLElBQU0sZ0JBQWdCLFdBQXRCOztBQUVBO0FBQ0EsSUFBTSxhQUFhLEtBQW5COztBQUVBO0FBQ0EsSUFBTSxhQUFhLElBQW5COztBQUVBO0FBQ0EsSUFBTSxjQUNGLGlCQUFpQixhQUFqQixHQUFpQyxVQUFqQyxHQUE4QyxVQURsRDs7QUFHQTs7SUFDTSxlO0FBQ0o7OztBQUdBLDJCQUFZLEdBQVosRUFBaUI7QUFBQTs7QUFDZjtBQUNBLFNBQUssSUFBTCxHQUFZLEdBQVo7O0FBRUE7QUFDQSxTQUFLLE1BQUwsR0FBYyxDQUFDLENBQWY7QUFDRDs7QUFFRDs7Ozs7Ozs7O3lCQUtLLGlCLEVBQW1CO0FBQ3RCLFVBQU0sTUFBTSxLQUFLLEtBQUwsQ0FBVyxxQkFBcUIsS0FBaEMsQ0FBWjtBQUNBLFdBQUssTUFBTCxHQUFjLElBQUksS0FBbEI7QUFDQSxhQUFPLEdBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7eUJBS0ssaUIsRUFBbUI7QUFDdEIsYUFBTyxLQUFLLEtBQUwsQ0FBVyxxQkFBcUIsS0FBaEMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OzBCQUlNLGEsRUFBZTtBQUNuQixVQUFJLFdBQVcsS0FBSyxNQUFMLEdBQWMsQ0FBN0I7QUFDQSxVQUFJLFlBQVksS0FBSyxJQUFMLENBQVUsTUFBMUIsRUFBa0M7QUFDaEMsZUFBTyxFQUFDLE1BQU0sVUFBVSxHQUFqQixFQUFzQixPQUFPLEtBQUssTUFBbEMsRUFBUDtBQUNEOztBQUVELFVBQUksSUFBSSxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLFFBQWpCLENBQVI7O0FBRUE7QUFDQSxVQUFJLGVBQWUsT0FBZixDQUF1QixDQUF2QixLQUE2QixDQUFDLENBQWxDLEVBQXFDO0FBQ25DO0FBQ0EsZUFBTyxXQUFXLEtBQUssSUFBTCxDQUFVLE1BQTVCLEVBQW9DLFVBQXBDLEVBQWdEO0FBQzlDLGNBQUksZUFBZSxPQUFmLENBQXVCLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsUUFBakIsQ0FBdkIsS0FBc0QsQ0FBQyxDQUEzRCxFQUE4RDtBQUM1RDtBQUNEO0FBQ0Y7QUFDRCxZQUFJLFlBQVksS0FBSyxJQUFMLENBQVUsTUFBMUIsRUFBa0M7QUFDaEMsaUJBQU8sRUFBQyxNQUFNLFVBQVUsR0FBakIsRUFBc0IsT0FBTyxRQUE3QixFQUFQO0FBQ0Q7QUFDRCxZQUFJLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsUUFBakIsQ0FBSjtBQUNEOztBQUVEO0FBQ0EsVUFBSSxrQkFBa0IsTUFBTSxDQUFOLEtBQ2IsS0FBSyxHQUFMLElBQVksV0FBVyxDQUFYLEdBQWUsS0FBSyxJQUFMLENBQVUsTUFBckMsSUFDRCxNQUFNLEtBQUssSUFBTCxDQUFVLFdBQVcsQ0FBckIsQ0FBTixDQUZKLENBQUosRUFFMEM7QUFDeEMsWUFBSSxjQUFjLEtBQUssR0FBdkI7QUFDQSxZQUFJLE9BQU0sV0FBVyxDQUFyQjtBQUNBLGVBQU8sT0FBTSxLQUFLLElBQUwsQ0FBVSxNQUF2QixFQUErQixNQUEvQixFQUFzQztBQUNwQyxjQUFNLEtBQUssS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixJQUFqQixDQUFYO0FBQ0EsY0FBSSxNQUFNLEdBQVYsRUFBZTtBQUNiLDBCQUFjLElBQWQ7QUFDQTtBQUNEO0FBQ0QsY0FBSSxDQUFDLE1BQU0sRUFBTixDQUFMLEVBQWdCO0FBQ2Q7QUFDRDtBQUNGO0FBQ0QsWUFBTSxLQUFJLEtBQUssSUFBTCxDQUFVLFNBQVYsQ0FBb0IsUUFBcEIsRUFBOEIsSUFBOUIsQ0FBVjtBQUNBLFlBQU0sUUFBUSxjQUFjLFdBQVcsRUFBWCxDQUFkLEdBQThCLFNBQVMsRUFBVCxFQUFZLEVBQVosQ0FBNUM7QUFDQSxtQkFBVyxPQUFNLENBQWpCO0FBQ0EsZUFBTyxFQUFDLE1BQU0sVUFBVSxPQUFqQixFQUEwQixZQUExQixFQUFpQyxPQUFPLFFBQXhDLEVBQVA7QUFDRDs7QUFFRDtBQUNBLFVBQUksY0FBYyxPQUFkLENBQXNCLENBQXRCLEtBQTRCLENBQUMsQ0FBakMsRUFBb0M7QUFDbEMsZUFBTyxFQUFDLE1BQU0sVUFBVSxTQUFqQixFQUE0QixPQUFPLENBQW5DLEVBQXNDLE9BQU8sUUFBN0MsRUFBUDtBQUNEOztBQUVEO0FBQ0EsVUFBSSxXQUFXLE9BQVgsQ0FBbUIsQ0FBbkIsS0FBeUIsQ0FBQyxDQUE5QixFQUFpQztBQUMvQixZQUFJLFFBQU0sQ0FBQyxDQUFYO0FBQ0EsYUFBSyxJQUFJLElBQUksV0FBVyxDQUF4QixFQUEyQixJQUFJLEtBQUssSUFBTCxDQUFVLE1BQXpDLEVBQWlELEdBQWpELEVBQXNEO0FBQ3BELGNBQUksS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixDQUFqQixLQUF1QixDQUEzQixFQUE4QjtBQUM1QixvQkFBTSxDQUFOO0FBQ0E7QUFDRDtBQUNGO0FBQ0QsWUFBSSxTQUFPLENBQUMsQ0FBWixFQUFlO0FBQ2IsaUJBQU8sRUFBQyxNQUFNLFVBQVUsT0FBakIsRUFBMEIsT0FBTyxRQUFqQyxFQUFQO0FBQ0Q7QUFDRCxZQUFNLFVBQVEsS0FBSyxJQUFMLENBQVUsU0FBVixDQUFvQixXQUFXLENBQS9CLEVBQWtDLEtBQWxDLENBQWQ7QUFDQSxtQkFBVyxLQUFYO0FBQ0EsZUFBTyxFQUFDLE1BQU0sVUFBVSxPQUFqQixFQUEwQixjQUExQixFQUFpQyxPQUFPLFFBQXhDLEVBQVA7QUFDRDs7QUFFRDtBQUNBLFVBQUksS0FBSyxHQUFULEVBQWM7QUFDWixZQUFJLGlCQUFpQixDQUFyQjtBQUNBLFlBQUksUUFBTSxDQUFDLENBQVg7QUFDQSxhQUFLLElBQUksS0FBSSxXQUFXLENBQXhCLEVBQTJCLEtBQUksS0FBSyxJQUFMLENBQVUsTUFBekMsRUFBaUQsSUFBakQsRUFBc0Q7QUFDcEQsY0FBTSxPQUFPLEtBQUssSUFBTCxDQUFVLEVBQVYsQ0FBYjtBQUNBLGNBQUksUUFBUSxHQUFaLEVBQWlCO0FBQ2Y7QUFDRCxXQUZELE1BRU8sSUFBSSxRQUFRLEdBQVosRUFBaUI7QUFDdEI7QUFDRDtBQUNELGNBQUksa0JBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCLG9CQUFNLEVBQU47QUFDQTtBQUNEO0FBQ0Y7QUFDRCxZQUFJLFNBQU8sQ0FBQyxDQUFaLEVBQWU7QUFDYixpQkFBTyxFQUFDLE1BQU0sVUFBVSxPQUFqQixFQUEwQixPQUFPLFFBQWpDLEVBQVA7QUFDRDtBQUNELFlBQU0sVUFBUSxLQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9CLFFBQXBCLEVBQThCLFFBQU0sQ0FBcEMsQ0FBZDtBQUNBLG1CQUFXLEtBQVg7QUFDQSxlQUFPLEVBQUMsTUFBTSxVQUFVLE1BQWpCLEVBQXlCLGNBQXpCLEVBQWdDLE9BQU8sUUFBdkMsRUFBUDtBQUNEOztBQUVEO0FBQ0EsVUFBSSxNQUFNLFdBQVcsQ0FBckI7QUFDQSxhQUFPLE1BQU0sS0FBSyxJQUFMLENBQVUsTUFBdkIsRUFBK0IsS0FBL0IsRUFBc0M7QUFDcEMsWUFBSSxZQUFZLE9BQVosQ0FBb0IsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixHQUFqQixDQUFwQixLQUE4QyxDQUFDLENBQW5ELEVBQXNEO0FBQ3BEO0FBQ0Q7QUFDRjtBQUNELFVBQU0sSUFBSSxLQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9CLFFBQXBCLEVBQThCLEdBQTlCLENBQVY7QUFDQSxpQkFBVyxNQUFNLENBQWpCOztBQUVBO0FBQ0EsVUFBSSxrQkFBa0IsS0FBSyxNQUFMLElBQWUsS0FBSyxPQUF0QyxDQUFKLEVBQW9EO0FBQ2xELFlBQU0sVUFBUyxLQUFLLE1BQXBCO0FBQ0EsZUFBTyxFQUFDLE1BQU0sVUFBVSxPQUFqQixFQUEwQixjQUExQixFQUFpQyxPQUFPLFFBQXhDLEVBQVA7QUFDRDs7QUFFRDtBQUNBLFVBQUksQ0FBQyxNQUFNLEVBQUUsTUFBRixDQUFTLENBQVQsQ0FBTixDQUFMLEVBQXlCO0FBQ3ZCLGVBQU8sRUFBQyxNQUFNLFVBQVUsRUFBakIsRUFBcUIsT0FBTyxDQUE1QixFQUErQixPQUFPLFFBQXRDLEVBQVA7QUFDRDs7QUFFRDtBQUNBLGFBQU8sRUFBQyxNQUFNLFVBQVUsT0FBakIsRUFBMEIsT0FBTyxDQUFqQyxFQUFvQyxPQUFPLFFBQTNDLEVBQVA7QUFDRDs7Ozs7O0FBSUg7Ozs7Ozs7QUFLQSxTQUFTLEtBQVQsQ0FBZSxDQUFmLEVBQWtCO0FBQ2hCLFNBQU8sS0FBSyxHQUFMLElBQVksS0FBSyxHQUF4QjtBQUNEOztBQUdEOzs7QUFHTyxTQUFTLDBCQUFULENBQW9DLE1BQXBDLEVBQTRDO0FBQ2pELDZDQUNJLE1BREosRUFFSSxRQUZKLEVBR0ksYUFISjtBQUlJLHVCQUFzQixJQUoxQjtBQUtEOzs7Ozs7OztxakJDN3FDRDs7Ozs7Ozs7Ozs7Ozs7OztRQStNZ0Isb0MsR0FBQSxvQzs7QUEvTGhCOztBQUlBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNLE1BQU0sbUJBQVo7O0FBRUE7QUFDQSxJQUFNLGlCQUFpQixHQUF2Qjs7SUFHYSxnQixXQUFBLGdCO0FBQ1g7OztBQUdBLDRCQUFZLE1BQVosRUFBb0I7QUFBQTs7QUFBQTs7QUFDbEI7QUFDQSxTQUFLLE9BQUwsR0FBZSxNQUFmOztBQUVBO0FBQ0EsU0FBSyxJQUFMLEdBQVksT0FBTyxHQUFuQjs7QUFFQTtBQUNBLFNBQUssUUFBTCxHQUFnQixFQUFoQjs7QUFFQTtBQUNBLFNBQUssTUFBTCxHQUFjLG1CQUFTLFFBQVQsQ0FBa0IsS0FBSyxJQUF2QixDQUFkOztBQUVBO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLG1CQUFTLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBakI7O0FBRUE7QUFDQSxTQUFLLFlBQUwsR0FBb0IsRUFBcEI7O0FBRUE7QUFDQSxTQUFLLFNBQUwsR0FBaUIsS0FBakI7O0FBRUE7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsS0FBaEI7O0FBRUE7QUFDQSxTQUFLLGdCQUFMLEdBQXdCLEtBQXhCOztBQUVBO0FBQ0EsU0FBSyxnQkFBTCxHQUF3Qix5QkFBUyxLQUFLLElBQWQsRUFBb0IsWUFBTTtBQUNoRCxZQUFLLFNBQUwsR0FBaUIsS0FBakI7QUFDRCxLQUZ1QixFQUVyQixjQUZxQixDQUF4QjtBQUdEOztBQUVEOzs7Ozs7Ozs7OzRCQU1RLE8sRUFBUyxRLEVBQVUsTyxFQUFTO0FBQUE7O0FBQ2xDLFVBQU0sU0FDRixtREFBMkIsS0FBSyxPQUFoQyxFQUF5QyxPQUF6QyxFQUFrRCxRQUFsRCxFQUE0RCxPQUE1RCxDQURKOztBQUdBLFdBQUssUUFBTCxDQUFjLElBQWQsQ0FBbUIsTUFBbkI7O0FBRUEsVUFBSSxDQUFDLEtBQUssZ0JBQVYsRUFBNEI7QUFDMUIsYUFBSyxjQUFMO0FBQ0Q7O0FBRUQsYUFBTyxNQUFQOztBQUVBLGFBQU8sWUFBTTtBQUNYLGFBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxPQUFLLFFBQUwsQ0FBYyxNQUFsQyxFQUEwQyxHQUExQyxFQUErQztBQUM3QyxjQUFJLE9BQUssUUFBTCxDQUFjLENBQWQsS0FBb0IsTUFBeEIsRUFBZ0M7QUFDOUIsbUJBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNBO0FBQ0Q7QUFDRjtBQUNGLE9BUEQ7QUFRRDs7QUFFRDs7Ozs7OzhCQUdVLE8sRUFBUztBQUNqQixXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxRQUFMLENBQWMsTUFBbEMsRUFBMEMsR0FBMUMsRUFBK0M7QUFDN0MsWUFBSSxLQUFLLFFBQUwsQ0FBYyxDQUFkLEVBQWlCLE9BQWpCLElBQTRCLE9BQWhDLEVBQXlDO0FBQ3ZDLGVBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNBO0FBQ0Q7QUFDRjtBQUNELHNCQUFNLEtBQU4sQ0FBWSxHQUFaLEVBQWlCLHFDQUFqQjtBQUNEOztBQUVEOzs7Ozs7O2tDQUljLEssRUFBTztBQUNuQixXQUFLLFFBQUwsQ0FBYyxNQUFkLENBQXFCLEtBQXJCLEVBQTRCLENBQTVCO0FBQ0EsVUFBSSxLQUFLLFFBQUwsQ0FBYyxNQUFkLElBQXdCLENBQTVCLEVBQStCO0FBQzdCLGFBQUssYUFBTDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7cUNBSWlCO0FBQUE7O0FBQ2YsV0FBSyxnQkFBTCxHQUF3QixJQUF4QjtBQUNBO0FBQ0EsV0FBSyxZQUFMLENBQWtCLElBQWxCLENBQXVCLEtBQUssU0FBTCxDQUFlLFFBQWYsQ0FBd0IsWUFBTTtBQUNuRCxlQUFLLGdCQUFMO0FBQ0QsT0FGc0IsQ0FBdkI7QUFHQSxXQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBdUIsS0FBSyxTQUFMLENBQWUsUUFBZixDQUF3QixZQUFNO0FBQ25ELGVBQUssZ0JBQUw7QUFDRCxPQUZzQixDQUF2QjtBQUdEOztBQUVEOzs7Ozs7O29DQUlnQjtBQUNkLFdBQUssZ0JBQUwsR0FBd0IsS0FBeEI7QUFDQSxhQUFPLEtBQUssWUFBTCxDQUFrQixNQUF6QixFQUFpQztBQUMvQixZQUFNLFdBQVcsS0FBSyxZQUFMLENBQWtCLEdBQWxCLEVBQWpCO0FBQ0E7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OztxQ0FLaUIsUyxFQUFXO0FBQzFCLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLFFBQUwsQ0FBYyxNQUFsQyxFQUEwQyxHQUExQyxFQUErQztBQUM3QyxZQUFNLFNBQVMsS0FBSyxRQUFMLENBQWMsQ0FBZCxDQUFmO0FBQ0EsZUFBTyxNQUFQLENBQWMsU0FBZDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7dUNBSW1CO0FBQ2pCLFdBQUssZ0JBQUw7QUFDQSxXQUFLLFNBQUwsR0FBaUIsSUFBakI7QUFDQSxVQUFJLENBQUMsS0FBSyxRQUFWLEVBQW9CO0FBQ2xCLGFBQUssYUFBTDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7dUNBSW1CO0FBQ2pCLFdBQUssZ0JBQUwsQ0FBc0IsSUFBdEI7QUFDRDs7QUFFRDs7Ozs7OztvQ0FJZ0I7QUFBQTs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBSyxnQkFBTDtBQUNBLFdBQUssUUFBTCxHQUFnQixJQUFoQjtBQUNBLFVBQUksQ0FBQyxLQUFLLFNBQVYsRUFBcUI7QUFDbkI7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQTtBQUNEO0FBQ0QsV0FBSyxNQUFMLENBQVksT0FBWixDQUFvQixZQUFNO0FBQ3hCLGVBQUssYUFBTDtBQUNELE9BRkQ7QUFHRDs7Ozs7O0FBR0g7Ozs7O0FBR08sU0FBUyxvQ0FBVCxDQUE4QyxNQUE5QyxFQUFzRDtBQUMzRCw2Q0FBNkIsTUFBN0IsRUFBcUMsbUJBQXJDLEVBQTBELFlBQU07QUFDOUQsV0FBTyxJQUFJLGdCQUFKLENBQXFCLE1BQXJCLENBQVA7QUFDRCxHQUZEO0FBR0Q7Ozs7Ozs7O3FqQkNuTkQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7O0FBQ0E7O0FBQ0E7Ozs7QUFPQTtBQUNPLElBQU0sOERBQTJCO0FBQ3RDLFFBQU0sQ0FEZ0M7QUFFdEMsT0FBSztBQUZpQyxDQUFqQzs7QUFLUDtBQUNBLElBQU0sMkJBQTJCLENBQWpDOztBQUVBOzs7Ozs7Ozs7OztBQVdPLElBQUksd0VBQUo7O0lBRU0sc0IsV0FBQSxzQjtBQUNYOzs7Ozs7QUFNQSxrQ0FBWSxNQUFaLEVBQW9CLE9BQXBCLEVBQTZCLFFBQTdCLEVBQXVDLE9BQXZDLEVBQWdEO0FBQUE7O0FBQzlDO0FBQ0EsU0FBSyxPQUFMLEdBQWUsT0FBZjs7QUFFQTtBQUNBLFNBQUssUUFBTCxHQUFnQixPQUFoQjs7QUFFQTtBQUNBLFNBQUssUUFBTCxHQUFnQixRQUFoQjs7QUFFQTtBQUNBLFNBQUssSUFBTCxHQUFhLFlBQVkseUJBQXlCLEdBQXRDLEdBQ1YsS0FBSyxLQUFMLENBQVcsS0FBSyxNQUFMLEtBQWdCLHdCQUEzQixDQURVLEdBQzZDLENBRHpEOztBQUdBO0FBQ0EsU0FBSyxhQUFMLEdBQXFCLElBQXJCOztBQUVBO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLG1CQUFTLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBakI7QUFDRDs7QUFFRDs7Ozs7Ozs7OzZCQUtTLFEsRUFBVTtBQUNqQixVQUFNLFVBQVUsS0FBSyxhQUFyQjtBQUNBLFVBQUksV0FDRyxrQ0FBaUIsUUFBUSxZQUF6QixFQUF1QyxTQUFTLFlBQWhELENBREgsSUFFRyxrQ0FBaUIsUUFBUSxZQUF6QixFQUF1QyxTQUFTLFlBQWhELENBRlAsRUFFc0U7QUFDcEU7QUFDQTtBQUNEOztBQUVELHNCQUFNLE1BQU4sQ0FBYSxTQUFTLFlBQXRCLEVBQ0ksOERBREo7QUFFQSxVQUFNO0FBQ04scURBQWlELFNBQVMsWUFEMUQ7QUFFQTtBQUNBLGVBQVMsV0FBVCxHQUF1Qix3Q0FBdUIsWUFBdkIsRUFDbkIsU0FBUyxZQURVLENBQXZCOztBQUdBLFVBQUksb0NBQW1CLFlBQW5CLEVBQWlDLFNBQVMsWUFBMUMsQ0FBSixFQUE2RDtBQUMzRDtBQUNBLGFBQUssYUFBTCxHQUFxQixRQUFyQjtBQUNBO0FBQ0EsYUFBSyxRQUFMLENBQWMsUUFBZDtBQUNELE9BTEQsTUFLTyxJQUFJLEtBQUssYUFBVCxFQUF3QjtBQUM3QjtBQUNBO0FBQ0EsYUFBSyxhQUFMLEdBQXFCLElBQXJCO0FBQ0EsaUJBQVMsWUFBVCxHQUF3QixJQUF4QjtBQUNBLGFBQUssUUFBTCxDQUFjLFFBQWQ7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OzsyQkFLTyxTLEVBQVc7QUFBQTs7QUFDaEIsVUFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZCxZQUFJLEtBQUssSUFBTCxJQUFhLENBQWpCLEVBQW9CO0FBQ2xCLGVBQUssSUFBTDtBQUNBO0FBQ0Q7O0FBRUQsWUFBSSxLQUFLLFFBQUwsSUFBaUIseUJBQXlCLEdBQTlDLEVBQW1EO0FBQ2pELGVBQUssSUFBTCxHQUFZLHdCQUFaO0FBQ0Q7QUFDRjs7QUFFRCxVQUFNLGVBQWUsS0FBSyxTQUFMLENBQWUsT0FBZixFQUFyQjtBQUNBLFVBQU0sY0FDRixnQ0FBZSxDQUFmLEVBQWtCLENBQWxCLEVBQXFCLGFBQWEsS0FBbEMsRUFBeUMsYUFBYSxNQUF0RCxDQURKO0FBRUEsV0FBSyxTQUFMLENBQWUsa0JBQWYsQ0FBa0MsS0FBSyxPQUF2QyxFQUFnRCxJQUFoRCxDQUFxRCxzQkFBYztBQUNqRSxjQUFLLFFBQUw7QUFDQSwyRUFBcUU7QUFDL0Qsd0JBQWMsVUFEaUQ7QUFFL0Qsd0JBQWMsV0FGaUQ7QUFHL0QsdUJBQWE7QUFIa0QsU0FEckU7QUFNRCxPQVBEO0FBUUQ7Ozs7Ozs7Ozs7Ozs7OztBQzNJSDs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTtBQUNBLElBQUksaUNBQUosQyxDQUE4Qjs7O0FBRzlCOztJQUNhLHFCLFdBQUEscUI7Ozs7Ozs7OztBQUVYOzZCQUNTLFcsRUFBYSxDQUFFOztBQUV4Qjs7Ozs7Ozs7O3dDQU1vQixXLEVBQWEsQ0FBRTs7QUFFbkM7Ozs7Ozs7NEJBSVEsVyxFQUFhLENBQUU7O0FBRXZCOzs7Ozs7O29DQUlnQixXLEVBQWEsQ0FBRTs7Ozs7O0FBSWpDOzs7QUFDTyxJQUFNLG9EQUFzQjtBQUNqQyxtQkFBaUIsaUJBRGdCO0FBRWpDLHNCQUFvQjtBQUZhLENBQTVCOzs7Ozs7OztxakJDbERQOzs7Ozs7Ozs7Ozs7Ozs7O1FBeU1nQiwwQixHQUFBLDBCOztBQXpMaEI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQTtBQUNBLElBQU0sWUFBWSxtQkFBbEI7O0FBR0E7QUFDQSxJQUFNLE1BQU0sZUFBWjs7QUFHQTs7OztBQUlBLElBQUksd0JBQUosQyxDQUFxQjs7O0FBR3JCOzs7Ozs7Ozs7Ozs7SUFXYSxnQixXQUFBLGdCOztBQUVYO0FBQ0EsNEJBQVksTUFBWixFQUFvQjtBQUFBOztBQUFBOztBQUFBLFFBQ1gsR0FEVyxHQUNKLE1BREksQ0FDWCxHQURXOztBQUdsQjs7QUFDQSxTQUFLLE9BQUwsR0FBZSxNQUFmOztBQUVBO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLGlCQUFpQixlQUFqQixDQUFpQyxHQUFqQyxFQUFzQyxNQUF0QyxDQUFsQjs7QUFFQTs7OztBQUlBLFNBQUssWUFBTCxHQUFvQixvQkFBSztBQUFBLGFBQU0sdUJBQWEsTUFBSyxPQUFsQixDQUFOO0FBQUEsS0FBTCxDQUFwQjtBQUNEOztBQUVEOzs7Ozs7Ozs7OztBQXlCQTs2QkFDUyxLLEVBQU87QUFDZCxXQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsQ0FBcUI7QUFBQSxlQUNuQixLQUFLLFFBQUwsQ0FBYyxLQUFkLENBRG1CO0FBQUEsT0FBckI7O0FBR0EsV0FBSyxxQkFBTCxDQUEyQixLQUEzQjs7QUFFQSxVQUFJLFVBQUosQ0FBZSxLQUFmO0FBQ0Q7O0FBRUQ7Ozs7Ozs7MENBSXNCLEssRUFBTztBQUFBOztBQUMzQixVQUFJLENBQUMsTUFBTSxPQUFOLENBQWMsWUFBZCxDQUEyQixnQ0FBZ0IsUUFBM0MsQ0FBTCxFQUEyRDtBQUN6RDtBQUNEOztBQUVELFdBQUssWUFBTCxHQUFvQixRQUFwQixDQUE2QixLQUE3Qjs7QUFFQSxVQUFNLG9CQUFvQiwyQ0FBb0Isa0JBQTlDO0FBQ0EsWUFBTSxPQUFOLEdBQWdCLFVBQWhCLENBQTJCLGlCQUEzQixFQUE4QyxJQUE5QyxDQUFtRCxZQUFNO0FBQ3ZELGVBQUssWUFBTCxHQUFvQixRQUFwQixDQUE2QixNQUFNLE9BQW5DO0FBQ0QsT0FGRDtBQUdEOztBQUVEOzs7Ozs7OztBQU9BO3dDQUNvQixLLEVBQU87QUFDekIsYUFBTyxLQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsQ0FBcUI7QUFBQSxlQUMxQixLQUFLLG1CQUFMLENBQXlCLEtBQXpCLENBRDBCO0FBQUEsT0FBckIsQ0FBUDtBQUVEOztBQUVEOzs7OzRCQUNRLFcsRUFBYTtBQUNuQixzQkFBTSxJQUFOLENBQVcsR0FBWCxFQUFnQiw0QkFBaEI7QUFDQSxhQUFPLEtBQVA7QUFDRDs7QUFFRDs7OztvQ0FDZ0IsVyxFQUFhO0FBQzNCLHNCQUFNLElBQU4sQ0FBVyxHQUFYLEVBQWdCLG9DQUFoQjtBQUNBLGFBQU8sOEJBQWMsTUFBckI7QUFDRDs7O21DQXRFcUIsRyxFQUFLO0FBQ3pCLGFBQU8saUNBQWUsR0FBZixFQUFvQixlQUFwQixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztvQ0FNdUIsRyxFQUFLLFMsRUFBVztBQUNyQztBQUNBO0FBQ0EsVUFBTSxhQUFhLG1CQUFTLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBbkI7QUFDQSxVQUFNLFNBQVMsd0JBQVUsU0FBVixDQUFmO0FBQ0EsYUFBTyxXQUFXLHNCQUFYLENBQWtDLE1BQWxDLEVBQTBDLFNBQTFDLEVBQ0YsSUFERSxDQUNHO0FBQUEsZUFBTSwwQ0FDViw2Q0FBd0IsTUFBeEIsRUFBZ0MsZUFBaEMsRUFBaUQsU0FBakQ7QUFESTtBQUFBLE9BREgsQ0FBUDtBQUdEOzs7cUNBZ0N1QixLLEVBQU87QUFDN0IsWUFBTSxPQUFOLEdBQWdCLE1BQWhCLENBQXVCLDJDQUFvQixrQkFBM0M7QUFDRDs7Ozs7O0FBc0JIOzs7SUFDYSxVLFdBQUEsVTs7QUFFWDtBQUNBLHNCQUFZLEtBQVosRUFBbUI7QUFBQTs7QUFFakI7QUFDQSxTQUFLLE1BQUwsR0FBYyxLQUFkOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLE1BQU0sT0FBdEI7O0FBRUE7QUFDQSxTQUFLLFlBQUwsR0FBb0Isb0NBQWtCLEtBQUssUUFBdkIsRUFBaUMsNEJBQVksSUFBN0MsQ0FBcEI7O0FBRUEsU0FBSyx1QkFBTDs7QUFFQSwrQkFBMkIsS0FBSyxRQUFoQztBQUNEOztBQUVEOzs7Ozs7Ozs7a0NBS2MsSyxFQUFPLE8sRUFBUztBQUFBOztBQUM1QiwrQkFBTyxLQUFLLFFBQVosRUFBc0IsS0FBdEIsRUFBNkIsYUFBSztBQUNoQyxlQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBdUIsWUFBTTtBQUMzQixrQkFBUSxDQUFSO0FBQ0QsU0FGRDtBQUdELE9BSkQ7QUFLRDs7QUFFRDs7Ozs4Q0FDMEI7QUFBQTs7QUFDeEI7QUFDQSxXQUFLLGFBQUwsQ0FBbUIseUJBQWUsSUFBbEMsRUFBd0MsWUFBTTtBQUM1QyxlQUFLLE1BQUwsQ0FBWSxJQUFaLEVBQWlCLFVBQVcsSUFBNUI7QUFDRCxPQUZEOztBQUlBLFdBQUssYUFBTCxDQUFtQix5QkFBZSxLQUFsQyxFQUF5QyxZQUFNO0FBQzdDLGVBQUssTUFBTCxDQUFZLEtBQVo7QUFDRCxPQUZEO0FBR0Q7Ozs7OztBQUdIOzs7OztBQUdPLFNBQVMsMEJBQVQsQ0FBb0MsT0FBcEMsRUFBNkM7QUFDbEQsVUFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLDJCQUF0QjtBQUNEOzs7Ozs7Ozs7Ozs7O1FDckllLHdCLEdBQUEsd0I7UUFZQSxVLEdBQUEsVTs7QUFsRWhCOztBQUlBOztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUdBOztBQUNBOztBQUNBOzs7O2tKQXJDQTs7Ozs7Ozs7Ozs7Ozs7OztBQXdDQTtBQUNPLElBQU0sMENBQWlCO0FBQzVCLFFBQU0sY0FEc0I7QUFFNUIsU0FBTztBQUZxQixDQUF2Qjs7QUFLUDs7OztBQUlBLFNBQVMsU0FBVCxDQUFtQixJQUFuQixFQUF5QjtBQUN2QixTQUFPLGdCQUFNLGFBQU4sQ0FBb0IsS0FBSyxTQUFMLEVBQWUsVUFBVyxJQUExQixDQUFwQixDQUFQO0FBQ0Q7O0FBR0Q7Ozs7QUFJQSxTQUFTLGFBQVQsQ0FBdUIsUUFBdkIsRUFBaUM7QUFDL0IsTUFBTSxTQUFTLG9CQUFLLFFBQUwsQ0FBZjtBQUNBLFNBQU8sVUFBQyxHQUFELEVBQU0sR0FBTjtBQUFBLFdBQWMsVUFBVSxPQUFPLEdBQVAsRUFBWSxHQUFaLENBQVYsQ0FBZDtBQUFBLEdBQVA7QUFDRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLHdCQUFULENBQWtDLFNBQWxDLEVBQTZDLE9BQTdDLEVBQXNEO0FBQzNELE1BQU0sT0FBTyw2QkFBUSxPQUFSLENBQWI7QUFDQSxTQUFPLElBQVA7QUFFRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLFVBQVQsQ0FBb0IsR0FBcEIsRUFBeUIsT0FBekIsRUFBa0M7QUFDdkMsTUFBTSxPQUFPLDZCQUFRLE9BQVIsQ0FBUCxrQkFBTjs7QUFPQTtBQUNBLE1BQU0sV0FBVyxnQkFBTSxhQUFOLENBQW9CLEtBQUssaUJBQXpCLENBQWpCO0FBQ0EsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLENBQXBCLEVBQXVCLEdBQXZCLEVBQTRCO0FBQzFCLFFBQU0sTUFBTSxVQUFVLFFBQVYsQ0FBWjtBQUNBLFFBQU0sVUFBVSxJQUFJLFFBQXBCO0FBQ0EsU0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFFBQVEsTUFBNUIsRUFBb0MsR0FBcEMsRUFBeUM7QUFDdkMsVUFBTSxTQUFTLFFBQVEsQ0FBUixDQUFmO0FBQ0EsYUFBTyxTQUFQLENBQWlCLEdBQWpCLG9CQUFxQyxJQUFJLENBQXpDLFdBQThDLElBQUksQ0FBbEQ7QUFDRDtBQUNELFNBQUssV0FBTCxDQUFpQixHQUFqQjtBQUNEOztBQUVEO0FBQ0EsMEJBQWMsUUFBZDs7QUFFQSxNQUFJLG1CQUFTLFdBQVQsQ0FBcUIsR0FBckIsRUFBMEIsS0FBMUIsRUFBSixFQUF1QztBQUNyQztBQUNBLFNBQUssWUFBTCxDQUFrQixZQUFsQixFQUFnQyxFQUFoQztBQUNEOztBQUVELFNBQU8sSUFBUDtBQUNEOztBQUdEOzs7OztBQUtBLElBQU0sa0NBQWtDLGNBQWMsd0JBQWQsQ0FBeEM7O0FBR0E7Ozs7O0FBS0EsSUFBTSxvQkFBb0IsY0FBYyxVQUFkLENBQTFCOztBQUdBOztJQUNhLFEsV0FBQSxROztBQUVYO0FBQ0Esb0JBQVksTUFBWixFQUFvQjtBQUFBOztBQUFBOztBQUVsQjtBQUNBLFNBQUssT0FBTCxHQUFlLE1BQWY7O0FBRUE7Ozs7QUFJQSxTQUFLLG9CQUFMLEdBQTRCLG9CQUFLO0FBQUEsYUFBTSxNQUFLLHdCQUFMLEVBQU47QUFBQSxLQUFMLENBQTVCOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLEVBQWhCOztBQUVBOzs7O0FBSUEsU0FBSyxZQUFMLEdBQW9CLG9CQUFLLFlBQU07QUFDN0I7QUFDQTtBQUY2QixVQUd0QixHQUhzQixHQUdmLE1BQUssT0FIVSxDQUd0QixHQUhzQjs7QUFJN0IsVUFBTSxTQUFTLG1CQUFRLEdBQVIsRUFBYSxJQUE1QjtBQUNBLGFBQU8sa0JBQVcsbUJBQVgsQ0FBK0IsR0FBL0IsRUFBb0MsZ0JBQWlCLE1BQXJELENBQVA7QUFDRCxLQU5tQixDQUFwQjs7QUFRQSw0REFBNEIsS0FBSyxPQUFqQztBQUNEOztBQUVEOzs7OzsrQ0FDMkI7QUFDekIsc0VBQXFDLEtBQUssT0FBMUM7QUFDQTtBQUNBO0FBQ0U7O2VBRVMsK0JBQWlCLEtBQUssT0FBdEIsRUFBK0IsbUJBQS9CO0FBSFg7QUFJRDs7QUFFRDs7Ozs7Ozs2QkFJUyxLLEVBQU87QUFBQTs7QUFDZDtBQUNBO0FBQ0EsVUFBSSxNQUFNLGFBQU4sRUFBSixFQUEyQjtBQUN6QixjQUFNLFlBQU47QUFDRDs7QUFFRCxhQUFPLEtBQUssWUFBTCxHQUFvQixJQUFwQixDQUF5Qix1QkFBZTtBQUM3QyxZQUFJLENBQUMsV0FBTCxFQUFrQjtBQUNoQjtBQUNBLGNBQUksTUFBTSxhQUFOLEVBQUosRUFBMkI7QUFDekIsa0JBQU0sWUFBTjtBQUNEO0FBQ0QsaUJBQU8sSUFBUDtBQUNEO0FBQ0QsWUFBTSxRQUFRLGNBQWMsTUFBZCxDQUFxQixNQUFyQixFQUEyQixLQUEzQixDQUFkO0FBQ0EsZUFBSyxRQUFMLENBQWMsSUFBZCxDQUFtQixLQUFuQjtBQUNBLGVBQU8sS0FBUDtBQUNELE9BWE0sQ0FBUDtBQVlEOztBQUVEOzs7Ozs7NkJBR1MsTyxFQUFTO0FBQ2hCLFVBQU0sUUFBUSxLQUFLLFlBQUwsQ0FBa0IsT0FBbEIsQ0FBZDtBQUNBLFVBQUksQ0FBQyxLQUFMLEVBQVk7QUFDVjtBQUNEO0FBQ0QsWUFBTSxRQUFOO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O2lDQUthLE8sRUFBUztBQUNwQixXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxRQUFMLENBQWMsTUFBbEMsRUFBMEMsR0FBMUMsRUFBK0M7QUFDN0MsWUFBTSxRQUFRLEtBQUssUUFBTCxDQUFjLENBQWQsQ0FBZDtBQUNBLFlBQUksTUFBTSxLQUFOLENBQVksT0FBWixJQUF1QixPQUEzQixFQUFvQztBQUNsQyxpQkFBTyxLQUFQO0FBQ0Q7QUFDRjtBQUNELGFBQU8sSUFBUDtBQUNEOzs7Ozs7QUFJSDs7O0lBQ2EsYSxXQUFBLGE7O0FBRVg7Ozs7Ozs7QUFPQSx5QkFBWSxNQUFaLEVBQW9CLGdCQUFwQixFQUFzQyxLQUF0QyxFQUE2QztBQUFBOztBQUUzQztBQUNBLFNBQUssS0FBTCxHQUFhLEtBQWI7O0FBRUE7QUFDQSxTQUFLLE9BQUwsR0FBZSxNQUFmOztBQUVBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLE1BQU0sT0FBdEI7O0FBRUE7QUFDQSxTQUFLLFVBQUwsR0FBa0IsS0FBbEI7O0FBRUE7QUFDQSxTQUFLLHNCQUFMLEdBQThCLENBQzVCLEtBQUssVUFBTCxDQUFnQixnQkFBaEIsQ0FENEIsRUFFNUIsS0FBSyx5QkFBTCxFQUY0QixDQUE5Qjs7QUFLQTtBQUNBLFVBQU0sSUFBTjtBQUNBLFVBQU0sWUFBTjs7QUFFQSxTQUFLLGdCQUFMO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7QUFTQTs7Ozs7OzsrQkFPVyxnQixFQUFrQjtBQUFBOztBQUMzQixhQUFPLGlCQUFpQixPQUFqQixDQUNILEtBQUssUUFERixFQUVILGlEQUF5QixJQUZ0QixFQUdIO0FBQUEsZUFBTSxPQUFLLGlCQUFMLEVBQU47QUFBQSxPQUhHLENBQVA7QUFJRDs7QUFFRDs7Ozs7OztnREFJNEI7QUFBQTs7QUFDMUIsYUFBTyx5QkFBTyxLQUFLLFFBQVosRUFBc0IsNEJBQVksVUFBbEMsRUFBOEMsYUFBSztBQUN4RCxZQUFNLE9BQU8sMEJBQVEsQ0FBUixDQUFiO0FBQ0EsWUFBTSxrQkFBa0IsUUFBUSxLQUFLLFNBQUwsQ0FBaEM7QUFDQSxZQUFJLG1CQUFtQixDQUFDLE9BQUssVUFBN0IsRUFBeUM7QUFDdkMsaUJBQUssVUFBTCxHQUFrQixlQUFsQjtBQUNBLGlCQUFLLFFBQUwsRUFBYyxlQUFnQixlQUE5QjtBQUNBO0FBQ0Q7QUFDRCxlQUFLLG9CQUFMO0FBQ0QsT0FUTSxDQUFQO0FBVUQ7O0FBRUQ7Ozs7Ozs7K0JBSVc7QUFDVCxXQUFLLDJCQUFMO0FBQ0EsV0FBSyxLQUFMLENBQVcsS0FBWDtBQUNEOztBQUVEOzs7O3dDQUNvQjtBQUNsQixXQUFLLG9CQUFMO0FBQ0Q7O0FBRUQ7Ozs7MkNBQ3VCO0FBQ3JCLFVBQU0sUUFBUSxLQUFLLFFBQUwsQ0FBYywwQkFBZCxHQUEyQyxpQkFBekQ7QUFDQSxVQUFNLFlBQVksQ0FBQyxDQUFDLDJCQUFlLEtBQWYsQ0FBRCxHQUF5QixDQUF6QixHQUE2QixLQUE5QixzREFBbEI7QUFFQSxVQUFJLEtBQUssVUFBTCxJQUFtQixTQUF2QixFQUFrQztBQUNoQztBQUNEO0FBQ0QsV0FBSyxVQUFMLEdBQWtCLFNBQWxCO0FBQ0EsV0FBSyxRQUFMLEVBQWMsZUFBZ0IsU0FBOUI7QUFDRDs7QUFFRDs7Ozs7Ozs2QkFJUyxTLEVBQVc7QUFDbEIsV0FBSyxRQUFMLENBQWMsbUJBQWQsQ0FDSSxZQUFZLGVBQWUsSUFBM0IsR0FBa0MsZUFBZSxLQURyRDtBQUVEOztBQUVEOzs7O3VDQUNtQjtBQUFBOztBQUNqQjtBQURpQixVQUVWLEtBRlUsR0FFRCxJQUZDLENBRVYsS0FGVTs7QUFHakIsVUFBTSxVQUFVLE1BQU0sT0FBTixFQUFoQjtBQUNBLFVBQU0saUJBQWlCLDJDQUFvQixlQUEzQzs7QUFFQSxVQUFJLFFBQVEsR0FBUixDQUFZLGNBQVosS0FBK0IsSUFBbkMsRUFBeUM7QUFDdkM7QUFDRDs7QUFSZ0IsVUFVVixHQVZVLEdBVUgsS0FBSyxPQVZGLENBVVYsR0FWVTs7O0FBWWpCLFVBQU0sT0FBTyxrQkFBa0IsR0FBbEIsRUFBdUIsS0FBSyxRQUE1QixDQUFiOztBQUVBLFlBQU0sYUFBTixDQUFvQixZQUFNO0FBQ3hCLGVBQUssUUFBTCxDQUFjLFdBQWQsQ0FBMEIsSUFBMUI7QUFDRCxPQUZEOztBQWRpQixVQWtCVixPQWxCVSxHQWtCQyxLQWxCRCxDQWtCVixPQWxCVTs7QUFtQmpCLFVBQU0sc0JBQXNCLEtBQUssb0JBQUwsQ0FBMEIsSUFBMUIsQ0FBK0IsSUFBL0IsRUFBcUMsSUFBckMsQ0FBNUI7O0FBRUEsVUFBTSxjQUFjLENBQ2xCLHlCQUFPLE9BQVAsRUFBZ0IsNEJBQVksT0FBNUIsRUFBcUM7QUFBQSxlQUFNLG9CQUFvQixJQUFwQixDQUFOO0FBQUEsT0FBckMsQ0FEa0IsRUFFbEIseUJBQU8sT0FBUCxFQUFnQiw0QkFBWSxLQUE1QixFQUFtQztBQUFBLGVBQU0sb0JBQW9CLEtBQXBCLENBQU47QUFBQSxPQUFuQyxDQUZrQixDQUFwQjs7QUFLQSxjQUFRLFVBQVIsQ0FBbUIsY0FBbkIsRUFBbUMsSUFBbkMsQ0FBd0MsWUFBTTtBQUM1QyxvQkFBWSxPQUFaLENBQW9CO0FBQUEsaUJBQVksVUFBWjtBQUFBLFNBQXBCO0FBQ0EsZUFBSyxjQUFMO0FBQ0QsT0FIRDs7QUFLQSxVQUFJLENBQUMsS0FBSyxLQUFMLENBQVcsYUFBWCxFQUFMLEVBQWlDO0FBQy9CO0FBQ0Q7O0FBRUQsVUFBTSxVQUFVLGdDQUFnQyxHQUFoQyxFQUFxQyxLQUFLLFFBQTFDLENBQWhCOztBQUVBLG1DQUFXLE9BQVgsRUFBb0IsT0FBcEIsRUFBNkI7QUFBQSxlQUFNLFFBQVEsTUFBUixDQUFlLGNBQWYsQ0FBTjtBQUFBLE9BQTdCOztBQUVBLFlBQU0sYUFBTixDQUFvQixZQUFNO0FBQ3hCLGVBQUssUUFBTCxDQUFjLFdBQWQsQ0FBMEIsT0FBMUI7QUFDRCxPQUZEO0FBR0Q7O0FBRUQ7Ozs7cUNBQ2lCO0FBQ2YsVUFBTSxPQUFPLEtBQUssUUFBTCxDQUFjLGFBQWQsQ0FBNEIsc0JBQTVCLENBQWI7QUFDQSxXQUFLLDJCQUFMO0FBQ0EsVUFBSSxJQUFKLEVBQVU7QUFDUixnQ0FBYyxJQUFkO0FBQ0Q7QUFDRCxVQUFJLEtBQUssS0FBTCxDQUFXLGFBQVgsRUFBSixFQUFnQztBQUM5QixhQUFLLEtBQUwsQ0FBVyxZQUFYO0FBQ0Q7QUFDRCxXQUFLLEtBQUwsQ0FBVyxNQUFYO0FBQ0Q7O0FBRUQ7Ozs7a0RBQzhCO0FBQzVCLFVBQUksQ0FBQyxLQUFLLHNCQUFWLEVBQWtDO0FBQ2hDO0FBQ0Q7QUFDRCxXQUFLLHNCQUFMLENBQTRCLE9BQTVCLENBQW9DO0FBQUEsZUFBYyxZQUFkO0FBQUEsT0FBcEM7QUFDQSxXQUFLLHNCQUFMLEdBQThCLElBQTlCLENBTDRCLENBS1E7QUFDckM7O0FBRUQ7Ozs7Ozs7O3lDQUtxQixJLEVBQU0sUyxFQUFXO0FBQ3BDLFdBQUssS0FBTCxDQUFXLGFBQVgsQ0FBeUI7QUFBQSxlQUN2QixLQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLG1CQUF0QixFQUEyQyxTQUEzQyxDQUR1QjtBQUFBLE9BQXpCO0FBRUQ7OzsyQkFsSmEsTyxFQUFTLEssRUFBTztBQUM1QixhQUFPLElBQUksYUFBSixDQUNILFFBQVEsT0FETCxFQUNjLFFBQVEsb0JBQVIsRUFEZCxFQUM4QyxLQUQ5QyxDQUFQO0FBRUQ7Ozs7Ozs7Ozs7UUN0UGEsMkIsR0FBQSwyQjs7QUFSaEI7O0FBRUE7O0FBR0E7OztBQXJCQTs7Ozs7Ozs7Ozs7Ozs7OztBQXdCTyxTQUFTLDJCQUFULENBQXFDLE1BQXJDLEVBQTZDO0FBQ2xELDJDQUNJLE1BREo7QUFHSSxnQkFBZSxJQUhuQjtBQUlJLHdCQUF1QixLQUozQjtBQUtJLGVBQWMsb0JBTGxCO0FBTUQ7QUFkRDs7Ozs7Ozs7cWpCQ2pCQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7QUFTQTs7OztBQU9BO0FBQ08sSUFBSSwwREFBSjs7SUFFTSxRLFdBQUEsUTs7Ozs7Ozs7QUFDWDs7Ozs7QUFLQTs7Ozs7d0NBSzJCLGUsRUFBaUI7QUFDMUMsYUFBUSxnRkFDTiw2Q0FBd0IsZUFBeEIsRUFBeUMsUUFBekMsRUFBbUQsWUFBbkQ7QUFERjtBQUVEOztBQUVEOzs7Ozs7Ozs7OENBTWlDLGUsRUFBaUI7QUFDaEQsYUFBUSxnRkFDTix3REFBbUMsZUFBbkMsRUFBb0QsUUFBcEQsRUFDSSxZQURKO0FBREY7QUFHRDs7QUFFRDs7Ozs7Ozs7K0NBS2tDLGUsRUFBaUI7QUFDakQsYUFBUSw4Q0FDTiw2Q0FBd0IsZUFBeEIsRUFBeUMsZUFBekMsRUFDSSxtQkFESjtBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7O3FEQUt3QyxlLEVBQWlCO0FBQ3ZELGFBQVEsOENBQ04sd0RBQW1DLGVBQW5DLEVBQW9ELGVBQXBELEVBQ0ksbUJBREo7QUFERjtBQUdEOztBQUVEOzs7Ozs7Ozs7d0NBTTJCLFMsRUFBVztBQUNwQyxhQUFPLG9EQUNMLG1EQUNJLFNBREosRUFDZSxRQURmLEVBQ3lCLDBCQUEyQixJQURwRDtBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7bUNBSXNCLGUsRUFBaUI7QUFDckMsYUFBTyxtQ0FDTCw2Q0FBd0IsZUFBeEIsRUFBeUMsVUFBekMsRUFBcUQsZUFBckQ7QUFERjtBQUVEOztBQUVEOzs7Ozs7Ozs7O3FDQU93QixNLEVBQVE7QUFDOUIsYUFBTyxvREFDTCx5QkFBVyxNQUFYLEVBQW1CLFFBQW5CO0FBREY7QUFFRDs7QUFFRDs7Ozs7Ozs7MkJBS2MsZSxFQUFpQjtBQUM3QixhQUFPLHdCQUFVLGVBQVYsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OztvQ0FLdUIsZSxFQUF3QztBQUFBLFVBQXZCLGFBQXVCLHVFQUFQLEtBQU87O0FBQzdELFVBQUksYUFBSixFQUFtQjtBQUNqQjtBQUNBLFlBQU0sU0FBUyx3QkFBVSxlQUFWLENBQWY7QUFDQSxpQkFBUyxhQUFULENBQXVCLE9BQU8sR0FBOUIsR0FBbUMsTUFBTSxzQkFBekMsQ0FDSSxNQURKLEVBQ1ksZUFEWjtBQUVEO0FBQ0QsYUFBTyxpR0FDTCw2Q0FBd0IsZUFBeEIsRUFBeUMsK0JBQXpDLEVBQ0ksZUFESjtBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7MENBSTZCLGUsRUFBaUI7QUFDNUMsYUFBTyxpR0FDTCx3REFBbUMsZUFBbkMsRUFDSSwrQkFESixFQUNxQyxlQURyQztBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7a0NBSXFCLE0sRUFBUTtBQUMzQixhQUFPLHNEQUNMLHlCQUFXLE1BQVgsRUFBbUIsYUFBbkI7QUFERjtBQUVEOztBQUVEOzs7Ozs7O3FDQUl3QixlLEVBQWlCO0FBQ3ZDLGFBQU8sb0VBQ0wsb0VBQ0ksZUFESixFQUNxQixNQURyQixFQUM2QixVQUQ3QjtBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7OEJBSWlCLGUsRUFBaUI7QUFDaEMsYUFBTyxpREFDTCxzQ0FBd0IsZUFBeEIsRUFBeUMsS0FBekM7QUFERjtBQUVEOztBQUVEOzs7Ozs7O3FDQUl3QixlLEVBQWlCO0FBQ3ZDLGFBQU8sZ0RBQ0wsK0JBQWlCLGVBQWpCLEVBQWtDLFlBQWxDO0FBREY7QUFFRDs7QUFFRDs7Ozs7Ozs4QkFJaUIsTSxFQUFRO0FBQ3ZCLGFBQVEsNkNBQ04seUJBQVcsTUFBWCxFQUFtQixRQUFuQjtBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7dUNBSTBCLGUsRUFBaUI7QUFDekMsYUFBTyxxREFDTCwrQkFBaUIsZUFBakIsRUFBa0MsY0FBbEMsQ0FEMEQsQ0FDUCxHQURPO0FBQTVEO0FBRUQ7O0FBRUQ7Ozs7Ozs7cUNBSXdCLE0sRUFBUTtBQUM5QixhQUFPLHlCQUFXLE1BQVgsRUFBbUIsZUFBbkIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7O2tDQUlxQixNLEVBQVE7QUFDM0IsYUFBTyxxREFDTCx5QkFBVyxNQUFYLEVBQW1CLFlBQW5CO0FBREY7QUFFRDs7QUFFRDs7Ozs7Ozs7a0NBS3FCLGUsRUFBaUI7QUFDcEMsYUFBTywrQ0FDTCwrQkFBaUIsZUFBakIsRUFBa0MsU0FBbEM7QUFERjtBQUVEOztBQUVEOzs7Ozs7OzZCQUlnQixHLEVBQUs7QUFDbkIsYUFBTyx5QkFBVyxHQUFYLEVBQWdCLE9BQWhCLENBQVA7QUFDRDs7QUFFRDs7Ozs7OztpQ0FJb0IsZSxFQUFpQjtBQUNuQyxhQUFPLG1EQUNMLCtCQUFpQixlQUFqQixFQUFrQyxRQUFsQztBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7bUNBSXNCLE0sRUFBUTtBQUM1QixhQUFPLHNEQUNMLHlCQUFXLE1BQVgsRUFBbUIsYUFBbkI7QUFERjtBQUVEOztBQUVEOzs7Ozs7O3lDQUk0QixNLEVBQVE7QUFDbEMsYUFBTyxzREFDTCx1Q0FBeUIsTUFBekIsRUFBaUMsYUFBakM7QUFERjtBQUVEOztBQUVEOzs7Ozs7O2dDQUltQixNLEVBQVE7QUFDekIsYUFBTyxpREFDTCx5QkFBVyxNQUFYLEVBQW1CLFVBQW5CO0FBREY7QUFFRDs7QUFFRDs7Ozs7Ozs7b0NBS3VCLFMsRUFBVztBQUNoQyxhQUFPLG1EQUNMLHlDQUEyQixTQUEzQixFQUFzQyxXQUF0QztBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7MkNBSThCLEcsRUFBSztBQUNqQyxhQUFRLCtFQUNOLGtEQUE2QixHQUE3QixFQUFrQyxnQkFBbEMsRUFDSSxvQkFESixFQUMwQixJQUQxQjtBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7a0RBSXFDLEcsRUFBSztBQUN4QztBQUNBO0FBQ0csMERBQTZCLEdBQTdCLEVBQWtDLGdCQUFsQyxFQUFvRCxXQUFwRCxFQUNHLElBREg7QUFGSDtBQUlEOztBQUVEOzs7Ozs7Ozs7K0NBTWtDLEcsRUFBSztBQUNyQztBQUNBO0FBQ0csMERBQTZCLEdBQTdCLEVBQWtDLGFBQWxDLEVBQWlELFdBQWpEO0FBRkg7QUFHRDs7QUFFRDs7Ozs7OztzQ0FJeUIsRyxFQUFLO0FBQzVCLGFBQVE7QUFDTCwrQ0FBeUIsR0FBekIsRUFBOEIsYUFBOUI7QUFESDtBQUVEOztBQUVEOzs7Ozs7O3dDQUkyQixHLEVBQUs7QUFDOUIsYUFBUTtBQUNMLCtDQUF5QixHQUF6QixFQUE4QixlQUE5QjtBQURIO0FBRUQ7O0FBRUQ7Ozs7Ozs7aURBSW9DLEcsRUFBSztBQUN2QztBQUNBO0FBQ0csMERBQTZCLEdBQTdCLEVBQWtDLGNBQWxDLEVBQWtELFdBQWxELEVBQStELElBQS9EO0FBRkg7QUFHRDs7QUFFRDs7Ozs7Ozt3Q0FJMkIsRyxFQUFLO0FBQzlCLGFBQU8seUJBQVcsR0FBWCxFQUFnQixjQUFoQixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O3lDQUs0QixHLEVBQUs7QUFDL0IsYUFBTyx5QkFBVyxHQUFYLEVBQWdCLGFBQWhCLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7MkNBSzhCLEcsRUFBSztBQUNqQyxhQUFPLHlCQUFXLEdBQVgsRUFBZ0IsbUJBQWhCLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7b0RBS3VDLEcsRUFBSztBQUMxQztBQUNBO0FBQ0csMERBQTZCLEdBQTdCLEVBQWtDLGtCQUFsQyxFQUFzRCxXQUF0RCxFQUNHLElBREg7QUFGSDtBQUlEOztBQUVEOzs7Ozs7OzsyQ0FLOEIsRyxFQUFLO0FBQ2pDLGFBQU8seUJBQVcsR0FBWCxFQUFnQixrQkFBaEIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OzhEQUlpRCxHLEVBQUs7QUFDcEQ7QUFDQTtBQUNHLDBEQUE2QixHQUE3QixFQUFrQyw2QkFBbEMsRUFDRyx3QkFESCxFQUM2QixJQUQ3QjtBQUZIO0FBSUQ7O0FBRUQ7Ozs7Ozs7MkNBSThCLGUsRUFBaUI7QUFDN0MsYUFBUTtBQUNMLHFEQUNHLGVBREgsRUFDb0IsZUFEcEIsRUFDcUMsZUFEckM7QUFESDtBQUdEOztBQUVEOzs7Ozs7O2tDQUlxQixlLEVBQWlCO0FBQ3BDLGFBQU8seURBQ0wsc0NBQXdCLGVBQXhCLEVBQXlDLFNBQXpDO0FBREY7QUFFRDs7QUFFRDs7Ozs7OztpQ0FJb0IsTSxFQUFRO0FBQzFCLGFBQU8sa0RBQ0wseUJBQVcsTUFBWCxFQUFtQixXQUFuQjtBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7NkJBSWdCLE0sRUFBUTtBQUN0QixhQUFPLDJDQUNMLHlCQUFXLE1BQVgsRUFBbUIsT0FBbkI7QUFERjtBQUVEOztBQUVEOzs7Ozs7Ozs7MENBTTZCLFMsRUFBVztBQUN0QyxhQUFPLGdFQUNMLG1EQUNJLFNBREosRUFDZSxhQURmLEVBQzhCLDBCQUEyQixJQUR6RDtBQURGO0FBR0Q7O0FBRUQ7Ozs7Ozs7a0RBSXFDLGUsRUFBaUI7QUFDcEQsYUFBUTtBQUNMLHFEQUF3QixlQUF4QixFQUF5Qyx5QkFBekMsRUFDRyx1QkFESDtBQURIO0FBR0Q7O0FBRUQ7Ozs7Ozs7OztxREFNd0MsZSxFQUFpQjtBQUN2RCxhQUFRO0FBQ0wsZ0VBQW1DLGVBQW5DLEVBQ0csc0JBREgsRUFDMkIsYUFEM0I7QUFESDtBQUdEOztBQUVEOzs7Ozs7Ozs7b0NBTXVCLGUsRUFBaUI7QUFDdEMsYUFBTyxtRUFDTCx3REFDSSxlQURKLEVBQ3FCLEtBRHJCLEVBQzRCLFNBRDVCLEVBQ3VDLElBRHZDO0FBREY7QUFHRDs7QUFFRDs7Ozs7Ozs7OzhCQU1pQixTLEVBQVc7QUFDMUIsYUFBTyx1Q0FDTCxtREFDSSxTQURKLEVBQ2UsS0FEZixFQUNzQiwwQkFBMkIsSUFEakQ7QUFERjtBQUdEOztBQUVEOzs7Ozs7Ozs7cUNBTXdCLEcsRUFBSztBQUMzQixhQUFPLHlDQUNMLGtEQUE2QixHQUE3QixFQUFrQyxTQUFsQyxFQUE2QyxnQkFBN0MsRUFBK0QsSUFBL0Q7QUFERjtBQUVEOztBQUVEOzs7Ozs7O3VDQUkwQixlLEVBQWlCO0FBQ3pDO0FBQ0UsK0VBQ0UsK0JBQWlCLGVBQWpCLEVBQWtDLGVBQWxDO0FBRko7QUFHRDs7QUFFRDs7Ozs7Ozs7aUNBS29CLFMsRUFBVztBQUM3QixhQUFPLDZDQUNMLHlDQUEyQixTQUEzQixFQUFzQyxRQUF0QztBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7Ozs7d0NBTzJCLGUsRUFBaUI7QUFDMUMsYUFBTyx1REFDTCxzQ0FBd0IsZUFBeEIsRUFBeUMsUUFBekM7QUFERjtBQUVEOztBQUVEOzs7Ozs7OzZCQUlnQixNLEVBQVE7QUFDdEIsYUFBTywyQ0FDTCx5QkFBVyxNQUFYLEVBQW1CLE9BQW5CO0FBREY7QUFFRDs7QUFFRDs7Ozs7Ozs7bUNBS3NCLFMsRUFBVztBQUMvQixhQUFPLDBEQUNMLHlDQUEyQixTQUEzQixFQUFzQyxVQUF0QztBQURGO0FBRUQ7O0FBRUQ7Ozs7Ozs7MkJBSWMsTSxFQUFRO0FBQ3BCLGFBQU8sdUNBQXdDLHlCQUFXLE1BQVgsRUFBbUIsS0FBbkI7QUFBL0M7QUFDRDs7Ozs7Ozs7Ozs7O3FqQkM1akJIOzs7Ozs7Ozs7Ozs7Ozs7O1FBNERnQixnQixHQUFBLGdCO1FBc0dBLFksR0FBQSxZO1FBbUJBLGlCLEdBQUEsaUI7UUFnQkEsZ0IsR0FBQSxnQjtRQWdDQSxrQixHQUFBLGtCO1FBZ0JBLGMsR0FBQSxjO1FBeUZBLHdDLEdBQUEsd0M7UUFVQSw2QixHQUFBLDZCO1FBaUNBLHFCLEdBQUEscUI7O0FBeldoQjs7QUFDQTs7QUFDQTs7QUFNQTs7QUFPQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBOzs7O0FBSUEsSUFBTSxvQkFBb0IsRUFBQyxVQUFVLEtBQVgsRUFBMUI7O0FBRUE7QUFDQSxJQUFNLHlCQUF5QixvQkFBL0I7O0FBRUE7QUFDQSxJQUFNLHlCQUF5QixrQkFBL0I7O0FBRUE7OztBQUdBLElBQUksb0NBQUo7O0FBR0E7Ozs7OztBQU1PLFNBQVMsZ0JBQVQsQ0FBMEIsV0FBMUIsRUFBdUM7QUFDNUMsTUFBTSxNQUFNLGtCQUFNLFlBQVksYUFBWixDQUEwQixXQUFoQyxDQUFaOztBQUVBLE1BQU0sZUFBZSxZQUFZLFVBQVosSUFBMEIsWUFBWSxpQkFBM0Q7QUFDQSxNQUFJLFlBQUosRUFBa0I7QUFDaEIsa0JBQWEsTUFBTSxTQUFuQixHQUErQixFQUEvQjtBQUNBLFdBQU8sWUFBUDtBQUNEOztBQUVELE1BQUksbUJBQUo7QUFDQSxNQUFNLHFCQUFxQixrREFBM0I7QUFDQSxNQUFJLHNCQUFzQixnQ0FBaUIsRUFBM0MsRUFBK0M7QUFDN0MsaUJBQWEsWUFBWSxZQUFaLENBQXlCLEVBQUMsTUFBTSxNQUFQLEVBQXpCLENBQWI7QUFDQSxRQUFJLENBQUMsV0FBVyxXQUFoQixFQUE2QjtBQUMzQixhQUFPLGNBQVAsQ0FBc0IsVUFBdEIsRUFBa0MsYUFBbEMsRUFBaUQ7QUFDL0MsYUFBSyxlQUFXO0FBQ2QsY0FBTSxRQUFRLEVBQWQ7QUFDQSxrQ0FBYyxXQUFXLFVBQXpCLEVBQXFDLGlCQUFTO0FBQzVDLGdCQUFJLE1BQU0sT0FBTixLQUFrQixPQUF0QixFQUErQjtBQUM3QixvQkFBTSxJQUFOLENBQVcsTUFBTSxLQUFqQjtBQUNEO0FBQ0YsV0FKRDtBQUtBLGlCQUFPLEtBQVA7QUFDRDtBQVQ4QyxPQUFqRDtBQVdEO0FBQ0YsR0FmRCxNQWVPLElBQUksc0JBQXNCLGdDQUFpQixFQUEzQyxFQUErQztBQUNwRCxpQkFBYSxZQUFZLGdCQUFaLEVBQWI7QUFDRCxHQUZNLE1BRUE7QUFDTCxpQkFBYSx5QkFBeUIsV0FBekIsQ0FBYjtBQUNEOztBQUVELE1BQUksQ0FBQywwQ0FBTCxFQUE2QjtBQUMzQixRQUFNLDJCQUF5QixJQUFJLElBQUosQ0FBUyxLQUFULENBQWUsSUFBSSxJQUFKLENBQVMsTUFBVCxLQUFvQixLQUFuQyxDQUEvQjtBQUNBLGVBQVcsRUFBWCxHQUFnQixNQUFoQjtBQUNBLGVBQVcsSUFBWCxDQUFnQixTQUFoQixDQUEwQixHQUExQixDQUE4QixNQUE5Qjs7QUFFQTtBQUNBLCtDQUFzQixVQUF0QixFQUFrQyxlQUFPO0FBQ3ZDLGFBQU8sbUJBQW1CLFVBQW5CLEVBQStCLEdBQS9CLENBQVA7QUFDRCxLQUZEO0FBR0Q7O0FBRUQsU0FBTyxVQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS0EsU0FBUyx3QkFBVCxDQUFrQyxXQUFsQyxFQUErQztBQUM3QyxNQUFNLE1BQU0sWUFBWSxhQUF4Qjs7QUFFQTtBQUNBLGNBQVksU0FBWixDQUFzQixHQUF0QixDQUEwQixnQ0FBMUI7QUFDQSxNQUFNLFlBQVksSUFBSSxhQUFKLENBQWtCLE9BQWxCLENBQWxCO0FBQ0EsWUFBVSxXQUFWLEdBQ0ksZ0VBQ0UsMEJBRk47QUFHQSxjQUFZLFdBQVosQ0FBd0IsU0FBeEI7O0FBRUE7QUFDQSxNQUFNLGFBQWE7QUFDakI7QUFDQTtBQUNBLG1CQUFtQixJQUFJLGFBQUosQ0FBa0IsdUJBQWxCLENBSHJCO0FBSUEsY0FBWSxXQUFaLENBQXdCLFVBQXhCO0FBQ0EsY0FBWSxVQUFaLEdBQXlCLFlBQVksaUJBQVosR0FBZ0MsVUFBekQ7O0FBRUE7O0FBRUEsYUFBVyxJQUFYLEdBQWtCLFdBQWxCOztBQUVBO0FBQ0EsYUFBVyxjQUFYLEdBQTRCLFVBQVMsRUFBVCxFQUFhO0FBQ3ZDLFFBQU0sWUFBWSxpQ0FBdUIsRUFBdkIsQ0FBbEI7QUFDQSxXQUFPLGdDQUNMLFlBQVcsTUFBTSxhQUFqQixPQUFtQyxTQUFuQztBQURGO0FBRUQsR0FKRDs7QUFNQTtBQUNBLFNBQU8sY0FBUCxDQUFzQixVQUF0QixFQUFrQyxhQUFsQyxFQUFpRDtBQUMvQyxTQUFLLGVBQU07QUFDVCxVQUFJLENBQUMsSUFBSSxXQUFULEVBQXNCO0FBQ3BCLGVBQU8sRUFBUDtBQUNEO0FBQ0QsYUFBTyxvQkFBUSxJQUFJLFdBQVosRUFBeUIsTUFBekIsQ0FDSDtBQUFBLGVBQWMsV0FBVyxRQUFYLENBQW9CLFdBQVcsU0FBL0IsQ0FBZDtBQUFBLE9BREcsQ0FBUDtBQUVEO0FBUDhDLEdBQWpEOztBQVVBLFNBQU8sVUFBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMsWUFBVCxDQUFzQixLQUF0QixFQUE2QjtBQUNsQyxNQUFJLENBQUMsS0FBTCxFQUFZO0FBQ1YsV0FBTyxLQUFQO0FBQ0Q7QUFDRDtBQUNBO0FBQ0EsTUFBSSxNQUFNLE9BQU4sSUFBaUIsdUJBQXJCLEVBQThDO0FBQzVDLFdBQU8sSUFBUDtBQUNEO0FBQ0QsU0FBUSxNQUFNLFFBQU4sSUFBa0IsdUJBQXdCLEVBQTFDLElBQ0osT0FBTyxTQUFQLENBQWlCLFFBQWpCLENBQTBCLElBQTFCLENBQStCLEtBQS9CLE1BQTBDLHFCQUQ5QztBQUVEOztBQUdEOzs7OztBQUtPLFNBQVMsaUJBQVQsQ0FBMkIsSUFBM0IsRUFBaUM7QUFDdEMsTUFBSSw4Q0FBMEIsS0FBSyxTQUFMLENBQWUsV0FBN0MsRUFBMEQ7QUFDeEQsV0FBTywyQkFBNEIsS0FBSyxXQUFMLENBQWlCLGlCQUFqQjtBQUFuQztBQUNEO0FBQ0Q7QUFDQSxTQUFPLDJCQUE0QixzQkFBWSxJQUFaLEVBQWtCO0FBQUEsYUFBSyxhQUFhLENBQWIsQ0FBTDtBQUFBLEtBQWxCO0FBQW5DO0FBQ0Q7O0FBR0Q7Ozs7Ozs7QUFPTyxTQUFTLGdCQUFULENBQTBCLFVBQTFCLEVBQXNDLElBQXRDLEVBQTRDLElBQTVDLEVBQWtEO0FBQ3ZELE1BQU0sTUFBTSxXQUFXLGFBQXZCO0FBQ0EsTUFBSSxtQkFBSjtBQUNBLE1BQUksMENBQUosRUFBNEI7QUFDMUIsaUJBQWEsZ0JBQU0sYUFBTixDQUFvQixJQUFJLFVBQUosQ0FBZSxJQUFmLEVBQXFCLElBQXJCLENBQXBCLENBQWI7QUFDRCxHQUZELE1BRU87QUFDTCxpQkFBYSxJQUFJLGFBQUosQ0FBa0IsVUFBbEIsQ0FBYjtBQUNBLHlCQUFTLFVBQVQsRUFBcUIsU0FBckIsRUFBZ0MsT0FBaEM7QUFDQSxTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxVQUFMLENBQWdCLE1BQXBDLEVBQTRDLEdBQTVDLEVBQWlEO0FBQy9DLGlCQUFXLFlBQVgsQ0FDSSxLQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsRUFBbUIsSUFEdkIsRUFDNkIsS0FBSyxVQUFMLENBQWdCLENBQWhCLEVBQW1CLEtBRGhEO0FBRUQ7QUFDRCxRQUFJLElBQUosRUFBVTtBQUNSLFdBQUssSUFBSSxJQUFJLEtBQUssVUFBbEIsRUFBOEIsQ0FBQyxDQUFDLENBQWhDLEVBQW1DLElBQUksRUFBRSxXQUF6QyxFQUFzRDtBQUNwRCxtQkFBVyxXQUFYLENBQXVCLElBQUksVUFBSixDQUFlLENBQWYsRUFBa0IsSUFBbEIsQ0FBdkI7QUFDRDtBQUNGO0FBQ0Y7QUFDRCx1QkFBUyxVQUFULEVBQXFCLFVBQXJCLEVBQWlDLFVBQWpDO0FBQ0EsYUFBVyxXQUFYLENBQXVCLFVBQXZCO0FBQ0EsU0FBTyxjQUFQLENBQXNCLFVBQXRCLEVBQWtDLE1BQWxDLEVBQTBDLEVBQUMsT0FBTyxVQUFSLEVBQTFDO0FBQ0EsU0FBTyxVQUFQO0FBQ0Q7O0FBR0Q7Ozs7Ozs7QUFPTyxTQUFTLGtCQUFULENBQTRCLFVBQTVCLEVBQXdDLEdBQXhDLEVBQTZDO0FBQ2xELFNBQU8sZUFBZSxVQUFmLEVBQTJCLEdBQTNCLENBQVA7QUFDRDs7QUFHRDs7Ozs7Ozs7Ozs7QUFXTyxTQUFTLGNBQVQsQ0FBd0IsVUFBeEIsRUFBb0MsR0FBcEMsRUFBeUM7QUFDOUMsTUFBTSxLQUFLLGdCQUFNLE1BQU4sQ0FBYSxXQUFXLEVBQXhCLENBQVg7QUFDQSxNQUFNLE1BQU0sV0FBVyxhQUF2QjtBQUNBLE1BQUksUUFBUSxJQUFaO0FBQ0E7QUFDQSxNQUFJO0FBQ0YsWUFBUSxtQkFBbUIsSUFBSSxjQUFKLENBQW1CLGtCQUFuQixDQUFzQyxFQUF0QyxDQUFuQixFQUE4RCxHQUE5RCxDQUFSO0FBQ0QsR0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVLENBRVg7QUFEQzs7QUFFRjtBQUNBLE1BQUksQ0FBQyxLQUFMLEVBQVk7QUFDVixRQUFJO0FBQ0YsY0FBUSxtQkFBbUIsR0FBbkIsRUFBd0IsR0FBeEIsQ0FBUjtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWO0FBQ0Q7QUFDRjs7QUFFRDtBQUNBLE1BQUksQ0FBQyxLQUFMLEVBQVk7QUFDVixXQUFPLEdBQVA7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUExQjhDLE1BMkJ2QyxVQTNCdUMsd0JBMkJ2QyxVQTNCdUM7O0FBNEI5QyxTQUFPLFdBQVcsSUFBWCx1QkFBMkIsS0FBM0IsUUFBc0MsRUFBdEMsRUFBNEMsc0JBQTVDLENBQVA7QUFDRDs7QUFHRDs7Ozs7O0FBTUEsU0FBUyxzQkFBVCxDQUFnQyxRQUFoQyxFQUEwQztBQUN4QyxTQUFPLFNBQVMsT0FBVCxDQUFpQixjQUFqQixFQUFpQyxvQkFBakMsQ0FBUDtBQUNEOztBQUdEOzs7Ozs7Ozs7QUFTQSxTQUFTLG9CQUFULENBQThCLEtBQTlCLEVBQXFDLElBQXJDLEVBQTJDLEdBQTNDLEVBQWdELFFBQWhELEVBQTBEO0FBQ3hELE1BQU0sT0FBTyxTQUFTLE1BQVQsQ0FBZ0IsTUFBTSxDQUF0QixDQUFiO0FBQ0EsTUFBTSxPQUFPLFNBQVMsTUFBVCxDQUFnQixNQUFNLE1BQU0sTUFBNUIsQ0FBYjtBQUNBLE1BQUksQ0FBQyxDQUFDLElBQUQsSUFBUyx1QkFBdUIsSUFBdkIsQ0FBNEIsSUFBNUIsQ0FBVixNQUNDLENBQUMsSUFBRCxJQUFTLHVCQUF1QixJQUF2QixDQUE0QixJQUE1QixDQURWLENBQUosRUFDa0Q7QUFDaEQsV0FBTyxTQUFTLEtBQWhCO0FBQ0Q7QUFDRCxTQUFPLEtBQVA7QUFDRDs7QUFHRDs7Ozs7QUFLQSxTQUFTLGtCQUFULENBQTRCLEdBQTVCLEVBQWlDLEdBQWpDLEVBQXNDO0FBQ3BDLE1BQU0sUUFBUSxJQUFJLGFBQUosQ0FBa0IsT0FBbEIsQ0FBZDtBQUNBLFNBQU0sTUFBTSxXQUFaLEdBQTBCLEdBQTFCO0FBQ0EsTUFBSTtBQUNGLEtBQUMsSUFBSSxJQUFKLElBQVksSUFBSSxlQUFqQixFQUFrQyxXQUFsQyxDQUE4QyxLQUE5QztBQUNBLFFBQUksTUFBTSxLQUFWLEVBQWlCO0FBQ2YsYUFBTyxNQUFNLEtBQU4sQ0FBWSxRQUFuQjtBQUNEO0FBQ0QsV0FBTyxJQUFQO0FBQ0QsR0FORCxTQU1VO0FBQ1IsUUFBSSxNQUFNLFVBQVYsRUFBc0I7QUFDcEIsWUFBTSxVQUFOLENBQWlCLFdBQWpCLENBQTZCLEtBQTdCO0FBQ0Q7QUFDRjtBQUNGOztBQUdEOzs7O0FBSU8sU0FBUyx3Q0FBVCxDQUFrRCxHQUFsRCxFQUF1RDtBQUM1RCxnQ0FBOEIsR0FBOUI7QUFDRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLDZCQUFULENBQXVDLEdBQXZDLEVBQTRDO0FBQ2pELE1BQUksZ0NBQWdDLFNBQXBDLEVBQStDO0FBQzdDLGtDQUE4QixnQ0FBZ0MsR0FBaEMsQ0FBOUI7QUFDRDtBQUNELFNBQU8sMkJBQVA7QUFDRDs7QUFHRDs7OztBQUlBLFNBQVMsK0JBQVQsQ0FBeUMsR0FBekMsRUFBOEM7QUFDNUM7QUFDQSxNQUFJLENBQUMsSUFBSSxRQUFKLENBQWEsY0FBZCxJQUNBLE9BQU8sSUFBSSxRQUFKLENBQWEsY0FBYixDQUE0QixrQkFBbkMsSUFBeUQsVUFEN0QsRUFDeUU7QUFDdkUsV0FBTyxLQUFQO0FBQ0Q7QUFDRDtBQUNBO0FBQ0EsTUFBSSxtQkFBUyxXQUFULENBQXFCLEdBQXJCLEVBQTBCLFNBQTFCLEVBQUosRUFBMkM7QUFDekMsV0FBTyxLQUFQO0FBQ0Q7QUFDRDtBQUNBLFNBQU8sSUFBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMscUJBQVQsQ0FBK0IsR0FBL0IsRUFBb0M7QUFDekMsTUFBSSw4QkFBOEIsR0FBOUIsQ0FBSixFQUF3QztBQUN0QyxXQUFPLElBQUksdUJBQUosQ0FBNEIsR0FBNUIsQ0FBUDtBQUNEO0FBQ0QsU0FBTyxJQUFJLG1CQUFKLENBQXdCLEdBQXhCLENBQVA7QUFDRDs7QUFHRDs7Ozs7Ozs7Ozs7O0lBV2EsZSxXQUFBLGU7Ozs7Ozs7OztBQUVYOzs7Ozs7Ozs7OzsyQkFXTyxjLEVBQWdCLENBQUU7O0FBRXpCOzs7Ozs7OztnQ0FLWSxjLEVBQWdCLENBQUU7O0FBRTlCOzs7Ozs7OzswQkFLTSxjLEVBQWdCLENBQUU7Ozs7OztBQUkxQjs7Ozs7Ozs7Ozs7O0lBVWEsdUIsV0FBQSx1QjtBQUNYOzs7QUFHQSxtQ0FBWSxHQUFaLEVBQWlCO0FBQUE7O0FBQ2Y7QUFDQSxTQUFLLE9BQUwsR0FBZSxJQUFJLFFBQUosQ0FBYSxjQUFiLENBQTRCLGtCQUE1QixDQUErQyxFQUEvQyxDQUFmO0FBQ0EsU0FBSyxPQUFMLENBQWEsSUFBYjs7QUFFQTtBQUNBLFNBQUssTUFBTCxHQUFjLG1CQUFTLFFBQVQsQ0FBa0IsR0FBbEIsQ0FBZDs7QUFFQTtBQUNBLFNBQUssV0FBTCxHQUFtQixLQUFLLE1BQUwsQ0FBWSxJQUFaLENBQWlCLElBQWpCLENBQW5COztBQUVBO0FBQ0EsU0FBSyxPQUFMLEdBQWUsSUFBZjs7QUFFQTtBQUNBLFNBQUssWUFBTCxHQUFvQixJQUFwQjs7QUFFQTtBQUNBLFNBQUssTUFBTCxHQUFjLElBQWQ7O0FBRUE7QUFDQSxTQUFLLGVBQUwsR0FBdUIsS0FBdkI7O0FBRUE7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsUUFBUSxPQUFSLEVBQWhCOztBQUVBO0FBQ0EsU0FBSyxJQUFMLEdBQVksS0FBWjs7QUFFQTtBQUNBLFNBQUssV0FBTCxHQUFtQixJQUFuQjtBQUNEOztBQUVEOzs7OzsyQkFDTyxRLEVBQVU7QUFDZixXQUFLLE9BQUwsR0FBZSxRQUFmO0FBQ0Q7O0FBRUQ7Ozs7Z0NBQ1ksUSxFQUFVO0FBQ3BCLFdBQUssWUFBTCxHQUFvQixRQUFwQjtBQUNEOztBQUVEOzs7OzBCQUNNLFEsRUFBVTtBQUNkLFdBQUssTUFBTCxHQUFjLFFBQWQ7QUFDRDs7QUFFRDs7OzswQkFDTSxLLEVBQU87QUFDWCxVQUFJLEtBQUssSUFBVCxFQUFlO0FBQ2IsY0FBTSxJQUFJLEtBQUosQ0FBVSxnQkFBVixDQUFOO0FBQ0Q7QUFDRCxVQUFJLEtBQUosRUFBVztBQUNULGFBQUssT0FBTCxDQUFhLEtBQWIsRUFBbUIscUJBQXVCLEtBQTFDO0FBQ0Q7QUFDRCxXQUFLLFNBQUw7QUFDQSxhQUFPLEtBQUssUUFBWjtBQUNEOztBQUVEOzs7OzRCQUNRO0FBQ04sV0FBSyxPQUFMLENBQWEsS0FBYjtBQUNBLFdBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxXQUFLLFNBQUw7QUFDQSxhQUFPLEtBQUssUUFBWjtBQUNEOztBQUVEOzs7OzBCQUNNLFksRUFBYztBQUNsQixZQUFNLElBQUksS0FBSixDQUFVLGlCQUFWLENBQU47QUFDRDs7QUFFRDs7OztrQ0FDYztBQUNaLFlBQU0sSUFBSSxLQUFKLENBQVUsaUJBQVYsQ0FBTjtBQUNEOztBQUVEOzs7Ozs7QUFlQTtnQ0FDWTtBQUNWLHNCQUFNLE1BQU4sQ0FBYSxLQUFLLE9BQUwsSUFBZ0IsS0FBSyxZQUFyQixJQUFxQyxLQUFLLE1BQXZEO0FBQ0EsVUFBSSxDQUFDLEtBQUssZUFBVixFQUEyQjtBQUN6QixhQUFLLGVBQUwsR0FBdUIsSUFBdkI7QUFDQSxhQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLEtBQUssV0FBeEI7QUFDRDtBQUNGOztBQUVEOzs7OzZCQUNTO0FBQ1AsV0FBSyxlQUFMLEdBQXVCLEtBQXZCOztBQUVBO0FBQ0EsVUFBSSxDQUFDLEtBQUssV0FBTixJQUFxQixLQUFLLE9BQUwsQ0FBYSxJQUF0QyxFQUE0QztBQUMxQyxhQUFLLFdBQUwsR0FBbUIsS0FBSyxPQUFMLENBQWEsS0FBSyxPQUFsQixDQUFuQjtBQUNEOztBQUVEO0FBQ0EsVUFBSSxLQUFLLFdBQVQsRUFBc0I7QUFDcEIsWUFBTSxZQUFZLHFCQUFzQixnQkFBTSxNQUFOLENBQWEsS0FBSyxPQUFMLENBQWEsSUFBMUIsQ0FBeEM7QUFDQSxZQUFNLGFBQWEsZ0JBQU0sTUFBTixDQUFhLEtBQUssV0FBbEIsQ0FBbkI7QUFDQSxZQUFJLGdCQUFnQixDQUFwQjtBQUNBLCtCQUF1QixTQUF2QjtBQUNBLGVBQU8sVUFBVSxVQUFqQixFQUE2QjtBQUMzQjtBQUNBLHFCQUFXLFdBQVgsQ0FBdUIsVUFBVSxVQUFqQztBQUNEO0FBQ0QsWUFBSSxnQkFBZ0IsQ0FBcEIsRUFBdUI7QUFDckIsZUFBSyxZQUFMO0FBQ0Q7QUFDRjs7QUFFRDtBQUNBLFVBQUksS0FBSyxJQUFULEVBQWU7QUFDYixhQUFLLE1BQUw7QUFDRDtBQUNGOzs7d0JBbkRZO0FBQ1gsWUFBTSxJQUFJLEtBQUosQ0FBVSxpQkFBVixDQUFOO0FBQ0Q7O0FBRUQ7Ozs7d0JBQ2tCO0FBQ2hCLFlBQU0sSUFBSSxLQUFKLENBQVUsaUJBQVYsQ0FBTjtBQUNEOztBQUVEOzs7O3dCQUNZO0FBQ1YsWUFBTSxJQUFJLEtBQUosQ0FBVSxpQkFBVixDQUFOO0FBQ0Q7Ozs7OztBQTJDSDs7Ozs7Ozs7Ozs7OztJQVdhLG1CLFdBQUEsbUI7QUFDWDs7O0FBR0EsK0JBQVksR0FBWixFQUFpQjtBQUFBOztBQUNmO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLEVBQWpCOztBQUVBO0FBQ0EsU0FBSyxNQUFMLEdBQWMsbUJBQVMsUUFBVCxDQUFrQixHQUFsQixDQUFkOztBQUVBO0FBQ0EsU0FBSyxPQUFMLEdBQWUsSUFBZjs7QUFFQTtBQUNBLFNBQUssWUFBTCxHQUFvQixJQUFwQjs7QUFFQTtBQUNBLFNBQUssTUFBTCxHQUFjLElBQWQ7O0FBRUE7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsUUFBUSxPQUFSLEVBQWhCOztBQUVBO0FBQ0EsU0FBSyxJQUFMLEdBQVksS0FBWjtBQUNEOztBQUVEOzs7OzsyQkFDTyxRLEVBQVU7QUFDZixXQUFLLE9BQUwsR0FBZSxRQUFmO0FBQ0Q7O0FBRUQ7Ozs7Z0NBQ1ksUSxFQUFVO0FBQ3BCLFdBQUssWUFBTCxHQUFvQixRQUFwQjtBQUNEOztBQUVEOzs7OzBCQUNNLFEsRUFBVTtBQUNkLFdBQUssTUFBTCxHQUFjLFFBQWQ7QUFDRDs7QUFFRDs7OzswQkFDTSxLLEVBQU87QUFDWCxzQkFBTSxNQUFOLENBQWEsS0FBSyxPQUFMLElBQWdCLEtBQUssWUFBckIsSUFBcUMsS0FBSyxNQUF2RDtBQUNBLFVBQUksS0FBSyxJQUFULEVBQWU7QUFDYixjQUFNLElBQUksS0FBSixDQUFVLGdCQUFWLENBQU47QUFDRDtBQUNELFVBQUksS0FBSixFQUFXO0FBQ1QsYUFBSyxTQUFMLENBQWUsSUFBZixDQUFvQixnQkFBTSxZQUFOLENBQW1CLEtBQW5CLENBQXBCO0FBQ0Q7QUFDRCxhQUFPLEtBQUssUUFBWjtBQUNEOztBQUVEOzs7OzRCQUNRO0FBQUE7O0FBQ04sc0JBQU0sTUFBTixDQUFhLEtBQUssT0FBTCxJQUFnQixLQUFLLFlBQXJCLElBQXFDLEtBQUssTUFBdkQ7QUFDQSxXQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsV0FBSyxNQUFMLENBQVksTUFBWixDQUFtQjtBQUFBLGVBQU0sTUFBSyxTQUFMLEVBQU47QUFBQSxPQUFuQjtBQUNBLGFBQU8sS0FBSyxRQUFaO0FBQ0Q7O0FBRUQ7Ozs7MEJBQ00sWSxFQUFjO0FBQ2xCLFlBQU0sSUFBSSxLQUFKLENBQVUsaUJBQVYsQ0FBTjtBQUNEOztBQUVEOzs7O2tDQUNjO0FBQ1osWUFBTSxJQUFJLEtBQUosQ0FBVSxpQkFBVixDQUFOO0FBQ0Q7O0FBRUQ7Ozs7OztBQWVBO2dDQUNZO0FBQ1YsVUFBTSxXQUFXLEtBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsRUFBcEIsQ0FBakI7QUFDQSxVQUFNLE1BQU0sSUFBSSxTQUFKLEdBQWdCLGVBQWhCLENBQWdDLFFBQWhDLEVBQTBDLFdBQTFDLENBQVo7O0FBRUE7QUFDQSxVQUFJLElBQUksSUFBUixFQUFjO0FBQ1osWUFBTSxZQUFZLElBQUksSUFBdEI7QUFDQSxZQUFNLGFBQWEsS0FBSyxPQUFMLENBQWEsR0FBYixDQUFuQjtBQUNBLFlBQUksZ0JBQWdCLENBQXBCO0FBQ0EsK0JBQXVCLFNBQXZCO0FBQ0EsZUFBTyxVQUFVLFVBQWpCLEVBQTZCO0FBQzNCO0FBQ0EscUJBQVcsV0FBWCxDQUF1QixVQUFVLFVBQWpDO0FBQ0Q7QUFDRCxZQUFJLGdCQUFnQixDQUFwQixFQUF1QjtBQUNyQixlQUFLLFlBQUw7QUFDRDtBQUNGOztBQUVEO0FBQ0EsV0FBSyxNQUFMO0FBQ0Q7Ozt3QkFwQ1k7QUFDWCxZQUFNLElBQUksS0FBSixDQUFVLGlCQUFWLENBQU47QUFDRDs7QUFFRDs7Ozt3QkFDa0I7QUFDaEIsWUFBTSxJQUFJLEtBQUosQ0FBVSxpQkFBVixDQUFOO0FBQ0Q7O0FBRUQ7Ozs7d0JBQ1k7QUFDVixZQUFNLElBQUksS0FBSixDQUFVLGlCQUFWLENBQU47QUFDRDs7Ozs7O0FBMkJIOzs7Ozs7Ozs7Ozs7O0FBV0EsU0FBUyxzQkFBVCxDQUFnQyxNQUFoQyxFQUF3QztBQUN0QyxNQUFNLG1CQUFtQiw2QkFBbUIsTUFBbkIsRUFBMkIsVUFBM0IsQ0FBekI7QUFDQSwwQkFBYyxnQkFBZCxFQUFnQyxtQkFBVztBQUN6Qyw0QkFBYyxPQUFkO0FBQ0QsR0FGRDtBQUdEOzs7Ozs7UUMvcUJlLE8sR0FBQSxPO1FBNkNBLFEsR0FBQSxROztBQXhEaEI7O0FBQ0E7O0FBakJBOzs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBLElBQUksa0JBQUo7O0FBRUE7Ozs7OztBQU1PLFNBQVMsT0FBVCxDQUFpQixTQUFqQixFQUE0QjtBQUNqQyxNQUFNLE1BQU0sVUFBVSxhQUFWLElBQTJCLFNBQXZDO0FBQ0EsTUFBSSxDQUFDLFNBQUQsSUFBYyxVQUFVLGFBQVYsS0FBNEIsR0FBOUMsRUFBbUQ7QUFDakQsZ0JBQVksSUFBSSxhQUFKLENBQWtCLEtBQWxCLENBQVo7QUFDRDs7QUFFRCxTQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7QUFjQSxTQUFTLElBQVQsQ0FBYyxPQUFkLEVBQXVCO0FBQ3JCLGtCQUFNLE1BQU4sQ0FBYSxRQUFRLE1BQVIsS0FBbUIsQ0FBaEMsRUFBbUMsbUNBQW5DO0FBQ0EsYUFBVSxNQUFNLFNBQWhCLEdBQTRCLFFBQVEsQ0FBUixDQUE1Qjs7QUFFQSxNQUFNLEtBQUssVUFBVSxpQkFBckI7QUFDQSxrQkFBTSxNQUFOLENBQWEsRUFBYixFQUFpQix5QkFBakI7QUFDQSxrQkFBTSxNQUFOLENBQWEsQ0FBQyxHQUFHLGtCQUFqQixFQUFxQyxvQ0FBckM7O0FBRUE7QUFDQSxhQUFVLE1BQU0sU0FBaEIsR0FBNEIsRUFBNUI7O0FBRUEsU0FBTyxFQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O0FBUU8sU0FBUyxRQUFULENBQWtCLElBQWxCLEVBQXdCO0FBQzdCLE1BQU0sV0FBVyxLQUFLLGdCQUFMLENBQXNCLE9BQXRCLENBQWpCO0FBQ0EsTUFBTSxPQUFPLGtCQUFiOztBQUVBLE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxTQUFTLE1BQTdCLEVBQXFDLEdBQXJDLEVBQTBDO0FBQ3hDLFFBQU0sVUFBVSxTQUFTLENBQVQsQ0FBaEI7QUFDQSxRQUFNLE1BQU0sZ0JBQU0sTUFBTixDQUFhLFFBQVEsWUFBUixDQUFxQixLQUFyQixDQUFiLEVBQTBDLGdCQUExQyxDQUFaO0FBQ0EsWUFBUSxlQUFSLENBQXdCLEtBQXhCO0FBQ0Esb0JBQU0sTUFBTixDQUFhLEtBQUssR0FBTCxNQUFjLFNBQTNCLEVBQXNDLGVBQXRDO0FBQ0EsU0FBSyxHQUFMLElBQVksT0FBWjtBQUNEOztBQUVELFNBQU8sSUFBUDtBQUNEOzs7Ozs7UUMvQ2UsZSxHQUFBLGU7UUFVQSxlLEdBQUEsZTtRQVFBLGUsR0FBQSxlO1FBVUEsUSxHQUFBLFE7UUFXQSxVLEdBQUEsVTtRQXFCQSxjLEdBQUEsYztRQXNCQSxZLEdBQUEsWTtBQXhIaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7O0FBS0EsU0FBUyxXQUFULENBQXFCLE1BQXJCLEVBQTZCLFNBQTdCLEVBQXdDO0FBQ3RDLFNBQU8sVUFBVSxXQUFWLEVBQVA7QUFDRDs7QUFFRDs7OztBQUlBLFNBQVMseUJBQVQsQ0FBbUMsS0FBbkMsRUFBMEM7QUFDeEMsU0FBTyxNQUFNLE1BQU0sV0FBTixFQUFiO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxlQUFULENBQXlCLElBQXpCLEVBQStCO0FBQ3BDLFNBQU8sS0FBSyxPQUFMLENBQWEsV0FBYixFQUEwQixXQUExQixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsZUFBVCxDQUF5QixNQUF6QixFQUFpQztBQUN0QyxTQUFPLE9BQU8sT0FBUCxDQUFlLGFBQWYsRUFBOEIseUJBQTlCLENBQVA7QUFDRDs7QUFFRDs7OztBQUlPLFNBQVMsZUFBVCxDQUF5QixJQUF6QixFQUErQjtBQUNwQyxTQUFPLEtBQUssT0FBTCxDQUFhLEdBQWIsRUFBa0IsR0FBbEIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7QUFNTyxTQUFTLFFBQVQsQ0FBa0IsTUFBbEIsRUFBMEIsTUFBMUIsRUFBa0M7QUFDdkMsTUFBTSxRQUFRLE9BQU8sTUFBUCxHQUFnQixPQUFPLE1BQXJDO0FBQ0EsU0FBTyxTQUFTLENBQVQsSUFBYyxPQUFPLE9BQVAsQ0FBZSxNQUFmLEVBQXVCLEtBQXZCLEtBQWlDLEtBQXREO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsVUFBVCxDQUFvQixNQUFwQixFQUE0QixNQUE1QixFQUFvQztBQUN6QyxNQUFJLE9BQU8sTUFBUCxHQUFnQixPQUFPLE1BQTNCLEVBQW1DO0FBQ2pDLFdBQU8sS0FBUDtBQUNEO0FBQ0QsU0FBTyxPQUFPLFdBQVAsQ0FBbUIsTUFBbkIsRUFBMkIsQ0FBM0IsS0FBaUMsQ0FBeEM7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7QUFjTyxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsRUFBa0MsTUFBbEMsRUFBMEMsaUJBQTFDLEVBQTZEO0FBQ2xFLE1BQU0sZ0JBQWdCLHFCQUFxQixDQUEzQzs7QUFEa0UsNkJBRXpELENBRnlEO0FBR2hFLFFBQUksVUFBVSxDQUFkO0FBQ0EsZUFBVyxTQUFTLE9BQVQsQ0FBaUIsY0FBakIsRUFBaUMsVUFBQyxFQUFELEVBQUssQ0FBTCxFQUFXO0FBQ3JEO0FBQ0EsYUFBTyxPQUFPLENBQVAsQ0FBUDtBQUNELEtBSFUsQ0FBWDtBQUlBLFFBQUksQ0FBQyxPQUFMLEVBQWM7QUFDWjtBQUNEO0FBVitEOztBQUVsRSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksYUFBcEIsRUFBbUMsR0FBbkMsRUFBd0M7QUFBQSxxQkFBL0IsQ0FBK0I7O0FBQUEsMEJBT3BDO0FBRUg7QUFDRCxTQUFPLFFBQVA7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsWUFBVCxDQUFzQixHQUF0QixFQUEyQjtBQUFBLE1BQ3pCLE1BRHlCLEdBQ2YsR0FEZSxDQUN6QixNQUR5Qjs7QUFFaEMsTUFBSSxPQUFPLElBQVg7QUFDQSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksTUFBcEIsRUFBNEIsR0FBNUIsRUFBaUM7QUFDL0IsV0FBTyxPQUFPLEVBQVAsR0FBWSxJQUFJLFVBQUosQ0FBZSxDQUFmLENBQW5CO0FBQ0Q7QUFDRDtBQUNBLFNBQU8sT0FBTyxTQUFTLENBQWhCLENBQVA7QUFDRDs7Ozs7O1FDbEZlLG1CLEdBQUEsbUI7UUFnREEsbUIsR0FBQSxtQjtRQWdIQSxxQixHQUFBLHFCO1FBeUJBLGUsR0FBQSxlO1FBc0VBLGlCLEdBQUEsaUI7O0FBN1JoQjs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFyQkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkEsSUFBTSxtQkFBbUIsY0FBekI7QUFDQSxJQUFNLGlCQUFpQixjQUF2QjtBQUNBLElBQU0sc0JBQXNCLG9CQUE1Qjs7QUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JPLFNBQVMsbUJBQVQsQ0FDTCxNQURLLEVBQ0csT0FESCxFQUNZLEVBRFosRUFDZ0IsZ0JBRGhCLEVBQ2tDLE9BRGxDLEVBQzJDO0FBQ2hELE1BQU0sVUFBVSxPQUFPLFdBQVAsRUFBaEI7QUFDQSxNQUFNLFFBQVEsbUJBQ1YsT0FEVSxFQUVWLGVBQWUsT0FBZixFQUF3QixPQUF4QixDQUZVLEVBR1Ysb0JBQW9CLEtBSFYsRUFJVixXQUFXLElBSkQsQ0FBZDs7QUFNQSxNQUFJLEVBQUosRUFBUTtBQUNOLFFBQU0sV0FBVyxPQUFPLFdBQVAsRUFBakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBSSxZQUFZLFFBQVosRUFBc0IsS0FBdEIsQ0FBSixFQUFrQztBQUNoQyxTQUFHLEtBQUg7QUFDQSxhQUFPLEtBQVA7QUFDRDtBQUNEO0FBQ0EsUUFBTSxXQUFXLFlBQVksWUFBTTtBQUNqQyxVQUFJLFlBQVksUUFBWixFQUFzQixLQUF0QixDQUFKLEVBQWtDO0FBQ2hDLHNCQUFjLFFBQWQ7QUFDQSxXQUFHLEtBQUg7QUFDRDtBQUNGLEtBTGdCLEVBS2QsQ0FMYyxDQUFqQjtBQU1EO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBR0Q7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQk8sU0FBUyxtQkFBVCxDQUNMLEdBREssRUFDQSxPQURBLEVBQ1MsRUFEVCxFQUNhLGdCQURiLEVBQytCLE9BRC9CLEVBQ3dDO0FBQzdDLE1BQU0sUUFBUSxtQkFDVixnQkFBTSxhQUFOLENBQW9CLElBQUksSUFBeEIsQ0FEVSxFQUVWLE9BRlUsRUFHVixvQkFBb0IsS0FIVixFQUlWLFdBQVcsSUFKRCxDQUFkOztBQU1BLE1BQUksRUFBSixFQUFRO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQUksWUFBWSxHQUFaLEVBQWlCLEtBQWpCLENBQUosRUFBNkI7QUFDM0IsU0FBRyxLQUFIO0FBQ0EsYUFBTyxLQUFQO0FBQ0Q7QUFDRDtBQUNBLFFBQU0sV0FBVyxZQUFZLFlBQU07QUFDakMsVUFBSSxZQUFZLEdBQVosRUFBaUIsS0FBakIsQ0FBSixFQUE2QjtBQUMzQixzQkFBYyxRQUFkO0FBQ0EsV0FBRyxLQUFIO0FBQ0Q7QUFDRixLQUxnQixFQUtkLENBTGMsQ0FBakI7QUFNRDtBQUNELFNBQU8sS0FBUDtBQUNEOztBQUdEOzs7Ozs7OztBQVFBLFNBQVMsa0JBQVQsQ0FBNEIsT0FBNUIsRUFBcUMsT0FBckMsRUFBOEMsWUFBOUMsRUFBNEQsR0FBNUQsRUFBaUU7QUFDL0QsTUFBSSxXQUFXLFFBQVEsY0FBUixDQUFmO0FBQ0EsTUFBSSxDQUFDLFFBQUwsRUFBZTtBQUNiLGVBQVcsUUFBUSxjQUFSLElBQTBCLGtCQUFyQztBQUNEOztBQUVELE1BQU0sV0FBVyxDQUFDLFlBQUQsSUFDWixPQUFPLE9BQU8sWUFBZCxJQUE4QixPQUFPLGVBRDFDO0FBRUEsTUFBTSxNQUNGLGVBQWUsYUFBZixHQUNFLDhCQUE0QixHQUE1QixHQUFvQyxJQUYxQzs7QUFJQTtBQUNBLE1BQUksR0FBSixFQUFTO0FBQ1AsUUFBTSxXQUFXLHdCQUF3QixPQUF4QixFQUFpQyxRQUFqQyxFQUEyQyxHQUEzQyxDQUFqQjtBQUNBLFFBQUksUUFBSixFQUFjO0FBQ1osYUFBTyxRQUFQO0FBQ0Q7QUFDRjs7QUFFRDtBQUNBLE1BQU0sTUFBTyxRQUFRLGFBQVIsSUFBeUIsT0FBdEM7QUFDQSxNQUFNLFFBQVEsSUFBSSxhQUFKLENBQWtCLE9BQWxCLENBQWQ7QUFDQSxTQUFNLE1BQU0sV0FBWixHQUEwQixPQUExQjtBQUNBLE1BQUksZUFBZSxJQUFuQjtBQUNBO0FBQ0E7QUFDQSxNQUFJLFlBQUosRUFBa0I7QUFDaEIsVUFBTSxZQUFOLENBQW1CLGFBQW5CLEVBQWtDLEVBQWxDO0FBQ0QsR0FGRCxNQUVPLElBQUksUUFBSixFQUFjO0FBQ25CLFVBQU0sWUFBTixDQUFtQixlQUFuQixFQUFvQyxPQUFPLEVBQTNDO0FBQ0EsbUJBQWUsZ0JBQU0sYUFBTixDQUFvQix3QkFDL0IsT0FEK0IsRUFDdEIsUUFEc0IsRUFDWixhQURZLENBQXBCLENBQWY7QUFFRCxHQUpNLE1BSUE7QUFDTCxRQUFJLEdBQUosRUFBUztBQUNQLFlBQU0sWUFBTixDQUFtQixHQUFuQixFQUF3QixFQUF4QjtBQUNEO0FBQ0QsbUJBQWUsUUFBUSxTQUF2QjtBQUNEO0FBQ0QsaUNBQXFCLE9BQXJCLEVBQThCLEtBQTlCLEVBQXFDLFlBQXJDO0FBQ0EsTUFBSSxHQUFKLEVBQVM7QUFDUCxhQUFTLEdBQVQsSUFBZ0IsS0FBaEI7QUFDRDtBQUNELFNBQU8sS0FBUDtBQUNEOztBQUdEOzs7Ozs7QUFNQSxTQUFTLHVCQUFULENBQWlDLE9BQWpDLEVBQTBDLFFBQTFDLEVBQW9ELEdBQXBELEVBQXlEO0FBQ3ZEO0FBQ0EsTUFBSSxTQUFTLEdBQVQsQ0FBSixFQUFtQjtBQUNqQixXQUFPLFNBQVMsR0FBVCxDQUFQO0FBQ0Q7QUFDRDtBQUNBLE1BQU0sV0FBVyxTQUFRLE1BQU0sYUFBZCxZQUFxQyxHQUFyQyxPQUFqQjtBQUNBLE1BQUksUUFBSixFQUFjO0FBQ1osYUFBUyxHQUFULElBQWdCLFFBQWhCO0FBQ0EsV0FBTyxRQUFQO0FBQ0Q7QUFDRDtBQUNBLFNBQU8sSUFBUDtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMscUJBQVQsQ0FBK0IsT0FBL0IsRUFBd0MsV0FBeEMsRUFBcUQ7QUFDMUQsVUFBUSxnQkFBUixJQUE0QixXQUE1QjtBQUNEOztBQUdEOzs7Ozs7QUFNQSxTQUFTLGNBQVQsQ0FBd0IsT0FBeEIsRUFBaUMsT0FBakMsRUFBMEM7QUFDeEMsTUFBTSxjQUFjLFFBQVEsZ0JBQVIsQ0FBcEI7QUFDQSxTQUFPLGNBQWMsWUFBWSxPQUFaLENBQWQsR0FBcUMsT0FBNUM7QUFDRDs7QUFHRDs7Ozs7Ozs7QUFRTyxTQUFTLGVBQVQsQ0FBeUIsR0FBekIsRUFBOEIsbUJBQTlCLEVBQW1EO0FBQ3hELGtCQUFNLE1BQU4sQ0FBYSxJQUFJLFdBQWpCLEVBQThCLDRDQUE5QjtBQUNBLE1BQU0sTUFBTSxzQkFBd0IsSUFBSSxXQUF4QztBQUNBLE1BQUksSUFBSSxtQkFBSixDQUFKLEVBQThCO0FBQzVCO0FBQ0Q7QUFDRCxNQUFNLE1BQU0sU0FBTixHQUFNLEdBQU07QUFDaEIsUUFBSSxtQkFBSixJQUEyQixJQUEzQjtBQUNBLDBCQUFVLGdCQUFNLGFBQU4sQ0FBb0IsSUFBSSxJQUF4QixDQUFWLEVBQXlDO0FBQ3ZDLGVBQVMsQ0FEOEI7QUFFdkMsa0JBQVksU0FGMkI7QUFHdkMsbUJBQWE7QUFIMEIsS0FBekM7QUFLQSwwQkFBc0IsR0FBdEI7QUFDRCxHQVJEO0FBU0EsTUFBSTtBQUNGLDBCQUFZLEdBQVosRUFBaUIsWUFBTTtBQUNyQixVQUFJLElBQUksbUJBQUosQ0FBSixFQUE4QjtBQUM1QjtBQUNEO0FBQ0QsVUFBSSxtQkFBSixJQUEyQixJQUEzQjtBQUNBLFVBQUksbUJBQUosRUFBeUI7QUFDdkIscURBQWdCLEdBQWhCLEVBQXFCLEtBQXJCLENBQTJCLGtCQUFVO0FBQ25DLGlDQUFhLE1BQWI7QUFDQSxpQkFBTyxFQUFQO0FBQ0QsU0FIRCxFQUdHLElBSEgsQ0FHUSxvQkFBWTtBQUNsQjtBQUNBLGNBQUksU0FBUyxNQUFULEdBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCLCtCQUFTLGVBQVQsQ0FBeUIsR0FBekIsR0FBOEIsTUFBTSxZQUFwQyxDQUNJLENBREosRUFDTyxpQkFBa0IsSUFEekI7QUFFRDtBQUNELGNBQUk7QUFDRixnQkFBTSxPQUFPLG1CQUFTLGNBQVQsQ0FBd0IsR0FBeEIsQ0FBYjtBQUNBLGlCQUFLLElBQUwsQ0FBVSxLQUFWO0FBQ0EsaUJBQUssS0FBTDtBQUNELFdBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFO0FBQ2YsU0FkRDtBQWVELE9BaEJELE1BZ0JPO0FBQ0w7QUFDRDtBQUNGLEtBeEJEO0FBeUJELEdBMUJELENBMEJFLE9BQU8sQ0FBUCxFQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUFhLENBQWI7QUFDRDtBQUNGOztBQUdEOzs7QUFHQSxTQUFTLHFCQUFULENBQStCLEdBQS9CLEVBQW9DO0FBQ2xDLE1BQUk7QUFDRix1QkFBUyxlQUFULENBQXlCLEdBQXpCLEVBQThCLGFBQTlCO0FBQ0QsR0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Q7QUFDRjs7QUFHRDs7OztBQUlPLFNBQVMsaUJBQVQsQ0FBMkIsR0FBM0IsRUFBZ0M7QUFDckMsTUFBSSxtQkFBSixJQUEyQixJQUEzQjtBQUNEOztBQUdEOzs7Ozs7QUFNQSxTQUFTLFdBQVQsQ0FBcUIsR0FBckIsRUFBMEIsS0FBMUIsRUFBaUM7QUFDL0IsTUFBTSxTQUFTLElBQUksV0FBbkI7QUFDQSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksT0FBTyxNQUEzQixFQUFtQyxHQUFuQyxFQUF3QztBQUN0QyxRQUFNLFFBQVEsT0FBTyxDQUFQLENBQWQ7QUFDQSxRQUFJLE1BQU0sU0FBTixJQUFtQixLQUF2QixFQUE4QjtBQUM1QixhQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7Ozs7OztRQ2hTZSxvQixHQUFBLG9CO1FBaUNBLHVCLEdBQUEsdUI7UUFpQ0Esa0IsR0FBQSxrQjtRQWdCQSxRLEdBQUEsUTtRQWlCQSxRLEdBQUEsUTtRQWdCQSxTLEdBQUEsUztRQVlBLE0sR0FBQSxNO1FBYUEsRSxHQUFBLEU7UUFTQSxHLEdBQUEsRztRQVNBLFUsR0FBQSxVO1FBY0EsUyxHQUFBLFM7UUFtQkEsSyxHQUFBLEs7UUFTQSxNLEdBQUEsTTtRQWNBLG9CLEdBQUEsb0I7UUFhQSxhLEdBQUEsYTtRQVdBLFcsR0FBQSxXOztBQTlQaEI7O0FBQ0E7O0FBR0E7QUFyQkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFNQSxJQUFJLDBCQUFKOztBQUVBO0FBQ0EsSUFBTSxpQkFBaUIsQ0FBQyxRQUFELEVBQVcsUUFBWCxFQUFxQixLQUFyQixFQUE0QixLQUE1QixFQUFtQyxJQUFuQyxFQUF5QyxHQUF6QyxFQUE4QyxHQUE5QyxDQUF2Qjs7QUFHQTs7Ozs7QUFLTyxTQUFTLG9CQUFULENBQThCLFNBQTlCLEVBQXlDO0FBQzlDLFNBQU8sVUFBVSxNQUFWLENBQWlCLENBQWpCLEVBQW9CLFdBQXBCLEtBQW9DLFVBQVUsS0FBVixDQUFnQixDQUFoQixDQUEzQztBQUNEOztBQUVEOzs7Ozs7OztBQVFBLFNBQVMsd0JBQVQsQ0FBa0MsS0FBbEMsRUFBeUMsU0FBekMsRUFBb0Q7QUFDbEQsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGVBQWUsTUFBbkMsRUFBMkMsR0FBM0MsRUFBZ0Q7QUFDOUMsUUFBTSxlQUFlLGVBQWUsQ0FBZixJQUFvQixTQUF6QztBQUNBLFFBQUksTUFBTSxZQUFOLE1BQXdCLFNBQTVCLEVBQXVDO0FBQ3JDLGFBQU8sWUFBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLEVBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7QUFXTyxTQUFTLHVCQUFULENBQWlDLEtBQWpDLEVBQXdDLFNBQXhDLEVBQW1ELGVBQW5ELEVBQW9FO0FBQ3pFLE1BQUksd0JBQVcsU0FBWCxFQUFzQixJQUF0QixDQUFKLEVBQWlDO0FBQy9CO0FBQ0EsV0FBTyxTQUFQO0FBQ0Q7QUFDRCxNQUFJLENBQUMsaUJBQUwsRUFBd0I7QUFDdEIsd0JBQW9CLGtCQUFwQjtBQUNEO0FBQ0QsTUFBSSxlQUFlLGtCQUFrQixTQUFsQixDQUFuQjtBQUNBLE1BQUksQ0FBQyxZQUFELElBQWlCLGVBQXJCLEVBQXNDO0FBQ3BDLG1CQUFlLFNBQWY7QUFDQSxRQUFJLE1BQU0sU0FBTixNQUFxQixTQUF6QixFQUFvQztBQUNsQyxVQUFNLFlBQVkscUJBQXFCLFNBQXJCLENBQWxCO0FBQ0EsVUFBTSx1QkFBdUIseUJBQXlCLEtBQXpCLEVBQWdDLFNBQWhDLENBQTdCOztBQUVBLFVBQUksTUFBTSxvQkFBTixNQUFnQyxTQUFwQyxFQUErQztBQUM3Qyx1QkFBZSxvQkFBZjtBQUNEO0FBQ0Y7QUFDRCxRQUFJLENBQUMsZUFBTCxFQUFzQjtBQUNwQix3QkFBa0IsU0FBbEIsSUFBK0IsWUFBL0I7QUFDRDtBQUNGO0FBQ0QsU0FBTyxZQUFQO0FBQ0Q7O0FBR0Q7Ozs7OztBQU1PLFNBQVMsa0JBQVQsQ0FBNEIsT0FBNUIsRUFBcUMsTUFBckMsRUFBNkM7QUFDbEQsT0FBSyxJQUFNLENBQVgsSUFBZ0IsTUFBaEIsRUFBd0I7QUFDdEIsWUFBUSxLQUFSLENBQWMsV0FBZCxDQUNJLHdCQUF3QixNQUF4QixFQUFnQyxDQUFoQyxDQURKLEVBQ3dDLE9BQU8sQ0FBUCxFQUFVLFFBQVYsRUFEeEMsRUFDOEQsV0FEOUQ7QUFFRDtBQUNGOztBQUdEOzs7Ozs7OztBQVFPLFNBQVMsUUFBVCxDQUFrQixPQUFsQixFQUEyQixRQUEzQixFQUFxQyxLQUFyQyxFQUE0QyxTQUE1QyxFQUF1RCxlQUF2RCxFQUF3RTtBQUM3RSxNQUFNLGVBQWUsd0JBQXdCLFFBQVEsS0FBaEMsRUFBdUMsUUFBdkMsRUFDakIsZUFEaUIsQ0FBckI7QUFFQSxNQUFJLFlBQUosRUFBa0I7QUFDaEIsWUFBUSxLQUFSLENBQWMsWUFBZDtBQUNFLHlCQUF1QixZQUFZLFFBQVEsU0FBcEIsR0FBZ0MsS0FEekQ7QUFFRDtBQUNGOztBQUdEOzs7Ozs7O0FBT08sU0FBUyxRQUFULENBQWtCLE9BQWxCLEVBQTJCLFFBQTNCLEVBQXFDLGVBQXJDLEVBQXNEO0FBQzNELE1BQU0sZUFBZSx3QkFBd0IsUUFBUSxLQUFoQyxFQUF1QyxRQUF2QyxFQUNqQixlQURpQixDQUFyQjtBQUVBLE1BQUksQ0FBQyxZQUFMLEVBQW1CO0FBQ2pCLFdBQU8sU0FBUDtBQUNEO0FBQ0QsU0FBTyxRQUFRLEtBQVIsQ0FBYyxZQUFkLENBQVA7QUFDRDs7QUFHRDs7Ozs7O0FBTU8sU0FBUyxTQUFULENBQW1CLE9BQW5CLEVBQTRCLE1BQTVCLEVBQW9DO0FBQ3pDLE9BQUssSUFBTSxDQUFYLElBQWdCLE1BQWhCLEVBQXdCO0FBQ3RCLGFBQVMsT0FBVCxFQUFrQixDQUFsQixFQUFxQixPQUFPLENBQVAsQ0FBckI7QUFDRDtBQUNGOztBQUdEOzs7OztBQUtPLFNBQVMsTUFBVCxDQUFnQixPQUFoQixFQUF5QixXQUF6QixFQUFzQztBQUMzQyxNQUFJLGdCQUFnQixTQUFwQixFQUErQjtBQUM3QixrQkFBYyxTQUFTLE9BQVQsRUFBa0IsU0FBbEIsS0FBZ0MsTUFBOUM7QUFDRDtBQUNELFdBQVMsT0FBVCxFQUFrQixTQUFsQixFQUE2QixjQUFjLEVBQWQsR0FBbUIsTUFBaEQ7QUFDRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLEVBQVQsQ0FBWSxLQUFaLEVBQW1CO0FBQ3hCLFNBQVUsS0FBVjtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsR0FBVCxDQUFhLEtBQWIsRUFBb0I7QUFDekIsU0FBVSxLQUFWO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxVQUFULENBQW9CLEtBQXBCLEVBQTJCO0FBQ2hDLE1BQUksT0FBTyxLQUFQLElBQWdCLFFBQXBCLEVBQThCO0FBQzVCLDJCQUFxQixLQUFyQjtBQUNEO0FBQ0QseUJBQXFCLEdBQUcsS0FBSCxDQUFyQjtBQUNEOztBQUdEOzs7Ozs7QUFNTyxTQUFTLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBc0IsS0FBdEIsRUFBNkI7QUFDbEMsTUFBSSxPQUFPLENBQVAsSUFBWSxRQUFoQixFQUEwQjtBQUN4QixRQUFJLEdBQUcsQ0FBSCxDQUFKO0FBQ0Q7QUFDRCxNQUFJLFVBQVUsU0FBZCxFQUF5QjtBQUN2QiwwQkFBb0IsQ0FBcEI7QUFDRDtBQUNELE1BQUksT0FBTyxLQUFQLElBQWdCLFFBQXBCLEVBQThCO0FBQzVCLFlBQVEsR0FBRyxLQUFILENBQVI7QUFDRDtBQUNELHdCQUFvQixDQUFwQixVQUEwQixLQUExQjtBQUNEOztBQUdEOzs7OztBQUtPLFNBQVMsS0FBVCxDQUFlLEtBQWYsRUFBc0I7QUFDM0Isb0JBQWdCLEtBQWhCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxNQUFULENBQWdCLEtBQWhCLEVBQXVCO0FBQzVCLE1BQUksT0FBTyxLQUFQLElBQWdCLFFBQXBCLEVBQThCO0FBQzVCLFlBQVEsSUFBSSxLQUFKLENBQVI7QUFDRDtBQUNELHFCQUFpQixLQUFqQjtBQUNEOztBQUVEOzs7Ozs7O0FBT08sU0FBUyxvQkFBVCxDQUE4QixTQUE5QixFQUF5QztBQUM5QyxTQUFPLFVBQVUsT0FBVixDQUNILHFDQURHLEVBQ29DLGVBRHBDLENBQVA7QUFFRDs7QUFFRDs7Ozs7Ozs7QUFRTyxTQUFTLGFBQVQsQ0FBdUIsR0FBdkIsRUFBNEIsRUFBNUIsRUFBZ0M7QUFDckMsTUFBTSxRQUFRLG1DQUFvQyxJQUFJLGdCQUFKLENBQXFCLEVBQXJCLENBQWxEO0FBQ0EsU0FBTyx1Q0FBdUMsS0FBRCxJQUFXO0FBQXhEO0FBQ0Q7O0FBR0Q7Ozs7O0FBS08sU0FBUyxXQUFULENBQXFCLE9BQXJCLEVBQThCLFVBQTlCLEVBQTBDO0FBQy9DLE1BQU0sV0FBVyxFQUFqQjtBQUNBLGFBQVcsT0FBWCxDQUFtQixnQkFBUTtBQUN6QixhQUFTLElBQVQsSUFBaUIsSUFBakI7QUFDRCxHQUZEO0FBR0EsWUFBVSxPQUFWLEVBQW1CLFFBQW5CO0FBQ0Q7Ozs7OztRQ3BQZSxPLEdBQUEsTztRQVVBLE8sR0FBQSxPO1FBZ0JBLFEsR0FBQSxRO1FBV0EsYyxHQUFBLGM7UUFZQSxXLEdBQUEsVztRQW1CQSxLLEdBQUEsSztBQXJHaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQSxJQUFNLFlBQVksT0FBTyxTQUFQLENBQWlCLFFBQW5DOztBQUVBOzs7OztBQUtBLFNBQVMsUUFBVCxDQUFrQixLQUFsQixFQUF5QjtBQUN2QixTQUFPLFVBQVUsSUFBVixDQUFlLEtBQWYsQ0FBUDtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsT0FBVCxDQUFpQixLQUFqQixFQUF3QjtBQUM3QixTQUFPLE1BQU0sT0FBTixDQUFjLEtBQWQsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7QUFNTyxTQUFTLE9BQVQsQ0FBaUIsU0FBakIsRUFBNEI7QUFDakMsTUFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZCxXQUFPLEVBQVA7QUFDRDtBQUNELE1BQU0sUUFBUSxJQUFJLEtBQUosQ0FBVSxVQUFVLE1BQXBCLENBQWQ7QUFDQSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksVUFBVSxNQUE5QixFQUFzQyxHQUF0QyxFQUEyQztBQUN6QyxVQUFNLENBQU4sSUFBVyxVQUFVLENBQVYsQ0FBWDtBQUNEO0FBQ0QsU0FBTyxLQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxRQUFULENBQWtCLEtBQWxCLEVBQXlCO0FBQzlCLFNBQU8sU0FBUyxLQUFULE1BQW9CLGlCQUEzQjtBQUNEOztBQUVEOzs7Ozs7O0FBT08sU0FBUyxjQUFULENBQXdCLEtBQXhCLEVBQStCO0FBQ3BDLFNBQVEsT0FBTyxLQUFQLEtBQWlCLFFBQWpCLElBQTZCLFNBQVMsS0FBVCxDQUFyQztBQUNEOztBQUVEOzs7Ozs7OztBQVFPLFNBQVMsV0FBVCxDQUFxQixPQUFyQixFQUE4QixDQUE5QixFQUFpQztBQUN0QyxPQUFLLElBQU0sQ0FBWCxJQUFnQixPQUFoQixFQUF5QjtBQUN2QixRQUFJLFFBQVEsQ0FBUixNQUFlLENBQW5CLEVBQXNCO0FBQ3BCLGFBQU8sSUFBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLEtBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OztBQVVPLFNBQVMsS0FBVCxDQUFlLFNBQWYsRUFBMEI7QUFDL0IsU0FBTyx1QkFBd0I7QUFBL0I7QUFDRDs7Ozs7O1FDekVlLGlCLEdBQUEsaUI7O0FBZGhCOztBQUVBLElBQU0sUUFBUSxvQ0FBZDs7QUFFQTs7Ozs7Ozs7OztBQXBCQTs7Ozs7Ozs7Ozs7Ozs7OztBQThCTyxTQUFTLGlCQUFULENBQTJCLFdBQTNCLEVBQXdDO0FBQzdDLE1BQU0sU0FBUywwQkFBNEIsT0FBTyxNQUFQLENBQWMsSUFBZCxDQUEzQztBQUNBLE1BQUksQ0FBQyxXQUFMLEVBQWtCO0FBQ2hCLFdBQU8sTUFBUDtBQUNEOztBQUVELE1BQUksY0FBSjtBQUNBLFNBQVEsUUFBUSxNQUFNLElBQU4sQ0FBVyxXQUFYLENBQWhCLEVBQTBDO0FBQ3hDLFFBQU0sT0FBTyxzREFBdUIsTUFBTSxDQUFOLENBQXZCLEVBQWlDLE1BQU0sQ0FBTixDQUFqQyxDQUFiO0FBQ0EsUUFBTSxRQUFRLE1BQU0sQ0FBTixJQUFXLHNEQUF1QixNQUFNLENBQU4sQ0FBdkIsRUFBaUMsTUFBTSxDQUFOLENBQWpDLENBQVgsR0FBd0QsRUFBdEU7QUFDQSxXQUFPLElBQVAsSUFBZSxLQUFmO0FBQ0Q7QUFDRCxTQUFPLE1BQVA7QUFDRDs7Ozs7O1FDaEJlLHNCLEdBQUEsc0I7QUEzQmhCOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBOzs7Ozs7Ozs7OztBQVdPLFNBQVMsc0JBQVQsQ0FBZ0MsU0FBaEMsRUFBMEQ7QUFBQSxNQUFmLFFBQWUsdUVBQUosRUFBSTs7QUFDL0QsTUFBSTtBQUNGLFdBQU8sbUJBQW1CLFNBQW5CLENBQVA7QUFDRCxHQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDVixXQUFPLFFBQVA7QUFDRDtBQUNGOzs7Ozs7O1FDK0NlLFksR0FBQSxZO1FBYUEsa0IsR0FBQSxrQjtRQW9CQSxhLEdBQUEsYTtRQW1FQSw2QixHQUFBLDZCO1FBMEJBLGEsR0FBQSxhO1FBWUEsYyxHQUFBLGM7UUFVQSxvQixHQUFBLG9CO1FBd0JBLHFCLEdBQUEscUI7UUFvQkEsYyxHQUFBLGM7UUFtQkEsNEIsR0FBQSw0QjtRQWtCQSxnQixHQUFBLGdCO1FBVUEsYyxHQUFBLGM7UUFjQSxXLEdBQUEsVztRQWFBLGEsR0FBQSxhO1FBY0EsbUIsR0FBQSxtQjtRQWdCQSxpQixHQUFBLGlCO1FBYUEsZSxHQUFBLGU7UUFlQSx3QixHQUFBLHdCO1FBWUEsWSxHQUFBLFk7UUFrQ0EsWSxHQUFBLFk7UUFtQ0EsZSxHQUFBLGU7UUFVQSxrQixHQUFBLGtCO1FBaUJBLDJCLEdBQUEsMkI7UUFrQ0EsVSxHQUFBLFU7UUFXQSxZLEdBQUEsWTtRQWVBLHFCLEdBQUEscUI7O0FBNWlCaEI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7OztBQUdBLElBQU0sc0JBQXNCLGtCQUFLO0FBQy9CO0FBQ0EsT0FBSyxJQUYwQjtBQUcvQjtBQUNBLE9BQUssSUFKMEI7QUFLL0I7QUFDQSxPQUFLLElBTjBCO0FBTy9CO0FBQ0EsUUFBTTtBQVJ5QixDQUFMLENBQTVCOztBQVdBOzs7O0FBeENBOzs7Ozs7Ozs7Ozs7Ozs7O0FBNENBLElBQUksVUFBSjs7QUFFQTs7Ozs7O0FBTUEsSUFBSSxjQUFKOztBQUVBO0FBQ0EsSUFBTSxzQkFBc0IsaUJBQTVCOztBQUVBO0FBQ0EsSUFBTSx1QkFBdUIsa0JBQTdCOztBQUVBO0FBQ0EsSUFBTSxxQkFBcUIsZ0JBQTNCOztBQUVBO0FBQ0EsSUFBTSxpQ0FBaUMsZUFBdkM7O0FBRUEsSUFBTSxvQkFBb0I7QUFDeEIsMkJBQTRCLGFBREo7QUFFeEIsMkJBQTRCLE9BRko7QUFHeEIsMkJBQTRCLFdBSEosQ0FBMUI7O0FBTUE7QUFDTyxJQUFNLG9EQUFzQixxQkFBNUI7O0FBRVA7Ozs7O0FBS08sU0FBUyxZQUFULENBQXNCLEdBQXRCLEVBQTJCO0FBQ2hDLFNBQU8sSUFBSSxNQUFKLElBQWMsbUJBQW1CLElBQUksUUFBSixDQUFhLElBQWhDLEVBQXNDLE1BQTNEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztBQVNPLFNBQVMsa0JBQVQsQ0FBNEIsR0FBNUIsRUFBaUMsV0FBakMsRUFBOEM7QUFDbkQsTUFBSSxDQUFDLENBQUwsRUFBUTtBQUNOLFFBQUksaUNBQW1DLEtBQUssUUFBTCxDQUFjLGFBQWQsQ0FBNEIsR0FBNUIsQ0FBdkM7QUFDQSxZQUFRLEtBQUssUUFBTCxLQUFrQixLQUFLLFFBQUwsR0FBZ0IsdUJBQWEsR0FBYixDQUFsQyxDQUFSO0FBQ0Q7O0FBRUQsU0FBTyxjQUFjLENBQWQsRUFBaUIsR0FBakIsRUFBc0IsY0FBYyxJQUFkLEdBQXFCLEtBQTNDLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7QUFXTyxTQUFTLGFBQVQsQ0FBdUIsQ0FBdkIsRUFBMEIsR0FBMUIsRUFBK0IsU0FBL0IsRUFBMEM7QUFDL0MsTUFBSSxhQUFhLFVBQVUsR0FBVixDQUFjLEdBQWQsQ0FBakIsRUFBcUM7QUFDbkMsV0FBTyxVQUFVLEdBQVYsQ0FBYyxHQUFkLENBQVA7QUFDRDs7QUFFRCxJQUFFLElBQUYsR0FBUyxHQUFUOztBQUVBO0FBQ0E7QUFDQSxNQUFJLENBQUMsRUFBRSxRQUFQLEVBQWlCO0FBQ2YsTUFBRSxJQUFGLEdBQVMsRUFBRSxJQUFYO0FBQ0Q7O0FBRUQsTUFBTSxPQUFPLHdCQUF5QjtBQUNwQyxVQUFNLEVBQUUsSUFENEI7QUFFcEMsY0FBVSxFQUFFLFFBRndCO0FBR3BDLFVBQU0sRUFBRSxJQUg0QjtBQUlwQyxjQUFVLEVBQUUsUUFKd0I7QUFLcEMsVUFBTSxFQUFFLElBQUYsSUFBVSxHQUFWLEdBQWdCLEVBQWhCLEdBQXFCLEVBQUUsSUFMTztBQU1wQyxjQUFVLEVBQUUsUUFOd0I7QUFPcEMsWUFBUSxFQUFFLE1BUDBCO0FBUXBDLFVBQU0sRUFBRSxJQVI0QjtBQVNwQyxZQUFRLElBVDRCLENBU3RCO0FBVHNCLEdBQXRDOztBQVlBO0FBQ0E7QUFDQSxNQUFJLEtBQUssUUFBTCxDQUFjLENBQWQsTUFBcUIsR0FBekIsRUFBOEI7QUFDNUIsU0FBSyxRQUFMLEdBQWdCLE1BQU0sS0FBSyxRQUEzQjtBQUNEOztBQUVEO0FBQ0E7QUFDQSxNQUFLLEtBQUssUUFBTCxJQUFpQixPQUFqQixJQUE0QixLQUFLLElBQUwsSUFBYSxFQUExQyxJQUNJLEtBQUssUUFBTCxJQUFpQixRQUFqQixJQUE2QixLQUFLLElBQUwsSUFBYSxHQURsRCxFQUN3RDtBQUN0RCxTQUFLLElBQUwsR0FBWSxFQUFaO0FBQ0EsU0FBSyxJQUFMLEdBQVksS0FBSyxRQUFqQjtBQUNEOztBQUVEO0FBQ0E7QUFDQSxNQUFJLEVBQUUsTUFBRixJQUFZLEVBQUUsTUFBRixJQUFZLE1BQTVCLEVBQW9DO0FBQ2xDLFNBQUssTUFBTCxHQUFjLEVBQUUsTUFBaEI7QUFDRCxHQUZELE1BRU8sSUFBSSxLQUFLLFFBQUwsSUFBaUIsT0FBakIsSUFBNEIsQ0FBQyxLQUFLLElBQXRDLEVBQTRDO0FBQ2pELFNBQUssTUFBTCxHQUFjLEtBQUssSUFBbkI7QUFDRCxHQUZNLE1BRUE7QUFDTCxTQUFLLE1BQUwsR0FBYyxLQUFLLFFBQUwsR0FBZ0IsSUFBaEIsR0FBdUIsS0FBSyxJQUExQztBQUNEOztBQUVEO0FBQ0EsTUFBTSxTQUFVLHFCQUFVLElBQVYsSUFBa0IsT0FBTyxNQUExQixHQUFvQyxPQUFPLE1BQVAsQ0FBYyxJQUFkLENBQXBDLEdBQTBELElBQXpFOztBQUVBLE1BQUksU0FBSixFQUFlO0FBQ2IsY0FBVSxHQUFWLENBQWMsR0FBZCxFQUFtQixNQUFuQjtBQUNEOztBQUVELFNBQU8sTUFBUDtBQUNEOztBQUVEOzs7Ozs7OztBQVFPLFNBQVMsNkJBQVQsQ0FBdUMsR0FBdkMsRUFBNEMsV0FBNUMsRUFDTCxjQURLLEVBQ1c7QUFDaEIsTUFBSSxDQUFDLFdBQUwsRUFBa0I7QUFDaEIsV0FBTyxHQUFQO0FBQ0Q7QUFDRCxNQUFNLGtCQUFrQixJQUFJLEtBQUosQ0FBVSxHQUFWLEVBQWUsQ0FBZixDQUF4QjtBQUNBLE1BQU0sZUFBZSxnQkFBZ0IsQ0FBaEIsRUFBbUIsS0FBbkIsQ0FBeUIsR0FBekIsRUFBOEIsQ0FBOUIsQ0FBckI7O0FBRUEsTUFBSSxTQUFTLGFBQWEsQ0FBYixLQUNYLGFBQWEsQ0FBYixJQUNLLHVCQUNLLFdBREwsU0FDb0IsYUFBYSxDQUFiLENBRHBCLFNBRUssYUFBYSxDQUFiLENBRkwsU0FFd0IsV0FIN0IsU0FJUSxXQUxHLENBQWI7QUFNQSxZQUFVLGdCQUFnQixDQUFoQixVQUF5QixnQkFBZ0IsQ0FBaEIsQ0FBekIsR0FBZ0QsRUFBMUQ7QUFDQSxTQUFPLE1BQVA7QUFDRDtBQUNEOzs7Ozs7Ozs7QUFTTyxTQUFTLGFBQVQsQ0FBdUIsR0FBdkIsRUFBNEIsR0FBNUIsRUFBaUMsS0FBakMsRUFBd0MsY0FBeEMsRUFBd0Q7QUFDN0QsTUFBTSxRQUFXLG1CQUFtQixHQUFuQixDQUFYLFNBQXNDLG1CQUFtQixLQUFuQixDQUE1QztBQUNBLFNBQU8sOEJBQThCLEdBQTlCLEVBQW1DLEtBQW5DLEVBQTBDLGNBQTFDLENBQVA7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsY0FBVCxDQUF3QixHQUF4QixFQUE2QixNQUE3QixFQUFxQztBQUMxQyxTQUFPLDhCQUE4QixHQUE5QixFQUFtQyxxQkFBcUIsTUFBckIsQ0FBbkMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7QUFNTyxTQUFTLG9CQUFULENBQThCLE1BQTlCLEVBQXNDO0FBQzNDLE1BQU0sSUFBSSxFQUFWO0FBQ0EsT0FBSyxJQUFNLENBQVgsSUFBZ0IsTUFBaEIsRUFBd0I7QUFDdEIsUUFBTSxJQUFJLE9BQU8sQ0FBUCxDQUFWO0FBQ0EsUUFBSSxLQUFLLElBQVQsRUFBZTtBQUNiO0FBQ0QsS0FGRCxNQUVPLElBQUksb0JBQVEsQ0FBUixDQUFKLEVBQWdCO0FBQ3JCLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxFQUFFLE1BQXRCLEVBQThCLEdBQTlCLEVBQW1DO0FBQ2pDLFlBQU0sS0FBSyxxQkFBdUIsRUFBRSxDQUFGLENBQWxDO0FBQ0EsVUFBRSxJQUFGLENBQVUsbUJBQW1CLENBQW5CLENBQVYsU0FBbUMsbUJBQW1CLEVBQW5CLENBQW5DO0FBQ0Q7QUFDRixLQUxNLE1BS0E7QUFDTCxVQUFNLE1BQUsscUJBQXVCLENBQWxDO0FBQ0EsUUFBRSxJQUFGLENBQVUsbUJBQW1CLENBQW5CLENBQVYsU0FBbUMsbUJBQW1CLEdBQW5CLENBQW5DO0FBQ0Q7QUFDRjtBQUNELFNBQU8sRUFBRSxJQUFGLENBQU8sR0FBUCxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxxQkFBVCxDQUErQixHQUEvQixFQUFvQztBQUN6QyxNQUFJLE9BQU8sR0FBUCxJQUFjLFFBQWxCLEVBQTRCO0FBQzFCLFVBQU0sbUJBQW1CLEdBQW5CLENBQU47QUFDRDtBQUNELFNBQVEsSUFBSSxRQUFKLElBQWdCLFFBQWhCLElBQ0osSUFBSSxRQUFKLElBQWdCLFdBRFosSUFFSixzQkFBUyxJQUFJLFFBQWIsRUFBdUIsWUFBdkIsQ0FGSjtBQUdEOztBQUVEOzs7Ozs7Ozs7OztBQVdPLFNBQVMsY0FBVCxDQUNMLFNBREssRUFDTSxjQUROLEVBQzZDO0FBQUEsTUFBdkIsVUFBdUIsdUVBQVYsUUFBVTs7QUFDbEQsbUJBQU8sTUFBUCxDQUFjLGFBQWEsSUFBM0IsRUFBaUMseUJBQWpDLEVBQ0ksY0FESixFQUNvQixVQURwQjtBQUVBO0FBQ0EsTUFBTSxlQUFlLHFCQUF1QixTQUE1QztBQUNBLG1CQUFPLE1BQVAsQ0FBYyxzQkFBc0IsWUFBdEIsS0FBdUMsVUFBVSxJQUFWLENBQWUsWUFBZixDQUFyRCxFQUNJLDJCQUNBLG9EQURBLEdBRUEsbURBSEosRUFJSSxjQUpKLEVBSW9CLFVBSnBCLEVBSWdDLFlBSmhDO0FBS0EsU0FBTyxZQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyw0QkFBVCxDQUFzQyxTQUF0QyxFQUFpRDtBQUN0RCxtQkFBTyxNQUFQLENBQWMsYUFBYSxJQUFiLENBQWtCLFNBQWxCLENBQWQsRUFDSSxnRUFESixFQUVJLFNBRko7QUFHQSxTQUFPLG1CQUFtQixTQUFuQixFQUE4QixJQUFyQztBQUNEOztBQUdEOzs7Ozs7Ozs7O0FBVU8sU0FBUyxnQkFBVCxDQUEwQixXQUExQixFQUF1QztBQUM1QyxTQUFPLDRDQUFrQixXQUFsQixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsY0FBVCxDQUF3QixHQUF4QixFQUE2QjtBQUNsQyxNQUFNLFFBQVEsSUFBSSxPQUFKLENBQVksR0FBWixDQUFkO0FBQ0EsTUFBSSxTQUFTLENBQUMsQ0FBZCxFQUFpQjtBQUNmLFdBQU8sR0FBUDtBQUNEO0FBQ0QsU0FBTyxJQUFJLFNBQUosQ0FBYyxDQUFkLEVBQWlCLEtBQWpCLENBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxXQUFULENBQXFCLEdBQXJCLEVBQTBCO0FBQy9CLE1BQU0sUUFBUSxJQUFJLE9BQUosQ0FBWSxHQUFaLENBQWQ7QUFDQSxNQUFJLFNBQVMsQ0FBQyxDQUFkLEVBQWlCO0FBQ2YsV0FBTyxFQUFQO0FBQ0Q7QUFDRCxTQUFPLElBQUksU0FBSixDQUFjLEtBQWQsQ0FBUDtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsYUFBVCxDQUF1QixHQUF2QixFQUE0QjtBQUNqQyxNQUFJLE9BQU8sR0FBUCxJQUFjLFFBQWxCLEVBQTRCO0FBQzFCLFVBQU0sbUJBQW1CLEdBQW5CLENBQU47QUFDRDtBQUNELFNBQU8sYUFBSyxhQUFMLENBQW1CLElBQW5CLENBQXdCLElBQUksTUFBNUIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7O0FBT08sU0FBUyxtQkFBVCxDQUE2QixHQUE3QixFQUFrQztBQUN2QyxNQUFJLE9BQU8sR0FBUCxJQUFjLFFBQWxCLEVBQTRCO0FBQzFCLFVBQU0sbUJBQW1CLEdBQW5CLENBQU47QUFDRDtBQUNELE1BQUksQ0FBQyxjQUFjLEdBQWQsQ0FBTCxFQUF5QjtBQUN2QixXQUFPLElBQVA7QUFDRDtBQUNELE1BQU0sT0FBTyxJQUFJLFFBQUosQ0FBYSxLQUFiLENBQW1CLEdBQW5CLEVBQXdCLENBQXhCLENBQWI7QUFDQSxTQUFPLEtBQUssQ0FBTCxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxpQkFBVCxDQUEyQixHQUEzQixFQUFnQztBQUNyQyxNQUFJLE9BQU8sR0FBUCxJQUFjLFFBQWxCLEVBQTRCO0FBQzFCLFVBQU0sbUJBQW1CLEdBQW5CLENBQU47QUFDRDtBQUNELFNBQU8sYUFBSyxjQUFMLENBQW9CLElBQXBCLENBQXlCLElBQUksTUFBN0IsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7QUFNTyxTQUFTLGVBQVQsQ0FBeUIsR0FBekIsRUFBOEI7QUFDbkMsTUFBSSxDQUFDLEdBQUwsRUFBVTtBQUNSLFdBQU8sSUFBUDtBQUNEO0FBQ0QsTUFBSSxPQUFPLEdBQVAsSUFBYyxRQUFsQixFQUE0QjtBQUMxQixVQUFNLG1CQUFtQixHQUFuQixDQUFOO0FBQ0Q7QUFDRCxTQUFPLENBQUMsa0JBQWtCLFFBQWxCLENBQTJCLElBQUksUUFBL0IsQ0FBUjtBQUNEOztBQUVEOzs7OztBQUtPLFNBQVMsd0JBQVQsQ0FBa0MsR0FBbEMsRUFBdUM7QUFDNUMsTUFBTSxTQUFTLG1CQUFtQixHQUFuQixDQUFmO0FBQ0EsTUFBTSxTQUFTLDRCQUE0QixPQUFPLE1BQW5DLENBQWY7QUFDQSxTQUFPLE9BQU8sTUFBUCxHQUFnQixPQUFPLFFBQXZCLEdBQWtDLE1BQWxDLEdBQTJDLE9BQU8sSUFBekQ7QUFFRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLFlBQVQsQ0FBc0IsR0FBdEIsRUFBMkI7QUFDaEMsTUFBTSxRQUFRLElBQUksT0FBSixDQUFZLEdBQVosQ0FBZDtBQUNBLE1BQUksU0FBUyxDQUFDLENBQWQsRUFBaUI7QUFDZixXQUFPLEdBQVA7QUFDRDtBQUNELE1BQU0sV0FBVyxZQUFZLEdBQVosQ0FBakI7QUFDQSxTQUFPLElBQUksU0FBSixDQUFjLENBQWQsRUFBaUIsS0FBakIsSUFBMEIsUUFBakM7QUFDRDs7QUFFRDs7Ozs7O0FBTUEsU0FBUywyQkFBVCxDQUFxQyxTQUFyQyxFQUFnRDtBQUM5QyxNQUFJLENBQUMsU0FBRCxJQUFjLGFBQWEsR0FBL0IsRUFBb0M7QUFDbEMsV0FBTyxFQUFQO0FBQ0Q7QUFDRCxNQUFNLFNBQVMsVUFDVixPQURVLENBQ0YsbUJBREUsRUFDbUIsRUFEbkIsRUFFVixPQUZVLENBRUYsb0JBRkUsRUFFb0IsRUFGcEIsRUFHVixPQUhVLENBR0Ysa0JBSEUsRUFHa0IsRUFIbEIsRUFJVixPQUpVLENBSUYsOEJBSkUsRUFJOEIsRUFKOUIsRUFLVixPQUxVLENBS0YsT0FMRSxFQUtPLEVBTFAsQ0FBZixDQUo4QyxDQVNuQjtBQUMzQixTQUFPLFNBQVMsTUFBTSxNQUFmLEdBQXdCLEVBQS9CO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsWUFBVCxDQUFzQixHQUF0QixFQUEyQjtBQUNoQyxNQUFJLE9BQU8sR0FBUCxJQUFjLFFBQWxCLEVBQTRCO0FBQzFCLFVBQU0sbUJBQW1CLEdBQW5CLENBQU47QUFDRDs7QUFFRDtBQUNBLE1BQUksQ0FBQyxjQUFjLEdBQWQsQ0FBTCxFQUF5QjtBQUN2QixXQUFPLElBQUksSUFBWDtBQUNEOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxPQUFPLElBQUksUUFBSixDQUFhLEtBQWIsQ0FBbUIsR0FBbkIsQ0FBYjtBQUNBLE1BQU0sU0FBUyxLQUFLLENBQUwsQ0FBZjtBQUNBLG1CQUFPLE1BQVAsQ0FBYyxvQkFBb0IsTUFBcEIsQ0FBZCxFQUNJLCtCQURKLEVBQ3FDLElBQUksSUFEekM7QUFFQSxNQUFNLHNCQUFzQixLQUFLLENBQUwsQ0FBNUI7QUFDQSxNQUFNLFNBQVMsdUJBQXVCLEdBQXZCLEdBQ1gsYUFBYSxtQkFBbUIsS0FBSyxDQUFMLENBQW5CLENBREYsR0FFWCxZQUFZLG1CQUFtQixtQkFBbkIsQ0FGaEI7QUFHQTtBQUNBLG1CQUFPLE1BQVAsQ0FBYyxPQUFPLE9BQVAsQ0FBZSxHQUFmLElBQXNCLENBQXBDLEVBQXVDLDJCQUF2QyxFQUFvRSxNQUFwRTtBQUNBLE9BQUssTUFBTCxDQUFZLENBQVosRUFBZSx1QkFBdUIsR0FBdkIsR0FBNkIsQ0FBN0IsR0FBaUMsQ0FBaEQ7QUFDQSxTQUFPLFNBQVMsS0FBSyxJQUFMLENBQVUsR0FBVixDQUFULEdBQ0gsNEJBQTRCLElBQUksTUFBaEMsQ0FERyxJQUN3QyxJQUFJLElBQUosSUFBWSxFQURwRCxDQUFQO0FBRUQ7O0FBRUQ7Ozs7OztBQU1PLFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QjtBQUNuQyxTQUFPLG1CQUFtQixhQUFhLEdBQWIsQ0FBbkIsRUFBc0MsTUFBN0M7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBUyxrQkFBVCxDQUE0QixpQkFBNUIsRUFBK0MsT0FBL0MsRUFBd0Q7QUFDN0QsTUFBSSxPQUFPLE9BQVAsSUFBa0IsUUFBdEIsRUFBZ0M7QUFDOUIsY0FBVSxtQkFBbUIsT0FBbkIsQ0FBVjtBQUNEO0FBQ0QsTUFBSSxPQUFPLEdBQVAsSUFBYyxVQUFsQixFQUE4QjtBQUM1QixXQUFPLElBQUksR0FBSixDQUFRLGlCQUFSLEVBQTJCLFFBQVEsSUFBbkMsRUFBeUMsUUFBekMsRUFBUDtBQUNEO0FBQ0QsU0FBTyw0QkFBNEIsaUJBQTVCLEVBQStDLE9BQS9DLENBQVA7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsMkJBQVQsQ0FBcUMsaUJBQXJDLEVBQXdELE9BQXhELEVBQWlFO0FBQ3RFLE1BQUksT0FBTyxPQUFQLElBQWtCLFFBQXRCLEVBQWdDO0FBQzlCLGNBQVUsbUJBQW1CLE9BQW5CLENBQVY7QUFDRDtBQUNELHNCQUFvQixrQkFBa0IsT0FBbEIsQ0FBMEIsS0FBMUIsRUFBaUMsR0FBakMsQ0FBcEI7QUFDQSxNQUFNLGNBQWMsbUJBQW1CLGlCQUFuQixDQUFwQjs7QUFFQTtBQUNBLE1BQUksd0JBQVcsa0JBQWtCLFdBQWxCLEVBQVgsRUFBNEMsWUFBWSxRQUF4RCxDQUFKLEVBQXVFO0FBQ3JFLFdBQU8sWUFBWSxJQUFuQjtBQUNEOztBQUVEO0FBQ0EsTUFBSSx3QkFBVyxpQkFBWCxFQUE4QixJQUE5QixDQUFKLEVBQXlDO0FBQ3ZDLFdBQU8sUUFBUSxRQUFSLEdBQW1CLGlCQUExQjtBQUNEOztBQUVEO0FBQ0EsTUFBSSx3QkFBVyxpQkFBWCxFQUE4QixHQUE5QixDQUFKLEVBQXdDO0FBQ3RDLFdBQU8sUUFBUSxNQUFSLEdBQWlCLGlCQUF4QjtBQUNEOztBQUVEO0FBQ0EsU0FBTyxRQUFRLE1BQVIsR0FBaUIsUUFBUSxRQUFSLENBQWlCLE9BQWpCLENBQXlCLFVBQXpCLEVBQXFDLEdBQXJDLENBQWpCLEdBQ0QsaUJBRE47QUFFRDs7QUFHRDs7Ozs7O0FBTU8sU0FBUyxVQUFULENBQW9CLEdBQXBCLEVBQXlCLEdBQXpCLEVBQThCO0FBQ25DLGVBQWEsR0FBYjtBQUNBLE1BQU0sZUFBZSxnQkFBZ0IsSUFBSSxRQUFKLENBQWEsSUFBN0IsQ0FBckI7QUFDQSxTQUFPLGNBQWMsR0FBZCxFQUFtQixtQkFBbkIsRUFBd0MsWUFBeEMsQ0FBUDtBQUNEOztBQUdEOzs7O0FBSU8sU0FBUyxZQUFULENBQXNCLEdBQXRCLEVBQTJCO0FBQ2hDLE1BQU0sWUFBWSxtQkFBbUIsR0FBbkIsQ0FBbEI7QUFDQSxNQUFNLFFBQVEsaUJBQWlCLFVBQVUsTUFBM0IsQ0FBZDtBQUNBLG1CQUFPLE1BQVAsQ0FBYyxFQUFFLHVCQUF1QixLQUF6QixDQUFkLEVBQ0ksb0NBREosRUFDMEMsR0FEMUM7QUFFRDs7QUFFRDs7Ozs7Ozs7QUFRTyxTQUFTLHFCQUFULENBQStCLFNBQS9CLEVBQTBDLFlBQTFDLEVBQXdEO0FBQzdELFNBQU8sc0RBQXVCLFNBQXZCLEVBQWtDLFlBQWxDLENBQVA7QUFDRDs7Ozs7O1FDbmlCZSxlLEdBQUEsZTtRQXVCQSxZLEdBQUEsWTtRQStCQSxTLEdBQUEsUztRQWdCQSxZLEdBQUEsWTtRQWVBLGMsR0FBQSxjO0FBaEhoQjs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTs7Ozs7Ozs7OztBQVVPLFNBQVMsZUFBVCxDQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQztBQUMxQyxNQUFJLEtBQUssTUFBTCxLQUFnQixLQUFLLE1BQXpCLEVBQWlDO0FBQy9CLFdBQU8sS0FBUDtBQUNEOztBQUVELE9BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLE1BQXpCLEVBQWlDLEdBQWpDLEVBQXNDO0FBQ3BDLFFBQUksS0FBSyxDQUFMLE1BQVksS0FBSyxDQUFMLENBQWhCLEVBQXlCO0FBQ3ZCLGFBQU8sS0FBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTyxJQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztBQVNPLFNBQVMsWUFBVCxDQUFzQixLQUF0QixFQUE2QixNQUE3QixFQUFxQztBQUMxQyxNQUFNLFNBQVMsRUFBZjtBQUNBLE1BQUksUUFBUSxDQUFaO0FBQ0EsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLE1BQU0sTUFBMUIsRUFBa0MsR0FBbEMsRUFBdUM7QUFDckMsUUFBTSxPQUFPLE1BQU0sQ0FBTixDQUFiO0FBQ0EsUUFBSSxPQUFPLElBQVAsRUFBYSxDQUFiLEVBQWdCLEtBQWhCLENBQUosRUFBNEI7QUFDMUIsVUFBSSxRQUFRLENBQVosRUFBZTtBQUNiLGNBQU0sS0FBTixJQUFlLElBQWY7QUFDRDtBQUNEO0FBQ0QsS0FMRCxNQUtPO0FBQ0wsYUFBTyxJQUFQLENBQVksSUFBWjtBQUNEO0FBQ0Y7O0FBRUQsTUFBSSxRQUFRLE1BQU0sTUFBbEIsRUFBMEI7QUFDeEIsVUFBTSxNQUFOLEdBQWUsS0FBZjtBQUNEOztBQUVELFNBQU8sTUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7QUFTTyxTQUFTLFNBQVQsQ0FBbUIsS0FBbkIsRUFBMEIsU0FBMUIsRUFBcUM7QUFDMUMsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLE1BQU0sTUFBMUIsRUFBa0MsR0FBbEMsRUFBdUM7QUFDckMsUUFBSSxVQUFVLE1BQU0sQ0FBTixDQUFWLEVBQW9CLENBQXBCLEVBQXVCLEtBQXZCLENBQUosRUFBbUM7QUFDakMsYUFBTyxDQUFQO0FBQ0Q7QUFDRjtBQUNELFNBQU8sQ0FBQyxDQUFSO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLFlBQVQsQ0FBc0IsUUFBdEIsRUFBZ0M7QUFDckMsTUFBTSxRQUFRLEVBQWQ7QUFDQSxPQUFLLElBQUksSUFBSSxTQUFTLElBQVQsRUFBYixFQUE4QixDQUFDLEVBQUUsSUFBakMsRUFBdUMsSUFBSSxTQUFTLElBQVQsRUFBM0MsRUFBNEQ7QUFDMUQsVUFBTSxJQUFOLENBQVcsRUFBRSxLQUFiO0FBQ0Q7QUFDRCxTQUFPLEtBQVA7QUFDRDs7QUFFRDs7Ozs7OztBQU9PLFNBQVMsY0FBVCxDQUF3QixLQUF4QixFQUErQixJQUEvQixFQUFxQztBQUMxQyxNQUFJLE1BQU0sT0FBTixDQUFjLElBQWQsSUFBc0IsQ0FBMUIsRUFBNkI7QUFDM0IsVUFBTSxJQUFOLENBQVcsSUFBWDtBQUNEO0FBQ0Y7Ozs7OztRQ3JGZSxJLEdBQUEsSTtBQS9CaEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7O0FBWU8sU0FBUyxJQUFULENBQWMsRUFBZCxFQUFrQjtBQUN2QixNQUFJLFlBQVksS0FBaEI7QUFDQSxNQUFJLFdBQVcsSUFBZjtBQUNBLE1BQUksV0FBVyxFQUFmO0FBQ0EsU0FBTyxZQUFhO0FBQUEsc0NBQVQsSUFBUztBQUFULFVBQVM7QUFBQTs7QUFDbEIsUUFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZCxpQkFBVyxTQUFTLEtBQVQsQ0FBZSxJQUFmLEVBQXFCLElBQXJCLENBQVg7QUFDQSxrQkFBWSxJQUFaO0FBQ0EsaUJBQVcsSUFBWCxDQUhjLENBR0c7QUFDbEI7QUFDRCxXQUFPLFFBQVA7QUFDRCxHQVBEO0FBUUQ7Ozs7OztBQzNDRDs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7O0FBR08sSUFBTSw4QkFBVztBQUN0QixTQUFPLEVBRGU7QUFFdEIsVUFBUSxFQUZjO0FBR3RCLFNBQU8sRUFIZTtBQUl0QixjQUFZLEVBSlU7QUFLdEIsWUFBVSxFQUxZO0FBTXRCLGVBQWEsRUFOUztBQU90QixjQUFZO0FBUFUsQ0FBakI7Ozs7Ozs7O3FqQkNuQlA7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7QUFFQTtBQUNBLElBQU0sTUFBTSxXQUFaOztBQUVBOzs7O0lBR2EsUSxXQUFBLFE7QUFDWDs7O0FBR0Esb0JBQVksUUFBWixFQUFzQjtBQUFBOztBQUNwQjtBQUNBLFNBQUssU0FBTCxHQUFpQixRQUFqQjs7QUFFQTtBQUNBLFNBQUssS0FBTCxHQUFhLENBQWI7O0FBRUE7Ozs7QUFJQSxTQUFLLE9BQUwsR0FBZSxDQUFmOztBQUVBO0FBQ0EsU0FBSyxNQUFMLEdBQWMsT0FBTyxNQUFQLENBQWMsSUFBZCxDQUFkO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7d0JBTUksRyxFQUFLO0FBQ1AsYUFBTyxDQUFDLENBQUMsS0FBSyxNQUFMLENBQVksR0FBWixDQUFUO0FBQ0Q7O0FBRUQ7Ozs7Ozs7d0JBSUksRyxFQUFLO0FBQ1AsVUFBTSxZQUFZLEtBQUssTUFBTCxDQUFZLEdBQVosQ0FBbEI7QUFDQSxVQUFJLFNBQUosRUFBZTtBQUNiLGtCQUFVLE1BQVYsR0FBbUIsRUFBRSxLQUFLLE9BQTFCO0FBQ0EsZUFBTyxVQUFVLE9BQWpCO0FBQ0Q7QUFDRCxhQUFPLFNBQVA7QUFDRDs7QUFFRDs7Ozs7Ozt3QkFJSSxHLEVBQUssTyxFQUFTO0FBQ2hCLFVBQUksQ0FBQyxLQUFLLEdBQUwsQ0FBUyxHQUFULENBQUwsRUFBb0I7QUFDbEIsYUFBSyxLQUFMO0FBQ0Q7QUFDRCxXQUFLLE1BQUwsQ0FBWSxHQUFaLElBQW1CLEVBQUMsZ0JBQUQsRUFBVSxRQUFRLEtBQUssT0FBdkIsRUFBbkI7QUFDQSxXQUFLLE1BQUw7QUFDRDs7QUFFRDs7Ozs7OzZCQUdTO0FBQ1AsVUFBSSxLQUFLLEtBQUwsSUFBYyxLQUFLLFNBQXZCLEVBQWtDO0FBQ2hDO0FBQ0Q7O0FBRUQsc0JBQU0sSUFBTixDQUFXLEdBQVgsRUFBZ0Isb0JBQWhCO0FBQ0EsVUFBTSxRQUFRLEtBQUssTUFBbkI7QUFDQSxVQUFJLFNBQVMsS0FBSyxPQUFMLEdBQWUsQ0FBNUI7QUFDQSxVQUFJLGtCQUFKO0FBQ0EsV0FBSyxJQUFNLEdBQVgsSUFBa0IsS0FBbEIsRUFBeUI7QUFBQSxZQUNoQixNQURnQixHQUNOLE1BQU0sR0FBTixDQURNLENBQ2hCLE1BRGdCOztBQUV2QixZQUFJLFNBQVMsTUFBYixFQUFxQjtBQUNuQixtQkFBUyxNQUFUO0FBQ0Esc0JBQVksR0FBWjtBQUNEO0FBQ0Y7O0FBRUQsVUFBSSxjQUFjLFNBQWxCLEVBQTZCO0FBQzNCLGVBQU8sTUFBTSxTQUFOLENBQVA7QUFDQSxhQUFLLEtBQUw7QUFDRDtBQUNGOzs7Ozs7Ozs7O1FDM0VhLEcsR0FBQSxHO1FBbUJBLEksR0FBQSxJO1FBY0EsTSxHQUFBLE07UUFZQSxXLEdBQUEsVztRQW1CQSxTLEdBQUEsUztRQTRDQSxJLEdBQUEsSTs7QUF6SGhCOztBQUVBO0FBQ0EsSUFBTSxVQUFVLE9BQU8sU0FBUCxDQUFpQixjQUFqQzs7QUFFQTs7Ozs7Ozs7QUFyQkE7Ozs7Ozs7Ozs7Ozs7Ozs7QUE2Qk8sU0FBUyxHQUFULENBQWEsV0FBYixFQUEwQjtBQUMvQixNQUFNLE1BQU0sT0FBTyxNQUFQLENBQWMsSUFBZCxDQUFaO0FBQ0EsTUFBSSxXQUFKLEVBQWlCO0FBQ2YsV0FBTyxNQUFQLENBQWMsR0FBZCxFQUFtQixXQUFuQjtBQUNEO0FBQ0QsU0FBTyxHQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7O0FBV08sU0FBUyxJQUFULENBQWMsV0FBZCxFQUEyQjtBQUNoQztBQUNBO0FBQ0EsU0FBTywyQkFBNEIsZUFBZTtBQUFsRDtBQUNEOztBQUVEOzs7Ozs7OztBQVFPLFNBQVMsTUFBVCxDQUFnQixHQUFoQixFQUFxQixHQUFyQixFQUEwQjtBQUMvQixTQUFPLFFBQVEsSUFBUixDQUFhLEdBQWIsRUFBa0IsR0FBbEIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OztBQVFPLFNBQVMsV0FBVCxDQUFxQixHQUFyQixFQUEwQixHQUExQixFQUErQjtBQUNwQyxNQUFJLE9BQU8sR0FBUCxFQUFZLEdBQVosQ0FBSixFQUFzQjtBQUNwQixXQUFPLElBQUksR0FBSixDQUFQO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxTQUFQO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7Ozs7QUFXTyxTQUFTLFNBQVQsQ0FBbUIsTUFBbkIsRUFBMkIsTUFBM0IsRUFBK0M7QUFBQSxNQUFaLEtBQVksdUVBQUosRUFBSTs7QUFDcEQ7QUFDQSxNQUFNLE9BQU8sRUFBYjs7QUFFQTtBQUNBLE1BQU0sUUFBUSxFQUFkO0FBQ0EsUUFBTSxJQUFOLENBQVcsRUFBQyxHQUFHLE1BQUosRUFBWSxHQUFHLE1BQWYsRUFBdUIsR0FBRyxDQUExQixFQUFYOztBQUVBOztBQVJvRDtBQUFBLHVCQVVoQyxNQUFNLEtBQU4sRUFWZ0M7QUFBQSxRQVUzQyxDQVYyQyxnQkFVM0MsQ0FWMkM7QUFBQSxRQVV4QyxDQVZ3QyxnQkFVeEMsQ0FWd0M7QUFBQSxRQVVyQyxDQVZxQyxnQkFVckMsQ0FWcUM7O0FBV2xELFFBQUksS0FBSyxRQUFMLENBQWMsQ0FBZCxDQUFKLEVBQXNCO0FBQ3BCLFlBQU0sSUFBSSxLQUFKLENBQVUseUNBQVYsQ0FBTjtBQUNEO0FBQ0QsU0FBSyxJQUFMLENBQVUsQ0FBVjtBQUNBLFFBQUksTUFBTSxDQUFWLEVBQWE7QUFDWDtBQUNEO0FBQ0QsUUFBSSxJQUFJLEtBQVIsRUFBZTtBQUNiLGFBQU8sTUFBUCxDQUFjLENBQWQsRUFBaUIsQ0FBakI7QUFDQTtBQUNEO0FBQ0QsV0FBTyxJQUFQLENBQVksQ0FBWixFQUFlLE9BQWYsQ0FBdUIsZUFBTztBQUM1QixVQUFNLFdBQVcsRUFBRSxHQUFGLENBQWpCO0FBQ0E7QUFDQTtBQUNBLFVBQUksT0FBTyxDQUFQLEVBQVUsR0FBVixDQUFKLEVBQW9CO0FBQ2xCLFlBQU0sV0FBVyxFQUFFLEdBQUYsQ0FBakI7QUFDQSxZQUFJLHFCQUFTLFFBQVQsS0FBc0IscUJBQVMsUUFBVCxDQUExQixFQUE4QztBQUM1QyxnQkFBTSxJQUFOLENBQVcsRUFBQyxHQUFHLFFBQUosRUFBYyxHQUFHLFFBQWpCLEVBQTJCLEdBQUcsSUFBSSxDQUFsQyxFQUFYO0FBQ0E7QUFDRDtBQUNGO0FBQ0QsUUFBRSxHQUFGLElBQVMsUUFBVDtBQUNELEtBWkQ7QUF0QmtEOztBQVNwRCxTQUFPLE1BQU0sTUFBTixHQUFlLENBQXRCLEVBQXlCO0FBQUE7O0FBQUEsNkJBV3JCO0FBZUg7QUFDRCxTQUFPLE1BQVA7QUFDRDs7QUFFRDs7Ozs7QUFLTyxTQUFTLElBQVQsQ0FBYyxDQUFkLEVBQWlCLEtBQWpCLEVBQXdCO0FBQzdCLFNBQU8sT0FBTyxJQUFQLENBQVksQ0FBWixFQUFlLE1BQWYsQ0FBc0IsVUFBQyxHQUFELEVBQU0sR0FBTixFQUFjO0FBQ3pDLFFBQUksQ0FBQyxNQUFNLFFBQU4sQ0FBZSxHQUFmLENBQUwsRUFBMEI7QUFDeEIsVUFBSSxHQUFKLElBQVcsRUFBRSxHQUFGLENBQVg7QUFDRDtBQUNELFdBQU8sR0FBUDtBQUNELEdBTE0sRUFLSixFQUxJLENBQVA7QUFNRDs7Ozs7Ozs7O1FDeEVlLFUsR0FBQSxVO1FBZUEsSSxHQUFBLEk7Ozs7QUF2RmhCOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxQmEsUTtBQUNYOzs7UUFEVyxRLEdBSVgsb0JBQWM7QUFBQTs7QUFDWixNQUFJLGdCQUFKO0FBQUEsTUFBYSxlQUFiOztBQUVBOzs7QUFHQSxPQUFLLE9BQUwsR0FBZSxJQUFJLE1BQU0sT0FBVixDQUFrQixVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDN0MsY0FBVSxHQUFWO0FBQ0EsYUFBUyxHQUFUO0FBQ0QsR0FIYyxDQUFmOztBQUtBOzs7QUFHQSxPQUFLLE9BQUwsR0FBZSxPQUFmOztBQUVBOzs7QUFHQSxPQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0QsQzs7QUFHSDs7Ozs7Ozs7OztBQVFPLFNBQVMsVUFBVCxDQUFvQixFQUFwQixFQUF3QjtBQUM3QixTQUFPLElBQUksT0FBSixDQUFZLG1CQUFXO0FBQzVCLFlBQVEsSUFBUjtBQUNELEdBRk0sQ0FBUDtBQUdEOztBQUVEOzs7Ozs7Ozs7QUFTTyxTQUFTLElBQVQsQ0FBYyxRQUFkLEVBQW1DO0FBQUEsTUFBWCxLQUFXLHVFQUFILENBQUc7O0FBQ3hDLFNBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN0QyxZQUFRLEtBQUssR0FBTCxDQUFTLEtBQVQsRUFBZ0IsQ0FBaEIsQ0FBUjtBQUNBLFFBQU0sUUFBUSxTQUFTLE1BQVQsR0FBa0IsS0FBaEM7QUFDQSxRQUFJLFFBQVEsQ0FBWixFQUFlO0FBQ2IsYUFBTyxJQUFJLEtBQUosQ0FBVSxnQ0FBVixDQUFQO0FBQ0Q7QUFDRCxRQUFJLFNBQVMsTUFBVCxJQUFtQixDQUF2QixFQUEwQjtBQUN4QixjQUFRLEVBQVI7QUFDRDtBQUNELFFBQU0sU0FBUyxFQUFmO0FBQ0EsUUFBTSxVQUFVLEVBQWhCOztBQUVBLFFBQU0sY0FBYyxTQUFkLFdBQWMsUUFBUztBQUMzQixVQUFJLE9BQU8sTUFBUCxHQUFnQixLQUFwQixFQUEyQjtBQUN6QixlQUFPLElBQVAsQ0FBWSxLQUFaO0FBQ0Q7QUFDRCxVQUFJLE9BQU8sTUFBUCxJQUFpQixLQUFyQixFQUE0QjtBQUMxQixnQkFBUSxNQUFSO0FBQ0Q7QUFDRixLQVBEO0FBUUEsUUFBTSxhQUFhLFNBQWIsVUFBYSxTQUFVO0FBQzNCLFVBQUksUUFBUSxNQUFSLElBQWtCLEtBQXRCLEVBQTZCO0FBQzNCLGdCQUFRLElBQVIsQ0FBYSxNQUFiO0FBQ0Q7QUFDRCxVQUFJLFFBQVEsTUFBUixHQUFpQixLQUFyQixFQUE0QjtBQUMxQixlQUFPLE9BQVA7QUFDRDtBQUNGLEtBUEQ7QUFRQSxTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksU0FBUyxNQUE3QixFQUFxQyxHQUFyQyxFQUEwQztBQUN4QyxjQUFRLE9BQVIsQ0FBZ0IsU0FBUyxDQUFULENBQWhCLEVBQTZCLElBQTdCLENBQWtDLFdBQWxDLEVBQStDLFVBQS9DO0FBQ0Q7QUFDRixHQS9CTSxDQUFQO0FBZ0NEOztBQUVEOzs7OztJQUlhLGlCLFdBQUEsaUI7QUFDWDs7O0FBR0EsNkJBQVksWUFBWixFQUEwQjtBQUFBOztBQUN4QixRQUFJLGlCQUFKO0FBQUEsUUFBYyxnQkFBZDtBQUNBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLElBQUksT0FBSixDQUFZLFVBQUMsT0FBRCxFQUFVLE1BQVYsRUFBcUI7QUFDL0MsaUJBQVcsT0FBWDtBQUNBLGdCQUFVLE1BQVY7QUFDRCxLQUhlLENBQWhCOztBQUtBO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLFFBQWhCOztBQUVBO0FBQ0EsU0FBSyxPQUFMLEdBQWUsT0FBZjs7QUFFQTtBQUNBLFNBQUssTUFBTCxHQUFjLENBQWQ7O0FBRUEsUUFBSSxZQUFKLEVBQWtCO0FBQ2hCLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxhQUFhLE1BQWpDLEVBQXlDLEdBQXpDLEVBQThDO0FBQzVDLGFBQUssR0FBTCxDQUFTLGFBQWEsQ0FBYixDQUFUO0FBQ0Q7QUFDRjtBQUNGOztBQUVEOzs7Ozs7Ozs7d0JBS0ksTyxFQUFTO0FBQUE7O0FBQ1gsVUFBTSxhQUFhLEVBQUUsS0FBSyxNQUExQjtBQUNBLGNBQVEsT0FBUixDQUFnQixPQUFoQixFQUF5QixJQUF6QixDQUE4QixrQkFBVTtBQUN0QyxZQUFJLE1BQUssTUFBTCxLQUFnQixVQUFwQixFQUFnQztBQUM5QixnQkFBSyxRQUFMLENBQWMsTUFBZDtBQUNEO0FBQ0YsT0FKRCxFQUlHLGlCQUFTO0FBQ1Y7QUFDQTtBQUNBLFlBQUksTUFBSyxNQUFMLEtBQWdCLFVBQXBCLEVBQWdDO0FBQzlCLGdCQUFLLE9BQUwsQ0FBYSxLQUFiO0FBQ0Q7QUFDRixPQVZEO0FBV0EsYUFBTyxLQUFLLFFBQVo7QUFDRDs7QUFFRDs7Ozt5QkFDSyxXLEVBQWEsVSxFQUFZO0FBQzVCLGFBQU8sS0FBSyxRQUFMLENBQWMsSUFBZCxDQUFtQixXQUFuQixFQUFnQyxVQUFoQyxDQUFQO0FBQ0Q7Ozs7Ozs7Ozs7UUN4SmEsUSxHQUFBLFE7UUE2Q0EsUSxHQUFBLFE7QUF2RWhCOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBOzs7Ozs7Ozs7O0FBVU8sU0FBUyxRQUFULENBQWtCLEdBQWxCLEVBQXVCLFFBQXZCLEVBQWlDLFdBQWpDLEVBQThDO0FBQ25ELE1BQUksU0FBUyxDQUFiO0FBQ0EsTUFBSSxlQUFlLElBQW5COztBQUVBOzs7QUFHQSxXQUFTLElBQVQsQ0FBYyxJQUFkLEVBQW9CO0FBQ2xCLG1CQUFlLElBQWY7QUFDQTtBQUNBLGFBQVMsSUFBSSxVQUFKLENBQWUsTUFBZixFQUF1QixXQUF2QixDQUFUOztBQUVBLGFBQVMsS0FBVCxDQUFlLElBQWYsRUFBcUIsSUFBckI7QUFDRDs7QUFFRDs7O0FBR0EsV0FBUyxNQUFULEdBQWtCO0FBQ2hCLGFBQVMsQ0FBVDtBQUNBO0FBQ0EsUUFBSSxZQUFKLEVBQWtCO0FBQ2hCLFdBQUssWUFBTDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTyxZQUFrQjtBQUFBLHNDQUFOLElBQU07QUFBTixVQUFNO0FBQUE7O0FBQ3ZCLFFBQUksTUFBSixFQUFZO0FBQ1YscUJBQWUsSUFBZjtBQUNELEtBRkQsTUFFTztBQUNMLFdBQUssSUFBTDtBQUNEO0FBQ0YsR0FORDtBQU9EOztBQUVEOzs7Ozs7Ozs7O0FBVU8sU0FBUyxRQUFULENBQWtCLEdBQWxCLEVBQXVCLFFBQXZCLEVBQWlDLFdBQWpDLEVBQThDO0FBQ25ELE1BQUksU0FBUyxDQUFiO0FBQ0EsTUFBSSxZQUFZLENBQWhCO0FBQ0EsTUFBSSxlQUFlLElBQW5COztBQUVBOzs7QUFHQSxXQUFTLElBQVQsQ0FBYyxJQUFkLEVBQW9CO0FBQ2xCLG1CQUFlLElBQWY7QUFDQSxhQUFTLEtBQVQsQ0FBZSxJQUFmLEVBQXFCLElBQXJCO0FBQ0Q7O0FBRUQ7OztBQUdBLFdBQVMsTUFBVCxHQUFrQjtBQUNoQixhQUFTLENBQVQ7QUFDQSxRQUFNLFlBQVksZUFBZSxJQUFJLElBQUosQ0FBUyxHQUFULEtBQWlCLFNBQWhDLENBQWxCO0FBQ0EsUUFBSSxZQUFZLENBQWhCLEVBQW1CO0FBQ2pCLGVBQVMsSUFBSSxVQUFKLENBQWUsTUFBZixFQUF1QixTQUF2QixDQUFUO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsV0FBSyxZQUFMO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPLFlBQWtCO0FBQ3ZCLGdCQUFZLElBQUksSUFBSixDQUFTLEdBQVQsRUFBWjs7QUFEdUIsdUNBQU4sSUFBTTtBQUFOLFVBQU07QUFBQTs7QUFFdkIsbUJBQWUsSUFBZjtBQUNBLFFBQUksQ0FBQyxNQUFMLEVBQWE7QUFDWCxlQUFTLElBQUksVUFBSixDQUFlLE1BQWYsRUFBdUIsV0FBdkIsQ0FBVDtBQUNEO0FBQ0YsR0FORDtBQU9EOzs7Ozs7OztxakJDeEdEOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUNBOzs7O0FBR0E7Ozs7SUFJYSxPLFdBQUEsTzs7QUFFWDs7O0FBR0EscUJBQWM7QUFBQTs7QUFDWjs7Ozs7QUFLQSxTQUFLLElBQUwsR0FBWSxrQkFBWjs7QUFFQTs7Ozs7Ozs7O0FBU0EsU0FBSyxXQUFMLEdBQW1CLElBQW5CO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7d0JBTUksSSxFQUFNO0FBQ1IsYUFBTyxLQUFLLElBQUwsQ0FBVSxJQUFWLEtBQW1CLElBQTFCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzsrQkFNVyxJLEVBQU07QUFDZixVQUFJLGdCQUFnQixLQUFLLFdBQUwsSUFBb0IsS0FBSyxXQUFMLENBQWlCLElBQWpCLENBQXhDO0FBQ0EsVUFBSSxDQUFDLGFBQUwsRUFBb0I7QUFDbEIsWUFBTSxTQUFTLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBZjtBQUNBLFlBQUksVUFBVSxJQUFkLEVBQW9CO0FBQ2xCO0FBQ0EsY0FBTSxVQUFVLE9BQU8sTUFBUCxJQUFpQixRQUFqQixHQUNkLFFBQVEsT0FBUixDQUFnQixNQUFoQixDQURjLEdBRWQsUUFBUSxNQUFSLENBQWUsTUFBZixDQUZGO0FBR0EsMEJBQWdCLEVBQUMsZ0JBQUQsRUFBaEI7QUFDRCxTQU5ELE1BTU87QUFDTDtBQUNBO0FBQ0EsY0FBTSxXQUFXLHdCQUFqQjtBQUhLLGNBSUUsUUFKRixHQUk4QixRQUo5QixDQUlFLE9BSkY7QUFBQSxjQUlXLE9BSlgsR0FJOEIsUUFKOUIsQ0FJVyxPQUpYO0FBQUEsY0FJb0IsTUFKcEIsR0FJOEIsUUFKOUIsQ0FJb0IsTUFKcEI7OztBQU1MLDBCQUFnQixFQUFDLGlCQUFELEVBQVUsZ0JBQVYsRUFBbUIsY0FBbkIsRUFBaEI7QUFDRDtBQUNELFlBQUksQ0FBQyxLQUFLLFdBQVYsRUFBdUI7QUFDckIsZUFBSyxXQUFMLEdBQW1CLGtCQUFuQjtBQUNEO0FBQ0QsYUFBSyxXQUFMLENBQWlCLElBQWpCLElBQXlCLGFBQXpCO0FBQ0Q7QUFDRCxhQUFPLGNBQWMsT0FBckI7QUFDRDs7QUFFRDs7Ozs7Ozs7OzsyQkFPTyxJLEVBQU0sUSxFQUFVO0FBQ3JCLFVBQUksS0FBSyxJQUFMLENBQVUsSUFBVixLQUFtQixJQUF2QixFQUE2QjtBQUMzQjtBQUNBO0FBQ0Q7QUFDRCxVQUFNLE9BQU8sWUFBWSxLQUFLLEdBQUwsRUFBekI7QUFDQSxXQUFLLElBQUwsQ0FBVSxJQUFWLElBQWtCLElBQWxCO0FBQ0EsVUFBTSxnQkFBZ0IsS0FBSyxXQUFMLElBQW9CLEtBQUssV0FBTCxDQUFpQixJQUFqQixDQUExQztBQUNBLFVBQUksaUJBQWlCLGNBQWMsT0FBbkMsRUFBNEM7QUFDMUMsc0JBQWMsT0FBZCxDQUFzQixJQUF0QjtBQUNBLHNCQUFjLE9BQWQsR0FBd0IsU0FBeEI7QUFDQSxzQkFBYyxNQUFkLEdBQXVCLFNBQXZCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7O2lDQU1hLEksRUFBTSxLLEVBQU87QUFDeEIsVUFBSSxLQUFLLElBQUwsQ0FBVSxJQUFWLEtBQW1CLElBQXZCLEVBQTZCO0FBQzNCO0FBQ0E7QUFDRDtBQUNELFdBQUssSUFBTCxDQUFVLElBQVYsSUFBa0IsS0FBbEI7QUFDQSxVQUFNLGdCQUFnQixLQUFLLFdBQUwsSUFBb0IsS0FBSyxXQUFMLENBQWlCLElBQWpCLENBQTFDO0FBQ0EsVUFBSSxpQkFBaUIsY0FBYyxNQUFuQyxFQUEyQztBQUN6QyxzQkFBYyxNQUFkLENBQXFCLEtBQXJCO0FBQ0Esc0JBQWMsT0FBZCxHQUF3QixTQUF4QjtBQUNBLHNCQUFjLE1BQWQsR0FBdUIsU0FBdkI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OzBCQUlNLEksRUFBTTtBQUNWLFVBQUksS0FBSyxJQUFMLENBQVUsSUFBVixDQUFKLEVBQXFCO0FBQ25CLGVBQU8sS0FBSyxJQUFMLENBQVUsSUFBVixDQUFQO0FBQ0Q7QUFDRDtBQUNBLFVBQU0sZ0JBQWdCLEtBQUssV0FBTCxJQUFvQixLQUFLLFdBQUwsQ0FBaUIsSUFBakIsQ0FBMUM7QUFDQSxVQUFJLGlCQUFpQixDQUFDLGNBQWMsT0FBcEMsRUFBNkM7QUFDM0MsZUFBTyxLQUFLLFdBQUwsQ0FBaUIsSUFBakIsQ0FBUDtBQUNEO0FBQ0Y7Ozs7Ozs7Ozs7OztxakJDbEpIOzs7Ozs7Ozs7Ozs7Ozs7OztRQWtIZ0IsMEIsR0FBQSwwQjs7QUFuR2hCOztBQUNBOztBQUNBOzs7O0FBR0E7Ozs7O0FBS0EsU0FBUyx1QkFBVCxDQUFpQyxHQUFqQyxFQUFzQyxZQUF0QyxFQUFvRDtBQUNsRDtBQUNBLE1BQUksWUFBSixFQUFrQjtBQUNoQixXQUFPLFFBQVEsT0FBUixDQUFnQixLQUFoQixDQUFQO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1CQUFtQixJQUFJLFFBQUosQ0FBYSxhQUFiLENBQTJCLE9BQTNCLENBQXpCOztBQUVBO0FBQ0E7QUFDQSxtQkFBaUIsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsRUFBdkM7QUFDQSxtQkFBaUIsWUFBakIsQ0FBOEIsYUFBOUIsRUFBNkMsRUFBN0M7QUFDQSxtQkFBaUIsWUFBakIsQ0FBOEIsb0JBQTlCLEVBQW9ELEVBQXBEO0FBQ0EsbUJBQWlCLFlBQWpCLENBQThCLFFBQTlCLEVBQXdDLEdBQXhDO0FBQ0EsbUJBQWlCLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLEdBQXZDOztBQUVBLG1CQUFpQixLQUFqQixHQUF5QixJQUF6QjtBQUNBLG1CQUFpQixXQUFqQixHQUErQixJQUEvQjtBQUNBLG1CQUFpQixpQkFBakIsR0FBcUMsSUFBckM7O0FBRUEsd0JBQVUsZ0JBQVYsRUFBNEI7QUFDMUIsY0FBVSxPQURnQjtBQUUxQixTQUFLLEdBRnFCO0FBRzFCLFdBQU8sR0FIbUI7QUFJMUIsWUFBUSxHQUprQjtBQUsxQixhQUFTO0FBTGlCLEdBQTVCOztBQVFBO0FBQ0E7QUFDQSxNQUFJLE9BQUosQ0FBWTtBQUFBLFdBQVcsUUFBUSxpQkFBaUIsSUFBakIsRUFBUixDQUFYO0FBQUEsR0FBWixFQUF5RCxLQUF6RCxDQUErRCxZQUFNO0FBQ25FO0FBQ0QsR0FGRDs7QUFJQSxTQUFPLFFBQVEsT0FBUixDQUFnQixDQUFDLGlCQUFpQixNQUFsQyxDQUFQO0FBQ0Q7O0FBR0Q7QUFDQSxJQUFJLHVCQUFzQixJQUExQjs7QUFFQTs7O0FBR0EsU0FBUyxzQkFBVCxHQUFrQztBQUNoQztBQUNFLDREQUNFLG9CQUFLLHVCQUFMLENBRko7QUFHRDs7QUFHRDs7OztJQUdhLFUsV0FBQSxVOzs7Ozs7OztBQUNYOzs7Ozs7Ozs7Ozt3Q0FXMkIsRyxFQUFLLFksRUFBYztBQUM1QyxVQUFJLENBQUMsb0JBQUwsRUFBMEI7QUFDeEI7QUFDRDtBQUNELGFBQU8scUJBQW9CLEdBQXBCLEVBQXlCLFlBQXpCLENBQVA7QUFDRDs7QUFFRDs7OzsrQ0FDa0M7QUFDaEM7QUFDRDs7Ozs7O0FBR0g7Ozs7Ozs7O0FBTU8sU0FBUywwQkFBVCxDQUFvQyxPQUFwQyxFQUE2QztBQUNsRCxTQUFPLGdCQUFNLGFBQU4sQ0FBb0IsUUFBUSxhQUFSLENBQXNCLGVBQXRCLENBQXBCLENBQVA7QUFDRDs7Ozs7Ozs7Ozs7QUNwSEQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQk8sSUFBTSxnRkFBb0MsR0FBMUM7O0FBRVA7Ozs7Ozs7Ozs7Ozs7OztJQWNhLGMsV0FBQSxjOzs7Ozs7Ozs7QUFFWDs7Ozs7dUNBS21CLENBQUU7O0FBRXJCOzs7Ozs7Ozs7O29DQU9nQixDQUFFOztBQUVsQjs7Ozs7OztxQ0FJaUIsQ0FBRTs7QUFFbkI7Ozs7Ozs7a0NBSWMsQ0FBRTs7QUFFaEI7Ozs7Ozs7c0NBSWtCLENBQUU7O0FBRXBCOzs7Ozs7Ozs7O3lCQU9LLGdCLEVBQWtCLENBQUU7O0FBRXpCOzs7Ozs7NEJBR1EsQ0FBRTs7QUFFVjs7Ozs7OzJCQUdPLENBQUU7O0FBRVQ7Ozs7Ozs2QkFHUyxDQUFFOztBQUVYOzs7Ozs7OzttQ0FLZSxDQUFFOztBQUVqQjs7Ozs7Ozs7bUNBS2UsQ0FBRTs7QUFFakI7Ozs7Ozs7Ozs7OztrQ0FTYyxDQUFFOztBQUVoQjs7Ozs7Ozs7Ozs7O2tEQVM4QixDQUFFOztBQUVoQzs7Ozs7Ozs7Ozs7bURBUStCLENBQUU7O0FBRWpDOzs7Ozs7Ozs7Ozs7c0NBU2tCLENBQUU7O0FBRXBCOzs7Ozs7cUNBR2lCLENBQUU7O0FBRW5COzs7Ozs7O21DQUllLENBQUU7Ozs7OztBQUluQjs7Ozs7Ozs7OztBQVFPLElBQU0sNENBQWtCO0FBQzdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CQSxZQUFVLFVBckJtQjtBQXNCN0I7Ozs7OztBQU1BLFFBQU0sTUE1QnVCO0FBNkI3Qjs7Ozs7Ozs7Ozs7O0FBWUEsd0JBQXNCLHNCQXpDTztBQTBDN0I7Ozs7O0FBS0EsWUFBVTtBQS9DbUIsQ0FBeEI7O0FBbURQOzs7Ozs7OztBQVFPLElBQU0sb0NBQWM7QUFDekI7Ozs7Ozs7O0FBUUEsY0FBWSxZQVRhOztBQVd6Qjs7Ozs7Ozs7QUFRQSxRQUFNLE1BbkJtQjs7QUFxQnpCOzs7Ozs7O0FBT0EsV0FBUyxTQTVCZ0I7O0FBOEJ6Qjs7Ozs7OztBQU9BLFNBQU8sT0FyQ2tCOztBQXVDekI7Ozs7Ozs7OztBQVNBLFNBQU8sT0FoRGtCOztBQWtEekI7Ozs7Ozs7QUFPQSxTQUFPLE9BekRrQjs7QUEyRHpCOzs7Ozs7O0FBT0EsV0FBUyxTQWxFZ0I7O0FBb0V6Qjs7Ozs7Ozs7O0FBU0EsY0FBWSxzQkE3RWE7O0FBK0V6Qjs7Ozs7OztBQU9BLFVBQVEsVUF0RmlCOztBQXdGekI7Ozs7Ozs7Ozs7QUFVQSxZQUFVLFVBbEdlOztBQW9HekI7Ozs7Ozs7Ozs7QUFVQSxVQUFRO0FBOUdpQixDQUFwQjs7QUFrSFA7Ozs7Ozs7O0FBUU8sSUFBTSx3Q0FBZ0I7QUFDM0I7Ozs7Ozs7O0FBUUEsa0JBQWdCLGdCQVRXOztBQVczQjs7Ozs7OztBQU9BLGdCQUFjLGNBbEJhOztBQW9CM0I7Ozs7Ozs7QUFPQSxVQUFRO0FBM0JtQixDQUF0Qjs7QUErQlA7QUFDTyxJQUFNLHNEQUF1QjtBQUNsQzs7Ozs7OztBQU9BLFNBQU8sYUFSMkI7O0FBVWxDOzs7Ozs7O0FBT0EsU0FBTyxhQWpCMkI7O0FBbUJsQzs7Ozs7OztBQU9BLFFBQU0sWUExQjRCOztBQTRCbEM7Ozs7Ozs7QUFPQSxXQUFTLGVBbkN5Qjs7QUFxQ2xDOzs7Ozs7O0FBT0EsbUJBQWlCLHVCQTVDaUI7O0FBOENsQzs7Ozs7Ozs7QUFRQSxrQkFBZ0I7QUF0RGtCLENBQTdCOztBQTBEUDs7Ozs7Ozs7Ozs7Ozs7QUFjTyxJQUFJLG9FQUFKOztBQUdQOzs7Ozs7Ozs7QUFTTyxJQUFJLDhEQUFKOzs7Ozs7UUN4YVMsc0MsR0FBQSxzQztRQVFBLCtCLEdBQUEsK0I7UUFRQSxvQixHQUFBLG9CO1FBUUEsb0IsR0FBQSxvQjtRQTBCQSw0QixHQUFBLDRCO0FBN0ZoQjs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7QUFLTyxJQUFNLDhDQUFtQjtBQUM5QixRQUFNLE1BRHdCO0FBRTlCLE1BQUksSUFGMEI7QUFHOUIsTUFBSTtBQUgwQixDQUF6Qjs7QUFNUDs7OztBQUlBLElBQUksa0NBQUo7O0FBRUE7Ozs7QUFJQSxJQUFJLDJCQUFKOztBQUVBOzs7O0FBSU8sU0FBUyxzQ0FBVCxDQUFnRCxHQUFoRCxFQUFxRDtBQUMxRCw4QkFBNEIsR0FBNUI7QUFDRDs7QUFFRDs7OztBQUlPLFNBQVMsK0JBQVQsQ0FBeUMsR0FBekMsRUFBOEM7QUFDbkQsdUJBQXFCLEdBQXJCO0FBQ0Q7O0FBRUQ7Ozs7QUFJTyxTQUFTLG9CQUFULEdBQWdDO0FBQ3JDLFNBQU8sa0NBQWtDLGlCQUFpQixJQUExRDtBQUNEOztBQUVEOzs7O0FBSU8sU0FBUyxvQkFBVCxHQUFnQztBQUNyQyxNQUFJLHVCQUF1QixTQUEzQixFQUFzQztBQUNwQyx5QkFBcUIsMkJBQ25CLFNBQVMsUUFBUSxTQUFSLENBQWtCLFlBQTNCLEtBQ0EsU0FBUyxRQUFRLFNBQVIsQ0FBa0IsZ0JBQTNCLENBRm1CLENBQXJCO0FBSUQ7QUFDRCxTQUFPLGtCQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPQSxTQUFTLFFBQVQsQ0FBa0IsSUFBbEIsRUFBd0I7QUFDdEIsU0FBTyxDQUFDLENBQUMsSUFBRixJQUFVLEtBQUssUUFBTCxHQUFnQixPQUFoQixDQUF3QixlQUF4QixLQUE0QyxDQUFDLENBQTlEO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyw0QkFBVCxDQUFzQyxnQkFBdEMsRUFBd0Q7QUFDN0QsTUFBSSw4QkFBOEIsU0FBbEMsRUFBNkM7QUFDM0MsZ0NBQ0ksb0JBQW9CLG9CQUFvQixPQUF4QyxDQURKO0FBRUQ7QUFDRCxTQUFPLHlCQUFQO0FBQ0Q7O0FBRUQ7Ozs7OztBQU1BLFNBQVMsbUJBQVQsQ0FBNkIsT0FBN0IsRUFBc0M7QUFDcEMsTUFBSSxDQUFDLENBQUMsUUFBUSxTQUFSLENBQWtCLFlBQXhCLEVBQXNDO0FBQ3BDLFdBQU8saUJBQWlCLEVBQXhCO0FBQ0QsR0FGRCxNQUVPLElBQUksQ0FBQyxDQUFDLFFBQVEsU0FBUixDQUFrQixnQkFBeEIsRUFBMEM7QUFDL0MsV0FBTyxpQkFBaUIsRUFBeEI7QUFDRDtBQUNELFNBQU8saUJBQWlCLElBQXhCO0FBQ0Q7Ozs7OztRQ25FZSxTLEdBQUEsUztBQS9DaEI7O0FBR0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBLElBQUksUUFBUSx3RUFBWjs7QUFFQSxTQUFTLE9BQVQsQ0FBaUIsS0FBakIsRUFBd0IsR0FBeEIsRUFBNkIsSUFBN0IsRUFBbUMsU0FBbkMsRUFBOEMsS0FBOUMsRUFBcUQ7QUFDbkQ7QUFDQSxNQUFJLEtBQUosRUFBVztBQUNULFdBQU8sS0FBUDtBQUNEO0FBQ0Q7QUFDQSxNQUFJLEdBQUosRUFBUztBQUNQLFdBQU8sUUFBUDtBQUNEO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsTUFBSSxTQUFKLEVBQWU7QUFDYixXQUFPLE1BQU0sS0FBTixDQUFZLENBQVosRUFBZSxDQUFDLENBQWhCLElBQXFCLElBQXJCLEdBQTRCLE1BQU0sS0FBTixDQUFZLENBQUMsQ0FBYixFQUFnQixVQUFoQixDQUEyQixDQUEzQixFQUE4QixRQUE5QixDQUF1QyxFQUF2QyxDQUE1QixHQUF5RSxHQUFoRjtBQUNEO0FBQ0Q7QUFDQTtBQUNBLFNBQU8sT0FBTyxLQUFkO0FBQ0Q7O0FBRUQ7Ozs7O0FBS08sU0FBUyxTQUFULENBQW1CLEtBQW5CLEVBQTBCO0FBQy9CLFNBQU8sT0FBTyxLQUFQLEVBQWMsT0FBZCxDQUFzQixLQUF0QixFQUE2QixPQUE3QixDQUFQO0FBQ0Q7Ozs7OztBQ2pERDs7Ozs7Ozs7OztBQVVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUhPLElBQU0sZ0NBQVk7QUFDdkIsaUJBQWUsS0FEUTtBQUV2QjtBQUNBO0FBQ0EsY0FBWSxvQkFBUyxRQUFULEVBQW1CLGFBQW5CLEVBQWtDLGVBQWxDLEVBQW1EO0FBQzdELFFBQUksVUFBVSxFQUFkO0FBQ0EsUUFBSSxRQUFKLEVBQWM7QUFDWixZQUFNLFNBQU4sQ0FBZ0IsT0FBaEIsQ0FBd0IsSUFBeEIsQ0FBNkIsUUFBN0IsRUFBdUMsVUFBUyxJQUFULEVBQWU7QUFDcEQsWUFBSSxLQUFLLFlBQUwsSUFBc0IsS0FBSyxLQUFMLElBQWMsS0FBSyxLQUFMLENBQVcsT0FBWCxLQUF1QixTQUEvRCxFQUEyRTtBQUN6RSxxQkFBVyxLQUFLLGFBQUwsQ0FBbUIsS0FBSyxZQUF4QixFQUFzQyxhQUF0QyxFQUNULEtBQUssYUFESSxFQUNXLGVBRFgsSUFDOEIsUUFEekM7QUFFQSxxQkFBVyxLQUFLLGtCQUFMLENBQXdCLElBQXhCLElBQWdDLFNBQTNDO0FBQ0QsU0FKRCxNQUlPLElBQUksS0FBSyxJQUFMLEtBQWMsUUFBUSxVQUExQixFQUFzQztBQUMzQyxxQkFBVyxZQUFZLEtBQUssS0FBTCxDQUFXLFNBQXZCLEdBQW1DLE1BQTlDO0FBQ0EscUJBQVcsS0FBSyxVQUFMLENBQWdCLEtBQUssUUFBckIsRUFBK0IsYUFBL0IsQ0FBWDtBQUNBLHFCQUFXLFNBQVg7QUFDRCxTQUpNLE1BSUE7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBSTtBQUNGLGdCQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNoQix5QkFBVyxLQUFLLE9BQUwsR0FBZSxNQUExQjtBQUNEO0FBQ0YsV0FKRCxDQUlFLE9BQU0sQ0FBTixFQUFTO0FBQ1QsZ0JBQUksS0FBSyxJQUFMLEtBQWMsUUFBUSxjQUF0QixJQUF3QyxLQUFLLFFBQWpELEVBQTJEO0FBQ3pELHlCQUFXLEtBQUssNkJBQUwsQ0FBbUMsSUFBbkMsQ0FBWDtBQUNEO0FBQ0Y7QUFDRjtBQUNGLE9BekJELEVBeUJHLElBekJIO0FBMEJEO0FBQ0QsV0FBTyxPQUFQO0FBQ0QsR0FuQ3NCO0FBb0N2QjtBQUNBLGlDQUErQix1Q0FBUyxJQUFULEVBQWU7QUFDNUMsUUFBSSxVQUFVLGdCQUFnQixLQUFLLElBQXJCLEdBQTRCLElBQTFDO0FBQ0EsVUFBTSxTQUFOLENBQWdCLE9BQWhCLENBQXdCLElBQXhCLENBQTZCLEtBQUssUUFBbEMsRUFBNEMsVUFBUyxJQUFULEVBQWU7QUFDekQsaUJBQVcsTUFBTSxLQUFLLE9BQVgsR0FBcUIsSUFBckIsR0FBNEIsS0FBSyxLQUFMLENBQVcsT0FBdkMsR0FBaUQsR0FBNUQ7QUFDRCxLQUZEO0FBR0EsZUFBVyxJQUFYO0FBQ0EsV0FBTyxPQUFQO0FBQ0QsR0E1Q3NCO0FBNkN2QjtBQUNBLGlCQUFlLHVCQUFTLFFBQVQsRUFBbUIsY0FBbkIsRUFBa0MsTUFBbEMsRUFBMEMsZUFBMUMsRUFBMkQ7QUFDeEUsUUFBSSxJQUFJLEVBQVI7QUFBQSxRQUFZLFFBQVEsU0FBUyxLQUFULENBQWUsR0FBZixDQUFwQjtBQUNBLFVBQU0sT0FBTixDQUFjLFVBQVMsQ0FBVCxFQUFZO0FBQ3hCLFVBQUksRUFBRSxJQUFGLEVBQUo7QUFDQSxVQUFJLGVBQUosRUFBcUI7QUFDbkIsWUFBSSxnQkFBZ0IsQ0FBaEIsQ0FBSjtBQUNEO0FBQ0QsVUFBSSxLQUFLLG9CQUFMLENBQTBCLENBQTFCLEVBQTZCLGNBQTdCLENBQUosRUFBaUQ7QUFDL0MsWUFBSyxVQUFVLENBQUMsRUFBRSxLQUFGLENBQVEsd0JBQVIsQ0FBWixHQUNBLEtBQUssd0JBQUwsQ0FBOEIsQ0FBOUIsRUFBaUMsY0FBakMsQ0FEQSxHQUVBLEtBQUssa0JBQUwsQ0FBd0IsQ0FBeEIsRUFBMkIsY0FBM0IsQ0FGSjtBQUdEO0FBQ0QsUUFBRSxJQUFGLENBQU8sQ0FBUDtBQUNELEtBWEQsRUFXRyxJQVhIO0FBWUEsV0FBTyxFQUFFLElBQUYsQ0FBTyxJQUFQLENBQVA7QUFDRCxHQTdEc0I7QUE4RHZCO0FBQ0Esd0JBQXNCLDhCQUFTLFFBQVQsRUFBbUIsYUFBbkIsRUFBa0M7QUFDdEQsUUFBSSxNQUFNLE9BQU4sQ0FBYyxhQUFkLENBQUosRUFBa0M7QUFDaEMsYUFBTyxJQUFQO0FBQ0Q7QUFDRCxRQUFJLEtBQUssS0FBSyxnQkFBTCxDQUFzQixhQUF0QixDQUFUO0FBQ0EsV0FBTyxDQUFDLFNBQVMsS0FBVCxDQUFlLEVBQWYsQ0FBUjtBQUNELEdBckVzQjtBQXNFdkI7QUFDQSxvQkFBa0IsMEJBQVMsYUFBVCxFQUF3QjtBQUN4QyxvQkFBZ0IsY0FBYyxPQUFkLENBQXNCLEtBQXRCLEVBQTZCLEtBQTdCLEVBQW9DLE9BQXBDLENBQTRDLEtBQTVDLEVBQW1ELEtBQW5ELENBQWhCO0FBQ0EsV0FBTyxJQUFJLE1BQUosQ0FBVyxPQUFPLGFBQVAsR0FBdUIsR0FBdkIsR0FBNkIsZ0JBQXhDLEVBQTBELEdBQTFELENBQVA7QUFDRCxHQTFFc0I7QUEyRXZCO0FBQ0Esc0JBQW9CLDRCQUFTLFFBQVQsRUFBbUIsYUFBbkIsRUFBa0M7QUFDcEQsV0FBTyxNQUFNLE9BQU4sQ0FBYyxhQUFkLElBQ0gsS0FBSyxzQkFBTCxDQUE0QixRQUE1QixFQUFzQyxhQUF0QyxDQURHLEdBRUgsS0FBSyx3QkFBTCxDQUE4QixRQUE5QixFQUF3QyxhQUF4QyxDQUZKO0FBR0QsR0FoRnNCO0FBaUZ2QjtBQUNBO0FBQ0EsMEJBQXdCLGdDQUFTLFFBQVQsRUFBbUIsaUJBQW5CLEVBQXNDO0FBQzVELFFBQUksSUFBSSxFQUFSO0FBQ0EsU0FBSyxJQUFJLElBQUUsQ0FBTixFQUFTLENBQWQsRUFBa0IsSUFBRSxrQkFBa0IsQ0FBbEIsQ0FBcEIsRUFBMkMsR0FBM0MsRUFBZ0Q7QUFDOUMsUUFBRSxJQUFGLENBQU8sS0FBSyx3QkFBTCxDQUE4QixRQUE5QixFQUF3QyxDQUF4QyxDQUFQO0FBQ0Q7QUFDRCxXQUFPLEVBQUUsSUFBRixDQUFPLElBQVAsQ0FBUDtBQUNELEdBekZzQjtBQTBGdkI7QUFDQTtBQUNBLDRCQUEwQixrQ0FBUyxRQUFULEVBQW1CLGFBQW5CLEVBQWtDO0FBQzFELFFBQUksU0FBUyxLQUFULENBQWUsY0FBZixDQUFKLEVBQW9DO0FBQ2xDLGlCQUFXLFNBQVMsT0FBVCxDQUFpQix3QkFBakIsRUFBMkMsYUFBM0MsQ0FBWDtBQUNBLGFBQU8sU0FBUyxPQUFULENBQWlCLGNBQWpCLEVBQWlDLGdCQUFnQixHQUFqRCxDQUFQO0FBQ0QsS0FIRCxNQUdPO0FBQ0wsYUFBTyxnQkFBZ0IsR0FBaEIsR0FBc0IsUUFBN0I7QUFDRDtBQUNGLEdBbkdzQjtBQW9HdkI7QUFDQTtBQUNBO0FBQ0EsNEJBQTBCLGtDQUFTLFFBQVQsRUFBbUIsYUFBbkIsRUFBa0M7QUFDMUQsb0JBQWdCLGNBQWMsT0FBZCxDQUFzQixrQkFBdEIsRUFBMEMsSUFBMUMsQ0FBaEI7QUFDQSxRQUFJLFNBQVMsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsR0FBaEIsQ0FBYjtBQUFBLFFBQ0UsU0FBUyxRQURYO0FBQUEsUUFFRSxXQUFXLE1BQU0sYUFBTixHQUFzQixHQUZuQztBQUdBLFdBQU8sT0FBUCxDQUFlLFVBQVMsR0FBVCxFQUFjO0FBQzNCLFVBQUksUUFBUSxPQUFPLEtBQVAsQ0FBYSxHQUFiLENBQVo7QUFDQSxlQUFTLE1BQU0sR0FBTixDQUFVLFVBQVMsQ0FBVCxFQUFZO0FBQzdCO0FBQ0EsWUFBSSxJQUFJLEVBQUUsSUFBRixHQUFTLE9BQVQsQ0FBaUIsY0FBakIsRUFBaUMsRUFBakMsQ0FBUjtBQUNBLFlBQUksS0FBTSxPQUFPLE9BQVAsQ0FBZSxDQUFmLElBQW9CLENBQTFCLElBQWlDLEVBQUUsT0FBRixDQUFVLFFBQVYsSUFBc0IsQ0FBM0QsRUFBK0Q7QUFDN0QsY0FBSSxFQUFFLE9BQUYsQ0FBVSxpQkFBVixFQUE2QixPQUFPLFFBQVAsR0FBa0IsTUFBL0MsQ0FBSjtBQUNEO0FBQ0QsZUFBTyxDQUFQO0FBQ0QsT0FQUSxFQU9OLElBUE0sQ0FPRCxHQVBDLENBQVQ7QUFRRCxLQVZEO0FBV0EsV0FBTyxNQUFQO0FBQ0QsR0F4SHNCO0FBeUh2QjtBQUNBLHNCQUFvQiw0QkFBUyxJQUFULEVBQWU7QUFDakMsUUFBSSxVQUFVLEtBQUssS0FBTCxDQUFXLE9BQXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBSSxLQUFLLEtBQUwsQ0FBVyxPQUFYLElBQXNCLENBQUMsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixLQUFuQixDQUF5QixZQUF6QixDQUEzQixFQUFtRTtBQUNqRSxnQkFBVSxRQUFRLE9BQVIsQ0FBZ0IsaUJBQWhCLEVBQW1DLGdCQUN6QyxLQUFLLEtBQUwsQ0FBVyxPQUQ4QixHQUNwQixLQURmLENBQVY7QUFFRDtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQUksUUFBUSxLQUFLLEtBQWpCO0FBQ0EsU0FBSyxJQUFJLENBQVQsSUFBYyxLQUFkLEVBQXFCO0FBQ25CLFVBQUksTUFBTSxDQUFOLE1BQWEsU0FBakIsRUFBNEI7QUFDMUIsbUJBQVcsSUFBSSxhQUFmO0FBQ0Q7QUFDRjtBQUNELFdBQU8sT0FBUDtBQUNEO0FBaEpzQixDQUFsQjs7QUFtSlAsSUFBSSxhQUFhLHdCQUFqQjtBQUFBLElBQ0ksZUFBZSxtQ0FEbkI7O0FBRUk7QUFDQSwyQkFBMkIsMkRBSC9CO0FBQUEsSUFJSSwyQkFBMkIsNEVBSi9COztBQUtJO0FBQ0EsbUJBQW1CLHFEQU52QjtBQUFBLElBT0ksbUJBQW1CLGtFQVB2Qjs7QUFRSTtBQUNBLDJCQUEyQiw4REFUL0I7QUFBQSxJQVVJLDJCQUEyQiwyRUFWL0I7QUFBQSxJQVdJLGNBQWMsb0JBWGxCO0FBQUEsSUFZSSxZQUFZLHNCQVpoQjs7QUFhSTtBQUNBLGVBQWUsZ0JBZG5COztBQWVJO0FBQ0Esc0JBQXNCLG1CQWhCMUI7QUFBQSxJQWlCSSxjQUFjLGFBQ1YsMkJBRFUsR0FFVixnQkFuQlI7QUFvQkksSUFBSSxpQkFBaUIsSUFBSSxNQUFKLENBQVcsTUFBTSxZQUFOLEdBQXFCLFdBQWhDLEVBQTZDLEtBQTdDLENBQXJCO0FBQUEsSUFDQSx3QkFBd0IsSUFBSSxNQUFKLENBQVcsTUFBTSxtQkFBTixHQUE0QixXQUF2QyxFQUFvRCxLQUFwRCxDQUR4QjtBQUFBLElBRUEsbUJBQW1CLDZCQUZuQjtBQUFBLElBR0EsY0FBYyxXQUhkO0FBQUEsSUFJQSxxQkFBcUIsbUJBSnJCOztBQUtBO0FBQ0EsMkJBQTJCLGVBQWUsZ0JBTjFDO0FBQUEsSUFPQSxpQkFBaUIsSUFBSSxNQUFKLENBQVcsWUFBWCxFQUF5QixLQUF6QixDQVBqQjtBQUFBLElBUUEsd0JBQXdCLElBQUksTUFBSixDQUFXLG1CQUFYLEVBQWdDLEtBQWhDLENBUnhCO0FBQUEsSUFTQSx1QkFBdUIsQ0FDckIsTUFEcUIsRUFFckIsV0FGcUIsRUFHckIsWUFIcUI7QUFJckI7QUFDQSxXQUxxQixFQUtSO0FBQ2IsYUFOcUIsRUFNTjtBQUNmLGtCQVBxQixFQU9EO0FBQ3BCLE9BUnFCLEVBUVI7QUFDYixVQVRxQixDQVNSO0FBVFEsQ0FUdkIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiYW1wLXN0b3J5LWFjY2Vzc3twb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWwhaW1wb3J0YW50Oy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWwhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAzIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMHZoLDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDB2aCwwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OjAuMTVzIWltcG9ydGFudDt0cmFuc2l0aW9uLWRlbGF5OjAuMTVzIWltcG9ydGFudH1hbXAtc3RvcnktYWNjZXNzLmktYW1waHRtbC1zdG9yeS1hY2Nlc3MtdmlzaWJsZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OjBzIWltcG9ydGFudDt0cmFuc2l0aW9uLWRlbGF5OjBzIWltcG9ydGFudH1hbXAtc3RvcnktYWNjZXNzOmJlZm9yZXtjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2JhY2tncm91bmQ6IzAwMCFpbXBvcnRhbnQ7b3BhY2l0eTowIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnR9YW1wLXN0b3J5LWFjY2Vzcy5pLWFtcGh0bWwtc3RvcnktYWNjZXNzLXZpc2libGU6YmVmb3Jle29wYWNpdHk6MC40IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1vdmVyZmxvd3ttYXJnaW4tdG9wOmF1dG8haW1wb3J0YW50O292ZXJmbG93LXk6YXV0byFpbXBvcnRhbnQ7b3ZlcmZsb3cteDpoaWRkZW4haW1wb3J0YW50Oy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O21hcmdpbjo4OHB4IDhweCAwIWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmZmYhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6OHB4IDhweCAwIDAhaW1wb3J0YW50O2NvbG9yOnJnYmEoMCwwLDAsMC44NykhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpLC13ZWJraXQtdHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYWNjZXNzLXZpc2libGUgLmktYW1waHRtbC1zdG9yeS1hY2Nlc3MtY29udGFpbmVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1hY2Nlc3MtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3RvcnktYWNjZXNzLWNvbnRhaW5lcnttYXJnaW46ODhweCAwcHggMCFpbXBvcnRhbnQ7cGFkZGluZzowIDhweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czppbml0aWFsIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1jb250ZW50e3BhZGRpbmc6MTZweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O3otaW5kZXg6MCFpbXBvcnRhbnR9QG1lZGlhIChtaW4td2lkdGg6NDIwcHgpe2FtcC1zdG9yeS1hY2Nlc3N7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1vdmVyZmxvd3ttYXJnaW4tdG9wOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYWNjZXNzLWNvbnRhaW5lcntkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbCFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7bWF4LWhlaWdodDo4MHZoIWltcG9ydGFudDttaW4taGVpZ2h0OjQwdmghaW1wb3J0YW50O3dpZHRoOmNhbGMoMTAwdncgLSA4MHB4KSFpbXBvcnRhbnQ7bWF4LXdpZHRoOjgwMHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1jb250ZW50e21hcmdpbjowIGF1dG8haW1wb3J0YW50O21heC13aWR0aDo0MjRweCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZmxleDoxIWltcG9ydGFudDstbXMtZmxleC1wb3NpdGl2ZToxIWltcG9ydGFudDtmbGV4LWdyb3c6MSFpbXBvcnRhbnQ7b3ZlcmZsb3cteTphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDowcHghaW1wb3J0YW50O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fX1hbXAtc3Rvcnlbc2Nyb2xsXXtvdmVyZmxvdy15OmF1dG8haW1wb3J0YW50fVtzY3JvbGxdIGFtcC1zdG9yeS1wYWdle3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDtoZWlnaHQ6MTAwdmghaW1wb3J0YW50fVtzY3JvbGxdIGFtcC1zdG9yeS1wYWdlW2Rpc3RhbmNlXXstd2Via2l0LXRyYW5zZm9ybTpub25lIWltcG9ydGFudDt0cmFuc2Zvcm06bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9YW1wLXN0b3J5W3N0YW5kYWxvbmVdW2Rlc2t0b3Bde21heC13aWR0aDpub25lIWltcG9ydGFudDttYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50O3dpZHRoOjEwMHZ3IWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1sb2dve2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZC1jb250YWluZXJ7b3BhY2l0eTouOCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZC1vdmVybGF5LC5pLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZC1vdmVybGF5OmFmdGVye3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7ei1pbmRleDoxIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC4yKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLW92ZXJsYXk6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7b3BhY2l0eTowIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC41KSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hY3RpdmUgLmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLW92ZXJsYXk6YWZ0ZXJ7b3BhY2l0eToxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmR7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDotMTUwcHghaW1wb3J0YW50O3JpZ2h0Oi0xNTBweCFpbXBvcnRhbnQ7Ym90dG9tOi0xNTBweCFpbXBvcnRhbnQ7bGVmdDotMTUwcHghaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnQ7LXdlYmtpdC1maWx0ZXI6Ymx1cig1MHB4KSFpbXBvcnRhbnQ7ZmlsdGVyOmJsdXIoNTBweCkhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTpjb3ZlciFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O3dpbGwtY2hhbmdlOm9wYWNpdHksei1pbmRleCFpbXBvcnRhbnQ7ei1pbmRleDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQuYWN0aXZle29wYWNpdHk6MSFpbXBvcnRhbnQ7ei1pbmRleDoxIWltcG9ydGFudH1bZGVza3RvcF0gYW1wLXN0b3J5LXBhZ2VbZGlzdGFuY2Vdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCg1MHZ3KSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCg1MHZ3KSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7b3BhY2l0eTouMDUhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IWltcG9ydGFudDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MTZweCFpbXBvcnRhbnR9W2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW2Rpc3RhbmNlPVxcXCIwXFxcIl0sW2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW2Rpc3RhbmNlPVxcXCIxXFxcIl17LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMzAwbXMgbGluZWFyLC13ZWJraXQtdHJhbnNmb3JtIDMwMG1zIGN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDMwMG1zIGxpbmVhciwtd2Via2l0LXRyYW5zZm9ybSAzMDBtcyBjdWJpYy1iZXppZXIoMC40LDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIsdHJhbnNmb3JtIDMwMG1zIGN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDMwMG1zIGxpbmVhcix0cmFuc2Zvcm0gMzAwbXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMC4yLDEpLC13ZWJraXQtdHJhbnNmb3JtIDMwMG1zIGN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAyIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1idXR0b24tY29udGFpbmVyOmJlZm9yZXtjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O3dpZHRoOmNhbGMoNTB2dyAtIDIzdmggLSAzMnB4KSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1iYWNrLXByZXY+LmktYW1waHRtbC1zdG9yeS1wYWdlLXNlbnRpbmVsLC5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmUsLmktYW1waHRtbC1zdG9yeS1md2QtbmV4dD4uaS1hbXBodG1sLXN0b3J5LXBhZ2Utc2VudGluZWx7cG9pbnRlci1ldmVudHM6YWxsIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1oaWRkZW4+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXtjdXJzb3I6ZGVmYXVsdCFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7b3BhY2l0eTowIWltcG9ydGFudH1bZGVza3RvcF0+Lm5leHQtY29udGFpbmVyOmJlZm9yZSxbZGlyPXJ0bF0gW2Rlc2t0b3BdPi5wcmV2LWNvbnRhaW5lcjpiZWZvcmV7cmlnaHQ6MCFpbXBvcnRhbnQ7bGVmdDphdXRvIWltcG9ydGFudDtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQscmdiYSgzMywzMywzMywwKSxyZ2JhKDMzLDMzLDMzLDAuMzIpKSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcscmdiYSgzMywzMywzMywwKSAwJSxyZ2JhKDMzLDMzLDMzLDAuMzIpKSFpbXBvcnRhbnR9W2Rlc2t0b3BdPi5wcmV2LWNvbnRhaW5lcjpiZWZvcmUsW2Rpcj1ydGxdIFtkZXNrdG9wXT4ubmV4dC1jb250YWluZXI6YmVmb3Jle2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6YXV0byFpbXBvcnRhbnQ7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LHJnYmEoMzMsMzMsMzMsMC4zMikscmdiYSgzMywzMywzMywwKSkhaW1wb3J0YW50O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMzMsMzMsMzMsMC4zMikgMCUscmdiYSgzMywzMywzMywwKSkhaW1wb3J0YW50fVtkZXNrdG9wXT4ubmV4dC1jb250YWluZXI+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXtsZWZ0OmF1dG8haW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50fVtkaXI9cnRsXSBbZGVza3RvcF0+Lm5leHQtY29udGFpbmVyPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7cmlnaHQ6YXV0byFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudH1bZGVza3RvcF0gYW1wLXN0b3J5LXBhZ2VbaS1hbXBodG1sLXZpc2l0ZWRdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlWCgtMjAwdncpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoMC45KSB0cmFuc2xhdGVYKC0yMDB2dykgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50fS5wcmV2LWNvbnRhaW5lcj4uaS1hbXBodG1sLXN0b3J5LXBhZ2Utc2VudGluZWwsW2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW2ktYW1waHRtbC1wcmV2aW91cy1wYWdlXSxbZGlyPXJ0bF0gLm5leHQtY29udGFpbmVyPi5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbCxbZGlyPXJ0bF0gW2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW2ktYW1waHRtbC1uZXh0LXBhZ2Vdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlWChjYWxjKC0xNTAlIC0gNjRweCkpIHRyYW5zbGF0ZVkoMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoMC45KSB0cmFuc2xhdGVYKGNhbGMoLTE1MCUgLSA2NHB4KSkgdHJhbnNsYXRlWSgwJSkhaW1wb3J0YW50fVtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVthY3RpdmVdey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDEuMCkgdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDAlKSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH0ubmV4dC1jb250YWluZXI+LmktYW1waHRtbC1zdG9yeS1wYWdlLXNlbnRpbmVsLFtkZXNrdG9wXSBhbXAtc3RvcnktcGFnZVtpLWFtcGh0bWwtbmV4dC1wYWdlXSxbZGlyPXJ0bF0gLnByZXYtY29udGFpbmVyPi5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbCxbZGlyPXJ0bF0gW2Rlc2t0b3BdIGFtcC1zdG9yeS1wYWdlW2ktYW1waHRtbC1wcmV2aW91cy1wYWdlXXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjkpIHRyYW5zbGF0ZShjYWxjKDUwJSArIDY0cHgpKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDAuOSkgdHJhbnNsYXRlKGNhbGMoNTAlICsgNjRweCkpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXBhZ2Utc2VudGluZWwsW2Rlc2t0b3BdPmFtcC1zdG9yeS1wYWdle2xlZnQ6NTAlIWltcG9ydGFudDtyaWdodDphdXRvIWltcG9ydGFudDttYXJnaW46YXV0byFpbXBvcnRhbnQ7bWF4LWhlaWdodDo3NXZoIWltcG9ydGFudDttYXgtd2lkdGg6NDV2aCFpbXBvcnRhbnQ7bWluLXdpZHRoOjMyMHB4IWltcG9ydGFudDttaW4taGVpZ2h0OjUzM3B4IWltcG9ydGFudH1bZGVza3RvcF0+YW1wLXN0b3J5LXBhZ2V7Ym94LXNoYWRvdzowIDAgMTVweCByZ2JhKDAsMCwwLDAuNCkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktcGFnZS1zZW50aW5lbHt3aWR0aDoxMDB2dyFpbXBvcnRhbnQ7aGVpZ2h0OjEwMHZoIWltcG9ydGFudDttYXJnaW4tbGVmdDotMzJweCFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXJ9LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZSwuaS1hbXBodG1sLXN0b3J5LXBhZ2Utc2VudGluZWx7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7ei1pbmRleDoxMDAwMDIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7bWFyZ2luOmF1dG8gNDBweCFpbXBvcnRhbnQ7d2lkdGg6NjBweCFpbXBvcnRhbnQ7aGVpZ2h0OjYwcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDtib3JkZXI6MCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZToxMnB4IDE3cHghaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDtvcGFjaXR5Oi41IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxNTBtcyBsaW5lYXIsLXdlYmtpdC10cmFuc2Zvcm0gMzAwbXMgbGluZWFyIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgbGluZWFyLC13ZWJraXQtdHJhbnNmb3JtIDMwMG1zIGxpbmVhciFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDE1MG1zIGxpbmVhcix0cmFuc2Zvcm0gMzAwbXMgbGluZWFyIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgbGluZWFyLHRyYW5zZm9ybSAzMDBtcyBsaW5lYXIsLXdlYmtpdC10cmFuc2Zvcm0gMzAwbXMgbGluZWFyIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7b3V0bGluZTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXByZXYtaG92ZXI+YW1wLXN0b3J5LXBhZ2VbaS1hbXBodG1sLXByZXZpb3VzLXBhZ2Vde29wYWNpdHk6MC4zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW5leHQtaG92ZXI+YW1wLXN0b3J5LXBhZ2VbYWN0aXZlXSthbXAtc3RvcnktcGFnZXtvcGFjaXR5OjAuMyFpbXBvcnRhbnR9LnByZXYtY29udGFpbmVyPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmUsW2Rpcj1ydGxdIC5pLWFtcGh0bWwtc3RvcnktZndkLW5leHQ+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScxNicgaGVpZ2h0PScyNScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTTE1LjcgMjJsLTkuNS05LjVMMTUuNyAzbC0zLTNMLjQgMTIuNiAxMi44IDI1Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NDUlIDUwJSFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWZ3ZC1uZXh0Pi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmUsW2Rpcj1ydGxdIC5wcmV2LWNvbnRhaW5lcj4uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3Zle2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzE2JyBoZWlnaHQ9JzI1JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNLjMgM2w5LjUgOS41TC4zIDIybDMgMyAxMi40LTEyLjVMMy4yIDAnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1NSUgNTAlIWltcG9ydGFudDtsZWZ0OmF1dG8haW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZndkLXJlcGxheT4uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3Zle2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00xNy42NSA2LjM1QTcuOTU4IDcuOTU4IDAgMCAwIDEyIDRjLTQuNDIgMC03Ljk5IDMuNTgtNy45OSA4czMuNTcgOCA3Ljk5IDhjMy43MyAwIDYuODQtMi41NSA3LjczLTZoLTIuMDhBNS45OSA1Ljk5IDAgMCAxIDEyIDE4Yy0zLjMxIDAtNi0yLjY5LTYtNnMyLjY5LTYgNi02YzEuNjYgMCAzLjE0LjY5IDQuMjIgMS43OEwxMyAxMWg3VjRsLTIuMzUgMi4zNXonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6MzJweCAzMnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWZ3ZC1tb3JlPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTYgMTBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0xMiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptLTYgMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlO2JhY2tncm91bmQtc2l6ZTozMnB4IDMycHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktbmV4dC1ob3Zlcj4ubmV4dC1jb250YWluZXI+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZSwuaS1hbXBodG1sLXN0b3J5LXByZXYtaG92ZXI+LnByZXYtY29udGFpbmVyPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDEuMSkhaW1wb3J0YW50O29wYWNpdHk6MSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1wcmV2LWhvdmVyPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLWhpZGRlbj4uaS1hbXBodG1sLXN0b3J5LWJ1dHRvbi1tb3Zle29wYWNpdHk6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1uZXh0LWhvdmVyPi5pLWFtcGh0bWwtc3RvcnktZndkLW5leHQ+LmktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDhweCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVYKDhweCkhaW1wb3J0YW50O29wYWNpdHk6MSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1wcmV2LWhvdmVyPi5pLWFtcGh0bWwtc3RvcnktYmFjay1jbG9zZS1ib29rZW5kPi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmUsLmktYW1waHRtbC1zdG9yeS1wcmV2LWhvdmVyPi5pLWFtcGh0bWwtc3RvcnktYmFjay1wcmV2Pi5pLWFtcGh0bWwtc3RvcnktYnV0dG9uLW1vdmV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtOHB4KSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLThweCkhaW1wb3J0YW50O29wYWNpdHk6MSFpbXBvcnRhbnR9YW1wLXN0b3J5e2ZvbnQtZGlzcGxheTpvcHRpb25hbH1hbXAtc3RvcnktZ3JpZC1sYXllciAqe2JveC1zaXppbmc6Ym9yZGVyLWJveDttYXJnaW46MH0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtZmlsbD5hbXAtYW5pbSBpbWcsLmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLWZpbGw+YW1wLWltZyBpbWcsLmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLWZpbGw+YW1wLXZpZGVvIHZpZGVvey1vLW9iamVjdC1maXQ6Y292ZXI7b2JqZWN0LWZpdDpjb3Zlcn0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtdmVydGljYWx7LW1zLWZsZXgtbGluZS1wYWNrOnN0YXJ0O2FsaWduLWNvbnRlbnQ6c3RhcnQ7Z3JpZC1nYXA6MTZweDstd2Via2l0LWJveC1wYWNrOnN0cmV0Y2g7LW1zLWZsZXgtcGFjazpzdHJldGNoO2p1c3RpZnktY29udGVudDpzdHJldGNoO2p1c3RpZnktaXRlbXM6c3RhcnR9LmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXZlcnRpY2FsPip7d2lkdGg6MTAwJX0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtaG9yaXpvbnRhbHstbXMtZmxleC1saW5lLXBhY2s6c3RyZXRjaDthbGlnbi1jb250ZW50OnN0cmV0Y2g7LXdlYmtpdC1ib3gtYWxpZ246c3RhcnQ7LW1zLWZsZXgtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6c3RhcnQ7Z3JpZC1nYXA6MTZweDstd2Via2l0LWJveC1wYWNrOnN0YXJ0Oy1tcy1mbGV4LXBhY2s6c3RhcnQ7anVzdGlmeS1jb250ZW50OnN0YXJ0fWFtcC1zdG9yeS1ncmlkLWxheWVye3BhZGRpbmc6NjhweCAzMnB4IDMycHh9YW1wLXN0b3J5LGFtcC1zdG9yeS1jdGEtbGF5ZXIsYW1wLXN0b3J5LWdyaWQtbGF5ZXIsYW1wLXN0b3J5LXBhZ2V7Y29udGFpbjpzdHJpY3QhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9YW1wLWNvbnNlbnR7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50O3otaW5kZXg6aW5pdGlhbCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQsLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQgKntib3JkZXI6bm9uZSFpbXBvcnRhbnQ7Ym94LXNpemluZzppbml0aWFsIWltcG9ydGFudDtjb2xvcjppbml0aWFsIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Zm9udC1zaXplOmluaXRpYWwhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OmluaXRpYWwhaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O3dpZHRoOmF1dG8haW1wb3J0YW50fWFtcC1zdG9yeXtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3RleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbiFpbXBvcnRhbnQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDstbW96LXVzZXItc2VsZWN0Om5vbmUhaW1wb3J0YW50Oy1tcy11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDt1c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH1odG1sLmktYW1waHRtbC1zdG9yeS1zdGFuZGFsb25lLGh0bWwuaS1hbXBodG1sLXN0b3J5LXN0YW5kYWxvbmUgYm9keXtmb250LXNpemU6Y2FsYygyICogdmFyKC0taS1hbXBodG1sLXN0b3J5LXZoLCA4cHgpKTtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7Ym9yZGVyOjAhaW1wb3J0YW50O2N1cnNvcjphdXRvIWltcG9ydGFudDstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKSFpbXBvcnRhbnR9YW1wLXN0b3J5IGg0LGFtcC1zdG9yeSBwe2ZvbnQtc2l6ZToxcmVtfWFtcC1zdG9yeSBoMXtmb250LXNpemU6MnJlbX1hbXAtc3RvcnkgaDJ7Zm9udC1zaXplOjEuNXJlbX1hbXAtc3RvcnkgaDN7Zm9udC1zaXplOjEuMTdyZW19YW1wLXN0b3J5IGg1e2ZvbnQtc2l6ZTowLjgzcmVtfWFtcC1zdG9yeSBoNntmb250LXNpemU6MC42N3JlbX1odG1sLmktYW1waHRtbC1zdG9yeS1zdGFuZGFsb25lICNpLWFtcGh0bWwtd3JhcHBlciBib2R5e2JvcmRlci10b3A6bm9uZSFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH1hbXAtc3Rvcnlbc3RhbmRhbG9uZV17LW1zLWZsZXgtaXRlbS1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLXNlbGY6Y2VudGVyIWltcG9ydGFudDtib3gtc2hhZG93OjJweCAycHggMjBweCByZ2JhKDAsMCwwLDAuNSkhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtqdXN0aWZ5LXNlbGY6Y2VudGVyIWltcG9ydGFudDttYXgtaGVpZ2h0OmluaXRpYWwhaW1wb3J0YW50O21heC13aWR0aDppbml0aWFsIWltcG9ydGFudDttaW4taGVpZ2h0OmluaXRpYWwhaW1wb3J0YW50O21pbi13aWR0aDppbml0aWFsIWltcG9ydGFudH1hbXAtc3Rvcnlbc3RhbmRhbG9uZV06LXdlYmtpdC1mdWxsLXNjcmVlbntoZWlnaHQ6MTAwdmghaW1wb3J0YW50O21heC1oZWlnaHQ6bm9uZSFpbXBvcnRhbnQ7bWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50fWFtcC1zdG9yeVtzdGFuZGFsb25lXTotbW96LWZ1bGwtc2NyZWVue2hlaWdodDoxMDB2aCFpbXBvcnRhbnQ7bWF4LWhlaWdodDpub25lIWltcG9ydGFudDttYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnR9YW1wLXN0b3J5W3N0YW5kYWxvbmVdOi1tcy1mdWxsc2NyZWVue2hlaWdodDoxMDB2aCFpbXBvcnRhbnQ7bWF4LWhlaWdodDpub25lIWltcG9ydGFudDttYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnR9YW1wLXN0b3J5W3N0YW5kYWxvbmVdOmZ1bGxzY3JlZW57aGVpZ2h0OjEwMHZoIWltcG9ydGFudDttYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50O21heC13aWR0aDpub25lIWltcG9ydGFudH1hbXAtc3RvcnkgLmFtcC12aWRlby1lcXtoZWlnaHQ6MTRweCFpbXBvcnRhbnQ7d2lkdGg6MTRweCFpbXBvcnRhbnR9YW1wLXN0b3J5IC5hbXAtdmlkZW8tZXEgLmFtcC12aWRlby1lcS1jb2x7bWFyZ2luLXJpZ2h0OjJweCFpbXBvcnRhbnR9YW1wLXN0b3J5IC5hbXAtdmlkZW8tZXEgLmFtcC12aWRlby1lcS1jb2w6bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MCFpbXBvcnRhbnR9YW1wLXN0b3J5IC5hbXAtdmlkZW8tZXE6bm90KC5hbXAtdmlkZW8tZXEtcGxheSl7ZGlzcGxheTpub25lIWltcG9ydGFudH1hbXAtc3RvcnktcGFnZXtib3R0b206MCFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtvcGFjaXR5OjEhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50O3otaW5kZXg6MCFpbXBvcnRhbnR9YW1wLXN0b3J5LXBhZ2VbYWN0aXZlXXt6LWluZGV4OjEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZmFsbGJhY2sgYW1wLXN0b3J5LXBhZ2V7ZGlzcGxheTpub25lIWltcG9ydGFudH1hbXAtc3RvcnktcGFnZTpub3QoW2FjdGl2ZV0pey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwMCUpIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAwJSkhaW1wb3J0YW50fWFtcC1zdG9yeS1wYWdlW2FjdGl2ZV0sYW1wLXN0b3J5LXBhZ2VbZGlzdGFuY2U9XFxcIjBcXFwiXSxhbXAtc3RvcnktcGFnZVtkaXN0YW5jZT1cXFwiMVxcXCJdey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIWltcG9ydGFudH1hbXAtc3RvcnktcGFnZVtkaXN0YW5jZT1cXFwiMlxcXCJdey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpIWltcG9ydGFudH1hbXAtc3RvcnktcGFnZVthY3RpdmVdey13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LWZpbHRlciAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC1maWx0ZXIgMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOmZpbHRlciAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246ZmlsdGVyIDAuMnMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSwtd2Via2l0LWZpbHRlciAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hY3RpdmUgYW1wLXN0b3J5LXBhZ2VbYWN0aXZlXXstd2Via2l0LWZpbHRlcjpibHVyKDNweCkhaW1wb3J0YW50O2ZpbHRlcjpibHVyKDNweCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LWZpbHRlciAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjotd2Via2l0LWZpbHRlciAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpmaWx0ZXIgMC4zcyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246ZmlsdGVyIDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpLC13ZWJraXQtZmlsdGVyIDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYWN0aXZlIGFtcC1zdG9yeS1wYWdlW2FjdGl2ZV06YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtiYWNrZ3JvdW5kOiMwMDAhaW1wb3J0YW50O3otaW5kZXg6MiFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb246aS1hbXBodG1sLWJvb2tlbmQtb3ZlcmxheS1vcGFjaXR5IDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIGZvcndhcmRzIWltcG9ydGFudDthbmltYXRpb246aS1hbXBodG1sLWJvb2tlbmQtb3ZlcmxheS1vcGFjaXR5IDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIGZvcndhcmRzIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgaS1hbXBodG1sLWJvb2tlbmQtb3ZlcmxheS1vcGFjaXR5ezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjAuNX19QGtleWZyYW1lcyBpLWFtcGh0bWwtYm9va2VuZC1vdmVybGF5LW9wYWNpdHl7MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MC41fX1hbXAtc3RvcnkgYW1wLXZpZGVvOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnR9YW1wLXN0b3J5LWN0YS1sYXllcntkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt0b3A6ODAlIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7ei1pbmRleDozIWltcG9ydGFudH1hbXAtc3RvcnktY3RhLWxheWVyLGFtcC1zdG9yeS1ncmlkLWxheWVye3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudH1hbXAtc3RvcnktZ3JpZC1sYXllcntkaXNwbGF5OmdyaWQhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDt6LWluZGV4OjIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS13aXRoLWZ1bGwtYmxlZWQtYW5pbWF0aW9ue3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1maWxsPjpub3QoOmZpcnN0LWNoaWxkKXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktbG9nb3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50O21hcmdpbjoxNXB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtZmlsbD46Zmlyc3QtY2hpbGR7Ym90dG9tOjAhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7d2lkdGg6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXZlcnRpY2Fse2dyaWQtYXV0by1mbG93OnJvdyFpbXBvcnRhbnQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1ob3Jpem9udGFse2dyaWQtYXV0by1mbG93OmNvbHVtbiFpbXBvcnRhbnQ7Z3JpZC10ZW1wbGF0ZS1yb3dzOjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS10aGlyZHN7Z3JpZC10ZW1wbGF0ZS1yb3dzOjMzJSAzMyUgMzMlIWltcG9ydGFudDtncmlkLXRlbXBsYXRlLWFyZWFzOlxcXCJ1cHBlci10aGlyZFxcXCIgXFxcIm1pZGRsZS10aGlyZFxcXCIgXFxcImxvd2VyLXRoaXJkXFxcIiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFjdGl2ZSAuaS1hbXBodG1sLXN0b3J5LWRldi1sb2dzLWJ1dHRvbiwuaS1hbXBodG1sLXN0b3J5LWRldi1sb2dzLWJ1dHRvbltkYXRhLWNvdW50PVxcXCIwXFxcIl17ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldi1sb2dzLWJ1dHRvbntiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldi1sb2dzLWJ1dHRvbjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NnB4IWltcG9ydGFudDtib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O2NvbG9yOiM0NDQ7Y29udGVudDphdHRyKGRhdGEtY291bnQpIWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvIWltcG9ydGFudDtmb250LXNpemU6MTFweCFpbXBvcnRhbnQ7aGVpZ2h0OjEycHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEycHghaW1wb3J0YW50O3BhZGRpbmc6MCA2cHghaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt0b3A6NnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWVycm9yLWJ1dHRvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNEQjQ0MzcnJTNFJTNDcGF0aCBkPSdNMTIgMkM2LjQ3IDIgMiA2LjQ3IDIgMTJzNC40NyAxMCAxMCAxMCAxMC00LjQ3IDEwLTEwUzE3LjUzIDIgMTIgMnptNSAxMy41OUwxNS41OSAxNyAxMiAxMy40MSA4LjQxIDE3IDcgMTUuNTkgMTAuNTkgMTIgNyA4LjQxIDguNDEgNyAxMiAxMC41OSAxNS41OSA3IDE3IDguNDEgMTMuNDEgMTIgMTcgMTUuNTl6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS13YXJuaW5nLWJ1dHRvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNGRkMxMDcnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xIDIxaDIyTDEyIDIgMSAyMXptMTItM2gtMnYtMmgydjJ6bTAtNGgtMnYtNGgydjR6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3VjY2Vzcy1idXR0b257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzMEY5RDU4JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTIgMTVsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9YW1wLXN0b3J5W3N0YW5kYWxvbmVdIC5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZ3tiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC44NSkhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsIWltcG9ydGFudDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDttYXgtaGVpZ2h0OjQ1JSFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDtwb3NpdGlvbjpmaXhlZCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudDt6LWluZGV4OjEwMDAwMiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWhlYWRlcnstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDtiYWNrZ3JvdW5kOnJnYmEoMywxNjksMjQ0LDAuODUpIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjcwMCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpqdXN0aWZ5IWltcG9ydGFudDstbXMtZmxleC1wYWNrOmp1c3RpZnkhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuIWltcG9ydGFudDtwYWRkaW5nOjEycHggMjBweCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1jbG9zZSwuaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctaGVhZGVyey13ZWJraXQtYm94LWZsZXg6MCFpbXBvcnRhbnQ7LW1zLWZsZXgtcG9zaXRpdmU6MCFpbXBvcnRhbnQ7ZmxleC1ncm93OjAhaW1wb3J0YW50Oy1tcy1mbGV4LW5lZ2F0aXZlOjAhaW1wb3J0YW50O2ZsZXgtc2hyaW5rOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1jbG9zZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIGZpbGw9JyUyM0ZGRicgaGVpZ2h0PScyNCcgd2lkdGg9JzI0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1jb250ZXh0e2NvbG9yOiMwMDAhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byBNb25vIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cmllc3tsaXN0LXN0eWxlLXR5cGU6bm9uZSFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O292ZXJmbG93LXg6aGlkZGVuIWltcG9ydGFudDtvdmVyZmxvdy15OmF1dG8haW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWVudHJ5ey13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLDAuNSkhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7cGFkZGluZzoyMHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnk6YmVmb3Jle2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTpjb3ZlciFpbXBvcnRhbnQ7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZmxleDowIWltcG9ydGFudDstbXMtZmxleC1wb3NpdGl2ZTowIWltcG9ydGFudDtmbGV4LWdyb3c6MCFpbXBvcnRhbnQ7LW1zLWZsZXgtbmVnYXRpdmU6MCFpbXBvcnRhbnQ7ZmxleC1zaHJpbms6MCFpbXBvcnRhbnQ7aGVpZ2h0OjMycHghaW1wb3J0YW50O21hcmdpbi1yaWdodDoyMHB4IWltcG9ydGFudDt3aWR0aDozMnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnktZXJyb3I6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM0RCNDQzNyclM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDcgMiAyIDYuNDcgMiAxMnM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTBTMTcuNTMgMiAxMiAyem01IDEzLjU5TDE1LjU5IDE3IDEyIDEzLjQxIDguNDEgMTcgNyAxNS41OSAxMC41OSAxMiA3IDguNDEgOC40MSA3IDEyIDEwLjU5IDE1LjU5IDcgMTcgOC40MSAxMy40MSAxMiAxNyAxNS41OXonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnktd2FybmluZzpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzRkZDMTA3JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMSAyMWgyMkwxMiAyIDEgMjF6bTEyLTNoLTJ2LTJoMnYyem0wLTRoLTJ2LTRoMnY0eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnktc3VjY2VzczpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzMEY5RDU4JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTIgMTVsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1leHBlcmltZW50LWVycm9yey13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWxpbmUtcGFjazpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiMyMjIhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtjb2xvcjojZjBmMGYwIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbCFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Zm9udC1zaXplOjIwcHghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtwYWRkaW5nOjMycHghaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7ei1pbmRleDo5OTk5OTkhaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtaWNvbntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTpjb3ZlciFpbXBvcnRhbnQ7aGVpZ2h0OjY0cHghaW1wb3J0YW50O21hcmdpbjowIGF1dG8gMTZweCFpbXBvcnRhbnQ7d2lkdGg6NjRweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1leHBlcmltZW50LWljb24tZXJyb3J7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzRkZGJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMSAyMWgyMkwxMiAyIDEgMjF6bTEyLTNoLTJ2LTJoMnYyem0wLTRoLTJ2LTRoMnY0eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWV4cGVyaW1lbnQtaWNvbi1kb25le2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM0ZGRiclM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00wIDBoMjR2MjRIMHonLyUzRSUzQ3BhdGggZD0nTTkgMTYuMkw0LjggMTJsLTEuNCAxLjRMOSAxOSAyMSA3bC0xLjQtMS40TDkgMTYuMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1leHBlcmltZW50LWVycm9yIGJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICNmMGYwZjAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6OHB4IWltcG9ydGFudDtjb2xvcjojZjBmMGYwIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7Zm9udC1zaXplOjIwcHghaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDttYXJnaW46MTZweCAwIDAhaW1wb3J0YW50O291dGxpbmU6bm9uZSFpbXBvcnRhbnQ7cGFkZGluZzo4cHggMzJweCFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlIWltcG9ydGFudDt3aWR0aDo1MCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktZXhwZXJpbWVudC1lcnJvciBidXR0b246YWN0aXZlLC5pLWFtcGh0bWwtc3RvcnktZXhwZXJpbWVudC1lcnJvciBidXR0b246Zm9jdXN7YmFja2dyb3VuZC1jb2xvcjojZjBmMGYwIWltcG9ydGFudDtjb2xvcjojMjIyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXRvYXN0e3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7cGFkZGluZzoxLjE2ZW0gMS4zM2VtIWltcG9ydGFudDtsaW5lLWhlaWdodDoxLjMzIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDtiYWNrZ3JvdW5kOiMyMTIxMjEhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uOnRvYXN0IDIuMnMhaW1wb3J0YW50O2FuaW1hdGlvbjp0b2FzdCAyLjJzIWltcG9ydGFudDstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6Ym90aCFpbXBvcnRhbnQ7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtmb250LXNpemU6MTJweCFpbXBvcnRhbnQ7bWF4LXdpZHRoOjY0MHB4IWltcG9ydGFudDt6LWluZGV4OjEwMDAwMiFpbXBvcnRhbnR9QG1lZGlhIChtaW4td2lkdGg6NjQwcHgpey5pLWFtcGh0bWwtc3RvcnktdG9hc3R7cmlnaHQ6YXV0byFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O21hcmdpbjowIGF1dG8gMS4xNmVtIDEuMTZlbSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo2cHh9fUAtd2Via2l0LWtleWZyYW1lcyB0b2FzdHswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDBweCk7ZWFzaW5nOmN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKX04JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfTkyJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO2Vhc2luZzpjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHB4KX19QGtleWZyYW1lcyB0b2FzdHswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDBweCk7ZWFzaW5nOmN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKX04JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfTkyJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO2Vhc2luZzpjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMHB4KX19LmktYW1waHRtbC1zdG9yeS1jb3B5LXN1Y2Nlc3NmdWx7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTIgMTVsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudDtiYWNrZ3JvdW5kLXNpemU6MTZweCAxNnB4IWltcG9ydGFudDtwYWRkaW5nLWxlZnQ6MjRweCFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvcHktdXJsey13ZWJraXQtYm94LWZsZXg6MSFpbXBvcnRhbnQ7LW1zLWZsZXg6MSFpbXBvcnRhbnQ7ZmxleDoxIWltcG9ydGFudDtjb2xvcjpoc2xhKDAsMCUsMTAwJSwwLjUpIWltcG9ydGFudDttYXJnaW4tbGVmdDo0MHB4IWltcG9ydGFudDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O3doaXRlLXNwYWNlOm5vd3JhcCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1idXR0b24tY29udGFpbmVye2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyLGFtcC1zdG9yeSAuYW1wLXZpZGVvLWVxe3JpZ2h0OjEycHghaW1wb3J0YW50O2JvdHRvbToxMnB4IWltcG9ydGFudH1bZGlyPXJ0bF0gLmktYW1waHRtbC1zdG9yeS1zcGlubmVyLFtkaXI9cnRsXWFtcC1zdG9yeSAuYW1wLXZpZGVvLWVxe2xlZnQ6MTJweCFpbXBvcnRhbnQ7cmlnaHQ6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVye2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7d2lkdGg6MjRweCFpbXBvcnRhbnQ7aGVpZ2h0OjI0cHghaW1wb3J0YW50O3otaW5kZXg6MTAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jb250YWluZXJ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O2RpcmVjdGlvbjpsdHIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lclthY3RpdmVdIC5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jb250YWluZXJ7LXdlYmtpdC1hbmltYXRpb246Y29udGFpbmVyLXJvdGF0ZSAxMjk0bXMgbGluZWFyIGluZmluaXRlIWltcG9ydGFudDthbmltYXRpb246Y29udGFpbmVyLXJvdGF0ZSAxMjk0bXMgbGluZWFyIGluZmluaXRlIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgY29udGFpbmVyLXJvdGF0ZXt0b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgY29udGFpbmVyLXJvdGF0ZXt0b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1sYXllcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnQ7d2hpdGUtc3BhY2U6bm93cmFwIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXJbYWN0aXZlXSAuaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItbGF5ZXJ7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmaWxsLXVuZmlsbC1yb3RhdGUhaW1wb3J0YW50O2FuaW1hdGlvbi1uYW1lOmZpbGwtdW5maWxsLXJvdGF0ZSFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246NDQwMG1zIWltcG9ydGFudDthbmltYXRpb24tZHVyYXRpb246NDQwMG1zIWltcG9ydGFudDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNCwwLjAsMC4yLDEpIWltcG9ydGFudDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlIWltcG9ydGFudDthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlIWltcG9ydGFudDtvcGFjaXR5OjEhaW1wb3J0YW50fUAtd2Via2l0LWtleWZyYW1lcyBmaWxsLXVuZmlsbC1yb3RhdGV7MTIuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDEzNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpfTI1JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMjcwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyl9MzcuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0MDVkZWcpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNTQwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDU0MGRlZyl9NjIuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDY3NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg2NzVkZWcpfTc1JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoODEwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDgxMGRlZyl9ODcuNSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDk0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5NDVkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMDgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEwODBkZWcpfX1Aa2V5ZnJhbWVzIGZpbGwtdW5maWxsLXJvdGF0ZXsxMi41JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTM1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEzNWRlZyl9MjUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMjcwZGVnKX0zNy41JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDA1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQwNWRlZyl9NTAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg1NDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNTQwZGVnKX02Mi41JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNjc1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDY3NWRlZyl9NzUley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg4MTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoODEwZGVnKX04Ny41JXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDk0NWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDEwODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTA4MGRlZyl9fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jaXJjbGUtY2xpcHBlcntkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3dpZHRoOjUwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWxheWVyOmFmdGVye2xlZnQ6NDUlIWltcG9ydGFudDt3aWR0aDoxMCUhaW1wb3J0YW50O2JvcmRlci10b3Atc3R5bGU6c29saWQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jaXJjbGUtY2xpcHBlcjphZnRlciwuaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItbGF5ZXI6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2JvcmRlci13aWR0aDozcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXI6YWZ0ZXJ7Ym90dG9tOjAhaW1wb3J0YW50O3dpZHRoOjIwMCUhaW1wb3J0YW50O2JvcmRlci1zdHlsZTpzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zcGlubmVyLWNpcmNsZS1jbGlwcGVyLmxlZnQ6YWZ0ZXJ7bGVmdDowIWltcG9ydGFudDtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMjlkZWcpIWltcG9ydGFudDt0cmFuc2Zvcm06cm90YXRlKDEyOWRlZykhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3Bpbm5lci1jaXJjbGUtY2xpcHBlci5yaWdodDphZnRlcntsZWZ0Oi0xMDAlIWltcG9ydGFudDtib3JkZXItbGVmdC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0xMjlkZWcpIWltcG9ydGFudDt0cmFuc2Zvcm06cm90YXRlKC0xMjlkZWcpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXJbYWN0aXZlXSAuaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXI6YWZ0ZXJ7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MTEwMG1zIWltcG9ydGFudDthbmltYXRpb24tZHVyYXRpb246MTEwMG1zIWltcG9ydGFudDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNCwwLjAsMC4yLDEpIWltcG9ydGFudDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlIWltcG9ydGFudDthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXJbYWN0aXZlXSAuaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXIubGVmdDphZnRlcnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmxlZnQtc3BpbiFpbXBvcnRhbnQ7YW5pbWF0aW9uLW5hbWU6bGVmdC1zcGluIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNwaW5uZXJbYWN0aXZlXSAuaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXIucmlnaHQ6YWZ0ZXJ7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyaWdodC1zcGluIWltcG9ydGFudDthbmltYXRpb24tbmFtZTpyaWdodC1zcGluIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgbGVmdC1zcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMzBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTMwZGVnKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC01ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC01ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTMwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEzMGRlZyl9fUBrZXlmcmFtZXMgbGVmdC1zcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMzBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTMwZGVnKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC01ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC01ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTMwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDEzMGRlZyl9fUAtd2Via2l0LWtleWZyYW1lcyByaWdodC1zcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtMTMwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC0xMzBkZWcpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTEzMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtMTMwZGVnKX19QGtleWZyYW1lcyByaWdodC1zcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtMTMwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC0xMzBkZWcpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTEzMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtMTMwZGVnKX19XFxuLyojIHNvdXJjZVVSTD0vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjExLjkgMTk3LjRoLTM2Ljd2NTkuOWgzNi43djE3NS44aDcwLjVWMjU2LjVoNDkuMmw1LjItNTkuMWgtNTQuNHYtMzMuN2MwLTEzLjkgMi44LTE5LjUgMTYuMy0xOS41aDM4LjJWODIuOWgtNDguOGMtNTIuNSAwLTc2LjEgMjMuMS03Ni4xIDY3LjMtLjEgMzguNi0uMSA0Ny4yLS4xIDQ3LjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTI2Ni42IDc2LjVjLTEwMC4yIDAtMTUwLjcgNzEuOC0xNTAuNyAxMzEuNyAwIDM2LjMgMTMuNyA2OC41IDQzLjIgODAuNiA0LjggMiA5LjIuMSAxMC42LTUuMyAxLTMuNyAzLjMtMTMgNC4zLTE2LjkgMS40LTUuMy45LTcuMS0zLTExLjgtOC41LTEwLTEzLjktMjMtMTMuOS00MS4zIDAtNTMuMyAzOS45LTEwMSAxMDMuOC0xMDEgNTYuNiAwIDg3LjcgMzQuNiA4Ny43IDgwLjggMCA2MC44LTI2LjkgMTEyLjEtNjYuOCAxMTIuMS0yMi4xIDAtMzguNi0xOC4yLTMzLjMtNDAuNiA2LjMtMjYuNyAxOC42LTU1LjUgMTguNi03NC44IDAtMTcuMy05LjMtMzEuNy0yOC40LTMxLjctMjIuNSAwLTQwLjcgMjMuMy00MC43IDU0LjYgMCAxOS45IDYuNyAzMy40IDYuNyAzMy40cy0yMy4xIDk3LjgtMjcuMSAxMTQuOWMtOC4xIDM0LjEtMS4yIDc1LjktLjYgODAuMS4zIDIuNSAzLjYgMy4xIDUgMS4yIDIuMS0yLjcgMjguOS0zNS45IDM4LjEtNjkgMi42LTkuNCAxNC44LTU4IDE0LjgtNTggNy4zIDE0IDI4LjcgMjYuMyA1MS41IDI2LjMgNjcuOCAwIDExMy44LTYxLjggMTEzLjgtMTQ0LjUtLjEtNjIuNi01My4xLTEyMC44LTEzMy42LTEyMC44eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWxpbmtlZGlue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTE4Ni40IDE0Mi40YzAgMTktMTUuMyAzNC41LTM0LjIgMzQuNS0xOC45IDAtMzQuMi0xNS40LTM0LjItMzQuNSAwLTE5IDE1LjMtMzQuNSAzNC4yLTM0LjUgMTguOSAwIDM0LjIgMTUuNSAzNC4yIDM0LjV6bS01IDU4LjloLTU3Ljh2MTg2LjhoNTcuOFYyMDEuM3ptOTIuNCAwaC01NS40djE4Ni44aDU1LjR2LTk4YzAtMjYuMyAxMi4xLTQxLjkgMzUuMi00MS45IDIxLjMgMCAzMS41IDE1IDMxLjUgNDEuOXY5OEgzOThWMjY5LjhjMC01MC0yOC4zLTc0LjItNjgtNzQuMi0zOS42IDAtNTYuMyAzMC45LTU2LjMgMzAuOXYtMjUuMmguMXonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1ncGx1c3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xNzkuNyAyMzcuNnY0Ni42aDc3Yy0zLjEgMjAtMjMuMyA1OC43LTc3IDU4LjctNDYuMyAwLTg0LjEtMzguNS04NC4xLTg1LjkgMC00Ny40IDM3LjgtODUuOSA4NC4xLTg1LjkgMjYuNCAwIDQ0IDExLjMgNTQuMSAyMWwzNi44LTM1LjVDMjQ3IDEzNC40IDIxNi40IDEyMSAxNzkuNyAxMjEgMTA0LjcgMTIxIDQ0IDE4MS44IDQ0IDI1N3M2MC43IDEzNiAxMzUuNyAxMzZDMjU4IDM5MyAzMTAgMzM3LjggMzEwIDI2MC4xYzAtOC45LTEtMTUuNy0yLjEtMjIuNUgxNzkuN3ptMjg4LjMtLjloLTM4LjdWMTk4aC0zOC42djM4LjdIMzUydjM4LjZoMzguN1YzMTRoMzguNnYtMzguN0g0NjgnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1lbWFpbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xMDEuMyAxNDEuNnYyMjguOWgzMDkuNVYxNDEuNkgxMDEuM3ptMjc0LjQgMjYuMkwyNTYgMjU5LjNsLTExOS42LTkxLjVoMjM5LjN6bS0yNDguMSAyNi4zbDY0LjEgNDkuMS02NC4xIDY0LjFWMTk0LjF6bS4yIDE1MC4xbDg0LjktODQuOSA0My4yIDMzLjEgNDMtMzIuOSA4NC43IDg0LjdIMTI3Ljh6bTI1Ni42LTM2LjRMMzIwIDI0My40bDY0LjQtNDkuM3YxMTMuN3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDAwJyBoZWlnaHQ9JzQwMCclM0UlM0NnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J00wIDBoNDAwdjQwMEgweicvJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGZpbGwtcnVsZT0nbm9uemVybycgZD0nTTE1My42MiAzMDEuNTljOTQuMzQgMCAxNDUuOTQtNzguMTYgMTQ1Ljk0LTE0NS45NCAwLTIuMjIgMC00LjQzLS4xNS02LjYzQTEwNC4zNiAxMDQuMzYgMCAwIDAgMzI1IDEyMi40N2ExMDIuMzggMTAyLjM4IDAgMCAxLTI5LjQ2IDguMDcgNTEuNDcgNTEuNDcgMCAwIDAgMjIuNTUtMjguMzcgMTAyLjc5IDEwMi43OSAwIDAgMS0zMi41NyAxMi40NWMtMTUuOS0xNi45MDYtNDEuMTYzLTIxLjA0NC02MS42MjUtMTAuMDkzLTIwLjQ2MSAxMC45NS0zMS4wMzIgMzQuMjY2LTI1Ljc4NSA1Ni44NzNBMTQ1LjYyIDE0NS42MiAwIDAgMSA5Mi40IDEwNy44MWMtMTMuNjE0IDIzLjQzNi02LjY2IDUzLjQxOSAxNS44OCA2OC40N0E1MC45MSA1MC45MSAwIDAgMSA4NSAxNjkuODZ2LjY1Yy4wMDcgMjQuNDE2IDE3LjIxOCA0NS40NDUgNDEuMTUgNTAuMjhhNTEuMjEgNTEuMjEgMCAwIDEtMjMuMTYuODhjNi43MiAyMC44OTQgMjUuOTc2IDM1LjIwOCA0Ny45MiAzNS42MmExMDIuOTIgMTAyLjkyIDAgMCAxLTYzLjcgMjIgMTA0LjQxIDEwNC40MSAwIDAgMS0xMi4yMS0uNzQgMTQ1LjIxIDE0NS4yMSAwIDAgMCA3OC42MiAyMycvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHVtYmxye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMC44IDgwLjNjLTIuMyAxOC4zLTYuNCAzMy40LTEyLjQgNDUuMi02IDExLjktMTMuOSAyMi0yMy45IDMwLjUtOS45IDguNS0yMS44IDE0LjktMzUuNyAxOS41djUwLjZoMzguOXYxMjQuNWMwIDE2LjIgMS43IDI4LjYgNS4xIDM3LjEgMy40IDguNSA5LjUgMTYuNiAxOC4zIDI0LjIgOC44IDcuNiAxOS40IDEzLjQgMzEuOSAxNy41czI2LjggNi4xIDQzIDYuMWMxNC4zIDAgMjcuNi0xLjQgMzkuOS00LjMgMTIuMy0yLjkgMjYtNy45IDQxLjItMTV2LTU1LjljLTE3LjggMTEuNy0zNS43IDE3LjUtNTMuNyAxNy41LTEwLjEgMC0xOS4xLTIuNC0yNy03LjEtNS45LTMuNS0xMC04LjItMTIuMi0xNC0yLjItNS44LTMuMy0xOS4xLTMuMy0zOS43di05MS4xaDg0LjZ2LTU1LjhoLTg0LjR2LTkwaC01MC4zeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDYnIGhlaWdodD0nNDYnJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGQ9J00zNS40IDEwLjRDMzIgNi45IDI3LjMgNSAyMi41IDUgMTIuMyA1IDQuMSAxMy4zIDQuMiAyMy40YzAgMy4yLjkgNi4zIDIuNCA5LjFMNCA0Mmw5LjctMi41YzIuNyAxLjUgNS43IDIuMiA4LjcgMi4yIDEwLjEgMCAxOC4zLTguMyAxOC4zLTE4LjQgMC00LjktMS45LTkuNS01LjMtMTIuOXpNMjIuNSAzOC42Yy0yLjcgMC01LjQtLjctNy43LTIuMWwtLjYtLjMtNS44IDEuNUw5LjkgMzJsLS40LS42Yy00LjQtNy4xLTIuMy0xNi41IDQuOS0yMC45IDcuMi00LjQgMTYuNS0yLjMgMjAuOSA0LjkgNC40IDcuMiAyLjMgMTYuNS00LjkgMjAuOS0yLjMgMS41LTUuMSAyLjMtNy45IDIuM3ptOC44LTExLjFsLTEuMS0uNXMtMS42LS43LTIuNi0xLjJjLS4xIDAtLjItLjEtLjMtLjEtLjMgMC0uNS4xLS43LjIgMCAwLS4xLjEtMS41IDEuNy0uMS4yLS4zLjMtLjUuM2gtLjFjLS4xIDAtLjMtLjEtLjQtLjJsLS41LS4yYy0xLjEtLjUtMi4xLTEuMS0yLjktMS45LS4yLS4yLS41LS40LS43LS42LS43LS43LTEuNC0xLjUtMS45LTIuNGwtLjEtLjJjLS4xLS4xLS4xLS4yLS4yLS40IDAtLjIgMC0uNC4xLS41IDAgMCAuNC0uNS43LS44LjItLjIuMy0uNS41LS43LjItLjMuMy0uNy4yLTEtLjEtLjUtMS4zLTMuMi0xLjYtMy44LS4yLS4zLS40LS40LS43LS41aC0xLjFjLS4yIDAtLjQuMS0uNi4xbC0uMS4xYy0uMi4xLS40LjMtLjYuNC0uMi4yLS4zLjQtLjUuNi0uNy45LTEuMSAyLTEuMSAzLjEgMCAuOC4yIDEuNi41IDIuM2wuMS4zYy45IDEuOSAyLjEgMy42IDMuNyA1LjFsLjQuNGMuMy4zLjYuNS44LjggMi4xIDEuOCA0LjUgMy4xIDcuMiAzLjguMy4xLjcuMSAxIC4yaDFjLjUgMCAxLjEtLjIgMS41LS40LjMtLjIuNS0uMi43LS40bC4yLS4yYy4yLS4yLjQtLjMuNi0uNS4yLS4yLjQtLjQuNS0uNi4yLS40LjMtLjkuNC0xLjR2LS43cy0uMS0uMS0uMy0uMnonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMS45OSclM0UlM0NwYXRoIGQ9J000NDMuMiAyMzMuMjljMC04NC4xNC04NC4zNS0xNTIuNi0xODgtMTUyLjZzLTE4OCA2OC40Ni0xODggMTUyLjZjMCA3NS40MyA2Ni45IDEzOC42MSAxNTcuMjYgMTUwLjU1IDYuMTMgMS4zMiAxNC40NiA0IDE2LjU3IDkuMjcgMS44OSA0Ljc2IDEuMjQgMTIuMi42MSAxNyAwIDAtMi4yMSAxMy4yNi0yLjY5IDE2LjA5LS44MiA0Ljc1LTMuNzggMTguNiAxNi4yOSAxMC4xNHMxMDguMjEtNjMuNzYgMTQ3LjY2LTEwOS4xNmMyNy4yNS0yOS44OSA0MC4zLTYwLjE4IDQwLjMtOTMuODl6bS0yNTQuMzggNDQuOTJhMy42NyAzLjY3IDAgMCAxLTMuNjYgMy42N2gtNTIuNjlhMy42IDMuNiAwIDAgMS0yLjUzLTFsLS4wNi0uMDV2LS4wNWEzLjY1IDMuNjUgMCAwIDEtMS0yLjUzdi04MS45NmEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjE5YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ2NjUuMDdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptMzEuOCAwYTMuNjUgMy42NSAwIDAgMS0zLjY2IDMuNjVoLTEzLjJhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTJhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NkgyMTdhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptOTAuNzggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4xOWEzLjY3IDMuNjcgMCAwIDEtLjk0LS4xMmgtLjA1bC0uMjUtLjA4aC0uMTFsLS4xOC0uMDgtLjE3LS4wOC0uMTEtLjA2LS4yMi0uMTRhMy40NSAzLjQ1IDAgMCAxLS45My0uOUwyNTQgMjI5LjU2djQ4LjY2YTMuNjYgMy42NiAwIDAgMS0zLjY3IDMuNjVIMjM3LjFhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTNhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy44NmwuMjEuMDVoLjEzbC4yMS4wN2guMTJhMS4zMSAxLjMxIDAgMCAxIC4yMS4wOGwuMTIuMDYuMTkuMTFhLjQxLjQxIDAgMCAxIC4xMS4wN2wuMTkuMTMuMS4wNy4xOS4xNi4wNy4wN2EyLjI4IDIuMjggMCAwIDEgLjIyLjIyIDMuNTggMy41OCAwIDAgMSAuMjguMzdMMjkwLjg5IDI0NXYtNDguNzFhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em03Mi44My02OC43NGEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC0zNS44NFYyMjdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjUgMy42N3YxMy4xOWEzLjY1IDMuNjUgMCAwIDEtMy42NSAzLjY2aC0zNS44NHYxMy44NWgzNS44NGEzLjY1IDMuNjUgMCAwIDEgMy42NSAzLjY2djEzLjE5YTMuNjYgMy42NiAwIDAgMS0zLjY1IDMuNjdoLTUyLjdhMy42NiAzLjY2IDAgMCAxLTIuNTMtMWwtLjA1LS4wNWEuMTIuMTIgMCAwIDEtLjA1LS4wNSAzLjY1IDMuNjUgMCAwIDEtMS0yLjUzVjE5Ni4zYTMuNiAzLjYgMCAwIDEgMS0yLjUybC4wNi0uMDdhMy42MyAzLjYzIDAgMCAxIDIuNTQtMWg1Mi43YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd6JyBmaWxsPSclMjNmZmYnIGRhdGEtbmFtZT0n44Os44Kk44Ok44O8IDEnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMzAnIGhlaWdodD0nMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIHN0cm9rZT0nJTIzRkZGJyBzdHJva2Utd2lkdGg9JzMnIGQ9J004LjczIDI2di01LjY1OEgyVjJoMjUuOTdMMjggMjAuMzU1bC0xMi4wNjIuMDQyeicgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc3lzdGVte2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgZmlsbD0nJTIzZmZmJyBoZWlnaHQ9JzI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTE4IDE2LjA4Yy0uNzYgMC0xLjQ0LjMtMS45Ni43N0w4LjkxIDEyLjdjLjA1LS4yMy4wOS0uNDYuMDktLjdzLS4wNC0uNDctLjA5LS43bDcuMDUtNC4xMWMuNTQuNSAxLjI1LjgxIDIuMDQuODEgMS42NiAwIDMtMS4zNCAzLTNzLTEuMzQtMy0zLTMtMyAxLjM0LTMgM2MwIC4yNC4wNC40Ny4wOS43TDguMDQgOS44MUM3LjUgOS4zMSA2Ljc5IDkgNiA5Yy0xLjY2IDAtMyAxLjM0LTMgM3MxLjM0IDMgMyAzYy43OSAwIDEuNS0uMzEgMi4wNC0uODFsNy4xMiA0LjE2Yy0uMDUuMjEtLjA4LjQzLS4wOC42NSAwIDEuNjEgMS4zMSAyLjkyIDIuOTIgMi45MiAxLjYxIDAgMi45Mi0xLjMxIDIuOTItMi45MnMtMS4zMS0yLjkyLTIuOTItMi45MnonLyUzRSUzQy9zdmclM0VcXFwiKX1hbXAtc29jaWFsLXNoYXJle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtY29sb3I6IzFkYTFmMn0uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiMzYjU5OTh9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtY29sb3I6I2JkMDgxY30uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWNvbG9yOiMwMDc3YjV9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1jb2xvcjojZGM0ZTQxfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWNvbG9yOiMzYzVhNzd9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtY29sb3I6IzI1ZDM2Nn0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtY29sb3I6IzUyYjQ0OH0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1jb2xvcjojY2EyYjYzfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXJnaW46MTZweCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGV7cGFkZGluZzoxNnB4IDAhaW1wb3J0YW50O292ZXJmbG93OmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDowcHghaW1wb3J0YW50O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtsaXN0LXN0eWxlOm5vbmUhaW1wb3J0YW50O3BhZGRpbmc6MCA4cHghaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy1tcy1mbGV4LXdyYXA6d3JhcCFpbXBvcnRhbnQ7ZmxleC13cmFwOndyYXAhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50O21hcmdpbi1ib3R0b206MTJweCFpbXBvcnRhbnR9QG1lZGlhIChtYXgtd2lkdGg6NDEwcHgpey5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDttaW4td2lkdGg6NjBweCFpbXBvcnRhbnQ7d2lkdGg6MjUlIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6NDEwcHgpIGFuZCAobWF4LXdpZHRoOjUwMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7d2lkdGg6MjAlIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6NTAwcHgpIGFuZCAobWF4LXdpZHRoOjcyMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7d2lkdGg6MTYuNjYlIWltcG9ydGFudH19LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQtc2Nyb2xsYWJsZSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7LW1zLWZsZXgtd3JhcDpub3dyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDpub3dyYXAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGU+Kj4uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDttaW4td2lkdGg6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOmVtcHR5e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29ue2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtwYWRkaW5nOjU2cHggMCAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtsaW5lLWhlaWdodDoxMHB4IWltcG9ydGFudDtmb250LXNpemU6MTBweCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjhweCA4cHghaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTozMnB4IDMycHghaW1wb3J0YW50O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1zaXplOjM4cHggMzhweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1cHggNXB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YmVmb3Jle2NvbnRlbnQ6XFxcIiBcXFwiIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwwLjE1KSFpbXBvcnRhbnQ7d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjQ4cHghaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt6LWluZGV4Oi0xIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YWN0aXZlLC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjpmb2N1c3tvdXRsaW5lOm5vbmUhaW1wb3J0YW50O2JveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZTpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjojNzg3ODc4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb25bdHlwZT1lbWFpbF17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMjAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0wIDRsLTggNS04LTVWNmw4IDUgOC01djJ6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uW3R5cGU9c3lzdGVtXXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J002IDEwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptMTIgMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bS02IDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb24tbGlua3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTMuOSAxMmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMWg0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0xLjlIN2MtMS43MSAwLTMuMS0xLjM5LTMuMS0zLjF6TTggMTNoOHYtMkg4djJ6bTktNmgtNHYxLjloNGMxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXMtMS4zOSAzLjEtMy4xIDMuMWgtNFYxN2g0YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmR7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWwhaW1wb3J0YW50Oy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWwhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAxIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4zcyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4zcyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnR9W2Rpcj1ydGxdLmktYW1waHRtbC1zdG9yeS1ib29rZW5ke3RleHQtYWxpZ246cmlnaHQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC5pLWFtcGh0bWwtaGlkZGVuey13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwdmgpIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDB2aCkhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1vdmVyZmxvd3tvdmVyZmxvdzphdXRvIWltcG9ydGFudDstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaCFpbXBvcnRhbnQ7bWFyZ2luLXRvcDphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXJ7bWFyZ2luOjg4cHggMCAwIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3BhZGRpbmctdG9wOjMycHghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWlubmVyOmJlZm9yZXtjb250ZW50OlxcXCIgXFxcIiFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNykhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtsZWZ0OjhweCFpbXBvcnRhbnQ7dG9wOjhweCFpbXBvcnRhbnQ7Ym90dG9tOjhweCFpbXBvcnRhbnQ7cmlnaHQ6OHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWZ1bGxibGVlZCAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXI6YmVmb3JlLFtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXI6YmVmb3Jle2xlZnQ6MCFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5ne3dpZHRoOjEwMCUhaW1wb3J0YW50O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O3BhZGRpbmctYm90dG9tOjhweCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLDAuMjUpIWltcG9ydGFudDtjb2xvcjpoc2xhKDAsMCUsMTAwJSwwLjU0KSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDtsZXR0ZXItc3BhY2luZzowLjgzcHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuNDghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbnNlbnR7bWFyZ2luOjAgMzJweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbnNlbnQ6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjMycHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb25zZW50IC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5ne21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29tcG9uZW50LW1ldGF7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtmb250LXNpemU6MTRweCFpbXBvcnRhbnQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpcyFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjE2cHghaW1wb3J0YW50O2NvbG9yOmhzbGEoMCwwJSwxMDAlLDAuNikhaW1wb3J0YW50O21hcmdpbi10b3A6OHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZXt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Y29sb3I6aW5oZXJpdCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmp1c3RpZnkhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6anVzdGlmeSFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50O21heC1oZWlnaHQ6MTAwcHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLXRleHQtY29udGVudHt3aWR0aDoxMDAlIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O3BhZGRpbmctcmlnaHQ6MTBweCFpbXBvcnRhbnR9W2Rpcj1ydGxdIC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLXRleHQtY29udGVudHtwYWRkaW5nLXJpZ2h0OjBweCFpbXBvcnRhbnQ7cGFkZGluZy1sZWZ0OjEwcHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLWhlYWRpbmcsLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbnNlbnQtYnV0dG9uLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC10ZXh0e2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE2cHghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpcyFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MS40NWVtIWltcG9ydGFudDttYXgtaGVpZ2h0OjQuMzVlbSFpbXBvcnRhbnQ7bWFyZ2luOjAgMCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnR7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbToyNHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtbGFuZHNjYXBlLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1wb3J0cmFpdHtib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsIWltcG9ydGFudDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtjb2xvcjppbmhlcml0IWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50fUBtZWRpYSAobWluLXdpZHRoOjY0MHB4KXsuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29tcG9uZW50LXNldHtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy1tcy1mbGV4LXdyYXA6d3JhcCFpbXBvcnRhbnQ7ZmxleC13cmFwOndyYXAhaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6anVzdGlmeSFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpqdXN0aWZ5IWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudDpub3QoLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWhlYWRpbmcpe3dpZHRoOmNhbGMoNTAlIC0gMTJweCkhaW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo5NjBweCl7LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudDpub3QoLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWhlYWRpbmcpe3dpZHRoOmNhbGMoMzMlIC0gMTZweCkhaW1wb3J0YW50fX0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtdGV4dHtmb250LXNpemU6MTRweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudC1jYXRlZ29yeXttYXJnaW4tdG9wOjBweCFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbTo4cHghaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZSFpbXBvcnRhbnQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpcyFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2xldHRlci1zcGFjaW5nOjAuNXB4IWltcG9ydGFudDtsaW5lLWhlaWdodDoxLjQ4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1pbWFnZSwuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcmVwbGF5LWltYWdle3dpZHRoOjEwMHB4IWltcG9ydGFudDtoZWlnaHQ6MTAwcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6OHB4IWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50fUBtZWRpYSAobWF4LXdpZHRoOjM3NnB4KXsuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtbGFuZHNjYXBlLWltYWdlLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1wb3J0cmFpdC1pbWFnZXt3aWR0aDoxMDAlIWltcG9ydGFudH19LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaW1hZ2U+aW1nLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1sYW5kc2NhcGUtaW1hZ2U+aW1nLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1wb3J0cmFpdC1pbWFnZT5pbWd7LW8tb2JqZWN0LWZpdDpjb3ZlciFpbXBvcnRhbnQ7b2JqZWN0LWZpdDpjb3ZlciFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1sYW5kc2NhcGUtaW1hZ2UsLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXBvcnRyYWl0LWltYWdle3dpZHRoOjEwMCUhaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcG9ydHJhaXQtaW1hZ2V7cGFkZGluZy1ib3R0b206MTI1JSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWxhbmRzY2FwZS1pbWFnZXtwYWRkaW5nLWJvdHRvbTo3NSUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1sYW5kc2NhcGUtaW1hZ2U+aW1nLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1wb3J0cmFpdC1pbWFnZT5pbWd7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaW1hZ2V7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTpjb3ZlciFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaW1hZ2UsLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pY29uLC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaW1hZ2V7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50Oy13ZWJraXQtYm94LWZsZXg6MCFpbXBvcnRhbnQ7LW1zLWZsZXg6bm9uZSFpbXBvcnRhbnQ7ZmxleDpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcmVwbGF5e21hcmdpbjowIDI0cHghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXgtaGVpZ2h0OjEyMHB4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmp1c3RpZnkhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6anVzdGlmeSFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaWNvbntiYWNrZ3JvdW5kOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xNy42NSA2LjM1QTcuOTU4IDcuOTU4IDAgMCAwIDEyIDRjLTQuNDIgMC03Ljk5IDMuNTgtNy45OSA4czMuNTcgOCA3Ljk5IDhjMy43MyAwIDYuODQtMi41NSA3LjczLTZoLTIuMDhBNS45OSA1Ljk5IDAgMCAxIDEyIDE4Yy0zLjMxIDAtNi0yLjY5LTYtNnMyLjY5LTYgNi02YzEuNjYgMCAzLjE0LjY5IDQuMjIgMS43OEwxMyAxMWg3VjRsLTIuMzUgMi4zNXonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIDUwJSBuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaW1hZ2U+LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pY29ue3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC4zKSFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXk+LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pY29ue3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo0OHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoNjAsNjAsNjAsMC41KSFpbXBvcnRhbnQ7cG9zaXRpb246c3RhdGljIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudC1zZXR7bWFyZ2luOjAgMjRweCAyNHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY3RhLWxpbmstd3JhcHBlciwuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtdGV4dGJveHtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy1tcy1mbGV4LXdyYXA6d3JhcCFpbXBvcnRhbnQ7ZmxleC13cmFwOndyYXAhaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7Y29sb3I6aW5oZXJpdCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmp1c3RpZnkhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6anVzdGlmeSFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC10ZXh0Ym94ey13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jdGEtbGlua3tiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLDAuMTUpIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjEwMHB4IWltcG9ydGFudDtoZWlnaHQ6NDBweCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7d2lkdGg6Y2FsYyg1MCUgLSA2cHgpIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbToxMnB4fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jdGEtbGluazpudGgtY2hpbGQob2RkKTpsYXN0LWNoaWxke3dpZHRoOjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jdGEtbGluay10ZXh0e2NvbG9yOiNmZmYhaW1wb3J0YW50O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZSFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2ZvbnQtc2l6ZToxM3B4IWltcG9ydGFudDtmb250LXdlaWdodDo3MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjQwcHghaW1wb3J0YW50O3BhZGRpbmc6MCAyNHB4IWltcG9ydGFudDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O3doaXRlLXNwYWNlOm5vd3JhcCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWZ1bGxibGVlZDpiZWZvcmV7Y29udGVudDpcXFwiIFxcXCIhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQoYm90dG9tLHJnYmEoMSwxLDEsMCksIzAwMCkhaW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KDBkZWcscmdiYSgxLDEsMSwwKSwjMDAwKSFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O2hlaWdodDo0MHB4IWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudDt6LWluZGV4OjEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1mdWxsYmxlZWQgLmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7bWFyZ2luLWxlZnQ6MCFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1mdWxsYmxlZWQgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0e3BhZGRpbmctbGVmdDoxNnB4IWltcG9ydGFudDtwYWRkaW5nLXJpZ2h0OjE2cHghaW1wb3J0YW50fVtkZXNrdG9wXS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudH1bZGVza3RvcF0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQuaS1hbXBodG1sLWhpZGRlbnstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwdmgpIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDB2aCkhaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnR9W2Rlc2t0b3BdLmktYW1waHRtbC1zdG9yeS1ib29rZW5kIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1pbm5lcntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O21pbi1oZWlnaHQ6MTAwdmghaW1wb3J0YW50O3BhZGRpbmc6MTA0cHggMTU2cHggNjRweCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXI6YmVmb3Jle2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXl7ZGlzcGxheTpub25lIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLW92ZXJmbG93e21hcmdpbi10b3A6MCFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbTowIWltcG9ydGFudH1AbWVkaWEgKG1pbi13aWR0aDo5NTJweCl7W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnQ6bm90KC5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5nKXt3aWR0aDpjYWxjKDUwJSAtIDEycHgpIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6MTI3MnB4KXtbZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudDpub3QoLmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWhlYWRpbmcpe3dpZHRoOmNhbGMoMzMlIC0gMTZweCkhaW1wb3J0YW50fX1cXG4vKiMgc291cmNlVVJMPS9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LWJvb2tlbmQuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBDU1MgPSBcIi5pLWFtcGh0bWwtc3RvcnktY29uc2VudHtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWwhaW1wb3J0YW50Oy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWwhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAzIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQ6YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7YmFja2dyb3VuZDojMDAwIWltcG9ydGFudDtvcGFjaXR5OjAuNCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LW92ZXJmbG93e21hcmdpbi10b3A6YXV0byFpbXBvcnRhbnQ7b3ZlcmZsb3cteTphdXRvIWltcG9ydGFudDtvdmVyZmxvdy14OmhpZGRlbiFpbXBvcnRhbnQ7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2ghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O21hcmdpbjo4OHB4IDhweCA3MnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmZmYhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6OHB4IDhweCAwIDAhaW1wb3J0YW50O2NvbG9yOnJnYmEoMCwwLDAsMC44NykhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9W2Rpcj1ydGxdIC5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250YWluZXJ7dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWZ1bGxibGVlZCAuaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtY29udGFpbmVye21hcmdpbjo4OHB4IDBweCA3MnB4IWltcG9ydGFudDtwYWRkaW5nOjAgOHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOmluaXRpYWwhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1oZWFkZXJ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O2hlaWdodDo4MHB4IWltcG9ydGFudDttaW4taGVpZ2h0OjgwcHghaW1wb3J0YW50O2JhY2tncm91bmQ6dmFyKC0tcHJpbWFyeS1jb2xvciwjZjBmMGYwKSFpbXBvcnRhbnQ7ei1pbmRleDoyIWltcG9ydGFudDttYXJnaW46MCAtOHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtbG9nb3twb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7Ym90dG9tOi0zMnB4IWltcG9ydGFudDttYXJnaW4tbGVmdDotMzJweCFpbXBvcnRhbnQ7bGVmdDo1MCUhaW1wb3J0YW50O2hlaWdodDo2NHB4IWltcG9ydGFudDt3aWR0aDo2NHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmMGYwZjAhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTpjb250YWluIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjVweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWxvZ286YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6LTZweCFpbXBvcnRhbnQ7Ym90dG9tOi02cHghaW1wb3J0YW50O2xlZnQ6LTZweCFpbXBvcnRhbnQ7cmlnaHQ6LTZweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZmZmIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjZweCFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDJweCAzcHggcmdiYSgwLDAsMCwwLjEyKSFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWNvbnRlbnR7cGFkZGluZzo0MnB4IDE2cHggMTZweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O3otaW5kZXg6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LXZlbmRvcnN7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtdmVuZG9ye2hlaWdodDo0MHB4IWltcG9ydGFudDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZjBmMGYwIWltcG9ydGFudDtsaW5lLWhlaWdodDo0MHB4IWltcG9ydGFudDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1leHRlcm5hbC1saW5re3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7bWFyZ2luOjI0cHggMCFpbXBvcnRhbnQ7Y29sb3I6cmdiYSgwLDAsMCwwLjg3KSFpbXBvcnRhbnQ7Zm9udC1zaXplOjE1cHghaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjcwMCFpbXBvcnRhbnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1leHRlcm5hbC1saW5rOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1leHRlcm5hbC1saW5rOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCIhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtoZWlnaHQ6MTZweCFpbXBvcnRhbnQ7d2lkdGg6MTZweCFpbXBvcnRhbnQ7dG9wOjNweCFpbXBvcnRhbnQ7cmlnaHQ6LTIwcHghaW1wb3J0YW50O2JhY2tncm91bmQ6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9J3JnYmEoMCwgMCwgMCwgMC44NyknJTNFJTNDcGF0aCBkPSdNMTAgNkw4LjU5IDcuNDEgMTMuMTcgMTJsLTQuNTggNC41OUwxMCAxOGw2LTZ6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKSA1MCUgbm8tcmVwZWF0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtZXh0ZXJuYWwtbGluay5pLWFtcGh0bWwtaGlkZGVue2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbnN7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bGVmdDo4cHghaW1wb3J0YW50O3JpZ2h0OjhweCFpbXBvcnRhbnQ7aGVpZ2h0OjcycHghaW1wb3J0YW50O21pbi1oZWlnaHQ6NzJweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZmZmIWltcG9ydGFudDtib3gtc2hhZG93OjAgLTJweCAzcHggcmdiYSgwLDAsMCwwLjEyKSFpbXBvcnRhbnQ7ei1pbmRleDoxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb25ze2xlZnQ6MHB4IWltcG9ydGFudDtyaWdodDowcHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb257cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3BhZGRpbmc6MCAyNHB4IWltcG9ydGFudDttYXJnaW46MCAxMnB4IWltcG9ydGFudDtoZWlnaHQ6NDBweCFpbXBvcnRhbnQ7d2lkdGg6NDB2dyFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZmZmIWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo0MHB4IWltcG9ydGFudDtib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtmb250LXNpemU6MTNweCFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDtsaW5lLWhlaWdodDo0MHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9uLmktYW1waHRtbC1oaWRkZW57ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9uLWFjY2VwdHtiYWNrZ3JvdW5kOnZhcigtLXByaW1hcnktY29sb3IsIzAwMCkhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb24tcmVqZWN0e2JvcmRlcjoxcHggc29saWQgIzAwMCFpbXBvcnRhbnR9QG1lZGlhIChtaW4td2lkdGg6NDIwcHgpey5pLWFtcGh0bWwtc3RvcnktY29uc2VudHstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1vdmVyZmxvd3ttYXJnaW4tdG9wOjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250YWluZXJ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWwhaW1wb3J0YW50Oy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWwhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW4haW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O21heC1oZWlnaHQ6ODB2aCFpbXBvcnRhbnQ7bWluLWhlaWdodDo0MHZoIWltcG9ydGFudDt3aWR0aDpjYWxjKDEwMHZ3IC0gODBweCkhaW1wb3J0YW50O21heC13aWR0aDo4MDBweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1jb25zZW50LWNvbnRlbnR7bWFyZ2luOjAgYXV0byFpbXBvcnRhbnQ7bWF4LXdpZHRoOjQyNHB4IWltcG9ydGFudDstd2Via2l0LWJveC1mbGV4OjEhaW1wb3J0YW50Oy1tcy1mbGV4LXBvc2l0aXZlOjEhaW1wb3J0YW50O2ZsZXgtZ3JvdzoxIWltcG9ydGFudDtvdmVyZmxvdy15OmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDowcHghaW1wb3J0YW50O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb25ze3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDtsZWZ0OjBweCFpbXBvcnRhbnQ7cmlnaHQ6MHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9ue3dpZHRoOjMzdnchaW1wb3J0YW50O21heC13aWR0aDoyMDBweCFpbXBvcnRhbnR9fVxcbi8qIyBzb3VyY2VVUkw9L2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktY29uc2VudC5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmktYW1waHRtbC1zdG9yeS1oaW50LWNvbnRhaW5lcnstd2Via2l0LXRyYW5zaXRpb24tcHJvcGVydHk6b3BhY2l0eSFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1wcm9wZXJ0eTpvcGFjaXR5IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246MjAwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZHVyYXRpb246MjAwbXMhaW1wb3J0YW50O2NvbnRhaW46c3RyaWN0IWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O3otaW5kZXg6MiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LWNvbnRhaW5lci5pLWFtcGh0bWwtaGlkZGVue29wYWNpdHk6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LWNvbnRhaW5lciAuaS1hbXBodG1sLXN0b3J5LW5hdmlnYXRpb24taGVscC1vdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNykhaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDpob3Jpem9udGFsIWltcG9ydGFudDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsIWltcG9ydGFudDstbXMtZmxleC1kaXJlY3Rpb246cm93IWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpyb3chaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2ZvbnQtc2l6ZToyMHB4IWltcG9ydGFudDtwYWRkaW5nOjE2cHggMCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtc2VjdGlvbntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnByZXYtcGFnZXstd2Via2l0LWJveC1mbGV4OjEhaW1wb3J0YW50Oy1tcy1mbGV4OjEhaW1wb3J0YW50O2ZsZXg6MSFpbXBvcnRhbnR9W2Rpcj1ydGxdIC5wcmV2LXBhZ2V7LXdlYmtpdC1ib3gtZmxleDoxIWltcG9ydGFudDstbXMtZmxleDoxIWltcG9ydGFudDtmbGV4OjEhaW1wb3J0YW50O2JvcmRlci1sZWZ0OjFweCBkYXNoZWQgdHJhbnNwYXJlbnQhaW1wb3J0YW50O2JvcmRlci1pbWFnZS1zb3VyY2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzAnIGhlaWdodD0nMzAnJTNFJTNDcGF0aCBmaWxsPSdub25lJyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtZGFzaGFycmF5PSc2LDYnIHN0cm9rZT0nJTIzZmZmJyBkPSdNMCAwdjMwJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50O2JvcmRlci1pbWFnZS1zbGljZTozMyUgMzMlIWltcG9ydGFudDtib3JkZXItaW1hZ2UtcmVwZWF0OnJlcGVhdCFpbXBvcnRhbnQ7Ym9yZGVyLWltYWdlLXdpZHRoOjE0cHghaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAuaS1hbXBodG1sLXN0b3J5LW5hdmlnYXRpb24taGVscC1vdmVybGF5e2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAucHJldi1wYWdle2JhY2tncm91bmQ6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDAsMCwwLDAuNSksdHJhbnNwYXJlbnQpIWltcG9ydGFudDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZyxyZ2JhKDAsMCwwLDAuNSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH0uc2hvdy1maXJzdC1wYWdlLW92ZXJsYXkgLm5leHQtcGFnZXtvcGFjaXR5OjAhaW1wb3J0YW50fS5zaG93LWZpcnN0LXBhZ2Utb3ZlcmxheSAuaS1hbXBodG1sLXN0b3J5LWhpbnQtcGxhY2Vob2xkZXJ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uc2hvdy1maXJzdC1wYWdlLW92ZXJsYXkgLmktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtb3ZlcmxheXtwYWRkaW5nOjBweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LWNvbnRhaW5lciAubmV4dC1wYWdley13ZWJraXQtYm94LWZsZXg6MyFpbXBvcnRhbnQ7LW1zLWZsZXg6MyFpbXBvcnRhbnQ7ZmxleDozIWltcG9ydGFudDtib3JkZXItbGVmdDoxcHggZGFzaGVkIHRyYW5zcGFyZW50IWltcG9ydGFudDtib3JkZXItaW1hZ2Utc291cmNlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMwJyBoZWlnaHQ9JzMwJyUzRSUzQ3BhdGggZmlsbD0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3NxdWFyZScgc3Ryb2tlLWRhc2hhcnJheT0nNiw2JyBzdHJva2U9JyUyM2ZmZicgZD0nTTAgMHYzMCcvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDtib3JkZXItaW1hZ2Utc2xpY2U6MzMlIDMzJSFpbXBvcnRhbnQ7Ym9yZGVyLWltYWdlLXJlcGVhdDpyZXBlYXQhaW1wb3J0YW50O2JvcmRlci1pbWFnZS13aWR0aDoxNHB4IWltcG9ydGFudH1bZGlyPXJ0bF0uaS1hbXBodG1sLXN0b3J5LWhpbnQtY29udGFpbmVyIC5uZXh0LXBhZ2V7Ym9yZGVyLWxlZnQ6bm9uZSFpbXBvcnRhbnR9LnNob3ctZmlyc3QtcGFnZS1vdmVybGF5IC5pLWFtcGh0bWwtc3RvcnktbmF2aWdhdGlvbi1oZWxwLW92ZXJsYXksLnNob3ctbmF2aWdhdGlvbi1vdmVybGF5IC5pLWFtcGh0bWwtc3RvcnktbmF2aWdhdGlvbi1oZWxwLW92ZXJsYXl7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudH0uc2hvdy1maXJzdC1wYWdlLW92ZXJsYXkgLnByZXYtcGFnZSAuaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbnt2aXNpYmlsaXR5OmhpZGRlbn0uc2hvdy1uYXZpZ2F0aW9uLW92ZXJsYXkgLnByZXYtcGFnZSAuaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbi1pY29uOmJlZm9yZXtjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMwJyBoZWlnaHQ9JzMwJyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTUuNDEgNy40MUwxNCA2bC02IDYgNiA2IDEuNDEtMS40MUwxMC44MyAxMnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudDt3aWR0aDozMHB4IWltcG9ydGFudDtoZWlnaHQ6MzBweCFpbXBvcnRhbnQ7ZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50fVtkaXI9cnRsXS5zaG93LW5hdmlnYXRpb24tb3ZlcmxheSAucHJldi1wYWdlIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb246YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzAnIGhlaWdodD0nMzAnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWhpbnQtY29udGFpbmVyIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9ue3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt3aWR0aDo0NHB4IWltcG9ydGFudDtoZWlnaHQ6NDRweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b246YWZ0ZXIsLmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b246YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDt3aWR0aDo0NHB4IWltcG9ydGFudDtoZWlnaHQ6NDRweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMC41KSFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbjpiZWZvcmV7LXdlYmtpdC1hbmltYXRpb246ZXhwYW5kaW5nQnViYmxlIDEwMDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC40LDAsMC4yLDEpIWltcG9ydGFudDthbmltYXRpb246ZXhwYW5kaW5nQnViYmxlIDEwMDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC40LDAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC1jb250YWluZXIgLmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24taWNvbntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ei1pbmRleDoxIWltcG9ydGFudDtoZWlnaHQ6NDRweCFpbXBvcnRhbnQ7d2lkdGg6NDRweCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb246YWZ0ZXIsLmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24taWNvbjpiZWZvcmV7dmVydGljYWwtYWxpZ246bWlkZGxlIWltcG9ydGFudDttYXJnaW46MCAycHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlfS5uZXh0LXBhZ2UgLmktYW1waHRtbC1zdG9yeS1oaW50LXRhcC1idXR0b24taWNvbjphZnRlcntjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMwJyBoZWlnaHQ9JzMwJyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTAgNkw4LjU5IDcuNDEgMTMuMTcgMTJsLTQuNTggNC41OUwxMCAxOGw2LTZ6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7d2lkdGg6MjRweCFpbXBvcnRhbnQ7aGVpZ2h0OjI0cHghaW1wb3J0YW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudH1bZGlyPXJ0bF0gLm5leHQtcGFnZSAuaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbi1pY29uOmFmdGVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzAnIGhlaWdodD0nMzAnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaGludC1wbGFjZWhvbGRlcnt0b3A6NTAlIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbCFpbXBvcnRhbnQ7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWhpbnQtY29udGFpbmVyIC5pLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLXRleHR7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7Zm9udC1zaXplOjE2cHghaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90by1NZWRpdW0sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7bWFyZ2luLXRvcDoyNHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9QC13ZWJraXQta2V5ZnJhbWVzIGV4cGFuZGluZ0J1YmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eTowfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjUpO3RyYW5zZm9ybTpzY2FsZSgxLjUpO29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIGV4cGFuZGluZ0J1YmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eTowfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjUpO3RyYW5zZm9ybTpzY2FsZSgxLjUpO29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eTowfX1cXG4vKiMgc291cmNlVVJMPS9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LWhpbnQuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBDU1MgPSBcIi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMS45IDE5Ny40aC0zNi43djU5LjloMzYuN3YxNzUuOGg3MC41VjI1Ni41aDQ5LjJsNS4yLTU5LjFoLTU0LjR2LTMzLjdjMC0xMy45IDIuOC0xOS41IDE2LjMtMTkuNWgzOC4yVjgyLjloLTQ4LjhjLTUyLjUgMC03Ni4xIDIzLjEtNzYuMSA2Ny4zLS4xIDM4LjYtLjEgNDcuMi0uMSA0Ny4yeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXBpbnRlcmVzdHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00yNjYuNiA3Ni41Yy0xMDAuMiAwLTE1MC43IDcxLjgtMTUwLjcgMTMxLjcgMCAzNi4zIDEzLjcgNjguNSA0My4yIDgwLjYgNC44IDIgOS4yLjEgMTAuNi01LjMgMS0zLjcgMy4zLTEzIDQuMy0xNi45IDEuNC01LjMuOS03LjEtMy0xMS44LTguNS0xMC0xMy45LTIzLTEzLjktNDEuMyAwLTUzLjMgMzkuOS0xMDEgMTAzLjgtMTAxIDU2LjYgMCA4Ny43IDM0LjYgODcuNyA4MC44IDAgNjAuOC0yNi45IDExMi4xLTY2LjggMTEyLjEtMjIuMSAwLTM4LjYtMTguMi0zMy4zLTQwLjYgNi4zLTI2LjcgMTguNi01NS41IDE4LjYtNzQuOCAwLTE3LjMtOS4zLTMxLjctMjguNC0zMS43LTIyLjUgMC00MC43IDIzLjMtNDAuNyA1NC42IDAgMTkuOSA2LjcgMzMuNCA2LjcgMzMuNHMtMjMuMSA5Ny44LTI3LjEgMTE0LjljLTguMSAzNC4xLTEuMiA3NS45LS42IDgwLjEuMyAyLjUgMy42IDMuMSA1IDEuMiAyLjEtMi43IDI4LjktMzUuOSAzOC4xLTY5IDIuNi05LjQgMTQuOC01OCAxNC44LTU4IDcuMyAxNCAyOC43IDI2LjMgNTEuNSAyNi4zIDY3LjggMCAxMTMuOC02MS44IDExMy44LTE0NC41LS4xLTYyLjYtNTMuMS0xMjAuOC0xMzMuNi0xMjAuOHonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xODYuNCAxNDIuNGMwIDE5LTE1LjMgMzQuNS0zNC4yIDM0LjUtMTguOSAwLTM0LjItMTUuNC0zNC4yLTM0LjUgMC0xOSAxNS4zLTM0LjUgMzQuMi0zNC41IDE4LjkgMCAzNC4yIDE1LjUgMzQuMiAzNC41em0tNSA1OC45aC01Ny44djE4Ni44aDU3LjhWMjAxLjN6bTkyLjQgMGgtNTUuNHYxODYuOGg1NS40di05OGMwLTI2LjMgMTIuMS00MS45IDM1LjItNDEuOSAyMS4zIDAgMzEuNSAxNSAzMS41IDQxLjl2OThIMzk4VjI2OS44YzAtNTAtMjguMy03NC4yLTY4LTc0LjItMzkuNiAwLTU2LjMgMzAuOS01Ni4zIDMwLjl2LTI1LjJoLjF6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMTc5LjcgMjM3LjZ2NDYuNmg3N2MtMy4xIDIwLTIzLjMgNTguNy03NyA1OC43LTQ2LjMgMC04NC4xLTM4LjUtODQuMS04NS45IDAtNDcuNCAzNy44LTg1LjkgODQuMS04NS45IDI2LjQgMCA0NCAxMS4zIDU0LjEgMjFsMzYuOC0zNS41QzI0NyAxMzQuNCAyMTYuNCAxMjEgMTc5LjcgMTIxIDEwNC43IDEyMSA0NCAxODEuOCA0NCAyNTdzNjAuNyAxMzYgMTM1LjcgMTM2QzI1OCAzOTMgMzEwIDMzNy44IDMxMCAyNjAuMWMwLTguOS0xLTE1LjctMi4xLTIyLjVIMTc5Ljd6bTI4OC4zLS45aC0zOC43VjE5OGgtMzguNnYzOC43SDM1MnYzOC42aDM4LjdWMzE0aDM4LjZ2LTM4LjdINDY4Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMTAxLjMgMTQxLjZ2MjI4LjloMzA5LjVWMTQxLjZIMTAxLjN6bTI3NC40IDI2LjJMMjU2IDI1OS4zbC0xMTkuNi05MS41aDIzOS4zem0tMjQ4LjEgMjYuM2w2NC4xIDQ5LjEtNjQuMSA2NC4xVjE5NC4xem0uMiAxNTAuMWw4NC45LTg0LjkgNDMuMiAzMy4xIDQzLTMyLjkgODQuNyA4NC43SDEyNy44em0yNTYuNi0zNi40TDMyMCAyNDMuNGw2NC40LTQ5LjN2MTEzLjd6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHdpdHRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzQwMCcgaGVpZ2h0PSc0MDAnJTNFJTNDZyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDcGF0aCBkPSdNMCAwaDQwMHY0MDBIMHonLyUzRSUzQ3BhdGggZmlsbD0nJTIzRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIGQ9J00xNTMuNjIgMzAxLjU5Yzk0LjM0IDAgMTQ1Ljk0LTc4LjE2IDE0NS45NC0xNDUuOTQgMC0yLjIyIDAtNC40My0uMTUtNi42M0ExMDQuMzYgMTA0LjM2IDAgMCAwIDMyNSAxMjIuNDdhMTAyLjM4IDEwMi4zOCAwIDAgMS0yOS40NiA4LjA3IDUxLjQ3IDUxLjQ3IDAgMCAwIDIyLjU1LTI4LjM3IDEwMi43OSAxMDIuNzkgMCAwIDEtMzIuNTcgMTIuNDVjLTE1LjktMTYuOTA2LTQxLjE2My0yMS4wNDQtNjEuNjI1LTEwLjA5My0yMC40NjEgMTAuOTUtMzEuMDMyIDM0LjI2Ni0yNS43ODUgNTYuODczQTE0NS42MiAxNDUuNjIgMCAwIDEgOTIuNCAxMDcuODFjLTEzLjYxNCAyMy40MzYtNi42NiA1My40MTkgMTUuODggNjguNDdBNTAuOTEgNTAuOTEgMCAwIDEgODUgMTY5Ljg2di42NWMuMDA3IDI0LjQxNiAxNy4yMTggNDUuNDQ1IDQxLjE1IDUwLjI4YTUxLjIxIDUxLjIxIDAgMCAxLTIzLjE2Ljg4YzYuNzIgMjAuODk0IDI1Ljk3NiAzNS4yMDggNDcuOTIgMzUuNjJhMTAyLjkyIDEwMi45MiAwIDAgMS02My43IDIyIDEwNC40MSAxMDQuNDEgMCAwIDEtMTIuMjEtLjc0IDE0NS4yMSAxNDUuMjEgMCAwIDAgNzguNjIgMjMnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00yMTAuOCA4MC4zYy0yLjMgMTguMy02LjQgMzMuNC0xMi40IDQ1LjItNiAxMS45LTEzLjkgMjItMjMuOSAzMC41LTkuOSA4LjUtMjEuOCAxNC45LTM1LjcgMTkuNXY1MC42aDM4Ljl2MTI0LjVjMCAxNi4yIDEuNyAyOC42IDUuMSAzNy4xIDMuNCA4LjUgOS41IDE2LjYgMTguMyAyNC4yIDguOCA3LjYgMTkuNCAxMy40IDMxLjkgMTcuNXMyNi44IDYuMSA0MyA2LjFjMTQuMyAwIDI3LjYtMS40IDM5LjktNC4zIDEyLjMtMi45IDI2LTcuOSA0MS4yLTE1di01NS45Yy0xNy44IDExLjctMzUuNyAxNy41LTUzLjcgMTcuNS0xMC4xIDAtMTkuMS0yLjQtMjctNy4xLTUuOS0zLjUtMTAtOC4yLTEyLjItMTQtMi4yLTUuOC0zLjMtMTkuMS0zLjMtMzkuN3YtOTEuMWg4NC42di01NS44aC04NC40di05MGgtNTAuM3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS13aGF0c2FwcHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzQ2JyBoZWlnaHQ9JzQ2JyUzRSUzQ3BhdGggZmlsbD0nJTIzRkZGJyBkPSdNMzUuNCAxMC40QzMyIDYuOSAyNy4zIDUgMjIuNSA1IDEyLjMgNSA0LjEgMTMuMyA0LjIgMjMuNGMwIDMuMi45IDYuMyAyLjQgOS4xTDQgNDJsOS43LTIuNWMyLjcgMS41IDUuNyAyLjIgOC43IDIuMiAxMC4xIDAgMTguMy04LjMgMTguMy0xOC40IDAtNC45LTEuOS05LjUtNS4zLTEyLjl6TTIyLjUgMzguNmMtMi43IDAtNS40LS43LTcuNy0yLjFsLS42LS4zLTUuOCAxLjVMOS45IDMybC0uNC0uNmMtNC40LTcuMS0yLjMtMTYuNSA0LjktMjAuOSA3LjItNC40IDE2LjUtMi4zIDIwLjkgNC45IDQuNCA3LjIgMi4zIDE2LjUtNC45IDIwLjktMi4zIDEuNS01LjEgMi4zLTcuOSAyLjN6bTguOC0xMS4xbC0xLjEtLjVzLTEuNi0uNy0yLjYtMS4yYy0uMSAwLS4yLS4xLS4zLS4xLS4zIDAtLjUuMS0uNy4yIDAgMC0uMS4xLTEuNSAxLjctLjEuMi0uMy4zLS41LjNoLS4xYy0uMSAwLS4zLS4xLS40LS4ybC0uNS0uMmMtMS4xLS41LTIuMS0xLjEtMi45LTEuOS0uMi0uMi0uNS0uNC0uNy0uNi0uNy0uNy0xLjQtMS41LTEuOS0yLjRsLS4xLS4yYy0uMS0uMS0uMS0uMi0uMi0uNCAwLS4yIDAtLjQuMS0uNSAwIDAgLjQtLjUuNy0uOC4yLS4yLjMtLjUuNS0uNy4yLS4zLjMtLjcuMi0xLS4xLS41LTEuMy0zLjItMS42LTMuOC0uMi0uMy0uNC0uNC0uNy0uNWgtMS4xYy0uMiAwLS40LjEtLjYuMWwtLjEuMWMtLjIuMS0uNC4zLS42LjQtLjIuMi0uMy40LS41LjYtLjcuOS0xLjEgMi0xLjEgMy4xIDAgLjguMiAxLjYuNSAyLjNsLjEuM2MuOSAxLjkgMi4xIDMuNiAzLjcgNS4xbC40LjRjLjMuMy42LjUuOC44IDIuMSAxLjggNC41IDMuMSA3LjIgMy44LjMuMS43LjEgMSAuMmgxYy41IDAgMS4xLS4yIDEuNS0uNC4zLS4yLjUtLjIuNy0uNGwuMi0uMmMuMi0uMi40LS4zLjYtLjUuMi0uMi40LS40LjUtLjYuMi0uNC4zLS45LjQtMS40di0uN3MtLjEtLjEtLjMtLjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtbGluZXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTEuOTknJTNFJTNDcGF0aCBkPSdNNDQzLjIgMjMzLjI5YzAtODQuMTQtODQuMzUtMTUyLjYtMTg4LTE1Mi42cy0xODggNjguNDYtMTg4IDE1Mi42YzAgNzUuNDMgNjYuOSAxMzguNjEgMTU3LjI2IDE1MC41NSA2LjEzIDEuMzIgMTQuNDYgNCAxNi41NyA5LjI3IDEuODkgNC43NiAxLjI0IDEyLjIuNjEgMTcgMCAwLTIuMjEgMTMuMjYtMi42OSAxNi4wOS0uODIgNC43NS0zLjc4IDE4LjYgMTYuMjkgMTAuMTRzMTA4LjIxLTYzLjc2IDE0Ny42Ni0xMDkuMTZjMjcuMjUtMjkuODkgNDAuMy02MC4xOCA0MC4zLTkzLjg5em0tMjU0LjM4IDQ0LjkyYTMuNjcgMy42NyAwIDAgMS0zLjY2IDMuNjdoLTUyLjY5YTMuNiAzLjYgMCAwIDEtMi41My0xbC0uMDYtLjA1di0uMDVhMy42NSAzLjY1IDAgMCAxLTEtMi41M3YtODEuOTZhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2djY1LjA3aDM1Ljg0YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ6bTMxLjggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4yYTMuNjUgMy42NSAwIDAgMS0zLjY2LTMuNjV2LTgxLjkyYTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZIMjE3YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ6bTkwLjc4IDBhMy42NSAzLjY1IDAgMCAxLTMuNjYgMy42NWgtMTMuMTlhMy42NyAzLjY3IDAgMCAxLS45NC0uMTJoLS4wNWwtLjI1LS4wOGgtLjExbC0uMTgtLjA4LS4xNy0uMDgtLjExLS4wNi0uMjItLjE0YTMuNDUgMy40NSAwIDAgMS0uOTMtLjlMMjU0IDIyOS41NnY0OC42NmEzLjY2IDMuNjYgMCAwIDEtMy42NyAzLjY1SDIzNy4xYTMuNjUgMy42NSAwIDAgMS0zLjY2LTMuNjV2LTgxLjkzYTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZoMTMuODZsLjIxLjA1aC4xM2wuMjEuMDdoLjEyYTEuMzEgMS4zMSAwIDAgMSAuMjEuMDhsLjEyLjA2LjE5LjExYS40MS40MSAwIDAgMSAuMTEuMDdsLjE5LjEzLjEuMDcuMTkuMTYuMDcuMDdhMi4yOCAyLjI4IDAgMCAxIC4yMi4yMiAzLjU4IDMuNTggMCAwIDEgLjI4LjM3TDI5MC44OSAyNDV2LTQ4LjcxYTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZoMTMuMTlhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptNzIuODMtNjguNzRhMy42NiAzLjY2IDAgMCAxLTMuNjUgMy42N2gtMzUuODRWMjI3aDM1Ljg0YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd2MTMuMTlhMy42NSAzLjY1IDAgMCAxLTMuNjUgMy42NmgtMzUuODR2MTMuODVoMzUuODRhMy42NSAzLjY1IDAgMCAxIDMuNjUgMy42NnYxMy4xOWEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC01Mi43YTMuNjYgMy42NiAwIDAgMS0yLjUzLTFsLS4wNS0uMDVhLjEyLjEyIDAgMCAxLS4wNS0uMDUgMy42NSAzLjY1IDAgMCAxLTEtMi41M1YxOTYuM2EzLjYgMy42IDAgMCAxIDEtMi41MmwuMDYtLjA3YTMuNjMgMy42MyAwIDAgMSAyLjU0LTFoNTIuN2EzLjY2IDMuNjYgMCAwIDEgMy42NSAzLjY3eicgZmlsbD0nJTIzZmZmJyBkYXRhLW5hbWU9J+ODrOOCpOODpOODvCAxJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc21ze2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzMwJyBoZWlnaHQ9JzI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBzdHJva2U9JyUyM0ZGRicgc3Ryb2tlLXdpZHRoPSczJyBkPSdNOC43MyAyNnYtNS42NThIMlYyaDI1Ljk3TDI4IDIwLjM1NWwtMTIuMDYyLjA0MnonIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCcvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIGZpbGw9JyUyM2ZmZicgaGVpZ2h0PScyNCcgd2lkdGg9JzI0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xOCAxNi4wOGMtLjc2IDAtMS40NC4zLTEuOTYuNzdMOC45MSAxMi43Yy4wNS0uMjMuMDktLjQ2LjA5LS43cy0uMDQtLjQ3LS4wOS0uN2w3LjA1LTQuMTFjLjU0LjUgMS4yNS44MSAyLjA0LjgxIDEuNjYgMCAzLTEuMzQgMy0zcy0xLjM0LTMtMy0zLTMgMS4zNC0zIDNjMCAuMjQuMDQuNDcuMDkuN0w4LjA0IDkuODFDNy41IDkuMzEgNi43OSA5IDYgOWMtMS42NiAwLTMgMS4zNC0zIDNzMS4zNCAzIDMgM2MuNzkgMCAxLjUtLjMxIDIuMDQtLjgxbDcuMTIgNC4xNmMtLjA1LjIxLS4wOC40My0uMDguNjUgMCAxLjYxIDEuMzEgMi45MiAyLjkyIDIuOTIgMS42MSAwIDIuOTItMS4zMSAyLjkyLTIuOTJzLTEuMzEtMi45Mi0yLjkyLTIuOTJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9YW1wLXNvY2lhbC1zaGFyZXtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCU7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246cmVsYXRpdmV9LmFtcC1zb2NpYWwtc2hhcmUtdHdpdHRlcntiYWNrZ3JvdW5kLWNvbG9yOiMxZGExZjJ9LmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1jb2xvcjojM2I1OTk4fS5hbXAtc29jaWFsLXNoYXJlLXBpbnRlcmVzdHtiYWNrZ3JvdW5kLWNvbG9yOiNiZDA4MWN9LmFtcC1zb2NpYWwtc2hhcmUtbGlua2VkaW57YmFja2dyb3VuZC1jb2xvcjojMDA3N2I1fS5hbXAtc29jaWFsLXNoYXJlLWdwbHVze2JhY2tncm91bmQtY29sb3I6I2RjNGU0MX0uYW1wLXNvY2lhbC1zaGFyZS10dW1ibHJ7YmFja2dyb3VuZC1jb2xvcjojM2M1YTc3fS5hbXAtc29jaWFsLXNoYXJlLWVtYWlse2JhY2tncm91bmQtY29sb3I6IzAwMH0uYW1wLXNvY2lhbC1zaGFyZS13aGF0c2FwcHtiYWNrZ3JvdW5kLWNvbG9yOiMyNWQzNjZ9LmFtcC1zb2NpYWwtc2hhcmUtbGluZXtiYWNrZ3JvdW5kLWNvbG9yOiM1MmI0NDh9LmFtcC1zb2NpYWwtc2hhcmUtc21ze2JhY2tncm91bmQtY29sb3I6I2NhMmI2M30uYW1wLXNvY2lhbC1zaGFyZS1zeXN0ZW17YmFja2dyb3VuZC1jb2xvcjojMDAwfS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7bWFyZ2luOjE2cHggOHB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW5vLXNoYXJpbmcgLmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxle3BhZGRpbmc6MTZweCAwIWltcG9ydGFudDtvdmVyZmxvdzphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O21hcmdpbi1yaWdodDowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldDo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6MHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudDtwYWRkaW5nOjAgOHB4IWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstbXMtZmxleC13cmFwOndyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtwYWRkaW5nLWxlZnQ6MTZweCFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoxNnB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjY2cHghaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDttYXJnaW4tYm90dG9tOjEycHghaW1wb3J0YW50fUBtZWRpYSAobWF4LXdpZHRoOjQxMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWluLXdpZHRoOjYwcHghaW1wb3J0YW50O3dpZHRoOjI1JSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjQxMHB4KSBhbmQgKG1heC13aWR0aDo1MDBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjIwJSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjUwMHB4KSBhbmQgKG1heC13aWR0aDo3MjBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjE2LjY2JSFpbXBvcnRhbnR9fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGUgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0ey1tcy1mbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudDtmbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlPio+LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAgMTZweCFpbXBvcnRhbnQ7bWluLXdpZHRoOmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTplbXB0eXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7cGFkZGluZzo1NnB4IDAgMCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWYhaW1wb3J0YW50O2NvbG9yOiNmZmYhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MTBweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEwcHghaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo4cHggOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXNpemU6MzJweCAzMnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtc2l6ZTozOHB4IDM4cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NXB4IDVweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmJlZm9yZXtjb250ZW50OlxcXCIgXFxcIiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo0cHghaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMC4xNSkhaW1wb3J0YW50O3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo0OHB4IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZSwuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjphY3RpdmU6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6Izc4Nzg3OCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uW3R5cGU9ZW1haWxde2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTIwIDRINGMtMS4xIDAtMS45OS45LTEuOTkgMkwyIDE4YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJWNmMwLTEuMS0uOS0yLTItMnptMCA0bC04IDUtOC01VjZsOCA1IDgtNXYyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvblt0eXBlPXN5c3RlbV17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLWxpbmt7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00zLjkgMTJjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFoNFY3SDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDVoNHYtMS45SDdjLTEuNzEgMC0zLjEtMS4zOS0zLjEtMy4xek04IDEzaDh2LTJIOHYyem05LTZoLTR2MS45aDRjMS43MSAwIDMuMSAxLjM5IDMuMSAzLjFzLTEuMzkgMy4xLTMuMSAzLjFoLTRWMTdoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZ3twb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MTAwMDAxIWltcG9ydGFudDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMDAlLDApIWltcG9ydGFudDt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OjAuMTVzIWltcG9ydGFudDt0cmFuc2l0aW9uLWRlbGF5OjAuMTVzIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLXZpc2libGV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTowcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTowcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZzpiZWZvcmV7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOiMwMDAhaW1wb3J0YW50O29wYWNpdHk6MCFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaW5mby1kaWFsb2cuaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLXZpc2libGU6YmVmb3Jle29wYWNpdHk6MC40IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O2JhY2tncm91bmQ6I2ZmZiFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSksLXdlYmtpdC10cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7cGFkZGluZzoyMHB4IWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZy12aXNpYmxlIC5pLWFtcGh0bWwtc3RvcnktaW5mby1kaWFsb2ctY29udGFpbmVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWhlYWRpbmd7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjcwMCFpbXBvcnRhbnQ7bWFyZ2luOjAgMCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktaW5mby1saW5re2NvbG9yOiMwMDAhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtvcGFjaXR5OjAuNjQhaW1wb3J0YW50O2ZvbnQtc2l6ZToxMnB4IWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZve2NvbG9yOiM0Mjg1ZjQhaW1wb3J0YW50O2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6Um9ib3RvLU1lZGl1bSxzYW5zLXNlcmlmIWltcG9ydGFudDtmb250LXNpemU6MTJweCFpbXBvcnRhbnQ7bGV0dGVyLXNwYWNpbmc6MC41cHghaW1wb3J0YW50O21hcmdpbjoxNnB4IDAgMDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvLmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvLXZpc2libGV7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9XFxuLyojIHNvdXJjZVVSTD0vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1pbmZvLWRpYWxvZy5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjExLjkgMTk3LjRoLTM2Ljd2NTkuOWgzNi43djE3NS44aDcwLjVWMjU2LjVoNDkuMmw1LjItNTkuMWgtNTQuNHYtMzMuN2MwLTEzLjkgMi44LTE5LjUgMTYuMy0xOS41aDM4LjJWODIuOWgtNDguOGMtNTIuNSAwLTc2LjEgMjMuMS03Ni4xIDY3LjMtLjEgMzguNi0uMSA0Ny4yLS4xIDQ3LjJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTI2Ni42IDc2LjVjLTEwMC4yIDAtMTUwLjcgNzEuOC0xNTAuNyAxMzEuNyAwIDM2LjMgMTMuNyA2OC41IDQzLjIgODAuNiA0LjggMiA5LjIuMSAxMC42LTUuMyAxLTMuNyAzLjMtMTMgNC4zLTE2LjkgMS40LTUuMy45LTcuMS0zLTExLjgtOC41LTEwLTEzLjktMjMtMTMuOS00MS4zIDAtNTMuMyAzOS45LTEwMSAxMDMuOC0xMDEgNTYuNiAwIDg3LjcgMzQuNiA4Ny43IDgwLjggMCA2MC44LTI2LjkgMTEyLjEtNjYuOCAxMTIuMS0yMi4xIDAtMzguNi0xOC4yLTMzLjMtNDAuNiA2LjMtMjYuNyAxOC42LTU1LjUgMTguNi03NC44IDAtMTcuMy05LjMtMzEuNy0yOC40LTMxLjctMjIuNSAwLTQwLjcgMjMuMy00MC43IDU0LjYgMCAxOS45IDYuNyAzMy40IDYuNyAzMy40cy0yMy4xIDk3LjgtMjcuMSAxMTQuOWMtOC4xIDM0LjEtMS4yIDc1LjktLjYgODAuMS4zIDIuNSAzLjYgMy4xIDUgMS4yIDIuMS0yLjcgMjguOS0zNS45IDM4LjEtNjkgMi42LTkuNCAxNC44LTU4IDE0LjgtNTggNy4zIDE0IDI4LjcgMjYuMyA1MS41IDI2LjMgNjcuOCAwIDExMy44LTYxLjggMTEzLjgtMTQ0LjUtLjEtNjIuNi01My4xLTEyMC44LTEzMy42LTEyMC44eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWxpbmtlZGlue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTE4Ni40IDE0Mi40YzAgMTktMTUuMyAzNC41LTM0LjIgMzQuNS0xOC45IDAtMzQuMi0xNS40LTM0LjItMzQuNSAwLTE5IDE1LjMtMzQuNSAzNC4yLTM0LjUgMTguOSAwIDM0LjIgMTUuNSAzNC4yIDM0LjV6bS01IDU4LjloLTU3Ljh2MTg2LjhoNTcuOFYyMDEuM3ptOTIuNCAwaC01NS40djE4Ni44aDU1LjR2LTk4YzAtMjYuMyAxMi4xLTQxLjkgMzUuMi00MS45IDIxLjMgMCAzMS41IDE1IDMxLjUgNDEuOXY5OEgzOThWMjY5LjhjMC01MC0yOC4zLTc0LjItNjgtNzQuMi0zOS42IDAtNTYuMyAzMC45LTU2LjMgMzAuOXYtMjUuMmguMXonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1ncGx1c3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xNzkuNyAyMzcuNnY0Ni42aDc3Yy0zLjEgMjAtMjMuMyA1OC43LTc3IDU4LjctNDYuMyAwLTg0LjEtMzguNS04NC4xLTg1LjkgMC00Ny40IDM3LjgtODUuOSA4NC4xLTg1LjkgMjYuNCAwIDQ0IDExLjMgNTQuMSAyMWwzNi44LTM1LjVDMjQ3IDEzNC40IDIxNi40IDEyMSAxNzkuNyAxMjEgMTA0LjcgMTIxIDQ0IDE4MS44IDQ0IDI1N3M2MC43IDEzNiAxMzUuNyAxMzZDMjU4IDM5MyAzMTAgMzM3LjggMzEwIDI2MC4xYzAtOC45LTEtMTUuNy0yLjEtMjIuNUgxNzkuN3ptMjg4LjMtLjloLTM4LjdWMTk4aC0zOC42djM4LjdIMzUydjM4LjZoMzguN1YzMTRoMzguNnYtMzguN0g0NjgnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1lbWFpbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00xMDEuMyAxNDEuNnYyMjguOWgzMDkuNVYxNDEuNkgxMDEuM3ptMjc0LjQgMjYuMkwyNTYgMjU5LjNsLTExOS42LTkxLjVoMjM5LjN6bS0yNDguMSAyNi4zbDY0LjEgNDkuMS02NC4xIDY0LjFWMTk0LjF6bS4yIDE1MC4xbDg0LjktODQuOSA0My4yIDMzLjEgNDMtMzIuOSA4NC43IDg0LjdIMTI3Ljh6bTI1Ni42LTM2LjRMMzIwIDI0My40bDY0LjQtNDkuM3YxMTMuN3onLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDAwJyBoZWlnaHQ9JzQwMCclM0UlM0NnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J00wIDBoNDAwdjQwMEgweicvJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGZpbGwtcnVsZT0nbm9uemVybycgZD0nTTE1My42MiAzMDEuNTljOTQuMzQgMCAxNDUuOTQtNzguMTYgMTQ1Ljk0LTE0NS45NCAwLTIuMjIgMC00LjQzLS4xNS02LjYzQTEwNC4zNiAxMDQuMzYgMCAwIDAgMzI1IDEyMi40N2ExMDIuMzggMTAyLjM4IDAgMCAxLTI5LjQ2IDguMDcgNTEuNDcgNTEuNDcgMCAwIDAgMjIuNTUtMjguMzcgMTAyLjc5IDEwMi43OSAwIDAgMS0zMi41NyAxMi40NWMtMTUuOS0xNi45MDYtNDEuMTYzLTIxLjA0NC02MS42MjUtMTAuMDkzLTIwLjQ2MSAxMC45NS0zMS4wMzIgMzQuMjY2LTI1Ljc4NSA1Ni44NzNBMTQ1LjYyIDE0NS42MiAwIDAgMSA5Mi40IDEwNy44MWMtMTMuNjE0IDIzLjQzNi02LjY2IDUzLjQxOSAxNS44OCA2OC40N0E1MC45MSA1MC45MSAwIDAgMSA4NSAxNjkuODZ2LjY1Yy4wMDcgMjQuNDE2IDE3LjIxOCA0NS40NDUgNDEuMTUgNTAuMjhhNTEuMjEgNTEuMjEgMCAwIDEtMjMuMTYuODhjNi43MiAyMC44OTQgMjUuOTc2IDM1LjIwOCA0Ny45MiAzNS42MmExMDIuOTIgMTAyLjkyIDAgMCAxLTYzLjcgMjIgMTA0LjQxIDEwNC40MSAwIDAgMS0xMi4yMS0uNzQgMTQ1LjIxIDE0NS4yMSAwIDAgMCA3OC42MiAyMycvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtdHVtYmxye2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTIxMC44IDgwLjNjLTIuMyAxOC4zLTYuNCAzMy40LTEyLjQgNDUuMi02IDExLjktMTMuOSAyMi0yMy45IDMwLjUtOS45IDguNS0yMS44IDE0LjktMzUuNyAxOS41djUwLjZoMzguOXYxMjQuNWMwIDE2LjIgMS43IDI4LjYgNS4xIDM3LjEgMy40IDguNSA5LjUgMTYuNiAxOC4zIDI0LjIgOC44IDcuNiAxOS40IDEzLjQgMzEuOSAxNy41czI2LjggNi4xIDQzIDYuMWMxNC4zIDAgMjcuNi0xLjQgMzkuOS00LjMgMTIuMy0yLjkgMjYtNy45IDQxLjItMTV2LTU1LjljLTE3LjggMTEuNy0zNS43IDE3LjUtNTMuNyAxNy41LTEwLjEgMC0xOS4xLTIuNC0yNy03LjEtNS45LTMuNS0xMC04LjItMTIuMi0xNC0yLjItNS44LTMuMy0xOS4xLTMuMy0zOS43di05MS4xaDg0LjZ2LTU1LjhoLTg0LjR2LTkwaC01MC4zeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNDYnIGhlaWdodD0nNDYnJTNFJTNDcGF0aCBmaWxsPSclMjNGRkYnIGQ9J00zNS40IDEwLjRDMzIgNi45IDI3LjMgNSAyMi41IDUgMTIuMyA1IDQuMSAxMy4zIDQuMiAyMy40YzAgMy4yLjkgNi4zIDIuNCA5LjFMNCA0Mmw5LjctMi41YzIuNyAxLjUgNS43IDIuMiA4LjcgMi4yIDEwLjEgMCAxOC4zLTguMyAxOC4zLTE4LjQgMC00LjktMS45LTkuNS01LjMtMTIuOXpNMjIuNSAzOC42Yy0yLjcgMC01LjQtLjctNy43LTIuMWwtLjYtLjMtNS44IDEuNUw5LjkgMzJsLS40LS42Yy00LjQtNy4xLTIuMy0xNi41IDQuOS0yMC45IDcuMi00LjQgMTYuNS0yLjMgMjAuOSA0LjkgNC40IDcuMiAyLjMgMTYuNS00LjkgMjAuOS0yLjMgMS41LTUuMSAyLjMtNy45IDIuM3ptOC44LTExLjFsLTEuMS0uNXMtMS42LS43LTIuNi0xLjJjLS4xIDAtLjItLjEtLjMtLjEtLjMgMC0uNS4xLS43LjIgMCAwLS4xLjEtMS41IDEuNy0uMS4yLS4zLjMtLjUuM2gtLjFjLS4xIDAtLjMtLjEtLjQtLjJsLS41LS4yYy0xLjEtLjUtMi4xLTEuMS0yLjktMS45LS4yLS4yLS41LS40LS43LS42LS43LS43LTEuNC0xLjUtMS45LTIuNGwtLjEtLjJjLS4xLS4xLS4xLS4yLS4yLS40IDAtLjIgMC0uNC4xLS41IDAgMCAuNC0uNS43LS44LjItLjIuMy0uNS41LS43LjItLjMuMy0uNy4yLTEtLjEtLjUtMS4zLTMuMi0xLjYtMy44LS4yLS4zLS40LS40LS43LS41aC0xLjFjLS4yIDAtLjQuMS0uNi4xbC0uMS4xYy0uMi4xLS40LjMtLjYuNC0uMi4yLS4zLjQtLjUuNi0uNy45LTEuMSAyLTEuMSAzLjEgMCAuOC4yIDEuNi41IDIuM2wuMS4zYy45IDEuOSAyLjEgMy42IDMuNyA1LjFsLjQuNGMuMy4zLjYuNS44LjggMi4xIDEuOCA0LjUgMy4xIDcuMiAzLjguMy4xLjcuMSAxIC4yaDFjLjUgMCAxLjEtLjIgMS41LS40LjMtLjIuNS0uMi43LS40bC4yLS4yYy4yLS4yLjQtLjMuNi0uNS4yLS4yLjQtLjQuNS0uNi4yLS40LjMtLjkuNC0xLjR2LS43cy0uMS0uMS0uMy0uMnonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMS45OSclM0UlM0NwYXRoIGQ9J000NDMuMiAyMzMuMjljMC04NC4xNC04NC4zNS0xNTIuNi0xODgtMTUyLjZzLTE4OCA2OC40Ni0xODggMTUyLjZjMCA3NS40MyA2Ni45IDEzOC42MSAxNTcuMjYgMTUwLjU1IDYuMTMgMS4zMiAxNC40NiA0IDE2LjU3IDkuMjcgMS44OSA0Ljc2IDEuMjQgMTIuMi42MSAxNyAwIDAtMi4yMSAxMy4yNi0yLjY5IDE2LjA5LS44MiA0Ljc1LTMuNzggMTguNiAxNi4yOSAxMC4xNHMxMDguMjEtNjMuNzYgMTQ3LjY2LTEwOS4xNmMyNy4yNS0yOS44OSA0MC4zLTYwLjE4IDQwLjMtOTMuODl6bS0yNTQuMzggNDQuOTJhMy42NyAzLjY3IDAgMCAxLTMuNjYgMy42N2gtNTIuNjlhMy42IDMuNiAwIDAgMS0yLjUzLTFsLS4wNi0uMDV2LS4wNWEzLjY1IDMuNjUgMCAwIDEtMS0yLjUzdi04MS45NmEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjE5YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ2NjUuMDdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptMzEuOCAwYTMuNjUgMy42NSAwIDAgMS0zLjY2IDMuNjVoLTEzLjJhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTJhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NkgyMTdhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnptOTAuNzggMGEzLjY1IDMuNjUgMCAwIDEtMy42NiAzLjY1aC0xMy4xOWEzLjY3IDMuNjcgMCAwIDEtLjk0LS4xMmgtLjA1bC0uMjUtLjA4aC0uMTFsLS4xOC0uMDgtLjE3LS4wOC0uMTEtLjA2LS4yMi0uMTRhMy40NSAzLjQ1IDAgMCAxLS45My0uOUwyNTQgMjI5LjU2djQ4LjY2YTMuNjYgMy42NiAwIDAgMS0zLjY3IDMuNjVIMjM3LjFhMy42NSAzLjY1IDAgMCAxLTMuNjYtMy42NXYtODEuOTNhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy44NmwuMjEuMDVoLjEzbC4yMS4wN2guMTJhMS4zMSAxLjMxIDAgMCAxIC4yMS4wOGwuMTIuMDYuMTkuMTFhLjQxLjQxIDAgMCAxIC4xMS4wN2wuMTkuMTMuMS4wNy4xOS4xNi4wNy4wN2EyLjI4IDIuMjggMCAwIDEgLjIyLjIyIDMuNTggMy41OCAwIDAgMSAuMjguMzdMMjkwLjg5IDI0NXYtNDguNzFhMy42NiAzLjY2IDAgMCAxIDMuNjYtMy42NmgxMy4xOWEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em03Mi44My02OC43NGEzLjY2IDMuNjYgMCAwIDEtMy42NSAzLjY3aC0zNS44NFYyMjdoMzUuODRhMy42NiAzLjY2IDAgMCAxIDMuNjUgMy42N3YxMy4xOWEzLjY1IDMuNjUgMCAwIDEtMy42NSAzLjY2aC0zNS44NHYxMy44NWgzNS44NGEzLjY1IDMuNjUgMCAwIDEgMy42NSAzLjY2djEzLjE5YTMuNjYgMy42NiAwIDAgMS0zLjY1IDMuNjdoLTUyLjdhMy42NiAzLjY2IDAgMCAxLTIuNTMtMWwtLjA1LS4wNWEuMTIuMTIgMCAwIDEtLjA1LS4wNSAzLjY1IDMuNjUgMCAwIDEtMS0yLjUzVjE5Ni4zYTMuNiAzLjYgMCAwIDEgMS0yLjUybC4wNi0uMDdhMy42MyAzLjYzIDAgMCAxIDIuNTQtMWg1Mi43YTMuNjYgMy42NiAwIDAgMSAzLjY1IDMuNjd6JyBmaWxsPSclMjNmZmYnIGRhdGEtbmFtZT0n44Os44Kk44Ok44O8IDEnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMzAnIGhlaWdodD0nMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIHN0cm9rZT0nJTIzRkZGJyBzdHJva2Utd2lkdGg9JzMnIGQ9J004LjczIDI2di01LjY1OEgyVjJoMjUuOTdMMjggMjAuMzU1bC0xMi4wNjIuMDQyeicgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtc3lzdGVte2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgZmlsbD0nJTIzZmZmJyBoZWlnaHQ9JzI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTE4IDE2LjA4Yy0uNzYgMC0xLjQ0LjMtMS45Ni43N0w4LjkxIDEyLjdjLjA1LS4yMy4wOS0uNDYuMDktLjdzLS4wNC0uNDctLjA5LS43bDcuMDUtNC4xMWMuNTQuNSAxLjI1LjgxIDIuMDQuODEgMS42NiAwIDMtMS4zNCAzLTNzLTEuMzQtMy0zLTMtMyAxLjM0LTMgM2MwIC4yNC4wNC40Ny4wOS43TDguMDQgOS44MUM3LjUgOS4zMSA2Ljc5IDkgNiA5Yy0xLjY2IDAtMyAxLjM0LTMgM3MxLjM0IDMgMyAzYy43OSAwIDEuNS0uMzEgMi4wNC0uODFsNy4xMiA0LjE2Yy0uMDUuMjEtLjA4LjQzLS4wOC42NSAwIDEuNjEgMS4zMSAyLjkyIDIuOTIgMi45MiAxLjYxIDAgMi45Mi0xLjMxIDIuOTItMi45MnMtMS4zMS0yLjkyLTIuOTItMi45MnonLyUzRSUzQy9zdmclM0VcXFwiKX1hbXAtc29jaWFsLXNoYXJle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXNvY2lhbC1zaGFyZS10d2l0dGVye2JhY2tncm91bmQtY29sb3I6IzFkYTFmMn0uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiMzYjU5OTh9LmFtcC1zb2NpYWwtc2hhcmUtcGludGVyZXN0e2JhY2tncm91bmQtY29sb3I6I2JkMDgxY30uYW1wLXNvY2lhbC1zaGFyZS1saW5rZWRpbntiYWNrZ3JvdW5kLWNvbG9yOiMwMDc3YjV9LmFtcC1zb2NpYWwtc2hhcmUtZ3BsdXN7YmFja2dyb3VuZC1jb2xvcjojZGM0ZTQxfS5hbXAtc29jaWFsLXNoYXJlLXR1bWJscntiYWNrZ3JvdW5kLWNvbG9yOiMzYzVhNzd9LmFtcC1zb2NpYWwtc2hhcmUtZW1haWx7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5hbXAtc29jaWFsLXNoYXJlLXdoYXRzYXBwe2JhY2tncm91bmQtY29sb3I6IzI1ZDM2Nn0uYW1wLXNvY2lhbC1zaGFyZS1saW5le2JhY2tncm91bmQtY29sb3I6IzUyYjQ0OH0uYW1wLXNvY2lhbC1zaGFyZS1zbXN7YmFja2dyb3VuZC1jb2xvcjojY2EyYjYzfS5hbXAtc29jaWFsLXNoYXJlLXN5c3RlbXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDttYXJnaW46MTZweCA4cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGV7cGFkZGluZzoxNnB4IDAhaW1wb3J0YW50O292ZXJmbG93OmF1dG8haW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1mdWxsYmxlZWQgLmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXR7bWFyZ2luLWxlZnQ6MCFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDowcHghaW1wb3J0YW50O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHtsaXN0LXN0eWxlOm5vbmUhaW1wb3J0YW50O3BhZGRpbmc6MCA4cHghaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy1tcy1mbGV4LXdyYXA6d3JhcCFpbXBvcnRhbnQ7ZmxleC13cmFwOndyYXAhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYm9va2VuZC1mdWxsYmxlZWQgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0e3BhZGRpbmctbGVmdDoxNnB4IWltcG9ydGFudDtwYWRkaW5nLXJpZ2h0OjE2cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NjZweCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50O21hcmdpbi1ib3R0b206MTJweCFpbXBvcnRhbnR9QG1lZGlhIChtYXgtd2lkdGg6NDEwcHgpey5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDttaW4td2lkdGg6NjBweCFpbXBvcnRhbnQ7d2lkdGg6MjUlIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6NDEwcHgpIGFuZCAobWF4LXdpZHRoOjUwMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7d2lkdGg6MjAlIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6NTAwcHgpIGFuZCAobWF4LXdpZHRoOjcyMHB4KXsuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazpjZW50ZXIhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7d2lkdGg6MTYuNjYlIWltcG9ydGFudH19LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQtc2Nyb2xsYWJsZSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7LW1zLWZsZXgtd3JhcDpub3dyYXAhaW1wb3J0YW50O2ZsZXgtd3JhcDpub3dyYXAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0LXNjcm9sbGFibGU+Kj4uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDttaW4td2lkdGg6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOmVtcHR5e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29ue2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtwYWRkaW5nOjU2cHggMCAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtsaW5lLWhlaWdodDoxMHB4IWltcG9ydGFudDtmb250LXNpemU6MTBweCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjhweCA4cHghaW1wb3J0YW50O2JhY2tncm91bmQtc2l6ZTozMnB4IDMycHghaW1wb3J0YW50O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uLmFtcC1zb2NpYWwtc2hhcmUtZmFjZWJvb2t7YmFja2dyb3VuZC1zaXplOjM4cHggMzhweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1cHggNXB4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YmVmb3Jle2NvbnRlbnQ6XFxcIiBcXFwiIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwwLjE1KSFpbXBvcnRhbnQ7d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjQ4cHghaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt6LWluZGV4Oi0xIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YWN0aXZlLC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjpmb2N1c3tvdXRsaW5lOm5vbmUhaW1wb3J0YW50O2JveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmFjdGl2ZTpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjojNzg3ODc4IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb25bdHlwZT1lbWFpbF17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMicgaGVpZ2h0PSczMicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMjAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0wIDRsLTggNS04LTVWNmw4IDUgOC01djJ6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uW3R5cGU9c3lzdGVtXXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J002IDEwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptMTIgMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bS02IDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb24tbGlua3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTMuOSAxMmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMWg0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0xLjlIN2MtMS43MSAwLTMuMS0xLjM5LTMuMS0zLjF6TTggMTNoOHYtMkg4djJ6bTktNmgtNHYxLjloNGMxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXMtMS4zOSAzLjEtMy4xIDMuMWgtNFYxN2g0YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01eicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLW1lbnV7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDt6LWluZGV4OjEwMDAwMSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDB2aCwwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwdmgsMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTowLjE1cyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTowLjE1cyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51LXZpc2libGV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTowcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTowcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51OmJlZm9yZXtjb250ZW50OlxcXCJcXFwiIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2JhY2tncm91bmQ6IzAwMCFpbXBvcnRhbnQ7b3BhY2l0eTowIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOm9wYWNpdHkgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51LmktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51LXZpc2libGU6YmVmb3Jle29wYWNpdHk6MC40IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLW1lbnUtY29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuOSkhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwwLjAsMSwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLW1lbnUtdmlzaWJsZSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLW1lbnUtY29udGFpbmVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246dHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSwtd2Via2l0LXRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnR9XFxuLyojIHNvdXJjZVVSTD0vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zaGFyZS1tZW51LmNzcyovXCI7XG4iLCJleHBvcnQgY29uc3QgQ1NTID0gXCIuYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFJTNDcGF0aCBmaWxsPSclMjNmZmYnIGQ9J00yMTEuOSAxOTcuNGgtMzYuN3Y1OS45aDM2Ljd2MTc1LjhoNzAuNVYyNTYuNWg0OS4ybDUuMi01OS4xaC01NC40di0zMy43YzAtMTMuOSAyLjgtMTkuNSAxNi4zLTE5LjVoMzguMlY4Mi45aC00OC44Yy01Mi41IDAtNzYuMSAyMy4xLTc2LjEgNjcuMy0uMSAzOC42LS4xIDQ3LjItLjEgNDcuMnonLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1waW50ZXJlc3R7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjY2LjYgNzYuNWMtMTAwLjIgMC0xNTAuNyA3MS44LTE1MC43IDEzMS43IDAgMzYuMyAxMy43IDY4LjUgNDMuMiA4MC42IDQuOCAyIDkuMi4xIDEwLjYtNS4zIDEtMy43IDMuMy0xMyA0LjMtMTYuOSAxLjQtNS4zLjktNy4xLTMtMTEuOC04LjUtMTAtMTMuOS0yMy0xMy45LTQxLjMgMC01My4zIDM5LjktMTAxIDEwMy44LTEwMSA1Ni42IDAgODcuNyAzNC42IDg3LjcgODAuOCAwIDYwLjgtMjYuOSAxMTIuMS02Ni44IDExMi4xLTIyLjEgMC0zOC42LTE4LjItMzMuMy00MC42IDYuMy0yNi43IDE4LjYtNTUuNSAxOC42LTc0LjggMC0xNy4zLTkuMy0zMS43LTI4LjQtMzEuNy0yMi41IDAtNDAuNyAyMy4zLTQwLjcgNTQuNiAwIDE5LjkgNi43IDMzLjQgNi43IDMzLjRzLTIzLjEgOTcuOC0yNy4xIDExNC45Yy04LjEgMzQuMS0xLjIgNzUuOS0uNiA4MC4xLjMgMi41IDMuNiAzLjEgNSAxLjIgMi4xLTIuNyAyOC45LTM1LjkgMzguMS02OSAyLjYtOS40IDE0LjgtNTggMTQuOC01OCA3LjMgMTQgMjguNyAyNi4zIDUxLjUgMjYuMyA2Ny44IDAgMTEzLjgtNjEuOCAxMTMuOC0xNDQuNS0uMS02Mi42LTUzLjEtMTIwLjgtMTMzLjYtMTIwLjh6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtbGlua2VkaW57YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMTg2LjQgMTQyLjRjMCAxOS0xNS4zIDM0LjUtMzQuMiAzNC41LTE4LjkgMC0zNC4yLTE1LjQtMzQuMi0zNC41IDAtMTkgMTUuMy0zNC41IDM0LjItMzQuNSAxOC45IDAgMzQuMiAxNS41IDM0LjIgMzQuNXptLTUgNTguOWgtNTcuOHYxODYuOGg1Ny44VjIwMS4zem05Mi40IDBoLTU1LjR2MTg2LjhoNTUuNHYtOThjMC0yNi4zIDEyLjEtNDEuOSAzNS4yLTQxLjkgMjEuMyAwIDMxLjUgMTUgMzEuNSA0MS45djk4SDM5OFYyNjkuOGMwLTUwLTI4LjMtNzQuMi02OC03NC4yLTM5LjYgMC01Ni4zIDMwLjktNTYuMyAzMC45di0yNS4yaC4xeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWdwbHVze2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTE3OS43IDIzNy42djQ2LjZoNzdjLTMuMSAyMC0yMy4zIDU4LjctNzcgNTguNy00Ni4zIDAtODQuMS0zOC41LTg0LjEtODUuOSAwLTQ3LjQgMzcuOC04NS45IDg0LjEtODUuOSAyNi40IDAgNDQgMTEuMyA1NC4xIDIxbDM2LjgtMzUuNUMyNDcgMTM0LjQgMjE2LjQgMTIxIDE3OS43IDEyMSAxMDQuNyAxMjEgNDQgMTgxLjggNDQgMjU3czYwLjcgMTM2IDEzNS43IDEzNkMyNTggMzkzIDMxMCAzMzcuOCAzMTAgMjYwLjFjMC04LjktMS0xNS43LTIuMS0yMi41SDE3OS43em0yODguMy0uOWgtMzguN1YxOThoLTM4LjZ2MzguN0gzNTJ2MzguNmgzOC43VjMxNGgzOC42di0zOC43SDQ2OCcvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWVtYWlse2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTEyIDUxMiclM0UlM0NwYXRoIGZpbGw9JyUyM2ZmZicgZD0nTTEwMS4zIDE0MS42djIyOC45aDMwOS41VjE0MS42SDEwMS4zem0yNzQuNCAyNi4yTDI1NiAyNTkuM2wtMTE5LjYtOTEuNWgyMzkuM3ptLTI0OC4xIDI2LjNsNjQuMSA0OS4xLTY0LjEgNjQuMVYxOTQuMXptLjIgMTUwLjFsODQuOS04NC45IDQzLjIgMzMuMSA0My0zMi45IDg0LjcgODQuN0gxMjcuOHptMjU2LjYtMzYuNEwzMjAgMjQzLjRsNjQuNC00OS4zdjExMy43eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXR3aXR0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc0MDAnIGhlaWdodD0nNDAwJyUzRSUzQ2cgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ3BhdGggZD0nTTAgMGg0MDB2NDAwSDB6Jy8lM0UlM0NwYXRoIGZpbGw9JyUyM0ZGRicgZmlsbC1ydWxlPSdub256ZXJvJyBkPSdNMTUzLjYyIDMwMS41OWM5NC4zNCAwIDE0NS45NC03OC4xNiAxNDUuOTQtMTQ1Ljk0IDAtMi4yMiAwLTQuNDMtLjE1LTYuNjNBMTA0LjM2IDEwNC4zNiAwIDAgMCAzMjUgMTIyLjQ3YTEwMi4zOCAxMDIuMzggMCAwIDEtMjkuNDYgOC4wNyA1MS40NyA1MS40NyAwIDAgMCAyMi41NS0yOC4zNyAxMDIuNzkgMTAyLjc5IDAgMCAxLTMyLjU3IDEyLjQ1Yy0xNS45LTE2LjkwNi00MS4xNjMtMjEuMDQ0LTYxLjYyNS0xMC4wOTMtMjAuNDYxIDEwLjk1LTMxLjAzMiAzNC4yNjYtMjUuNzg1IDU2Ljg3M0ExNDUuNjIgMTQ1LjYyIDAgMCAxIDkyLjQgMTA3LjgxYy0xMy42MTQgMjMuNDM2LTYuNjYgNTMuNDE5IDE1Ljg4IDY4LjQ3QTUwLjkxIDUwLjkxIDAgMCAxIDg1IDE2OS44NnYuNjVjLjAwNyAyNC40MTYgMTcuMjE4IDQ1LjQ0NSA0MS4xNSA1MC4yOGE1MS4yMSA1MS4yMSAwIDAgMS0yMy4xNi44OGM2LjcyIDIwLjg5NCAyNS45NzYgMzUuMjA4IDQ3LjkyIDM1LjYyYTEwMi45MiAxMDIuOTIgMCAwIDEtNjMuNyAyMiAxMDQuNDEgMTA0LjQxIDAgMCAxLTEyLjIxLS43NCAxNDUuMjEgMTQ1LjIxIDAgMCAwIDc4LjYyIDIzJy8lM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS10dW1ibHJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzZmZmJyBkPSdNMjEwLjggODAuM2MtMi4zIDE4LjMtNi40IDMzLjQtMTIuNCA0NS4yLTYgMTEuOS0xMy45IDIyLTIzLjkgMzAuNS05LjkgOC41LTIxLjggMTQuOS0zNS43IDE5LjV2NTAuNmgzOC45djEyNC41YzAgMTYuMiAxLjcgMjguNiA1LjEgMzcuMSAzLjQgOC41IDkuNSAxNi42IDE4LjMgMjQuMiA4LjggNy42IDE5LjQgMTMuNCAzMS45IDE3LjVzMjYuOCA2LjEgNDMgNi4xYzE0LjMgMCAyNy42LTEuNCAzOS45LTQuMyAxMi4zLTIuOSAyNi03LjkgNDEuMi0xNXYtNTUuOWMtMTcuOCAxMS43LTM1LjcgMTcuNS01My43IDE3LjUtMTAuMSAwLTE5LjEtMi40LTI3LTcuMS01LjktMy41LTEwLTguMi0xMi4yLTE0LTIuMi01LjgtMy4zLTE5LjEtMy4zLTM5Ljd2LTkxLjFoODQuNnYtNTUuOGgtODQuNHYtOTBoLTUwLjN6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9LmFtcC1zb2NpYWwtc2hhcmUtd2hhdHNhcHB7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc0NicgaGVpZ2h0PSc0NiclM0UlM0NwYXRoIGZpbGw9JyUyM0ZGRicgZD0nTTM1LjQgMTAuNEMzMiA2LjkgMjcuMyA1IDIyLjUgNSAxMi4zIDUgNC4xIDEzLjMgNC4yIDIzLjRjMCAzLjIuOSA2LjMgMi40IDkuMUw0IDQybDkuNy0yLjVjMi43IDEuNSA1LjcgMi4yIDguNyAyLjIgMTAuMSAwIDE4LjMtOC4zIDE4LjMtMTguNCAwLTQuOS0xLjktOS41LTUuMy0xMi45ek0yMi41IDM4LjZjLTIuNyAwLTUuNC0uNy03LjctMi4xbC0uNi0uMy01LjggMS41TDkuOSAzMmwtLjQtLjZjLTQuNC03LjEtMi4zLTE2LjUgNC45LTIwLjkgNy4yLTQuNCAxNi41LTIuMyAyMC45IDQuOSA0LjQgNy4yIDIuMyAxNi41LTQuOSAyMC45LTIuMyAxLjUtNS4xIDIuMy03LjkgMi4zem04LjgtMTEuMWwtMS4xLS41cy0xLjYtLjctMi42LTEuMmMtLjEgMC0uMi0uMS0uMy0uMS0uMyAwLS41LjEtLjcuMiAwIDAtLjEuMS0xLjUgMS43LS4xLjItLjMuMy0uNS4zaC0uMWMtLjEgMC0uMy0uMS0uNC0uMmwtLjUtLjJjLTEuMS0uNS0yLjEtMS4xLTIuOS0xLjktLjItLjItLjUtLjQtLjctLjYtLjctLjctMS40LTEuNS0xLjktMi40bC0uMS0uMmMtLjEtLjEtLjEtLjItLjItLjQgMC0uMiAwLS40LjEtLjUgMCAwIC40LS41LjctLjguMi0uMi4zLS41LjUtLjcuMi0uMy4zLS43LjItMS0uMS0uNS0xLjMtMy4yLTEuNi0zLjgtLjItLjMtLjQtLjQtLjctLjVoLTEuMWMtLjIgMC0uNC4xLS42LjFsLS4xLjFjLS4yLjEtLjQuMy0uNi40LS4yLjItLjMuNC0uNS42LS43LjktMS4xIDItMS4xIDMuMSAwIC44LjIgMS42LjUgMi4zbC4xLjNjLjkgMS45IDIuMSAzLjYgMy43IDUuMWwuNC40Yy4zLjMuNi41LjguOCAyLjEgMS44IDQuNSAzLjEgNy4yIDMuOC4zLjEuNy4xIDEgLjJoMWMuNSAwIDEuMS0uMiAxLjUtLjQuMy0uMi41LS4yLjctLjRsLjItLjJjLjItLjIuNC0uMy42LS41LjItLjIuNC0uNC41LS42LjItLjQuMy0uOS40LTEuNHYtLjdzLS4xLS4xLS4zLS4yeicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLWxpbmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTExLjk5JyUzRSUzQ3BhdGggZD0nTTQ0My4yIDIzMy4yOWMwLTg0LjE0LTg0LjM1LTE1Mi42LTE4OC0xNTIuNnMtMTg4IDY4LjQ2LTE4OCAxNTIuNmMwIDc1LjQzIDY2LjkgMTM4LjYxIDE1Ny4yNiAxNTAuNTUgNi4xMyAxLjMyIDE0LjQ2IDQgMTYuNTcgOS4yNyAxLjg5IDQuNzYgMS4yNCAxMi4yLjYxIDE3IDAgMC0yLjIxIDEzLjI2LTIuNjkgMTYuMDktLjgyIDQuNzUtMy43OCAxOC42IDE2LjI5IDEwLjE0czEwOC4yMS02My43NiAxNDcuNjYtMTA5LjE2YzI3LjI1LTI5Ljg5IDQwLjMtNjAuMTggNDAuMy05My44OXptLTI1NC4zOCA0NC45MmEzLjY3IDMuNjcgMCAwIDEtMy42NiAzLjY3aC01Mi42OWEzLjYgMy42IDAgMCAxLTIuNTMtMWwtLjA2LS4wNXYtLjA1YTMuNjUgMy42NSAwIDAgMS0xLTIuNTN2LTgxLjk2YTMuNjYgMy42NiAwIDAgMSAzLjY2LTMuNjZoMTMuMTlhMy42NiAzLjY2IDAgMCAxIDMuNjYgMy42NnY2NS4wN2gzNS44NGEzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em0zMS44IDBhMy42NSAzLjY1IDAgMCAxLTMuNjYgMy42NWgtMTMuMmEzLjY1IDMuNjUgMCAwIDEtMy42Ni0zLjY1di04MS45MmEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2SDIxN2EzLjY2IDMuNjYgMCAwIDEgMy42NiAzLjY2em05MC43OCAwYTMuNjUgMy42NSAwIDAgMS0zLjY2IDMuNjVoLTEzLjE5YTMuNjcgMy42NyAwIDAgMS0uOTQtLjEyaC0uMDVsLS4yNS0uMDhoLS4xMWwtLjE4LS4wOC0uMTctLjA4LS4xMS0uMDYtLjIyLS4xNGEzLjQ1IDMuNDUgMCAwIDEtLjkzLS45TDI1NCAyMjkuNTZ2NDguNjZhMy42NiAzLjY2IDAgMCAxLTMuNjcgMy42NUgyMzcuMWEzLjY1IDMuNjUgMCAwIDEtMy42Ni0zLjY1di04MS45M2EzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjg2bC4yMS4wNWguMTNsLjIxLjA3aC4xMmExLjMxIDEuMzEgMCAwIDEgLjIxLjA4bC4xMi4wNi4xOS4xMWEuNDEuNDEgMCAwIDEgLjExLjA3bC4xOS4xMy4xLjA3LjE5LjE2LjA3LjA3YTIuMjggMi4yOCAwIDAgMSAuMjIuMjIgMy41OCAzLjU4IDAgMCAxIC4yOC4zN0wyOTAuODkgMjQ1di00OC43MWEzLjY2IDMuNjYgMCAwIDEgMy42Ni0zLjY2aDEzLjE5YTMuNjYgMy42NiAwIDAgMSAzLjY2IDMuNjZ6bTcyLjgzLTY4Ljc0YTMuNjYgMy42NiAwIDAgMS0zLjY1IDMuNjdoLTM1Ljg0VjIyN2gzNS44NGEzLjY2IDMuNjYgMCAwIDEgMy42NSAzLjY3djEzLjE5YTMuNjUgMy42NSAwIDAgMS0zLjY1IDMuNjZoLTM1Ljg0djEzLjg1aDM1Ljg0YTMuNjUgMy42NSAwIDAgMSAzLjY1IDMuNjZ2MTMuMTlhMy42NiAzLjY2IDAgMCAxLTMuNjUgMy42N2gtNTIuN2EzLjY2IDMuNjYgMCAwIDEtMi41My0xbC0uMDUtLjA1YS4xMi4xMiAwIDAgMS0uMDUtLjA1IDMuNjUgMy42NSAwIDAgMS0xLTIuNTNWMTk2LjNhMy42IDMuNiAwIDAgMSAxLTIuNTJsLjA2LS4wN2EzLjYzIDMuNjMgMCAwIDEgMi41NC0xaDUyLjdhMy42NiAzLjY2IDAgMCAxIDMuNjUgMy42N3onIGZpbGw9JyUyM2ZmZicgZGF0YS1uYW1lPSfjg6zjgqTjg6Tjg7wgMScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5hbXAtc29jaWFsLXNoYXJlLXNtc3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSczMCcgaGVpZ2h0PScyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggc3Ryb2tlPSclMjNGRkYnIHN0cm9rZS13aWR0aD0nMycgZD0nTTguNzMgMjZ2LTUuNjU4SDJWMmgyNS45N0wyOCAyMC4zNTVsLTEyLjA2Mi4wNDJ6JyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnLyUzRSUzQy9zdmclM0VcXFwiKX0uYW1wLXNvY2lhbC1zaGFyZS1zeXN0ZW17YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyBmaWxsPSclMjNmZmYnIGhlaWdodD0nMjQnIHdpZHRoPScyNCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTggMTYuMDhjLS43NiAwLTEuNDQuMy0xLjk2Ljc3TDguOTEgMTIuN2MuMDUtLjIzLjA5LS40Ni4wOS0uN3MtLjA0LS40Ny0uMDktLjdsNy4wNS00LjExYy41NC41IDEuMjUuODEgMi4wNC44MSAxLjY2IDAgMy0xLjM0IDMtM3MtMS4zNC0zLTMtMy0zIDEuMzQtMyAzYzAgLjI0LjA0LjQ3LjA5LjdMOC4wNCA5LjgxQzcuNSA5LjMxIDYuNzkgOSA2IDljLTEuNjYgMC0zIDEuMzQtMyAzczEuMzQgMyAzIDNjLjc5IDAgMS41LS4zMSAyLjA0LS44MWw3LjEyIDQuMTZjLS4wNS4yMS0uMDguNDMtLjA4LjY1IDAgMS42MSAxLjMxIDIuOTIgMi45MiAyLjkyIDEuNjEgMCAyLjkyLTEuMzEgMi45Mi0yLjkycy0xLjMxLTIuOTItMi45Mi0yLjkyeicvJTNFJTNDL3N2ZyUzRVxcXCIpfWFtcC1zb2NpYWwtc2hhcmV7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246NTAlO2JhY2tncm91bmQtc2l6ZTpjb250YWluO3RleHQtZGVjb3JhdGlvbjpub25lO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOnJlbGF0aXZlfS5hbXAtc29jaWFsLXNoYXJlLXR3aXR0ZXJ7YmFja2dyb3VuZC1jb2xvcjojMWRhMWYyfS5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtY29sb3I6IzNiNTk5OH0uYW1wLXNvY2lhbC1zaGFyZS1waW50ZXJlc3R7YmFja2dyb3VuZC1jb2xvcjojYmQwODFjfS5hbXAtc29jaWFsLXNoYXJlLWxpbmtlZGlue2JhY2tncm91bmQtY29sb3I6IzAwNzdiNX0uYW1wLXNvY2lhbC1zaGFyZS1ncGx1c3tiYWNrZ3JvdW5kLWNvbG9yOiNkYzRlNDF9LmFtcC1zb2NpYWwtc2hhcmUtdHVtYmxye2JhY2tncm91bmQtY29sb3I6IzNjNWE3N30uYW1wLXNvY2lhbC1zaGFyZS1lbWFpbHtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmFtcC1zb2NpYWwtc2hhcmUtd2hhdHNhcHB7YmFja2dyb3VuZC1jb2xvcjojMjVkMzY2fS5hbXAtc29jaWFsLXNoYXJlLWxpbmV7YmFja2dyb3VuZC1jb2xvcjojNTJiNDQ4fS5hbXAtc29jaWFsLXNoYXJlLXNtc3tiYWNrZ3JvdW5kLWNvbG9yOiNjYTJiNjN9LmFtcC1zb2NpYWwtc2hhcmUtc3lzdGVte2JhY2tncm91bmQtY29sb3I6IzAwMH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50O21hcmdpbjoxNnB4IDhweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1uby1zaGFyaW5nIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQtc2Nyb2xsYWJsZXtwYWRkaW5nOjE2cHggMCFpbXBvcnRhbnQ7b3ZlcmZsb3c6YXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWZ1bGxibGVlZCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldHttYXJnaW4tbGVmdDowIWltcG9ydGFudDttYXJnaW4tcmlnaHQ6MCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQ6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjBweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDp0cmFuc3BhcmVudCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1saXN0e2xpc3Qtc3R5bGU6bm9uZSFpbXBvcnRhbnQ7cGFkZGluZzowIDhweCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LW1zLWZsZXgtd3JhcDp3cmFwIWltcG9ydGFudDtmbGV4LXdyYXA6d3JhcCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1ib29rZW5kLWZ1bGxibGVlZCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7cGFkZGluZy1sZWZ0OjE2cHghaW1wb3J0YW50O3BhZGRpbmctcmlnaHQ6MTZweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte3dpZHRoOjQ4cHghaW1wb3J0YW50O2hlaWdodDo2NnB4IWltcG9ydGFudDtwYWRkaW5nOjAgMTZweCFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbToxMnB4IWltcG9ydGFudH1AbWVkaWEgKG1heC13aWR0aDo0MTBweCl7LmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O21pbi13aWR0aDo2MHB4IWltcG9ydGFudDt3aWR0aDoyNSUhaW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo0MTBweCkgYW5kIChtYXgtd2lkdGg6NTAwcHgpey5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDoyMCUhaW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo1MDBweCkgYW5kIChtYXgtd2lkdGg6NzIwcHgpey5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDoxNi42NiUhaW1wb3J0YW50fX0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXdpZGdldC1zY3JvbGxhYmxlIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdHstbXMtZmxleC13cmFwOm5vd3JhcCFpbXBvcnRhbnQ7ZmxleC13cmFwOm5vd3JhcCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQtc2Nyb2xsYWJsZT4qPi5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbXtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50O21pbi13aWR0aDphdXRvIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW06ZW1wdHl7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb257Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7d2lkdGg6NDhweCFpbXBvcnRhbnQ7aGVpZ2h0OjY2cHghaW1wb3J0YW50O3BhZGRpbmc6NTZweCAwIDAhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemUhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEwcHghaW1wb3J0YW50O2ZvbnQtc2l6ZToxMHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246OHB4IDhweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOjMycHggMzJweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb24uYW1wLXNvY2lhbC1zaGFyZS1mYWNlYm9va3tiYWNrZ3JvdW5kLXNpemU6MzhweCAzOHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjVweCA1cHghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjpiZWZvcmV7Y29udGVudDpcXFwiIFxcXCIhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLDAuMTUpIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NDhweCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3otaW5kZXg6LTEhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbjphY3RpdmUsLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmZvY3Vze291dGxpbmU6bm9uZSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YWN0aXZlOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOiM3ODc4NzghaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvblt0eXBlPWVtYWlsXXtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00yMCA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjZjMC0xLjEtLjktMi0yLTJ6bTAgNGwtOCA1LTgtNVY2bDggNSA4LTV2MnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb25bdHlwZT1zeXN0ZW1de2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTYgMTBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0xMiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptLTYgMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi1saW5re2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMy45IDEyYzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xaDRWN0g3Yy0yLjc2IDAtNSAyLjI0LTUgNXMyLjI0IDUgNSA1aDR2LTEuOUg3Yy0xLjcxIDAtMy4xLTEuMzktMy4xLTMuMXpNOCAxM2g4di0ySDh2MnptOS02aC00djEuOWg0YzEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xcy0xLjM5IDMuMS0zLjEgMy4xaC00VjE3aDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIikhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVye2JhY2tncm91bmQ6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLHJnYmEoMCwwLDAsMC4zNSksdHJhbnNwYXJlbnQpIWltcG9ydGFudDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcscmdiYSgwLDAsMCwwLjM1KSx0cmFuc3BhcmVudCkhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtoZWlnaHQ6NTZweCFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudDt6LWluZGV4OjEwMDAwMCFpbXBvcnRhbnQ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjNzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYWN0aXZlLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXJ7b3BhY2l0eTowLjMhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuMTVzIGN1YmljLWJlemllcigwLjQsMC4wLDEsMSkhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAwLjE1cyBjdWJpYy1iZXppZXIoMC40LDAuMCwxLDEpIWltcG9ydGFudH1bZGVza3RvcF0uaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYWN0aXZlLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXJ7b3BhY2l0eTowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllci1idXR0b25ze21hcmdpbi10b3A6OHB4O3BvaW50ZXItZXZlbnRzOmF1dG8haW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtb3JpZW50Omhvcml6b250YWwhaW1wb3J0YW50Oy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWwhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3chaW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOnJvdyFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazplbmQhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6ZW5kIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktYnV0dG9ue2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O2hlaWdodDo0OHB4IWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O2JhY2tncm91bmQ6NTAlIG5vLXJlcGVhdCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1idXR0b246YWN0aXZle2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwwLjIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllciAuaS1hbXBodG1sLXN0b3J5LWJ1dHRvbntmbG9hdDpsZWZ0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXByb2dyZXNzLWJhcntib3JkZXI6MCFpbXBvcnRhbnQ7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O21hcmdpbjo0cHggMCAwIWltcG9ydGFudDtwYWRkaW5nOjAgMnB4IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O3Zpc2liaWxpdHk6dmlzaWJsZSFpbXBvcnRhbnQ7ei1pbmRleDoxMDAwMDEhaW1wb3J0YW50fVthZC1zaG93aW5nXSAuaS1hbXBodG1sLXN0b3J5LXByb2dyZXNzLWJhcnt2aXNpYmlsaXR5OmhpZGRlbiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1wYWdlLXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLDAuNCkhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MXB4IWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7bGlzdC1zdHlsZS10eXBlOm5vbmUhaW1wb3J0YW50O21hcmdpbjowIDJweCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDstd2Via2l0LW1hc2staW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBSUFBQUNRZDFQZUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQTVKUkVGVWVOcGlZR0JnQUFnd0FBQUVBQUdiQStvSkFBQUFBRWxGVGtTdVFtQ0MpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtdmFsdWV7YmFja2dyb3VuZDojZmZmIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKSBzY2FsZVgoMCkhaW1wb3J0YW50O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApIHNjYWxlWCgwKSFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQhaW1wb3J0YW50O3RyYW5zZm9ybS1vcmlnaW46bGVmdCFpbXBvcnRhbnQ7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLHRyYW5zaXRpb24haW1wb3J0YW50fVtkaXI9cnRsXSAuaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtdmFsdWV7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IWltcG9ydGFudDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW11dGUtYXVkaW8tY29udHJvbCwuaS1hbXBodG1sLXN0b3J5LXVubXV0ZS1hdWRpby1jb250cm9se2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmF1ZGlvLXBsYXlpbmc6bm90KFttdXRlZF0pIC5pLWFtcGh0bWwtc3RvcnktbXV0ZS1hdWRpby1jb250cm9sLC5hdWRpby1wbGF5aW5nW211dGVkXSAuaS1hbXBodG1sLXN0b3J5LXVubXV0ZS1hdWRpby1jb250cm9se2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fS5pLWFtcGh0bWwtc3RvcnktdWktbm8tYnV0dG9ucyAuaS1hbXBodG1sLXN0b3J5LWJ1dHRvbiwuaS1hbXBodG1sLXN0b3J5LXVpLW5vLWJ1dHRvbnMgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsLC5pLWFtcGh0bWwtc3RvcnktdWktbm8tYnV0dG9ucyAuaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllci1idXR0b25ze3Zpc2liaWxpdHk6aGlkZGVuIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXVubXV0ZS1hdWRpby1jb250cm9se2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIGZpbGw9JyUyM0ZGRiclM0UlM0NwYXRoIGQ9J00xNi41IDEyQTQuNSA0LjUgMCAwIDAgMTQgNy45N3YyLjIxbDIuNDUgMi40NWMuMDMtLjIuMDUtLjQxLjA1LS42M3ptMi41IDBjMCAuOTQtLjIgMS44Mi0uNTQgMi42NGwxLjUxIDEuNTFBOC43OTYgOC43OTYgMCAwIDAgMjEgMTJjMC00LjI4LTIuOTktNy44Ni03LTguNzd2Mi4wNmMyLjg5Ljg2IDUgMy41NCA1IDYuNzF6TTQuMjcgM0wzIDQuMjcgNy43MyA5SDN2Nmg0bDUgNXYtNi43M2w0LjI1IDQuMjVjLS42Ny41Mi0xLjQyLjkzLTIuMjUgMS4xOHYyLjA2YTguOTkgOC45OSAwIDAgMCAzLjY5LTEuODFMMTkuNzMgMjEgMjEgMTkuNzNsLTktOUw0LjI3IDN6TTEyIDRMOS45MSA2LjA5IDEyIDguMThWNHonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW11dGUtYXVkaW8tY29udHJvbHtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBmaWxsPSclMjNGRkYnJTNFJTNDcGF0aCBkPSdNMyA5djZoNGw1IDVWNEw3IDlIM3ptMTMuNSAzQTQuNSA0LjUgMCAwIDAgMTQgNy45N3Y4LjA1YzEuNDgtLjczIDIuNS0yLjI1IDIuNS00LjAyek0xNCAzLjIzdjIuMDZjMi44OS44NiA1IDMuNTQgNSA2Ljcxcy0yLjExIDUuODUtNSA2LjcxdjIuMDZjNC4wMS0uOTEgNy00LjQ5IDctOC43N3MtMi45OS03Ljg2LTctOC43N3onLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLWNvbnRyb2x7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzRkZGJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTggMTYuMDhjLS43NiAwLTEuNDQuMy0xLjk2Ljc3TDguOTEgMTIuN2MuMDUtLjIzLjA5LS40Ni4wOS0uN3MtLjA0LS40Ny0uMDktLjdsNy4wNS00LjExYy41NC41IDEuMjUuODEgMi4wNC44MSAxLjY2IDAgMy0xLjM0IDMtM3MtMS4zNC0zLTMtMy0zIDEuMzQtMyAzYzAgLjI0LjA0LjQ3LjA5LjdMOC4wNCA5LjgxQzcuNSA5LjMxIDYuNzkgOSA2IDljLTEuNjYgMC0zIDEuMzQtMyAzczEuMzQgMyAzIDNjLjc5IDAgMS41LS4zMSAyLjA0LS44MWw3LjEyIDQuMTZjLS4wNS4yMS0uMDguNDMtLjA4LjY1IDAgMS42MSAxLjMxIDIuOTIgMi45MiAyLjkyIDEuNjEgMCAyLjkyLTEuMzEgMi45Mi0yLjkycy0xLjMxLTIuOTItMi45Mi0yLjkyeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH1baW9zXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWNvbnRyb2x7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgZmlsbD0nJTIzRkZGJyUzRSUzQ3BhdGggZmlsbD0nbm9uZScgZD0nTTAgMGgyNHYyNEgwVjB6Jy8lM0UlM0NwYXRoIGQ9J00xNiA1bC0xLjQyIDEuNDItMS41OS0xLjU5VjE2aC0xLjk4VjQuODNMOS40MiA2LjQyIDggNWw0LTQgNCA0em00IDV2MTFjMCAxLjEtLjkgMi0yIDJINmEyIDIgMCAwIDEtMi0yVjEwYzAtMS4xMS44OS0yIDItMmgzdjJINnYxMWgxMlYxMGgtM1Y4aDNhMiAyIDAgMCAxIDIgMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbi15OmNhbGMoNTAlIC0gMnB4KSFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1pbmZvLWNvbnRyb2x7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDQ4IDQ4JyBmaWxsPSclMjNGRkYnJTNFJTNDcGF0aCBkPSdNMCAwaDQ4djQ4SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00yMiAzNGg0VjIyaC00djEyem0yLTMwQzEyLjk1IDQgNCAxMi45NSA0IDI0czguOTUgMjAgMjAgMjAgMjAtOC45NSAyMC0yMFMzNS4wNSA0IDI0IDR6bTAgMzZjLTguODIgMC0xNi03LjE4LTE2LTE2UzE1LjE4IDggMjQgOHMxNiA3LjE4IDE2IDE2LTcuMTggMTYtMTYgMTZ6bS0yLTIyaDR2LTRoLTR2NHonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnQ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLWVtYmVkZGVkLmZpcnN0LXBhZ2UtYWN0aXZlIC5pLWFtcGh0bWwtc3RvcnktaW5mby1jb250cm9se2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktbm8tc2hhcmluZyAuaS1hbXBodG1sLXN0b3J5LWluZm8tY29udHJvbCwuaS1hbXBodG1sLXN0b3J5LW5vLXNoYXJpbmcgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1jb250cm9se2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9W2Rlc2t0b3BdLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXJ7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AscmdiYSgzMywzMywzMywwKSxyZ2JhKDMzLDMzLDMzLDAuMzIpKSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLHJnYmEoMzMsMzMsMzMsMCkgMCUscmdiYSgzMywzMywzMywwLjMyKSkhaW1wb3J0YW50O3RvcDphdXRvIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7aGVpZ2h0Ojk2cHghaW1wb3J0YW50O2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1vcmllbnQ6aG9yaXpvbnRhbCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOnJldmVyc2UhaW1wb3J0YW50Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZSFpbXBvcnRhbnQ7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2UhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXByb2dyZXNzLWJhcntwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7aGVpZ2h0OjNweCFpbXBvcnRhbnQ7d2lkdGg6MzMuMzMzMzN2dyFpbXBvcnRhbnQ7bWFyZ2luOjAgMjRweCFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3RvcnktcGFnZS1wcm9ncmVzcy1iYXJ7Ym9yZGVyLXJhZGl1czoxMDBweCFpbXBvcnRhbnR9W2Rlc2t0b3BdLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXIgLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXItYnV0dG9uc3tkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50O2hlaWdodDo0MHB4IWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDstd2Via2l0LWJveC1wYWNrOmVuZCFpbXBvcnRhbnQ7LW1zLWZsZXgtcGFjazplbmQhaW1wb3J0YW50O2p1c3RpZnktY29udGVudDpmbGV4LWVuZCFpbXBvcnRhbnQ7bWFyZ2luLXRvcDowcHghaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWNvbnRyb2x7ZGlzcGxheTpub25lIWltcG9ydGFudH1kaXYuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGwtY29udGFpbmVye3Bvc2l0aW9uOmZpeGVkIWltcG9ydGFudDtkaXNwbGF5Om5vbmUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtoZWlnaHQ6OTZweCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7ei1pbmRleDoxIWltcG9ydGFudDtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCxyZ2JhKDMzLDMzLDMzLDAuMzIpLHJnYmEoMzMsMzMsMzMsMCkpIWltcG9ydGFudDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcscmdiYSgzMywzMywzMywwLjMyKSAwJSxyZ2JhKDMzLDMzLDMzLDApKSFpbXBvcnRhbnR9W2Rlc2t0b3BdIGRpdi5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbC1jb250YWluZXJ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxse2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtyaWdodDo0MHB4IWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bWFyZ2luOmF1dG8haW1wb3J0YW50O2hlaWdodDo0MHB4IWltcG9ydGFudDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czphdXRvIWltcG9ydGFudH1bZGlyPXJ0bF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxse3JpZ2h0OmF1dG8haW1wb3J0YW50O2xlZnQ6NDBweCFpbXBvcnRhbnR9c3Bhbi5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbC1sYWJlbHtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZiFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjE1cHghaW1wb3J0YW50O3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudDt3aWR0aDo2MHB4IWltcG9ydGFudDtmb250LXNpemU6MTJweCFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NzAwIWltcG9ydGFudDtsZXR0ZXItc3BhY2luZzouNXB4IWltcG9ydGFudDttYXJnaW46YXV0byFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym94LXNpemluZzppbml0aWFsIWltcG9ydGFudDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2UhaW1wb3J0YW50fVtkaXI9cnRsXSBzcGFuLmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsLWxhYmVse3JpZ2h0OmF1dG8haW1wb3J0YW50O2xlZnQ6MTVweCFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7Y29udGVudDpcXFwiXFxcIiFpbXBvcnRhbnQ7d2lkdGg6NThweCFpbXBvcnRhbnQ7aGVpZ2h0OjQwcHghaW1wb3J0YW50O3BhZGRpbmc6MCAxNnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLDAuMikhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAwcHghaW1wb3J0YW50O2JveC1zaXppbmc6aW5pdGlhbCFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDMwMG1zIGVhc2UtaW4tb3V0IWltcG9ydGFudDt0cmFuc2l0aW9uOndpZHRoIDMwMG1zIGVhc2UtaW4tb3V0IWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudH1bZGlyPXJ0bF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmJlZm9yZXtyaWdodDphdXRvIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17b3BhY2l0eTowIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50O3RyYW5zaXRpb246b3BhY2l0eSAzMDBtcyBsaW5lYXIhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbDpob3ZlciAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW17b3BhY2l0eToxIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGwgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVte21hcmdpbjowIWltcG9ydGFudDt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NDhweCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg5KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MzBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTozMG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg4KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6NjBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTo2MG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg3KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6OTBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheTo5MG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCg2KXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MTIwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MTIwbXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbDpob3ZlciAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW06bnRoLWNoaWxkKDUpey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheToxNTBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheToxNTBtcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmhvdmVyIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTpudGgtY2hpbGQoNCl7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OjE4MG1zIWltcG9ydGFudDt0cmFuc2l0aW9uLWRlbGF5OjE4MG1zIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXIgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtOm50aC1jaGlsZCgzKXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MjEwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MjEwbXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbDpob3ZlciAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWl0ZW06bnRoLWNoaWxkKDIpey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheToyNDBtcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kZWxheToyNDBtcyFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsOmhvdmVyIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaXRlbTpmaXJzdC1jaGlsZHstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MjcwbXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZGVsYXk6MjcwbXMhaW1wb3J0YW50fS5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbCAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7cGFkZGluZzowIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGw6aG92ZXI6YmVmb3Jle3dpZHRoOmNhbGMoMTAwJSAtIDMycHgpIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGwgLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29ue2Rpc3BsYXk6LXdlYmtpdC1ib3ghaW1wb3J0YW50O2Rpc3BsYXk6LW1zLWZsZXhib3ghaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDo0OHB4IWltcG9ydGFudDtoZWlnaHQ6NDhweCFpbXBvcnRhbnQ7cGFkZGluZzowfVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb257Zm9udC1zaXplOjBweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1zaXplOjI0cHggMjRweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnR9W2Rlc2t0b3BdIC5pLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi5hbXAtc29jaWFsLXNoYXJlLWZhY2Vib29re2JhY2tncm91bmQtc2l6ZToyOHB4IDI4cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246NTAlIWltcG9ydGFudH1bZGVza3RvcF0gLmktYW1waHRtbC1zdG9yeS1zaGFyZS1pY29uOmJlZm9yZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWljb246YWN0aXZlOmJlZm9yZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7bWFyZ2luLXJpZ2h0OjcycHghaW1wb3J0YW50fVtkaXI9cnRsXVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLWxpc3R7bWFyZ2luLXJpZ2h0OjAhaW1wb3J0YW50O21hcmdpbi1sZWZ0OjcycHghaW1wb3J0YW50fVtkZXNrdG9wXSAuaS1hbXBodG1sLXN0b3J5LXNoYXJlLXBpbGwtY29udGFpbmVye3otaW5kZXg6MTAwMDAyIWltcG9ydGFudH1cXG4vKiMgc291cmNlVVJMPS9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LXN5c3RlbS1sYXllci5jc3MqL1wiO1xuIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLmktYW1waHRtbC1zdG9yeS11bnN1cHBvcnRlZC1icm93c2VyLW92ZXJsYXl7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3otaW5kZXg6MjAwMDAxIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZjtmb250LXdlaWdodDo3MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuNTtwYWRkaW5nOjMycHg7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXVuc3VwcG9ydGVkLWJyb3dzZXItb3ZlcmxheSAuaS1hbXBodG1sLXN0b3J5LW92ZXJsYXktdGV4dHtjb2xvcjojZmZmIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LXVuc3VwcG9ydGVkLWJyb3dzZXItb3ZlcmxheXtkaXNwbGF5Oi13ZWJraXQtYm94IWltcG9ydGFudDtkaXNwbGF5Oi1tcy1mbGV4Ym94IWltcG9ydGFudDtkaXNwbGF5OmZsZXghaW1wb3J0YW50fS5pLWFtcGh0bWwtZ2Vhci1pY29ue2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50O3BhZGRpbmc6MTZweCFpbXBvcnRhbnQ7aGVpZ2h0OjI0cHghaW1wb3J0YW50O3dpZHRoOjI0cHghaW1wb3J0YW50O21hcmdpbjoxNnB4IGF1dG8haW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCclM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00wIDBoMjB2MjBIMFYweicvJTNFJTNDcGF0aCBkPSdNMTUuOTUgMTAuNzhjLjAzLS4yNS4wNS0uNTEuMDUtLjc4cy0uMDItLjUzLS4wNi0uNzhsMS42OS0xLjMyYy4xNS0uMTIuMTktLjM0LjEtLjUxbC0xLjYtMi43N2MtLjEtLjE4LS4zMS0uMjQtLjQ5LS4xOGwtMS45OS44Yy0uNDItLjMyLS44Ni0uNTgtMS4zNS0uNzhMMTIgMi4zNGEuNC40IDAgMCAwLS40LS4zNEg4LjRjLS4yIDAtLjM2LjE0LS4zOS4zNGwtLjMgMi4xMmMtLjQ5LjItLjk0LjQ3LTEuMzUuNzhsLTEuOTktLjhjLS4xOC0uMDctLjM5IDAtLjQ5LjE4bC0xLjYgMi43N2MtLjEuMTgtLjA2LjM5LjEuNTFsMS42OSAxLjMyYy0uMDQuMjUtLjA3LjUyLS4wNy43OHMuMDIuNTMuMDYuNzhMMi4zNyAxMi4xYy0uMTUuMTItLjE5LjM0LS4xLjUxbDEuNiAyLjc3Yy4xLjE4LjMxLjI0LjQ5LjE4bDEuOTktLjhjLjQyLjMyLjg2LjU4IDEuMzUuNzhsLjMgMi4xMmMuMDQuMi4yLjM0LjQuMzRoMy4yYy4yIDAgLjM3LS4xNC4zOS0uMzRsLjMtMi4xMmMuNDktLjIuOTQtLjQ3IDEuMzUtLjc4bDEuOTkuOGMuMTguMDcuMzkgMCAuNDktLjE4bDEuNi0yLjc3Yy4xLS4xOC4wNi0uMzktLjEtLjUxbC0xLjY3LTEuMzJ6TTEwIDEzYy0xLjY1IDAtMy0xLjM1LTMtM3MxLjM1LTMgMy0zIDMgMS4zNSAzIDMtMS4zNSAzLTMgM3onLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1jb250aW51ZS1idXR0b257Ym9yZGVyLXJhZGl1czoyMHB4O2ZvbnQtZmFtaWx5OlJvYm90byxzYW5zLXNlcmlmO2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtmb250LXNpemU6MTZweDtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZzoxMHB4IDIwcHg7Ym9yZGVyOjJweCBzb2xpZCAjYWFhO3RleHQtZGVjb3JhdGlvbjpub25lO2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoyNXB4O21hcmdpbi1yaWdodDphdXRvO21hcmdpbi1sZWZ0OmF1dG87LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9XFxuLyojIHNvdXJjZVVSTD0vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS11bnN1cHBvcnRlZC1icm93c2VyLWxheWVyLmNzcyovXCI7XG4iLCJleHBvcnQgY29uc3QgQ1NTID0gXCIuaS1hbXBodG1sLXN0b3J5LW5vLXJvdGF0aW9uLW92ZXJsYXl7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3otaW5kZXg6MjAwMDAwIWltcG9ydGFudDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZjtmb250LXdlaWdodDo3MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuNTtwYWRkaW5nOjMycHg7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXIhaW1wb3J0YW50Oy1tcy1mbGV4LXBhY2s6Y2VudGVyIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaS1hbXBodG1sLXN0b3J5LW5vLXJvdGF0aW9uLW92ZXJsYXkgLmktYW1waHRtbC1zdG9yeS1vdmVybGF5LXRleHR7Y29sb3I6I2ZmZiFpbXBvcnRhbnR9LmktYW1waHRtbC1zdG9yeS1sYW5kc2NhcGUuaS1hbXBodG1sLXN0b3J5LW5vLXJvdGF0aW9uLW92ZXJsYXl7ZGlzcGxheTotd2Via2l0LWJveCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudH0uaS1hbXBodG1sLWRlc2t0b3Atc2l6ZS1pY29uLC5pLWFtcGh0bWwtcm90YXRlLWljb257YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7cGFkZGluZzoxNnB4IWltcG9ydGFudDtoZWlnaHQ6MjRweCFpbXBvcnRhbnQ7d2lkdGg6MjRweCFpbXBvcnRhbnQ7bWFyZ2luOjE2cHggYXV0byFpbXBvcnRhbnR9LmktYW1waHRtbC1yb3RhdGUtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTYuNDggMi41MmMzLjI3IDEuNTUgNS42MSA0LjcyIDUuOTcgOC40OGgxLjVDMjMuNDQgNC44NCAxOC4yOSAwIDEyIDBsLS42Ni4wMyAzLjgxIDMuODEgMS4zMy0xLjMyem0tNi4yNS0uNzdhMS40OSAxLjQ5IDAgMCAwLTIuMTIgMEwxLjc1IDguMTFhMS40OSAxLjQ5IDAgMCAwIDAgMi4xMmwxMi4wMiAxMi4wMmMuNTkuNTkgMS41NC41OSAyLjEyIDBsNi4zNi02LjM2Yy41OS0uNTkuNTktMS41NCAwLTIuMTJMMTAuMjMgMS43NXptNC42IDE5LjQ0TDIuODEgOS4xN2w2LjM2LTYuMzYgMTIuMDIgMTIuMDItNi4zNiA2LjM2em0tNy4zMS4yOUExMC40ODcgMTAuNDg3IDAgMCAxIDEuNTUgMTNILjA1Qy41NiAxOS4xNiA1LjcxIDI0IDEyIDI0bC42Ni0uMDMtMy44MS0zLjgxLTEuMzMgMS4zMnonLyUzRSUzQy9zdmclM0VcXFwiKSFpbXBvcnRhbnR9LmktYW1waHRtbC1kZXNrdG9wLXNpemUtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIuMDEgNS41TDEwIDhoNGwtMS45OS0yLjV6TTE4IDEwdjRsMi41LTEuOTlMMTggMTB6TTYgMTBsLTIuNSAyLjAxTDYgMTR2LTR6bTggNmgtNGwyLjAxIDIuNUwxNCAxNnptNy0xM0gzYy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE4YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTYuMDFIM1Y0Ljk5aDE4djE0LjAyeicvJTNFJTNDL3N2ZyUzRVxcXCIpIWltcG9ydGFudH1cXG4vKiMgc291cmNlVVJMPS9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvYW1wLXN0b3J5LXZpZXdwb3J0LXdhcm5pbmctbGF5ZXIuY3NzKi9cIjtcbiIsImV4cG9ydCBjb25zdCBjc3NUZXh0ID0gXCJpLWFtcGh0bWwtdmlkZW8tbWFza3t6LWluZGV4OjF9LmFtcC12aWRlby1lcXtkaXNwbGF5Om5vbmV9LmktYW1waHRtbC12aWRlby1jb21wb25lbnQ6bm90KGFtcC12aWRlbykgLmFtcC12aWRlby1lcSxhbXAtc3RvcnkgLmFtcC12aWRlby1lcSxhbXAtdmlkZW9bY29udHJvbHNdIC5hbXAtdmlkZW8tZXF7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH1bbm9hdWRpb10gLmFtcC12aWRlby1lcXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5hbXAtdmlkZW8tZXF7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtYWxpZ246ZW5kOy1tcy1mbGV4LWFsaWduOmVuZDthbGlnbi1pdGVtczpmbGV4LWVuZDtib3R0b206N3B4O2hlaWdodDoxMnB4O29wYWNpdHk6MC44O292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo3cHg7d2lkdGg6MjBweDt6LWluZGV4OjF9LmFtcC12aWRlby1lcSAuYW1wLXZpZGVvLWVxLWNvbHstd2Via2l0LWJveC1mbGV4OjE7LW1zLWZsZXg6MTtmbGV4OjE7aGVpZ2h0OjEwMCU7bWFyZ2luLXJpZ2h0OjFweDtwb3NpdGlvbjpyZWxhdGl2ZX0uYW1wLXZpZGVvLWVxIC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmFtcC12aWRlby1lcS1hbmltYXRpb247YW5pbWF0aW9uLW5hbWU6YW1wLXZpZGVvLWVxLWFuaW1hdGlvbjstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyOy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbjphbHRlcm5hdGU7YW5pbWF0aW9uLWRpcmVjdGlvbjphbHRlcm5hdGU7YmFja2dyb3VuZC1jb2xvcjojZmFmYWZhO2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtOy13ZWJraXQtYW5pbWF0aW9uLXBsYXktc3RhdGU6cGF1c2VkO2FuaW1hdGlvbi1wbGF5LXN0YXRlOnBhdXNlZH0uYW1wLXZpZGVvLWVxW3VucGF1c2FibGVdIC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLW5hbWU6bm9uZX0uYW1wLXZpZGVvLWVxW3VucGF1c2FibGVdLmFtcC12aWRlby1lcS1wbGF5IC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmFtcC12aWRlby1lcS1hbmltYXRpb247YW5pbWF0aW9uLW5hbWU6YW1wLXZpZGVvLWVxLWFuaW1hdGlvbn0uYW1wLXZpZGVvLWVxLmFtcC12aWRlby1lcS1wbGF5IC5hbXAtdmlkZW8tZXEtY29sIGRpdnstd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlOnJ1bm5pbmc7YW5pbWF0aW9uLXBsYXktc3RhdGU6cnVubmluZ30uYW1wLXZpZGVvLWVxLTEtMXstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjNzO2FuaW1hdGlvbi1kdXJhdGlvbjowLjNzfS5hbXAtdmlkZW8tZXEtMS0xLC5hbXAtdmlkZW8tZXEtMS0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoNjAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSg2MCUpfS5hbXAtdmlkZW8tZXEtMS0yey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjAuNDVzO2FuaW1hdGlvbi1kdXJhdGlvbjowLjQ1c30uYW1wLXZpZGVvLWVxLTItMXstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjVzO2FuaW1hdGlvbi1kdXJhdGlvbjowLjVzfS5hbXAtdmlkZW8tZXEtMi0xLC5hbXAtdmlkZW8tZXEtMi0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMzAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgzMCUpfS5hbXAtdmlkZW8tZXEtMi0yey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjAuNHM7YW5pbWF0aW9uLWR1cmF0aW9uOjAuNHN9LmFtcC12aWRlby1lcS0zLTF7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MC4zczthbmltYXRpb24tZHVyYXRpb246MC4zc30uYW1wLXZpZGVvLWVxLTMtMSwuYW1wLXZpZGVvLWVxLTMtMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDcwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNzAlKX0uYW1wLXZpZGVvLWVxLTMtMnstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjM1czthbmltYXRpb24tZHVyYXRpb246MC4zNXN9LmFtcC12aWRlby1lcS00LTF7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MC40czthbmltYXRpb24tZHVyYXRpb246MC40c30uYW1wLXZpZGVvLWVxLTQtMSwuYW1wLXZpZGVvLWVxLTQtMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNTAlKX0uYW1wLXZpZGVvLWVxLTQtMnstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjI1czthbmltYXRpb24tZHVyYXRpb246MC4yNXN9QC13ZWJraXQta2V5ZnJhbWVzIGFtcC12aWRlby1lcS1hbmltYXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1Aa2V5ZnJhbWVzIGFtcC12aWRlby1lcS1hbmltYXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1cXG4vKiMgc291cmNlVVJMPS9jc3MvdmlkZW8tYXV0b3BsYXkuY3NzKi9cIiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBXQVJOSU5HXG4vLyBXQVJOSU5HXG4vLyBXQVJOSU5HXG4vLyBXQVJOSU5HXG4vLyBGaWxlIG11c3QgYmUgc3luY2VkIHdpdGggYW1wLmV4dGVucy5qc1xuXG5cbi8qKlxuICogQHR5cGVkZWYge1xuICogICAhV2ViTXVsdGlBbmltYXRpb25EZWZ8XG4gKiAgICFXZWJTd2l0Y2hBbmltYXRpb25EZWZ8XG4gKiAgICFXZWJDb21wQW5pbWF0aW9uRGVmfFxuICogICAhV2ViS2V5ZnJhbWVBbmltYXRpb25EZWZcbiAqIH1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25EZWY7XG5cblxuLyoqXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uU2VsZWN0b3JEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uQ29uZGl0aW9uYWxEZWZcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGFuaW1hdGlvbnM6ICFBcnJheTwhV2ViQW5pbWF0aW9uRGVmPixcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgV2ViTXVsdGlBbmltYXRpb25EZWY7XG5cblxuLyoqXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uU2VsZWN0b3JEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uQ29uZGl0aW9uYWxEZWZcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHN3aXRjaDogIUFycmF5PCFXZWJBbmltYXRpb25EZWY+LFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJTd2l0Y2hBbmltYXRpb25EZWY7XG5cblxuLyoqXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uU2VsZWN0b3JEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uQ29uZGl0aW9uYWxEZWZcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGFuaW1hdGlvbjogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJDb21wQW5pbWF0aW9uRGVmO1xuXG5cbi8qKlxuICogQG1peGVzIFdlYkFuaW1hdGlvblNlbGVjdG9yRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uVGltaW5nRGVmXG4gKiBAbWl4ZXMgV2ViQW5pbWF0aW9uVmFyc0RlZlxuICogQG1peGVzIFdlYkFuaW1hdGlvbkNvbmRpdGlvbmFsRGVmXG4gKiBAdHlwZWRlZiB7e1xuICogICBrZXlmcmFtZXM6IChzdHJpbmd8IVdlYktleWZyYW1lc0RlZiksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFdlYktleWZyYW1lQW5pbWF0aW9uRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYgeyFPYmplY3Q8c3RyaW5nLCAqPnwhQXJyYXk8IU9iamVjdDxzdHJpbmcsICo+Pn1cbiAqL1xuZXhwb3J0IGxldCBXZWJLZXlmcmFtZXNEZWY7XG5cblxuLyoqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0FuaW1hdGlvbkVmZmVjdFRpbWluZ1Byb3BlcnRpZXNcbiAqXG4gKiBAbWl4aW5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGR1cmF0aW9uOiAodGltZXx1bmRlZmluZWQpLFxuICogICBkZWxheTogKHRpbWV8dW5kZWZpbmVkKSxcbiAqICAgZW5kRGVsYXk6ICh0aW1lfHVuZGVmaW5lZCksXG4gKiAgIGl0ZXJhdGlvbnM6IChudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGl0ZXJhdGlvblN0YXJ0OiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIGVhc2luZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBkaXJlY3Rpb246ICghV2ViQW5pbWF0aW9uVGltaW5nRGlyZWN0aW9ufHVuZGVmaW5lZCksXG4gKiAgIGZpbGw6ICghV2ViQW5pbWF0aW9uVGltaW5nRmlsbHx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25UaW1pbmdEZWY7XG5cblxuLyoqXG4gKiBJbmRpY2F0ZXMgYW4gZXh0ZW5zaW9uIHRvIGEgdHlwZSB0aGF0IGFsbG93cyBzcGVjaWZ5aW5nIHZhcnMuIFZhcnMgYXJlXG4gKiBzcGVjaWZpZWQgYXMgcHJvcGVydGllcyB3aXRoIHRoZSBuYW1lIGluIHRoZSBmb3JtYXQgb2YgYC0tdmFyTmFtZWAuXG4gKlxuICogQG1peGluXG4gKiBAdHlwZWRlZiB7T2JqZWN0fVxuICovXG5leHBvcnQgbGV0IFdlYkFuaW1hdGlvblZhcnNEZWY7XG5cblxuLyoqXG4gKiBEZWZpbmVzIG1lZGlhIHBhcmFtZXRlcnMgZm9yIGFuIGFuaW1hdGlvbi5cbiAqXG4gKiBAbWl4aW5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIG1lZGlhOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHN1cHBvcnRzOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFdlYkFuaW1hdGlvbkNvbmRpdGlvbmFsRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgdGFyZ2V0OiAoIUVsZW1lbnR8dW5kZWZpbmVkKSxcbiAqICAgc2VsZWN0b3I6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgc3VidGFyZ2V0czogKCFBcnJheTwhV2ViQW5pbWF0aW9uU3VidGFyZ2V0RGVmPnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25TZWxlY3RvckRlZjtcblxuXG4vKipcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25UaW1pbmdEZWZcbiAqIEBtaXhlcyBXZWJBbmltYXRpb25WYXJzRGVmXG4gKiBAdHlwZWRlZiB7e1xuICogICBtYXRjaGVyOiAoZnVuY3Rpb24oIUVsZW1lbnQsIG51bWJlcik6Ym9vbGVhbnx1bmRlZmluZWQpLFxuICogICBpbmRleDogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICBzZWxlY3RvcjogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBXZWJBbmltYXRpb25TdWJ0YXJnZXREZWY7XG5cblxuLyoqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0FuaW1hdGlvbi9wbGF5U3RhdGVcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXZWJBbmltYXRpb25QbGF5U3RhdGUgPSB7XG4gIElETEU6ICdpZGxlJyxcbiAgUEVORElORzogJ3BlbmRpbmcnLFxuICBSVU5OSU5HOiAncnVubmluZycsXG4gIFBBVVNFRDogJ3BhdXNlZCcsXG4gIEZJTklTSEVEOiAnZmluaXNoZWQnLFxufTtcblxuXG4vKipcbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQW5pbWF0aW9uRWZmZWN0VGltaW5nUHJvcGVydGllcy9kaXJlY3Rpb25cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXZWJBbmltYXRpb25UaW1pbmdEaXJlY3Rpb24gPSB7XG4gIE5PUk1BTDogJ25vcm1hbCcsXG4gIFJFVkVSU0U6ICdyZXZlcnNlJyxcbiAgQUxURVJOQVRFOiAnYWx0ZXJuYXRlJyxcbiAgQUxURVJOQVRFX1JFVkVSU0U6ICdhbHRlcm5hdGUtcmV2ZXJzZScsXG59O1xuXG5cbi8qKlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BbmltYXRpb25FZmZlY3RUaW1pbmdQcm9wZXJ0aWVzL2ZpbGxcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXZWJBbmltYXRpb25UaW1pbmdGaWxsID0ge1xuICBOT05FOiAnbm9uZScsXG4gIEZPUldBUkRTOiAnZm9yd2FyZHMnLFxuICBCQUNLV0FSRFM6ICdiYWNrd2FyZHMnLFxuICBCT1RIOiAnYm90aCcsXG4gIEFVVE86ICdhdXRvJyxcbn07XG5cblxuLyoqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSAqL1xuY29uc3QgV0hJVEVMSVNURURfUlBPUFMgPSB7XG4gICdvcGFjaXR5JzogdHJ1ZSxcbiAgJ3RyYW5zZm9ybSc6IHRydWUsXG4gICd0cmFuc2Zvcm0tb3JpZ2luJzogdHJ1ZSxcbiAgJ3Zpc2liaWxpdHknOiB0cnVlLFxuICAnb2Zmc2V0LWRpc3RhbmNlJzogdHJ1ZSxcbiAgJ29mZnNldERpc3RhbmNlJzogdHJ1ZSxcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV2hpdGVsaXN0ZWRQcm9wKHByb3ApIHtcbiAgcmV0dXJuIFdISVRFTElTVEVEX1JQT1BTW3Byb3BdIHx8IGZhbHNlO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBHZXJtYW4gc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBa3plcHRpZXJlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBYmxlaG5lbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1NlaGVuIFNpZSBhdWYgZGVyIHVyc3Byw7xuZ2xpY2hlbiBEb23DpG5lJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNZWhyIMO8YmVyIGRpZSBBTVAgRXJnZWJuaXNzZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1dlaXRlciBrbGlja2VuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX1BSRVZJT1VTX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1p1csO8Y2sga2xpY2tlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUXToge1xuICAgIHN0cmluZzogJ0RlciBMaW5rIGtvbm50ZSBuaWNodCB6dXIgWndpc2NoZW5hYmxhZ2Uga29waWVydCB3ZXJkZW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdEZXIgTGluayB3dXJkZSBrb3BpZXJ0LicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMXToge1xuICAgIHN0cmluZzogJ0VtYWlsJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAnRmFjZWJvb2snLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVU106IHtcbiAgICBzdHJpbmc6ICdHb29nbGUrJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS106IHtcbiAgICBzdHJpbmc6ICdMaW5rIGVyaGFsdGVuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU5dOiB7XG4gICAgc3RyaW5nOiAnTGlua2VkSW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1RdOiB7XG4gICAgc3RyaW5nOiAnUGludGVyZXN0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TXToge1xuICAgIHN0cmluZzogJ1NNUycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICdNZWhyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAnVHdpdHRlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1RlaWxlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICcgVmVyZ3LDtsOfZXJuIFNpZSBkYXMgRmVuc3RlciB1bSBkaWVzZXMgRXJsZWJuaXMgenUgc2VoZW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ1NpZSBtw7xzc2VuIGRhcyBhbXAtc3RvcnkgRXhwZXJpbWVudCBha3RpdmllcmVuIHVtIGRlbiBJbmhhbHQgenUgJyArXG4gICAgICAgICdzZWhlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdEaWVzZSBTZWl0ZSBpcyBhbSBCZXN0ZW4gaW0gUG9ydHJhaXQgTW9kZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRXMgdHV0IHVucyBzZWhyIGxlaWQsIGFiZXIgZXMgc2llaHQgc28gYXVzIGFscyBkYXNzIGRlciBCcm93c2VyICcgK1xuICAgICAgICAnZGllc2VzIEVybGVibmlzIG5pY2h0IHVudGVyc3TDvHR6dC4nLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgRW5nbGlzaCBzdHJpbmdzLlxuICogQGNvbnN0IHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQk9PS0VORF9NT1JFX1RPX1JFQURfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnTW9yZSB0byByZWFkJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfVElUTEVdOiB7XG4gICAgc3RyaW5nOiAnUHJpdmFjeSBzZXR0aW5ncycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQk9PS0VORF9QUklWQUNZX1NFVFRJTkdTX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdDaGFuZ2UgZGF0YSBwcml2YWN5IHNldHRpbmdzJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWNjZXB0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlY2xpbmUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlRJTlVFX0FOWVdBWV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ29udGludWUgQW55d2F5JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVmlldyBvbiBvcmlnaW5hbCBkb21haW46JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNb3JlIGFib3V0IEFNUCByZXN1bHRzJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnU2hhcmUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRXhwYW5kIHlvdXIgd2luZG93IHRvIHZpZXcgdGhpcyBleHBlcmllbmNlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdZb3UgbXVzdCBlbmFibGUgdGhlIGFtcC1zdG9yeSBleHBlcmltZW50IHRvIHZpZXcgdGhpcyBjb250ZW50LicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdUaGUgcGFnZSBpcyBiZXN0IHZpZXdlZCBpbiBwb3J0cmFpdCBtb2RlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdXZVxcJ3JlIHNvcnJ5LCBpdCBsb29rcyBsaWtlIHlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCAnICtcbiAgICAgICAgJ3RoaXMgZXhwZXJpZW5jZScsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBFbmdsaXNoIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWNjZXB0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlY2xpbmUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdWaWV3IG9uIG9yaWdpbmFsIGRvbWFpbjonLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MSU5LXToge1xuICAgIHN0cmluZzogJ01vcmUgYWJvdXQgQU1QIHJlc3VsdHMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdUYXAgTmV4dCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdUYXAgQmFjaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUXToge1xuICAgIHN0cmluZzogJ0NvdWxkIG5vdCBjb3B5IGxpbmsgdG8gY2xpcGJvYXJkIDooJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTGluayBjb3BpZWQhJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnRW1haWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICdGYWNlYm9vaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ0dldCBMaW5rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU5dOiB7XG4gICAgc3RyaW5nOiAnTGlua2VkSW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1RdOiB7XG4gICAgc3RyaW5nOiAnUGludGVyZXN0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TXToge1xuICAgIHN0cmluZzogJ1NNUycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICdNb3JlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAnVHdpdHRlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1NoYXJlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ0V4cGFuZCB5b3VyIHdpbmRvdyB0byB2aWV3IHRoaXMgZXhwZXJpZW5jZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnWW91IG11c3QgZW5hYmxlIHRoZSBhbXAtc3RvcnkgZXhwZXJpbWVudCB0byB2aWV3IHRoaXMgY29udGVudC4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVGhlIHBhZ2UgaXMgYmVzdCB2aWV3ZWQgaW4gcG9ydHJhaXQgbW9kZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnV2VcXCdyZSBzb3JyeSwgaXQgbG9va3MgbGlrZSB5b3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgJyArXG4gICAgICAgICd0aGlzIGV4cGVyaWVuY2UnLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgRW5nbGlzaCBzdHJpbmdzLlxuICogQGNvbnN0IHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQk9PS0VORF9NT1JFX1RPX1JFQURfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnTW9yZSB0byByZWFkJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIHRvIGJlIHBsYWNlZCBhcyBhIHRpdGxlIG9uIHRvcCBvZiByZWxhdGVkIGFydGljbGVzICcgK1xuICAgICAgICAnYXQgdGhlIGVuZCBvZiBhIHN0b3J5LicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQk9PS0VORF9QUklWQUNZX1NFVFRJTkdTX1RJVExFXToge1xuICAgIHN0cmluZzogJ1ByaXZhY3kgc2V0dGluZ3MnLFxuICAgIGRlc2NyaXB0aW9uOiAnVGl0bGUgZm9yIGEgc2VjdGlvbiB0aGF0IGFsbG93cyB0aGUgdXNlciB0byBjb25maWd1cmUgJyArXG4gICAgICAgICd0aGVpciBwcml2YWN5IHNldHRpbmdzJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0NoYW5nZSBkYXRhIHByaXZhY3kgc2V0dGluZ3MnLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgZm9yIGEgYnV0dG9uIHRoYXQgYWxsb3dzIHRoZSB1c2VyIHRvIGNoYW5nZSB0aGVpciAnICtcbiAgICAgICAgJ2Nob2ljZSB0byBjb25zZW50IHRvIHByb3ZpZGluZyB0aGVpciBjb29raWUgYWNjZXNzLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9BQ0NFUFRfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0FjY2VwdCcsXG4gICAgZGVzY3JpcHRpb246ICdMYWJlbCBmb3IgYSBidXR0b24gdGhhdCBhbGxvd3MgdGhlIHVzZXIgdG8gY29uc2VudCB0byAnICtcbiAgICAgICAgJ3Byb3ZpZGluZyB0aGVpciBjb29raWUgYWNjZXNzLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdEZWNsaW5lJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciBhIGJ1dHRvbiB0aGF0IGFsbG93cyB0aGUgdXNlciB0byBkaXNjb25zZW50IHRvICcgK1xuICAgICAgICAncHJvdmlkaW5nIHRoZWlyIGNvb2tpZSBhY2Nlc3MuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05USU5VRV9BTllXQVlfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0NvbnRpbnVlIEFueXdheScsXG4gICAgZGVzY3JpcHRpb246ICdCdXR0b24gbGFiZWwgdG8gYWxsb3cgdGhlIHVzZXIgdG8gY29udGludWUgZXZlbiBpZiB0aGV5ICcgK1xuICAgICAgICAnYXJlIG5vdCB1c2luZyBhIHN1cHBvcnRpdmUgYnJvd3Nlci4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdWaWV3IG9uIG9yaWdpbmFsIGRvbWFpbjonLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgZm9yIGEgaGVhZGluZyBvZiBhIGRpYWxvZyB0aGF0IHNob3dzIHRoZSB1c2VyIHRoZSAnICtcbiAgICAgICAgJ2RvbWFpbiBmcm9tIHdoaWNoIHRoZSBzdG9yeSBpcyBzZXJ2ZWQuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNb3JlIGFib3V0IEFNUCByZXN1bHRzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciBhIGxpbmsgdG8gZG9jdW1lbnRhdGlvbiBvbiBob3cgQU1QIGxpbmtzIGFyZSAnICtcbiAgICAgICAgJ2hhbmRsZWQuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVGFwIE5leHQnLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgaW5kaWNhdGluZyB0aGF0IHVzZXJzIGNhbiBuYXZpZ2F0ZSB0byB0aGUgbmV4dCAnICtcbiAgICAgICAgJ3BhZ2UsIGluIHRoZSBhbXAtc3RvcnkgaGludCBVSS4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVGFwIEJhY2snLFxuICAgIGRlc2NyaXB0aW9uOiAnTGFiZWwgaW5kaWNhdGluZyB0aGF0IHVzZXJzIGNhbiBuYXZpZ2F0ZSB0byB0aGUgcHJldmlvdXMgJyArXG4gICAgICAgICdwYWdlLCBpbiB0aGUgYW1wLXN0b3J5IGhpbnQgVUkuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnQ291bGQgbm90IGNvcHkgbGluayB0byBjbGlwYm9hcmQgOignLFxuICAgIGRlc2NyaXB0aW9uOiAnU3RyaW5nIHNob3duIGluIGEgZmFpbHVyZSBtZXNzYWdlIHRvIGluZm9ybSB0aGUgdXNlciB0aGF0ICcgK1xuICAgICAgICAnYSBsaW5rIGNvdWxkIG5vdCBiZSBzdWNjZXNzZnVsbHkgY29waWVkIHRvIHRoZWlyIGNsaXBib2FyZC4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaW5rIGNvcGllZCEnLFxuICAgIGRlc2NyaXB0aW9uOiAnU3RyaW5nIHNob3duIGluIGEgY29uZmlybWF0aW9uIG1lc3NhZ2UgdG8gaW5mb3JtIHRoZSB1c2VyICcgK1xuICAgICAgICAndGhhdCBhIGxpbmsgd2FzIHN1Y2Nlc3NmdWxseSBjb3BpZWQgdG8gdGhlaXIgY2xpcGJvYXJkLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMXToge1xuICAgIHN0cmluZzogJ0VtYWlsJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnZW1haWwuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAnRmFjZWJvb2snLFxuICAgIGRlc2NyaXB0aW9uOiAnQnV0dG9uIGxhYmVsIGZvciB0aGUgc2hhcmUgdGFyZ2V0IHRoYXQgc2hhcmVzIGEgbGluayB2aWEgJyArXG4gICAgICAgICdGYWNlYm9vay4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVU106IHtcbiAgICBzdHJpbmc6ICdHb29nbGUrJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnR29vZ2xlKy4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ0dldCBMaW5rJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnYnkgY29weWluZyBpdCB0byB0aGUgdXNlclxcJ3MgY2xpcGJvYXJkLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnTGlua2VkSW4uJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gICAgZGVzY3JpcHRpb246ICdCdXR0b24gbGFiZWwgZm9yIHRoZSBzaGFyZSB0YXJnZXQgdGhhdCBzaGFyZXMgYSBsaW5rIHZpYSAnICtcbiAgICAgICAgJ1BpbnRlcmVzdC4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAnU01TJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnU01TLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICdNb3JlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnZGVmZXJyYWwgdG8gdGhlIG9wZXJhdGluZyBzeXN0ZW1cXCdzIG5hdGl2ZSBzaGFyaW5nIGhhbmRsZXIuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gICAgZGVzY3JpcHRpb246ICdCdXR0b24gbGFiZWwgZm9yIHRoZSBzaGFyZSB0YXJnZXQgdGhhdCBzaGFyZXMgYSBsaW5rIHZpYSAnICtcbiAgICAgICAgJ1R1bWJsci4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICAgIGRlc2NyaXB0aW9uOiAnQnV0dG9uIGxhYmVsIGZvciB0aGUgc2hhcmUgdGFyZ2V0IHRoYXQgc2hhcmVzIGEgbGluayB2aWEgJyArXG4gICAgICAgICdUd2l0dGVyLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgICBkZXNjcmlwdGlvbjogJ0J1dHRvbiBsYWJlbCBmb3IgdGhlIHNoYXJlIHRhcmdldCB0aGF0IHNoYXJlcyBhIGxpbmsgdmlhICcgK1xuICAgICAgICAnV2hhdHNhcHAuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1NoYXJlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xhYmVsIGZvciB0aGUgZXhwYW5kYWJsZSBzaGFyZSB3aWRnZXQgc2hvd24gaW4gdGhlICcgK1xuICAgICAgICAnZGVza3RvcCBVSS4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRXhwYW5kIHlvdXIgd2luZG93IHRvIHZpZXcgdGhpcyBleHBlcmllbmNlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RleHQgZm9yIGEgd2FybmluZyBzY3JlZW4gdGhhdCBpbmZvcm1zIHRoZSB1c2VyIHRoYXQgJyArXG4gICAgICAgICdzdG9yaWVzIGFyZSBvbmx5IHN1cHBvcnRlZCBpbiBsYXJnZXIgYnJvd3NlciB3aW5kb3dzLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnWW91IG11c3QgZW5hYmxlIHRoZSBhbXAtc3RvcnkgZXhwZXJpbWVudCB0byB2aWV3IHRoaXMgY29udGVudC4nLFxuICAgIGRlc2NyaXB0aW9uOiAnVGV4dCBmb3IgYSB3YXJuaW5nIHNjcmVlbiB0aGF0IGluZm9ybXMgdGhlIHVzZXIgdGhhdCAnICtcbiAgICAgICAgJ3RoZXkgbXVzdCBlbmFibGUgYW4gZXhwZXJpbWVudCB0byB1c2Ugc3Rvcmllcy4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVGhlIHBhZ2UgaXMgYmVzdCB2aWV3ZWQgaW4gcG9ydHJhaXQgbW9kZScsXG4gICAgZGVzY3JpcHRpb246ICdUZXh0IGZvciBhIHdhcm5pbmcgc2NyZWVuIHRoYXQgaW5mb3JtcyB0aGUgdXNlciB0aGF0ICcgK1xuICAgICAgICAnc3RvcmllcyBhcmUgb25seSBzdXBwb3J0ZWQgaW4gcG9ydHJhaXQgb3JpZW50YXRpb24uJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdXZVxcJ3JlIHNvcnJ5LCBpdCBsb29rcyBsaWtlIHlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCAnICtcbiAgICAgICAgJ3RoaXMgZXhwZXJpZW5jZScsXG4gICAgZGVzY3JpcHRpb246ICdUZXh0IGZvciBhIHdhcm5pbmcgc2NyZWVuIHRoYXQgaW5mb3JtcyB0aGUgdXNlciB0aGF0ICcgK1xuICAgICAgICAndGhlaXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHN0b3JpZXMuJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIExhdGluIEFtZXJpY2FuIFNwYW5pc2ggc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBY2VwdGFyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlY2xpbmFyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVmVyIGVsIGRvbWluaW8gb3JpZ2luYWw6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNw6FzIHNvYnJlIGxvcyByZXN1bHRhZG9zIGRlIEFNUCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1RvcXVlIFNpZ3VpZW50ZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdUb3F1ZSBWb2x2ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdObyBzZSBwdWRvIGNvcGlhciBhbCBwb3J0YXBhcGVsZXMgZW5sYWNlIDooJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRW5sYWNlIGNvcGlhZG8hJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnRW1haWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICdGYWNlYm9vaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ0NvbnNlZ3VpciBlbmxhY2UnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LRURJTl06IHtcbiAgICBzdHJpbmc6ICdMaW5rZWRJbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVF06IHtcbiAgICBzdHJpbmc6ICdQaW50ZXJlc3QnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAnU01TJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNXToge1xuICAgIHN0cmluZzogJ03DoXMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UVU1CTFJdOiB7XG4gICAgc3RyaW5nOiAnVHVtYmxyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUl06IHtcbiAgICBzdHJpbmc6ICdHb3JqZW8nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdDb21wYXJ0aXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnQW1wbGlhciBzdSB2ZW50YW5hIHBhcmEgdmVyIGVzdGEgZXhwZXJpZW5jaWEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ0RlYmUgaGFiaWxpdGFyIGVsIGV4cGVyaW1lbnRvIGFtcCBwaXNvcyBwYXJhIHZlciBlc3RlIGNvbnRlbmlkbycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMYSBww6FnaW5hIHNlIHZlIG1lam9yIGVuIG1vZG8gdmVydGljYWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfVU5TVVBQT1JURURfQlJPV1NFUl9URVhUXToge1xuICAgIHN0cmluZzogJ0xvIHNlbnRpbW9zLCBwYXJlY2UgcXVlIHN1IG5hdmVnYWRvciBubyBzb3BvcnRhIGVzdGEgZXhwZXJpZW5jaWEnLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgU3BhbmlzaCBzdHJpbmdzLlxuICogQGNvbnN0IHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9BQ0NFUFRfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0FjZXB0YXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfREVDTElORV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnRGVjbGluYXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdWZXIgZWwgZG9taW5pbyBvcmlnaW5hbDonLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MSU5LXToge1xuICAgIHN0cmluZzogJ03DoXMgc29icmUgbG9zIHJlc3VsdGFkb3MgZGUgQU1QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVG9xdWUgU2lndWllbnRlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX1BSRVZJT1VTX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1RvcXVlIFZvbHZlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUXToge1xuICAgIHN0cmluZzogJ05vIHNlIHB1ZG8gY29waWFyIGFsIHBvcnRhcGFwZWxlcyBlbmxhY2UgOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdFbmxhY2UgY29waWFkbyEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9FTUFJTF06IHtcbiAgICBzdHJpbmc6ICdFbWFpbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnQ29uc2VndWlyIGVubGFjZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnTcOhcycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICdUdW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ0dvcmplbycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0NvbXBhcnRpcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdBbXBsaWFyIHN1IHZlbnRhbmEgcGFyYSB2ZXIgZXN0YSBleHBlcmllbmNpYScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRGViZSBoYWJpbGl0YXIgZWwgZXhwZXJpbWVudG8gYW1wIHBpc29zIHBhcmEgdmVyIGVzdGUgY29udGVuaWRvJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhUXToge1xuICAgIHN0cmluZzogJ0xhIHDDoWdpbmEgc2UgdmUgbWVqb3IgZW4gbW9kbyB2ZXJ0aWNhbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTG8gc2VudGltb3MsIHBhcmVjZSBxdWUgc3UgbmF2ZWdhZG9yIG5vIHNvcG9ydGEgZXN0YSBleHBlcmllbmNpYScsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBDYW5hZGlhbiBGcmVuY2ggc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBY2NlcHRleicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdEw6ljbGluZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdWb2lyIHN1ciBsZSBkb21haW5lIG9yaWdpbmFsOicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnRW4gc2F2b2lyIHBsdXMgc3VyIGxlcyByw6lzdWx0YXRzIEFNUCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0FwcHV5ZXogc3VyIFN1aXZhbnQnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQXBwdXlleiBzdXIgUmV0b3VyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnSW1wb3NzaWJsZSBkZSBjb3BpZXIgbGUgbGllbiBkYW5zIGxlIHByZXNzZS1wYXBpZXIgOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaWVuIGNvcGnDqSAhJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnQ291cnJpZWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICdGYWNlYm9vaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ09idGVuaXIgbGUgbGllbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnUGx1cycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICdUdW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdQYXJ0YWdlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdGYWlyZSDDqWxhcmdpciB2b3RyZSBmZW7DqnRyZSBwb3VyIHZvaXIgY2V0dGUgZXhww6lyaWVuY2UnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ1ZvdXMgZGV2ZXogYWN0aXZlciBsXFwnZXhww6lyaWVuY2UgYW1wLXN0b3J5IHBvdXIgYWZmaWNoZXIgY2UgJyArXG4gICAgICAgICdjb250ZW51JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhUXToge1xuICAgIHN0cmluZzogJ0xhIHBhZ2UgZXN0IG1pZXV4IHZpc3VhbGlzw6llIGVuIG1vZGUgcG9ydHJhaXQnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfVU5TVVBQT1JURURfQlJPV1NFUl9URVhUXToge1xuICAgIHN0cmluZzogJ05vdXMgc29tbWVzIGTDqXNvbMOpcywgaWwgc2VtYmxlIHF1ZSB2b3RyZSBuYXZpZ2F0ZXVyIG5lIHN1cHBvcnRlICcgK1xuICAgICAgICAncGFzIGNldHRlIGV4cMOpcmllbmNlJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIEZyZW5jaCBzdHJpbmdzLlxuICogQGNvbnN0IHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9BQ0NFUFRfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0FjY2VwdGV6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0TDqWNsaW5lcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1ZvaXIgc3VyIGxlIGRvbWFpbmUgb3JpZ2luYWw6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdFbiBzYXZvaXIgcGx1cyBzdXIgbGVzIHLDqXN1bHRhdHMgQU1QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQXBwdXlleiBzdXIgU3VpdmFudCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBcHB1eWV6IHN1ciBSZXRvdXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdJbXBvc3NpYmxlIGRlIGNvcGllciBsZSBsaWVuIGRhbnMgbGUgcHJlc3NlLXBhcGllciA6KCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfU1VDQ0VTU19URVhUXToge1xuICAgIHN0cmluZzogJ0xpZW4gY29wacOpICEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9FTUFJTF06IHtcbiAgICBzdHJpbmc6ICdDb3VycmllbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnT2J0ZW5pciBsZSBsaWVuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU5dOiB7XG4gICAgc3RyaW5nOiAnTGlua2VkSW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1RdOiB7XG4gICAgc3RyaW5nOiAnUGludGVyZXN0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TXToge1xuICAgIHN0cmluZzogJ1NNUycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICdQbHVzJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAnVHdpdHRlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1BhcnRhZ2VyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ0ZhaXJlIMOpbGFyZ2lyIHZvdHJlIGZlbsOqdHJlIHBvdXIgdm9pciBjZXR0ZSBleHDDqXJpZW5jZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVm91cyBkZXZleiBhY3RpdmVyIGxcXCdleHDDqXJpZW5jZSBhbXAtc3RvcnkgcG91ciBhZmZpY2hlciBjZSAnICtcbiAgICAgICAgJ2NvbnRlbnUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTGEgcGFnZSBlc3QgbWlldXggdmlzdWFsaXPDqWUgZW4gbW9kZSBwb3J0cmFpdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTm91cyBzb21tZXMgZMOpc29sw6lzLCBpbCBzZW1ibGUgcXVlIHZvdHJlIG5hdmlnYXRldXIgbmUgc3VwcG9ydGUgJyArXG4gICAgICAgICdwYXMgY2V0dGUgZXhww6lyaWVuY2UnLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgSGluZGkgc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfgpLjgpY3gpLXgpYDgpJXgpL7gpLAg4KSV4KSw4KSo4KS+JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+CkheCkuOCljeCkteClgOCkleCkvuCksCDgpJXgpLDgpKjgpL4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfgpK7gpYLgpLIg4KSh4KWL4KSu4KWH4KSoIOCkquCksCDgpKbgpYfgpJbgpYfgpII6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICfgpI/gpI/gpK7gpKrgpYAg4KSq4KSw4KS/4KSj4KS+4KSu4KWL4KSCIOCkleClhyDgpKzgpL7gpLDgpYcg4KSu4KWH4KSCIOCkheCkp+Ckv+CklSDgpJzgpL7gpKjgpJXgpL7gpLDgpYAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdOZXh0IOCkn+CliOCkqiDgpJXgpLDgpYfgpIInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQmFjayDgpJ/gpYjgpKog4KSV4KSw4KWH4KSCJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn4KSV4KWN4KSy4KS/4KSq4KSs4KWL4KSw4KWN4KShIOCkquCksCDgpLLgpL/gpILgpJUg4KSV4KWJ4KSq4KWAIOCkqOCkueClgOCkgiDgpJXgpL/gpK/gpL4g4KSc4KS+IOCkuOCkleCkpOCkviDgpLngpYggOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfgpLLgpL/gpILgpJUg4KSV4KWJ4KSq4KWAIOCkleCkv+Ckr+CkviDgpJfgpK/gpL4hJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAn4KSI4KSu4KWH4KSyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAn4KSr4KWH4KS44KSs4KWB4KSVJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAn4KSX4KWC4KSX4KSyICsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ+CksuCkv+CkguCklSDgpJXgpYsg4KSq4KWN4KSw4KS+4KSq4KWN4KSkIOCkleCksOCliycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ+CksuCkv+CkguCkleCljeCkoeCkh+CkqCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVF06IHtcbiAgICBzdHJpbmc6ICfgpKrgpL/gpKjgpJ/gpYfgpLDgpYfgpLjgpY3gpJ8nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAn4KSP4KS44KSP4KSu4KSP4KS4JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNXToge1xuICAgIHN0cmluZzogJ+CkheCkp+Ckv+CklScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICfgpJ/gpK7gpY3gpKzgpLLgpLAgJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUl06IHtcbiAgICBzdHJpbmc6ICfgpJ/gpY3gpLXgpL/gpJ/gpLAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICfgpLXgpL7gpJ/gpY3gpLjgpJDgpKonLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn4KS24KWH4KSv4KSwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ+Ckh+CkuCDgpIXgpKjgpYHgpK3gpLUg4KSV4KWLIOCkpuClh+CkluCkqOClhyDgpJXgpYcg4KSy4KS/4KSPIOCkheCkquCkqOClgCDgpLXgpL/gpILgpKHgpYsg4KSV4KS+IOCkteCkv+CkuOCljeCkpOCkvuCksCDgpJXgpLDgpYfgpIInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ+CkhuCkquCkleCliyDgpIfgpLggY29udGVudCDgpJXgpYsg4KSm4KWH4KSW4KSo4KWHIOCkleClhyDgpLLgpL/gpI8g4KSP4KSu4KSq4KWALeCkuOCljeCkn+Cli+CksOClgCDgpKrgpY3gpLDgpK/gpYvgpJcg4KSV4KWLIOCkuOCkleCljeCkt+CkriAnICtcbiAgICAgICAgJ+CkleCksOCkqOCkviDgpLngpYvgpJfgpL4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn4KSq4KWH4KScIOCkuOCkrOCkuOClhyDgpIXgpJrgpY3gpJvgpL4g4KSq4KWL4KSw4KWN4KSf4KWN4KSw4KWH4KSfIOCkruCli+CkoSDgpK7gpYfgpIIg4KSm4KWH4KSW4KS+IOCknOCkviDgpLjgpJXgpKTgpL4g4KS54KWIICcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn4KS54KSu4KWH4KSCIOCkluClh+CkpiDgpLngpYgsIOCkkOCkuOCkviDgpLLgpJfgpKTgpL4g4KS54KWIIOCkleCkvyDgpIbgpKrgpJXgpL4g4KSs4KWN4KSw4KS+4KSJ4KSc4KS84KSwIOCkh+CkuCDgpIXgpKjgpYHgpK3gpLUg4KSV4KS+IOCkuOCkruCksOCljeCkpeCkqCAnICtcbiAgICAgICAgJ+CkqOCkueClgOCkgiDgpJXgpLDgpKTgpL4g4KS54KWIJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIEluZG9uZXNpYW4gc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdNZW5lcmltYScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdEZWNsaW5lJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnTGloYXQgcGFkYSBkb21haW4gYXNsaTonLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MSU5LXToge1xuICAgIHN0cmluZzogJ0xlYmloIGxhbmp1dCB0ZW50YW5nIGhhc2lsIEFNUCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ3Rla2FuIEJlcmlrdXRueWEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAndGVrYW4gS2VtYmFsaScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUXToge1xuICAgIHN0cmluZzogJ3RpZGFrIGJpc2EgY29weSBsaW5rIGtlIGNsaXBib2FyZCA6KCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfU1VDQ0VTU19URVhUXToge1xuICAgIHN0cmluZzogJ0xpbmsgZGljb3B5IScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMXToge1xuICAgIHN0cmluZzogJ0UtbWFpbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnRGFwYXRrYW4gbGluaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ3BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnU2VsZWJpaG55YScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICd0dW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdTaGFyZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdCZXNhcmthbiBicm93c2VyIHdpbmRvdyBhbmRhIHVudHVrIG1lbmdndW5ha2FuIGZpdHVyIGluaScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnQW5kYSBoYXJ1cyBtZW5nYWt0aWZrYW4gZWtzcGVyaW1lbiBhbXAtc3RvcnkgdW50dWsgbWVsaWhhdCAnICtcbiAgICAgICAgJ2tvbnRlbiBpbmknLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnSGFsYW1hbiBpbmkgaGFueWEgZGFwYXQgZGlsaWhhdCBkZW5nYW4gbWVuZ2d1bmFrYW4gcG9ydHJhaXQgbW9kZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTWFhZiwgc2VwZXJ0aW55YSBicm93c2VyIGFuZGEgdGlkYWsgbWVuZHVrdW5nIGZpdHVyIGluaScsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBJdGFsaWFuIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWNjZXR0YScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdSaWZpdXRvJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVmlzdWFsaXp6YSBzdWwgZG9taW5pbyBvcmlnaW5hbGU6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdVbHRlcmlvcmkgaW5mb3JtYXppb25pIHN1aSByaXN1bHRhdGkgQU1QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVG9jY2EgQXZhbnRpJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX1BSRVZJT1VTX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1RvY2NhIEluZGlldHJvJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnSW1wb3NzaWJpbGUgY29waWFyZSBpbCBsaW5rIG5lZ2xpIGFwcHVudGkgOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaW5rIGNvcGlhdG8hJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnRW1haWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICdGYWNlYm9vaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ090dGllbmkgTGluaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnQWx0cm8nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UVU1CTFJdOiB7XG4gICAgc3RyaW5nOiAnVHVtYmxyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUl06IHtcbiAgICBzdHJpbmc6ICdUd2l0dGVyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfV0hBVFNBUFBdOiB7XG4gICAgc3RyaW5nOiAnV2hhdHNhcHAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ29uZGl2aWRpJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ0VzcGFuZGkgbGEgZmluZXN0cmEgcGVyIHZlZGVyZSBxdWVzdG8gY29udGVudXRvJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdEZXZpIGF0dGl2YXJlIGxcXCdlc3BlcmltZW50byBhbXAtc3RvcnkgcGVyIHZpc3VhbGl6emFyZSBxdWVzdG8gJyArXG4gICAgICAgICdjb250ZW51dG8nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTGEgcGFnaW5hIHZpZW5lIHZpc3VhbGl6emF0YSBhbCBtZWdsaW8gaW4gbW9kYWxpdMOgIHZlcnRpY2FsZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnU2lhbW8gc3BpYWNlbnRpLCBzZW1icmEgY2hlIGlsIHR1byBicm93c2VyIG5vbiBzdXBwb3J0aSBxdWVzdG8gJyArXG4gICAgICAgICdjb250ZW51dG8nLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgSmFwYW5lc2Ugc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICflj5foq77jgZnjgosnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfREVDTElORV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn6L6e6YCA44GZ44KLJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn5YWD44Gu44OJ44Oh44Kk44Oz44Gn6KaL44KLJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdBTVDjga7ntZDmnpzjgpLjgoLjgaPjgajopovjgosnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfjgr/jg4Pjg5fjgZfjgabmrKHjg5rjg7zjgrjjgbgnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn44K/44OD44OX44GX44Gm5YWo44Oa44O844K444G4JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn44Oq44Oz44Kv44KS44Kv44Oq44OD44OX44Oc44O844OJ44Gr44Kz44OU44O844Gn44GN44G+44Gb44KT44Gn44GX44Gf44CCJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn44Oq44Oz44Kv44GM44Kz44OU44O844GV44KM44G+44GX44Gf77yBJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAn44Oh44O844OrJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAnRmFjZWJvb2snLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVU106IHtcbiAgICBzdHJpbmc6ICdHb29nbGUrJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS106IHtcbiAgICBzdHJpbmc6ICfjg6rjg7Pjgq/jgpLjgrLjg4Pjg4gnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LRURJTl06IHtcbiAgICBzdHJpbmc6ICdMaW5rZWRJbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVF06IHtcbiAgICBzdHJpbmc6ICdQaW50ZXJlc3QnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAnU01TJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNXToge1xuICAgIHN0cmluZzogJ+OBneOBruS7licsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICdUdW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICflhbHmnIknLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn44GT44KM44KS6KaL44KL44Gf44KB44Gr44Gv44CB44Km44Kj44Oz44OJ44Km44KS5ouh5aSn44GX44Gm44GP44Gg44GV44GE44CCJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfjgZPjga7lhoXlrrnjgpLopovjgovjgavjga/jgIHjgIxhbXAtc3RvcnnjgI3jga7lrp/pqJPjgpLmnInlirnjgavjgZfjgabjgY/jgaDjgZXjgYTjgIInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn44GT44Gu44Oa44O844K444Gv57im44Oi44O844OJ44Gr44GZ44KL44Go44KI44GP6KaL44GI44G+44GZ44CCJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfjgZnjgb/jgb7jgZvjgpPjgIHjgZTkvb/nlKjjga7jg5bjg6njgqbjgrbjgavjga/lr77lv5zjgZfjgabjgYTjgb7jgZvjgpPjgIInLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgS29yZWFuIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn7IiY6529JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+qxsOygiCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+yYpOumrOyngOuEkCDrj4TrqZTsnbjsnLzroZwg67O06riwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdBTVAg6rKw6rO8IOuNlCDslYzslYTrs7TquLAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfri6TsnYzsnLzroZwg6rCA6riwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX1BSRVZJT1VTX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+ydtOyghOycvOuhnCDqsIDquLAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICftgbTrpr3rs7Trk5zsl5Ag66eB7YGs66W8IOuzteyCrO2VoCDsiJgg7JeG7Iq164uI64ukJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn66eB7YGs6rCAIOuzteyCrOuQmOyXiOyKteuLiOuLpCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMXToge1xuICAgIHN0cmluZzogJ+ydtOuplOydvCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ+2OmOydtOyKpOu2gScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ+unge2BrCDrs7XsgqztlZjquLAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LRURJTl06IHtcbiAgICBzdHJpbmc6ICdMaW5rZWRJbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVF06IHtcbiAgICBzdHJpbmc6ICdQaW50ZXJlc3QnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAn66y47J6QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNXToge1xuICAgIHN0cmluZzogJ+uNlOuztOq4sCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICdUdW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ+2KuOychO2EsCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+qzteycoO2VmOq4sCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdzdG9yaWVz64qUIO2BsCDtmZTrqbTsl5DshJzrp4wg7KCc6rO165Cp64uI64ukLicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn7J20IOy9mO2FkOy4oOulvCDrs7Tsi5zroKTrqbQgYW1wLXN0b3J5IGV4cGVyaW1lbnTrpbwg7ZeI7Jqp7ZWY7IWU7JW866eMIO2VqeuLiOuLpCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdzdG9yaWVz64qUIOyEuOuhnCDrsKntlqXsl5Ag7LWc7KCB7ZmUIOuQmOyWtCDsnojsirXri4jri6QuICcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn7KOE7Iah7ZWp64uI64ukLiDsgqzsmqntlZjqs6Ag6rOE7IugIOu4jOudvOyasOyggOuKlCBzdG9yaWVz66W8IOyEnO2PrO2KuCDtlZjsp4Ag7JWK7Iq164uI64ukLiAnLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgRHV0Y2ggc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBY2NlcHRlZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfREVDTElORV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnV2lqcyBhZicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0Jla2lqayBvcCBvcmlnaW5lZWwgZG9tZWluOicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnTWVlciBvdmVyIEFNUC1yZXN1bHRhdGVuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVGlrIG9wIFZvbGdlbmRlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX1BSRVZJT1VTX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1RpayBvcCBUZXJ1ZycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUXToge1xuICAgIHN0cmluZzogJ0xpbmsga29uIG5pZXQgbmFhciBuYWFyIGhldCBrbGVtYm9yZCBnZWtvcGllZXJkIHdvcmRlbiA6KCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfU1VDQ0VTU19URVhUXToge1xuICAgIHN0cmluZzogJ0xpbmsgZ2Vrb3BpZWVyZCEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9FTUFJTF06IHtcbiAgICBzdHJpbmc6ICdFbWFpbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnTGluayBzZWxlY3RlcmVuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU5dOiB7XG4gICAgc3RyaW5nOiAnTGlua2VkSW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1RdOiB7XG4gICAgc3RyaW5nOiAnUGludGVyZXN0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TXToge1xuICAgIHN0cmluZzogJ1NNUycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICdNZWVyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAnVHdpdHRlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlZWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVmVyZ3Jvb3QgamUgdmVuc3RlciBvbSBkZXplIGluaG91ZCB0ZSBiZWtpamtlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVSBtb2V0IGhldCBhbXAtc3RvcnktZXhwZXJpbWVudCBpbnNjaGFrZWxlbiBvbSBkZXplIGluaG91ZCB0ZSAnICtcbiAgICAgICAgJ2t1bm5lbiBiZWtpamtlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdEZSBwYWdpbmEga2FuIGhldCBiZXN0IGJla2VrZW4gd29yZGVuIGluIHBvcnRyZXRtb2R1cycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnSGVsYWFzIGxpamt0IGhldCBlcm9wIGRhdCB1dyBicm93c2VyIGRlemUgaW5ob3VkIG5pZXQgb25kZXJzdGV1bnQnLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWYsIExvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nO1xuXG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZyBidW5kbGUgdXNlZCBmb3IgTm9yd2VnaWFuIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWtzZXB0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfREVDTElORV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQXZzbMOlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVmlzIHDDpSBkZXQgb3BwcmlubmVsaWdlIGRvbWVuZXQ6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNZXIgb20gQU1QLXJlc3VsdGF0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdUcnlrayBuZXN0ZScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdUcnlrayB0aWxiYWtlJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnS3VubmUgaWtrZSBrb3BpZXJlIGxpbmsgdGlsIHV0a2xpcHBzdGF2bGUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaW5rIGtvcGllcnQhJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnRXBvc3QnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICdGYWNlYm9vaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ0tvcGllciBsaW5rIHRpbCB1dGtsaXBwc3RhdmxlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnTWVyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAnVHdpdHRlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0RlbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdVdHZpZCB2aW5kdWV0IGZvciDDpSBzZSBkZW5uZSBvcHBsZXZlbHNlbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRHUgbcOlIGFrdGl2ZXJlIGFtcC1zdG9yeS1la3NwZXJpbWVudGV0IGZvciDDpSBmw6UgdGlsZ2FuZyB0aWwgJyArXG4gICAgICAgICdkZXR0ZSBpbm5ob2xkZXQnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnRGVubmUgc2lkZW4gdmlzZXMgYmVzdCBpIHBvcnRyZXR0bW9kdXMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfVU5TVVBQT1JURURfQlJPV1NFUl9URVhUXToge1xuICAgIHN0cmluZzogJ0Jla2xhZ2VyLCBkZXQgc2VyIHV0IGZvciBhdCBuZXR0bGVzZXJlbiBkaW4gaWtrZSBzdMO4dHRlciBkZW5uZSAnICtcbiAgICAgICAgJ29wcGxldmVsc2VuJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIEJyYXppbGlhbiBQb3J0dWd1ZXNlIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQWNlaXRhcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdSZWN1c2FyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVmVyIG5vIGRvbcOtbmlvIG9yaWdpbmFsOicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnTWFpcyBzb2JyZSBvcyByZXN1bHRhZG9zIEFNUCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1ByZXNzaW9uZSBBdmFuw6dhcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdQcmVzc2lvbmUgVm9sdGFyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTsOjbyBmb2kgcG9zc8OtdmVsIG8gY29waWFyIGxpbmsgcGFyYSDDoXJlYSBkZSB0cmFuc2ZlcsOqbmNpYSA6KCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfU1VDQ0VTU19URVhUXToge1xuICAgIHN0cmluZzogJ0xpbmsgY29waWFkbyEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9FTUFJTF06IHtcbiAgICBzdHJpbmc6ICdFbWFpbCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnT2J0ZXIgbGluaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnTWFpcycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICdUdW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdDb21wYXJ0aWxoYXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnQW1wbGllIHN1YSBqYW5lbGEgcGFyYSB2ZXIgZXN0YSBleHBlcmnDqm5jaWEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ1ZvY8OqIGRldmUgaGFiaWxpdGFyIG8gZXhwZXJpbWVudG8gYW1wLXN0b3J5IHBhcmEgdmlzdWFsaXphciAnICtcbiAgICAgICAgJ2VzdGUgY29udGXDumRvJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhUXToge1xuICAgIHN0cmluZzogJ0EgcMOhZ2luYSDDqSBtZWxob3IgdmlzdWFsaXphZGEgZW0gbW9kbyByZXRyYXRvJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMYW1lbnRhbW9zLCBtYXMgcGFyZWNlIHF1ZSBzZXUgbmF2ZWdhZG9yIG7Do28gc3Vwb3J0YSBlc3NhICcgK1xuICAgICAgICAnZXhwZXJpw6puY2lhJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIFBvcnR1Z3Vlc2Ugc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdBY2VpdGFyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1JlY3VzYXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdWZXIgbm8gZG9tw61uaW8gb3JpZ2luYWw6JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdNYWlzIHNvYnJlIG9zIHJlc3VsdGFkb3MgQU1QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVG9xdWUgZW0gQXZhbsOnYXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnVG9xdWUgVm9sdGFyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTsOjbyBmb2kgcG9zc8OtdmVsIGNvcGlhciBsaW5rIHBhcmEgw6FyZWEgZGUgdHJhbnNmZXLDqm5jaWEgOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaW5rIGNvcGlhZG8hJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnRW1haWwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICdGYWNlYm9vaycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0dPT0dMRV9QTFVTXToge1xuICAgIHN0cmluZzogJ0dvb2dsZSsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LXToge1xuICAgIHN0cmluZzogJ09idGVyIGxpbmsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LRURJTl06IHtcbiAgICBzdHJpbmc6ICdMaW5rZWRJbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1BJTlRFUkVTVF06IHtcbiAgICBzdHJpbmc6ICdQaW50ZXJlc3QnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TTVNdOiB7XG4gICAgc3RyaW5nOiAnU01TJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNXToge1xuICAgIHN0cmluZzogJ01haXMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UVU1CTFJdOiB7XG4gICAgc3RyaW5nOiAnVHVtYmxyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUl06IHtcbiAgICBzdHJpbmc6ICdUd2l0dGVyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfV0hBVFNBUFBdOiB7XG4gICAgc3RyaW5nOiAnV2hhdHNhcHAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ29tcGFydGlsaGFyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ0FtcGxpZSBzdWEgamFuZWxhIHBhcmEgdmVyIGVzdGEgZXhwZXJpw6puY2lhJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdWb2PDqiBkZXZlIGhhYmlsaXRhciBvIGV4cGVyaW1lbnRvIGFtcC1zdG9yeSBwYXJhIHZpc3VhbGl6YXIgJyArXG4gICAgICAgICdlc3RlIGNvbnRlw7pkbycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVF06IHtcbiAgICBzdHJpbmc6ICdBIHDDoWdpbmEgw6kgbWVsaG9yIHZpc3VhbGl6YWRhIGVtIG1vZG8gcmV0cmF0bycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTGFtZW50YW1vcywgbWFzIHBhcmVjZSBxdWUgc2V1IG5hdmVnYWRvciBuw6NvIHN1cG9ydGEgZXNzYSAnICtcbiAgICAgICAgJ2V4cGVyacOqbmNpYScsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBSdXNzaWFuIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn0J/RgNC40L3Rj9GC0YwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfREVDTElORV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn0J7RgtC60LDQt9Cw0YLRjNGB0Y8nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfQodC8LiDQuNGB0YLQvtGH0L3QuNC6OicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xJTktdOiB7XG4gICAgc3RyaW5nOiAn0J/QvtC00YDQvtCx0L3QtdC1INC+INGA0LXQt9GD0LvRjNGC0LDRgtCw0YUgQU1QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn0JLQv9C10YDRkdC0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX1BSRVZJT1VTX0xBQkVMXToge1xuICAgIHN0cmluZzogJ9Cd0LDQt9Cw0LQnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfQndC1INGD0LTQsNC70L7RgdGMINGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0YHRgdGL0LvQutGDINCyINCx0YPRhNC10YAg0L7QsdC80LXQvdCwIDooJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn0KHRgdGL0LvQutCwINGB0LrQvtC/0LjRgNC+0LLQsNC90LAhJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAn0K3Quy4g0L/QvtGH0YLQsCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAn0JrQvtC/0LjRgNC+0LLQsNGC0Ywg0YHRgdGL0LvQutGDJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU5dOiB7XG4gICAgc3RyaW5nOiAnTGlua2VkSW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1RdOiB7XG4gICAgc3RyaW5nOiAnUGludGVyZXN0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TXToge1xuICAgIHN0cmluZzogJ9Ch0JzQoScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICfQldGJ0ZEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UVU1CTFJdOiB7XG4gICAgc3RyaW5nOiAnVHVtYmxyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUl06IHtcbiAgICBzdHJpbmc6ICdUd2l0dGVyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfV0hBVFNBUFBdOiB7XG4gICAgc3RyaW5nOiAnV2hhdHNhcHAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn0J/QvtC00LXQu9C40YLRjNGB0Y8nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn0J/QvtC70L3Ri9C5INC/0YDQvtGB0LzQvtGC0YAg0LLQvtC30LzQvtC20LXQvSDRgtC+0LvRjNC60L4g0L/RgNC4INGA0LDQt9Cy0LXRgNC90YPRgtC+0Lwg0L7QutC90LUg0LHRgNCw0YPQt9C10YDQsCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn0JTQu9GPINC00LDQu9GM0L3QtdC50YjQtdCz0L4g0L/RgNC+0YHQvNC+0YLRgNCwINCy0Ysg0LTQvtC70LbQvdGLINC30LDQs9GA0YPQt9C40YLRjCBhbXAtc3RvcnkgJyArXG4gICAgICAgICfRjdC60YHQv9C10YDQuNC80LXQvdGCJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhUXToge1xuICAgIHN0cmluZzogJ9CU0LvRjyDQvtC/0YLQuNC80LDQu9GM0L3QvtCz0L4g0L/RgNC+0YHQvNC+0YLRgNCwINCy0YvQsdC10YDQuNGC0LUg0L/QvtGA0YLRgNC10YLQvdGL0Lkg0YDQtdC20LjQvCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn0JjQt9Cy0LjQvdC40YLQtSwg0L/QvtGF0L7QttC1LCDQstCw0Ygg0LHRgNCw0YPQt9C10YAg0L3QtSDQv9C+0LTQtNC10YDQttC40LLQsNC10YIg0Y3RgtGDINGE0YPQvdC60YbQuNGOJyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIFR1cmtpc2ggc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdLYWJ1bCBlZGl5b3J1bScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdSZWRkZWRpeW9ydW0nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdPcmlqaW5hbCBhbGFuZGEgZ8O2csO8bnTDvGxlOicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfRE9NQUlOX0RJQUxPR19IRUFESU5HX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnQU1QIHNvbnXDp2xhcsSxIGhha2vEsW5kYSBkYWhhIGZhemxhIGJpbGdpJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnxLBsZXJpIGTDvMSfbWVzaW5lIGRva3VudW4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnR2VyaSBkw7zEn21lc2luZSBkb2t1bnVuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnTGluayBwYW5veWEga29weWFsYW5hbWFkxLEgOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdMaW5rIGtvcHlhbGFuZMSxIDooJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAnRS1wb3N0YScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LXToge1xuICAgIHN0cmluZzogJ0ZhY2Vib29rJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAnR29vZ2xlKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAnTGlua2kga29weWFsYScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnRGFoYScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUl06IHtcbiAgICBzdHJpbmc6ICdUdW1ibHInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UV0lUVEVSXToge1xuICAgIHN0cmluZzogJ1R3aXR0ZXInLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICdQYXlsYcWfJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ0J1IGRlbmV5aW1pIGfDtnJlYmlsbWVrIGnDp2luIHBlbmNlcmVuaXppIGdlbmnFn2xldGluaXouJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdCdSBnw7Zyw7xuw7xtw7wgYcOnYWJpbG1layBpw6dpbiBhbXAtc3RvcnkgZGVuZXlpbmkgJyArXG4gICAgICAgICdldGtpbmxlxZ90aXJtZWxpc2luaXouJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhUXToge1xuICAgIHN0cmluZzogJ0J1IHNheWZhIHBvcnRyZSBtb2R1bmRhIGVuIGl5aSBnw7Zyw7xudMO8bGVuaXIuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfDnHpnw7xuw7x6LCB0YXJhecSxY8SxbsSxeiBidSBkZW5leWltaSBkZXN0ZWtsZW1peW9yIGdpYmkgZ8O2csO8bsO8eW9yLicsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0J1bmRsZURlZiwgTG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5cblxuLyoqXG4gKiBMb2NhbGl6ZWQgc3RyaW5nIGJ1bmRsZSB1c2VkIGZvciBWaWV0bmFtZXNlIHN0cmluZ3MuXG4gKiBAY29uc3QgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ2jDosyBcCBuaMOizKNuJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ1Thu6sgY2jhu5FpJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnWGVtIHRyw6puIG1pw6rMgG4gZ8O0zIFjJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICdUaMOqbSB2w6rMgCBrw6rMgXQgcXVhzIkgQU1QJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ISU5UX1VJX05FWFRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ2hhzKNtIGvDqsyBIHRpw6rMgXAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAnQ2hhzKNtIHRyxqHMiSBsYcyjaScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUXToge1xuICAgIHN0cmluZzogJ0tow7RuZyB0aMOqzIkgc2FvIGNoZcyBcCDEkXXGocyAbmcgZMOizINuIMSRw6rMgW4gY2xpcGJvYXJkIDooJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnxJB1xqHMgG5nIGTDosyDbiDEkWHMgyBzYW8gY2hlzIFwIScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMXToge1xuICAgIHN0cmluZzogJ0VtYWlsJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAnRmFjZWJvb2snLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVU106IHtcbiAgICBzdHJpbmc6ICdHb29nbGUrJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS106IHtcbiAgICBzdHJpbmc6ICdMw6LMgXkgxJF1xqHMgG5nIGTDosyDbicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOXToge1xuICAgIHN0cmluZzogJ0xpbmtlZEluJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICdTTVMnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAnTsawzINhJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAnVHdpdHRlcicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1dIQVRTQVBQXToge1xuICAgIHN0cmluZzogJ1doYXRzYXBwJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ0NoaWEgc2XMiScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdNxqHMiSByw7TMo25nIGPGsMyJYSBzw7TMiSBjdcyJYSBiYcyjbiDEkcOqzIkgeGVtIHRoxrDMiSBuZ2hpw6rMo20gbmHMgHknLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUXToge1xuICAgIHN0cmluZzogJ0JhzKNuIHBoYcyJaSBjaG8gcGhlzIFwIHRoxrDMiSBuZ2hpw6rMo20gYW1wLXN0b3J5IMSRw6rMiSB4ZW0gbsO0zKNpIGR1bmcgJyArXG4gICAgICAgICduYcyAeSAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAnVHJhbmcgxJF1xqHMo2MgeGVtIHTDtMyBdCBuaMOizIF0IGLEg8yAbmcgY2jDqsyBIMSRw7TMoyBjaMOibiBkdW5nJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICdDaHXMgW5nIHTDtGkgeGluIGzDtMyDaSwgaGnMgG5oIG5oxrAgbGHMgCB0cmnMgG5oIGR1ecOqzKN0IGN1zIlhICcgK1xuICAgICAgICAnYmHMo24ga2jDtG5nIGjDtMyDIHRyxqHMoyB0aMawzIkgbmdoacOqzKNtIG5hzIB5JyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIHRyYWRpdGlvbmFsIENoaW5lc2Ugc3RyaW5ncy5cbiAqIEBjb25zdCB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfQUNDRVBUX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfmjqXlj5cnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlNFTlRfREVDTElORV9CVVRUT05fTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn5ouS57WVJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn5Zyo5Y6f5aeL57ay5Z+f5LiK5p+l55yLJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOS106IHtcbiAgICBzdHJpbmc6ICfmm7TlpJrpl5zmlrxBTVDnmoTntZDmnpwnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfkuIvkuIDmraUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn6L+U5ZueJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9GQUlMVVJFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn54Sh5rOV6KSH6KO96YCj57WQ5Yiw5Ymq6LK854mIIDooJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn6YCj5o6l6KSH6KO95oiQ5Yqf77yBJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRU1BSUxdOiB7XG4gICAgc3RyaW5nOiAn6Zu76YO1JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfRkFDRUJPT0tdOiB7XG4gICAgc3RyaW5nOiAn6IeJ5pu4JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVNdOiB7XG4gICAgc3RyaW5nOiAn6LC35q2MKycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktdOiB7XG4gICAgc3RyaW5nOiAn542y5Y+W6YCj5o6lJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU5dOiB7XG4gICAgc3RyaW5nOiAn6aCY6IuxJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUXToge1xuICAgIHN0cmluZzogJ1BpbnRlcmVzdCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNU106IHtcbiAgICBzdHJpbmc6ICfnn63kv6EnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU1dOiB7XG4gICAgc3RyaW5nOiAn5pu05aSaJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSXToge1xuICAgIHN0cmluZzogJ1R1bWJscicsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVJdOiB7XG4gICAgc3RyaW5nOiAn5o6o54m5JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfV0hBVFNBUFBdOiB7XG4gICAgc3RyaW5nOiAnV2hhdHNhcHAnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NZU1RFTV9MQVlFUl9TSEFSRV9XSURHRVRfTEFCRUxdOiB7XG4gICAgc3RyaW5nOiAn5YiG5LqrJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0RFU0tUT1BfU0laRV9URVhUXToge1xuICAgIHN0cmluZzogJ+iri+WcqOWFqOWxj+aooeW8j+S4i+ingOeci+atpOmrlOmplycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19FWFBFUklNRU5UX0RJU0FCTEVEX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn5oKo5b+F6aCI5ZWf55SoQU1QLVNUT1JZ5omN6IO96KeA55yL5Lul5LiL5YWn5a65JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0xBTkRTQ0FQRV9PUklFTlRBVElPTl9URVhUXToge1xuICAgIHN0cmluZzogJ+atpOe2sumggemBqeWQiOapq+aUvuingOeciycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn6Z2e5bi45oqx5q2J77yM5oKo55qE6YGK6Ka95Zmo5LiN5pSv5oyB5q2k5o+S5Lu2JyxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmLCBMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJztcblxuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmcgYnVuZGxlIHVzZWQgZm9yIHNpbXBsaWZpZWQgQ2hpbmVzZSBzdHJpbmdzLlxuICogQGNvbnN0IHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9BQ0NFUFRfQlVUVE9OX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+aOpeWPlycsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfmi5Lnu50nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICflnKjljp/lp4vnvZHln5/kuIrmn6XnnIsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0RPTUFJTl9ESUFMT0dfSEVBRElOR19MSU5LXToge1xuICAgIHN0cmluZzogJ+abtOWkmuWFs+S6jkFNUOeahOe7k+aenCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMXToge1xuICAgIHN0cmluZzogJ+S4i+S4gOatpScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfov5Tlm54nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfml6Dms5XlpI3liLbpk77mjqXliLDliarotLTmnb8gOignLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX1NVQ0NFU1NfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfpk77mjqXmiJDlip/vvIEnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9FTUFJTF06IHtcbiAgICBzdHJpbmc6ICfnlLXpgq4nLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9GQUNFQk9PS106IHtcbiAgICBzdHJpbmc6ICfohLjkuaYnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9HT09HTEVfUExVU106IHtcbiAgICBzdHJpbmc6ICfosLfmrYwrJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS106IHtcbiAgICBzdHJpbmc6ICfojrflj5bpk77mjqUnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LRURJTl06IHtcbiAgICBzdHJpbmc6ICfpooboi7EnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1RdOiB7XG4gICAgc3RyaW5nOiAnUGludGVyZXN0JyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU01TXToge1xuICAgIHN0cmluZzogJ+efreS/oScsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NZU1RFTV06IHtcbiAgICBzdHJpbmc6ICfmm7TlpJonLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9UVU1CTFJdOiB7XG4gICAgc3RyaW5nOiAnVHVtYmxyJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFdJVFRFUl06IHtcbiAgICBzdHJpbmc6ICfmjqjnibknLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9XSEFUU0FQUF06IHtcbiAgICBzdHJpbmc6ICdXaGF0c2FwcCcsXG4gIH0sXG4gIFtMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTF06IHtcbiAgICBzdHJpbmc6ICfliIbkuqsnLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfREVTS1RPUF9TSVpFX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn6K+35Zyo5YWo5bGP5qih5byP5LiL6KeC55yL5q2k5L2T6aqMJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX0VYUEVSSU1FTlRfRElTQUJMRURfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfkvaDlv4XpobvlkK/nlKhBTVAtU1RPUlnmiY3og73op4LnnIvku6XkuIvlhoXlrrknLFxuICB9LFxuICBbTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFRdOiB7XG4gICAgc3RyaW5nOiAn5q2k6aG16Z2i6YCC5ZCI5qiq5pS+6KeC55yLJyxcbiAgfSxcbiAgW0xvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9XQVJOSU5HX1VOU1VQUE9SVEVEX0JST1dTRVJfVEVYVF06IHtcbiAgICBzdHJpbmc6ICfpnZ7luLjmirHmrYnvvIzmgqjnmoTmuLjop4jlmajkuI3mlK/mjIHmraTmj5Lku7YnLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtTdGF0ZVByb3BlcnR5LCBnZXRTdG9yZVNlcnZpY2V9IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtjb3B5Q2hpbGRyZW4sIHJlbW92ZUNoaWxkcmVufSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7aXNBcnJheSwgaXNPYmplY3R9IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge3BhcnNlSnNvbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2pzb24nO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnR9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcbmltcG9ydCB7dGhyb3R0bGV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9yYXRlLWxpbWl0JztcblxuXG4vKipcbiAqIFN0b3J5IGFjY2VzcyB0ZW1wbGF0ZS5cbiAqIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmNvbnN0IFRFTVBMQVRFID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1hY2Nlc3Mtb3ZlcmZsb3cnfSksXG4gIGNoaWxkcmVuOiBbXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1jb250YWluZXInfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1hY2Nlc3MtY29udGVudCd9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSxcbn07XG5cbi8qKlxuICogVGhlIDxhbXAtc3RvcnktYWNjZXNzPiBjdXN0b20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5QWNjZXNzIGV4dGVuZHMgQU1QLkJhc2VFbGVtZW50IHtcbiAgLyoqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FjdGlvbi1pbXBsLkFjdGlvblNlcnZpY2V9ICovXG4gICAgdGhpcy5hY3Rpb25zXyA9IFNlcnZpY2VzLmFjdGlvblNlcnZpY2VGb3JEb2ModGhpcy5lbGVtZW50KTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5zY3JvbGxhYmxlRWxfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IGdldFN0b3JlU2VydmljZSh0aGlzLndpbik7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgZHJhd2VyRWwgPSByZW5kZXJBc0VsZW1lbnQodGhpcy53aW4uZG9jdW1lbnQsIFRFTVBMQVRFKTtcbiAgICBjb25zdCBjb250ZW50RWwgPSBkZXYoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICBkcmF3ZXJFbC5xdWVyeVNlbGVjdG9yKCcuaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1jb250ZW50JykpO1xuXG4gICAgY29weUNoaWxkcmVuKHRoaXMuZWxlbWVudCwgY29udGVudEVsKTtcbiAgICByZW1vdmVDaGlsZHJlbih0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGRyYXdlckVsKTtcblxuICAgIHRoaXMud2hpdGVsaXN0QWN0aW9uc18oKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgaXNMYXlvdXRTdXBwb3J0ZWQobGF5b3V0KSB7XG4gICAgcmV0dXJuIGxheW91dCA9PSBMYXlvdXQuTk9ESVNQTEFZO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwcmVyZW5kZXJBbGxvd2VkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkFDQ0VTU19TVEFURSwgaXNBY2Nlc3MgPT4ge1xuICAgICAgdGhpcy5vbkFjY2Vzc1N0YXRlQ2hhbmdlXyhpc0FjY2Vzcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNjcm9sbGFibGVFbF8gPVxuICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1hY2Nlc3Mtb3ZlcmZsb3cnKTtcbiAgICB0aGlzLnNjcm9sbGFibGVFbF8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3Njcm9sbCcsIHRocm90dGxlKHRoaXMud2luLCAoKSA9PiB0aGlzLm9uU2Nyb2xsXygpLCAxMDApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gYWNjZXNzIHN0YXRlIHVwZGF0ZXMsIGFuZCBzaG93cy9oaWRlcyB0aGUgVUkgYWNjb3JkaW5nbHkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBY2Nlc3NcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQWNjZXNzU3RhdGVDaGFuZ2VfKGlzQWNjZXNzKSB7XG4gICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdpLWFtcGh0bWwtc3RvcnktYWNjZXNzLXZpc2libGUnLCBpc0FjY2Vzcyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgZnVsbGJsZWVkIFVJIG9uIHNjcm9sbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uU2Nyb2xsXygpIHtcbiAgICBsZXQgaXNGdWxsQmxlZWQ7XG5cbiAgICAvLyBUb2dnbGVzIHRoZSBmdWxsYmxlZWQgVUkgYXMgc29vbiBhcyB0aGUgc2Nyb2xsYWJsZSBjb250YWluZXIsIHdoaWNoIGhhcyBhXG4gICAgLy8gODhweCBtYXJnaW4gdG9wLCByZWFjaGVzIHRoZSB0b3Agb2YgdGhlIHNjcmVlbi5cbiAgICBjb25zdCBtZWFzdXJlciA9XG4gICAgICAgICgpID0+IGlzRnVsbEJsZWVkID0gdGhpcy5zY3JvbGxhYmxlRWxfLi8qT0sqL3Njcm9sbFRvcCA+IDg4O1xuICAgIGNvbnN0IG11dGF0b3IgPSAoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnRcbiAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZSgnaS1hbXBodG1sLXN0b3J5LWFjY2Vzcy1mdWxsYmxlZWQnLCBpc0Z1bGxCbGVlZCk7XG4gICAgfTtcblxuICAgIHRoaXMuZWxlbWVudC5nZXRSZXNvdXJjZXMoKVxuICAgICAgICAubWVhc3VyZU11dGF0ZUVsZW1lbnQodGhpcy5lbGVtZW50LCBtZWFzdXJlciwgbXV0YXRvcik7XG4gIH1cblxuICAvKipcbiAgICogV2hpdGVsaXN0cyB0aGUgPGFtcC1hY2Nlc3M+IGFjdGlvbnMuXG4gICAqIERlcGVuZGluZyBvbiB0aGUgcHVibGlzaGVyIGNvbmZpZ3VyYXRpb24sIGFjdGlvbnMgY2FuIGJlOlxuICAgKiAgIC0gbG9naW5cbiAgICogICAtIGxvZ2luLTxuYW1lc3BhY2U+XG4gICAqICAgLSBsb2dpbi08bmFtZXNwYWNlPi08dHlwZT5cbiAgICpcbiAgICogUHVibGlzaGVycyBjYW4gcHJvdmlkZSBvbmUgKG9iamVjdCkgb3IgbXVsdGlwbGUgKGFycmF5KSBjb25maWd1cmF0aW9ucyxcbiAgICogaWRlbnRpZmllZCBieSB0aGVpciBcIm5hbWVzcGFjZVwiIHByb3BlcnR5LlxuICAgKiBFYWNoIGNvbmZpZ3VyYXRpb24gY2FuIGhhdmUgb25lIG9yIG11bHRpcGxlIGxvZ2luIFVSTHMsIGNhbGxlZCBcInR5cGVcIi5cbiAgICogQWxsIHRoZSBuYW1lc3BhY2UvdHlwZSBwYWlycyBoYXZlIHRvIGJlIHdoaXRlbGlzdGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgd2hpdGVsaXN0QWN0aW9uc18oKSB7XG4gICAgY29uc3QgYWNjZXNzRWwgPVxuICAgICAgICBkZXYoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICAgICAgdGhpcy53aW4uZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FtcC1hY2Nlc3MnKSxcbiAgICAgICAgICAgICdDYW5ub3QgZmluZCB0aGUgYW1wLWFjY2VzcyBjb25maWd1cmF0aW9uJyk7XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIHZhbGlkYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgYW1wLWFjY2VzcyBleHRlbnNpb24uXG4gICAgbGV0IGFjY2Vzc0NvbmZpZyA9XG4gICAgLyoqIEB0eXBlIHshQXJyYXl8IU9iamVjdH0gKi8gKHBhcnNlSnNvbihhY2Nlc3NFbC50ZXh0Q29udGVudCkpO1xuXG4gICAgaWYgKCFpc0FycmF5KGFjY2Vzc0NvbmZpZykpIHtcbiAgICAgIGFjY2Vzc0NvbmZpZyA9IFthY2Nlc3NDb25maWddO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBvbmx5IG9uZSBjb25maWd1cmF0aW9uIGFuZCB0aGUgcHVibGlzaGVyIHByb3ZpZGVkIGFcbiAgICAgIC8vIG5hbWVzcGFjZSwgd2Ugd2FudCB0byBhbGxvdyBhY3Rpb25zIHdpdGggb3Igd2l0aG91dCBuYW1lc3BhY2UuXG4gICAgICBpZiAoYWNjZXNzQ29uZmlnWzBdLm5hbWVzcGFjZSkge1xuICAgICAgICBhY2Nlc3NDb25maWcucHVzaChcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGFjY2Vzc0NvbmZpZ1swXSwge25hbWVzcGFjZTogdW5kZWZpbmVkfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFjY2Vzc0NvbmZpZy5mb3JFYWNoKGNvbmZpZyA9PiB7XG4gICAgICBjb25zdCB7bG9naW4sIG5hbWVzcGFjZX0gPSAvKiogQHR5cGUge3tsb2dpbiwgbmFtZXNwYWNlfX0gKi8gKGNvbmZpZyk7XG5cbiAgICAgIGlmIChpc09iamVjdChsb2dpbikpIHtcbiAgICAgICAgY29uc3QgdHlwZXMgPSBPYmplY3Qua2V5cyhsb2dpbik7XG4gICAgICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB0aGlzLndoaXRlbGlzdEFjdGlvbl8obmFtZXNwYWNlLCB0eXBlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndoaXRlbGlzdEFjdGlvbl8obmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGl0ZWxpc3RzIGFuIGFjdGlvbiBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZSAvIHR5cGUgcGFpci5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lc3BhY2VcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB0eXBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB3aGl0ZWxpc3RBY3Rpb25fKG5hbWVzcGFjZSA9IHVuZGVmaW5lZCwgdHlwZSA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGFjdGlvbiA9IFsnbG9naW4nLCBuYW1lc3BhY2UsIHR5cGVdLmZpbHRlcihzID0+ICEhcykuam9pbignLScpO1xuICAgIHRoaXMuYWN0aW9uc18uYWRkVG9XaGl0ZWxpc3QoYFNDUklQVC4ke2FjdGlvbn1gKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBCYXNlIGxheWVyIGZyb20gd2hpY2ggb3RoZXIgbGF5ZXJzIGluIGEgc3RvcnkgcGFnZSBleHRlbmQgZnJvbS5cbiAqL1xuXG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5cbi8qKlxuICogQmFzZSBsYXllciB0ZW1wbGF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5QmFzZUxheWVyIGV4dGVuZHMgQU1QLkJhc2VFbGVtZW50IHtcbiAgLyoqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpc0xheW91dFN1cHBvcnRlZChsYXlvdXQpIHtcbiAgICByZXR1cm4gbGF5b3V0ID09IExheW91dC5DT05UQUlORVI7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1sYXllcicpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBY3Rpb24sIFN0YXRlUHJvcGVydHksIGdldFN0b3JlU2VydmljZX0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0FjdGlvblRydXN0fSBmcm9tICcuLi8uLi8uLi9zcmMvYWN0aW9uLWNvbnN0YW50cyc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LWNvbnNlbnQtMS4wLmNzcyc7XG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHthc3NlcnRBYnNvbHV0ZUh0dHBPckh0dHBzVXJsfSBmcm9tICcuLi8uLi8uLi9zcmMvdXJsJztcbmltcG9ydCB7XG4gIGNoaWxkRWxlbWVudEJ5VGFnLFxuICBjbG9zZXN0QnlUYWcsXG4gIGlzSnNvblNjcmlwdFRhZyxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2NvbXB1dGVkU3R5bGUsIHNldEltcG9ydGFudFN0eWxlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3N0eWxlJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge2dldFJHQkZyb21Dc3NDb2xvclZhbHVlLCBnZXRUZXh0Q29sb3JGb3JSR0J9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtpc0FycmF5fSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHtwYXJzZUpzb259IGZyb20gJy4uLy4uLy4uL3NyYy9qc29uJztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5pbXBvcnQge3Rocm90dGxlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5cblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVEFHID0gJ2FtcC1zdG9yeS1jb25zZW50JztcblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbmFsIGNvbmZpZyBwYXJhbWV0ZXJzLlxuICogQGNvbnN0IHshT2JqZWN0fVxuICovXG5jb25zdCBERUZBVUxUX09QVElPTkFMX1BBUkFNRVRFUlMgPSB7XG4gIGV4dGVybmFsTGluazoge30sXG4gIG9ubHlBY2NlcHQ6IGZhbHNlLFxufTtcblxuLy8gVE9ETyhnbWFqb3VsZXQpOiBzd2l0Y2ggdG8gYGh0bWxGb3JgIHN0YXRpYyB0ZW1wbGF0ZSBoZWxwZXIuXG4vKipcbiAqIFN0b3J5IGNvbnNlbnQgdGVtcGxhdGUuXG4gKiBAcGFyYW0geyFPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtzdHJpbmd9IGNvbnNlbnRJZFxuICogQHBhcmFtIHs/c3RyaW5nfSBsb2dvU3JjXG4gKiBAcmV0dXJuIHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqIEBwcml2YXRlIEBjb25zdFxuICovXG5jb25zdCBnZXRUZW1wbGF0ZSA9IChjb25maWcsIGNvbnNlbnRJZCwgbG9nb1NyYykgPT4gKHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudCBpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0J30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LW92ZXJmbG93J30pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250YWluZXInfSksXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1oZWFkZXInfSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWxvZ28nLFxuICAgICAgICAgICAgICAgICAgICAnc3R5bGUnOiBsb2dvU3JjID9cbiAgICAgICAgICAgICAgICAgICAgICBgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2xvZ29TcmN9JykgIWltcG9ydGFudDtgIDogJycsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1jb250ZW50J30pLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhZzogJ2gzJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHt9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBjb25maWcudGl0bGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdwJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHt9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBjb25maWcubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhZzogJ3VsJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtdmVuZG9ycyd9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjb25maWcudmVuZG9ycyAmJiBjb25maWcudmVuZG9ycy5tYXAodmVuZG9yID0+IChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LXZlbmRvcid9KSxcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICAgICAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IHZlbmRvcixcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdhJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWV4dGVybmFsLWxpbmsgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAoIShjb25maWcuZXh0ZXJuYWxMaW5rLnRpdGxlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmV4dGVybmFsTGluay5ocmVmKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtaGlkZGVuJyA6ICcnKSxcbiAgICAgICAgICAgICAgICAgICAgJ2hyZWYnOiBjb25maWcuZXh0ZXJuYWxMaW5rLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgICd0YXJnZXQnOiAnX3RvcCcsXG4gICAgICAgICAgICAgICAgICAgICd0aXRsZSc6IGNvbmZpZy5leHRlcm5hbExpbmsudGl0bGUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiBjb25maWcuZXh0ZXJuYWxMaW5rLnRpdGxlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWNvbnNlbnQtYWN0aW9ucyd9KSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbi1yZWplY3QnICtcbiAgICAgICAgICAgICAgICAgICAgKGNvbmZpZy5vbmx5QWNjZXB0ID09PSB0cnVlID8gJyBpLWFtcGh0bWwtaGlkZGVuJyA6ICcnKSxcbiAgICAgICAgICAgICAgICAnb24nOiBgdGFwOiR7Y29uc2VudElkfS5yZWplY3RgLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0RFQ0xJTkVfQlVUVE9OX0xBQkVMLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb24gJyArXG4gICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtc3RvcnktY29uc2VudC1hY3Rpb24tYWNjZXB0JyxcbiAgICAgICAgICAgICAgICAnb24nOiBgdGFwOiR7Y29uc2VudElkfS5hY2NlcHRgLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9DT05TRU5UX0FDQ0VQVF9CVVRUT05fTEFCRUwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59KTtcblxuLyoqXG4gKiBUaGUgPGFtcC1zdG9yeS1jb25zZW50PiBjdXN0b20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5Q29uc2VudCBleHRlbmRzIEFNUC5CYXNlRWxlbWVudCB7XG4gIC8qKiBAcGFyYW0geyFBbXBFbGVtZW50fSBlbGVtZW50ICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBzdXBlcihlbGVtZW50KTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25TZXJ2aWNlfSAqL1xuICAgIHRoaXMuYWN0aW9uc18gPSBTZXJ2aWNlcy5hY3Rpb25TZXJ2aWNlRm9yRG9jKHRoaXMuZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9PYmplY3R9ICovXG4gICAgdGhpcy5jb25zZW50Q29uZmlnXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuc2Nyb2xsYWJsZUVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZS5BbXBTdG9yeVN0b3JlU2VydmljZX0gKi9cbiAgICB0aGlzLnN0b3JlU2VydmljZV8gPSBnZXRTdG9yZVNlcnZpY2UodGhpcy53aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/T2JqZWN0fSAqL1xuICAgIHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuc3RvcnlDb25zZW50RWxfID0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmFzc2VydEFuZFBhcnNlQ29uZmlnXygpO1xuXG4gICAgY29uc3Qgc3RvcnlFbCA9IGNsb3Nlc3RCeVRhZyh0aGlzLmVsZW1lbnQsICdBTVAtU1RPUlknKTtcbiAgICBjb25zdCBjb25zZW50RWwgPSBjbG9zZXN0QnlUYWcodGhpcy5lbGVtZW50LCAnQU1QLUNPTlNFTlQnKTtcbiAgICBjb25zdCBjb25zZW50SWQgPSBjb25zZW50RWwuaWQ7XG5cbiAgICB0aGlzLnN0b3JlQ29uc2VudElkXyhjb25zZW50SWQpO1xuXG4gICAgY29uc3QgbG9nb1NyYyA9IHN0b3J5RWwgJiYgc3RvcnlFbC5nZXRBdHRyaWJ1dGUoJ3B1Ymxpc2hlci1sb2dvLXNyYycpO1xuXG4gICAgaWYgKCFsb2dvU3JjKSB7XG4gICAgICB1c2VyKCkud2FybihcbiAgICAgICAgICBUQUcsICdFeHBlY3RlZCBcInB1Ymxpc2hlci1sb2dvLXNyY1wiIGF0dHJpYnV0ZSBvbiA8YW1wLXN0b3J5PicpO1xuICAgIH1cblxuICAgIC8vIFN0b3J5IGNvbnNlbnQgY29uZmlnIGlzIHNldCBieSB0aGUgYGFzc2VydEFuZFBhcnNlQ29uZmlnX2AgbWV0aG9kLlxuICAgIGlmICh0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18pIHtcbiAgICAgIHRoaXMuc3RvcnlDb25zZW50RWxfID0gcmVuZGVyQXNFbGVtZW50KFxuICAgICAgICAgIHRoaXMud2luLmRvY3VtZW50LFxuICAgICAgICAgIGdldFRlbXBsYXRlKHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXywgY29uc2VudElkLCBsb2dvU3JjKSk7XG4gICAgICBjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlKHRoaXMuZWxlbWVudCwgdGhpcy5zdG9yeUNvbnNlbnRFbF8sIENTUyk7XG5cbiAgICAgIC8vIEFsbG93IDxhbXAtY29uc2VudD4gYWN0aW9ucyBpbiBTVEFNUCAoZGVmYXVsdHMgdG8gbm8gYWN0aW9ucyBhbGxvd2VkKS5cbiAgICAgIHRoaXMuYWN0aW9uc18uYWRkVG9XaGl0ZWxpc3QoJ0FNUC1DT05TRU5ULmFjY2VwdCcpO1xuICAgICAgdGhpcy5hY3Rpb25zXy5hZGRUb1doaXRlbGlzdCgnQU1QLUNPTlNFTlQucHJvbXB0Jyk7XG4gICAgICB0aGlzLmFjdGlvbnNfLmFkZFRvV2hpdGVsaXN0KCdBTVAtQ09OU0VOVC5yZWplY3QnKTtcblxuICAgICAgdGhpcy5zZXRBY2NlcHRCdXR0b25Gb250Q29sb3JfKCk7XG5cbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGlzTGF5b3V0U3VwcG9ydGVkKGxheW91dCkge1xuICAgIHJldHVybiBsYXlvdXQgPT0gTGF5b3V0Lk5PRElTUExBWTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcHJlcmVuZGVyQWxsb3dlZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVMaXN0ZW5lcnNfKCkge1xuICAgIHRoaXMuc3RvcnlDb25zZW50RWxfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsIGV2ZW50ID0+IHRoaXMub25DbGlja18oZXZlbnQpLCB0cnVlIC8qKiB1c2VDYXB0dXJlICovKTtcblxuICAgIHRoaXMuc2Nyb2xsYWJsZUVsXyA9XG4gICAgICAgIHRoaXMuc3RvcnlDb25zZW50RWxfLnF1ZXJ5U2VsZWN0b3IoJy5pLWFtcGh0bWwtc3RvcnktY29uc2VudC1vdmVyZmxvdycpO1xuICAgIHRoaXMuc2Nyb2xsYWJsZUVsXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnc2Nyb2xsJywgdGhyb3R0bGUodGhpcy53aW4sICgpID0+IHRoaXMub25TY3JvbGxfKCksIDEwMCkpO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LlJUTF9TVEFURSwgcnRsU3RhdGUgPT4ge1xuICAgICAgdGhpcy5vblJ0bFN0YXRlVXBkYXRlXyhydGxTdGF0ZSk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdGVucyB0byBjbGljayBldmVudHMgdG8gdHJpZ2dlciB0aGUgYWN0aW9ucyBwcm9ncmFtYXRpY2FsbHkuXG4gICAqIFNpbmNlIGV2ZW50cyBidWJibGUgdXAgZnJvbSB0aGUgU2hhZG93IERPTSBidXQgdGhlaXIgdGFyZ2V0IGlzIHVwZGF0ZWQgdG9cbiAgICogdGhlIFNoYWRvdyByb290LCB0aGUgdG9wIGxldmVsIGFjdGlvbnMgZXZlbnQgbGlzdGVuZXJzIHdvdWxkIG5vdCBkZXRlY3RcbiAgICogYW5kIHRyaWdnZXIgdGhlIGFjdGlvbnMgdXBvbiBjbGljayBldmVudHMuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25DbGlja18oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUoJ29uJykpIHtcbiAgICAgIGNvbnN0IHRhcmdldEVsID0gZGV2KCkuYXNzZXJ0RWxlbWVudChldmVudC50YXJnZXQpO1xuICAgICAgdGhpcy5hY3Rpb25zXy50cmlnZ2VyKHRhcmdldEVsLCAndGFwJywgZXZlbnQsIEFjdGlvblRydXN0LkhJR0gpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBmdWxsYmxlZWQgVUkgb24gc2Nyb2xsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25TY3JvbGxfKCkge1xuICAgIGxldCBpc0Z1bGxCbGVlZDtcblxuICAgIGNvbnN0IG1lYXN1cmVyID1cbiAgICAgICAgKCkgPT4gaXNGdWxsQmxlZWQgPSB0aGlzLnNjcm9sbGFibGVFbF8uLypPSyovc2Nyb2xsVG9wID4gODg7XG4gICAgY29uc3QgbXV0YXRvciA9ICgpID0+IHtcbiAgICAgIHRoaXMuc3RvcnlDb25zZW50RWxfXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS1jb25zZW50LWZ1bGxibGVlZCcsIGlzRnVsbEJsZWVkKTtcbiAgICB9O1xuXG4gICAgdGhpcy5tZWFzdXJlTXV0YXRlRWxlbWVudChtZWFzdXJlciwgbXV0YXRvciwgdGhpcy5zdG9yeUNvbnNlbnRFbF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBSVEwgc3RhdGUgdXBkYXRlcyBhbmQgdHJpZ2dlcnMgdGhlIFVJIGZvciBSVEwuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcnRsU3RhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uUnRsU3RhdGVVcGRhdGVfKHJ0bFN0YXRlKSB7XG4gICAgY29uc3QgbXV0YXRvciA9ICgpID0+IHtcbiAgICAgIHJ0bFN0YXRlID9cbiAgICAgICAgdGhpcy5zdG9yeUNvbnNlbnRFbF8uc2V0QXR0cmlidXRlKCdkaXInLCAncnRsJykgOlxuICAgICAgICB0aGlzLnN0b3J5Q29uc2VudEVsXy5yZW1vdmVBdHRyaWJ1dGUoJ2RpcicpO1xuICAgIH07XG5cbiAgICB0aGlzLm11dGF0ZUVsZW1lbnQobXV0YXRvciwgdGhpcy5zdG9yeUNvbnNlbnRFbF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGUgc3RvcnktY29uc2VudCBjb25maWcuIGBzdG9yeS1jb25zZW50YCBpcyBhIG5ldyBwYXJhbWV0ZXJcbiAgICogc3BlY2lmaWMgdG8gc3RvcmllcywgYWRkZWQgb24gdGhlIGBhbXAtY29uc2VudGAgSlNPTiBjb25maWcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhc3NlcnRBbmRQYXJzZUNvbmZpZ18oKSB7XG4gICAgLy8gVmFsaWRhdGlvbiBvZiB0aGUgYW1wLWNvbnNlbnQgY29uZmlnIGlzIGhhbmRsZWQgYnkgdGhlIGFtcC1jb25zZW50XG4gICAgLy8gamF2YXNjcmlwdC5cbiAgICBjb25zdCBwYXJlbnRFbCA9IGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbnNlbnRTY3JpcHQgPSBjaGlsZEVsZW1lbnRCeVRhZyhwYXJlbnRFbCwgJ3NjcmlwdCcpO1xuICAgIHRoaXMuY29uc2VudENvbmZpZ18gPSBjb25zZW50U2NyaXB0ICYmIHBhcnNlSnNvbihjb25zZW50U2NyaXB0LnRleHRDb250ZW50KTtcblxuICAgIC8vIGFtcC1jb25zZW50IGFscmVhZHkgdHJpZ2dlcmVkIGNvbnNvbGUgZXJyb3JzLCBzdGVwIG91dCB0byBhdm9pZCBwb2xsdXRpbmdcbiAgICAvLyB0aGUgY29uc29sZS5cbiAgICBpZiAoIXRoaXMuY29uc2VudENvbmZpZ18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yeUNvbnNlbnRTY3JpcHQgPSBjaGlsZEVsZW1lbnRCeVRhZyh0aGlzLmVsZW1lbnQsICdzY3JpcHQnKTtcblxuICAgIHVzZXIoKS5hc3NlcnQoXG4gICAgICAgIHN0b3J5Q29uc2VudFNjcmlwdCAmJiBpc0pzb25TY3JpcHRUYWcoc3RvcnlDb25zZW50U2NyaXB0KSxcbiAgICAgICAgYCR7VEFHfSBjb25maWcgc2hvdWxkIGJlIHB1dCBpbiBhIDxzY3JpcHQ+IHRhZyB3aXRoIGAgK1xuICAgICAgICAndHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIicpO1xuXG4gICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfID1cbiAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgREVGQVVMVF9PUFRJT05BTF9QQVJBTUVURVJTLFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovIChwYXJzZUpzb24oc3RvcnlDb25zZW50U2NyaXB0LnRleHRDb250ZW50KSkpO1xuXG4gICAgdXNlcigpLmFzc2VydFN0cmluZyhcbiAgICAgICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfLnRpdGxlLCBgJHtUQUd9OiBjb25maWcgcmVxdWlyZXMgYSB0aXRsZWApO1xuICAgIHVzZXIoKS5hc3NlcnRTdHJpbmcoXG4gICAgICAgIHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXy5tZXNzYWdlLCBgJHtUQUd9OiBjb25maWcgcmVxdWlyZXMgYSBtZXNzYWdlYCk7XG4gICAgdXNlcigpLmFzc2VydChcbiAgICAgICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfLnZlbmRvcnMgJiZcbiAgICAgICAgICAgIGlzQXJyYXkodGhpcy5zdG9yeUNvbnNlbnRDb25maWdfLnZlbmRvcnMpLFxuICAgICAgICBgJHtUQUd9OiBjb25maWcgcmVxdWlyZXMgYW4gYXJyYXkgb2YgdmVuZG9yc2ApO1xuICAgIHVzZXIoKS5hc3NlcnRCb29sZWFuKFxuICAgICAgICB0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18ub25seUFjY2VwdCxcbiAgICAgICAgYCR7VEFHfTogY29uZmlnIHJlcXVpcmVzIFwib25seUFjY2VwdFwiIHRvIGJlIGEgYm9vbGVhbmApO1xuXG4gICAgLy8gUnVucyB0aGUgdmFsaWRhdGlvbiBpZiBhbnkgb2YgdGhlIHRpdGxlIG9yIGxpbmsgYXJlIHByb3ZpZGVkLCBzaW5jZVxuICAgIC8vIGJvdGggaGF2ZSB0byBiZSBwcm92aWRlZCBmb3IgdGhlIGV4dGVybmFsIGxpbmsgdG8gYmUgZGlzcGxheWVkLlxuICAgIGlmICh0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18uZXh0ZXJuYWxMaW5rLmhyZWYgfHxcbiAgICAgICAgdGhpcy5zdG9yeUNvbnNlbnRDb25maWdfLmV4dGVybmFsTGluay50aXRsZSkge1xuICAgICAgdXNlcigpLmFzc2VydFN0cmluZyhcbiAgICAgICAgICB0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18uZXh0ZXJuYWxMaW5rLnRpdGxlLFxuICAgICAgICAgIGAke1RBR306IGNvbmZpZyByZXF1aXJlcyBcImV4dGVybmFsTGluay50aXRsZVwiIHRvIGJlIGEgc3RyaW5nYCk7XG4gICAgICB1c2VyKCkuYXNzZXJ0U3RyaW5nKFxuICAgICAgICAgIHRoaXMuc3RvcnlDb25zZW50Q29uZmlnXy5leHRlcm5hbExpbmsuaHJlZixcbiAgICAgICAgICBgJHtUQUd9OiBjb25maWcgcmVxdWlyZXMgXCJleHRlcm5hbExpbmsuaHJlZlwiIHRvIGJlIGFuIGFic29sdXRlIFVSTGApO1xuICAgICAgYXNzZXJ0QWJzb2x1dGVIdHRwT3JIdHRwc1VybCh0aGlzLnN0b3J5Q29uc2VudENvbmZpZ18uZXh0ZXJuYWxMaW5rLmhyZWYpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29uc2VudElkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdG9yZUNvbnNlbnRJZF8oY29uc2VudElkKSB7XG4gICAgY29uc3QgcG9saWN5SWQgPSBPYmplY3Qua2V5cyh0aGlzLmNvbnNlbnRDb25maWdfWydjb25zZW50cyddKVswXTtcbiAgICBjb25zdCBwb2xpY3kgPSB0aGlzLmNvbnNlbnRDb25maWdfWydjb25zZW50cyddW3BvbGljeUlkXTtcblxuICAgIC8vIGNoZWNrQ29uc2VudEhyZWYgcmVzcG9uc2Ugb3ZlcnJpZGVzIHRoZSBhbXAtZ2VvIGNvbmZpZywgaWYgcHJvdmlkZWQuXG4gICAgaWYgKHBvbGljeS5jaGVja0NvbnNlbnRIcmVmKSB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlNFVF9DT05TRU5UX0lELCBjb25zZW50SWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHVzaW5nIGFtcC1hY2Nlc3Mgd2l0aCBhbXAtZ2VvLCBvbmx5IHNldCB0aGUgY29uc2VudCBpZCBpZiB0aGUgdXNlciBpc1xuICAgIC8vIGluIHRoZSBleHBlY3RlZCBnZW8gZ3JvdXAuXG4gICAgaWYgKHBvbGljeVsncHJvbXB0SWZVbmtub3duRm9yR2VvR3JvdXAnXSkge1xuICAgICAgU2VydmljZXMuZ2VvRm9yRG9jT3JOdWxsKHRoaXMuZWxlbWVudCkudGhlbihnZW8gPT4ge1xuICAgICAgICBjb25zdCBnZW9Hcm91cCA9IHBvbGljeVsncHJvbXB0SWZVbmtub3duRm9yR2VvR3JvdXAnXTtcbiAgICAgICAgY29uc3QgbWF0Y2hlZEdlb0dyb3VwcyA9XG4gICAgICAgICAgLyoqIEB0eXBlIHshQXJyYXk8c3RyaW5nPn0gKi8gKGdlby5tYXRjaGVkSVNPQ291bnRyeUdyb3Vwcyk7XG4gICAgICAgIGlmIChnZW8gJiYgIW1hdGNoZWRHZW9Hcm91cHMuaW5jbHVkZXMoZ2VvR3JvdXApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uU0VUX0NPTlNFTlRfSUQsIGNvbnNlbnRJZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYWNjZXB0IGJ1dHRvbiBmb250IGNvbG9yIHRvIGVpdGhlciB3aGl0ZSBvciBibGFjaywgZGVwZW5kaW5nIG9uXG4gICAqIHRoZSBwdWJsaXNoZXIgY3VzdG9tIGJhY2tncm91bmQgY29sb3IuXG4gICAqIE11c3QgYmUgY2FsbGVkIGZyb20gdGhlIGBidWlsZENhbGxiYWNrYCBvciBpbiBhbm90aGVyIHZzeW5jIG11dGF0ZSBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldEFjY2VwdEJ1dHRvbkZvbnRDb2xvcl8oKSB7XG4gICAgY29uc3QgYnV0dG9uRWwgPVxuICAgICAgICBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuc3RvcnlDb25zZW50RWxfXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1jb25zZW50LWFjdGlvbi1hY2NlcHQnKSk7XG4gICAgY29uc3Qgc3R5bGVzID0gY29tcHV0ZWRTdHlsZSh0aGlzLndpbiwgYnV0dG9uRWwpO1xuXG4gICAgY29uc3QgcmdiID0gZ2V0UkdCRnJvbUNzc0NvbG9yVmFsdWUoc3R5bGVzWydiYWNrZ3JvdW5kLWNvbG9yJ10pO1xuICAgIGNvbnN0IGNvbG9yID0gZ2V0VGV4dENvbG9yRm9yUkdCKHJnYik7XG5cbiAgICBzZXRJbXBvcnRhbnRTdHlsZXMoYnV0dG9uRWwsIHtjb2xvcn0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoaXMgaXMgYSBsYXllciB0aGF0IGFsbG93cyBhIGNhbGwgdG8gYWN0aW9uIGluIGEgc3RvcnkgcGFnZS5cbiAqIFdpdGggdGhpcywgYSB1c2VyIGNvdWxkIGxpbmsgdG8gYW4gZXh0ZXJuYWwgc2l0ZSBmcm9tIGluc2lkZSBhIHN0b3J5IHVzaW5nXG4gKiB0aGUgY2FsbCB0byBhY3Rpb24gbGF5ZXIsIGZvciBleGFtcGxlLlxuICpcbiAqIEV4YW1wbGU6XG4gKiAuLi5cbiAqIDxhbXAtc3RvcnktcGFnZT5cbiAqICAgPGFtcC1zdG9yeS1jdGEtbGF5ZXI+XG4gKiAgICAgPGEgaHJlZj1cInd3d3cuZ29vZ2xlLmNvbVwiPiBWaXNpdCBteSBzaXRlISA8L2E+XG4gKiAgIDwvYW1wLXN0b3J5LWN0YS1sYXllcj5cbiAqIDxhbXAtc3RvcnktcGFnZT5cbiAqIC4uLlxuICovXG5cbmltcG9ydCB7QW1wU3RvcnlCYXNlTGF5ZXJ9IGZyb20gJy4vYW1wLXN0b3J5LWJhc2UtbGF5ZXInO1xuaW1wb3J0IHthZGRBdHRyaWJ1dGVzVG9FbGVtZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge21hdGNoZXMsIHJlbW92ZUVsZW1lbnR9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcblxuLyoqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGNvbnN0XG4gKi9cbmNvbnN0IFRBRyA9ICdhbXAtc3RvcnktY3RhLWxheWVyJztcblxuLyoqXG4gKiBDYWxsIHRvIGFjdGlvbiBidXR0b24gbGF5ZXIgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeUN0YUxheWVyIGV4dGVuZHMgQW1wU3RvcnlCYXNlTGF5ZXIge1xuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcHJlcmVuZGVyQWxsb3dlZCgpIHtcbiAgICAvKipcbiAgICAgKiBTa2lwIHByZS1yZW5kZXJpbmcgdG8gbGV0IG1vcmUgY29tcHV0aW5nLWludGVuc2l2ZSBlbGVtZW50cyAobGlrZVxuICAgICAqIHZpZGVvcykgZ2V0IHByZS1yZW5kZXJlZCBmaXJzdC4gU2luY2UgdGhpcyBsYXllciB3aWxsIG5vdCBjb250YWluXG4gICAgICogY29tcHV0aW5nLWludGVuc2l2ZSByZXNvdXJjZXMgc3VjaCBhcyB2aWRlb3MsIHdlIGNhbiBqdXN0IHJpc2sgcmVuZGVyaW5nXG4gICAgICogd2hpbGUgdGhlIHVzZXIgaXMgbG9va2luZy5cbiAgICAgKi9cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuYnVpbGRDYWxsYmFjaygpO1xuICAgIHRoaXMuc2V0T3JPdmVyd3JpdGVBdHRyaWJ1dGVzXygpO1xuICAgIHRoaXMuY2hlY2tBbmRSZW1vdmVMYXllcklmT25GaXJzdFBhZ2VfKCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcndyaXRlIG9yIHNldCB0YXJnZXQgYXR0cmlidXRlcyB0aGF0IGFyZSBjdGEtbGF5ZXItc3BlY2lmaWMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRPck92ZXJ3cml0ZUF0dHJpYnV0ZXNfKCkge1xuICAgIGNvbnN0IGN0YUxpbmtzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN0YUxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGN0YUxpbmtzW2ldLCBkaWN0KHsndGFyZ2V0JzogJ19ibGFuayd9KSk7XG5cbiAgICAgIGlmICghY3RhTGlua3NbaV0uZ2V0QXR0cmlidXRlKCdyb2xlJykpIHtcbiAgICAgICAgYWRkQXR0cmlidXRlc1RvRWxlbWVudChjdGFMaW5rc1tpXSwgZGljdCh7J3JvbGUnOiAnbGluayd9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY3RhQnV0dG9ucyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN0YUJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghY3RhQnV0dG9uc1tpXS5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSkge1xuICAgICAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGN0YUJ1dHRvbnNbaV0sIGRpY3Qoeydyb2xlJzogJ2J1dHRvbid9KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENUQSBsaW5rcyBvciBidXR0b25zIGFyZSBub3QgYWxsb3dlZCBvbiB0aGUgZmlyc3QgYW1wLXN0b3J5IHBhZ2UuIFJlbW92ZVxuICAgKiB0aGUgYW1wLXN0b3J5LWN0YS1sYXllciBpZiBpdCBpcyBmb3VuZCBvbiB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgc3RvcnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjaGVja0FuZFJlbW92ZUxheWVySWZPbkZpcnN0UGFnZV8oKSB7XG4gICAgaWYgKG1hdGNoZXModGhpcy5lbGVtZW50LFxuICAgICAgICAnYW1wLXN0b3J5LXBhZ2U6Zmlyc3Qtb2YtdHlwZSA+IGFtcC1zdG9yeS1jdGEtbGF5ZXInKSkge1xuICAgICAgcmVtb3ZlRWxlbWVudCh0aGlzLmVsZW1lbnQpO1xuICAgICAgdXNlcigpLmVycm9yKFRBRywgJ2FtcC1zdG9yeS1jdGEtbGF5ZXIgaXMgbm90IGFsbG93ZWQgb24gdGhlIGZpcnN0IHBhZ2UnICtcbiAgICAgICAgICAnIG9mIGFuIGFtcC1zdG9yeS4nKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBpcyBhIGxheWVyIHRoYXQgbGF5cyBpdHMgY2hpbGRyZW4gb3V0IGludG8gYSBncmlkLiBJdHNcbiAqIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIG9mZiBvZiB0aGUgQ1NTIEdyaWQgU3BlYy5cbiAqXG4gKiBFeGFtcGxlOlxuICogPGNvZGU+XG4gKiA8YW1wLXN0b3J5LWdyaWQtbGF5ZXIgdGVtcGxhdGU9XCJmaWxsXCI+XG4gKiAgIC4uLlxuICogPC9hbXAtc3RvcnktZ3JpZC1sYXllcj5cbiAqIDwvY29kZT5cbiAqL1xuXG5pbXBvcnQge0FtcFN0b3J5QmFzZUxheWVyfSBmcm9tICcuL2FtcC1zdG9yeS1iYXNlLWxheWVyJztcbmltcG9ydCB7bWF0Y2hlcywgc2NvcGVkUXVlcnlTZWxlY3RvckFsbH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge3NldFN0eWxlfSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuXG4vKipcbiAqIEEgbWFwcGluZyBvZiBhdHRyaWJ1dGUgbmFtZXMgd2Ugc3VwcG9ydCBmb3IgZ3JpZCBsYXllcnMgdG8gdGhlIENTUyBHcmlkXG4gKiBwcm9wZXJ0aWVzIHRoZXkgY29udHJvbC5cbiAqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmNvbnN0IFNVUFBPUlRFRF9DU1NfR1JJRF9BVFRSSUJVVEVTID0ge1xuICAnYWxpZ24tY29udGVudCc6ICdhbGlnbkNvbnRlbnQnLFxuICAnYWxpZ24taXRlbXMnOiAnYWxpZ25JdGVtcycsXG4gICdhbGlnbi1zZWxmJzogJ2FsaWduU2VsZicsXG4gICdncmlkLWFyZWEnOiAnZ3JpZEFyZWEnLFxuICAnanVzdGlmeS1jb250ZW50JzogJ2p1c3RpZnlDb250ZW50JyxcbiAgJ2p1c3RpZnktaXRlbXMnOiAnanVzdGlmeUl0ZW1zJyxcbiAgJ2p1c3RpZnktc2VsZic6ICdqdXN0aWZ5U2VsZicsXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBrZXlzIG9mIHRoZSBTVVBQT1JURURfQ1NTX0dSSURfQVRUUklCVVRFUyBvYmplY3QgYWJvdmUgaW50byBhXG4gKiBzZWxlY3RvciBmb3IgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVzLlxuICogKGUuZy4gW2FsaWduLWNvbnRlbnRdLCBbYWxpZ24taXRlbXNdLCAuLi4pXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgU1VQUE9SVEVEX0NTU19HUklEX0FUVFJJQlVURVNfU0VMRUNUT1IgPVxuICAgIE9iamVjdC5rZXlzKFNVUFBPUlRFRF9DU1NfR1JJRF9BVFRSSUJVVEVTKVxuICAgICAgICAubWFwKGtleSA9PiBgWyR7a2V5fV1gKVxuICAgICAgICAuam9pbignLCcpO1xuXG4vKipcbiAqIFRoZSBhdHRyaWJ1dGUgbmFtZSBmb3IgZ3JpZCBsYXllciB0ZW1wbGF0ZXMuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgVEVNUExBVEVfQVRUUklCVVRFX05BTUUgPSAndGVtcGxhdGUnO1xuXG4vKipcbiAqIEEgbWFwcGluZyBvZiB0ZW1wbGF0ZSBhdHRyaWJ1dGUgdmFsdWVzIHRvIENTUyBjbGFzcyBuYW1lcy5cbiAqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmV4cG9ydCBjb25zdCBHUklEX0xBWUVSX1RFTVBMQVRFX0NMQVNTX05BTUVTID0ge1xuICAnZmlsbCc6ICdpLWFtcGh0bWwtc3RvcnktZ3JpZC10ZW1wbGF0ZS1maWxsJyxcbiAgJ3ZlcnRpY2FsJzogJ2ktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXZlcnRpY2FsJyxcbiAgJ2hvcml6b250YWwnOiAnaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtaG9yaXpvbnRhbCcsXG4gICd0aGlyZHMnOiAnaS1hbXBodG1sLXN0b3J5LWdyaWQtdGVtcGxhdGUtdGhpcmRzJyxcbn07XG5cbi8qKlxuICogR3JpZCBsYXllciB0ZW1wbGF0ZSB0ZW1wbGF0aW5nIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5R3JpZExheWVyIGV4dGVuZHMgQW1wU3RvcnlCYXNlTGF5ZXIge1xuICAvKiogQHBhcmFtIHshQW1wRWxlbWVudH0gZWxlbWVudCAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtib29sZWFufSBPbmx5IHByZXJlbmRlciBpZiBjaGlsZCBvZiB0aGUgZmlyc3QgcGFnZS4gKi9cbiAgICB0aGlzLnByZXJlbmRlckFsbG93ZWRfID0gbWF0Y2hlcyh0aGlzLmVsZW1lbnQsXG4gICAgICAgICdhbXAtc3RvcnktcGFnZTpmaXJzdC1vZi10eXBlIGFtcC1zdG9yeS1ncmlkLWxheWVyJyk7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5idWlsZENhbGxiYWNrKCk7XG4gICAgdGhpcy5hcHBseVRlbXBsYXRlQ2xhc3NOYW1lXygpO1xuICAgIHRoaXMuc2V0T3duQ3NzR3JpZFN0eWxlc18oKTtcbiAgICB0aGlzLnNldERlc2NlbmRlbnRDc3NHcmlkU3R5bGVzXygpO1xuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHByZXJlbmRlckFsbG93ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJlcmVuZGVyQWxsb3dlZF87XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIGludGVybmFsIENTUyBjbGFzcyBuYW1lcyBmb3IgdGhlIHRlbXBsYXRlIGF0dHJpYnV0ZSwgc28gdGhhdCBzdHlsZXNcbiAgICogY2FuIHVzZSB0aGUgY2xhc3MgbmFtZSBpbnN0ZWFkIG9mIGNvbXBvdW5kXG4gICAqIGFtcC1zdG9yeS1ncmlkLWxheWVyW3RlbXBsYXRlPVwiLi4uXCJdIHNlbGVjdG9ycywgc2luY2UgdGhlIGxhdHRlciBpbmNyZWFzZXNcbiAgICogQ1NTIHNwZWNpZmljaXR5IGFuZCBjYW4gcHJldmVudCB1c2VycyBmcm9tIGJlaW5nIGFibGUgdG8gb3ZlcnJpZGUgc3R5bGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXBwbHlUZW1wbGF0ZUNsYXNzTmFtZV8oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoVEVNUExBVEVfQVRUUklCVVRFX05BTUUpKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZU5hbWUgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFRFTVBMQVRFX0FUVFJJQlVURV9OQU1FKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlQ2xhc3NOYW1lID0gR1JJRF9MQVlFUl9URU1QTEFURV9DTEFTU19OQU1FU1t0ZW1wbGF0ZU5hbWVdO1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQodGVtcGxhdGVDbGFzc05hbWUpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIENvcGllcyB0aGUgd2hpdGVsaXN0ZWQgQ1NTIGdyaWQgc3R5bGVzIGZvciBkZXNjZW5kYW50cyBvZiB0aGVcbiAgICogPGFtcC1zdG9yeS1ncmlkLWxheWVyPiBlbGVtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0RGVzY2VuZGVudENzc0dyaWRTdHlsZXNfKCkge1xuICAgIGNvbnN0IGVsZW1lbnRzVG9VcGdyYWRlU3R5bGVzID0gc2NvcGVkUXVlcnlTZWxlY3RvckFsbCh0aGlzLmVsZW1lbnQsXG4gICAgICAgIFNVUFBPUlRFRF9DU1NfR1JJRF9BVFRSSUJVVEVTX1NFTEVDVE9SKTtcblxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxlbWVudHNUb1VwZ3JhZGVTdHlsZXMsIGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5zZXRDc3NHcmlkU3R5bGVzXyhlbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3BpZXMgdGhlIHdoaXRlbGlzdGVkIENTUyBncmlkIHN0eWxlcyBmb3IgdGhlIDxhbXAtc3RvcnktZ3JpZC1sYXllcj5cbiAgICogZWxlbWVudCBpdHNlbGYuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRPd25Dc3NHcmlkU3R5bGVzXygpIHtcbiAgICB0aGlzLnNldENzc0dyaWRTdHlsZXNfKHRoaXMuZWxlbWVudCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBhbiBlbGVtZW50J3MgYXR0cmlidXRlcyB0byBpdHMgc3R5bGVzLCBpZiB0aGVcbiAgICogYXR0cmlidXRlcy9wcm9wZXJ0aWVzIGFyZSBpbiB0aGUgd2hpdGVsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHdob3NlIHN0eWxlcyBzaG91bGQgYmUgY29waWVkIGZyb21cbiAgICogICAgIGl0cyBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgc2V0Q3NzR3JpZFN0eWxlc18oZWxlbWVudCkge1xuICAgIGZvciAobGV0IGkgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGVsZW1lbnQuYXR0cmlidXRlc1tpXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGUubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gU1VQUE9SVEVEX0NTU19HUklEX0FUVFJJQlVURVNbYXR0cmlidXRlTmFtZV07XG4gICAgICBpZiAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHNldFN0eWxlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSwgYXR0cmlidXRlLnZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtDU1N9IGZyb20gJy4uLy4uLy4uL2J1aWxkL2FtcC1zdG9yeS1oaW50LTEuMC5jc3MnO1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7XG4gIFN0YXRlUHJvcGVydHksXG4gIFVJVHlwZSxcbiAgZ2V0U3RvcmVTZXJ2aWNlLFxufSBmcm9tICcuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnR9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi9cbmNvbnN0IFRFTVBMQVRFID0ge1xuICB0YWc6ICdhc2lkZScsXG4gIGF0dHJzOiBkaWN0KHtcbiAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWhpbnQtY29udGFpbmVyICcgK1xuICAgICAgICAnaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1yZXNldCBpLWFtcGh0bWwtaGlkZGVuJ30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1uYXZpZ2F0aW9uLWhlbHAtb3ZlcmxheSd9KSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LW5hdmlnYXRpb24taGVscC1zZWN0aW9uJ1xuICAgICAgICAgICAgICArICcgcHJldi1wYWdlJ30pLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWhpbnQtcGxhY2Vob2xkZXInfSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbid9KSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAnaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbi1pY29uJ30pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzpcbiAgICAgICAgICAgICAgICAgICAgICAnaS1hbXBodG1sLXN0b3J5LWhpbnQtdGFwLWJ1dHRvbi10ZXh0J30pLFxuICAgICAgICAgICAgICAgICAgbG9jYWxpemVkU3RyaW5nSWQ6XG4gICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0hJTlRfVUlfUFJFVklPVVNfTEFCRUwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktbmF2aWdhdGlvbi1oZWxwLXNlY3Rpb24nXG4gICAgICAgICAgICAgICsgJyBuZXh0LXBhZ2UnfSksXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktaGludC1wbGFjZWhvbGRlcid9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uJ30pLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLWljb24nfSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOlxuICAgICAgICAgICAgICAgICAgICAgICdpLWFtcGh0bWwtc3RvcnktaGludC10YXAtYnV0dG9uLXRleHQnfSksXG4gICAgICAgICAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfSElOVF9VSV9ORVhUX0xBQkVMLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59O1xuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbmNvbnN0IE5BVklHQVRJT05fT1ZFUkxBWV9DTEFTUyA9ICdzaG93LW5hdmlnYXRpb24tb3ZlcmxheSc7XG5cbi8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuY29uc3QgRklSU1RfUEFHRV9PVkVSTEFZX0NMQVNTID0gJ3Nob3ctZmlyc3QtcGFnZS1vdmVybGF5JztcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5jb25zdCBOQVZJR0FUSU9OX09WRVJMQVlfVElNRU9VVCA9IDMwMDA7XG5cbi8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuY29uc3QgRklSU1RfUEFHRV9OQVZJR0FUSU9OX09WRVJMQVlfVElNRU9VVCA9IDI3NTtcblxuLyoqXG4gKiBVc2VyIEhpbnQgTGF5ZXIgZm9yIDxhbXAtc3Rvcnk+LlxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlIaW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudEVsIEVsZW1lbnQgd2hlcmUgdG8gYXBwZW5kIHRoZSBjb21wb25lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgcGFyZW50RWwpIHtcbiAgICAvKiogQHByaXZhdGUgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSBXaGV0aGVyIHRoZSBjb21wb25lbnQgaXMgYnVpbHQuICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHshRG9jdW1lbnR9ICovXG4gICAgdGhpcy5kb2N1bWVudF8gPSB0aGlzLndpbl8uZG9jdW1lbnQ7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHRoaXMud2luXyk7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdGltZXItaW1wbC5UaW1lcn0gKi9cbiAgICB0aGlzLnRpbWVyXyA9IFNlcnZpY2VzLnRpbWVyRm9yKHRoaXMud2luXyk7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuaGludENvbnRhaW5lcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/KG51bWJlcnxzdHJpbmcpfSAqL1xuICAgIHRoaXMuaGludFRpbWVvdXRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IGdldFN0b3JlU2VydmljZSh0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5wYXJlbnRFbF8gPSBwYXJlbnRFbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGhpbnQgbGF5ZXIgRE9NLlxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgaWYgKHRoaXMuaXNCdWlsdCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc0J1aWx0XyA9IHRydWU7XG5cbiAgICBjb25zdCByb290ID0gdGhpcy5kb2N1bWVudF8uY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5oaW50Q29udGFpbmVyXyA9IHJlbmRlckFzRWxlbWVudCh0aGlzLmRvY3VtZW50XywgVEVNUExBVEUpO1xuICAgIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUocm9vdCwgdGhpcy5oaW50Q29udGFpbmVyXywgQ1NTKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5SVExfU1RBVEUsIHJ0bFN0YXRlID0+IHtcbiAgICAgIHRoaXMub25SdGxTdGF0ZVVwZGF0ZV8ocnRsU3RhdGUpO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuXG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHRoaXMucGFyZW50RWxfLmFwcGVuZENoaWxkKHJvb3QpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGNvbXBvbmVudCBpcyBidWlsdC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQnVpbHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNCdWlsdF87XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGdpdmVuIGhpbnQsIG9ubHkgaWYgbm90IGRlc2t0b3AuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoaW50Q2xhc3NcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNob3dIaW50XyhoaW50Q2xhc3MpIHtcbiAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LlVJX1NUQVRFKSAhPT0gVUlUeXBlLk1PQklMRSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYnVpbGQoKTtcblxuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLmhpbnRDb250YWluZXJfLmNsYXNzTGlzdC50b2dnbGUoTkFWSUdBVElPTl9PVkVSTEFZX0NMQVNTLFxuICAgICAgICAgIGhpbnRDbGFzcyA9PSBOQVZJR0FUSU9OX09WRVJMQVlfQ0xBU1MpO1xuICAgICAgdGhpcy5oaW50Q29udGFpbmVyXy5jbGFzc0xpc3QudG9nZ2xlKEZJUlNUX1BBR0VfT1ZFUkxBWV9DTEFTUyxcbiAgICAgICAgICBoaW50Q2xhc3MgPT0gRklSU1RfUEFHRV9PVkVSTEFZX0NMQVNTKTtcbiAgICAgIHRoaXMuaGludENvbnRhaW5lcl8uY2xhc3NMaXN0LnJlbW92ZSgnaS1hbXBodG1sLWhpZGRlbicpO1xuXG4gICAgICBjb25zdCBoaWRlVGltZW91dCA9IGhpbnRDbGFzcyA9PSBOQVZJR0FUSU9OX09WRVJMQVlfQ0xBU1NcbiAgICAgICAgPyBOQVZJR0FUSU9OX09WRVJMQVlfVElNRU9VVCA6IEZJUlNUX1BBR0VfTkFWSUdBVElPTl9PVkVSTEFZX1RJTUVPVVQ7XG4gICAgICB0aGlzLmhpZGVBZnRlclRpbWVvdXQoaGlkZVRpbWVvdXQpO1xuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICogU2hvdyBuYXZpZ2F0aW9uIG92ZXJsYXkgRE9NLlxuICAgKi9cbiAgc2hvd05hdmlnYXRpb25PdmVybGF5KCkge1xuICAgIC8vIERvbid0IHNob3cgdGhlIG92ZXJsYXkgaWYgdGhlIHNoYXJlIG1lbnUgaXMgb3Blbi5cbiAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LlNIQVJFX01FTlVfU1RBVEUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaG93SGludF8oTkFWSUdBVElPTl9PVkVSTEFZX0NMQVNTKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IG5hdmlnYXRpb24gb3ZlcmxheSBET00uXG4gICAqL1xuICBzaG93Rmlyc3RQYWdlSGludE92ZXJsYXkoKSB7XG4gICAgdGhpcy5zaG93SGludF8oRklSU1RfUEFHRV9PVkVSTEFZX0NMQVNTKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgb3ZlcmxheSBhZnRlciBhIGdpdmVuIHRpbWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXRcbiAgICovXG4gIGhpZGVBZnRlclRpbWVvdXQodGltZW91dCkge1xuICAgIHRoaXMuaGludFRpbWVvdXRfID0gdGhpcy50aW1lcl8uZGVsYXkoXG4gICAgICAgICgpID0+IHRoaXMuaGlkZUludGVybmFsXygpLCB0aW1lb3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGFsbCBuYXZpZ2F0aW9uIGhpbnRzLlxuICAgKi9cbiAgaGlkZUFsbE5hdmlnYXRpb25IaW50KCkge1xuICAgIHRoaXMuaGlkZUludGVybmFsXygpO1xuXG4gICAgaWYgKHRoaXMuaGludFRpbWVvdXRfICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnRpbWVyXy5jYW5jZWwodGhpcy5oaW50VGltZW91dF8pO1xuICAgICAgdGhpcy5oaW50VGltZW91dF8gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBoaWRlSW50ZXJuYWxfKCkge1xuICAgIGlmICghdGhpcy5pc0J1aWx0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5oaW50Q29udGFpbmVyXy5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtaGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIFJUTCBzdGF0ZSB1cGRhdGVzIGFuZCB0cmlnZ2VycyB0aGUgVUkgZm9yIFJUTC5cbiAgICogQHBhcmFtIHtib29sZWFufSBydGxTdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SdGxTdGF0ZVVwZGF0ZV8ocnRsU3RhdGUpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgcnRsU3RhdGUgP1xuICAgICAgICB0aGlzLmhpbnRDb250YWluZXJfLnNldEF0dHJpYnV0ZSgnZGlyJywgJ3J0bCcpIDpcbiAgICAgICAgdGhpcy5oaW50Q29udGFpbmVyXy5yZW1vdmVBdHRyaWJ1dGUoJ2RpcicpO1xuICAgIH0pO1xuICB9XG59XG5cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBY3Rpb24sXG4gIFN0YXRlUHJvcGVydHksXG4gIGdldFN0b3JlU2VydmljZSxcbn0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LWluZm8tZGlhbG9nLTEuMC5jc3MnO1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7YXNzZXJ0QWJzb2x1dGVIdHRwT3JIdHRwc1VybH0gZnJvbSAnLi4vLi4vLi4vc3JjL3VybCc7XG5pbXBvcnQge2Nsb3Nlc3R9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7Z2V0QW1wZG9jfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZSc7XG5pbXBvcnQge2h0bWxGb3J9IGZyb20gJy4uLy4uLy4uL3NyYy9zdGF0aWMtdGVtcGxhdGUnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9IENsYXNzIHRvIHRvZ2dsZSB0aGUgaW5mbyBkaWFsb2cuICovXG5leHBvcnQgY29uc3QgRElBTE9HX1ZJU0lCTEVfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LWluZm8tZGlhbG9nLXZpc2libGUnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9IENsYXNzIHRvIHRvZ2dsZSB0aGUgaW5mbyBkaWFsb2cgbGluay4gKi9cbmV4cG9ydCBjb25zdCBNT1JFSU5GT19WSVNJQkxFX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvLXZpc2libGUnO1xuXG4vKipcbiAqIEEgZGlhbG9nIHRoYXQgcHJvdmlkZXMgYSBsaW5rIHRvIHRoZSBjYW5vbmljYWwgVVJMIG9mIHRoZSBzdG9yeSwgYXMgd2VsbCBhc1xuICogYSBsaW5rIHRvIGFueSBtb3JlIGluZm9ybWF0aW9uIHRoYXQgdGhlIHZpZXdlciB3b3VsZCBsaWtlIHRvIHByb3ZpZGUgYWJvdXRcbiAqIGxpbmtpbmcgb24gdGhhdCBwbGF0Zm9ybS5cbiAqL1xuZXhwb3J0IGNsYXNzIEluZm9EaWFsb2cge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50RWwgRWxlbWVudCB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbXBvbmVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBwYXJlbnRFbCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5pbm5lckNvbnRhaW5lckVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2V9ICovXG4gICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlXyA9IFNlcnZpY2VzLmxvY2FsaXphdGlvblNlcnZpY2UodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IGdldFN0b3JlU2VydmljZSh0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5wYXJlbnRFbF8gPSBwYXJlbnRFbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS9yZXNvdXJjZXMtaW1wbC5SZXNvdXJjZXN9ICovXG4gICAgdGhpcy5yZXNvdXJjZXNfID0gU2VydmljZXMucmVzb3VyY2VzRm9yRG9jKGdldEFtcGRvYyh0aGlzLndpbl8uZG9jdW1lbnQpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5tb3JlSW5mb0xpbmtFbF8gPSBudWxsO1xuXG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZpZXdlci1pbXBsLlZpZXdlcn0gKi9cbiAgICB0aGlzLnZpZXdlcl8gPSBTZXJ2aWNlcy52aWV3ZXJGb3JEb2ModGhpcy5wYXJlbnRFbF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgYXBwZW5kcyB0aGUgY29tcG9uZW50IGluIHRoZSBzdG9yeS5cbiAgICogQHJldHVybiB7IVByb21pc2V9IHVzZWQgZm9yIHRlc3RpbmcgdG8gZW5zdXJlIHRoYXQgdGhlIGNvbXBvbmVudCBpcyBidWlsdFxuICAgKiAgICAgYmVmb3JlIGFzc2VydGlvbnMuXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBpZiAodGhpcy5pc0J1aWx0KCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzQnVpbHRfID0gdHJ1ZTtcbiAgICBjb25zdCByb290ID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGh0bWwgPSBodG1sRm9yKHRoaXMucGFyZW50RWxfKTtcbiAgICB0aGlzLmVsZW1lbnRfID0gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZyBpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLXJlc2V0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1pbmZvLWhlYWRpbmdcIj48L2gxPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktaW5mby1saW5rXCI+PC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktaW5mby1tb3JlaW5mb1wiPjwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcblxuICAgIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUocm9vdCwgdGhpcy5lbGVtZW50XywgQ1NTKTtcbiAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNfKCk7XG5cbiAgICB0aGlzLmlubmVyQ29udGFpbmVyRWxfID0gdGhpcy5lbGVtZW50X1xuICAgICAgICAucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1pbmZvLWRpYWxvZy1jb250YWluZXInKTtcblxuICAgIGNvbnN0IGFwcGVuZFByb21pc2UgPSB0aGlzLnJlc291cmNlc18ubXV0YXRlRWxlbWVudCh0aGlzLnBhcmVudEVsXywgKCkgPT4ge1xuICAgICAgdGhpcy5wYXJlbnRFbF8uYXBwZW5kQ2hpbGQocm9vdCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBwYWdlVXJsID0gU2VydmljZXMuZG9jdW1lbnRJbmZvRm9yRG9jKFxuICAgICAgICBnZXRBbXBkb2ModGhpcy5wYXJlbnRFbF8pKS5jYW5vbmljYWxVcmw7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgYXBwZW5kUHJvbWlzZSxcbiAgICAgIHRoaXMuc2V0SGVhZGluZ18oKSxcbiAgICAgIHRoaXMuc2V0UGFnZUxpbmtfKHBhZ2VVcmwpLFxuICAgICAgdGhpcy5yZXF1ZXN0TW9yZUluZm9MaW5rXygpXG4gICAgICAgICAgLnRoZW4obW9yZUluZm9VcmwgPT4gdGhpcy5zZXRNb3JlSW5mb0xpbmtVcmxfKG1vcmVJbmZvVXJsKSksXG4gICAgXSk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgZWxlbWVudCBoYXMgYmVlbiBidWlsdC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQnVpbHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNCdWlsdF87XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVMaXN0ZW5lcnNfKCkge1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5JTkZPX0RJQUxPR19TVEFURSwgaXNPcGVuID0+IHtcbiAgICAgIHRoaXMub25JbmZvRGlhbG9nU3RhdGVVcGRhdGVkXyhpc09wZW4pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnY2xpY2snLCBldmVudCA9PiB0aGlzLm9uSW5mb0RpYWxvZ0NsaWNrXyhldmVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBtZW51IHN0YXRlIHVwZGF0ZXMgYW5kIGRlY2lkZXMgd2hldGhlciB0byBzaG93IGVpdGhlciB0aGUgbmF0aXZlXG4gICAqIHN5c3RlbSBzaGFyaW5nLCBvciB0aGUgZmFsbGJhY2sgVUkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPcGVuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkluZm9EaWFsb2dTdGF0ZVVwZGF0ZWRfKGlzT3Blbikge1xuICAgIHRoaXMucmVzb3VyY2VzXy5tdXRhdGVFbGVtZW50KGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5lbGVtZW50XyksICgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnRvZ2dsZShESUFMT0dfVklTSUJMRV9DTEFTUywgaXNPcGVuKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBhbmQgbWF5YmUgY2xvc2VzIHRoZSBkaWFsb2cuXG4gICAqIEBwYXJhbSAgeyFFdmVudH0gZXZlbnRcbiAgICovXG4gIG9uSW5mb0RpYWxvZ0NsaWNrXyhldmVudCkge1xuICAgIGNvbnN0IGVsID0gZGV2KCkuYXNzZXJ0RWxlbWVudChldmVudC50YXJnZXQpO1xuICAgIC8vIENsb3NlcyB0aGUgZGlhbG9nIGlmIGNsaWNrIGhhcHBlbmVkIG91dHNpZGUgb2YgdGhlIGRpYWxvZyBtYWluIGNvbnRhaW5lci5cbiAgICBpZiAoIWNsb3Nlc3QoZWwsIGVsID0+IGVsID09PSB0aGlzLmlubmVyQ29udGFpbmVyRWxfLCB0aGlzLmVsZW1lbnRfKSkge1xuICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBpbmZvIGRpYWxvZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNsb3NlXygpIHtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9JTkZPX0RJQUxPRywgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPD9zdHJpbmc+fSBUaGUgVVJMIHRvIHZpc2l0IHRvIHJlY2VpdmUgbW9yZSBpbmZvIG9uIHRoaXNcbiAgICogICAgIHBhZ2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXF1ZXN0TW9yZUluZm9MaW5rXygpIHtcbiAgICBjb25zdCBtZXNzYWdpbmdQcm9taXNlID0gdGhpcy52aWV3ZXJfLndoZW5NZXNzYWdpbmdSZWFkeSgpO1xuXG4gICAgaWYgKCFtZXNzYWdpbmdQcm9taXNlKSB7XG4gICAgICAvLyBUaGVyZSBpcyBubyB2aWV3ZXIgdG8gc3VwcGx5IHRoZSBtb3JlIGluZm8gVVJMLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXNzYWdpbmdQcm9taXNlXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJfLi8qT0sqL3NlbmRNZXNzYWdlQXdhaXRSZXNwb25zZSgnbW9yZUluZm9MaW5rVXJsJyxcbiAgICAgICAgICAgICAgLyogZGF0YSAqLyB1bmRlZmluZWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihtb3JlSW5mb1VybCA9PiB7XG4gICAgICAgICAgaWYgKCFtb3JlSW5mb1VybCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGFzc2VydEFic29sdXRlSHR0cE9ySHR0cHNVcmwoZGV2KCkuYXNzZXJ0U3RyaW5nKG1vcmVJbmZvVXJsKSk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGhlYWRpbmcgb24gdGhlIGRpYWxvZy5cbiAgICovXG4gIHNldEhlYWRpbmdfKCkge1xuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlXy5nZXRMb2NhbGl6ZWRTdHJpbmcoXG4gICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUwpO1xuICAgIGNvbnN0IGhlYWRpbmdFbCA9IGRldigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1pbmZvLWhlYWRpbmcnKSk7XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvdXJjZXNfLm11dGF0ZUVsZW1lbnQoaGVhZGluZ0VsLCAoKSA9PiB7XG4gICAgICBoZWFkaW5nRWwudGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZVVybCBUaGUgVVJMIHRvIHRoZSBjYW5vbmljYWwgdmVyc2lvbiBvZiB0aGUgY3VycmVudFxuICAgKiAgICAgZG9jdW1lbnQuXG4gICAqL1xuICBzZXRQYWdlTGlua18ocGFnZVVybCkge1xuICAgIGNvbnN0IGxpbmtFbCA9IGRldigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1pbmZvLWxpbmsnKSk7XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvdXJjZXNfLm11dGF0ZUVsZW1lbnQobGlua0VsLCAoKSA9PiB7XG4gICAgICBsaW5rRWwuc2V0QXR0cmlidXRlKCdocmVmJywgcGFnZVVybCk7XG5cbiAgICAgIC8vIEFkZCB6ZXJvLXdpZHRoIHNwYWNlIGNoYXJhY3RlciAoXFx1MjAwQikgYWZ0ZXIgXCIuXCIgYW5kIFwiL1wiIGNoYXJhY3RlcnNcbiAgICAgIC8vIHRvIGhlbHAgbGluZS1icmVha3Mgb2NjdXIgbW9yZSBuYXR1cmFsbHkuXG4gICAgICBsaW5rRWwudGV4dENvbnRlbnQgPSBwYWdlVXJsLnJlcGxhY2UoLyhbLy5dKykvZ2ksICckMVxcdTIwMEInKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG1vcmVJbmZvVXJsIFRoZSBVUkwgdG8gdGhlIFwibW9yZSBpbmZvXCIgcGFnZSwgaWYgdGhlcmUgaXNcbiAgICogb25lLlxuICAgKi9cbiAgc2V0TW9yZUluZm9MaW5rVXJsXyhtb3JlSW5mb1VybCkge1xuICAgIGlmICghbW9yZUluZm9VcmwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLm1vcmVJbmZvTGlua0VsXyA9IGRldigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1pbmZvLW1vcmVpbmZvJykpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzXy5tdXRhdGVFbGVtZW50KHRoaXMubW9yZUluZm9MaW5rRWxfLCAoKSA9PiB7XG4gICAgICBjb25zdCBsYWJlbCA9IHRoaXMubG9jYWxpemF0aW9uU2VydmljZV8uZ2V0TG9jYWxpemVkU3RyaW5nKFxuICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOSyk7XG4gICAgICB0aGlzLm1vcmVJbmZvTGlua0VsXy5jbGFzc0xpc3QuYWRkKE1PUkVJTkZPX1ZJU0lCTEVfQ0xBU1MpO1xuICAgICAgdGhpcy5tb3JlSW5mb0xpbmtFbF8uc2V0QXR0cmlidXRlKCdocmVmJyxcbiAgICAgICAgICBkZXYoKS5hc3NlcnRTdHJpbmcobW9yZUluZm9VcmwpKTtcbiAgICAgIHRoaXMubW9yZUluZm9MaW5rRWxfLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgICAgdGhpcy5tb3JlSW5mb0xpbmtFbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBFbWJlZHMgYSBzdG9yeVxuICpcbiAqIEV4YW1wbGU6XG4gKiA8Y29kZT5cbiAqIDxhbXAtc3RvcnktcGFnZT5cbiAqIDwvYW1wLXN0b3J5PlxuICogPC9jb2RlPlxuICovXG5pbXBvcnQge0FkdmFuY2VtZW50Q29uZmlnfSBmcm9tICcuL3BhZ2UtYWR2YW5jZW1lbnQnO1xuaW1wb3J0IHtcbiAgQW5pbWF0aW9uTWFuYWdlcixcbiAgaGFzQW5pbWF0aW9ucyxcbn0gZnJvbSAnLi9hbmltYXRpb24nO1xuaW1wb3J0IHtEZWZlcnJlZH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL3Byb21pc2UnO1xuaW1wb3J0IHtFdmVudFR5cGUsIGRpc3BhdGNofSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge0xvYWRpbmdTcGlubmVyfSBmcm9tICcuL2xvYWRpbmctc3Bpbm5lcic7XG5pbXBvcnQge01lZGlhUG9vbH0gZnJvbSAnLi9tZWRpYS1wb29sJztcbmltcG9ydCB7UGFnZVNjYWxpbmdTZXJ2aWNlfSBmcm9tICcuL3BhZ2Utc2NhbGluZyc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtWaWRlb1NlcnZpY2VTeW5jfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZS92aWRlby1zZXJ2aWNlLXN5bmMtaW1wbCc7XG5pbXBvcnQge1xuICBjbG9zZXN0QnlTZWxlY3RvcixcbiAgaXRlcmF0ZUN1cnNvcixcbiAgbWF0Y2hlcyxcbiAgc2NvcGVkUXVlcnlTZWxlY3RvckFsbCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RlYm91bmNlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRGcmllbmRseUlmcmFtZUVtYmVkT3B0aW9uYWx9IGZyb20gJy4uLy4uLy4uL3NyYy9mcmllbmRseS1pZnJhbWUtZW1iZWQnO1xuaW1wb3J0IHtnZXRMb2dFbnRyaWVzfSBmcm9tICcuL2xvZ2dpbmcnO1xuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZSc7XG5pbXBvcnQge2xpc3Rlbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge3RvQXJyYXl9IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge3VwZ3JhZGVCYWNrZ3JvdW5kQXVkaW99IGZyb20gJy4vYXVkaW8nO1xuXG4vKipcbiAqIENTUyBjbGFzcyBmb3IgYW4gYW1wLXN0b3J5LXBhZ2UgdGhhdCBpbmRpY2F0ZXMgdGhlIGVudGlyZSBwYWdlIGlzIGxvYWRlZC5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBQQUdFX0xPQURFRF9DTEFTU19OQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1wYWdlLWxvYWRlZCc7XG5cbi8qKlxuICogU2VsZWN0b3JzIGZvciBtZWRpYSBlbGVtZW50c1xuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgU2VsZWN0b3JzID0ge1xuICAvLyB3aGljaCBtZWRpYSB0byB3YWl0IGZvciBvbiBwYWdlIGxheW91dC5cbiAgQUxMX0FNUF9NRURJQTogJ2FtcC1hdWRpbywgYW1wLXZpZGVvLCBhbXAtaW1nLCBhbXAtYW5pbScsXG4gIEFMTF9NRURJQTogJ2F1ZGlvLCB2aWRlbycsXG4gIEFMTF9WSURFTzogJ3ZpZGVvJyxcbn07XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFRBRyA9ICdhbXAtc3RvcnktcGFnZSc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFEVkVSVElTRU1FTlRfQVRUUl9OQU1FID0gJ2FkJztcblxuLyoqXG4gKiBhbXAtc3RvcnktcGFnZSBzdGF0ZXMuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgUGFnZVN0YXRlID0ge1xuICBOT1RfQUNUSVZFOiAwLCAvLyBQYWdlIGlzIG5vdCBkaXNwbGF5ZWQuIENvdWxkIHN0aWxsIGJlIHZpc2libGUgb24gZGVza3RvcC5cbiAgQUNUSVZFOiAxLCAvLyBQYWdlIGlzIGN1cnJlbnRseSB0aGUgbWFpbiBwYWdlLCBhbmQgcGxheWluZy5cbiAgUEFVU0VEOiAyLCAvLyBQYWdlIGlzIGN1cnJlbnRseSB0aGUgbWFpbiBwYWdlLCBidXQgbm90IHBsYXlpbmcuXG59O1xuXG4vKipcbiAqIFRoZSA8YW1wLXN0b3J5LXBhZ2U+IGN1c3RvbSBlbGVtZW50LCB3aGljaCByZXByZXNlbnRzIGEgc2luZ2xlIHBhZ2Ugb2ZcbiAqIGFuIDxhbXAtc3Rvcnk+LlxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlQYWdlIGV4dGVuZHMgQU1QLkJhc2VFbGVtZW50IHtcbiAgLyoqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QW5pbWF0aW9uTWFuYWdlcn0gKi9cbiAgICB0aGlzLmFuaW1hdGlvbk1hbmFnZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBZHZhbmNlbWVudENvbmZpZ30gKi9cbiAgICB0aGlzLmFkdmFuY2VtZW50XyA9IEFkdmFuY2VtZW50Q29uZmlnLmZvclBhZ2UodGhpcyk7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshZnVuY3Rpb24oYm9vbGVhbil9ICovXG4gICAgdGhpcy5kZWJvdW5jZVRvZ2dsZUxvYWRpbmdTcGlubmVyXyA9IGRlYm91bmNlKFxuICAgICAgICB0aGlzLndpbiwgaXNBY3RpdmUgPT4gdGhpcy50b2dnbGVMb2FkaW5nU3Bpbm5lcl8oISFpc0FjdGl2ZSksIDEwMCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9Mb2FkaW5nU3Bpbm5lcn0gKi9cbiAgICB0aGlzLmxvYWRpbmdTcGlubmVyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLm1lZGlhTGF5b3V0UHJvbWlzZV8gPSB0aGlzLndhaXRGb3JNZWRpYUxheW91dF8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMucGFnZUxvYWRQcm9taXNlXyA9IHRoaXMubWVkaWFMYXlvdXRQcm9taXNlXy50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMubWFya1BhZ2VBc0xvYWRlZF8oKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZTwhTWVkaWFQb29sPn0gKi9cbiAgICB0aGlzLm1lZGlhUG9vbFByb21pc2VfID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFmdW5jdGlvbighTWVkaWFQb29sKX0gKi9cbiAgICB0aGlzLm1lZGlhUG9vbFJlc29sdmVGbl8gPSBkZWZlcnJlZC5yZXNvbHZlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IWZ1bmN0aW9uKCopfSAqL1xuICAgIHRoaXMubWVkaWFQb29sUmVqZWN0Rm5fID0gZGVmZXJyZWQucmVqZWN0O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gT25seSBwcmVyZW5kZXIgdGhlIGZpcnN0IHN0b3J5IHBhZ2UuICovXG4gICAgdGhpcy5wcmVyZW5kZXJBbGxvd2VkXyA9IG1hdGNoZXModGhpcy5lbGVtZW50LFxuICAgICAgICAnYW1wLXN0b3J5LXBhZ2U6Zmlyc3Qtb2YtdHlwZScpO1xuXG4gICAgLyoqIEBwcml2YXRlIHshUGFnZVN0YXRlfSAqL1xuICAgIHRoaXMuc3RhdGVfID0gUGFnZVN0YXRlLk5PVF9BQ1RJVkU7XG5cbiAgICAvKiogQHByaXZhdGUgeyFBcnJheTxmdW5jdGlvbigpPn0gKi9cbiAgICB0aGlzLnVubGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdXNlciBhZ2VudCBtYXRjaGVzIGEgYm90LiAgVGhpcyBpcyB1c2VkIHRvIHByZXZlbnQgcmVzb3VyY2VcbiAgICAgKiBvcHRpbWl6YXRpb25zIHRoYXQgbWFrZSB0aGUgZG9jdW1lbnQgbGVzcyB1c2VmdWwgYXQgY3Jhd2wgdGltZSwgZS5nLlxuICAgICAqIHJlbW92aW5nIHNvdXJjZXMgZnJvbSB2aWRlb3MuXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNCb3RVc2VyQWdlbnRfID0gU2VydmljZXMucGxhdGZvcm1Gb3IodGhpcy53aW4pLmlzQm90KCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWF5YmVDcmVhdGVBbmltYXRpb25NYW5hZ2VyXygpIHtcbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uTWFuYWdlcl8pIHtcbiAgICAgIGlmICghaGFzQW5pbWF0aW9ucyh0aGlzLmVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyXyA9IEFuaW1hdGlvbk1hbmFnZXIuY3JlYXRlKFxuICAgICAgICAgIHRoaXMuZWxlbWVudCwgdGhpcy5nZXRBbXBEb2MoKSwgdGhpcy5nZXRBbXBEb2MoKS5nZXRVcmwoKSk7XG4gICAgfVxuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgdXBncmFkZUJhY2tncm91bmRBdWRpbyh0aGlzLmVsZW1lbnQpO1xuICAgIHRoaXMuZGVsZWdhdGVWaWRlb0F1dG9wbGF5KCk7XG4gICAgdGhpcy5tYXJrTWVkaWFFbGVtZW50c1dpdGhQcmVsb2FkXygpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZU1lZGlhUG9vbF8oKTtcbiAgICB0aGlzLm1heWJlQ3JlYXRlQW5pbWF0aW9uTWFuYWdlcl8oKTtcbiAgICB0aGlzLmFkdmFuY2VtZW50Xy5hZGRQcmV2aW91c0xpc3RlbmVyKCgpID0+IHRoaXMucHJldmlvdXMoKSk7XG4gICAgdGhpcy5hZHZhbmNlbWVudF9cbiAgICAgICAgLmFkZEFkdmFuY2VMaXN0ZW5lcigoKSA9PiB0aGlzLm5leHQoLyogb3B0X2lzQXV0b21hdGljQWR2YW5jZSAqLyB0cnVlKSk7XG4gICAgdGhpcy5hZHZhbmNlbWVudF8uYWRkT25UYXBOYXZpZ2F0aW9uTGlzdGVuZXIoXG4gICAgICAgIG5hdmlnYXRpb25EaXJlY3Rpb24gPT4gdGhpcy5uYXZpZ2F0ZU9uVGFwKG5hdmlnYXRpb25EaXJlY3Rpb24pKTtcbiAgICB0aGlzLmFkdmFuY2VtZW50X1xuICAgICAgICAuYWRkUHJvZ3Jlc3NMaXN0ZW5lcihwcm9ncmVzcyA9PiB0aGlzLmVtaXRQcm9ncmVzc18ocHJvZ3Jlc3MpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIERlbGVnYXRlcyB2aWRlbyBhdXRvcGxheSBzbyB0aGUgdmlkZW8gbWFuYWdlciBkb2VzIG5vdCBmb2xsb3cgdGhlXG4gICAqIGF1dG9wbGF5IGF0dHJpYnV0ZSB0aGF0IG1heSBoYXZlIGJlZW4gc2V0IGJ5IGEgcHVibGlzaGVyLCB3aGljaCBjb3VsZFxuICAgKiBwbGF5IHZpZGVvcyBmcm9tIGFuIGluYWN0aXZlIHBhZ2UuXG4gICAqL1xuICBkZWxlZ2F0ZVZpZGVvQXV0b3BsYXkoKSB7XG4gICAgY29uc3QgdmlkZW9zID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FtcC12aWRlbycpO1xuICAgIGlmICh2aWRlb3MubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b0FycmF5KHZpZGVvcykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBWaWRlb1NlcnZpY2VTeW5jLmRlbGVnYXRlQXV0b3BsYXkoLyoqIEB0eXBlIHshQW1wRWxlbWVudH0gKi8gKGVsKSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBpbml0aWFsaXplTWVkaWFQb29sXygpIHtcbiAgICBjb25zdCBzdG9yeUVsID0gZGV2KCkuYXNzZXJ0RWxlbWVudChcbiAgICAgICAgY2xvc2VzdEJ5U2VsZWN0b3IodGhpcy5lbGVtZW50LCAnYW1wLXN0b3J5JyksXG4gICAgICAgICdhbXAtc3RvcnktcGFnZSBtdXN0IGJlIGEgZGVzY2VuZGFudCBvZiBhbXAtc3RvcnkuJyk7XG5cbiAgICBzdG9yeUVsLmdldEltcGwoKVxuICAgICAgICAudGhlbihzdG9yeUltcGwgPT4ge1xuICAgICAgICAgIHRoaXMubWVkaWFQb29sUmVzb2x2ZUZuXyhNZWRpYVBvb2wuZm9yKHN0b3J5SW1wbCkpO1xuICAgICAgICB9LCByZWFzb24gPT4gdGhpcy5tZWRpYVBvb2xSZWplY3RGbl8ocmVhc29uKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBNYXJrcyBhbnkgQU1QIGVsZW1lbnRzIHRoYXQgcmVwcmVzZW50IG1lZGlhIGVsZW1lbnRzIHdpdGggcHJlbG9hZD1cImF1dG9cIi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1hcmtNZWRpYUVsZW1lbnRzV2l0aFByZWxvYWRfKCkge1xuICAgIGNvbnN0IG1lZGlhU2V0ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FtcC1hdWRpbywgYW1wLXZpZGVvJyk7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtZWRpYVNldCwgbWVkaWFJdGVtID0+IHtcbiAgICAgIG1lZGlhSXRlbS5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGlzTGF5b3V0U3VwcG9ydGVkKGxheW91dCkge1xuICAgIHJldHVybiBsYXlvdXQgPT0gTGF5b3V0LkNPTlRBSU5FUjtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIHRoZSBwYWdlLlxuICAgKiBAcGFyYW0geyFQYWdlU3RhdGV9IHN0YXRlXG4gICAqL1xuICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgUGFnZVN0YXRlLk5PVF9BQ1RJVkU6XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLnBhdXNlQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBhZ2VTdGF0ZS5BQ1RJVkU6XG4gICAgICAgIGlmICh0aGlzLnN0YXRlXyA9PT0gUGFnZVN0YXRlLk5PVF9BQ1RJVkUpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhY3RpdmUnLCAnJyk7XG4gICAgICAgICAgdGhpcy5yZXN1bWVDYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVfID09PSBQYWdlU3RhdGUuUEFVU0VEKSB7XG4gICAgICAgICAgdGhpcy5hZHZhbmNlbWVudF8uc3RhcnQoKTtcbiAgICAgICAgICB0aGlzLnBsYXlBbGxNZWRpYV8oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGVfID0gc3RhdGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQYWdlU3RhdGUuUEFVU0VEOlxuICAgICAgICB0aGlzLmFkdmFuY2VtZW50Xy5zdG9wKCk7XG4gICAgICAgIHRoaXMucGF1c2VBbGxNZWRpYV8oZmFsc2UgLyoqIHJld2luZFRvQmVnaW5uaW5nICovKTtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkZXYoKS53YXJuKFRBRywgYFBhZ2VTdGF0ZSAke3N0YXRlfSBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcGF1c2VDYWxsYmFjaygpIHtcbiAgICB0aGlzLmFkdmFuY2VtZW50Xy5zdG9wKCk7XG5cbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmdUb1ZpZGVvRXZlbnRzXygpO1xuICAgIHRoaXMucGF1c2VBbGxNZWRpYV8odHJ1ZSAvKiogcmV3aW5kVG9CZWdpbm5pbmcgKi8pO1xuXG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uTWFuYWdlcl8pIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlcl8uY2FuY2VsQWxsKCk7XG4gICAgfVxuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc3VtZUNhbGxiYWNrKCkge1xuICAgIHRoaXMucmVnaXN0ZXJBbGxNZWRpYV8oKTtcblxuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHRoaXMuYWR2YW5jZW1lbnRfLnN0YXJ0KCk7XG4gICAgICB0aGlzLm1heWJlU3RhcnRBbmltYXRpb25zKCk7XG4gICAgICB0aGlzLnByZWxvYWRBbGxNZWRpYV8oKVxuICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuc3RhcnRMaXN0ZW5pbmdUb1ZpZGVvRXZlbnRzXygpKVxuICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMucGxheUFsbE1lZGlhXygpKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcG9ydERldk1vZGVFcnJvcnNfKCk7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbGF5b3V0Q2FsbGJhY2soKSB7XG4gICAgdGhpcy5tdXRlQWxsTWVkaWEoKTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLmJlZm9yZVZpc2libGUoKSxcbiAgICAgIHRoaXMubWVkaWFMYXlvdXRQcm9taXNlXyxcbiAgICAgIHRoaXMubWVkaWFQb29sUHJvbWlzZV8sXG4gICAgXSk7XG4gIH1cblxuXG4gIC8qKiBAcmV0dXJuIHshUHJvbWlzZX0gKi9cbiAgYmVmb3JlVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZV8oKS50aGVuKCgpID0+IHRoaXMubWF5YmVBcHBseUZpcnN0QW5pbWF0aW9uRnJhbWUoKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHdhaXRGb3JNZWRpYUxheW91dF8oKSB7XG4gICAgY29uc3QgbWVkaWFTZXQgPSB0aGlzLmdldE1lZGlhQnlTZWxlY3Rvcl8oU2VsZWN0b3JzLkFMTF9BTVBfTUVESUEpO1xuXG4gICAgY29uc3QgbWVkaWFQcm9taXNlcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChtZWRpYVNldCwgbWVkaWFFbCA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHN3aXRjaCAobWVkaWFFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBjYXNlICdhbXAtaW1nJzpcbiAgICAgICAgICBjYXNlICdhbXAtYW5pbSc6XG4gICAgICAgICAgICBtZWRpYUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCB0cnVlIC8qIHVzZUNhcHR1cmUgKi8pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYW1wLWF1ZGlvJzpcbiAgICAgICAgICBjYXNlICdhbXAtdmlkZW8nOlxuICAgICAgICAgICAgaWYgKG1lZGlhRWwucmVhZHlTdGF0ZSA+PSAyKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZWRpYUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCByZXNvbHZlLCB0cnVlIC8qIHVzZUNhcHR1cmUgKi8pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIEFueSBvdGhlciB0YWdzIHNob3VsZCBub3QgYmxvY2sgbG9hZGluZy5cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIHN1cHByZXNzIGVycm9ycyBzbyB0aGF0IFByb21pc2UuYWxsIHdpbGwgc3RpbGwgd2FpdCBmb3IgYWxsXG4gICAgICAgIC8vIHByb21pc2VzIHRvIGNvbXBsZXRlLCBldmVuIGlmIG9uZSBoYXMgZmFpbGVkLiAgV2UgZG8gbm90aGluZyB3aXRoIHRoZVxuICAgICAgICAvLyBlcnJvciwgYXMgdGhlIHJlc291cmNlIGl0c2VsZiBhbmQvb3IgY29kZSB0aGF0IGxvYWRzIGl0IHNob3VsZCBoYW5kbGVcbiAgICAgICAgLy8gdGhlIGVycm9yLlxuICAgICAgICBtZWRpYUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgcmVzb2x2ZSwgdHJ1ZSAvKiB1c2VDYXB0dXJlICovKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKG1lZGlhUHJvbWlzZXMpO1xuICB9XG5cblxuICAvKiogQHJldHVybiB7IVByb21pc2V9ICovXG4gIHdoZW5Mb2FkZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUxvYWRQcm9taXNlXztcbiAgfVxuXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG1hcmtQYWdlQXNMb2FkZWRfKCkge1xuICAgIGRpc3BhdGNoKHRoaXMud2luLCB0aGlzLmVsZW1lbnQsIEV2ZW50VHlwZS5QQUdFX0xPQURFRCxcbiAgICAgICAgLyogcGF5bG9hZCAqLyB1bmRlZmluZWQsIHtidWJibGVzOiB0cnVlfSk7XG4gICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFBBR0VfTE9BREVEX0NMQVNTX05BTUUpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHByZXJlbmRlckFsbG93ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJlcmVuZGVyQWxsb3dlZF87XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCBtZWRpYSBlbGVtZW50cyBvbiB0aGlzIHBhZ2UuXG4gICAqIEByZXR1cm4geyFBcnJheTw/RWxlbWVudD59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRBbGxNZWRpYV8oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWVkaWFCeVNlbGVjdG9yXyhTZWxlY3RvcnMuQUxMX01FRElBKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIHZpZGVvIGVsZW1lbnRzIG9uIHRoaXMgcGFnZS5cbiAgICogQHJldHVybiB7IUFycmF5PD9FbGVtZW50Pn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEFsbFZpZGVvc18oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWVkaWFCeVNlbGVjdG9yXyhTZWxlY3RvcnMuQUxMX1ZJREVPKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldHMgbWVkaWEgb24gcGFnZSBieSBnaXZlbiBzZWxlY3Rvci4gRmluZHMgZWxlbWVudHMgdGhyb3VnaCBmcmllbmRseVxuICAgKiBpZnJhbWUgKGlmIG9uZSBleGlzdHMpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAgICogQHJldHVybiB7IUFycmF5PD9FbGVtZW50Pn1cbiAgICovXG4gIGdldE1lZGlhQnlTZWxlY3Rvcl8oc2VsZWN0b3IpIHtcbiAgICBjb25zdCBpZnJhbWUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG4gICAgY29uc3QgZmllID0gaWZyYW1lICYmXG4gICAgICAgIGdldEZyaWVuZGx5SWZyYW1lRW1iZWRPcHRpb25hbCgvKiogQHR5cGUgeyFIVE1MSUZyYW1lRWxlbWVudH0gKi8gKGlmcmFtZSkpO1xuICAgIGNvbnN0IG1lZGlhU2V0ID0gW107XG5cbiAgICBpdGVyYXRlQ3Vyc29yKHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5lbGVtZW50LCBzZWxlY3RvciksXG4gICAgICAgIGVsID0+IG1lZGlhU2V0LnB1c2goZWwpKTtcblxuICAgIGlmICghZmllKSB7XG4gICAgICByZXR1cm4gbWVkaWFTZXQ7XG4gICAgfVxuXG4gICAgaXRlcmF0ZUN1cnNvcihmaWUud2luLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLFxuICAgICAgICBlbCA9PiBtZWRpYVNldC5wdXNoKGVsKSk7XG4gICAgcmV0dXJuIG1lZGlhU2V0O1xuICB9XG5cblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIHRvIGVhY2ggbWVkaWEgZWxlbWVudCBvbiB0aGUgcGFnZSwgYWZ0ZXIgdGhlXG4gICAqIG1lZGlhIGVsZW1lbnQgaXMgbG9hZGVkLlxuICAgKiBAcGFyYW0geyFmdW5jdGlvbighLi9tZWRpYS1wb29sLk1lZGlhUG9vbCwgIUVsZW1lbnQpfSBjYWxsYmFja0ZuIFRoZVxuICAgKiAgICAgY2FsbGJhY2sgdG8gYmUgYXBwbGllZCB0byBlYWNoIG1lZGlhIGVsZW1lbnQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxuICAgKi9cbiAgd2hlbkFsbE1lZGlhRWxlbWVudHNfKGNhbGxiYWNrRm4pIHtcbiAgICBjb25zdCBtZWRpYVNldCA9IHRoaXMuZ2V0QWxsTWVkaWFfKCk7XG4gICAgcmV0dXJuIHRoaXMubWVkaWFQb29sUHJvbWlzZV8udGhlbihtZWRpYVBvb2wgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwobWVkaWFTZXQsIG1lZGlhRWwgPT4ge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tGbihtZWRpYVBvb2wsIG1lZGlhRWwpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQYXVzZXMgYWxsIG1lZGlhIG9uIHRoaXMgcGFnZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmV3aW5kVG9CZWdpbm5pbmcgV2hldGhlciB0byByZXdpbmQgdGhlIGN1cnJlbnRUaW1lXG4gICAqICAgICBvZiBtZWRpYSBpdGVtcyB0byB0aGUgYmVnaW5uaW5nLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBhdXNlQWxsTWVkaWFfKHJld2luZFRvQmVnaW5uaW5nID0gZmFsc2UpIHtcbiAgICByZXR1cm4gdGhpcy53aGVuQWxsTWVkaWFFbGVtZW50c18oKG1lZGlhUG9vbCwgbWVkaWFFbCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNCb3RVc2VyQWdlbnRfKSB7XG4gICAgICAgIG1lZGlhRWwucGF1c2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZWRpYVBvb2wucGF1c2UoXG4gICAgICAgICAgICAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAobWVkaWFFbCksIHJld2luZFRvQmVnaW5uaW5nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFBsYXlzIGFsbCBtZWRpYSBvbiB0aGlzIHBhZ2UuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcGxheUFsbE1lZGlhXygpIHtcbiAgICByZXR1cm4gdGhpcy53aGVuQWxsTWVkaWFFbGVtZW50c18oKG1lZGlhUG9vbCwgbWVkaWFFbCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNCb3RVc2VyQWdlbnRfKSB7XG4gICAgICAgIG1lZGlhRWwucGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhUG9vbC5wbGF5KC8qKiBAdHlwZSB7IUhUTUxNZWRpYUVsZW1lbnR9ICovIChtZWRpYUVsKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQcmVsb2FkcyBhbGwgbWVkaWEgb24gdGhpcyBwYWdlLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByZWxvYWRBbGxNZWRpYV8oKSB7XG4gICAgcmV0dXJuIHRoaXMud2hlbkFsbE1lZGlhRWxlbWVudHNfKChtZWRpYVBvb2wsIG1lZGlhRWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQm90VXNlckFnZW50Xykge1xuICAgICAgICAvLyBOby1vcC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZWRpYVBvb2wucHJlbG9hZCgvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAobWVkaWFFbCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogTXV0ZXMgYWxsIG1lZGlhIG9uIHRoaXMgcGFnZS5cbiAgICogQHJldHVybiB7IVByb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQuXG4gICAqL1xuICBtdXRlQWxsTWVkaWEoKSB7XG4gICAgcmV0dXJuIHRoaXMud2hlbkFsbE1lZGlhRWxlbWVudHNfKChtZWRpYVBvb2wsIG1lZGlhRWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQm90VXNlckFnZW50Xykge1xuICAgICAgICBtZWRpYUVsLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgbWVkaWFFbC5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhUG9vbC5tdXRlKC8qKiBAdHlwZSB7IUhUTUxNZWRpYUVsZW1lbnR9ICovIChtZWRpYUVsKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVbm11dGVzIGFsbCBtZWRpYSBvbiB0aGlzIHBhZ2UuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxuICAgKi9cbiAgdW5tdXRlQWxsTWVkaWEoKSB7XG4gICAgcmV0dXJuIHRoaXMud2hlbkFsbE1lZGlhRWxlbWVudHNfKChtZWRpYVBvb2wsIG1lZGlhRWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQm90VXNlckFnZW50Xykge1xuICAgICAgICBtZWRpYUVsLm11dGVkID0gZmFsc2U7XG4gICAgICAgIG1lZGlhRWwucmVtb3ZlQXR0cmlidXRlKCdtdXRlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhUG9vbC51bm11dGUoLyoqIEB0eXBlIHshSFRNTE1lZGlhRWxlbWVudH0gKi8gKG1lZGlhRWwpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhbGwgbWVkaWEgb24gdGhpcyBwYWdlXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVnaXN0ZXJBbGxNZWRpYV8oKSB7XG4gICAgcmV0dXJuIHRoaXMud2hlbkFsbE1lZGlhRWxlbWVudHNfKChtZWRpYVBvb2wsIG1lZGlhRWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQm90VXNlckFnZW50Xykge1xuICAgICAgICAvLyBOby1vcC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZWRpYVBvb2wucmVnaXN0ZXIoLyoqIEB0eXBlIHshSFRNTE1lZGlhRWxlbWVudH0gKi8gKG1lZGlhRWwpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwbGF5aW5nIGFuaW1hdGlvbnMsIGlmIHRoZSBhbmltYXRpb24gbWFuYWdlciBpcyBhdmFpbGFibGUuXG4gICAqL1xuICBtYXliZVN0YXJ0QW5pbWF0aW9ucygpIHtcbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uTWFuYWdlcl8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyXy5hbmltYXRlSW4oKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgbWF5YmVBcHBseUZpcnN0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgaWYgKCF0aGlzLmFuaW1hdGlvbk1hbmFnZXJfKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbk1hbmFnZXJfLmFwcGx5Rmlyc3RGcmFtZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2NhbGVfKCkge1xuICAgIGNvbnN0IHN0b3J5RWwgPSBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICByZXR1cm4gUGFnZVNjYWxpbmdTZXJ2aWNlLmZvcihzdG9yeUVsKS5zY2FsZSh0aGlzLmVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRpc3RhbmNlIGZyb20gdGhlIGN1cnJlbnQgcGFnZSB0byB0aGUgYWN0aXZlIHBhZ2UuXG4gICAqL1xuICBnZXREaXN0YW5jZSgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzdGFuY2UnKSwgMTApO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjdXJyZW50IHBhZ2UgdG8gdGhlIGFjdGl2ZVxuICAgKiAgICAgcGFnZS5cbiAgICovXG4gIHNldERpc3RhbmNlKGRpc3RhbmNlKSB7XG4gICAgLy8gVE9ETyhjY29yZHJ5KSByZWZhY3RvciB0aGlzIHdoZW4gcGFnZXMgYXJlIG1hbmFnZWRcbiAgICBpZiAodGhpcy5pc0FkKCkpIHtcbiAgICAgIGRpc3RhbmNlID0gTWF0aC5taW4oZGlzdGFuY2UsIDIpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc3RhbmNlJywgZGlzdGFuY2UpO1xuICAgIHRoaXMucmVnaXN0ZXJBbGxNZWRpYV8oKTtcbiAgICBpZiAoZGlzdGFuY2UgPiAwICYmIGRpc3RhbmNlIDw9IDIpIHtcbiAgICAgIHRoaXMucHJlbG9hZEFsbE1lZGlhXygpO1xuICAgICAgdGhpcy5zY2FsZV8oKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoaXMgcGFnZSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2FjdGl2ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgcGFnZSBoYXMgY2hhbmdlZFxuICAgKiB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJvZ3Jlc3MgVGhlIHByb2dyZXNzIGZyb20gMC4wIHRvIDEuMC5cbiAgICovXG4gIGVtaXRQcm9ncmVzc18ocHJvZ3Jlc3MpIHtcbiAgICAvLyBEb24ndCBlbWl0IHByb2dyZXNzIGZvciBhZHMsIHNpbmNlIHRoZSBwcm9ncmVzcyBiYXIgaXMgaGlkZGVuLlxuICAgIGlmICh0aGlzLmlzQWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBheWxvYWQgPSBkaWN0KHtcbiAgICAgICdwYWdlSWQnOiB0aGlzLmVsZW1lbnQuaWQsXG4gICAgICAncHJvZ3Jlc3MnOiBwcm9ncmVzcyxcbiAgICB9KTtcbiAgICBjb25zdCBldmVudEluaXQgPSB7YnViYmxlczogdHJ1ZX07XG4gICAgZGlzcGF0Y2godGhpcy53aW4sIHRoaXMuZWxlbWVudCwgRXZlbnRUeXBlLlBBR0VfUFJPR1JFU1MsIHBheWxvYWQsXG4gICAgICAgIGV2ZW50SW5pdCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBvZiB0aGUgcGFnZXMgdGhhdCBhcmUgb25lIGhvcCBmcm9tIHRoaXMgcGFnZS5cbiAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz59XG4gICAqL1xuICBnZXRBZGphY2VudFBhZ2VJZHMoKSB7XG4gICAgY29uc3QgYWRqYWNlbnRQYWdlSWRzID0gW107XG5cbiAgICBjb25zdCBhdXRvQWR2YW5jZU5leHQgPVxuICAgICAgICB0aGlzLmdldE5leHRQYWdlSWQodHJ1ZSAvKiBvcHRfaXNBdXRvbWF0aWNBZHZhbmNlICovKTtcbiAgICBjb25zdCBtYW51YWxBZHZhbmNlTmV4dCA9XG4gICAgICAgIHRoaXMuZ2V0TmV4dFBhZ2VJZChmYWxzZSAvKiBvcHRfaXNBdXRvbWF0aWNBZHZhbmNlICovKTtcbiAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuZ2V0UHJldmlvdXNQYWdlSWQoKTtcblxuICAgIGlmIChhdXRvQWR2YW5jZU5leHQpIHtcbiAgICAgIGFkamFjZW50UGFnZUlkcy5wdXNoKGF1dG9BZHZhbmNlTmV4dCk7XG4gICAgfVxuXG4gICAgaWYgKG1hbnVhbEFkdmFuY2VOZXh0ICYmIG1hbnVhbEFkdmFuY2VOZXh0ICE9IGF1dG9BZHZhbmNlTmV4dCkge1xuICAgICAgYWRqYWNlbnRQYWdlSWRzLnB1c2gobWFudWFsQWR2YW5jZU5leHQpO1xuICAgIH1cblxuICAgIGlmIChwcmV2aW91cykge1xuICAgICAgYWRqYWNlbnRQYWdlSWRzLnB1c2gocHJldmlvdXMpO1xuICAgIH1cblxuICAgIHJldHVybiBhZGphY2VudFBhZ2VJZHM7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBJRCBvZiB0aGUgcHJldmlvdXMgcGFnZSBpbiB0aGUgc3RvcnkgKGJlZm9yZSB0aGUgY3VycmVudCBwYWdlKS5cbiAgICogQHJldHVybiB7P3N0cmluZ30gUmV0dXJucyB0aGUgSUQgb2YgdGhlIG5leHQgcGFnZSBpbiB0aGUgc3RvcnksIG9yIG51bGwgaWZcbiAgICogICAgIHRoZXJlIGlzbid0IG9uZS5cbiAgICovXG4gIGdldFByZXZpb3VzUGFnZUlkKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKCdpLWFtcGh0bWwtcmV0dXJuLXRvJykpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpLWFtcGh0bWwtcmV0dXJuLXRvJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gdGhpcy5lbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKHByZXZpb3VzRWxlbWVudCAmJiBwcmV2aW91c0VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBUQUcpIHtcbiAgICAgIHJldHVybiBwcmV2aW91c0VsZW1lbnQuaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBJRCBvZiB0aGUgbmV4dCBwYWdlIGluIHRoZSBzdG9yeSAoYWZ0ZXIgdGhlIGN1cnJlbnQgcGFnZSkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UgV2hldGhlciB0aGlzIG5hdmlnYXRpb24gd2FzIGNhdXNlZFxuICAgKiAgICAgYnkgYW4gYXV0b21hdGljIGFkdmFuY2VtZW50IGFmdGVyIGEgdGltZW91dC5cbiAgICogQHJldHVybiB7P3N0cmluZ30gUmV0dXJucyB0aGUgSUQgb2YgdGhlIG5leHQgcGFnZSBpbiB0aGUgc3RvcnksIG9yIG51bGwgaWZcbiAgICogICAgIHRoZXJlIGlzbid0IG9uZS5cbiAgICovXG4gIGdldE5leHRQYWdlSWQob3B0X2lzQXV0b21hdGljQWR2YW5jZSkge1xuICAgIGlmIChvcHRfaXNBdXRvbWF0aWNBZHZhbmNlICYmXG4gICAgICAgIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2F1dG8tYWR2YW5jZS10bycpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnYXV0by1hZHZhbmNlLXRvJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2ktYW1waHRtbC1hZHZhbmNlLXRvJykpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpLWFtcGh0bWwtYWR2YW5jZS10bycpO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRFbGVtZW50ID0gdGhpcy5lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICBpZiAobmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBUQUcpIHtcbiAgICAgIHJldHVybiBuZXh0RWxlbWVudC5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlcyB0byB0aGUgcHJldmlvdXMgcGFnZSBpbiB0aGUgc3RvcnkuXG4gICAqL1xuICBwcmV2aW91cygpIHtcbiAgICBjb25zdCB0YXJnZXRQYWdlSWQgPSB0aGlzLmdldFByZXZpb3VzUGFnZUlkKCk7XG5cbiAgICBpZiAodGFyZ2V0UGFnZUlkID09PSBudWxsKSB7XG4gICAgICBkaXNwYXRjaCh0aGlzLndpbiwgdGhpcy5lbGVtZW50LCBFdmVudFR5cGUuU0hPV19OT19QUkVWSU9VU19QQUdFX0hFTFAsXG4gICAgICAgICAgLyogcGF5bG9hZCAqLyB1bmRlZmluZWQsIHtidWJibGVzOiB0cnVlfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zd2l0Y2hUb18odGFyZ2V0UGFnZUlkKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlcyB0byB0aGUgbmV4dCBwYWdlIGluIHRoZSBzdG9yeS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2lzQXV0b21hdGljQWR2YW5jZSBXaGV0aGVyIHRoaXMgbmF2aWdhdGlvbiB3YXMgY2F1c2VkXG4gICAqICAgICBieSBhbiBhdXRvbWF0aWMgYWR2YW5jZW1lbnQgYWZ0ZXIgYSB0aW1lb3V0LlxuICAgKi9cbiAgbmV4dChvcHRfaXNBdXRvbWF0aWNBZHZhbmNlKSB7XG4gICAgY29uc3QgcGFnZUlkID0gdGhpcy5nZXROZXh0UGFnZUlkKG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UpO1xuXG4gICAgaWYgKCFwYWdlSWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN3aXRjaFRvXyhwYWdlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGVnYXRlZCB0aGUgbmF2aWdhdGlvbiBkZWNpc2lvbiB0byBBTVAtU1RPUlkgdmlhIGV2ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggbmF2aWdhdGlvbiBuZWVkcyB0b1xuICAgKiB0YWtlcyBwbGFjZS5cbiAgICovXG4gIG5hdmlnYXRlT25UYXAoZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRpY3QoeydkaXJlY3Rpb24nOiBkaXJlY3Rpb259KTtcbiAgICBjb25zdCBldmVudEluaXQgPSB7YnViYmxlczogdHJ1ZX07XG4gICAgZGlzcGF0Y2godGhpcy53aW4sIHRoaXMuZWxlbWVudCwgRXZlbnRUeXBlLlRBUF9OQVZJR0FUSU9OLCBwYXlsb2FkLFxuICAgICAgICBldmVudEluaXQpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFBhZ2VJZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3dpdGNoVG9fKHRhcmdldFBhZ2VJZCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSBkaWN0KHsndGFyZ2V0UGFnZUlkJzogdGFyZ2V0UGFnZUlkfSk7XG4gICAgY29uc3QgZXZlbnRJbml0ID0ge2J1YmJsZXM6IHRydWV9O1xuICAgIGRpc3BhdGNoKHRoaXMud2luLCB0aGlzLmVsZW1lbnQsIEV2ZW50VHlwZS5TV0lUQ0hfUEFHRSwgcGF5bG9hZCxcbiAgICAgICAgZXZlbnRJbml0KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXBvcnREZXZNb2RlRXJyb3JzXygpIHtcbiAgICBpZiAoIWdldE1vZGUoKS5kZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGdldExvZ0VudHJpZXModGhpcy5lbGVtZW50KS50aGVuKGxvZ0VudHJpZXMgPT4ge1xuICAgICAgZGlzcGF0Y2godGhpcy53aW4sIHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBFdmVudFR5cGUuREVWX0xPR19FTlRSSUVTX0FWQUlMQUJMRSxcbiAgICAgICAgICAvLyA/IGlzIE9LIGJlY2F1c2UgYWxsIGNvbnN1bWVycyBhcmUgaW50ZXJuYWwuXG4gICAgICAgICAgLyoqIEB0eXBlIHs/fSAqLyAobG9nRW50cmllcyksIHtidWJibGVzOiB0cnVlfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyBhIGxvYWRpbmcgc3Bpbm5lciB3aGVuZXZlciB0aGUgdmlkZW8gaXMgYnVmZmVyaW5nLlxuICAgKiBIYXMgdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSBtZWRpYVBvb2wgcHJlbG9hZCBtZXRob2QsIHRoYXQgc3dhcHMgdGhlIHZpZGVvXG4gICAqIGVsZW1lbnRzIHdpdGggbmV3IGFtcCBlbGVtZW50cy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0TGlzdGVuaW5nVG9WaWRlb0V2ZW50c18oKSB7XG4gICAgY29uc3QgdmlkZW9zID0gdGhpcy5nZXRBbGxWaWRlb3NfKCk7XG5cbiAgICBpZiAodmlkZW9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVib3VuY2VUb2dnbGVMb2FkaW5nU3Bpbm5lcl8odHJ1ZSk7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh2aWRlb3MsIHZpZGVvRWwgPT4ge1xuICAgICAgdGhpcy51bmxpc3RlbmVyc18ucHVzaChsaXN0ZW4oXG4gICAgICAgICAgdmlkZW9FbCwgJ3BsYXlpbmcnLCAoKSA9PiB0aGlzLmRlYm91bmNlVG9nZ2xlTG9hZGluZ1NwaW5uZXJfKGZhbHNlKSkpO1xuICAgICAgdGhpcy51bmxpc3RlbmVyc18ucHVzaChsaXN0ZW4oXG4gICAgICAgICAgdmlkZW9FbCwgJ3dhaXRpbmcnLCAoKSA9PiB0aGlzLmRlYm91bmNlVG9nZ2xlTG9hZGluZ1NwaW5uZXJfKHRydWUpKSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RvcExpc3RlbmluZ1RvVmlkZW9FdmVudHNfKCkge1xuICAgIHRoaXMuZGVib3VuY2VUb2dnbGVMb2FkaW5nU3Bpbm5lcl8oZmFsc2UpO1xuICAgIHRoaXMudW5saXN0ZW5lcnNfLmZvckVhY2godW5saXN0ZW4gPT4gdW5saXN0ZW4oKSk7XG4gICAgdGhpcy51bmxpc3RlbmVyc18gPSBbXTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZEFuZEFwcGVuZExvYWRpbmdTcGlubmVyXygpIHtcbiAgICB0aGlzLmxvYWRpbmdTcGlubmVyXyA9IG5ldyBMb2FkaW5nU3Bpbm5lcih0aGlzLndpbi5kb2N1bWVudCk7XG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubG9hZGluZ1NwaW5uZXJfLmJ1aWxkKCkpO1xuICB9XG5cblxuICAvKipcbiAgICogSGFzIHRvIGJlIGNhbGxlZCB0aHJvdWdoIHRoZSBgZGVib3VuY2VUb2dnbGVMb2FkaW5nU3Bpbm5lcl9gIG1ldGhvZCwgdG9cbiAgICogYXZvaWQgdGhlIHNwaW5uZXIgZmxhc2hpbmcgb24gdGhlIHNjcmVlbiB3aGVuIHRoZSB2aWRlbyBsb29wcywgb3IgZHVyaW5nXG4gICAqIG5hdmlnYXRpb24gdHJhbnNpdGlvbnMuXG4gICAqIEJ1aWxkcyB0aGUgbG9hZGluZyBzcGlubmVyIGFuZCBhdHRhY2hlcyBpdCB0byB0aGUgRE9NIG9uIGZpcnN0IGNhbGwuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBY3RpdmVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRvZ2dsZUxvYWRpbmdTcGlubmVyXyhpc0FjdGl2ZSkge1xuICAgIHRoaXMuZ2V0VnN5bmMoKS5tdXRhdGUoKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmxvYWRpbmdTcGlubmVyXykge1xuICAgICAgICB0aGlzLmJ1aWxkQW5kQXBwZW5kTG9hZGluZ1NwaW5uZXJfKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9hZGluZ1NwaW5uZXJfLnRvZ2dsZShpc0FjdGl2ZSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBjaGVjayB0byBzZWUgaWYgdGhpcyBwYWdlIGlzIGEgd3JhcHBlciBmb3IgYW4gYWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoQURWRVJUSVNFTUVOVF9BVFRSX05BTUUpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7Y2hpbGRFbGVtZW50QnlUYWd9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtnZXRBbXBkb2N9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlJztcbmltcG9ydCB7b25jZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL2Z1bmN0aW9uJztcbmltcG9ydCB7cmVnaXN0ZXJTZXJ2aWNlQnVpbGRlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2UnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IEJPT0tFTkRfQ09ORklHX0FUVFJJQlVURV9OQU1FID0gJ3NyYyc7XG5cbi8qKlxuICogU2VydmljZSB0byBzZW5kIFhIUnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeVJlcXVlc3RTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHN0b3J5RWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBzdG9yeUVsZW1lbnQpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnN0b3J5RWxlbWVudF8gPSBzdG9yeUVsZW1lbnQ7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vLi4vLi4vc3JjL3NlcnZpY2UveGhyLWltcGwuWGhyfSAqL1xuICAgIHRoaXMueGhyXyA9IFNlcnZpY2VzLnhockZvcih3aW4pO1xuXG4gICAgLyoqIEBjb25zdCBAdHlwZSB7ZnVuY3Rpb24oKTooIVByb21pc2U8IUpzb25PYmplY3Q+fCFQcm9taXNlPG51bGw+KX0gKi9cbiAgICB0aGlzLmxvYWRCb29rZW5kQ29uZmlnID0gb25jZSgoKSA9PiB0aGlzLmxvYWRCb29rZW5kQ29uZmlnSW1wbF8oKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBwdWJsaXNoZXIgYm9va2VuZCBjb25maWd1cmF0aW9uLCBpbmNsdWRpbmcgdGhlIHNoYXJlXG4gICAqIHByb3ZpZGVycy5cbiAgICogSGFzIHRvIGJlIGNhbGxlZCB0aHJvdWdoIGBsb2FkQm9va2VuZENvbmZpZ2AuXG4gICAqIEByZXR1cm4geyghUHJvbWlzZTwhSnNvbk9iamVjdD58IVByb21pc2U8bnVsbD4pfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZEJvb2tlbmRDb25maWdJbXBsXygpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkSnNvbkZyb21BdHRyaWJ1dGVfKEJPT0tFTkRfQ09ORklHX0FUVFJJQlVURV9OQU1FKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlTmFtZVxuICAgKiBAcmV0dXJuIHsoIVByb21pc2U8IUpzb25PYmplY3Q+fCFQcm9taXNlPG51bGw+KX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxvYWRKc29uRnJvbUF0dHJpYnV0ZV8oYXR0cmlidXRlTmFtZSkge1xuICAgIGNvbnN0IGJvb2tlbmRFbCA9IGNoaWxkRWxlbWVudEJ5VGFnKHRoaXMuc3RvcnlFbGVtZW50XyxcbiAgICAgICAgJ2FtcC1zdG9yeS1ib29rZW5kJyk7XG5cbiAgICBpZiAoIWJvb2tlbmRFbCB8fCAhYm9va2VuZEVsLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICBjb25zdCByYXdVcmwgPSBib29rZW5kRWwuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICBvcHRzLnJlcXVpcmVBbXBSZXNwb25zZVNvdXJjZU9yaWdpbiA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIFNlcnZpY2VzLnVybFJlcGxhY2VtZW50c0ZvckRvYyhnZXRBbXBkb2ModGhpcy5zdG9yeUVsZW1lbnRfKSlcbiAgICAgICAgLmV4cGFuZFVybEFzeW5jKHVzZXIoKS5hc3NlcnRTdHJpbmcocmF3VXJsKSlcbiAgICAgICAgLnRoZW4odXJsID0+IHRoaXMueGhyXy5mZXRjaEpzb24odXJsLCBvcHRzKSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHVzZXIoKS5hc3NlcnQocmVzcG9uc2Uub2ssICdJbnZhbGlkIEhUVFAgcmVzcG9uc2UnKTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFV0aWwgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIHJlcXVlc3Qgc2VydmljZS4gRW5zdXJlcyB3ZSBjYW4gcmV0cmlldmUgdGhlXG4gKiBzZXJ2aWNlIHN5bmNocm9ub3VzbHkgZnJvbSB0aGUgYW1wLXN0b3J5IGNvZGViYXNlIHdpdGhvdXQgcnVubmluZyBpbnRvIHJhY2VcbiAqIGNvbmRpdGlvbnMuXG4gKiBAcGFyYW0gIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSAgeyFFbGVtZW50fSBzdG9yeUVsXG4gKiBAcmV0dXJuIHshQW1wU3RvcnlSZXF1ZXN0U2VydmljZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFJlcXVlc3RTZXJ2aWNlID0gKHdpbiwgc3RvcnlFbCkgPT4ge1xuICBsZXQgc2VydmljZSA9IFNlcnZpY2VzLnN0b3J5UmVxdWVzdFNlcnZpY2Uod2luKTtcblxuICBpZiAoIXNlcnZpY2UpIHtcbiAgICBzZXJ2aWNlID0gbmV3IEFtcFN0b3J5UmVxdWVzdFNlcnZpY2Uod2luLCBzdG9yeUVsKTtcbiAgICByZWdpc3RlclNlcnZpY2VCdWlsZGVyKHdpbiwgJ3N0b3J5LXJlcXVlc3QnLCAoKSA9PiBzZXJ2aWNlKTtcbiAgfVxuXG4gIHJldHVybiBzZXJ2aWNlO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBY3Rpb24sXG4gIFN0YXRlUHJvcGVydHksXG4gIGdldFN0b3JlU2VydmljZSxcbn0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LXNoYXJlLW1lbnUtMS4wLmNzcyc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtTaGFyZVdpZGdldH0gZnJvbSAnLi9hbXAtc3Rvcnktc2hhcmUnO1xuaW1wb3J0IHtjbG9zZXN0fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge2dldEFtcGRvY30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2UnO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnR9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcbmltcG9ydCB7c2V0U3R5bGV9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5cblxuLyoqIEBjb25zdCB7c3RyaW5nfSBDbGFzcyB0byB0b2dnbGUgdGhlIHNoYXJlIG1lbnUuICovXG5leHBvcnQgY29uc3QgVklTSUJMRV9DTEFTUyA9ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudS12aXNpYmxlJztcblxuLyoqIEBjb25zdCB7c3RyaW5nfSBDbGFzcyBmb3IgdGhlIHNoYXJlIHdpZGdldCBjb21wb25lbnQgY29udGFpbmVyLiAqL1xuY29uc3QgU0hBUkVfV0lER0VUX0NPTlRBSU5FUl9DTEFTUyA9ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtbWVudS1jb250YWluZXInO1xuXG4vKipcbiAqIFF1aWNrIHNoYXJlIHRlbXBsYXRlLCB1c2VkIGFzIGEgZmFsbGJhY2sgaWYgbmF0aXZlIHNoYXJpbmcgaXMgbm90IHN1cHBvcnRlZC5cbiAqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmNvbnN0IFRFTVBMQVRFID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7XG4gICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1tZW51IGktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQnfSksXG4gIGNoaWxkcmVuOiBbXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiBTSEFSRV9XSURHRVRfQ09OVEFJTkVSX0NMQVNTfSksXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgfSxcbiAgXSxcbn07XG5cbi8qKlxuICogU3lzdGVtIGFtcC1zb2NpYWwtc2hhcmUgYnV0dG9uIHRlbXBsYXRlLlxuICogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuY29uc3QgQU1QX1NPQ0lBTF9TWVNURU1fU0hBUkVfVEVNUExBVEUgPSB7XG4gIHRhZzogJ2FtcC1zb2NpYWwtc2hhcmUnLFxuICBhdHRyczogLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKGRpY3Qoeyd0eXBlJzogJ3N5c3RlbSd9KSksXG59O1xuXG5cbi8qKlxuICogU2hhcmUgbWVudSBVSS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYXJlTWVudSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBzdG9yeUVsIEVsZW1lbnQgd2hlcmUgdG8gYXBwZW5kIHRoZSBjb21wb25lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgc3RvcnlFbCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5pbm5lckNvbnRhaW5lckVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0J1aWx0XyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFTaGFyZVdpZGdldH0gKi9cbiAgICB0aGlzLnNoYXJlV2lkZ2V0XyA9IFNoYXJlV2lkZ2V0LmNyZWF0ZSh0aGlzLndpbl8sIHN0b3J5RWwpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfID0gZ2V0U3RvcmVTZXJ2aWNlKHRoaXMud2luXyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnBhcmVudEVsXyA9IHN0b3J5RWw7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHRoaXMud2luXyk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGFuZCBhcHBlbmRzIHRoZSBjb21wb25lbnQgaW4gdGhlIHN0b3J5LiBDb3VsZCBidWlsZCBlaXRoZXIgdGhlXG4gICAqIGFtcC1zb2NpYWwtc2hhcmUgYnV0dG9uIHRvIGRpc3BsYXkgdGhlIG5hdGl2ZSBzeXN0ZW0gc2hhcmluZywgb3IgYSBmYWxsYmFja1xuICAgKiBVSS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLmlzQnVpbHQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNCdWlsdF8gPSB0cnVlO1xuXG4gICAgdGhpcy5pc1N5c3RlbVNoYXJlU3VwcG9ydGVkXyA9XG4gICAgICAgIHRoaXMuc2hhcmVXaWRnZXRfLmlzU3lzdGVtU2hhcmVTdXBwb3J0ZWQoZ2V0QW1wZG9jKHRoaXMucGFyZW50RWxfKSk7XG5cbiAgICB0aGlzLmlzU3lzdGVtU2hhcmVTdXBwb3J0ZWRfID9cbiAgICAgIHRoaXMuYnVpbGRGb3JTeXN0ZW1TaGFyaW5nXygpIDpcbiAgICAgIHRoaXMuYnVpbGRGb3JGYWxsYmFja1NoYXJpbmdfKCk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgZWxlbWVudCBoYXMgYmVlbiBidWlsdC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQnVpbHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNCdWlsdF87XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGEgaGlkZGVuIGFtcC1zb2NpYWwtc2hhcmUgYnV0dG9uIHRoYXQgdHJpZ2dlcnMgdGhlIG5hdGl2ZSBzeXN0ZW1cbiAgICogc2hhcmluZyBVSS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ1aWxkRm9yU3lzdGVtU2hhcmluZ18oKSB7XG4gICAgdGhpcy5zaGFyZVdpZGdldF8ubG9hZFJlcXVpcmVkRXh0ZW5zaW9ucyhnZXRBbXBkb2ModGhpcy5wYXJlbnRFbF8pKTtcbiAgICB0aGlzLmVsZW1lbnRfID1cbiAgICAgICAgcmVuZGVyQXNFbGVtZW50KHRoaXMud2luXy5kb2N1bWVudCwgQU1QX1NPQ0lBTF9TWVNURU1fU0hBUkVfVEVNUExBVEUpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzXygpO1xuXG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudF8sICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIHRoaXMucGFyZW50RWxfLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgYXBwZW5kcyB0aGUgZmFsbGJhY2sgVUkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZEZvckZhbGxiYWNrU2hhcmluZ18oKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHRoaXMuZWxlbWVudF8gPSByZW5kZXJBc0VsZW1lbnQodGhpcy53aW5fLmRvY3VtZW50LCBURU1QTEFURSk7XG4gICAgY3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZShyb290LCB0aGlzLmVsZW1lbnRfLCBDU1MpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzXygpO1xuXG4gICAgdGhpcy52c3luY18ucnVuKHtcbiAgICAgIG1lYXN1cmU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsXyA9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfXG4gICAgICAgICAgICAgICAgLi8qT0sqL3F1ZXJ5U2VsZWN0b3IoYC4ke1NIQVJFX1dJREdFVF9DT05UQUlORVJfQ0xBU1N9YCk7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucGFyZW50RWxfLmFwcGVuZENoaWxkKHJvb3QpO1xuICAgICAgICAvLyBQcmVsb2FkcyBhbmQgcmVuZGVycyB0aGUgc2hhcmUgd2lkZ2V0IGNvbnRlbnQuXG4gICAgICAgIGNvbnN0IHNoYXJlV2lkZ2V0ID0gdGhpcy5zaGFyZVdpZGdldF8uYnVpbGQoZ2V0QW1wZG9jKHRoaXMucGFyZW50RWxfKSk7XG4gICAgICAgIHRoaXMuaW5uZXJDb250YWluZXJFbF8uYXBwZW5kQ2hpbGQoc2hhcmVXaWRnZXQpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LlNIQVJFX01FTlVfU1RBVEUsIGlzT3BlbiA9PiB7XG4gICAgICB0aGlzLm9uU2hhcmVNZW51U3RhdGVVcGRhdGVfKGlzT3Blbik7XG4gICAgfSk7XG5cbiAgICAvLyBEb24ndCBsaXN0ZW4gdG8gY2xpY2sgZXZlbnRzIGlmIHRoZSBzeXN0ZW0gc2hhcmUgaXMgc3VwcG9ydGVkLCBzaW5jZSB0aGVcbiAgICAvLyBuYXRpdmUgbGF5ZXIgaGFuZGxlcyBhbGwgdGhlIFVJIGludGVyYWN0aW9ucy5cbiAgICBpZiAoIXRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZF8pIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnY2xpY2snLCBldmVudCA9PiB0aGlzLm9uU2hhcmVNZW51Q2xpY2tfKGV2ZW50KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBtZW51IHN0YXRlIHVwZGF0ZXMgYW5kIGRlY2lkZXMgd2hldGhlciB0byBzaG93IGVpdGhlciB0aGUgbmF0aXZlXG4gICAqIHN5c3RlbSBzaGFyaW5nLCBvciB0aGUgZmFsbGJhY2sgVUkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPcGVuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblNoYXJlTWVudVN0YXRlVXBkYXRlXyhpc09wZW4pIHtcbiAgICBpZiAodGhpcy5pc1N5c3RlbVNoYXJlU3VwcG9ydGVkXyAmJiBpc09wZW4pIHtcbiAgICAgIC8vIERpc3BhdGNoZXMgYSBjbGljayBldmVudCBvbiB0aGUgYW1wLXNvY2lhbC1zaGFyZSBidXR0b24gdG8gdHJpZ2dlciB0aGVcbiAgICAgIC8vIG5hdGl2ZSBzeXN0ZW0gc2hhcmluZyBVSS4gVGhpcyBoYXMgdG8gYmUgZG9uZSB1cG9uIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICB0aGlzLmVsZW1lbnRfLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGljaycpKTtcblxuICAgICAgLy8gVGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgd2hlbiB0aGUgdXNlciBkaXNtaXNzZXMgdGhlIG5hdGl2ZSBzeXN0ZW0gc2hhcmVcbiAgICAgIC8vIG1lbnUsIHNvIHdlIHByZXRlbmQgaXQgaXMgY2xvc2VkIG9uIHRoZSBzdG9yeSBlbmQsIGFuZCBsZXQgdGhlIG5hdGl2ZVxuICAgICAgLy8gZW5kIGhhbmRsZSB0aGUgVUkgaW50ZXJhY3Rpb25zLlxuICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZF8pIHtcbiAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnRvZ2dsZShWSVNJQkxFX0NMQVNTLCBpc09wZW4pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIGFuZCBtYXliZSBjbG9zZXMgdGhlIG1lbnUgZm9yIHRoZSBmYWxsYmFjayBVSS5cbiAgICogQHBhcmFtICB7IUV2ZW50fSBldmVudFxuICAgKi9cbiAgb25TaGFyZU1lbnVDbGlja18oZXZlbnQpIHtcbiAgICBjb25zdCBlbCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAvLyBDbG9zZXMgdGhlIG1lbnUgaWYgY2xpY2sgaGFwcGVuZWQgb3V0c2lkZSBvZiB0aGUgbWVudSBtYWluIGNvbnRhaW5lci5cbiAgICBpZiAoIWNsb3Nlc3QoZWwsIGVsID0+IGVsID09PSB0aGlzLmlubmVyQ29udGFpbmVyRWxfLCB0aGlzLmVsZW1lbnRfKSkge1xuICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBzaGFyZSBtZW51LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2xvc2VfKCkge1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX1NIQVJFX01FTlUsIGZhbHNlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtUb2FzdH0gZnJvbSAnLi90b2FzdCc7XG5pbXBvcnQge1xuICBjb3B5VGV4dFRvQ2xpcGJvYXJkLFxuICBpc0NvcHlpbmdUb0NsaXBib2FyZFN1cHBvcnRlZCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2NsaXBib2FyZCc7XG5pbXBvcnQge2RldiwgdXNlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3QsIG1hcH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7Z2V0UmVxdWVzdFNlcnZpY2V9IGZyb20gJy4vYW1wLXN0b3J5LXJlcXVlc3Qtc2VydmljZSc7XG5pbXBvcnQge2lzT2JqZWN0fSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHtsaXN0ZW59IGZyb20gJy4uLy4uLy4uL3NyYy9ldmVudC1oZWxwZXInO1xuaW1wb3J0IHtweCwgc2V0SW1wb3J0YW50U3R5bGVzfSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnQsIHJlbmRlclNpbXBsZVRlbXBsYXRlfSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5pbXBvcnQge3Rocm90dGxlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5cblxuLyoqXG4gKiBNYXBzIHNoYXJlIHByb3ZpZGVyIHR5cGUgdG8gdmlzaWJsZSBuYW1lLlxuICogSWYgdGhlIG5hbWUgb25seSBuZWVkcyB0byBiZSBjYXBpdGFsaXplZCAoZS5nLiBgZmFjZWJvb2tgIHRvIGBGYWNlYm9va2ApIGl0XG4gKiBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY2x1ZGVkIGhlcmUuXG4gKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhTG9jYWxpemVkU3RyaW5nSWQ+fVxuICovXG5jb25zdCBTSEFSRV9QUk9WSURFUl9MT0NBTElaRURfU1RSSU5HX0lEID0gbWFwKHtcbiAgJ3N5c3RlbSc6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfU1lTVEVNLFxuICAnZW1haWwnOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0VNQUlMLFxuICAnZmFjZWJvb2snOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LLFxuICAnbGlua2VkaW4nOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTktFRElOLFxuICAncGludGVyZXN0JzogTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9QSU5URVJFU1QsXG4gICdncGx1cyc6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVMsXG4gICd0dW1ibHInOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RVTUJMUixcbiAgJ3R3aXR0ZXInOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVIsXG4gICd3aGF0c2FwcCc6IExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfV0hBVFNBUFAsXG4gICdzbXMnOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNUyxcbn0pO1xuXG5cbi8qKlxuICogRGVmYXVsdCBsZWZ0L3JpZ2h0IHBhZGRpbmcgZm9yIHNoYXJlIGJ1dHRvbnMuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn1cbiAqL1xuY29uc3QgREVGQVVMVF9CVVRUT05fUEFERElORyA9IDE2O1xuXG4vKipcbiAqIE1pbmltdW0gbGVmdC9yaWdodCBwYWRkaW5nIGZvciBzaGFyZSBidXR0b25zLlxuICogQHByaXZhdGUgQGNvbnN0IHtudW1iZXJ9XG4gKi9cbmNvbnN0IE1JTl9CVVRUT05fUEFERElORyA9IDEwO1xuXG4vKipcbiAqIEtleSBmb3Igc2hhcmUgcHJvdmlkZXJzIGluIGJvb2tlbmQgY29uZmlnLlxuICogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBTSEFSRV9QUk9WSURFUlNfS0VZID0gJ3NoYXJlUHJvdmlkZXJzJztcblxuLyoqXG4gKiBEZXByZWNhdGVkIGtleSBmb3Igc2hhcmUgcHJvdmlkZXJzIGluIGJvb2tlbmQgY29uZmlnLlxuICogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBERVBSRUNBVEVEX1NIQVJFX1BST1ZJREVSU19LRVkgPSAnc2hhcmUtcHJvdmlkZXJzJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovXG5jb25zdCBURU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtd2lkZ2V0J30pLFxuICBjaGlsZHJlbjogW3tcbiAgICB0YWc6ICd1bCcsXG4gICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtbGlzdCd9KSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWc6ICdsaScsXG4gICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXNoYXJlLXN5c3RlbSd9KSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfV0sXG59O1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgU0hBUkVfSVRFTV9URU1QTEFURSA9IHtcbiAgdGFnOiAnbGknLFxuICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1pdGVtJ30pLFxufTtcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi9cbmNvbnN0IExJTktfU0hBUkVfSVRFTV9URU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6XG4gICAgICAgICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbiBpLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbi1saW5rJyxcbiAgfSksXG4gIGxvY2FsaXplZFN0cmluZ0lkOiBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0xJTkssXG59O1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFNDUk9MTEFCTEVfQ0xBU1NOQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS13aWRnZXQtc2Nyb2xsYWJsZSc7XG5cblxuLyoqXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0PX0gb3B0X3BhcmFtc1xuICogQHJldHVybiB7IUpzb25PYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUHJvdmlkZXJQYXJhbXMob3B0X3BhcmFtcykge1xuICBjb25zdCBhdHRycyA9IGRpY3QoKTtcblxuICBpZiAob3B0X3BhcmFtcykge1xuICAgIE9iamVjdC5rZXlzKG9wdF9wYXJhbXMpLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgaWYgKGZpZWxkID09PSAncHJvdmlkZXInKSB7IHJldHVybjsgfVxuICAgICAgYXR0cnNbYGRhdGEtcGFyYW0tJHtmaWVsZH1gXSA9IG9wdF9wYXJhbXNbZmllbGRdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGF0dHJzO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtzdHJpbmd9IHNoYXJlVHlwZVxuICogQHBhcmFtIHshSnNvbk9iamVjdD19IG9wdF9wYXJhbXNcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5mdW5jdGlvbiBidWlsZFByb3ZpZGVyKGRvYywgc2hhcmVUeXBlLCBvcHRfcGFyYW1zKSB7XG4gIGNvbnN0IHNoYXJlUHJvdmlkZXJMb2NhbGl6ZWRTdHJpbmdJZCA9IGRldigpLmFzc2VydChcbiAgICAgIFNIQVJFX1BST1ZJREVSX0xPQ0FMSVpFRF9TVFJJTkdfSURbc2hhcmVUeXBlXSxcbiAgICAgIGBObyBsb2NhbGl6ZWQgc3RyaW5nIHRvIGRpc3BsYXkgbmFtZSBmb3Igc2hhcmUgdHlwZSAke3NoYXJlVHlwZX0uYCk7XG5cbiAgcmV0dXJuIHJlbmRlclNpbXBsZVRlbXBsYXRlKGRvYyxcbiAgICAgIC8qKiBAdHlwZSB7IUFycmF5PCEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmPn0gKi8gKFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2FtcC1zb2NpYWwtc2hhcmUnLFxuICAgICAgICAgIGF0dHJzOiAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgZGljdCh7XG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogNDgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IDY2LFxuICAgICAgICAgICAgICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtaWNvbicsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiBzaGFyZVR5cGUsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBidWlsZFByb3ZpZGVyUGFyYW1zKG9wdF9wYXJhbXMpKSksXG4gICAgICAgICAgbG9jYWxpemVkU3RyaW5nSWQ6IHNoYXJlUHJvdmlkZXJMb2NhbGl6ZWRTdHJpbmdJZCxcbiAgICAgICAgfSxcbiAgICAgIF0pKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5mdW5jdGlvbiBidWlsZENvcHlTdWNjZXNzZnVsVG9hc3QoZG9jLCB1cmwpIHtcbiAgcmV0dXJuIHJlbmRlckFzRWxlbWVudChkb2MsIC8qKiBAdHlwZSB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovICh7XG4gICAgdGFnOiAnZGl2JyxcbiAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1jb3B5LXN1Y2Nlc3NmdWwnfSksXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgbG9jYWxpemVkU3RyaW5nSWQ6XG4gICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfU1VDQ0VTU19URVhULFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktY29weS11cmwnfSksXG4gICAgICAgIHVubG9jYWxpemVkU3RyaW5nOiB1cmwsXG4gICAgICB9LFxuICAgIF0sXG4gIH0pKTtcbn1cblxuXG4vKipcbiAqIFNvY2lhbCBzaGFyZSB3aWRnZXQgZm9yIHN0b3J5IGJvb2tlbmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFyZVdpZGdldCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBzdG9yeUVsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIHN0b3J5RWwpIHtcbiAgICAvKiogQHByaXZhdGUgez8uLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9ICovXG4gICAgdGhpcy5hbXBkb2NfID0gbnVsbDtcblxuICAgIC8qKiBAcHJvdGVjdGVkIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbiA9IHdpbjtcblxuICAgIC8qKiBAcHJvdGVjdGVkIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLnJvb3QgPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZTw/Li9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZT59ICovXG4gICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlUHJvbWlzZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXJlcXVlc3Qtc2VydmljZS5BbXBTdG9yeVJlcXVlc3RTZXJ2aWNlfSAqL1xuICAgIHRoaXMucmVxdWVzdFNlcnZpY2VfID0gZ2V0UmVxdWVzdFNlcnZpY2UodGhpcy53aW4sIHN0b3J5RWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHN0b3J5RWxcbiAgICogQHJldHVybiB7IVNoYXJlV2lkZ2V0fVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4sIHN0b3J5RWwpIHtcbiAgICByZXR1cm4gbmV3IFNoYXJlV2lkZ2V0KHdpbiwgc3RvcnlFbCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2NcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBidWlsZChhbXBkb2MpIHtcbiAgICBkZXYoKS5hc3NlcnQoIXRoaXMucm9vdCwgJ0FscmVhZHkgYnVpbHQuJyk7XG5cbiAgICB0aGlzLmFtcGRvY18gPSBhbXBkb2M7XG4gICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlUHJvbWlzZV8gPVxuICAgICAgICBTZXJ2aWNlcy5sb2NhbGl6YXRpb25TZXJ2aWNlRm9yT3JOdWxsKHRoaXMud2luKTtcblxuICAgIHRoaXMucm9vdCA9IHJlbmRlckFzRWxlbWVudCh0aGlzLndpbi5kb2N1bWVudCwgVEVNUExBVEUpO1xuXG4gICAgdGhpcy5sb2FkUHJvdmlkZXJzKCk7XG4gICAgdGhpcy5tYXliZUFkZExpbmtTaGFyZUJ1dHRvbl8oKTtcbiAgICB0aGlzLm1heWJlQWRkU3lzdGVtU2hhcmVCdXR0b25fKCk7XG5cbiAgICByZXR1cm4gdGhpcy5yb290O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRBbXBEb2NfKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9ICovIChcbiAgICAgIGRldigpLmFzc2VydCh0aGlzLmFtcGRvY18pKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBtYXliZUFkZExpbmtTaGFyZUJ1dHRvbl8oKSB7XG4gICAgaWYgKCFpc0NvcHlpbmdUb0NsaXBib2FyZFN1cHBvcnRlZCh0aGlzLndpbi5kb2N1bWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsaW5rU2hhcmVCdXR0b24gPVxuICAgICAgICByZW5kZXJBc0VsZW1lbnQodGhpcy53aW4uZG9jdW1lbnQsIExJTktfU0hBUkVfSVRFTV9URU1QTEFURSk7XG5cbiAgICB0aGlzLmFkZF8obGlua1NoYXJlQnV0dG9uKTtcblxuICAgIC8vIFRPRE8oYWxhbm9yb3pjbyk6IExpc3RlbiBmb3IgcHJvcGVyIHRhcCBldmVudCAoaS5lLiBmYXN0Y2xpY2spXG4gICAgbGlzdGVuKGxpbmtTaGFyZUJ1dHRvbiwgJ2NsaWNrJywgZSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmNvcHlVcmxUb0NsaXBib2FyZF8oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBjb3B5VXJsVG9DbGlwYm9hcmRfKCkge1xuICAgIGNvbnN0IHVybCA9IFNlcnZpY2VzLmRvY3VtZW50SW5mb0ZvckRvYyh0aGlzLmdldEFtcERvY18oKSkuY2Fub25pY2FsVXJsO1xuXG4gICAgaWYgKCFjb3B5VGV4dFRvQ2xpcGJvYXJkKHRoaXMud2luLCB1cmwpKSB7XG4gICAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2VQcm9taXNlXy50aGVuKGxvY2FsaXphdGlvblNlcnZpY2UgPT4ge1xuICAgICAgICBkZXYoKS5hc3NlcnQobG9jYWxpemF0aW9uU2VydmljZSxcbiAgICAgICAgICAgICdDb3VsZCBub3QgcmV0cmlldmUgTG9jYWxpemF0aW9uU2VydmljZS4nKTtcbiAgICAgICAgY29uc3QgZmFpbHVyZVN0cmluZyA9IGxvY2FsaXphdGlvblNlcnZpY2UuZ2V0TG9jYWxpemVkU3RyaW5nKFxuICAgICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1NIQVJJTkdfQ0xJUEJPQVJEX0ZBSUxVUkVfVEVYVCk7XG4gICAgICAgIFRvYXN0LnNob3codGhpcy53aW4sIGZhaWx1cmVTdHJpbmcpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgVG9hc3Quc2hvdyh0aGlzLndpbiwgYnVpbGRDb3B5U3VjY2Vzc2Z1bFRvYXN0KHRoaXMud2luLmRvY3VtZW50LCB1cmwpKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBtYXliZUFkZFN5c3RlbVNoYXJlQnV0dG9uXygpIHtcbiAgICBpZiAoIXRoaXMuaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBgYW1wLXNvY2lhbC1zaGFyZWAgd2lsbCBoaWRlIGBzeXN0ZW1gIGJ1dHRvbnMgd2hlbiBub3Qgc3VwcG9ydGVkLCBidXRcbiAgICAgIC8vIHdlIGFsc28gbmVlZCB0byBhdm9pZCBhZGRpbmcgaXQgZm9yIHJlbmRlcmluZyByZWFzb25zLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5yb290KS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnLmktYW1waHRtbC1zdG9yeS1zaGFyZS1zeXN0ZW0nKTtcblxuICAgIHRoaXMubG9hZFJlcXVpcmVkRXh0ZW5zaW9ucygpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1aWxkUHJvdmlkZXIodGhpcy53aW4uZG9jdW1lbnQsICdzeXN0ZW0nKSk7XG4gIH1cblxuICAvKipcbiAgICogTk9URShhbGFub3JvemNvKTogVGhpcyBpcyBhIGR1cGxpY2F0ZSBvZiB0aGUgbG9naWMgaW4gdGhlXG4gICAqIGBhbXAtc29jaWFsLXNoYXJlYCBjb21wb25lbnQuXG4gICAqIEBwYXJhbSAgeyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2M9fSAgYW1wZG9jXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGJyb3dzZXIgc3VwcG9ydHMgbmF0aXZlIHN5c3RlbSBzaGFyaW5nLlxuICAgKi9cbiAgaXNTeXN0ZW1TaGFyZVN1cHBvcnRlZChhbXBkb2MgPSB0aGlzLmdldEFtcERvY18oKSkge1xuICAgIGNvbnN0IHZpZXdlciA9IFNlcnZpY2VzLnZpZXdlckZvckRvYyhhbXBkb2MpO1xuXG4gICAgY29uc3QgcGxhdGZvcm0gPSBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbik7XG5cbiAgICAvLyBDaHJvbWUgZXhwb3J0cyBuYXZpZ2F0b3Iuc2hhcmUgaW4gV2ViVmlldyBidXQgZG9lcyBub3QgaW1wbGVtZW50IGl0LlxuICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03NjU5MjNcbiAgICBjb25zdCBpc0Nocm9tZVdlYnZpZXcgPSB2aWV3ZXIuaXNXZWJ2aWV3RW1iZWRkZWQoKSAmJiBwbGF0Zm9ybS5pc0Nocm9tZSgpO1xuXG4gICAgcmV0dXJuICgnc2hhcmUnIGluIG5hdmlnYXRvcikgJiYgIWlzQ2hyb21lV2VidmlldztcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbmQgYXBwbGllcyB0aGUgc2hhcmUgcHJvdmlkZXJzIGNvbmZpZ3VyZWQgYnkgdGhlIHB1Ymxpc2hlci5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgbG9hZFByb3ZpZGVycygpIHtcbiAgICB0aGlzLmxvYWRSZXF1aXJlZEV4dGVuc2lvbnMoKTtcblxuICAgIHRoaXMucmVxdWVzdFNlcnZpY2VfLmxvYWRCb29rZW5kQ29uZmlnKCkudGhlbihjb25maWcgPT4ge1xuICAgICAgY29uc3QgcHJvdmlkZXJzID0gY29uZmlnICYmIChjb25maWdbU0hBUkVfUFJPVklERVJTX0tFWV0gfHxcbiAgICAgICAgY29uZmlnW0RFUFJFQ0FURURfU0hBUkVfUFJPVklERVJTX0tFWV0pO1xuICAgICAgaWYgKCFwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRQcm92aWRlcnNfKHByb3ZpZGVycyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsoIU9iamVjdDxzdHJpbmcsICghSnNvbk9iamVjdHxib29sZWFuKT4gfCAhQXJyYXk8IU9iamVjdHxzdHJpbmc+KX0gcHJvdmlkZXJzXG4gICAqIEBwcml2YXRlXG4gICAqIFRPRE8oYWxhbm9yb3pjbyk6IFNldCBzdG9yeSBtZXRhZGF0YSBpbiBzaGFyZSBjb25maWcuXG4gICAqL1xuICBzZXRQcm92aWRlcnNfKHByb3ZpZGVycykge1xuICAgIHByb3ZpZGVycy5mb3JFYWNoKHByb3ZpZGVyID0+IHtcbiAgICAgIGlmIChpc09iamVjdChwcm92aWRlcikpIHtcbiAgICAgICAgdGhpcy5hZGRfKGJ1aWxkUHJvdmlkZXIodGhpcy53aW4uZG9jdW1lbnQsXG4gICAgICAgICAgICBwcm92aWRlclsncHJvdmlkZXInXSwgcHJvdmlkZXIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvdmlkZXIgPT0gJ3N5c3RlbScpIHtcbiAgICAgICAgdXNlcigpLndhcm4oJ0FNUC1TVE9SWScsXG4gICAgICAgICAgICAnYHN5c3RlbWAgaXMgbm90IGEgdmFsaWQgc2hhcmUgcHJvdmlkZXIgdHlwZS4gTmF0aXZlIHNoYXJpbmcgaXMgJyArXG4gICAgICAgICAgICAnZW5hYmxlZCBieSBkZWZhdWx0IGFuZCBjYW5ub3QgYmUgdHVybmVkIG9mZi4nLFxuICAgICAgICAgICAgcHJvdmlkZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmFkZF8oYnVpbGRQcm92aWRlcih0aGlzLndpbi5kb2N1bWVudCwgcHJvdmlkZXIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2M9fSBhbXBkb2NcbiAgICovXG4gIGxvYWRSZXF1aXJlZEV4dGVuc2lvbnMoYW1wZG9jID0gdGhpcy5nZXRBbXBEb2NfKCkpIHtcbiAgICBTZXJ2aWNlcy5leHRlbnNpb25zRm9yKHRoaXMud2luKVxuICAgICAgICAuaW5zdGFsbEV4dGVuc2lvbkZvckRvYyhhbXBkb2MsICdhbXAtc29jaWFsLXNoYXJlJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWRkXyhub2RlKSB7XG4gICAgY29uc3QgbGlzdCA9IGRldigpLmFzc2VydCh0aGlzLnJvb3QpLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGNvbnN0IGl0ZW0gPSByZW5kZXJBc0VsZW1lbnQodGhpcy53aW4uZG9jdW1lbnQsIFNIQVJFX0lURU1fVEVNUExBVEUpO1xuXG4gICAgaXRlbS5hcHBlbmRDaGlsZChub2RlKTtcblxuICAgIC8vIGBsYXN0RWxlbWVudENoaWxkYCBpcyB0aGUgc3lzdGVtIHNoYXJlIGJ1dHRvbiBjb250YWluZXIsIHdoaWNoIHNob3VsZFxuICAgIC8vIGFsd2F5cyBiZSBsYXN0IGluIGxpc3RcbiAgICBsaXN0Lmluc2VydEJlZm9yZShpdGVtLCBsaXN0Lmxhc3RFbGVtZW50Q2hpbGQpO1xuICB9XG59XG5cblxuLyoqXG4gKiBTb2NpYWwgc2hhcmUgd2lkZ2V0IGZvciBzdG9yeSBib29rZW5kIHdpdGggYSBzY3JvbGxhYmxlIGxheW91dC5cbiAqIFRoaXMgY2xhc3MgaXMgY291cGxlZCB0byB0aGUgRE9NIHN0cnVjdHVyZSBmb3IgU2hhcmVXaWRnZXQsIGJ1dCB0aGF0J3Mgb2suXG4gKi9cbmV4cG9ydCBjbGFzcyBTY3JvbGxhYmxlU2hhcmVXaWRnZXQgZXh0ZW5kcyBTaGFyZVdpZGdldCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBzdG9yeUVsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIHN0b3J5RWwpIHtcbiAgICBzdXBlcih3aW4sIHN0b3J5RWwpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih3aW4pO1xuXG4gICAgLyoqXG4gICAgICogQ29udGFpbmVyIHdpZHRoIGlzIGJlaW5nIHRyYWNrZWQgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBsYXlvdXRcbiAgICAgKiBjYWxjdWxhdGlvbnMuXG4gICAgICogQHByaXZhdGUgez9udW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jb250YWluZXJXaWR0aF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHN0b3J5RWxcbiAgICogQHJldHVybiB7IVNjcm9sbGFibGVTaGFyZVdpZGdldH1cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUod2luLCBzdG9yeUVsKSB7XG4gICAgcmV0dXJuIG5ldyBTY3JvbGxhYmxlU2hhcmVXaWRnZXQod2luLCBzdG9yeUVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGJ1aWxkKGFtcGRvYykge1xuICAgIHN1cGVyLmJ1aWxkKGFtcGRvYyk7XG5cbiAgICB0aGlzLnJvb3QuY2xhc3NMaXN0LmFkZChTQ1JPTExBQkxFX0NMQVNTTkFNRSk7XG5cbiAgICBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyhhbXBkb2MpLm9uUmVzaXplKFxuICAgICAgICAvLyB3ZSBkb24ndCByZXF1aXJlIGEgbG90IG9mIHNtb290aG5lc3MgaGVyZSwgc28gd2UgdGhyb3R0bGVcbiAgICAgICAgdGhyb3R0bGUodGhpcy53aW4sICgpID0+IHRoaXMuYXBwbHlCdXR0b25QYWRkaW5nXygpLCAxMDApKTtcblxuICAgIHJldHVybiB0aGlzLnJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBwYWRkaW5nIGJldHdlZW4gYnV0dG9ucyBzbyB0aGF0IHRoZSByZXN1bHQgaXMgdGhhdCB0aGVyZSdzXG4gICAqIGFsd2F5cyBvbmUgaXRlbSB2aXN1YWxseSBcImN1dCBvZmZcIiBmb3Igc2Nyb2xsIGFmZm9yZGFuY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhcHBseUJ1dHRvblBhZGRpbmdfKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRWaXNpYmxlSXRlbXNfKCk7XG5cbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudnN5bmNfLnJ1bih7XG4gICAgICBtZWFzdXJlOiBzdGF0ZSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gdGhpcy5yb290Li8qT0sqL2NsaWVudFdpZHRoO1xuXG4gICAgICAgIGlmIChjb250YWluZXJXaWR0aCA9PSB0aGlzLmNvbnRhaW5lcldpZHRoXykge1xuICAgICAgICAgIC8vIERvbid0IHJlY2FsY3VsYXRlIGlmIHdpZHRoIGhhcyBub3QgY2hhbmdlZCAoaS5lLiBvbnNjcmVlbiBrZXlib2FyZClcbiAgICAgICAgICBzdGF0ZS5ub29wID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpY29uID0gZGV2KCkuYXNzZXJ0KGl0ZW1zWzBdLmZpcnN0RWxlbWVudENoaWxkKTtcblxuICAgICAgICBjb25zdCBsZWZ0TWFyZ2luID0gaWNvbi4vKk9LKi9vZmZzZXRMZWZ0IC0gdGhpcy5yb290Li8qT0sqL29mZnNldExlZnQ7XG4gICAgICAgIGNvbnN0IGljb25XaWR0aCA9IGljb24uLypPSyovb2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgLy8gVG90YWwgd2lkdGggdGhhdCB0aGUgYnV0dG9ucyB3aWxsIG9jY3VweSB3aXRoIG1pbmltdW0gcGFkZGluZy5cbiAgICAgICAgY29uc3QgdG90YWxJdGVtV2lkdGggPVxuICAgICAgICAgICAgKGljb25XaWR0aCAqIGl0ZW1zLmxlbmd0aCkgKyAoKDIgKiBNSU5fQlVUVE9OX1BBRERJTkcpICpcbiAgICAgICAgICAgICAgICAoaXRlbXMubGVuZ3RoIC0gMSkpO1xuXG4gICAgICAgIC8vIElmIGJ1dHRvbnMgZG9uJ3QgZml0IHdpdGhpbiB0aGUgYXZhaWxhYmxlIGFyZWEsIGNhbGN1bGF0ZSBwYWRkaW5nIHNvXG4gICAgICAgIC8vIHRoYXQgdGhlcmUgd2lsbCBiZSBhbiBlbGVtZW50IGN1dC1vZmYuXG4gICAgICAgIGlmICh0b3RhbEl0ZW1XaWR0aCA+IChjb250YWluZXJXaWR0aCAtIChsZWZ0TWFyZ2luICogMikpKSB7XG4gICAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSBjb250YWluZXJXaWR0aCAtIGxlZnRNYXJnaW4gLSAoaWNvbldpZHRoIC8gMik7XG4gICAgICAgICAgY29uc3QgYW1vdW50VmlzaWJsZSA9XG4gICAgICAgICAgICAgIE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAvIChpY29uV2lkdGggKyAoTUlOX0JVVFRPTl9QQURESU5HICogMikpKTtcblxuICAgICAgICAgIHN0YXRlLnBhZGRpbmcgPSAwLjUgKiAoKGF2YWlsYWJsZVdpZHRoIC8gYW1vdW50VmlzaWJsZSkgLSBpY29uV2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSwgY2FsY3VsYXRlIHBhZGRpbmcgaW4gZnJvbSBNSU5fUEFERElORyB0byBERUZBVUxUX1BBRERJTkdcbiAgICAgICAgICAvLyBzbyB0aGF0IGFsbCBlbGVtZW50cyBmaXQgYW5kIHRha2UgYXMgbXVjaCBhcmVhIGFzIHBvc3NpYmxlLlxuICAgICAgICAgIGNvbnN0IHRvdGFsUGFkZGluZyA9XG4gICAgICAgICAgICAgICgoY29udGFpbmVyV2lkdGggLSAobGVmdE1hcmdpbiAqIDIpKSAtXG4gICAgICAgICAgICAgIChpY29uV2lkdGggKiBpdGVtcy5sZW5ndGgpKSAvIChpdGVtcy5sZW5ndGggLSAxKTtcblxuICAgICAgICAgIHN0YXRlLnBhZGRpbmcgPSBNYXRoLm1pbihERUZBVUxUX0JVVFRPTl9QQURESU5HLCAwLjUgKiB0b3RhbFBhZGRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXJXaWR0aF8gPSBjb250YWluZXJXaWR0aDtcbiAgICAgIH0sXG4gICAgICBtdXRhdGU6IHN0YXRlID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLm5vb3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoZWwsIGkpID0+IHtcbiAgICAgICAgICBpZiAoaSAhPSAwKSB7XG4gICAgICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWwsIHsncGFkZGluZy1sZWZ0JzogcHgoc3RhdGUucGFkZGluZyl9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgIT0gaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKGVsLCB7J3BhZGRpbmctcmlnaHQnOiBweChzdGF0ZS5wYWRkaW5nKX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0sIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUVsZW1lbnQ+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0VmlzaWJsZUl0ZW1zXygpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKFxuICAgICAgICBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMucm9vdCkucXVlcnlTZWxlY3RvckFsbCgnbGknKSxcbiAgICAgICAgZWwgPT4gISFlbC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgYW5kIGFwcGxpZXMgdGhlIHNoYXJlIHByb3ZpZGVycyBjb25maWd1cmVkIGJ5IHRoZSBwdWJsaXNoZXIuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGxvYWRQcm92aWRlcnMoKSB7XG4gICAgc3VwZXIubG9hZFByb3ZpZGVycygpO1xuICAgIHRoaXMuYXBwbHlCdXR0b25QYWRkaW5nXygpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtFbWJlZE1vZGUsIHBhcnNlRW1iZWRNb2RlfSBmcm9tICcuL2VtYmVkLW1vZGUnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICcuLi8uLi8uLi9zcmMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtoYXNPd259IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtyZWdpc3RlclNlcnZpY2VCdWlsZGVyfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZSc7XG5cblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5jb25zdCBUQUcgPSAnYW1wLXN0b3J5JztcblxuXG4vKipcbiAqIFV0aWwgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIHN0b3JlIHNlcnZpY2UuIEVuc3VyZXMgd2UgY2FuIHJldHJpZXZlIHRoZVxuICogc2VydmljZSBzeW5jaHJvbm91c2x5IGZyb20gdGhlIGFtcC1zdG9yeSBjb2RlYmFzZSB3aXRob3V0IHJ1bm5pbmcgaW50byByYWNlXG4gKiBjb25kaXRpb25zLlxuICogQHBhcmFtICB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshQW1wU3RvcnlTdG9yZVNlcnZpY2V9XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdG9yZVNlcnZpY2UgPSB3aW4gPT4ge1xuICBsZXQgc2VydmljZSA9IFNlcnZpY2VzLnN0b3J5U3RvcmVTZXJ2aWNlKHdpbik7XG5cbiAgaWYgKCFzZXJ2aWNlKSB7XG4gICAgc2VydmljZSA9IG5ldyBBbXBTdG9yeVN0b3JlU2VydmljZSh3aW4pO1xuICAgIHJlZ2lzdGVyU2VydmljZUJ1aWxkZXIod2luLCAnc3Rvcnktc3RvcmUnLCAoKSA9PiBzZXJ2aWNlKTtcbiAgfVxuXG4gIHJldHVybiBzZXJ2aWNlO1xufTtcblxuXG4vKipcbiAqIERpZmZlcmVudCBVSSBleHBlcmllbmNlcyB0byBkaXNwbGF5IHRoZSBzdG9yeS5cbiAqIEBjb25zdCBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgVUlUeXBlID0ge1xuICBNT0JJTEU6IDAsXG4gIERFU0tUT1A6IDEsXG4gIFNDUk9MTDogMixcbn07XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICAgY2FuaW5zZXJ0YXV0b21hdGljYWQ6IGJvb2xlYW4sXG4gKiAgICBjYW5zaG93Ym9va2VuZDogYm9vbGVhbixcbiAqICAgIGNhbnNob3duYXZpZ2F0aW9ub3ZlcmxheWhpbnQ6IGJvb2xlYW4sXG4gKiAgICBjYW5zaG93cHJldmlvdXNwYWdlaGVscDogYm9vbGVhbixcbiAqICAgIGNhbnNob3dzaGFyaW5ndWlzOiBib29sZWFuLFxuICogICAgY2Fuc2hvd3N5c3RlbWxheWVyYnV0dG9uczogYm9vbGVhbixcbiAqICAgIGFjY2Vzc3N0YXRlOiBib29sZWFuLFxuICogICAgYWRzdGF0ZTogYm9vbGVhbixcbiAqICAgIGJvb2tlbmRzdGF0ZTogYm9vbGVhbixcbiAqICAgIGRlc2t0b3BzdGF0ZTogYm9vbGVhbixcbiAqICAgIGluZm9kaWFsb2dzdGF0ZTogYm9vbGVhbixcbiAqICAgIGhhc2F1ZGlvc3RhdGU6IGJvb2xlYW4sXG4gKiAgICBsYW5kc2NhcGVzdGF0ZTogYm9vbGVhbixcbiAqICAgIG11dGVkc3RhdGU6IGJvb2xlYW4sXG4gKiAgICBwYXVzZWRzdGF0ZTogYm9vbGVhbixcbiAqICAgIHJ0bHN0YXRlOiBib29sZWFuLFxuICogICAgc2hhcmVtZW51c3RhdGU6IGJvb2xlYW4sXG4gKiAgICBzdXBwb3J0ZWRicm93c2Vyc3RhdGU6IGJvb2xlYW4sXG4gKiAgICB1aXN0YXRlOiAhVUlUeXBlLFxuICogICAgY29uc2VudGlkOiA/c3RyaW5nLFxuICogICAgY3VycmVudHBhZ2VpZDogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTdGF0ZTtcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IEBlbnVtIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgU3RhdGVQcm9wZXJ0eSA9IHtcbiAgLy8gRW1iZWQgb3B0aW9ucy5cbiAgQ0FOX0lOU0VSVF9BVVRPTUFUSUNfQUQ6ICdjYW5pbnNlcnRhdXRvbWF0aWNhZCcsXG4gIENBTl9TSE9XX0JPT0tFTkQ6ICdjYW5zaG93Ym9va2VuZCcsXG4gIENBTl9TSE9XX05BVklHQVRJT05fT1ZFUkxBWV9ISU5UOiAnY2Fuc2hvd25hdmlnYXRpb25vdmVybGF5aGludCcsXG4gIENBTl9TSE9XX1BSRVZJT1VTX1BBR0VfSEVMUDogJ2NhbnNob3dwcmV2aW91c3BhZ2VoZWxwJyxcbiAgQ0FOX1NIT1dfU0hBUklOR19VSVM6ICdjYW5zaG93c2hhcmluZ3VpcycsXG4gIENBTl9TSE9XX1NZU1RFTV9MQVlFUl9CVVRUT05TOiAnY2Fuc2hvd3N5c3RlbWxheWVyYnV0dG9ucycsXG5cbiAgLy8gQXBwIFN0YXRlcy5cbiAgQUNDRVNTX1NUQVRFOiAnYWNjZXNzc3RhdGUnLCAvLyBhbXAtYWNjZXNzIHBheXdhbGwuXG4gIEFEX1NUQVRFOiAnYWRzdGF0ZScsXG4gIEJPT0tFTkRfU1RBVEU6ICdib29rZW5kc3RhdGUnLFxuICBERVNLVE9QX1NUQVRFOiAnZGVza3RvcHN0YXRlJyxcbiAgSEFTX0FVRElPX1NUQVRFOiAnaGFzYXVkaW9zdGF0ZScsXG4gIElORk9fRElBTE9HX1NUQVRFOiAnaW5mb2RpYWxvZ3N0YXRlJyxcbiAgTEFORFNDQVBFX1NUQVRFOiAnbGFuZHNjYXBlc3RhdGUnLFxuICBNVVRFRF9TVEFURTogJ211dGVkc3RhdGUnLFxuICBQQVVTRURfU1RBVEU6ICdwYXVzZWRzdGF0ZScsXG4gIFJUTF9TVEFURTogJ3J0bHN0YXRlJyxcbiAgU0hBUkVfTUVOVV9TVEFURTogJ3NoYXJlbWVudXN0YXRlJyxcbiAgU1VQUE9SVEVEX0JST1dTRVJfU1RBVEU6ICdzdXBwb3J0ZWRicm93c2Vyc3RhdGUnLFxuICBVSV9TVEFURTogJ3Vpc3RhdGUnLFxuXG4gIC8vIEFwcCBkYXRhLlxuICBDT05TRU5UX0lEOiAnY29uc2VudGlkJyxcbiAgQ1VSUkVOVF9QQUdFX0lEOiAnY3VycmVudHBhZ2VpZCcsXG4gIENVUlJFTlRfUEFHRV9JTkRFWDogJ2N1cnJlbnRwYWdlaW5kZXgnLFxufTtcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IEBlbnVtIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgQWN0aW9uID0ge1xuICBDSEFOR0VfUEFHRTogJ3NldGN1cnJlbnRwYWdlaWQnLFxuICBTRVRfQ09OU0VOVF9JRDogJ3NldGNvbnNlbnRpZCcsXG4gIFRPR0dMRV9BQ0NFU1M6ICd0b2dnbGVhY2Nlc3MnLFxuICBUT0dHTEVfQUQ6ICd0b2dnbGVhZCcsXG4gIFRPR0dMRV9CT09LRU5EOiAndG9nZ2xlYm9va2VuZCcsXG4gIFRPR0dMRV9JTkZPX0RJQUxPRzogJ3RvZ2dsZWluZm9kaWFsb2cnLFxuICBUT0dHTEVfSEFTX0FVRElPOiAndG9nZ2xlaGFzYXVkaW8nLFxuICBUT0dHTEVfTEFORFNDQVBFOiAndG9nZ2xlbGFuZHNjYXBlJyxcbiAgVE9HR0xFX01VVEVEOiAndG9nZ2xlbXV0ZWQnLFxuICBUT0dHTEVfUEFVU0VEOiAndG9nZ2xlcGF1c2VkJyxcbiAgVE9HR0xFX1JUTDogJ3RvZ2dsZXJ0bCcsXG4gIFRPR0dMRV9TSEFSRV9NRU5VOiAndG9nZ2xlc2hhcmVtZW51JyxcbiAgVE9HR0xFX1NVUFBPUlRFRF9CUk9XU0VSOiAndG9nZ2xlc3VwcG9ydGVkYnJvd3NlcicsXG4gIFRPR0dMRV9VSTogJ3RvZ2dsZXVpJyxcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBuZXcgc2F0ZS5cbiAqIEBwYXJhbSAgeyFTdGF0ZX0gc3RhdGUgSW1tdXRhYmxlIHN0YXRlXG4gKiBAcGFyYW0gIHshQWN0aW9ufSBhY3Rpb25cbiAqIEBwYXJhbSAgeyp9IGRhdGFcbiAqIEByZXR1cm4geyFTdGF0ZX0gbmV3IHN0YXRlXG4gKi9cbmNvbnN0IGFjdGlvbnMgPSAoc3RhdGUsIGFjdGlvbiwgZGF0YSkgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbikge1xuICAgIC8vIFRyaWdnZXJzIHRoZSBhbXAtYWNlc3MgcGF5d2FsbC5cbiAgICBjYXNlIEFjdGlvbi5UT0dHTEVfQUNDRVNTOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkFDQ0VTU19TVEFURV06ICEhZGF0YSxcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LlBBVVNFRF9TVEFURV06ICEhZGF0YSxcbiAgICAgICAgICB9KSk7XG4gICAgLy8gVHJpZ2dlcnMgdGhlIGFkIFVJLlxuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9BRDpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuQURfU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgLy8gU2hvd3Mgb3IgaGlkZXMgdGhlIGJvb2tlbmQuXG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX0JPT0tFTkQ6XG4gICAgICBpZiAoIXN0YXRlW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfQk9PS0VORF0pIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtbU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIC8vIFNob3dzIG9yIGhpZGVzIHRoZSBpbmZvIGRpYWxvZy5cbiAgICBjYXNlIEFjdGlvbi5UT0dHTEVfSU5GT19ESUFMT0c6XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuSU5GT19ESUFMT0dfU1RBVEVdOiAhIWRhdGEsXG4gICAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5QQVVTRURfU1RBVEVdOiAhIWRhdGEsXG4gICAgICAgICAgfSkpO1xuICAgIC8vIFNob3dzIG9yIGhpZGVzIHRoZSBhdWRpbyBjb250cm9scy5cbiAgICBjYXNlIEFjdGlvbi5UT0dHTEVfSEFTX0FVRElPOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtbU3RhdGVQcm9wZXJ0eS5IQVNfQVVESU9fU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX0xBTkRTQ0FQRTpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuTEFORFNDQVBFX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIC8vIE11dGVzIG9yIHVubXV0ZXMgdGhlIHN0b3J5IG1lZGlhLlxuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9NVVRFRDpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuTVVURURfU1RBVEVdOiAhIWRhdGF9KSk7XG4gICAgY2FzZSBBY3Rpb24uVE9HR0xFX1BBVVNFRDpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7W1N0YXRlUHJvcGVydHkuUEFVU0VEX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9SVEw6XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LCBzdGF0ZSwge1tTdGF0ZVByb3BlcnR5LlJUTF9TVEFURV06ICEhZGF0YX0pKTtcbiAgICBjYXNlIEFjdGlvbi5UT0dHTEVfU1VQUE9SVEVEX0JST1dTRVI6XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RhdGV9ICovIChPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LCBzdGF0ZSwge1tTdGF0ZVByb3BlcnR5LlNVUFBPUlRFRF9CUk9XU0VSX1NUQVRFXTogISFkYXRhfSkpO1xuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9TSEFSRV9NRU5VOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LlBBVVNFRF9TVEFURV06ICEhZGF0YSxcbiAgICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LlNIQVJFX01FTlVfU1RBVEVdOiAhIWRhdGEsXG4gICAgICAgICAgfSkpO1xuICAgIGNhc2UgQWN0aW9uLlRPR0dMRV9VSTpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7XG4gICAgICAgICAgICAvLyBLZWVwIERFU0tUT1BfU1RBVEUgZm9yIGNvbXBhdGlibGl0eSB3aXRoIHYwLjEuXG4gICAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5ERVNLVE9QX1NUQVRFXTogZGF0YSA9PT0gVUlUeXBlLkRFU0tUT1AsXG4gICAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5VSV9TVEFURV06IGRhdGEsXG4gICAgICAgICAgfSkpO1xuICAgIGNhc2UgQWN0aW9uLlNFVF9DT05TRU5UX0lEOlxuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSwgc3RhdGUsIHtbU3RhdGVQcm9wZXJ0eS5DT05TRU5UX0lEXTogZGF0YX0pKTtcbiAgICBjYXNlIEFjdGlvbi5DSEFOR0VfUEFHRTpcbiAgICAgIHJldHVybiAvKiogQHR5cGUgeyFTdGF0ZX0gKi8gKE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sIHN0YXRlLCB7XG4gICAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DVVJSRU5UX1BBR0VfSURdOiBkYXRhLmlkLFxuICAgICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ1VSUkVOVF9QQUdFX0lOREVYXTogZGF0YS5pbmRleCxcbiAgICAgICAgICB9KSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGRldigpLmVycm9yKFRBRywgYFVua25vd24gYWN0aW9uICR7YWN0aW9ufS5gKTtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFN0b3JlIHNlcnZpY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeVN0b3JlU2VydmljZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgeyFPYmplY3Q8c3RyaW5nLCAhT2JzZXJ2YWJsZT59ICovXG4gICAgdGhpcy5saXN0ZW5lcnNfID0ge307XG5cbiAgICAvKiogQHByaXZhdGUgeyFTdGF0ZX0gKi9cbiAgICB0aGlzLnN0YXRlXyA9IC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sIHRoaXMuZ2V0RGVmYXVsdFN0YXRlXygpLCB0aGlzLmdldEVtYmVkT3ZlcnJpZGVzXygpKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgc3RhdGUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSAge3N0cmluZ30ga2V5IFByb3BlcnR5IHRvIHJldHJpZXZlIGZyb20gdGhlIHN0YXRlLlxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZ2V0KGtleSkge1xuICAgIGlmICghaGFzT3duKHRoaXMuc3RhdGVfLCBrZXkpKSB7XG4gICAgICBkZXYoKS5lcnJvcihUQUcsIGBVbmtub3duIHN0YXRlICR7a2V5fS5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVfW2tleV07XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlcyB0byBhIHN0YXRlIHByb3BlcnR5IG11dGF0aW9ucy5cbiAgICogQHBhcmFtICB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtICB7IUZ1bmN0aW9ufSBsaXN0ZW5lclxuICAgKiBAcGFyYW0gIHtib29sZWFuPX0gY2FsbFRvSW5pdGlhbGl6ZSBXaGV0aGVyIHRoZSBsaXN0ZW5lciBzaG91bGQgYmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmVkIHdpdGggY3VycmVudCB2YWx1ZS5cbiAgICovXG4gIHN1YnNjcmliZShrZXksIGxpc3RlbmVyLCBjYWxsVG9Jbml0aWFsaXplID0gZmFsc2UpIHtcbiAgICBpZiAoIWhhc093bih0aGlzLnN0YXRlXywga2V5KSkge1xuICAgICAgZGV2KCkuZXJyb3IoVEFHLCBgQ2FuJ3Qgc3Vic2NyaWJlIHRvIHVua25vd24gc3RhdGUgJHtrZXl9LmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzX1trZXldKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc19ba2V5XSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzX1trZXldLmFkZChsaXN0ZW5lcik7XG5cbiAgICBpZiAoY2FsbFRvSW5pdGlhbGl6ZSkge1xuICAgICAgbGlzdGVuZXIodGhpcy5nZXQoa2V5KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uIGFuZCB0cmlnZ2VycyB0aGUgbGlzdGVuZXJzIGZvciB0aGUgdXBkYXRlZCBzdGF0ZVxuICAgKiBwcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0gIHshQWN0aW9ufSBhY3Rpb25cbiAgICogQHBhcmFtICB7Kn0gZGF0YVxuICAgKi9cbiAgZGlzcGF0Y2goYWN0aW9uLCBkYXRhKSB7XG4gICAgY29uc3Qgb2xkU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlXyk7XG4gICAgdGhpcy5zdGF0ZV8gPSBhY3Rpb25zKHRoaXMuc3RhdGVfLCBhY3Rpb24sIGRhdGEpO1xuXG4gICAgT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNfKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAob2xkU3RhdGVba2V5XSAhPT0gdGhpcy5zdGF0ZV9ba2V5XSkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc19ba2V5XS5maXJlKHRoaXMuc3RhdGVfW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgZGVmYXVsdCBzdGF0ZSwgdGhhdCBjb3VsZCBiZSBvdmVycmlkZW4gYnkgYW4gZW1iZWQgbW9kZS5cbiAgICogQHJldHVybiB7IVN0YXRlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0RGVmYXVsdFN0YXRlXygpIHtcbiAgICAvLyBDb21waWxlciB3b24ndCByZXNvbHZlIHRoZSBvYmplY3Qga2V5cyBhbmQgdHJpZ2dlciBhbiBlcnJvciBmb3IgbWlzc2luZ1xuICAgIC8vIHByb3BlcnRpZXMsIHNvIHdlIGhhdmUgdG8gZm9yY2UgdGhlIHR5cGUuXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IVN0YXRlfSAqLyAoe1xuICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX0lOU0VSVF9BVVRPTUFUSUNfQURdOiB0cnVlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfQk9PS0VORF06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19OQVZJR0FUSU9OX09WRVJMQVlfSElOVF06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19QUkVWSU9VU19QQUdFX0hFTFBdOiB0cnVlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU0hBUklOR19VSVNdOiB0cnVlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU1lTVEVNX0xBWUVSX0JVVFRPTlNdOiB0cnVlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQUNDRVNTX1NUQVRFXTogZmFsc2UsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5BRF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuREVTS1RPUF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuSU5GT19ESUFMT0dfU1RBVEVdOiBmYWxzZSxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LkhBU19BVURJT19TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuTEFORFNDQVBFX1NUQVRFXTogZmFsc2UsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5NVVRFRF9TVEFURV06IHRydWUsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5QQVVTRURfU1RBVEVdOiBmYWxzZSxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LlJUTF9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuU0hBUkVfTUVOVV9TVEFURV06IGZhbHNlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuU1VQUE9SVEVEX0JST1dTRVJfU1RBVEVdOiB0cnVlLFxuICAgICAgW1N0YXRlUHJvcGVydHkuVUlfU1RBVEVdOiBVSVR5cGUuTU9CSUxFLFxuICAgICAgW1N0YXRlUHJvcGVydHkuQ09OU0VOVF9JRF06IG51bGwsXG4gICAgICBbU3RhdGVQcm9wZXJ0eS5DVVJSRU5UX1BBR0VfSURdOiAnJyxcbiAgICAgIFtTdGF0ZVByb3BlcnR5LkNVUlJFTlRfUEFHRV9JTkRFWF06IDAsXG4gICAgfSk7XG4gIH1cblxuICAvLyBAVE9ETyhnbWFqb3VsZXQpOiBUaGVzZSBzaG91bGQgZ2V0IHRoZWlyIG93biBmaWxlIGlmIHRoZXkgc3RhcnQgZ3Jvd2luZy5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgZW1iZWQgbW9kZSBjb25maWcsIHRoYXQgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBzdGF0ZS5cbiAgICogQHJldHVybiB7IU9iamVjdDxTdGF0ZVByb3BlcnR5LCAqPn0gUGFydGlhbCBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0RW1iZWRPdmVycmlkZXNfKCkge1xuICAgIGNvbnN0IGVtYmVkTW9kZSA9IHBhcnNlRW1iZWRNb2RlKHRoaXMud2luXy5sb2NhdGlvbi5oYXNoKTtcbiAgICBzd2l0Y2ggKGVtYmVkTW9kZSkge1xuICAgICAgY2FzZSBFbWJlZE1vZGUuTkFNRV9UQkQ6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX0lOU0VSVF9BVVRPTUFUSUNfQURdOiBmYWxzZSxcbiAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19CT09LRU5EXTogZmFsc2UsXG4gICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfTkFWSUdBVElPTl9PVkVSTEFZX0hJTlRdOiBmYWxzZSxcbiAgICAgICAgICBbU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19QUkVWSU9VU19QQUdFX0hFTFBdOiB0cnVlLFxuICAgICAgICAgIFtTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1NZU1RFTV9MQVlFUl9CVVRUT05TXTogZmFsc2UsXG4gICAgICAgICAgW1N0YXRlUHJvcGVydHkuTVVURURfU1RBVEVdOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgRW1iZWRNb2RlLk5PX1NIQVJJTkc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW1N0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU0hBUklOR19VSVNdOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgQWN0aW9uLFxuICBTdGF0ZVByb3BlcnR5LFxuICBVSVR5cGUsXG4gIGdldFN0b3JlU2VydmljZSxcbn0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LXN5c3RlbS1sYXllci0xLjAuY3NzJztcbmltcG9ydCB7RGV2ZWxvcG1lbnRNb2RlTG9nLCBEZXZlbG9wbWVudE1vZGVMb2dCdXR0b25TZXR9IGZyb20gJy4vZGV2ZWxvcG1lbnQtdWknO1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtQcm9ncmVzc0Jhcn0gZnJvbSAnLi9wcm9ncmVzcy1iYXInO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7U2hhcmVXaWRnZXR9IGZyb20gJy4vYW1wLXN0b3J5LXNoYXJlJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRBbXBkb2N9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlJztcbmltcG9ydCB7Z2V0TW9kZX0gZnJvbSAnLi4vLi4vLi4vc3JjL21vZGUnO1xuaW1wb3J0IHttYXRjaGVzfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50LCByZW5kZXJTaW1wbGVUZW1wbGF0ZX0gZnJvbSAnLi9zaW1wbGUtdGVtcGxhdGUnO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFEX1NIT1dJTkdfQVRUUklCVVRFID0gJ2FkLXNob3dpbmcnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBBVURJT19NVVRFRF9BVFRSSUJVVEUgPSAnbXV0ZWQnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBNVVRFX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1tdXRlLWF1ZGlvLWNvbnRyb2wnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBVTk1VVEVfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LXVubXV0ZS1hdWRpby1jb250cm9sJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgU0hBUkVfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LXNoYXJlLWNvbnRyb2wnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBJTkZPX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1pbmZvLWNvbnRyb2wnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi9cbmNvbnN0IFRFTVBMQVRFID0ge1xuICB0YWc6ICdhc2lkZScsXG4gIGF0dHJzOiBkaWN0KFxuICAgICAgeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVyIGktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQnfSksXG4gIGNoaWxkcmVuOiBbXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1sYXllci1idXR0b25zJ30pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICAgJ3JvbGUnOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICdjbGFzcyc6IElORk9fQ0xBU1MgKyAnIGktYW1waHRtbC1zdG9yeS1idXR0b24nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAncm9sZSc6ICdidXR0b24nLFxuICAgICAgICAgICAgJ2NsYXNzJzogVU5NVVRFX0NMQVNTICsgJyBpLWFtcGh0bWwtc3RvcnktYnV0dG9uJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICAgJ3JvbGUnOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICdjbGFzcyc6IE1VVEVfQ0xBU1MgKyAnIGktYW1waHRtbC1zdG9yeS1idXR0b24nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAncm9sZSc6ICdidXR0b24nLFxuICAgICAgICAgICAgJ2NsYXNzJzogU0hBUkVfQ0xBU1MgKyAnIGktYW1waHRtbC1zdG9yeS1idXR0b24nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICBdLFxufTtcblxuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgXCJwaWxsLXN0eWxlXCIgc2hhcmUgd2lkZ2V0LCByZW5kZXJlZCBvbiBkZXNrdG9wLlxuICogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuY29uc3QgU0hBUkVfV0lER0VUX1BJTExfQ09OVEFJTkVSID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsLWNvbnRhaW5lcid9KSxcbiAgY2hpbGRyZW46IFtcbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc2hhcmUtcGlsbCd9KSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdzcGFuJyxcbiAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsLWxhYmVsJ30pLFxuICAgICAgICAgIGxvY2FsaXplZFN0cmluZ0lkOlxuICAgICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfU1lTVEVNX0xBWUVSX1NIQVJFX1dJREdFVF9MQUJFTCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSxcbn07XG5cblxuLyoqXG4gKiBTeXN0ZW0gTGF5ZXIgKGkuZS4gVUkgQ2hyb21lKSBmb3IgPGFtcC1zdG9yeT4uXG4gKiBDaHJvbWUgY29udGFpbnM6XG4gKiAgIC0gbXV0ZS91bm11dGUgYnV0dG9uXG4gKiAgIC0gc3RvcnkgcHJvZ3Jlc3MgYmFyXG4gKiAgIC0gYm9va2VuZCBjbG9zZSBidXRvdG5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbUxheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudEVsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIHBhcmVudEVsKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnBhcmVudEVsXyA9IHBhcmVudEVsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNCdWlsdF8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFJvb3QgZWxlbWVudCBjb250YWluaW5nIGEgc2hhZG93IERPTSByb290LlxuICAgICAqIEBwcml2YXRlIHs/RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnJvb3RfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBzeXN0ZW0gbGF5ZXIuXG4gICAgICogQHByaXZhdGUgez9FbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmJ1dHRvbnNDb250YWluZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9ncmVzc0Jhcn0gKi9cbiAgICB0aGlzLnByb2dyZXNzQmFyXyA9IFByb2dyZXNzQmFyLmNyZWF0ZSh3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIHshRGV2ZWxvcG1lbnRNb2RlTG9nfSAqL1xuICAgIHRoaXMuZGV2ZWxvcGVyTG9nXyA9IERldmVsb3BtZW50TW9kZUxvZy5jcmVhdGUod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IURldmVsb3BtZW50TW9kZUxvZ0J1dHRvblNldH0gKi9cbiAgICB0aGlzLmRldmVsb3BlckJ1dHRvbnNfID0gRGV2ZWxvcG1lbnRNb2RlTG9nQnV0dG9uU2V0LmNyZWF0ZSh3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Tm9kZX0gKi9cbiAgICB0aGlzLnNoYXJlUGlsbENvbnRhaW5lck5vZGVfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IGdldFN0b3JlU2VydmljZSh0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLndpbl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IHBhZ2VJZHMgdGhlIGlkcyBvZiBlYWNoIHBhZ2UgaW4gdGhlIHN0b3J5XG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgYnVpbGQocGFnZUlkcykge1xuICAgIGlmICh0aGlzLmlzQnVpbHRfKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRSb290KCk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0J1aWx0XyA9IHRydWU7XG5cbiAgICB0aGlzLnJvb3RfID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8gPSByZW5kZXJBc0VsZW1lbnQodGhpcy53aW5fLmRvY3VtZW50LCBURU1QTEFURSk7XG5cbiAgICBjcmVhdGVTaGFkb3dSb290V2l0aFN0eWxlKHRoaXMucm9vdF8sIHRoaXMuc3lzdGVtTGF5ZXJFbF8sIENTUyk7XG5cbiAgICB0aGlzLnN5c3RlbUxheWVyRWxfLmluc2VydEJlZm9yZShcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhcl8uYnVpbGQocGFnZUlkcyksIHRoaXMuc3lzdGVtTGF5ZXJFbF8ubGFzdENoaWxkKTtcblxuICAgIHRoaXMuYnV0dG9uc0NvbnRhaW5lcl8gPVxuICAgICAgICB0aGlzLnN5c3RlbUxheWVyRWxfLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAnLmktYW1waHRtbC1zdG9yeS1zeXN0ZW0tbGF5ZXItYnV0dG9ucycpO1xuXG4gICAgdGhpcy5idWlsZEZvckRldmVsb3BtZW50TW9kZV8oKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19TWVNURU1fTEFZRVJfQlVUVE9OUyxcbiAgICAgICAgY2FuU2hvd0J1dHRvbnMgPT4ge1xuICAgICAgICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8uY2xhc3NMaXN0XG4gICAgICAgICAgICAgIC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS11aS1uby1idXR0b25zJywgIWNhblNob3dCdXR0b25zKTtcbiAgICAgICAgfSwgdHJ1ZSAvKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIGlmIChTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbl8pLmlzSW9zKCkpIHtcbiAgICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8uc2V0QXR0cmlidXRlKCdpb3MnLCAnJyk7XG4gICAgfVxuXG4gICAgaWYgKFNlcnZpY2VzLnZpZXdlckZvckRvYyh0aGlzLndpbl8uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxuICAgICAgICAuaXNFbWJlZGRlZCgpKSB7XG4gICAgICB0aGlzLnN5c3RlbUxheWVyRWxfLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1lbWJlZGRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdldFJvb3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnVpbGRGb3JEZXZlbG9wbWVudE1vZGVfKCkge1xuICAgIGlmICghZ2V0TW9kZSgpLmRldmVsb3BtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5idXR0b25zQ29udGFpbmVyXy5hcHBlbmRDaGlsZCh0aGlzLmRldmVsb3BlckJ1dHRvbnNfLmJ1aWxkKFxuICAgICAgICB0aGlzLmRldmVsb3BlckxvZ18udG9nZ2xlLmJpbmQodGhpcy5kZXZlbG9wZXJMb2dfKSkpO1xuICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLmFwcGVuZENoaWxkKHRoaXMuZGV2ZWxvcGVyTG9nXy5idWlsZCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgLy8gVE9ETyhhbGFub3JvemNvKTogTGlzdGVuIHRvIHRhcCBldmVudCBwcm9wZXJseSAoaS5lLiBmYXN0Y2xpY2spXG4gICAgdGhpcy5nZXRTaGFkb3dSb290KCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGV2ZW50LnRhcmdldCk7XG5cbiAgICAgIGlmIChtYXRjaGVzKHRhcmdldCwgYC4ke01VVEVfQ0xBU1N9LCAuJHtNVVRFX0NMQVNTfSAqYCkpIHtcbiAgICAgICAgdGhpcy5vbk11dGVBdWRpb0NsaWNrXygpO1xuICAgICAgfSBlbHNlIGlmIChtYXRjaGVzKHRhcmdldCwgYC4ke1VOTVVURV9DTEFTU30sIC4ke1VOTVVURV9DTEFTU30gKmApKSB7XG4gICAgICAgIHRoaXMub25Vbm11dGVBdWRpb0NsaWNrXygpO1xuICAgICAgfSBlbHNlIGlmIChtYXRjaGVzKHRhcmdldCwgYC4ke1NIQVJFX0NMQVNTfSwgLiR7U0hBUkVfQ0xBU1N9ICpgKSkge1xuICAgICAgICB0aGlzLm9uU2hhcmVDbGlja18oKTtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2hlcyh0YXJnZXQsIGAuJHtJTkZPX0NMQVNTfSwgLiR7SU5GT19DTEFTU30gKmApKSB7XG4gICAgICAgIHRoaXMub25JbmZvQ2xpY2tfKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQURfU1RBVEUsIGlzQWQgPT4ge1xuICAgICAgdGhpcy5vbkFkU3RhdGVVcGRhdGVfKGlzQWQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkJPT0tFTkRfU1RBVEUsIGlzQWN0aXZlID0+IHtcbiAgICAgIHRoaXMub25Cb29rZW5kU3RhdGVVcGRhdGVfKGlzQWN0aXZlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5DQU5fU0hPV19TSEFSSU5HX1VJUywgc2hvdyA9PiB7XG4gICAgICB0aGlzLm9uQ2FuU2hvd1NoYXJpbmdVaXNVcGRhdGVfKHNob3cpO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkhBU19BVURJT19TVEFURSwgaGFzQXVkaW8gPT4ge1xuICAgICAgdGhpcy5vbkhhc0F1ZGlvU3RhdGVVcGRhdGVfKGhhc0F1ZGlvKTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5NVVRFRF9TVEFURSwgaXNNdXRlZCA9PiB7XG4gICAgICB0aGlzLm9uTXV0ZWRTdGF0ZVVwZGF0ZV8oaXNNdXRlZCk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuVUlfU1RBVEUsIGlzRGVza3RvcCA9PiB7XG4gICAgICB0aGlzLm9uVUlTdGF0ZVVwZGF0ZV8oaXNEZXNrdG9wKTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5DVVJSRU5UX1BBR0VfSU5ERVgsIGluZGV4ID0+IHtcbiAgICAgIHRoaXMub25QYWdlSW5kZXhVcGRhdGVfKGluZGV4KTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5SVExfU1RBVEUsIHJ0bFN0YXRlID0+IHtcbiAgICAgIHRoaXMub25SdGxTdGF0ZVVwZGF0ZV8ocnRsU3RhdGUpO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgZ2V0Um9vdCgpIHtcbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnJvb3RfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGdldFNoYWRvd1Jvb3QoKSB7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5zeXN0ZW1MYXllckVsXyk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHRoZSBhZCBzdGF0ZSB1cGRhdGVzIGFuZCB1cGRhdGVzIHRoZSBVSSBhY2NvcmRpbmdseS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0FkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkFkU3RhdGVVcGRhdGVfKGlzQWQpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgaXNBZCA/XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnNldEF0dHJpYnV0ZShBRF9TSE9XSU5HX0FUVFJJQlVURSwgJycpIDpcbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkucmVtb3ZlQXR0cmlidXRlKEFEX1NIT1dJTkdfQVRUUklCVVRFKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gdGhlIGJvb2tlbmQgc3RhdGUgdXBkYXRlcyBhbmQgdXBkYXRlcyB0aGUgVUkgYWNjb3JkaW5nbHkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBY3RpdmVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQm9va2VuZFN0YXRlVXBkYXRlXyhpc0FjdGl2ZSkge1xuICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpXG4gICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKCdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hY3RpdmUnLCBpc0FjdGl2ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHVwZGF0ZXMgdG8gd2hldGhlciBzaGFyaW5nIFVJcyBtYXkgYmUgc2hvd24sIGFuZCB1cGRhdGVzIHRoZSBVSVxuICAgKiBhY2NvcmRpbmdseS5cbiAgICogQHBhcmFtIHtib29sZWFufSBjYW5TaG93U2hhcmluZ1Vpc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25DYW5TaG93U2hhcmluZ1Vpc1VwZGF0ZV8oY2FuU2hvd1NoYXJpbmdVaXMpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTaGFkb3dSb290KClcbiAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZSgnaS1hbXBodG1sLXN0b3J5LW5vLXNoYXJpbmcnLCAhY2FuU2hvd1NoYXJpbmdVaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBoYXMgYXVkaW8gc3RhdGUgdXBkYXRlcywgZGlzcGxheXMgdGhlIGF1ZGlvIGNvbnRyb2xzIGlmIG5lZWRlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBoYXNBdWRpb1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25IYXNBdWRpb1N0YXRlVXBkYXRlXyhoYXNBdWRpbykge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKS5jbGFzc0xpc3QudG9nZ2xlKCdhdWRpby1wbGF5aW5nJywgaGFzQXVkaW8pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBtdXRlZCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTXV0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uTXV0ZWRTdGF0ZVVwZGF0ZV8oaXNNdXRlZCkge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICBpc011dGVkID9cbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuc2V0QXR0cmlidXRlKEFVRElPX01VVEVEX0FUVFJJQlVURSwgJycpIDpcbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkucmVtb3ZlQXR0cmlidXRlKEFVRElPX01VVEVEX0FUVFJJQlVURSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIGRlc2t0b3Agc3RhdGUgdXBkYXRlcyBhbmQgdHJpZ2dlcnMgdGhlIGRlc2t0b3AgVUkuXG4gICAqIEBwYXJhbSB7IVVJVHlwZX0gdWlTdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25VSVN0YXRlVXBkYXRlXyh1aVN0YXRlKSB7XG4gICAgaWYgKFtVSVR5cGUuU0NST0xMLCBVSVR5cGUuREVTS1RPUF0uaW5jbHVkZXModWlTdGF0ZSkpIHtcbiAgICAgIHRoaXMuYnVpbGRTaGFyZVBpbGxfKCk7XG4gICAgfVxuXG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHVpU3RhdGUgPT09IFVJVHlwZS5ERVNLVE9QID9cbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuc2V0QXR0cmlidXRlKCdkZXNrdG9wJywgJycpIDpcbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkucmVtb3ZlQXR0cmlidXRlKCdkZXNrdG9wJyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHRoZSBhY3RpdmUgcGFnZSBpbmRleCBjaGFuZ2luZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqL1xuICBvblBhZ2VJbmRleFVwZGF0ZV8oaW5kZXgpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuY2xhc3NMaXN0LnRvZ2dsZSgnZmlyc3QtcGFnZS1hY3RpdmUnLCBpbmRleCA9PT0gMCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIFJUTCBzdGF0ZSB1cGRhdGVzIGFuZCB0cmlnZ2VycyB0aGUgVUkgZm9yIFJUTC5cbiAgICogQHBhcmFtIHtib29sZWFufSBydGxTdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SdGxTdGF0ZVVwZGF0ZV8ocnRsU3RhdGUpIHtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgcnRsU3RhdGUgP1xuICAgICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKS5zZXRBdHRyaWJ1dGUoJ2RpcicsICdydGwnKSA6XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnJlbW92ZUF0dHJpYnV0ZSgnZGlyJyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjbGljayBldmVudHMgb24gdGhlIG11dGUgYnV0dG9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25NdXRlQXVkaW9DbGlja18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfTVVURUQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIG9uIHRoZSB1bm11dGUgYnV0dG9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Vbm11dGVBdWRpb0NsaWNrXygpIHtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9NVVRFRCwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIG9uIHRoZSBzaGFyZSBidXR0b24gYW5kIHRvZ2dsZXMgdGhlIHNoYXJlIG1lbnUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblNoYXJlQ2xpY2tfKCkge1xuICAgIGNvbnN0IGlzT3BlbiA9IHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5TSEFSRV9NRU5VX1NUQVRFKTtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9TSEFSRV9NRU5VLCAhaXNPcGVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBvbiB0aGUgaW5mbyBidXR0b24gYW5kIHRvZ2dsZXMgdGhlIGluZm8gZGlhbG9nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25JbmZvQ2xpY2tfKCkge1xuICAgIGNvbnN0IGlzT3BlbiA9IHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5JTkZPX0RJQUxPR19TVEFURSk7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfSU5GT19ESUFMT0csICFpc09wZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlSWQgVGhlIGlkIG9mIHRoZSBwYWdlIHdob3NlIHByb2dyZXNzIHNob3VsZCBiZVxuICAgKiAgICAgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByb2dyZXNzIEEgbnVtYmVyIGZyb20gMC4wIHRvIDEuMCwgcmVwcmVzZW50aW5nIHRoZVxuICAgKiAgICAgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdXBkYXRlUHJvZ3Jlc3MocGFnZUlkLCBwcm9ncmVzcykge1xuICAgIC8vIFRPRE8obmV3bXVpcykgYXZvaWQgcGFzc2luZyBwcm9ncmVzcyBsb2dpYyB0aHJvdWdoIHN5c3RlbS1sYXllclxuICAgIHRoaXMucHJvZ3Jlc3NCYXJfLnVwZGF0ZVByb2dyZXNzKHBhZ2VJZCwgcHJvZ3Jlc3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgYXBwZW5kcyB0aGUgc2hhcmUgcGlsbC4gRGVza3RvcCBvbmx5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnVpbGRTaGFyZVBpbGxfKCkge1xuICAgIGlmICh0aGlzLnNoYXJlUGlsbENvbnRhaW5lck5vZGVfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaGFyZVBpbGxDb250YWluZXJOb2RlXyA9XG4gICAgICAgIHJlbmRlclNpbXBsZVRlbXBsYXRlKHRoaXMud2luXy5kb2N1bWVudCwgU0hBUkVfV0lER0VUX1BJTExfQ09OVEFJTkVSKTtcblxuICAgIGNvbnN0IHNoYXJlV2lkZ2V0ID0gbmV3IFNoYXJlV2lkZ2V0KHRoaXMud2luXywgdGhpcy5wYXJlbnRFbF8pO1xuXG4gICAgdGhpcy5zaGFyZVBpbGxDb250YWluZXJOb2RlX1xuICAgICAgICAucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1zaGFyZS1waWxsJylcbiAgICAgICAgLmFwcGVuZENoaWxkKHNoYXJlV2lkZ2V0LmJ1aWxkKGdldEFtcGRvYyh0aGlzLnBhcmVudEVsXykpKTtcblxuICAgIHRoaXMuc3lzdGVtTGF5ZXJFbF8uYXBwZW5kQ2hpbGQodGhpcy5zaGFyZVBpbGxDb250YWluZXJOb2RlXyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi9sb2dnaW5nLkFtcFN0b3J5TG9nRW50cnlEZWZ9IGxvZ0VudHJ5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsb2dJbnRlcm5hbF8obG9nRW50cnkpIHtcbiAgICB0aGlzLmRldmVsb3BlckJ1dHRvbnNfLmxvZyhsb2dFbnRyeSk7XG4gICAgdGhpcy5kZXZlbG9wZXJMb2dfLmxvZyhsb2dFbnRyeSk7XG4gIH1cblxuICAvKipcbiAgICogTG9ncyBhbiBhcnJheSBvZiBlbnRyaWVzIHRvIHRoZSBkZXZlbG9wZXIgbG9ncy5cbiAgICogQHBhcmFtIHshQXJyYXk8IS4vbG9nZ2luZy5BbXBTdG9yeUxvZ0VudHJ5RGVmPn0gbG9nRW50cmllc1xuICAgKi9cbiAgbG9nQWxsKGxvZ0VudHJpZXMpIHtcbiAgICBpZiAoIWdldE1vZGUoKS5kZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICBsb2dFbnRyaWVzLmZvckVhY2gobG9nRW50cnkgPT4gdGhpcy5sb2dJbnRlcm5hbF8obG9nRW50cnkpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2dzIGEgc2luZ2xlIGVudHJ5IHRvIHRoZSBkZXZlbG9wZXIgbG9ncy5cbiAgICogQHBhcmFtIHshLi9sb2dnaW5nLkFtcFN0b3J5TG9nRW50cnlEZWZ9IGxvZ0VudHJ5XG4gICAqL1xuICBsb2cobG9nRW50cnkpIHtcbiAgICBpZiAoIWdldE1vZGUoKS5kZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubG9nSW50ZXJuYWxfKGxvZ0VudHJ5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgYW55IHN0YXRlIGhlbGQgYnkgdGhlIGRldmVsb3BlciBsb2cgb3IgYnV0dG9ucy5cbiAgICovXG4gIHJlc2V0RGV2ZWxvcGVyTG9ncygpIHtcbiAgICBpZiAoIWdldE1vZGUoKS5kZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGV2ZWxvcGVyQnV0dG9uc18uY2xlYXIoKTtcbiAgICB0aGlzLmRldmVsb3BlckxvZ18uY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdHJpbmcgcHJvdmlkaW5nIGNvbnRleHQgZm9yIHRoZSBkZXZlbG9wZXIgbG9ncyB3aW5kb3cuICBUaGlzIGlzXG4gICAqIG9mdGVuIHRoZSBuYW1lIG9yIElEIG9mIHRoZSBlbGVtZW50IHRoYXQgYWxsIGxvZ3MgYXJlIGZvciAoZS5nLiB0aGUgcGFnZSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZXh0U3RyaW5nXG4gICAqL1xuICBzZXREZXZlbG9wZXJMb2dDb250ZXh0U3RyaW5nKGNvbnRleHRTdHJpbmcpIHtcbiAgICBpZiAoIWdldE1vZGUoKS5kZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGV2ZWxvcGVyTG9nXy5zZXRDb250ZXh0U3RyaW5nKGNvbnRleHRTdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBkZXZlbG9wZXIgbG9nIGluIHRoZSBVSS5cbiAgICovXG4gIGhpZGVEZXZlbG9wZXJMb2coKSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRldmVsb3BlckxvZ18uaGlkZSgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBY3Rpb24sIGdldFN0b3JlU2VydmljZX0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0NTU30gZnJvbSAnLi4vLi4vLi4vYnVpbGQvYW1wLXN0b3J5LXVuc3VwcG9ydGVkLWJyb3dzZXItbGF5ZXItMS4wLmNzcyc7XG5pbXBvcnQge0xvY2FsaXplZFN0cmluZ0lkfSBmcm9tICcuL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge2NyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGV9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuLy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtyZW1vdmVFbGVtZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gQ2xhc3MgZm9yIHRoZSBjb250aW51ZSBhbnl3YXkgYnV0dG9uICovXG5jb25zdCBDT05USU5VRV9BTllXQVlfQlVUVE9OX0NMQVNTID0gJ2ktYW1waHRtbC1jb250aW51ZS1idXR0b24nO1xuLyoqXG4gKiBGdWxsIHZpZXdwb3J0IGJsYWNrIGxheWVyIGluZGljYXRpbmcgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlxuICogQHByaXZhdGUgQGNvbnN0IHshLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn1cbiAqL1xuY29uc3QgVU5TVVBQT1JURURfQlJPV1NFUl9MQVlFUl9URU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1vdmVybGF5J30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1vdmVybGF5LWNvbnRhaW5lcid9KSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLWdlYXItaWNvbid9KSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktb3ZlcmxheS10ZXh0J30pLFxuICAgICAgICAgIGxvY2FsaXplZFN0cmluZ0lkOlxuICAgICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19VTlNVUFBPUlRFRF9CUk9XU0VSX1RFWFQsXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFRoZSBjb250aW51ZSBidXR0b24gZnVuY3Rpb25hbGl0eSB3aWxsIG9ubHkgYmUgcHJlc2VudCBpbiB0aGUgZGVmYXVsdFxuICAgICAgICAvLyBsYXllci4gUHVibGlzaGVyIHByb3ZpZGVkIGZhbGxiYWNrcyB3aWxsIG5vdCBwcm92aWRlIHVzZXJzIHdpdGggdGhlXG4gICAgICAgIC8vIGFiaWxpdHkgdG8gY29udGludWUgd2l0aCBhbiB1bnN1cHBvcnRlZCBicm93c2VyXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLWNvbnRpbnVlLWJ1dHRvbid9KSxcbiAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX0NPTlRJTlVFX0FOWVdBWV9CVVRUT05fTEFCRUwsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59O1xuXG5cbi8qKlxuICogVW5zdXBwb3J0ZWQgYnJvd3NlciBsYXllciBVSS5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkQnJvd3NlckxheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5yb290XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZS5BbXBTdG9yeVN0b3JlU2VydmljZX0gKi9cbiAgICB0aGlzLnN0b3JlU2VydmljZV8gPSBnZXRTdG9yZVNlcnZpY2UodGhpcy53aW5fKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgYW5kIGFwcGVuZHMgdGhlIGNvbXBvbmVudCBpbiB0aGUgc3RvcnkuXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBpZiAodGhpcy5yb290Xykge1xuICAgICAgcmV0dXJuIHRoaXMucm9vdF87XG4gICAgfVxuICAgIHRoaXMucm9vdF8gPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbGVtZW50XyA9XG4gICAgICAgIHJlbmRlckFzRWxlbWVudCh0aGlzLndpbl8uZG9jdW1lbnQsIFVOU1VQUE9SVEVEX0JST1dTRVJfTEFZRVJfVEVNUExBVEUpO1xuICAgIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUodGhpcy5yb290XywgdGhpcy5lbGVtZW50XywgQ1NTKTtcbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uXyA9XG4gICAgICB0aGlzLmVsZW1lbnRfLi8qT0sqL3F1ZXJ5U2VsZWN0b3IoYC4ke0NPTlRJTlVFX0FOWVdBWV9CVVRUT05fQ0xBU1N9YCk7XG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbl8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9TVVBQT1JURURfQlJPV1NFUiwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucm9vdF87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdW5zdXBwb3J0ZWQgYnJvd3NlciBjb21wb25lbmV0XG4gICAqIEByZXR1cm4gez9FbGVtZW50fSBUaGUgcm9vdCBlbGVtZW50IG9mIHRoZSBjb21wb25lbmV0XG4gICAqL1xuICBnZXQoKSB7XG4gICAgaWYgKCF0aGlzLnJvb3RfKSB7XG4gICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJvb3RfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGVudGlyZSBsYXllclxuICAgKi9cbiAgcmVtb3ZlTGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMucm9vdF8pIHtcbiAgICAgIHJlbW92ZUVsZW1lbnQodGhpcy5yb290Xyk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtDU1N9IGZyb20gJy4uLy4uLy4uL2J1aWxkL2FtcC1zdG9yeS12aWV3cG9ydC13YXJuaW5nLWxheWVyLTEuMC5jc3MnO1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7XG4gIFN0YXRlUHJvcGVydHksXG4gIFVJVHlwZSxcbiAgZ2V0U3RvcmVTZXJ2aWNlLFxufSBmcm9tICcuL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge2lzRXhwZXJpbWVudE9ufSBmcm9tICcuLi8uLi8uLi9zcmMvZXhwZXJpbWVudHMnO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnR9IGZyb20gJy4vc2ltcGxlLXRlbXBsYXRlJztcblxuXG4vKipcbiAqIENTUyBjbGFzcyBpbmRpY2F0aW5nIHRoZSBmb3JtYXQgaXMgbGFuZHNjYXBlLlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IExBTkRTQ0FQRV9PVkVSTEFZX0NMQVNTID0gJ2ktYW1waHRtbC1zdG9yeS1sYW5kc2NhcGUnO1xuXG5cbi8qKlxuICogRnVsbCB2aWV3cG9ydCBsYXllciBhZHZpc2luZyB0aGUgdXNlciB0byByb3RhdGUgaGlzIGRldmljZS4gTW9iaWxlIG9ubHkuXG4gKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfVxuICovXG5jb25zdCBMQU5EU0NBUEVfT1JJRU5UQVRJT05fV0FSTklOR19URU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktbm8tcm90YXRpb24tb3ZlcmxheSAnICtcbiAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQnfSksXG4gIGNoaWxkcmVuOiBbXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLW92ZXJsYXktY29udGFpbmVyJ30pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtcm90YXRlLWljb24nfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LW92ZXJsYXktdGV4dCd9KSxcbiAgICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgICAgTG9jYWxpemVkU3RyaW5nSWQuQU1QX1NUT1JZX1dBUk5JTkdfTEFORFNDQVBFX09SSUVOVEFUSU9OX1RFWFQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59O1xuXG5cbi8qKlxuICogRnVsbCB2aWV3cG9ydCBsYXllciBhZHZpc2luZyB0aGUgdXNlciB0byBleHBhbmQgaGlzIHdpbmRvdy4gT25seSBkaXNwbGF5ZWRcbiAqIGZvciBzbWFsbCBkZXNrdG9wIHZpZXdwb3J0cy5cbiAqIEBwcml2YXRlIEBjb25zdCB7IS4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmNvbnN0IERFU0tUT1BfU0laRV9XQVJOSU5HX1RFTVBMQVRFID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7XG4gICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1uby1yb3RhdGlvbi1vdmVybGF5ICcgK1xuICAgICAgICAnaS1hbXBodG1sLXN0b3J5LXN5c3RlbS1yZXNldCd9KSxcbiAgY2hpbGRyZW46IFtcbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtb3ZlcmxheS1jb250YWluZXInfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1kZXNrdG9wLXNpemUtaWNvbid9KSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktb3ZlcmxheS10ZXh0J30pLFxuICAgICAgICAgIGxvY2FsaXplZFN0cmluZ0lkOlxuICAgICAgICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZC5BTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSxcbn07XG5cblxuXG4vKipcbiAqIFZpZXdwb3J0IHdhcm5pbmcgbGF5ZXIgVUkuXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWV3cG9ydFdhcm5pbmdMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBzdG9yeUVsZW1lbnQgRWxlbWVudCB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbXBvbmVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBzdG9yeUVsZW1lbnQpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzQnVpbHRfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMub3ZlcmxheUVsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvcGxhdGZvcm0taW1wbC5QbGF0Zm9ybX0gKi9cbiAgICB0aGlzLnBsYXRmb3JtXyA9IFNlcnZpY2VzLnBsYXRmb3JtRm9yKHRoaXMud2luXyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZS5BbXBTdG9yeVN0b3JlU2VydmljZX0gKi9cbiAgICB0aGlzLnN0b3JlU2VydmljZV8gPSBnZXRTdG9yZVNlcnZpY2UodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuc3RvcnlFbGVtZW50XyA9IHN0b3J5RWxlbWVudDtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyEuLi8uLi8uLi9zcmMvc2VydmljZS92c3luYy1pbXBsLlZzeW5jfSAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgYW5kIGFwcGVuZHMgdGhlIGNvbXBvbmVudCBpbiB0aGUgc3RvcnkuXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBpZiAodGhpcy5pc0J1aWx0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuZ2V0Vmlld3BvcnRXYXJuaW5nT3ZlcmxheVRlbXBsYXRlXygpO1xuICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzQnVpbHRfID0gdHJ1ZTtcbiAgICBjb25zdCByb290ID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMub3ZlcmxheUVsXyA9IHJlbmRlckFzRWxlbWVudCh0aGlzLndpbl8uZG9jdW1lbnQsIHRlbXBsYXRlKTtcblxuICAgIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUocm9vdCwgdGhpcy5vdmVybGF5RWxfLCBDU1MpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZXMgdGhlIFVJIHN0YXRlIG5vdyB0aGF0IHRoZSBjb21wb25lbnQgaXMgYnVpbHQuXG4gICAgdGhpcy5vblVJU3RhdGVVcGRhdGVfKC8qKiBAdHlwZSB7IVVJVHlwZX0gKi9cbiAgICAgICAgKHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5VSV9TVEFURSkpKTtcblxuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLnN0b3J5RWxlbWVudF8uaW5zZXJ0QmVmb3JlKHJvb3QsIHRoaXMuc3RvcnlFbGVtZW50Xy5maXJzdENoaWxkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGJ1aWx0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNCdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0J1aWx0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc18oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LlVJX1NUQVRFLCB1aVN0YXRlID0+IHtcbiAgICAgIHRoaXMub25VSVN0YXRlVXBkYXRlXyh1aVN0YXRlKTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5MQU5EU0NBUEVfU1RBVEUsIGlzTGFuZHNjYXBlID0+IHtcbiAgICAgIHRoaXMub25MYW5kc2NhcGVTdGF0ZVVwZGF0ZV8oaXNMYW5kc2NhcGUpO1xuICAgIH0sIHRydWUgLyoqIGNhbGxUb0luaXRpYWxpemUgKi8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB0aGUgbGFuZHNjYXBlIHN0YXRlIHVwZGF0ZSwgb25seSBvbiBtb2JpbGUuXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGlzTGFuZHNjYXBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkxhbmRzY2FwZVN0YXRlVXBkYXRlXyhpc0xhbmRzY2FwZSkge1xuICAgIGNvbnN0IGlzTW9iaWxlID1cbiAgICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LlVJX1NUQVRFKSA9PT0gVUlUeXBlLk1PQklMRTtcblxuICAgIC8vIEFkZHMgdGhlIGxhbmRzY2FwZSBjbGFzcyBpZiB3ZSBhcmUgbW9iaWxlIGxhbmRzY2FwZS5cbiAgICBjb25zdCBzaG91bGRTaG93TGFuZHNjYXBlT3ZlcmxheSA9IGlzTW9iaWxlICYmIGlzTGFuZHNjYXBlO1xuXG4gICAgLy8gRG9uJ3QgYnVpbGQgdGhlIGxheWVyIHVudGlsIHdlIG5lZWQgdG8gZGlzcGxheSBpdC5cbiAgICBpZiAoIXNob3VsZFNob3dMYW5kc2NhcGVPdmVybGF5ICYmICF0aGlzLmlzQnVpbHQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYnVpbGQoKTtcblxuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlFbF8uY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgICAgICBMQU5EU0NBUEVfT1ZFUkxBWV9DTEFTUywgc2hvdWxkU2hvd0xhbmRzY2FwZU92ZXJsYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBVSSBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0geyFVSVR5cGV9IHVpU3RhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uVUlTdGF0ZVVwZGF0ZV8odWlTdGF0ZSkge1xuICAgIGlmICghdGhpcy5pc0J1aWx0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgdWlTdGF0ZSA9PT0gVUlUeXBlLkRFU0tUT1AgP1xuICAgICAgICB0aGlzLm92ZXJsYXlFbF8uc2V0QXR0cmlidXRlKCdkZXNrdG9wJywgJycpIDpcbiAgICAgICAgdGhpcy5vdmVybGF5RWxfLnJlbW92ZUF0dHJpYnV0ZSgnZGVza3RvcCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG92ZXJsYXkgY29ycmVzcG9uZGluZyB0byB0aGUgZGV2aWNlIGN1cnJlbnRseSB1c2VkLlxuICAgKiBAcmV0dXJuIHs/Li9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gdGVtcGxhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFZpZXdwb3J0V2FybmluZ092ZXJsYXlUZW1wbGF0ZV8oKSB7XG4gICAgaWYgKHRoaXMucGxhdGZvcm1fLmlzSW9zKCkgfHwgdGhpcy5wbGF0Zm9ybV8uaXNBbmRyb2lkKCkpIHtcbiAgICAgIHJldHVybiBMQU5EU0NBUEVfT1JJRU5UQVRJT05fV0FSTklOR19URU1QTEFURTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRXhwZXJpbWVudE9uKHRoaXMud2luXywgJ2Rpc2FibGUtYW1wLXN0b3J5LWRlc2t0b3AnKSkge1xuICAgICAgcmV0dXJuIERFU0tUT1BfU0laRV9XQVJOSU5HX1RFTVBMQVRFO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEVtYmVkcyBhIHN0b3J5XG4gKlxuICogRXhhbXBsZTpcbiAqIDxjb2RlPlxuICogPGFtcC1zdG9yeSBzdGFuZGFsb25lPlxuICogICBbLi4uXVxuICogPC9hbXAtc3Rvcnk+XG4gKiA8L2NvZGU+XG4gKi9cbmltcG9ydCAnLi9hbXAtc3RvcnktY3RhLWxheWVyJztcbmltcG9ydCAnLi9hbXAtc3RvcnktZ3JpZC1sYXllcic7XG5pbXBvcnQgJy4vYW1wLXN0b3J5LXBhZ2UnO1xuaW1wb3J0IHtcbiAgQWN0aW9uLFxuICBTdGF0ZVByb3BlcnR5LFxuICBVSVR5cGUsXG4gIGdldFN0b3JlU2VydmljZSxcbn0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge0FjdGlvblRydXN0fSBmcm9tICcuLi8uLi8uLi9zcmMvYWN0aW9uLWNvbnN0YW50cyc7XG5pbXBvcnQge0FtcFN0b3J5QWNjZXNzfSBmcm9tICcuL2FtcC1zdG9yeS1hY2Nlc3MnO1xuaW1wb3J0IHtBbXBTdG9yeUFuYWx5dGljc30gZnJvbSAnLi9hbmFseXRpY3MnO1xuaW1wb3J0IHtBbXBTdG9yeUJhY2tncm91bmR9IGZyb20gJy4vYmFja2dyb3VuZCc7XG5pbXBvcnQge0FtcFN0b3J5Qm9va2VuZH0gZnJvbSAnLi9ib29rZW5kL2FtcC1zdG9yeS1ib29rZW5kJztcbmltcG9ydCB7QW1wU3RvcnlDb25zZW50fSBmcm9tICcuL2FtcC1zdG9yeS1jb25zZW50JztcbmltcG9ydCB7QW1wU3RvcnlDdGFMYXllcn0gZnJvbSAnLi9hbXAtc3RvcnktY3RhLWxheWVyJztcbmltcG9ydCB7QW1wU3RvcnlHcmlkTGF5ZXJ9IGZyb20gJy4vYW1wLXN0b3J5LWdyaWQtbGF5ZXInO1xuaW1wb3J0IHtBbXBTdG9yeUhpbnR9IGZyb20gJy4vYW1wLXN0b3J5LWhpbnQnO1xuaW1wb3J0IHtBbXBTdG9yeVBhZ2UsIFBhZ2VTdGF0ZX0gZnJvbSAnLi9hbXAtc3RvcnktcGFnZSc7XG5pbXBvcnQge0FtcFN0b3J5VmFyaWFibGVTZXJ2aWNlfSBmcm9tICcuL3ZhcmlhYmxlLXNlcnZpY2UnO1xuaW1wb3J0IHtDU1N9IGZyb20gJy4uLy4uLy4uL2J1aWxkL2FtcC1zdG9yeS0xLjAuY3NzJztcbmltcG9ydCB7Q29tbW9uU2lnbmFsc30gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbW1vbi1zaWduYWxzJztcbmltcG9ydCB7XG4gIERvdWJsZXRhcFJlY29nbml6ZXIsXG4gIFN3aXBlWFlSZWNvZ25pemVyLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvZ2VzdHVyZS1yZWNvZ25pemVycyc7XG5pbXBvcnQge0V2ZW50VHlwZSwgZGlzcGF0Y2h9IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCB7R2VzdHVyZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9nZXN0dXJlJztcbmltcG9ydCB7SW5mb0RpYWxvZ30gZnJvbSAnLi9hbXAtc3RvcnktaW5mby1kaWFsb2cnO1xuaW1wb3J0IHtLZXlDb2Rlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL2tleS1jb2Rlcyc7XG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi4vLi4vLi4vc3JjL2xheW91dCc7XG5pbXBvcnQge1xuICBMb2NhbGl6YXRpb25TZXJ2aWNlLFxuICBjcmVhdGVQc2V1ZG9Mb2NhbGUsXG59IGZyb20gJy4vbG9jYWxpemF0aW9uJztcbmltcG9ydCB7TWVkaWFQb29sLCBNZWRpYVR5cGV9IGZyb20gJy4vbWVkaWEtcG9vbCc7XG5pbXBvcnQge05hdmlnYXRpb25TdGF0ZX0gZnJvbSAnLi9uYXZpZ2F0aW9uLXN0YXRlJztcbmltcG9ydCB7UGFnaW5hdGlvbkJ1dHRvbnN9IGZyb20gJy4vcGFnaW5hdGlvbi1idXR0b25zJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1NoYXJlTWVudX0gZnJvbSAnLi9hbXAtc3Rvcnktc2hhcmUtbWVudSc7XG5pbXBvcnQge1N5c3RlbUxheWVyfSBmcm9tICcuL2FtcC1zdG9yeS1zeXN0ZW0tbGF5ZXInO1xuaW1wb3J0IHtUYXBOYXZpZ2F0aW9uRGlyZWN0aW9ufSBmcm9tICcuL3BhZ2UtYWR2YW5jZW1lbnQnO1xuaW1wb3J0IHtVbnN1cHBvcnRlZEJyb3dzZXJMYXllcn0gZnJvbSAnLi9hbXAtc3RvcnktdW5zdXBwb3J0ZWQtYnJvd3Nlci1sYXllcic7XG5pbXBvcnQge1ZpZXdwb3J0V2FybmluZ0xheWVyfSBmcm9tICcuL2FtcC1zdG9yeS12aWV3cG9ydC13YXJuaW5nLWxheWVyJztcbmltcG9ydCB7XG4gIGNoaWxkRWxlbWVudCxcbiAgY2hpbGRFbGVtZW50QnlUYWcsXG4gIGNoaWxkRWxlbWVudHMsXG4gIGNsb3Nlc3QsXG4gIGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlcyxcbiAgaXNSVEwsXG4gIHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwsXG59IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtcbiAgY29tcHV0ZWRTdHlsZSxcbiAgcHgsXG4gIHJlc2V0U3R5bGVzLFxuICBzZXRJbXBvcnRhbnRTdHlsZXMsXG4gIHNldFN0eWxlLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuaW1wb3J0IHtkZWJvdW5jZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL3JhdGUtbGltaXQnO1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7ZmluZEluZGV4fSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvYXJyYXknO1xuaW1wb3J0IHtnZXRDb25zZW50UG9saWN5U3RhdGV9IGZyb20gJy4uLy4uLy4uL3NyYy9jb25zZW50JztcbmltcG9ydCB7Z2V0RGV0YWlsfSBmcm9tICcuLi8uLi8uLi9zcmMvZXZlbnQtaGVscGVyJztcbmltcG9ydCB7Z2V0TW9kZX0gZnJvbSAnLi4vLi4vLi4vc3JjL21vZGUnO1xuaW1wb3J0IHtpc0V4cGVyaW1lbnRPbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2V4cGVyaW1lbnRzJztcbmltcG9ydCB7cmVnaXN0ZXJTZXJ2aWNlQnVpbGRlcn0gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2UnO1xuaW1wb3J0IHtyZW1vdmVBdHRyaWJ1dGVJbk11dGF0ZSwgc2V0QXR0cmlidXRlSW5NdXRhdGV9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHt1cGdyYWRlQmFja2dyb3VuZEF1ZGlvfSBmcm9tICcuL2F1ZGlvJztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzRGUgZnJvbSAnLi9fbG9jYWxlcy9kZSc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc0RlZmF1bHQgZnJvbSAnLi9fbG9jYWxlcy9kZWZhdWx0JztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzRW4gZnJvbSAnLi9fbG9jYWxlcy9lbic7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc0VuR2IgZnJvbSAnLi9fbG9jYWxlcy9lbi1HQic7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc0VzIGZyb20gJy4vX2xvY2FsZXMvZXMnO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NFczQxOSBmcm9tICcuL19sb2NhbGVzL2VzLTQxOSc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc0ZyIGZyb20gJy4vX2xvY2FsZXMvZnInO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NGckNhIGZyb20gJy4vX2xvY2FsZXMvZnItQ0EnO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NIaSBmcm9tICcuL19sb2NhbGVzL2hpJztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzSWQgZnJvbSAnLi9fbG9jYWxlcy9pZCc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc0l0IGZyb20gJy4vX2xvY2FsZXMvaXQnO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NKYSBmcm9tICcuL19sb2NhbGVzL2phJztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzS28gZnJvbSAnLi9fbG9jYWxlcy9rbyc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc05sIGZyb20gJy4vX2xvY2FsZXMvbmwnO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NObyBmcm9tICcuL19sb2NhbGVzL25vJztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzUHQgZnJvbSAnLi9fbG9jYWxlcy9wdCc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc1B0QnIgZnJvbSAnLi9fbG9jYWxlcy9wdC1CUic7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc1J1IGZyb20gJy4vX2xvY2FsZXMvcnUnO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NUciBmcm9tICcuL19sb2NhbGVzL3RyJztcbmltcG9ydCBMb2NhbGl6ZWRTdHJpbmdzVmkgZnJvbSAnLi9fbG9jYWxlcy92aSc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5nc1poIGZyb20gJy4vX2xvY2FsZXMvemgnO1xuaW1wb3J0IExvY2FsaXplZFN0cmluZ3NaaFR3IGZyb20gJy4vX2xvY2FsZXMvemgtVFcnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBERVNLVE9QX1dJRFRIX1RIUkVTSE9MRCA9IDEwMjQ7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IERFU0tUT1BfSEVJR0hUX1RIUkVTSE9MRCA9IDU1MDtcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTUlOX1NXSVBFX0ZPUl9ISU5UX09WRVJMQVlfUFggPSA1MDtcblxuLyoqIEBlbnVtIHtzdHJpbmd9ICovXG5jb25zdCBBdHRyaWJ1dGVzID0ge1xuICBTVEFOREFMT05FOiAnc3RhbmRhbG9uZScsXG4gIEFEVkFOQ0VfVE86ICdpLWFtcGh0bWwtYWR2YW5jZS10bycsXG4gIFJFVFVSTl9UTzogJ2ktYW1waHRtbC1yZXR1cm4tdG8nLFxuICBBVVRPX0FEVkFOQ0VfVE86ICdhdXRvLWFkdmFuY2UtdG8nLFxuICBBRF9TSE9XSU5HOiAnYWQtc2hvd2luZycsXG4gIC8vIEF0dHJpYnV0ZXMgdGhhdCBkZXNrdG9wIGNzcyBsb29rcyBmb3IgdG8gZGVjaWRlIHdoZXJlIHBhZ2VzIHdpbGwgYmUgcGxhY2VkXG4gIFBSRVZJT1VTOiAnaS1hbXBodG1sLXByZXZpb3VzLXBhZ2UnLCAvLyBzaG93biBpbiBsZWZ0IHBhbmVcbiAgTkVYVDogJ2ktYW1waHRtbC1uZXh0LXBhZ2UnLCAvLyBzaG93biBpbiByaWdodCBwYW5lXG4gIFZJU0lURUQ6ICdpLWFtcGh0bWwtdmlzaXRlZCcsIC8vIHN0YWNrZWQgb2Zmc2NyZWVuIHRvIGxlZnRcbn07XG5cbi8qKlxuICogVGhlIGR1cmF0aW9uIG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdG8gd2FpdCBmb3IgYSBwYWdlIHRvIGJlIGxvYWRlZCxcbiAqIGJlZm9yZSB0aGUgc3RvcnkgYmVjb21lcyB2aXNpYmxlLlxuICogQGNvbnN0IHtudW1iZXJ9XG4gKi9cbmNvbnN0IFBBR0VfTE9BRF9USU1FT1VUX01TID0gNTAwMDtcblxuLyoqXG4gKiBTaW5nbGUgcGFnZSBhZHMgbWF5IGJlIGluamVjdGVkIGxhdGVyLiBJZiB0aGUgb3JpZ2luYWwgc3RvcnkgY29udGFpbnMgMCBtZWRpYVxuICogZWxlbWVudHMgdGhlIG1lZGlhUG9vbCB3aWxsIG5vdCBiZSBhYmxlIHRvIGhhbmRsZSB0aGUgaW5qZWN0ZWQgYXVkaW8vdmlkZW9cbiAqIFRoZXJlZm9yZSB3ZSBwcmVhbGxvY2F0ZSBhIG1pbmltdW0gaGVyZS5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICovXG5jb25zdCBNSU5JTVVNX0FEX01FRElBX0VMRU1FTlRTID0gMjtcblxuLyoqXG4gKiBDU1MgY2xhc3MgZm9yIGFuIGFtcC1zdG9yeSB0aGF0IGluZGljYXRlcyB0aGUgaW5pdGlhbCBsb2FkIGZvciB0aGUgc3RvcnkgaGFzXG4gKiBjb21wbGV0ZWQuXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgU1RPUllfTE9BREVEX0NMQVNTX05BTUUgPSAnaS1hbXBodG1sLXN0b3J5LWxvYWRlZCc7XG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSAqL1xuY29uc3QgTUFYX01FRElBX0VMRU1FTlRfQ09VTlRTID0ge1xuICBbTWVkaWFUeXBlLkFVRElPXTogNCxcbiAgW01lZGlhVHlwZS5WSURFT106IDgsXG59O1xuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbmNvbnN0IFRBRyA9ICdhbXAtc3RvcnknO1xuXG4vKipcbiAqIFNlbGVjdG9yIGZvciBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSBoaWRkZW4gd2hlbiB0aGUgYm9va2VuZCBpcyBvcGVuIG9uXG4gKiBkZXNrdG9wIHZpZXcuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgSElERV9PTl9CT09LRU5EX1NFTEVDVE9SID1cbiAgICAnYW1wLXN0b3J5LXBhZ2UsIC5pLWFtcGh0bWwtc3Rvcnktc3lzdGVtLWxheWVyJztcblxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHsuL21lZGlhLXBvb2wuTWVkaWFQb29sUm9vdH1cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5IGV4dGVuZHMgQU1QLkJhc2VFbGVtZW50IHtcbiAgLyoqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IGVsZW1lbnQgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfID0gZ2V0U3RvcmVTZXJ2aWNlKHRoaXMud2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU5hdmlnYXRpb25TdGF0ZX0gKi9cbiAgICB0aGlzLm5hdmlnYXRpb25TdGF0ZV8gPVxuICAgICAgICBuZXcgTmF2aWdhdGlvblN0YXRlKHRoaXMud2luLCAoKSA9PiB0aGlzLmhhc0Jvb2tlbmRfKCkpO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQW1wU3RvcnlBbmFseXRpY3N9ICovXG4gICAgdGhpcy5hbmFseXRpY3NfID0gbmV3IEFtcFN0b3J5QW5hbHl0aWNzKHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSB0aGlzLmdldFZzeW5jKCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9BbXBTdG9yeUJvb2tlbmR9ICovXG4gICAgdGhpcy5ib29rZW5kXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshU2hhcmVNZW51fSBQcmVsb2FkcyBhbmQgcHJlcmVuZGVycyB0aGUgc2hhcmUgbWVudS4gKi9cbiAgICB0aGlzLnNoYXJlTWVudV8gPSBuZXcgU2hhcmVNZW51KHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVN5c3RlbUxheWVyfSAqL1xuICAgIHRoaXMuc3lzdGVtTGF5ZXJfID0gbmV3IFN5c3RlbUxheWVyKHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVVuc3VwcG9ydGVkQnJvd3NlckxheWVyfSAqL1xuICAgIHRoaXMudW5zdXBwb3J0ZWRCcm93c2VyTGF5ZXJfID0gbmV3IFVuc3VwcG9ydGVkQnJvd3NlckxheWVyKHRoaXMud2luKTtcblxuICAgIC8qKiBJbnN0YW50aWF0ZXMgdGhlIHZpZXdwb3J0IHdhcm5pbmcgbGF5ZXIuICovXG4gICAgbmV3IFZpZXdwb3J0V2FybmluZ0xheWVyKHRoaXMud2luLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PCEuL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZT59ICovXG4gICAgdGhpcy5wYWdlc18gPSBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTwhLi9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2U+fSAqL1xuICAgIHRoaXMuYWRQYWdlc18gPSBbXTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyFBbXBTdG9yeVZhcmlhYmxlU2VydmljZX0gKi9cbiAgICB0aGlzLnZhcmlhYmxlU2VydmljZV8gPSBuZXcgQW1wU3RvcnlWYXJpYWJsZVNlcnZpY2UoKTtcbiAgICByZWdpc3RlclNlcnZpY2VCdWlsZGVyKFxuICAgICAgICB0aGlzLndpbiwgJ3N0b3J5LXZhcmlhYmxlJywgKCkgPT4gdGhpcy52YXJpYWJsZVNlcnZpY2VfLmdldCgpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSAqL1xuICAgIHRoaXMuYWN0aXZlUGFnZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Li9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2V9ICovXG4gICAgdGhpcy5wcmV2aW91c1BhZ2VfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSAqL1xuICAgIHRoaXMubmV4dFBhZ2VfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLmRlc2t0b3BNZWRpYV8gPSB0aGlzLndpbi5tYXRjaE1lZGlhKFxuICAgICAgICBgKG1pbi13aWR0aDogJHtERVNLVE9QX1dJRFRIX1RIUkVTSE9MRH1weCkgYW5kIGAgK1xuICAgICAgICBgKG1pbi1oZWlnaHQ6ICR7REVTS1RPUF9IRUlHSFRfVEhSRVNIT0xEfXB4KWApO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuY2FuUm90YXRlVG9EZXNrdG9wTWVkaWFfID0gdGhpcy53aW4ubWF0Y2hNZWRpYShcbiAgICAgICAgYChtaW4td2lkdGg6ICR7REVTS1RPUF9IRUlHSFRfVEhSRVNIT0xEfXB4KSBhbmQgYCArXG4gICAgICAgIGAobWluLWhlaWdodDogJHtERVNLVE9QX1dJRFRIX1RIUkVTSE9MRH1weClgKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0FtcFN0b3J5QmFja2dyb3VuZH0gKi9cbiAgICB0aGlzLmJhY2tncm91bmRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0hUTUxNZWRpYUVsZW1lbnR9ICovXG4gICAgdGhpcy5iYWNrZ3JvdW5kQXVkaW9FbF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Li9wYWdpbmF0aW9uLWJ1dHRvbnMuUGFnaW5hdGlvbkJ1dHRvbnN9ICovXG4gICAgdGhpcy5wYWdpbmF0aW9uQnV0dG9uc18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQW1wU3RvcnlIaW50fSAqL1xuICAgIHRoaXMuYW1wU3RvcnlIaW50XyA9IG5ldyBBbXBTdG9yeUhpbnQodGhpcy53aW4sIHRoaXMuZWxlbWVudCk7XG5cbiAgICAvKiogQHByaXZhdGUgeyFNZWRpYVBvb2x9ICovXG4gICAgdGhpcy5tZWRpYVBvb2xfID0gTWVkaWFQb29sLmZvcih0aGlzKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3IodGhpcy53aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3BsYXRmb3JtLWltcGwuUGxhdGZvcm19ICovXG4gICAgdGhpcy5wbGF0Zm9ybV8gPSBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vLi4vLi4vc3JjL3NlcnZpY2UvZG9jdW1lbnQtc3RhdGUuRG9jdW1lbnRTdGF0ZX0gKi9cbiAgICB0aGlzLmRvY3VtZW50U3RhdGVfID0gU2VydmljZXMuZG9jdW1lbnRTdGF0ZUZvcih0aGlzLndpbik7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5wYXVzZWRTdGF0ZVRvUmVzdG9yZV8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFMb2NhbGl6YXRpb25TZXJ2aWNlfSAqL1xuICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZV8gPSBuZXcgTG9jYWxpemF0aW9uU2VydmljZSh0aGlzLndpbik7XG4gICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlX1xuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2RlZmF1bHQnLCBMb2NhbGl6ZWRTdHJpbmdzRGVmYXVsdClcbiAgICAgICAgLy8gVE9ETyhuZXdtdWlzLCAjMTE2NDcpOiBFbmFibGUgQXJhYmljIHN0cmluZ3Mgb25jZSBSVEwgaXMgc3VwcG9ydGVkLlxuICAgICAgICAvLyAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2FyJywgTG9jYWxpemVkU3RyaW5nc0FyKVxuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2RlJywgTG9jYWxpemVkU3RyaW5nc0RlKVxuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2VuJywgTG9jYWxpemVkU3RyaW5nc0VuKVxuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2VuLUdCJywgTG9jYWxpemVkU3RyaW5nc0VuR2IpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnZXMnLCBMb2NhbGl6ZWRTdHJpbmdzRXMpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnZXMtNDE5JywgTG9jYWxpemVkU3RyaW5nc0VzNDE5KVxuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2ZyJywgTG9jYWxpemVkU3RyaW5nc0ZyKVxuICAgICAgICAucmVnaXN0ZXJMb2NhbGl6ZWRTdHJpbmdCdW5kbGUoJ2ZyLUNBJywgTG9jYWxpemVkU3RyaW5nc0ZyQ2EpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnaGknLCBMb2NhbGl6ZWRTdHJpbmdzSGkpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnaWQnLCBMb2NhbGl6ZWRTdHJpbmdzSWQpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnaXQnLCBMb2NhbGl6ZWRTdHJpbmdzSXQpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnamEnLCBMb2NhbGl6ZWRTdHJpbmdzSmEpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgna28nLCBMb2NhbGl6ZWRTdHJpbmdzS28pXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnbmwnLCBMb2NhbGl6ZWRTdHJpbmdzTmwpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgnbm8nLCBMb2NhbGl6ZWRTdHJpbmdzTm8pXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgncHQnLCBMb2NhbGl6ZWRTdHJpbmdzUHQpXG4gICAgICAgIC5yZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZSgncHQtQlInLCBMb2NhbGl6ZWRTdHJpbmdzUHRCcilcbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCdydScsIExvY2FsaXplZFN0cmluZ3NSdSlcbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCd0cicsIExvY2FsaXplZFN0cmluZ3NUcilcbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCd2aScsIExvY2FsaXplZFN0cmluZ3NWaSlcbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCd6aCcsIExvY2FsaXplZFN0cmluZ3NaaClcbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCd6aC1UVycsIExvY2FsaXplZFN0cmluZ3NaaFR3KTtcblxuICAgIGNvbnN0IGVuWGFQc2V1ZG9Mb2NhbGVCdW5kbGUgPVxuICAgICAgICBjcmVhdGVQc2V1ZG9Mb2NhbGUoTG9jYWxpemVkU3RyaW5nc0VuLCBzID0+IGBbJHtzfSBvbmUgdHdvXWApO1xuICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZV9cbiAgICAgICAgLnJlZ2lzdGVyTG9jYWxpemVkU3RyaW5nQnVuZGxlKCdlbi14YScsIGVuWGFQc2V1ZG9Mb2NhbGVCdW5kbGUpO1xuXG4gICAgcmVnaXN0ZXJTZXJ2aWNlQnVpbGRlcih0aGlzLndpbiwgJ2xvY2FsaXphdGlvbicsXG4gICAgICAgICgpID0+IHRoaXMubG9jYWxpemF0aW9uU2VydmljZV8pO1xuICB9XG5cblxuXG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkQ2FsbGJhY2soKSB7XG4gICAgaWYgKHRoaXMuaXNTdGFuZGFsb25lXygpKSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVTdGFuZGFsb25lU3RvcnlfKCk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgc3RvcnkgaXMgUlRMLlxuICAgIGlmIChpc1JUTCh0aGlzLndpbi5kb2N1bWVudCkpIHtcbiAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX1JUTCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZUVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FtcC1zdG9yeS1wYWdlJyk7XG4gICAgcGFnZUVsICYmIHBhZ2VFbC5zZXRBdHRyaWJ1dGUoJ2FjdGl2ZScsICcnKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZVN0eWxlc18oKTtcbiAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNfKCk7XG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzRm9yRGV2XygpO1xuXG4gICAgaWYgKHRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICBjb25zdCB1aVN0YXRlID1cbiAgICAgICAgICBpc0V4cGVyaW1lbnRPbih0aGlzLndpbiwgJ2FtcC1zdG9yeS1zY3JvbGwnKSA/XG4gICAgICAgICAgICBVSVR5cGUuU0NST0xMIDogVUlUeXBlLkRFU0tUT1A7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9VSSwgdWlTdGF0ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5uYXZpZ2F0aW9uU3RhdGVfLm9ic2VydmUoc3RhdGVDaGFuZ2VFdmVudCA9PiB7XG4gICAgICB0aGlzLnZhcmlhYmxlU2VydmljZV8ub25OYXZpZ2F0aW9uU3RhdGVDaGFuZ2Uoc3RhdGVDaGFuZ2VFdmVudCk7XG4gICAgICB0aGlzLmFuYWx5dGljc18ub25OYXZpZ2F0aW9uU3RhdGVDaGFuZ2Uoc3RhdGVDaGFuZ2VFdmVudCk7XG4gICAgfSk7XG5cbiAgICAvLyBEaXNhbGxvdyBhbGwgYWN0aW9ucyBpbiBhIChzdGFuZGFsb25lKSBzdG9yeS5cbiAgICAvLyBDb21wb25lbnRzIHRoZW4gYWRkIHRoZWlyIG93biBhY3Rpb25zLlxuICAgIGNvbnN0IGFjdGlvbnMgPSBTZXJ2aWNlcy5hY3Rpb25TZXJ2aWNlRm9yRG9jKHRoaXMuZ2V0QW1wRG9jKCkpO1xuICAgIGFjdGlvbnMuc2V0V2hpdGVsaXN0KFtdKTtcbiAgfVxuXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwYXVzZUNhbGxiYWNrKCkge1xuICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IHBhdXNlZCBzdGF0ZSwgdG8gbWFrZSBzdXJlIHRoZSBzdG9yeSBkb2VzIG5vdCBwbGF5IG9uXG4gICAgLy8gcmVzdW1lIGlmIGl0IHdhcyBwcmV2aW91c2x5IHBhdXNlZC5cbiAgICB0aGlzLnBhdXNlZFN0YXRlVG9SZXN0b3JlXyA9ICEhdGhpcy5zdG9yZVNlcnZpY2VfXG4gICAgICAgIC5nZXQoU3RhdGVQcm9wZXJ0eS5QQVVTRURfU1RBVEUpO1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX1BBVVNFRCwgdHJ1ZSk7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVzdW1lQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfXG4gICAgICAgIC5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX1BBVVNFRCwgdGhpcy5wYXVzZWRTdGF0ZVRvUmVzdG9yZV8pO1xuICB9XG5cblxuICAvKipcbiAgICogTm90ZTogcnVucyBpbiB0aGUgYnVpbGRDYWxsYmFjayB2c3luYyBtdXRhdGUgY29udGV4dC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVTdGFuZGFsb25lU3RvcnlfKCkge1xuICAgIGNvbnN0IGh0bWwgPSB0aGlzLndpbi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaHRtbC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3Rvcnktc3RhbmRhbG9uZScpO1xuICAgIC8vIExvY2sgYm9keSB0byBwcmV2ZW50IG92ZXJmbG93LlxuICAgIHRoaXMubG9ja0JvZHlfKCk7XG4gICAgLy8gU3RhbmRhbG9uZSBDU1MgYWZmZWN0cyBzaXppbmcgb2YgdGhlIGVudGlyZSBwYWdlLlxuICAgIHRoaXMub25SZXNpemUoKTtcbiAgfVxuXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGluaXRpYWxpemVTdHlsZXNfKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdHlsZVthbXAtY3VzdG9tXScpO1xuICAgIGlmICghc3R5bGVFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucmV3cml0ZVN0eWxlc18oc3R5bGVFbCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBzdHlsZUVsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXdyaXRlU3R5bGVzXyhzdHlsZUVsKSB7XG4gICAgaWYgKCFpc0V4cGVyaW1lbnRPbih0aGlzLndpbiwgJ2FtcC1zdG9yeS1yZXNwb25zaXZlLXVuaXRzJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUT0RPKCMxNTk1NSk6IFVwZGF0ZSB0aGlzIHRvIHVzZSBDc3NDb250ZXh0IGZyb21cbiAgICAvLyAuLi8uLi8uLi9leHRlbnNpb25zL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLmpzXG4gICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBzdHlsZUVsLnRleHRDb250ZW50XG4gICAgICAgICAgLnJlcGxhY2UoLyhbXFxkLl0rKXZoL2dtaSwgJ2NhbGMoJDEgKiB2YXIoLS1pLWFtcGh0bWwtc3RvcnktdmgpKScpXG4gICAgICAgICAgLnJlcGxhY2UoLyhbXFxkLl0rKXZ3L2dtaSwgJ2NhbGMoJDEgKiB2YXIoLS1pLWFtcGh0bWwtc3RvcnktdncpKScpXG4gICAgICAgICAgLnJlcGxhY2UoLyhbXFxkLl0rKXZtaW4vZ21pLCAnY2FsYygkMSAqIHZhcigtLWktYW1waHRtbC1zdG9yeS12bWluKSknKVxuICAgICAgICAgIC5yZXBsYWNlKC8oW1xcZC5dKyl2bWF4L2dtaSwgJ2NhbGMoJDEgKiB2YXIoLS1pLWFtcGh0bWwtc3Rvcnktdm1heCkpJyk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlVmlld3BvcnRTaXplU3R5bGVzXygpIHtcbiAgICBpZiAoIXRoaXMuYWN0aXZlUGFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZzeW5jXy5ydW4oe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS52aCA9IHRoaXMuYWN0aXZlUGFnZV8uZWxlbWVudC4vKk9LKi9jbGllbnRIZWlnaHQgLyAxMDA7XG4gICAgICAgIHN0YXRlLnZ3ID0gdGhpcy5hY3RpdmVQYWdlXy5lbGVtZW50Li8qT0sqL2NsaWVudFdpZHRoIC8gMTAwO1xuICAgICAgICBzdGF0ZS52bWluID0gTWF0aC5taW4oc3RhdGUudmgsIHN0YXRlLnZ3KTtcbiAgICAgICAgc3RhdGUudm1heCA9IE1hdGgubWF4KHN0YXRlLnZoLCBzdGF0ZS52dyk7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiBzdGF0ZSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJyxcbiAgICAgICAgICAgIGAtLWktYW1waHRtbC1zdG9yeS12aDogJHtweChzdGF0ZS52aCl9O2AgK1xuICAgICAgICAgICAgYC0taS1hbXBodG1sLXN0b3J5LXZ3OiAke3B4KHN0YXRlLnZ3KX07YCArXG4gICAgICAgICAgICBgLS1pLWFtcGh0bWwtc3Rvcnktdm1pbjogJHtweChzdGF0ZS52bWluKX07YCArXG4gICAgICAgICAgICBgLS1pLWFtcGh0bWwtc3Rvcnktdm1heDogJHtweChzdGF0ZS52bWF4KX07YCk7XG4gICAgICB9LFxuICAgIH0sIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIHN5c3RlbSBsYXllciBET00uICBUaGlzIGlzIGRlcGVuZGVudCBvbiB0aGUgcGFnZXNfIGFycmF5IGhhdmluZ1xuICAgKiBiZWVuIGluaXRpYWxpemVkLCBzbyBpdCBjYW5ub3QgaGFwcGVuIGF0IGJ1aWxkIHRpbWUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZFN5c3RlbUxheWVyXygpIHtcbiAgICBjb25zdCBwYWdlSWRzID0gdGhpcy5wYWdlc18ubWFwKHBhZ2UgPT4gcGFnZS5lbGVtZW50LmlkKTtcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zeXN0ZW1MYXllcl8uYnVpbGQocGFnZUlkcykpO1xuICAgIHRoaXMudXBkYXRlQXVkaW9JY29uXygpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGluaXRpYWxpemVMaXN0ZW5lcnNfKCkge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5ORVhUX1BBR0UsICgpID0+IHtcbiAgICAgIHRoaXMubmV4dF8oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5QUkVWSU9VU19QQUdFLCAoKSA9PiB7XG4gICAgICB0aGlzLnByZXZpb3VzXygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5Lk1VVEVEX1NUQVRFLCBpc011dGVkID0+IHtcbiAgICAgIHRoaXMub25NdXRlZFN0YXRlVXBkYXRlXyhpc011dGVkKTtcbiAgICAgIHRoaXMudmFyaWFibGVTZXJ2aWNlXy5vbk11dGVkU3RhdGVDaGFuZ2UoaXNNdXRlZCk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuTVVURURfU1RBVEUsIGlzTXV0ZWQgPT4ge1xuICAgICAgLy8gV2UgZG8gbm90IHdhbnQgdG8gdHJpZ2dlciBhbiBhbmFseXRpY3MgZXZlbnQgZm9yIHRoZSBpbml0aWFsaXphdGlvbiBvZlxuICAgICAgLy8gdGhlIG11dGVkIHN0YXRlLlxuICAgICAgdGhpcy5hbmFseXRpY3NfLm9uTXV0ZWRTdGF0ZUNoYW5nZShpc011dGVkKTtcbiAgICB9LCBmYWxzZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFxuICAgICAgICBTdGF0ZVByb3BlcnR5LlNVUFBPUlRFRF9CUk9XU0VSX1NUQVRFLCBpc0Jyb3dzZXJTdXBwb3J0ZWQgPT4ge1xuICAgICAgICAgIHRoaXMub25TdXBwb3J0ZWRCcm93c2VyU3RhdGVVcGRhdGVfKGlzQnJvd3NlclN1cHBvcnRlZCk7XG4gICAgICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNXSVRDSF9QQUdFLCBlID0+IHtcbiAgICAgIGlmICh0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURSkpIHtcbiAgICAgICAgLy8gRGlzYWxsb3cgc3dpdGNoaW5nIHBhZ2VzIHdoaWxlIHRoZSBib29rZW5kIGlzIGFjdGl2ZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN3aXRjaFRvXyhnZXREZXRhaWwoZSlbJ3RhcmdldFBhZ2VJZCddKTtcbiAgICAgIHRoaXMuYW1wU3RvcnlIaW50Xy5oaWRlQWxsTmF2aWdhdGlvbkhpbnQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5QQUdFX1BST0dSRVNTLCBlID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGdldERldGFpbChlKTtcbiAgICAgIGNvbnN0IHBhZ2VJZCA9IGRldGFpbFsncGFnZUlkJ107XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGRldGFpbFsncHJvZ3Jlc3MnXTtcblxuICAgICAgaWYgKHBhZ2VJZCAhPT0gdGhpcy5hY3RpdmVQYWdlXy5lbGVtZW50LmlkKSB7XG4gICAgICAgIC8vIElnbm9yZSBwcm9ncmVzcyB1cGRhdGUgZXZlbnRzIGZyb20gaW5hY3RpdmUgcGFnZXMuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmFjdGl2ZVBhZ2VfLmlzQWQoKSkge1xuICAgICAgICB0aGlzLnN5c3RlbUxheWVyXy51cGRhdGVQcm9ncmVzcyhwYWdlSWQsIHByb2dyZXNzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5SRVBMQVksICgpID0+IHtcbiAgICAgIHRoaXMucmVwbGF5XygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNIT1dfTk9fUFJFVklPVVNfUEFHRV9IRUxQLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX1BSRVZJT1VTX1BBR0VfSEVMUCkpIHtcbiAgICAgICAgdGhpcy5hbXBTdG9yeUhpbnRfLnNob3dGaXJzdFBhZ2VIaW50T3ZlcmxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlRBUF9OQVZJR0FUSU9OLCBlID0+IHtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGdldERldGFpbChlKVsnZGlyZWN0aW9uJ107XG4gICAgICB0aGlzLnBlcmZvcm1UYXBOYXZpZ2F0aW9uXyhkaXJlY3Rpb24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkRJU1BBVENIX0FDVElPTiwgZSA9PiB7XG4gICAgICBpZiAoIWdldE1vZGUoKS50ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWN0aW9uID0gZ2V0RGV0YWlsKGUpWydhY3Rpb24nXTtcbiAgICAgIGNvbnN0IGRhdGEgPSBnZXREZXRhaWwoZSlbJ2RhdGEnXTtcbiAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChhY3Rpb24sIGRhdGEpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLnN1YnNjcmliZShTdGF0ZVByb3BlcnR5LkFEX1NUQVRFLCBpc0FkID0+IHtcbiAgICAgIHRoaXMub25BZFN0YXRlVXBkYXRlXyhpc0FkKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFLCBpc0FjdGl2ZSA9PiB7XG4gICAgICB0aGlzLm9uQm9va2VuZFN0YXRlVXBkYXRlXyhpc0FjdGl2ZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQ1VSUkVOVF9QQUdFX0lELCBwYWdlSWQgPT4ge1xuICAgICAgdGhpcy5vbkN1cnJlbnRQYWdlSWRVcGRhdGVfKHBhZ2VJZCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuUEFVU0VEX1NUQVRFLCBpc1BhdXNlZCA9PiB7XG4gICAgICB0aGlzLm9uUGF1c2VkU3RhdGVVcGRhdGVfKGlzUGF1c2VkKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5VSV9TVEFURSwgdWlTdGF0ZSA9PiB7XG4gICAgICB0aGlzLm9uVUlTdGF0ZVVwZGF0ZV8odWlTdGF0ZSk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLndpbi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICB0aGlzLm9uS2V5RG93bl8oZSk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICAvLyBUT0RPKCMxNjc5NSk6IFJlbW92ZSBvbmNlIHRoZSBydW50aW1lIHRyaWdnZXJzIHBhdXNlL3Jlc3VtZSBjYWxsYmFja3NcbiAgICAvLyBvbiBkb2N1bWVudCB2aXNpYmlsaXR5IGNoYW5nZSAoZWc6IHVzZXIgc3dpdGNoZXMgdGFiKS5cbiAgICB0aGlzLmRvY3VtZW50U3RhdGVfLm9uVmlzaWJpbGl0eUNoYW5nZWQoKCkgPT4gdGhpcy5vblZpc2liaWxpdHlDaGFuZ2VkXygpKTtcblxuICAgIHRoaXMuZ2V0Vmlld3BvcnQoKS5vblJlc2l6ZShkZWJvdW5jZSh0aGlzLndpbiwgKCkgPT4gdGhpcy5vblJlc2l6ZSgpLCAzMDApKTtcbiAgICB0aGlzLmluc3RhbGxHZXN0dXJlUmVjb2duaXplcnNfKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgaW5zdGFsbEdlc3R1cmVSZWNvZ25pemVyc18oKSB7XG4gICAgY29uc3Qge2VsZW1lbnR9ID0gdGhpcztcbiAgICBjb25zdCBnZXN0dXJlcyA9IEdlc3R1cmVzLmdldChlbGVtZW50LCAvKiBzaG91bGROb3RQcmV2ZW50RGVmYXVsdCAqLyB0cnVlKTtcblxuICAgIC8vIERpc2FibGVzIHpvb20gb24gZG91YmxlLXRhcC5cbiAgICBnZXN0dXJlcy5vbkdlc3R1cmUoRG91YmxldGFwUmVjb2duaXplciwgZ2VzdHVyZSA9PiB7XG4gICAgICBjb25zdCB7ZXZlbnR9ID0gZ2VzdHVyZTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaG93cyBcInRhcCB0byBuYXZpZ2F0ZVwiIGhpbnQgd2hlbiBzd2lwaW5nLlxuICAgIGdlc3R1cmVzLm9uR2VzdHVyZShTd2lwZVhZUmVjb2duaXplciwgZ2VzdHVyZSA9PiB7XG4gICAgICBjb25zdCB7ZGVsdGFYLCBkZWx0YVl9ID0gZ2VzdHVyZS5kYXRhO1xuICAgICAgaWYgKHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaXNTd2lwZUxhcmdlRW5vdWdoRm9ySGludF8oZGVsdGFYLCBkZWx0YVkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zdG9yZVNlcnZpY2VfXG4gICAgICAgICAgLmdldChTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX05BVklHQVRJT05fT1ZFUkxBWV9ISU5UKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYW1wU3RvcnlIaW50Xy5zaG93TmF2aWdhdGlvbk92ZXJsYXkoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFYXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVlcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzU3dpcGVMYXJnZUVub3VnaEZvckhpbnRfKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgY29uc3Qgc2lkZVN3aXBlID0gTWF0aC5hYnMoZGVsdGFYKSA+PSBNSU5fU1dJUEVfRk9SX0hJTlRfT1ZFUkxBWV9QWDtcbiAgICBjb25zdCB1cFN3aXBlID0gKC0xICogZGVsdGFZKSA+PSBNSU5fU1dJUEVfRk9SX0hJTlRfT1ZFUkxBWV9QWDtcbiAgICByZXR1cm4gc2lkZVN3aXBlIHx8IHVwU3dpcGU7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgaW5pdGlhbGl6ZUxpc3RlbmVyc0ZvckRldl8oKSB7XG4gICAgaWYgKCFnZXRNb2RlKCkuZGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuREVWX0xPR19FTlRSSUVTX0FWQUlMQUJMRSwgZSA9PiB7XG4gICAgICB0aGlzLnN5c3RlbUxheWVyXy5sb2dBbGwoLyoqIEB0eXBlIHs/fSAqLyAoZ2V0RGV0YWlsKGUpKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgbG9ja0JvZHlfKCkge1xuICAgIGNvbnN0IHtkb2N1bWVudH0gPSB0aGlzLndpbjtcbiAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJyxcbiAgICB9KTtcbiAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZG9jdW1lbnQuYm9keSwge1xuICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbicsXG4gICAgfSk7XG5cbiAgICB0aGlzLmdldFZpZXdwb3J0KCkucmVzZXRUb3VjaFpvb20oKTtcbiAgICB0aGlzLmdldFZpZXdwb3J0KCkuZGlzYWJsZVRvdWNoWm9vbSgpO1xuICAgIHRoaXMubWF5YmVMb2NrU2NyZWVuT3JpZW50YXRpb25fKCk7XG4gIH1cblxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBtYXliZUxvY2tTY3JlZW5PcmllbnRhdGlvbl8oKSB7XG4gICAgY29uc3Qge3NjcmVlbn0gPSB0aGlzLndpbjtcbiAgICBpZiAoIXNjcmVlbiB8fCAhdGhpcy5jYW5Sb3RhdGVUb0Rlc2t0b3BNZWRpYV8ubWF0Y2hlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxvY2tPcmllbnRhdGlvbiA9IHNjcmVlbi5sb2NrT3JpZW50YXRpb24gfHxcbiAgICAgICAgc2NyZWVuLm1vekxvY2tPcmllbnRhdGlvbiB8fCBzY3JlZW4ubXNMb2NrT3JpZW50YXRpb24gfHxcbiAgICAgICAgKHVudXNlZE9yaWVudGF0aW9uID0+IHt9KTtcblxuICAgIHRyeSB7XG4gICAgICBsb2NrT3JpZW50YXRpb24oJ3BvcnRyYWl0Jyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZGV2KCkud2FybihUQUcsICdGYWlsZWQgdG8gbG9jayBzY3JlZW4gb3JpZW50YXRpb246JywgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYnVpbGRQYWdpbmF0aW9uQnV0dG9uc18oKSB7XG4gICAgdGhpcy5wYWdpbmF0aW9uQnV0dG9uc18gPSBQYWdpbmF0aW9uQnV0dG9ucy5jcmVhdGUodGhpcy53aW4pO1xuXG4gICAgdGhpcy5wYWdpbmF0aW9uQnV0dG9uc18uYXR0YWNoKHRoaXMuZWxlbWVudCk7XG5cbiAgICB0aGlzLm5hdmlnYXRpb25TdGF0ZV8ub2JzZXJ2ZShlID0+XG4gICAgICB0aGlzLnBhZ2luYXRpb25CdXR0b25zXy5vbk5hdmlnYXRpb25TdGF0ZUNoYW5nZShlKSk7XG4gIH1cblxuICAvKiogQHZpc2libGVGb3JUZXN0aW5nICovXG4gIGJ1aWxkUGFnaW5hdGlvbkJ1dHRvbnNGb3JUZXN0aW5nKCkge1xuICAgIHRoaXMuYnVpbGRQYWdpbmF0aW9uQnV0dG9uc18oKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbGF5b3V0Q2FsbGJhY2soKSB7XG4gICAgaWYgKCFBbXBTdG9yeS5pc0Jyb3dzZXJTdXBwb3J0ZWQodGhpcy53aW4pICYmICF0aGlzLnBsYXRmb3JtXy5pc0JvdCgpKSB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9TVVBQT1JURURfQlJPV1NFUiwgZmFsc2UpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sYXlvdXRTdG9yeV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBsYXlvdXQgZm9yIHRoZSBzdG9yeVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc3RvcnkgbGF5b3V0IGlzXG4gICAqICAgICAgIGxvYWRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbGF5b3V0U3RvcnlfKCkge1xuICAgIGNvbnN0IGZpcnN0UGFnZUVsID0gdXNlcigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdhbXAtc3RvcnktcGFnZScpLFxuICAgICAgICAnU3RvcnkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBwYWdlLicpO1xuXG4gICAgY29uc3QgaW5pdGlhbFBhZ2VJZCA9IHRoaXMuZ2V0SGlzdG9yeVN0YXRlUGFnZUlkXygpIHx8IGZpcnN0UGFnZUVsLmlkO1xuXG4gICAgaWYgKCF0aGlzLnBhZ2luYXRpb25CdXR0b25zXykge1xuICAgICAgdGhpcy5idWlsZFBhZ2luYXRpb25CdXR0b25zXygpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdGlhbGl6ZUJvb2tlbmRfKCk7XG5cbiAgICBjb25zdCBzdG9yeUxheW91dFByb21pc2UgPSB0aGlzLmluaXRpYWxpemVQYWdlc18oKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmJ1aWxkU3lzdGVtTGF5ZXJfKCkpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBhZ2VzXy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgICAgICAgcGFnZS5zZXRTdGF0ZShQYWdlU3RhdGUuTk9UX0FDVElWRSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHRoaXMuc3dpdGNoVG9fKGluaXRpYWxQYWdlSWQpKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZVN0eWxlc18oKSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIC8vIFByZWxvYWRzIGFuZCBwcmVyZW5kZXJzIHRoZSBzaGFyZSBtZW51IGlmIG1vYmlsZSwgd2hlcmUgdGhlIHNoYXJlXG4gICAgICAgICAgLy8gYnV0dG9uIGlzIHZpc2libGUuXG4gICAgICAgICAgY29uc3QgdWlTdGF0ZSA9IHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5VSV9TVEFURSk7XG4gICAgICAgICAgaWYgKHVpU3RhdGUgPT09IFVJVHlwZS5NT0JJTEUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcmVNZW51Xy5idWlsZCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGluZm9EaWFsb2cgPSBTZXJ2aWNlcy52aWV3ZXJGb3JEb2ModGhpcy5lbGVtZW50KS5pc0VtYmVkZGVkKCkgP1xuICAgICAgICAgICAgbmV3IEluZm9EaWFsb2codGhpcy53aW4sIHRoaXMuZWxlbWVudCkgOiBudWxsO1xuICAgICAgICAgIGlmIChpbmZvRGlhbG9nKSB7XG4gICAgICAgICAgICBpbmZvRGlhbG9nLmJ1aWxkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIC8vIERvIG5vdCBibG9jayB0aGUgbGF5b3V0IGNhbGxiYWNrIG9uIHRoZSBjb21wbGV0aW9uIG9mIHRoZXNlIHByb21pc2VzLCBhc1xuICAgIC8vIHRoYXQgcHJldmVudHMgZGVzY2VuZGVudHMgZnJvbSBiZWluZyBsYWlkIG91dCAoYW5kIHRoZXJlZm9yZSBsb2FkZWQpLlxuICAgIHN0b3J5TGF5b3V0UHJvbWlzZS50aGVuKCgpID0+IHRoaXMud2hlblBhZ2VzTG9hZGVkXyhQQUdFX0xPQURfVElNRU9VVF9NUykpXG4gICAgICAgIC50aGVuKCgpID0+IHRoaXMubWFya1N0b3J5QXNMb2FkZWRfKCkpO1xuXG4gICAgdGhpcy5oYW5kbGVDb25zZW50RXh0ZW5zaW9uXygpO1xuXG4gICAgcmV0dXJuIHN0b3J5TGF5b3V0UHJvbWlzZTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXRNcyBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0byB3YWl0LCBpblxuICAgKiAgICAgbWlsbGlzZWNvbmRzLlxuICAgKiBAIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgcGFnZSBpcyBsb2FkZWQgb3JcbiAgICogICAgIHRoZSB0aW1lb3V0IGhhcyBiZWVuIGV4Y2VlZGVkLCB3aGljaGV2ZXIgaGFwcGVucyBmaXJzdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHdoZW5QYWdlc0xvYWRlZF8odGltZW91dE1zID0gMCkge1xuICAgIGNvbnN0IHBhZ2VzVG9XYWl0Rm9yID0gdGhpcy5pc0Rlc2t0b3BfKCkgP1xuICAgICAgW3RoaXMucGFnZXNfWzBdLCB0aGlzLnBhZ2VzX1sxXV0gOlxuICAgICAgW3RoaXMucGFnZXNfWzBdXTtcblxuICAgIGNvbnN0IHN0b3J5TG9hZFByb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICAgICAgcGFnZXNUb1dhaXRGb3IuZmlsdGVyKHBhZ2UgPT4gISFwYWdlKS5tYXAocGFnZSA9PiBwYWdlLndoZW5Mb2FkZWQoKSkpO1xuXG4gICAgcmV0dXJuIHRoaXMudGltZXJfLnRpbWVvdXRQcm9taXNlKHRpbWVvdXRNcywgc3RvcnlMb2FkUHJvbWlzZSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTtcbiAgfVxuXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG1hcmtTdG9yeUFzTG9hZGVkXygpIHtcbiAgICBkaXNwYXRjaCh0aGlzLndpbiwgdGhpcy5lbGVtZW50LCBFdmVudFR5cGUuU1RPUllfTE9BREVELFxuICAgICAgICAvKiBwYXlsb2FkICovIHVuZGVmaW5lZCwge2J1YmJsZXM6IHRydWV9KTtcbiAgICB0aGlzLnNpZ25hbHMoKS5zaWduYWwoQ29tbW9uU2lnbmFscy5JTklfTE9BRCk7XG4gICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNUT1JZX0xPQURFRF9DTEFTU19OQU1FKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHN0b3J5IGNvbnNlbnQgZXh0ZW5zaW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlQ29uc2VudEV4dGVuc2lvbl8oKSB7XG4gICAgY29uc3QgY29uc2VudEVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FtcC1jb25zZW50Jyk7XG4gICAgaWYgKCFjb25zZW50RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnBhdXNlU3RvcnlVbnRpbENvbnNlbnRJc1Jlc29sdmVkXygpO1xuICAgIHRoaXMudmFsaWRhdGVDb25zZW50Xyhjb25zZW50RWwpO1xuICB9XG5cblxuICAvKipcbiAgICogUGF1c2VzIHRoZSBzdG9yeSB1bnRpbCB0aGUgY29uc2VudCBpcyByZXNvbHZlZCAoYWNjZXB0ZWQgb3IgcmVqZWN0ZWQpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcGF1c2VTdG9yeVVudGlsQ29uc2VudElzUmVzb2x2ZWRfKCkge1xuICAgIGNvbnN0IHBvbGljeUlkID0gdGhpcy5nZXRDb25zZW50UG9saWN5KCkgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IGNvbnNlbnRQcm9taXNlID0gZ2V0Q29uc2VudFBvbGljeVN0YXRlKHRoaXMuZ2V0QW1wRG9jKCksIHBvbGljeUlkKTtcblxuICAgIGlmICghY29uc2VudFByb21pc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9QQVVTRUQsIHRydWUpO1xuXG4gICAgY29uc2VudFByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9QQVVTRUQsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgcHVibGlzaGVycyB1c2luZyBhbXAtY29uc2VudCB1c2UgYW1wLXN0b3J5LWNvbnNlbnQuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGNvbnNlbnRFbFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdmFsaWRhdGVDb25zZW50Xyhjb25zZW50RWwpIHtcbiAgICBpZiAoIWNoaWxkRWxlbWVudEJ5VGFnKGNvbnNlbnRFbCwgJ2FtcC1zdG9yeS1jb25zZW50JykpIHtcbiAgICAgIGRldigpLmVycm9yKFRBRywgJ2FtcC1jb25zZW50IG11c3QgaGF2ZSBhbiBhbXAtc3RvcnktY29uc2VudCBjaGlsZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGFsbG93ZWRUYWdzID0gWydTQ1JJUFQnLCAnQU1QLVNUT1JZLUNPTlNFTlQnXTtcbiAgICBjb25zdCB0b1JlbW92ZUNoaWxkcmVuID0gY2hpbGRFbGVtZW50cyhcbiAgICAgICAgY29uc2VudEVsLCBlbCA9PiBhbGxvd2VkVGFncy5pbmRleE9mKGVsLnRhZ05hbWUpID09PSAtMSk7XG5cbiAgICBpZiAodG9SZW1vdmVDaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGV2KCkuZXJyb3IoVEFHLCBgYW1wLWNvbnNlbnQgb25seSBhbGxvd3MgdGFnczogJHthbGxvd2VkVGFnc31gKTtcbiAgICB0b1JlbW92ZUNoaWxkcmVuLmZvckVhY2goZWwgPT4gY29uc2VudEVsLnJlbW92ZUNoaWxkKGVsKSk7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgaXNMYXlvdXRTdXBwb3J0ZWQobGF5b3V0KSB7XG4gICAgcmV0dXJuIGxheW91dCA9PSBMYXlvdXQuQ09OVEFJTkVSO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwcmVyZW5kZXJBbGxvd2VkKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGluaXRpYWxpemVQYWdlc18oKSB7XG4gICAgY29uc3QgcGFnZUltcGxQcm9taXNlcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FtcC1zdG9yeS1wYWdlJyksXG4gICAgICAgIChwYWdlRWwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhZ2VFbC5nZXRJbXBsKCkudGhlbihwYWdlSW1wbCA9PiB7XG4gICAgICAgICAgICB0aGlzLnBhZ2VzX1tpbmRleF0gPSBwYWdlSW1wbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGFnZUltcGxQcm9taXNlcyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBZHZhbmNlIHRvIHRoZSBuZXh0IHNjcmVlbiBpbiB0aGUgc3RvcnksIGlmIHRoZXJlIGlzIG9uZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2lzQXV0b21hdGljQWR2YW5jZSBXaGV0aGVyIHRoaXMgbmF2aWdhdGlvbiB3YXMgY2F1c2VkXG4gICAqICAgICBieSBhbiBhdXRvbWF0aWMgYWR2YW5jZW1lbnQgYWZ0ZXIgYSB0aW1lb3V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbmV4dF8ob3B0X2lzQXV0b21hdGljQWR2YW5jZSkge1xuICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBkZXYoKS5hc3NlcnQodGhpcy5hY3RpdmVQYWdlXyxcbiAgICAgICAgJ05vIGFjdGl2ZSBwYWdlIHNldCB3aGVuIG5hdmlnYXRpbmcgdG8gbmV4dCBwYWdlLicpO1xuXG4gICAgY29uc3QgbGFzdFBhZ2UgPSB0aGlzLnBhZ2VzX1t0aGlzLmdldFBhZ2VDb3VudCgpIC0gMV07XG4gICAgaWYgKGFjdGl2ZVBhZ2UuZWxlbWVudC5oYXNBdHRyaWJ1dGUoQXR0cmlidXRlcy5BRFZBTkNFX1RPKSB8fFxuICAgICAgICBhY3RpdmVQYWdlICE9PSBsYXN0UGFnZSkge1xuICAgICAgY29uc29sZS5sb2coJ05FWFQgUEFHRScpO1xuICAgICAgYWN0aXZlUGFnZS5uZXh0KG9wdF9pc0F1dG9tYXRpY0FkdmFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhc0Jvb2tlbmRfKCkudGhlbihoYXNCb29rZW5kID0+IHtcbiAgICAgICAgaWYgKGhhc0Jvb2tlbmQpIHtcbiAgICAgICAgICB0aGlzLnNob3dCb29rZW5kXygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR28gYmFjayB0byB0aGUgcHJldmlvdXMgc2NyZWVuIGluIHRoZSBzdG9yeSwgaWYgdGhlcmUgaXMgb25lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJldmlvdXNfKCkge1xuICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBkZXYoKS5hc3NlcnQodGhpcy5hY3RpdmVQYWdlXyxcbiAgICAgICAgJ05vIGFjdGl2ZSBwYWdlIHNldCB3aGVuIG5hdmlnYXRpbmcgdG8gcHJldmlvdXMgcGFnZS4nKTtcbiAgICBjb25zb2xlLmxvZygnUFJFViBQQUdFJyk7XG4gICAgYWN0aXZlUGFnZS5wcmV2aW91cygpO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFUYXBOYXZpZ2F0aW9uRGlyZWN0aW9ufSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiB0byBuYXZpZ2F0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBlcmZvcm1UYXBOYXZpZ2F0aW9uXyhkaXJlY3Rpb24pIHtcbiAgICBpZiAodGhpcy5pc0Rlc2t0b3BfKCkpIHtcbiAgICAgIHRoaXMubmV4dF8oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSBUYXBOYXZpZ2F0aW9uRGlyZWN0aW9uLk5FWFQpIHtcbiAgICAgIHRoaXMubmV4dF8oKTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gVGFwTmF2aWdhdGlvbkRpcmVjdGlvbi5QUkVWSU9VUykge1xuICAgICAgdGhpcy5wcmV2aW91c18oKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTd2l0Y2hlcyB0byBhIHBhcnRpY3VsYXIgcGFnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFBhZ2VJZFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHN3aXRjaFRvXyh0YXJnZXRQYWdlSWQpIHtcbiAgICBpZiAoaXNFeHBlcmltZW50T24odGhpcy53aW4sICdhbXAtc3RvcnktbmF2aWdhdGlvbi1wZXJmb3JtYW5jZScpKSB7XG4gICAgICByZXR1cm4gdGhpcy5leHBlcmltZW50YWxTd2l0Y2hUb18odGFyZ2V0UGFnZUlkKTtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRQYWdlID0gdGhpcy5nZXRQYWdlQnlJZCh0YXJnZXRQYWdlSWQpO1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuZ2V0UGFnZUluZGV4KHRhcmdldFBhZ2UpO1xuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5DSEFOR0VfUEFHRSwge1xuICAgICAgaWQ6IHRhcmdldFBhZ2VJZCxcbiAgICAgIGluZGV4OiBwYWdlSW5kZXgsXG4gICAgfSk7XG5cbiAgICB0aGlzLmhhbmRsZVByZXZpZXdBdHRyaWJ1dGVzXyh0YXJnZXRQYWdlKTtcblxuICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZF8odGFyZ2V0UGFnZS5lbGVtZW50LCAvKiBpbml0aWFsICovICF0aGlzLmFjdGl2ZVBhZ2VfKTtcblxuICAgIGlmICh0YXJnZXRQYWdlLmlzQWQoKSkge1xuICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfQUQsIHRydWUpO1xuICAgICAgc2V0QXR0cmlidXRlSW5NdXRhdGUodGhpcywgQXR0cmlidXRlcy5BRF9TSE9XSU5HKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfQUQsIGZhbHNlKTtcbiAgICAgIHJlbW92ZUF0dHJpYnV0ZUluTXV0YXRlKHRoaXMsIEF0dHJpYnV0ZXMuQURfU0hPV0lORyk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyhhbGFub3JvemNvKTogY2hlY2sgaWYgYXV0b3BsYXlcbiAgICB0aGlzLm5hdmlnYXRpb25TdGF0ZV8udXBkYXRlQWN0aXZlUGFnZShcbiAgICAgICAgcGFnZUluZGV4LFxuICAgICAgICB0aGlzLmdldFBhZ2VDb3VudCgpLFxuICAgICAgICB0YXJnZXRQYWdlLmVsZW1lbnQuaWQsXG4gICAgICAgIHRhcmdldFBhZ2UuZ2V0TmV4dFBhZ2VJZCgpID09PSBudWxsIC8qIGlzRmluYWxQYWdlICovXG4gICAgKTtcblxuICAgIGNvbnN0IG9sZFBhZ2UgPSB0aGlzLmFjdGl2ZVBhZ2VfO1xuXG4gICAgdGhpcy5hY3RpdmVQYWdlXyA9IHRhcmdldFBhZ2U7XG5cbiAgICB0aGlzLnN5c3RlbUxheWVyXy5yZXNldERldmVsb3BlckxvZ3MoKTtcbiAgICB0aGlzLnN5c3RlbUxheWVyXy5zZXREZXZlbG9wZXJMb2dDb250ZXh0U3RyaW5nKHRoaXMuYWN0aXZlUGFnZV8uZWxlbWVudC5pZCk7XG5cbiAgICByZXR1cm4gdGFyZ2V0UGFnZS5iZWZvcmVWaXNpYmxlKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXJBY3RpdmVFdmVudEZvclBhZ2VfKCk7XG5cbiAgICAgIGlmIChvbGRQYWdlKSB7XG4gICAgICAgIG9sZFBhZ2Uuc2V0U3RhdGUoUGFnZVN0YXRlLk5PVF9BQ1RJVkUpO1xuXG4gICAgICAgIC8vIEluZGljYXRpb24gdGhhdCB0aGlzIHNob3VsZCBiZSBvZmZzY3JlZW4gdG8gbGVmdCBpbiBkZXNrdG9wIHZpZXcuXG4gICAgICAgIHNldEF0dHJpYnV0ZUluTXV0YXRlKG9sZFBhZ2UsIEF0dHJpYnV0ZXMuVklTSVRFRCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXJ0cyBwbGF5aW5nIHRoZSBwYWdlLCBpZiB0aGUgc3RvcnkgaXMgbm90IHBhdXNlZC5cbiAgICAgIC8vIE5vdGU6IG5hdmlnYXRpb24gaXMgcHJldmVudGVkIHdoZW4gdGhlIHN0b3J5IGlzIHBhdXNlZCwgdGhpcyB0ZXN0XG4gICAgICAvLyBjb3ZlcnMgdGhlIGNhc2Ugd2hlcmUgdGhlIHN0b3J5IGlzIHJlbmRlcmVkIHBhdXNlZCAoZWc6IGNvbnNlbnQpLlxuICAgICAgaWYgKCF0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuUEFVU0VEX1NUQVRFKSkge1xuICAgICAgICB0YXJnZXRQYWdlLnNldFN0YXRlKFBhZ2VTdGF0ZS5BQ1RJVkUpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBmaXJzdCBuYXZpZ2F0aW9uLlxuICAgICAgaWYgKCFvbGRQYWdlKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJBbmRQcmVsb2FkQmFja2dyb3VuZEF1ZGlvXygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5NVVRFRF9TVEFURSkpIHtcbiAgICAgICAgb2xkUGFnZSAmJiBvbGRQYWdlLm11dGVBbGxNZWRpYSgpO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhZ2VfLnVubXV0ZUFsbE1lZGlhKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJlbG9hZFBhZ2VzQnlEaXN0YW5jZV8oKTtcbiAgICAgIHRoaXMuZm9yY2VSZXBhaW50Rm9yU2FmYXJpXygpO1xuICAgICAgdGhpcy5tYXliZVByZWxvYWRCb29rZW5kXygpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogU3dpdGNoZXMgdG8gYSBwYXJ0aWN1bGFyIHBhZ2UuXG4gICAqIFByb3RlY3RlZCBiZWhpbmcgdGhlICdhbXAtc3RvcnktbmF2aWdhdGlvbi1wZXJmb3JtYW5jZScgZXhwZXJpbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFBhZ2VJZFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGV4cGVyaW1lbnRhbFN3aXRjaFRvXyh0YXJnZXRQYWdlSWQpIHtcbiAgICBjb25zdCB0YXJnZXRQYWdlID0gdGhpcy5nZXRQYWdlQnlJZCh0YXJnZXRQYWdlSWQpO1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuZ2V0UGFnZUluZGV4KHRhcmdldFBhZ2UpO1xuXG4gICAgLy8gU3RlcCBvdXQgaWYgdHJ5aW5nIHRvIG5hdmlnYXRlIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIHBhZ2UuXG4gICAgaWYgKHRoaXMuYWN0aXZlUGFnZV8gJiYgKHRoaXMuYWN0aXZlUGFnZV8uZWxlbWVudC5pZCA9PT0gdGFyZ2V0UGFnZUlkKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IG9sZFBhZ2UgPSB0aGlzLmFjdGl2ZVBhZ2VfO1xuICAgIHRoaXMuYWN0aXZlUGFnZV8gPSB0YXJnZXRQYWdlO1xuXG4gICAgLy8gRWFjaCBzdGVwIHdpbGwgcnVuIGluIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBhbmQgd2FpdCBmb3IgdGhlIG5leHRcbiAgICAvLyBmcmFtZSBiZWZvcmUgZXhlY3V0aW5nIHRoZSBmb2xsb3dpbmcgc3RlcC5cbiAgICBjb25zdCBzdGVwcyA9IFtcbiAgICAgIC8vIEZpcnN0IHN0ZXAgY29udGFpbnMgdGhlIG1pbmltdW0gYW1vdW50IG9mIGNvZGUgdG8gZGlzcGxheSBhbmQgcGxheSB0aGVcbiAgICAgIC8vIHRhcmdldCBwYWdlIGFzIGZhc3QgYXMgcG9zc2libGUuXG4gICAgICAoKSA9PiB7XG4gICAgICAgIG9sZFBhZ2UgJiYgb2xkUGFnZS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYWN0aXZlJyk7XG5cbiAgICAgICAgLy8gU3RhcnRzIHBsYXlpbmcgdGhlIHBhZ2UsIGlmIHRoZSBzdG9yeSBpcyBub3QgcGF1c2VkLlxuICAgICAgICAvLyBOb3RlOiBuYXZpZ2F0aW9uIGlzIHByZXZlbnRlZCB3aGVuIHRoZSBzdG9yeSBpcyBwYXVzZWQsIHRoaXMgdGVzdFxuICAgICAgICAvLyBjb3ZlcnMgdGhlIGNhc2Ugd2hlcmUgdGhlIHN0b3J5IGlzIHJlbmRlcmVkIHBhdXNlZCAoZWc6IGNvbnNlbnQpLlxuICAgICAgICBpZiAoIXRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5QQVVTRURfU1RBVEUpKSB7XG4gICAgICAgICAgdGFyZ2V0UGFnZS5zZXRTdGF0ZShQYWdlU3RhdGUuQUNUSVZFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9yY2VSZXBhaW50Rm9yU2FmYXJpXygpO1xuICAgICAgfSxcbiAgICAgIC8vIFNlY29uZCBzdGVwIGRvZXMgYWxsIHRoZSBvcGVyYXRpb25zIHRoYXQgaW1wYWN0IHRoZSBVSS9VWDogbWVkaWEgc291bmQsXG4gICAgICAvLyBwcm9ncmVzcyBiYXIsIC4uLlxuICAgICAgKCkgPT4ge1xuICAgICAgICBpZiAob2xkUGFnZSkge1xuICAgICAgICAgIG9sZFBhZ2Uuc2V0U3RhdGUoUGFnZVN0YXRlLk5PVF9BQ1RJVkUpO1xuXG4gICAgICAgICAgLy8gSW5kaWNhdGlvbiB0aGF0IHRoaXMgc2hvdWxkIGJlIG9mZnNjcmVlbiB0byBsZWZ0IGluIGRlc2t0b3Agdmlldy5cbiAgICAgICAgICBzZXRBdHRyaWJ1dGVJbk11dGF0ZShvbGRQYWdlLCBBdHRyaWJ1dGVzLlZJU0lURUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5DSEFOR0VfUEFHRSwge1xuICAgICAgICAgIGlkOiB0YXJnZXRQYWdlSWQsXG4gICAgICAgICAgaW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRhcmdldFBhZ2UuaXNBZCgpKSB7XG4gICAgICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfQUQsIHRydWUpO1xuICAgICAgICAgIHNldEF0dHJpYnV0ZUluTXV0YXRlKHRoaXMsIEF0dHJpYnV0ZXMuQURfU0hPV0lORyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfQUQsIGZhbHNlKTtcbiAgICAgICAgICByZW1vdmVBdHRyaWJ1dGVJbk11dGF0ZSh0aGlzLCBBdHRyaWJ1dGVzLkFEX1NIT1dJTkcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyhhbGFub3JvemNvKTogY2hlY2sgaWYgYXV0b3BsYXlcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU3RhdGVfLnVwZGF0ZUFjdGl2ZVBhZ2UoXG4gICAgICAgICAgICBwYWdlSW5kZXgsXG4gICAgICAgICAgICB0aGlzLmdldFBhZ2VDb3VudCgpLFxuICAgICAgICAgICAgdGFyZ2V0UGFnZS5lbGVtZW50LmlkLFxuICAgICAgICAgICAgdGFyZ2V0UGFnZS5nZXROZXh0UGFnZUlkKCkgPT09IG51bGwgLyogaXNGaW5hbFBhZ2UgKi9cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBJZiBmaXJzdCBuYXZpZ2F0aW9uLlxuICAgICAgICBpZiAoIW9sZFBhZ2UpIHtcbiAgICAgICAgICB0aGlzLnJlZ2lzdGVyQW5kUHJlbG9hZEJhY2tncm91bmRBdWRpb18oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5Lk1VVEVEX1NUQVRFKSkge1xuICAgICAgICAgIG9sZFBhZ2UgJiYgb2xkUGFnZS5tdXRlQWxsTWVkaWEoKTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVBhZ2VfLnVubXV0ZUFsbE1lZGlhKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhhbmRsZVByZXZpZXdBdHRyaWJ1dGVzXyh0YXJnZXRQYWdlKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUJhY2tncm91bmRfKHRhcmdldFBhZ2UuZWxlbWVudCwgLyogaW5pdGlhbCAqLyAhb2xkUGFnZSk7XG4gICAgICB9LFxuICAgICAgLy8gVGhpcmQgYW5kIGxhc3Qgc3RlcCBjb250YWlucyBhbGwgdGhlIGFjdGlvbnMgdGhhdCBjYW4gYmUgZGVsYXllZCBhZnRlclxuICAgICAgLy8gdGhlIG5hdmlnYXRpb24gaGFwcGVuZWQsIGxpa2UgcHJlbG9hZGluZyB0aGUgZm9sbG93aW5nIHBhZ2VzLCBvclxuICAgICAgLy8gc2VuZGluZyBhbmFseXRpY3MgZXZlbnRzLlxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnByZWxvYWRQYWdlc0J5RGlzdGFuY2VfKCk7XG4gICAgICAgIHRoaXMubWF5YmVQcmVsb2FkQm9va2VuZF8oKTtcblxuICAgICAgICB0aGlzLnRyaWdnZXJBY3RpdmVFdmVudEZvclBhZ2VfKCk7XG5cbiAgICAgICAgdGhpcy5zeXN0ZW1MYXllcl8ucmVzZXREZXZlbG9wZXJMb2dzKCk7XG4gICAgICAgIHRoaXMuc3lzdGVtTGF5ZXJfXG4gICAgICAgICAgICAuc2V0RGV2ZWxvcGVyTG9nQ29udGV4dFN0cmluZyh0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQuaWQpO1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGFyZ2V0UGFnZS5iZWZvcmVWaXNpYmxlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGV4ZWN1dGVzIG9uZSBzdGVwIHBlciBmcmFtZS5cbiAgICAgICAgY29uc3QgdW5xdWV1ZVN0ZXBJblJBRiA9ICgpID0+IHtcbiAgICAgICAgICBzdGVwcy5zaGlmdCgpLmNhbGwodGhpcyk7XG4gICAgICAgICAgaWYgKCFzdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMud2luLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB1bnF1ZXVlU3RlcEluUkFGKCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVucXVldWVTdGVwSW5SQUYoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQ2xlYXIgZXhpc3RpbmcgcHJldmlldyBhdHRyaWJ1dGVzLCBDaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBuZXh0IG9yXG4gICAqIHByZXZpb3VzIHBhZ2UsIHNldCBuZXcgYXR0cmlidXRlcy5cbiAgICogQHBhcmFtIHshLi9hbXAtc3RvcnktcGFnZS5BbXBTdG9yeVBhZ2V9IHRhcmdldFBhZ2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVByZXZpZXdBdHRyaWJ1dGVzXyh0YXJnZXRQYWdlKSB7XG4gICAgaWYgKHRoaXMucHJldmlvdXNQYWdlXykge1xuICAgICAgcmVtb3ZlQXR0cmlidXRlSW5NdXRhdGUodGhpcy5wcmV2aW91c1BhZ2VfLCBBdHRyaWJ1dGVzLlBSRVZJT1VTKTtcbiAgICAgIHRoaXMucHJldmlvdXNQYWdlXyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubmV4dFBhZ2VfKSB7XG4gICAgICByZW1vdmVBdHRyaWJ1dGVJbk11dGF0ZSh0aGlzLm5leHRQYWdlXywgQXR0cmlidXRlcy5ORVhUKTtcbiAgICAgIHRoaXMubmV4dFBhZ2VfID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2UGFnZUlkID0gdGFyZ2V0UGFnZS5nZXRQcmV2aW91c1BhZ2VJZCgpO1xuICAgIGlmIChwcmV2UGFnZUlkKSB7XG4gICAgICB0aGlzLnByZXZpb3VzUGFnZV8gPSB0aGlzLmdldFBhZ2VCeUlkKHByZXZQYWdlSWQpO1xuICAgICAgc2V0QXR0cmlidXRlSW5NdXRhdGUodGhpcy5wcmV2aW91c1BhZ2VfLCBBdHRyaWJ1dGVzLlBSRVZJT1VTKTtcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0UGFnZUlkID0gdGFyZ2V0UGFnZS5nZXROZXh0UGFnZUlkKFxuICAgICAgICAvKiBvcHRfaXNBdXRvbWF0aWNBZHZhbmNlICovIGZhbHNlKTtcbiAgICBpZiAobmV4dFBhZ2VJZCkge1xuICAgICAgdGhpcy5uZXh0UGFnZV8gPSB0aGlzLmdldFBhZ2VCeUlkKG5leHRQYWdlSWQpO1xuICAgICAgc2V0QXR0cmlidXRlSW5NdXRhdGUodGhpcy5uZXh0UGFnZV8sIEF0dHJpYnV0ZXMuTkVYVCk7XG4gICAgfVxuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgdHJpZ2dlckFjdGl2ZUV2ZW50Rm9yUGFnZV8oKSB7XG4gICAgLy8gVE9ETyhhbGFub3JvemNvKTogcGFzcyBldmVudCBwcmlvcml0eSBvbmNlIGFtcGh0bWwtc3RvcnkgcmVwbyBpcyBtZXJnZWRcbiAgICAvLyB3aXRoIHVwc3RyZWFtLlxuICAgIFNlcnZpY2VzLmFjdGlvblNlcnZpY2VGb3JEb2ModGhpcy5lbGVtZW50KVxuICAgICAgICAudHJpZ2dlcih0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQsICdhY3RpdmUnLCAvKiBldmVudCAqLyBudWxsLFxuICAgICAgICAgICAgQWN0aW9uVHJ1c3QuSElHSCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBGb3Igc29tZSByZWFzb24sIFNhZmFyaSBoYXMgYW4gaXNzdWUgd2hlcmUgc29tZXRpbWVzIHdoZW4gcGFnZXMgYmVjb21lXG4gICAqIHZpc2libGUsIHNvbWUgZGVzY2VuZGFudHMgYXJlIG5vdCBwYWludGVkLiAgVGhpcyBpcyBhIGhhY2sgd2hlcmUgd2UgZGV0ZWN0XG4gICAqIHRoYXQgdGhlIGJyb3dzZXIgaXMgU2FmYXJpIGFuZCBmb3JjZSBpdCB0byByZXBhaW50LCB0byBhdm9pZCB0aGlzIGNhc2UuXG4gICAqIFNlZSBuZXdtdWlzL2FtcGh0bWwtc3RvcnkjMTA2IGZvciBkZXRhaWxzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZm9yY2VSZXBhaW50Rm9yU2FmYXJpXygpIHtcbiAgICBpZiAoIXRoaXMucGxhdGZvcm1fLmlzU2FmYXJpKCkgJiYgIXRoaXMucGxhdGZvcm1fLmlzSW9zKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICAvLyBGb3JjZSByZXBhaW50IGlzIG9ubHkgbmVlZGVkIHdoZW4gdHJhbnNpdGlvbmluZyBmcm9tIGludmlzaWJsZSB0b1xuICAgICAgLy8gdmlzaWJsZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICBzZXRTdHlsZSh0aGlzLmVsZW1lbnQsICdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgLy8gUmVhZGluZyB0aGUgaGVpZ2h0IGlzIHdoYXQgZm9yY2VzIHRoZSByZXBhaW50LiAgVGhlIGNvbmRpdGlvbmFsIGV4aXN0c1xuICAgICAgLy8gb25seSB0byB3b3JrYXJvdW5kIHRoZSBmYWN0IHRoYXQgdGhlIGNsb3N1cmUgY29tcGlsZXIgd291bGQgb3RoZXJ3aXNlXG4gICAgICAvLyB0aGluayB0aGF0IG9ubHkgcmVhZGluZyB0aGUgaGVpZ2h0IGhhcyBubyBlZmZlY3QuICBTaW5jZSB0aGUgaGVpZ2h0IGlzXG4gICAgICAvLyBhbHdheXMgPj0gMCwgdGhpcyBjb25kaXRpb25hbCB3aWxsIGFsd2F5cyBiZSBleGVjdXRlZC5cbiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZWxlbWVudC4vKk9LKi9vZmZzZXRIZWlnaHQ7XG4gICAgICBpZiAoaGVpZ2h0ID49IDApIHtcbiAgICAgICAgc2V0U3R5bGUodGhpcy5lbGVtZW50LCAnZGlzcGxheScsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYWxsIGtleSBwcmVzc2VzIHdpdGhpbiB0aGUgc3RvcnkuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBlIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25LZXlEb3duXyhlKSB7XG4gICAgaWYgKHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJ0bFN0YXRlID0gdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LlJUTF9TVEFURSk7XG5cbiAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgY2FzZSBLZXlDb2Rlcy5MRUZUX0FSUk9XOlxuICAgICAgICBydGxTdGF0ZSA/IHRoaXMubmV4dF8oKSA6IHRoaXMucHJldmlvdXNfKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlDb2Rlcy5SSUdIVF9BUlJPVzpcbiAgICAgICAgcnRsU3RhdGUgPyB0aGlzLnByZXZpb3VzXygpIDogdGhpcy5uZXh0XygpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUlkIG5ldyBjdXJyZW50IHBhZ2UgaWRcbiAgICogQHByaXZhdGVcbiAgICogKi9cbiAgb25DdXJyZW50UGFnZUlkVXBkYXRlXyhwYWdlSWQpIHtcbiAgICB0aGlzLnNldEhpc3RvcnlTdGF0ZVBhZ2VJZF8ocGFnZUlkKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNhdmUgcGFnZSBpZCB1c2luZyBoaXN0b3J5IEFQSS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhZ2VJZCBwYWdlIGlkIHRvIGJlIHNhdmVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRIaXN0b3J5U3RhdGVQYWdlSWRfKHBhZ2VJZCkge1xuICAgIC8vIE5ldmVyIHNhdmUgYWQgcGFnZXMgdG8gaGlzdG9yeSBhcyB0aGV5IGFyZSB1bmlxdWUgdG8gZWFjaCB2aXNpdC5cbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRQYWdlQnlJZChwYWdlSWQpO1xuICAgIGlmIChwYWdlLmlzQWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtoaXN0b3J5fSA9IHRoaXMud2luO1xuICAgIGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSAmJiB0aGlzLmdldEhpc3RvcnlTdGF0ZVBhZ2VJZF8oKSAhPT0gcGFnZUlkKSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgIGFtcFN0b3J5UGFnZUlkOiBwYWdlSWQsXG4gICAgICB9LCAnJyk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldEhpc3RvcnlTdGF0ZVBhZ2VJZF8oKSB7XG4gICAgY29uc3Qge2hpc3Rvcnl9ID0gdGhpcy53aW47XG4gICAgaWYgKGhpc3RvcnkgJiYgaGlzdG9yeS5zdGF0ZSkge1xuICAgICAgcmV0dXJuIGhpc3Rvcnkuc3RhdGUuYW1wU3RvcnlQYWdlSWQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cblxuICAvKipcbiAgICogSGFuZGxlIHJlc2l6ZSBldmVudHMgYW5kIHNldCB0aGUgc3RvcnkncyBkZXNrdG9wIHN0YXRlLlxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIG9uUmVzaXplKCkge1xuICAgIHRoaXMudXBkYXRlVmlld3BvcnRTaXplU3R5bGVzXygpO1xuXG4gICAgbGV0IHVpU3RhdGUgPSBVSVR5cGUuTU9CSUxFO1xuXG4gICAgaWYgKHRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICB1aVN0YXRlID0gaXNFeHBlcmltZW50T24odGhpcy53aW4sICdhbXAtc3Rvcnktc2Nyb2xsJykgP1xuICAgICAgICBVSVR5cGUuU0NST0xMIDogVUlUeXBlLkRFU0tUT1A7XG4gICAgfVxuXG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfVUksIHVpU3RhdGUpO1xuXG4gICAgaWYgKHVpU3RhdGUgIT09IFVJVHlwZS5NT0JJTEUpIHtcbiAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0xBTkRTQ0FQRSwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9uIG1vYmlsZSwgbWF5YmUgZGlzcGxheSB0aGUgbGFuZHNjYXBlIG92ZXJsYXkgd2FybmluZy5cbiAgICB0aGlzLnZzeW5jXy5ydW4oe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBjb25zdCB7b2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodH0gPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIHN0YXRlLmlzTGFuZHNjYXBlID0gb2Zmc2V0V2lkdGggPiBvZmZzZXRIZWlnaHQ7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiBzdGF0ZSA9PiB7XG4gICAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0xBTkRTQ0FQRSwgc3RhdGUuaXNMYW5kc2NhcGUpO1xuICAgICAgfSxcbiAgICB9LCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHRoZSBicm93c2VyIHRhYiBiZWNvbWluZyBhY3RpdmUvaW5hY3RpdmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblZpc2liaWxpdHlDaGFuZ2VkXygpIHtcbiAgICB0aGlzLmRvY3VtZW50U3RhdGVfLmlzSGlkZGVuKCkgP1xuICAgICAgdGhpcy5wYXVzZUNhbGxiYWNrKCkgOlxuICAgICAgdGhpcy5yZXN1bWVDYWxsYmFjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB0aGUgYWQgc3RhdGUgdXBkYXRlcywgYW5kIHBhdXNlcyB0aGUgYmFja2dyb3VuZC1hdWRpbyB3aGVuIGFuIGFkXG4gICAqIGlzIGRpc3BsYXllZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0FkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkFkU3RhdGVVcGRhdGVfKGlzQWQpIHtcbiAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5Lk1VVEVEX1NUQVRFKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlzQWQgPyB0aGlzLnBhdXNlQmFja2dyb3VuZEF1ZGlvXygpIDogdGhpcy5wbGF5QmFja2dyb3VuZEF1ZGlvXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byBVSSBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0geyFVSVR5cGV9IHVpU3RhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uVUlTdGF0ZVVwZGF0ZV8odWlTdGF0ZSkge1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkZXNrdG9wJyk7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzY3JvbGwnKTtcbiAgICB9KTtcblxuICAgIHN3aXRjaCAodWlTdGF0ZSkge1xuICAgICAgY2FzZSBVSVR5cGUuTU9CSUxFOlxuICAgICAgICAvLyBQcmVsb2FkcyBhbmQgcHJlcmVuZGVycyB0aGUgc2hhcmUgbWVudSBhcyB0aGUgc2hhcmUgYnV0dG9uIGdldHNcbiAgICAgICAgLy8gdmlzaWJsZSBvbiB0aGUgbW9iaWxlIFVJLiBOby1vcCBpZiBhbHJlYWR5IGJ1aWx0LlxuICAgICAgICB0aGlzLnNoYXJlTWVudV8uYnVpbGQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVJVHlwZS5ERVNLVE9QOlxuICAgICAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rlc2t0b3AnLCAnJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXRoaXMuYmFja2dyb3VuZF8pIHtcbiAgICAgICAgICB0aGlzLmJhY2tncm91bmRfID0gbmV3IEFtcFN0b3J5QmFja2dyb3VuZCh0aGlzLndpbiwgdGhpcy5lbGVtZW50KTtcbiAgICAgICAgICB0aGlzLmJhY2tncm91bmRfLmF0dGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBhZ2VfKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kXyh0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQsIC8qIGluaXRpYWwgKi8gdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVJVHlwZS5TQ1JPTEw6XG4gICAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnc2Nyb2xsJywgJycpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNjcmVlbiBzaXplIG1hdGNoZXMgdGhlIGRlc2t0b3AgbWVkaWEgcXVlcnkuXG4gICAqL1xuICBpc0Rlc2t0b3BfKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2t0b3BNZWRpYV8ubWF0Y2hlcyAmJiAhdGhpcy5wbGF0Zm9ybV8uaXNCb3QoKSAmJlxuICAgICAgICAhaXNFeHBlcmltZW50T24odGhpcy53aW4sICdkaXNhYmxlLWFtcC1zdG9yeS1kZXNrdG9wJyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIGlzIGEgc3RhbmRhbG9uZSBzdG9yeSAoaS5lLiB0aGlzIHN0b3J5IGlzXG4gICAqICAgICB0aGUgb25seSBjb250ZW50IG9mIHRoZSBkb2N1bWVudCkuXG4gICAqL1xuICBpc1N0YW5kYWxvbmVfKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKEF0dHJpYnV0ZXMuU1RBTkRBTE9ORSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHBhdXNlZCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUGF1c2VkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblBhdXNlZFN0YXRlVXBkYXRlXyhpc1BhdXNlZCkge1xuICAgIGlmICghdGhpcy5hY3RpdmVQYWdlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VTdGF0ZSA9IGlzUGF1c2VkID8gUGFnZVN0YXRlLlBBVVNFRCA6IFBhZ2VTdGF0ZS5BQ1RJVkU7XG4gICAgdGhpcy5hY3RpdmVQYWdlXy5zZXRTdGF0ZShwYWdlU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIGJyb3dzZXIgaXMgc3VwcG9ydGVkLCBkaXNwbGF5cyB0aGUgc3RvcnkuIE90aGVyd2lzZSwgc2hvd3MgZWl0aGVyIHRoZVxuICAgKiBkZWZhdWx0IHVuc3VwcG9ydGVkIGJyb3dzZXIgbGF5ZXIgb3IgdGhlIHB1Ymxpc2hlciBmYWxsYmFjayAoaWYgcHJvdmlkZWQpLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQnJvd3NlclN1cHBvcnRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25TdXBwb3J0ZWRCcm93c2VyU3RhdGVVcGRhdGVfKGlzQnJvd3NlclN1cHBvcnRlZCkge1xuICAgIGNvbnN0IGZhbGxiYWNrRWwgPSB0aGlzLmdldEZhbGxiYWNrKCk7XG4gICAgaWYgKGlzQnJvd3NlclN1cHBvcnRlZCkge1xuICAgICAgLy8gUmVtb3ZlcyB0aGUgZGVmYXVsdCB1bnN1cHBvcnRlZCBicm93c2VyIGxheWVyIG9yIHRocm93cyBhbiBlcnJvclxuICAgICAgLy8gaWYgdGhlIHB1Ymxpc2hlciBoYXMgcHJvdmlkZWQgdGhlaXIgb3duIGZhbGxiYWNrXG4gICAgICBpZiAoZmFsbGJhY2tFbCkge1xuICAgICAgICBkZXYoKS5lcnJvcihUQUcsICdObyBoYW5kbGVyIHRvIGV4aXQgdW5zdXBwb3J0ZWQgYnJvd3NlciBzdGF0ZSBvbiAnICtcbiAgICAgICAgJ3B1Ymxpc2hlciBwcm92aWRlZCBmYWxsYmFjay4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGF5b3V0U3RvcnlfKCkudGhlbigoKSA9PiB0aGlzLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudW5zdXBwb3J0ZWRCcm93c2VyTGF5ZXJfLnJlbW92ZUxheWVyKCk7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ktYW1waHRtbC1zdG9yeS1mYWxsYmFjaycpO1xuICAgICAgICB9KSk7XG5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1mYWxsYmFjaycpO1xuICAgICAgfSk7XG4gICAgICAvLyBEaXNwbGF5cyB0aGUgcHVibGlzaGVyIHByb3ZpZGVkIGZhbGxiYWNrIG9yIGZhbGxiYWNrcyB0byB0aGUgZGVmYXVsdFxuICAgICAgLy8gdW5zdXBwb3J0ZWQgYnJvd3NlciBsYXllci5cbiAgICAgIGlmIChmYWxsYmFja0VsKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlRmFsbGJhY2sodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuc3VwcG9ydGVkQnJvd3NlckxheWVyXy5idWlsZCgpO1xuICAgICAgICB0aGlzLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnVuc3VwcG9ydGVkQnJvd3NlckxheWVyXy5nZXQoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFVSTCBvZiB0aGUgZ2l2ZW4gcGFnZSdzIGJhY2tncm91bmQgcmVzb3VyY2UuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VFbGVtZW50XG4gICAqIEByZXR1cm4gez9zdHJpbmd9IFRoZSBVUkwgb2YgdGhlIGJhY2tncm91bmQgcmVzb3VyY2VcbiAgICovXG4gIGdldEJhY2tncm91bmRVcmxfKHBhZ2VFbGVtZW50KSB7XG4gICAgbGV0IGZpbGxFbGVtZW50ID0gcGFnZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJ1t0ZW1wbGF0ZT1cImZpbGxcIl06bm90KC5pLWFtcGh0bWwtaGlkZGVuLWJ5LW1lZGlhLXF1ZXJ5KScpO1xuXG4gICAgaWYgKCFmaWxsRWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZmlsbEVsZW1lbnQgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGZpbGxFbGVtZW50KTtcblxuICAgIGNvbnN0IGZpbGxQb3N0ZXJFbGVtZW50ID0gZmlsbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJ1twb3N0ZXJdOm5vdCguaS1hbXBodG1sLWhpZGRlbi1ieS1tZWRpYS1xdWVyeSknKTtcblxuICAgIGNvbnN0IHNyY0VsZW1lbnQgPSBmaWxsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnW3NyY106bm90KC5pLWFtcGh0bWwtaGlkZGVuLWJ5LW1lZGlhLXF1ZXJ5KScpO1xuXG4gICAgY29uc3QgZmlsbFBvc3RlciA9IGZpbGxQb3N0ZXJFbGVtZW50ID9cbiAgICAgIGZpbGxQb3N0ZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgncG9zdGVyJykgOiAnJztcbiAgICBjb25zdCBzcmMgPSBzcmNFbGVtZW50ID8gc3JjRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpIDogJyc7XG5cbiAgICByZXR1cm4gZmlsbFBvc3RlciB8fCBzcmM7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJhY2tncm91bmQgdG8gdGhlIHNwZWNpZmllZCBwYWdlJ3MgYmFja2dyb3VuZC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcGFnZUVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5pdGlhbFxuICAgKi9cbiAgdXBkYXRlQmFja2dyb3VuZF8ocGFnZUVsZW1lbnQsIGluaXRpYWwgPSBmYWxzZSkge1xuICAgIGlmICghdGhpcy5iYWNrZ3JvdW5kXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0VnN5bmMoKS5ydW4oe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS51cmwgPSB0aGlzLmdldEJhY2tncm91bmRVcmxfKHBhZ2VFbGVtZW50KTtcbiAgICAgICAgc3RhdGUuY29sb3IgPSBjb21wdXRlZFN0eWxlKHRoaXMud2luLCBwYWdlRWxlbWVudClcbiAgICAgICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICB9LFxuICAgICAgbXV0YXRlOiBzdGF0ZSA9PiB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZF8uc2V0QmFja2dyb3VuZChzdGF0ZS5jb2xvciwgc3RhdGUudXJsLCBpbml0aWFsKTtcbiAgICAgIH0sXG4gICAgfSwge30pO1xuICB9XG5cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGJvb2tlbmQgb3ZlcmxheS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNob3dCb29rZW5kXygpIHtcbiAgICB0aGlzLmJ1aWxkQW5kUHJlbG9hZEJvb2tlbmRfKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8uZGlzcGF0Y2goQWN0aW9uLlRPR0dMRV9CT09LRU5ELCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBib29rZW5kIG92ZXJsYXkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoaWRlQm9va2VuZF8oKSB7XG4gICAgdGhpcy5zdG9yZVNlcnZpY2VfLmRpc3BhdGNoKEFjdGlvbi5UT0dHTEVfQk9PS0VORCwgZmFsc2UpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0FjdGl2ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Cb29rZW5kU3RhdGVVcGRhdGVfKGlzQWN0aXZlKSB7XG4gICAgdGhpcy50b2dnbGVFbGVtZW50c09uQm9va2VuZF8oLyogZGlzcGxheSAqLyBpc0FjdGl2ZSk7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFjdGl2ZScsIGlzQWN0aXZlKTtcblxuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgdGhpcy5zeXN0ZW1MYXllcl8uaGlkZURldmVsb3BlckxvZygpO1xuICAgICAgdGhpcy5hY3RpdmVQYWdlXy5zZXRTdGF0ZShQYWdlU3RhdGUuUEFVU0VEKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICB0aGlzLmFjdGl2ZVBhZ2VfLnNldFN0YXRlKFBhZ2VTdGF0ZS5BQ1RJVkUpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBjb250ZW50IHdoZW4gYm9va2VuZCBpcyBvcGVuZWQvY2xvc2VkLlxuICAgKiBUT0RPKGdtYWpvdWxldCk6IHRoZXNlIGVsZW1lbnRzIHNob3VsZCBnZXQgaGlkZGVuIGJ5IGxpc3RlbmluZyB0byBib29rZW5kXG4gICAqICAgICAgICAgICAgICAgICAgc3RhdGUgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0b2dnbGVFbGVtZW50c09uQm9va2VuZF8oaXNBY3RpdmUpIHtcbiAgICBpZiAoIXRoaXMuaXNEZXNrdG9wXygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudHMgPSBzY29wZWRRdWVyeVNlbGVjdG9yQWxsKHRoaXMuZWxlbWVudCxcbiAgICAgICAgSElERV9PTl9CT09LRU5EX1NFTEVDVE9SKTtcblxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGVsID0+IHtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWwsIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMXMnLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0U3R5bGVzKGVsLCBbJ29wYWNpdHknLCAndHJhbnNpdGlvbiddKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUFycmF5PHN0cmluZz4+fSBBIDJEIGFycmF5IHJlcHJlc2VudGluZyBsaXN0cyBvZiBwYWdlcyBieVxuICAgKiAgICAgZGlzdGFuY2UuICBUaGUgb3V0ZXIgYXJyYXkgaW5kZXggcmVwcmVzZW50cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGVcbiAgICogICAgIGFjdGl2ZSBwYWdlOyB0aGUgaW5uZXIgYXJyYXkgaXMgYSBsaXN0IG9mIHBhZ2UgSURzIGF0IHRoZSBzcGVjaWZpZWRcbiAgICogICAgIGRpc3RhbmNlLlxuICAgKi9cbiAgZ2V0UGFnZXNCeURpc3RhbmNlXygpIHtcbiAgICBjb25zdCBkaXN0YW5jZU1hcCA9IHRoaXMuZ2V0UGFnZURpc3RhbmNlTWFwSGVscGVyXyhcbiAgICAgICAgLyogZGlzdGFuY2UgKi8gMCwgLyogbWFwICovIHt9LCB0aGlzLmFjdGl2ZVBhZ2VfLmVsZW1lbnQuaWQpO1xuXG4gICAgLy8gVHJhbnNwb3NlIHRoZSBtYXAgaW50byBhIDJEIGFycmF5LlxuICAgIGNvbnN0IHBhZ2VzQnlEaXN0YW5jZSA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGRpc3RhbmNlTWFwKS5mb3JFYWNoKHBhZ2VJZCA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlTWFwW3BhZ2VJZF07XG4gICAgICBpZiAoIXBhZ2VzQnlEaXN0YW5jZVtkaXN0YW5jZV0pIHtcbiAgICAgICAgcGFnZXNCeURpc3RhbmNlW2Rpc3RhbmNlXSA9IFtdO1xuICAgICAgfVxuICAgICAgcGFnZXNCeURpc3RhbmNlW2Rpc3RhbmNlXS5wdXNoKHBhZ2VJZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFnZXNCeURpc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBtYXAgb2YgYSBwYWdlIGFuZCBhbGwgb2YgdGhlIHBhZ2VzIHJlYWNoYWJsZSBmcm9tIHRoYXQgcGFnZSwgYnlcbiAgICogZGlzdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBUaGUgZGlzdGFuY2UgdGhhdCB0aGUgcGFnZSB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICogICAgIHBhZ2VJZCBpcyBmcm9tIHRoZSBhY3RpdmUgcGFnZS5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gbWFwIEEgbWFwcGluZyBmcm9tIHBhZ2VJZCB0byBpdHMgZGlzdGFuY2VcbiAgICogICAgIGZyb20gdGhlIGFjdGl2ZSBwYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUlkIFRoZSBwYWdlIHRvIGJlIGFkZGVkIHRvIHRoZSBtYXAuXG4gICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBBIG1hcHBpbmcgZnJvbSBwYWdlIElEIHRvIHRoZSBwcmlvcml0eSBvZlxuICAgKiAgICAgdGhhdCBwYWdlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UGFnZURpc3RhbmNlTWFwSGVscGVyXyhkaXN0YW5jZSwgbWFwLCBwYWdlSWQpIHtcbiAgICBpZiAobWFwW3BhZ2VJZF0gIT09IHVuZGVmaW5lZCAmJiBtYXBbcGFnZUlkXSA8PSBkaXN0YW5jZSkge1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG5cbiAgICBtYXBbcGFnZUlkXSA9IGRpc3RhbmNlO1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdldFBhZ2VCeUlkKHBhZ2VJZCk7XG4gICAgcGFnZS5nZXRBZGphY2VudFBhZ2VJZHMoKS5mb3JFYWNoKGFkamFjZW50UGFnZUlkID0+IHtcbiAgICAgIGlmIChtYXBbYWRqYWNlbnRQYWdlSWRdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAmJiBtYXBbYWRqYWNlbnRQYWdlSWRdIDw9IGRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETyhuZXdtdWlzKTogUmVtb3ZlIHRoZSBhc3NpZ25tZW50IGFuZCByZXR1cm4sIGFzIHRoZXkncmVcbiAgICAgIC8vIHVubmVjZXNzYXJ5LlxuICAgICAgbWFwID0gdGhpcy5nZXRQYWdlRGlzdGFuY2VNYXBIZWxwZXJfKGRpc3RhbmNlICsgMSwgbWFwLCBhZGphY2VudFBhZ2VJZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcHJlbG9hZFBhZ2VzQnlEaXN0YW5jZV8oKSB7XG4gICAgaWYgKHRoaXMucGxhdGZvcm1fLmlzQm90KCkpIHtcbiAgICAgIHRoaXMucGFnZXNfLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgIHBhZ2Uuc2V0RGlzdGFuY2UoMCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlc0J5RGlzdGFuY2UgPSB0aGlzLmdldFBhZ2VzQnlEaXN0YW5jZV8oKTtcblxuICAgIHRoaXMubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICBwYWdlc0J5RGlzdGFuY2UuZm9yRWFjaCgocGFnZUlkcywgZGlzdGFuY2UpID0+IHtcbiAgICAgICAgcGFnZUlkcy5mb3JFYWNoKHBhZ2VJZCA9PiB7XG4gICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZUJ5SWQocGFnZUlkKTtcbiAgICAgICAgICBwYWdlLnNldERpc3RhbmNlKGRpc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBiYWNrZ3JvdW5kLWF1ZGlvIGF0dHJpYnV0ZSBzZXQgb24gYW4gPGFtcC1zdG9yeT4gdGFnLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVnaXN0ZXJBbmRQcmVsb2FkQmFja2dyb3VuZEF1ZGlvXygpIHtcbiAgICBsZXQgYmFja2dyb3VuZEF1ZGlvRWwgPSB1cGdyYWRlQmFja2dyb3VuZEF1ZGlvKHRoaXMuZWxlbWVudCk7XG5cbiAgICBpZiAoIWJhY2tncm91bmRBdWRpb0VsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gT25jZSB0aGUgbWVkaWEgcG9vbCBpcyByZWFkeSwgcmVnaXN0ZXJzIGFuZCBwcmVsb2FkcyB0aGUgYmFja2dyb3VuZFxuICAgIC8vIGF1ZGlvLCBhbmQgdGhlbiBnZXRzIHRoZSBzd2FwcGVkIGVsZW1lbnQgZnJvbSB0aGUgRE9NIHRvIG11dGUvdW5tdXRlL3BsYXlcbiAgICAvLyBpdCBwcm9ncmFtbWF0aWNhbGx5IGxhdGVyLlxuICAgIHRoaXMuYWN0aXZlUGFnZV8ud2hlbkxvYWRlZCgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQXVkaW9FbCA9XG4gICAgICAgICAgICAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAoYmFja2dyb3VuZEF1ZGlvRWwpO1xuICAgICAgICAgIHRoaXMubWVkaWFQb29sXy5yZWdpc3RlcihiYWNrZ3JvdW5kQXVkaW9FbCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFQb29sXy5wcmVsb2FkKGJhY2tncm91bmRBdWRpb0VsKTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQXVkaW9FbF8gPSAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqL1xuICAgICAgICAgICAgICAoY2hpbGRFbGVtZW50KHRoaXMuZWxlbWVudCwgZWwgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhdWRpbyc7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgYm9va2VuZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVCb29rZW5kXygpIHtcbiAgICBsZXQgYm9va2VuZEVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FtcC1zdG9yeS1ib29rZW5kJyk7XG4gICAgaWYgKCFib29rZW5kRWwpIHtcbiAgICAgIGJvb2tlbmRFbCA9IGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlcyh0aGlzLndpbi5kb2N1bWVudCxcbiAgICAgICAgICAnYW1wLXN0b3J5LWJvb2tlbmQnLCBkaWN0KHsnbGF5b3V0JzogJ25vZGlzcGxheSd9KSk7XG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoYm9va2VuZEVsKTtcbiAgICB9XG5cbiAgICBib29rZW5kRWwuZ2V0SW1wbCgpLnRoZW4oXG4gICAgICAgIGJvb2tlbmRJbXBsID0+IHtcbiAgICAgICAgICB0aGlzLmJvb2tlbmRfID0gYm9va2VuZEltcGw7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZWxvYWRzIHRoZSBib29rZW5kIGNvbmZpZyBpZiBvbiB0aGUgbGFzdCBwYWdlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWF5YmVQcmVsb2FkQm9va2VuZF8oKSB7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZVBhZ2VfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5nZXRQYWdlSW5kZXgodGhpcy5hY3RpdmVQYWdlXyk7XG5cbiAgICBpZiAocGFnZUluZGV4ICsgMSA+PSB0aGlzLmdldFBhZ2VDb3VudCgpKSB7XG4gICAgICB0aGlzLmJ1aWxkQW5kUHJlbG9hZEJvb2tlbmRfKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQnVpbGRzLCBmZXRjaGVzIGFuZCBzZXRzIHRoZSBib29rZW5kIHB1Ymxpc2hlciBjb25maWd1cmF0aW9uLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/Li9ib29rZW5kL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmREYXRhRGVmPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ1aWxkQW5kUHJlbG9hZEJvb2tlbmRfKCkge1xuICAgIHRoaXMuYm9va2VuZF8uYnVpbGQoKTtcbiAgICByZXR1cm4gdGhpcy5ib29rZW5kXy5sb2FkQ29uZmlnQW5kTWF5YmVSZW5kZXJCb29rZW5kKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTxib29sZWFuPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhc0Jvb2tlbmRfKCkge1xuICAgIGlmICghdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkNBTl9TSE9XX0JPT0tFTkQpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKG5ld211aXMpOiBDaGFuZ2UgdGhpcyBjb21tZW50LlxuICAgIC8vIE9uIG1vYmlsZSB0aGVyZSBpcyBhbHdheXMgYSBib29rZW5kLiBPbiBkZXNrdG9wLCB0aGUgYm9va2VuZCB3aWxsIG9ubHlcbiAgICAvLyBiZSBzaG93biBpZiByZWxhdGVkIGFydGljbGVzIGhhdmUgYmVlbiBjb25maWd1cmVkLlxuICAgIGlmICghdGhpcy5pc0Rlc2t0b3BfKCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYm9va2VuZF9cbiAgICAgICAgLmxvYWRDb25maWdBbmRNYXliZVJlbmRlckJvb2tlbmQoZmFsc2UgLyoqIHJlbmRlckJvb2tlbmQgKi8pLnRoZW4oXG4gICAgICAgICAgICBjb25maWcgPT4gISEoY29uZmlnICYmIGNvbmZpZy5jb21wb25lbnRzICYmXG4gICAgICAgICAgICAgIGNvbmZpZy5jb21wb25lbnRzLmxlbmd0aCA+IDApKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHBhZ2Ugd2hvc2UgaW5kZXggc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHBhZ2UuXG4gICAqL1xuICBnZXRQYWdlSW5kZXhCeUlkKGlkKSB7XG4gICAgY29uc3QgcGFnZUluZGV4ID0gZmluZEluZGV4KHRoaXMucGFnZXNfLCBwYWdlID0+IHBhZ2UuZWxlbWVudC5pZCA9PT0gaWQpO1xuICAgIGlmIChwYWdlSW5kZXggPCAwKSB7XG4gICAgICB1c2VyKCkuZXJyb3IoVEFHLFxuICAgICAgICAgIGBTdG9yeSByZWZlcnMgdG8gcGFnZSBcIiR7aWR9XCIsIGJ1dCBubyBzdWNoIHBhZ2UgZXhpc3RzLmApO1xuICAgIH1cblxuICAgIHJldHVybiBwYWdlSW5kZXg7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBwYWdlIHRvIGJlIHJldHJpZXZlZC5cbiAgICogQHJldHVybiB7IS4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSBSZXRyaWV2ZXMgdGhlIHBhZ2Ugd2l0aCB0aGVcbiAgICogICAgIHNwZWNpZmllZCBJRC5cbiAgICovXG4gIGdldFBhZ2VCeUlkKGlkKSB7XG4gICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5nZXRQYWdlSW5kZXhCeUlkKGlkKTtcbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0KHRoaXMucGFnZXNfW3BhZ2VJbmRleF0sXG4gICAgICAgIGBQYWdlIGF0IGluZGV4ICR7cGFnZUluZGV4fSBleGlzdHMsIGJ1dCBpcyBtaXNzaW5nIGZyb20gdGhlIGFycmF5LmApO1xuICB9XG5cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0UGFnZUNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLnBhZ2VzXy5sZW5ndGggLSB0aGlzLmFkUGFnZXNfLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZX0gZGVzaXJlZFBhZ2VcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHBhZ2UuXG4gICAqL1xuICBnZXRQYWdlSW5kZXgoZGVzaXJlZFBhZ2UpIHtcbiAgICByZXR1cm4gZmluZEluZGV4KHRoaXMucGFnZXNfLCBwYWdlID0+IHBhZ2UgPT09IGRlc2lyZWRQYWdlKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgcGFnZSBjb250YWluaW5nIHRoZSBlbGVtZW50LCBvciBudWxsLiBBIGJhY2tncm91bmQgYXVkaW9cbiAgICogc2V0IG9uIHRoZSA8YW1wLXN0b3J5PiB0YWcgd291bGQgbm90IGJlIGNvbnRhaW5lZCBpbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hvc2UgY29udGFpbmluZyBBbXBTdG9yeVBhZ2Ugc2hvdWxkXG4gICAqICAgICBiZSByZXRyaWV2ZWRcbiAgICogQHJldHVybiB7Py4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSBUaGUgQW1wU3RvcnlQYWdlIGNvbnRhaW5pbmcgdGhlXG4gICAqICAgICBzcGVjaWZpZWQgZWxlbWVudCwgaWYgYW55LlxuICAgKi9cbiAgZ2V0UGFnZUNvbnRhaW5pbmdFbGVtZW50XyhlbGVtZW50KSB7XG4gICAgY29uc3QgcGFnZUluZGV4ID0gZmluZEluZGV4KHRoaXMucGFnZXNfLCBwYWdlID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VFbCA9IGNsb3Nlc3QoZWxlbWVudCwgZWwgPT4ge1xuICAgICAgICByZXR1cm4gZWwgPT09IHBhZ2UuZWxlbWVudDtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gISFwYWdlRWw7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5wYWdlc19bcGFnZUluZGV4XSB8fCBudWxsO1xuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldEVsZW1lbnREaXN0YW5jZShlbGVtZW50KSB7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZUNvbnRhaW5pbmdFbGVtZW50XyhlbGVtZW50KTtcblxuICAgIC8vIEFuIGVsZW1lbnQgbm90IGNvbnRhaW5lZCBpbiBhIHBhZ2UgaXMgbGlrZWx5IHRvIGJlIGdsb2JhbCB0byB0aGUgc3RvcnksXG4gICAgLy8gbGlrZSBhIGJhY2tncm91bmQgYXVkaW8uIFNldHRpbmcgdGhlIGRpc3RhbmNlIHRvIC0xIGVuc3VyZXMgaXQgd2lsbCBub3RcbiAgICAvLyBnZXQgZXZpY3RlZCBmcm9tIHRoZSBtZWRpYSBwb29sLlxuICAgIGlmICghcGFnZSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiBwYWdlLmdldERpc3RhbmNlKCk7XG4gIH1cblxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0TWF4TWVkaWFFbGVtZW50Q291bnRzKCkge1xuICAgIGxldCBhdWRpb01lZGlhRWxlbWVudHNDb3VudCA9XG4gICAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhbXAtYXVkaW8sIFtiYWNrZ3JvdW5kLWF1ZGlvXScpLmxlbmd0aDtcbiAgICBjb25zdCB2aWRlb01lZGlhRWxlbWVudHNDb3VudCA9XG4gICAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhbXAtdmlkZW8nKS5sZW5ndGg7XG5cbiAgICAvLyBUaGUgcm9vdCBlbGVtZW50IChhbXAtc3RvcnkpIG1pZ2h0IGhhdmUgYSBiYWNrZ3JvdW5kLWF1ZGlvIGFzIHdlbGwuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2JhY2tncm91bmQtYXVkaW8nKSkge1xuICAgICAgYXVkaW9NZWRpYUVsZW1lbnRzQ291bnQrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgW01lZGlhVHlwZS5BVURJT106IE1hdGgubWluKFxuICAgICAgICAgIGF1ZGlvTWVkaWFFbGVtZW50c0NvdW50ICsgTUlOSU1VTV9BRF9NRURJQV9FTEVNRU5UUyxcbiAgICAgICAgICBNQVhfTUVESUFfRUxFTUVOVF9DT1VOVFNbTWVkaWFUeXBlLkFVRElPXSksXG4gICAgICBbTWVkaWFUeXBlLlZJREVPXTogTWF0aC5taW4oXG4gICAgICAgICAgdmlkZW9NZWRpYUVsZW1lbnRzQ291bnQgKyBNSU5JTVVNX0FEX01FRElBX0VMRU1FTlRTLFxuICAgICAgICAgIE1BWF9NRURJQV9FTEVNRU5UX0NPVU5UU1tNZWRpYVR5cGUuVklERU9dKSxcbiAgICB9O1xuICB9XG5cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gbXV0ZWQgc3RhdGUgdXBkYXRlcy5cbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gaXNNdXRlZCBXaGV0aGVyIHRoZSBzdG9yeSBqdXN0IGdvdCBtdXRlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uTXV0ZWRTdGF0ZVVwZGF0ZV8oaXNNdXRlZCkge1xuICAgIGlzTXV0ZWQgPyB0aGlzLm11dGVfKCkgOiB0aGlzLnVubXV0ZV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNdXRlcyB0aGUgYXVkaW8gZm9yIHRoZSBzdG9yeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG11dGVfKCkge1xuICAgIHRoaXMucGF1c2VCYWNrZ3JvdW5kQXVkaW9fKCk7XG4gICAgaWYgKHRoaXMuYWN0aXZlUGFnZV8pIHtcbiAgICAgIHRoaXMuYWN0aXZlUGFnZV8ubXV0ZUFsbE1lZGlhKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhdXNlcyB0aGUgYmFja2dyb3VuZCBhdWRpby5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBhdXNlQmFja2dyb3VuZEF1ZGlvXygpIHtcbiAgICBpZiAoIXRoaXMuYmFja2dyb3VuZEF1ZGlvRWxfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubWVkaWFQb29sXy5wYXVzZSh0aGlzLmJhY2tncm91bmRBdWRpb0VsXyk7XG4gIH1cblxuICAvKipcbiAgICogVW5tdXRlcyB0aGUgYXVkaW8gZm9yIHRoZSBzdG9yeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubXV0ZV8oKSB7XG4gICAgY29uc3QgdW5tdXRlQWxsTWVkaWEgPSAoKSA9PiB7XG4gICAgICB0aGlzLnBsYXlCYWNrZ3JvdW5kQXVkaW9fKCk7XG4gICAgICBpZiAodGhpcy5hY3RpdmVQYWdlXykge1xuICAgICAgICB0aGlzLmFjdGl2ZVBhZ2VfLnVubXV0ZUFsbE1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubWVkaWFQb29sXy5ibGVzc0FsbCgpXG4gICAgICAgIC50aGVuKHVubXV0ZUFsbE1lZGlhLCB1bm11dGVBbGxNZWRpYSk7XG4gIH1cblxuICAvKipcbiAgICogVW5tdXRlcyBhbmQgcGxheXMgdGhlIGJhY2tncm91bmQgYXVkaW8uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwbGF5QmFja2dyb3VuZEF1ZGlvXygpIHtcbiAgICBpZiAoIXRoaXMuYmFja2dyb3VuZEF1ZGlvRWxfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubWVkaWFQb29sXy51bm11dGUodGhpcy5iYWNrZ3JvdW5kQXVkaW9FbF8pO1xuICAgIHRoaXMubWVkaWFQb29sXy5wbGF5KHRoaXMuYmFja2dyb3VuZEF1ZGlvRWxfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgYXVkaW8gaWNvbiBpZiB0aGUgc3RvcnkgaGFzIGFueSBtZWRpYSBlbGVtZW50cyBjb250YWluaW5nIGF1ZGlvLFxuICAgKiBvciBiYWNrZ3JvdW5kIGF1ZGlvIGF0IHRoZSBzdG9yeSBvciBwYWdlIGxldmVsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlQXVkaW9JY29uXygpIHtcbiAgICBjb25zdCBjb250YWluc01lZGlhRWxlbWVudFdpdGhBdWRpbyA9ICEhdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICdhbXAtYXVkaW8sIGFtcC12aWRlbzpub3QoW25vYXVkaW9dKSwgW2JhY2tncm91bmQtYXVkaW9dJyk7XG4gICAgY29uc3QgaGFzU3RvcnlBdWRpbyA9IHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2JhY2tncm91bmQtYXVkaW8nKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0hBU19BVURJTyxcbiAgICAgICAgY29udGFpbnNNZWRpYUVsZW1lbnRXaXRoQXVkaW8gfHwgaGFzU3RvcnlBdWRpbyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVwbGF5XygpIHtcbiAgICBpZiAodGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkJPT0tFTkRfU1RBVEUpKSB7XG4gICAgICB0aGlzLmhpZGVCb29rZW5kXygpO1xuICAgIH1cbiAgICBjb25zdCBzd2l0Y2hQcm9taXNlID0gdGhpcy5zd2l0Y2hUb18oXG4gICAgICAgIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5wYWdlc19bMF0uZWxlbWVudCkuaWQpO1xuXG4gICAgLy8gUmVzZXQgYWxsIHBhZ2VzIHNvIHRoYXQgdGhleSBhcmUgb2Zmc2NyZWVuIHRvIHJpZ2h0IGluc3RlYWQgb2YgbGVmdCBpblxuICAgIC8vIGRlc2t0b3Agdmlldy5cbiAgICBzd2l0Y2hQcm9taXNlLnRoZW4oKCgpID0+IHtcbiAgICAgIHRoaXMucGFnZXNfLmZvckVhY2gocGFnZSA9PlxuICAgICAgICByZW1vdmVBdHRyaWJ1dGVJbk11dGF0ZShwYWdlLCBBdHRyaWJ1dGVzLlZJU0lURUQpKTtcbiAgICB9KSk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IU5hdmlnYXRpb25TdGF0ZX0gKi9cbiAgZ2V0TmF2aWdhdGlvblN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLm5hdmlnYXRpb25TdGF0ZV87XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBZGQgcGFnZSB0byBiYWNrIG9mIHBhZ2VzXyBhcnJheVxuICAgKiBAcGFyYW0geyEuL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZX0gcGFnZVxuICAgKi9cbiAgYWRkUGFnZShwYWdlKSB7XG4gICAgdGhpcy5wYWdlc18ucHVzaChwYWdlKTtcblxuICAgIGlmIChwYWdlLmlzQWQoKSkge1xuICAgICAgdGhpcy5hZFBhZ2VzXy5wdXNoKHBhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnQgYSBuZXcgcGFnZSBpbiBuYXZpZ2F0aW9uIGZsb3cgYnkgY2hhbmdpbmcgdGhlIGF0dHIgcG9pbnRlcnNcbiAgICogb24gYW1wLXN0b3J5LXBhZ2UgZWxlbWVudHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhZ2VCZWZvcmVJZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZVRvQmVJbnNlcnRlZElkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHdhcyBwYWdlIGluc2VydGVkXG4gICAqL1xuICBpbnNlcnRQYWdlKHBhZ2VCZWZvcmVJZCwgcGFnZVRvQmVJbnNlcnRlZElkKSB7XG4gICAgLy8gVE9ETyhjY29yZHJ5KTogbWFrZSBzdXJlIHRoaXMgbWV0aG9kIG1vdmVzIHRvIFBhZ2VNYW5hZ2VyIHdoZW5cbiAgICAvLyBpbXBsZW1lbnRlZFxuICAgIGNvbnN0IHBhZ2VUb0JlSW5zZXJ0ZWQgPSB0aGlzLmdldFBhZ2VCeUlkKHBhZ2VUb0JlSW5zZXJ0ZWRJZCk7XG4gICAgY29uc3QgcGFnZVRvQmVJbnNlcnRlZEVsID0gcGFnZVRvQmVJbnNlcnRlZC5lbGVtZW50O1xuXG4gICAgaWYgKHBhZ2VUb0JlSW5zZXJ0ZWQuaXNBZCgpICYmXG4gICAgICAgICF0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuQ0FOX0lOU0VSVF9BVVRPTUFUSUNfQUQpKSB7XG4gICAgICBkZXYoKS5leHBlY3RlZEVycm9yKFRBRywgJ0luc2VydGluZyBhZHMgYXV0b21hdGljYWxseSBpcyBkaXNhbGxvd2VkLicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VCZWZvcmUgPSB0aGlzLmdldFBhZ2VCeUlkKHBhZ2VCZWZvcmVJZCk7XG4gICAgY29uc3QgcGFnZUJlZm9yZUVsID0gcGFnZUJlZm9yZS5lbGVtZW50O1xuXG4gICAgY29uc3QgbmV4dFBhZ2UgPSB0aGlzLmdldE5leHRQYWdlKHBhZ2VCZWZvcmUpO1xuXG4gICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHBhZ2VCZWZvcmVFbC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5BRFZBTkNFX1RPLCBwYWdlVG9CZUluc2VydGVkSWQpO1xuICAgIHBhZ2VCZWZvcmVFbC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5BVVRPX0FEVkFOQ0VfVE8sIHBhZ2VUb0JlSW5zZXJ0ZWRJZCk7XG4gICAgcGFnZVRvQmVJbnNlcnRlZEVsLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLlJFVFVSTl9UTywgcGFnZUJlZm9yZUlkKTtcblxuICAgIGNvbnN0IG5leHRQYWdlRWwgPSBuZXh0UGFnZS5lbGVtZW50O1xuICAgIGNvbnN0IG5leHRQYWdlSWQgPSBuZXh0UGFnZUVsLmlkO1xuICAgIHBhZ2VUb0JlSW5zZXJ0ZWRFbC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5BRFZBTkNFX1RPLCBuZXh0UGFnZUlkKTtcbiAgICBwYWdlVG9CZUluc2VydGVkRWwuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuQVVUT19BRFZBTkNFX1RPLCBuZXh0UGFnZUlkKTtcbiAgICBuZXh0UGFnZUVsLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLlJFVFVSTl9UTywgcGFnZVRvQmVJbnNlcnRlZElkKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBuZXh0IHBhZ2Ugb2JqZWN0XG4gICAqIEBwYXJhbSB7IS4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSBwYWdlXG4gICAqIEByZXR1cm4gez8uL2FtcC1zdG9yeS1wYWdlLkFtcFN0b3J5UGFnZX1cbiAgICovXG4gIGdldE5leHRQYWdlKHBhZ2UpIHtcbiAgICBjb25zdCBuZXh0UGFnZUlkID0gcGFnZS5nZXROZXh0UGFnZUlkKHRydWUgLypvcHRfaXNBdXRvbWF0aWNBZHZhbmNlICovKTtcbiAgICBpZiAoIW5leHRQYWdlSWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQYWdlQnlJZChuZXh0UGFnZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSB1c2VyJ3MgYnJvd3NlciBzdXBwb3J0cyB0aGUgZmVhdHVyZXMgbmVlZGVkXG4gICAqICAgICBmb3IgYW1wLXN0b3J5LlxuICAgKi9cbiAgc3RhdGljIGlzQnJvd3NlclN1cHBvcnRlZCh3aW4pIHtcbiAgICByZXR1cm4gQm9vbGVhbih3aW4uQ1NTICYmIHdpbi5DU1Muc3VwcG9ydHMgJiZcbiAgICB3aW4uQ1NTLnN1cHBvcnRzKCdkaXNwbGF5JywgJ2dyaWQnKSk7XG4gIH1cbn1cblxuQU1QLmV4dGVuc2lvbignYW1wLXN0b3J5JywgJzEuMCcsIEFNUCA9PiB7XG4gIEFNUC5yZWdpc3RlckVsZW1lbnQoJ2FtcC1zdG9yeScsIEFtcFN0b3J5LCBDU1MpO1xuICBBTVAucmVnaXN0ZXJFbGVtZW50KCdhbXAtc3RvcnktYWNjZXNzJywgQW1wU3RvcnlBY2Nlc3MpO1xuICBBTVAucmVnaXN0ZXJFbGVtZW50KCdhbXAtc3RvcnktYm9va2VuZCcsIEFtcFN0b3J5Qm9va2VuZCk7XG4gIEFNUC5yZWdpc3RlckVsZW1lbnQoJ2FtcC1zdG9yeS1jb25zZW50JywgQW1wU3RvcnlDb25zZW50KTtcbiAgQU1QLnJlZ2lzdGVyRWxlbWVudCgnYW1wLXN0b3J5LWN0YS1sYXllcicsIEFtcFN0b3J5Q3RhTGF5ZXIpO1xuICBBTVAucmVnaXN0ZXJFbGVtZW50KCdhbXAtc3RvcnktZ3JpZC1sYXllcicsIEFtcFN0b3J5R3JpZExheWVyKTtcbiAgQU1QLnJlZ2lzdGVyRWxlbWVudCgnYW1wLXN0b3J5LXBhZ2UnLCBBbXBTdG9yeVBhZ2UpO1xufSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1N0YXRlQ2hhbmdlVHlwZX0gZnJvbSAnLi9uYXZpZ2F0aW9uLXN0YXRlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7dHJpZ2dlckFuYWx5dGljc0V2ZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvYW5hbHl0aWNzJztcblxuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmNvbnN0IEV2ZW50cyA9IHtcbiAgUEFHRV9WSVNJQkxFOiAnc3RvcnktcGFnZS12aXNpYmxlJyxcbiAgQk9PS0VORF9FTlRFUjogJ3N0b3J5LWJvb2tlbmQtZW50ZXInLFxuICBCT09LRU5EX0VYSVQ6ICdzdG9yeS1ib29rZW5kLWV4aXQnLFxuICBTVE9SWV9NVVRFRDogJ3N0b3J5LWF1ZGlvLW11dGVkJyxcbiAgU1RPUllfVU5NVVRFRDogJ3N0b3J5LWF1ZGlvLXVubXV0ZWQnLFxufTtcblxuXG4vKipcbiAqIEludGVybWVkaWF0ZSBoYW5kbGVyIGZvciBhbXAtc3Rvcnkgc3BlY2lmaWMgYW5hbHl0aWNzLlxuICovXG5leHBvcnQgY2xhc3MgQW1wU3RvcnlBbmFseXRpY3Mge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBlbGVtZW50KSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi9uYXZpZ2F0aW9uLXN0YXRlLlN0YXRlQ2hhbmdlRXZlbnREZWZ9IHN0YXRlQ2hhbmdlRXZlbnRcbiAgICovXG4gIG9uTmF2aWdhdGlvblN0YXRlQ2hhbmdlKHN0YXRlQ2hhbmdlRXZlbnQpIHtcbiAgICBzd2l0Y2ggKHN0YXRlQ2hhbmdlRXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuQUNUSVZFX1BBR0U6XG4gICAgICAgICAgdGhpcy50cmlnZ2VyRXZlbnRfKEV2ZW50cy5QQUdFX1ZJU0lCTEUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGVDaGFuZ2VUeXBlLkJPT0tFTkRfRU5URVI6XG4gICAgICAgIHRoaXMudHJpZ2dlckV2ZW50XyhFdmVudHMuQk9PS0VORF9FTlRFUik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0ZUNoYW5nZVR5cGUuQk9PS0VORF9FWElUOlxuICAgICAgICAgIHRoaXMudHJpZ2dlckV2ZW50XyhFdmVudHMuQk9PS0VORF9FWElUKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNdXRlZFxuICAgKi9cbiAgb25NdXRlZFN0YXRlQ2hhbmdlKGlzTXV0ZWQpIHtcbiAgICBjb25zdCBldmVudCA9IGlzTXV0ZWQgPyBFdmVudHMuU1RPUllfTVVURUQgOiBFdmVudHMuU1RPUllfVU5NVVRFRDtcbiAgICB0aGlzLnRyaWdnZXJFdmVudF8oZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXJFdmVudF8oZXZlbnRUeXBlKSB7XG4gICAgY29uc3QgdmFyaWFibGVzUHJvbWlzZSA9IFNlcnZpY2VzLnN0b3J5VmFyaWFibGVTZXJ2aWNlRm9yT3JOdWxsKHRoaXMud2luXyk7XG4gICAgdmFyaWFibGVzUHJvbWlzZS50aGVuKFxuICAgICAgICB2YXJpYWJsZXMgPT4ge1xuICAgICAgICAgIHRyaWdnZXJBbmFseXRpY3NFdmVudCh0aGlzLmVsZW1lbnRfLCBldmVudFR5cGUsXG4gICAgICAgICAgICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59ICovICh2YXJpYWJsZXMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVhc29uID0+IHtcbiAgICAgICAgICBkZXYoKS5lcnJvcignQU1QLVNUT1JZJywgJ0NvdWxkIG5vdCBnZXQgYW5hbHl0aWNzIHZhcmlhYmxlcycsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbW1vbiBhbmltYXRpb25zIHV0aWxpdHkgZnVuY3Rpb25zIHVzZWQgaW4gdGhlIGFuaW1hdGlvblxuICogcHJlc2V0cy5cbiAqL1xuXG5pbXBvcnQge1xuICBLZXlmcmFtZXNEZWYsXG4gIFN0b3J5QW5pbWF0aW9uRGltc0RlZixcbn0gZnJvbSAnLi9hbmltYXRpb24tdHlwZXMnO1xuaW1wb3J0IHtcbiAgcm90YXRlLFxuICBzY2FsZSxcbiAgdHJhbnNsYXRlLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuXG4vKipcbiAqIFRyYW5zbGF0ZXMgdGhlIGVsZW1lbnQgb24gdGhlIDJkIHBsYW5lIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gcG9pbnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBTdGFydGluZyBwb2ludCBpbiB0aGUgYWJzY2lzc2EuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIFN0YXJ0aW5nIHBvaW50IGluIHRoZSBvcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRYIEVuZGluZyBwb2ludCBpbiB0aGUgYWJzY2lzc2EuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kWSBFbmRpbmcgcG9pbnQgaW4gdGhlIG9yZGluYXRlLlxuICogQHJldHVybiB7S2V5ZnJhbWVzRGVmfSBLZXlmcmFtZXMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUyZChzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuICByZXR1cm4gW1xuICAgIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZShzdGFydFgsIHN0YXJ0WSl9LFxuICAgIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZShlbmRYLCBlbmRZKX0sXG4gIF07XG59XG5cbi8qKlxuICogVHJhbnNsYXRlcyBhbmQgcm90YXRlcyB0aGUgZWxlbWVudCBvbiB0aGUgMmQgcGxhbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIFN0YXJ0aW5nIHBvaW50IGluIHRoZSBhYnNjaXNzYS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgU3RhcnRpbmcgcG9pbnQgaW4gdGhlIG9yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFggRW5kaW5nIHBvaW50IGluIHRoZSBhYnNjaXNzYS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRZIEVuZGluZyBwb2ludCBpbiB0aGUgb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIC0xIGZvciBsZWZ0LCAxIGZvciByaWdodFxuICogQHJldHVybiB7S2V5ZnJhbWVzRGVmfSBLZXlmcmFtZXMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBbmRUcmFuc2xhdGUoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksIGRpcmVjdGlvbikge1xuICByZXR1cm4gW1xuICAgIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZShzdGFydFgsIHN0YXJ0WSkgKyAnICcgKyByb3RhdGUoZGlyZWN0aW9uICogMzYwKX0sXG4gICAge3RyYW5zZm9ybTogdHJhbnNsYXRlKGVuZFgsIGVuZFkpICsgJyAnICsgcm90YXRlKDApfSxcbiAgXTtcbn1cblxuLyoqXG4gKiBHcmFkdWFsbHkgc2hvd3MgYW5kIGdyb3dzIHRoZSBlbGVtZW50IHdoaWxlIHRyYW5zbGF0aW5nIGl0IG9uIHRoZSAyZCBwbGFuZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggU3RhcnRpbmcgcG9pbnQgaW4gdGhlIGFic2Npc3NhLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSBTdGFydGluZyBwb2ludCBpbiB0aGUgb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kWCBFbmRpbmcgcG9pbnQgaW4gdGhlIGFic2Npc3NhLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFkgRW5kaW5nIHBvaW50IGluIHRoZSBvcmRpbmF0ZS5cbiAqIEByZXR1cm4ge0tleWZyYW1lc0RlZn0gS2V5ZnJhbWVzIHRoYXQgbWFrZSB1cCB0aGUgYW5pbWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hvb3NoSW4oc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpIHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoc3RhcnRYLCBzdGFydFkpICsgJyAnICsgc2NhbGUoMC4xNSksXG4gICAgfSxcbiAgICB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoZW5kWCwgZW5kWSkgKyAnICcgKyBzY2FsZSgxKSxcbiAgICB9LFxuICBdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBlaXRoZXIgb2YgdGhlIHRhcmdldCdzIGRpbWVuc2lvbnMgYXJlIHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b1xuICogdGhvc2Ugb2YgdGhlIHBhZ2UuXG4gKiBAcGFyYW0ge1N0b3J5QW5pbWF0aW9uRGltc0RlZn0gZGltZW5zaW9ucyBEaW1lbnNpb25zIG9mIHBhZ2UgYW5kIHRhcmdldC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldEZpdHNXaXRoaW5QYWdlKGRpbWVuc2lvbnMpIHtcbiAgcmV0dXJuIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggPD0gZGltZW5zaW9ucy5wYWdlV2lkdGggfHxcbiAgICAgICAgIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0IDw9IGRpbWVuc2lvbnMucGFnZUhlaWdodDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGFyZ2V0IHNjYWxpbmcgZmFjdG9yIHNvIHRoYXQgaXQgaXMgYXQgbGVhc3QgMjUlIGxhcmdlciB0aGFuIHRoZVxuICogcGFnZS5cbiAqIEBwYXJhbSB7U3RvcnlBbmltYXRpb25EaW1zRGVmfSBkaW1lbnNpb25zIERpbWVuc2lvbnMgb2YgcGFnZSBhbmQgdGFyZ2V0LlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcihkaW1lbnNpb25zKSB7XG4gIGlmICh0YXJnZXRGaXRzV2l0aGluUGFnZShkaW1lbnNpb25zKSkge1xuICAgIGNvbnN0IHNjYWxpbmdGYWN0b3IgPSAxLjI1O1xuICAgIGNvbnN0IHdpZHRoRmFjdG9yID0gZGltZW5zaW9ucy5wYWdlV2lkdGggPiBkaW1lbnNpb25zLnRhcmdldFdpZHRoID9cbiAgICAgIGRpbWVuc2lvbnMucGFnZVdpZHRoIC8gZGltZW5zaW9ucy50YXJnZXRXaWR0aCA6IDE7XG4gICAgY29uc3QgaGVpZ2h0RmFjdG9yID0gZGltZW5zaW9ucy5wYWdlSGVpZ2h0ID4gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgP1xuICAgICAgZGltZW5zaW9ucy5wYWdlSGVpZ2h0IC8gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQgOiAxO1xuICAgIHJldHVybiBNYXRoLm1heCh3aWR0aEZhY3RvciwgaGVpZ2h0RmFjdG9yKSAqIHNjYWxpbmdGYWN0b3I7XG4gIH1cbiAgcmV0dXJuIDE7XG59XG5cbi8qKlxuICogU2NhbGUgdGhlIGltYWdlIGluIGV2ZXJ5IGZyYW1lIGJ5IGEgY2VydGFpbiBmYWN0b3IuXG4gKiBAcGFyYW0ge0tleWZyYW1lc0RlZn0ga2V5ZnJhbWVzIEtleWZyYW1lcyB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsaW5nRmFjdG9yIFNjYWxpbmcgZmFjdG9yIGF0IHdoaWNoIHRhcmdldCB3aWxsIGJlIHNjYWxlZC5cbiAqIEByZXR1cm4ge0tleWZyYW1lc0RlZn1cbiAqL1xuZnVuY3Rpb24gZW5sYXJnZUtleUZyYW1lcyhrZXlmcmFtZXMsIHNjYWxpbmdGYWN0b3IpIHtcbiAga2V5ZnJhbWVzLmZvckVhY2goZnJhbWUgPT4ge1xuICAgIGZyYW1lWyd0cmFuc2Zvcm0nXSArPSAnICcgKyBzY2FsZShzY2FsaW5nRmFjdG9yKTtcbiAgICBmcmFtZVsndHJhbnNmb3JtLW9yaWdpbiddID0gJ2xlZnQgdG9wJztcbiAgfSk7XG4gIHJldHVybiBrZXlmcmFtZXM7XG59XG5cbi8qKlxuICogVHJhbnNsYXRlcyB0aGUgZWxlbWVudCBhbmQgc2NhbGVzIGl0IGlmIG5lY2Vzc2FyeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggU3RhcnRpbmcgcG9pbnQgaW4gdGhlIGFic2Npc3NhLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSBTdGFydGluZyBwb2ludCBpbiB0aGUgb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kWCBFbmRpbmcgcG9pbnQgaW4gdGhlIGFic2Npc3NhLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFkgRW5kaW5nIHBvaW50IGluIHRoZSBvcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsaW5nRmFjdG9yIEZhY3RvciBieSB3aGljaCB0YXJnZXQgd2lsbCBiZSBzY2FsZWQuXG4gKiBAcmV0dXJuIHtLZXlmcmFtZXNEZWZ9IEtleWZyYW1lcyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kVHJhbnNsYXRlKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZLCBzY2FsaW5nRmFjdG9yKSB7XG4gIGlmIChzY2FsaW5nRmFjdG9yID09PSAxKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZTJkKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKTtcbiAgfVxuICByZXR1cm4gZW5sYXJnZUtleUZyYW1lcyhcbiAgICAgIHRyYW5zbGF0ZTJkKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSwgc2NhbGluZ0ZhY3Rvcik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtHUklEX0xBWUVSX1RFTVBMQVRFX0NMQVNTX05BTUVTfSBmcm9tICcuL2FtcC1zdG9yeS1ncmlkLWxheWVyJztcbmltcG9ydCB7U3RvcnlBbmltYXRpb25QcmVzZXREZWZ9IGZyb20gJy4vYW5pbWF0aW9uLXR5cGVzJztcbmltcG9ydCB7XG4gIGNhbGN1bGF0ZVRhcmdldFNjYWxpbmdGYWN0b3IsXG4gIHJvdGF0ZUFuZFRyYW5zbGF0ZSxcbiAgc2NhbGVBbmRUcmFuc2xhdGUsXG4gIHRyYW5zbGF0ZTJkLFxuICB3aG9vc2hJbixcbn0gZnJvbSAnLi9hbmltYXRpb24tcHJlc2V0cy11dGlscyc7XG5pbXBvcnQge3B4fSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuXG5jb25zdCBGVUxMX0JMRUVEX0NBVEVHT1JZID0gJ2Z1bGwtYmxlZWQnO1xuY29uc3QgRklMTF9URU1QTEFURV9MQVlPVVQgPSAnZmlsbCc7XG5cbi8qKlxuICogQSBsaXN0IG9mIGFuaW1hdGlvbnMgdGhhdCBhcmUgZnVsbCBibGVlZC5cbiAqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PHN0cmluZz59XG4gKi9cbmNvbnN0IEZVTExfQkxFRURfQU5JTUFUSU9OX05BTUVTID0gW1xuICAncGFuLXVwJyxcbiAgJ3Bhbi1kb3duJyxcbiAgJ3Bhbi1yaWdodCcsXG4gICdwYW4tbGVmdCcsXG4gICd6b29tLWluJyxcbiAgJ3pvb20tb3V0Jyxcbl07XG5cbi8qKlxuICogQSBtYXBwaW5nIG9mIGFuaW1hdGlvbiBjYXRlZ29yaWVzIHRvIGNvcnJlc3BvbmRpbmcgQ1NTIGNsYXNzIG5hbWVzLlxuICogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuY29uc3QgQU5JTUFUSU9OX0NTU19DTEFTU19OQU1FUyA9IHtcbiAgW0ZVTExfQkxFRURfQ0FURUdPUlldOlxuICAgICAgJ2ktYW1waHRtbC1zdG9yeS1ncmlkLXRlbXBsYXRlLXdpdGgtZnVsbC1ibGVlZC1hbmltYXRpb24nLFxufTtcblxuLyoqXG4gKiBQZXJmb3JtIHN0eWxlLXNwZWNpZmljIG9wZXJhdGlvbnMgZm9yIHByZXNldHMuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICogQHBhcmFtIHtzdHJpbmd9IHByZXNldE5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN0eWxlRm9yUHJlc2V0KGVsLCBwcmVzZXROYW1lKSB7XG4gIC8vIEZvciBmdWxsIGJsZWVkIGFuaW1hdGlvbnMuXG4gIGlmIChGVUxMX0JMRUVEX0FOSU1BVElPTl9OQU1FUy5pbmRleE9mKHByZXNldE5hbWUpID49IDApIHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgICBHUklEX0xBWUVSX1RFTVBMQVRFX0NMQVNTX05BTUVTW0ZJTExfVEVNUExBVEVfTEFZT1VUXSkpIHtcbiAgICAgIHBhcmVudC5jbGFzc0xpc3RcbiAgICAgICAgICAucmVtb3ZlKEdSSURfTEFZRVJfVEVNUExBVEVfQ0xBU1NfTkFNRVNbRklMTF9URU1QTEFURV9MQVlPVVRdKTtcbiAgICB9XG4gICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoQU5JTUFUSU9OX0NTU19DTEFTU19OQU1FU1tGVUxMX0JMRUVEX0NBVEVHT1JZXSk7XG4gIH1cbn1cblxuLyoqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFTdG9yeUFuaW1hdGlvblByZXNldERlZj59ICovXG4vLyBGaXJzdCBrZXlmcmFtZSB3aWxsIGFsd2F5cyBiZSBjb25zaWRlcmVkIG9mZnNldDogMCBhbmQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZVxuLy8gZWxlbWVudCBhcyB0aGUgZmlyc3QgZnJhbWUgYmVmb3JlIGFuaW1hdGlvbiBzdGFydHMuXG5leHBvcnQgY29uc3QgUFJFU0VUUyA9IHtcbiAgJ3B1bHNlJzoge1xuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICBrZXlmcmFtZXM6IFtcbiAgICAgIHtcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvZmZzZXQ6IDAuMjUsXG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuOTUpJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9mZnNldDogMC43NSxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMS4wNSknLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gICdmbHktaW4tbGVmdCc6IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IC0oZGltZW5zaW9ucy50YXJnZXRYICsgZGltZW5zaW9ucy50YXJnZXRXaWR0aCk7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlMmQob2Zmc2V0WCwgMCwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ2ZseS1pbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9IGRpbWVuc2lvbnMucGFnZVdpZHRoIC0gZGltZW5zaW9ucy50YXJnZXRYO1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZTJkKG9mZnNldFgsIDAsIDAsIDApO1xuICAgIH0sXG4gIH0sXG4gICdmbHktaW4tdG9wJzoge1xuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBvZmZzZXRZID0gLShkaW1lbnNpb25zLnRhcmdldFkgKyBkaW1lbnNpb25zLnRhcmdldEhlaWdodCk7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlMmQoMCwgb2Zmc2V0WSwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ2ZseS1pbi1ib3R0b20nOiB7XG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSBkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLSBkaW1lbnNpb25zLnRhcmdldFk7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlMmQoMCwgb2Zmc2V0WSwgMCwgMCk7XG4gICAgfSxcbiAgfSxcbiAgJ3JvdGF0ZS1pbi1sZWZ0Jzoge1xuICAgIGR1cmF0aW9uOiA3MDAsXG4gICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBvZmZzZXRYID0gLShkaW1lbnNpb25zLnRhcmdldFggKyBkaW1lbnNpb25zLnRhcmdldFdpZHRoKTtcbiAgICAgIHJldHVybiByb3RhdGVBbmRUcmFuc2xhdGUob2Zmc2V0WCwgMCwgMCwgMCwgLTEpO1xuICAgIH0sXG4gIH0sXG4gICdyb3RhdGUtaW4tcmlnaHQnOiB7XG4gICAgZHVyYXRpb246IDcwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCAtIGRpbWVuc2lvbnMudGFyZ2V0WDtcbiAgICAgIHJldHVybiByb3RhdGVBbmRUcmFuc2xhdGUob2Zmc2V0WCwgMCwgMCwgMCwgMSk7XG4gICAgfSxcbiAgfSxcbiAgJ2ZhZGUtaW4nOiB7XG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzOiBbXG4gICAgICB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICAnZHJvcCc6IHtcbiAgICBkdXJhdGlvbjogMTYwMCxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3QgbWF4Qm91bmNlSGVpZ2h0ID1cbiAgICAgICAgICBNYXRoLm1heCgxNjAsIGRpbWVuc2lvbnMudGFyZ2V0WSArIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0KTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7cHgoLW1heEJvdW5jZUhlaWdodCl9KWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC43NSwuMDUsLjg2LC4wOCknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjMsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC4yMiwuNjEsLjM1LDEpJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMC41MixcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7cHgoLTAuNiAqIG1heEJvdW5jZUhlaWdodCl9KWAsXG4gICAgICAgICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC43NSwuMDUsLjg2LC4wOCknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAwLjc0LFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllciguMjIsLjYxLC4zNSwxKScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvZmZzZXQ6IDAuODMsXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3B4KC0wLjMgKiBtYXhCb3VuY2VIZWlnaHQpfSlgLFxuICAgICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllciguNzUsLjA1LC44NiwuMDgpJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJyxcbiAgICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjIyLC42MSwuMzUsMSknLFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9LFxuICB9LFxuICAndHdpcmwtaW4nOiB7XG4gICAgZHVyYXRpb246IDEwMDAsXG4gICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKC4yLC43NSwuNCwxKScsXG4gICAga2V5ZnJhbWVzOiBbXG4gICAgICB7XG4gICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNTQwZGVnKSBzY2FsZSgwLjEpJyxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRyYW5zZm9ybTogJ25vbmUnLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICAnd2hvb3NoLWluLWxlZnQnOiB7XG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSAtKGRpbWVuc2lvbnMudGFyZ2V0WCArIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGgpO1xuICAgICAgcmV0dXJuIHdob29zaEluKG9mZnNldFgsIDAsIDAsIDApO1xuICAgIH0sXG4gIH0sXG4gICd3aG9vc2gtaW4tcmlnaHQnOiB7XG4gICAgZHVyYXRpb246IDUwMCxcbiAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gICAga2V5ZnJhbWVzKGRpbWVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IG9mZnNldFggPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCAtIGRpbWVuc2lvbnMudGFyZ2V0WDtcbiAgICAgIHJldHVybiB3aG9vc2hJbihvZmZzZXRYLCAwLCAwLCAwKTtcbiAgICB9LFxuICB9LFxuICAncGFuLWxlZnQnOiB7XG4gICAgZHVyYXRpb246IDEwMDAsXG4gICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgc2NhbGluZ0ZhY3RvciA9IGNhbGN1bGF0ZVRhcmdldFNjYWxpbmdGYWN0b3IoZGltZW5zaW9ucyk7XG4gICAgICBkaW1lbnNpb25zLnRhcmdldFdpZHRoICo9IHNjYWxpbmdGYWN0b3I7XG4gICAgICBkaW1lbnNpb25zLnRhcmdldEhlaWdodCAqPSBzY2FsaW5nRmFjdG9yO1xuXG4gICAgICBjb25zdCBvZmZzZXRYID0gZGltZW5zaW9ucy5wYWdlV2lkdGggLSBkaW1lbnNpb25zLnRhcmdldFdpZHRoO1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9IChkaW1lbnNpb25zLnBhZ2VIZWlnaHQgLSBkaW1lbnNpb25zLnRhcmdldEhlaWdodCkgLyAyO1xuXG4gICAgICByZXR1cm4gc2NhbGVBbmRUcmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSwgMCwgb2Zmc2V0WSwgc2NhbGluZ0ZhY3Rvcik7XG4gICAgfSxcbiAgfSxcbiAgJ3Bhbi1yaWdodCc6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcihkaW1lbnNpb25zKTtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggKj0gc2NhbGluZ0ZhY3RvcjtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0ICo9IHNjYWxpbmdGYWN0b3I7XG5cbiAgICAgIGNvbnN0IG9mZnNldFggPSBkaW1lbnNpb25zLnBhZ2VXaWR0aCAtIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGg7XG4gICAgICBjb25zdCBvZmZzZXRZID0gKGRpbWVuc2lvbnMucGFnZUhlaWdodCAtIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0KSAvIDI7XG5cbiAgICAgIHJldHVybiBzY2FsZUFuZFRyYW5zbGF0ZSgwLCBvZmZzZXRZLCBvZmZzZXRYLCBvZmZzZXRZLCBzY2FsaW5nRmFjdG9yKTtcbiAgICB9LFxuICB9LFxuICAncGFuLWRvd24nOiB7XG4gICAgZHVyYXRpb246IDEwMDAsXG4gICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICBrZXlmcmFtZXMoZGltZW5zaW9ucykge1xuICAgICAgY29uc3Qgc2NhbGluZ0ZhY3RvciA9IGNhbGN1bGF0ZVRhcmdldFNjYWxpbmdGYWN0b3IoZGltZW5zaW9ucyk7XG4gICAgICBkaW1lbnNpb25zLnRhcmdldFdpZHRoICo9IHNjYWxpbmdGYWN0b3I7XG4gICAgICBkaW1lbnNpb25zLnRhcmdldEhlaWdodCAqPSBzY2FsaW5nRmFjdG9yO1xuXG4gICAgICBjb25zdCBvZmZzZXRYID0gLWRpbWVuc2lvbnMudGFyZ2V0V2lkdGggLyAyO1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9IGRpbWVuc2lvbnMucGFnZUhlaWdodCAtIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0O1xuXG4gICAgICByZXR1cm4gc2NhbGVBbmRUcmFuc2xhdGUob2Zmc2V0WCwgMCwgb2Zmc2V0WCwgb2Zmc2V0WSwgc2NhbGluZ0ZhY3Rvcik7XG4gICAgfSxcbiAgfSxcbiAgJ3Bhbi11cCc6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lcyhkaW1lbnNpb25zKSB7XG4gICAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gY2FsY3VsYXRlVGFyZ2V0U2NhbGluZ0ZhY3RvcihkaW1lbnNpb25zKTtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0V2lkdGggKj0gc2NhbGluZ0ZhY3RvcjtcbiAgICAgIGRpbWVuc2lvbnMudGFyZ2V0SGVpZ2h0ICo9IHNjYWxpbmdGYWN0b3I7XG5cbiAgICAgIGNvbnN0IG9mZnNldFggPSAtZGltZW5zaW9ucy50YXJnZXRXaWR0aCAvIDI7XG4gICAgICBjb25zdCBvZmZzZXRZID0gZGltZW5zaW9ucy5wYWdlSGVpZ2h0IC0gZGltZW5zaW9ucy50YXJnZXRIZWlnaHQ7XG5cbiAgICAgIHJldHVybiBzY2FsZUFuZFRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZLCBvZmZzZXRYLCAwLCBzY2FsaW5nRmFjdG9yKTtcbiAgICB9LFxuICB9LFxuICAnem9vbS1pbic6IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgIGtleWZyYW1lczogW1xuICAgICAge3RyYW5zZm9ybTogJ3NjYWxlKDEsMSknfSxcbiAgICAgIHt0cmFuc2Zvcm06ICdzY2FsZSgzLDMpJ30sXG4gICAgXSxcbiAgfSxcbiAgJ3pvb20tb3V0Jzoge1xuICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAga2V5ZnJhbWVzOiBbXG4gICAgICB7dHJhbnNmb3JtOiAnc2NhbGUoMywzKSd9LFxuICAgICAge3RyYW5zZm9ybTogJ3NjYWxlKDEsMSknfSxcbiAgICBdLFxuICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiogQHR5cGVkZWYgeyFBcnJheTwhT2JqZWN0PHN0cmluZywgKj4+fSAqL1xuZXhwb3J0IGxldCBLZXlmcmFtZXNEZWY7XG5cblxuLyoqIEB0eXBlZGVmIHsoZnVuY3Rpb24oU3RvcnlBbmltYXRpb25EaW1zRGVmKTohS2V5ZnJhbWVzRGVmKXwhS2V5ZnJhbWVzRGVmfSAqL1xuZXhwb3J0IGxldCBLZXlmcmFtZXNPckZpbHRlckZuRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgcGFnZVdpZHRoOiBudW1iZXIsXG4gKiAgIHBhZ2VIZWlnaHQ6IG51bWJlcixcbiAqICAgdGFyZ2V0V2lkdGg6IG51bWJlcixcbiAqICAgdGFyZ2V0SGVpZ2h0OiBudW1iZXIsXG4gKiAgIHRhcmdldFg6IG51bWJlcixcbiAqICAgdGFyZ2V0WTogbnVtYmVyLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTdG9yeUFuaW1hdGlvbkRpbXNEZWY7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBkdXJhdGlvbjogbnVtYmVyLFxuICogICBlYXNpbmc6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAga2V5ZnJhbWVzOiAhS2V5ZnJhbWVzT3JGaWx0ZXJGbkRlZixcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgU3RvcnlBbmltYXRpb25QcmVzZXREZWY7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogIHRhcmdldDogIUVsZW1lbnQsXG4gKiAgc3RhcnRBZnRlcklkOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgcHJlc2V0OiAhU3RvcnlBbmltYXRpb25QcmVzZXREZWYsXG4gKiAgZHVyYXRpb246IChudW1iZXJ8dW5kZWZpbmVkKSxcbiAqICBkZWxheTogKG51bWJlcnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTdG9yeUFuaW1hdGlvbkRlZjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0RlZmVycmVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge1xuICBLZXlmcmFtZXNEZWYsXG4gIEtleWZyYW1lc09yRmlsdGVyRm5EZWYsXG4gIFN0b3J5QW5pbWF0aW9uRGVmLFxuICBTdG9yeUFuaW1hdGlvbkRpbXNEZWYsXG4gIFN0b3J5QW5pbWF0aW9uUHJlc2V0RGVmLFxufSBmcm9tICcuL2FuaW1hdGlvbi10eXBlcyc7XG5pbXBvcnQge1BSRVNFVFMsIHNldFN0eWxlRm9yUHJlc2V0fSBmcm9tICcuL2FuaW1hdGlvbi1wcmVzZXRzJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1xuICBXZWJBbmltYXRpb25QbGF5U3RhdGUsXG59IGZyb20gJy4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb24tdHlwZXMnO1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtlc2NhcGVDc3NTZWxlY3RvcklkZW50LCBzY29wZWRRdWVyeVNlbGVjdG9yLCBzY29wZWRRdWVyeVNlbGVjdG9yQWxsfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7bWFwLCBvbWl0fSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7c2V0U3R5bGVzfSBmcm9tICcuLi8uLi8uLi9zcmMvc3R5bGUnO1xuaW1wb3J0IHt0aW1lU3RyVG9NaWxsaXMsIHVuc2NhbGVkQ2xpZW50UmVjdH0gZnJvbSAnLi91dGlscyc7XG5cbi8qKiBjb25zdCB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IEFOSU1BVEVfSU5fQVRUUklCVVRFX05BTUUgPSAnYW5pbWF0ZS1pbic7XG4vKiogY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFOSU1BVEVfSU5fRFVSQVRJT05fQVRUUklCVVRFX05BTUUgPSAnYW5pbWF0ZS1pbi1kdXJhdGlvbic7XG4vKiogY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFOSU1BVEVfSU5fREVMQVlfQVRUUklCVVRFX05BTUUgPSAnYW5pbWF0ZS1pbi1kZWxheSc7XG4vKiogY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFOSU1BVEVfSU5fQUZURVJfQVRUUklCVVRFX05BTUUgPSAnYW5pbWF0ZS1pbi1hZnRlcic7XG4vKiogY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFOSU1BVEFCTEVfRUxFTUVOVFNfU0VMRUNUT1IgPSBgWyR7QU5JTUFURV9JTl9BVFRSSUJVVEVfTkFNRX1dYDtcblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBUT0RPKGFsYW5vcm96Y28pOiBtYXliZSBtZW1vaXplP1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQW5pbWF0aW9ucyhlbGVtZW50KSB7XG4gIHJldHVybiAhIXNjb3BlZFF1ZXJ5U2VsZWN0b3IoZWxlbWVudCwgQU5JTUFUQUJMRV9FTEVNRU5UU19TRUxFQ1RPUik7XG59XG5cblxuLyoqIEBlbnVtIHtudW1iZXJ9ICovXG5jb25zdCBQbGF5YmFja0FjdGl2aXR5ID0ge1xuICBTVEFSVDogMCxcbiAgRklOSVNIOiAxLFxufTtcblxuXG4vKiogV3JhcHMgV2ViQW5pbWF0aW9uUnVubmVyIGZvciBzdG9yeSBwYWdlIGVsZW1lbnRzLiAqL1xuY2xhc3MgQW5pbWF0aW9uUnVubmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAgICogQHBhcmFtIHshU3RvcnlBbmltYXRpb25EZWZ9IGFuaW1hdGlvbkRlZlxuICAgKiBAcGFyYW0geyFQcm9taXNlPFxuICAgKiAgICAhLi4vLi4vYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbnMuQnVpbGRlclxuICAgKiA+fSB3ZWJBbmltYXRpb25CdWlsZGVyUHJvbWlzZVxuICAgKiBAcGFyYW0geyEuLi8uLi8uLi9zcmMvc2VydmljZS92c3luYy1pbXBsLlZzeW5jfSB2c3luY1xuICAgKiBAcGFyYW0geyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSB0aW1lclxuICAgKiBAcGFyYW0geyFBbmltYXRpb25TZXF1ZW5jZX0gc2VxdWVuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhZ2UsIGFuaW1hdGlvbkRlZiwgd2ViQW5pbWF0aW9uQnVpbGRlclByb21pc2UsIHZzeW5jLCB0aW1lciwgc2VxdWVuY2UpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5wYWdlXyA9IHBhZ2U7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy50aW1lcl8gPSB0aW1lcjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLnZzeW5jXyA9IHZzeW5jO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMudGFyZ2V0XyA9IGRldigpLmFzc2VydEVsZW1lbnQoYW5pbWF0aW9uRGVmLnRhcmdldCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5zZXF1ZW5jZV8gPSBzZXF1ZW5jZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLmFuaW1hdGlvbkRlZl8gPSBhbmltYXRpb25EZWY7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5wcmVzZXREZWZfID0gYW5pbWF0aW9uRGVmLnByZXNldDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLmtleWZyYW1lc18gPSB0aGlzLmZpbHRlcktleWZyYW1lc18oYW5pbWF0aW9uRGVmLnByZXNldC5rZXlmcmFtZXMpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuZGVsYXlfID0gYW5pbWF0aW9uRGVmLmRlbGF5IHx8IHRoaXMucHJlc2V0RGVmXy5kZWxheSB8fCAwO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gYW5pbWF0aW9uRGVmLmR1cmF0aW9uIHx8IHRoaXMucHJlc2V0RGVmXy5kdXJhdGlvbiB8fCAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZTxcbiAgICAgKiAgICAhLi4vLi4vYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbnMuV2ViQW5pbWF0aW9uUnVubmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnJ1bm5lclByb21pc2VfID0gdGhpcy5nZXRXZWJBbmltYXRpb25EZWZfKCkudGhlbih3ZWJBbmltRGVmID0+XG4gICAgICB3ZWJBbmltYXRpb25CdWlsZGVyUHJvbWlzZS50aGVuKGJ1aWxkZXIgPT5cbiAgICAgICAgYnVpbGRlci5jcmVhdGVSdW5uZXIod2ViQW5pbURlZikpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPCFPYmplY3Q8c3RyaW5nLCAqPj59ICovXG4gICAgdGhpcy5maXJzdEZyYW1lUHJvcHNfID1cbiAgICAgICAgdGhpcy5rZXlmcmFtZXNfLnRoZW4oa2V5ZnJhbWVzID0+IG9taXQoa2V5ZnJhbWVzWzBdLCBbJ29mZnNldCddKSk7XG5cbiAgICAvKiogQHByaXZhdGUgez8uLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9ucy5XZWJBbmltYXRpb25SdW5uZXJ9ICovXG4gICAgdGhpcy5ydW5uZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1BsYXliYWNrQWN0aXZpdHl9ICovXG4gICAgdGhpcy5zY2hlZHVsZWRBY3Rpdml0eV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLnNjaGVkdWxlZFdhaXRfID0gbnVsbDtcblxuICAgIHRoaXMua2V5ZnJhbWVzXy50aGVuKGtleWZyYW1lcyA9PiBkZXYoKS5hc3NlcnQoXG4gICAgICAgICFrZXlmcmFtZXNbMF0ub2Zmc2V0LFxuICAgICAgICAnRmlyc3Qga2V5ZnJhbWUgb2Zmc2V0IGZvciBhbmltYXRpb24gcHJlc2V0IHNob3VsZCBiZSAwIG9yIHVuZGVmaW5lZCcpKTtcblxuICAgIHVzZXIoKS5hc3NlcnQoXG4gICAgICAgIHRoaXMuZGVsYXlfID49IDAsXG4gICAgICAgICdOZWdhdGl2ZSBkZWxheXMgYXJlIG5vdCBhbGxvd2VkIGluIGFtcC1zdG9yeSBlbnRyYW5jZSBhbmltYXRpb25zLicpO1xuXG4gICAgdGhpcy5ydW5uZXJQcm9taXNlXy50aGVuKHJ1bm5lciA9PiB0aGlzLm9uUnVubmVyUmVhZHlfKHJ1bm5lcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFTdG9yeUFuaW1hdGlvbkRpbXNEZWY+fVxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIGdldERpbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMudnN5bmNfLm1lYXN1cmVQcm9taXNlKCgpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldFJlY3QgPSB1bnNjYWxlZENsaWVudFJlY3QodGhpcy50YXJnZXRfKTtcbiAgICAgIGNvbnN0IHBhZ2VSZWN0ID0gdW5zY2FsZWRDbGllbnRSZWN0KHRoaXMucGFnZV8pO1xuXG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshU3RvcnlBbmltYXRpb25EaW1zRGVmfSAqLyAoe1xuICAgICAgICBwYWdlV2lkdGg6IHBhZ2VSZWN0LndpZHRoLFxuICAgICAgICBwYWdlSGVpZ2h0OiBwYWdlUmVjdC5oZWlnaHQsXG4gICAgICAgIHRhcmdldFdpZHRoOiB0YXJnZXRSZWN0LndpZHRoLFxuICAgICAgICB0YXJnZXRIZWlnaHQ6IHRhcmdldFJlY3QuaGVpZ2h0LFxuICAgICAgICB0YXJnZXRYOiB0YXJnZXRSZWN0LmxlZnQgLSBwYWdlUmVjdC5sZWZ0LFxuICAgICAgICB0YXJnZXRZOiB0YXJnZXRSZWN0LnRvcCAtIHBhZ2VSZWN0LnRvcCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUtleWZyYW1lc09yRmlsdGVyRm5EZWZ9IGtleWZyYW1lc0FycmF5T3JGblxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhS2V5ZnJhbWVzRGVmPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZpbHRlcktleWZyYW1lc18oa2V5ZnJhbWVzQXJyYXlPckZuKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5ZnJhbWVzQXJyYXlPckZuKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShrZXlmcmFtZXNBcnJheU9yRm4pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXREaW1zKCkudGhlbihrZXlmcmFtZXNBcnJheU9yRm4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPFxuICAgKiAgICEuLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9uLXR5cGVzLldlYktleWZyYW1lQW5pbWF0aW9uRGVmPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFdlYkFuaW1hdGlvbkRlZl8oKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5ZnJhbWVzXy50aGVuKGtleWZyYW1lcyA9PiAoe1xuICAgICAga2V5ZnJhbWVzLFxuICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldF8sXG4gICAgICBkdXJhdGlvbjogYCR7dGhpcy5kdXJhdGlvbl99bXNgLFxuICAgICAgZWFzaW5nOiB0aGlzLnByZXNldERlZl8uZWFzaW5nLFxuICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcbiAgICB9KSk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IVByb21pc2U8dm9pZD59ICovXG4gIGFwcGx5Rmlyc3RGcmFtZSgpIHtcbiAgICBpZiAodGhpcy5oYXNTdGFydGVkKCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ydW5uZXJfKSB7XG4gICAgICB0aGlzLnJ1bm5lcl8uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZmlyc3RGcmFtZVByb3BzXy50aGVuKGZpcnN0RnJhbWVQcm9wcyA9PlxuICAgICAgdGhpcy52c3luY18ubXV0YXRlUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgIHNldFN0eWxlcyh0aGlzLnRhcmdldF8sIGZpcnN0RnJhbWVQcm9wcyk7XG4gICAgICB9KSk7XG4gIH1cblxuICAvKiogU3RhcnRzIG9yIHJlc3VtZXMgdGhlIGFuaW1hdGlvbi4gKi9cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuaGFzU3RhcnRlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wbGF5YmFja18oUGxheWJhY2tBY3Rpdml0eS5TVEFSVCwgdGhpcy5nZXRTdGFydFdhaXRQcm9taXNlXygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFN0YXJ0V2FpdFByb21pc2VfKCkge1xuICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICBpZiAodGhpcy5hbmltYXRpb25EZWZfLnN0YXJ0QWZ0ZXJJZCkge1xuICAgICAgY29uc3Qgc3RhcnRBZnRlcklkID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovKFxuICAgICAgICB0aGlzLmFuaW1hdGlvbkRlZl8uc3RhcnRBZnRlcklkKTtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4gdGhpcy5zZXF1ZW5jZV8ud2FpdEZvcihzdGFydEFmdGVySWQpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZWxheV8pIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4gdGhpcy50aW1lcl8ucHJvbWlzZSh0aGlzLmRlbGF5XykpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLldlYkFuaW1hdGlvblJ1bm5lcn0gcnVubmVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGFydFdoZW5SZWFkeV8ocnVubmVyKSB7XG4gICAgcnVubmVyLnN0YXJ0KCk7XG4gIH1cblxuICAvKiogQHJldHVybiB7Ym9vbGVhbn0gKi9cbiAgaGFzU3RhcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0FjdGl2aXR5U2NoZWR1bGVkXyhQbGF5YmFja0FjdGl2aXR5LlNUQVJUKSB8fFxuICAgICAgICAoISF0aGlzLnJ1bm5lcl8gJiYgZGV2KCkuYXNzZXJ0KHRoaXMucnVubmVyXylcbiAgICAgICAgICAgIC5nZXRQbGF5U3RhdGUoKSA9PSBXZWJBbmltYXRpb25QbGF5U3RhdGUuUlVOTklORyk7XG4gIH1cblxuICAvKiogRm9yY2UtZmluaXNoZXMgYWxsIGFuaW1hdGlvbnMuICovXG4gIGZpbmlzaCgpIHtcbiAgICBpZiAoIXRoaXMucnVubmVyXykge1xuICAgICAgdGhpcy5ub3RpZnlGaW5pc2hfKCk7XG4gICAgfVxuICAgIHRoaXMucGxheWJhY2tfKFBsYXliYWNrQWN0aXZpdHkuRklOSVNIKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9ucy5XZWJBbmltYXRpb25SdW5uZXJ9IHJ1bm5lclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmluaXNoV2hlblJlYWR5XyhydW5uZXIpIHtcbiAgICBpZiAocnVubmVyLmdldFBsYXlTdGF0ZSgpID09IFdlYkFuaW1hdGlvblBsYXlTdGF0ZS5SVU5OSU5HKSB7XG4gICAgICBydW5uZXIuZmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIENhbmNlbHMgYW5pbWF0aW9uLiAqL1xuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5zY2hlZHVsZWRBY3Rpdml0eV8gPSBudWxsO1xuICAgIHRoaXMuc2NoZWR1bGVkV2FpdF8gPSBudWxsO1xuXG4gICAgaWYgKHRoaXMucnVubmVyXykge1xuICAgICAgZGV2KCkuYXNzZXJ0KHRoaXMucnVubmVyXykuY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVBsYXliYWNrQWN0aXZpdHl9IGFjdGl2aXR5XG4gICAqIEBwYXJhbSB7IVByb21pc2U9fSBvcHRfd2FpdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcGxheWJhY2tfKGFjdGl2aXR5LCBvcHRfd2FpdCkge1xuICAgIGNvbnN0IHdhaXQgPSBvcHRfd2FpdCB8fCBudWxsO1xuXG4gICAgdGhpcy5zY2hlZHVsZWRBY3Rpdml0eV8gPSBhY3Rpdml0eTtcbiAgICB0aGlzLnNjaGVkdWxlZFdhaXRfID0gd2FpdDtcblxuICAgIGlmICh0aGlzLnJ1bm5lcl8pIHtcbiAgICAgIHRoaXMucGxheWJhY2tXaGVuUmVhZHlfKGFjdGl2aXR5LCB3YWl0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgcGxheWJhY2sgYWN0aXZpdHkgaWYgcnVubmVyIGlzIHJlYWR5LlxuICAgKiBAcGFyYW0geyFQbGF5YmFja0FjdGl2aXR5fSBhY3Rpdml0eVxuICAgKiBAcGFyYW0gez9Qcm9taXNlfSB3YWl0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwbGF5YmFja1doZW5SZWFkeV8oYWN0aXZpdHksIHdhaXQpIHtcbiAgICBjb25zdCBydW5uZXIgPVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyEuLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9ucy5XZWJBbmltYXRpb25SdW5uZXJ9XG4gICAgICAgICAqL1xuICAgICAgICAoZGV2KCkuYXNzZXJ0KFxuICAgICAgICAgICAgdGhpcy5ydW5uZXJfLFxuICAgICAgICAgICAgJ1RyaWVkIHRvIGV4ZWN1dGUgcGxheWJhY2tXaGVuUmVhZHlfIGJlZm9yZSBydW5uZXIgd2FzIHJlc29sdmVkLicpKTtcblxuICAgICh3YWl0IHx8IFByb21pc2UucmVzb2x2ZSgpKS50aGVuKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2aXR5U2NoZWR1bGVkXyhhY3Rpdml0eSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjaGVkdWxlZEFjdGl2aXR5XyA9IG51bGw7XG4gICAgICB0aGlzLnNjaGVkdWxlZFdhaXRfID0gbnVsbDtcblxuICAgICAgc3dpdGNoIChhY3Rpdml0eSkge1xuICAgICAgICBjYXNlIFBsYXliYWNrQWN0aXZpdHkuU1RBUlQ6IHJldHVybiB0aGlzLnN0YXJ0V2hlblJlYWR5XyhydW5uZXIpO1xuICAgICAgICBjYXNlIFBsYXliYWNrQWN0aXZpdHkuRklOSVNIOiByZXR1cm4gdGhpcy5maW5pc2hXaGVuUmVhZHlfKHJ1bm5lcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTWFya3MgcnVubmVyIGFzIHJlYWR5IGFuZCBleGVjdXRlcyBwbGF5YmFjayBhY3Rpdml0eSBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSB7IS4uLy4uL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb25zLldlYkFuaW1hdGlvblJ1bm5lcn0gcnVubmVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblJ1bm5lclJlYWR5XyhydW5uZXIpIHtcbiAgICB0aGlzLnJ1bm5lcl8gPSBydW5uZXI7XG5cbiAgICBydW5uZXIub25QbGF5U3RhdGVDaGFuZ2VkKHN0YXRlID0+IHtcbiAgICAgIGlmIChzdGF0ZSA9PSBXZWJBbmltYXRpb25QbGF5U3RhdGUuRklOSVNIRUQpIHtcbiAgICAgICAgdGhpcy5ub3RpZnlGaW5pc2hfKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMuaXNBY3Rpdml0eVNjaGVkdWxlZF8oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucGxheWJhY2tXaGVuUmVhZHlfKFxuICAgICAgICAvKiogQHR5cGUgeyFQbGF5YmFja0FjdGl2aXR5fSAqLyAodGhpcy5zY2hlZHVsZWRBY3Rpdml0eV8pLFxuICAgICAgICB0aGlzLnNjaGVkdWxlZFdhaXRfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFQbGF5YmFja0FjdGl2aXR5PX0gb3B0X2FjdGl2aXR5XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0FjdGl2aXR5U2NoZWR1bGVkXyhvcHRfYWN0aXZpdHkpIHtcbiAgICBpZiAoIW9wdF9hY3Rpdml0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVkQWN0aXZpdHlfICE9PSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZWRBY3Rpdml0eV8gPT09IG9wdF9hY3Rpdml0eTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBub3RpZnlGaW5pc2hfKCkge1xuICAgIGlmICh0aGlzLnRhcmdldF8uaWQpIHtcbiAgICAgIHRoaXMuc2VxdWVuY2VfLm5vdGlmeUZpbmlzaCh0aGlzLnRhcmdldF8uaWQpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIFRPRE8oYWxhbm9yb3pjbyk6IExvb3BpbmcgYW5pbWF0aW9uc1xuLyoqIE1hbmFnZXIgZm9yIGFuaW1hdGlvbnMgaW4gc3RvcnkgcGFnZXMuICovXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uTWFuYWdlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290XG4gICAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihyb290LCBhbXBkb2MpIHtcbiAgICBkZXYoKS5hc3NlcnQoaGFzQW5pbWF0aW9ucyhyb290KSk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5yb290XyA9IHJvb3Q7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5hbXBkb2NfID0gYW1wZG9jO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3IodGhpcy5hbXBkb2NfLndpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy50aW1lcl8gPSBTZXJ2aWNlcy50aW1lckZvcih0aGlzLmFtcGRvY18ud2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLmJ1aWxkZXJQcm9taXNlXyA9IHRoaXMuY3JlYXRlQW5pbWF0aW9uQnVpbGRlclByb21pc2VfKCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9BcnJheTwhUHJvbWlzZTwhQW5pbWF0aW9uUnVubmVyPj59ICovXG4gICAgdGhpcy5ydW5uZXJzXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLnNlcXVlbmNlXyA9IEFuaW1hdGlvblNlcXVlbmNlLmNyZWF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY291cGxlcyBjb25zdHJ1Y3RvciBzbyBpdCBjYW4gYmUgc3R1YmJlZCBpbiB0ZXN0cy5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICAgKiBAcGFyYW0geyEuLi8uLi8uLi9zcmMvc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdW51c2VkQmFzZVVybFxuICAgKiBAcmV0dXJuIHshQW5pbWF0aW9uTWFuYWdlcn1cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUocm9vdCwgYW1wZG9jLCB1bnVzZWRCYXNlVXJsKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRpb25NYW5hZ2VyKHJvb3QsIGFtcGRvYyk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBmaXJzdCBmcmFtZSB0byB0YXJnZXQgZWxlbWVudCBiZWZvcmUgc3RhcnRpbmcgYW5pbWF0aW9uLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGFwcGx5Rmlyc3RGcmFtZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGVSdW5uZXJzXygpLm1hcChydW5uZXIgPT4gcnVubmVyLmFwcGx5Rmlyc3RGcmFtZSgpKSk7XG4gIH1cblxuICAvKiogU3RhcnRzIGFsbCBlbnRyYW5jZSBhbmltYXRpb25zIGZvciB0aGUgcGFnZS4gKi9cbiAgYW5pbWF0ZUluKCkge1xuICAgIHRoaXMuZ2V0UnVubmVyc18oKS5mb3JFYWNoKHJ1bm5lciA9PiBydW5uZXIuc3RhcnQoKSk7XG4gIH1cblxuICAvKiogU2tpcHMgYWxsIGVudHJhbmNlIGFuaW1hdGlvbnMgZm9yIHRoZSBwYWdlLiAqL1xuICBmaW5pc2hBbGwoKSB7XG4gICAgdGhpcy5nZXRSdW5uZXJzXygpLmZvckVhY2gocnVubmVyID0+IHJ1bm5lci5maW5pc2goKSk7XG4gIH1cblxuICAvKiogQ2FuY2VscyBhbGwgZW50cmFuY2UgYW5pbWF0aW9ucyBmb3IgdGhlIHBhZ2UuICovXG4gIGNhbmNlbEFsbCgpIHtcbiAgICBpZiAoIXRoaXMucnVubmVyc18pIHtcbiAgICAgIC8vIG5vdGhpbmcgdG8gY2FuY2VsIHdoZW4gdGhlIGZpcnN0IGZyYW1lIGhhcyBub3QgYmVlbiBhcHBsaWVkIHlldC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5nZXRSdW5uZXJzXygpLmZvckVhY2gocnVubmVyID0+IHJ1bm5lci5jYW5jZWwoKSk7XG4gIH1cblxuICAvKiogRGV0ZXJtaW5lcyBpZiB0aGVyZSBpcyBhbiBlbnRyYW5jZSBhbmltYXRpb24gcnVubmluZy4gKi9cbiAgaGFzQW5pbWF0aW9uU3RhcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSdW5uZXJzXygpLnNvbWUocnVubmVyID0+IHJ1bm5lci5oYXNTdGFydGVkKCkpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGdldFJ1bm5lcnNfKCkge1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnQodGhpcy5ydW5uZXJzXywgJ0V4ZWN1dGVkIGJlZm9yZSBhcHBseUZpcnN0RnJhbWUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUFuaW1hdGlvblJ1bm5lcj59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRPckNyZWF0ZVJ1bm5lcnNfKCkge1xuICAgIGlmICghdGhpcy5ydW5uZXJzXykge1xuICAgICAgdGhpcy5ydW5uZXJzXyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgICBzY29wZWRRdWVyeVNlbGVjdG9yQWxsKHRoaXMucm9vdF8sIEFOSU1BVEFCTEVfRUxFTUVOVFNfU0VMRUNUT1IpLFxuICAgICAgICAgIGVsID0+IHRoaXMuY3JlYXRlUnVubmVyXyhlbCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0KHRoaXMucnVubmVyc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gICAqIEByZXR1cm4geyFBbmltYXRpb25SdW5uZXJ9XG4gICAqL1xuICBjcmVhdGVSdW5uZXJfKGVsKSB7XG4gICAgY29uc3QgcHJlc2V0ID0gdGhpcy5nZXRQcmVzZXRfKGVsKTtcbiAgICBjb25zdCBhbmltYXRpb25EZWYgPSB0aGlzLmNyZWF0ZUFuaW1hdGlvbkRlZihlbCwgcHJlc2V0KTtcblxuICAgIHJldHVybiBuZXcgQW5pbWF0aW9uUnVubmVyKFxuICAgICAgICB0aGlzLnJvb3RfLFxuICAgICAgICBhbmltYXRpb25EZWYsXG4gICAgICAgIGRldigpLmFzc2VydCh0aGlzLmJ1aWxkZXJQcm9taXNlXyksXG4gICAgICAgIHRoaXMudnN5bmNfLFxuICAgICAgICB0aGlzLnRpbWVyXyxcbiAgICAgICAgdGhpcy5zZXF1ZW5jZV8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gICAqIEBwYXJhbSB7IVN0b3J5QW5pbWF0aW9uUHJlc2V0RGVmfSBwcmVzZXRcbiAgICogQHJldHVybiB7IVN0b3J5QW5pbWF0aW9uRGVmfVxuICAgKi9cbiAgY3JlYXRlQW5pbWF0aW9uRGVmKGVsLCBwcmVzZXQpIHtcbiAgICBjb25zdCBhbmltYXRpb25EZWYgPSB7dGFyZ2V0OiBlbCwgcHJlc2V0fTtcblxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoQU5JTUFURV9JTl9EVVJBVElPTl9BVFRSSUJVVEVfTkFNRSkpIHtcbiAgICAgIGFuaW1hdGlvbkRlZi5kdXJhdGlvbiA9XG4gICAgICAgICAgdGltZVN0clRvTWlsbGlzKGVsLmdldEF0dHJpYnV0ZShBTklNQVRFX0lOX0RVUkFUSU9OX0FUVFJJQlVURV9OQU1FKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZShBTklNQVRFX0lOX0RFTEFZX0FUVFJJQlVURV9OQU1FKSkge1xuICAgICAgYW5pbWF0aW9uRGVmLmRlbGF5ID1cbiAgICAgICAgICB0aW1lU3RyVG9NaWxsaXMoZWwuZ2V0QXR0cmlidXRlKEFOSU1BVEVfSU5fREVMQVlfQVRUUklCVVRFX05BTUUpKTtcbiAgICB9XG5cbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKEFOSU1BVEVfSU5fQUZURVJfQVRUUklCVVRFX05BTUUpKSB7XG4gICAgICBjb25zdCBkZXBlbmRlbmN5SWQgPSBlbC5nZXRBdHRyaWJ1dGUoQU5JTUFURV9JTl9BRlRFUl9BVFRSSUJVVEVfTkFNRSk7XG5cbiAgICAgIHVzZXIoKS5hc3NlcnRFbGVtZW50KFxuICAgICAgICAgIHRoaXMucm9vdF8ucXVlcnlTZWxlY3RvcihgIyR7ZXNjYXBlQ3NzU2VsZWN0b3JJZGVudChkZXBlbmRlbmN5SWQpfWApLFxuICAgICAgICAgIGBUaGUgYXR0cmlidXRlICcke0FOSU1BVEVfSU5fQUZURVJfQVRUUklCVVRFX05BTUV9JyBpbiB0YWcgYCArXG4gICAgICAgICAgICAgIGAnJHtlbC50YWdOYW1lfScgaXMgc2V0IHRvIHRoZSBpbnZhbGlkIHZhbHVlIGAgK1xuICAgICAgICAgICAgICBgJyR7ZGVwZW5kZW5jeUlkfScuIE5vIGNoaWxkcmVuIG9mIHBhcmVudGluZyAnYW1wLXN0b3J5LXBhZ2UnIGAgK1xuICAgICAgICAgICAgICBgZXhpc3Qgd2l0aCBpZCAke2RlcGVuZGVuY3lJZH0uYCk7XG5cbiAgICAgIGFuaW1hdGlvbkRlZi5zdGFydEFmdGVySWQgPVxuICAgICAgICAgIGVsLmdldEF0dHJpYnV0ZShBTklNQVRFX0lOX0FGVEVSX0FUVFJJQlVURV9OQU1FKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYW5pbWF0aW9uRGVmO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi8uLi9hbXAtYW5pbWF0aW9uLzAuMS93ZWItYW5pbWF0aW9ucy5CdWlsZGVyPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZUFuaW1hdGlvbkJ1aWxkZXJQcm9taXNlXygpIHtcbiAgICByZXR1cm4gU2VydmljZXMuZXh0ZW5zaW9uc0Zvcih0aGlzLmFtcGRvY18ud2luKVxuICAgICAgICAuaW5zdGFsbEV4dGVuc2lvbkZvckRvYyh0aGlzLmFtcGRvY18sICdhbXAtYW5pbWF0aW9uJylcbiAgICAgICAgLnRoZW4oKCkgPT4gU2VydmljZXMud2ViQW5pbWF0aW9uU2VydmljZUZvcih0aGlzLmFtcGRvY18pKVxuICAgICAgICAudGhlbih3ZWJBbmltYXRpb25TZXJ2aWNlID0+IHdlYkFuaW1hdGlvblNlcnZpY2UuY3JlYXRlQnVpbGRlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICAgKiBAcmV0dXJuIHshU3RvcnlBbmltYXRpb25QcmVzZXREZWZ9XG4gICAqL1xuICBnZXRQcmVzZXRfKGVsKSB7XG4gICAgY29uc3QgbmFtZSA9IGVsLmdldEF0dHJpYnV0ZShBTklNQVRFX0lOX0FUVFJJQlVURV9OQU1FKTtcbiAgICBzZXRTdHlsZUZvclByZXNldChlbCwgbmFtZSk7XG5cbiAgICByZXR1cm4gdXNlcigpLmFzc2VydChcbiAgICAgICAgUFJFU0VUU1tuYW1lXSxcbiAgICAgICAgJ0ludmFsaWQgJXMgcHJlc2V0IFwiJXNcIiBmb3IgZWxlbWVudCAlcycsXG4gICAgICAgIEFOSU1BVEVfSU5fQVRUUklCVVRFX05BTUUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGVsKTtcbiAgfVxufVxuXG5cbi8qKiBCdXMgZm9yIGFuaW1hdGlvbiBzZXF1ZW5jaW5nLiAqL1xuY2xhc3MgQW5pbWF0aW9uU2VxdWVuY2Uge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFQcm9taXNlPn0gKi9cbiAgICB0aGlzLnN1YnNjcmlwdGlvblByb21pc2VzXyA9IG1hcCgpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFGdW5jdGlvbj59ICovXG4gICAgdGhpcy5zdWJzY3JpcHRpb25SZXNvbHZlcnNfID0gbWFwKCk7XG4gIH1cblxuICAvKiogRGVjb3VwbGVzIGNvbnN0cnVjdG9yIGZvciB0ZXN0aW5nLiAqL1xuICBzdGF0aWMgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0aW9uU2VxdWVuY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZmllcyBkZXBlbmRlbnQgZWxlbWVudHMgdGhhdCBhbmltYXRpb24gaGFzIGZpbmlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICovXG4gIG5vdGlmeUZpbmlzaChpZCkge1xuICAgIGlmIChpZCBpbiB0aGlzLnN1YnNjcmlwdGlvblByb21pc2VzXykge1xuICAgICAgZGV2KCkuYXNzZXJ0KHRoaXMuc3Vic2NyaXB0aW9uUmVzb2x2ZXJzX1tpZF0pKCk7XG5cbiAgICAgIGRlbGV0ZSB0aGlzLnN1YnNjcmlwdGlvblByb21pc2VzX1tpZF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciBhbm90aGVyIGVsZW1lbnQgdG8gZmluaXNoIGFuaW1hdGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm4geyFQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgd2FpdEZvcihpZCkge1xuICAgIGlmICghKGlkIGluIHRoaXMuc3Vic2NyaXB0aW9uUHJvbWlzZXNfKSkge1xuICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uUHJvbWlzZXNfW2lkXSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvblJlc29sdmVyc19baWRdID0gZGVmZXJyZWQucmVzb2x2ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uUHJvbWlzZXNfW2lkXTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IEJBQ0tHUk9VTkRfQVVESU9fRUxFTUVOVF9DTEFTU19OQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLWF1ZGlvJztcblxuXG4vKipcbiAqIEFkZHMgc3VwcG9ydCBmb3IgdGhlIGJhY2tncm91bmQtYXVkaW8gcHJvcGVydHkgb24gdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byB1cGdyYWRlIHdpdGggc3VwcG9ydCBmb3IgYmFja2dyb3VuZFxuICogICAgIGF1ZGlvLlxuICogQHJldHVybiB7P0VsZW1lbnR9IGF1ZGlvRWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZ3JhZGVCYWNrZ3JvdW5kQXVkaW8oZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdiYWNrZ3JvdW5kLWF1ZGlvJykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBhdWRpb0VsID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gIGNvbnN0IGF1ZGlvU3JjID1cbiAgICAgIFNlcnZpY2VzLnVybEZvckRvYyhlbGVtZW50KS5hc3NlcnRIdHRwc1VybChcbiAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYmFja2dyb3VuZC1hdWRpbycpLCBlbGVtZW50KTtcbiAgYXVkaW9FbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGF1ZGlvU3JjKTtcbiAgYXVkaW9FbC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICBhdWRpb0VsLnNldEF0dHJpYnV0ZSgnbG9vcCcsICcnKTtcbiAgYXVkaW9FbC5zZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JywgJycpO1xuICBhdWRpb0VsLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnJyk7XG4gIGF1ZGlvRWwubXV0ZWQgPSB0cnVlO1xuICBhdWRpb0VsLmNsYXNzTGlzdC5hZGQoQkFDS0dST1VORF9BVURJT19FTEVNRU5UX0NMQVNTX05BTUUpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGF1ZGlvRWwpO1xuXG4gIHJldHVybiBhdWRpb0VsO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2xpc3Rlbk9uY2VQcm9taXNlfSBmcm9tICcuLi8uLi8uLi9zcmMvZXZlbnQtaGVscGVyJztcbmltcG9ydCB7c2V0U3R5bGV9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5cblxuLyoqIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgU1dBUF9USU1FT1VUX01TID0gNTAwO1xuXG5cbmNvbnN0IEJBQ0tHUk9VTkRfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQnO1xuXG5jb25zdCBCQUNLR1JPVU5EX0NPTlRBSU5FUl9DTEFTUyA9ICdpLWFtcGh0bWwtc3RvcnktYmFja2dyb3VuZC1jb250YWluZXInO1xuXG5jb25zdCBCQUNLR1JPVU5EX09WRVJMQVlfQ0xBU1MgPSAnaS1hbXBodG1sLXN0b3J5LWJhY2tncm91bmQtb3ZlcmxheSc7XG5cblxuXG4vKipcbiAqIEBwYXJhbSB7P3N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gbWF5YmVMb2FkSW1hZ2UodXJsKSB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IGltZyA9IG5ldyBJbWFnZTtcbiAgaW1nLnNyYyA9IHVybDtcbiAgcmV0dXJuIGxpc3Rlbk9uY2VQcm9taXNlKGltZywgJ2xvYWQnKTtcbn1cblxuXG4vKipcbiAqIFRPRE8oY3ZpYWxpeik6IEludmVzdGlnYXRlIHByZS1yZW5kZXJpbmcgYmx1cnJlZCBiYWNrZ3JvdW5kcyB0byBjYW52YXMgdG9cbiAqIHBvc3NpYmx5IGltcHJvdmUgcGVyZm9ybWFuY2U/XG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeUJhY2tncm91bmQge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBlbGVtZW50KSB7XG4gICAgLyogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuICAgIC8qIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuY291bnRfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgKi9cbiAgICB0aGlzLmNvbnRhaW5lcl8gPSB0aGlzLmVsZW1lbnRfLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5jb250YWluZXJPdmVybGF5XyA9IHRoaXMuZWxlbWVudF8ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5oaWRkZW5fID0gdGhpcy5jcmVhdGVCYWNrZ3JvdW5kXygpO1xuXG4gICAgLyoqIEBwcml2YXRlIHshRWxlbWVudH0gKi9cbiAgICB0aGlzLmFjdGl2ZV8gPSB0aGlzLmNyZWF0ZUJhY2tncm91bmRfKCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LmFkZChCQUNLR1JPVU5EX0NPTlRBSU5FUl9DTEFTUyk7XG4gICAgdGhpcy5jb250YWluZXJPdmVybGF5Xy5jbGFzc0xpc3QuYWRkKEJBQ0tHUk9VTkRfT1ZFUkxBWV9DTEFTUyk7XG5cbiAgICB0aGlzLmNvbnRhaW5lcl8uYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5fKTtcbiAgICB0aGlzLmNvbnRhaW5lcl8uYXBwZW5kQ2hpbGQodGhpcy5hY3RpdmVfKTtcbiAgICB0aGlzLmNvbnRhaW5lcl8uYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXJPdmVybGF5Xyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBjcmVhdGVCYWNrZ3JvdW5kXygpIHtcbiAgICBjb25zdCBiZyA9IHRoaXMuZWxlbWVudF8ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBiZy5jbGFzc0xpc3QuYWRkKEJBQ0tHUk9VTkRfQ0xBU1MpO1xuICAgIHJldHVybiBiZztcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2ggdGhlIGJhY2tncm91bmRzIHRvIHRoZSBkb2N1bWVudC5cbiAgICovXG4gIGF0dGFjaCgpIHtcbiAgICB0aGlzLmVsZW1lbnRfLmluc2VydEJlZm9yZSh0aGlzLmNvbnRhaW5lcl8sIHRoaXMuZWxlbWVudF8uZmlyc3RDaGlsZCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBiYWNrZ3JvdW5kIHdpdGggbmV3IGJhY2tncm91bmQgaW1hZ2UgVVJMLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29sb3JcbiAgICogQHBhcmFtIHs/c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5pdGlhbFxuICAgKi9cbiAgc2V0QmFja2dyb3VuZChjb2xvciwgdXJsLCBpbml0aWFsID0gZmFsc2UpIHtcbiAgICBjb25zdCBjb3VudEF0QWRkID0gKyt0aGlzLmNvdW50XztcblxuICAgIGNvbnN0IHdoZW5GcmVzaCA9IChwcm9taXNlLCBjYWxsYmFjaykgPT4gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmNvdW50XyA9PSBjb3VudEF0QWRkKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBpbWdMb2FkID0gbWF5YmVMb2FkSW1hZ2UodXJsKTtcbiAgICBjb25zdCB0aW1lb3V0ID1cbiAgICAgICAgU2VydmljZXMudGltZXJGb3IodGhpcy53aW5fKS5wcm9taXNlKGluaXRpYWwgPyAwIDogU1dBUF9USU1FT1VUX01TKTtcblxuICAgIGNvbnN0IGhpZGRlbiA9IHRoaXMuaGlkZGVuXztcblxuICAgIHNldFN0eWxlKGhpZGRlbiwgJ2JhY2tncm91bmQtaW1hZ2UnLCAnbm9uZScpO1xuXG4gICAgLy8gSW1hZ2Ugd2lsbCBiZSBzd2FwcGVkIG9uIGxvYWQuXG4gICAgd2hlbkZyZXNoKGltZ0xvYWQsICgpID0+IHtcbiAgICAgIHNldFN0eWxlKGhpZGRlbiwgJ2JhY2tncm91bmQtaW1hZ2UnLCB1cmwgPyBgdXJsKCR7dXJsfSlgIDogbnVsbCk7XG4gICAgfSk7XG5cbiAgICAvLyBDb2xvciB3aWxsIGFsd2F5cyBiZSBzd2FwcGVkIG9uIHRpbWVvdXQuXG4gICAgd2hlbkZyZXNoKFByb21pc2UucmFjZShbaW1nTG9hZCwgdGltZW91dF0pLCAoKSA9PiB7XG4gICAgICBzZXRTdHlsZShoaWRkZW4sICdiYWNrZ3JvdW5kLWNvbG9yJywgY29sb3IpO1xuICAgICAgdGhpcy5yb3RhdGVBY3RpdmVCYWNrZ3JvdW5kXygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZXMgdGhlIGNsYXNzZXMgb24gcGFnZSBiYWNrZ3JvdW5kIHRvIGJyaW5nIHRoZSBuZXcgYmFjZ3JvdW5kIGluXG4gICAqIGZvcmVncm91bmQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByb3RhdGVBY3RpdmVCYWNrZ3JvdW5kXygpIHtcbiAgICBjb25zdCBuZXdIaWRkZW4gPSB0aGlzLmFjdGl2ZV87XG4gICAgdGhpcy5hY3RpdmVfID0gdGhpcy5oaWRkZW5fO1xuICAgIHRoaXMuaGlkZGVuXyA9IG5ld0hpZGRlbjtcbiAgICB0aGlzLmFjdGl2ZV8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdGhpcy5oaWRkZW5fLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQWN0aW9uLFxuICBTdGF0ZVByb3BlcnR5LFxuICBVSVR5cGUsXG4gIGdldFN0b3JlU2VydmljZSxcbn0gZnJvbSAnLi4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtBY3Rpb25UcnVzdH0gZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2FjdGlvbi1jb25zdGFudHMnO1xuaW1wb3J0IHtCb29rZW5kQ29tcG9uZW50fSBmcm9tICcuL2Jvb2tlbmQtY29tcG9uZW50JztcbmltcG9ydCB7Q1NTfSBmcm9tICcuLi8uLi8uLi8uLi9idWlsZC9hbXAtc3RvcnktYm9va2VuZC0xLjAuY3NzJztcbmltcG9ydCB7REVQUkVDQVRFRF9TSEFSRV9QUk9WSURFUlNfS0VZLCBTSEFSRV9QUk9WSURFUlNfS0VZLCBTY3JvbGxhYmxlU2hhcmVXaWRnZXR9IGZyb20gJy4uL2FtcC1zdG9yeS1zaGFyZSc7XG5pbXBvcnQge0V2ZW50VHlwZSwgZGlzcGF0Y2h9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQge0tleUNvZGVzfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvdXRpbHMva2V5LWNvZGVzJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtjbG9zZXN0fSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7Y3JlYXRlU2hhZG93Um9vdFdpdGhTdHlsZX0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7Z2V0QW1wZG9jfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc2VydmljZSc7XG5pbXBvcnQge2dldEpzb25MZH0gZnJvbSAnLi4vanNvbmxkJztcbmltcG9ydCB7Z2V0UmVxdWVzdFNlcnZpY2V9IGZyb20gJy4uL2FtcC1zdG9yeS1yZXF1ZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHtpc0FycmF5fSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHtyZW5kZXJBc0VsZW1lbnR9IGZyb20gJy4uL3NpbXBsZS10ZW1wbGF0ZSc7XG5pbXBvcnQge3Rocm90dGxlfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5cbi8qKlxuICogU2Nyb2xsIGFtb3VudCByZXF1aXJlZCBmb3IgZnVsbC1ibGVlZCBpbiBweC5cbiAqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfVxuICovXG5jb25zdCBGVUxMQkxFRURfVEhSRVNIT0xEID0gODg7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEZVTExCTEVFRF9DTEFTU05BTUUgPSAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtZnVsbGJsZWVkJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgSElEREVOX0NMQVNTTkFNRSA9ICdpLWFtcGh0bWwtaGlkZGVuJztcblxuLy8gVE9ETygjMTQ1OTEpOiBDbGVhbiB3aGVuIGJvb2tlbmQgQVBJIHYwLjEgaXMgZGVwcmVjYXRlZC5cbmNvbnN0IEJPT0tFTkRfVkVSU0lPTl8xID0gJ3YxLjAnO1xuY29uc3QgQk9PS0VORF9WRVJTSU9OXzAgPSAndjAuMSc7XG5cbi8qKlxuICogS2V5IGZvciBvbXBvbmVudHMgaW4gYm9va2VuZCBjb25maWcuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgQk9PS0VORF9WRVJTSU9OX0tFWSA9ICdib29rZW5kVmVyc2lvbic7XG5cbi8qKlxuICogRGVwcmVjYXRlZCBrZXkgZm9yIGNvbXBvbmVudHMgaW4gYm9va2VuZCBjb25maWcuXG4gKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgREVQUkVDQVRFRF9CT09LRU5EX1ZFUlNJT05fS0VZID0gJ2Jvb2tlbmQtdmVyc2lvbic7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9zaW1wbGUtdGVtcGxhdGUuRWxlbWVudERlZn0gKi9cbmNvbnN0IFJPT1RfVEVNUExBVEUgPSB7XG4gIHRhZzogJ3NlY3Rpb24nLFxuICBhdHRyczogZGljdCh7XG4gICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kIGktYW1waHRtbC1zdG9yeS1zeXN0ZW0tcmVzZXQgJyArXG4gICAgICAgIEhJRERFTl9DTEFTU05BTUV9KSxcbiAgY2hpbGRyZW46IFtcbiAgICAvLyBPdmVyZmxvdyBjb250YWluZXIgdGhhdCBnZXRzIHB1c2hlZCB0byB0aGUgYm90dG9tIHdoZW4gY29udGVudCBoZWlnaHQgaXNcbiAgICAvLyBzbWFsbGVyIHRoYW4gdmlld3BvcnQuXG4gICAge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtb3ZlcmZsb3cnfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvLyBIb2xkcyBib29rZW5kIGNvbnRlbnQuXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtaW5uZXInfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF0sXG59O1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshLi4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovXG5jb25zdCBSRVBMQVlfSUNPTl9URU1QTEFURSA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1yZXBsYXktaWNvbid9KSxcbn07XG5cbi8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuY29uc3QgVEFHID0gJ2FtcC1zdG9yeSc7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlXG4gKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluTmFtZVxuICogQHBhcmFtIHtzdHJpbmc9fSBpbWFnZVVybFxuICogQHJldHVybiB7IS4uL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfVxuICovXG5jb25zdCBidWlsZFJlcGxheUJ1dHRvblRlbXBsYXRlID0gKHRpdGxlLCBkb21haW5OYW1lLCBpbWFnZVVybCA9IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gLyoqIEB0eXBlIHshLi4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9ICovICh7XG4gICAgdGFnOiAnZGl2JyxcbiAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheSd9KSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtdGV4dC1jb250ZW50J30pLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZzogJ2gyJyxcbiAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1oZWFkaW5nJ30pLFxuICAgICAgICAgICAgdW5sb2NhbGl6ZWRTdHJpbmc6IHRpdGxlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICAgIGF0dHJzOiBkaWN0KHsnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29tcG9uZW50LW1ldGEnfSksXG4gICAgICAgICAgICB1bmxvY2FsaXplZFN0cmluZzogZG9tYWluTmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgICFpbWFnZVVybCA/IFJFUExBWV9JQ09OX1RFTVBMQVRFIDoge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1ib29rZW5kLXJlcGxheS1pbWFnZScsXG4gICAgICAgICAgJ3N0eWxlJzogYGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2ltYWdlVXJsfSkgIWltcG9ydGFudGAsXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlbjogW1JFUExBWV9JQ09OX1RFTVBMQVRFXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7P3N0cmluZ30gY29uc2VudElkXG4gKiBAcmV0dXJuIHshLi4vc2ltcGxlLXRlbXBsYXRlLkVsZW1lbnREZWZ9XG4gKi9cbmNvbnN0IGJ1aWxkUHJvbXB0Q29uc2VudFRlbXBsYXRlID0gY29uc2VudElkID0+IHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7IS4uL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqLyAoe1xuICAgIHRhZzogJ2RpdicsXG4gICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb25zZW50J30pLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIHRhZzogJ2gzJyxcbiAgICAgICAgYXR0cnM6IGRpY3QoeydjbGFzcyc6ICdpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5nICcgK1xuICAgICAgICAgICcgaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29tcG9uZW50J30pLFxuICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfVElUTEUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0YWc6ICdoMicsXG4gICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29uc2VudC1idXR0b24gJyArXG4gICAgICAgICAgICAnaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29tcG9uZW50JyxcbiAgICAgICAgICAnb24nOiBgdGFwOiR7Y29uc2VudElkfS5wcm9tcHRgLFxuICAgICAgICAgICdyb2xlJzogJ2J1dHRvbicsXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2hhbmdlIGRhdGEgcHJpdmFjeSBzZXR0aW5ncycsXG4gICAgICAgIH0pLFxuICAgICAgICBsb2NhbGl6ZWRTdHJpbmdJZDpcbiAgICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfQlVUVE9OX0xBQkVMLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcbn07XG5cblxuLyoqXG4gKiBCb29rZW5kIGNvbXBvbmVudCBmb3IgPGFtcC1zdG9yeT4uXG4gKiBUaGlzIGNvbXBvbmVudCBoYXMgdG8gYmUgYnVpbHQgYW5kIHByZWxvYWRlZCBiZWZvcmUgaXQgY2FuIGJlIGRpc3BsYXllZCxcbiAqIHRocm91Z2ggdGhlICdidWlsZCcgYW5kICdsb2FkQ29uZmlnJyBtZXRob2QuIEl0IGNhbiB0aGVuIGJlIHRvZ2dsZWQgYnlcbiAqIGRpc3BhdGNoaW5nIHRoZSBzdG9yZSBUT0dHTEVfQk9PS0VORCBhY3Rpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBTdG9yeUJvb2tlbmQgZXh0ZW5kcyBBTVAuQmFzZUVsZW1lbnQge1xuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Li9ib29rZW5kLWNvbXBvbmVudC5Cb29rZW5kRGF0YURlZn0gKi9cbiAgICB0aGlzLmNvbmZpZ18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNCdWlsdF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzQm9va2VuZFJlbmRlcmVkXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLnJlcGxheUJ1dHRvbl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUm9vdCBlbGVtZW50IGNvbnRhaW5pbmcgYSBzaGFkb3cgRE9NIHJvb3QuXG4gICAgICogQHByaXZhdGUgez9FbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMucm9vdF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQWN0dWFsIGJvb2tlbmQuXG4gICAgICogQHByaXZhdGUgez9FbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuYm9va2VuZEVsXyA9IG51bGw7XG5cbiAgICBjb25zdCB7d2lufSA9IHRoaXM7XG5cbiAgICAvKiogQHByaXZhdGUgez9TY3JvbGxhYmxlU2hhcmVXaWRnZXR9ICovXG4gICAgdGhpcy5zaGFyZVdpZGdldF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXyA9IGdldFN0b3JlU2VydmljZSh3aW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgYm9va2VuZCBjb21wb25lbnRzIGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBwcm92aWRlZCBzdG9yeS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGlmICh0aGlzLmlzQnVpbHRfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc0J1aWx0XyA9IHRydWU7XG5cbiAgICB0aGlzLnJvb3RfID0gdGhpcy53aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5ib29rZW5kRWxfID0gcmVuZGVyQXNFbGVtZW50KHRoaXMud2luLmRvY3VtZW50LCBST09UX1RFTVBMQVRFKTtcblxuICAgIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUodGhpcy5yb290XywgdGhpcy5ib29rZW5kRWxfLCBDU1MpO1xuXG4gICAgdGhpcy5yZXBsYXlCdXR0b25fID0gdGhpcy5idWlsZFJlcGxheUJ1dHRvbl8oKTtcblxuICAgIHRoaXMuc2hhcmVXaWRnZXRfID1cbiAgICAgICAgU2Nyb2xsYWJsZVNoYXJlV2lkZ2V0LmNyZWF0ZShcbiAgICAgICAgICAgIHRoaXMud2luLCBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50KSk7XG5cbiAgICBjb25zdCBpbm5lckNvbnRhaW5lciA9IHRoaXMuZ2V0SW5uZXJDb250YWluZXJfKCk7XG4gICAgaW5uZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZXBsYXlCdXR0b25fKTtcbiAgICBpbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICAgICAgdGhpcy5zaGFyZVdpZGdldF8uYnVpbGQoZ2V0QW1wZG9jKHRoaXMud2luLmRvY3VtZW50KSkpO1xuXG4gICAgY29uc3QgY29uc2VudElkID0gdGhpcy5zdG9yZVNlcnZpY2VfLmdldChTdGF0ZVByb3BlcnR5LkNPTlNFTlRfSUQpO1xuXG4gICAgaWYgKGNvbnNlbnRJZCkge1xuICAgICAgY29uc3QgcHJvbXB0Q29uc2VudEVsID1cbiAgICAgICAgICByZW5kZXJBc0VsZW1lbnQoXG4gICAgICAgICAgICAgIHRoaXMud2luLmRvY3VtZW50LCBidWlsZFByb21wdENvbnNlbnRUZW1wbGF0ZShTdHJpbmcoY29uc2VudElkKSkpO1xuICAgICAgaW5uZXJDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvbXB0Q29uc2VudEVsKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNfKCk7XG5cbiAgICB0aGlzLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5nZXRSb290KCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbml0aWFsaXplTGlzdGVuZXJzXygpIHtcbiAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB0aGlzLm9uQ2xpY2tfKGV2ZW50KSk7XG4gICAgdGhpcy5yZXBsYXlCdXR0b25fXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHRoaXMub25SZXBsYXlCdXR0b25DbGlja18oZXZlbnQpKTtcblxuICAgIHRoaXMuZ2V0T3ZlcmZsb3dDb250YWluZXJfKCkuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxcbiAgICAgICAgLy8gbWluSW50ZXJ2YWwgaXMgaGlnaCBzaW5jZSB0aGlzIGlzIGEgc3RlcCBmdW5jdGlvbiB0aGF0IGRvZXMgbm90XG4gICAgICAgIC8vIHJlcXVpcmUgc21vb3RobmVzc1xuICAgICAgICB0aHJvdHRsZSh0aGlzLndpbiwgKCkgPT4gdGhpcy5vblNjcm9sbF8oKSwgMTAwKSk7XG5cbiAgICB0aGlzLndpbi5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2ZV8oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBLZXlDb2Rlcy5FU0NBUEUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5CT09LRU5EX1NUQVRFLCBpc0FjdGl2ZSA9PiB7XG4gICAgICB0aGlzLm9uQm9va2VuZFN0YXRlVXBkYXRlXyhpc0FjdGl2ZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQ0FOX1NIT1dfU0hBUklOR19VSVMsIHNob3cgPT4ge1xuICAgICAgdGhpcy5vbkNhblNob3dTaGFyaW5nVWlzVXBkYXRlXyhzaG93KTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcblxuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5zdWJzY3JpYmUoU3RhdGVQcm9wZXJ0eS5VSV9TVEFURSwgdWlTdGF0ZSA9PiB7XG4gICAgICB0aGlzLm9uVUlTdGF0ZVVwZGF0ZV8odWlTdGF0ZSk7XG4gICAgfSwgdHJ1ZSAvKiogY2FsbFRvSW5pdGlhbGl6ZSAqLyk7XG5cbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuUlRMX1NUQVRFLCBydGxTdGF0ZSA9PiB7XG4gICAgICB0aGlzLm9uUnRsU3RhdGVVcGRhdGVfKHJ0bFN0YXRlKTtcbiAgICB9LCB0cnVlIC8qKiBjYWxsVG9Jbml0aWFsaXplICovKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBib29rZW5kIGlzIGRpc3BsYXllZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzQWN0aXZlXygpIHtcbiAgICByZXR1cm4gISF0aGlzLnN0b3JlU2VydmljZV8uZ2V0KFN0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblJlcGxheUJ1dHRvbkNsaWNrXyhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGRpc3BhdGNoKHRoaXMud2luLCB0aGlzLmdldFJvb3QoKSwgRXZlbnRUeXBlLlJFUExBWSxcbiAgICAvKiBwYXlsb2FkICovIHVuZGVmaW5lZCwge2J1YmJsZXM6IHRydWV9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gYm9va2VuZCBzdGF0ZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkJvb2tlbmRTdGF0ZVVwZGF0ZV8oaXNBY3RpdmUpIHtcbiAgICB0aGlzLnRvZ2dsZV8oaXNBY3RpdmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB1cGRhdGVzIHRvIHdoZXRoZXIgc2hhcmluZyBVSXMgbWF5IGJlIHNob3duLCBhbmQgdXBkYXRlcyB0aGUgVUlcbiAgICogYWNjb3JkaW5nbHkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuU2hvd1NoYXJpbmdVaXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQ2FuU2hvd1NoYXJpbmdVaXNVcGRhdGVfKGNhblNob3dTaGFyaW5nVWlzKSB7XG4gICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2ktYW1waHRtbC1zdG9yeS1uby1zaGFyaW5nJywgIWNhblNob3dTaGFyaW5nVWlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gVUkgc3RhdGUgdXBkYXRlcy5cbiAgICogQHBhcmFtIHshVUlUeXBlfSB1aVN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblVJU3RhdGVVcGRhdGVfKHVpU3RhdGUpIHtcbiAgICB0aGlzLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgdWlTdGF0ZSA9PT0gVUlUeXBlLkRFU0tUT1AgP1xuICAgICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKS5zZXRBdHRyaWJ1dGUoJ2Rlc2t0b3AnLCAnJykgOlxuICAgICAgICB0aGlzLmdldFNoYWRvd1Jvb3QoKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rlc2t0b3AnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFjdHMgdG8gUlRMIHN0YXRlIHVwZGF0ZXMgYW5kIHRyaWdnZXJzIHRoZSBVSSBmb3IgUlRMLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJ0bFN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblJ0bFN0YXRlVXBkYXRlXyhydGxTdGF0ZSkge1xuICAgIHRoaXMubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICBydGxTdGF0ZSA/XG4gICAgICAgIHRoaXMuZ2V0U2hhZG93Um9vdCgpLnNldEF0dHJpYnV0ZSgnZGlyJywgJ3J0bCcpIDpcbiAgICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkucmVtb3ZlQXR0cmlidXRlKCdkaXInKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgYm9va2VuZCB2ZXJzaW9uIGZyb20gdGhlIGJvb2tlbmQgSlNPTiBjb25maWcuXG4gICAqIEBwYXJhbSB7IUpzb25PYmplY3R9IGNvbmZpZ1xuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVhZEJvb2tlbmRWZXJzaW9uXyhjb25maWcpIHtcbiAgICBpZiAoY29uZmlnW0RFUFJFQ0FURURfQk9PS0VORF9WRVJTSU9OX0tFWV0pIHtcbiAgICAgIHVzZXIoKS53YXJuKCdBTVAtU1RPUlktQk9PS0VORCcsICdgYm9va2VuZC12ZXJzaW9uYCBhbmQgJyArXG4gICAgICAnYHNoYXJlLXByb3ZpZGVyc2Aga2V5cyBpbiB0aGUgYm9va2VuZCBjb25maWcgYXJlIGRlcHJlY2F0ZWQsIHBsZWFzZSAnICtcbiAgICAgICdgYm9va2VuZFZlcnNpb25gIGFuZCBgc2hhcmVQcm92aWRlcnNgIGtleXMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnW0RFUFJFQ0FURURfQk9PS0VORF9WRVJTSU9OX0tFWV0gfHxcbiAgICAgIGNvbmZpZ1tCT09LRU5EX1ZFUlNJT05fS0VZXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgcHVibGlzaGVyIGJvb2tlbmQgY29uZmlndXJhdGlvbi5cbiAgICogQHJldHVybiB7IVByb21pc2U8Py4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZERhdGFEZWY+fVxuICAgKi9cbiAgbG9hZENvbmZpZygpIHtcbiAgICBpZiAodGhpcy5jb25maWdfKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29uZmlnXyk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdFNlcnZpY2UgPVxuICAgICAgICBnZXRSZXF1ZXN0U2VydmljZShcbiAgICAgICAgICAgIHRoaXMud2luLCBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50KSk7XG5cbiAgICByZXR1cm4gcmVxdWVzdFNlcnZpY2UubG9hZEJvb2tlbmRDb25maWcoKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZWFkQm9va2VuZFZlcnNpb25fKHJlc3BvbnNlKSA9PT0gQk9PS0VORF9WRVJTSU9OXzEpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IEJvb2tlbmRDb21wb25lbnQuYnVpbGRGcm9tSnNvbihcbiAgICAgICAgICAgIHJlc3BvbnNlWydjb21wb25lbnRzJ10sIHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5jb25maWdfID0gLyoqIEB0eXBlIHsuL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmREYXRhRGVmfSAqLyAoe1xuICAgICAgICAgIFtCT09LRU5EX1ZFUlNJT05fS0VZXTogQk9PS0VORF9WRVJTSU9OXzEsXG4gICAgICAgICAgJ2NvbXBvbmVudHMnOiBjb21wb25lbnRzLFxuICAgICAgICAgICdzaGFyZVByb3ZpZGVycyc6IHJlc3BvbnNlW1NIQVJFX1BST1ZJREVSU19LRVldIHx8XG4gICAgICAgICAgICByZXNwb25zZVtERVBSRUNBVEVEX1NIQVJFX1BST1ZJREVSU19LRVldLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE8oIzE0NjY3KTogV3JpdGUgZG9jIHJlZ2FyZGluZyBhbXAtc3RvcnkgYm9va2VuZCB2MS4wLlxuICAgICAgICBkZXYoKS53YXJuKFRBRywgYFZlcnNpb24gJHtCT09LRU5EX1ZFUlNJT05fMH0gb2YgdGhlIGFtcC1zdG9yeWAgK1xuICAgICAgICBgLWJvb2tlbmQgaXMgZGVwcmVjYXRlZC4gVXNlICR7Qk9PS0VORF9WRVJTSU9OXzF9IGluc3RlYWQuYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jb25maWdfO1xuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgdXNlcigpLmVycm9yKFRBRywgJ0Vycm9yIGZldGNoaW5nIGJvb2tlbmQgY29uZmlndXJhdGlvbicsIGUubWVzc2FnZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIHB1Ymxpc2hlciBib29rZW5kIGNvbmZpZ3VyYXRpb24uIEFwcGx5aW5nIHRoZSBjb25maWd1cmF0aW9uXG4gICAqIHdpbGwgcHJlcmVuZGVyIHRoZSBib29rZW5kIERPTSwgYnV0IHRoZXJlIGFyZSBjYXNlcyB3aGVyZSB3ZSBuZWVkIGl0IGJlZm9yZVxuICAgKiB0aGUgY29tcG9uZW50IGlzIGJ1aWx0LiBFZzogdGhlIGRlc2t0b3Agc2hhcmUgYnV0dG9uIG5lZWRzIHRoZSBwcm92aWRlcnMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlbmRlckJvb2tlbmQgIFdoZXRoZXIgdGhlIGJvb2tlbmQgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgKiBXaGVuIHNldCB0byBmYWxzZSBpdCBhbGxvd3MgdGhlIGNvbmZpZyB0byBiZSBmZXRjaGVkIGJlZm9yZSB0aGUgY29tcG9uZW50XG4gICAqIGlzIGJ1aWx0LCBmb3IgY2FzZXMgbGlrZSBnZXR0aW5nIHRoZSBzaGFyZSBwcm92aWRlcnNcbiAgICogb24gZGVza3RvcC5cbiAgICogQHJldHVybiB7IVByb21pc2U8Py4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZERhdGFEZWY+fVxuICAgKi9cbiAgbG9hZENvbmZpZ0FuZE1heWJlUmVuZGVyQm9va2VuZChyZW5kZXJCb29rZW5kID0gdHJ1ZSkge1xuICAgIHJldHVybiB0aGlzLmxvYWRDb25maWcoKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICBpZiAocmVuZGVyQm9va2VuZCAmJiAhdGhpcy5pc0Jvb2tlbmRSZW5kZXJlZF8gJiYgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckJvb2tlbmRfKGNvbmZpZykudGhlbigoKSA9PiBjb25maWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBvbiB0aGUgYm9va2VuZDpcbiAgICogICAtIENsb3NlcyBib29rZW5kIGlmIHRhcHBpbmcgb3V0c2lkZSB1c2FibGUgYXJlYVxuICAgKiAgIC0gRm9yd2FyZHMgQU1QIGFjdGlvbnNcbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNsaWNrXyhldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRPdXRzaWRlVXNhYmxlQXJlYV8odGFyZ2V0KSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNsb3NlXygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdvbicpKSB7XG4gICAgICBjb25zdCBhY3Rpb25TZXJ2aWNlID0gU2VydmljZXMuYWN0aW9uU2VydmljZUZvckRvYyh0aGlzLmVsZW1lbnQpO1xuICAgICAgYWN0aW9uU2VydmljZS50cmlnZ2VyKHRhcmdldCwgJ3RhcCcsIGV2ZW50LCBBY3Rpb25UcnVzdC5ISUdIKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBib29rZW5kLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2xvc2VfKCkge1xuICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaChBY3Rpb24uVE9HR0xFX0JPT0tFTkQsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZWxlbWVudE91dHNpZGVVc2FibGVBcmVhXyhlbCkge1xuICAgIHJldHVybiAhY2xvc2VzdChlbCwgZWwgPT4gZWwgPT0gdGhpcy5nZXRJbm5lckNvbnRhaW5lcl8oKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlcyBiZXR3ZWVuIGNhcmQgdmlldyBhbmQgZnVsbC1ibGVlZCBiYXNlZCBvbiBzY3JvbGwgcG9zaXRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblNjcm9sbF8oKSB7XG4gICAgaWYgKCF0aGlzLmlzQWN0aXZlXygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzaG91bGRCZUZ1bGxCbGVlZCA9IGZhbHNlO1xuICAgIHRoaXMubWVhc3VyZU11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgc2hvdWxkQmVGdWxsQmxlZWQgPVxuICAgICAgICAgIHRoaXMuZ2V0T3ZlcmZsb3dDb250YWluZXJfKCkuLypPSyovc2Nyb2xsVG9wID49IEZVTExCTEVFRF9USFJFU0hPTEQ7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgICAgICBGVUxMQkxFRURfQ0xBU1NOQU1FLCBzaG91bGRCZUZ1bGxCbGVlZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBzaG93XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0b2dnbGVfKHNob3cpIHtcbiAgICB0aGlzLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTaGFkb3dSb290KCkuY2xhc3NMaXN0LnRvZ2dsZShISURERU5fQ0xBU1NOQU1FLCAhc2hvdyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQnVpbHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNCdWlsdF87XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXNzZXJ0QnVpbHRfKCkge1xuICAgIGRldigpLmFzc2VydCh0aGlzLmlzQnVpbHQoKSwgJ0Jvb2tlbmQgY29tcG9uZW50IG5lZWRzIHRvIGJlIGJ1aWx0LicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZERhdGFEZWZ9IGJvb2tlbmRDb25maWdcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW5kZXJCb29rZW5kXyhib29rZW5kQ29uZmlnKSB7XG4gICAgdGhpcy5hc3NlcnRCdWlsdF8oKTtcbiAgICB0aGlzLmlzQm9va2VuZFJlbmRlcmVkXyA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJDb21wb25lbnRzXyhib29rZW5kQ29uZmlnLmNvbXBvbmVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIGNvbmZpZ3VyYWJsZSBjb21wb25lbnRzIG9mIHRoZSBib29rZW5kIGluIHRoZSBwYWdlLiBJdCByZXR1cm5zXG4gICAqIGEgcHJvbWlzZSB0byBlbnN1cmUgbG9hZENvbmZpZ0FuZE1heWJlUmVuZGVyQm9va2VuZCByZW5kZXJzIHRoZSBjb21wb25lbnRzXG4gICAqIGZpcnN0IGJlZm9yZSBwcm9jZWVkaW5nLiBUaGlzIGlzIG5lZWRlZCBmb3Igb3VyIHVuaXQgdGVzdHMuXG4gICAqIEBwYXJhbSB7IUFycmF5PCEuLi9ib29rZW5kL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmRDb21wb25lbnREZWY+fSBjb21wb25lbnRzXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVuZGVyQ29tcG9uZW50c18oY29tcG9uZW50cykge1xuICAgIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5ib29rZW5kRWxfLCAnRXJyb3IgcmVuZGVyaW5nIGFtcC1zdG9yeS1ib29rZW5kLicpO1xuXG4gICAgcmV0dXJuIFNlcnZpY2VzXG4gICAgICAgIC5sb2NhbGl6YXRpb25TZXJ2aWNlRm9yT3JOdWxsKHRoaXMud2luKS50aGVuKGxvY2FsaXphdGlvblNlcnZpY2UgPT4ge1xuICAgICAgICAgIGNvbnN0IGJvb2tlbmRFbHMgPSBCb29rZW5kQ29tcG9uZW50XG4gICAgICAgICAgICAgIC5idWlsZEVsZW1lbnRzKFxuICAgICAgICAgICAgICAgICAgY29tcG9uZW50cywgdGhpcy53aW4uZG9jdW1lbnQsIGxvY2FsaXphdGlvblNlcnZpY2UpO1xuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRldigpLmFzc2VydEVsZW1lbnQoXG4gICAgICAgICAgICAgIEJvb2tlbmRDb21wb25lbnQuYnVpbGRDb250YWluZXIodGhpcy5nZXRJbm5lckNvbnRhaW5lcl8oKSxcbiAgICAgICAgICAgICAgICAgIHRoaXMud2luLmRvY3VtZW50KSk7XG4gICAgICAgICAgdGhpcy5tdXRhdGVFbGVtZW50KCgpID0+IGNvbnRhaW5lci5hcHBlbmRDaGlsZChib29rZW5kRWxzKSk7XG4gICAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHVzZXIoKS5lcnJvcihUQUcsICdVbmFibGUgdG8gZmV0Y2ggbG9jYWxpemF0aW9uIHNlcnZpY2UuJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IUVsZW1lbnR9ICovXG4gIGdldFJvb3QoKSB7XG4gICAgdGhpcy5hc3NlcnRCdWlsdF8oKTtcbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnJvb3RfKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHshRWxlbWVudH0gKi9cbiAgZ2V0U2hhZG93Um9vdCgpIHtcbiAgICB0aGlzLmFzc2VydEJ1aWx0XygpO1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMuYm9va2VuZEVsXyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjb250YWluZXIgZm9yIGJvb2tlbmQgY29udGVudC5cbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRJbm5lckNvbnRhaW5lcl8oKSB7XG4gICAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5nZXRPdmVyZmxvd0NvbnRhaW5lcl8oKS5maXJzdEVsZW1lbnRDaGlsZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBvdXRlciBjb250YWluZXIgdGhhdCBnZXRzIHNjcm9sbGVkLlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE92ZXJmbG93Q29udGFpbmVyXygpIHtcbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLmdldFNoYWRvd1Jvb3QoKS5maXJzdEVsZW1lbnRDaGlsZCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7e1xuICAgKiAgIHRpdGxlOiBzdHJpbmcsXG4gICAqICAgZG9tYWluTmFtZTogc3RyaW5nLFxuICAgKiAgIGltYWdlVXJsOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gICAqIH19XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRTdG9yeU1ldGFkYXRhXygpIHtcbiAgICBjb25zdCBqc29uTGQgPSBnZXRKc29uTGQodGhpcy5nZXRBbXBEb2MoKS5nZXRSb290Tm9kZSgpKTtcblxuICAgIGNvbnN0IHVybFNlcnZpY2UgPSBTZXJ2aWNlcy51cmxGb3JEb2ModGhpcy5nZXRBbXBEb2MoKSk7XG4gICAgY29uc3Qge2Nhbm9uaWNhbFVybH0gPSBTZXJ2aWNlcy5kb2N1bWVudEluZm9Gb3JEb2ModGhpcy5nZXRBbXBEb2MoKSk7XG4gICAgY29uc3Qge2hvc3RuYW1lOiBkb21haW5OYW1lfSA9IHVybFNlcnZpY2UucGFyc2UoY2Fub25pY2FsVXJsKTtcblxuICAgIGNvbnN0IHRpdGxlID1cbiAgICAgIGpzb25MZCAmJiBqc29uTGRbJ2hlYWRsaW5lJ10gP1xuICAgICAgICBqc29uTGRbJ2hlYWRsaW5lJ10gOlxuICAgICAgICB1c2VyKCkuYXNzZXJ0RWxlbWVudChcbiAgICAgICAgICAgIHRoaXMud2luLmRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKSxcbiAgICAgICAgICAgICdQbGVhc2Ugc2V0IDx0aXRsZT4gb3Igc3RydWN0dXJlZCBkYXRhIChKU09OLUxEKS4nKS50ZXh0Q29udGVudDtcblxuICAgIGNvbnN0IG1ldGFkYXRhID0ge2RvbWFpbk5hbWUsIHRpdGxlfTtcbiAgICBjb25zdCBpbWFnZSA9IGpzb25MZCAmJiBpc0FycmF5KGpzb25MZFsnaW1hZ2UnXSkgPyBqc29uTGRbJ2ltYWdlJ10gOiBudWxsO1xuXG4gICAgaWYgKGltYWdlICE9IG51bGwgJiYgaW1hZ2UubGVuZ3RoID49IDApIHtcbiAgICAgIHVzZXIoKS5hc3NlcnQodXJsU2VydmljZS5pc1Byb3RvY29sVmFsaWQoaW1hZ2VbMF0pLFxuICAgICAgICAgIGBVbnN1cHBvcnRlZCBwcm90b2NvbCBmb3Igc3RvcnkgaW1hZ2UgVVJMICR7aW1hZ2VbMF19YCk7XG4gICAgICBtZXRhZGF0YS5pbWFnZVVybCA9IGltYWdlWzBdO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ1aWxkUmVwbGF5QnV0dG9uXygpIHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuZ2V0U3RvcnlNZXRhZGF0YV8oKTtcbiAgICByZXR1cm4gcmVuZGVyQXNFbGVtZW50KHRoaXMud2luLmRvY3VtZW50LCBidWlsZFJlcGxheUJ1dHRvblRlbXBsYXRlKFxuICAgICAgICBtZXRhZGF0YS50aXRsZSxcbiAgICAgICAgbWV0YWRhdGEuZG9tYWluTmFtZSxcbiAgICAgICAgbWV0YWRhdGEuaW1hZ2VVcmwpKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuaW1wb3J0IHtBcnRpY2xlQ29tcG9uZW50fSBmcm9tICcuL2NvbXBvbmVudHMvYXJ0aWNsZSc7XG5pbXBvcnQge0N0YUxpbmtDb21wb25lbnR9IGZyb20gJy4vY29tcG9uZW50cy9jdGEtbGluayc7XG5pbXBvcnQge0hlYWRpbmdDb21wb25lbnR9IGZyb20gJy4vY29tcG9uZW50cy9oZWFkaW5nJztcbmltcG9ydCB7TGFuZHNjYXBlQ29tcG9uZW50fSBmcm9tICcuL2NvbXBvbmVudHMvbGFuZHNjYXBlJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nSWR9IGZyb20gJy4uL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1BvcnRyYWl0Q29tcG9uZW50fSBmcm9tICcuL2NvbXBvbmVudHMvcG9ydHJhaXQnO1xuaW1wb3J0IHtUZXh0Qm94Q29tcG9uZW50fSBmcm9tICcuL2NvbXBvbmVudHMvdGV4dC1ib3gnO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtodG1sRm9yfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc3RhdGljLXRlbXBsYXRlJztcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgVEFHID0gJ2FtcC1zdG9yeS1ib29rZW5kJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBib29rZW5kVmVyc2lvbjogc3RyaW5nLFxuICogICBjb21wb25lbnRzOiAhQXJyYXk8IUJvb2tlbmRDb21wb25lbnREZWY+LFxuICogICBzaGFyZVByb3ZpZGVyczogIUFycmF5PCghSnNvbk9iamVjdHxzdHJpbmd8dW5kZWZpbmVkKT4sXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEJvb2tlbmREYXRhRGVmO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtcbiAqICAgKCEuL2NvbXBvbmVudHMvYXJ0aWNsZS5BcnRpY2xlQ29tcG9uZW50RGVmfFxuICogICAgIS4vY29tcG9uZW50cy9jdGEtbGluay5DdGFMaW5rRGVmfFxuICogICAgIS4vY29tcG9uZW50cy9oZWFkaW5nLkhlYWRpbmdDb21wb25lbnREZWZ8XG4gKiAgICAhLi9jb21wb25lbnRzL2xhbmRzY2FwZS5MYW5kc2NhcGVDb21wb25lbnREZWZ8XG4gKiAgICAhLi9jb21wb25lbnRzL3BvcnRyYWl0LlBvcnRyYWl0Q29tcG9uZW50RGVmfFxuICogICAgIS4vY29tcG9uZW50cy90ZXh0LWJveC5UZXh0Qm94Q29tcG9uZW50RGVmKVxuICogfVxuICovXG5leHBvcnQgbGV0IEJvb2tlbmRDb21wb25lbnREZWY7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7XG4gKiAgICghQXJ0aWNsZUNvbXBvbmVudHxcbiAqICAgICFDdGFMaW5rQ29tcG9uZW50fFxuICogICAgIUhlYWRpbmdDb21wb25lbnR8XG4gKiAgICAhTGFuZHNjYXBlQ29tcG9uZW50fFxuICogICAgIVBvcnRyYWl0Q29tcG9uZW50fFxuICogICAgIVRleHRCb3hDb21wb25lbnQpXG4gKiB9XG4gKi9cbmV4cG9ydCBsZXQgQm9va2VuZENvbXBvbmVudENsYXNzO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhQm9va2VuZENvbXBvbmVudENsYXNzPn0gKi9cbmNvbnN0IGJ1aWxkZXJJbnN0YW5jZXMgPSB7fTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpCb29rZW5kQ29tcG9uZW50Q2xhc3MpfSBjdG9yXG4gKiBAcmV0dXJuIHshQm9va2VuZENvbXBvbmVudENsYXNzfVxuICogQHJlc3RyaWN0ZWRcbiAqL1xuZnVuY3Rpb24gc2V0QnVpbGRlckluc3RhbmNlKHR5cGUsIGN0b3IpIHtcbiAgcmV0dXJuIChidWlsZGVySW5zdGFuY2VzW3R5cGVdID0gYnVpbGRlckluc3RhbmNlc1t0eXBlXSB8fCBuZXcgY3RvcigpKTtcbn1cblxuXG4vKipcbiAqIERpc3BhdGNoZXMgdGhlIGNvbXBvbmVudHMgdG8gdGhlaXIgc3BlY2lmaWMgYnVpbGRlciBjbGFzc2VzLlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4gez9Cb29rZW5kQ29tcG9uZW50Q2xhc3N9XG4gKiBAcmVzdHJpY3RlZFxuICovXG5mdW5jdGlvbiBjb21wb25lbnRCdWlsZGVySW5zdGFuY2VGb3IodHlwZSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzbWFsbCc6XG4gICAgICByZXR1cm4gc2V0QnVpbGRlckluc3RhbmNlKHR5cGUsIEFydGljbGVDb21wb25lbnQpO1xuICAgIGNhc2UgJ2N0YS1saW5rJzpcbiAgICAgIHJldHVybiBzZXRCdWlsZGVySW5zdGFuY2UodHlwZSwgQ3RhTGlua0NvbXBvbmVudCk7XG4gICAgY2FzZSAnaGVhZGluZyc6XG4gICAgICByZXR1cm4gc2V0QnVpbGRlckluc3RhbmNlKHR5cGUsIEhlYWRpbmdDb21wb25lbnQpO1xuICAgIGNhc2UgJ2xhbmRzY2FwZSc6XG4gICAgICByZXR1cm4gc2V0QnVpbGRlckluc3RhbmNlKHR5cGUsIExhbmRzY2FwZUNvbXBvbmVudCk7XG4gICAgY2FzZSAncG9ydHJhaXQnOlxuICAgICAgcmV0dXJuIHNldEJ1aWxkZXJJbnN0YW5jZSh0eXBlLCBQb3J0cmFpdENvbXBvbmVudCk7XG4gICAgY2FzZSAndGV4dGJveCc6XG4gICAgICByZXR1cm4gc2V0QnVpbGRlckluc3RhbmNlKHR5cGUsIFRleHRCb3hDb21wb25lbnQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFByZXBlbmQgYSBoZWFkaW5nIHRvIHRoZSByZWxhdGVkIGFydGljbGVzIHNlY3Rpb24gaWYgZmlyc3QgY29tcG9uZW50IGlzIG5vdCBhXG4gKiBoZWFkaW5nIGFscmVhZHkuXG4gKiBAcGFyYW0geyFBcnJheTxCb29rZW5kQ29tcG9uZW50RGVmPn0gY29tcG9uZW50c1xuICogQHBhcmFtIHs/Li4vbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2V9IGxvY2FsaXphdGlvblNlcnZpY2VcbiAqIEByZXR1cm4geyFBcnJheTxCb29rZW5kQ29tcG9uZW50RGVmPn1cbiAqL1xuZnVuY3Rpb24gcHJlcGVuZFRpdGxlKGNvbXBvbmVudHMsIGxvY2FsaXphdGlvblNlcnZpY2UpIHtcbiAgaWYgKGNvbXBvbmVudHNbMF0gJiYgY29tcG9uZW50c1swXS50eXBlID09ICdoZWFkaW5nJykge1xuICAgIHJldHVybiBjb21wb25lbnRzO1xuICB9XG5cbiAgY29uc3QgdGl0bGUgPSBsb2NhbGl6YXRpb25TZXJ2aWNlXG4gICAgICAuZ2V0TG9jYWxpemVkU3RyaW5nKFxuICAgICAgICAgIExvY2FsaXplZFN0cmluZ0lkLkFNUF9TVE9SWV9CT09LRU5EX01PUkVfVE9fUkVBRF9MQUJFTCk7XG4gIGNvbXBvbmVudHMudW5zaGlmdCh7J3R5cGUnOiAnaGVhZGluZycsICd0ZXh0JzogdGl0bGV9KTtcbiAgcmV0dXJuIGNvbXBvbmVudHM7XG59XG5cbi8qKlxuICogRGVsZWdhdG9yIGNsYXNzIHRoYXQgZGlzcGF0Y2hlcyB0aGUgbG9naWMgdG8gYnVpbGQgZGlmZmVyZW50IGNvbXBvbmVudHNcbiAqIG9uIHRoZSBib29rZW5kIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2xhc3Nlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2tlbmRDb21wb25lbnQge1xuICAvKipcbiAgICogVGFrZXMgY29tcG9uZW50cyBmcm9tIEpTT04gYW5kIGRlbGVnYXRlcyB0aGVtIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogYnVpbGRlciBjbGFzcy5cbiAgICogQHBhcmFtIHshQXJyYXk8Qm9va2VuZENvbXBvbmVudERlZj59IGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAgICogQHJldHVybiB7IUFycmF5PEJvb2tlbmRDb21wb25lbnREZWY+fVxuICAgKi9cbiAgc3RhdGljIGJ1aWxkRnJvbUpzb24oY29tcG9uZW50cywgZWwpIHtcbiAgICByZXR1cm4gY29tcG9uZW50cy5yZWR1Y2UoKGJ1aWx0Q29tcG9uZW50cywgY29tcG9uZW50KSA9PiB7XG4gICAgICBjb25zdCBjb21wb25lbnRCdWlsZGVyID0gY29tcG9uZW50QnVpbGRlckluc3RhbmNlRm9yKGNvbXBvbmVudC50eXBlKTtcbiAgICAgIGlmICghY29tcG9uZW50QnVpbGRlcikge1xuICAgICAgICBkZXYoKS5lcnJvcihUQUcsICdDb21wb25lbnQgdHlwZSBgJyArIGNvbXBvbmVudC50eXBlICtcbiAgICAgICAgJ2AgaXMgbm90IHN1cHBvcnRlZC4gU2tpcHBpbmcgaW52YWxpZC4nKTtcbiAgICAgICAgcmV0dXJuIGJ1aWx0Q29tcG9uZW50cztcbiAgICAgIH1cbiAgICAgIGNvbXBvbmVudEJ1aWxkZXIuYXNzZXJ0VmFsaWRpdHkoY29tcG9uZW50LCBlbCk7XG4gICAgICBidWlsdENvbXBvbmVudHMucHVzaChjb21wb25lbnRCdWlsZGVyLmJ1aWxkKGNvbXBvbmVudCwgZWwpKTtcbiAgICAgIHJldHVybiBidWlsdENvbXBvbmVudHM7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgYm9va2VuZCBjb21wb25lbnRzIGVsZW1lbnRzIGJ5IGNob29zaW5nIHRoZSBhcHByb3ByaWF0ZSBidWlsZGVyXG4gICAqIGNsYXNzIGFuZCBhcHBlbmRpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZSBjb250YWluZXIuXG4gICAqIEBwYXJhbSB7IUFycmF5PEJvb2tlbmRDb21wb25lbnREZWY+fSBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAgICogQHBhcmFtIHs/Li4vbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2V9IGxvY2FsaXphdGlvblNlcnZpY2VcbiAgICogQHJldHVybiB7IURvY3VtZW50RnJhZ21lbnR9XG4gICAqL1xuICBzdGF0aWMgYnVpbGRFbGVtZW50cyhjb21wb25lbnRzLCBkb2MsIGxvY2FsaXphdGlvblNlcnZpY2UpIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICBjb21wb25lbnRzID0gcHJlcGVuZFRpdGxlKGNvbXBvbmVudHMsIGxvY2FsaXphdGlvblNlcnZpY2UpO1xuXG4gICAgY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICBjb25zdCB7dHlwZX0gPSBjb21wb25lbnQ7XG4gICAgICBpZiAodHlwZSAmJiBjb21wb25lbnRCdWlsZGVySW5zdGFuY2VGb3IodHlwZSkpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29tcG9uZW50QnVpbGRlckluc3RhbmNlRm9yKHR5cGUpXG4gICAgICAgICAgICAuYnVpbGRFbGVtZW50KGNvbXBvbmVudCwgZG9jKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBjb250YWluZXIgZm9yIGNvbXBvbmVudHMuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgQm9va2VuZCBjb250YWluZXJcbiAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICAgKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAgICovXG4gIHN0YXRpYyBidWlsZENvbnRhaW5lcihlbGVtZW50LCBkb2MpIHtcbiAgICBjb25zdCBodG1sID0gaHRtbEZvcihkb2MpO1xuICAgIGNvbnN0IGNvbnRhaW5lclRlbXBsYXRlID1cbiAgICAgIGh0bWxgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudC1zZXRcIj48L2Rpdj5gO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyVGVtcGxhdGUpO1xuICAgIHJldHVybiBlbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQ7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9IGZyb20gJy4vYm9va2VuZC1jb21wb25lbnQtaW50ZXJmYWNlJztcbmltcG9ydCB7YWRkQXR0cmlidXRlc1RvRWxlbWVudH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRTb3VyY2VPcmlnaW5Gb3JCb29rZW5kQ29tcG9uZW50fSBmcm9tICcuL2Jvb2tlbmQtY29tcG9uZW50LWludGVyZmFjZSc7XG5pbXBvcnQge2h0bWxGb3IsIGh0bWxSZWZzfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvc3RhdGljLXRlbXBsYXRlJztcbmltcG9ydCB7dXNlcn0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge3VzZXJBc3NlcnRWYWxpZFByb3RvY29sfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgdHlwZTogc3RyaW5nLFxuICogICB0aXRsZTogc3RyaW5nLFxuICogICB1cmw6IHN0cmluZyxcbiAqICAgaW1hZ2U6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgZG9tYWluTmFtZTogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBBcnRpY2xlQ29tcG9uZW50RGVmO1xuXG4vKipcbiAqIEJ1aWxkZXIgY2xhc3MgZm9yIHRoZSBzbWFsbCBhcnRpY2xlIGNvbXBvbmVudC5cbiAqIEBpbXBsZW1lbnRzIHtCb29rZW5kQ29tcG9uZW50SW50ZXJmYWNlfVxuICovXG5leHBvcnQgY2xhc3MgQXJ0aWNsZUNvbXBvbmVudCB7XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3NlcnRWYWxpZGl0eShhcnRpY2xlSnNvbiwgZWxlbWVudCkge1xuXG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ3RpdGxlJywgJ3VybCddO1xuICAgIGNvbnN0IGhhc0FsbFJlcXVpcmVkRmllbGRzID1cbiAgICAgICAgIXJlcXVpcmVkRmllbGRzLnNvbWUoZmllbGQgPT4gIShmaWVsZCBpbiBhcnRpY2xlSnNvbikpO1xuICAgIHVzZXIoKS5hc3NlcnQoXG4gICAgICAgIGhhc0FsbFJlcXVpcmVkRmllbGRzLFxuICAgICAgICAnU21hbGwgYXJ0aWNsZSBjb21wb25lbnQgbXVzdCBjb250YWluICcgK1xuICAgICAgICAgICAgcmVxdWlyZWRGaWVsZHMubWFwKGZpZWxkID0+ICdgJyArIGZpZWxkICsgJ2AnKS5qb2luKCcsICcpICtcbiAgICAgICAgICAgICcgZmllbGRzLCBza2lwcGluZyBpbnZhbGlkLicpO1xuXG4gICAgdXNlckFzc2VydFZhbGlkUHJvdG9jb2woZWxlbWVudCwgYXJ0aWNsZUpzb25bJ3VybCddKTtcblxuICAgIGNvbnN0IGltYWdlID0gYXJ0aWNsZUpzb25bJ2ltYWdlJ107XG4gICAgaWYgKGltYWdlKSB7XG4gICAgICB1c2VyQXNzZXJ0VmFsaWRQcm90b2NvbChlbGVtZW50LCBpbWFnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBidWlsZChhcnRpY2xlSnNvbiwgZWxlbWVudCkge1xuICAgIGNvbnN0IHVybCA9IGFydGljbGVKc29uWyd1cmwnXTtcbiAgICBjb25zdCBkb21haW5OYW1lID0gZ2V0U291cmNlT3JpZ2luRm9yQm9va2VuZENvbXBvbmVudChlbGVtZW50LCB1cmwpO1xuXG4gICAgY29uc3QgYXJ0aWNsZSA9IHtcbiAgICAgIHVybCxcbiAgICAgIGRvbWFpbk5hbWUsXG4gICAgICB0eXBlOiBhcnRpY2xlSnNvblsndHlwZSddLFxuICAgICAgdGl0bGU6IGFydGljbGVKc29uWyd0aXRsZSddLFxuICAgIH07XG5cbiAgICBpZiAoYXJ0aWNsZUpzb25bJ2ltYWdlJ10pIHtcbiAgICAgIGFydGljbGUuaW1hZ2UgPSBhcnRpY2xlSnNvblsnaW1hZ2UnXTtcbiAgICB9XG5cbiAgICBpZiAoYXJ0aWNsZUpzb25bJ2FtcGh0bWwnXSkge1xuICAgICAgYXJ0aWNsZS5hbXBodG1sID0gYXJ0aWNsZUpzb25bJ2FtcGh0bWwnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyoqIEB0eXBlIHshQXJ0aWNsZUNvbXBvbmVudERlZn0gKi8gKGFydGljbGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBidWlsZEVsZW1lbnQoYXJ0aWNsZURhdGEsIGRvYykge1xuICAgIGNvbnN0IGh0bWwgPSBodG1sRm9yKGRvYyk7XG4gICAgLy9UT0RPKCMxNDY1NywgIzE0NjU4KTogQmluYXJpZXMgcmVzdWx0aW5nIGZyb20gaHRtbEZvciBhcmUgYmxvYXRlZC5cbiAgICBjb25zdCBlbCA9XG4gICAgICAgIGh0bWxgXG4gICAgICAgIDxhIGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZVxuICAgICAgICAgIGktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudFwiXG4gICAgICAgICAgdGFyZ2V0PVwiX3RvcFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1hcnRpY2xlLXRleHQtY29udGVudFwiPlxuICAgICAgICAgICAgPGgyXG4gICAgICAgICAgICAgIGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtYXJ0aWNsZS1oZWFkaW5nXCIgcmVmPVwiaGVhZGluZ1wiPlxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnQtbWV0YVwiIHJlZj1cIm1ldGFcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2E+YDtcbiAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGVsLCBkaWN0KHsnaHJlZic6IGFydGljbGVEYXRhLnVybH0pKTtcblxuICAgIGlmIChhcnRpY2xlRGF0YVsnYW1waHRtbCddID09PSB0cnVlKSB7XG4gICAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGVsLCBkaWN0KHsncmVsJzogJ2FtcGh0bWwnfSkpO1xuICAgIH1cblxuICAgIGlmIChhcnRpY2xlRGF0YS5pbWFnZSkge1xuICAgICAgY29uc3QgaW1nRWwgPVxuICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaW1hZ2VcIj5cbiAgICAgICAgICAgIDxpbWcgcmVmPVwiaW1hZ2VcIj5cbiAgICAgICAgICAgIDwvaW1nPlxuICAgICAgICAgIDwvZGl2PmA7XG5cbiAgICAgIGNvbnN0IHtpbWFnZX0gPSBodG1sUmVmcyhpbWdFbCk7XG4gICAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGltYWdlLCBkaWN0KHsnc3JjJzogYXJ0aWNsZURhdGEuaW1hZ2V9KSk7XG4gICAgICBlbC5hcHBlbmRDaGlsZChpbWdFbCk7XG4gICAgfVxuXG4gICAgY29uc3QgYXJ0aWNsZUVsZW1lbnRzID0gaHRtbFJlZnMoZWwpO1xuICAgIGNvbnN0IHtoZWFkaW5nLCBtZXRhfSA9IGFydGljbGVFbGVtZW50cztcblxuICAgIGhlYWRpbmcudGV4dENvbnRlbnQgPSBhcnRpY2xlRGF0YS50aXRsZTtcbiAgICBtZXRhLnRleHRDb250ZW50ID0gYXJ0aWNsZURhdGEuZG9tYWluTmFtZTtcblxuICAgIHJldHVybiBlbDtcbiAgfVxufVxuIiwiaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7Z2V0U291cmNlT3JpZ2lufSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvdXJsJztcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogSW50ZXJmYWNlIGltcGxlbWVudGVkIGJ5IHRoZSBib29rZW5kIGNvbXBvbmVudHMuXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBCb29rZW5kQ29tcG9uZW50SW50ZXJmYWNlIHtcblxuICAvKipcbiAgICogQXNzZXJ0cyB3aGV0aGVyIHRoZSBjb21vcG5lbnQgaXMgdmFsaWQuXG4gICAqIEBwYXJhbSB7Li4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZENvbXBvbmVudERlZn0gdW51c2VkQ29tcG9uZW50SnNvblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSB1bnVzZWRFbGVtZW50XG4gICAqL1xuICBhc3NlcnRWYWxpZGl0eSh1bnVzZWRDb21wb25lbnRKc29uLCB1bnVzZWRFbGVtZW50KSB7fVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGNvbXBvbmVudC5cbiAgICogQHBhcmFtIHsuLi9ib29rZW5kLWNvbXBvbmVudC5Cb29rZW5kQ29tcG9uZW50RGVmfSB1bnVzZWRDb21wb25lbnRKc29uXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHVudXNlZEVsZW1lbnRcbiAgICogQHJldHVybiB7Li4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZENvbXBvbmVudERlZn1cbiAgICovXG4gIGJ1aWxkKHVudXNlZENvbXBvbmVudEpzb24sIHVudXNlZEVsZW1lbnQpIHt9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgRE9NIGVsZW1lbnQgZm9yIHRoZSBjb21wb25lbnQuXG4gICAqIEBwYXJhbSB7Li4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZENvbXBvbmVudERlZn0gdW51c2VkQ29tcG9uZW50SnNvblxuICAgKiBAcGFyYW0geyFEb2N1bWVudH0gdW51c2VkRG9jXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgYnVpbGRFbGVtZW50KHVudXNlZENvbXBvbmVudEpzb24sIHVudXNlZERvYykge31cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBvcmlnaW4gdXJsIGZvciBjb21wb25lbnRzIHRoYXQgZGlzcGxheSBhIHVybCBpbiB0aGUgYm9va2VuZC4gSXRcbiAqIHRyaW1zIHRoZSBwcm90b2NvbCBwcmVmaXggYW5kIHJldHVybnMgb25seSB0aGUgaG9zdG5hbWUgb2YgdGhlIG9yaWdpbi5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNvdXJjZU9yaWdpbkZvckJvb2tlbmRDb21wb25lbnQoZWxlbWVudCwgdXJsKSB7XG4gIGxldCBkb21haW5OYW1lO1xuICB0cnkge1xuICAgIGRvbWFpbk5hbWUgPSBnZXRTb3VyY2VPcmlnaW4oU2VydmljZXMudXJsRm9yRG9jKGVsZW1lbnQpLnBhcnNlKHVybCkpO1xuICAgIC8vIFJlbW92ZSBwcm90b2NvbCBwcmVmaXguXG4gICAgZG9tYWluTmFtZSA9IFNlcnZpY2VzLnVybEZvckRvYyhlbGVtZW50KS5wYXJzZShkb21haW5OYW1lKS5ob3N0bmFtZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFVua25vd24gcGF0aCBwcmVmaXggaW4gdXJsLlxuICAgIGRvbWFpbk5hbWUgPSBTZXJ2aWNlcy51cmxGb3JEb2MoZWxlbWVudCkucGFyc2UodXJsKS5ob3N0bmFtZTtcbiAgfVxuICByZXR1cm4gZG9tYWluTmFtZTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9IGZyb20gJy4vYm9va2VuZC1jb21wb25lbnQtaW50ZXJmYWNlJztcbmltcG9ydCB7YWRkQXR0cmlidXRlc1RvRWxlbWVudH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtodG1sRm9yLCBodG1sUmVmc30gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL3N0YXRpYy10ZW1wbGF0ZSc7XG5pbXBvcnQge2lzQXJyYXl9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge3VzZXJ9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHt1c2VyQXNzZXJ0VmFsaWRQcm90b2NvbH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHVybDogc3RyaW5nLFxuICogICB0ZXh0OiBzdHJpbmcsXG4gKiB9fVxuICovXG5sZXQgQ3RhTGlua0FyckRlZjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICB0eXBlOiBzdHJpbmcsXG4gKiAgIGxpbmtzOiAhQXJyYXk8Q3RhTGlua0FyckRlZj4sXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEN0YUxpbmtEZWY7XG5cbi8qKlxuICogQnVpbGRlciBjbGFzcyBmb3IgdGhlIGNhbGwgdG8gYWN0aW9uIGxpbmsgY29tcG9uZW50LlxuICogQGltcGxlbWVudHMge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9XG4gKi9cbmV4cG9ydCBjbGFzcyBDdGFMaW5rQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmRDb21wb25lbnREZWZ9IGN0YUxpbmtzSnNvblxuICAgKiBAb3ZlcnJpZGVcbiAgICogKi9cbiAgYXNzZXJ0VmFsaWRpdHkoY3RhTGlua3NKc29uLCBlbGVtZW50KSB7XG4gICAgY29uc3QgbGlua3MgPSBjdGFMaW5rc0pzb25bJ2xpbmtzJ107XG4gICAgdXNlcigpLmFzc2VydChsaW5rcyAmJiBpc0FycmF5KGxpbmtzKSAmJiBsaW5rcy5sZW5ndGggPiAwLFxuICAgICAgICAnQ1RBIGxpbmsgY29tcG9uZW50IG11c3QgYmUgYW4gYXJyYXkgYW5kIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxpbmsgJyArXG4gICAgICAgICdpbnNpZGUgaXQuJyk7XG5cbiAgICBsaW5rcy5mb3JFYWNoKGN0YUxpbmsgPT4ge1xuICAgICAgdXNlcigpLmFzc2VydCgndGV4dCcgaW4gY3RhTGluayAmJiAndXJsJyBpbiBjdGFMaW5rLFxuICAgICAgICAgICdMaW5rcyBpbiBDVEEgbGluayBjb21wb25lbnQgbXVzdCBjb250YWluIGB0ZXh0YCBmaWVsZCBhbmQgYSBgdXJsYC4nKTtcblxuICAgICAgdXNlckFzc2VydFZhbGlkUHJvdG9jb2woZWxlbWVudCwgY3RhTGlua1sndXJsJ10pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmRDb21wb25lbnREZWZ9IGN0YUxpbmtzSnNvblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSB1bnVzZWRFbGVtZW50XG4gICAqIEByZXR1cm4geyFDdGFMaW5rRGVmfVxuICAgKiBAb3ZlcnJpZGVcbiAgICogKi9cbiAgYnVpbGQoY3RhTGlua3NKc29uLCB1bnVzZWRFbGVtZW50KSB7XG4gICAgY29uc3QgY3RhTGlua3MgPSB7XG4gICAgICB0eXBlOiBjdGFMaW5rc0pzb25bJ3R5cGUnXSxcbiAgICAgIGxpbmtzOiBjdGFMaW5rc0pzb25bJ2xpbmtzJ10sXG4gICAgfTtcblxuICAgIHJldHVybiBjdGFMaW5rcztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGRFbGVtZW50KGN0YUxpbmtzRGF0YSwgZG9jKSB7XG4gICAgY29uc3QgaHRtbCA9IGh0bWxGb3IoZG9jKTtcbiAgICBjb25zdCBjb250YWluZXIgPVxuICAgICAgICBodG1sYDxkaXYgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jdGEtbGluay13cmFwcGVyXG4gICAgICAgICAgaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY29tcG9uZW50XCI+XG4gICAgICAgIDwvZGl2PmA7XG5cbiAgICBsZXQgbGlua1NlZWQgPVxuICAgICAgICBodG1sYDxhIGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtY3RhLWxpbmtcIiB0YXJnZXQ9XCJfdG9wXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWN0YS1saW5rLXRleHRcIiByZWY9XCJsaW5rVGV4dFwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2E+YDtcbiAgICBjdGFMaW5rc0RhdGFbJ2xpbmtzJ10uZm9yRWFjaChjdXJyZW50TGluayA9PiB7XG4gICAgICBjb25zdCBlbCA9IGxpbmtTZWVkLmNsb25lTm9kZSgvKiBkZWVwICovIHRydWUpO1xuICAgICAgYWRkQXR0cmlidXRlc1RvRWxlbWVudChlbCwgZGljdCh7J2hyZWYnOiBjdXJyZW50TGlua1sndXJsJ119KSk7XG5cbiAgICAgIGlmIChjdXJyZW50TGlua1snYW1waHRtbCddID09PSB0cnVlKSB7XG4gICAgICAgIGFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQoZWwsIGRpY3QoeydyZWwnOiAnYW1waHRtbCd9KSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlZnMgPSBodG1sUmVmcyhlbCk7XG4gICAgICByZWZzWydsaW5rVGV4dCddLnRleHRDb250ZW50ID0gY3VycmVudExpbmtbJ3RleHQnXTtcblxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9KTtcblxuICAgIGxpbmtTZWVkID0gbnVsbDsgLy8gR0NcblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9IGZyb20gJy4vYm9va2VuZC1jb21wb25lbnQtaW50ZXJmYWNlJztcbmltcG9ydCB7aHRtbEZvcn0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL3N0YXRpYy10ZW1wbGF0ZSc7XG5pbXBvcnQge3VzZXJ9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9sb2cnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHR5cGU6IHN0cmluZyxcbiAqICAgdGV4dDogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBIZWFkaW5nQ29tcG9uZW50RGVmO1xuXG4vKipcbiAqIEJ1aWxkZXIgY2xhc3MgZm9yIHRoZSBoZWFkaW5nIGNvbXBvbmVudCB0aGF0IHNpdHMgb24gdG9wIG9mIGEgZ2l2ZW4gc2V0IG9mXG4gKiBjb21wb25lbnRzIGluIHRoZSBib29rZW5kLlxuICogQGltcGxlbWVudHMge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9XG4gKi9cbmV4cG9ydCBjbGFzcyBIZWFkaW5nQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmRDb21wb25lbnREZWZ9IGhlYWRpbmdKc29uXG4gICAqIEBvdmVycmlkZVxuICAgKiAqL1xuICBhc3NlcnRWYWxpZGl0eShoZWFkaW5nSnNvbikge1xuICAgIHVzZXIoKS5hc3NlcnQoJ3RleHQnIGluIGhlYWRpbmdKc29uLCAnSGVhZGluZyBjb21wb25lbnQgbXVzdCBjb250YWluICcgK1xuICAgICAgJ2B0ZXh0YCBmaWVsZCwgc2tpcHBpbmcgaW52YWxpZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9ib29rZW5kLWNvbXBvbmVudC5Cb29rZW5kQ29tcG9uZW50RGVmfSBoZWFkaW5nSnNvblxuICAgKiBAcmV0dXJuIHshSGVhZGluZ0NvbXBvbmVudERlZn1cbiAgICogQG92ZXJyaWRlXG4gICAqICovXG4gIGJ1aWxkKGhlYWRpbmdKc29uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGhlYWRpbmdKc29uWyd0eXBlJ10sXG4gICAgICB0ZXh0OiBoZWFkaW5nSnNvblsndGV4dCddLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vYm9va2VuZC1jb21wb25lbnQuQm9va2VuZENvbXBvbmVudERlZn0gaGVhZGluZ0RhdGFcbiAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICogQG92ZXJyaWRlXG4gICAqICovXG4gIGJ1aWxkRWxlbWVudChoZWFkaW5nRGF0YSwgZG9jKSB7XG4gICAgY29uc3QgaHRtbCA9IGh0bWxGb3IoZG9jKTtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9XG4gICAgICBodG1sYDxoMyBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudFxuICAgICAgICBpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1oZWFkaW5nXCI+PC9oMz5gO1xuXG4gICAgdGVtcGxhdGUudGV4dENvbnRlbnQgPSBoZWFkaW5nRGF0YS50ZXh0O1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtCb29rZW5kQ29tcG9uZW50SW50ZXJmYWNlfSBmcm9tICcuL2Jvb2tlbmQtY29tcG9uZW50LWludGVyZmFjZSc7XG5pbXBvcnQge2FkZEF0dHJpYnV0ZXNUb0VsZW1lbnR9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7Z2V0U291cmNlT3JpZ2luRm9yQm9va2VuZENvbXBvbmVudH0gZnJvbSAnLi9ib29rZW5kLWNvbXBvbmVudC1pbnRlcmZhY2UnO1xuaW1wb3J0IHtodG1sRm9yLCBodG1sUmVmc30gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL3N0YXRpYy10ZW1wbGF0ZSc7XG5pbXBvcnQge3VzZXJ9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHt1c2VyQXNzZXJ0VmFsaWRQcm90b2NvbH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHR5cGU6IHN0cmluZyxcbiAqICAgY2F0ZWdvcnk6IHN0cmluZyxcbiAqICAgdGl0bGU6IHN0cmluZyxcbiAqICAgdXJsOiBzdHJpbmcsXG4gKiAgIGRvbWFpbk5hbWU6IHN0cmluZyxcbiAqICAgaW1hZ2U6IHN0cmluZyxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTGFuZHNjYXBlQ29tcG9uZW50RGVmO1xuXG4vKipcbiAqIEBzdHJ1Y3QgQHR5cGVkZWYge3tcbiAqICAgY2F0ZWdvcnk6ICFFbGVtZW50LFxuICogICB0aXRsZTogIUVsZW1lbnQsXG4gKiAgIGltYWdlOiAhRWxlbWVudCxcbiAqICAgbWV0YTogIUVsZW1lbnQsXG4gKiAgIGRvbWFpbk5hbWU6IHN0cmluZyxcbiAqIH19XG4gKi9cbmxldCBsYW5kc2NhcGVFbGVtZW50c0RlZjtcblxuLyoqXG4gKiBCdWlsZGVyIGNsYXNzIGZvciB0aGUgbGFuZHNjYXBlIGNvbXBvbmVudC5cbiAqIEBpbXBsZW1lbnRzIHtCb29rZW5kQ29tcG9uZW50SW50ZXJmYWNlfVxuICovXG5leHBvcnQgY2xhc3MgTGFuZHNjYXBlQ29tcG9uZW50IHtcblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFzc2VydFZhbGlkaXR5KGxhbmRzY2FwZUpzb24sIGVsZW1lbnQpIHtcblxuICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gWyd0aXRsZScsICdpbWFnZScsICd1cmwnXTtcbiAgICBjb25zdCBoYXNBbGxSZXF1aXJlZEZpZWxkcyA9XG4gICAgICAgICFyZXF1aXJlZEZpZWxkcy5zb21lKGZpZWxkID0+ICEoZmllbGQgaW4gbGFuZHNjYXBlSnNvbikpO1xuICAgIHVzZXIoKS5hc3NlcnQoXG4gICAgICAgIGhhc0FsbFJlcXVpcmVkRmllbGRzLFxuICAgICAgICAnTGFuZHNjYXBlIGNvbXBvbmVudCBtdXN0IGNvbnRhaW4gJyArXG4gICAgICAgIHJlcXVpcmVkRmllbGRzLm1hcChmaWVsZCA9PiAnYCcgKyBmaWVsZCArICdgJykuam9pbignLCAnKSArXG4gICAgICAgICcgZmllbGRzLCBza2lwcGluZyBpbnZhbGlkLicpO1xuXG4gICAgdXNlckFzc2VydFZhbGlkUHJvdG9jb2woZWxlbWVudCwgbGFuZHNjYXBlSnNvblsndXJsJ10pO1xuICAgIHVzZXJBc3NlcnRWYWxpZFByb3RvY29sKGVsZW1lbnQsIGxhbmRzY2FwZUpzb25bJ2ltYWdlJ10pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBidWlsZChsYW5kc2NhcGVKc29uLCBlbGVtZW50KSB7XG4gICAgY29uc3QgdXJsID0gbGFuZHNjYXBlSnNvblsndXJsJ107XG4gICAgY29uc3QgZG9tYWluTmFtZSA9IGdldFNvdXJjZU9yaWdpbkZvckJvb2tlbmRDb21wb25lbnQoZWxlbWVudCwgdXJsKTtcblxuICAgIGNvbnN0IGxhbmRzY2FwZSA9IHtcbiAgICAgIHVybCxcbiAgICAgIGRvbWFpbk5hbWUsXG4gICAgICB0eXBlOiBsYW5kc2NhcGVKc29uWyd0eXBlJ10sXG4gICAgICB0aXRsZTogbGFuZHNjYXBlSnNvblsndGl0bGUnXSxcbiAgICAgIGNhdGVnb3J5OiBsYW5kc2NhcGVKc29uWydjYXRlZ29yeSddLFxuICAgICAgaW1hZ2U6IGxhbmRzY2FwZUpzb25bJ2ltYWdlJ10sXG4gICAgfTtcblxuICAgIGlmIChsYW5kc2NhcGVKc29uWydhbXBodG1sJ10pIHtcbiAgICAgIGxhbmRzY2FwZS5hbXBodG1sID0gbGFuZHNjYXBlSnNvblsnYW1waHRtbCddO1xuICAgIH1cblxuICAgIHJldHVybiBsYW5kc2NhcGU7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkRWxlbWVudChsYW5kc2NhcGVEYXRhLCBkb2MpIHtcbiAgICBjb25zdCBodG1sID0gaHRtbEZvcihkb2MpO1xuICAgIGNvbnN0IGVsID1cbiAgICAgICAgaHRtbGBcbiAgICAgICAgPGEgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1sYW5kc2NhcGVcbiAgICAgICAgICBpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnRcIlxuICAgICAgICAgIHRhcmdldD1cIl90b3BcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnQtY2F0ZWdvcnlcIlxuICAgICAgICAgICAgcmVmPVwiY2F0ZWdvcnlcIj48L2gyPlxuICAgICAgICAgIDxoMiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaGVhZGluZ1wiXG4gICAgICAgICAgICByZWY9XCJ0aXRsZVwiPjwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWxhbmRzY2FwZS1pbWFnZVwiPlxuICAgICAgICAgICAgPGltZyByZWY9XCJpbWFnZVwiPjwvaW1nPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnQtbWV0YVwiXG4gICAgICAgICAgICByZWY9XCJtZXRhXCI+PC9kaXY+XG4gICAgICAgIDwvYT5gO1xuICAgIGFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQoZWwsIGRpY3QoeydocmVmJzogbGFuZHNjYXBlRGF0YS51cmx9KSk7XG5cbiAgICBpZiAobGFuZHNjYXBlRGF0YVsnYW1waHRtbCddID09PSB0cnVlKSB7XG4gICAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGVsLCBkaWN0KHsncmVsJzogJ2FtcGh0bWwnfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGxhbmRzY2FwZUVscyA9IGh0bWxSZWZzKGVsKTtcbiAgICBjb25zdCB7XG4gICAgICBjYXRlZ29yeSxcbiAgICAgIHRpdGxlLFxuICAgICAgaW1hZ2UsXG4gICAgICBtZXRhLFxuICAgIH0gPSAvKiogQHR5cGUgeyFsYW5kc2NhcGVFbGVtZW50c0RlZn0gKi8gKGxhbmRzY2FwZUVscyk7XG5cbiAgICBjYXRlZ29yeS50ZXh0Q29udGVudCA9IGxhbmRzY2FwZURhdGEuY2F0ZWdvcnk7XG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBsYW5kc2NhcGVEYXRhLnRpdGxlO1xuICAgIGFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQoaW1hZ2UsIGRpY3QoeydzcmMnOiBsYW5kc2NhcGVEYXRhLmltYWdlfSkpO1xuICAgIG1ldGEudGV4dENvbnRlbnQgPSBsYW5kc2NhcGVEYXRhLmRvbWFpbk5hbWU7XG5cbiAgICByZXR1cm4gZWw7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9IGZyb20gJy4vYm9va2VuZC1jb21wb25lbnQtaW50ZXJmYWNlJztcbmltcG9ydCB7YWRkQXR0cmlidXRlc1RvRWxlbWVudH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXRTb3VyY2VPcmlnaW5Gb3JCb29rZW5kQ29tcG9uZW50fSBmcm9tICcuL2Jvb2tlbmQtY29tcG9uZW50LWludGVyZmFjZSc7XG5pbXBvcnQge2h0bWxGb3IsIGh0bWxSZWZzfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvc3RhdGljLXRlbXBsYXRlJztcbmltcG9ydCB7dXNlcn0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge3VzZXJBc3NlcnRWYWxpZFByb3RvY29sfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgdHlwZTogc3RyaW5nLFxuICogICBjYXRlZ29yeTogc3RyaW5nLFxuICogICB0aXRsZTogc3RyaW5nLFxuICogICB1cmw6IHN0cmluZyxcbiAqICAgZG9tYWluTmFtZTogc3RyaW5nLFxuICogICBpbWFnZTogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBQb3J0cmFpdENvbXBvbmVudERlZjtcblxuLyoqXG4gKiBAc3RydWN0IEB0eXBlZGVmIHt7XG4gKiAgIGNhdGVnb3J5OiAhRWxlbWVudCxcbiAqICAgdGl0bGU6ICFFbGVtZW50LFxuICogICBpbWFnZTogIUVsZW1lbnQsXG4gKiAgIG1ldGE6ICFFbGVtZW50LFxuICogICBkb21haW5OYW1lOiBzdHJpbmdcbiAqIH19XG4gKi9cbmxldCBwb3J0cmFpdEVsZW1lbnRzRGVmO1xuXG4vKipcbiAqIEJ1aWxkZXIgY2xhc3MgZm9yIHRoZSBwb3J0cmFpdCBjb21wb25lbnQuXG4gKiBAaW1wbGVtZW50cyB7Qm9va2VuZENvbXBvbmVudEludGVyZmFjZX1cbiAqL1xuZXhwb3J0IGNsYXNzIFBvcnRyYWl0Q29tcG9uZW50IHtcblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFzc2VydFZhbGlkaXR5KHBvcnRyYWl0SnNvbiwgZWxlbWVudCkge1xuXG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ3RpdGxlJywgJ2ltYWdlJywgJ3VybCddO1xuICAgIGNvbnN0IGhhc0FsbFJlcXVpcmVkRmllbGRzID1cbiAgICAgICAgIXJlcXVpcmVkRmllbGRzLnNvbWUoZmllbGQgPT4gIShmaWVsZCBpbiBwb3J0cmFpdEpzb24pKTtcbiAgICB1c2VyKCkuYXNzZXJ0KFxuICAgICAgICBoYXNBbGxSZXF1aXJlZEZpZWxkcyxcbiAgICAgICAgJ1BvcnRyYWl0IGNvbXBvbmVudCBtdXN0IGNvbnRhaW4gJyArXG4gICAgICAgIHJlcXVpcmVkRmllbGRzLm1hcChmaWVsZCA9PiAnYCcgKyBmaWVsZCArICdgJykuam9pbignLCAnKSArXG4gICAgICAgICcgZmllbGRzLCBza2lwcGluZyBpbnZhbGlkLicpO1xuXG4gICAgdXNlckFzc2VydFZhbGlkUHJvdG9jb2woZWxlbWVudCwgcG9ydHJhaXRKc29uWyd1cmwnXSk7XG4gICAgdXNlckFzc2VydFZhbGlkUHJvdG9jb2woZWxlbWVudCwgcG9ydHJhaXRKc29uWydpbWFnZSddKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGQocG9ydHJhaXRKc29uLCBlbGVtZW50KSB7XG4gICAgY29uc3QgdXJsID0gcG9ydHJhaXRKc29uWyd1cmwnXTtcbiAgICBjb25zdCBkb21haW5OYW1lID0gZ2V0U291cmNlT3JpZ2luRm9yQm9va2VuZENvbXBvbmVudChlbGVtZW50LCB1cmwpO1xuXG4gICAgY29uc3QgcG9ydHJhaXQgPSB7XG4gICAgICB1cmwsXG4gICAgICBkb21haW5OYW1lLFxuICAgICAgdHlwZTogcG9ydHJhaXRKc29uWyd0eXBlJ10sXG4gICAgICBjYXRlZ29yeTogcG9ydHJhaXRKc29uWydjYXRlZ29yeSddLFxuICAgICAgdGl0bGU6IHBvcnRyYWl0SnNvblsndGl0bGUnXSxcbiAgICAgIGltYWdlOiBwb3J0cmFpdEpzb25bJ2ltYWdlJ10sXG4gICAgfTtcblxuICAgIGlmIChwb3J0cmFpdEpzb25bJ2FtcGh0bWwnXSkge1xuICAgICAgcG9ydHJhaXQuYW1waHRtbCA9IHBvcnRyYWl0SnNvblsnYW1waHRtbCddO1xuICAgIH1cblxuICAgIHJldHVybiBwb3J0cmFpdDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYnVpbGRFbGVtZW50KHBvcnRyYWl0RGF0YSwgZG9jKSB7XG4gICAgY29uc3QgaHRtbCA9IGh0bWxGb3IoZG9jKTtcbiAgICBjb25zdCBlbCA9XG4gICAgICAgIGh0bWxgXG4gICAgICAgIDxhIGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtcG9ydHJhaXRcbiAgICAgICAgICBpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnRcIlxuICAgICAgICAgIHRhcmdldD1cIl90b3BcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJpLWFtcGh0bWwtc3RvcnktYm9va2VuZC1jb21wb25lbnQtY2F0ZWdvcnlcIlxuICAgICAgICAgICAgcmVmPVwiY2F0ZWdvcnlcIj48L2gyPlxuICAgICAgICAgIDxoMiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWFydGljbGUtaGVhZGluZ1wiXG4gICAgICAgICAgICByZWY9XCJ0aXRsZVwiPjwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLXBvcnRyYWl0LWltYWdlXCI+XG4gICAgICAgICAgICA8aW1nIHJlZj1cImltYWdlXCI+PC9pbWc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudC1tZXRhXCJcbiAgICAgICAgICAgIHJlZj1cIm1ldGFcIj48L2Rpdj5cbiAgICAgICAgPC9hPmA7XG4gICAgYWRkQXR0cmlidXRlc1RvRWxlbWVudChlbCwgZGljdCh7J2hyZWYnOiBwb3J0cmFpdERhdGEudXJsfSkpO1xuXG4gICAgaWYgKHBvcnRyYWl0RGF0YVsnYW1waHRtbCddID09PSB0cnVlKSB7XG4gICAgICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGVsLCBkaWN0KHsncmVsJzogJ2FtcGh0bWwnfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IHtjYXRlZ29yeSwgdGl0bGUsIGltYWdlLCBtZXRhfSA9XG4gICAgICAvKiogQHR5cGUgeyFwb3J0cmFpdEVsZW1lbnRzRGVmfSAqLyAoaHRtbFJlZnMoZWwpKTtcblxuICAgIGNhdGVnb3J5LnRleHRDb250ZW50ID0gcG9ydHJhaXREYXRhLmNhdGVnb3J5O1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gcG9ydHJhaXREYXRhLnRpdGxlO1xuICAgIGFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQoaW1hZ2UsIGRpY3QoeydzcmMnOiBwb3J0cmFpdERhdGEuaW1hZ2V9KSk7XG4gICAgbWV0YS50ZXh0Q29udGVudCA9IHBvcnRyYWl0RGF0YS5kb21haW5OYW1lO1xuXG4gICAgcmV0dXJuIGVsO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtCb29rZW5kQ29tcG9uZW50SW50ZXJmYWNlfSBmcm9tICcuL2Jvb2tlbmQtY29tcG9uZW50LWludGVyZmFjZSc7XG5pbXBvcnQge2h0bWxGb3J9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9zdGF0aWMtdGVtcGxhdGUnO1xuaW1wb3J0IHtpc0FycmF5fSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvbG9nJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICB0eXBlOiBzdHJpbmcsXG4gKiAgIHRleHQ6IHN0cmluZ1xuICogfX1cbiAqL1xuZXhwb3J0IGxldCBUZXh0Qm94Q29tcG9uZW50RGVmO1xuXG4vKipcbiAqIEJ1aWxkZXIgY2xhc3MgZm9yIHRoZSB0ZXh0Ym94IGJvb2tlbmQgY29tcG9uZW50LlxuICogQGltcGxlbWVudHMge0Jvb2tlbmRDb21wb25lbnRJbnRlcmZhY2V9XG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0Qm94Q29tcG9uZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2Jvb2tlbmQtY29tcG9uZW50LkJvb2tlbmRDb21wb25lbnREZWZ9IHRleHRib3hKc29uXG4gICAqIEBvdmVycmlkZVxuICAgKiAqL1xuICBhc3NlcnRWYWxpZGl0eSh0ZXh0Ym94SnNvbikge1xuICAgIHVzZXIoKS5hc3NlcnQoJ3RleHQnIGluIHRleHRib3hKc29uICYmIGlzQXJyYXkodGV4dGJveEpzb25bJ3RleHQnXSkgJiZcbiAgICAgIHRleHRib3hKc29uWyd0ZXh0J10ubGVuZ3RoID4gMCwgJ1RleHRib3ggY29tcG9uZW50IG11c3QgY29udGFpbiAnICtcbiAgICAgICdgdGV4dGAgYXJyYXkgYW5kIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluc2lkZSBpdCwgJyArXG4gICAgICAnc2tpcHBpbmcgaW52YWxpZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9ib29rZW5kLWNvbXBvbmVudC5Cb29rZW5kQ29tcG9uZW50RGVmfSB0ZXh0Ym94SnNvblxuICAgKiBAcmV0dXJuIHshVGV4dEJveENvbXBvbmVudERlZn1cbiAgICogQG92ZXJyaWRlXG4gICAqICovXG4gIGJ1aWxkKHt0eXBlLCB0ZXh0fSkge1xuICAgIHJldHVybiB7dHlwZSwgdGV4dH07XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGJ1aWxkRWxlbWVudCh0ZXh0Ym94RGF0YSwgZG9jKSB7XG4gICAgY29uc3QgaHRtbCA9IGh0bWxGb3IoZG9jKTtcbiAgICBjb25zdCBjb250YWluZXIgPVxuICAgICAgICBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaS1hbXBodG1sLXN0b3J5LWJvb2tlbmQtdGV4dGJveFxuICAgICAgICAgIGktYW1waHRtbC1zdG9yeS1ib29rZW5kLWNvbXBvbmVudFwiPjwvZGl2PmA7XG5cbiAgICBsZXQgdGV4dFNlZWQgPSBodG1sYDxoMyBjbGFzcz1cImktYW1waHRtbC1zdG9yeS1ib29rZW5kLXRleHRcIj48L2gzPmA7XG4gICAgdGV4dGJveERhdGFbJ3RleHQnXS5mb3JFYWNoKGN1cnJlbnRMaW5lID0+IHtcbiAgICAgIGNvbnN0IGVsID0gdGV4dFNlZWQuY2xvbmVOb2RlKC8qIGRlZXAgKi8gdHJ1ZSk7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IGN1cnJlbnRMaW5lO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9KTtcblxuICAgIHRleHRTZWVkID0gbnVsbDtcblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgQkxBTktfQVVESU9fU1JDID0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmpJQUFBQlhRVlpGWm0xMElCQScgK1xuICAgICdBQUFBQkFBRUFJbFlBQUVTc0FBQUNBQkFBWkdGMFlSQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBPT0nO1xuXG5leHBvcnQgY29uc3QgQkxBTktfVklERU9fU1JDID0gJ2RhdGE6dmlkZW8vbXA0O2Jhc2U2NCxBQUFBSEdaMGVYQk5ORllnQUFBQ0FHJyArXG4gICAgJ2x6YjIxcGMyOHlZWFpqTVFBQUFBaG1jbVZsQUFBR0YyMWtZWFRlQkFBQWJHbGlabUZoWXlBeExqSTRBQUJDQUpNZ0JESUFSdycgK1xuICAgICdBQUFyRUdCZi8vcmR4RjZiM20yVWkzbGl6WUlOa2o3dTk0TWpZMElDMGdZMjl5WlNBeE5ESWdjaklnT1RVMll6aGtPQ0F0SUUnICtcbiAgICAnZ3VNalkwTDAxUVJVY3ROQ0JCVmtNZ1kyOWtaV01nTFNCRGIzQjViR1ZtZENBeU1EQXpMVEl3TVRRZ0xTQm9kSFJ3T2k4dmQzJyArXG4gICAgJ2QzTG5acFpHVnZiR0Z1TG05eVp5OTRNalkwTG1oMGJXd2dMU0J2Y0hScGIyNXpPaUJqWVdKaFl6MHdJSEpsWmoweklHUmxZbScgK1xuICAgICd4dlkyczlNVG93T2pBZ1lXNWhiSGx6WlQwd2VERTZNSGd4TVRFZ2JXVTlhR1Y0SUhOMVltMWxQVGNnY0hONVBURWdjSE41WDMnICtcbiAgICAnSmtQVEV1TURBNk1DNHdNQ0J0YVhobFpGOXlaV1k5TVNCdFpWOXlZVzVuWlQweE5pQmphSEp2YldGZmJXVTlNU0IwY21Wc2JHJyArXG4gICAgJ2x6UFRFZ09IZzRaR04wUFRBZ1kzRnRQVEFnWkdWaFpIcHZibVU5TWpFc01URWdabUZ6ZEY5d2MydHBjRDB4SUdOb2NtOXRZVicgK1xuICAgICc5eGNGOXZabVp6WlhROUxUSWdkR2h5WldGa2N6MDJJR3h2YjJ0aGFHVmhaRjkwYUhKbFlXUnpQVEVnYzJ4cFkyVmtYM1JvY20nICtcbiAgICAnVmhaSE05TUNCdWNqMHdJR1JsWTJsdFlYUmxQVEVnYVc1MFpYSnNZV05sWkQwd0lHSnNkWEpoZVY5amIyMXdZWFE5TUNCamIyJyArXG4gICAgJzV6ZEhKaGFXNWxaRjlwYm5SeVlUMHdJR0ptY21GdFpYTTlNQ0IzWldsbmFIUndQVEFnYTJWNWFXNTBQVEkxTUNCclpYbHBibicgK1xuICAgICdSZmJXbHVQVEkxSUhOalpXNWxZM1YwUFRRd0lHbHVkSEpoWDNKbFpuSmxjMmc5TUNCeVkxOXNiMjlyWVdobFlXUTlOREFnY20nICtcbiAgICAnTTlZM0ptSUcxaWRISmxaVDB4SUdOeVpqMHlNeTR3SUhGamIyMXdQVEF1TmpBZ2NYQnRhVzQ5TUNCeGNHMWhlRDAyT1NCeGNIJyArXG4gICAgJ04wWlhBOU5DQjJZblpmYldGNGNtRjBaVDAzTmpnZ2RtSjJYMkoxWm5OcGVtVTlNekF3TUNCamNtWmZiV0Y0UFRBdU1DQnVZVycgK1xuICAgICd4ZmFISmtQVzV2Ym1VZ1ptbHNiR1Z5UFRBZ2FYQmZjbUYwYVc4OU1TNDBNQ0JoY1QweE9qRXVNREFBZ0FBQUFGWmxpSVFMOG0nICtcbiAgICAnS0FBS3ZNbkp5Y25KeWNuSnljblhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYJyArXG4gICAgJ1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYaUVBU1pBQ0dRQWpnQ0VBU1pBQ0dRQWpnQUFBQUFkQm1qZ1g0RycgK1xuICAgICdTQUlRQkprQUlaQUNPQUFBQUFCMEdhVkFYNEdTQWhBRW1RQWhrQUk0QWhBRW1RQWhrQUk0QUFBQUFHUVpwZ0w4REpJUUJKa0EnICtcbiAgICAnSVpBQ09BSVFCSmtBSVpBQ09BQUFBQUJrR2FnQy9BeVNFQVNaQUNHUUFqZ0FBQUFBWkJtcUF2d01raEFFbVFBaGtBSTRBaEFFJyArXG4gICAgJ21RQWhrQUk0QUFBQUFHUVpyQUw4REpJUUJKa0FJWkFDT0FBQUFBQmtHYTRDL0F5U0VBU1pBQ0dRQWpnQ0VBU1pBQ0dRQWpnQScgK1xuICAgICdBQUFBWkJtd0F2d01raEFFbVFBaGtBSTRBQUFBQUdRWnNnTDhESklRQkprQUlaQUNPQUlRQkprQUlaQUNPQUFBQUFCa0diUUMnICtcbiAgICAnL0F5U0VBU1pBQ0dRQWpnQ0VBU1pBQ0dRQWpnQUFBQUFaQm0yQXZ3TWtoQUVtUUFoa0FJNEFBQUFBR1FadUFMOERKSVFCSmtBJyArXG4gICAgJ0laQUNPQUlRQkprQUlaQUNPQUFBQUFCa0dib0MvQXlTRUFTWkFDR1FBamdBQUFBQVpCbThBdndNa2hBRW1RQWhrQUk0QWhBRScgK1xuICAgICdtUUFoa0FJNEFBQUFBR1FadmdMOERKSVFCSmtBSVpBQ09BQUFBQUJrR2FBQy9BeVNFQVNaQUNHUUFqZ0NFQVNaQUNHUUFqZ0EnICtcbiAgICAnQUFBQVpCbWlBdndNa2hBRW1RQWhrQUk0QWhBRW1RQWhrQUk0QUFBQUFHUVpwQUw4REpJUUJKa0FJWkFDT0FBQUFBQmtHYVlDJyArXG4gICAgJy9BeVNFQVNaQUNHUUFqZ0NFQVNaQUNHUUFqZ0FBQUFBWkJtb0F2d01raEFFbVFBaGtBSTRBQUFBQUdRWnFnTDhESklRQkprQScgK1xuICAgICdJWkFDT0FJUUJKa0FJWkFDT0FBQUFBQmtHYXdDL0F5U0VBU1pBQ0dRQWpnQUFBQUFaQm11QXZ3TWtoQUVtUUFoa0FJNEFoQUUnICtcbiAgICAnbVFBaGtBSTRBQUFBQUdRWnNBTDhESklRQkprQUlaQUNPQUFBQUFCa0diSUMvQXlTRUFTWkFDR1FBamdDRUFTWkFDR1FBamdBJyArXG4gICAgJ0FBQUFaQm0wQXZ3TWtoQUVtUUFoa0FJNEFoQUVtUUFoa0FJNEFBQUFBR1FadGdMOERKSVFCSmtBSVpBQ09BQUFBQUJrR2JnQycgK1xuICAgICd2QXlTRUFTWkFDR1FBamdDRUFTWkFDR1FBamdBQUFBQVpCbTZBbndNa2hBRW1RQWhrQUk0QWhBRW1RQWhrQUk0QWhBRW1RQWgnICtcbiAgICAna0FJNEFoQUVtUUFoa0FJNEFBQUFodWJXOXZkZ0FBQUd4dGRtaGtBQUFBQUFBQUFBQUFBQUFBQUFBRDZBQUFCRGNBQVFBQUFRJyArXG4gICAgJ0FBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFBQUFBQkFBQUFBQUFBQUFBQUFBQScgK1xuICAgICdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUF3QUFBekIwY21GckFBQUFYSFJyYUdRQUFBQURBQUFBQUFBQUFBQUFBQUFCQUEnICtcbiAgICAnQUFBQUFBQStrQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFBQUFBJyArXG4gICAgJ0JBQUFBQUFMQUFBQUNRQUFBQUFBQWtaV1IwY3dBQUFCeGxiSE4wQUFBQUFBQUFBQUVBQUFQcEFBQUFBQUFCQUFBQUFBS29iVycgK1xuICAgICdScFlRQUFBQ0J0Wkdoa0FBQUFBQUFBQUFBQUFBQUFBQUIxTUFBQWRVNVZ4QUFBQUFBQUxXaGtiSElBQUFBQUFBQUFBSFpwWkcnICtcbiAgICAnVUFBQUFBQUFBQUFBQUFBQUJXYVdSbGIwaGhibVJzWlhJQUFBQUNVMjFwYm1ZQUFBQVVkbTFvWkFBQUFBRUFBQUFBQUFBQUFBJyArXG4gICAgJ0FBQUNSa2FXNW1BQUFBSEdSeVpXWUFBQUFBQUFBQUFRQUFBQXgxY213Z0FBQUFBUUFBQWhOemRHSnNBQUFBcjNOMGMyUUFBQScgK1xuICAgICdBQUFBQUFBUUFBQUo5aGRtTXhBQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFMQUFrQUJJQUFBQVNBQUFBQUFBQUEnICtcbiAgICAnQUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUdQLy9BQUFBTFdGMlkwTUJRc0FOLytFQUZXJyArXG4gICAgJ2RDd0EzWkFzVHNCRUFBQVBwQUFEcVlBOFVLa2dFQUJXakxnOHNnQUFBQUhIVjFhV1JyYUVEeVh5UlB4Ym81cFJ2UEF5UHpBQScgK1xuICAgICdBQUFBQUFBQmh6ZEhSekFBQUFBQUFBQUFFQUFBQWVBQUFENlFBQUFCUnpkSE56QUFBQUFBQUFBQUVBQUFBQkFBQUFISE4wYzInICtcbiAgICAnTUFBQUFBQUFBQUFRQUFBQUVBQUFBQkFBQUFBUUFBQUl4emRITjZBQUFBQUFBQUFBQUFBQUFlQUFBRER3QUFBQXNBQUFBTEFBJyArXG4gICAgJ0FBQ2dBQUFBb0FBQUFLQUFBQUNnQUFBQW9BQUFBS0FBQUFDZ0FBQUFvQUFBQUtBQUFBQ2dBQUFBb0FBQUFLQUFBQUNnQUFBQScgK1xuICAgICdvQUFBQUtBQUFBQ2dBQUFBb0FBQUFLQUFBQUNnQUFBQW9BQUFBS0FBQUFDZ0FBQUFvQUFBQUtBQUFBQ2dBQUFBb0FBQUFLQUEnICtcbiAgICAnQUFpSE4wWTI4QUFBQUFBQUFBSGdBQUFFWUFBQU5uQUFBRGV3QUFBNWdBQUFPMEFBQUR4d0FBQStNQUFBUDJBQUFFRWdBQUJDJyArXG4gICAgJ1VBQUFSQkFBQUVYUUFBQkhBQUFBU01BQUFFbndBQUJMc0FBQVRPQUFBRTZnQUFCUVlBQUFVWkFBQUZOUUFBQlVnQUFBVmtBQScgK1xuICAgICdBRmR3QUFCWk1BQUFXbUFBQUZ3Z0FBQmQ0QUFBWHhBQUFHRFFBQUJHaDBjbUZyQUFBQVhIUnJhR1FBQUFBREFBQUFBQUFBQUEnICtcbiAgICAnQUFBQUFDQUFBQUFBQUFCRGNBQUFBQUFBQUFBQUFBQUFFQkFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBQUFBQUFBJyArXG4gICAgJ0FBQUFBQUFBQkFBQUFBQUFBQUFBQUFBQUFBQUFBa1pXUjBjd0FBQUJ4bGJITjBBQUFBQUFBQUFBRUFBQVFrQUFBRGNBQUJBQScgK1xuICAgICdBQUFBUGdiV1JwWVFBQUFDQnRaR2hrQUFBQUFBQUFBQUFBQUFBQUFBQzdnQUFBeWtCVnhBQUFBQUFBTFdoa2JISUFBQUFBQUEnICtcbiAgICAnQUFBSE52ZFc0QUFBQUFBQUFBQUFBQUFBQlRiM1Z1WkVoaGJtUnNaWElBQUFBRGkyMXBibVlBQUFBUWMyMW9aQUFBQUFBQUFBJyArXG4gICAgJ0FBQUFBQUpHUnBibVlBQUFBY1pISmxaZ0FBQUFBQUFBQUJBQUFBREhWeWJDQUFBQUFCQUFBRFQzTjBZbXdBQUFCbmMzUnpaQScgK1xuICAgICdBQUFBQUFBQUFCQUFBQVYyMXdOR0VBQUFBQUFBQUFBUUFBQUFBQUFBQUFBQUlBRUFBQUFBQzdnQUFBQUFBQU0yVnpaSE1BQUEnICtcbiAgICAnQUFBNENBZ0NJQUFnQUVnSUNBRkVBVkJiallBQXU0QUFBQURjb0ZnSUNBQWhHUUJvQ0FnQUVDQUFBQUlITjBkSE1BQUFBQUFBJyArXG4gICAgJ0FBQWdBQUFESUFBQVFBQUFBQUFRQUFBa0FBQUFGVWMzUnpZd0FBQUFBQUFBQWJBQUFBQVFBQUFBRUFBQUFCQUFBQUFnQUFBQScgK1xuICAgICdJQUFBQUJBQUFBQXdBQUFBRUFBQUFCQUFBQUJBQUFBQUlBQUFBQkFBQUFCZ0FBQUFFQUFBQUJBQUFBQndBQUFBSUFBQUFCQUEnICtcbiAgICAnQUFDQUFBQUFFQUFBQUJBQUFBQ1FBQUFBSUFBQUFCQUFBQUNnQUFBQUVBQUFBQkFBQUFDd0FBQUFJQUFBQUJBQUFBRFFBQUFBJyArXG4gICAgJ0VBQUFBQkFBQUFEZ0FBQUFJQUFBQUJBQUFBRHdBQUFBRUFBQUFCQUFBQUVBQUFBQUlBQUFBQkFBQUFFUUFBQUFFQUFBQUJBQScgK1xuICAgICdBQUVnQUFBQUlBQUFBQkFBQUFGQUFBQUFFQUFBQUJBQUFBRlFBQUFBSUFBQUFCQUFBQUZnQUFBQUVBQUFBQkFBQUFGd0FBQUEnICtcbiAgICAnSUFBQUFCQUFBQUdBQUFBQUVBQUFBQkFBQUFHUUFBQUFJQUFBQUJBQUFBR2dBQUFBRUFBQUFCQUFBQUd3QUFBQUlBQUFBQkFBJyArXG4gICAgJ0FBSFFBQUFBRUFBQUFCQUFBQUhnQUFBQUlBQUFBQkFBQUFId0FBQUFRQUFBQUJBQUFBNEhOMGMzb0FBQUFBQUFBQUFBQUFBRCcgK1xuICAgICdNQUFBQWFBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUEnICtcbiAgICAnQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBJyArXG4gICAgJ2tBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQScgK1xuICAgICdBQUNRQUFBQWtBQUFBSkFBQUFDUUFBQUFrQUFBQUpBQUFBQ1FBQUFBa0FBQUFKQUFBQUNRQUFBQWtBQUFDTWMzUmpid0FBQUEnICtcbiAgICAnQUFBQUFmQUFBQUxBQUFBMVVBQUFOeUFBQURoZ0FBQTZJQUFBTytBQUFEMFFBQUErMEFBQVFBQUFBRUhBQUFCQzhBQUFSTEFBJyArXG4gICAgJ0FFWndBQUJIb0FBQVNXQUFBRXFRQUFCTVVBQUFUWUFBQUU5QUFBQlJBQUFBVWpBQUFGUHdBQUJWSUFBQVZ1QUFBRmdRQUFCWicgK1xuICAgICcwQUFBV3dBQUFGekFBQUJlZ0FBQVg3QUFBR0Z3QUFBR0oxWkhSaEFBQUFXbTFsZEdFQUFBQUFBQUFBSVdoa2JISUFBQUFBQUEnICtcbiAgICAnQUFBRzFrYVhKaGNIQnNBQUFBQUFBQUFBQUFBQUFBTFdsc2MzUUFBQUFscVhSdmJ3QUFBQjFrWVhSaEFBQUFBUUFBQUFCTVlYJyArXG4gICAgJ1ptTlRVdU16TXVNVEF3JztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2dMZXZlbCwgZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge2lzQXJyYXl9IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcyc7XG5pbXBvcnQge3JlbW92ZUNoaWxkcmVufSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcblxuXG4vKipcbiAqIEBwYXJhbSB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9IHZzeW5jXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICogQHBhcmFtIHtib29sZWFufSBpc0hpZGRlblxuICovXG5mdW5jdGlvbiB0b2dnbGVIaWRkZW5BdHRyaWJ1dGUodnN5bmMsIGVsLCBpc0hpZGRlbikge1xuICB2c3luYy5tdXRhdGUoKCkgPT4ge1xuICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ3whQXJyYXk8c3RyaW5nPn0gY2xhc3NOYW1lT3JMaXN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEV2ZW50KX0gaGFuZGxlclxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbih3aW4sIGNsYXNzTmFtZU9yTGlzdCwgaGFuZGxlcikge1xuICBjb25zdCBidXR0b24gPSB3aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG5cbiAgaWYgKGlzQXJyYXkoY2xhc3NOYW1lT3JMaXN0KSkge1xuICAgIGNsYXNzTmFtZU9yTGlzdC5mb3JFYWNoKGNsYXNzTmFtZSA9PiBidXR0b24uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpKTtcbiAgfSBlbHNlIHtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgvKiogQHR5cGUge3N0cmluZ30gKi8gKGNsYXNzTmFtZU9yTGlzdCkpO1xuICB9XG4gIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktYnV0dG9uJyk7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZXIpO1xuICByZXR1cm4gYnV0dG9uO1xufVxuXG5cbi8qKlxuICogRGV2ZWxvcG1lbnQgbW9kZSBsb2dzIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXZlbG9wbWVudE1vZGVMb2dCdXR0b25TZXQge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLnJvb3RfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5lcnJvckJ1dHRvbl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RWxlbWVudH0gKi9cbiAgICB0aGlzLndhcm5pbmdCdXR0b25fID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5zdWNjZXNzQnV0dG9uXyA9IG51bGw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4pIHtcbiAgICByZXR1cm4gbmV3IERldmVsb3BtZW50TW9kZUxvZ0J1dHRvblNldCh3aW4pO1xuICB9XG5cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZXZlbG9wZXIgbG9nIGJ1dHRvbiBzZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBsb2dCdXR0b25BY3Rpb25GbiBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlblxuICAgKiAgICAgdGhlIGxvZyBidXR0b25zIGFyZSBjbGlja2VkLlxuICAgKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAgICovXG4gIGJ1aWxkKGxvZ0J1dHRvbkFjdGlvbkZuKSB7XG4gICAgdGhpcy5lcnJvckJ1dHRvbl8gPSBjcmVhdGVCdXR0b24odGhpcy53aW5fLFxuICAgICAgICBbJ2ktYW1waHRtbC1zdG9yeS1lcnJvci1idXR0b24nLCAnaS1hbXBodG1sLXN0b3J5LWRldi1sb2dzLWJ1dHRvbiddLFxuICAgICAgICAoKSA9PiBsb2dCdXR0b25BY3Rpb25GbigpKTtcblxuICAgIHRoaXMud2FybmluZ0J1dHRvbl8gPSBjcmVhdGVCdXR0b24odGhpcy53aW5fLFxuICAgICAgICBbJ2ktYW1waHRtbC1zdG9yeS13YXJuaW5nLWJ1dHRvbicsICdpLWFtcGh0bWwtc3RvcnktZGV2LWxvZ3MtYnV0dG9uJ10sXG4gICAgICAgICgpID0+IGxvZ0J1dHRvbkFjdGlvbkZuKCkpO1xuXG4gICAgdGhpcy5zdWNjZXNzQnV0dG9uXyA9IGNyZWF0ZUJ1dHRvbih0aGlzLndpbl8sXG4gICAgICAgIFsnaS1hbXBodG1sLXN0b3J5LXN1Y2Nlc3MtYnV0dG9uJywgJ2ktYW1waHRtbC1zdG9yeS1kZXYtbG9ncy1idXR0b24nXSxcbiAgICAgICAgKCkgPT4gbG9nQnV0dG9uQWN0aW9uRm4oKSk7XG5cblxuICAgIHRoaXMucm9vdF8gPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5yb290Xy5hcHBlbmRDaGlsZCh0aGlzLmVycm9yQnV0dG9uXyk7XG4gICAgdGhpcy5yb290Xy5hcHBlbmRDaGlsZCh0aGlzLndhcm5pbmdCdXR0b25fKTtcbiAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKHRoaXMuc3VjY2Vzc0J1dHRvbl8pO1xuXG4gICAgcmV0dXJuIHRoaXMucm9vdF87XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBidXR0b24gYXNzb2NpYXRlZCB0byBhIGdpdmVuIGxvZyBlbnRyeS5cbiAgICogQHBhcmFtIHshLi9sb2dnaW5nLkFtcFN0b3J5TG9nRW50cnlEZWZ9IGxvZ0VudHJ5IFRoZSBsb2cgZW50cnkgZm9yIHdoaWNoXG4gICAqICAgICB0aGUgYXNzb2NpYXRlZCBidXR0b24gc2hvdWxkYmUgcmV0cmlldmVkLlxuICAgKiBAcmV0dXJuIHs/RWxlbWVudH0gVGhlIGJ1dHRvbiBhc3NvY2lhdGVkIHRvIHRoZSBzcGVjaWZpZWQgbG9nIGVudHJ5LCBpZiBvbmVcbiAgICogICAgIGV4aXN0cy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEJ1dHRvbkZvckxvZ0VudHJ5Xyhsb2dFbnRyeSkge1xuICAgIGlmIChsb2dFbnRyeS5jb25mb3Jtcykge1xuICAgICAgcmV0dXJuIHRoaXMuc3VjY2Vzc0J1dHRvbl87XG4gICAgfVxuXG4gICAgc3dpdGNoIChsb2dFbnRyeS5sZXZlbCkge1xuICAgICAgY2FzZSBMb2dMZXZlbC5FUlJPUjpcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JCdXR0b25fO1xuICAgICAgY2FzZSBMb2dMZXZlbC5XQVJOOlxuICAgICAgICByZXR1cm4gdGhpcy53YXJuaW5nQnV0dG9uXztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIExvZ3MgYW4gaW5kaXZpZHVhbCBlbnRyeSBpbnRvIHRoZSBkZXZlbG9wZXIgbG9nLlxuICAgKiBAcGFyYW0geyEuL2xvZ2dpbmcuQW1wU3RvcnlMb2dFbnRyeURlZn0gbG9nRW50cnkgVGhlIGVudHJ5IHRvIGxvZy5cbiAgICovXG4gIGxvZyhsb2dFbnRyeSkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuZ2V0QnV0dG9uRm9yTG9nRW50cnlfKGxvZ0VudHJ5KTtcbiAgICBpZiAoIWJ1dHRvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9sZENvdW50ID0gcGFyc2VJbnQoYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1jb3VudCcpIHx8IDAsIDEwKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWNvdW50Jywgb2xkQ291bnQgKyAxKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENsZWFycyBhbnkgZXJyb3Igc3RhdGUgaGVsZCBieSB0aGUgYnV0dG9ucy5cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuZXJyb3JCdXR0b25fLnNldEF0dHJpYnV0ZSgnZGF0YS1jb3VudCcsIDApO1xuICAgIHRoaXMud2FybmluZ0J1dHRvbl8uc2V0QXR0cmlidXRlKCdkYXRhLWNvdW50JywgMCk7XG4gICAgdGhpcy5zdWNjZXNzQnV0dG9uXy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY291bnQnLCAwKTtcbiAgfVxufVxuXG5cbi8qKlxuICogRGV2ZWxvcG1lbnQgbW9kZSBsb2cgZm9yIDxhbXAtc3Rvcnk+LlxuICovXG5leHBvcnQgY2xhc3MgRGV2ZWxvcG1lbnRNb2RlTG9nIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5yb290XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuZW50cmllc0VsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuY29udGV4dFN0cmluZ0VsXyA9IG51bGw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4pIHtcbiAgICByZXR1cm4gbmV3IERldmVsb3BtZW50TW9kZUxvZyh3aW4pO1xuICB9XG5cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZXZlbG9wZXIgbG9nIGVsZW1lbnQuXG4gICAqIEByZXR1cm4gez9FbGVtZW50fVxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgdGhpcy5jb250ZXh0U3RyaW5nRWxfID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLmNvbnRleHRTdHJpbmdFbF8uY2xhc3NMaXN0XG4gICAgICAgIC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWNvbnRleHQnKTtcbiAgICBjb25zdCB0aXRsZUVsID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSAnRGV2ZWxvcGVyIGxvZ3MgZm9yIHBhZ2UgJztcbiAgICB0aXRsZUVsLmFwcGVuZENoaWxkKHRoaXMuY29udGV4dFN0cmluZ0VsXyk7XG5cbiAgICBjb25zdCBjbG9zZURldmVsb3BlckxvZ0VsID0gY3JlYXRlQnV0dG9uKHRoaXMud2luXyxcbiAgICAgICAgJ2ktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWNsb3NlJyxcbiAgICAgICAgKCkgPT4gdGhpcy5oaWRlKCkpO1xuXG4gICAgY29uc3QgaGVhZGVyRWwgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaGVhZGVyRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctaGVhZGVyJyk7XG4gICAgaGVhZGVyRWwuYXBwZW5kQ2hpbGQodGl0bGVFbCk7XG4gICAgaGVhZGVyRWwuYXBwZW5kQ2hpbGQoY2xvc2VEZXZlbG9wZXJMb2dFbCk7XG5cbiAgICB0aGlzLmVudHJpZXNFbF8gPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0aGlzLmVudHJpZXNFbF8uY2xhc3NMaXN0XG4gICAgICAgIC5hZGQoJ2ktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWVudHJpZXMnKTtcblxuICAgIHRoaXMucm9vdF8gPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5yb290Xy5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZycpO1xuICAgIHRoaXMucm9vdF8uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgdGhpcy5yb290Xy5hcHBlbmRDaGlsZChoZWFkZXJFbCk7XG4gICAgdGhpcy5yb290Xy5hcHBlbmRDaGlsZCh0aGlzLmVudHJpZXNFbF8pO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHJldHVybiB0aGlzLnJvb3RfO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshTG9nTGV2ZWx9IGxvZ0xldmVsXG4gICAqIEByZXR1cm4gez9zdHJpbmd9IFRoZSBDU1MgY2xhc3MgdG8gYmUgYXBwbGllZCB0byB0aGUgbG9nIGVudHJ5LCBnaXZlbiB0aGVcbiAgICogICAgIHNwZWNpZmllZCBsb2cgbGV2ZWwsIG9yIG51bGwgaWYgbm8gY2xhc3Mgc2hvdWxkIGJlIGFkZGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0Q3NzTG9nTGV2ZWxDbGFzc18obG9nTGV2ZWwpIHtcbiAgICBzd2l0Y2ggKGxvZ0xldmVsKSB7XG4gICAgICBjYXNlIExvZ0xldmVsLldBUk46XG4gICAgICAgIHJldHVybiAnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnktd2FybmluZyc7XG4gICAgICBjYXNlIExvZ0xldmVsLkVSUk9SOlxuICAgICAgICByZXR1cm4gJ2ktYW1waHRtbC1zdG9yeS1kZXZlbG9wZXItbG9nLWVudHJ5LWVycm9yJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29uZm9ybXMgV2hldGhlciB0aGUgbG9nIGVudHJ5IGlzIGZvciBhbiBlbGVtZW50IHRoYXRcbiAgICogICAgIGNvbmZvcm1zIHRvIGEgYmVzdCBwcmFjdGljZS5cbiAgICogQHJldHVybiB7P3N0cmluZ30gVGhlIENTUyBjbGFzcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBsb2cgZW50cnksIGdpdmVuIHRoZVxuICAgKiAgICAgZWxlbWVudCdzIGNvbmZvcm1hbmNlIHRvIGEgYmVzdCBwcmFjdGljZSwgb3IgbnVsbCBpZiBubyBjbGFzcyBzaG91bGQgYmVcbiAgICogICAgIGFkZGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0Q3NzQ29uZm9ybWFuY2VDbGFzc18oY29uZm9ybXMpIHtcbiAgICBpZiAoY29uZm9ybXMpIHtcbiAgICAgIHJldHVybiAnaS1hbXBodG1sLXN0b3J5LWRldmVsb3Blci1sb2ctZW50cnktc3VjY2Vzcyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2xvZ2dpbmcuQW1wU3RvcnlMb2dFbnRyeURlZn0gbG9nRW50cnkgVGhlIGVudHJ5IHRvIGJlIGxvZ2dlZC5cbiAgICovXG4gIGxvZyhsb2dFbnRyeSkge1xuICAgIGNvbnN0IGxvZ0xldmVsQ2xhc3MgPSB0aGlzLmdldENzc0xvZ0xldmVsQ2xhc3NfKGxvZ0VudHJ5LmxldmVsKTtcbiAgICBjb25zdCBjb25mb3JtYW5jZUNsYXNzID0gdGhpcy5nZXRDc3NDb25mb3JtYW5jZUNsYXNzXyhsb2dFbnRyeS5jb25mb3Jtcyk7XG5cbiAgICBjb25zdCBsb2dFbnRyeVVpID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbG9nRW50cnlVaS5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktZGV2ZWxvcGVyLWxvZy1lbnRyeScpO1xuXG4gICAgaWYgKGxvZ0xldmVsQ2xhc3MpIHtcbiAgICAgIGxvZ0VudHJ5VWkuY2xhc3NMaXN0LmFkZChsb2dMZXZlbENsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZm9ybWFuY2VDbGFzcykge1xuICAgICAgbG9nRW50cnlVaS5jbGFzc0xpc3QuYWRkKGNvbmZvcm1hbmNlQ2xhc3MpO1xuICAgIH1cblxuICAgIGxvZ0VudHJ5VWkudGV4dENvbnRlbnQgPSBsb2dFbnRyeS5tZXNzYWdlO1xuICAgIHRoaXMuZW50cmllc0VsXy5hcHBlbmRDaGlsZChsb2dFbnRyeVVpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgZW50cmllcyBmcm9tIHRoZSBkZXZlbG9wZXIgbG9ncy5cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIFNlcnZpY2VzLnZzeW5jRm9yKHRoaXMud2luXykubXV0YXRlKCgpID0+IHtcbiAgICAgIHJlbW92ZUNoaWxkcmVuKGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5lbnRyaWVzRWxfKSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdHJpbmcgcHJvdmlkaW5nIGNvbnRleHQgZm9yIHRoZSBkZXZlbG9wZXIgbG9ncyB3aW5kb3cuICBUaGlzIGlzXG4gICAqIG9mdGVuIHRoZSBuYW1lIG9yIElEIG9mIHRoZSBlbGVtZW50IHRoYXQgYWxsIGxvZ3MgYXJlIGZvciAoZS5nLiB0aGUgcGFnZSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZXh0U3RyaW5nXG4gICAqL1xuICBzZXRDb250ZXh0U3RyaW5nKGNvbnRleHRTdHJpbmcpIHtcbiAgICB0aGlzLmNvbnRleHRTdHJpbmdFbF8udGV4dENvbnRlbnQgPSBjb250ZXh0U3RyaW5nO1xuICB9XG5cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZGV2ZWxvcGVyIGxvZy5cbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICBjb25zdCBuZXdIaWRkZW5TdGF0ZSA9ICF0aGlzLnJvb3RfLmhhc0F0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgdG9nZ2xlSGlkZGVuQXR0cmlidXRlKFxuICAgICAgICBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLndpbl8pLCBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMucm9vdF8pLFxuICAgICAgICBuZXdIaWRkZW5TdGF0ZSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgZGV2ZWxvcGVyIGxvZyBpbiB0aGUgVUkuXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRvZ2dsZUhpZGRlbkF0dHJpYnV0ZShcbiAgICAgICAgU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKSwgZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnJvb3RfKSxcbiAgICAgICAgLyogaXNIaWRkZW4gKi8gdHJ1ZSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtpc0VudW1WYWx1ZX0gZnJvbSAnLi4vLi4vLi4vc3JjL3R5cGVzJztcbmltcG9ydCB7cGFyc2VRdWVyeVN0cmluZ30gZnJvbSAnLi4vLi4vLi4vc3JjL3VybCc7XG5cblxuLyoqXG4gKiBFbWJlZCBtb2RlIGZvciBBTVAgc3RvcnkuICBTZWUgLi4vZW1iZWQtbW9kZXMubWQgZm9yIGRldGFpbHMuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgRW1iZWRNb2RlID0ge1xuICAvKipcbiAgICogRGVmYXVsdCBtb2RlLlxuICAgKi9cbiAgTk9UX0VNQkVEREVEOiAwLFxuXG4gIC8qKlxuICAgKiBUQkQgZW1iZWQgbW9kZS5cbiAgICpcbiAgICogVGhpcyBkaWZmZXJzIGZyb20gdGhlIE5PVF9FTUJFRERFRCBlbWJlZCBtb2RlIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAgICogLSBIaWRlcyBib29rZW5kXG4gICAqIC0gSGlkZXMgYWxsIHN5c3RlbSBsYXllciBidXR0b25zXG4gICAqIC0gRGlzYWJsZXMgc3dpcGUtYmFzZWQgdXNlciBlZHVjYXRpb25cbiAgICogLSBEaXNhbGxvd3MgYWRzXG4gICAqIC0gVW5tdXRlcyBhdWRpbyBpbiB0aGUgc3RvcnkgYnkgZGVmYXVsdFxuICAgKi9cbiAgTkFNRV9UQkQ6IDEsXG5cbiAgLyoqXG4gICAqIFRoaXMgbW9kZSBpcyBpbnRlbmRlZCBmb3IgZW1iZWRkZXJzIHRoYXQgbmF0aXZlbHkgaGFuZGxlIHNoYXJpbmcgdGhlIHN0b3J5LFxuICAgKiB0aGVyZWJ5IHJlbmRlcmluZyB0aGUgc2hhcmluZyBmdW5jdGlvbmFsaXR5IHdpdGhpbiB0aGUgYW1wLXN0b3J5IGV4dGVuc2lvblxuICAgKiByZWR1bmRhbnQuXG4gICAqXG4gICAqIFRoaXMgZGlmZmVycyBmcm9tIHRoZSBOT1RfRU1CRURERUQgZW1iZWQgbW9kZSBpbiB0aGUgZm9sbG93aW5nIHdheXM6XG4gICAqIC0gUmVtb3ZlcyBcInNoYXJlXCIgcGlsbCBmcm9tIGRlc2t0b3AgVUlcbiAgICogLSBSZW1vdmVzIFwic2hhcmVcIiBpY29uIGZyb20gbW9iaWxlIFVJXG4gICAqIC0gUmVtb3ZlcyBzaGFyaW5nIHNlY3Rpb24gZnJvbSBib29rZW5kXG4gICAqIC0gVE9ETygjMTQ5MjMpOiBSZW1vdmVzIHRoZSBsaW5rIGluZm9ybWF0aW9uIGZyb20gZW1iZWRkZWQgVUlzLlxuICAgKi9cbiAgTk9fU0hBUklORzogMixcbn07XG5cblxuLyoqXG4gKiBQYXJhbWV0ZXIgdG8gcmV0cmlldmUgdGhlIGVtYmVkIG1vZGUgZnJvbSB0aGUgbG9jYXRpb24gaGFzaC5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBFbWJlZE1vZGVQYXJhbSA9ICdlbWJlZE1vZGUnO1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7IUVtYmVkTW9kZX1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVtYmVkTW9kZShzdHIpIHtcbiAgY29uc3QgcGFyYW1zID0gcGFyc2VRdWVyeVN0cmluZyhzdHIpO1xuICBjb25zdCB1bnNhbml0aXplZEVtYmVkTW9kZSA9IHBhcmFtc1tFbWJlZE1vZGVQYXJhbV07XG4gIGNvbnN0IGVtYmVkTW9kZUluZGV4ID0gcGFyc2VJbnQodW5zYW5pdGl6ZWRFbWJlZE1vZGUsIDEwKTtcblxuICByZXR1cm4gaXNFbnVtVmFsdWUoRW1iZWRNb2RlLCBlbWJlZE1vZGVJbmRleClcbiAgICA/IC8qKiBAdHlwZSB7IUVtYmVkTW9kZX0gKi8gKGVtYmVkTW9kZUluZGV4KVxuICAgIDogRW1iZWRNb2RlLk5PVF9FTUJFRERFRDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2NyZWF0ZUN1c3RvbUV2ZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvZXZlbnQtaGVscGVyJztcblxuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gKi9cbmV4cG9ydCBjb25zdCBFdmVudFR5cGUgPSB7XG4gIC8vIFRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIG11dGVzIHRoZSBzdG9yeVxuICBNVVRFOiAnYW1wc3Rvcnk6bXV0ZScsXG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgdW5tdXRlcyB0aGUgc3RvcnlcbiAgVU5NVVRFOiAnYW1wc3Rvcnk6dW5tdXRlJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgc3Rvcnkgc2hvdWxkIHN3aXRjaCB0byBhIHNwZWNpZmllZCBwYWdlXG4gIFNXSVRDSF9QQUdFOiAnYW1wc3Rvcnk6c3dpdGNocGFnZScsXG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIHN0b3J5IHNob3VsZCBzd2l0Y2ggdG8gdGhlIHByZXZpb3VzIHBhZ2VcbiAgUFJFVklPVVNfUEFHRTogJ2FtcHN0b3J5OnByZXZpb3VzcGFnZScsXG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIHN0b3J5IHNob3VsZCBzd2l0Y2ggdG8gdGhlIG5leHQgcGFnZVxuICBORVhUX1BBR0U6ICdhbXBzdG9yeTpuZXh0cGFnZScsXG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIHN0b3J5IHNob3VsZCBuYXZpZ2F0ZSBhZnRlciBhIHRhcCBvbiBhY3RpdmUgcGFnZS5cbiAgVEFQX05BVklHQVRJT046ICdhbXBzdG9yeTp0YXBuYXZpZ2F0aW9uJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiBhIHBhZ2UgdXBkYXRlcyBpdHMgcHJvZ3Jlc3NcbiAgUEFHRV9QUk9HUkVTUzogJ2FtcHN0b3J5OnBhZ2Vwcm9ncmVzcycsXG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIHN0b3J5IHNob3VsZCBiZSByZXBsYXllZFxuICBSRVBMQVk6ICdhbXBzdG9yeTpyZXBsYXknLFxuXG4gIC8vIERFVkVMT1BNRU5UIE1PREUgT05MWTogVHJpZ2dlcmVkIHdoZW4gYSBzdG9yeSBwYWdlIGhhcyBsb2cgZW50cmllcyAoZS5nLlxuICAvLyB3YXJuaW5ncyBvciBlcnJvcnMpLlxuICBERVZfTE9HX0VOVFJJRVNfQVZBSUxBQkxFOiAnYW1wc3Rvcnk6ZGV2bG9nZW50cmllc2F2YWlsYWJsZScsXG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gdXNlciBjbGlja3Mgb24gbGVmdCAyNSUgb2YgdGhlIGZpcnN0IHBhZ2VcbiAgU0hPV19OT19QUkVWSU9VU19QQUdFX0hFTFA6ICdhbXBzdG9yeTpzaG93bm9wcmV2aW91c3BhZ2VoZWxwJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiBhIHN0b3J5IGhhcyBsb2FkZWQgYXQgbGVhc3QgaXRzIGluaXRpYWwgc2V0IG9mIHBhZ2VzLlxuICBTVE9SWV9MT0FERUQ6ICdhbXBzdG9yeTpsb2FkJyxcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiBhIHBhZ2UgaGFzIGxvYWRlZCBhdCBsZWFzdCBvbmUgZnJhbWUgb2YgYWxsIG9mIGl0cyBtZWRpYS5cbiAgUEFHRV9MT0FERUQ6ICdhbXBzdG9yeTpwYWdlbG9hZCcsXG5cbiAgLy8gRGlzcGF0Y2hlcyBhbiBhY3Rpb24gdG8gdGhlIGFtcC1zdG9yeSBzdG9yZSBzZXJ2aWNlLiBPbmx5IHdvcmtzIHVuZGVyIHRlc3QuXG4gIERJU1BBVENIX0FDVElPTjogJ2FtcHN0b3J5OmRpc3BhdGNoYWN0aW9uJyxcbn07XG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEBwYXJhbSB7IUpzb25PYmplY3Q9fSBwYXlsb2FkXG4gKiBAcGFyYW0geyFDdXN0b21FdmVudEluaXQ9fSBldmVudEluaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKHdpbiwgc291cmNlLCBldmVudE5hbWUsIHBheWxvYWQgPSB1bmRlZmluZWQsXG4gIGV2ZW50SW5pdCA9IHVuZGVmaW5lZCkge1xuICBjb25zdCBldmVudCA9IGNyZWF0ZUN1c3RvbUV2ZW50KHdpbiwgZXZlbnROYW1lLCBwYXlsb2FkLCBldmVudEluaXQpO1xuICBzb3VyY2UuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtpc0pzb25MZFNjcmlwdFRhZ30gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge3RyeVBhcnNlSnNvbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2pzb24nO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcblxuY29uc3QgVEFHID0gJ2dldEpzb25MZCc7XG5cbi8qKlxuICogQHBhcmFtIHshTm9kZX0gcm9vdFxuICogQHJldHVybiB7P0pzb25PYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKc29uTGQocm9vdCkge1xuICBjb25zdCBzY3JpcHRUYWcgPSByb290LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFt0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXScpO1xuXG4gIGlmICghc2NyaXB0VGFnIHx8ICFpc0pzb25MZFNjcmlwdFRhZyhzY3JpcHRUYWcpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gdHJ5UGFyc2VKc29uKHNjcmlwdFRhZy50ZXh0Q29udGVudCwgZSA9PiB7XG4gICAgdXNlcigpLmVycm9yKFRBRywgJ0ZhaWxlZCB0byBwYXJzZSBsZCtqc29uLiBJcyBpdCB2YWxpZCBKU09OPycsIGUpO1xuICB9KSB8fCBudWxsO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge2Rldn0gZnJvbSAnLi4vLi4vLi4vc3JjL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3JlbmRlckFzRWxlbWVudH0gZnJvbSAnLi9zaW1wbGUtdGVtcGxhdGUnO1xuXG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFNQSU5ORVJfQUNUSVZFX0FUVFJJQlVURSA9ICdhY3RpdmUnO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgU1BJTk5FUiA9IHtcbiAgdGFnOiAnZGl2JyxcbiAgYXR0cnM6IGRpY3Qoe1xuICAgICdjbGFzcyc6ICdpLWFtcGh0bWwtc3Rvcnktc3Bpbm5lcicsXG4gICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICdhcmlhLWxhYmVsJzogJ0xvYWRpbmcgdmlkZW8nLFxuICB9KSxcbiAgY2hpbGRyZW46IFtcbiAgICB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY29udGFpbmVyJyxcbiAgICAgIH0pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IGRpY3Qoe1xuICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zcGlubmVyLWxheWVyJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICBhdHRyczogZGljdCh7XG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1zcGlubmVyLWNpcmNsZS1jbGlwcGVyIGxlZnQnLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICAgIGF0dHJzOiBkaWN0KHtcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiAnaS1hbXBodG1sLXN0b3J5LXNwaW5uZXItY2lyY2xlLWNsaXBwZXIgcmlnaHQnLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSxcbn07XG5cbi8qKlxuICogTG9hZGluZyBzcGlubmVyIFVJIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2FkaW5nU3Bpbm5lciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRG9jdW1lbnR9ICovXG4gICAgdGhpcy5kb2NfID0gZG9jO1xuXG4gICAgLyoqIEBwdWJsaWMgez9FbGVtZW50fSAqL1xuICAgIHRoaXMucm9vdF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNBY3RpdmVfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBpZiAodGhpcy5yb290Xykge1xuICAgICAgcmV0dXJuIHRoaXMucm9vdF87XG4gICAgfVxuXG4gICAgdGhpcy5yb290XyA9IHJlbmRlckFzRWxlbWVudCh0aGlzLmRvY18sIFNQSU5ORVIpO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0Um9vdCgpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4geyFFbGVtZW50fSAqL1xuICBnZXRSb290KCkge1xuICAgIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KHRoaXMucm9vdF8pO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBY3RpdmUgKi9cbiAgdG9nZ2xlKGlzQWN0aXZlKSB7XG4gICAgaWYgKGlzQWN0aXZlID09PSB0aGlzLmlzQWN0aXZlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMucm9vdF8uc2V0QXR0cmlidXRlKFNQSU5ORVJfQUNUSVZFX0FUVFJJQlVURSwgJycpO1xuICAgICAgdGhpcy5yb290Xy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9vdF8ucmVtb3ZlQXR0cmlidXRlKFNQSU5ORVJfQUNUSVZFX0FUVFJJQlVURSk7XG4gICAgICB0aGlzLnJvb3RfLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH1cbiAgICB0aGlzLmlzQWN0aXZlXyA9IGlzQWN0aXZlO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7Y2xvc2VzdH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge3BhcnNlSnNvbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2pzb24nO1xuXG4vKipcbiAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGVhY2ggbG9jYWxpemVkIHN0cmluZy4gIExvY2FsaXplZCBzdHJpbmcgSURzIHNob3VsZDpcbiAqXG4gKiAgIC0gTWFpbnRhaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gKiAgIC0gQmUgcHJlZml4ZWQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgZXh0ZW5zaW9uIHRoYXQgdXNlcyB0aGUgc3RyaW5nXG4gKiAgICAgKGUuZy4gXCJBTVBfU1RPUllfXCIpLCBvciB3aXRoIFwiQU1QX1wiIGlmIHRoZXkgYXJlIGdlbmVyYWxcbiAqICAgLSBOT1QgYmUgcmV1c2VkOyB0byBkZXByZWNhdGUgYW4gSUQsIGNvbW1lbnQgaXQgb3V0IGFuZCBwcmVmaXggaXRzIGtleSB3aXRoXG4gKiAgICAgdGhlIHN0cmluZyBcIkRFUFJFQ0FURURfXCJcbiAqXG4gKiBOZXh0IElEOiAzMVxuICpcbiAqIEBjb25zdCBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgTG9jYWxpemVkU3RyaW5nSWQgPSB7XG4gIC8vIGFtcC1zdG9yeVxuICBBTVBfU1RPUllfQk9PS0VORF9NT1JFX1RPX1JFQURfTEFCRUw6ICczMCcsXG4gIEFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfVElUTEU6ICcyOScsXG4gIEFNUF9TVE9SWV9CT09LRU5EX1BSSVZBQ1lfU0VUVElOR1NfQlVUVE9OX0xBQkVMOiAnMjgnLFxuICBBTVBfU1RPUllfQ09OU0VOVF9BQ0NFUFRfQlVUVE9OX0xBQkVMOiAnMjInLFxuICBBTVBfU1RPUllfQ09OU0VOVF9ERUNMSU5FX0JVVFRPTl9MQUJFTDogJzIzJyxcbiAgQU1QX1NUT1JZX0NPTlRJTlVFX0FOWVdBWV9CVVRUT05fTEFCRUw6ICcyNycsXG4gIEFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTEFCRUw6ICcyNScsXG4gIEFNUF9TVE9SWV9ET01BSU5fRElBTE9HX0hFQURJTkdfTElOSzogJzI2JyxcbiAgQU1QX1NUT1JZX0hJTlRfVUlfTkVYVF9MQUJFTDogJzInLFxuICBBTVBfU1RPUllfSElOVF9VSV9QUkVWSU9VU19MQUJFTDogJzMnLFxuICBBTVBfU1RPUllfU0hBUklOR19DTElQQk9BUkRfRkFJTFVSRV9URVhUOiAnNCcsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX0NMSVBCT0FSRF9TVUNDRVNTX1RFWFQ6ICc1JyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9FTUFJTDogJzYnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX0ZBQ0VCT09LOiAnNycsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfR09PR0xFX1BMVVM6ICc4JyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9MSU5LOiAnOScsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfTElOS0VESU46ICcxMCcsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfUElOVEVSRVNUOiAnMTEnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1NNUzogJzEyJyxcbiAgQU1QX1NUT1JZX1NIQVJJTkdfUFJPVklERVJfTkFNRV9TWVNURU06ICcxMycsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfVFVNQkxSOiAnMTQnLFxuICBBTVBfU1RPUllfU0hBUklOR19QUk9WSURFUl9OQU1FX1RXSVRURVI6ICcxNScsXG4gIEFNUF9TVE9SWV9TSEFSSU5HX1BST1ZJREVSX05BTUVfV0hBVFNBUFA6ICcxNicsXG4gIEFNUF9TVE9SWV9TWVNURU1fTEFZRVJfU0hBUkVfV0lER0VUX0xBQkVMOiAnMTcnLFxuICBBTVBfU1RPUllfV0FSTklOR19ERVNLVE9QX1NJWkVfVEVYVDogJzE4JyxcbiAgQU1QX1NUT1JZX1dBUk5JTkdfRVhQRVJJTUVOVF9ESVNBQkxFRF9URVhUOiAnMTknLFxuICBBTVBfU1RPUllfV0FSTklOR19MQU5EU0NBUEVfT1JJRU5UQVRJT05fVEVYVDogJzIwJyxcbiAgQU1QX1NUT1JZX1dBUk5JTkdfVU5TVVBQT1JURURfQlJPV1NFUl9URVhUOiAnMjEnLFxuICAvLyBERVBSRUNBVEVEX0FNUF9TVE9SWV9FWFBFUklNRU5UX0VOQUJMRV9CVVRUT05fTEFCRUw6ICcwJyxcbiAgLy8gREVQUkVDQVRFRF9BTVBfU1RPUllfRVhQRVJJTUVOVF9FTkFCTEVEX1RFWFQ6ICcxJyxcbiAgLy8gREVQUkVDQVRFRF9BTVBfU1RPUllfQ09OU0VOVF9ESVNNSVNTX0RJQUxPR19CVVRUT05fTEFCRUw6ICcyNCcsXG59O1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgc3RyaW5nOiBzdHJpbmcsXG4gKiAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IExvY2FsaXplZFN0cmluZ0RlZjtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHshT2JqZWN0PCFMb2NhbGl6ZWRTdHJpbmdJZCwgIUxvY2FsaXplZFN0cmluZ0RlZj59XG4gKi9cbmV4cG9ydCBsZXQgTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmO1xuXG5cbi8qKlxuICogTGFuZ3VhZ2UgY29kZSB1c2VkIGlmIHRoZXJlIGlzIG5vIGxhbmd1YWdlIGNvZGUgc3BlY2lmaWVkIGJ5IHRoZSBkb2N1bWVudC5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBGQUxMQkFDS19MQU5HVUFHRV9DT0RFID0gJ2RlZmF1bHQnO1xuXG5cbi8qKlxuICogQGNvbnN0IHshUmVnRXhwfVxuICovXG5jb25zdCBMQU5HVUFHRV9DT0RFX0NIVU5LX1JFR0VYID0gL1xcdysvZ2k7XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2VDb2RlXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn0gQSBsaXN0IG9mIGxhbmd1YWdlIGNvZGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VDb2Rlc0Zyb21TdHJpbmcobGFuZ3VhZ2VDb2RlKSB7XG4gIGlmICghbGFuZ3VhZ2VDb2RlKSB7XG4gICAgcmV0dXJuIFsnZW4nLCBGQUxMQkFDS19MQU5HVUFHRV9DT0RFXTtcbiAgfVxuICBjb25zdCBtYXRjaGVzID0gbGFuZ3VhZ2VDb2RlLm1hdGNoKExBTkdVQUdFX0NPREVfQ0hVTktfUkVHRVgpIHx8IFtdO1xuICByZXR1cm4gbWF0Y2hlcy5yZWR1Y2UoKGZhbGxiYWNrTGFuZ3VhZ2VDb2RlTGlzdCwgY2h1bmssIGluZGV4KSA9PiB7XG4gICAgY29uc3QgZmFsbGJhY2tMYW5ndWFnZUNvZGUgPSBtYXRjaGVzLnNsaWNlKDAsIGluZGV4ICsgMSlcbiAgICAgICAgLmpvaW4oJy0nKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICBmYWxsYmFja0xhbmd1YWdlQ29kZUxpc3QudW5zaGlmdChmYWxsYmFja0xhbmd1YWdlQ29kZSk7XG4gICAgcmV0dXJuIGZhbGxiYWNrTGFuZ3VhZ2VDb2RlTGlzdDtcbiAgfSwgW0ZBTExCQUNLX0xBTkdVQUdFX0NPREVdKTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHN0cmluZyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGxvY2FsaXplZCBzdHJpbmcgSUQgaW4gdGhlIGxhbmd1YWdlXG4gKiBzcGVjaWZpZWQuXG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWY+fSBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVzXG4gKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBsYW5ndWFnZUNvZGVzXG4gKiBAcGFyYW0geyFMb2NhbGl6ZWRTdHJpbmdJZH0gbG9jYWxpemVkU3RyaW5nSWRcbiAqL1xuZnVuY3Rpb24gZmluZExvY2FsaXplZFN0cmluZyhsb2NhbGl6ZWRTdHJpbmdCdW5kbGVzLCBsYW5ndWFnZUNvZGVzLFxuICBsb2NhbGl6ZWRTdHJpbmdJZCkge1xuICBsZXQgbG9jYWxpemVkU3RyaW5nID0gbnVsbDtcblxuICBsYW5ndWFnZUNvZGVzLnNvbWUobGFuZ3VhZ2VDb2RlID0+IHtcbiAgICBjb25zdCBsb2NhbGl6ZWRTdHJpbmdCdW5kbGUgPSBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVzW2xhbmd1YWdlQ29kZV07XG4gICAgaWYgKGxvY2FsaXplZFN0cmluZ0J1bmRsZSAmJiBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVbbG9jYWxpemVkU3RyaW5nSWRdICYmXG4gICAgICAgIGxvY2FsaXplZFN0cmluZ0J1bmRsZVtsb2NhbGl6ZWRTdHJpbmdJZF0uc3RyaW5nKSB7XG4gICAgICBsb2NhbGl6ZWRTdHJpbmcgPSBsb2NhbGl6ZWRTdHJpbmdCdW5kbGVbbG9jYWxpemVkU3RyaW5nSWRdLnN0cmluZztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGxvY2FsaXplZFN0cmluZztcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgdGhlIHNwZWNpZmllZCBMb2NhbGl6ZWRTdHJpbmdCdW5kbGUuXG4gKiBAcGFyYW0geyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9IGxvY2FsaXplZFN0cmluZ0J1bmRsZVxuICogQHJldHVybiB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn1cbiAqL1xuZnVuY3Rpb24gY2xvbmVMb2NhbGl6ZWRTdHJpbmdCdW5kbGUobG9jYWxpemVkU3RyaW5nQnVuZGxlKSB7XG4gIHJldHVybiAvKiogQHR5cGUgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9ICovIChwYXJzZUpzb24oXG4gICAgICBKU09OLnN0cmluZ2lmeSgvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAobG9jYWxpemVkU3RyaW5nQnVuZGxlKSkpKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBwc2V1ZG8gbG9jYWxlIGJ5IGFwcGx5aW5nIHN0cmluZyB0cmFuc2Zvcm1hdGlvbnMgKHNwZWNpZmllZCBieSB0aGVcbiAqIGxvY2FsaXphdGlvbkZuKSB0byBhbiBleGlzdGluZyBzdHJpbmcgYnVuZGxlLCB3aXRob3V0IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gKiBAcGFyYW0geyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9IGxvY2FsaXplZFN0cmluZ0J1bmRsZSBUaGUgbG9jYWxpemVkXG4gKiAgICAgc3RyaW5nIGJ1bmRsZSB0byBiZSB0cmFuc2Zvcm1lZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKTogc3RyaW5nfSBsb2NhbGl6YXRpb25GbiBUaGUgdHJhbnNmb3JtYXRpb24gdG8gYmVcbiAqICAgICBhcHBsaWVkIHRvIGVhY2ggc3RyaW5nIGluIHRoZSBidW5kbGUuXG4gKiBAcmV0dXJuIHshTG9jYWxpemVkU3RyaW5nQnVuZGxlRGVmfSBUaGUgbmV3IHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQc2V1ZG9Mb2NhbGUobG9jYWxpemVkU3RyaW5nQnVuZGxlLCBsb2NhbGl6YXRpb25Gbikge1xuICAvKiogQHR5cGUgeyFMb2NhbGl6ZWRTdHJpbmdCdW5kbGVEZWZ9ICovXG4gIGNvbnN0IHBzZXVkb0xvY2FsZVN0cmluZ0J1bmRsZSA9XG4gICAgICBjbG9uZUxvY2FsaXplZFN0cmluZ0J1bmRsZShsb2NhbGl6ZWRTdHJpbmdCdW5kbGUpO1xuXG4gIE9iamVjdC5rZXlzKHBzZXVkb0xvY2FsZVN0cmluZ0J1bmRsZSkuZm9yRWFjaChsb2NhbGl6ZWRTdHJpbmdJZEFzU3RyID0+IHtcbiAgICBjb25zdCBsb2NhbGl6ZWRTdHJpbmdJZCA9XG4gICAgLyoqIEB0eXBlIHshTG9jYWxpemVkU3RyaW5nSWR9ICovIChsb2NhbGl6ZWRTdHJpbmdJZEFzU3RyKTtcbiAgICBwc2V1ZG9Mb2NhbGVTdHJpbmdCdW5kbGVbbG9jYWxpemVkU3RyaW5nSWRdLnN0cmluZyA9XG4gICAgICAgIGxvY2FsaXphdGlvbkZuKGxvY2FsaXplZFN0cmluZ0J1bmRsZVtsb2NhbGl6ZWRTdHJpbmdJZF0uc3RyaW5nKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBzZXVkb0xvY2FsZVN0cmluZ0J1bmRsZTtcbn1cblxuXG4vKipcbiAqIExvY2FsaXphdGlvbiBzZXJ2aWNlLlxuICovXG5leHBvcnQgY2xhc3MgTG9jYWxpemF0aW9uU2VydmljZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgY29uc3Qgcm9vdEVsID0gd2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5yb290TGFuZ3VhZ2VDb2Rlc18gPSB0aGlzLmdldExhbmd1YWdlQ29kZXNGb3JFbGVtZW50Xyhyb290RWwpO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXBwaW5nIG9mIGxhbmd1YWdlIGNvZGUgdG8gbG9jYWxpemVkIHN0cmluZyBidW5kbGUuXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZj59XG4gICAgICovXG4gICAgdGhpcy5sb2NhbGl6ZWRTdHJpbmdCdW5kbGVzXyA9IHt9O1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldExhbmd1YWdlQ29kZXNGb3JFbGVtZW50XyhlbGVtZW50KSB7XG4gICAgY29uc3QgbGFuZ3VhZ2VFbCA9IGNsb3Nlc3QoZWxlbWVudCwgZWwgPT4gZWwuaGFzQXR0cmlidXRlKCdsYW5nJykpO1xuICAgIGNvbnN0IGxhbmd1YWdlQ29kZSA9IGxhbmd1YWdlRWwgPyBsYW5ndWFnZUVsLmdldEF0dHJpYnV0ZSgnbGFuZycpIDogbnVsbDtcbiAgICByZXR1cm4gZ2V0TGFuZ3VhZ2VDb2Rlc0Zyb21TdHJpbmcobGFuZ3VhZ2VDb2RlIHx8ICcnKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZUNvZGUgVGhlIGxhbmd1YWdlIGNvZGUgdG8gYXNzb2NpYXRlIHdpdGggdGhlXG4gICAqICAgICBzcGVjaWZpZWQgbG9jYWxpemVkIHN0cmluZyBidW5kbGUuXG4gICAqIEBwYXJhbSB7IUxvY2FsaXplZFN0cmluZ0J1bmRsZURlZn0gbG9jYWxpemVkU3RyaW5nQnVuZGxlIFRoZSBsb2NhbGl6ZWRcbiAgICogICAgIHN0cmluZyBidW5kbGUgdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4geyFMb2NhbGl6YXRpb25TZXJ2aWNlfSBGb3IgY2hhaW5pbmcuXG4gICAqL1xuICByZWdpc3RlckxvY2FsaXplZFN0cmluZ0J1bmRsZShsYW5ndWFnZUNvZGUsIGxvY2FsaXplZFN0cmluZ0J1bmRsZSkge1xuICAgIGlmICghdGhpcy5sb2NhbGl6ZWRTdHJpbmdCdW5kbGVzX1tsYW5ndWFnZUNvZGVdKSB7XG4gICAgICB0aGlzLmxvY2FsaXplZFN0cmluZ0J1bmRsZXNfW2xhbmd1YWdlQ29kZV0gPSB7fTtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMubG9jYWxpemVkU3RyaW5nQnVuZGxlc19bbGFuZ3VhZ2VDb2RlXSxcbiAgICAgICAgbG9jYWxpemVkU3RyaW5nQnVuZGxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUxvY2FsaXplZFN0cmluZ0lkfSBMb2NhbGl6ZWRTdHJpbmdJZFxuICAgKiBAcGFyYW0geyFFbGVtZW50PX0gZWxlbWVudFRvVXNlIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBzdHJpbmcgd2lsbCBiZVxuICAgKiAgICAgdXNlZC4gIFRoZSBsYW5ndWFnZSBpcyBiYXNlZCBvbiB0aGUgbGFuZ3VhZ2UgYXQgdGhhdCBwYXJ0IG9mIHRoZVxuICAgKiAgICAgZG9jdW1lbnQuICBJZiB1bnNwZWNpZmllZCwgd2lsbCB1c2UgdGhlIGRvY3VtZW50LWxldmVsIGxhbmd1YWdlLCBpZlxuICAgKiAgICAgb25lIGV4aXN0cywgb3IgdGhlIGRlZmF1bHQgb3RoZXJ3aXNlLlxuICAgKi9cbiAgZ2V0TG9jYWxpemVkU3RyaW5nKExvY2FsaXplZFN0cmluZ0lkLCBlbGVtZW50VG9Vc2UgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBsYW5ndWFnZUNvZGVzID0gZWxlbWVudFRvVXNlID9cbiAgICAgIHRoaXMuZ2V0TGFuZ3VhZ2VDb2Rlc0ZvckVsZW1lbnRfKGVsZW1lbnRUb1VzZSkgOlxuICAgICAgdGhpcy5yb290TGFuZ3VhZ2VDb2Rlc187XG5cbiAgICByZXR1cm4gZmluZExvY2FsaXplZFN0cmluZyh0aGlzLmxvY2FsaXplZFN0cmluZ0J1bmRsZXNfLCBsYW5ndWFnZUNvZGVzLFxuICAgICAgICBMb2NhbGl6ZWRTdHJpbmdJZCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2dMZXZlbCwgZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7c2NvcGVkUXVlcnlTZWxlY3RvckFsbH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge3RyeVJlc29sdmV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9wcm9taXNlJztcblxuXG4vKiogQHR5cGVkZWYge2Z1bmN0aW9uKCFFbGVtZW50KTogKGJvb2xlYW58IVByb21pc2U8Ym9vbGVhbj4pfSAqL1xubGV0IEVsZW1lbnRQcmVkaWNhdGVEZWY7XG5cbi8qKlxuICogQSBsb2cgdHlwZSBpcyBhbiBhYnN0cmFjdCBydWxlIG9yIGJlc3QgcHJhY3RpY2UgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgd2hlblxuICogY29uc3RydWN0aW5nIGEgc3RvcnkuICBUaGlzIGlzIGludGVybmFsIHRvIHRoaXMgZmlsZSwgd2hpY2ggaGFuZGxlcyBmaW5kaW5nXG4gKiBzcGVjaWZpYyBpbnN0YW5jZXMgb2YgdGhlc2UgbG9nIHR5cGVzLCBhbmQgcmV0dXJuaW5nIHRoZW0gYXMgbG9nIGVudHJpZXMuXG4gKlxuICogbWVzc2FnZTogKHJlcXVpcmVkKSBUaGUgbWVzc2FnZSBzaG93biB0byBkZXZlbG9wZXJzIGluIGRldmVsb3BtZW50IG1vZGUgaWZcbiAqICAgICB0aGUgYmVzdCBwcmFjdGljZSBpcyBub3QgZm9sbG93ZWQuXG4gKiBsZXZlbDogKHJlcXVpcmVkKSBUaGUgbG9nIGxldmVsIGF0IHdoaWNoIHRoaXMgZW50cnkgc2hvdWxkIGJlIGxvZ2dlZC5cbiAqIG1vcmVJbmZvOiAob3B0aW9uYWwpIEEgVVJMIHRvIGEgcGFnZSBjb250YWluaW5nIGFkZGl0aW9uYWwgZG9jdW1lbnRhdGlvbiBvblxuICogICAgIHRoZSBiZXN0IHByYWN0aWNlLlxuICogc2VsZWN0b3I6IChvcHRpb25hbCkgQSBzZWxlY3RvciB0byBiZSBxdWVyaWVkIG9uIHRoZSBjdXJyZW50bHktYWN0aXZlIHBhZ2UsXG4gKiAgICAgYW5kIHdob3NlIHJlc3VsdHMgd2lsbCBiZSBzdWJqZWN0IHRvIHRoZSBiZXN0IHByYWN0aWNlIChnaXZlbiB0aGF0IHRoZXlcbiAqICAgICBhbHNvIG1hdGNoIHRoZSBwcmVjb25kaXRpb24pLiAgSWYgdW5zcGVjaWZpZWQsIHRoZSBhbXAtc3RvcnktcGFnZSBpdHNlbGZcbiAqICAgICBpcyBhc3N1bWVkIHRvIGJlIHN1YmplY3QgdG8gdGhlIGJlc3QgcHJhY3RpY2UuXG4gKiBwcmVjb25kaXRpb246IChvcHRpb25hbCkgQSBwcmVkaWNhdGUgdGhhdCB0YWtlcyBhbiBlbGVtZW50IGFuZCByZXR1cm5zIHRydWVcbiAqICAgICBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgc2hvdWxkIGJlIHN1YmplY3QgdG8gdGhlIGJlc3QgcHJhY3RpY2UuICBJZlxuICogICAgIHVuc3BlY2lmaWVkLCBhbGwgZWxlbWVudHMgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IgYXJlIHN1YmplY3QgdG8gdGhlIGJlc3RcbiAqICAgICBwcmFjdGljZS5cbiAqIHByZWRpY2F0ZTogKG9wdGlvbmFsKSBBIHByZWRpY2F0ZSB0aGF0IHRha2VzIGFuIGVsZW1lbnQgYW5kIHJldHVybnMgdHJ1ZSBpZlxuICogICAgIHRoZSBlbGVtZW50IGZvbGxvd3MgdGhlIGJlc3QgcHJhY3RpY2UsIG9yIGZhbHNlIG90aGVyd2lzZS4gIElmXG4gKiAgICAgdW5zcGVjaWZpZWQsIGFsbCBlbGVtZW50cyBhcmUgYXNzdW1lZCBub3QgdG8gZm9sbG93IHRoZSBiZXN0IHByYWN0aWNlLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIG1lc3NhZ2U6IHN0cmluZyxcbiAqICAgbGV2ZWw6ICFMb2dMZXZlbCxcbiAqICAgbW9yZUluZm86IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgc2VsZWN0b3I6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgcHJlY29uZGl0aW9uOiAoIUVsZW1lbnRQcmVkaWNhdGVEZWZ8dW5kZWZpbmVkKSxcbiAqICAgcHJlZGljYXRlOiAoIUVsZW1lbnRQcmVkaWNhdGVEZWZ8dW5kZWZpbmVkKSxcbiAqIH19XG4gKi9cbmxldCBBbXBTdG9yeUxvZ1R5cGVEZWY7XG5cblxuLyoqXG4gKiBBIGxvZyBlbnRyeSBpcyBhIG1vcmUgY29uY3JldGUgdmVyc2lvbiBvZiBhIHJ1bGUgb3IgYmVzdCBwcmFjdGljZTsgaXQgcmVmZXJzXG4gKiB0byB3aGV0aGVyIGEgc3BlY2lmaWMgZWxlbWVudCBvbiBhIHNwZWNpZmljIHBhZ2Ugb2YgYSBzcGVjaWZpYyBzdG9yeSBjb25mb3Jtc1xuICogdG8gYSBnaXZlbiBiZXN0IHByYWN0aWNlLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGVsZW1lbnQ6ICFFbGVtZW50LFxuICogICByb290RWxlbWVudDogIUVsZW1lbnQsXG4gKiAgIG1lc3NhZ2U6IHN0cmluZyxcbiAqICAgbGV2ZWw6ICFMb2dMZXZlbCxcbiAqICAgY29uZm9ybXM6IGJvb2xlYW4sXG4gKiAgIG1vcmVJbmZvOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEFtcFN0b3J5TG9nRW50cnlEZWY7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQU1QUFJPSkVDVF9ET0NTID0gJ2h0dHBzOi8vd3d3LmFtcHByb2plY3Qub3JnL2RvY3MnO1xuXG5cbi8qKlxuICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZWxcbiAqIEByZXR1cm4geyFQcm9taXNlPEltYWdlPn1cbiAqL1xuZnVuY3Rpb24gZ2V0UG9zdGVyRnJvbVZpZGVvKGVsKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcG9zdGVyID0gbmV3IEltYWdlKCk7XG4gICAgcG9zdGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocG9zdGVyKTtcbiAgICBwb3N0ZXIub25lcnJvciA9IHJlamVjdDtcbiAgICBwb3N0ZXIuc3JjID0gZWwuZ2V0QXR0cmlidXRlKCdwb3N0ZXInKTtcbiAgfSk7XG59XG5cbi8qKiBAZW51bSB7IUFtcFN0b3J5TG9nVHlwZURlZn0gKi9cbmNvbnN0IExvZ1R5cGUgPSB7XG4gIC8qKiBFcnJvcnMgKi9cbiAgVklERU9TX1BPU1RFUl9TUEVDSUZJRUQ6IHtcbiAgICBtZXNzYWdlOiAnVmlkZW9zIHNob3VsZCBzcGVjaWZ5IGEgcG9zdGVyIGltYWdlLicsXG4gICAgbW9yZUluZm86IEFNUFBST0pFQ1RfRE9DUyArICcvcmVmZXJlbmNlL2NvbXBvbmVudHMvYW1wLXZpZGVvI3Bvc3RlcicsXG4gICAgc2VsZWN0b3I6ICd2aWRlbzpub3QoW3Bvc3Rlcl0pJyxcbiAgICBsZXZlbDogTG9nTGV2ZWwuRVJST1IsXG4gIH0sXG5cbiAgLyoqIFdhcm5pbmdzICovXG4gIElNQUdFU19NQVhfNzIwUF9PUl9TUkNTRVQ6IHtcbiAgICBtZXNzYWdlOiAnSW1hZ2VzIHNob3VsZCBub3QgYmUgbGFyZ2VyIHRoYW4gNzIwcC4gIElmIHlvdSB3aXNoIHRvIHVzZScgK1xuICAgICAgICAnIGltYWdlcyB0aGF0IGFyZSBsYXJnZXIgdGhhbiA3MjBwLCB5b3Ugc2hvdWxkIHNwZWNpZnkgYSBzcmNzZXQuJyxcbiAgICBtb3JlSW5mbzogQU1QUFJPSkVDVF9ET0NTICsgJy9ndWlkZXMvcmVzcG9uc2l2ZS9hcnRfZGlyZWN0aW9uI3NyY3NldCcsXG4gICAgc2VsZWN0b3I6ICdpbWc6bm90KFtzcmNzZXRdKScsXG4gICAgcHJlZGljYXRlOiBlbCA9PiBlbC5uYXR1cmFsV2lkdGggPD0gNzIwICYmIGVsLm5hdHVyYWxIZWlnaHQgPD0gMTI4MCxcbiAgICBsZXZlbDogTG9nTGV2ZWwuV0FSTixcbiAgfSxcblxuICBJTUFHRVNfUE9SVFJBSVQ6IHtcbiAgICBtZXNzYWdlOiAnRnVsbC1ibGVlZCBpbWFnZXMgc2hvdWxkIGJlIGluIHBvcnRyYWl0IG9yaWVudGF0aW9uLicsXG4gICAgc2VsZWN0b3I6ICdhbXAtc3RvcnktZ3JpZC1sYXllclt0ZW1wbGF0ZT1cImZpbGxcIl0gPiBhbXAtaW1nID4gaW1nJyxcbiAgICBwcmVkaWNhdGU6IGVsID0+IGVsLm5hdHVyYWxXaWR0aCA8IGVsLm5hdHVyYWxIZWlnaHQsXG4gICAgbGV2ZWw6IExvZ0xldmVsLldBUk4sXG4gIH0sXG5cbiAgVklERU9TX01BWF83MjBQOiB7XG4gICAgbWVzc2FnZTogJ1ZpZGVvcyBzaG91bGQgbm90IGJlIGxhcmdlciB0aGFuIDcyMHAuJyxcbiAgICBzZWxlY3RvcjogJ3ZpZGVvJyxcbiAgICBwcmVkaWNhdGU6IGVsID0+IGVsLnZpZGVvV2lkdGggPD0gNzIwICYmIGVsLnZpZGVvSGVpZ2h0IDw9IDEyODAsXG4gICAgbGV2ZWw6IExvZ0xldmVsLldBUk4sXG4gIH0sXG5cbiAgVklERU9TX1BPUlRSQUlUOiB7XG4gICAgbWVzc2FnZTogJ0Z1bGwtYmxlZWQgdmlkZW9zIHNob3VsZCBiZSBpbiBwb3J0cmFpdCBvcmllbnRhdGlvbi4nLFxuICAgIHNlbGVjdG9yOiAnYW1wLXN0b3J5LWdyaWQtbGF5ZXJbdGVtcGxhdGU9XCJmaWxsXCJdID4gYW1wLXZpZGVvID4gdmlkZW8nLFxuICAgIHByZWRpY2F0ZTogZWwgPT4gZWwudmlkZW9XaWR0aCA8IGVsLnZpZGVvSGVpZ2h0LFxuICAgIGxldmVsOiBMb2dMZXZlbC5XQVJOLFxuICB9LFxuXG4gIFZJREVPX1BPU1RFUl9NQVhfNzIwUDoge1xuICAgIG1lc3NhZ2U6ICdWaWRlbyBwb3N0ZXIgaW1hZ2VzIHNob3VsZCBub3QgYmUgbGFyZ2VyIHRoYW4gNzIwcC4nLFxuICAgIHNlbGVjdG9yOiAndmlkZW9bcG9zdGVyXScsXG4gICAgcHJlZGljYXRlOiBlbCA9PiBnZXRQb3N0ZXJGcm9tVmlkZW8oZWwpXG4gICAgICAgIC50aGVuKHBvc3RlciA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBvc3Rlci5uYXR1cmFsV2lkdGggPD0gNzIwICYmIHBvc3Rlci5uYXR1cmFsSGVpZ2h0IDw9IDEyODA7XG4gICAgICAgIH0pLFxuICAgIGxldmVsOiBMb2dMZXZlbC5XQVJOLFxuICB9LFxuXG4gIFZJREVPX1BPU1RFUl9QT1RSQUlUOiB7XG4gICAgbWVzc2FnZTogJ1Bvc3RlciBpbWFnZXMgZm9yIGZ1bGwtYmxlZWQgdmlkZW9zIHNob3VsZCBiZSBpbiBwb3J0cmFpdCAnICtcbiAgICAgICAgJ29yaWVudGF0aW9uLicsXG4gICAgc2VsZWN0b3I6ICdhbXAtc3RvcnktZ3JpZC1sYXllclt0ZW1wbGF0ZT1cImZpbGxcIl0gPiBhbXAtdmlkZW8gPiAnICtcbiAgICAgICAgJ3ZpZGVvW3Bvc3Rlcl0nLFxuICAgIHByZWRpY2F0ZTogZWwgPT4gZ2V0UG9zdGVyRnJvbVZpZGVvKGVsKVxuICAgICAgICAudGhlbihwb3N0ZXIgPT4gcG9zdGVyLm5hdHVyYWxXaWR0aCA8IHBvc3Rlci5uYXR1cmFsSGVpZ2h0KSxcbiAgICBsZXZlbDogTG9nTGV2ZWwuV0FSTixcbiAgfSxcbn07XG5cblxuLyoqXG4gKiBHZXRzIHRoZSBsb2cgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nVHlwZUtleVxuICogQHJldHVybiB7IUFtcFN0b3J5TG9nVHlwZURlZn1cbiAqL1xuZnVuY3Rpb24gZ2V0TG9nVHlwZShsb2dUeXBlS2V5KSB7XG4gIGNvbnN0IGxvZ1R5cGUgPSBMb2dUeXBlW2xvZ1R5cGVLZXldO1xuICBkZXYoKS5hc3NlcnQobG9nVHlwZSwgYFRoZXJlIGlzIG5vIGxvZyB0eXBlIFwiJHtsb2dUeXBlS2V5fVwiLmApO1xuICBkZXYoKS5hc3NlcnQobG9nVHlwZS5tZXNzYWdlLFxuICAgICAgYExvZyB0eXBlIFwiJHtsb2dUeXBlS2V5fVwiIGhhcyBubyBhc3NvY2lhdGVkIG1lc3NhZ2UuYCk7XG4gIGRldigpLmFzc2VydChsb2dUeXBlLmxldmVsLFxuICAgICAgYExvZyB0eXBlIFwiJHtsb2dUeXBlS2V5fVwiIGhhcyBubyBhc3NvY2lhdGVkIGxvZyBsZXZlbC5gKTtcblxuICByZXR1cm4gbG9nVHlwZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RFbGVtZW50XG4gKiBAcGFyYW0geyFBbXBTdG9yeUxvZ1R5cGVEZWZ9IGxvZ1R5cGVcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4geyFQcm9taXNlPCFBbXBTdG9yeUxvZ0VudHJ5RGVmPn1cbiAqL1xuZnVuY3Rpb24gZ2V0TG9nRW50cnkocm9vdEVsZW1lbnQsIGxvZ1R5cGUsIGVsZW1lbnQpIHtcbiAgY29uc3QgcHJlZGljYXRlID0gbG9nVHlwZS5wcmVkaWNhdGUgfHwgKHVudXNlZEVsID0+IGZhbHNlKTtcblxuICByZXR1cm4gdHJ5UmVzb2x2ZSgoKSA9PiBwcmVkaWNhdGUoZWxlbWVudCkpXG4gICAgICAudGhlbihjb25mb3JtcyA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgIHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGNvbmZvcm1zLFxuICAgICAgICAgICAgbGV2ZWw6IGxvZ1R5cGUubGV2ZWwsXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2dUeXBlLm1lc3NhZ2UsXG4gICAgICAgICAgICBtb3JlSW5mbzogbG9nVHlwZS5tb3JlSW5mbyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RFbGVtZW50XG4gKiBAcGFyYW0geyFBbXBTdG9yeUxvZ1R5cGVEZWZ9IGxvZ1R5cGVcbiAqIEByZXR1cm4geyFBcnJheTwhUHJvbWlzZTwhQW1wU3RvcnlMb2dFbnRyeURlZj4+fVxuICovXG5mdW5jdGlvbiBnZXRMb2dFbnRyaWVzRm9yVHlwZShyb290RWxlbWVudCwgbG9nVHlwZSkge1xuICBjb25zdCBwcmVjb25kaXRpb24gPSBsb2dUeXBlLnByZWNvbmRpdGlvbiB8fCAodW51c2VkRWwgPT4gdHJ1ZSk7XG5cbiAgY29uc3QgZWxlbWVudHMgPSBsb2dUeXBlLnNlbGVjdG9yID9cbiAgICBbXS5zbGljZS5jYWxsKHNjb3BlZFF1ZXJ5U2VsZWN0b3JBbGwocm9vdEVsZW1lbnQsIGxvZ1R5cGUuc2VsZWN0b3IpKSA6XG4gICAgW3Jvb3RFbGVtZW50XTtcblxuICByZXR1cm4gZWxlbWVudHNcbiAgICAgIC5maWx0ZXIocHJlY29uZGl0aW9uKVxuICAgICAgLm1hcChnZXRMb2dFbnRyeS5iaW5kKC8qKiB0aGlzQXJnICovIG51bGwsIHJvb3RFbGVtZW50LCBsb2dUeXBlKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshQW1wU3RvcnlMb2dFbnRyeURlZn0gbG9nRW50cnlBXG4gKiBAcGFyYW0geyFBbXBTdG9yeUxvZ0VudHJ5RGVmfSBsb2dFbnRyeUJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbG9nRW50cnlDb21wYXJlRm4obG9nRW50cnlBLCBsb2dFbnRyeUIpIHtcbiAgaWYgKGxvZ0VudHJ5QS5jb25mb3JtcyA9PSBsb2dFbnRyeUIuY29uZm9ybXMpIHtcbiAgICAvLyBGb3IgZW50cmllcyB3aXRoaW4gdGhhdCBhcmUgYWxsIGNvbmZvcm1hbnQgb3IgYWxsIG5vbi1jb25mb3JtYW50LCBzb3J0IGJ5XG4gICAgLy8gbG9nIGxldmVsLCB3aXRoIG1vc3Qgc2V2ZXJlIGVudHJpZXMgZmlyc3QgYW5kIGxlYXN0IHNldmVyZSBlbnRyaWVzIGxhc3QuXG4gICAgcmV0dXJuIGxvZ0VudHJ5QS5sZXZlbCA8PSBsb2dFbnRyeUIubGV2ZWwgPyAtMSA6IDE7XG4gIH0gZWxzZSB7XG4gICAgLy8gZmFsc2UgPCB0cnVlLCBzbyBub24tY29uZm9ybWFudCBpc3N1ZXMgZ28gYmVmb3JlIGNvbmZvcm1hbnQgb25lcy5cbiAgICByZXR1cm4gbG9nRW50cnlBLmNvbmZvcm1zIDwgbG9nRW50cnlCLmNvbmZvcm1zID8gLTEgOiAxO1xuICB9XG59XG5cblxuLyoqXG4gKiBHZXRzIGEgcHJvbWlzZSB3aGljaCB5aWVsZHMgYSBsaXN0IG9mIGxvZyBlbnRyaWVzIGZvciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSByb290RWxlbWVudFxuICogQHJldHVybiB7IVByb21pc2U8IUFycmF5PCFBbXBTdG9yeUxvZ0VudHJ5RGVmPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dFbnRyaWVzKHJvb3RFbGVtZW50KSB7XG4gIGNvbnN0IGxvZ0VudHJ5UHJvbWlzZXMgPSBPYmplY3Qua2V5cyhMb2dUeXBlKS5yZWR1Y2UoKGVudHJpZXMsIGtleSkgPT4ge1xuICAgIGNvbnN0IGxvZ1R5cGUgPSBnZXRMb2dUeXBlKGtleSk7XG4gICAgY29uc3QgbmV3RW50cmllcyA9IGdldExvZ0VudHJpZXNGb3JUeXBlKHJvb3RFbGVtZW50LCBsb2dUeXBlKTtcbiAgICByZXR1cm4gZW50cmllcy5jb25jYXQobmV3RW50cmllcyk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwobG9nRW50cnlQcm9taXNlcylcbiAgICAgIC50aGVuKGxvZ0VudHJpZXMgPT4ge1xuICAgICAgICByZXR1cm4gbG9nRW50cmllcy5zb3J0KGxvZ0VudHJ5Q29tcGFyZUZuKTtcbiAgICAgIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7QkxBTktfQVVESU9fU1JDLCBCTEFOS19WSURFT19TUkN9IGZyb20gJy4vZGVmYXVsdC1tZWRpYSc7XG5pbXBvcnQge1xuICBCbGVzc1Rhc2ssXG4gIEVMRU1FTlRfQkxFU1NFRF9QUk9QRVJUWV9OQU1FLFxuICBMb2FkVGFzayxcbiAgTXV0ZVRhc2ssXG4gIFBhdXNlVGFzayxcbiAgUGxheVRhc2ssXG4gIFJld2luZFRhc2ssXG4gIFN3YXBJbnRvRG9tVGFzayxcbiAgU3dhcE91dE9mRG9tVGFzayxcbiAgVW5tdXRlVGFzayxcbiAgVXBkYXRlU291cmNlc1Rhc2ssXG59IGZyb20gJy4vbWVkaWEtdGFza3MnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7U291cmNlc30gZnJvbSAnLi9zb3VyY2VzJztcbmltcG9ydCB7XG4gIFZpZGVvU2VydmljZVNpZ25hbHMsXG59IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZpZGVvLXNlcnZpY2UtaW50ZXJmYWNlJztcbmltcG9ydCB7YW1wTWVkaWFFbGVtZW50Rm9yfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZmluZEluZGV4fSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvYXJyYXknO1xuaW1wb3J0IHtpc0Nvbm5lY3RlZE5vZGV9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHt0b1dpbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3R5cGVzJztcblxuXG4vKiogQGNvbnN0IEBlbnVtIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgTWVkaWFUeXBlID0ge1xuICBVTlNVUFBPUlRFRDogJ3Vuc3VwcG9ydGVkJyxcbiAgQVVESU86ICdhdWRpbycsXG4gIFZJREVPOiAndmlkZW8nLFxufTtcblxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGRpc3RhbmNlIG9mIGFuIGVsZW1lbnQgZnJvbSB0aGUgY3VycmVudCBwbGFjZSBpbiB0aGUgZG9jdW1lbnQuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oIUhUTUxNZWRpYUVsZW1lbnQpOiBudW1iZXJ9XG4gKi9cbmV4cG9ydCBsZXQgRWxlbWVudERpc3RhbmNlRm5EZWY7XG5cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdGFzayB0byBiZSBleGVjdXRlZCBvbiBhIG1lZGlhIGVsZW1lbnQuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oIUhUTUxNZWRpYUVsZW1lbnQsICopOiAhUHJvbWlzZX1cbiAqL1xubGV0IEVsZW1lbnRUYXNrRGVmO1xuXG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IERPTV9NRURJQV9FTEVNRU5UX0lEX1BSRUZJWCA9ICdpLWFtcGh0bWwtbWVkaWEtJztcblxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBQT09MX01FRElBX0VMRU1FTlRfUFJPUEVSVFlfTkFNRSA9ICdfX0FNUF9NRURJQV9QT09MX0lEX18nO1xuXG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IEVMRU1FTlRfVEFTS19RVUVVRV9QUk9QRVJUWV9OQU1FID0gJ19fQU1QX01FRElBX0VMRU1FTlRfVEFTS1NfXyc7XG5cblxuLyoqXG4gKiBUaGUgbmFtZSBmb3IgYSBzdHJpbmcgYXR0cmlidXRlIHRoYXQgcmVwcmVzZW50cyB0aGUgSUQgb2YgYSBtZWRpYSBlbGVtZW50XG4gKiB0aGF0IHRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhpcyBhdHRyaWJ1dGUgcmVwbGFjZWQuXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFJFUExBQ0VEX01FRElBX1BST1BFUlRZX05BTUUgPSAncmVwbGFjZWQtbWVkaWEnO1xuXG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhTWVkaWFQb29sPn1cbiAqL1xuY29uc3QgaW5zdGFuY2VzID0ge307XG5cblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5sZXQgbmV4dEluc3RhbmNlSWQgPSAwO1xuXG5cbmxldCBlbElkID0gMDtcblxuXG4vKipcbiAqIPCfjbkgTWVkaWFQb29sXG4gKiBLZWVwcyBhIHBvb2wgb2YgTiBtZWRpYSBlbGVtZW50cyB0byBiZSBzaGFyZWQgYWNyb3NzIGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNZWRpYVBvb2wge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW4gVGhlIHdpbmRvdyBvYmplY3QuXG4gICAqIEBwYXJhbSB7IU9iamVjdDwhTWVkaWFUeXBlLCBudW1iZXI+fSBtYXhDb3VudHMgVGhlIG1heGltdW0gYW1vdW50IG9mIGVhY2hcbiAgICogICAgIG1lZGlhIGVsZW1lbnQgdGhhdCBjYW4gYmUgYWxsb2NhdGVkIGJ5IHRoZSBwb29sLlxuICAgKiBAcGFyYW0geyFFbGVtZW50RGlzdGFuY2VGbkRlZn0gZGlzdGFuY2VGbiBBIGZ1bmN0aW9uIHRoYXQsIGdpdmVuIGFuXG4gICAqICAgICBlbGVtZW50LCByZXR1cm5zIHRoZSBkaXN0YW5jZSBvZiB0aGF0IGVsZW1lbnQgZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgKiAgICAgaW4gdGhlIGRvY3VtZW50LiAgVGhlIGRlZmluaXRpb24gb2YgXCJkaXN0YW5jZVwiIGNhbiBiZSBpbXBsZW1lbnRhdGlvbi1cbiAgICogICAgIGRlcGVuZGFudCwgYXMgbG9uZyBhcyBpdCBpcyBjb25zaXN0ZW50IGJldHdlZW4gaW52b2NhdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIG1heENvdW50cywgZGlzdGFuY2VGbikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3RpbWVyLWltcGwuVGltZXJ9ICovXG4gICAgdGhpcy50aW1lcl8gPSBTZXJ2aWNlcy50aW1lckZvcih3aW4pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHVzZWQgdG8gcmV0cmlldmUgdGhlIGRpc3RhbmNlIGJldHdlZW4gYW4gZWxlbWVudCBhbmQgdGhlXG4gICAgICogY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudERpc3RhbmNlRm5EZWZ9XG4gICAgICovXG4gICAgdGhpcy5kaXN0YW5jZUZuXyA9IGRpc3RhbmNlRm47XG5cbiAgICAvKipcbiAgICAgKiBIb2xkcyBhbGwgb2YgdGhlIG1lZGlhIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIGFsbG9jYXRlZC5cbiAgICAgKiBAY29uc3QgeyFPYmplY3Q8IU1lZGlhVHlwZSwgIUFycmF5PCFIVE1MTWVkaWFFbGVtZW50Pj59XG4gICAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAgICovXG4gICAgdGhpcy5hbGxvY2F0ZWQgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEhvbGRzIGFsbCBvZiB0aGUgbWVkaWEgZWxlbWVudHMgdGhhdCBoYXZlIG5vdCBiZWVuIGFsbG9jYXRlZC5cbiAgICAgKiBAY29uc3QgeyFPYmplY3Q8IU1lZGlhVHlwZSwgIUFycmF5PCFIVE1MTWVkaWFFbGVtZW50Pj59XG4gICAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAgICovXG4gICAgdGhpcy51bmFsbG9jYXRlZCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyBhIG1lZGlhIGVsZW1lbnQncyBJRCB0byB0aGUgb2JqZWN0IGNvbnRhaW5pbmcgaXRzIHNvdXJjZXMuXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIVNvdXJjZXM+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgYSBtZWRpYSBlbGVtZW50J3MgSUQgdG8gdGhlIGVsZW1lbnQuICBUaGlzIGlzIG5lY2Vzc2FyeSwgYXMgZWxlbWVudHNcbiAgICAgKiBhcmUga2VwdCBpbiBtZW1vcnkgd2hlbiB0aGV5IGFyZSBzd2FwcGVkIG91dCBvZiB0aGUgRE9NLlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFIVE1MTWVkaWFFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmRvbU1lZGlhRWxzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQ291bnRlciB1c2VkIHRvIHByb2R1Y2UgdW5pcXVlIElEcyBmb3IgbWVkaWEgZWxlbWVudHMuXG4gICAgICogQHByaXZhdGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmlkQ291bnRlcl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbWVkaWEgZWxlbWVudHMgaW4gdGhpcyBNZWRpYVBvb2wgaW5zdGFuY2UgaGF2ZSBiZWVuIFwiYmxlc3NlZFwiXG4gICAgICogZm9yIHVubXV0ZWQgcGxheWJhY2sgd2l0aG91dCB1c2VyIGdlc3R1cmUuXG4gICAgICogQHByaXZhdGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5ibGVzc2VkXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QXJyYXk8IUFtcEVsZW1lbnQ+fSAqL1xuICAgIHRoaXMuYW1wRWxlbWVudHNUb0JsZXNzXyA9IG51bGw7XG5cbiAgICAvKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgKGZ1bmN0aW9uKCk6ICFIVE1MTWVkaWFFbGVtZW50KT59ICovXG4gICAgdGhpcy5tZWRpYUZhY3RvcnlfID0ge1xuICAgICAgW01lZGlhVHlwZS5BVURJT106ICgpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9FbCA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICBhdWRpb0VsLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnJyk7XG4gICAgICAgIGF1ZGlvRWwubXV0ZWQgPSB0cnVlO1xuICAgICAgICBhdWRpb0VsLmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1wb29sLW1lZGlhJyk7XG4gICAgICAgIGF1ZGlvRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXBvb2wtYXVkaW8nKTtcbiAgICAgICAgcmV0dXJuIGF1ZGlvRWw7XG4gICAgICB9LFxuICAgICAgW01lZGlhVHlwZS5WSURFT106ICgpID0+IHtcbiAgICAgICAgY29uc3QgdmlkZW9FbCA9IHRoaXMud2luXy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICB2aWRlb0VsLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnJyk7XG4gICAgICAgIHZpZGVvRWwubXV0ZWQgPSB0cnVlO1xuICAgICAgICB2aWRlb0VsLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgIHZpZGVvRWwuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXBvb2wtbWVkaWEnKTtcbiAgICAgICAgdmlkZW9FbC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtcG9vbC12aWRlbycpO1xuICAgICAgICByZXR1cm4gdmlkZW9FbDtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZU1lZGlhUG9vbF8obWF4Q291bnRzKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGxzIHRoZSBtZWRpYSBwb29sIGJ5IGNyZWF0aW5nIHRoZSBtYXhpbXVtIG51bWJlciBvZiBtZWRpYSBlbGVtZW50cyBmb3JcbiAgICogZWFjaCBvZiB0aGUgdHlwZXMgb2YgbWVkaWEgZWxlbWVudHMuICBXZSBuZWVkIHRvIGNyZWF0ZSB0aGVzZSBlYWdlcmx5IHNvXG4gICAqIHRoYXQgYWxsIG1lZGlhIGVsZW1lbnRzIGV4aXN0IGJ5IHRoZSB0aW1lIHRoYXQgYmxlc3NBbGwoKSBpcyBpbnZva2VkLFxuICAgKiB0aGVyZWJ5IFwiYmxlc3NpbmdcIiBhbGwgbWVkaWEgZWxlbWVudHMgZm9yIHBsYXliYWNrIHdpdGhvdXQgdXNlciBnZXN0dXJlLlxuICAgKiBAcGFyYW0geyFPYmplY3Q8IU1lZGlhVHlwZSwgbnVtYmVyPn0gbWF4Q291bnRzIFRoZSBtYXhpbXVtIGFtb3VudCBvZiBlYWNoXG4gICAqICAgICBtZWRpYSBlbGVtZW50IHRoYXQgY2FuIGJlIGFsbG9jYXRlZCBieSB0aGUgcG9vbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVNZWRpYVBvb2xfKG1heENvdW50cykge1xuICAgIHRoaXMuZm9yRWFjaE1lZGlhVHlwZV8oa2V5ID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBNZWRpYVR5cGVba2V5XTtcbiAgICAgIGNvbnN0IGNvdW50ID0gbWF4Q291bnRzW3R5cGVdIHx8IDA7XG5cbiAgICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3RvciA9IGRldigpLmFzc2VydCh0aGlzLm1lZGlhRmFjdG9yeV9bdHlwZV0sXG4gICAgICAgICAgYEZhY3RvcnkgZm9yIG1lZGlhIHR5cGUgXFxgJHt0eXBlfVxcYCB1bnNldC5gKTtcblxuICAgICAgLy8gQ2xvbmluZyBub2RlcyBpcyBmYXN0ZXIgdGhhbiBidWlsZGluZyB0aGVtLlxuICAgICAgLy8gQ29uc3RydWN0IGEgc2VlZCBtZWRpYSBlbGVtZW50IGFzIGEgc21hbGwgb3B0aW1pemF0aW9uLlxuICAgICAgY29uc3QgbWVkaWFFbFNlZWQgPSBjdG9yLmNhbGwodGhpcyk7XG5cbiAgICAgIHRoaXMuYWxsb2NhdGVkW3R5cGVdID0gW107XG4gICAgICB0aGlzLnVuYWxsb2NhdGVkW3R5cGVdID0gW107XG5cbiAgICAgIC8vIFJldmVyc2UtbG9vcGluZyBpcyBnZW5lcmFsbHkgZmFzdGVyIGFuZCBDbG9zdXJlIHdvdWxkIHVzdWFsbHkgbWFrZVxuICAgICAgLy8gdGhpcyBvcHRpbWl6YXRpb24gYXV0b21hdGljYWxseS4gSG93ZXZlciwgaXQgc2tpcHMgaXQgZHVlIHRvIGFcbiAgICAgIC8vIGNvbXBhcmlzb24gd2l0aCB0aGUgaXRlcnZhciBiZWxvdywgc28gd2UgaGF2ZSB0byByb2xsIGl0IGJ5IGhhbmQuXG4gICAgICBmb3IgKGxldCBpID0gY291bnQ7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbWVkaWFFbCA9IC8qKiBAdHlwZSB7IUhUTUxNZWRpYUVsZW1lbnR9ICovXG4gICAgICAgICAgICAvLyBVc2Ugc2VlZCBlbGVtZW50IGF0IGVuZCBvZiBzZXQgdG8gcHJldmVudCB3YXN0aW5nIGl0LlxuICAgICAgICAgICAgKGkgPT0gMSA/IG1lZGlhRWxTZWVkIDogbWVkaWFFbFNlZWQuY2xvbmVOb2RlKC8qIGRlZXAgKi8gdHJ1ZSkpO1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5nZXREZWZhdWx0U291cmNlXyh0eXBlKTtcbiAgICAgICAgbWVkaWFFbC5zZXRBdHRyaWJ1dGUoJ3Bvb2wtZWxlbWVudCcsIGVsSWQrKyk7XG4gICAgICAgIHRoaXMuZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwsXG4gICAgICAgICAgICBuZXcgVXBkYXRlU291cmNlc1Rhc2soc291cmNlcykpO1xuICAgICAgICAvLyBUT0RPKG5ld211aXMpOiBDaGVjayB0aGUgJ2Vycm9yJyBmaWVsZCB0byBzZWUgaWYgTUVESUFfRVJSX0RFQ09ERVxuICAgICAgICAvLyBpcyByZXR1cm5lZC4gIElmIHNvLCB3ZSBzaG91bGQgYWRqdXN0IHRoZSBwb29sIHNpemUvZGlzdHJpYnV0aW9uXG4gICAgICAgIC8vIGJldHdlZW4gbWVkaWEgdHlwZXMuXG4gICAgICAgIHRoaXMudW5hbGxvY2F0ZWRbdHlwZV0ucHVzaChtZWRpYUVsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU1lZGlhVHlwZX0gbWVkaWFUeXBlIFRoZSBtZWRpYSB0eXBlIHdob3NlIHNvdXJjZSBzaG91bGQgYmVcbiAgICogICAgIHJldHJpZXZlZC5cbiAgICogQHJldHVybiB7IVNvdXJjZXN9IFRoZSBkZWZhdWx0IHNvdXJjZSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlIG9mIG1lZGlhLlxuICAgKi9cbiAgZ2V0RGVmYXVsdFNvdXJjZV8obWVkaWFUeXBlKSB7XG4gICAgc3dpdGNoIChtZWRpYVR5cGUpIHtcbiAgICAgIGNhc2UgTWVkaWFUeXBlLkFVRElPOlxuICAgICAgICByZXR1cm4gbmV3IFNvdXJjZXMoQkxBTktfQVVESU9fU1JDKTtcbiAgICAgIGNhc2UgTWVkaWFUeXBlLlZJREVPOlxuICAgICAgICByZXR1cm4gbmV3IFNvdXJjZXMoQkxBTktfVklERU9fU1JDKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRldigpLmVycm9yKCdBTVAtU1RPUlknLCBgTm8gZGVmYXVsdCBtZWRpYSBmb3IgdHlwZSAke21lZGlhVHlwZX0uYCk7XG4gICAgICAgIHJldHVybiBuZXcgU291cmNlcygpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIENvbXBhcmlzb24gZnVuY3Rpb24gdGhhdCBjb21wYXJlcyB0aGUgZGlzdGFuY2Ugb2YgZWFjaCBlbGVtZW50IGZyb20gdGhlXG4gICAqIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUEgVGhlIGZpcnN0IGVsZW1lbnQgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gbWVkaWFCIFRoZSBzZWNvbmQgZWxlbWVudCB0byBjb21wYXJlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29tcGFyZU1lZGlhRGlzdGFuY2VzXyhtZWRpYUEsIG1lZGlhQikge1xuICAgIGNvbnN0IGRpc3RhbmNlQSA9IHRoaXMuZGlzdGFuY2VGbl8obWVkaWFBKTtcbiAgICBjb25zdCBkaXN0YW5jZUIgPSB0aGlzLmRpc3RhbmNlRm5fKG1lZGlhQik7XG4gICAgcmV0dXJuIGRpc3RhbmNlQSA8IGRpc3RhbmNlQiA/IC0xIDogMTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gQSB1bmlxdWUgSUQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjcmVhdGVEb21NZWRpYUVsZW1lbnRJZF8oKSB7XG4gICAgcmV0dXJuIERPTV9NRURJQV9FTEVNRU5UX0lEX1BSRUZJWCArIHRoaXMuaWRDb3VudGVyXysrO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1lZGlhIHR5cGUgZnJvbSBhIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWxlbWVudCBUaGUgZWxlbWVudCB3aG9zZSBtZWRpYSB0eXBlIHNob3VsZFxuICAgKiAgICAgYmUgcmV0cmlldmVkLlxuICAgKiBAcmV0dXJuIHshTWVkaWFUeXBlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0TWVkaWFUeXBlXyhtZWRpYUVsZW1lbnQpIHtcbiAgICBjb25zdCB0YWdOYW1lID0gbWVkaWFFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgcmV0dXJuIE1lZGlhVHlwZS5BVURJTztcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgcmV0dXJuIE1lZGlhVHlwZS5WSURFTztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBNZWRpYVR5cGUuVU5TVVBQT1JURUQ7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogUmVzZXJ2ZXMgYW4gZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYnkgcmVtb3ZpbmcgaXQgZnJvbSB0aGUgc2V0IG9mXG4gICAqIHVuYWxsb2NhdGVkIGVsZW1lbnRzIGFuZCByZXR1cm5pbmcgaXQuXG4gICAqIEBwYXJhbSB7IU1lZGlhVHlwZX0gbWVkaWFUeXBlIFRoZSB0eXBlIG9mIG1lZGlhIGVsZW1lbnQgdG8gcmVzZXJ2ZS5cbiAgICogQHJldHVybiB7P0hUTUxNZWRpYUVsZW1lbnR9IFRoZSByZXNlcnZlZCBlbGVtZW50LCBpZiBvbmUgZXhpc3RzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVzZXJ2ZVVuYWxsb2NhdGVkTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy51bmFsbG9jYXRlZFttZWRpYVR5cGVdLnBvcCgpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBtZWRpYSBlbGVtZW50IGZyb20gdGhlIHBvb2wgdGhhdCBtYXRjaGVzIHRoZSBzcGVjaWZpZWRcbiAgICogZWxlbWVudCwgaWYgb25lIGV4aXN0cy5cbiAgICogQHBhcmFtIHshTWVkaWFUeXBlfSBtZWRpYVR5cGUgVGhlIHR5cGUgb2YgbWVkaWEgZWxlbWVudCB0byBnZXQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGRvbU1lZGlhRWwgVGhlIGVsZW1lbnQgd2hvc2UgbWF0Y2hpbmcgbWVkaWFcbiAgICogICAgIGVsZW1lbnQgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAgICogQHJldHVybiB7P0hUTUxNZWRpYUVsZW1lbnR9IFRoZSBtZWRpYSBlbGVtZW50IGluIHRoZSBwb29sIHRoYXQgcmVwcmVzZW50c1xuICAgKiAgICAgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50XG4gICAqL1xuICBnZXRNYXRjaGluZ01lZGlhRWxlbWVudEZyb21Qb29sXyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpIHtcbiAgICBpZiAodGhpcy5pc0FsbG9jYXRlZE1lZGlhRWxlbWVudF8obWVkaWFUeXBlLCBkb21NZWRpYUVsKSkge1xuICAgICAgcmV0dXJuIGRvbU1lZGlhRWw7XG4gICAgfVxuXG4gICAgY29uc3QgYWxsb2NhdGVkRWxzID0gdGhpcy5hbGxvY2F0ZWRbbWVkaWFUeXBlXTtcbiAgICBjb25zdCBpbmRleCA9IGZpbmRJbmRleChhbGxvY2F0ZWRFbHMsIHBvb2xNZWRpYUVsID0+IHtcbiAgICAgIHJldHVybiBwb29sTWVkaWFFbFtSRVBMQUNFRF9NRURJQV9QUk9QRVJUWV9OQU1FXSA9PT0gZG9tTWVkaWFFbC5pZDtcbiAgICB9KTtcblxuICAgIHJldHVybiBhbGxvY2F0ZWRFbHNbaW5kZXhdO1xuICB9XG5cblxuICAvKipcbiAgICogQWxsb2NhdGVzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gICAqIEBwYXJhbSB7IU1lZGlhVHlwZX0gbWVkaWFUeXBlIFRoZSB0eXBlIG9mIG1lZGlhIGVsZW1lbnQgdG8gYWxsb2NhdGUuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHBvb2xNZWRpYUVsIFRoZSBlbGVtZW50IHRvIGJlIGFsbG9jYXRlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFsbG9jYXRlTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIHBvb2xNZWRpYUVsKSB7XG4gICAgdGhpcy5hbGxvY2F0ZWRbbWVkaWFUeXBlXS5wdXNoKHBvb2xNZWRpYUVsKTtcblxuICAgIGNvbnN0IHVuYWxsb2NhdGVkRWxzID0gdGhpcy51bmFsbG9jYXRlZFttZWRpYVR5cGVdO1xuICAgIGNvbnN0IGluZGV4VG9SZW1vdmUgPSB1bmFsbG9jYXRlZEVscy5pbmRleE9mKHBvb2xNZWRpYUVsKTtcblxuICAgIGlmIChpbmRleFRvUmVtb3ZlID49IDApIHtcbiAgICAgIHVuYWxsb2NhdGVkRWxzLnNwbGljZShpbmRleFRvUmVtb3ZlLCAxKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBEZWFsbG9jYXRlcyBhbmQgcmV0dXJucyB0aGUgbWVkaWEgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgZnVydGhlc3RcbiAgICogZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7IU1lZGlhVHlwZX0gbWVkaWFUeXBlIFRoZSB0eXBlIG9mIG1lZGlhIGVsZW1lbnQgdG8gZGVhbGxvY2F0ZS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudD19IG9wdF9lbFRvQWxsb2NhdGUgSWYgc3BlY2lmaWVkLCB0aGUgZWxlbWVudCB0aGF0XG4gICAqICAgICBpcyB0cnlpbmcgdG8gYmUgYWxsb2NhdGVkLCBzdWNoIHRoYXQgYW5vdGhlciBlbGVtZW50IG11c3QgYmUgZXZpY3RlZC5cbiAgICogQHJldHVybiB7P0hUTUxNZWRpYUVsZW1lbnR9IFRoZSBkZWFsbG9jYXRlZCBlbGVtZW50LCBpZiBvbmUgZXhpc3RzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVhbGxvY2F0ZU1lZGlhRWxlbWVudF8obWVkaWFUeXBlLCBvcHRfZWxUb0FsbG9jYXRlKSB7XG4gICAgY29uc3QgYWxsb2NhdGVkRWxzID0gdGhpcy5hbGxvY2F0ZWRbbWVkaWFUeXBlXTtcblxuICAgIC8vIFNvcnQgdGhlIGFsbG9jYXRlZCBtZWRpYSBlbGVtZW50cyBieSBkaXN0YW5jZSB0byBlbnN1cmUgdGhhdCB3ZSBhcmVcbiAgICAvLyBldmljdGluZyB0aGUgbWVkaWEgZWxlbWVudCB0aGF0IGlzIGZ1cnRoZXN0IGZyb20gdGhlIGN1cnJlbnQgcGxhY2UgaW4gdGhlXG4gICAgLy8gZG9jdW1lbnQuXG4gICAgYWxsb2NhdGVkRWxzLnNvcnQoKGEsIGIpID0+IHRoaXMuY29tcGFyZU1lZGlhRGlzdGFuY2VzXyhhLCBiKSk7XG5cbiAgICAvLyBEbyBub3QgZGVhbGxvY2F0ZSBhbnkgbWVkaWEgZWxlbWVudHMgaWYgdGhlIGVsZW1lbnQgYmVpbmcgbG9hZGVkIG9yXG4gICAgLy8gcGxheWVkIGlzIGZ1cnRoZXIgdGhhbiB0aGUgZmFydGhlc3QgYWxsb2NhdGVkIGVsZW1lbnQuXG4gICAgaWYgKG9wdF9lbFRvQWxsb2NhdGUpIHtcbiAgICAgIGNvbnN0IGZ1cnRoZXN0RWwgPSBhbGxvY2F0ZWRFbHNbYWxsb2NhdGVkRWxzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKCFmdXJ0aGVzdEVsIHx8XG4gICAgICAgICAgdGhpcy5kaXN0YW5jZUZuXyhmdXJ0aGVzdEVsKSA8IHRoaXMuZGlzdGFuY2VGbl8ob3B0X2VsVG9BbGxvY2F0ZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGUtYWxsb2NhdGUgYSBtZWRpYSBlbGVtZW50LlxuICAgIGNvbnN0IHBvb2xNZWRpYUVsID0gYWxsb2NhdGVkRWxzLnBvcCgpO1xuICAgIHRoaXMudW5hbGxvY2F0ZWRbbWVkaWFUeXBlXS5wdXNoKHBvb2xNZWRpYUVsKTtcbiAgICByZXR1cm4gcG9vbE1lZGlhRWw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBGb3JjaWJseSBkZWFsbG9jYXRlcyBhIHNwZWNpZmljIG1lZGlhIGVsZW1lbnQsIHJlZ2FyZGxlc3Mgb2YgaXRzIGRpc3RhbmNlXG4gICAqIGZyb20gdGhlIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBwb29sTWVkaWFFbCBUaGUgZWxlbWVudCB0byBiZSBkZWFsbG9jYXRlZC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHNwZWNpZmllZCBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVhbGxvY2F0ZWQuXG4gICAqL1xuICBmb3JjZURlYWxsb2NhdGVNZWRpYUVsZW1lbnRfKHBvb2xNZWRpYUVsKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKHBvb2xNZWRpYUVsKTtcbiAgICBjb25zdCBhbGxvY2F0ZWRFbHMgPSB0aGlzLmFsbG9jYXRlZFttZWRpYVR5cGVdO1xuICAgIGNvbnN0IHJlbW92ZUZyb21Eb20gPSBpc0Nvbm5lY3RlZE5vZGUocG9vbE1lZGlhRWwpID9cbiAgICAgIHRoaXMuc3dhcFBvb2xNZWRpYUVsZW1lbnRPdXRPZkRvbV8ocG9vbE1lZGlhRWwpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICByZXR1cm4gcmVtb3ZlRnJvbURvbS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gYWxsb2NhdGVkRWxzLmluZGV4T2YocG9vbE1lZGlhRWwpO1xuICAgICAgZGV2KCkuYXNzZXJ0KGluZGV4ID49IDAsICdDYW5ub3QgZGVhbGxvY2F0ZSB1bmFsbG9jYXRlZCBtZWRpYSBlbGVtZW50LicpO1xuICAgICAgYWxsb2NhdGVkRWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0aGlzLnVuYWxsb2NhdGVkW21lZGlhVHlwZV0ucHVzaChwb29sTWVkaWFFbCk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBFdmljdHMgYW4gZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUsIHJlcGxhY2VzIGl0IGluIHRoZSBET00gd2l0aCB0aGVcbiAgICogb3JpZ2luYWwgbWVkaWEgZWxlbWVudCwgYW5kIHJldHVybnMgaXQuXG4gICAqIEBwYXJhbSB7IU1lZGlhVHlwZX0gbWVkaWFUeXBlIFRoZSB0eXBlIG9mIG1lZGlhIGVsZW1lbnQgdG8gZXZpY3QuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnQ9fSBvcHRfZWxUb0FsbG9jYXRlIElmIHNwZWNpZmllZCwgdGhlIGVsZW1lbnQgdGhhdFxuICAgKiAgICAgaXMgdHJ5aW5nIHRvIGJlIGFsbG9jYXRlZCwgc3VjaCB0aGF0IGFub3RoZXIgZWxlbWVudCBtdXN0IGJlIGV2aWN0ZWQuXG4gICAqIEByZXR1cm4gez9IVE1MTWVkaWFFbGVtZW50fSBBIG1lZGlhIGVsZW1lbnQgb2YgdGhlIHNwZWNpZmllZCB0eXBlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXZpY3RNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSwgb3B0X2VsVG9BbGxvY2F0ZSkge1xuICAgIGNvbnN0IHBvb2xNZWRpYUVsID1cbiAgICAgICAgdGhpcy5kZWFsbG9jYXRlTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIG9wdF9lbFRvQWxsb2NhdGUpO1xuICAgIGlmICghcG9vbE1lZGlhRWwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc3dhcFBvb2xNZWRpYUVsZW1lbnRPdXRPZkRvbV8ocG9vbE1lZGlhRWwpO1xuICAgIHJldHVybiBwb29sTWVkaWFFbDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU1lZGlhVHlwZX0gbWVkaWFUeXBlIFRoZSBtZWRpYSB0eXBlIHRvIGNoZWNrLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBlbCBUaGUgZWxlbWVudCB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gYWxsb2NhdGVkXG4gICAqICAgICBhcyB0aGUgc3BlY2lmaWVkIHR5cGUgb2YgbWVkaWEgZWxlbWVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzQWxsb2NhdGVkTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIGVsKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsb2NhdGVkW21lZGlhVHlwZV0uaW5kZXhPZihlbCkgPj0gMDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGEgbWVkaWEgZWxlbWVudCB0aGF0IHdhcyBvcmlnaW5hbGx5IGluIHRoZSBET00gd2l0aCBhIG1lZGlhXG4gICAqIGVsZW1lbnQgZnJvbSB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCBvcmlnaW5hdGluZyBmcm9tXG4gICAqICAgICB0aGUgRE9NLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBwb29sTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCBvcmlnaW5hdGluZyBmcm9tXG4gICAqICAgICB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHshU291cmNlc30gc291cmNlcyBUaGUgc291cmNlcyBmb3IgdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBtZWRpYSBlbGVtZW50IGhhc1xuICAgKiAgICAgYmVlbiBzdWNjZXNzZnVsbHkgc3dhcHBlZCBpbnRvIHRoZSBET00uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzd2FwUG9vbE1lZGlhRWxlbWVudEludG9Eb21fKGRvbU1lZGlhRWwsIHBvb2xNZWRpYUVsLCBzb3VyY2VzKSB7XG4gICAgY29uc3QgYW1wTWVkaWFGb3JQb29sRWwgPSBhbXBNZWRpYUVsZW1lbnRGb3IocG9vbE1lZGlhRWwpO1xuICAgIGNvbnN0IGFtcE1lZGlhRm9yRG9tRWwgPSBhbXBNZWRpYUVsZW1lbnRGb3IoZG9tTWVkaWFFbCk7XG4gICAgcG9vbE1lZGlhRWxbUkVQTEFDRURfTUVESUFfUFJPUEVSVFlfTkFNRV0gPSBkb21NZWRpYUVsLmlkO1xuXG4gICAgcmV0dXJuIHRoaXMuZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKHBvb2xNZWRpYUVsLFxuICAgICAgICBuZXcgU3dhcEludG9Eb21UYXNrKGRvbU1lZGlhRWwpKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYXliZVJlc2V0QW1wTWVkaWFfKGFtcE1lZGlhRm9yUG9vbEVsKTtcbiAgICAgICAgICB0aGlzLm1heWJlUmVzZXRBbXBNZWRpYV8oYW1wTWVkaWFGb3JEb21FbCk7XG4gICAgICAgICAgdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsXG4gICAgICAgICAgICAgIG5ldyBVcGRhdGVTb3VyY2VzVGFzayhzb3VyY2VzKSk7XG4gICAgICAgICAgdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsIG5ldyBMb2FkVGFzaygpKTtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZm9yY2VEZWFsbG9jYXRlTWVkaWFFbGVtZW50Xyhwb29sTWVkaWFFbCk7XG4gICAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHs/RWxlbWVudH0gY29tcG9uZW50RWxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1heWJlUmVzZXRBbXBNZWRpYV8oY29tcG9uZW50RWwpIHtcbiAgICBpZiAoIWNvbXBvbmVudEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNvbXBvbmVudEVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnYW1wLWF1ZGlvJykge1xuICAgICAgLy8gVE9ETyhhbGFub3JvemNvKTogSW1wbGVtZW50IHJlc2V0IGZvciBhbXAtYXVkaW9cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb21wb25lbnRFbC5nZXRJbXBsKCkudGhlbihpbXBsID0+IHtcbiAgICAgIGlmIChpbXBsLnJlc2V0T25Eb21DaGFuZ2UpIHtcbiAgICAgICAgaW1wbC5yZXNldE9uRG9tQ2hhbmdlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBwb29sTWVkaWFFbCBUaGUgZWxlbWVudCB3aG9zZSBzb3VyY2Ugc2hvdWxkIGJlXG4gICAqICAgICByZXNldC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHBvb2wgbWVkaWEgZWxlbWVudFxuICAgKiAgICAgaGFzIGJlZW4gcmVzZXQuXG4gICAqL1xuICByZXNldFBvb2xNZWRpYUVsZW1lbnRTb3VyY2VfKHBvb2xNZWRpYUVsKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKHBvb2xNZWRpYUVsKTtcbiAgICBjb25zdCBkZWZhdWx0U291cmNlcyA9IHRoaXMuZ2V0RGVmYXVsdFNvdXJjZV8obWVkaWFUeXBlKTtcblxuICAgIHJldHVybiB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCxcbiAgICAgICAgbmV3IFVwZGF0ZVNvdXJjZXNUYXNrKGRlZmF1bHRTb3VyY2VzKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgcG9vbCBtZWRpYSBlbGVtZW50IGZyb20gdGhlIERPTSBhbmQgcmVwbGFjZXMgaXQgd2l0aCB0aGUgdmlkZW9cbiAgICogdGhhdCBpdCBvcmlnaW5hbGx5IHJlcGxhY2VkLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBwb29sTWVkaWFFbCBUaGUgcG9vbCBtZWRpYSBlbGVtZW50IHRvIHJlbW92ZVxuICAgKiAgICAgZnJvbSB0aGUgRE9NLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgbWVkaWEgZWxlbWVudCBoYXNcbiAgICogICAgIGJlZW4gc3VjY2Vzc2Z1bGx5IHN3YXBwZWQgb3V0IG9mIHRoZSBET00uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzd2FwUG9vbE1lZGlhRWxlbWVudE91dE9mRG9tXyhwb29sTWVkaWFFbCkge1xuICAgIGNvbnN0IG9sZERvbU1lZGlhRWxJZCA9IHBvb2xNZWRpYUVsW1JFUExBQ0VEX01FRElBX1BST1BFUlRZX05BTUVdO1xuICAgIGNvbnN0IG9sZERvbU1lZGlhRWwgPSAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAoZGV2KCkuYXNzZXJ0RWxlbWVudChcbiAgICAgICAgdGhpcy5kb21NZWRpYUVsc19bb2xkRG9tTWVkaWFFbElkXSxcbiAgICAgICAgJ05vIG1lZGlhIGVsZW1lbnQgdG8gcHV0IGJhY2sgaW50byBET00gYWZ0ZXIgZXZpY3Rpb24uJykpO1xuXG4gICAgY29uc3Qgc3dhcE91dE9mRG9tID0gdGhpcy5lbnF1ZXVlTWVkaWFFbGVtZW50VGFza18ocG9vbE1lZGlhRWwsXG4gICAgICAgIG5ldyBTd2FwT3V0T2ZEb21UYXNrKG9sZERvbU1lZGlhRWwpKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcG9vbE1lZGlhRWxbUkVQTEFDRURfTUVESUFfUFJPUEVSVFlfTkFNRV0gPSBudWxsO1xuICAgICAgICB9KTtcblxuICAgIHRoaXMucmVzZXRQb29sTWVkaWFFbGVtZW50U291cmNlXyhwb29sTWVkaWFFbCk7XG4gICAgcmV0dXJuIHN3YXBPdXRPZkRvbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IGNhbGxiYWNrRm5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZvckVhY2hNZWRpYVR5cGVfKGNhbGxiYWNrRm4pIHtcbiAgICBPYmplY3Qua2V5cyhNZWRpYVR5cGUpLmZvckVhY2goY2FsbGJhY2tGbi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VzIGEgZnVuY3Rpb24gZm9yIGFsbCBtZWRpYSBtYW5hZ2VkIGJ5IHRoZSBtZWRpYSBwb29sLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFIVE1MTWVkaWFFbGVtZW50KX0gY2FsbGJhY2tGbiBUaGUgZnVuY3Rpb24gdG8gYmVcbiAgICogICAgIGludm9rZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmb3JFYWNoTWVkaWFFbGVtZW50XyhjYWxsYmFja0ZuKSB7XG4gICAgW3RoaXMuYWxsb2NhdGVkLCB0aGlzLnVuYWxsb2NhdGVkXS5mb3JFYWNoKG1lZGlhU2V0ID0+IHtcbiAgICAgIHRoaXMuZm9yRWFjaE1lZGlhVHlwZV8oa2V5ID0+IHtcbiAgICAgICAgY29uc3QgdHlwZSA9IE1lZGlhVHlwZVtrZXldO1xuICAgICAgICBjb25zdCBlbHMgPSBtZWRpYVNldFt0eXBlXTtcbiAgICAgICAgaWYgKCFlbHMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzLmZvckVhY2goY2FsbGJhY2tGbi5iaW5kKHRoaXMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogUHJlbG9hZHMgdGhlIGNvbnRlbnQgb2YgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IGluIHRoZSBET00gYW5kIHJldHVybnNcbiAgICogYSBtZWRpYSBlbGVtZW50IHRoYXQgY2FuIGJlIHVzZWQgaW4gaXRzIHN0ZWFkIGZvciBwbGF5YmFjay5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCwgZm91bmQgaW4gdGhlIERPTSxcbiAgICogICAgIHdob3NlIGNvbnRlbnQgc2hvdWxkIGJlIGxvYWRlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZTwhSFRNTE1lZGlhRWxlbWVudD59IEEgbWVkaWEgZWxlbWVudCBmcm9tIHRoZSBwb29sIHRoYXQgY2FuIGJlIHVzZWRcbiAgICogICAgIHRvIHJlcGxhY2UgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgKi9cbiAgbG9hZEludGVybmFsXyhkb21NZWRpYUVsKSB7XG4gICAgaWYgKCFpc0Nvbm5lY3RlZE5vZGUoZG9tTWVkaWFFbCkpIHtcbiAgICAgIC8vIERvbid0IGhhbmRsZSBub2RlcyB0aGF0IGFyZW4ndCBldmVuIGluIHRoZSBkb2N1bWVudC5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZWRpYVR5cGUgPSB0aGlzLmdldE1lZGlhVHlwZV8oZG9tTWVkaWFFbCk7XG4gICAgY29uc3QgZXhpc3RpbmdQb29sTWVkaWFFbCA9XG4gICAgICAgIHRoaXMuZ2V0TWF0Y2hpbmdNZWRpYUVsZW1lbnRGcm9tUG9vbF8obWVkaWFUeXBlLCBkb21NZWRpYUVsKTtcbiAgICBpZiAoZXhpc3RpbmdQb29sTWVkaWFFbCkge1xuICAgICAgLy8gVGhlIGVsZW1lbnQgYmVpbmcgbG9hZGVkIGFscmVhZHkgaGFzIGFuIGFsbG9jYXRlZCBtZWRpYSBlbGVtZW50LlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShleGlzdGluZ1Bvb2xNZWRpYUVsKTtcbiAgICB9XG5cbiAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5zb3VyY2VzX1tkb21NZWRpYUVsLmlkXTtcbiAgICBkZXYoKS5hc3NlcnQoc291cmNlcyBpbnN0YW5jZW9mIFNvdXJjZXMsXG4gICAgICAgICdDYW5ub3QgcGxheSB1bnJlZ2lzdGVyZWQgZWxlbWVudC4nKTtcblxuICAgIGNvbnN0IHBvb2xNZWRpYUVsID0gdGhpcy5yZXNlcnZlVW5hbGxvY2F0ZWRNZWRpYUVsZW1lbnRfKG1lZGlhVHlwZSkgfHxcbiAgICAgICAgdGhpcy5ldmljdE1lZGlhRWxlbWVudF8obWVkaWFUeXBlLCBkb21NZWRpYUVsKTtcblxuICAgIGlmICghcG9vbE1lZGlhRWwpIHtcbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHNwYWNlIGluIHRoZSBwb29sIHRvIGFsbG9jYXRlIGEgbmV3IGVsZW1lbnQsIGFuZCBub1xuICAgICAgLy8gZWxlbWVudCBjYW4gYmUgZXZpY3RlZCwgZG8gbm90IHJldHVybiBhbnkgZWxlbWVudC5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmFsbG9jYXRlTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIHBvb2xNZWRpYUVsKTtcblxuICAgIHJldHVybiB0aGlzLnN3YXBQb29sTWVkaWFFbGVtZW50SW50b0RvbV8oZG9tTWVkaWFFbCwgcG9vbE1lZGlhRWwsIHNvdXJjZXMpXG4gICAgICAgIC50aGVuKCgpID0+IHBvb2xNZWRpYUVsKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFwiQmxlc3Nlc1wiIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudCBmb3IgZnV0dXJlIHBsYXliYWNrIHdpdGhvdXQgYSB1c2VyXG4gICAqIGdlc3R1cmUuICBJbiBvcmRlciBmb3IgdGhpcyB0byBibGVzcyB0aGUgbWVkaWEgZWxlbWVudCwgdGhpcyBmdW5jdGlvbiBtdXN0XG4gICAqIGJlIGludm9rZWQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGdlc3R1cmUuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHBvb2xNZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IHRvIGJsZXNzLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiBibGVzc2luZyB0aGUgbWVkaWFcbiAgICogICAgIGVsZW1lbnQgaXMgY29tcGxldGUuXG4gICAqL1xuICBibGVzc18ocG9vbE1lZGlhRWwpIHtcbiAgICBpZiAocG9vbE1lZGlhRWxbRUxFTUVOVF9CTEVTU0VEX1BST1BFUlRZX05BTUVdKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKHBvb2xNZWRpYUVsLCBuZXcgQmxlc3NUYXNrKCkpO1xuICB9XG5cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSBzcGVjaWZpZWQgZWxlbWVudCB0byBiZSB1c2FibGUgYnkgdGhlIG1lZGlhIHBvb2wuICBFbGVtZW50c1xuICAgKiBzaG91bGQgYmUgcmVnaXN0ZXJlZCBhcyBlYXJseSBhcyBwb3NzaWJsZSwgaW4gb3JkZXIgdG8gcHJldmVudCB0aGVtIGZyb21cbiAgICogYmVpbmcgcGxheWVkIHdoaWxlIG5vdCBtYW5hZ2VkIGJ5IHRoZSBtZWRpYSBwb29sLiAgSWYgdGhlIG1lZGlhIGVsZW1lbnQgaXNcbiAgICogYWxyZWFkeSByZWdpc3RlcmVkLCB0aGlzIGlzIGEgbm8tb3AuICBSZWdpc3RlcmluZyBlbGVtZW50cyBmcm9tIHdpdGhpbiB0aGVcbiAgICogcG9vbCBpcyBub3QgYWxsb3dlZCwgYW5kIHdpbGwgYWxzbyBiZSBhIG5vLW9wLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IHRvIGJlIHJlZ2lzdGVyZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBiZWVuXG4gICAqICAgICBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgb3IgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICAgKi9cbiAgcmVnaXN0ZXIoZG9tTWVkaWFFbCkge1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHRoaXMuZ2V0TWVkaWFUeXBlXyhkb21NZWRpYUVsKTtcblxuICAgIGNvbnN0IHBhcmVudCA9IGRvbU1lZGlhRWwucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50LnNpZ25hbHMpIHtcbiAgICAgIHRoaXMudHJhY2tBbXBFbGVtZW50VG9CbGVzc18oLyoqIEB0eXBlIHshQW1wRWxlbWVudH0gKi8gKHBhcmVudCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQWxsb2NhdGVkTWVkaWFFbGVtZW50XyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpKSB7XG4gICAgICAvLyBUaGlzIG1lZGlhIGVsZW1lbnQgb3JpZ2luYXRlZCBmcm9tIHRoZSBtZWRpYSBwb29sLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gZG9tTWVkaWFFbC5pZCB8fCB0aGlzLmNyZWF0ZURvbU1lZGlhRWxlbWVudElkXygpO1xuICAgIGlmICh0aGlzLnNvdXJjZXNfW2lkXSAmJiB0aGlzLmRvbU1lZGlhRWxzX1tpZF0pIHtcbiAgICAgIC8vIFRoaXMgbWVkaWEgZWxlbWVudCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBtZWRpYSBlbGVtZW50IGhhcyBub3QgeWV0IGJlZW4gcmVnaXN0ZXJlZC5cbiAgICBkb21NZWRpYUVsLmlkID0gaWQ7XG4gICAgY29uc3Qgc291cmNlcyA9IFNvdXJjZXMucmVtb3ZlRnJvbShkb21NZWRpYUVsKTtcbiAgICB0aGlzLnNvdXJjZXNfW2lkXSA9IHNvdXJjZXM7XG4gICAgdGhpcy5kb21NZWRpYUVsc19baWRdID0gZG9tTWVkaWFFbDtcblxuICAgIGRvbU1lZGlhRWwubXV0ZWQgPSB0cnVlO1xuICAgIGRvbU1lZGlhRWwuc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgICBkb21NZWRpYUVsLnBhdXNlKCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQW1wRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJhY2tBbXBFbGVtZW50VG9CbGVzc18oZWxlbWVudCkge1xuICAgIHRoaXMuYW1wRWxlbWVudHNUb0JsZXNzXyA9IHRoaXMuYW1wRWxlbWVudHNUb0JsZXNzXyB8fCBbXTtcbiAgICB0aGlzLmFtcEVsZW1lbnRzVG9CbGVzc18ucHVzaChlbGVtZW50KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFByZWxvYWRzIHRoZSBjb250ZW50IG9mIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudCBpbiB0aGUgRE9NLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50LCBmb3VuZCBpbiB0aGUgRE9NLFxuICAgKiAgICAgd2hvc2UgY29udGVudCBzaG91bGQgYmUgbG9hZGVkLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc3BlY2lmaWVkIG1lZGlhXG4gICAqICAgICBlbGVtZW50IGhhcyBzdWNjZXNzZnVsbHkgc3RhcnRlZCBwcmVsb2FkaW5nLlxuICAgKi9cbiAgcHJlbG9hZChkb21NZWRpYUVsKSB7XG4gICAgLy8gRW1wdHkgdGhlbigpIGludm9jYXRpb24gaGlkZXMgdGhlIHZhbHVlIHlpZWxkZWQgYnkgdGhlIGxvYWRJbnRlcm5hbF9cbiAgICAvLyBwcm9taXNlLCBzbyB0aGF0IHdlIGRvIG5vdCBsZWFrIHRoZSBwb29sIG1lZGlhIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGVcbiAgICAvLyBzY29wZSBvZiB0aGUgbWVkaWEgcG9vbC5cbiAgICByZXR1cm4gdGhpcy5sb2FkSW50ZXJuYWxfKGRvbU1lZGlhRWwpLnRoZW4oKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFBsYXlzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudCBpbiB0aGUgRE9NIGJ5IHJlcGxhY2luZyBpdCB3aXRoIGEgbWVkaWFcbiAgICogZWxlbWVudCBmcm9tIHRoZSBwb29sIGFuZCBwbGF5aW5nIHRoYXQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGRvbU1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgdG8gYmUgcGxheWVkLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc3BlY2lmaWVkIG1lZGlhXG4gICAqICAgICBlbGVtZW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBwbGF5ZWQuXG4gICAqL1xuICBwbGF5KGRvbU1lZGlhRWwpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkSW50ZXJuYWxfKGRvbU1lZGlhRWwpXG4gICAgICAgIC50aGVuKHBvb2xNZWRpYUVsID0+IHtcbiAgICAgICAgICBpZiAoIXBvb2xNZWRpYUVsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKHBvb2xNZWRpYUVsLCBuZXcgUGxheVRhc2soKSk7XG4gICAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogUGF1c2VzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudCBpbiB0aGUgRE9NLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IHRvIGJlIHBhdXNlZC5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmV3aW5kVG9CZWdpbm5pbmcgV2hldGhlciB0byByZXdpbmQgdGhlIGN1cnJlbnRUaW1lXG4gICAqICAgICBvZiBtZWRpYSBpdGVtcyB0byB0aGUgYmVnaW5uaW5nLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc3BlY2lmaWVkIG1lZGlhXG4gICAqICAgICBlbGVtZW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBwYXVzZWQuXG4gICAqL1xuICBwYXVzZShkb21NZWRpYUVsLCByZXdpbmRUb0JlZ2lubmluZyA9IGZhbHNlKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKGRvbU1lZGlhRWwpO1xuICAgIGNvbnN0IHBvb2xNZWRpYUVsID1cbiAgICAgICAgdGhpcy5nZXRNYXRjaGluZ01lZGlhRWxlbWVudEZyb21Qb29sXyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpO1xuXG4gICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCwgbmV3IFBhdXNlVGFzaygpKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKHJld2luZFRvQmVnaW5uaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUgeyFIVE1MTWVkaWFFbGVtZW50fSAqLyAocG9vbE1lZGlhRWwpLFxuICAgICAgICAgICAgICAgIG5ldyBSZXdpbmRUYXNrKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXdpbmRzIGEgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTSB0byAwLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IHRvIGJlIHJld291bmQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZVxuICAgKiAgICAgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJld291bmQuXG4gICAqL1xuICByZXdpbmRUb0JlZ2lubmluZyhkb21NZWRpYUVsKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKGRvbU1lZGlhRWwpO1xuICAgIGNvbnN0IHBvb2xNZWRpYUVsID1cbiAgICAgICAgdGhpcy5nZXRNYXRjaGluZ01lZGlhRWxlbWVudEZyb21Qb29sXyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpO1xuXG4gICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCwgbmV3IFJld2luZFRhc2soKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBNdXRlcyB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gZG9tTWVkaWFFbCBUaGUgbWVkaWEgZWxlbWVudCB0byBiZSBtdXRlZC5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHNwZWNpZmllZCBtZWRpYVxuICAgKiAgICAgZWxlbWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgbXV0ZWQuXG4gICAqL1xuICBtdXRlKGRvbU1lZGlhRWwpIHtcbiAgICBjb25zdCBtZWRpYVR5cGUgPSB0aGlzLmdldE1lZGlhVHlwZV8oZG9tTWVkaWFFbCk7XG4gICAgY29uc3QgcG9vbE1lZGlhRWwgPVxuICAgICAgICB0aGlzLmdldE1hdGNoaW5nTWVkaWFFbGVtZW50RnJvbVBvb2xfKG1lZGlhVHlwZSwgZG9tTWVkaWFFbCk7XG5cbiAgICBpZiAoIXBvb2xNZWRpYUVsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKHBvb2xNZWRpYUVsLCBuZXcgTXV0ZVRhc2soKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVbm11dGVzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudCBpbiB0aGUgRE9NLlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBkb21NZWRpYUVsIFRoZSBtZWRpYSBlbGVtZW50IHRvIGJlIHVubXV0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBzcGVjaWZpZWQgbWVkaWFcbiAgICogICAgIGVsZW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHBhdXNlZC5cbiAgICovXG4gIHVubXV0ZShkb21NZWRpYUVsKSB7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gdGhpcy5nZXRNZWRpYVR5cGVfKGRvbU1lZGlhRWwpO1xuICAgIGNvbnN0IHBvb2xNZWRpYUVsID1cbiAgICAgICAgdGhpcy5nZXRNYXRjaGluZ01lZGlhRWxlbWVudEZyb21Qb29sXyhtZWRpYVR5cGUsIGRvbU1lZGlhRWwpO1xuXG4gICAgaWYgKCFwb29sTWVkaWFFbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVucXVldWVNZWRpYUVsZW1lbnRUYXNrXyhwb29sTWVkaWFFbCwgbmV3IFVubXV0ZVRhc2soKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBcIkJsZXNzZXNcIiBhbGwgbWVkaWEgZWxlbWVudHMgaW4gdGhlIG1lZGlhIHBvb2wgZm9yIGZ1dHVyZSBwbGF5YmFjayB3aXRob3V0XG4gICAqIGEgdXNlciBnZXN0dXJlLiAgSW4gb3JkZXIgZm9yIHRoaXMgdG8gYmxlc3MgdGhlIG1lZGlhIGVsZW1lbnRzLCB0aGlzXG4gICAqIGZ1bmN0aW9uIG11c3QgYmUgaW52b2tlZCBpbiByZXNwb25zZSB0byBhIHVzZXIgZ2VzdHVyZS5cbiAgICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIG1lZGlhIGVsZW1lbnRzIGluXG4gICAqICAgICB0aGUgcG9vbCBhcmUgYmxlc3NlZC5cbiAgICovXG4gIGJsZXNzQWxsKCkge1xuICAgIGlmICh0aGlzLmJsZXNzZWRfKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYmxlc3NQcm9taXNlcyA9IFtdO1xuXG4gICAgKHRoaXMuYW1wRWxlbWVudHNUb0JsZXNzXyB8fCBbXSkuZm9yRWFjaChhbXBFbCA9PiB7XG4gICAgICBhbXBFbC5zaWduYWxzKCkuc2lnbmFsKFZpZGVvU2VydmljZVNpZ25hbHMuVVNFUl9JTlRFUkFDVEVEKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYW1wRWxlbWVudHNUb0JsZXNzXyA9IG51bGw7IC8vIEdDXG5cbiAgICB0aGlzLmZvckVhY2hNZWRpYUVsZW1lbnRfKG1lZGlhRWwgPT4ge1xuICAgICAgYmxlc3NQcm9taXNlcy5wdXNoKHRoaXMuYmxlc3NfKG1lZGlhRWwpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChibGVzc1Byb21pc2VzKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5ibGVzc2VkXyA9IHRydWU7XG4gICAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgZGV2KCkuZXhwZWN0ZWRFcnJvcignQU1QLVNUT1JZJywgJ0JsZXNzaW5nIGFsbCBtZWRpYSBmYWlsZWQ6ICcsXG4gICAgICAgICAgICAgIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gbWVkaWFFbCBUaGUgZWxlbWVudCB3aG9zZSB0YXNrIHF1ZXVlIHNob3VsZCBiZVxuICAgKiAgICAgZXhlY3V0ZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBleGVjdXRlTmV4dE1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwpIHtcbiAgICBjb25zdCBxdWV1ZSA9IG1lZGlhRWxbRUxFTUVOVF9UQVNLX1FVRVVFX1BST1BFUlRZX05BTUVdO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0YXNrID0gcXVldWVbMF07XG5cbiAgICBjb25zdCBleGVjdXRpb25GbiA9ICgpID0+IHtcbiAgICAgIHRhc2suZXhlY3V0ZShtZWRpYUVsKVxuICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4gZGV2KCkuZXJyb3IoJ0FNUC1TVE9SWScsIHJlYXNvbikpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gUnVuIHJlZ2FyZGxlc3Mgb2Ygc3VjY2VzcyBvciBmYWlsdXJlIG9mIHRhc2sgZXhlY3V0aW9uLlxuICAgICAgICAgICAgcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU5leHRNZWRpYUVsZW1lbnRUYXNrXyhtZWRpYUVsKTtcbiAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKHRhc2sucmVxdWlyZXNTeW5jaHJvbm91c0V4ZWN1dGlvbigpKSB7XG4gICAgICBleGVjdXRpb25Gbi5jYWxsKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbWVyXy5kZWxheShleGVjdXRpb25Gbi5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsIFRoZSBlbGVtZW50IGZvciB3aGljaCB0aGUgc3BlY2lmaWVkIHRhc2tcbiAgICogICAgIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICogQHBhcmFtIHshLi9tZWRpYS10YXNrcy5NZWRpYVRhc2t9IHRhc2sgVGhlIHRhc2sgdG8gYmUgZXhlY3V0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBzcGVjaWZpZWQgdGFzayBpc1xuICAgKiAgICAgY29tcGxldGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5xdWV1ZU1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwsIHRhc2spIHtcbiAgICBpZiAoIW1lZGlhRWxbRUxFTUVOVF9UQVNLX1FVRVVFX1BST1BFUlRZX05BTUVdKSB7XG4gICAgICBtZWRpYUVsW0VMRU1FTlRfVEFTS19RVUVVRV9QUk9QRVJUWV9OQU1FXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gbWVkaWFFbFtFTEVNRU5UX1RBU0tfUVVFVUVfUFJPUEVSVFlfTkFNRV07XG4gICAgY29uc3QgaXNRdWV1ZVJ1bm5pbmcgPSBxdWV1ZS5sZW5ndGggIT09IDA7XG5cbiAgICBxdWV1ZS5wdXNoKHRhc2spO1xuXG4gICAgaWYgKCFpc1F1ZXVlUnVubmluZykge1xuICAgICAgdGhpcy5leGVjdXRlTmV4dE1lZGlhRWxlbWVudFRhc2tfKG1lZGlhRWwpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXNrLndoZW5Db21wbGV0ZSgpO1xuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshTWVkaWFQb29sUm9vdH0gcm9vdFxuICAgKiBAcmV0dXJuIHshTWVkaWFQb29sfVxuICAgKi9cbiAgc3RhdGljIGZvcihyb290KSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHJvb3QuZ2V0RWxlbWVudCgpO1xuICAgIGNvbnN0IGV4aXN0aW5nSWQgPSBlbGVtZW50W1BPT0xfTUVESUFfRUxFTUVOVF9QUk9QRVJUWV9OQU1FXTtcbiAgICBjb25zdCBoYXNJbnN0YW5jZUFsbG9jYXRlZCA9IGV4aXN0aW5nSWQgJiYgaW5zdGFuY2VzW2V4aXN0aW5nSWRdO1xuXG4gICAgaWYgKGhhc0luc3RhbmNlQWxsb2NhdGVkKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2VzW2V4aXN0aW5nSWRdO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0lkID0gU3RyaW5nKG5leHRJbnN0YW5jZUlkKyspO1xuICAgIGVsZW1lbnRbUE9PTF9NRURJQV9FTEVNRU5UX1BST1BFUlRZX05BTUVdID0gbmV3SWQ7XG4gICAgaW5zdGFuY2VzW25ld0lkXSA9IG5ldyBNZWRpYVBvb2woXG4gICAgICAgIHRvV2luKHJvb3QuZ2V0RWxlbWVudCgpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpLFxuICAgICAgICByb290LmdldE1heE1lZGlhRWxlbWVudENvdW50cygpLFxuICAgICAgICBlbGVtZW50ID0+IHJvb3QuZ2V0RWxlbWVudERpc3RhbmNlKGVsZW1lbnQpKTtcblxuICAgIHJldHVybiBpbnN0YW5jZXNbbmV3SWRdO1xuICB9XG59XG5cblxuLyoqXG4gKiBEZWZpbmVzIGEgY29tbW9uIGludGVyZmFjZSBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIGEgTWVkaWFQb29sLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhUG9vbFJvb3Qge1xuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9IFRoZSByb290IGVsZW1lbnQgb2YgdGhpcyBtZWRpYSBwb29sLlxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHVudXNlZEVsZW1lbnQgVGhlIGVsZW1lbnQgd2hvc2UgZGlzdGFuY2Ugc2hvdWxkIGJlXG4gICAqICAgIHJldHJpZXZlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWVyaWNhbCBkaXN0YW5jZSByZXByZXNlbnRpbmcgaG93IGZhciB0aGUgc3BlY2lmaWVkXG4gICAqICAgICBlbGVtZW50IGlzIGZyb20gdGhlIHVzZXIncyBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC4gIFRoZVxuICAgKiAgICAgYWJzb2x1dGUgbWFnbml0dWRlIG9mIHRoaXMgbnVtYmVyIGlzIGlycmVsZXZhbnQ7IHRoZSByZWxhdGl2ZSBtYWduaXR1ZGVcbiAgICogICAgIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIG1lZGlhIGVsZW1lbnRzIHNob3VsZCBiZSBldmljdGVkIChlbGVtZW50c1xuICAgKiAgICAgZnVydGhlc3QgZnJvbSB0aGUgdXNlcidzIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50IGFyZSBldmljdGVkXG4gICAqICAgICBmcm9tIHRoZSBNZWRpYVBvb2wgZmlyc3QpLlxuICAgKi9cbiAgZ2V0RWxlbWVudERpc3RhbmNlKHVudXNlZEVsZW1lbnQpIHt9XG5cblxuICAvKipcbiAgICogQHJldHVybiB7IU9iamVjdDwhTWVkaWFUeXBlLCBudW1iZXI+fSBUaGUgbWF4aW11bSBhbW91bnQgb2YgZWFjaCBtZWRpYVxuICAgKiAgICAgdHlwZSB0byBhbGxvdyB3aXRoaW4gdGhpcyBlbGVtZW50LlxuICAgKi9cbiAgZ2V0TWF4TWVkaWFFbGVtZW50Q291bnRzKCkge31cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0RlZmVycmVkfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge1NvdXJjZXN9IGZyb20gJy4vc291cmNlcyc7XG5pbXBvcnQge2lzQ29ubmVjdGVkTm9kZX0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbSc7XG5pbXBvcnQge3RyeVJlc29sdmV9IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9wcm9taXNlJztcblxuXG5cbi8qKlxuICogVGhlIG5hbWUgZm9yIGEgYm9vbGVhbiBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IGluZGljYXRpbmcgd2hldGhlciB0aGF0IGVsZW1lbnRcbiAqIGhhcyBhbHJlYWR5IGJlZW4gXCJibGVzc2VkXCIuXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfQkxFU1NFRF9QUk9QRVJUWV9OQU1FID0gJ19fQU1QX01FRElBX0lTX0JMRVNTRURfXyc7XG5cblxuLyoqXG4gKiBDU1MgY2xhc3MgbmFtZXMgdGhhdCBzaG91bGQgbm90IGJlIHJlbW92ZWQgZnJvbSBhbiBlbGVtZW50IHdoZW4gc3dhcHBpbmcgaXRcbiAqIGludG8vb3V0IG9mIHRoZSBET00uXG4gKiBAY29uc3QgeyFBcnJheTxzdHJpbmc+fVxuICovXG5jb25zdCBQUk9URUNURURfQ1NTX0NMQVNTX05BTUVTID0gW1xuICAnaS1hbXBodG1sLXBvb2wtbWVkaWEnLFxuICAnaS1hbXBodG1sLXBvb2wtYXVkaW8nLFxuICAnaS1hbXBodG1sLXBvb2wtdmlkZW8nLFxuXTtcblxuXG4vKipcbiAqIEF0dHJpYnV0ZSBuYW1lcyB0aGF0IHNob3VsZCBub3QgYmUgcmVtb3ZlZCBmcm9tIGFuIGVsZW1lbnQgd2hlbiBzd2FwcGluZyBpdFxuICogaW50by9vdXQgb2YgdGhlIERPTS5cbiAqIEBjb25zdCB7IUFycmF5PHN0cmluZz59XG4gKi9cbmNvbnN0IFBST1RFQ1RFRF9BVFRSSUJVVEVTID0gW1xuICAnaWQnLFxuICAnc3JjJyxcbiAgJ2NsYXNzJyxcbiAgJ2F1dG9wbGF5Jyxcbl07XG5cblxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIENTUyBjbGFzcyBuYW1lIGlzIGFsbG93ZWQgdG8gYmUgcmVtb3ZlZCBvciBjb3BpZWQgZnJvbVxuICogbWVkaWEgZWxlbWVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzQ2xhc3NOYW1lIFRoZSBDU1MgY2xhc3MgbmFtZSBuYW1lIHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBDU1MgY2xhc3MgbmFtZSBpcyBhbGxvd2VkIHRvIGJlXG4gKiAgICAgcmVtb3ZlZCBvciBjb3BpZWQgZnJvbSBtZWRpYSBlbGVtZW50czsgZmFsc2Ugb3RoZXJ3aXNlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNQcm90ZWN0ZWRDc3NDbGFzc05hbWUoY3NzQ2xhc3NOYW1lKSB7XG4gIHJldHVybiBQUk9URUNURURfQ1NTX0NMQVNTX05BTUVTLmluZGV4T2YoY3NzQ2xhc3NOYW1lKSA+PSAwO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGF0dHJpYnV0ZSBpcyBhbGxvd2VkIHRvIGJlIHJlbW92ZWQgb3IgY29waWVkIGZyb21cbiAqIG1lZGlhIGVsZW1lbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZU5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGUgaXMgYWxsb3dlZCB0byBiZSByZW1vdmVkXG4gKiAgICAgb3IgY29waWVkIGZyb20gbWVkaWEgZWxlbWVudHM7IGZhbHNlIG90aGVyd2lzZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdGVjdGVkQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKSB7XG4gIHJldHVybiBQUk9URUNURURfQVRUUklCVVRFUy5pbmRleE9mKGF0dHJpYnV0ZU5hbWUpID49IDA7XG59XG5cblxuLyoqXG4gKiBDb3BpZXMgYWxsIHVucHJvdGVjdGVkIENTUyBjbGFzc2VzIGZyb20gZnJvbUVsIHRvIHRvRWwuXG4gKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSBmcm9tRWwgVGhlIGVsZW1lbnQgZnJvbSB3aGljaCBDU1MgY2xhc3NlcyBzaG91bGRcbiAqICAgICBiZSBjb3BpZWQuXG4gKiBAcGFyYW0geyFIVE1MTWVkaWFFbGVtZW50fSB0b0VsIFRoZSBlbGVtZW50IHRvIHdoaWNoIENTUyBjbGFzc2VzIHNob3VsZCBiZVxuICogICAgIGNvcGllZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvcHlDc3NDbGFzc2VzKGZyb21FbCwgdG9FbCkge1xuICAvLyBSZW1vdmUgYWxsIG9mIHRoZSB1bnByb3RlY3RlZCBDU1MgY2xhc3NlcyBmcm9tIHRoZSB0b0VsLlxuICBmb3IgKGxldCBpID0gdG9FbC5jbGFzc0xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBjc3NDbGFzcyA9IHRvRWwuY2xhc3NMaXN0Lml0ZW0oaSk7XG4gICAgaWYgKCFpc1Byb3RlY3RlZENzc0NsYXNzTmFtZShjc3NDbGFzcykpIHtcbiAgICAgIHRvRWwuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29weSBhbGwgb2YgdGhlIHVucHJvdGVjdGVkIENTUyBjbGFzc2VzIGZyb20gdGhlIGZyb21FbCB0byB0aGUgdG9FbC5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcm9tRWwuY2xhc3NMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3NzQ2xhc3MgPSBmcm9tRWwuY2xhc3NMaXN0Lml0ZW0oaSk7XG4gICAgaWYgKCFpc1Byb3RlY3RlZENzc0NsYXNzTmFtZShjc3NDbGFzcykpIHtcbiAgICAgIHRvRWwuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBDb3BpZXMgYWxsIHVucHJvdGVjdGVkIGF0dHJpYnV0ZXMgZnJvbSBmcm9tRWwgdG8gdG9FbC5cbiAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGZyb21FbCBUaGUgZWxlbWVudCBmcm9tIHdoaWNoIGF0dHJpYnV0ZXMgc2hvdWxkXG4gKiAgICAgYmUgY29waWVkLlxuICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gdG9FbCBUaGUgZWxlbWVudCB0byB3aGljaCBhdHRyaWJ1dGVzIHNob3VsZCBiZVxuICogICAgIGNvcGllZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvcHlBdHRyaWJ1dGVzKGZyb21FbCwgdG9FbCkge1xuICBjb25zdCBmcm9tQXR0cmlidXRlcyA9IGZyb21FbC5hdHRyaWJ1dGVzO1xuICBjb25zdCB0b0F0dHJpYnV0ZXMgPSB0b0VsLmF0dHJpYnV0ZXM7XG5cbiAgLy8gUmVtb3ZlIGFsbCBvZiB0aGUgdW5wcm90ZWN0ZWQgYXR0cmlidXRlcyBmcm9tIHRoZSB0b0VsLlxuICBmb3IgKGxldCBpID0gdG9BdHRyaWJ1dGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRvQXR0cmlidXRlc1tpXS5uYW1lO1xuICAgIGlmICghaXNQcm90ZWN0ZWRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICB0b0VsLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb3B5IGFsbCBvZiB0aGUgdW5wcm90ZWN0ZWQgYXR0cmlidXRlcyBmcm9tIHRoZSBmcm9tRWwgdG8gdGhlIHRvRWwuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbUF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7bmFtZTogYXR0cmlidXRlTmFtZSwgdmFsdWU6IGF0dHJpYnV0ZVZhbHVlfSA9IGZyb21BdHRyaWJ1dGVzW2ldIDtcbiAgICBpZiAoIWlzUHJvdGVjdGVkQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgdG9FbC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciB0YXNrcyBleGVjdXRlZCBpbiBvcmRlciBvbiBIVE1MTWVkaWFFbGVtZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhVGFzayB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKi9cbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLm5hbWVfID0gbmFtZTtcblxuICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLmNvbXBsZXRpb25Qcm9taXNlXyA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigpfSAqL1xuICAgIHRoaXMucmVzb2x2ZV8gPSBkZWZlcnJlZC5yZXNvbHZlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKil9ICovXG4gICAgdGhpcy5yZWplY3RfID0gZGVmZXJyZWQucmVqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5hbWUgb2YgdGhpcyB0YXNrLlxuICAgKi9cbiAgZ2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwqPn0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdGFzayBoYXNcbiAgICogICAgIGNvbXBsZXRlZCBleGVjdXRpb24uXG4gICAqL1xuICB3aGVuQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGlvblByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgb24gd2hpY2ggdGhpcyB0YXNrXG4gICAqICAgICBzaG91bGQgYmUgZXhlY3V0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0YXNrIGhhcyBjb21wbGV0ZWRcbiAgICogICAgIGV4ZWN1dGlvbi5cbiAgICovXG4gIGV4ZWN1dGUobWVkaWFFbCkge1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKVxuICAgICAgICAudGhlbih0aGlzLnJlc29sdmVfLCB0aGlzLnJlamVjdF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IHVudXNlZE1lZGlhRWwgVGhlIG1lZGlhIGVsZW1lbnQgb24gd2hpY2ggdGhpc1xuICAgKiAgICAgdGFzayBzaG91bGQgYmUgZXhlY3V0ZWQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGV4ZWN1dGVJbnRlcm5hbCh1bnVzZWRNZWRpYUVsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUsIGlmIHRoaXMgdGFzayBtdXN0IGJlIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHksIGUuZy5cbiAgICogICAgaWYgaXQgcmVxdWlyZXMgYSB1c2VyIGdlc3R1cmUuXG4gICAqL1xuICByZXF1aXJlc1N5bmNocm9ub3VzRXhlY3V0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHJlYXNvbiBUaGUgcmVhc29uIGZvciBmYWlsaW5nIHRoZSB0YXNrLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmYWlsVGFzayhyZWFzb24pIHtcbiAgICB0aGlzLnJlamVjdF8ocmVhc29uKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUGxheXMgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50LlxuICovXG5leHBvcnQgY2xhc3MgUGxheVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3BsYXknKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBpZiAoIW1lZGlhRWwucGF1c2VkKSB7XG4gICAgICAvLyBXZSBkbyBub3Qgd2FudCB0byBpbnZva2UgcGxheSgpIGlmIHRoZSBtZWRpYSBlbGVtZW50IGlzIGFscmVhZHlcbiAgICAgIC8vIHBsYXlpbmcsIGFzIHRoaXMgY2FuIGludGVycnVwdCBwbGF5YmFjayBpbiBzb21lIGJyb3dzZXJzLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8vIFRoZSBwbGF5KCkgaW52b2NhdGlvbiBpcyB3cmFwcGVkIGluIGEgUHJvbWlzZS5yZXNvbHZlKC4uLikgZHVlIHRvIHRoZVxuICAgIC8vIGZhY3QgdGhhdCBzb21lIGJyb3dzZXJzIHJldHVybiBhIHByb21pc2UgZnJvbSBtZWRpYSBlbGVtZW50cycgcGxheSgpXG4gICAgLy8gZnVuY3Rpb24sIHdoaWxlIG90aGVycyByZXR1cm4gYSBib29sZWFuLlxuICAgIHJldHVybiB0cnlSZXNvbHZlKCgpID0+IG1lZGlhRWwucGxheSgpKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUGF1c2VzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhdXNlVGFzayBleHRlbmRzIE1lZGlhVGFzayB7XG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigncGF1c2UnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBtZWRpYUVsLnBhdXNlKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cblxuLyoqXG4gKiBVbm11dGVzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVubXV0ZVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3VubXV0ZScpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBleGVjdXRlSW50ZXJuYWwobWVkaWFFbCkge1xuICAgIG1lZGlhRWwubXV0ZWQgPSBmYWxzZTtcbiAgICBtZWRpYUVsLnJlbW92ZUF0dHJpYnV0ZSgnbXV0ZWQnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIE11dGVzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE11dGVUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdtdXRlJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgbWVkaWFFbC5tdXRlZCA9IHRydWU7XG4gICAgbWVkaWFFbC5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU2Vla3MgdGhlIHNwZWNpZmllZCBtZWRpYSBlbGVtZW50IHRvIHRoZSBiZWdpbm5pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXdpbmRUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdyZXdpbmQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBtZWRpYUVsLmN1cnJlbnRUaW1lID0gMDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIExvYWRzIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIExvYWRUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdsb2FkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgbWVkaWFFbC5sb2FkKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cblxuLyoqXG4gKiBcIkJsZXNzZXNcIiB0aGUgc3BlY2lmaWVkIG1lZGlhIGVsZW1lbnQgZm9yIGZ1dHVyZSBwbGF5YmFjayB3aXRob3V0IGEgdXNlclxuICogZ2VzdHVyZS4gIEluIG9yZGVyIGZvciB0aGlzIHRvIGJsZXNzIHRoZSBtZWRpYSBlbGVtZW50LCB0aGlzIGZ1bmN0aW9uIG11c3RcbiAqIGJlIGludm9rZWQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGdlc3R1cmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBCbGVzc1Rhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2JsZXNzJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlcXVpcmVzU3luY2hyb25vdXNFeGVjdXRpb24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgY29uc3QgaXNNdXRlZCA9IG1lZGlhRWwubXV0ZWQ7XG4gICAgbWVkaWFFbC5tdXRlZCA9IGZhbHNlO1xuICAgIGlmIChpc011dGVkKSB7XG4gICAgICBtZWRpYUVsLm11dGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzb3VyY2VzIG9mIHRoZSBzcGVjaWZpZWQgbWVkaWEgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVwZGF0ZVNvdXJjZXNUYXNrIGV4dGVuZHMgTWVkaWFUYXNrIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVNvdXJjZXN9IG5ld1NvdXJjZXMgVGhlIHNvdXJjZXMgdG8gd2hpY2ggdGhlIG1lZGlhIGVsZW1lbnQgc2hvdWxkXG4gICAqICAgICBiZSB1cGRhdGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IobmV3U291cmNlcykge1xuICAgIHN1cGVyKCd1cGRhdGUtc3JjJyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshU291cmNlc30gKi9cbiAgICB0aGlzLm5ld1NvdXJjZXNfID0gbmV3U291cmNlcztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXhlY3V0ZUludGVybmFsKG1lZGlhRWwpIHtcbiAgICBTb3VyY2VzLnJlbW92ZUZyb20obWVkaWFFbCk7XG4gICAgdGhpcy5uZXdTb3VyY2VzXy5hcHBseVRvRWxlbWVudChtZWRpYUVsKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFN3YXBzIGEgbWVkaWEgZWxlbWVudCBpbnRvIHRoZSBET00sIGluIHRoZSBwbGFjZSBvZiBhbm90aGVyIG1lZGlhIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTd2FwSW50b0RvbVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gcmVwbGFjZWRNZWRpYUVsIFRoZSBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ5XG4gICAqICAgICB0aGUgbWVkaWEgZWxlbWVudCBvbiB3aGljaCB0aGlzIHRhc2sgaXMgZXhlY3V0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZXBsYWNlZE1lZGlhRWwpIHtcbiAgICBzdXBlcignc3dhcC1pbnRvLWRvbScpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUhUTUxNZWRpYUVsZW1lbnR9ICovXG4gICAgdGhpcy5yZXBsYWNlZE1lZGlhRWxfID0gcmVwbGFjZWRNZWRpYUVsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBleGVjdXRlSW50ZXJuYWwobWVkaWFFbCkge1xuICAgIGlmICghaXNDb25uZWN0ZWROb2RlKHRoaXMucmVwbGFjZWRNZWRpYUVsXykpIHtcbiAgICAgIHRoaXMuZmFpbFRhc2soJ0Nhbm5vdCBzd2FwIG1lZGlhIGZvciBlbGVtZW50IHRoYXQgaXMgbm90IGluIERPTS4nKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb3B5Q3NzQ2xhc3Nlcyh0aGlzLnJlcGxhY2VkTWVkaWFFbF8sIG1lZGlhRWwpO1xuICAgIGNvcHlBdHRyaWJ1dGVzKHRoaXMucmVwbGFjZWRNZWRpYUVsXywgbWVkaWFFbCk7XG4gICAgdGhpcy5yZXBsYWNlZE1lZGlhRWxfLnBhcmVudEVsZW1lbnRcbiAgICAgICAgLnJlcGxhY2VDaGlsZChtZWRpYUVsLCB0aGlzLnJlcGxhY2VkTWVkaWFFbF8pO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU3dhcHMgYSBtZWRpYSBlbGVtZW50IG91dCB0aGUgRE9NLCBpbiB0aGUgcGxhY2Ugb2YgYSBwbGFjZWhvbGRlciBtZWRpYVxuICogZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFN3YXBPdXRPZkRvbVRhc2sgZXh0ZW5kcyBNZWRpYVRhc2sge1xuICAvKipcbiAgICogQHBhcmFtIHshSFRNTE1lZGlhRWxlbWVudH0gcGxhY2Vob2xkZXJNZWRpYUVsIFRoZSBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ5XG4gICAqICAgICB0aGUgbWVkaWEgZWxlbWVudCBvbiB3aGljaCB0aGlzIHRhc2sgaXMgZXhlY3V0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwbGFjZWhvbGRlck1lZGlhRWwpIHtcbiAgICBzdXBlcignc3dhcC1vdXQtb2YtZG9tJyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSFRNTE1lZGlhRWxlbWVudH0gKi9cbiAgICB0aGlzLnBsYWNlaG9sZGVyTWVkaWFFbF8gPSBwbGFjZWhvbGRlck1lZGlhRWw7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGV4ZWN1dGVJbnRlcm5hbChtZWRpYUVsKSB7XG4gICAgY29weUNzc0NsYXNzZXMobWVkaWFFbCwgdGhpcy5wbGFjZWhvbGRlck1lZGlhRWxfKTtcbiAgICBjb3B5QXR0cmlidXRlcyhtZWRpYUVsLCB0aGlzLnBsYWNlaG9sZGVyTWVkaWFFbF8pO1xuICAgIG1lZGlhRWwucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQodGhpcy5wbGFjZWhvbGRlck1lZGlhRWxfLCBtZWRpYUVsKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICcuLi8uLi8uLi9zcmMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQge1N0YXRlUHJvcGVydHksIGdldFN0b3JlU2VydmljZX0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5cblxuLyoqXG4gKiBUeXBlcyBvZiBzdGF0ZSBjaGFuZ2VzIHRoYXQgY2FuIGJlIGNvbnN1bWVkLlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRlQ2hhbmdlVHlwZSA9IHtcbiAgQUNUSVZFX1BBR0U6IDAsXG4gIEJPT0tFTkRfRU5URVI6IDEsXG4gIEJPT0tFTkRfRVhJVDogMixcbiAgRU5EOiAzLFxufTtcblxuXG4vKiogQHR5cGVkZWYge3t0eXBlOiAhU3RhdGVDaGFuZ2VUeXBlLCB2YWx1ZTogKn19ICovXG5leHBvcnQgbGV0IFN0YXRlQ2hhbmdlRXZlbnREZWY7XG5cblxuLyoqXG4gKiBTdGF0ZSBzdG9yZSB0byBkZWNvdXBsZSBuYXZpZ2F0aW9uIGNoYW5nZXMgZnJvbSBjb25zdW1lcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uU3RhdGUge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpOlByb21pc2U8Ym9vbGVhbj59IGhhc0Jvb2tlbmRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgaGFzQm9va2VuZCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFmdW5jdGlvbigpOlByb21pc2U8Ym9vbGVhbj59ICovXG4gICAgdGhpcy5oYXNCb29rZW5kXyA9IGhhc0Jvb2tlbmQ7XG5cbiAgICAvKiogQHByaXZhdGUgeyFPYnNlcnZhYmxlPFN0YXRlQ2hhbmdlRXZlbnREZWY+fSAqL1xuICAgIHRoaXMub2JzZXJ2YWJsZV8gPSBuZXcgT2JzZXJ2YWJsZSgpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZS5BbXBTdG9yeVN0b3JlU2VydmljZX0gKi9cbiAgICB0aGlzLnN0b3JlU2VydmljZV8gPSBnZXRTdG9yZVNlcnZpY2UodGhpcy53aW5fKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc18oKTtcblxuXG5cbiAgICAgIC8vIENyZWF0ZSBhIHF1ZXVlLCBidXQgZG9uJ3Qgb2JsaXRlcmF0ZSBhbiBleGlzdGluZyBvbmUhXG4gICAgICBhbmFseXRpY3MgPSB3aW5kb3cuYW5hbHl0aWNzID0gd2luZG93LmFuYWx5dGljcyB8fCBbXTtcblxuICAgICAgLy8gSWYgdGhlIHJlYWwgYW5hbHl0aWNzLmpzIGlzIGFscmVhZHkgb24gdGhlIHBhZ2UgcmV0dXJuLlxuICAgICAgaWYgKGFuYWx5dGljcy5pbml0aWFsaXplKSB7cmV0dXJuO31cblxuICAgICAgLy8gSWYgdGhlIHNuaXBwZXQgd2FzIGludm9rZWQgYWxyZWFkeSBzaG93IGFuIGVycm9yLlxuICAgICAgaWYgKGFuYWx5dGljcy5pbnZva2VkKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2VnbWVudCBzbmlwcGV0IGluY2x1ZGVkIHR3aWNlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBJbnZva2VkIGZsYWcsIHRvIG1ha2Ugc3VyZSB0aGUgc25pcHBldFxuICAgICAgLy8gaXMgbmV2ZXIgaW52b2tlZCB0d2ljZS5cbiAgICAgIGFuYWx5dGljcy5pbnZva2VkID0gdHJ1ZTtcblxuICAgICAgLy8gQSBsaXN0IG9mIHRoZSBtZXRob2RzIGluIEFuYWx5dGljcy5qcyB0byBzdHViLlxuICAgICAgYW5hbHl0aWNzLm1ldGhvZHMgPSBbXG4gICAgICAgICAgJ3RyYWNrU3VibWl0JyxcbiAgICAgICAgICAndHJhY2tDbGljaycsXG4gICAgICAgICAgJ3RyYWNrTGluaycsXG4gICAgICAgICAgJ3RyYWNrRm9ybScsXG4gICAgICAgICAgJ3BhZ2V2aWV3JyxcbiAgICAgICAgICAnaWRlbnRpZnknLFxuICAgICAgICAgICdyZXNldCcsXG4gICAgICAgICAgJ2dyb3VwJyxcbiAgICAgICAgICAndHJhY2snLFxuICAgICAgICAgICdyZWFkeScsXG4gICAgICAgICAgJ2FsaWFzJyxcbiAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgICdwYWdlJyxcbiAgICAgICAgICAnb25jZScsXG4gICAgICAgICAgJ29mZicsXG4gICAgICAgICAgJ29uJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIERlZmluZSBhIGZhY3RvcnkgdG8gY3JlYXRlIHN0dWJzLiBUaGVzZSBhcmUgcGxhY2Vob2xkZXJzXG4gICAgICAvLyBmb3IgbWV0aG9kcyBpbiBBbmFseXRpY3MuanMgc28gdGhhdCB5b3UgbmV2ZXIgaGF2ZSB0byB3YWl0XG4gICAgICAvLyBmb3IgaXQgdG8gbG9hZCB0byBhY3R1YWxseSByZWNvcmQgZGF0YS4gVGhlIGBtZXRob2RgIGlzXG4gICAgICAvLyBzdG9yZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCBzbyB3ZSBjYW4gcmVwbGF5IHRoZSBkYXRhLlxuICAgICAgYW5hbHl0aWNzLmZhY3RvcnkgPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgICBhcmdzLnVuc2hpZnQobWV0aG9kKTtcbiAgICAgICAgICAgICAgYW5hbHl0aWNzLnB1c2goYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiBhbmFseXRpY3M7XG4gICAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEZvciBlYWNoIG9mIG91ciBtZXRob2RzLCBnZW5lcmF0ZSBhIHF1ZXVlaW5nIHN0dWIuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuYWx5dGljcy5tZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYW5hbHl0aWNzLm1ldGhvZHNbaV07XG4gICAgICAgICAgYW5hbHl0aWNzW2tleV0gPSBhbmFseXRpY3MuZmFjdG9yeShrZXkpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWZpbmUgYSBtZXRob2QgdG8gbG9hZCBBbmFseXRpY3MuanMgZnJvbSBvdXIgQ0ROLFxuICAgICAgLy8gYW5kIHRoYXQgd2lsbCBiZSBzdXJlIHRvIG9ubHkgZXZlciBsb2FkIGl0IG9uY2UuXG4gICAgICBhbmFseXRpY3MubG9hZCA9IGZ1bmN0aW9uKGtleSwgb3B0aW9ucykge1xuICAgICAgICAgIC8vIENyZWF0ZSBhbiBhc3luYyBzY3JpcHQgZWxlbWVudCBiYXNlZCBvbiB5b3VyIGtleS5cbiAgICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgICAgc2NyaXB0LnNyYyA9ICdodHRwczovL2Nkbi5zZWdtZW50LmNvbS9hbmFseXRpY3MuanMvdjEvJ1xuICAgICAgICAgICAgICArIGtleSArICcvYW5hbHl0aWNzLm1pbi5qcyc7XG5cbiAgICAgICAgICAvLyBJbnNlcnQgb3VyIHNjcmlwdCBuZXh0IHRvIHRoZSBmaXJzdCBzY3JpcHQgZWxlbWVudC5cbiAgICAgICAgICBjb25zdCBmaXJzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICAgICAgICBmaXJzdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGZpcnN0KTtcbiAgICAgICAgICBhbmFseXRpY3MuX2xvYWRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBhIHZlcnNpb24gdG8ga2VlcCB0cmFjayBvZiB3aGF0J3MgaW4gdGhlIHdpbGQuXG4gICAgICBhbmFseXRpY3MuU05JUFBFVF9WRVJTSU9OID0gJzQuMS4wJztcblxuXG4gICAgICAvLyBMb2FkIEFuYWx5dGljcy5qcyB3aXRoIHlvdXIga2V5LCB3aGljaCB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgIC8vIGxvYWQgdGhlIHRvb2xzIHlvdSd2ZSBlbmFibGVkIGZvciB5b3VyIGFjY291bnQuIEJvb3NoIVxuICAgICAgYW5hbHl0aWNzLmxvYWQoJzVqYW9DZFk0ellZT1NtbGRpYldpc2lhbzVJbzdMMUVTJyk7XG5cbiAgICAgIC8vIE1ha2UgdGhlIGZpcnN0IHBhZ2UgY2FsbCB0byBsb2FkIHRoZSBpbnRlZ3JhdGlvbnMuIElmXG4gICAgICAvLyB5b3UnZCBsaWtlIHRvIG1hbnVhbGx5IG5hbWUgb3IgdGFnIHRoZSBwYWdlLCBlZGl0IG9yXG4gICAgICAvLyBtb3ZlIHRoaXMgY2FsbCBob3dldmVyIHlvdSdkIGxpa2VcblxuXG5cblxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbml0aWFsaXplTGlzdGVuZXJzXygpIHtcbiAgICB0aGlzLnN0b3JlU2VydmljZV8uc3Vic2NyaWJlKFN0YXRlUHJvcGVydHkuQk9PS0VORF9TVEFURSwgaXNBY3RpdmUgPT4ge1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGFuYWx5dGljcy50cmFjayhcIkJvb2tlbmQgRW50ZXJcIik7XG4gICAgICAgIHRoaXMuZmlyZV8oU3RhdGVDaGFuZ2VUeXBlLkJPT0tFTkRfRU5URVIpO1xuICAgICAgICB0aGlzLmZpcmVfKFN0YXRlQ2hhbmdlVHlwZS5FTkQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgIGFuYWx5dGljcy50cmFjayhcIkJvb2tlbmQgRXhpdFwiKTtcbiAgICAgICAgdGhpcy5maXJlXyhTdGF0ZUNoYW5nZVR5cGUuQk9PS0VORF9FWElUKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFTdGF0ZUNoYW5nZUV2ZW50RGVmKTp2b2lkfSBzdGF0ZUNoYW5nZUZuXG4gICAqL1xuICBvYnNlcnZlKHN0YXRlQ2hhbmdlRm4pIHtcbiAgICB0aGlzLm9ic2VydmFibGVfLmFkZChzdGF0ZUNoYW5nZUZuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZUluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b3RhbFBhZ2VzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlSWRcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0ZpbmFsUGFnZVxuICAgKiBUT0RPKGFsYW5vcm96Y28pOiBwYXNzIHdoZXRoZXIgY2hhbmdlIHdhcyBhdXRvbWF0aWMgb3Igb24gdXNlciBhY3Rpb24uXG4gICAqL1xuICB1cGRhdGVBY3RpdmVQYWdlKHBhZ2VJbmRleCwgdG90YWxQYWdlcywgcGFnZUlkLCBpc0ZpbmFsUGFnZSkge1xuICAgIGNvbnN0IGNoYW5nZVZhbHVlID0ge1xuICAgICAgcGFnZUluZGV4LFxuICAgICAgcGFnZUlkLFxuICAgICAgdG90YWxQYWdlcyxcbiAgICAgIHN0b3J5UHJvZ3Jlc3M6IHBhZ2VJbmRleCAvIHRvdGFsUGFnZXMsXG4gICAgfTtcbiAgICBhbmFseXRpY3MudHJhY2soXCJQYWdlIENoYW5nZVwiLHtcbiAgICAgICAgcGFnZTogcGFnZUluZGV4LFxuICAgICAgICBzdG9yeVByb2dyZXNzOiBwYWdlSW5kZXgvdG90YWxQYWdlc1xuICAgIH0pO1xuICAgIHRoaXMuZmlyZV8oU3RhdGVDaGFuZ2VUeXBlLkFDVElWRV9QQUdFLCBjaGFuZ2VWYWx1ZSk7XG5cbiAgICBpZiAoaXNGaW5hbFBhZ2UpIHtcbiAgICAgIHRoaXMuaGFzQm9va2VuZF8oKS50aGVuKGhhc0Jvb2tlbmQgPT4ge1xuICAgICAgICBpZiAoIWhhc0Jvb2tlbmQpIHtcbiAgICAgICAgdGhpcy5maXJlXyhTdGF0ZUNoYW5nZVR5cGUuRU5EKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVN0YXRlQ2hhbmdlVHlwZX0gdHlwZVxuICAgKiBAcGFyYW0geyo9fSBvcHRfY2hhbmdlVmFsdWVcbiAgICovXG4gIGZpcmVfKHR5cGUsIG9wdF9jaGFuZ2VWYWx1ZSkge1xuICAgIHRoaXMub2JzZXJ2YWJsZV8uZmlyZSh7dHlwZSwgdmFsdWU6IG9wdF9jaGFuZ2VWYWx1ZX0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcyc7XG5pbXBvcnQge1N0YXRlUHJvcGVydHksIGdldFN0b3JlU2VydmljZX0gZnJvbSAnLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZSc7XG5pbXBvcnQge1RBUFBBQkxFX0FSSUFfUk9MRVN9IGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlL2FjdGlvbi1pbXBsJztcbmltcG9ydCB7VmlkZW9FdmVudHN9IGZyb20gJy4uLy4uLy4uL3NyYy92aWRlby1pbnRlcmZhY2UnO1xuaW1wb3J0IHtjbG9zZXN0LCBlc2NhcGVDc3NTZWxlY3RvcklkZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcbmltcG9ydCB7ZGV2LCB1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7aGFzVGFwQWN0aW9uLCB0aW1lU3RyVG9NaWxsaXN9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtsaXN0ZW5PbmNlfSBmcm9tICcuLi8uLi8uLi9zcmMvZXZlbnQtaGVscGVyJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTkVYVF9TQ1JFRU5fQVJFQV9SQVRJTyA9IDAuNzU7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IFBSRVZJT1VTX1NDUkVFTl9BUkVBX1JBVElPID0gMC4yNTtcblxuLyoqIEBjb25zdCB7bnVtYmVyfSAqL1xuZXhwb3J0IGNvbnN0IFBPTExfSU5URVJWQUxfTVMgPSAzMDA7XG5cbi8qKiBAY29uc3QgQGVudW0gKi9cbmV4cG9ydCBjb25zdCBUYXBOYXZpZ2F0aW9uRGlyZWN0aW9uID0ge1xuICAnTkVYVCc6IDEsXG4gICdQUkVWSU9VUyc6IDIsXG59O1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHRoZSBBZHZhbmNlbWVudENvbmZpZy4gIEJ5IGRlZmF1bHQsIGRvZXMgbm90aGluZyBvdGhlciB0aGFuXG4gKiB0cmFja2luZyBpdHMgaW50ZXJuYWwgc3RhdGUgd2hlbiBzdGFydGVkL3N0b3BwZWQsIGFuZCBsaXN0ZW5lcnMgd2lsbCBuZXZlciBiZVxuICogaW52b2tlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFkdmFuY2VtZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTxmdW5jdGlvbihudW1iZXIpPn0gKi9cbiAgICB0aGlzLnByb2dyZXNzTGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PGZ1bmN0aW9uKCk+fSAqL1xuICAgIHRoaXMuYWR2YW5jZUxpc3RlbmVyc18gPSBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTxmdW5jdGlvbigpPn0gKi9cbiAgICB0aGlzLnByZXZpb3VzTGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFycmF5PGZ1bmN0aW9uKG51bWJlcik+fSAqL1xuICAgIHRoaXMudGFwTmF2aWdhdGlvbkxpc3RlbmVyc18gPSBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzUnVubmluZ18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlcil9IHByb2dyZXNzTGlzdGVuZXIgQSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgd2hlbiB0aGVcbiAgICogICAgIHByb2dyZXNzIG9mIHRoZSBjdXJyZW50IHBhZ2UgaGFzIGJlZW4gdXBkYXRlZC4gIEl0IGFjY2VwdHMgYSBudW1iZXJcbiAgICogICAgIGJldHdlZW4gMC4wIGFuZCAxLjAgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudFxuICAgKiAgICAgcHJvZ3Jlc3MuXG4gICAqL1xuICBhZGRQcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzTGlzdGVuZXIpIHtcbiAgICB0aGlzLnByb2dyZXNzTGlzdGVuZXJzXy5wdXNoKHByb2dyZXNzTGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gYWR2YW5jZUxpc3RlbmVyIEEgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIHdoZW4gYVxuICAgKiAgICAgcGFnZSBzaG91bGQgYmUgYWR2YW5jZWQuXG4gICAqL1xuICBhZGRBZHZhbmNlTGlzdGVuZXIoYWR2YW5jZUxpc3RlbmVyKSB7XG4gICAgdGhpcy5hZHZhbmNlTGlzdGVuZXJzXy5wdXNoKGFkdmFuY2VMaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwcmV2aW91c0xpc3RlbmVyIEEgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIHdoZW4gYVxuICAgKiAgICAgcGFnZSBzaG91bGQgZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcGFnZS5cbiAgICovXG4gIGFkZFByZXZpb3VzTGlzdGVuZXIocHJldmlvdXNMaXN0ZW5lcikge1xuICAgIHRoaXMucHJldmlvdXNMaXN0ZW5lcnNfLnB1c2gocHJldmlvdXNMaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIpfSBvblRhcE5hdmlnYXRpb25MaXN0ZW5lciBBIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB3aGVuIGFcbiAgICogbmF2aWdhdGlvbiBsaXN0ZW5lciB0byBiZSBmaXJlZC5cbiAgICovXG4gIGFkZE9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKG9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKSB7XG4gICAgdGhpcy50YXBOYXZpZ2F0aW9uTGlzdGVuZXJzXy5wdXNoKG9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGFkdmFuY2VtZW50IGNvbmZpZ3VyYXRpb24gc2hvdWxkIGJlZ2luIHRha2luZyBlZmZlY3QuXG4gICAqL1xuICBzdGFydCgpIHtcbiAgICB0aGlzLmlzUnVubmluZ18gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgYWR2YW5jZW1lbnQgY29uZmlndXJhdGlvbiBzaG91bGQgY2Vhc2UgdGFraW5nIGVmZmVjdC5cbiAgICovXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5pc1J1bm5pbmdfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmlzUnVubmluZ187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qKiBAcHJvdGVjdGVkICovXG4gIG9uUHJvZ3Jlc3NVcGRhdGUoKSB7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSB0aGlzLmdldFByb2dyZXNzKCk7XG4gICAgdGhpcy5wcm9ncmVzc0xpc3RlbmVyc18uZm9yRWFjaChwcm9ncmVzc0xpc3RlbmVyID0+IHtcbiAgICAgIHByb2dyZXNzTGlzdGVuZXIocHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgb25BZHZhbmNlKCkge1xuICAgIHRoaXMuYWR2YW5jZUxpc3RlbmVyc18uZm9yRWFjaChhZHZhbmNlTGlzdGVuZXIgPT4ge1xuICAgICAgYWR2YW5jZUxpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBvblByZXZpb3VzKCkge1xuICAgIHRoaXMucHJldmlvdXNMaXN0ZW5lcnNfLmZvckVhY2gocHJldmlvdXNMaXN0ZW5lciA9PiB7XG4gICAgICBwcmV2aW91c0xpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5hdmlnYXRpb25EaXJlY3Rpb24gRGlyZWN0aW9uIG9mIG5hdmlnYXRpb25cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgb25UYXBOYXZpZ2F0aW9uKG5hdmlnYXRpb25EaXJlY3Rpb24pIHtcbiAgICB0aGlzLnRhcE5hdmlnYXRpb25MaXN0ZW5lcnNfLmZvckVhY2gobmF2aWdhdGlvbkxpc3RlbmVyID0+IHtcbiAgICAgIG5hdmlnYXRpb25MaXN0ZW5lcihuYXZpZ2F0aW9uRGlyZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhbiBBZHZhbmNlbWVudENvbmZpZyBvYmplY3QgZm9yIHRoZSBzcGVjaWZpZWQgYW1wLXN0b3J5LXBhZ2UuXG4gICAqIEBwYXJhbSB7IS4vYW1wLXN0b3J5LXBhZ2UuQW1wU3RvcnlQYWdlfSBwYWdlXG4gICAqIEByZXR1cm4geyFBZHZhbmNlbWVudENvbmZpZ31cbiAgICovXG4gIHN0YXRpYyBmb3JQYWdlKHBhZ2UpIHtcbiAgICBjb25zdCByb290RWwgPSBwYWdlLmVsZW1lbnQ7XG4gICAgY29uc3Qgd2luID0gLyoqIEB0eXBlIHshV2luZG93fSAqLyAocm9vdEVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICAgIGNvbnN0IGF1dG9BZHZhbmNlU3RyID0gcm9vdEVsLmdldEF0dHJpYnV0ZSgnYXV0by1hZHZhbmNlLWFmdGVyJyk7XG5cbiAgICBjb25zdCBzdXBwb3J0ZWRBZHZhbmNlbWVudE1vZGVzID0gW1xuICAgICAgbmV3IE1hbnVhbEFkdmFuY2VtZW50KHJvb3RFbCksXG4gICAgICBUaW1lQmFzZWRBZHZhbmNlbWVudC5mcm9tQXV0b0FkdmFuY2VTdHJpbmcoYXV0b0FkdmFuY2VTdHIsIHdpbiksXG4gICAgICBNZWRpYUJhc2VkQWR2YW5jZW1lbnQuZnJvbUF1dG9BZHZhbmNlU3RyaW5nKGF1dG9BZHZhbmNlU3RyLCB3aW4sIHJvb3RFbCksXG4gICAgXS5maWx0ZXIoeCA9PiB4ICE9PSBudWxsKTtcblxuICAgIGlmIChzdXBwb3J0ZWRBZHZhbmNlbWVudE1vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBBZHZhbmNlbWVudENvbmZpZygpO1xuICAgIH1cblxuICAgIGlmIChzdXBwb3J0ZWRBZHZhbmNlbWVudE1vZGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHN1cHBvcnRlZEFkdmFuY2VtZW50TW9kZXNbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBNdWx0aXBsZUFkdmFuY2VtZW50Q29uZmlnKHN1cHBvcnRlZEFkdmFuY2VtZW50TW9kZXMpO1xuICB9XG59XG5cblxuLyoqXG4gKiBBbiBBZHZhbmNlbWVudENvbmZpZyBpbXBsZW1lbnRhdGlvbiB0aGF0IGNvbXBvc2VzIG11bHRpcGxlIG90aGVyXG4gKiBBZHZhbmNlbWVudENvbmZpZyBpbXBsZW1lbnRhdGlvbnMgYnkgc2ltcGx5IGRlbGVnYXRpbmcgYWxsIG9mIGl0cyBjYWxscyB0b1xuICogYW4gYXJyYXkgb2YgdW5kZXJseWluZyBhZHZhbmNlbWVudCBtb2Rlcy5cbiAqL1xuY2xhc3MgTXVsdGlwbGVBZHZhbmNlbWVudENvbmZpZyBleHRlbmRzIEFkdmFuY2VtZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCFBZHZhbmNlbWVudENvbmZpZz59IGFkdmFuY2VtZW50TW9kZXMgQSBsaXN0IG9mXG4gICAqICAgICBBZHZhbmNlbWVudENvbmZpZ3MgdG8gd2hpY2ggYWxsIGNhbGxzIHNob3VsZCBiZSBkZWxlZ2F0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZHZhbmNlbWVudE1vZGVzKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTwhQWR2YW5jZW1lbnRDb25maWc+fSAqL1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18gPSBhZHZhbmNlbWVudE1vZGVzO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZGRQcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzTGlzdGVuZXIpIHtcbiAgICB0aGlzLmFkdmFuY2VtZW50TW9kZXNfLmZvckVhY2goYWR2YW5jZW1lbnRNb2RlID0+IHtcbiAgICAgIGFkdmFuY2VtZW50TW9kZS5hZGRQcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzTGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZGRPblRhcE5hdmlnYXRpb25MaXN0ZW5lcihvblRhcE5hdmlnYXRpb25MaXN0ZW5lcikge1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18uZm9yRWFjaChhZHZhbmNlbWVudE1vZGUgPT4ge1xuICAgICAgYWR2YW5jZW1lbnRNb2RlLmFkZE9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKG9uVGFwTmF2aWdhdGlvbkxpc3RlbmVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWRkQWR2YW5jZUxpc3RlbmVyKGFkdmFuY2VMaXN0ZW5lcikge1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18uZm9yRWFjaChhZHZhbmNlbWVudE1vZGUgPT4ge1xuICAgICAgYWR2YW5jZW1lbnRNb2RlLmFkZEFkdmFuY2VMaXN0ZW5lcihhZHZhbmNlTGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZGRQcmV2aW91c0xpc3RlbmVyKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICB0aGlzLmFkdmFuY2VtZW50TW9kZXNfLmZvckVhY2goYWR2YW5jZW1lbnRNb2RlID0+IHtcbiAgICAgIGFkdmFuY2VtZW50TW9kZS5hZGRQcmV2aW91c0xpc3RlbmVyKHByZXZpb3VzTGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18uZm9yRWFjaChhZHZhbmNlbWVudE1vZGUgPT4ge1xuICAgICAgYWR2YW5jZW1lbnRNb2RlLnN0YXJ0KCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0b3AoKSB7XG4gICAgc3VwZXIuc3RvcCgpO1xuICAgIHRoaXMuYWR2YW5jZW1lbnRNb2Rlc18uZm9yRWFjaChhZHZhbmNlbWVudE1vZGUgPT4ge1xuICAgICAgYWR2YW5jZW1lbnRNb2RlLnN0b3AoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5cbi8qKlxuICogQWx3YXlzIHByb3ZpZGVzIGEgcHJvZ3Jlc3Mgb2YgMS4wLiAgQWR2YW5jZXMgd2hlbiB0aGUgdXNlciB0YXBzIHRoZVxuICogY29ycmVzcG9uZGluZyBzZWN0aW9uLCBkZXBlbmRpbmcgb24gbGFuZ3VhZ2Ugc2V0dGluZ3MuXG4gKi9cbmNsYXNzIE1hbnVhbEFkdmFuY2VtZW50IGV4dGVuZHMgQWR2YW5jZW1lbnRDb25maWcge1xuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0aGF0LCB3aGVuIGNsaWNrZWQsIGNhbiBjYXVzZVxuICAgKiAgICAgYWR2YW5jaW5nIHRvIHRoZSBuZXh0IHBhZ2Ugb3IgZ29pbmcgYmFjayB0byB0aGUgcHJldmlvdXMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcbiAgICB0aGlzLmNsaWNrTGlzdGVuZXJfID0gdGhpcy5tYXliZVBlcmZvcm1OYXZpZ2F0aW9uXy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFzQXV0b0FkdmFuY2VTdHJfID0gdGhpcy5lbGVtZW50Xy5nZXRBdHRyaWJ1dGUoJ2F1dG8tYWR2YW5jZS1hZnRlcicpO1xuXG4gICAgaWYgKGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldykge1xuICAgICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9ICovXG4gICAgICB0aGlzLnN0b3JlU2VydmljZV8gPVxuICAgICAgICBnZXRTdG9yZVNlcnZpY2UoZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICB9XG5cbiAgICBjb25zdCBydGxTdGF0ZSA9IHRoaXMuc3RvcmVTZXJ2aWNlXy5nZXQoU3RhdGVQcm9wZXJ0eS5SVExfU1RBVEUpO1xuICAgIHRoaXMuc2VjdGlvbnNfID0ge1xuICAgICAgLy8gV2lkdGggYW5kIG5hdmlnYXRpb24gZGlyZWN0aW9uIG9mIGVhY2ggc2VjdGlvbiBkZXBlbmQgb24gd2hldGhlciB0aGVcbiAgICAgIC8vIGRvY3VtZW50IGlzIFJUTCBvciBMVFIuXG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHdpZHRoUmF0aW86IHJ0bFN0YXRlID9cbiAgICAgICAgICBORVhUX1NDUkVFTl9BUkVBX1JBVElPIDogUFJFVklPVVNfU0NSRUVOX0FSRUFfUkFUSU8sXG4gICAgICAgIGRpcmVjdGlvbjogcnRsU3RhdGUgP1xuICAgICAgICAgIFRhcE5hdmlnYXRpb25EaXJlY3Rpb24uTkVYVCA6IFRhcE5hdmlnYXRpb25EaXJlY3Rpb24uUFJFVklPVVMsXG4gICAgICB9LFxuICAgICAgcmlnaHQ6IHtcbiAgICAgICAgd2lkdGhSYXRpbzogcnRsU3RhdGUgP1xuICAgICAgICAgIFBSRVZJT1VTX1NDUkVFTl9BUkVBX1JBVElPIDogTkVYVF9TQ1JFRU5fQVJFQV9SQVRJTyxcbiAgICAgICAgZGlyZWN0aW9uOiBydGxTdGF0ZSA/XG4gICAgICAgICAgVGFwTmF2aWdhdGlvbkRpcmVjdGlvbi5QUkVWSU9VUyA6IFRhcE5hdmlnYXRpb25EaXJlY3Rpb24uTkVYVCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0xpc3RlbmVyXywgdHJ1ZSk7XG4gICAgaWYgKCF0aGlzLmhhc0F1dG9BZHZhbmNlU3RyXykge1xuICAgICAgc3VwZXIub25Qcm9ncmVzc1VwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tMaXN0ZW5lcl8sIHRydWUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gMS4wO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciBhIGNsaWNrIHNob3VsZCBiZSB1c2VkIGZvciBuYXZpZ2F0aW9uLiAgTmF2aWdhdGUgc2hvdWxkXG4gICAqIG9jY3VyIHVubGVzcyB0aGUgY2xpY2sgaXMgb24gdGhlIHN5c3RlbSBsYXllciwgb3Igb24gYW4gZWxlbWVudCB0aGF0XG4gICAqIGRlZmluZXMgb249XCJ0YXA6Li4uXCJcbiAgICogQHBhcmFtIHshRXZlbnR9IGUgJ2NsaWNrJyBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIGNsaWNrIHNob3VsZCBiZSB1c2VkIGZvciBuYXZpZ2F0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNOYXZpZ2F0aW9uYWxDbGlja18oZSkge1xuICAgIHJldHVybiAhY2xvc2VzdChkZXYoKS5hc3NlcnRFbGVtZW50KGUudGFyZ2V0KSwgZWwgPT4ge1xuICAgICAgcmV0dXJuIGhhc1RhcEFjdGlvbihlbCk7XG4gICAgfSwgLyogb3B0X3N0b3BBdCAqLyB0aGlzLmVsZW1lbnRfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXZSB3YW50IGNsaWNrcyBvbiBjZXJ0YWluIGVsZW1lbnRzIHRvIGJlIGV4ZW1wdGVkIGZyb20gbm9ybWFsIHBhZ2VcbiAgICogbmF2aWdhdGlvblxuICAgKiBAcGFyYW0geyFFdmVudH0gZXZlbnRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzUHJvdGVjdGVkVGFyZ2V0XyhldmVudCkge1xuICAgIGNvbnN0IGVsZW1lbnRSb2xlID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgncm9sZScpO1xuXG4gICAgaWYgKGVsZW1lbnRSb2xlKSB7XG4gICAgICByZXR1cm4gISFUQVBQQUJMRV9BUklBX1JPTEVTW2VsZW1lbnRSb2xlLnRvTG93ZXJDYXNlKCldO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIHN5c3RlbSBuYXZpZ2F0aW9uIGlmIGl0IGlzIGRldGVybWluZWQgdGhhdCB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqIHdhcyBhIGNsaWNrIGludGVuZGVkIGZvciBuYXZpZ2F0aW9uLlxuICAgKiBAcGFyYW0geyFFdmVudH0gZXZlbnQgJ2NsaWNrJyBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWF5YmVQZXJmb3JtTmF2aWdhdGlvbl8oZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0aW9uYWxDbGlja18oZXZlbnQpIHx8IHRoaXMuaXNQcm90ZWN0ZWRUYXJnZXRfKGV2ZW50KSkge1xuICAgICAgLy8gSWYgdGhlIHN5c3RlbSBkb2Vzbid0IG5lZWQgdG8gaGFuZGxlIHRoaXMgY2xpY2ssIHRoZW4gd2UgY2FuIHNpbXBseVxuICAgICAgLy8gcmV0dXJuIGFuZCBsZXQgdGhlIGV2ZW50IHByb3BhZ2F0ZSBhcyBpdCB3b3VsZCBoYXZlIG90aGVyd2lzZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGNvbnN0IHBhZ2VSZWN0ID0gdGhpcy5lbGVtZW50Xy4vKk9LKi9nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIC8vIFVzaW5nIGBsZWZ0YCBhcyBhIGZhbGxiYWNrIHNpbmNlIFNhZmFyaSByZXR1cm5zIGEgQ2xpZW50UmVjdCBpbiBzb21lXG4gICAgLy8gY2FzZXMuXG4gICAgY29uc3Qgb2Zmc2V0TGVmdCA9ICgneCcgaW4gcGFnZVJlY3QpID8gcGFnZVJlY3QueCA6IHBhZ2VSZWN0LmxlZnQ7XG5cbiAgICBjb25zdCBwYWdlID0ge1xuICAgICAgLy8gT2Zmc2V0IHN0YXJ0aW5nIGxlZnQgb2YgdGhlIHBhZ2UuXG4gICAgICBvZmZzZXQ6IG9mZnNldExlZnQsXG4gICAgICB3aWR0aDogcGFnZVJlY3Qud2lkdGgsXG4gICAgICBjbGlja0V2ZW50WDogZXZlbnQucGFnZVgsXG4gICAgfTtcblxuICAgIHRoaXMub25UYXBOYXZpZ2F0aW9uKHRoaXMuZ2V0VGFwRGlyZWN0aW9uXyhwYWdlKSk7XG4gIH1cblxuICAvKipcbiAgICogRGVjaWRlcyB3aGF0IGRpcmVjdGlvbiB0byBuYXZpZ2F0ZSBkZXBlbmRpbmcgb24gd2hpY2hcbiAgICogc2VjdGlvbiBvZiB0aGUgcGFnZSB3YXMgdGhlcmUgYSBjbGljay4gVGhlIG5hdmlnYXRpb24gZGlyZWN0aW9uIG9mIGVhY2hcbiAgICogaW5kaXZpZHVhbCBzZWN0aW9uIGhhcyBiZWVuIHByZXZpb3VzbHkgZGVmaW5lZCBkZXBlbmRpbmcgb24gdGhlIGxhbmd1YWdlXG4gICAqIHNldHRpbmdzLlxuICAgKiBAcGFyYW0geyFPYmplY3R9IHBhZ2VcbiAgICovXG4gIGdldFRhcERpcmVjdGlvbl8ocGFnZSkge1xuICAgIGNvbnN0IHtsZWZ0LCByaWdodH0gPSB0aGlzLnNlY3Rpb25zXztcblxuICAgIGlmIChwYWdlLmNsaWNrRXZlbnRYIDw9IHBhZ2Uub2Zmc2V0ICsgKGxlZnQud2lkdGhSYXRpbyAqIHBhZ2Uud2lkdGgpKSB7XG4gICAgICByZXR1cm4gbGVmdC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIHJpZ2h0LmRpcmVjdGlvbjtcbiAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIHByb2dyZXNzIGFuZCBhZHZhbmNlbWVudCBiYXNlZCBvbiBhIGZpeGVkIGR1cmF0aW9uIG9mIHRpbWUsXG4gKiBzcGVjaWZpZWQgaW4gZWl0aGVyIHNlY29uZHMgb3IgbWlsbGlzZWNvbmRzLlxuICovXG5jbGFzcyBUaW1lQmFzZWRBZHZhbmNlbWVudCBleHRlbmRzIEFkdmFuY2VtZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luIFRoZSBXaW5kb3cgb2JqZWN0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlNcyBUaGUgZHVyYXRpb24gdG8gd2FpdCBiZWZvcmUgYWR2YW5jaW5nLlxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCBkZWxheU1zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi8uLi8uLi9zcmMvc2VydmljZS90aW1lci1pbXBsLlRpbWVyfSAqL1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3Iod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbiAgICB0aGlzLmRlbGF5TXNfID0gZGVsYXlNcztcblxuICAgIC8qKiBAcHJpdmF0ZSB7P251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0VGltZU1zXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcnxzdHJpbmd8bnVsbH0gKi9cbiAgICB0aGlzLnRpbWVvdXRJZF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGN1cnJlbnQgdGltZXN0YW1wLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDdXJyZW50VGltZXN0YW1wTXNfKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuc3RhcnRUaW1lTXNfID0gdGhpcy5nZXRDdXJyZW50VGltZXN0YW1wTXNfKCk7XG5cbiAgICB0aGlzLnRpbWVvdXRJZF8gPSB0aGlzLnRpbWVyXy5kZWxheSgoKSA9PiB0aGlzLm9uQWR2YW5jZSgpLCB0aGlzLmRlbGF5TXNfKTtcblxuICAgIHRoaXMub25Qcm9ncmVzc1VwZGF0ZSgpO1xuXG4gICAgdGhpcy50aW1lcl8ucG9sbChQT0xMX0lOVEVSVkFMX01TLCAoKSA9PiB7XG4gICAgICB0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUoKTtcbiAgICAgIHJldHVybiAhdGhpcy5pc1J1bm5pbmcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5zdG9wKCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0SWRfICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnRpbWVyXy5jYW5jZWwodGhpcy50aW1lb3V0SWRfKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldFByb2dyZXNzKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0VGltZU1zXyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZ3Jlc3MgPVxuICAgICAgICAodGhpcy5nZXRDdXJyZW50VGltZXN0YW1wTXNfKCkgLSB0aGlzLnN0YXJ0VGltZU1zXykgLyB0aGlzLmRlbGF5TXNfO1xuXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBpbnN0YW5jZSBvZiBUaW1lQmFzZWRBZHZhbmNlbWVudCBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlXG4gICAqIGF1dG8tYWR2YW5jZSBzdHJpbmcgKGZyb20gdGhlICdhdXRvLWFkdmFuY2UtYWZ0ZXInIGF0dHJpYnV0ZSBvbiB0aGUgcGFnZSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdXRvQWR2YW5jZVN0ciBUaGUgdmFsdWUgb2YgdGhlIGF1dG8tYWR2YW5jZS1hZnRlclxuICAgKiAgICAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/QWR2YW5jZW1lbnRDb25maWd9IEFuIEFkdmFuY2VtZW50Q29uZmlnLCBpZiB0aW1lLWJhc2VkXG4gICAqICAgICBhdXRvLWFkdmFuY2UgaXMgc3VwcG9ydGVkIGZvciB0aGUgc3BlY2lmaWVkIGF1dG8tYWR2YW5jZSBzdHJpbmc7IG51bGxcbiAgICogICAgIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBmcm9tQXV0b0FkdmFuY2VTdHJpbmcoYXV0b0FkdmFuY2VTdHIsIHdpbikge1xuICAgIGlmICghYXV0b0FkdmFuY2VTdHIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGF5TXMgPSB0aW1lU3RyVG9NaWxsaXMoYXV0b0FkdmFuY2VTdHIpO1xuICAgIGlmIChkZWxheU1zID09PSB1bmRlZmluZWQgfHwgaXNOYU4oZGVsYXlNcykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVGltZUJhc2VkQWR2YW5jZW1lbnQod2luLCBOdW1iZXIoZGVsYXlNcykpO1xuICB9XG59XG5cblxuLyoqXG4gKiBQcm92aWRlcyBwcm9ncmVzcyBhbmQgYWR2YW5jZXMgcGFnZXMgYmFzZWQgb24gdGhlIGNvbXBsZXRpb24gcGVyY2VudGFnZSBvZlxuICogcGxheWJhY2sgb2YgYW4gSFRNTE1lZGlhRWxlbWVudCBvciBhIHZpZGVvIHRoYXQgaW1wbGVtZW50cyB0aGUgQU1QXG4gKiB2aWRlby1pbnRlcmZhY2UuXG4gKlxuICogVGhlc2UgYXJlIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgQWR2YW5jZW1lbnRDb25maWcgaW1wbGVtZW50YXRpb24gYmVjYXVzZSB3ZVxuICogbWF5IG5vdCBrbm93IGF0IGJ1aWxkIHRpbWUgd2hldGhlciBhIHZpZGVvIGltcGxlbWVudHMgdGhlIEFNUFxuICogdmlkZW8taW50ZXJmYWNlLCBzaW5jZSB0aGF0IGlzIGRlcGVuZGVudCBvbiB0aGUgYW1wLXZpZGVvIGJ1aWxkQ2FsbGJhY2tcbiAqIGhhdmluZyBiZWVuIGV4ZWN1dGVkIGJlZm9yZSB0aGUgYW1wLXN0b3J5LXBhZ2UgYnVpbGRDYWxsYmFjaywgd2hpY2ggaXMgbm90XG4gKiBndWFyYW50ZWVkLlxuICovXG5jbGFzcyBNZWRpYUJhc2VkQWR2YW5jZW1lbnQgZXh0ZW5kcyBBZHZhbmNlbWVudENvbmZpZyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIGVsZW1lbnQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3RpbWVyLWltcGwuVGltZXJ9ICovXG4gICAgdGhpcy50aW1lcl8gPSBTZXJ2aWNlcy50aW1lckZvcih3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMubWVkaWFFbGVtZW50XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9Vbmxpc3RlbkRlZn0gKi9cbiAgICB0aGlzLnVubGlzdGVuRW5kZWRGbl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/VW5saXN0ZW5EZWZ9ICovXG4gICAgdGhpcy51bmxpc3RlblRpbWV1cGRhdGVGbl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Li4vLi4vLi4vc3JjL3ZpZGVvLWludGVyZmFjZS5WaWRlb0ludGVyZmFjZX0gKi9cbiAgICB0aGlzLnZpZGVvXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBlbGVtZW50IGZvciBhdXRvIGFkdmFuY2VtZW50IGltcGxlbWVudHMgdGhlIHZpZGVvXG4gICAqIGludGVyZmFjZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSwgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGltcGxlbWVudHMgdGhlIHZpZGVvXG4gICAqICAgICBpbnRlcmZhY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc1ZpZGVvSW50ZXJmYWNlVmlkZW9fKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucygnaS1hbXBodG1sLXZpZGVvLWludGVyZmFjZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gSFRNTE1lZGlhRWxlbWVudCBmcm9tIGFuIGVsZW1lbnQgdGhhdCB3cmFwcyBpdC5cbiAgICogQHJldHVybiB7P0VsZW1lbnR9IFRoZSB1bmRlcmx5aW5nIEhUTUxNZWRpYUVsZW1lbnQsIGlmIG9uZSBleGlzdHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRNZWRpYUVsZW1lbnRfKCkge1xuICAgIGNvbnN0IHRhZ05hbWUgPSB0aGlzLmVsZW1lbnRfLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRfIGluc3RhbmNlb2YgSFRNTE1lZGlhRWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudF87XG4gICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmhhc0F0dHJpYnV0ZSgnYmFja2dyb3VuZC1hdWRpbycpICYmXG4gICAgICAgICh0YWdOYW1lID09PSAnYW1wLXN0b3J5JyB8fCB0YWdOYW1lID09PSAnYW1wLXN0b3J5LXBhZ2UnKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLmktYW1waHRtbC1zdG9yeS1iYWNrZ3JvdW5kLWF1ZGlvJyk7XG4gICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnYW1wLWF1ZGlvJykge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignYXVkaW8nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIC8vIFByZXZlbnRzIHJhY2UgY29uZGl0aW9uIHdoZW4gY2hlY2tpbmcgZm9yIHZpZGVvIGludGVyZmFjZSBjbGFzc25hbWUuXG4gICAgKHRoaXMuZWxlbWVudF8ud2hlbkJ1aWx0ID8gdGhpcy5lbGVtZW50Xy53aGVuQnVpbHQoKSA6IFByb21pc2UucmVzb2x2ZSgpKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnN0YXJ0V2hlbkJ1aWx0XygpKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydFdoZW5CdWlsdF8oKSB7XG4gICAgaWYgKHRoaXMuaXNWaWRlb0ludGVyZmFjZVZpZGVvXygpKSB7XG4gICAgICB0aGlzLnN0YXJ0VmlkZW9JbnRlcmZhY2VFbGVtZW50XygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZWRpYUVsZW1lbnRfKSB7XG4gICAgICB0aGlzLm1lZGlhRWxlbWVudF8gPSB0aGlzLmdldE1lZGlhRWxlbWVudF8oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tZWRpYUVsZW1lbnRfKSB7XG4gICAgICB0aGlzLnN0YXJ0SHRtbE1lZGlhRWxlbWVudF8oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1c2VyKCkuZXJyb3IoJ0FNUC1TVE9SWS1QQUdFJyxcbiAgICAgICAgYEVsZW1lbnQgd2l0aCBJRCAke3RoaXMuZWxlbWVudF8uaWR9IGlzIG5vdCBhIG1lZGlhIGVsZW1lbnQgYCArXG4gICAgICAgICdzdXBwb3J0ZWQgZm9yIGF1dG9tYXRpYyBhZHZhbmNlbWVudC4nKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydEh0bWxNZWRpYUVsZW1lbnRfKCkge1xuICAgIGNvbnN0IG1lZGlhRWxlbWVudCA9IGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5tZWRpYUVsZW1lbnRfLFxuICAgICAgICAnTWVkaWEgZWxlbWVudCB3YXMgdW5zcGVjaWZpZWQuJyk7XG4gICAgdGhpcy51bmxpc3RlbkVuZGVkRm5fID1cbiAgICAgICAgbGlzdGVuT25jZShtZWRpYUVsZW1lbnQsICdlbmRlZCcsICgpID0+IHRoaXMub25BZHZhbmNlKCkpO1xuICAgIHRoaXMudW5saXN0ZW5UaW1ldXBkYXRlRm5fID1cbiAgICAgICAgbGlzdGVuT25jZShtZWRpYUVsZW1lbnQsICd0aW1ldXBkYXRlJywgKCkgPT4gdGhpcy5vblByb2dyZXNzVXBkYXRlKCkpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXJ0VmlkZW9JbnRlcmZhY2VFbGVtZW50XygpIHtcbiAgICB0aGlzLmVsZW1lbnRfLmdldEltcGwoKS50aGVuKHZpZGVvID0+IHtcbiAgICAgIHRoaXMudmlkZW9fID0gdmlkZW87XG4gICAgfSk7XG5cbiAgICB0aGlzLnVubGlzdGVuRW5kZWRGbl8gPVxuICAgICAgICBsaXN0ZW5PbmNlKHRoaXMuZWxlbWVudF8sIFZpZGVvRXZlbnRzLkVOREVELCAoKSA9PiB0aGlzLm9uQWR2YW5jZSgpLFxuICAgICAgICAgICAge2NhcHR1cmU6IHRydWV9KTtcblxuICAgIHRoaXMub25Qcm9ncmVzc1VwZGF0ZSgpO1xuXG4gICAgdGhpcy50aW1lcl8ucG9sbChQT0xMX0lOVEVSVkFMX01TLCAoKSA9PiB7XG4gICAgICB0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUoKTtcbiAgICAgIHJldHVybiAhdGhpcy5pc1J1bm5pbmcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5zdG9wKCk7XG5cbiAgICBpZiAodGhpcy51bmxpc3RlbkVuZGVkRm5fKSB7XG4gICAgICB0aGlzLnVubGlzdGVuRW5kZWRGbl8oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51bmxpc3RlblRpbWV1cGRhdGVGbl8pIHtcbiAgICAgIHRoaXMudW5saXN0ZW5UaW1ldXBkYXRlRm5fKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcm9ncmVzcygpIHtcbiAgICBpZiAodGhpcy5pc1ZpZGVvSW50ZXJmYWNlVmlkZW9fKCkpIHtcbiAgICAgIGlmICh0aGlzLnZpZGVvXyAmJiB0aGlzLnZpZGVvXy5nZXREdXJhdGlvbigpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvXy5nZXRDdXJyZW50VGltZSgpIC8gdGhpcy52aWRlb18uZ2V0RHVyYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWVkaWFFbGVtZW50XyAmJiB0aGlzLm1lZGlhRWxlbWVudF8uZHVyYXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm1lZGlhRWxlbWVudF8uY3VycmVudFRpbWUgLyB0aGlzLm1lZGlhRWxlbWVudF8uZHVyYXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmdldFByb2dyZXNzKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBpbnN0YW5jZSBvZiBNZWRpYUJhc2VkQWR2YW5jZW1lbnQgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZVxuICAgKiBhdXRvLWFkdmFuY2Ugc3RyaW5nIChmcm9tIHRoZSAnYXV0by1hZHZhbmNlLWFmdGVyJyBhdHRyaWJ1dGUgb24gdGhlIHBhZ2UpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXV0b0FkdmFuY2VTdHIgVGhlIHZhbHVlIG9mIHRoZSBhdXRvLWFkdmFuY2UtYWZ0ZXJcbiAgICogICAgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcm9vdEVsXG4gICAqIEByZXR1cm4gez9BZHZhbmNlbWVudENvbmZpZ30gQW4gQWR2YW5jZW1lbnRDb25maWcsIGlmIG1lZGlhLWVsZW1lbnQtYmFzZWRcbiAgICogICAgIGF1dG8tYWR2YW5jZSBpcyBzdXBwb3J0ZWQgZm9yIHRoZSBzcGVjaWZpZWQgYXV0by1hZHZhbmNlIHN0cmluZzsgbnVsbFxuICAgKiAgICAgb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGZyb21BdXRvQWR2YW5jZVN0cmluZyhhdXRvQWR2YW5jZVN0ciwgd2luLCByb290RWwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHJvb3RFbC5xdWVyeVNlbGVjdG9yKGAjJHtcbiAgICAgICAgZXNjYXBlQ3NzU2VsZWN0b3JJZGVudChhdXRvQWR2YW5jZVN0cilcbiAgICAgIH1gKTtcblxuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IE1lZGlhQmFzZWRBZHZhbmNlbWVudCh3aW4sIGVsZW1lbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtjaGlsZEVsZW1lbnRzQnlUYWcsIG1hdGNoZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtpc0V4cGVyaW1lbnRPbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2V4cGVyaW1lbnRzJztcbmltcG9ydCB7cHgsIHNldEltcG9ydGFudFN0eWxlcywgc2V0U3R5bGV9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5pbXBvcnQge3Rocm90dGxlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcmF0ZS1saW1pdCc7XG5pbXBvcnQge3RvQXJyYXksIHRvV2lufSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMnO1xuaW1wb3J0IHt0cnlSZXNvbHZlfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge3Vuc2NhbGVkQ2xpZW50UmVjdH0gZnJvbSAnLi91dGlscyc7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgTUlOX0xBWUVSX1dJRFRIX1BYID0gMzgwO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IE1BWF9MQVlFUl9XSURUSF9QWCA9IDQ2MDtcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBTQ0FMSU5HX0FQUExJRURfQ0xBU1NOQU1FID0gJ2ktYW1waHRtbC1zdG9yeS1zY2FsZWQnO1xuXG5cbi8qKiBAc3RydWN0IEB0eXBlZGVmIHt7ZmFjdG9yOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfX0gKi9cbmxldCBUYXJnZXREaW1lbnNpb25zRGVmO1xuXG5cbi8qKlxuICogQHN0cnVjdFxuICogQHR5cGVkZWYge3tcbiAqICAgcmVsYXRpdmVXaWR0aDogbnVtYmVyLFxuICogICByZWxhdGl2ZUhlaWdodDogbnVtYmVyLFxuICogICBtYXRyaXg6ID9BcnJheTxudW1iZXI+LFxuICogfX1cbiAqL1xubGV0IFNjYWxhYmxlRGltZW5zaW9uc0RlZjtcblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHNpemVyXG4gKiBAcmV0dXJuIHshVGFyZ2V0RGltZW5zaW9uc0RlZn1cbiAqL1xuZnVuY3Rpb24gdGFyZ2V0RGltZW5zaW9uc0ZvcihzaXplcikge1xuICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSB1bnNjYWxlZENsaWVudFJlY3Qoc2l6ZXIpO1xuXG4gIGNvbnN0IHJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG5cbiAgY29uc3QgdGFyZ2V0V2lkdGggPSBNYXRoLm1pbihNQVhfTEFZRVJfV0lEVEhfUFgsXG4gICAgICBNYXRoLm1heCh3aWR0aCwgTWF0aC5tYXgoMSwgcmF0aW8pICogTUlOX0xBWUVSX1dJRFRIX1BYKSk7XG5cbiAgY29uc3QgdGFyZ2V0SGVpZ2h0ID0gKHRhcmdldFdpZHRoIC8gcmF0aW8pO1xuXG4gIGNvbnN0IGZhY3RvciA9IHdpZHRoIC8gdGFyZ2V0V2lkdGg7XG5cbiAgcmV0dXJuIHtmYWN0b3IsIHdpZHRoOiB0YXJnZXRXaWR0aCwgaGVpZ2h0OiB0YXJnZXRIZWlnaHR9O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gKiBAcGFyYW0geyFBcnJheTxudW1iZXI+fSBtYXRyaXhcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCAqPn1cbiAqL1xuZnVuY3Rpb24gc2NhbGVUcmFuc2Zvcm0oZmFjdG9yLCB3aWR0aCwgaGVpZ2h0LCBtYXRyaXgpIHtcbiAgLy8gVE9ETyhhbGFub3JvemNvLCAjMTI5MzQpOiBUcmFuc2xhdGUgdmFsdWVzIGFyZSBub3QgY29ycmVjdGx5IGNhbGN1bGF0ZWQgaWZcbiAgLy8gYHNjYWxlYCwgYHNrZXdgIG9yIGByb3RhdGVgIGhhdmUgYmVlbiB1c2VyLWRlZmluZWQuXG4gIGNvbnN0IHRyYW5zbGF0ZVggPSAoKHdpZHRoICogZmFjdG9yKSAvIDIpIC0gKHdpZHRoIC8gMik7XG4gIGNvbnN0IHRyYW5zbGF0ZVkgPSAoKGhlaWdodCAqIGZhY3RvcikgLyAyKSAtIChoZWlnaHQgLyAyKTtcbiAgcmV0dXJuIFtcbiAgICBtYXRyaXhbMF0gKiBmYWN0b3IsXG4gICAgbWF0cml4WzFdLFxuICAgIG1hdHJpeFsyXSxcbiAgICBtYXRyaXhbM10gKiBmYWN0b3IsXG4gICAgbWF0cml4WzRdICsgdHJhbnNsYXRlWCxcbiAgICBtYXRyaXhbNV0gKyB0cmFuc2xhdGVZLFxuICBdO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFnZVxuICogQHJldHVybiB7IUFycmF5PCFFbGVtZW50Pn1cbiAqL1xuZnVuY3Rpb24gc2NhbGFibGVFbGVtZW50cyhwYWdlKSB7XG4gIHJldHVybiB0b0FycmF5KGNoaWxkRWxlbWVudHNCeVRhZyhwYWdlLCAnYW1wLXN0b3J5LWdyaWQtbGF5ZXInKSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYWdlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NjYWxpbmdFbmFibGVkKHBhZ2UpIHtcbiAgLy8gVE9ETyhhbGFub3JvemNvLCAjMTI5MDIpOiBDbGVhbiB1cCBleHBlcmltZW50IGZsYWcuXG4gIC8vIE5PVEUoYWxhbm9yb3pjbyk6IEV4cGVyaW1lbnQgZmxhZyBpcyB0ZW1wb3JhcnkuIE5vIG5lZWQgdG8gY2x1dHRlciB0aGVcbiAgLy8gc2lnbmF0dXJlcyBpbiB0aGlzIGZ1bmN0aW9uIHBhdGggYnkgYWRkaW5nIGB3aW5gIGFzIGEgcGFyYW1ldGVyLlxuICBjb25zdCB3aW4gPSB0b1dpbihwYWdlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICBpZiAoaXNFeHBlcmltZW50T24od2luLCAnYW1wLXN0b3J5LXNjYWxpbmcnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBwYWdlLmdldEF0dHJpYnV0ZSgnc2NhbGluZycpID09ICdyZWxhdGl2ZSc7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYWdlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NjYWxpbmdBcHBsaWVkKHBhZ2UpIHtcbiAgcmV0dXJuIHBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFNDQUxJTkdfQVBQTElFRF9DTEFTU05BTUUpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFnZVxuICogQHBhcmFtIHtib29sZWFufSBpc0FwcGxpZWRcbiAqL1xuZnVuY3Rpb24gbWFya1NjYWxpbmdBcHBsaWVkKHBhZ2UsIGlzQXBwbGllZCA9IHRydWUpIHtcbiAgcGFnZS5jbGFzc0xpc3QudG9nZ2xlKFNDQUxJTkdfQVBQTElFRF9DTEFTU05BTUUsIGlzQXBwbGllZCk7XG59XG5cblxuLyoqXG4gKiBSZXF1aXJlZCBmb3IgbGF6eSBldmFsdWF0aW9uIGFmdGVyIHJlc2l6ZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHdpdGhpblJhbmdlKHBhZ2UpIHtcbiAgcmV0dXJuIG1hdGNoZXMocGFnZSwgJ1thY3RpdmVdLCBbZGlzdGFuY2U9XCIxXCJdLCBbZGVza3RvcF0gPiBbZGlzdGFuY2U9XCIyXCJdJyk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNDc3Nab29tU3VwcG9ydGVkKHdpbikge1xuICAvLyBJRSBzdXBwb3J0cyBgem9vbWAsIGJ1dCBub3QgYENTUy5zdXBwb3J0c2AuXG4gIHJldHVybiBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih3aW4pLmlzSWUoKSB8fCB3aW4uQ1NTLnN1cHBvcnRzKCd6b29tJywgJzEnKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Nzc0N1c3RvbVByb3BzU3VwcG9ydGVkKHdpbikge1xuICByZXR1cm4gIVNlcnZpY2VzLnBsYXRmb3JtRm9yKHdpbikuaXNJZSgpICYmIHdpbi5DU1Muc3VwcG9ydHMoJygtLWZvbzogcmVkKScpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSB7P1BhZ2VTY2FsaW5nU2VydmljZX0gKi9cbmxldCBwYWdlU2NhbGluZ1NlcnZpY2UgPSBudWxsO1xuXG5cbi8qKlxuICogU2VydmljZSBmb3Igc2NhbGluZyBwYWdlcyBkeW5hbWljYWxseSBzbyB0aGVpciBsYXllcnMgd2lsbCBiZSBzaXplZCB3aXRoaW4gYVxuICogY2VydGFpbiBwaXhlbCByYW5nZSBpbmRlcGVuZGVudCBvZiB2aXN1YWwgZGltZW5zaW9ucy5cbiAqIFRPRE8oYWxhbm9yb3pjbyk6IE1ha2UgdGhpcyBwYXJ0IG9mIHRoZSBydW50aW1lIGxheW91dCBzeXN0ZW0gdG8gcHJldmVudFxuICogICBGT1VDLWxpa2UganVtcCBhbmQgYWxsb3cgZm9yIFNTUi5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VTY2FsaW5nU2VydmljZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290RWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgcm9vdEVsKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5yb290RWxfID0gcm9vdEVsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3Iod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qgez9FbGVtZW50fSAqL1xuICAgIC8vIEFzc3VtZXMgYWN0aXZlIHBhZ2UgdG8gYmUgZGV0ZXJtaW5hbnQgb2YgdGhlIHRhcmdldCBzaXplLlxuICAgIHRoaXMuc2l6ZXJfID0gcm9vdEVsLnF1ZXJ5U2VsZWN0b3IoJ2FtcC1zdG9yeS1wYWdlW2FjdGl2ZV0nKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1RhcmdldERpbWVuc2lvbnNEZWZ9ICovXG4gICAgdGhpcy50YXJnZXREaW1lbnNpb25zXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgeyFPYmplY3Q8c3RyaW5nLCAhQXJyYXk8IVNjYWxhYmxlRGltZW5zaW9uc0RlZj4+fSAqL1xuICAgIHRoaXMuc2NhbGFibGVFbHNEaW1lbnNpb25zXyA9IHt9O1xuXG4gICAgU2VydmljZXMudmlld3BvcnRGb3JEb2Mocm9vdEVsKS5vblJlc2l6ZShcbiAgICAgICAgdGhyb3R0bGUod2luLCAoKSA9PiB0aGlzLm9uVmlld3BvcnRSZXNpemVfKCksIDEwMCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHN0b3J5XG4gICAqIEByZXR1cm4geyFQYWdlU2NhbGluZ1NlcnZpY2V9XG4gICAqL1xuICBzdGF0aWMgZm9yKHN0b3J5KSB7XG4gICAgLy8gSW1wbGVtZW50ZWQgYXMgc2luZ2xldG9uIGZvciBub3csIHNob3VsZCBiZSBtYXBwZWQgdG8gc3RvcnkgZWxlbWVudC5cbiAgICAvLyBUT0RPKGFsYW5vcm96Y28pOiBJbXBsZW1lbnQgbWFwcGluZyB0byBzdXBwb3J0IG11bHRpcGxlIDxhbXAtc3Rvcnk+XG4gICAgLy8gaW5zdGFuY2VzIGluIG9uZSBkb2MuXG4gICAgY29uc3Qgd2luID0gdG9XaW4oc3Rvcnkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG4gICAgaWYgKCFwYWdlU2NhbGluZ1NlcnZpY2UpIHtcbiAgICAgIC8vIFRPRE8oYWxhbm9yb3pjbywgIzEzMDY0KTogRmFsbGluZyBiYWNrIHRvIHRyYW5zZm9ybSBvbiBpT1NcbiAgICAgIGlmICghaXNDc3Nab29tU3VwcG9ydGVkKHdpbikgfHwgU2VydmljZXMucGxhdGZvcm1Gb3Iod2luKS5pc0lvcygpKSB7XG4gICAgICAgIC8vIFRPRE8oYWxhbm9yb3pjbywgIzEyOTM0KTogQ29tYmluZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICB1c2VyKCkud2FybignQU1QLVNUT1JZJyxcbiAgICAgICAgICAgICdgYW1wLXN0b3J5LXNjYWxpbmdgIHVzaW5nIENTUyB0cmFuc2Zvcm1zIGFzIGZhbGxiYWNrLicsXG4gICAgICAgICAgICAnQW55IGBhbXAtc3RvcnktZ3JpZC1sYXllcmAgd2l0aCB1c2VyLWRlZmluZWQgQ1NTIHRyYW5zZm9ybXMgd2lsbCcsXG4gICAgICAgICAgICAnYnJlYWsuJyxcbiAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FtcHByb2plY3QvYW1waHRtbC9pc3N1ZXMvMTI5MzQnKTtcbiAgICAgICAgcGFnZVNjYWxpbmdTZXJ2aWNlID0gbmV3IFRyYW5zZm9ybVNjYWxpbmdTZXJ2aWNlKHdpbiwgc3RvcnkpO1xuICAgICAgfSBlbHNlIGlmIChpc0Nzc0N1c3RvbVByb3BzU3VwcG9ydGVkKHdpbikpIHtcbiAgICAgICAgcGFnZVNjYWxpbmdTZXJ2aWNlID0gbmV3IENzc1Byb3BzWm9vbVNjYWxpbmdTZXJ2aWNlKHdpbiwgc3RvcnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZVNjYWxpbmdTZXJ2aWNlID0gbmV3IFpvb21TY2FsaW5nU2VydmljZSh3aW4sIHN0b3J5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhZ2VTY2FsaW5nU2VydmljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBwYWdlXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc2NhbGUocGFnZSkge1xuICAgIHJldHVybiB0cnlSZXNvbHZlKCgpID0+IHRoaXMuc2NhbGVfKHBhZ2UpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBwYWdlXG4gICAqIEByZXR1cm4geyFQcm9taXNlfHVuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNjYWxlXyhwYWdlKSB7XG4gICAgaWYgKGlzU2NhbGluZ0FwcGxpZWQocGFnZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1NjYWxpbmdFbmFibGVkKHBhZ2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghd2l0aGluUmFuZ2UocGFnZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudnN5bmNfLnJ1blByb21pc2Uoe1xuICAgICAgbWVhc3VyZTogc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS50YXJnZXREaW1lbnNpb25zID0gdGhpcy5tZWFzdXJlVGFyZ2V0RGltZW5zaW9uc18oKTtcbiAgICAgICAgc3RhdGUuc2NhbGFibGVFbHNEaW1lbnNpb25zID0gdGhpcy5nZXRPck1lYXN1cmVTY2FsYWJsZUVsc0ZvcihwYWdlKTtcbiAgICAgIH0sXG4gICAgICBtdXRhdGU6IHN0YXRlID0+IHtcbiAgICAgICAgY29uc3Qge3RhcmdldERpbWVuc2lvbnMsIHNjYWxhYmxlRWxzRGltZW5zaW9uc30gPSBzdGF0ZTtcbiAgICAgICAgc2NhbGFibGVFbGVtZW50cyhwYWdlKS5mb3JFYWNoKChlbCwgaSkgPT4ge1xuICAgICAgICAgIC8vIGBib3JkZXItYm94YCByZXF1aXJlZCBzaW5jZSBsYXllciBub3cgaGFzIGEgd2lkdGgvaGVpZ2h0IHNldC5cbiAgICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWwsIHsnYm94LXNpemluZyc6ICdib3JkZXItYm94J30pO1xuICAgICAgICAgIHNldEltcG9ydGFudFN0eWxlcyhlbCxcbiAgICAgICAgICAgICAgdGhpcy5zY2FsaW5nU3R5bGVzKHRhcmdldERpbWVuc2lvbnMsIHNjYWxhYmxlRWxzRGltZW5zaW9uc1tpXSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWFya1NjYWxpbmdBcHBsaWVkKHBhZ2UpO1xuICAgICAgfSxcbiAgICB9LCAvKiBzdGF0ZSAqLyB7fSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVRhcmdldERpbWVuc2lvbnNEZWZ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtZWFzdXJlVGFyZ2V0RGltZW5zaW9uc18oKSB7XG4gICAgaWYgKCF0aGlzLnRhcmdldERpbWVuc2lvbnNfKSB7XG4gICAgICBjb25zdCBzaXplciA9IGRldigpLmFzc2VydEVsZW1lbnQodGhpcy5zaXplcl8sICdObyBzaXplci4nKTtcbiAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0YXJnZXREaW1lbnNpb25zRm9yKHNpemVyKTtcbiAgICAgIHRoaXMudGFyZ2V0RGltZW5zaW9uc18gPSBkaW1lbnNpb25zO1xuICAgICAgdGhpcy51cGRhdGVSb290UHJvcHMoZGltZW5zaW9ucyk7XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUgeyFUYXJnZXREaW1lbnNpb25zRGVmfSAqLyAoXG4gICAgICBkZXYoKS5hc3NlcnQodGhpcy50YXJnZXREaW1lbnNpb25zXykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAgICogQHJldHVybiB7IUFycmF5PCFTY2FsYWJsZURpbWVuc2lvbnNEZWY+fVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRPck1lYXN1cmVTY2FsYWJsZUVsc0ZvcihwYWdlKSB7XG4gICAgY29uc3QgcGFnZUlkID0gdXNlcigpLmFzc2VydChwYWdlLmlkLCAnTm8gcGFnZSBpZC4nKTtcblxuICAgIGlmICghdGhpcy5zY2FsYWJsZUVsc0RpbWVuc2lvbnNfW3BhZ2VJZF0pIHtcbiAgICAgIHRoaXMuc2NhbGFibGVFbHNEaW1lbnNpb25zX1twYWdlSWRdID0gdGhpcy5tZWFzdXJlU2NhbGFibGVFbHNGb3IocGFnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUFycmF5PCFTY2FsYWJsZURpbWVuc2lvbnNEZWY+fSAqLyAoXG4gICAgICBkZXYoKS5hc3NlcnQodGhpcy5zY2FsYWJsZUVsc0RpbWVuc2lvbnNfW3BhZ2VJZF0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZWFzdXJlcyBzY2FsYWJsZSBlbGVtZW50cyBpbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhZ2VcbiAgICogQHJldHVybiB7IUFycmF5PCFTY2FsYWJsZURpbWVuc2lvbnNEZWY+fVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBtZWFzdXJlU2NhbGFibGVFbHNGb3IocGFnZSkge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHVuc2NhbGVkQ2xpZW50UmVjdChwYWdlKTtcbiAgICBjb25zdCBwYWdlV2lkdGggPSB3aWR0aDtcbiAgICBjb25zdCBwYWdlSGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHJldHVybiBzY2FsYWJsZUVsZW1lbnRzKHBhZ2UpLm1hcChlbCA9PiB7XG4gICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSB1bnNjYWxlZENsaWVudFJlY3QoZWwpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0cml4OiB0aGlzLmdldFRyYW5zZm9ybU1hdHJpeChlbCksXG4gICAgICAgIHJlbGF0aXZlV2lkdGg6IHdpZHRoIC8gcGFnZVdpZHRoLFxuICAgICAgICByZWxhdGl2ZUhlaWdodDogaGVpZ2h0IC8gcGFnZUhlaWdodCxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25WaWV3cG9ydFJlc2l6ZV8oKSB7XG4gICAgdGhpcy50YXJnZXREaW1lbnNpb25zXyA9IG51bGw7XG4gICAgdGhpcy52c3luY18ubWVhc3VyZSgoKSA9PiB7XG4gICAgICB0aGlzLm1lYXN1cmVUYXJnZXREaW1lbnNpb25zXygpO1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlUGFnZXNPblJlc2l6ZSgpO1xuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgc2NhbGVBbGwoKSB7XG4gICAgY29uc3QgcGFnZXMgPSB0b0FycmF5KGNoaWxkRWxlbWVudHNCeVRhZyh0aGlzLnJvb3RFbF8sICdhbXAtc3RvcnktcGFnZScpKTtcbiAgICBwYWdlcy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgbWFya1NjYWxpbmdBcHBsaWVkKHBhZ2UsIGZhbHNlKTtcbiAgICAgIHRoaXMuc2NhbGVfKHBhZ2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgcHJvcGVydGllcyBvbiByb290IGVsZW1lbnQgd2hlbiB0YXJnZXQgZGltZW5zaW9ucyBoYXZlIGJlZW5cbiAgICogcmUtbWVhc3VyZWQuXG4gICAqIEBwYXJhbSB7IVRhcmdldERpbWVuc2lvbnNEZWZ9IHVudXNlZFRhcmdldERpbWVuc2lvbnNcbiAgICovXG4gIHVwZGF0ZVJvb3RQcm9wcyh1bnVzZWRUYXJnZXREaW1lbnNpb25zKSB7XG4gICAgLy8gSW50ZW50aW9uYWxseSBsZWZ0IGJsYW5rLlxuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgdXBkYXRlUGFnZXNPblJlc2l6ZSgpIHtcbiAgICAvLyBJbnRlbnRpb25hbGx5IGxlZnQgYmxhbmsuXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBlbGVtZW50J3MgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gdW51c2VkRWxcbiAgICogQHJldHVybiB7P0FycmF5PG51bWJlcj59XG4gICAqL1xuICBnZXRUcmFuc2Zvcm1NYXRyaXgodW51c2VkRWwpIHtcbiAgICAvLyBDYWxjdWxhdGluZyBhIHRyYW5zZm9ybSBtYXRyaXggaXMgb3B0aW9uYWwgZGVwZW5kaW5nIG9uIHNjYWxpbmdcbiAgICAvLyBpbXBsZW1lbnRhdGlvbi5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFUYXJnZXREaW1lbnNpb25zRGVmfSB1bnVzZWRUYXJnZXREaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7IVNjYWxhYmxlRGltZW5zaW9uc0RlZn0gdW51c2VkU2NhbGFibGVFbERpbWVuc2lvbnNcbiAgICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsICo+fVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzY2FsaW5nU3R5bGVzKHVudXNlZFRhcmdldERpbWVuc2lvbnMsIHVudXNlZFNjYWxhYmxlRWxEaW1lbnNpb25zKSB7XG4gICAgZGV2KCkuYXNzZXJ0KGZhbHNlLCAnRW1wdHkgUGFnZVNjYWxpbmdTZXJ2aWNlIGltcGxlbWVudGF0aW9uLicpO1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuXG5cbi8qKiBVc2VzIENTUyB6b29tIGFzIHNjYWxpbmcgbWV0aG9kLiAqL1xuY2xhc3MgWm9vbVNjYWxpbmdTZXJ2aWNlIGV4dGVuZHMgUGFnZVNjYWxpbmdTZXJ2aWNlIHtcbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgdXBkYXRlUGFnZXNPblJlc2l6ZSgpIHtcbiAgICB0aGlzLnNjYWxlQWxsKCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNjYWxpbmdTdHlsZXModGFyZ2V0RGltZW5zaW9ucywgZWxlbWVudERpbWVuc2lvbnMpIHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgZmFjdG9yfSA9IHRhcmdldERpbWVuc2lvbnM7XG4gICAgY29uc3Qge3JlbGF0aXZlV2lkdGgsIHJlbGF0aXZlSGVpZ2h0fSA9IGVsZW1lbnREaW1lbnNpb25zO1xuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiBweCh3aWR0aCAqIHJlbGF0aXZlV2lkdGgpLFxuICAgICAgJ2hlaWdodCc6IHB4KGhlaWdodCAqIHJlbGF0aXZlSGVpZ2h0KSxcbiAgICAgICd6b29tJzogZmFjdG9yLFxuICAgIH07XG4gIH1cbn1cblxuXG4vKiogVXNlcyBjb21iaW5lZCBDU1MgdHJhbnNmb3JtIGFzIHNjYWxpbmcgbWV0aG9kLiAqL1xuY2xhc3MgVHJhbnNmb3JtU2NhbGluZ1NlcnZpY2UgZXh0ZW5kcyBQYWdlU2NhbGluZ1NlcnZpY2Uge1xuICAvKiogQHByb3RlY3RlZCAqL1xuICB1cGRhdGVQYWdlc09uUmVzaXplKCkge1xuICAgIHRoaXMuc2NhbGVBbGwoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0VHJhbnNmb3JtTWF0cml4KHVudXNlZEVsKSB7XG4gICAgLy8gVE9ETyhhbGFub3JvemNvLCAjMTI5MzQpOiBJbXBsZW1lbnQuXG4gICAgcmV0dXJuIFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2NhbGluZ1N0eWxlcyh0YXJnZXREaW1lbnNpb25zLCBlbGVtZW50RGltZW5zaW9ucykge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCBmYWN0b3J9ID0gdGFyZ2V0RGltZW5zaW9ucztcbiAgICBjb25zdCB7cmVsYXRpdmVXaWR0aCwgcmVsYXRpdmVIZWlnaHQsIG1hdHJpeH0gPSBlbGVtZW50RGltZW5zaW9ucztcbiAgICBjb25zdCBpbml0aWFsTWF0cml4ID0gLyoqIEB0eXBlIHshQXJyYXk8bnVtYmVyPn0gKi8gKGRldigpLmFzc2VydChtYXRyaXgpKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZE1hdHJpeCA9XG4gICAgICBzY2FsZVRyYW5zZm9ybShmYWN0b3IsIHdpZHRoLCBoZWlnaHQsIGluaXRpYWxNYXRyaXgpO1xuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiBweCh3aWR0aCAqIHJlbGF0aXZlV2lkdGgpLFxuICAgICAgJ2hlaWdodCc6IHB4KGhlaWdodCAqIHJlbGF0aXZlSGVpZ2h0KSxcbiAgICAgICd0cmFuc2Zvcm0nOiBgbWF0cml4KCR7dHJhbnNmb3JtZWRNYXRyaXguam9pbigpfSlgLFxuICAgIH07XG4gIH1cbn1cblxuXG4vKiogVXNlcyBDU1Mgem9vbSBhbmQgY3VzdG9tIENTUyBwcm9wZXJ0aWVzIGFzIHNjYWxpbmcgbWV0aG9kLiAqL1xuY2xhc3MgQ3NzUHJvcHNab29tU2NhbGluZ1NlcnZpY2UgZXh0ZW5kcyBQYWdlU2NhbGluZ1NlcnZpY2Uge1xuICAvKiogQG92ZXJyaWRlICovXG4gIGdldE9yTWVhc3VyZVNjYWxhYmxlRWxzRm9yKHBhZ2UpIHtcbiAgICAvLyBDaXJjdW12ZW50cyBlbGVtZW50IGRpbWVuc2lvbnMgY2FjaGUgYXMgbGF5ZXJzIGFyZSBvbmx5IG11dGF0ZWQgb25jZS5cbiAgICByZXR1cm4gdGhpcy5tZWFzdXJlU2NhbGFibGVFbHNGb3IocGFnZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHVwZGF0ZVJvb3RQcm9wcygpIHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgZmFjdG9yfSA9IHRoaXMudGFyZ2V0RGltZW5zaW9uc187XG4gICAgdGhpcy52c3luY18ubXV0YXRlKCgpID0+IHtcbiAgICAgIHNldFN0eWxlKHRoaXMucm9vdEVsXywgJy0taS1hbXBodG1sLXN0b3J5LXdpZHRoJywgcHgod2lkdGgpKTtcbiAgICAgIHNldFN0eWxlKHRoaXMucm9vdEVsXywgJy0taS1hbXBodG1sLXN0b3J5LWhlaWdodCcsIHB4KGhlaWdodCkpO1xuICAgICAgc2V0U3R5bGUodGhpcy5yb290RWxfLCAnLS1pLWFtcGh0bWwtc3RvcnktZmFjdG9yJywgZmFjdG9yLnRvU3RyaW5nKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzY2FsaW5nU3R5bGVzKHVudXNlZFRhcmdldERpbWVuc2lvbnMsIGVsZW1lbnREaW1lbnNpb25zKSB7XG4gICAgY29uc3Qge3JlbGF0aXZlV2lkdGgsIHJlbGF0aXZlSGVpZ2h0fSA9IGVsZW1lbnREaW1lbnNpb25zO1xuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiBgY2FsYyh2YXIoLS1pLWFtcGh0bWwtc3Rvcnktd2lkdGgpICogJHtyZWxhdGl2ZVdpZHRofSlgLFxuICAgICAgJ2hlaWdodCc6IGBjYWxjKHZhcigtLWktYW1waHRtbC1zdG9yeS1oZWlnaHQpICogJHtyZWxhdGl2ZUhlaWdodH0pYCxcbiAgICAgICd6b29tJzogJ3ZhcigtLWktYW1waHRtbC1zdG9yeS1mYWN0b3IpJyxcbiAgICB9O1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7QWN0aW9uLCBnZXRTdG9yZVNlcnZpY2V9IGZyb20gJy4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UnO1xuaW1wb3J0IHtFdmVudFR5cGUsIGRpc3BhdGNofSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQge1N0YXRlQ2hhbmdlVHlwZX0gZnJvbSAnLi9uYXZpZ2F0aW9uLXN0YXRlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZGljdH0gZnJvbSAnLi8uLi8uLi8uLi9zcmMvdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7cmVuZGVyQXNFbGVtZW50fSBmcm9tICcuL3NpbXBsZS10ZW1wbGF0ZSc7XG5cblxuLyoqIEBzdHJ1Y3QgQHR5cGVkZWYge3tjbGFzc05hbWU6IHN0cmluZywgdHJpZ2dlcnM6IChzdHJpbmd8dW5kZWZpbmVkKX19ICovXG5sZXQgQnV0dG9uU3RhdGVEZWY7XG5cblxuLyoqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFCdXR0b25TdGF0ZURlZj59ICovXG5jb25zdCBCYWNrQnV0dG9uU3RhdGVzID0ge1xuICBDTE9TRV9CT09LRU5EOiB7XG4gICAgY2xhc3NOYW1lOiAnaS1hbXBodG1sLXN0b3J5LWJhY2stY2xvc2UtYm9va2VuZCcsXG4gICAgYWN0aW9uOiBBY3Rpb24uVE9HR0xFX0JPT0tFTkQsXG4gICAgZGF0YTogZmFsc2UsXG4gIH0sXG4gIEhJRERFTjoge2NsYXNzTmFtZTogJ2ktYW1waHRtbC1zdG9yeS1idXR0b24taGlkZGVuJ30sXG4gIFBSRVZJT1VTX1BBR0U6IHtcbiAgICBjbGFzc05hbWU6ICdpLWFtcGh0bWwtc3RvcnktYmFjay1wcmV2JyxcbiAgICB0cmlnZ2VyczogRXZlbnRUeXBlLlBSRVZJT1VTX1BBR0UsXG4gIH0sXG59O1xuXG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhQnV0dG9uU3RhdGVEZWY+fSAqL1xuY29uc3QgRm9yd2FyZEJ1dHRvblN0YXRlcyA9IHtcbiAgTkVYVF9QQUdFOiB7XG4gICAgY2xhc3NOYW1lOiAnaS1hbXBodG1sLXN0b3J5LWZ3ZC1uZXh0JyxcbiAgICB0cmlnZ2VyczogRXZlbnRUeXBlLk5FWFRfUEFHRSxcbiAgfSxcbiAgUkVQTEFZOiB7XG4gICAgY2xhc3NOYW1lOiAnaS1hbXBodG1sLXN0b3J5LWZ3ZC1yZXBsYXknLFxuICAgIHRyaWdnZXJzOiBFdmVudFR5cGUuUkVQTEFZLFxuICB9LFxuICBTSE9XX0JPT0tFTkQ6IHtcbiAgICBjbGFzc05hbWU6ICdpLWFtcGh0bWwtc3RvcnktZndkLW1vcmUnLFxuICAgIGFjdGlvbjogQWN0aW9uLlRPR0dMRV9CT09LRU5ELFxuICAgIGRhdGE6IHRydWUsXG4gIH0sXG59O1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NpbXBsZS10ZW1wbGF0ZS5FbGVtZW50RGVmfSAqL1xuY29uc3QgQlVUVE9OID0ge1xuICB0YWc6ICdkaXYnLFxuICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1idXR0b24tY29udGFpbmVyJ30pLFxuICBjaGlsZHJlbjogW1xuICAgIHtcbiAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1idXR0b24tbW92ZSd9KSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczogZGljdCh7J2NsYXNzJzogJ2ktYW1waHRtbC1zdG9yeS1wYWdlLXNlbnRpbmVsJ30pLFxuICAgIH0sXG4gIF0sXG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gaG92ZXJFbFxuICogQHBhcmFtIHshRWxlbWVudH0gdGFyZ2V0RWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAqL1xuZnVuY3Rpb24gc2V0Q2xhc3NPbkhvdmVyKGhvdmVyRWwsIHRhcmdldEVsLCBjbGFzc05hbWUpIHtcbiAgaG92ZXJFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgIHRhcmdldEVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgfSk7XG4gIGhvdmVyRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICB0YXJnZXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogRGVza3RvcCBuYXZpZ2F0aW9uIGJ1dHRvbnMuXG4gKi9cbmNsYXNzIFBhZ2luYXRpb25CdXR0b24ge1xuICAvKipcbiAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICAgKiBAcGFyYW0geyFCdXR0b25TdGF0ZURlZn0gaW5pdGlhbFN0YXRlXG4gICAqIEBwYXJhbSB7IS4vYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9IHN0b3JlU2VydmljZVxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jLCBpbml0aWFsU3RhdGUsIHN0b3JlU2VydmljZSwgd2luKSB7XG4gICAgLyoqIEBwcml2YXRlIHshQnV0dG9uU3RhdGVEZWZ9ICovXG4gICAgdGhpcy5zdGF0ZV8gPSBpbml0aWFsU3RhdGU7XG5cbiAgICAvKiogQHB1YmxpYyBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudCA9IHJlbmRlckFzRWxlbWVudChkb2MsIEJVVFRPTik7XG5cbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbml0aWFsU3RhdGUuY2xhc3NOYW1lKTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gdGhpcy5vbkNsaWNrXyhlKSk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXAtc3Rvcnktc3RvcmUtc2VydmljZS5BbXBTdG9yeVN0b3JlU2VydmljZX0gKi9cbiAgICB0aGlzLnN0b3JlU2VydmljZV8gPSBzdG9yZVNlcnZpY2U7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcbiAgfVxuXG4gIC8qKiBAcGFyYW0geyFCdXR0b25TdGF0ZURlZn0gc3RhdGUgKi9cbiAgdXBkYXRlU3RhdGUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHRoaXMuc3RhdGVfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc3RhdGVfLmNsYXNzTmFtZSk7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoc3RhdGUuY2xhc3NOYW1lKTtcbiAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNsaWNrXyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLnN0YXRlXy50cmlnZ2Vycykge1xuICAgICAgZGlzcGF0Y2godGhpcy53aW5fLCB0aGlzLmVsZW1lbnQsIGRldigpLmFzc2VydCh0aGlzLnN0YXRlXy50cmlnZ2VycyksXG4gICAgICAgICAgLyogcGF5bG9hZCAqLyB1bmRlZmluZWQsIHtidWJibGVzOiB0cnVlfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlXy5hY3Rpb24pIHtcbiAgICAgIHRoaXMuc3RvcmVTZXJ2aWNlXy5kaXNwYXRjaCh0aGlzLnN0YXRlXy5hY3Rpb24sIHRoaXMuc3RhdGVfLmRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qKiBQYWdpbmF0aW9uIGJ1dHRvbnMgbGF5ZXIuICovXG5leHBvcnQgY2xhc3MgUGFnaW5hdGlvbkJ1dHRvbnMge1xuICAvKiogQHBhcmFtIHshV2luZG93fSB3aW4gKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50O1xuICAgIGNvbnN0IHN0b3JlU2VydmljZSA9IGdldFN0b3JlU2VydmljZSh3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVBhZ2luYXRpb25CdXR0b259ICovXG4gICAgdGhpcy5mb3J3YXJkQnV0dG9uXyA9XG4gICAgICAgIG5ldyBQYWdpbmF0aW9uQnV0dG9uKGRvYywgRm9yd2FyZEJ1dHRvblN0YXRlcy5ORVhUX1BBR0UsIHN0b3JlU2VydmljZSxcbiAgICAgICAgICAgIHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUGFnaW5hdGlvbkJ1dHRvbn0gKi9cbiAgICB0aGlzLmJhY2tCdXR0b25fID1cbiAgICAgICAgbmV3IFBhZ2luYXRpb25CdXR0b24oZG9jLCBCYWNrQnV0dG9uU3RhdGVzLkhJRERFTiwgc3RvcmVTZXJ2aWNlLCB3aW4pO1xuXG4gICAgdGhpcy5mb3J3YXJkQnV0dG9uXy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ25leHQtY29udGFpbmVyJyk7XG4gICAgdGhpcy5iYWNrQnV0dG9uXy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3ByZXYtY29udGFpbmVyJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7IVBhZ2luYXRpb25CdXR0b25zfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4pIHtcbiAgICByZXR1cm4gbmV3IFBhZ2luYXRpb25CdXR0b25zKHdpbik7XG4gIH1cblxuICAvKiogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCAqL1xuICBhdHRhY2goZWxlbWVudCkge1xuICAgIHNldENsYXNzT25Ib3ZlcihcbiAgICAgICAgdGhpcy5mb3J3YXJkQnV0dG9uXy5lbGVtZW50LCBlbGVtZW50LCAnaS1hbXBodG1sLXN0b3J5LW5leHQtaG92ZXInKTtcblxuICAgIHNldENsYXNzT25Ib3ZlcihcbiAgICAgICAgdGhpcy5iYWNrQnV0dG9uXy5lbGVtZW50LCBlbGVtZW50LCAnaS1hbXBodG1sLXN0b3J5LXByZXYtaG92ZXInKTtcblxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5mb3J3YXJkQnV0dG9uXy5lbGVtZW50KTtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuYmFja0J1dHRvbl8uZWxlbWVudCk7XG4gIH1cblxuICAvKiogQHBhcmFtIHshLi9uYXZpZ2F0aW9uLXN0YXRlLlN0YXRlQ2hhbmdlRXZlbnREZWZ9IGV2ZW50ICovXG4gIG9uTmF2aWdhdGlvblN0YXRlQ2hhbmdlKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlIFN0YXRlQ2hhbmdlVHlwZS5BQ1RJVkVfUEFHRTpcbiAgICAgICAgY29uc3Qge3BhZ2VJbmRleCwgdG90YWxQYWdlc30gPSBldmVudC52YWx1ZTtcblxuICAgICAgICB0aGlzLmJhY2tCdXR0b25fLnVwZGF0ZVN0YXRlKFxuICAgICAgICAgICAgcGFnZUluZGV4ID09PSAwID9cbiAgICAgICAgICAgICAgQmFja0J1dHRvblN0YXRlcy5ISURERU4gOlxuICAgICAgICAgICAgICBCYWNrQnV0dG9uU3RhdGVzLlBSRVZJT1VTX1BBR0UpO1xuXG4gICAgICAgIHRoaXMuZm9yd2FyZEJ1dHRvbl8udXBkYXRlU3RhdGUoXG4gICAgICAgICAgICBwYWdlSW5kZXggPT09IHRvdGFsUGFnZXMgLSAxID9cbiAgICAgICAgICAgICAgRm9yd2FyZEJ1dHRvblN0YXRlcy5TSE9XX0JPT0tFTkQgOlxuICAgICAgICAgICAgICBGb3J3YXJkQnV0dG9uU3RhdGVzLk5FWFRfUEFHRSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFN0YXRlQ2hhbmdlVHlwZS5CT09LRU5EX0VOVEVSOlxuICAgICAgICB0aGlzLmJhY2tCdXR0b25fLnVwZGF0ZVN0YXRlKEJhY2tCdXR0b25TdGF0ZXMuQ0xPU0VfQk9PS0VORCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFN0YXRlQ2hhbmdlVHlwZS5CT09LRU5EX0VYSVQ6XG4gICAgICAgIHRoaXMuYmFja0J1dHRvbl8udXBkYXRlU3RhdGUoQmFja0J1dHRvblN0YXRlcy5QUkVWSU9VU19QQUdFKTtcbiAgICAgICAgdGhpcy5mb3J3YXJkQnV0dG9uXy51cGRhdGVTdGF0ZShGb3J3YXJkQnV0dG9uU3RhdGVzLlNIT1dfQk9PS0VORCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFN0YXRlQ2hhbmdlVHlwZS5FTkQ6XG4gICAgICAgIHRoaXMuZm9yd2FyZEJ1dHRvbl8udXBkYXRlU3RhdGUoRm9yd2FyZEJ1dHRvblN0YXRlcy5SRVBMQVkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtQT0xMX0lOVEVSVkFMX01TfSBmcm9tICcuL3BhZ2UtYWR2YW5jZW1lbnQnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcbmltcG9ydCB7ZXNjYXBlQ3NzU2VsZWN0b3JOdGgsIHNjb3BlZFF1ZXJ5U2VsZWN0b3J9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtoYXNPd24sIG1hcH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3NjYWxlLCBzZXRJbXBvcnRhbnRTdHlsZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9zdHlsZSc7XG5cblxuLyoqXG4gKiBUcmFuc2l0aW9uIHVzZWQgdG8gc2hvdyB0aGUgcHJvZ3Jlc3Mgb2YgYSBtZWRpYS4gSGFzIHRvIGJlIGxpbmVhciBzbyB0aGVcbiAqIGFuaW1hdGlvbiBpcyBzbW9vdGggYW5kIGNvbnN0YW50LlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IFRSQU5TSVRJT05fTElORUFSID0gYHRyYW5zZm9ybSAke1BPTExfSU5URVJWQUxfTVN9bXMgbGluZWFyYDtcblxuLyoqXG4gKiBUcmFuc2l0aW9uIHVzZWQgdG8gZnVsbHkgZmlsbCBvciB1bmZpbGwgYSBwcm9ncmVzcyBiYXIgaXRlbS5cbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBUUkFOU0lUSU9OX0VBU0UgPSAndHJhbnNmb3JtIDIwMG1zIGVhc2UnO1xuXG5cbi8qKlxuICogUHJvZ3Jlc3MgYmFyIGZvciA8YW1wLXN0b3J5Pi5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb2dyZXNzQmFyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzQnVpbHRfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMucm9vdF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zZWdtZW50Q291bnRfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuYWN0aXZlU2VnbWVudEluZGV4XyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmFjdGl2ZVNlZ21lbnRQcm9ncmVzc18gPSAxO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gKi9cbiAgICB0aGlzLnNlZ21lbnRJZE1hcF8gPSBtYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSh3aW4pIHtcbiAgICByZXR1cm4gbmV3IFByb2dyZXNzQmFyKHdpbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gc2VnbWVudElkcyBUaGUgaWQgb2YgZWFjaCBzZWdtZW50IGluIHRoZSBzdG9yeS5cbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBidWlsZChzZWdtZW50SWRzKSB7XG4gICAgaWYgKHRoaXMuaXNCdWlsdF8pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFJvb3QoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWdtZW50Q291bnQgPSBzZWdtZW50SWRzLmxlbmd0aDtcbiAgICBkZXYoKS5hc3NlcnQoc2VnbWVudENvdW50ID4gMCk7XG5cbiAgICB0aGlzLmlzQnVpbHRfID0gdHJ1ZTtcbiAgICB0aGlzLnNlZ21lbnRDb3VudF8gPSBzZWdtZW50Q291bnQ7XG5cbiAgICBzZWdtZW50SWRzLmZvckVhY2goKGlkLCBpKSA9PiB0aGlzLnNlZ21lbnRJZE1hcF9baWRdID0gaSk7XG5cbiAgICB0aGlzLnJvb3RfID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJyk7XG4gICAgdGhpcy5yb290Xy5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktcHJvZ3Jlc3MtYmFyJyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VnbWVudENvdW50XzsgaSsrKSB7XG4gICAgICBjb25zdCBzZWdtZW50UHJvZ3Jlc3NCYXIgPSB0aGlzLndpbl8uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIHNlZ21lbnRQcm9ncmVzc0Jhci5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtc3RvcnktcGFnZS1wcm9ncmVzcy1iYXInKTtcbiAgICAgIGNvbnN0IHNlZ21lbnRQcm9ncmVzc1ZhbHVlID0gdGhpcy53aW5fLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2VnbWVudFByb2dyZXNzVmFsdWUuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtdmFsdWUnKTtcbiAgICAgIHNlZ21lbnRQcm9ncmVzc0Jhci5hcHBlbmRDaGlsZChzZWdtZW50UHJvZ3Jlc3NWYWx1ZSk7XG4gICAgICB0aGlzLnJvb3RfLmFwcGVuZENoaWxkKHNlZ21lbnRQcm9ncmVzc0Jhcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0Um9vdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgZ2V0Um9vdCgpIHtcbiAgICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLnJvb3RfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VnbWVudElkIFRoZSBpbmRleCB0byBhc3NlcnQgdmFsaWRpdHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzc2VydFZhaWxkU2VnbWVudElkXyhzZWdtZW50SWQpIHtcbiAgICBkZXYoKS5hc3NlcnQoaGFzT3duKHRoaXMuc2VnbWVudElkTWFwXywgc2VnbWVudElkKSxcbiAgICAgICAgJ0ludmFsaWQgc2VnbWVudC1pZCBwYXNzZWQgdG8gcHJvZ3Jlc3MtYmFyJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWdtZW50SWQgdGhlIGlkIG9mIHRoZSBzZWdtZW50IHdob3MgcHJvZ3Jlc3MgdG8gY2hhbmdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcm9ncmVzcyBBIG51bWJlciBmcm9tIDAuMCB0byAxLjAsIHJlcHJlc2VudGluZyB0aGVcbiAgICogICAgIHByb2dyZXNzIG9mIHRoZSBjdXJyZW50IHNlZ21lbnQuXG4gICAqL1xuICB1cGRhdGVQcm9ncmVzcyhzZWdtZW50SWQsIHByb2dyZXNzKSB7XG4gICAgdGhpcy5hc3NlcnRWYWlsZFNlZ21lbnRJZF8oc2VnbWVudElkKTtcbiAgICBjb25zdCBzZWdtZW50SW5kZXggPSB0aGlzLnNlZ21lbnRJZE1hcF9bc2VnbWVudElkXTtcblxuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCeUluZGV4XyhzZWdtZW50SW5kZXgsIHByb2dyZXNzKTtcblxuICAgIC8vIElmIHVwZGF0aW5nIHByb2dyZXNzIGZvciBhIG5ldyBzZWdtZW50LCB1cGRhdGUgYWxsIHRoZSBvdGhlciBwcm9ncmVzc1xuICAgIC8vIGJhciBzZWdtZW50cy5cbiAgICBpZiAodGhpcy5hY3RpdmVTZWdtZW50SW5kZXhfICE9PSBzZWdtZW50SW5kZXgpIHtcbiAgICAgIHRoaXMudXBkYXRlU2VnbWVudHNfKFxuICAgICAgICAgIHNlZ21lbnRJbmRleCxcbiAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNlZ21lbnRJbmRleF8sXG4gICAgICAgICAgdGhpcy5hY3RpdmVTZWdtZW50UHJvZ3Jlc3NfKTtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVNlZ21lbnRQcm9ncmVzc18gPSBwcm9ncmVzcztcbiAgICB0aGlzLmFjdGl2ZVNlZ21lbnRJbmRleF8gPSBzZWdtZW50SW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgdGhlIHByb2dyZXNzIGJhciBzZWdtZW50cywgYW5kIGRlY2lkZXMgd2hldGhlciB0aGUgdXBkYXRlIGhhc1xuICAgKiB0byBiZSBhbmltYXRlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFjdGl2ZVNlZ21lbnRJbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gYWN0aXZlU2VnbWVudFByb2dyZXNzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcmV2U2VnbWVudEluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcmV2U2VnbWVudFByb2dyZXNzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVTZWdtZW50c18oXG4gICAgYWN0aXZlU2VnbWVudEluZGV4LFxuICAgIGFjdGl2ZVNlZ21lbnRQcm9ncmVzcyxcbiAgICBwcmV2U2VnbWVudEluZGV4LFxuICAgIHByZXZTZWdtZW50UHJvZ3Jlc3MpIHtcbiAgICBsZXQgc2hvdWxkQW5pbWF0ZVByZXZpb3VzU2VnbWVudCA9IGZhbHNlO1xuXG4gICAgLy8gQW5pbWF0aW5nIHRoZSB0cmFuc2l0aW9uIGZyb20gb25lIGZ1bGwgc2VnbWVudCB0byBhbm90aGVyLCB3aGljaCBpcyB0aGVcbiAgICAvLyBtb3N0IGNvbW1vbiBjYXNlLlxuICAgIGlmIChwcmV2U2VnbWVudFByb2dyZXNzID09PSAxICYmIGFjdGl2ZVNlZ21lbnRQcm9ncmVzcyA9PT0gMSkge1xuICAgICAgc2hvdWxkQW5pbWF0ZVByZXZpb3VzU2VnbWVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBuYXZpZ2F0aW5nIGZvcndhcmQsIGFuaW1hdGUgdGhlIHByZXZpb3VzIHNlZ21lbnQgb25seSBpZiB0aGVcbiAgICAvLyBmb2xsb3dpbmcgb25lIGRvZXMgbm90IGdldCBmdWxseSBmaWxsZWQuXG4gICAgaWYgKGFjdGl2ZVNlZ21lbnRJbmRleCA+IHByZXZTZWdtZW50SW5kZXggJiYgYWN0aXZlU2VnbWVudFByb2dyZXNzICE9PSAxKSB7XG4gICAgICBzaG91bGRBbmltYXRlUHJldmlvdXNTZWdtZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIG5hdmlnYXRpbmcgYmFja3dhcmQsIGFuaW1hdGUgdGhlIHByZXZpb3VzIHNlZ21lbnQgb25seSBpZiB0aGVcbiAgICAvLyBmb2xsb3dpbmcgb25lIGdldHMgZnVsbHkgZmlsbGVkLlxuICAgIGlmIChwcmV2U2VnbWVudEluZGV4ID4gYWN0aXZlU2VnbWVudEluZGV4ICYmIGFjdGl2ZVNlZ21lbnRQcm9ncmVzcyA9PT0gMSkge1xuICAgICAgc2hvdWxkQW5pbWF0ZVByZXZpb3VzU2VnbWVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlZ21lbnRDb3VudF87IGkrKykge1xuICAgICAgLy8gQWN0aXZlIHNlZ21lbnQgYWxyZWFkeSBnZXRzIHVwZGF0ZWQgdGhyb3VnaCB1cGRhdGUgcHJvZ3Jlc3MgZXZlbnRzXG4gICAgICAvLyBkaXNwYXRjaGVkIGJ5IGl0cyBhbXAtc3RvcnktcGFnZS5cbiAgICAgIGlmIChpID09PSBhY3RpdmVTZWdtZW50SW5kZXgpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByb2dyZXNzID0gaSA8IGFjdGl2ZVNlZ21lbnRJbmRleCA/IDEgOiAwO1xuXG4gICAgICAvLyBPbmx5IGFuaW1hdGUgdGhlIHNlZ21lbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcHJldmlvdXMgcGFnZSwgaWYgbmVlZGVkLlxuICAgICAgY29uc3Qgd2l0aFRyYW5zaXRpb24gPVxuICAgICAgICAgIHNob3VsZEFuaW1hdGVQcmV2aW91c1NlZ21lbnQgPyAoaSA9PT0gcHJldlNlZ21lbnRJbmRleCkgOiBmYWxzZTtcblxuICAgICAgdGhpcy51cGRhdGVQcm9ncmVzc0J5SW5kZXhfKGksIHByb2dyZXNzLCB3aXRoVHJhbnNpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGluZGV4IG9mIHRoZSBwcm9ncmVzcyBiYXIgc2VnbWVudCB3aG9zZSBwcm9ncmVzcyBzaG91bGQgYmVcbiAgICogICAgIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcm9ncmVzcyBBIG51bWJlciBmcm9tIDAuMCB0byAxLjAsIHJlcHJlc2VudGluZyB0aGVcbiAgICogICAgIHByb2dyZXNzIG9mIHRoZSBjdXJyZW50IHNlZ21lbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdpdGhUcmFuc2l0aW9uXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHVwZGF0ZVByb2dyZXNzQnlJbmRleF8oc2VnbWVudEluZGV4LCBwcm9ncmVzcywgd2l0aFRyYW5zaXRpb24gPSB0cnVlKSB7XG4gICAgLy8gT2Zmc2V0IHRoZSBpbmRleCBieSAxLCBzaW5jZSBudGgtY2hpbGQgaW5kaWNlcyBzdGFydCBhdCAxIHdoaWxlXG4gICAgLy8gSmF2YVNjcmlwdCBpbmRpY2VzIHN0YXJ0IGF0IDAuXG4gICAgY29uc3QgbnRoQ2hpbGRJbmRleCA9IHNlZ21lbnRJbmRleCArIDE7XG4gICAgY29uc3QgcHJvZ3Jlc3NFbCA9IHNjb3BlZFF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRSb290KCksXG4gICAgICAgIGAuaS1hbXBodG1sLXN0b3J5LXBhZ2UtcHJvZ3Jlc3MtYmFyOm50aC1jaGlsZCgke1xuICAgICAgICAgIGVzY2FwZUNzc1NlbGVjdG9yTnRoKG50aENoaWxkSW5kZXgpXG4gICAgICAgIH0pIC5pLWFtcGh0bWwtc3RvcnktcGFnZS1wcm9ncmVzcy12YWx1ZWApO1xuICAgIHRoaXMudnN5bmNfLm11dGF0ZSgoKSA9PiB7XG4gICAgICBsZXQgdHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgIGlmICh3aXRoVHJhbnNpdGlvbikge1xuICAgICAgICAvLyBVc2luZyBhbiBlYXNlZCB0cmFuc2l0aW9uIG9ubHkgaWYgZmlsbGluZyB0aGUgYmFyIHRvIDAgb3IgMS5cbiAgICAgICAgdHJhbnNpdGlvbiA9XG4gICAgICAgICAgICAocHJvZ3Jlc3MgPT09IDEgfHwgcHJvZ3Jlc3MgPT09IDApID9cbiAgICAgICAgICAgICAgVFJBTlNJVElPTl9FQVNFIDogVFJBTlNJVElPTl9MSU5FQVI7XG4gICAgICB9XG4gICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZGV2KCkuYXNzZXJ0RWxlbWVudChwcm9ncmVzc0VsKSwge1xuICAgICAgICAndHJhbnNmb3JtJzogc2NhbGUoYCR7cHJvZ3Jlc3N9LDFgKSxcbiAgICAgICAgJ3RyYW5zaXRpb24nOiB0cmFuc2l0aW9uLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtMb2NhbGl6ZWRTdHJpbmdJZH0gZnJvbSAnLi9sb2NhbGl6YXRpb24nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMnO1xuaW1wb3J0IHtjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4uLy4uLy4uL3NyYy9sb2cnO1xuaW1wb3J0IHtoYXNPd259IGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtpc0FycmF5LCB0b1dpbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3R5cGVzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRhZzogc3RyaW5nLFxuICogICBhdHRyczogKCFKc29uT2JqZWN0fHVuZGVmaW5lZCksXG4gKiAgIGxvY2FsaXplZFN0cmluZ0lkOiAoIUxvY2FsaXplZFN0cmluZ0lkfHVuZGVmaW5lZCksXG4gKiAgIHVubG9jYWxpemVkU3RyaW5nOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGNoaWxkcmVuOiAoIUFycmF5PCFFbGVtZW50RGVmPnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBFbGVtZW50RGVmO1xuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHshRWxlbWVudERlZnwhQXJyYXk8IUVsZW1lbnREZWY+fSBlbGVtZW50c0RlZlxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTaW1wbGVUZW1wbGF0ZShkb2MsIGVsZW1lbnRzRGVmKSB7XG4gIGlmIChpc0FycmF5KGVsZW1lbnRzRGVmKSkge1xuICAgIHJldHVybiByZW5kZXJNdWx0aShkb2MsIC8qKiBAdHlwZSB7IUFycmF5PCFFbGVtZW50RGVmPn0gKi8gKGVsZW1lbnRzRGVmKSk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlclNpbmdsZShkb2MsIC8qKiBAdHlwZSB7IUVsZW1lbnREZWZ9ICovIChlbGVtZW50c0RlZikpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHshRWxlbWVudERlZn0gZWxlbWVudERlZlxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJBc0VsZW1lbnQoZG9jLCBlbGVtZW50RGVmKSB7XG4gIHJldHVybiByZW5kZXJTaW5nbGUoZG9jLCBlbGVtZW50RGVmKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwYXJhbSB7IUFycmF5PCFFbGVtZW50RGVmPn0gZWxlbWVudHNEZWZcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aShkb2MsIGVsZW1lbnRzRGVmKSB7XG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgZWxlbWVudHNEZWYuZm9yRWFjaChlbGVtZW50RGVmID0+XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocmVuZGVyU2luZ2xlKGRvYywgZWxlbWVudERlZikpKTtcbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHshRWxlbWVudERlZn0gZWxlbWVudERlZlxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIHJlbmRlclNpbmdsZShkb2MsIGVsZW1lbnREZWYpIHtcbiAgY29uc3QgZWwgPSBoYXNPd24oZWxlbWVudERlZiwgJ2F0dHJzJykgP1xuICAgIGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlcyhkb2MsIGVsZW1lbnREZWYudGFnLFxuICAgICAgICAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAoZWxlbWVudERlZi5hdHRycykpIDpcbiAgICBkb2MuY3JlYXRlRWxlbWVudChlbGVtZW50RGVmLnRhZyk7XG5cbiAgaWYgKGhhc093bihlbGVtZW50RGVmLCAnbG9jYWxpemVkU3RyaW5nSWQnKSkge1xuICAgIGNvbnN0IHdpbiA9IHRvV2luKGRvYy5kZWZhdWx0Vmlldyk7XG4gICAgU2VydmljZXMubG9jYWxpemF0aW9uU2VydmljZUZvck9yTnVsbCh3aW4pLnRoZW4obG9jYWxpemF0aW9uU2VydmljZSA9PiB7XG4gICAgICBkZXYoKS5hc3NlcnQobG9jYWxpemF0aW9uU2VydmljZSxcbiAgICAgICAgICAnQ291bGQgbm90IHJldHJpZXZlIExvY2FsaXphdGlvblNlcnZpY2UuJyk7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IGxvY2FsaXphdGlvblNlcnZpY2VcbiAgICAgICAgICAuZ2V0TG9jYWxpemVkU3RyaW5nKC8qKiBAdHlwZSB7IUxvY2FsaXplZFN0cmluZ0lkfSAqLyAoXG4gICAgICAgICAgICBlbGVtZW50RGVmLmxvY2FsaXplZFN0cmluZ0lkKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGFzT3duKGVsZW1lbnREZWYsICd1bmxvY2FsaXplZFN0cmluZycpKSB7XG4gICAgZWwudGV4dENvbnRlbnQgPSBlbGVtZW50RGVmLnVubG9jYWxpemVkU3RyaW5nO1xuICB9XG5cbiAgaWYgKGhhc093bihlbGVtZW50RGVmLCAnY2hpbGRyZW4nKSkge1xuICAgIGVsLmFwcGVuZENoaWxkKHJlbmRlck11bHRpKGRvYyxcbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXk8IUVsZW1lbnREZWY+fSAqLyAoZWxlbWVudERlZi5jaGlsZHJlbikpKTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2FtcE1lZGlhRWxlbWVudEZvcn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge3JlbW92ZUVsZW1lbnR9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuXG5cblxuLyoqXG4gKiBDbGFzcyBoYW5kbGluZyBIVE1MTWVkaWFFbGVtZW50cyBzb3VyY2VzLlxuICovXG5leHBvcnQgY2xhc3MgU291cmNlcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gez9zdHJpbmc9fSBvcHRfc3JjQXR0ciBUaGUgJ3NyYycgYXR0cmlidXRlIG9mIHRoZSBtZWRpYSBlbGVtZW50LlxuICAgKiBAcGFyYW0gez9JQXJyYXlMaWtlPCFFbGVtZW50Pj19IG9wdF9zcmNFbHMgQW55IGNoaWxkIDxzb3VyY2U+IHRhZ3Mgb2YgdGhlXG4gICAqICAgICBtZWRpYSBlbGVtZW50LlxuICAgKiBAcGFyYW0gez9JQXJyYXlMaWtlPCFFbGVtZW50Pj19IG9wdF90cmFja0VscyBBbnkgY2hpbGQgPHRyYWNrPiB0YWdzIG9mIHRoZVxuICAgKiAgICAgbWVkaWEgZWxlbWVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdF9zcmNBdHRyLCBvcHRfc3JjRWxzLCBvcHRfdHJhY2tFbHMpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuc3JjQXR0cl8gPSBvcHRfc3JjQXR0ciAmJiBvcHRfc3JjQXR0ci5sZW5ndGggPyBvcHRfc3JjQXR0ciA6IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSUFycmF5TGlrZTwhRWxlbWVudD59ICovXG4gICAgdGhpcy5zcmNFbHNfID0gb3B0X3NyY0VscyB8fCBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFJQXJyYXlMaWtlPCFFbGVtZW50Pn0gKi9cbiAgICB0aGlzLnRyYWNrRWxzXyA9IG9wdF90cmFja0VscyB8fCBbXTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdHJhY2sgdGFncyB0byBhIHNwZWNpZmllZCBlbGVtZW50LiBUaGlzIGlzIGRvbmUgaW4gYSBzZXBhcmF0ZVxuICAgKiBtZXRob2QgZnJvbSB0aGUgc291cmNlIHRhZ3MsIGJlY2F1c2Ugd2UgbXVzdCB3YWl0IGZvciBcImxvYWRlZG1ldGFkYXRhXCJcbiAgICogdmlkZW8gZXZlbnQgYmVmb3JlIGRvaW5nIHRoaXMuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYWRvcHQgdGhlIHRleHQgdHJhY2tzXG4gICAqICAgICByZXByZXNlbnRlZCBieSB0aGlzIG9iamVjdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFwcGx5VHJhY2tzVG9FbGVtZW50XyhlbGVtZW50KSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0aGlzLnRyYWNrRWxzXywgdHJhY2tFbCA9PiB7XG4gICAgICBjb25zdCB0cmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYWNrJyk7XG4gICAgICB0cmFjay5pZCA9IHRyYWNrRWwuaWQ7XG4gICAgICB0cmFjay5raW5kID0gdHJhY2tFbC5raW5kO1xuICAgICAgdHJhY2subGFiZWwgPSB0cmFja0VsLmxhYmVsO1xuICAgICAgdHJhY2suc3JjbGFuZyA9IHRyYWNrRWwuc3JjbGFuZztcbiAgICAgIHRyYWNrLmRlZmF1bHQgPSB0cmFja0VsLmRlZmF1bHQ7XG4gICAgICB0cmFjay5zcmMgPSB0cmFja0VsLnNyYztcbiAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIHRyYWNrLm1vZGUgPSAnc2hvd2luZyc7XG4gICAgICAgIGVsZW1lbnQudGV4dFRyYWNrc1swXS5tb2RlID0gJ3Nob3dpbmcnO1xuICAgICAgfSk7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRyYWNrKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIHNyYyBhdHRyaWJ1dGUgYW5kIHNvdXJjZSB0YWdzIHRvIGEgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7IUhUTUxNZWRpYUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYWRvcHQgdGhlIHNvdXJjZXNcbiAgICogICAgIHJlcHJlc2VudGVkIGJ5IHRoaXMgb2JqZWN0LlxuICAgKi9cbiAgYXBwbHlUb0VsZW1lbnQoZWxlbWVudCkge1xuICAgIFNvdXJjZXMucmVtb3ZlRnJvbShlbGVtZW50KTtcblxuICAgIGlmICghdGhpcy5zcmNBdHRyXykge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5zcmNBdHRyXyk7XG4gICAgfVxuXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0aGlzLnNyY0Vsc18sXG4gICAgICAgIHNyY0VsID0+IGVsZW1lbnQuYXBwZW5kQ2hpbGQoc3JjRWwpKTtcblxuICAgIGlmICh0aGlzLnRyYWNrRWxzXy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBXYWl0IGZvciBcImxvYWRlZG1ldGFkYXRhXCIgYmVmb3JlIGFkZGluZyB0cmFja3MuXG4gICAgICAvLyBGaXJlZm94IGFkZHMgdHJhY2tzLCBidXQgZG9lcyBub3QgdG9nZ2xlIHRoZW0gb24gdW5sZXNzIHZpZGVvIG1ldGFkYXRhXG4gICAgICAvLyBpcyBsb2FkZWQgZmlyc3QuXG4gICAgICBpZiAoZWxlbWVudC5yZWFkeVN0YXRlID49IDEgLyogSEFWRV9NRVRBREFUQSAqLykge1xuICAgICAgICB0aGlzLmFwcGx5VHJhY2tzVG9FbGVtZW50XyhlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGFkZFRyYWNrc0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGFkZFRyYWNrc0hhbmRsZXIpO1xuICAgICAgICAgIHRoaXMuYXBwbHlUcmFja3NUb0VsZW1lbnRfKGVsZW1lbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBhZGRUcmFja3NIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBzb3VyY2VzIGZyb20gYSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB3aG9zZSBzb3VyY2VzIHNob3VsZCBiZSByZW1vdmVkIGFuZFxuICAgKiAgICAgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4geyFTb3VyY2VzfSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzb3VyY2VzIG9mIHRoZSBzcGVjaWZpZWRcbiAgICogICAgIGVsZW1lbnQuXG4gICAqL1xuICBzdGF0aWMgcmVtb3ZlRnJvbShlbGVtZW50KSB7XG4gICAgY29uc3QgZWxlbWVudFRvVXNlID0gYW1wTWVkaWFFbGVtZW50Rm9yKGVsZW1lbnQpIHx8IGVsZW1lbnQ7XG4gICAgY29uc3Qgc3JjQXR0ciA9IGVsZW1lbnRUb1VzZS5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuICAgIGVsZW1lbnRUb1VzZS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuXG4gICAgY29uc3Qgc3JjRWxzID0gZWxlbWVudFRvVXNlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NvdXJjZScpO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoc3JjRWxzLCBzcmNFbCA9PiByZW1vdmVFbGVtZW50KHNyY0VsKSk7XG5cbiAgICBjb25zdCB0cmFja0VscyA9IGVsZW1lbnRUb1VzZS5xdWVyeVNlbGVjdG9yQWxsKCd0cmFjaycpO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodHJhY2tFbHMsIHRyYWNrRWwgPT4gcmVtb3ZlRWxlbWVudCh0cmFja0VsKSk7XG5cbiAgICByZXR1cm4gbmV3IFNvdXJjZXMoc3JjQXR0ciwgc3JjRWxzLCB0cmFja0Vscyk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7Y3JlYXRlRWxlbWVudFdpdGhBdHRyaWJ1dGVzLCByZW1vdmVFbGVtZW50fSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tJztcblxuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBUT0FTVF9DTEFTU05BTUUgPSAnaS1hbXBodG1sLXN0b3J5LXRvYXN0JztcblxuXG4vKipcbiAqIFNob3VsZCBiZSBoaWdoZXIgdGhhbiB0b3RhbCBhbmltYXRpb24gdGltZS5cbiAqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfVxuICovXG5jb25zdCBUT0FTVF9WSVNJQkxFX1RJTUVfTVMgPSAyNjAwO1xuXG5cbi8qKlxuICogVUkgbm90aWZpY2F0aW9ucyBzZXJ2aWNlLCBkaXNwbGF5aW5nIGEgbWVzc2FnZSB0byB0aGUgdXNlciBmb3IgYSBsaW1pdGVkXG4gKiBhbW91bnQgb2YgdGltZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvYXN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IU5vZGV8c3RyaW5nfSBjaGlsZE5vZGVPclRleHRcbiAgICovXG4gIHN0YXRpYyBzaG93KHdpbiwgY2hpbGROb2RlT3JUZXh0KSB7XG4gICAgY29uc3QgdG9hc3QgPSBjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZXMod2luLmRvY3VtZW50LCAnZGl2JyxcbiAgICAgICAgLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKHsnY2xhc3MnOiBUT0FTVF9DTEFTU05BTUV9KSk7XG5cbiAgICBpZiAodHlwZW9mIGNoaWxkTm9kZU9yVGV4dCA9PSAnc3RyaW5nJykge1xuICAgICAgdG9hc3QudGV4dENvbnRlbnQgPSBjaGlsZE5vZGVPclRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0LmFwcGVuZENoaWxkKGNoaWxkTm9kZU9yVGV4dCk7XG4gICAgfVxuXG4gICAgd2luLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3QpO1xuXG4gICAgU2VydmljZXMudGltZXJGb3Iod2luKVxuICAgICAgICAuZGVsYXkoKCkgPT4gcmVtb3ZlRWxlbWVudCh0b2FzdCksIFRPQVNUX1ZJU0lCTEVfVElNRV9NUyk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzJztcbmltcG9ydCB7Y2xvc2VzdEJ5U2VsZWN0b3J9IGZyb20gJy4uLy4uLy4uL3NyYy9kb20nO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3dSb290fSBmcm9tICcuLi8uLi8uLi9zcmMvc2hhZG93LWVtYmVkJztcbmltcG9ydCB7Z2V0TW9kZX0gZnJvbSAnLi4vLi4vLi4vc3JjL21vZGUnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi8uLi8uLi9zcmMvbG9nJztcblxuLyoqXG4gKiBSZXR1cm5zIG1pbGxpcyBhcyBudW1iZXIgaWYgZ2l2ZW4gYSBzdHJpbmcoZS5nLiAxcywgMjAwbXMgZXRjKVxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWVcbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lU3RyVG9NaWxsaXModGltZSkge1xuICBjb25zdCBtYXRjaCA9IHRpbWUudG9Mb3dlckNhc2UoKS5tYXRjaCgvXihbMC05XFwuXSspXFxzKihzfG1zKSQvKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICBjb25zdCBudW0gPSBtYXRjaFsxXTtcbiAgY29uc3QgdW5pdHMgPSBtYXRjaFsyXTtcblxuICB1c2VyKCkuYXNzZXJ0KFxuICAgICAgbWF0Y2ggJiZcbiAgICAgICAgICBtYXRjaC5sZW5ndGggPT0gMyAmJlxuICAgICAgICAgICh1bml0cyA9PSAncycgfHwgdW5pdHMgPT0gJ21zJyksXG4gICAgICAnSW52YWxpZCB0aW1lIHN0cmluZyAlcycsIHRpbWUpO1xuXG4gIHJldHVybiB1bml0cyA9PSAncycgPyBwYXJzZUZsb2F0KG51bSkgKiAxMDAwIDogcGFyc2VJbnQobnVtLCAxMCk7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBlbGVtZW50IGhhcyBhbiBhY3Rpb24gZm9yIGl0cyBvbj1cInRhcDouLi5cIlxuICogaGFuZGxlci5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVGFwQWN0aW9uKGVsKSB7XG4gIC8vIFRoZXJlIGFyZSBiZXR0ZXIgd2F5cyB0byBkZXRlcm1pbmUgdGhpcywgYnV0IHRoZXkncmUgYWxsIGJvdW5kIHRvIGFjdGlvblxuICAvLyBzZXJ2aWNlIHJhY2UgY29uZGl0aW9ucy4gVGhpcyBpcyBnb29kIGVub3VnaCBmb3Igb3VyIHVzZSBjYXNlLlxuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKCdvbicpICYmXG4gICAgICAhIWVsLmdldEF0dHJpYnV0ZSgnb24nKS5tYXRjaCgvKF58OylcXHMqdGFwXFxzKjovKTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSBjbGllbnQgcmVjdCB3aXRob3V0IGFwcGx5aW5nIHNjYWxpbmcgdHJhbnNmb3JtYXRpb25zLlxuICogTm90ZTogbXVzdCBiZSBydW4gaW4gYSB2c3luYyBtZWFzdXJlIGNvbnRleHQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICogQHJldHVybiB7IUNsaWVudFJlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNjYWxlZENsaWVudFJlY3QoZWwpIHtcbiAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcH0gPSBlbC4vKk9LKi9nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBjb25zdCBzY2FsZUZhY3RvclggPSB3aWR0aCA9PSAwID8gMSA6IHdpZHRoIC8gZWwuLypPSyovb2Zmc2V0V2lkdGg7XG4gIGNvbnN0IHNjYWxlRmFjdG9yWSA9IGhlaWdodCA9PSAwID8gMSA6IGhlaWdodCAvIGVsLi8qT0sqL29mZnNldEhlaWdodDtcblxuICByZXR1cm4gLyoqIEB0eXBlIHshQ2xpZW50UmVjdH0gKi8gKHtcbiAgICBsZWZ0OiBsZWZ0IC8gc2NhbGVGYWN0b3JYLFxuICAgIHRvcDogdG9wIC8gc2NhbGVGYWN0b3JZLFxuICAgIHdpZHRoOiB3aWR0aCAvIHNjYWxlRmFjdG9yWCxcbiAgICBoZWlnaHQ6IGhlaWdodCAvIHNjYWxlRmFjdG9yWSxcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBGaW5kcyBhbiBhbXAtdmlkZW8vYW1wLWF1ZGlvIGFuY2VzdG9yLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAqIEByZXR1cm4gez9BbXBFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYW1wTWVkaWFFbGVtZW50Rm9yKGVsKSB7XG4gIHJldHVybiBjbG9zZXN0QnlTZWxlY3RvcihlbCwgJ2FtcC12aWRlbywgYW1wLWF1ZGlvJyk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2hhZG93IHJvb3QgZm9yIHRoZSBwcm92aWRlZCBjb250YWluZXIsIGFuZCBhcHBlbmRzIHRoZSBlbGVtZW50XG4gKiBhbG9uZyB3aXRoIGl0cyBDU1MuXG4gKiBAcGFyYW0gIHshRWxlbWVudH0gY29udGFpbmVyXG4gKiBAcGFyYW0gIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtICB7c3RyaW5nfSBjc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRvd1Jvb3RXaXRoU3R5bGUoY29udGFpbmVyLCBlbGVtZW50LCBjc3MpIHtcbiAgY29uc3Qgc3R5bGUgPSBzZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLi8qT0sqL3RleHRDb250ZW50ID0gY3NzO1xuXG4gIGNvbnN0IGNvbnRhaW5lclRvVXNlID0gZ2V0TW9kZSgpLnRlc3QgP1xuICAgIGNvbnRhaW5lciA6IGNyZWF0ZVNoYWRvd1Jvb3QoY29udGFpbmVyKTtcblxuICBjb250YWluZXJUb1VzZS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIGNvbnRhaW5lclRvVXNlLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xufVxuXG5cbi8qKlxuICogUGFyc2VzIHRoZSByZXNvbHZlZCBDU1MgY29sb3IgcHJvcGVydHksIHRoYXQgaXMgYWx3YXlzIGluIHRoZSBmb3JtIG9mXG4gKiBgcmdiYSgwLCAwLCAwLCAxKWAgb3IgYHJnYigwLCAwLCAwKWAsIHRoYXQgY2FuIGJlIHJldHJpZXZlZCB1c2luZ1xuICogYGdldENvbXB1dGVkU3R5bGVgLlxuICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgUiwgRywgYW5kIEIgOGJpdCBudW1iZXJzLlxuICogQHBhcmFtICB7c3RyaW5nfSBjc3NWYWx1ZVxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0JGcm9tQ3NzQ29sb3JWYWx1ZShjc3NWYWx1ZSkge1xuICBjb25zdCByZWdleFBhdHRlcm4gPSAvcmdiYT9cXCgoXFxkezEsM30pLCAoXFxkezEsM30pLCAoXFxkezEsM30pLztcblxuICBpZiAoIWNzc1ZhbHVlLm1hdGNoKHJlZ2V4UGF0dGVybikpIHtcbiAgICB1c2VyKCkuZXJyb3IoJ1VUSUxTJywgJ2dldFJHQkZyb21Dc3NDb2xvclZhbHVlIGV4cGVjdHMgYSBwYXJhbWV0ZXIgaW4gJyArXG4gICAgICAgIGB0aGUgZm9ybSBvZiAncmdiYSgwLCAwLCAwLCAxKScgb3IgJ3JnYigwLCAwLCAwKScgYnV0IGdvdCAke2Nzc1ZhbHVlfWApO1xuICAgIC8vIFJldHVybnMgYSBmYWxsYmFjayB2YWx1ZSwgdG8gZmFpbCAnZ3JhY2VmdWxseScgaW4gY2FzZSBhIGJyb3dzZXIgd2UgZG9uJ3RcbiAgICAvLyBrbm93IGFib3V0IGdhdmUgYW4gdW5leHBlY3RlZCB2YWx1ZS5cbiAgICByZXR1cm4ge3I6IDAsIGc6IDAsIGI6IDB9O1xuICB9XG5cbiAgY29uc3QgbWF0Y2hlcyA9IHJlZ2V4UGF0dGVybi5leGVjKGNzc1ZhbHVlKTtcblxuICByZXR1cm4ge1xuICAgIHI6IE51bWJlcihtYXRjaGVzWzFdKSxcbiAgICBnOiBOdW1iZXIobWF0Y2hlc1syXSksXG4gICAgYjogTnVtYmVyKG1hdGNoZXNbM10pLFxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbG9yLCBlaXRoZXIgYmxhY2sgb3Igd2hpdGUsIHRoYXQgaGFzIHRoZSBiZXN0IGNvbnRyYXN0IHJhdGlvXG4gKiBhZ2FpbnN0IHRoZSBwcm92aWRlZCBSR0IgOGJpdCB2YWx1ZXMuXG4gKiBAcGFyYW0gIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn0gcmdiICBpZToge3I6IDAsIGc6IDAsIGI6IDB9XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICcjZmZmJyBvciAnIzAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRDb2xvckZvclJHQih7ciwgZywgYn0pIHtcbiAgLy8gQ2FsY3VsYXRlcyB0aGUgcmVsYXRpdmUgbHVtaW5hbmNlIEwuXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3JlbGF0aXZlbHVtaW5hbmNlZGVmXG4gIGNvbnN0IGdldExpbmVhclJHQlZhbHVlID0geCA9PiB7XG4gICAgLy8gOGJpdCB0byBzUkdCLlxuICAgIHggLz0gMjU1O1xuXG4gICAgLy8gQ29udmVydHMgdGhlIGdhbW1hLWNvbXByZXNzZWQgUkdCIHZhbHVlcyB0byBsaW5lYXIgUkdCLlxuICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4IC8gMTIuOTIgOiBNYXRoLnBvdygoeCArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICB9O1xuXG4gIGNvbnN0IGxpbmVhclIgPSBnZXRMaW5lYXJSR0JWYWx1ZShyKTtcbiAgY29uc3QgbGluZWFyRyA9IGdldExpbmVhclJHQlZhbHVlKGcpO1xuICBjb25zdCBsaW5lYXJCID0gZ2V0TGluZWFyUkdCVmFsdWUoYik7XG5cbiAgY29uc3QgTCA9ICgwLjIxMjYgKiBsaW5lYXJSKSArICgwLjcxNTIgKiBsaW5lYXJHKSArICgwLjA3MjIgKiBsaW5lYXJCKTtcblxuICAvLyBEZXRlcm1pbmVzIHdoaWNoIG9uZSBvZiB0aGUgd2hpdGUgYW5kIGJsYWNrIHRleHQgaGF2ZSBhIGJldHRlciBjb250cmFzdFxuICAvLyByYXRpbyBhZ2FpbnN0IHRoZSB1c2VkIGJhY2tncm91bmQgY29sb3IuXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI2NvbnRyYXN0LXJhdGlvZGVmXG4gIC8vIEBUT0RPKGdtYWpvdWxldCk6IEltcHJvdmUgdGhlIHRleHQgY29sb3IgZm9yIGhpZ2ggY29udHJhc3QgcmF0aW8uXG4gIC8vIDEgaXMgTCBmb3IgI0ZGRiwgYW5kIDAgaXMgTCBmb3IgIzAwMC5cbiAgLy8gKDEgKyAwLjA1KSAvIChMICsgMC4wNSkgPiAoTCArIDAuMDUpIC8gKDAgKyAwLjA1KSB0b2dnbGVzIGZvciBMID0gMC4xNzkuXG4gIHJldHVybiBMID4gMC4xNzkgPyAnIzAwMCcgOiAnI0ZGRic7XG59XG5cblxuLyoqXG4gKiBTZXRzIGdpdmVuIGF0dHJpYnV0ZSB0byB0aGUgZ2l2ZW4gZWxlbWVudCBpbiBuZXh0IGBtdXRhdGVgIHBoYXNlLlxuICogQHBhcmFtIHshQU1QLkJhc2VFbGVtZW50fSBlbGVtZW50SW1wbFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3ZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVJbk11dGF0ZShlbGVtZW50SW1wbCwgbmFtZSwgb3B0X3ZhbHVlKSB7XG4gIGNvbnN0IHZhbHVlID0gb3B0X3ZhbHVlIHx8ICcnO1xuICBlbGVtZW50SW1wbC5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICBlbGVtZW50SW1wbC5lbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlcyBnaXZlbiBhdHRyaWJ1dGUgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudCBpbiBuZXh0IGBtdXRhdGVgIHBoYXNlLlxuICogQHBhcmFtIHshQU1QLkJhc2VFbGVtZW50fSBlbGVtZW50SW1wbFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZUluTXV0YXRlKGVsZW1lbnRJbXBsLCBuYW1lKSB7XG4gIGVsZW1lbnRJbXBsLm11dGF0ZUVsZW1lbnQoKCkgPT4ge1xuICAgIGVsZW1lbnRJbXBsLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlckFzc2VydFZhbGlkUHJvdG9jb2woZWxlbWVudCwgdXJsKSB7XG4gIHVzZXIoKS5hc3NlcnQoU2VydmljZXMudXJsRm9yRG9jKGVsZW1lbnQpLmlzUHJvdG9jb2xWYWxpZCh1cmwpLFxuICAgICAgJ1Vuc3VwcG9ydGVkIHByb3RvY29sIGZvciBVUkwgJXMnLCB1cmwpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1N0YXRlQ2hhbmdlVHlwZX0gZnJvbSAnLi9uYXZpZ2F0aW9uLXN0YXRlJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7IU9iamVjdDxzdHJpbmcsICo+fVxuICovXG5leHBvcnQgbGV0IFN0b3J5VmFyaWFibGVEZWY7XG5cblxuLyoqIEBlbnVtIHtzdHJpbmd9ICovXG5jb25zdCBWYXJpYWJsZSA9IHtcbiAgU1RPUllfUEFHRV9JRDogJ3N0b3J5UGFnZUlkJyxcbiAgU1RPUllfUEFHRV9JTkRFWDogJ3N0b3J5UGFnZUluZGV4JyxcbiAgU1RPUllfUEFHRV9DT1VOVDogJ3N0b3J5UGFnZUNvdW50JyxcbiAgU1RPUllfSVNfTVVURUQ6ICdzdG9yeUlzTXV0ZWQnLFxuICBTVE9SWV9QUk9HUkVTUzogJ3N0b3J5UHJvZ3Jlc3MnLFxufTtcblxuXG4vKipcbiAqIFZhcmlhYmxlIHNlcnZpY2UgZm9yIGFtcC1zdG9yeS5cbiAqIFVzZWQgZm9yIFVSTCByZXBsYWNlbWVudCBzZXJ2aWNlLiBTZWUgdXNhZ2UgaW4gc3JjL3VybC1yZXBsYWNlbWVudHMtaW1wbC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFtcFN0b3J5VmFyaWFibGVTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAcHJpdmF0ZSB7IVN0b3J5VmFyaWFibGVEZWZ9ICovXG4gICAgdGhpcy52YXJpYWJsZXNfID0ge1xuICAgICAgW1ZhcmlhYmxlLlNUT1JZX1BBR0VfSU5ERVhdOiBudWxsLFxuICAgICAgW1ZhcmlhYmxlLlNUT1JZX1BBR0VfSURdOiBudWxsLFxuICAgICAgW1ZhcmlhYmxlLlNUT1JZX1BBR0VfQ09VTlRdOiBudWxsLFxuICAgICAgW1ZhcmlhYmxlLlNUT1JZX1BST0dSRVNTXTogbnVsbCxcbiAgICAgIFtWYXJpYWJsZS5TVE9SWV9JU19NVVRFRF06IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL25hdmlnYXRpb24tc3RhdGUuU3RhdGVDaGFuZ2VFdmVudERlZn0gc3RhdGVDaGFuZ2VFdmVudFxuICAgKi9cbiAgb25OYXZpZ2F0aW9uU3RhdGVDaGFuZ2Uoc3RhdGVDaGFuZ2VFdmVudCkge1xuICAgIHN3aXRjaCAoc3RhdGVDaGFuZ2VFdmVudC50eXBlKSB7XG4gICAgICBjYXNlIFN0YXRlQ2hhbmdlVHlwZS5BQ1RJVkVfUEFHRTpcbiAgICAgICAgY29uc3Qge3BhZ2VJbmRleCwgcGFnZUlkLCBzdG9yeVByb2dyZXNzLCB0b3RhbFBhZ2VzfSA9XG4gICAgICAgICAgICBzdGF0ZUNoYW5nZUV2ZW50LnZhbHVlO1xuICAgICAgICB0aGlzLnZhcmlhYmxlc19bVmFyaWFibGUuU1RPUllfUEFHRV9JTkRFWF0gPSBwYWdlSW5kZXg7XG4gICAgICAgIHRoaXMudmFyaWFibGVzX1tWYXJpYWJsZS5TVE9SWV9QQUdFX0lEXSA9IHBhZ2VJZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNfW1ZhcmlhYmxlLlNUT1JZX1BST0dSRVNTXSA9IHN0b3J5UHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMudmFyaWFibGVzX1tWYXJpYWJsZS5TVE9SWV9QQUdFX0NPVU5UXSA9IHRvdGFsUGFnZXM7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTXV0ZWRcbiAgICovXG4gIG9uTXV0ZWRTdGF0ZUNoYW5nZShpc011dGVkKSB7XG4gICAgdGhpcy52YXJpYWJsZXNfW1ZhcmlhYmxlLlNUT1JZX0lTX01VVEVEXSA9IGlzTXV0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVN0b3J5VmFyaWFibGVEZWZ9XG4gICAqL1xuICBnZXQoKSB7XG4gICAgLy8gVE9ETyhuZXdtaXVzKTogWW91IHNob3VsZCBwcm9iYWJseSBPYmplY3QuZnJlZXplIHRoaXMgaW4gZGV2ZWxvcG1lbnQuXG4gICAgcmV0dXJuIHRoaXMudmFyaWFibGVzXztcbiAgfVxufVxuIiwiLyohXG5cbkNvcHlyaWdodCAoQykgMjAxNC0yMDE2IGJ5IEFuZHJlYSBHaWFtbWFyY2hpIC0gQFdlYlJlZmxlY3Rpb25cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuLy8gZ2xvYmFsIHdpbmRvdyBPYmplY3Rcbi8vIG9wdGlvbmFsIHBvbHlmaWxsIGluZm9cbi8vICAgICdhdXRvJyB1c2VkIGJ5IGRlZmF1bHQsIGV2ZXJ5dGhpbmcgaXMgZmVhdHVyZSBkZXRlY3RlZFxuLy8gICAgJ2ZvcmNlJyB1c2UgdGhlIHBvbHlmaWxsIGV2ZW4gaWYgbm90IGZ1bGx5IG5lZWRlZFxuZnVuY3Rpb24gaW5zdGFsbEN1c3RvbUVsZW1lbnRzKHdpbmRvdywgcG9seWZpbGwpIHsndXNlIHN0cmljdCc7XG5cbiAgLy8gRE8gTk9UIFVTRSBUSElTIEZJTEUgRElSRUNUTFksIElUIFdPTidUIFdPUktcbiAgLy8gVEhJUyBJUyBBIFBST0pFQ1QgQkFTRUQgT04gQSBCVUlMRCBTWVNURU1cbiAgLy8gVEhJUyBGSUxFIElTIEpVU1QgV1JBUFBFRCBVUCBSRVNVTFRJTkcgSU5cbiAgLy8gYnVpbGQvZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC5ub2RlLmpzXG5cbiAgdmFyXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG4gICAgT2JqZWN0ID0gd2luZG93Lk9iamVjdFxuICA7XG5cbiAgdmFyIGh0bWxDbGFzcyA9IChmdW5jdGlvbiAoaW5mbykge1xuICAgIC8vIChDKSBBbmRyZWEgR2lhbW1hcmNoaSAtIEBXZWJSZWZsZWN0aW9uIC0gTUlUIFN0eWxlXG4gICAgdmFyXG4gICAgICBjYXRjaENsYXNzID0gL15bQS1aXStbYS16XS8sXG4gICAgICBmaWx0ZXJCeSA9IGZ1bmN0aW9uIChyZSkge1xuICAgICAgICB2YXIgYXJyID0gW10sIHRhZztcbiAgICAgICAgZm9yICh0YWcgaW4gcmVnaXN0ZXIpIHtcbiAgICAgICAgICBpZiAocmUudGVzdCh0YWcpKSBhcnIucHVzaCh0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9LFxuICAgICAgYWRkID0gZnVuY3Rpb24gKENsYXNzLCB0YWcpIHtcbiAgICAgICAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghKHRhZyBpbiByZWdpc3RlcikpIHtcbiAgICAgICAgICByZWdpc3RlcltDbGFzc10gPSAocmVnaXN0ZXJbQ2xhc3NdIHx8IFtdKS5jb25jYXQodGFnKTtcbiAgICAgICAgICByZWdpc3Rlclt0YWddID0gKHJlZ2lzdGVyW3RhZy50b1VwcGVyQ2FzZSgpXSA9IENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlZ2lzdGVyID0gKE9iamVjdC5jcmVhdGUgfHwgT2JqZWN0KShudWxsKSxcbiAgICAgIGh0bWxDbGFzcyA9IHt9LFxuICAgICAgaSwgc2VjdGlvbiwgdGFncywgQ2xhc3NcbiAgICA7XG4gICAgZm9yIChzZWN0aW9uIGluIGluZm8pIHtcbiAgICAgIGZvciAoQ2xhc3MgaW4gaW5mb1tzZWN0aW9uXSkge1xuICAgICAgICB0YWdzID0gaW5mb1tzZWN0aW9uXVtDbGFzc107XG4gICAgICAgIHJlZ2lzdGVyW0NsYXNzXSA9IHRhZ3M7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmVnaXN0ZXJbdGFnc1tpXS50b0xvd2VyQ2FzZSgpXSA9XG4gICAgICAgICAgcmVnaXN0ZXJbdGFnc1tpXS50b1VwcGVyQ2FzZSgpXSA9IENsYXNzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGh0bWxDbGFzcy5nZXQgPSBmdW5jdGlvbiBnZXQodGFnT3JDbGFzcykge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0YWdPckNsYXNzID09PSAnc3RyaW5nJyA/XG4gICAgICAgIChyZWdpc3Rlclt0YWdPckNsYXNzXSB8fCAoY2F0Y2hDbGFzcy50ZXN0KHRhZ09yQ2xhc3MpID8gW10gOiAnJykpIDpcbiAgICAgICAgZmlsdGVyQnkodGFnT3JDbGFzcyk7XG4gICAgfTtcbiAgICBodG1sQ2xhc3Muc2V0ID0gZnVuY3Rpb24gc2V0KHRhZywgQ2xhc3MpIHtcbiAgICAgIHJldHVybiAoY2F0Y2hDbGFzcy50ZXN0KHRhZykgP1xuICAgICAgICBhZGQodGFnLCBDbGFzcykgOlxuICAgICAgICBhZGQoQ2xhc3MsIHRhZylcbiAgICAgICksIGh0bWxDbGFzcztcbiAgICB9O1xuICAgIHJldHVybiBodG1sQ2xhc3M7XG4gIH0oe1xuICAgIFwiY29sbGVjdGlvbnNcIjoge1xuICAgICAgXCJIVE1MQWxsQ29sbGVjdGlvblwiOiBbXG4gICAgICAgIFwiYWxsXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxDb2xsZWN0aW9uXCI6IFtcbiAgICAgICAgXCJmb3Jtc1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRm9ybUNvbnRyb2xzQ29sbGVjdGlvblwiOiBbXG4gICAgICAgIFwiZWxlbWVudHNcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9wdGlvbnNDb2xsZWN0aW9uXCI6IFtcbiAgICAgICAgXCJvcHRpb25zXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiZWxlbWVudHNcIjoge1xuICAgICAgXCJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJlbGVtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBbmNob3JFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBcHBsZXRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhcHBsZXRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEFyZWFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhcmVhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBdHRhY2htZW50RWxlbWVudFwiOiBbXG4gICAgICAgIFwiYXR0YWNobWVudFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQXVkaW9FbGVtZW50XCI6IFtcbiAgICAgICAgXCJhdWRpb1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQlJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJiclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQmFzZUVsZW1lbnRcIjogW1xuICAgICAgICBcImJhc2VcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEJvZHlFbGVtZW50XCI6IFtcbiAgICAgICAgXCJib2R5XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxCdXR0b25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJidXR0b25cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTENhbnZhc0VsZW1lbnRcIjogW1xuICAgICAgICBcImNhbnZhc1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQ29udGVudEVsZW1lbnRcIjogW1xuICAgICAgICBcImNvbnRlbnRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERMaXN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERhdGFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkYXRhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEYXRhTGlzdEVsZW1lbnRcIjogW1xuICAgICAgICBcImRhdGFsaXN0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEZXRhaWxzRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGV0YWlsc1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRGlhbG9nRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGlhbG9nXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEaXJlY3RvcnlFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkaXJcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERpdkVsZW1lbnRcIjogW1xuICAgICAgICBcImRpdlwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRG9jdW1lbnRcIjogW1xuICAgICAgICBcImRvY3VtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJlbGVtZW50XCIsXG4gICAgICAgIFwiYWJiclwiLFxuICAgICAgICBcImFkZHJlc3NcIixcbiAgICAgICAgXCJhcnRpY2xlXCIsXG4gICAgICAgIFwiYXNpZGVcIixcbiAgICAgICAgXCJiXCIsXG4gICAgICAgIFwiYmRpXCIsXG4gICAgICAgIFwiYmRvXCIsXG4gICAgICAgIFwiY2l0ZVwiLFxuICAgICAgICBcImNvZGVcIixcbiAgICAgICAgXCJjb21tYW5kXCIsXG4gICAgICAgIFwiZGRcIixcbiAgICAgICAgXCJkZm5cIixcbiAgICAgICAgXCJkdFwiLFxuICAgICAgICBcImVtXCIsXG4gICAgICAgIFwiZmlnY2FwdGlvblwiLFxuICAgICAgICBcImZpZ3VyZVwiLFxuICAgICAgICBcImZvb3RlclwiLFxuICAgICAgICBcImhlYWRlclwiLFxuICAgICAgICBcImlcIixcbiAgICAgICAgXCJrYmRcIixcbiAgICAgICAgXCJtYXJrXCIsXG4gICAgICAgIFwibmF2XCIsXG4gICAgICAgIFwibm9zY3JpcHRcIixcbiAgICAgICAgXCJycFwiLFxuICAgICAgICBcInJ0XCIsXG4gICAgICAgIFwicnVieVwiLFxuICAgICAgICBcInNcIixcbiAgICAgICAgXCJzYW1wXCIsXG4gICAgICAgIFwic2VjdGlvblwiLFxuICAgICAgICBcInNtYWxsXCIsXG4gICAgICAgIFwic3Ryb25nXCIsXG4gICAgICAgIFwic3ViXCIsXG4gICAgICAgIFwic3VtbWFyeVwiLFxuICAgICAgICBcInN1cFwiLFxuICAgICAgICBcInVcIixcbiAgICAgICAgXCJ2YXJcIixcbiAgICAgICAgXCJ3YnJcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEVtYmVkRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZW1iZWRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEZpZWxkU2V0RWxlbWVudFwiOiBbXG4gICAgICAgIFwiZmllbGRzZXRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEZvbnRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmb250XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxGb3JtRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZm9ybVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRnJhbWVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmcmFtZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRnJhbWVTZXRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmcmFtZXNldFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSFJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJoclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSGVhZEVsZW1lbnRcIjogW1xuICAgICAgICBcImhlYWRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEhlYWRpbmdFbGVtZW50XCI6IFtcbiAgICAgICAgXCJoMVwiLFxuICAgICAgICBcImgyXCIsXG4gICAgICAgIFwiaDNcIixcbiAgICAgICAgXCJoNFwiLFxuICAgICAgICBcImg1XCIsXG4gICAgICAgIFwiaDZcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEh0bWxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJodG1sXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxJRnJhbWVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJpZnJhbWVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEltYWdlRWxlbWVudFwiOiBbXG4gICAgICAgIFwiaW1nXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxJbnB1dEVsZW1lbnRcIjogW1xuICAgICAgICBcImlucHV0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxLZXlnZW5FbGVtZW50XCI6IFtcbiAgICAgICAgXCJrZXlnZW5cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTExJRWxlbWVudFwiOiBbXG4gICAgICAgIFwibGlcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTExhYmVsRWxlbWVudFwiOiBbXG4gICAgICAgIFwibGFiZWxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTExlZ2VuZEVsZW1lbnRcIjogW1xuICAgICAgICBcImxlZ2VuZFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTGlua0VsZW1lbnRcIjogW1xuICAgICAgICBcImxpbmtcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1hcEVsZW1lbnRcIjogW1xuICAgICAgICBcIm1hcFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWFycXVlZUVsZW1lbnRcIjogW1xuICAgICAgICBcIm1hcnF1ZWVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1lZGlhRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWVkaWFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1lbnVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJtZW51XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNZW51SXRlbUVsZW1lbnRcIjogW1xuICAgICAgICBcIm1lbnVpdGVtXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNZXRhRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWV0YVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWV0ZXJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJtZXRlclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTW9kRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGVsXCIsXG4gICAgICAgIFwiaW5zXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxPTGlzdEVsZW1lbnRcIjogW1xuICAgICAgICBcIm9sXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxPYmplY3RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJvYmplY3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9wdEdyb3VwRWxlbWVudFwiOiBbXG4gICAgICAgIFwib3B0Z3JvdXBcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9wdGlvbkVsZW1lbnRcIjogW1xuICAgICAgICBcIm9wdGlvblwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MT3V0cHV0RWxlbWVudFwiOiBbXG4gICAgICAgIFwib3V0cHV0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQYXJhZ3JhcGhFbGVtZW50XCI6IFtcbiAgICAgICAgXCJwXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQYXJhbUVsZW1lbnRcIjogW1xuICAgICAgICBcInBhcmFtXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQaWN0dXJlRWxlbWVudFwiOiBbXG4gICAgICAgIFwicGljdHVyZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MUHJlRWxlbWVudFwiOiBbXG4gICAgICAgIFwicHJlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQcm9ncmVzc0VsZW1lbnRcIjogW1xuICAgICAgICBcInByb2dyZXNzXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxRdW90ZUVsZW1lbnRcIjogW1xuICAgICAgICBcImJsb2NrcXVvdGVcIixcbiAgICAgICAgXCJxXCIsXG4gICAgICAgIFwicXVvdGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNjcmlwdEVsZW1lbnRcIjogW1xuICAgICAgICBcInNjcmlwdFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MU2VsZWN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwic2VsZWN0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTaGFkb3dFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzaGFkb3dcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNsb3RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzbG90XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTb3VyY2VFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzb3VyY2VcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNwYW5FbGVtZW50XCI6IFtcbiAgICAgICAgXCJzcGFuXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTdHlsZUVsZW1lbnRcIjogW1xuICAgICAgICBcInN0eWxlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUNhcHRpb25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJjYXB0aW9uXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUNlbGxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0ZFwiLFxuICAgICAgICBcInRoXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUNvbEVsZW1lbnRcIjogW1xuICAgICAgICBcImNvbFwiLFxuICAgICAgICBcImNvbGdyb3VwXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUVsZW1lbnRcIjogW1xuICAgICAgICBcInRhYmxlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZVJvd0VsZW1lbnRcIjogW1xuICAgICAgICBcInRyXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0aGVhZFwiLFxuICAgICAgICBcInRib2R5XCIsXG4gICAgICAgIFwidGZvb3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRlbXBsYXRlRWxlbWVudFwiOiBbXG4gICAgICAgIFwidGVtcGxhdGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRleHRBcmVhRWxlbWVudFwiOiBbXG4gICAgICAgIFwidGV4dGFyZWFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRpbWVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0aW1lXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUaXRsZUVsZW1lbnRcIjogW1xuICAgICAgICBcInRpdGxlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUcmFja0VsZW1lbnRcIjogW1xuICAgICAgICBcInRyYWNrXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxVTGlzdEVsZW1lbnRcIjogW1xuICAgICAgICBcInVsXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxVbmtub3duRWxlbWVudFwiOiBbXG4gICAgICAgIFwidW5rbm93blwiLFxuICAgICAgICBcInZoZ3JvdXB2XCIsXG4gICAgICAgIFwidmtleWdlblwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MVmlkZW9FbGVtZW50XCI6IFtcbiAgICAgICAgXCJ2aWRlb1wiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIm5vZGVzXCI6IHtcbiAgICAgIFwiQXR0clwiOiBbXG4gICAgICAgIFwibm9kZVwiXG4gICAgICBdLFxuICAgICAgXCJBdWRpb1wiOiBbXG4gICAgICAgIFwiYXVkaW9cIlxuICAgICAgXSxcbiAgICAgIFwiQ0RBVEFTZWN0aW9uXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIkNoYXJhY3RlckRhdGFcIjogW1xuICAgICAgICBcIm5vZGVcIlxuICAgICAgXSxcbiAgICAgIFwiQ29tbWVudFwiOiBbXG4gICAgICAgIFwiI2NvbW1lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiRG9jdW1lbnRcIjogW1xuICAgICAgICBcIiNkb2N1bWVudFwiXG4gICAgICBdLFxuICAgICAgXCJEb2N1bWVudEZyYWdtZW50XCI6IFtcbiAgICAgICAgXCIjZG9jdW1lbnQtZnJhZ21lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiRG9jdW1lbnRUeXBlXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEb2N1bWVudFwiOiBbXG4gICAgICAgIFwiI2RvY3VtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkltYWdlXCI6IFtcbiAgICAgICAgXCJpbWdcIlxuICAgICAgXSxcbiAgICAgIFwiT3B0aW9uXCI6IFtcbiAgICAgICAgXCJvcHRpb25cIlxuICAgICAgXSxcbiAgICAgIFwiUHJvY2Vzc2luZ0luc3RydWN0aW9uXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIlNoYWRvd1Jvb3RcIjogW1xuICAgICAgICBcIiNzaGFkb3ctcm9vdFwiXG4gICAgICBdLFxuICAgICAgXCJUZXh0XCI6IFtcbiAgICAgICAgXCIjdGV4dFwiXG4gICAgICBdLFxuICAgICAgXCJYTUxEb2N1bWVudFwiOiBbXG4gICAgICAgIFwieG1sXCJcbiAgICAgIF1cbiAgICB9XG4gIH0pKTtcbiAgXG4gIFxuICAgIFxuICAvLyBwYXNzZWQgYXQgcnVudGltZSwgY29uZmlndXJhYmxlXG4gIC8vIHZpYSBub2RlanMgbW9kdWxlXG4gIGlmICghcG9seWZpbGwpIHBvbHlmaWxsID0gJ2F1dG8nO1xuICBcbiAgdmFyXG4gICAgLy8gVjAgcG9seWZpbGwgZW50cnlcbiAgICBSRUdJU1RFUl9FTEVNRU5UID0gJ3JlZ2lzdGVyRWxlbWVudCcsXG4gIFxuICAgIC8vIElFIDwgMTEgb25seSArIG9sZCBXZWJLaXQgZm9yIGF0dHJpYnV0ZXMgKyBmZWF0dXJlIGRldGVjdGlvblxuICAgIEVYUEFORE9fVUlEID0gJ19fJyArIFJFR0lTVEVSX0VMRU1FTlQgKyAod2luZG93Lk1hdGgucmFuZG9tKCkgKiAxMGU0ID4+IDApLFxuICBcbiAgICAvLyBzaG9ydGN1dHMgYW5kIGNvc3RhbnRzXG4gICAgQUREX0VWRU5UX0xJU1RFTkVSID0gJ2FkZEV2ZW50TGlzdGVuZXInLFxuICAgIEFUVEFDSEVEID0gJ2F0dGFjaGVkJyxcbiAgICBDQUxMQkFDSyA9ICdDYWxsYmFjaycsXG4gICAgREVUQUNIRUQgPSAnZGV0YWNoZWQnLFxuICAgIEVYVEVORFMgPSAnZXh0ZW5kcycsXG4gIFxuICAgIEFUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLID0gJ2F0dHJpYnV0ZUNoYW5nZWQnICsgQ0FMTEJBQ0ssXG4gICAgQVRUQUNIRURfQ0FMTEJBQ0sgPSBBVFRBQ0hFRCArIENBTExCQUNLLFxuICAgIENPTk5FQ1RFRF9DQUxMQkFDSyA9ICdjb25uZWN0ZWQnICsgQ0FMTEJBQ0ssXG4gICAgRElTQ09OTkVDVEVEX0NBTExCQUNLID0gJ2Rpc2Nvbm5lY3RlZCcgKyBDQUxMQkFDSyxcbiAgICBDUkVBVEVEX0NBTExCQUNLID0gJ2NyZWF0ZWQnICsgQ0FMTEJBQ0ssXG4gICAgREVUQUNIRURfQ0FMTEJBQ0sgPSBERVRBQ0hFRCArIENBTExCQUNLLFxuICBcbiAgICBBRERJVElPTiA9ICdBRERJVElPTicsXG4gICAgTU9ESUZJQ0FUSU9OID0gJ01PRElGSUNBVElPTicsXG4gICAgUkVNT1ZBTCA9ICdSRU1PVkFMJyxcbiAgXG4gICAgRE9NX0FUVFJfTU9ESUZJRUQgPSAnRE9NQXR0ck1vZGlmaWVkJyxcbiAgICBET01fQ09OVEVOVF9MT0FERUQgPSAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgRE9NX1NVQlRSRUVfTU9ESUZJRUQgPSAnRE9NU3VidHJlZU1vZGlmaWVkJyxcbiAgXG4gICAgUFJFRklYX1RBRyA9ICc8JyxcbiAgICBQUkVGSVhfSVMgPSAnPScsXG4gIFxuICAgIC8vIHZhbGlkIGFuZCBpbnZhbGlkIG5vZGUgbmFtZXNcbiAgICB2YWxpZE5hbWUgPSAvXltBLVpdW0EtWjAtOV0qKD86LVtBLVowLTldKykrJC8sXG4gICAgaW52YWxpZE5hbWVzID0gW1xuICAgICAgJ0FOTk9UQVRJT04tWE1MJyxcbiAgICAgICdDT0xPUi1QUk9GSUxFJyxcbiAgICAgICdGT05ULUZBQ0UnLFxuICAgICAgJ0ZPTlQtRkFDRS1TUkMnLFxuICAgICAgJ0ZPTlQtRkFDRS1VUkknLFxuICAgICAgJ0ZPTlQtRkFDRS1GT1JNQVQnLFxuICAgICAgJ0ZPTlQtRkFDRS1OQU1FJyxcbiAgICAgICdNSVNTSU5HLUdMWVBIJ1xuICAgIF0sXG4gIFxuICAgIC8vIHJlZ2lzdGVyZWQgdHlwZXMgYW5kIHRoZWlyIHByb3RvdHlwZXNcbiAgICB0eXBlcyA9IFtdLFxuICAgIHByb3RvcyA9IFtdLFxuICBcbiAgICAvLyB0byBxdWVyeSBzdWJub2Rlc1xuICAgIHF1ZXJ5ID0gJycsXG4gIFxuICAgIC8vIGh0bWwgc2hvcnRjdXQgdXNlZCB0byBmZWF0dXJlIGRldGVjdFxuICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgXG4gICAgLy8gRVM1IGlubGluZSBoZWxwZXJzIHx8IGJhc2ljIHBhdGNoZXNcbiAgICBpbmRleE9mID0gdHlwZXMuaW5kZXhPZiB8fCBmdW5jdGlvbiAodikge1xuICAgICAgZm9yKHZhciBpID0gdGhpcy5sZW5ndGg7IGktLSAmJiB0aGlzW2ldICE9PSB2Oyl7fVxuICAgICAgcmV0dXJuIGk7XG4gICAgfSxcbiAgXG4gICAgLy8gb3RoZXIgaGVscGVycyAvIHNob3J0Y3V0c1xuICAgIE9QID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICBoT1AgPSBPUC5oYXNPd25Qcm9wZXJ0eSxcbiAgICBpUE8gPSBPUC5pc1Byb3RvdHlwZU9mLFxuICBcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgICBlbXB0eSA9IFtdLFxuICAgIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgIGdPUE4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgICBnUE8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgc1BPID0gT2JqZWN0LnNldFByb3RvdHlwZU9mLFxuICBcbiAgICAvLyBqc2hpbnQgcHJvdG86IHRydWVcbiAgICBoYXNQcm90byA9ICEhT2JqZWN0Ll9fcHJvdG9fXyxcbiAgXG4gICAgLy8gVjEgaGVscGVyc1xuICAgIGZpeEdldENsYXNzID0gZmFsc2UsXG4gICAgRFJFQ0VWMSA9ICdfX2RyZUNFdjEnLFxuICAgIGN1c3RvbUVsZW1lbnRzID0gd2luZG93LmN1c3RvbUVsZW1lbnRzLFxuICAgIHVzYWJsZUN1c3RvbUVsZW1lbnRzID0gcG9seWZpbGwgIT09ICdmb3JjZScgJiYgISEoXG4gICAgICBjdXN0b21FbGVtZW50cyAmJlxuICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lICYmXG4gICAgICBjdXN0b21FbGVtZW50cy5nZXQgJiZcbiAgICAgIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkXG4gICAgKSxcbiAgICBEaWN0ID0gT2JqZWN0LmNyZWF0ZSB8fCBPYmplY3QsXG4gICAgTWFwID0gd2luZG93Lk1hcCB8fCBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICB2YXIgSyA9IFtdLCBWID0gW10sIGk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFZbaW5kZXhPZi5jYWxsKEssIGspXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgIGkgPSBpbmRleE9mLmNhbGwoSywgayk7XG4gICAgICAgICAgaWYgKGkgPCAwKSBWW0sucHVzaChrKSAtIDFdID0gdjtcbiAgICAgICAgICBlbHNlIFZbaV0gPSB2O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlIHx8IGZ1bmN0aW9uIChmbikge1xuICAgICAgdmFyXG4gICAgICAgIG5vdGlmeSA9IFtdLFxuICAgICAgICBkb25lID0gZmFsc2UsXG4gICAgICAgIHAgPSB7XG4gICAgICAgICAgJ2NhdGNoJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAndGhlbic6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgbm90aWZ5LnB1c2goY2IpO1xuICAgICAgICAgICAgaWYgKGRvbmUpIHNldFRpbWVvdXQocmVzb2x2ZSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDtcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHdoaWxlIChub3RpZnkubGVuZ3RoKSBub3RpZnkuc2hpZnQoKSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBmbihyZXNvbHZlKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH0sXG4gICAganVzdENyZWF0ZWQgPSBmYWxzZSxcbiAgICBjb25zdHJ1Y3RvcnMgPSBEaWN0KG51bGwpLFxuICAgIHdhaXRpbmdMaXN0ID0gRGljdChudWxsKSxcbiAgICBub2RlTmFtZXMgPSBuZXcgTWFwKCksXG4gICAgc2Vjb25kQXJndW1lbnQgPSBmdW5jdGlvbiAoaXMpIHtcbiAgICAgIHJldHVybiBpcy50b0xvd2VyQ2FzZSgpO1xuICAgIH0sXG4gIFxuICAgIC8vIHVzZWQgdG8gY3JlYXRlIHVuaXF1ZSBpbnN0YW5jZXNcbiAgICBjcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIEJyaWRnZShwcm90bykge1xuICAgICAgLy8gc2lsbHkgYnJva2VuIHBvbHlmaWxsIHByb2JhYmx5IGV2ZXIgdXNlZCBidXQgc2hvcnQgZW5vdWdoIHRvIHdvcmtcbiAgICAgIHJldHVybiBwcm90byA/ICgoQnJpZGdlLnByb3RvdHlwZSA9IHByb3RvKSwgbmV3IEJyaWRnZSgpKSA6IHRoaXM7XG4gICAgfSxcbiAgXG4gICAgLy8gd2lsbCBzZXQgdGhlIHByb3RvdHlwZSBpZiBwb3NzaWJsZVxuICAgIC8vIG9yIGNvcHkgb3ZlciBhbGwgcHJvcGVydGllc1xuICAgIHNldFByb3RvdHlwZSA9IHNQTyB8fCAoXG4gICAgICBoYXNQcm90byA/XG4gICAgICAgIGZ1bmN0aW9uIChvLCBwKSB7XG4gICAgICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9IDogKFxuICAgICAgKGdPUE4gJiYgZ09QRCkgP1xuICAgICAgICAoZnVuY3Rpb24oKXtcbiAgICAgICAgICBmdW5jdGlvbiBzZXRQcm9wZXJ0aWVzKG8sIHApIHtcbiAgICAgICAgICAgIGZvciAodmFyXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgbmFtZXMgPSBnT1BOKHApLFxuICAgICAgICAgICAgICBpID0gMCwgbGVuZ3RoID0gbmFtZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBrZXkgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgaWYgKCFoT1AuY2FsbChvLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkobywga2V5LCBnT1BEKHAsIGtleSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAobywgcCkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBzZXRQcm9wZXJ0aWVzKG8sIHApO1xuICAgICAgICAgICAgfSB3aGlsZSAoKHAgPSBnUE8ocCkpICYmICFpUE8uY2FsbChwLCBvKSk7XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICB9O1xuICAgICAgICB9KCkpIDpcbiAgICAgICAgZnVuY3Rpb24gKG8sIHApIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcCkge1xuICAgICAgICAgICAgb1trZXldID0gcFtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgfVxuICAgICkpLFxuICBcbiAgICAvLyBET00gc2hvcnRjdXRzIGFuZCBoZWxwZXJzLCBpZiBhbnlcbiAgXG4gICAgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLFxuICBcbiAgICBIVE1MRWxlbWVudFByb3RvdHlwZSA9IChcbiAgICAgIHdpbmRvdy5IVE1MRWxlbWVudCB8fFxuICAgICAgd2luZG93LkVsZW1lbnQgfHxcbiAgICAgIHdpbmRvdy5Ob2RlXG4gICAgKS5wcm90b3R5cGUsXG4gIFxuICAgIElFOCA9ICFpUE8uY2FsbChIVE1MRWxlbWVudFByb3RvdHlwZSwgZG9jdW1lbnRFbGVtZW50KSxcbiAgXG4gICAgc2FmZVByb3BlcnR5ID0gSUU4ID8gZnVuY3Rpb24gKG8sIGssIGQpIHtcbiAgICAgIG9ba10gPSBkLnZhbHVlO1xuICAgICAgcmV0dXJuIG87XG4gICAgfSA6IGRlZmluZVByb3BlcnR5LFxuICBcbiAgICBpc1ZhbGlkTm9kZSA9IElFOCA/XG4gICAgICBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMTtcbiAgICAgIH0gOlxuICAgICAgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGlQTy5jYWxsKEhUTUxFbGVtZW50UHJvdG90eXBlLCBub2RlKTtcbiAgICAgIH0sXG4gIFxuICAgIHRhcmdldHMgPSBJRTggJiYgW10sXG4gIFxuICAgIGF0dGFjaFNoYWRvdyA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmF0dGFjaFNoYWRvdyxcbiAgICBjbG9uZU5vZGUgPSBIVE1MRWxlbWVudFByb3RvdHlwZS5jbG9uZU5vZGUsXG4gICAgZGlzcGF0Y2hFdmVudCA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmRpc3BhdGNoRXZlbnQsXG4gICAgZ2V0QXR0cmlidXRlID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuZ2V0QXR0cmlidXRlLFxuICAgIGhhc0F0dHJpYnV0ZSA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmhhc0F0dHJpYnV0ZSxcbiAgICByZW1vdmVBdHRyaWJ1dGUgPSBIVE1MRWxlbWVudFByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUsXG4gICAgc2V0QXR0cmlidXRlID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuc2V0QXR0cmlidXRlLFxuICBcbiAgICAvLyByZXBsYWNlZCBsYXRlciBvblxuICAgIGNyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50LFxuICAgIHBhdGNoZWRDcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudCxcbiAgXG4gICAgLy8gc2hhcmVkIG9ic2VydmVyIGZvciBhbGwgYXR0cmlidXRlc1xuICAgIGF0dHJpYnV0ZXNPYnNlcnZlciA9IE11dGF0aW9uT2JzZXJ2ZXIgJiYge1xuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gIFxuICAgIC8vIHVzZWZ1bCB0byBkZXRlY3Qgb25seSBpZiB0aGVyZSdzIG5vIE11dGF0aW9uT2JzZXJ2ZXJcbiAgICBET01BdHRyTW9kaWZpZWQgPSBNdXRhdGlvbk9ic2VydmVyIHx8IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRvZXNOb3RTdXBwb3J0RE9NQXR0ck1vZGlmaWVkID0gZmFsc2U7XG4gICAgICBkb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRE9NX0FUVFJfTU9ESUZJRUQsXG4gICAgICAgIERPTUF0dHJNb2RpZmllZFxuICAgICAgKTtcbiAgICB9LFxuICBcbiAgICAvLyB3aWxsIGJvdGggYmUgdXNlZCB0byBtYWtlIERPTU5vZGVJbnNlcnRlZCBhc3luY2hyb25vdXNcbiAgICBhc2FwUXVldWUsXG4gICAgYXNhcFRpbWVyID0gMCxcbiAgXG4gICAgLy8gaW50ZXJuYWwgZmxhZ3NcbiAgICBWMCA9IFJFR0lTVEVSX0VMRU1FTlQgaW4gZG9jdW1lbnQsXG4gICAgc2V0TGlzdGVuZXIgPSB0cnVlLFxuICAgIGp1c3RTZXR1cCA9IGZhbHNlLFxuICAgIGRvZXNOb3RTdXBwb3J0RE9NQXR0ck1vZGlmaWVkID0gdHJ1ZSxcbiAgICBkcm9wRG9tQ29udGVudExvYWRlZCA9IHRydWUsXG4gIFxuICAgIC8vIG5lZWRlZCBmb3IgdGhlIGlubmVySFRNTCBoZWxwZXJcbiAgICBub3RGcm9tSW5uZXJIVE1MSGVscGVyID0gdHJ1ZSxcbiAgXG4gICAgLy8gb3B0aW9uYWxseSBkZWZpbmVkIGxhdGVyIG9uXG4gICAgb25TdWJ0cmVlTW9kaWZpZWQsXG4gICAgY2FsbERPTUF0dHJNb2RpZmllZCxcbiAgICBnZXRBdHRyaWJ1dGVzTWlycm9yLFxuICAgIG9ic2VydmVyLFxuICAgIG9ic2VydmUsXG4gIFxuICAgIC8vIGJhc2VkIG9uIHNldHRpbmcgcHJvdG90eXBlIGNhcGFiaWxpdHlcbiAgICAvLyB3aWxsIGNoZWNrIHByb3RvIG9yIHRoZSBleHBhbmRvIGF0dHJpYnV0ZVxuICAgIC8vIGluIG9yZGVyIHRvIHNldHVwIHRoZSBub2RlIG9uY2VcbiAgICBwYXRjaElmTm90QWxyZWFkeSxcbiAgICBwYXRjaFxuICA7XG4gIFxuICAvLyBvbmx5IGlmIG5lZWRlZFxuICBpZiAoIVYwKSB7XG4gIFxuICAgIGlmIChzUE8gfHwgaGFzUHJvdG8pIHtcbiAgICAgICAgcGF0Y2hJZk5vdEFscmVhZHkgPSBmdW5jdGlvbiAobm9kZSwgcHJvdG8pIHtcbiAgICAgICAgICBpZiAoIWlQTy5jYWxsKHByb3RvLCBub2RlKSkge1xuICAgICAgICAgICAgc2V0dXBOb2RlKG5vZGUsIHByb3RvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHBhdGNoID0gc2V0dXBOb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoSWZOb3RBbHJlYWR5ID0gZnVuY3Rpb24gKG5vZGUsIHByb3RvKSB7XG4gICAgICAgICAgaWYgKCFub2RlW0VYUEFORE9fVUlEXSkge1xuICAgICAgICAgICAgbm9kZVtFWFBBTkRPX1VJRF0gPSBPYmplY3QodHJ1ZSk7XG4gICAgICAgICAgICBzZXR1cE5vZGUobm9kZSwgcHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGF0Y2ggPSBwYXRjaElmTm90QWxyZWFkeTtcbiAgICB9XG4gIFxuICAgIGlmIChJRTgpIHtcbiAgICAgIGRvZXNOb3RTdXBwb3J0RE9NQXR0ck1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAoZnVuY3Rpb24gKCl7XG4gICAgICAgIHZhclxuICAgICAgICAgIGRlc2NyaXB0b3IgPSBnT1BEKEhUTUxFbGVtZW50UHJvdG90eXBlLCBBRERfRVZFTlRfTElTVEVORVIpLFxuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIgPSBkZXNjcmlwdG9yLnZhbHVlLFxuICAgICAgICAgIHBhdGNoZWRSZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIGUgPSBuZXcgQ3VzdG9tRXZlbnQoRE9NX0FUVFJfTU9ESUZJRUQsIHtidWJibGVzOiB0cnVlfSk7XG4gICAgICAgICAgICBlLmF0dHJOYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGUucHJldlZhbHVlID0gZ2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSk7XG4gICAgICAgICAgICBlLm5ld1ZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGVbUkVNT1ZBTF0gPSBlLmF0dHJDaGFuZ2UgPSAyO1xuICAgICAgICAgICAgcmVtb3ZlQXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSk7XG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50LmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXRjaGVkU2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgaGFkID0gaGFzQXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSksXG4gICAgICAgICAgICAgIG9sZCA9IGhhZCAmJiBnZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lKSxcbiAgICAgICAgICAgICAgZSA9IG5ldyBDdXN0b21FdmVudChET01fQVRUUl9NT0RJRklFRCwge2J1YmJsZXM6IHRydWV9KVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgZS5hdHRyTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBlLnByZXZWYWx1ZSA9IGhhZCA/IG9sZCA6IG51bGw7XG4gICAgICAgICAgICBlLm5ld1ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoaGFkKSB7XG4gICAgICAgICAgICAgIGVbTU9ESUZJQ0FUSU9OXSA9IGUuYXR0ckNoYW5nZSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlW0FERElUSU9OXSA9IGUuYXR0ckNoYW5nZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50LmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblByb3BlcnR5Q2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIC8vIGpzaGludCBlcW51bGw6dHJ1ZVxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIG5vZGUgPSBlLmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICAgIHN1cGVyU2VjcmV0ID0gbm9kZVtFWFBBTkRPX1VJRF0sXG4gICAgICAgICAgICAgIHByb3BlcnR5TmFtZSA9IGUucHJvcGVydHlOYW1lLFxuICAgICAgICAgICAgICBldmVudFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYgKHN1cGVyU2VjcmV0Lmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgc3VwZXJTZWNyZXQgPSBzdXBlclNlY3JldFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChET01fQVRUUl9NT0RJRklFRCwge2J1YmJsZXM6IHRydWV9KTtcbiAgICAgICAgICAgICAgZXZlbnQuYXR0ck5hbWUgPSBzdXBlclNlY3JldC5uYW1lO1xuICAgICAgICAgICAgICBldmVudC5wcmV2VmFsdWUgPSBzdXBlclNlY3JldC52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICBldmVudC5uZXdWYWx1ZSA9IChzdXBlclNlY3JldC52YWx1ZSA9IG5vZGVbcHJvcGVydHlOYW1lXSB8fCBudWxsKTtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LnByZXZWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRbQURESVRJT05dID0gZXZlbnQuYXR0ckNoYW5nZSA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZlbnRbTU9ESUZJQ0FUSU9OXSA9IGV2ZW50LmF0dHJDaGFuZ2UgPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQuY2FsbChub2RlLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGUgPT09IERPTV9BVFRSX01PRElGSUVEICYmXG4gICAgICAgICAgICB0aGlzW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXSAmJlxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUgIT09IHBhdGNoZWRTZXRBdHRyaWJ1dGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXNbRVhQQU5ET19VSURdID0ge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2xhc3MnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNsYXNzTmFtZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUgPSBwYXRjaGVkU2V0QXR0cmlidXRlO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUgPSBwYXRjaGVkUmVtb3ZlQXR0cmlidXRlO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsICdwcm9wZXJ0eWNoYW5nZScsIG9uUHJvcGVydHlDaGFuZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgaGFuZGxlciwgY2FwdHVyZSk7XG4gICAgICAgIH07XG4gICAgICAgIGRlZmluZVByb3BlcnR5KEhUTUxFbGVtZW50UHJvdG90eXBlLCBBRERfRVZFTlRfTElTVEVORVIsIGRlc2NyaXB0b3IpO1xuICAgICAgfSgpKTtcbiAgICB9IGVsc2UgaWYgKCFNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBkb2N1bWVudEVsZW1lbnRbQUREX0VWRU5UX0xJU1RFTkVSXShET01fQVRUUl9NT0RJRklFRCwgRE9NQXR0ck1vZGlmaWVkKTtcbiAgICAgIGRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoRVhQQU5ET19VSUQsIDEpO1xuICAgICAgZG9jdW1lbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShFWFBBTkRPX1VJRCk7XG4gICAgICBpZiAoZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQpIHtcbiAgICAgICAgb25TdWJ0cmVlTW9kaWZpZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgbm9kZSA9IHRoaXMsXG4gICAgICAgICAgICBvbGRBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgbmV3QXR0cmlidXRlcyxcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgIDtcbiAgICAgICAgICBpZiAobm9kZSA9PT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgIG9sZEF0dHJpYnV0ZXMgPSBub2RlW0VYUEFORE9fVUlEXTtcbiAgICAgICAgICAgIG5vZGVbRVhQQU5ET19VSURdID0gKG5ld0F0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzTWlycm9yKG5vZGUpKTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG5ld0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9sZEF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlIHdhcyBhZGRlZFxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsRE9NQXR0ck1vZGlmaWVkKFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBvbGRBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBuZXdBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBBRERJVElPTlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3QXR0cmlidXRlc1trZXldICE9PSBvbGRBdHRyaWJ1dGVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgd2FzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbERPTUF0dHJNb2RpZmllZChcbiAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgb2xkQXR0cmlidXRlc1trZXldLFxuICAgICAgICAgICAgICAgICAgbmV3QXR0cmlidXRlc1trZXldLFxuICAgICAgICAgICAgICAgICAgTU9ESUZJQ0FUSU9OXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2tpbmcgaWYgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3QXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsRE9NQXR0ck1vZGlmaWVkKFxuICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBvbGRBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBuZXdBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBSRU1PVkFMXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2FsbERPTUF0dHJNb2RpZmllZCA9IGZ1bmN0aW9uIChcbiAgICAgICAgICBhdHRyQ2hhbmdlLFxuICAgICAgICAgIGN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgYXR0ck5hbWUsXG4gICAgICAgICAgcHJldlZhbHVlLFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIGFjdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgZSA9IHtcbiAgICAgICAgICAgIGF0dHJDaGFuZ2U6IGF0dHJDaGFuZ2UsXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBjdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgYXR0ck5hbWU6IGF0dHJOYW1lLFxuICAgICAgICAgICAgcHJldlZhbHVlOiBwcmV2VmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGVbYWN0aW9uXSA9IGF0dHJDaGFuZ2U7XG4gICAgICAgICAgb25ET01BdHRyTW9kaWZpZWQoZSk7XG4gICAgICAgIH07XG4gICAgICAgIGdldEF0dHJpYnV0ZXNNaXJyb3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIGZvciAodmFyXG4gICAgICAgICAgICBhdHRyLCBuYW1lLFxuICAgICAgICAgICAgcmVzdWx0ID0ge30sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSA8IGxlbmd0aDsgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gJ3NldEF0dHJpYnV0ZScpIHtcbiAgICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIC8vIHNldCBhcyBlbnVtZXJhYmxlLCB3cml0YWJsZSBhbmQgY29uZmlndXJhYmxlXG4gICAgZG9jdW1lbnRbUkVHSVNURVJfRUxFTUVOVF0gPSBmdW5jdGlvbiByZWdpc3RlckVsZW1lbnQodHlwZSwgb3B0aW9ucykge1xuICAgICAgdXBwZXJUeXBlID0gdHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWYgKHNldExpc3RlbmVyKSB7XG4gICAgICAgIC8vIG9ubHkgZmlyc3QgdGltZSBkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQgaXMgdXNlZFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHNldCB0aGlzIGxpc3RlbmVyXG4gICAgICAgIC8vIHNldHRpbmcgaXQgYnkgZGVmYXVsdCBtaWdodCBzbG93IGRvd24gZm9yIG5vIHJlYXNvblxuICAgICAgICBzZXRMaXN0ZW5lciA9IGZhbHNlO1xuICAgICAgICBpZiAoTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgIG9ic2VydmVyID0gKGZ1bmN0aW9uKGF0dGFjaGVkLCBkZXRhY2hlZCl7XG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0VtQWxsKGxpc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgY2FsbGJhY2sobGlzdFtpKytdKSl7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChyZWNvcmRzKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyXG4gICAgICAgICAgICAgICAgY3VycmVudCwgbm9kZSwgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IHJlY29yZHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHJlY29yZHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgIGNoZWNrRW1BbGwoY3VycmVudC5hZGRlZE5vZGVzLCBhdHRhY2hlZCk7XG4gICAgICAgICAgICAgICAgICBjaGVja0VtQWxsKGN1cnJlbnQucmVtb3ZlZE5vZGVzLCBkZXRhY2hlZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5vZGUgPSBjdXJyZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgIGlmIChub3RGcm9tSW5uZXJIVE1MSGVscGVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgbm9kZVtBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZU5hbWUgIT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBnZXRBdHRyaWJ1dGUuY2FsbChub2RlLCBjdXJyZW50LmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IGN1cnJlbnQub2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBub2RlW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXShcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQub2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0oZXhlY3V0ZUFjdGlvbihBVFRBQ0hFRCksIGV4ZWN1dGVBY3Rpb24oREVUQUNIRUQpKSk7XG4gICAgICAgICAgb2JzZXJ2ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH07XG4gICAgICAgICAgb2JzZXJ2ZShkb2N1bWVudCk7XG4gICAgICAgICAgaWYgKGF0dGFjaFNoYWRvdykge1xuICAgICAgICAgICAgSFRNTEVsZW1lbnRQcm90b3R5cGUuYXR0YWNoU2hhZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZShhdHRhY2hTaGFkb3cuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc2FwUXVldWUgPSBbXTtcbiAgICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKCdET01Ob2RlSW5zZXJ0ZWQnLCBvbkRPTU5vZGUoQVRUQUNIRUQpKTtcbiAgICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKCdET01Ob2RlUmVtb3ZlZCcsIG9uRE9NTm9kZShERVRBQ0hFRCkpO1xuICAgICAgICB9XG4gIFxuICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKERPTV9DT05URU5UX0xPQURFRCwgb25SZWFkeVN0YXRlQ2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnRbQUREX0VWRU5UX0xJU1RFTkVSXSgncmVhZHlzdGF0ZWNoYW5nZScsIG9uUmVhZHlTdGF0ZUNoYW5nZSk7XG4gIFxuICAgICAgICBIVE1MRWxlbWVudFByb3RvdHlwZS5jbG9uZU5vZGUgPSBmdW5jdGlvbiAoZGVlcCkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgbm9kZSA9IGNsb25lTm9kZS5jYWxsKHRoaXMsICEhZGVlcCksXG4gICAgICAgICAgICBpID0gZ2V0VHlwZUluZGV4KG5vZGUpXG4gICAgICAgICAgO1xuICAgICAgICAgIGlmICgtMSA8IGkpIHBhdGNoKG5vZGUsIHByb3Rvc1tpXSk7XG4gICAgICAgICAgaWYgKGRlZXAgJiYgcXVlcnkubGVuZ3RoKSBsb29wQW5kU2V0dXAobm9kZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSk7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH07XG4gICAgICB9XG4gIFxuICAgICAgaWYgKGp1c3RTZXR1cCkgcmV0dXJuIChqdXN0U2V0dXAgPSBmYWxzZSk7XG4gIFxuICAgICAgaWYgKC0yIDwgKFxuICAgICAgICBpbmRleE9mLmNhbGwodHlwZXMsIFBSRUZJWF9JUyArIHVwcGVyVHlwZSkgK1xuICAgICAgICBpbmRleE9mLmNhbGwodHlwZXMsIFBSRUZJWF9UQUcgKyB1cHBlclR5cGUpXG4gICAgICApKSB7XG4gICAgICAgIHRocm93VHlwZUVycm9yKHR5cGUpO1xuICAgICAgfVxuICBcbiAgICAgIGlmICghdmFsaWROYW1lLnRlc3QodXBwZXJUeXBlKSB8fCAtMSA8IGluZGV4T2YuY2FsbChpbnZhbGlkTmFtZXMsIHVwcGVyVHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdHlwZSAnICsgdHlwZSArICcgaXMgaW52YWxpZCcpO1xuICAgICAgfVxuICBcbiAgICAgIHZhclxuICAgICAgICBjb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZXh0ZW5kaW5nID9cbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUsIHVwcGVyVHlwZSkgOlxuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9wdCA9IG9wdGlvbnMgfHwgT1AsXG4gICAgICAgIGV4dGVuZGluZyA9IGhPUC5jYWxsKG9wdCwgRVhURU5EUyksXG4gICAgICAgIG5vZGVOYW1lID0gZXh0ZW5kaW5nID8gb3B0aW9uc1tFWFRFTkRTXS50b1VwcGVyQ2FzZSgpIDogdXBwZXJUeXBlLFxuICAgICAgICB1cHBlclR5cGUsXG4gICAgICAgIGlcbiAgICAgIDtcbiAgXG4gICAgICBpZiAoZXh0ZW5kaW5nICYmIC0xIDwgKFxuICAgICAgICBpbmRleE9mLmNhbGwodHlwZXMsIFBSRUZJWF9UQUcgKyBub2RlTmFtZSlcbiAgICAgICkpIHtcbiAgICAgICAgdGhyb3dUeXBlRXJyb3Iobm9kZU5hbWUpO1xuICAgICAgfVxuICBcbiAgICAgIGkgPSB0eXBlcy5wdXNoKChleHRlbmRpbmcgPyBQUkVGSVhfSVMgOiBQUkVGSVhfVEFHKSArIHVwcGVyVHlwZSkgLSAxO1xuICBcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuY29uY2F0KFxuICAgICAgICBxdWVyeS5sZW5ndGggPyAnLCcgOiAnJyxcbiAgICAgICAgZXh0ZW5kaW5nID8gbm9kZU5hbWUgKyAnW2lzPVwiJyArIHR5cGUudG9Mb3dlckNhc2UoKSArICdcIl0nIDogbm9kZU5hbWVcbiAgICAgICk7XG4gIFxuICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlID0gKFxuICAgICAgICBwcm90b3NbaV0gPSBoT1AuY2FsbChvcHQsICdwcm90b3R5cGUnKSA/XG4gICAgICAgICAgb3B0LnByb3RvdHlwZSA6XG4gICAgICAgICAgY3JlYXRlKEhUTUxFbGVtZW50UHJvdG90eXBlKVxuICAgICAgKTtcbiAgXG4gICAgICBpZiAocXVlcnkubGVuZ3RoKSBsb29wQW5kVmVyaWZ5KFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSxcbiAgICAgICAgQVRUQUNIRURcbiAgICAgICk7XG4gIFxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgIH07XG4gIFxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSAocGF0Y2hlZENyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAobG9jYWxOYW1lLCB0eXBlRXh0ZW5zaW9uKSB7XG4gICAgICB2YXJcbiAgICAgICAgaXMgPSBnZXRJcyh0eXBlRXh0ZW5zaW9uKSxcbiAgICAgICAgbm9kZSA9IGlzID9cbiAgICAgICAgICBjcmVhdGVFbGVtZW50LmNhbGwoZG9jdW1lbnQsIGxvY2FsTmFtZSwgc2Vjb25kQXJndW1lbnQoaXMpKSA6XG4gICAgICAgICAgY3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCBsb2NhbE5hbWUpLFxuICAgICAgICBuYW1lID0gJycgKyBsb2NhbE5hbWUsXG4gICAgICAgIGkgPSBpbmRleE9mLmNhbGwoXG4gICAgICAgICAgdHlwZXMsXG4gICAgICAgICAgKGlzID8gUFJFRklYX0lTIDogUFJFRklYX1RBRykgK1xuICAgICAgICAgIChpcyB8fCBuYW1lKS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICksXG4gICAgICAgIHNldHVwID0gLTEgPCBpXG4gICAgICA7XG4gICAgICBpZiAoaXMpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2lzJywgaXMgPSBpcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHNldHVwKSB7XG4gICAgICAgICAgc2V0dXAgPSBpc0luUVNBKG5hbWUudG9VcHBlckNhc2UoKSwgaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub3RGcm9tSW5uZXJIVE1MSGVscGVyID0gIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuaW5uZXJIVE1MSGVscGVyO1xuICAgICAgaWYgKHNldHVwKSBwYXRjaChub2RlLCBwcm90b3NbaV0pO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSk7XG4gIFxuICB9XG4gIFxuICBmdW5jdGlvbiBBU0FQKCkge1xuICAgIHZhciBxdWV1ZSA9IGFzYXBRdWV1ZS5zcGxpY2UoMCwgYXNhcFF1ZXVlLmxlbmd0aCk7XG4gICAgYXNhcFRpbWVyID0gMDtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgICBxdWV1ZS5zaGlmdCgpLmNhbGwoXG4gICAgICAgIG51bGwsIHF1ZXVlLnNoaWZ0KClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBsb29wQW5kVmVyaWZ5KGxpc3QsIGFjdGlvbikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2ZXJpZnlBbmRTZXR1cEFuZEFjdGlvbihsaXN0W2ldLCBhY3Rpb24pO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gbG9vcEFuZFNldHVwKGxpc3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGgsIG5vZGU7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbm9kZSA9IGxpc3RbaV07XG4gICAgICBwYXRjaChub2RlLCBwcm90b3NbZ2V0VHlwZUluZGV4KG5vZGUpXSk7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBleGVjdXRlQWN0aW9uKGFjdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKGlzVmFsaWROb2RlKG5vZGUpKSB7XG4gICAgICAgIHZlcmlmeUFuZFNldHVwQW5kQWN0aW9uKG5vZGUsIGFjdGlvbik7XG4gICAgICAgIGlmIChxdWVyeS5sZW5ndGgpIGxvb3BBbmRWZXJpZnkoXG4gICAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSxcbiAgICAgICAgICBhY3Rpb25cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFxuICBmdW5jdGlvbiBnZXRUeXBlSW5kZXgodGFyZ2V0KSB7XG4gICAgdmFyXG4gICAgICBpcyA9IGdldEF0dHJpYnV0ZS5jYWxsKHRhcmdldCwgJ2lzJyksXG4gICAgICBub2RlTmFtZSA9IHRhcmdldC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgaSA9IGluZGV4T2YuY2FsbChcbiAgICAgICAgdHlwZXMsXG4gICAgICAgIGlzID9cbiAgICAgICAgICAgIFBSRUZJWF9JUyArIGlzLnRvVXBwZXJDYXNlKCkgOlxuICAgICAgICAgICAgUFJFRklYX1RBRyArIG5vZGVOYW1lXG4gICAgICApXG4gICAgO1xuICAgIHJldHVybiBpcyAmJiAtMSA8IGkgJiYgIWlzSW5RU0Eobm9kZU5hbWUsIGlzKSA/IC0xIDogaTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gaXNJblFTQShuYW1lLCB0eXBlKSB7XG4gICAgcmV0dXJuIC0xIDwgcXVlcnkuaW5kZXhPZihuYW1lICsgJ1tpcz1cIicgKyB0eXBlICsgJ1wiXScpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBvbkRPTUF0dHJNb2RpZmllZChlKSB7XG4gICAgdmFyXG4gICAgICBub2RlID0gZS5jdXJyZW50VGFyZ2V0LFxuICAgICAgYXR0ckNoYW5nZSA9IGUuYXR0ckNoYW5nZSxcbiAgICAgIGF0dHJOYW1lID0gZS5hdHRyTmFtZSxcbiAgICAgIHRhcmdldCA9IGUudGFyZ2V0LFxuICAgICAgYWRkaXRpb24gPSBlW0FERElUSU9OXSB8fCAyLFxuICAgICAgcmVtb3ZhbCA9IGVbUkVNT1ZBTF0gfHwgM1xuICAgIDtcbiAgICBpZiAobm90RnJvbUlubmVySFRNTEhlbHBlciAmJlxuICAgICAgICAoIXRhcmdldCB8fCB0YXJnZXQgPT09IG5vZGUpICYmXG4gICAgICAgIG5vZGVbQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0tdICYmXG4gICAgICAgIGF0dHJOYW1lICE9PSAnc3R5bGUnICYmIChcbiAgICAgICAgICBlLnByZXZWYWx1ZSAhPT0gZS5uZXdWYWx1ZSB8fFxuICAgICAgICAgIC8vIElFOSwgSUUxMCwgYW5kIE9wZXJhIDEyIGdvdGNoYVxuICAgICAgICAgIGUubmV3VmFsdWUgPT09ICcnICYmIChcbiAgICAgICAgICAgIGF0dHJDaGFuZ2UgPT09IGFkZGl0aW9uIHx8XG4gICAgICAgICAgICBhdHRyQ2hhbmdlID09PSByZW1vdmFsXG4gICAgICAgICAgKVxuICAgICkpIHtcbiAgICAgIG5vZGVbQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0tdKFxuICAgICAgICBhdHRyTmFtZSxcbiAgICAgICAgYXR0ckNoYW5nZSA9PT0gYWRkaXRpb24gPyBudWxsIDogZS5wcmV2VmFsdWUsXG4gICAgICAgIGF0dHJDaGFuZ2UgPT09IHJlbW92YWwgPyBudWxsIDogZS5uZXdWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG9uRE9NTm9kZShhY3Rpb24pIHtcbiAgICB2YXIgZXhlY3V0b3IgPSBleGVjdXRlQWN0aW9uKGFjdGlvbik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICBhc2FwUXVldWUucHVzaChleGVjdXRvciwgZS50YXJnZXQpO1xuICAgICAgaWYgKGFzYXBUaW1lcikgY2xlYXJUaW1lb3V0KGFzYXBUaW1lcik7XG4gICAgICBhc2FwVGltZXIgPSBzZXRUaW1lb3V0KEFTQVAsIDEpO1xuICAgIH07XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG9uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgaWYgKGRyb3BEb21Db250ZW50TG9hZGVkKSB7XG4gICAgICBkcm9wRG9tQ29udGVudExvYWRlZCA9IGZhbHNlO1xuICAgICAgZS5jdXJyZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoRE9NX0NPTlRFTlRfTE9BREVELCBvblJlYWR5U3RhdGVDaGFuZ2UpO1xuICAgIH1cbiAgICBpZiAocXVlcnkubGVuZ3RoKSBsb29wQW5kVmVyaWZ5KFxuICAgICAgKGUudGFyZ2V0IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSxcbiAgICAgIGUuZGV0YWlsID09PSBERVRBQ0hFRCA/IERFVEFDSEVEIDogQVRUQUNIRURcbiAgICApO1xuICAgIGlmIChJRTgpIHB1cmdlKCk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHBhdGNoZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpIHtcbiAgICAvLyBqc2hpbnQgdmFsaWR0aGlzOnRydWVcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2V0QXR0cmlidXRlLmNhbGwoc2VsZiwgbmFtZSwgdmFsdWUpO1xuICAgIG9uU3VidHJlZU1vZGlmaWVkLmNhbGwoc2VsZiwge3RhcmdldDogc2VsZn0pO1xuICB9XG4gIFxuICBmdW5jdGlvbiBzZXR1cE5vZGUobm9kZSwgcHJvdG8pIHtcbiAgICBzZXRQcm90b3R5cGUobm9kZSwgcHJvdG8pO1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCBhdHRyaWJ1dGVzT2JzZXJ2ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUgPSBwYXRjaGVkU2V0QXR0cmlidXRlO1xuICAgICAgICBub2RlW0VYUEFORE9fVUlEXSA9IGdldEF0dHJpYnV0ZXNNaXJyb3Iobm9kZSk7XG4gICAgICAgIG5vZGVbQUREX0VWRU5UX0xJU1RFTkVSXShET01fU1VCVFJFRV9NT0RJRklFRCwgb25TdWJ0cmVlTW9kaWZpZWQpO1xuICAgICAgfVxuICAgICAgbm9kZVtBRERfRVZFTlRfTElTVEVORVJdKERPTV9BVFRSX01PRElGSUVELCBvbkRPTUF0dHJNb2RpZmllZCk7XG4gICAgfVxuICAgIGlmIChub2RlW0NSRUFURURfQ0FMTEJBQ0tdICYmIG5vdEZyb21Jbm5lckhUTUxIZWxwZXIpIHtcbiAgICAgIG5vZGUuY3JlYXRlZCA9IHRydWU7XG4gICAgICBub2RlW0NSRUFURURfQ0FMTEJBQ0tdKCk7XG4gICAgICBub2RlLmNyZWF0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHB1cmdlKCkge1xuICAgIGZvciAodmFyXG4gICAgICBub2RlLFxuICAgICAgaSA9IDAsXG4gICAgICBsZW5ndGggPSB0YXJnZXRzLmxlbmd0aDtcbiAgICAgIGkgPCBsZW5ndGg7IGkrK1xuICAgICkge1xuICAgICAgbm9kZSA9IHRhcmdldHNbaV07XG4gICAgICBpZiAoIWRvY3VtZW50RWxlbWVudC5jb250YWlucyhub2RlKSkge1xuICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgdGFyZ2V0cy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgdmVyaWZ5QW5kU2V0dXBBbmRBY3Rpb24obm9kZSwgREVUQUNIRUQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gdGhyb3dUeXBlRXJyb3IodHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSAnICsgdHlwZSArICcgdHlwZSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gdmVyaWZ5QW5kU2V0dXBBbmRBY3Rpb24obm9kZSwgYWN0aW9uKSB7XG4gICAgdmFyXG4gICAgICBmbixcbiAgICAgIGkgPSBnZXRUeXBlSW5kZXgobm9kZSlcbiAgICA7XG4gICAgaWYgKC0xIDwgaSkge1xuICAgICAgcGF0Y2hJZk5vdEFscmVhZHkobm9kZSwgcHJvdG9zW2ldKTtcbiAgICAgIGkgPSAwO1xuICAgICAgaWYgKGFjdGlvbiA9PT0gQVRUQUNIRUQgJiYgIW5vZGVbQVRUQUNIRURdKSB7XG4gICAgICAgIG5vZGVbREVUQUNIRURdID0gZmFsc2U7XG4gICAgICAgIG5vZGVbQVRUQUNIRURdID0gdHJ1ZTtcbiAgICAgICAgaSA9IDE7XG4gICAgICAgIGlmIChJRTggJiYgaW5kZXhPZi5jYWxsKHRhcmdldHMsIG5vZGUpIDwgMCkge1xuICAgICAgICAgIHRhcmdldHMucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IERFVEFDSEVEICYmICFub2RlW0RFVEFDSEVEXSkge1xuICAgICAgICBub2RlW0FUVEFDSEVEXSA9IGZhbHNlO1xuICAgICAgICBub2RlW0RFVEFDSEVEXSA9IHRydWU7XG4gICAgICAgIGkgPSAxO1xuICAgICAgfVxuICAgICAgaWYgKGkgJiYgKGZuID0gbm9kZVthY3Rpb24gKyBDQUxMQkFDS10pKSBmbi5jYWxsKG5vZGUpO1xuICAgIH1cbiAgfVxuICBcbiAgXG4gIFxuICAvLyBWMSBpbiBkYSBIb3VzZSFcbiAgZnVuY3Rpb24gQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5KCkge31cbiAgXG4gIEN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRSZWdpc3RyeSxcbiAgICAvLyBhIHdvcmthcm91bmQgZm9yIHRoZSBzdHViYm9ybiBXZWJLaXRcbiAgICBkZWZpbmU6IHVzYWJsZUN1c3RvbUVsZW1lbnRzID9cbiAgICAgIGZ1bmN0aW9uIChuYW1lLCBDbGFzcywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIENFUkRlZmluZShuYW1lLCBDbGFzcywgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIE5BTUUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3RydWN0b3JzW05BTUVdID0ge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IENsYXNzLFxuICAgICAgICAgICAgY3JlYXRlOiBbTkFNRV1cbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGVOYW1lcy5zZXQoQ2xhc3MsIE5BTUUpO1xuICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH0gOlxuICAgICAgQ0VSRGVmaW5lLFxuICAgIGdldDogdXNhYmxlQ3VzdG9tRWxlbWVudHMgP1xuICAgICAgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbUVsZW1lbnRzLmdldChuYW1lKSB8fCBnZXQobmFtZSk7XG4gICAgICB9IDpcbiAgICAgIGdldCxcbiAgICB3aGVuRGVmaW5lZDogdXNhYmxlQ3VzdG9tRWxlbWVudHMgP1xuICAgICAgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgICAgICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQobmFtZSksXG4gICAgICAgICAgd2hlbkRlZmluZWQobmFtZSlcbiAgICAgICAgXSk7XG4gICAgICB9IDpcbiAgICAgIHdoZW5EZWZpbmVkXG4gIH07XG4gIFxuICBmdW5jdGlvbiBDRVJEZWZpbmUobmFtZSwgQ2xhc3MsIG9wdGlvbnMpIHtcbiAgICB2YXJcbiAgICAgIGlzID0gb3B0aW9ucyAmJiBvcHRpb25zW0VYVEVORFNdIHx8ICcnLFxuICAgICAgQ1Byb3RvID0gQ2xhc3MucHJvdG90eXBlLFxuICAgICAgcHJvdG8gPSBjcmVhdGUoQ1Byb3RvKSxcbiAgICAgIGF0dHJpYnV0ZXMgPSBDbGFzcy5vYnNlcnZlZEF0dHJpYnV0ZXMgfHwgZW1wdHksXG4gICAgICBkZWZpbml0aW9uID0ge3Byb3RvdHlwZTogcHJvdG99XG4gICAgO1xuICAgIC8vIFRPRE86IGlzIHRoaXMgbmVlZGVkIGF0IGFsbCBzaW5jZSBpdCdzIGluaGVyaXRlZD9cbiAgICAvLyBkZWZpbmVQcm9wZXJ0eShwcm90bywgJ2NvbnN0cnVjdG9yJywge3ZhbHVlOiBDbGFzc30pO1xuICAgIHNhZmVQcm9wZXJ0eShwcm90bywgQ1JFQVRFRF9DQUxMQkFDSywge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChqdXN0Q3JlYXRlZCkganVzdENyZWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBlbHNlIGlmICghdGhpc1tEUkVDRVYxXSkge1xuICAgICAgICAgICAgdGhpc1tEUkVDRVYxXSA9IHRydWU7XG4gICAgICAgICAgICBuZXcgQ2xhc3ModGhpcyk7XG4gICAgICAgICAgICBpZiAoQ1Byb3RvW0NSRUFURURfQ0FMTEJBQ0tdKVxuICAgICAgICAgICAgICBDUHJvdG9bQ1JFQVRFRF9DQUxMQkFDS10uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBpbmZvID0gY29uc3RydWN0b3JzW25vZGVOYW1lcy5nZXQoQ2xhc3MpXTtcbiAgICAgICAgICAgIGlmICghdXNhYmxlQ3VzdG9tRWxlbWVudHMgfHwgaW5mby5jcmVhdGUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBub3RpZnlBdHRyaWJ1dGVzKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBzYWZlUHJvcGVydHkocHJvdG8sIEFUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKC0xIDwgaW5kZXhPZi5jYWxsKGF0dHJpYnV0ZXMsIG5hbWUpKVxuICAgICAgICAgIENQcm90b1tBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoQ1Byb3RvW0NPTk5FQ1RFRF9DQUxMQkFDS10pIHtcbiAgICAgIHNhZmVQcm9wZXJ0eShwcm90bywgQVRUQUNIRURfQ0FMTEJBQ0ssIHtcbiAgICAgICAgdmFsdWU6IENQcm90b1tDT05ORUNURURfQ0FMTEJBQ0tdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKENQcm90b1tESVNDT05ORUNURURfQ0FMTEJBQ0tdKSB7XG4gICAgICBzYWZlUHJvcGVydHkocHJvdG8sIERFVEFDSEVEX0NBTExCQUNLLCB7XG4gICAgICAgIHZhbHVlOiBDUHJvdG9bRElTQ09OTkVDVEVEX0NBTExCQUNLXVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpcykgZGVmaW5pdGlvbltFWFRFTkRTXSA9IGlzO1xuICAgIG5hbWUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3RydWN0b3JzW25hbWVdID0ge1xuICAgICAgY29uc3RydWN0b3I6IENsYXNzLFxuICAgICAgY3JlYXRlOiBpcyA/IFtpcywgc2Vjb25kQXJndW1lbnQobmFtZSldIDogW25hbWVdXG4gICAgfTtcbiAgICBub2RlTmFtZXMuc2V0KENsYXNzLCBuYW1lKTtcbiAgICBkb2N1bWVudFtSRUdJU1RFUl9FTEVNRU5UXShuYW1lLnRvTG93ZXJDYXNlKCksIGRlZmluaXRpb24pO1xuICAgIHdoZW5EZWZpbmVkKG5hbWUpO1xuICAgIHdhaXRpbmdMaXN0W25hbWVdLnIoKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICB2YXIgaW5mbyA9IGNvbnN0cnVjdG9yc1tuYW1lLnRvVXBwZXJDYXNlKCldO1xuICAgIHJldHVybiBpbmZvICYmIGluZm8uY29uc3RydWN0b3I7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldElzKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID9cbiAgICAgICAgb3B0aW9ucyA6IChvcHRpb25zICYmIG9wdGlvbnMuaXMgfHwgJycpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBub3RpZnlBdHRyaWJ1dGVzKHNlbGYpIHtcbiAgICB2YXJcbiAgICAgIGNhbGxiYWNrID0gc2VsZltBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10sXG4gICAgICBhdHRyaWJ1dGVzID0gY2FsbGJhY2sgPyBzZWxmLmF0dHJpYnV0ZXMgOiBlbXB0eSxcbiAgICAgIGkgPSBhdHRyaWJ1dGVzLmxlbmd0aCxcbiAgICAgIGF0dHJpYnV0ZVxuICAgIDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBhdHRyaWJ1dGUgPSAgYXR0cmlidXRlc1tpXTsgLy8gfHwgYXR0cmlidXRlcy5pdGVtKGkpO1xuICAgICAgY2FsbGJhY2suY2FsbChcbiAgICAgICAgc2VsZixcbiAgICAgICAgYXR0cmlidXRlLm5hbWUgfHwgYXR0cmlidXRlLm5vZGVOYW1lLFxuICAgICAgICBudWxsLFxuICAgICAgICBhdHRyaWJ1dGUudmFsdWUgfHwgYXR0cmlidXRlLm5vZGVWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHdoZW5EZWZpbmVkKG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgIGlmICghKG5hbWUgaW4gd2FpdGluZ0xpc3QpKSB7XG4gICAgICB3YWl0aW5nTGlzdFtuYW1lXSA9IHt9O1xuICAgICAgd2FpdGluZ0xpc3RbbmFtZV0ucCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHdhaXRpbmdMaXN0W25hbWVdLnIgPSByZXNvbHZlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB3YWl0aW5nTGlzdFtuYW1lXS5wO1xuICB9XG4gIFxuICBmdW5jdGlvbiBwb2x5ZmlsbFYxKCkge1xuICAgIGlmIChjdXN0b21FbGVtZW50cykgZGVsZXRlIHdpbmRvdy5jdXN0b21FbGVtZW50cztcbiAgICBkZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdjdXN0b21FbGVtZW50cycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBuZXcgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5KClcbiAgICB9KTtcbiAgICBkZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdDdXN0b21FbGVtZW50UmVnaXN0cnknLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5XG4gICAgfSk7XG4gICAgZm9yICh2YXJcbiAgICAgIHBhdGNoQ2xhc3MgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgQ2xhc3MgPSB3aW5kb3dbbmFtZV07XG4gICAgICAgIGlmIChDbGFzcykge1xuICAgICAgICAgIHdpbmRvd1tuYW1lXSA9IGZ1bmN0aW9uIEN1c3RvbUVsZW1lbnRzVjEoc2VsZikge1xuICAgICAgICAgICAgdmFyIGluZm8sIGlzTmF0aXZlO1xuICAgICAgICAgICAgaWYgKCFzZWxmKSBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmICghc2VsZltEUkVDRVYxXSkge1xuICAgICAgICAgICAgICBqdXN0Q3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGluZm8gPSBjb25zdHJ1Y3RvcnNbbm9kZU5hbWVzLmdldChzZWxmLmNvbnN0cnVjdG9yKV07XG4gICAgICAgICAgICAgIGlzTmF0aXZlID0gdXNhYmxlQ3VzdG9tRWxlbWVudHMgJiYgaW5mby5jcmVhdGUubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgICBzZWxmID0gaXNOYXRpdmUgP1xuICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KENsYXNzLCBlbXB0eSwgaW5mby5jb25zdHJ1Y3RvcikgOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYXBwbHkoZG9jdW1lbnQsIGluZm8uY3JlYXRlKTtcbiAgICAgICAgICAgICAgc2VsZltEUkVDRVYxXSA9IHRydWU7XG4gICAgICAgICAgICAgIGp1c3RDcmVhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmICghaXNOYXRpdmUpIG5vdGlmeUF0dHJpYnV0ZXMoc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdpbmRvd1tuYW1lXS5wcm90b3R5cGUgPSBDbGFzcy5wcm90b3R5cGU7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIENsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHdpbmRvd1tuYW1lXTtcbiAgICAgICAgICB9IGNhdGNoKFdlYktpdCkge1xuICAgICAgICAgICAgZml4R2V0Q2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkoQ2xhc3MsIERSRUNFVjEsIHt2YWx1ZTogd2luZG93W25hbWVdfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQ2xhc3NlcyA9IGh0bWxDbGFzcy5nZXQoL15IVE1MW0EtWl0qW2Etel0vKSxcbiAgICAgIGkgPSBDbGFzc2VzLmxlbmd0aDtcbiAgICAgIGktLTtcbiAgICAgIHBhdGNoQ2xhc3MoQ2xhc3Nlc1tpXSlcbiAgICApIHt9XG4gICAgKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucykge1xuICAgICAgdmFyIGlzID0gZ2V0SXMob3B0aW9ucyk7XG4gICAgICByZXR1cm4gaXMgP1xuICAgICAgICBwYXRjaGVkQ3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIG5hbWUsIHNlY29uZEFyZ3VtZW50KGlzKSkgOlxuICAgICAgICBwYXRjaGVkQ3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIG5hbWUpO1xuICAgIH0pO1xuICAgIGlmICghVjApIHtcbiAgICAgIGp1c3RTZXR1cCA9IHRydWU7XG4gICAgICBkb2N1bWVudFtSRUdJU1RFUl9FTEVNRU5UXSgnJyk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBpZiBjdXN0b21FbGVtZW50cyBpcyBub3QgdGhlcmUgYXQgYWxsXG4gIGlmICghY3VzdG9tRWxlbWVudHMgfHwgcG9seWZpbGwgPT09ICdmb3JjZScpIHBvbHlmaWxsVjEoKTtcbiAgZWxzZSB7XG4gICAgLy8gaWYgYXZhaWxhYmxlIHRlc3QgZXh0ZW5kcyB3b3JrIGFzIGV4cGVjdGVkXG4gICAgdHJ5IHtcbiAgICAgIChmdW5jdGlvbiAoRFJFLCBvcHRpb25zLCBuYW1lKSB7XG4gICAgICAgIG9wdGlvbnNbRVhURU5EU10gPSAnYSc7XG4gICAgICAgIERSRS5wcm90b3R5cGUgPSBjcmVhdGUoSFRNTEFuY2hvckVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgICAgRFJFLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERSRTtcbiAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBEUkUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2V0QXR0cmlidXRlLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScsIHtpczogbmFtZX0pLCAnaXMnKSAhPT0gbmFtZSB8fFxuICAgICAgICAgICh1c2FibGVDdXN0b21FbGVtZW50cyAmJiBnZXRBdHRyaWJ1dGUuY2FsbChuZXcgRFJFKCksICdpcycpICE9PSBuYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICB9KFxuICAgICAgICBmdW5jdGlvbiBEUkUoKSB7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KEhUTUxBbmNob3JFbGVtZW50LCBbXSwgRFJFKTtcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgICAgICdkb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50LWEnXG4gICAgICApKTtcbiAgICB9IGNhdGNoKG9fTykge1xuICAgICAgLy8gb3IgZm9yY2UgdGhlIHBvbHlmaWxsIGlmIG5vdFxuICAgICAgLy8gYW5kIGtlZXAgaW50ZXJuYWwgb3JpZ2luYWwgcmVmZXJlbmNlXG4gICAgICBwb2x5ZmlsbFYxKCk7XG4gICAgfVxuICB9XG4gIFxuICB0cnkge1xuICAgIGNyZWF0ZUVsZW1lbnQuY2FsbChkb2N1bWVudCwgJ2EnLCAnYScpO1xuICB9IGNhdGNoKEZpcmVGb3gpIHtcbiAgICBzZWNvbmRBcmd1bWVudCA9IGZ1bmN0aW9uIChpcykge1xuICAgICAgcmV0dXJuIHtpczogaXMudG9Mb3dlckNhc2UoKX07XG4gICAgfTtcbiAgfVxuICBcbn1cblxuZXhwb3J0cy5pbnN0YWxsQ3VzdG9tRWxlbWVudHMgPSBpbnN0YWxsQ3VzdG9tRWxlbWVudHM7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgRVM2L1Byb21pc2VzIEErIFByb21pc2UgaW5zdGFuY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uKCo9KSwgZnVuY3Rpb24gKCo9KSl9IHJlc29sdmVyXG4gKi9cbmZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29uc3RydWN0b3IgUHJvbWlzZSByZXF1aXJlcyBgbmV3YCcpO1xuICB9XG4gIGlmICghaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHBhc3MgcmVzb2x2ZXIgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb24odGhpczpQcm9taXNlLCo9LGZ1bmN0aW9uKCo9KSxmdW5jdGlvbigqPSksRGVmZXJyZWQpOiFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5fc3RhdGUgPSBQZW5kaW5nUHJvbWlzZTtcblxuICAvKipcbiAgICogQHR5cGUgeyp9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLl92YWx1ZSA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuX2lzQ2hhaW5FbmQgPSB0cnVlO1xuXG4gIGRvUmVzb2x2ZShcbiAgICB0aGlzLFxuICAgIGFkb3B0ZXIodGhpcywgRnVsZmlsbGVkUHJvbWlzZSksXG4gICAgYWRvcHRlcih0aGlzLCBSZWplY3RlZFByb21pc2UpLFxuICAgIHsgdGhlbjogcmVzb2x2ZXIgfVxuICApO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICBQdWJsaWMgSW5zdGFuY2UgTWV0aG9kc1xuICoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBwcm9taXNlIGluc3RhbmNlIHRoYXQgd2lsbCByZWNlaXZlIHRoZSByZXN1bHQgb2YgdGhpcyBwcm9taXNlXG4gKiBhcyBpbnB1dHMgdG8gdGhlIG9uRnVsZmlsbGVkIG9yIG9uUmVqZWN0ZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IG9uRnVsZmlsbGVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBvblJlamVjdGVkXG4gKi9cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICBvbkZ1bGZpbGxlZCA9IGlzRnVuY3Rpb24ob25GdWxmaWxsZWQpID8gb25GdWxmaWxsZWQgOiB2b2lkIDA7XG4gIG9uUmVqZWN0ZWQgPSBpc0Z1bmN0aW9uKG9uUmVqZWN0ZWQpID8gb25SZWplY3RlZCA6IHZvaWQgMDtcblxuICBpZiAob25GdWxmaWxsZWQgfHwgb25SZWplY3RlZCkge1xuICAgIHRoaXMuX2lzQ2hhaW5FbmQgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9zdGF0ZShcbiAgICB0aGlzLl92YWx1ZSxcbiAgICBvbkZ1bGZpbGxlZCxcbiAgICBvblJlamVjdGVkXG4gICk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcHJvbWlzZSB0aGF0IHdpbGwgaGFuZGxlIHRoZSByZWplY3RlZCBzdGF0ZSBvZiB0aGlzIHByb21pc2UuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbigqKX0gb25SZWplY3RlZFxuICogQHJldHVybnMgeyFQcm9taXNlfVxuICovXG5Qcm9taXNlLnByb3RvdHlwZS5jYXRjaCA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIG9uUmVqZWN0ZWQpO1xufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgUHVibGljIFN0YXRpYyBNZXRob2RzXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVsZmlsbGVkIFByb21pc2Ugb2YgdmFsdWUuIElmIHZhbHVlIGlzIGl0c2VsZiBhIHRoZW4tYWJsZSxcbiAqIHJlc29sdmVzIHdpdGggdGhlIHRoZW4tYWJsZSdzIHZhbHVlLlxuICpcbiAqIEB0aGlzIHshUHJvbWlzZX1cbiAqIEBwYXJhbSB7Kj19IHZhbHVlXG4gKiBAcmV0dXJucyB7IVByb21pc2V9XG4gKi9cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlO1xuXG4gIGlmIChpc09iamVjdCh2YWx1ZSkgJiYgdmFsdWUgaW5zdGFuY2VvZiB0aGlzKSB7XG4gICAgcHJvbWlzZSA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZX0gKi8ocHJvbWlzZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSByZWplY3RlZCBQcm9taXNlIG9mIHJlYXNvbi5cbiAqXG4gKiBAdGhpcyB7IVByb21pc2V9XG4gKiBAcGFyYW0geyo9fSByZWFzb25cbiAqIEByZXR1cm5zIHshUHJvbWlzZX1cbiAqL1xuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24oXywgcmVqZWN0KSB7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlfSAqLyhwcm9taXNlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIFByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgd2l0aCBhbiBhcnJheSBvZiB0aGUgdmFsdWVzIG9mIHRoZVxuICogcGFzc2VkIGluIHByb21pc2VzLiBJZiBhbnkgcHJvbWlzZSByZWplY3RzLCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsXG4gKiByZWplY3QuXG4gKlxuICogQHRoaXMgeyFQcm9taXNlfVxuICogQHBhcmFtIHshQXJyYXk8UHJvbWlzZXwqPn0gcHJvbWlzZXNcbiAqIEByZXR1cm5zIHshUHJvbWlzZX1cbiAqL1xuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcykge1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgbGVuZ3RoID0gcHJvbWlzZXMubGVuZ3RoO1xuICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblxuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHZhbHVlcyk7XG4gICAgfVxuXG4gICAgZWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICgtLWxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIC8qKiBAdHlwZSB7IVByb21pc2V9ICovKHByb21pc2UpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvciByZWplY3QgYmFzZWQgb24gdGhlIGZpcnN0XG4gKiByZXNvbHZlZCBvciByZWplY3RlZCBwcm9taXNlLlxuICpcbiAqIEB0aGlzIHshUHJvbWlzZX1cbiAqIEBwYXJhbSB7IUFycmF5PFByb21pc2V8Kj59IHByb21pc2VzXG4gKiBAcmV0dXJucyB7IVByb21pc2V9XG4gKi9cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUocHJvbWlzZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlfSAqLyhwcm9taXNlKTtcbn07XG5cbnZhciBvblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uID0gZnVuY3Rpb24ocmVhc29uLCBwcm9taXNlKSB7XG4gIHRocm93IHJlYXNvbjtcbn07XG5cbi8qKlxuICogQW4gaW50ZXJuYWwgdXNlIHN0YXRpYyBmdW5jdGlvbi5cbiAqL1xuUHJvbWlzZS5fb3ZlcnJpZGVVbmhhbmRsZWRFeGNlcHRpb25IYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuICBvblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uID0gaGFuZGxlcjtcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIFByaXZhdGUgZnVuY3Rpb25zXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBUaGUgRnVsZmlsbGVkIFByb21pc2Ugc3RhdGUuIENhbGxzIG9uRnVsZmlsbGVkIHdpdGggdGhlIHJlc29sdmVkIHZhbHVlIG9mXG4gKiB0aGlzIHByb21pc2UsIGNyZWF0aW5nIGEgbmV3IHByb21pc2UuXG4gKlxuICogSWYgdGhlcmUgaXMgbm8gb25GdWxmaWxsZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgcHJvbWlzZSB0byBhdm9pZCBhbiBwcm9taXNlXG4gKiBpbnN0YW5jZS5cbiAqXG4gKiBAdGhpcyB7IVByb21pc2V9IFRoZSBjdXJyZW50IHByb21pc2VcbiAqIEBwYXJhbSB7Kj19IHZhbHVlIFRoZSBjdXJyZW50IHByb21pc2UncyByZXNvbHZlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0pPX0gb25GdWxmaWxsZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0pPX0gdW51c2VkXG4gKiBAcGFyYW0ge0RlZmVycmVkfSBkZWZlcnJlZCBBIGRlZmVycmVkIG9iamVjdCB0aGF0IGhvbGRzIGEgcHJvbWlzZSBhbmQgaXRzXG4gKiAgICAgcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy4gSXQgSVMgTk9UIHBhc3NlZCB3aGVuIGNhbGxlZCBmcm9tXG4gKiAgICAgUHJvbWlzZSN0aGVuIHRvIHNhdmUgYW4gb2JqZWN0IGluc3RhbmNlIChzaW5jZSB3ZSBtYXkgcmV0dXJuIHRoZSBjdXJyZW50XG4gKiAgICAgcHJvbWlzZSkuIEl0IElTIHBhc3NlZCBpbiB3aGVuIGFkb3B0aW5nIHRoZSBGdWxmaWxsZWQgc3RhdGUgZnJvbSB0aGVcbiAqICAgICBQZW5kaW5nIHN0YXRlLlxuICogQHJldHVybnMgeyFQcm9taXNlfVxuICovXG5mdW5jdGlvbiBGdWxmaWxsZWRQcm9taXNlKHZhbHVlLCBvbkZ1bGZpbGxlZCwgdW51c2VkLCBkZWZlcnJlZCkge1xuICBpZiAoIW9uRnVsZmlsbGVkKSB7XG4gICAgZGVmZXJyZWRBZG9wdChkZWZlcnJlZCwgRnVsZmlsbGVkUHJvbWlzZSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGlmICghZGVmZXJyZWQpIHtcbiAgICBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCh0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfVxuICBkZWZlcih0cnlDYXRjaERlZmVycmVkKGRlZmVycmVkLCBvbkZ1bGZpbGxlZCwgdmFsdWUpKTtcbiAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XG5cbi8qKlxuICogVGhlIFJlamVjdGVkIFByb21pc2Ugc3RhdGUuIENhbGxzIG9uUmVqZWN0ZWQgd2l0aCB0aGUgcmVzb2x2ZWQgdmFsdWUgb2ZcbiAqIHRoaXMgcHJvbWlzZSwgY3JlYXRpbmcgYSBuZXcgcHJvbWlzZS5cbiAqXG4gKiBJZiB0aGVyZSBpcyBubyBvblJlamVjdGVkLCByZXR1cm5zIHRoZSBjdXJyZW50IHByb21pc2UgdG8gYXZvaWQgYW4gcHJvbWlzZVxuICogaW5zdGFuY2UuXG4gKlxuICogQHRoaXMgeyFQcm9taXNlfSBUaGUgY3VycmVudCBwcm9taXNlXG4gKiBAcGFyYW0geyo9fSByZWFzb24gVGhlIGN1cnJlbnQgcHJvbWlzZSdzIHJlamVjdGlvbiByZWFzb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCo9KT19IHVudXNlZFxuICogQHBhcmFtIHtmdW5jdGlvbigqPSk9fSBvblJlamVjdGVkXG4gKiBAcGFyYW0ge0RlZmVycmVkfSBkZWZlcnJlZCBBIGRlZmVycmVkIG9iamVjdCB0aGF0IGhvbGRzIGEgcHJvbWlzZSBhbmQgaXRzXG4gKiAgICAgcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy4gSXQgSVMgTk9UIHBhc3NlZCB3aGVuIGNhbGxlZCBmcm9tXG4gKiAgICAgUHJvbWlzZSN0aGVuIHRvIHNhdmUgYW4gb2JqZWN0IGluc3RhbmNlIChzaW5jZSB3ZSBtYXkgcmV0dXJuIHRoZSBjdXJyZW50XG4gKiAgICAgcHJvbWlzZSkuIEl0IElTIHBhc3NlZCBpbiB3aGVuIGFkb3B0aW5nIHRoZSBSZWplY3RlZCBzdGF0ZSBmcm9tIHRoZVxuICogICAgIFBlbmRpbmcgc3RhdGUuXG4gKiBAcmV0dXJucyB7IVByb21pc2V9XG4gKi9cbmZ1bmN0aW9uIFJlamVjdGVkUHJvbWlzZShyZWFzb24sIHVudXNlZCwgb25SZWplY3RlZCwgZGVmZXJyZWQpIHtcbiAgaWYgKCFvblJlamVjdGVkKSB7XG4gICAgZGVmZXJyZWRBZG9wdChkZWZlcnJlZCwgUmVqZWN0ZWRQcm9taXNlLCByZWFzb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGlmICghZGVmZXJyZWQpIHtcbiAgICBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCh0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfVxuICBkZWZlcih0cnlDYXRjaERlZmVycmVkKGRlZmVycmVkLCBvblJlamVjdGVkLCByZWFzb24pKTtcbiAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XG5cbi8qKlxuICogVGhlIFBlbmRpbmcgUHJvbWlzZSBzdGF0ZS4gRXZlbnR1YWxseSBjYWxscyBvbkZ1bGZpbGxlZCBvbmNlIHRoZSBwcm9taXNlIGhhc1xuICogcmVzb2x2ZWQsIG9yIG9uUmVqZWN0ZWQgb25jZSB0aGUgcHJvbWlzZSByZWplY3RzLlxuICpcbiAqIElmIHRoZXJlIGlzIG5vIG9uRnVsZmlsbGVkIGFuZCBubyBvblJlamVjdGVkLCByZXR1cm5zIHRoZSBjdXJyZW50IHByb21pc2UgdG9cbiAqIGF2b2lkIGFuIHByb21pc2UgaW5zdGFuY2UuXG4gKlxuICogQHRoaXMgeyFQcm9taXNlfSBUaGUgY3VycmVudCBwcm9taXNlXG4gKiBAcGFyYW0geyo9fSBxdWV1ZSBUaGUgY3VycmVudCBwcm9taXNlJ3MgcGVuZGluZyBwcm9taXNlcyBxdWV1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0pPX0gb25GdWxmaWxsZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0pPX0gb25SZWplY3RlZFxuICogQHBhcmFtIHtEZWZlcnJlZH0gZGVmZXJyZWQgQSBkZWZlcnJlZCBvYmplY3QgdGhhdCBob2xkcyBhIHByb21pc2UgYW5kIGl0c1xuICogICAgIHJlc29sdmUgYW5kIHJlamVjdCBmdW5jdGlvbnMuIEl0IElTIE5PVCBwYXNzZWQgd2hlbiBjYWxsZWQgZnJvbVxuICogICAgIFByb21pc2UjdGhlbiB0byBzYXZlIGFuIG9iamVjdCBpbnN0YW5jZSAoc2luY2Ugd2UgbWF5IHJldHVybiB0aGUgY3VycmVudFxuICogICAgIHByb21pc2UpLiBJdCBJUyBwYXNzZWQgaW4gd2hlbiBhZG9wdGluZyB0aGUgUGVuZGluZyBzdGF0ZSBmcm9tIHRoZVxuICogICAgIFBlbmRpbmcgc3RhdGUgb2YgYW5vdGhlciBwcm9taXNlLlxuICogQHJldHVybnMgeyFQcm9taXNlfVxuICovXG5mdW5jdGlvbiBQZW5kaW5nUHJvbWlzZShxdWV1ZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGRlZmVycmVkKSB7XG4gIGlmICghZGVmZXJyZWQpIHtcbiAgICBpZiAoIW9uRnVsZmlsbGVkICYmICFvblJlamVjdGVkKSB7IHJldHVybiB0aGlzOyB9XG4gICAgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQodGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cbiAgcXVldWUucHVzaCh7XG4gICAgZGVmZXJyZWQ6IGRlZmVycmVkLFxuICAgIG9uRnVsZmlsbGVkOiBvbkZ1bGZpbGxlZCB8fCBkZWZlcnJlZC5yZXNvbHZlLFxuICAgIG9uUmVqZWN0ZWQ6IG9uUmVqZWN0ZWQgfHwgZGVmZXJyZWQucmVqZWN0XG4gIH0pO1xuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgZGVmZXJyZWQgaW5zdGFuY2UgdGhhdCBob2xkcyBhIHByb21pc2UgYW5kIGl0cyByZXNvbHZlIGFuZFxuICogcmVqZWN0IGZ1bmN0aW9ucy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRGVmZXJyZWQoUHJvbWlzZSkge1xuICB2YXIgZGVmZXJyZWQgPSB0aGlzO1xuICAvKiogQHR5cGUgeyFQcm9taXNlfSAqL1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvKiogQHR5cGUge2Z1bmN0aW9uKCo9KX0gKi9cbiAgICBkZWZlcnJlZC5yZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgIC8qKiBAdHlwZSB7ZnVuY3Rpb24oKj0pfSAqL1xuICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHJldHVybiBkZWZlcnJlZDtcbn1cblxuLyoqXG4gKiBUcmFuc2l0aW9ucyB0aGUgc3RhdGUgb2YgcHJvbWlzZSB0byBhbm90aGVyIHN0YXRlLiBUaGlzIGlzIG9ubHkgZXZlciBjYWxsZWRcbiAqIG9uIHdpdGggYSBwcm9taXNlIHRoYXQgaXMgY3VycmVudGx5IGluIHRoZSBQZW5kaW5nIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7IVByb21pc2V9IHByb21pc2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpQcm9taXNlLCo9LGZ1bmN0aW9uKCo9KSxmdW5jdGlvbigqPSksRGVmZXJyZWQpOiFQcm9taXNlfSBzdGF0ZVxuICogQHBhcmFtIHsqPX0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gYWRvcHQocHJvbWlzZSwgc3RhdGUsIHZhbHVlLCBhZG9wdGVlKSB7XG4gIHZhciBxdWV1ZSA9IHByb21pc2UuX3ZhbHVlO1xuICBwcm9taXNlLl9zdGF0ZSA9IHN0YXRlO1xuICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuXG4gIGlmIChhZG9wdGVlICYmIHN0YXRlID09PSBQZW5kaW5nUHJvbWlzZSkge1xuICAgIGFkb3B0ZWUuX3N0YXRlKHZhbHVlLCB2b2lkIDAsIHZvaWQgMCwge1xuICAgICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgIHJlc29sdmU6IHZvaWQgMCxcbiAgICAgIHJlamVjdDogdm9pZCAwXG4gICAgfSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5leHQgPSBxdWV1ZVtpXTtcbiAgICBwcm9taXNlLl9zdGF0ZShcbiAgICAgIHZhbHVlLFxuICAgICAgbmV4dC5vbkZ1bGZpbGxlZCxcbiAgICAgIG5leHQub25SZWplY3RlZCxcbiAgICAgIG5leHQuZGVmZXJyZWRcbiAgICApO1xuICB9XG4gIHF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgcmVqZWN0ZWQgcHJvbWlzZSB3aWxsIGJlIFwiaGFuZGxlZFwiLlxuICBpZiAoc3RhdGUgPT09IFJlamVjdGVkUHJvbWlzZSAmJiBwcm9taXNlLl9pc0NoYWluRW5kKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9taXNlLl9pc0NoYWluRW5kKSB7XG4gICAgICAgIG9uUG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24odmFsdWUsIHByb21pc2UpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG59XG5cbi8qKlxuICogQSBwYXJ0aWFsIGFwcGxpY2F0aW9uIG9mIGFkb3B0LlxuICpcbiAqIEBwYXJhbSB7IVByb21pc2V9IHByb21pc2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpQcm9taXNlLCo9LGZ1bmN0aW9uKCo9KSxmdW5jdGlvbigqPSksRGVmZXJyZWQpOiFQcm9taXNlfSBzdGF0ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKCo9KX1cbiAqL1xuZnVuY3Rpb24gYWRvcHRlcihwcm9taXNlLCBzdGF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBhZG9wdChwcm9taXNlLCBzdGF0ZSwgdmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgYSBkZWZlcnJlZCBwcm9taXNlcyBzdGF0ZS4gTmVjZXNzYXJ5IGZvciB1cGRhdGluZyBhbiBhZG9wdGluZ1xuICogcHJvbWlzZSdzIHN0YXRlIHdoZW4gdGhlIGFkb3B0ZWUgcmVzb2x2ZXMuXG4gKlxuICogQHBhcmFtIHs/RGVmZXJyZWR9IGRlZmVycmVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6UHJvbWlzZSwqPSxmdW5jdGlvbigqPSksZnVuY3Rpb24oKj0pLERlZmVycmVkKTohUHJvbWlzZX0gc3RhdGVcbiAqIEBwYXJhbSB7Kj19IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGRlZmVycmVkQWRvcHQoZGVmZXJyZWQsIHN0YXRlLCB2YWx1ZSkge1xuICBpZiAoZGVmZXJyZWQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgcHJvbWlzZS5fc3RhdGUgPSBzdGF0ZTtcbiAgICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogQSBuby1vcCBmdW5jdGlvbiB0byBwcmV2ZW50IGRvdWJsZSByZXNvbHZpbmcuXG4gKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vKipcbiAqIFRlc3RzIGlmIGZuIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IGZuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihmbikge1xuICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIFRlc3RzIGlmIGZuIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBvYmogPT09IE9iamVjdChvYmopO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgZWFjaCBlbGVtZW50IG9mIGFuIGFycmF5LCBjYWxsaW5nIHRoZSBpdGVyYXRvciB3aXRoIHRoZVxuICogZWxlbWVudCBhbmQgaXRzIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7IUFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCo9LG51bWJlcil9IGl0ZXJhdG9yXG4gKi9cbmZ1bmN0aW9uIGVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3IpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgaXRlcmF0b3IoY29sbGVjdGlvbltpXSwgaSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGF0dGVtcHQgdG8gcmVzb2x2ZSB0aGUgZGVmZXJyZWQgd2l0aCB0aGUgcmV0dXJuXG4gKiBvZiBmbi4gSWYgYW55IGVycm9yIGlzIHJhaXNlZCwgcmVqZWN0cyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7IURlZmVycmVkfSBkZWZlcnJlZFxuICogQHBhcmFtIHtmdW5jdGlvbigqPSl9IGZuXG4gKiBAcGFyYW0geyp9IGFyZ1xuICogQHJldHVybnMge2Z1bmN0aW9uKCl9XG4gKi9cbmZ1bmN0aW9uIHRyeUNhdGNoRGVmZXJyZWQoZGVmZXJyZWQsIGZuLCBhcmcpIHtcbiAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICB2YXIgcmVzb2x2ZSA9IGRlZmVycmVkLnJlc29sdmU7XG4gIHZhciByZWplY3QgPSBkZWZlcnJlZC5yZWplY3Q7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHJlc3VsdCA9IGZuKGFyZyk7XG4gICAgICBkb1Jlc29sdmUocHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0LCByZXN1bHQsIHJlc3VsdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBRdWV1ZXMgYW5kIGV4ZWN1dGVzIG11bHRpcGxlIGRlZmVycmVkIGZ1bmN0aW9ucyBvbiBhbm90aGVyIHJ1biBsb29wLlxuICovXG52YXIgZGVmZXIgPSAoZnVuY3Rpb24oKSB7XG4gIC8qKlxuICAgKiBEZWZlcnMgZm4gdG8gYW5vdGhlciBydW4gbG9vcC5cbiAgICovXG4gIHZhciBzY2hlZHVsZUZsdXNoO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBvc3RNZXNzYWdlKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmbHVzaCk7XG4gICAgc2NoZWR1bGVGbHVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgd2luZG93LnBvc3RNZXNzYWdlKCdtYWNyby10YXNrJywgJyonKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHNjaGVkdWxlRmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZmx1c2gsIDApO1xuICAgIH07XG4gIH1cblxuICB2YXIgcXVldWUgPSBuZXcgQXJyYXkoMTYpO1xuICB2YXIgbGVuZ3RoID0gMDtcblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZm4gPSBxdWV1ZVtpXTtcbiAgICAgIHF1ZXVlW2ldID0gbnVsbDtcbiAgICAgIGZuKCk7XG4gICAgfVxuICAgIGxlbmd0aCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmblxuICAgKi9cbiAgZnVuY3Rpb24gZGVmZXIoZm4pIHtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7IHNjaGVkdWxlRmx1c2goKTsgfVxuICAgIHF1ZXVlW2xlbmd0aCsrXSA9IGZuO1xuICB9XG5cbiAgcmV0dXJuIGRlZmVyO1xufSkoKTtcblxuLyoqXG4gKiBUaGUgUHJvbWlzZSByZXNvbHV0aW9uIHByb2NlZHVyZS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gKlxuICogQHBhcmFtIHshUHJvbWlzZX0gcHJvbWlzZVxuICogQHBhcmFtIHtmdW5jdGlvbigqPSl9IHJlc29sdmVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKj0pfSByZWplY3RcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEBwYXJhbSB7Kj19IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZG9SZXNvbHZlKHByb21pc2UsIHJlc29sdmUsIHJlamVjdCwgdmFsdWUsIGNvbnRleHQpIHtcbiAgdmFyIF9yZWplY3QgPSByZWplY3Q7XG4gIHZhciB0aGVuO1xuICB2YXIgX3Jlc29sdmU7XG4gIHRyeSB7XG4gICAgaWYgKHZhbHVlID09PSBwcm9taXNlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgZnVsZmlsbCBwcm9taXNlIHdpdGggaXRzZWxmJyk7XG4gICAgfVxuICAgIHZhciBpc09iaiA9IGlzT2JqZWN0KHZhbHVlKTtcbiAgICBpZiAoaXNPYmogJiYgdmFsdWUgaW5zdGFuY2VvZiBwcm9taXNlLmNvbnN0cnVjdG9yKSB7XG4gICAgICBhZG9wdChwcm9taXNlLCB2YWx1ZS5fc3RhdGUsIHZhbHVlLl92YWx1ZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmogJiYgKHRoZW4gPSB2YWx1ZS50aGVuKSAmJiBpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICBfcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF9yZXNvbHZlID0gX3JlamVjdCA9IG5vb3A7XG4gICAgICAgIGRvUmVzb2x2ZShwcm9taXNlLCByZXNvbHZlLCByZWplY3QsIHZhbHVlLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgX3JlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBfcmVzb2x2ZSA9IF9yZWplY3QgPSBub29wO1xuICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgIH07XG4gICAgICB0aGVuLmNhbGwoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7IF9yZXNvbHZlKHZhbHVlKTsgfSxcbiAgICAgICAgZnVuY3Rpb24ocmVhc29uKSB7IF9yZWplY3QocmVhc29uKTsgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgX3JlamVjdChlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBLZXkgc3RyaW5nIGluIGFuIGFjdGlvbiBhcmd1bWVudHMgbWFwIGZvciBhbiB1bnBhcnNlZCBvYmplY3QgbGl0ZXJhbCBzdHJpbmcuXG4gKlxuICogRS5nLiBmb3IgdGhlIGFjdGlvbiBpbiA8cCBvbj1cInRhcDpBTVAuc2V0U3RhdGUoe2ZvbzogJ2Jhcid9KVwiLFxuICogdGhlbiBgYXJnc1tSQVdfT0JKRUNUX0FSR1NfS0VZXWAgaXMgdGhlIHN0cmluZyBcIntmb286ICdiYXInfVwiLlxuICpcbiAqIFRoZSBhY3Rpb24gc2VydmljZSBkZWxlZ2F0ZXMgcGFyc2luZyBvZiBvYmplY3QgbGl0ZXJhbHMgdG8gdGhlIGNvcnJlc3BvbmRpbmdcbiAqIGV4dGVuc2lvbiAoaW4gdGhlIGV4YW1wbGUgYWJvdmUsIGFtcC1iaW5kKS5cbiAqXG4gKiBAc2VlIC4vc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25JbmZvRGVmXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFJBV19PQkpFQ1RfQVJHU19LRVkgPSAnX19BTVBfT0JKRUNUX1NUUklOR19fJztcblxuLyoqXG4gKiBUcnVzdCBsZXZlbCBvZiBhbiBhY3Rpb24uXG4gKlxuICogQ29ycmVzcG9uZHMgdG8gZGVncmVlIG9mIHVzZXIgaW50ZW50LCBpLmUuIGV2ZW50cyB0cmlnZ2VyZWQgd2l0aCBzdHJvbmdcbiAqIHVzZXIgaW50ZW50IGhhdmUgaGlnaCB0cnVzdC5cbiAqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgQWN0aW9uVHJ1c3QgPSB7XG4gIExPVzogMSxcbiAgSElHSDogMTAwLFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIENvbW1vbiBBTVAgZXZlbnRzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEFtcEV2ZW50cyA9IHtcbiAgQlVJTFQ6ICdhbXA6YnVpbHQnLFxuICBET01fVVBEQVRFOiAnYW1wOmRvbS11cGRhdGUnLFxuICBWSVNJQklMSVRZX0NIQU5HRTogJ2FtcDp2aXNpYmlsaXR5Y2hhbmdlJywgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FtcHByb2plY3QvYW1waHRtbC9ibG9iL21hc3Rlci9hZHMvUkVBRE1FLm1kI3BhZ2UtdmlzaWJpbGl0eVxuICAvLyBUaGUgZm9sbG93aW5nIGNvZGVzIGFyZSBvbmx5IHVzZWQgZm9yIHRlc3RpbmcuXG4gIC8vIFRPRE8oY2hvdW14KTogTW92ZSB0aGVzZSB0byBhIHNlcGFyYXRlIGVudW0gc28gdGhleSBjYW4gYmUgRENFJ2QuXG4gIEFUVEFDSEVEOiAnYW1wOmF0dGFjaGVkJyxcbiAgU1RVQkJFRDogJ2FtcDpzdHViYmVkJyxcbiAgTE9BRF9TVEFSVDogJ2FtcDpsb2FkOnN0YXJ0JyxcbiAgTE9BRF9FTkQ6ICdhbXA6bG9hZDplbmQnLFxuICBFUlJPUjogJ2FtcDplcnJvcicsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4vc2VydmljZXMnO1xuXG4vKipcbiAqIEhlbHBlciBtZXRob2QgdG8gdHJpZ2dlciBhbmFseXRpY3MgZXZlbnQgaWYgYW1wLWFuYWx5dGljcyBpcyBhdmFpbGFibGUuXG4gKiBUT0RPOiBEbyBub3QgZXhwb3NlIHRoaXMgZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPj19IG9wdF92YXJzIEEgbWFwIG9mIHZhcnMgYW5kIHRoZWlyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJBbmFseXRpY3NFdmVudCh0YXJnZXQsIGV2ZW50VHlwZSwgb3B0X3ZhcnMpIHtcbiAgU2VydmljZXMuYW5hbHl0aWNzRm9yRG9jT3JOdWxsKHRhcmdldCkudGhlbihhbmFseXRpY3MgPT4ge1xuICAgIGlmICghYW5hbHl0aWNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFuYWx5dGljcy50cmlnZ2VyRXZlbnRGb3JUYXJnZXQodGFyZ2V0LCBldmVudFR5cGUsIG9wdF92YXJzKTtcbiAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7cmVtb3ZlRWxlbWVudH0gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHtzZXRTdHlsZXN9IGZyb20gJy4vc3R5bGUnO1xuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh3aW4sIHRleHQpIHtcbiAgbGV0IGNvcHlTdWNjZXNzZnVsID0gZmFsc2U7XG4gIGNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudDtcblxuICBjb25zdCB0ZXh0YXJlYSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuXG4gIHNldFN0eWxlcyh0ZXh0YXJlYSwge1xuICAgICdwb3NpdGlvbic6ICdmaXhlZCcsXG4gICAgJ3RvcCc6IDAsXG4gICAgJ2xlZnQnOiAwLFxuICAgICd3aWR0aCc6ICc1MHB4JyxcbiAgICAnaGVpZ2h0JzogJzUwcHgnLFxuICAgICdwYWRkaW5nJzogMCxcbiAgICAnYm9yZGVyJzogJ25vbmUnLFxuICAgICdvdXRsaW5lJzogJ25vbmUnLFxuICAgICdiYWNrZ3JvdW5kJzogJ3RyYW5zcGFyZW50JyxcbiAgfSk7XG5cbiAgdGV4dGFyZWEudmFsdWUgPSB0ZXh0O1xuICB0ZXh0YXJlYS5yZWFkT25seSA9IHRydWU7XG4gIHRleHRhcmVhLmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XG5cbiAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xuICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZWxlY3ROb2RlKHRleHRhcmVhKTtcbiAgd2luLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICB3aW4uZ2V0U2VsZWN0aW9uKCkuYWRkUmFuZ2UocmFuZ2UpO1xuICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0ZXh0Lmxlbmd0aCk7XG5cbiAgdHJ5IHtcbiAgICBjb3B5U3VjY2Vzc2Z1bCA9IGRvYy5leGVjQ29tbWFuZCgnY29weScpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8g8J+kt1xuICB9XG5cbiAgcmVtb3ZlRWxlbWVudCh0ZXh0YXJlYSk7XG5cbiAgcmV0dXJuIGNvcHlTdWNjZXNzZnVsO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29weWluZ1RvQ2xpcGJvYXJkU3VwcG9ydGVkKGRvYykge1xuICByZXR1cm4gZG9jLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgnY29weScpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBDb21tb25seSB1c2VkIHNpZ25hbHMgYWNyb3NzIGRpZmZlcmVudCBlbGVtZW50cyBhbmQgZG9jdW1lbnRzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENvbW1vblNpZ25hbHMgPSB7XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IGhhcyBiZWVuIGJ1aWx0LlxuICAgKi9cbiAgQlVJTFQ6ICdidWlsdCcsXG5cbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIGNvbnRlbnRzIG9mIGFuIGVsZW1lbnQvZG9jdW1lbnQvZW1iZWQgaGF2ZSBiZWVuIGxvYWRlZC5cbiAgICovXG4gIElOSV9MT0FEOiAnaW5pLWxvYWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgZWxlbWVudCBoYXMgYmVlbiBsb2FkZWQuXG4gICAqL1xuICBMT0FEX0VORDogJ2xvYWQtZW5kJyxcblxuICAvKipcbiAgICogVGhlIGVsZW1lbnQgaGFzIHN0YXJ0ZWQgbG9hZGluZy5cbiAgICovXG4gIExPQURfU1RBUlQ6ICdsb2FkLXN0YXJ0JyxcblxuICAvKipcbiAgICogUmVuZGVyaW5nIGhhcyBiZWVuIGNvbmZpcm1lZCB0byBoYXZlIGJlZW4gc3RhcnRlZC5cbiAgICovXG4gIFJFTkRFUl9TVEFSVDogJ3JlbmRlci1zdGFydCcsXG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IGhhcyBiZWVuIHVubGFpZCBvdXQuXG4gICAqL1xuICBVTkxPQUQ6ICd1bmxvYWQnLFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEFsbG93cyBmb3IgcnVudGltZSBjb25maWd1cmF0aW9uLiBJbnRlcm5hbGx5LCB0aGUgcnVudGltZSBzaG91bGRcbiAqIHVzZSB0aGUgc3JjL2NvbmZpZy5qcyBtb2R1bGUgZm9yIHZhcmlvdXMgY29uc3RhbnRzLiBXZSBjYW4gdXNlIHRoZVxuICogQU1QX0NPTkZJRyBnbG9iYWwgdG8gdHJhbnNsYXRlIHVzZXItZGVmaW5lZCBjb25maWd1cmF0aW9ucyB0byB0aGlzXG4gKiBtb2R1bGUuXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmNvbnN0IGVudiA9IHNlbGYuQU1QX0NPTkZJRyB8fCB7fTtcblxuY29uc3QgdGhpcmRQYXJ0eUZyYW1lUmVnZXggPSB0eXBlb2YgZW52Wyd0aGlyZFBhcnR5RnJhbWVSZWdleCddID09ICdzdHJpbmcnID9cbiAgbmV3IFJlZ0V4cChlbnZbJ3RoaXJkUGFydHlGcmFtZVJlZ2V4J10pIDogZW52Wyd0aGlyZFBhcnR5RnJhbWVSZWdleCddO1xuXG5jb25zdCBjZG5Qcm94eVJlZ2V4ID0gdHlwZW9mIGVudlsnY2RuUHJveHlSZWdleCddID09ICdzdHJpbmcnID9cbiAgbmV3IFJlZ0V4cChlbnZbJ2NkblByb3h5UmVnZXgnXSkgOiBlbnZbJ2NkblByb3h5UmVnZXgnXTtcblxuLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgc3RyaW5nfGJvb2xlYW58UmVnRXhwPn0gKi9cbmV4cG9ydCBjb25zdCB1cmxzID0ge1xuICB0aGlyZFBhcnR5OiBlbnZbJ3RoaXJkUGFydHlVcmwnXSB8fCAnaHR0cHM6Ly8zcC5hbXBwcm9qZWN0Lm5ldCcsXG4gIHRoaXJkUGFydHlGcmFtZUhvc3Q6IGVudlsndGhpcmRQYXJ0eUZyYW1lSG9zdCddIHx8ICdhbXBwcm9qZWN0Lm5ldCcsXG4gIHRoaXJkUGFydHlGcmFtZVJlZ2V4OiB0aGlyZFBhcnR5RnJhbWVSZWdleCB8fCAvXmQtXFxkK1xcLmFtcHByb2plY3RcXC5uZXQkLyxcbiAgY2RuOiBlbnZbJ2NkblVybCddIHx8ICdodHRwczovL2Nkbi5hbXBwcm9qZWN0Lm9yZycsXG4gIC8qIE5vdGUgdGhhdCBjZG5Qcm94eVJlZ2V4IGlzIG9ubHkgZXZlciBjaGVja2VkIGFnYWluc3Qgb3JpZ2luc1xuICAgKiAocHJvdG86Ly9ob3N0Wzpwb3J0XSkgc28gZG9lcyBub3QgbmVlZCB0byBjb25zaWRlciBwYXRoXG4gICAqL1xuICBjZG5Qcm94eVJlZ2V4OiBjZG5Qcm94eVJlZ2V4IHx8XG4gICAgICAvXmh0dHBzOlxcL1xcLyhbYS16QS1aMC05Xy1dK1xcLik/Y2RuXFwuYW1wcHJvamVjdFxcLm9yZyQvLFxuICBsb2NhbGhvc3RSZWdleDogL15odHRwcz86XFwvXFwvbG9jYWxob3N0KDpcXGQrKT8kLyxcbiAgZXJyb3JSZXBvcnRpbmc6IGVudlsnZXJyb3JSZXBvcnRpbmdVcmwnXSB8fFxuICAgICAgJ2h0dHBzOi8vYW1wLWVycm9yLXJlcG9ydGluZy5hcHBzcG90LmNvbS9yJyxcbiAgbG9jYWxEZXY6IGVudlsnbG9jYWxEZXYnXSB8fCBmYWxzZSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIHVybHMsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFRoaXMgZmlsZSB3aWxsIGJlIGltcG9ydGVkIGJ5IDNQIHNjcmlwdHMuXG5cbi8qKlxuICogUG9zc2libGUgY29uc2VudCBwb2xpY3kgc3RhdGUgdG8gcHJvY2VlZCB3aXRoLlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IENPTlNFTlRfUE9MSUNZX1NUQVRFID0ge1xuICAvLyBFbnVtIHZhbHVlIGhhcyBleHRlcm5hbCBkZXBlbmRlbmN5LiBQbGVhc2UgZG8gbm90IGNoYW5nZSBleGlzdGluZyB2YWx1ZS5cbiAgLy8gSWYgbmV3IHZhbHVlcyBhcmUgYWRkZWQsIHBsZWFzZSBub3RpZnkgdGhlIEFNUCBmb3IgQWRzIHRlYW0gdG8gYXNzdXJlXG4gIC8vIGNvcnJlY3QgUmVhbCBUaW1lIENvbmZpZyBiZWhhdmlvciBpcyBtYWludGFpbmVkIGZvciBGYXN0IEZldGNoLlxuICBTVUZGSUNJRU5UOiAxLFxuICBJTlNVRkZJQ0lFTlQ6IDIsXG4gIFVOS05PV05fTk9UX1JFUVVJUkVEOiAzLFxuICBVTktOT1dOOiA0LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBDT05TRU5UX1BPTElDWV9TVEFURSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xufSBmcm9tICcuL2NvbnNlbnQtc3RhdGUnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi9zZXJ2aWNlcyc7XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlIHdoZW4gYWxsIGNvbnNlbnQgc3RhdGUgdGhlIHBvbGljeSB3YWl0XG4gKiBmb3IgcmVzb2x2ZS4gT3IgaWYgY29uc2VudCBzZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUuXG4gKiBAcGFyYW0geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBwb2xpY3lJZFxuICogQHJldHVybiB7IVByb21pc2U8P0NPTlNFTlRfUE9MSUNZX1NUQVRFPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnNlbnRQb2xpY3lTdGF0ZShhbXBkb2MsIHBvbGljeUlkKSB7XG4gIHJldHVybiBTZXJ2aWNlcy5jb25zZW50UG9saWN5U2VydmljZUZvckRvY09yTnVsbChhbXBkb2MpXG4gICAgICAudGhlbihjb25zZW50UG9saWN5ID0+IHtcbiAgICAgICAgaWYgKCFjb25zZW50UG9saWN5KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnNlbnRQb2xpY3kud2hlblBvbGljeVJlc29sdmVkKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwb2xpY3lJZCkpO1xuICAgICAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHNoYXJlZERhdGEgcmV0cmlldmVkIGZyb20gY29uc2VudFxuICogcmVtb3RlIGVuZHBvaW50LlxuICogQHBhcmFtIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gcG9saWN5SWRcbiAqIEByZXR1cm4geyFQcm9taXNlPD9PYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29uc2VudFBvbGljeVNoYXJlZERhdGEoYW1wZG9jLCBwb2xpY3lJZCkge1xuICByZXR1cm4gU2VydmljZXMuY29uc2VudFBvbGljeVNlcnZpY2VGb3JEb2NPck51bGwoYW1wZG9jKVxuICAgICAgLnRoZW4oY29uc2VudFBvbGljeSA9PiB7XG4gICAgICAgIGlmICghY29uc2VudFBvbGljeSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25zZW50UG9saWN5LmdldE1lcmdlZFNoYXJlZERhdGEoXG4gICAgICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBvbGljeUlkKSk7XG4gICAgICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2VuZHNXaXRofSBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQge1xuICBpc1Byb3h5T3JpZ2luLFxuICBwYXJzZVVybERlcHJlY2F0ZWQsXG4gIHRyeURlY29kZVVyaUNvbXBvbmVudCxcbn0gZnJvbSAnLi91cmwnO1xuaW1wb3J0IHt1cmxzfSBmcm9tICcuL2NvbmZpZyc7XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgY29va2llLiBUaGUgY29va2llIGFjY2VzcyBpcyByZXN0cmljdGVkIGFuZCBtdXN0XG4gKiBnbyB0aHJvdWdoIHRoZSBwcml2YWN5IHJldmlldy4gQmVmb3JlIHVzaW5nIHRoaXMgbWV0aG9kIHBsZWFzZSBmaWxlIGFcbiAqIEdpdEh1YiBpc3N1ZSB3aXRoIFwiUHJpdmFjeSBSZXZpZXdcIiBsYWJlbC5cbiAqXG4gKiBSZXR1cm5zIHRoZSBjb29raWUncyB2YWx1ZSBvciBgbnVsbGAuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHs/c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29va2llKHdpbiwgbmFtZSkge1xuICBjb25zdCBjb29raWVTdHJpbmcgPSB0cnlHZXREb2N1bWVudENvb2tpZU5vSW5saW5lKHdpbik7XG4gIGlmICghY29va2llU3RyaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgY29va2llcyA9IGNvb2tpZVN0cmluZy5zcGxpdCgnOycpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb29raWUgPSBjb29raWVzW2ldLnRyaW0oKTtcbiAgICBjb25zdCBlcSA9IGNvb2tpZS5pbmRleE9mKCc9Jyk7XG4gICAgaWYgKGVxID09IC0xKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHRyeURlY29kZVVyaUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKDAsIGVxKS50cmltKCkpID09IG5hbWUpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gY29va2llLnN1YnN0cmluZyhlcSArIDEpLnRyaW0oKTtcbiAgICAgIHJldHVybiB0cnlEZWNvZGVVcmlDb21wb25lbnQodmFsdWUsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBpbmxpbmVkIHRvIHByZXZlbnQgVHJ5Q2F0Y2ggZGVvcHRpbWl6YXRpb24uXG4gKiBOb0lubGluZSBrZXl3b3JkIGF0IHRoZSBlbmQgb2YgZnVuY3Rpb24gbmFtZSBhbHNvIHByZXZlbnRzIENsb3N1cmUgY29tcGlsZXJcbiAqIGZyb20gaW5saW5pbmcgdGhlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJ5R2V0RG9jdW1lbnRDb29raWVOb0lubGluZSh3aW4pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luLmRvY3VtZW50LmNvb2tpZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEFjdCBhcyBpZiBubyBjb29raWUgaXMgYXZhaWxhYmxlLiBFeGNlcHRpb25zIGNhbiBiZSB0aHJvd24gd2hlblxuICAgIC8vIEFNUCBkb2NzIGFyZSBvcGVuZWQgb24gb3JpZ2lucyB0aGF0IGRvIG5vdCBhbGxvdyBzZXR0aW5nXG4gICAgLy8gY29va2llcyBzdWNoIGFzIG51bGwgb3JpZ2lucy5cbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgY29va2llLiBUaGUgY29va2llIGFjY2VzcyBpcyByZXN0cmljdGVkIGFuZCBtdXN0XG4gKiBnbyB0aHJvdWdoIHRoZSBwcml2YWN5IHJldmlldy4gQmVmb3JlIHVzaW5nIHRoaXMgbWV0aG9kIHBsZWFzZSBmaWxlIGFcbiAqIEdpdEh1YiBpc3N1ZSB3aXRoIFwiUHJpdmFjeSBSZXZpZXdcIiBsYWJlbC5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHt0aW1lfSBleHBpcmF0aW9uVGltZVxuICogQHBhcmFtIHt7XG4gKiAgIGhpZ2hlc3RBdmFpbGFibGVEb21haW46KGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgZG9tYWluOihzdHJpbmd8dW5kZWZpbmVkKVxuICogfT19IG9wdF9vcHRpb25zXG4gKiAgICAgLSBoaWdoZXN0QXZhaWxhYmxlRG9tYWluOiBJZiB0cnVlLCBzZXQgdGhlIGNvb2tpZSBhdCB0aGUgd2lkZXN0IGRvbWFpblxuICogICAgICAgc2NvcGUgYWxsb3dlZCBieSB0aGUgYnJvd3Nlci4gRS5nLiBvbiBleGFtcGxlLmNvbSBpZiB3ZSBhcmUgY3VycmVudGx5XG4gKiAgICAgICBvbiB3d3cuZXhhbXBsZS5jb20uXG4gKiAgICAgLSBkb21haW46IEV4cGxpY2l0IGRvbWFpbiB0byBzZXQuXG4gKiAgICAgLSBhbGxvd09uUHJveHlPcmlnaW46IEFsbG93IHNldHRpbmcgYSBjb29raWUgb24gdGhlIEFNUCBDYWNoZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvb2tpZSh3aW4sIG5hbWUsIHZhbHVlLCBleHBpcmF0aW9uVGltZSwgb3B0X29wdGlvbnMpIHtcbiAgY2hlY2tPcmlnaW5Gb3JTZXR0aW5nQ29va2llKHdpbiwgb3B0X29wdGlvbnMsIG5hbWUpO1xuICBpZiAob3B0X29wdGlvbnMgJiYgb3B0X29wdGlvbnMuaGlnaGVzdEF2YWlsYWJsZURvbWFpbikge1xuICAgIGNvbnN0IHBhcnRzID0gd2luLmxvY2F0aW9uLmhvc3RuYW1lLnNwbGl0KCcuJyk7XG4gICAgbGV0IGRvbWFpbiA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGZvciAobGV0IGkgPSBwYXJ0cy5sZW5ndGggLSAyOyBpID49IDA7IGktLSkge1xuICAgICAgZG9tYWluID0gcGFydHNbaV0gKyAnLicgKyBkb21haW47XG4gICAgICB0cnlTZXRDb29raWUod2luLCBuYW1lLCB2YWx1ZSwgZXhwaXJhdGlvblRpbWUsIGRvbWFpbik7XG4gICAgICBpZiAoZ2V0Q29va2llKHdpbiwgbmFtZSkgPT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgZG9tYWluID0gdW5kZWZpbmVkO1xuICBpZiAob3B0X29wdGlvbnMgJiYgb3B0X29wdGlvbnMuZG9tYWluKSB7XG4gICAgZG9tYWluID0gb3B0X29wdGlvbnMuZG9tYWluO1xuICB9XG4gIHRyeVNldENvb2tpZSh3aW4sIG5hbWUsIHZhbHVlLCBleHBpcmF0aW9uVGltZSwgZG9tYWluKTtcbn1cblxuLyoqXG4gKiBBdHRlbXB0IHRvIHNldCBhIGNvb2tpZSB3aXRoIHRoZSBnaXZlbiBwYXJhbXMuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7dGltZX0gZXhwaXJhdGlvblRpbWVcbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gZG9tYWluXG4gKi9cbmZ1bmN0aW9uIHRyeVNldENvb2tpZSh3aW4sIG5hbWUsIHZhbHVlLCBleHBpcmF0aW9uVGltZSwgZG9tYWluKSB7XG4gIC8vIFdlIGRvIG5vdCBhbGxvdyBzZXR0aW5nIGNvb2tpZXMgb24gdGhlIGRvbWFpbiB0aGF0IGNvbnRhaW5zIGJvdGhcbiAgLy8gdGhlIGNkbi4gYW5kIHd3dy4gaG9zdHMuXG4gIGlmIChkb21haW4gPT0gJ2FtcHByb2plY3Qub3JnJykge1xuICAgIC8vIEFjdGl2ZWx5IGRlbGV0ZSB0aGVtLlxuICAgIHZhbHVlID0gJ2RlbGV0ZSc7XG4gICAgZXhwaXJhdGlvblRpbWUgPSAwO1xuICB9XG4gIGNvbnN0IGNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICc9JyArXG4gICAgICBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICAgICc7IHBhdGg9LycgK1xuICAgICAgKGRvbWFpbiA/ICc7IGRvbWFpbj0nICsgZG9tYWluIDogJycpICtcbiAgICAgICc7IGV4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyYXRpb25UaW1lKS50b1VUQ1N0cmluZygpO1xuICB0cnkge1xuICAgIHdpbi5kb2N1bWVudC5jb29raWUgPSBjb29raWU7XG4gIH0gY2F0Y2ggKGlnbm9yZSkge1xuICAgIC8vIERvIG5vdCB0aHJvdyBpZiBzZXR0aW5nIHRoZSBjb29raWUgZmFpbGVkIEV4Y2VwdGlvbnMgY2FuIGJlIHRocm93blxuICAgIC8vIHdoZW4gQU1QIGRvY3MgYXJlIG9wZW5lZCBvbiBvcmlnaW5zIHRoYXQgZG8gbm90IGFsbG93IHNldHRpbmdcbiAgICAvLyBjb29raWVzIHN1Y2ggYXMgbnVsbCBvcmlnaW5zLlxuICB9XG59XG5cbi8qKlxuICogVGhyb3dzIGlmIGEgZ2l2ZW4gY29va2llIHNob3VsZCBub3QgYmUgc2V0IG9uIHRoZSBnaXZlbiBvcmlnaW4uXG4gKiBUaGlzIGlzIGEgZGVmZW5zZS1pbi1kZXB0aC4gQ2FsbGVycyBzaG91bGQgbmV2ZXIgcnVuIGludG8gdGhpcy5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHshT2JqZWN0fHVuZGVmaW5lZH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRm9yIHRoZSBlcnJvciBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBjaGVja09yaWdpbkZvclNldHRpbmdDb29raWUod2luLCBvcHRpb25zLCBuYW1lKSB7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dPblByb3h5T3JpZ2luKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc1Byb3h5T3JpZ2luKHdpbi5sb2NhdGlvbi5ocmVmKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIG5ldmVyIGF0dGVtcHQgdG8gc2V0IGNvb2tpZSBvbiBwcm94eSBvcmlnaW46ICdcbiAgICAgICAgKyBuYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnQgPSBwYXJzZVVybERlcHJlY2F0ZWQod2luLmxvY2F0aW9uLmhyZWYpLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHByb3h5ID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybHMuY2RuKS5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoY3VycmVudCA9PSBwcm94eSB8fCBlbmRzV2l0aChjdXJyZW50LCAnLicgKyBwcm94eSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBuZXZlciBhdHRlbXB0IHRvIHNldCBjb29raWUgb24gcHJveHkgb3JpZ2luLidcbiAgICAgICAgKyAnIChpbiBkZXB0aCBjaGVjayk6ICcgKyBuYW1lKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBkb2N1bWVudCBpcyByZWFkeS5cbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RvY3VtZW50UmVhZHkoZG9jKSB7XG4gIHJldHVybiBkb2MucmVhZHlTdGF0ZSAhPSAnbG9hZGluZycgJiYgZG9jLnJlYWR5U3RhdGUgIT0gJ3VuaW5pdGlhbGl6ZWQnO1xufVxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGRvY3VtZW50IGhhcyBsb2FkZWQgYWxsIHRoZSBjc3MgYW5kIHN1Yi1yZXNvdXJjZXMuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0RvY3VtZW50Q29tcGxldGUoZG9jKSB7XG4gIHJldHVybiBkb2MucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnO1xufVxuXG4vKipcbiAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuIGRvY3VtZW50IGlzIHJlYWR5LlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtmdW5jdGlvbighRG9jdW1lbnQpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gb25Eb2N1bWVudFJlYWR5KGRvYywgY2FsbGJhY2spIHtcbiAgb25Eb2N1bWVudFN0YXRlKGRvYywgaXNEb2N1bWVudFJlYWR5LCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gZG9jdW1lbnQncyBzdGF0ZSBzYXRpc2ZpZXMgdGhlIHN0YXRlRm4uXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFEb2N1bWVudCk6Ym9vbGVhbn0gc3RhdGVGblxuICogQHBhcmFtIHtmdW5jdGlvbighRG9jdW1lbnQpfSBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBvbkRvY3VtZW50U3RhdGUoZG9jLCBzdGF0ZUZuLCBjYWxsYmFjaykge1xuICBsZXQgcmVhZHkgPSBzdGF0ZUZuKGRvYyk7XG4gIGlmIChyZWFkeSkge1xuICAgIGNhbGxiYWNrKGRvYyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVhZHlMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGlmIChzdGF0ZUZuKGRvYykpIHtcbiAgICAgICAgaWYgKCFyZWFkeSkge1xuICAgICAgICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICBjYWxsYmFjayhkb2MpO1xuICAgICAgICB9XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgcmVhZHlMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIHJlYWR5TGlzdGVuZXIpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGRvY3VtZW50IGlzIHJlYWR5LlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7IVByb21pc2U8IURvY3VtZW50Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdoZW5Eb2N1bWVudFJlYWR5KGRvYykge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgb25Eb2N1bWVudFJlYWR5KGRvYywgcmVzb2x2ZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiBkb2N1bWVudCBpcyBjb21wbGV0ZS5cbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEByZXR1cm4geyFQcm9taXNlPCFEb2N1bWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuRG9jdW1lbnRDb21wbGV0ZShkb2MpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIG9uRG9jdW1lbnRTdGF0ZShkb2MsIGlzRG9jdW1lbnRDb21wbGV0ZSwgcmVzb2x2ZSk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7RGVmZXJyZWR9IGZyb20gJy4vdXRpbHMvcHJvbWlzZSc7XG5pbXBvcnQge2Nzc0VzY2FwZX0gZnJvbSAnLi4vdGhpcmRfcGFydHkvY3NzLWVzY2FwZS9jc3MtZXNjYXBlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge2RpY3R9IGZyb20gJy4vdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7c3RhcnRzV2l0aH0gZnJvbSAnLi9zdHJpbmcnO1xuaW1wb3J0IHt0b1dpbn0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEhUTUxfRVNDQVBFX0NIQVJTID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgJ2AnOiAnJiN4NjA7Jyxcbn07XG5jb25zdCBIVE1MX0VTQ0FQRV9SRUdFWCA9IC8oJnw8fD58XCJ8J3xgKS9nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgVVBHUkFERV9UT19DVVNUT01FTEVNRU5UX1BST01JU0UgPVxuICAgICdfX0FNUF9VUEdfUFJNJztcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IFVQR1JBREVfVE9fQ1VTVE9NRUxFTUVOVF9SRVNPTFZFUiA9XG4gICAgJ19fQU1QX1VQR19SRVMnO1xuXG4vKipcbiAqIFdhaXRzIHVudGlsIHRoZSBjaGlsZCBlbGVtZW50IGlzIGNvbnN0cnVjdGVkLiBPbmNlIHRoZSBjaGlsZCBpcyBmb3VuZCwgdGhlXG4gKiBjYWxsYmFjayBpcyBleGVjdXRlZC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtmdW5jdGlvbighRWxlbWVudCk6Ym9vbGVhbn0gY2hlY2tGdW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yQ2hpbGQocGFyZW50LCBjaGVja0Z1bmMsIGNhbGxiYWNrKSB7XG4gIGlmIChjaGVja0Z1bmMocGFyZW50KSkge1xuICAgIGNhbGxiYWNrKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qKiBAY29uc3QgeyFXaW5kb3d9ICovXG4gIGNvbnN0IHdpbiA9IHRvV2luKHBhcmVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgaWYgKHdpbi5NdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgLyoqIEBjb25zdCB7TXV0YXRpb25PYnNlcnZlcn0gKi9cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW4uTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICBpZiAoY2hlY2tGdW5jKHBhcmVudCkpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUocGFyZW50LCB7Y2hpbGRMaXN0OiB0cnVlfSk7XG4gIH0gZWxzZSB7XG4gICAgLyoqIEBjb25zdCB7bnVtYmVyfSAqL1xuICAgIGNvbnN0IGludGVydmFsID0gd2luLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChjaGVja0Z1bmMocGFyZW50KSkge1xuICAgICAgICB3aW4uY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSwgLyogbWlsbGlzZWNvbmRzICovIDUpO1xuICB9XG59XG5cbi8qKlxuICogV2FpdHMgdW50aWwgdGhlIGNoaWxkIGVsZW1lbnQgaXMgY29uc3RydWN0ZWQuIE9uY2UgdGhlIGNoaWxkIGlzIGZvdW5kLCB0aGVcbiAqIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVsZW1lbnQpOmJvb2xlYW59IGNoZWNrRnVuY1xuICogQHJldHVybiB7IVByb21pc2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yQ2hpbGRQcm9taXNlKHBhcmVudCwgY2hlY2tGdW5jKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICB3YWl0Rm9yQ2hpbGQocGFyZW50LCBjaGVja0Z1bmMsIHJlc29sdmUpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBXYWl0cyBmb3IgZG9jdW1lbnQncyBib2R5IHRvIGJlIGF2YWlsYWJsZS5cbiAqIFdpbGwgYmUgZGVwcmVjYXRlZCBzb29uOyB1c2Uge0BsaW5rIEFtcERvYyN3aGVuQm9keUF2YWlsYWJsZX0gb3JcbiAqIEB7bGluayBEb2N1bWVudFN0YXRlI29uQm9keUF2YWlsYWJsZX0gaW5zdGVhZC5cbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JCb2R5KGRvYywgY2FsbGJhY2spIHtcbiAgd2FpdEZvckNoaWxkKGRvYy5kb2N1bWVudEVsZW1lbnQsICgpID0+ICEhZG9jLmJvZHksIGNhbGxiYWNrKTtcbn1cblxuXG4vKipcbiAqIFdhaXRzIGZvciBkb2N1bWVudCdzIGJvZHkgdG8gYmUgYXZhaWxhYmxlLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7IVByb21pc2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yQm9keVByb21pc2UoZG9jKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICB3YWl0Rm9yQm9keShkb2MsIHJlc29sdmUpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgY2hpbGQgbm9kZXMgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihwYXJlbnQpIHtcbiAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ29waWVzIGFsbCBjaGlsZHJlbiBub2RlcyBvZiBlbGVtZW50IFwiZnJvbVwiIHRvIGVsZW1lbnQgXCJ0b1wiLiBDaGlsZCBub2Rlc1xuICogYXJlIGRlZXBseSBjbG9uZWQuIE5vdGljZSwgdGhhdCB0aGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB3aXRoIGNhcmUgYW5kXG4gKiBwcmVmZXJhYmx5IG9uIHNtYWxsZXIgc3VidHJlZXMuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBmcm9tXG4gKiBAcGFyYW0geyFFbGVtZW50fCFEb2N1bWVudEZyYWdtZW50fSB0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29weUNoaWxkcmVuKGZyb20sIHRvKSB7XG4gIGNvbnN0IGZyYWcgPSB0by5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgZm9yIChsZXQgbiA9IGZyb20uZmlyc3RDaGlsZDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcbiAgICBmcmFnLmFwcGVuZENoaWxkKG4uY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxuICB0by5hcHBlbmRDaGlsZChmcmFnKTtcbn1cblxuLyoqXG4gKiBJbnNlcnQgdGhlIGVsZW1lbnQgaW4gdGhlIHJvb3QgYWZ0ZXIgdGhlIGVsZW1lbnQgbmFtZWQgYWZ0ZXIgb3JcbiAqIGlmIHRoYXQgaXMgbnVsbCBhdCB0aGUgYmVnaW5uaW5nLlxuICogQHBhcmFtIHshRWxlbWVudHwhU2hhZG93Um9vdH0gcm9vdFxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHs/Tm9kZX0gYWZ0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEFmdGVyT3JBdFN0YXJ0KHJvb3QsIGVsZW1lbnQsIGFmdGVyKSB7XG4gIGNvbnN0IGJlZm9yZSA9IGFmdGVyID8gYWZ0ZXIubmV4dFNpYmxpbmcgOiByb290LmZpcnN0Q2hpbGQ7XG4gIHJvb3QuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGJlZm9yZSk7XG59XG5cbi8qKlxuICogQWRkIGF0dHJpYnV0ZXMgdG8gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IUpzb25PYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuIHshRWxlbWVudH0gY3JlYXRlZCBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcbiAgZm9yIChjb25zdCBhdHRyIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyaWJ1dGVzW2F0dHJdKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZWxlbWVudCBvbiBkb2N1bWVudCB3aXRoIHNwZWNpZmllZCB0YWdOYW1lIGFuZCBhdHRyaWJ1dGVzLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEBwYXJhbSB7IUpzb25PYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuIHshRWxlbWVudH0gY3JlYXRlZCBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZXMoZG9jLCB0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgcmV0dXJuIGFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQoZWxlbWVudCwgYXR0cmlidXRlcyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG5vZGUgaXMgY29ubmVjdGVkIChhdHRhY2hlZCkuXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogQHNlZSBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2Nvbm5lY3RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb25uZWN0ZWROb2RlKG5vZGUpIHtcbiAgY29uc3QgY29ubmVjdGVkID0gbm9kZS5pc0Nvbm5lY3RlZDtcbiAgaWYgKGNvbm5lY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNvbm5lY3RlZDtcbiAgfVxuXG4gIC8vIFwiQW4gZWxlbWVudCBpcyBjb25uZWN0ZWQgaWYgaXRzIHNoYWRvdy1pbmNsdWRpbmcgcm9vdCBpcyBhIGRvY3VtZW50LlwiXG4gIGxldCBuID0gbm9kZTtcbiAgZG8ge1xuICAgIG4gPSByb290Tm9kZUZvcihuKTtcbiAgICBpZiAobi5ob3N0KSB7XG4gICAgICBuID0gbi5ob3N0O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH0gd2hpbGUgKHRydWUpO1xuICByZXR1cm4gbi5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9OT0RFO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJvb3QgZm9yIGEgZ2l2ZW4gbm9kZS4gRG9lcyBub3QgY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyeS5cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm9vdE5vZGVGb3Iobm9kZSkge1xuICBpZiAoTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpIHtcbiAgICAvLyBUeXBlIGNoZWNrZXIgc2F5cyBgZ2V0Um9vdE5vZGVgIG1heSByZXR1cm4gbnVsbC5cbiAgICByZXR1cm4gbm9kZS5nZXRSb290Tm9kZSgpIHx8IG5vZGU7XG4gIH1cbiAgbGV0IG47XG4gIGZvciAobiA9IG5vZGU7ICEhbi5wYXJlbnROb2RlOyBuID0gbi5wYXJlbnROb2RlKSB7fVxuICByZXR1cm4gbjtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBlbGVtZW50IHRoYXQgc2F0aXNmaWVzIHRoZSBjYWxsYmFjayBmcm9tIHRoaXMgZWxlbWVudFxuICogdXAgdGhlIERPTSBzdWJ0cmVlLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtmdW5jdGlvbighRWxlbWVudCk6Ym9vbGVhbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7RWxlbWVudD19IG9wdF9zdG9wQXQgb3B0aW9uYWwgZWxlbW50IHRvIHN0b3AgdGhlIHNlYXJjaCBhdC5cbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBjYWxsYmFjaywgb3B0X3N0b3BBdCkge1xuICBmb3IgKGxldCBlbCA9IGVsZW1lbnQ7IGVsICYmIGVsICE9PSBvcHRfc3RvcEF0OyBlbCA9IGVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICBpZiAoY2FsbGJhY2soZWwpKSB7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3Qgbm9kZSB0aGF0IHNhdGlzZmllcyB0aGUgY2FsbGJhY2sgZnJvbSB0aGlzIG5vZGVcbiAqIHVwIHRoZSBET00gc3VidHJlZS5cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIU5vZGUpOmJvb2xlYW59IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHs/Tm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3ROb2RlKG5vZGUsIGNhbGxiYWNrKSB7XG4gIGZvciAobGV0IG4gPSBub2RlOyBuOyBuID0gbi5wYXJlbnROb2RlKSB7XG4gICAgaWYgKGNhbGxiYWNrKG4pKSB7XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGZyb20gdGhpcyBlbGVtZW50XG4gKiB1cCB0aGUgRE9NIHN1YnRyZWUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZVxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0QnlUYWcoZWxlbWVudCwgdGFnTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbG9zZXN0KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xvc2VzdCh0YWdOYW1lKTtcbiAgfVxuICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gY2xvc2VzdChlbGVtZW50LCBlbCA9PiB7XG4gICAgcmV0dXJuIGVsLnRhZ05hbWUgPT0gdGFnTmFtZTtcbiAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgc2VsZWN0b3IgZnJvbSB0aGlzIGVsZW1lbnRcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7P0VsZW1lbnR9IGNsb3Nlc3QgYW5jZXN0b3IgaWYgZm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0QnlTZWxlY3RvcihlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoZWxlbWVudC5jbG9zZXN0KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xvc2VzdChzZWxlY3Rvcik7XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdChlbGVtZW50LCBlbCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoZXMoZWwsIHNlbGVjdG9yKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBlbGVtZW50IG1hdGNoZXMgdGhlIHNlbGVjdG9yXG4gKiBAcGFyYW0gIHshRWxlbWVudH0gZWwgVGhlIGVsZW1lbnQgdG8gdmVyaWZ5XG4gKiBAcGFyYW0gIHtzdHJpbmd9IHNlbGVjdG9yIFRoZSBzZWxlY3RvciB0byBjaGVjayBhZ2FpbnN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbGVtZW50IG1hdGNoZWQgdGhlIHNlbGVjdG9yLiBGYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVzKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBtYXRjaGVyID0gZWwubWF0Y2hlcyB8fFxuICAgICAgZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICBlbC5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIGVsLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICBlbC5vTWF0Y2hlc1NlbGVjdG9yO1xuICBpZiAobWF0Y2hlcikge1xuICAgIHJldHVybiBtYXRjaGVyLmNhbGwoZWwsIHNlbGVjdG9yKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7IC8vIElFOCBhbHdheXMgcmV0dXJucyBmYWxzZS5cbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgZGVzY2VuZGFudCBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICogQHBhcmFtIHshRWxlbWVudHwhRG9jdW1lbnR8IVNoYWRvd1Jvb3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRCeVRhZyhlbGVtZW50LCB0YWdOYW1lKSB7XG4gIGxldCBlbGVtZW50cztcbiAgLy8gZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSBpcyBub3Qgc3VwcG9ydGVkIG9uIFNoYWRvd1Jvb3QuXG4gIGlmICh0eXBlb2YgZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGVsZW1lbnRzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50cyA9IGVsZW1lbnQuLypPSyovcXVlcnlTZWxlY3RvckFsbCh0YWdOYW1lKTtcbiAgfVxuICByZXR1cm4gKGVsZW1lbnRzICYmIGVsZW1lbnRzWzBdKSB8fCBudWxsO1xufVxuXG5cbi8qKlxuICogRmluZHMgdGhlIGZpcnN0IGNoaWxkIGVsZW1lbnQgdGhhdCBzYXRpc2ZpZXMgdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFbGVtZW50KTpib29sZWFufSBjYWxsYmFja1xuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZEVsZW1lbnQocGFyZW50LCBjYWxsYmFjaykge1xuICBmb3IgKGxldCBjaGlsZCA9IHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZDsgY2hpbGQ7XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBpZiAoY2FsbGJhY2soY2hpbGQpKSB7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIHRoYXQgc2F0aXNmeSB0aGUgY2FsbGJhY2suXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVsZW1lbnQpOmJvb2xlYW59IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHshQXJyYXk8IUVsZW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRFbGVtZW50cyhwYXJlbnQsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGNoaWxkcmVuID0gW107XG4gIGZvciAobGV0IGNoaWxkID0gcGFyZW50LmZpcnN0RWxlbWVudENoaWxkOyBjaGlsZDtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZykge1xuICAgIGlmIChjYWxsYmFjayhjaGlsZCkpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgbGFzdCBjaGlsZCBlbGVtZW50IHRoYXQgc2F0aXNmaWVzIHRoZSBjYWxsYmFjay5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtmdW5jdGlvbighRWxlbWVudCk6Ym9vbGVhbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdENoaWxkRWxlbWVudChwYXJlbnQsIGNhbGxiYWNrKSB7XG4gIGZvciAobGV0IGNoaWxkID0gcGFyZW50Lmxhc3RFbGVtZW50Q2hpbGQ7IGNoaWxkO1xuICAgIGNoaWxkID0gY2hpbGQucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIGlmIChjYWxsYmFjayhjaGlsZCkpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogRmluZHMgYWxsIGNoaWxkIG5vZGVzIHRoYXQgc2F0aXNmeSB0aGUgY2FsbGJhY2suXG4gKiBUaGVzZSBub2RlcyBjYW4gaW5jbHVkZSBUZXh0LCBDb21tZW50IGFuZCBvdGhlciBjaGlsZCBub2Rlcy5cbiAqIEBwYXJhbSB7IU5vZGV9IHBhcmVudFxuICogQHBhcmFtIHtmdW5jdGlvbighTm9kZSk6Ym9vbGVhbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZE5vZGVzKHBhcmVudCwgY2FsbGJhY2spIHtcbiAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgZm9yIChsZXQgY2hpbGQgPSBwYXJlbnQuZmlyc3RDaGlsZDsgY2hpbGQ7XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgIGlmIChjYWxsYmFjayhjaGlsZCkpIHtcbiAgICAgIG5vZGVzLnB1c2goY2hpbGQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbm9kZXM7XG59XG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmxldCBzY29wZVNlbGVjdG9yU3VwcG9ydGVkO1xuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IHZhbFxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTY29wZVNlbGVjdG9yU3VwcG9ydGVkRm9yVGVzdGluZyh2YWwpIHtcbiAgc2NvcGVTZWxlY3RvclN1cHBvcnRlZCA9IHZhbDtcbn1cblxuLyoqXG4gKiBUZXN0IHRoYXQgdGhlIDpzY29wZSBzZWxlY3RvciBpcyBzdXBwb3J0ZWQgYW5kIGJlaGF2ZXMgY29ycmVjdGx5LlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Njb3BlU2VsZWN0b3JTdXBwb3J0ZWQocGFyZW50KSB7XG4gIGNvbnN0IGRvYyA9IHBhcmVudC5vd25lckRvY3VtZW50O1xuICB0cnkge1xuICAgIGNvbnN0IHRlc3RFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHRlc3RDaGlsZCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0ZXN0RWxlbWVudC5hcHBlbmRDaGlsZCh0ZXN0Q2hpbGQpO1xuICAgIC8vIE5PVEUoY3ZpYWxpeiwgIzEyMzgzKTogRmlyZWZveCdzIGltcGxlbWVudGF0aW9uIGlzIGluY29tcGxldGUsXG4gICAgLy8gdGhlcmVmb3JlIHdlIHRlc3QgYWN0dWFsIGZ1bmN0aW9uYWxpdHkgb2ZgOnNjb3BlYCBhcyB3ZWxsLlxuICAgIHJldHVybiB0ZXN0RWxlbWVudC4vKk9LKi9xdWVyeVNlbGVjdG9yKCc6c2NvcGUgZGl2JykgPT09IHRlc3RDaGlsZDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBmaXJzdCBjaGlsZCBlbGVtZW50IHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0clxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZEVsZW1lbnRCeUF0dHIocGFyZW50LCBhdHRyKSB7XG4gIHJldHVybiBzY29wZWRRdWVyeVNlbGVjdG9yLypPSyovKHBhcmVudCwgYD4gWyR7YXR0cn1dYCk7XG59XG5cblxuLyoqXG4gKiBGaW5kcyB0aGUgbGFzdCBjaGlsZCBlbGVtZW50IHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlLlxuICogQHBhcmFtIHshRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0clxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0Q2hpbGRFbGVtZW50QnlBdHRyKHBhcmVudCwgYXR0cikge1xuICByZXR1cm4gbGFzdENoaWxkRWxlbWVudChwYXJlbnQsIGVsID0+IHtcbiAgICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKGF0dHIpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEZpbmRzIGFsbCBjaGlsZCBlbGVtZW50cyB0aGF0IGhhcyB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJcbiAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZEVsZW1lbnRzQnlBdHRyKHBhcmVudCwgYXR0cikge1xuICByZXR1cm4gc2NvcGVkUXVlcnlTZWxlY3RvckFsbC8qT0sqLyhwYXJlbnQsIGA+IFske2F0dHJ9XWApO1xufVxuXG5cbi8qKlxuICogRmluZHMgdGhlIGZpcnN0IGNoaWxkIGVsZW1lbnQgdGhhdCBoYXMgdGhlIHNwZWNpZmllZCB0YWcgbmFtZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRFbGVtZW50QnlUYWcocGFyZW50LCB0YWdOYW1lKSB7XG4gIHJldHVybiBzY29wZWRRdWVyeVNlbGVjdG9yLypPSyovKHBhcmVudCwgYD4gJHt0YWdOYW1lfWApO1xufVxuXG5cbi8qKlxuICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIHdpdGggdGhlIHNwZWNpZmllZCB0YWcgbmFtZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZEVsZW1lbnRzQnlUYWcocGFyZW50LCB0YWdOYW1lKSB7XG4gIHJldHVybiBzY29wZWRRdWVyeVNlbGVjdG9yQWxsLypPSyovKHBhcmVudCwgYD4gJHt0YWdOYW1lfWApO1xufVxuXG5cbi8qKlxuICogRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIGBzZWxlY3RvcmAsIHNjb3BlZCBpbnNpZGUgYHJvb3RgLlxuICogTm90ZTogaW4gSUUsIHRoaXMgY2F1c2VzIGEgcXVpY2sgbXV0YXRpb24gb2YgdGhlIGVsZW1lbnQncyBjbGFzcyBsaXN0LlxuICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjb3BlZFF1ZXJ5U2VsZWN0b3Iocm9vdCwgc2VsZWN0b3IpIHtcbiAgaWYgKHNjb3BlU2VsZWN0b3JTdXBwb3J0ZWQgPT0gbnVsbCkge1xuICAgIHNjb3BlU2VsZWN0b3JTdXBwb3J0ZWQgPSBpc1Njb3BlU2VsZWN0b3JTdXBwb3J0ZWQocm9vdCk7XG4gIH1cbiAgaWYgKHNjb3BlU2VsZWN0b3JTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gcm9vdC4vKk9LKi9xdWVyeVNlbGVjdG9yKGA6c2NvcGUgJHtzZWxlY3Rvcn1gKTtcbiAgfVxuXG4gIC8vIE9ubHkgSUUuXG4gIGNvbnN0IHVuaXF1ZSA9ICdpLWFtcGh0bWwtc2NvcGVkJztcbiAgcm9vdC5jbGFzc0xpc3QuYWRkKHVuaXF1ZSk7XG4gIGNvbnN0IGVsZW1lbnQgPSByb290Li8qT0sqL3F1ZXJ5U2VsZWN0b3IoYC4ke3VuaXF1ZX0gJHtzZWxlY3Rvcn1gKTtcbiAgcm9vdC5jbGFzc0xpc3QucmVtb3ZlKHVuaXF1ZSk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5cbi8qKlxuICogRmluZHMgdGhlIGV2ZXJ5IGVsZW1lbnQgdGhhdCBtYXRjaGVzIGBzZWxlY3RvcmAsIHNjb3BlZCBpbnNpZGUgYHJvb3RgLlxuICogTm90ZTogaW4gSUUsIHRoaXMgY2F1c2VzIGEgcXVpY2sgbXV0YXRpb24gb2YgdGhlIGVsZW1lbnQncyBjbGFzcyBsaXN0LlxuICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHshTm9kZUxpc3Q8IUVsZW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NvcGVkUXVlcnlTZWxlY3RvckFsbChyb290LCBzZWxlY3Rvcikge1xuICBpZiAoc2NvcGVTZWxlY3RvclN1cHBvcnRlZCA9PSBudWxsKSB7XG4gICAgc2NvcGVTZWxlY3RvclN1cHBvcnRlZCA9IGlzU2NvcGVTZWxlY3RvclN1cHBvcnRlZChyb290KTtcbiAgfVxuICBpZiAoc2NvcGVTZWxlY3RvclN1cHBvcnRlZCkge1xuICAgIHJldHVybiByb290Li8qT0sqL3F1ZXJ5U2VsZWN0b3JBbGwoYDpzY29wZSAke3NlbGVjdG9yfWApO1xuICB9XG5cbiAgLy8gT25seSBJRS5cbiAgY29uc3QgdW5pcXVlID0gJ2ktYW1waHRtbC1zY29wZWQnO1xuICByb290LmNsYXNzTGlzdC5hZGQodW5pcXVlKTtcbiAgY29uc3QgZWxlbWVudHMgPSByb290Li8qT0sqL3F1ZXJ5U2VsZWN0b3JBbGwoYC4ke3VuaXF1ZX0gJHtzZWxlY3Rvcn1gKTtcbiAgcm9vdC5jbGFzc0xpc3QucmVtb3ZlKHVuaXF1ZSk7XG4gIHJldHVybiBlbGVtZW50cztcbn1cblxuXG4vKipcbiAqIFJldHVybnMgZWxlbWVudCBkYXRhLXBhcmFtLSBhdHRyaWJ1dGVzIGFzIHVybCBwYXJhbWV0ZXJzIGtleS12YWx1ZSBwYWlycy5cbiAqIGUuZy4gZGF0YS1wYXJhbS1zb21lLWF0dHI9dmFsdWUgLT4ge3NvbWVBdHRyOiB2YWx1ZX0uXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyk6c3RyaW5nPX0gb3B0X2NvbXB1dGVQYXJhbU5hbWVGdW5jIHRvIGNvbXB1dGUgdGhlXG4gKiAgICBwYXJhbWV0ZXIgbmFtZSwgZ2V0IHBhc3NlZCB0aGUgY2FtZWwtY2FzZSBwYXJhbWV0ZXIgbmFtZS5cbiAqIEBwYXJhbSB7IVJlZ0V4cD19IG9wdF9wYXJhbVBhdHRlcm4gUmVnZXggcGF0dGVybiB0byBtYXRjaCBkYXRhIGF0dHJpYnV0ZXMuXG4gKiBAcmV0dXJuIHshSnNvbk9iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFQYXJhbXNGcm9tQXR0cmlidXRlcyhlbGVtZW50LCBvcHRfY29tcHV0ZVBhcmFtTmFtZUZ1bmMsXG4gIG9wdF9wYXJhbVBhdHRlcm4pIHtcbiAgY29uc3QgY29tcHV0ZVBhcmFtTmFtZUZ1bmMgPSBvcHRfY29tcHV0ZVBhcmFtTmFtZUZ1bmMgfHwgKGtleSA9PiBrZXkpO1xuICBjb25zdCB7ZGF0YXNldH0gPSBlbGVtZW50O1xuICBjb25zdCBwYXJhbXMgPSBkaWN0KCk7XG4gIGNvbnN0IHBhcmFtUGF0dGVybiA9IG9wdF9wYXJhbVBhdHRlcm4gPyBvcHRfcGFyYW1QYXR0ZXJuIDogL15wYXJhbSguKykvO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhc2V0KSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IGtleS5tYXRjaChwYXJhbVBhdHRlcm4pO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICBjb25zdCBwYXJhbSA9IG1hdGNoZXNbMV1bMF0udG9Mb3dlckNhc2UoKSArIG1hdGNoZXNbMV0uc3Vic3RyKDEpO1xuICAgICAgcGFyYW1zW2NvbXB1dGVQYXJhbU5hbWVGdW5jKHBhcmFtKV0gPSBkYXRhc2V0W2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbi8qKlxuICogV2hldGhlciB0aGUgZWxlbWVudCBoYXZlIGEgbmV4dCBub2RlIGluIHRoZSBkb2N1bWVudCBvcmRlci5cbiAqIFRoaXMgbWVhbnMgZWl0aGVyOlxuICogIGEuIFRoZSBlbGVtZW50IGl0c2VsZiBoYXMgYSBuZXh0U2libGluZy5cbiAqICBiLiBBbnkgb2YgdGhlIGVsZW1lbnQgYW5jZXN0b3JzIGhhcyBhIG5leHRTaWJsaW5nLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHs/Tm9kZX0gb3B0X3N0b3BOb2RlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzTmV4dE5vZGVJbkRvY3VtZW50T3JkZXIoZWxlbWVudCwgb3B0X3N0b3BOb2RlKSB7XG4gIGxldCBjdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gIGRvIHtcbiAgICBpZiAoY3VycmVudEVsZW1lbnQubmV4dFNpYmxpbmcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSB3aGlsZSAoKGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucGFyZW50Tm9kZSkgJiZcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ICE9IG9wdF9zdG9wTm9kZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEZpbmRzIGFsbCBhbmNlc3RvciBlbGVtZW50cyB0aGF0IHNhdGlzZnkgcHJlZGljYXRlLlxuICogQHBhcmFtIHshRWxlbWVudH0gY2hpbGRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVsZW1lbnQpOmJvb2xlYW59IHByZWRpY2F0ZVxuICogQHJldHVybiB7IUFycmF5PCFFbGVtZW50Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuY2VzdG9yRWxlbWVudHMoY2hpbGQsIHByZWRpY2F0ZSkge1xuICBjb25zdCBhbmNlc3RvcnMgPSBbXTtcbiAgZm9yIChsZXQgYW5jZXN0b3IgPSBjaGlsZC5wYXJlbnRFbGVtZW50OyBhbmNlc3RvcjtcbiAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudEVsZW1lbnQpIHtcbiAgICBpZiAocHJlZGljYXRlKGFuY2VzdG9yKSkge1xuICAgICAgYW5jZXN0b3JzLnB1c2goYW5jZXN0b3IpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYW5jZXN0b3JzO1xufVxuXG5cbi8qKlxuICogRmluZHMgYWxsIGFuY2VzdG9yIGVsZW1lbnRzIHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgdGFnIG5hbWUuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBjaGlsZFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEByZXR1cm4geyFBcnJheTwhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmNlc3RvckVsZW1lbnRzQnlUYWcoY2hpbGQsIHRhZ05hbWUpIHtcbiAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgcmV0dXJuIGFuY2VzdG9yRWxlbWVudHMoY2hpbGQsIGVsID0+IHtcbiAgICByZXR1cm4gZWwudGFnTmFtZSA9PSB0YWdOYW1lO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGNvbnRlbnQgb2YgYSB0ZW1wbGF0ZSBlbGVtZW50LlxuICpcbiAqIFBvbHlmaWxsIHRvIHJlcGxhY2UgLmNvbnRlbnQgYWNjZXNzIGZvciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0XG4gKiBIVE1MVGVtcGxhdGVFbGVtZW50cyBuYXRpdmVseS5cbiAqXG4gKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fCFFbGVtZW50fSB0ZW1wbGF0ZVxuICogQHJldHVybiB7IURvY3VtZW50RnJhZ21lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUNvbnRlbnRDbG9uZSh0ZW1wbGF0ZSkge1xuICBpZiAoJ2NvbnRlbnQnIGluIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBjb3B5Q2hpbGRyZW4odGVtcGxhdGUsIGNvbnRlbnQpO1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIGFycmF5LWxpa2UuIFNvbWUgY29sbGVjdGlvbnMgbGlrZSBOb2RlTGlzdCBhcmVcbiAqIGxhemlseSBldmFsdWF0ZWQgaW4gc29tZSBicm93c2VycywgYW5kIGFjY2Vzc2luZyBgbGVuZ3RoYCBmb3JjZXMgZnVsbFxuICogZXZhbHVhdGlvbi4gV2UgY2FuIGltcHJvdmUgcGVyZm9ybWFuY2UgYnkgaXRlcmF0aW5nIHVudGlsIGFuIGVsZW1lbnQgaXNcbiAqIGB1bmRlZmluZWRgIHRvIGF2b2lkIGNoZWNraW5nIHRoZSBgbGVuZ3RoYCBwcm9wZXJ0eS5cbiAqIFRlc3QgY2FzZXM6IGh0dHBzOi8vanNwZXJmLmNvbS9pdGVyYXRpbmctb3Zlci1jb2xsZWN0aW9ucy1vZi1lbGVtZW50c1xuICogQHBhcmFtIHshSUFycmF5TGlrZTxUPn0gaXRlcmFibGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyKX0gY2JcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpdGVyYXRlQ3Vyc29yKGl0ZXJhYmxlLCBjYikge1xuICBmb3IgKGxldCBpID0gMCwgdmFsdWU7ICh2YWx1ZSA9IGl0ZXJhYmxlW2ldKSAhPT0gdW5kZWZpbmVkOyBpKyspIHtcbiAgICBjYih2YWx1ZSwgaSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCB3cmFwcyBhcm91bmQgd2luZG93J3Mgb3BlbiBtZXRob2QuIEl0IGZpcnN0IHRyaWVzIHRvIGV4ZWN1dGVcbiAqIGBvcGVuYCBjYWxsIHdpdGggdGhlIHByb3ZpZGVkIHRhcmdldCBhbmQgaWYgaXQgZmFpbHMsIGl0IHJldHJpZXMgdGhlIGNhbGxcbiAqIHdpdGggdGhlIGBfdG9wYCB0YXJnZXQuIFRoaXMgaXMgbmVjZXNzYXJ5IGdpdmVuIHRoYXQgaW4gc29tZSBlbWJlZGRpbmdcbiAqIHNjZW5hcmlvcywgc3VjaCBhcyBpT1MnIFdLV2ViVmlldywgbmF2aWdhdGlvbiB0byBgX2JsYW5rYCBhbmQgb3RoZXIgdGFyZ2V0c1xuICogaXMgYmxvY2tlZCBieSBkZWZhdWx0LlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9mZWF0dXJlc1xuICogQHJldHVybiB7P1dpbmRvd31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5XaW5kb3dEaWFsb2cod2luLCB1cmwsIHRhcmdldCwgb3B0X2ZlYXR1cmVzKSB7XG4gIC8vIFRyeSBmaXJzdCB3aXRoIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LiBJZiB3ZSdyZSBpbnNpZGUgdGhlIFdLV2ViVmlldyBvclxuICAvLyBhIHNpbWlsYXIgZW52aXJvbm1lbnRzLCB0aGlzIG1ldGhvZCBpcyBleHBlY3RlZCB0byBmYWlsIGJ5IGRlZmF1bHQgZm9yXG4gIC8vIGFsbCB0YXJnZXRzIGV4Y2VwdCBgX3RvcGAuXG4gIGxldCByZXM7XG4gIHRyeSB7XG4gICAgcmVzID0gd2luLm9wZW4odXJsLCB0YXJnZXQsIG9wdF9mZWF0dXJlcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBkZXYoKS5lcnJvcignRE9NJywgJ0ZhaWxlZCB0byBvcGVuIHVybCBvbiB0YXJnZXQ6ICcsIHRhcmdldCwgZSk7XG4gIH1cblxuICAvLyBUaGVuIHRyeSB3aXRoIGBfdG9wYCB0YXJnZXQuXG4gIGlmICghcmVzICYmIHRhcmdldCAhPSAnX3RvcCcpIHtcbiAgICByZXMgPSB3aW4ub3Blbih1cmwsICdfdG9wJyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBlbGVtZW50IGlzIGEgc2NyaXB0IHRhZyB3aXRoIGFwcGxpY2F0aW9uL2pzb24gdHlwZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25TY3JpcHRUYWcoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC50YWdOYW1lID09ICdTQ1JJUFQnICYmXG4gICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpLnRvVXBwZXJDYXNlKCkgPT0gJ0FQUExJQ0FUSU9OL0pTT04nO1xufVxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgYSBzY3JpcHQgdGFnIHdpdGggYXBwbGljYXRpb24vanNvbiB0eXBlLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvbkxkU2NyaXB0VGFnKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PSAnU0NSSVBUJyAmJlxuICAgICAgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKS50b1VwcGVyQ2FzZSgpID09ICdBUFBMSUNBVElPTi9MRCtKU09OJztcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBwYWdlJ3MgZGlyZWN0aW9uIGlzIHJpZ2h0IHRvIGxlZnQgb3Igbm90LlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUlRMKGRvYykge1xuICBjb25zdCBkaXIgPSBkb2MuYm9keS5nZXRBdHRyaWJ1dGUoJ2RpcicpXG4gICAgICAgICAgICAgICAgIHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKVxuICAgICAgICAgICAgICAgICB8fCAnbHRyJztcbiAgcmV0dXJuIGRpciA9PSAncnRsJztcbn1cblxuXG4vKipcbiAqIEVzY2FwZXMgYW4gaWRlbnQgKElEIG9yIGEgY2xhc3MgbmFtZSkgdG8gYmUgdXNlZCBhcyBhIENTUyBzZWxlY3Rvci5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNzZXJpYWxpemUtYW4taWRlbnRpZmllci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNzc1NlbGVjdG9ySWRlbnQoaWRlbnQpIHtcbiAgcmV0dXJuIGNzc0VzY2FwZShpZGVudCk7XG59XG5cbi8qKlxuICogRXNjYXBlcyBhbiBpZGVudCBpbiBhIHdheSB0aGF0IGNhbiBiZSB1c2VkIGJ5IDpudGgtY2hpbGQoKSBwc3VlZG8tY2xhc3MuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvY3Nzd2ctZHJhZnRzL2lzc3Vlcy8yMzA2LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWRlbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNzc1NlbGVjdG9yTnRoKGlkZW50KSB7XG4gIGNvbnN0IGVzY2FwZWQgPSBTdHJpbmcoaWRlbnQpO1xuICAvLyBFbnN1cmUgaXQgZG9lc24ndCBjbG9zZSB0aGUgbnRoLWNoaWxkIHBzdWVkbyBjbGFzcy5cbiAgZGV2KCkuYXNzZXJ0KGVzY2FwZWQuaW5kZXhPZignKScpID09PSAtMSk7XG4gIHJldHVybiBlc2NhcGVkO1xufVxuXG4vKipcbiAqIEVzY2FwZXMgYDxgLCBgPmAgYW5kIG90aGVyIEhUTUwgY2hhcmNhdGVycyB3aXRoIHRoZWlyIGVzY2FwZWQgZm9ybXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XG4gIGlmICghdGV4dCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoSFRNTF9FU0NBUEVfUkVHRVgsIGVzY2FwZUh0bWxDaGFyKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVIdG1sQ2hhcihjKSB7XG4gIHJldHVybiBIVE1MX0VTQ0FQRV9DSEFSU1tjXTtcbn1cblxuLyoqXG4gKiBUcmllcyB0byBmb2N1cyBvbiB0aGUgZ2l2ZW4gZWxlbWVudDsgZmFpbHMgc2lsZW50bHkgaWYgYnJvd3NlciB0aHJvd3MgYW5cbiAqIGV4Y2VwdGlvbi5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeUZvY3VzKGVsZW1lbnQpIHtcbiAgdHJ5IHtcbiAgICBlbGVtZW50Li8qT0sqL2ZvY3VzKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJRSA8PSA3IG1heSB0aHJvdyBleGNlcHRpb25zIHdoZW4gZm9jdXNpbmcgb24gaGlkZGVuIGl0ZW1zLlxuICB9XG59XG5cbi8qKlxuICogV2hldGhlciB0aGUgZ2l2ZW4gd2luZG93IGlzIGluIGFuIGlmcmFtZSBvciBub3QuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSWZyYW1lZCh3aW4pIHtcbiAgcmV0dXJuIHdpbi5wYXJlbnQgJiYgd2luLnBhcmVudCAhPSB3aW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGlzIGVsZW1lbnQgaXMgYW4gQU1QIGVsZW1lbnRcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FtcEVsZW1lbnQoZWxlbWVudCkge1xuICBjb25zdCB0YWcgPSBlbGVtZW50LnRhZ05hbWU7XG4gIC8vIFVzZSBwcmVmaXggdG8gcmVjb2duaXplIEFNUCBlbGVtZW50LiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHN0dWJcbiAgLy8gbWF5IG5vdCBiZSBhdHRhY2hlZCB5ZXQuXG4gIHJldHVybiBzdGFydHNXaXRoKHRhZywgJ0FNUC0nKSAmJlxuICAgICAgLy8gU29tZSBcImFtcC0qXCIgZWxlbWVudHMgYXJlIG5vdCByZWFsbHkgQU1QIGVsZW1lbnRzLiA6c21oOlxuICAgICAgISh0YWcgPT0gJ0FNUC1TVElDS1ktQUQtVE9QLVBBRERJTkcnIHx8IHRhZyA9PSAnQU1QLUJPRFknKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZSB3aGVuIGFuIEFNUCBlbGVtZW50IHVwZ3JhZGUgZnJvbSBIVE1MRWxlbWVudFxuICogdG8gQ3VzdG9tRWxlbWVudFxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7IVByb21pc2U8IUVsZW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hlblVwZ3JhZGVkVG9DdXN0b21FbGVtZW50KGVsZW1lbnQpIHtcbiAgZGV2KCkuYXNzZXJ0KGlzQW1wRWxlbWVudChlbGVtZW50KSwgJ2VsZW1lbnQgaXMgbm90IEFtcEVsZW1lbnQnKTtcbiAgaWYgKGVsZW1lbnQuY3JlYXRlZENhbGxiYWNrKSB7XG4gICAgLy8gRWxlbWVudCBhbHJlYWR5IGlzIEN1c3RvbUVsZW1lbnQ7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlbGVtZW50KTtcbiAgfVxuICAvLyBJZiBFbGVtZW50IGlzIHN0aWxsIEhUTUxFbGVtZW50LCB3YWl0IGZvciBpdCB0byB1cGdyYWRlIHRvIGN1c3RvbUVsZW1lbnRcbiAgLy8gTm90ZTogdXNlIHB1cmUgc3RyaW5nIHRvIGF2b2lkIG9iZnVzY2F0aW9uIGJldHdlZW4gdmVyc2lvbnMuXG4gIGlmICghZWxlbWVudFtVUEdSQURFX1RPX0NVU1RPTUVMRU1FTlRfUFJPTUlTRV0pIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIGVsZW1lbnRbVVBHUkFERV9UT19DVVNUT01FTEVNRU5UX1BST01JU0VdID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICBlbGVtZW50W1VQR1JBREVfVE9fQ1VTVE9NRUxFTUVOVF9SRVNPTFZFUl0gPSBkZWZlcnJlZC5yZXNvbHZlO1xuXG4gIH1cblxuICByZXR1cm4gZWxlbWVudFtVUEdSQURFX1RPX0NVU1RPTUVMRU1FTlRfUFJPTUlTRV07XG59XG5cbi8qKlxuICogUmVwbGFjZW1lbnQgZm9yIGBFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKClgIG1ldGhvZC5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L3JlcXVlc3RGdWxsc2NyZWVuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmdWxsc2NyZWVuRW50ZXIoZWxlbWVudCkge1xuICBjb25zdCByZXF1ZXN0RnMgPSBlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuXG4gICB8fCBlbGVtZW50LnJlcXVlc3RGdWxsU2NyZWVuXG4gICB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXG4gICB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuXG4gICB8fCBlbGVtZW50LndlYmtpdEVudGVyRnVsbHNjcmVlblxuICAgfHwgZWxlbWVudC53ZWJraXRFbnRlckZ1bGxTY3JlZW5cbiAgIHx8IGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlblxuICAgfHwgZWxlbWVudC5tc1JlcXVlc3RGdWxsU2NyZWVuXG4gICB8fCBlbGVtZW50Lm1velJlcXVlc3RGdWxsc2NyZWVuXG4gICB8fCBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuO1xuICBpZiAocmVxdWVzdEZzKSB7XG4gICAgcmVxdWVzdEZzLmNhbGwoZWxlbWVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgYERvY3VtZW50LmV4aXRGdWxsc2NyZWVuKClgIG1ldGhvZC5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9leGl0RnVsbHNjcmVlblxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnVsbHNjcmVlbkV4aXQoZWxlbWVudCkge1xuICBsZXQgZXhpdEZzID0gZWxlbWVudC5jYW5jZWxGdWxsU2NyZWVuXG4gICAgICAgICAgICAgIMKgfHwgZWxlbWVudC5leGl0RnVsbHNjcmVlblxuICAgICAgICAgICAgICDCoHx8IGVsZW1lbnQuZXhpdEZ1bGxTY3JlZW5cbiAgICAgICAgICAgICAgwqB8fCBlbGVtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuXG4gICAgICAgICAgICAgIMKgfHwgZWxlbWVudC53ZWJraXRFeGl0RnVsbFNjcmVlblxuICAgICAgICAgICAgICDCoHx8IGVsZW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlblxuICAgICAgICAgICAgICDCoHx8IGVsZW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlblxuICAgICAgICAgICAgICDCoHx8IGVsZW1lbnQubXNFeGl0RnVsbHNjcmVlbjtcbiAgaWYgKGV4aXRGcykge1xuICAgIGV4aXRGcy5jYWxsKGVsZW1lbnQpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZWxlbWVudC5vd25lckRvY3VtZW50KSB7XG4gICAgZXhpdEZzID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW5cbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW5cbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZXhpdEZ1bGxTY3JlZW5cbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW5cbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQud2Via2l0RXhpdEZ1bGxTY3JlZW5cbiAgICAgICAgICAgICB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlblxuICAgICAgICAgICAgIHx8IGVsZW1lbnQub3duZXJEb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuXG4gICAgICAgICAgICAgfHwgZWxlbWVudC5vd25lckRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW47XG4gIH1cbiAgaWYgKGV4aXRGcykge1xuICAgIGV4aXRGcy5jYWxsKGVsZW1lbnQub3duZXJEb2N1bWVudCk7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgYERvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50YC5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9mdWxsc2NyZWVuRWxlbWVudFxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsbHNjcmVlbkVsZW1lbnQoZWxlbWVudCkge1xuICBjb25zdCBpc0Z1bGxzY3JlZW4gPSBlbGVtZW50LndlYmtpdERpc3BsYXlpbmdGdWxsc2NyZWVuO1xuICBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgIGNvbnN0IGZ1bGxzY3JlZW5FbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50XG4gICAgICAgICAgICAgfHwgZWxlbWVudC5vd25lckRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50XG4gICAgICAgICAgICAgfHwgZWxlbWVudC5vd25lckRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50XG4gICAgICAgICAgICAgfHwgZWxlbWVudC53ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQ7XG4gICAgaWYgKGZ1bGxzY3JlZW5FbGVtZW50ID09IGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG5vZGUgaXMgbm90IGRpc2FibGVkLlxuICpcbiAqIElFOCBjYW4gcmV0dXJuIGZhbHNlIHBvc2l0aXZlcywgc2VlIHtAbGluayBtYXRjaGVzfS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW5hYmxlZChlbGVtZW50KSB7XG4gIHJldHVybiAhKGVsZW1lbnQuZGlzYWJsZWQgfHwgbWF0Y2hlcyhlbGVtZW50LCAnOmRpc2FibGVkJykpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCAqIGFzIGRvbSBmcm9tICcuL2RvbSc7XG5pbXBvcnQge1xuICBnZXRBbXBkb2MsXG4gIGdldEV4aXN0aW5nU2VydmljZUZvckRvY0luRW1iZWRTY29wZSxcbiAgZ2V0U2VydmljZSxcbiAgZ2V0U2VydmljZVByb21pc2UsXG4gIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jLFxuICBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbCxcbiAgZ2V0U2VydmljZVByb21pc2VPck51bGxGb3JEb2MsXG4gIGdldFRvcFdpbmRvdyxcbn0gZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCB7dG9XaW59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuL2xvZyc7XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIGEgc2VydmljZSBmb3IgdGhlIGdpdmVuIGlkIGFuZCB3aW5kb3cuIEFsc28gZXhwZWN0cyBhblxuICogZWxlbWVudCB0aGF0IGhhcyB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uLiBUaGUgcHJvbWlzZSByZXNvbHZlcyB3aGVuIHRoZVxuICogaW1wbGVtZW50YXRpb24gbG9hZGVkLiBVc2VycyBzaG91bGQgdHlwaWNhbGx5IHdyYXAgdGhpcyBhcyBhIHNwZWNpYWwgcHVycG9zZVxuICogZnVuY3Rpb24gKGUuZy4gU2VydmljZXMudmlld3BvcnRGb3JEb2MoLi4uKSkgZm9yIHR5cGUgc2FmZXR5IGFuZCBiZWNhdXNlIHRoZVxuICogZmFjdG9yeSBzaG91bGQgbm90IGJlIHBhc3NlZCBhcm91bmQuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiBOYW1lIG9mIHRoZSBjdXN0b20gZXh0ZW5zaW9uIHRoYXQgcHJvdmlkZXMgdGhlXG4gKiAgICAgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzZXJ2aWNlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2VsZW1lbnQgV2hldGhlciB0aGlzIHNlcnZpY2UgaXMgcHJvdmlkZWQgYnkgYW4gZWxlbWVudCxcbiAqICAgICBub3QgdGhlIGV4dGVuc2lvbi5cbiAqIEByZXR1cm4geyFQcm9taXNlPCo+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFNlcnZpY2Uod2luLCBpZCwgZXh0ZW5zaW9uLCBvcHRfZWxlbWVudCkge1xuICByZXR1cm4gZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sIGlkLCBleHRlbnNpb24sIG9wdF9lbGVtZW50KS50aGVuKFxuICAgICAgc2VydmljZSA9PiBhc3NlcnRTZXJ2aWNlKHNlcnZpY2UsIGlkLCBleHRlbnNpb24pKTtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGdldEVsZW1lbnRTZXJ2aWNlIGJ1dCBwcm9kdWNlcyBudWxsIGlmIHRoZSBnaXZlbiBlbGVtZW50IGlzIG5vdFxuICogYWN0dWFsbHkgYXZhaWxhYmxlIG9uIHRoZSBjdXJyZW50IHBhZ2UuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiBOYW1lIG9mIHRoZSBjdXN0b20gZXh0ZW5zaW9uIHRoYXQgcHJvdmlkZXMgdGhlXG4gKiAgICAgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzZXJ2aWNlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2VsZW1lbnQgV2hldGhlciB0aGlzIHNlcnZpY2UgaXMgcHJvdmlkZWQgYnkgYW5cbiAqICAgICBlbGVtZW50LCBub3QgdGhlIGV4dGVuc2lvbi5cbiAqIEByZXR1cm4geyFQcm9taXNlPD9PYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sIGlkLCBleHRlbnNpb24sIG9wdF9lbGVtZW50KSB7XG4gIGNvbnN0IHMgPSBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbCh3aW4sIGlkKTtcbiAgaWYgKHMpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTw/T2JqZWN0Pn0gKi8gKHMpO1xuICB9XG4gIHJldHVybiBnZXRFbGVtZW50U2VydmljZVByb21pc2VPck51bGwod2luLCBpZCwgZXh0ZW5zaW9uLCBvcHRfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZSBOYW1lIG9mIGFuIGV4dGVuZGVkIGN1c3RvbSBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGVsZW1lbnQgaXMgc2NoZWR1bGVkIHRvIGJlIGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50U2NoZWR1bGVkKHdpbiwgZWxlbWVudE5hbWUpIHtcbiAgLy8gU2V0IGluIGN1c3RvbS1lbGVtZW50LmpzXG4gIGlmICghd2luLmFtcEV4dGVuZGVkRWxlbWVudHMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuICEhd2luLmFtcEV4dGVuZGVkRWxlbWVudHNbZWxlbWVudE5hbWVdO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIGEgc2VydmljZSBmb3IgdGhlIGdpdmVuIGlkIGFuZCB3aW5kb3cuIEFsc28gZXhwZWN0cyBhblxuICogZWxlbWVudCB0aGF0IGhhcyB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uLiBUaGUgcHJvbWlzZSByZXNvbHZlcyB3aGVuIHRoZVxuICogaW1wbGVtZW50YXRpb24gbG9hZGVkLiBVc2VycyBzaG91bGQgdHlwaWNhbGx5IHdyYXAgdGhpcyBhcyBhIHNwZWNpYWwgcHVycG9zZVxuICogZnVuY3Rpb24gKGUuZy4gU2VydmljZXMudmlld3BvcnRGb3JEb2MoLi4uKSkgZm9yIHR5cGUgc2FmZXR5IGFuZCBiZWNhdXNlIHRoZVxuICogZmFjdG9yeSBzaG91bGQgbm90IGJlIHBhc3NlZCBhcm91bmQuXG4gKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gTmFtZSBvZiB0aGUgY3VzdG9tIGV4dGVuc2lvbiB0aGF0IHByb3ZpZGVzIHRoZVxuICogICAgIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgc2VydmljZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9lbGVtZW50IFdoZXRoZXIgdGhpcyBzZXJ2aWNlIGlzIHByb3ZpZGVkIGJ5IGFuIGVsZW1lbnQsXG4gKiAgICAgbm90IHRoZSBleHRlbnNpb24uXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwqPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRTZXJ2aWNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgaWQsIGV4dGVuc2lvbixcbiAgb3B0X2VsZW1lbnQpIHtcbiAgcmV0dXJuIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2MoXG4gICAgICBlbGVtZW50T3JBbXBEb2MsIGlkLCBleHRlbnNpb24sIG9wdF9lbGVtZW50KVxuICAgICAgLnRoZW4oc2VydmljZSA9PiBhc3NlcnRTZXJ2aWNlKHNlcnZpY2UsIGlkLCBleHRlbnNpb24pKTtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGdldEVsZW1lbnRTZXJ2aWNlIGJ1dCBwcm9kdWNlcyBudWxsIGlmIHRoZSBnaXZlbiBlbGVtZW50IGlzIG5vdFxuICogYWN0dWFsbHkgYXZhaWxhYmxlIG9uIHRoZSBjdXJyZW50IHBhZ2UuXG4gKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gTmFtZSBvZiB0aGUgY3VzdG9tIGV4dGVuc2lvbiB0aGF0IHByb3ZpZGVzIHRoZVxuICogICAgIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgc2VydmljZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9lbGVtZW50IFdoZXRoZXIgdGhpcyBzZXJ2aWNlIGlzIHByb3ZpZGVkIGJ5IGFuXG4gKiAgICAgZWxlbWVudCwgbm90IHRoZSBleHRlbnNpb24uXG4gKiBAcmV0dXJuIHshUHJvbWlzZTw/T2JqZWN0Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2MoXG4gIGVsZW1lbnRPckFtcERvYywgaWQsIGV4dGVuc2lvbiwgb3B0X2VsZW1lbnQpIHtcbiAgY29uc3QgYW1wZG9jID0gZ2V0QW1wZG9jKGVsZW1lbnRPckFtcERvYyk7XG4gIGNvbnN0IHMgPSBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGlkKTtcbiAgaWYgKHMpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTw/T2JqZWN0Pn0gKi8gKHMpO1xuICB9XG5cbiAgcmV0dXJuIGFtcGRvYy53aGVuQm9keUF2YWlsYWJsZSgpXG4gICAgICAudGhlbigoKSA9PiB3YWl0Rm9yRXh0ZW5zaW9uSWZQcmVzZW50KFxuICAgICAgICAgIGFtcGRvYy53aW4sIGV4dGVuc2lvbixcbiAgICAgICAgICBhbXBkb2MuZ2V0SGVhZE5vZGUoKSkpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIElmIHRoaXMgc2VydmljZSBpcyBwcm92aWRlZCBieSBhbiBlbGVtZW50LCB0aGVuIHdlIGNhbid0IGRlcGVuZCBvblxuICAgICAgICAvLyB0aGUgc2VydmljZSAodGhleSBtYXkgbm90IHVzZSB0aGUgZWxlbWVudCkuXG4gICAgICAgIGlmIChvcHRfZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGlkKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnRTY2hlZHVsZWQoYW1wZG9jLndpbiwgZXh0ZW5zaW9uKSkge1xuICAgICAgICAgIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciBzZXJ2aWNlIGZvciB0aGUgZ2l2ZW4gaWQgaW4gdGhlIGVtYmVkIHNjb3BlIG9mXG4gKiBhIGdpdmVuIG5vZGUsIGlmIGl0IGV4aXN0cy4gT3RoZXJ3aXNlLCBmYWxscyBiYWNrIHRvIGFtcGRvYyBzY29wZSBJRkZcbiAqIHRoZSBnaXZlbiBub2RlIGlzIGluIHRoZSB0b3AtbGV2ZWwgd2luZG93LlxuICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIE5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRoYXQgcHJvdmlkZXNcbiAqICAgICB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzZXJ2aWNlLlxuICogQHJldHVybiB7IVByb21pc2U8P09iamVjdD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlRm9yRG9jSW5FbWJlZFNjb3BlKFxuICBlbGVtZW50T3JBbXBEb2MsIGlkLCBleHRlbnNpb24pIHtcbiAgY29uc3QgcyA9IGdldEV4aXN0aW5nU2VydmljZUZvckRvY0luRW1iZWRTY29wZShlbGVtZW50T3JBbXBEb2MsIGlkKTtcbiAgaWYgKHMpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTw/T2JqZWN0Pn0gKi8gKFByb21pc2UucmVzb2x2ZShzKSk7XG4gIH1cbiAgLy8gUmV0dXJuIGVtYmVkLXNjb3BlIGVsZW1lbnQgc2VydmljZSBwcm9taXNlIGlmIHNjaGVkdWxlZC5cbiAgaWYgKGVsZW1lbnRPckFtcERvYy5ub2RlVHlwZSkge1xuICAgIGNvbnN0IHdpbiA9IHRvV2luKGVsZW1lbnRPckFtcERvYy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICBjb25zdCB0b3BXaW4gPSBnZXRUb3BXaW5kb3cod2luKTtcbiAgICAvLyBJbiBlbWJlZHMsIGRvYy1zY29wZSBzZXJ2aWNlcyBhcmUgd2luZG93LXNjb3BlLiBCdXQgbWFrZSBzdXJlIHRvXG4gICAgLy8gb25seSBkbyB0aGlzIGZvciBlbWJlZHMgKG5vdCB0aGUgdG9wIHdpbmRvdyksIG90aGVyd2lzZSB3ZSdkIGdyYWJcbiAgICAvLyBhIHByb21pc2UgZnJvbSB0aGUgd3Jvbmcgc2VydmljZSBob2xkZXIgd2hpY2ggd291bGQgbmV2ZXIgcmVzb2x2ZS5cbiAgICBpZiAod2luICE9PSB0b3BXaW4pIHtcbiAgICAgIHJldHVybiBnZXRFbGVtZW50U2VydmljZVByb21pc2VPck51bGwod2luLCBpZCwgZXh0ZW5zaW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2sgdG8gYW1wZG9jIElGRiB0aGUgZ2l2ZW4gbm9kZSBpcyBfbm90XyBGSUUuXG4gICAgICByZXR1cm4gZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGlkLCBleHRlbnNpb24pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTw/T2JqZWN0Pn0gKi8gKFByb21pc2UucmVzb2x2ZShudWxsKSk7XG59XG5cbi8qKlxuICogVGhyb3dzIHVzZXIgZXJyb3IgaWYgYHNlcnZpY2VgIGlzIG51bGwuXG4gKiBAcGFyYW0ge09iamVjdH0gc2VydmljZVxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uXG4gKiBAcmV0dXJuIHshT2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0U2VydmljZShzZXJ2aWNlLCBpZCwgZXh0ZW5zaW9uKSB7XG4gIHJldHVybiAvKiogQHR5cGUgeyFPYmplY3R9ICovICh1c2VyKCkuYXNzZXJ0KHNlcnZpY2UsXG4gICAgICAnU2VydmljZSAlcyB3YXMgcmVxdWVzdGVkIHRvIGJlIHByb3ZpZGVkIHRocm91Z2ggJXMsICcgK1xuICAgICAgJ2J1dCAlcyBpcyBub3QgbG9hZGVkIGluIHRoZSBjdXJyZW50IHBhZ2UuIFRvIGZpeCB0aGlzICcgK1xuICAgICAgJ3Byb2JsZW0gbG9hZCB0aGUgSmF2YVNjcmlwdCBmaWxlIGZvciAlcyBpbiB0aGlzIHBhZ2UuJyxcbiAgICAgIGlkLCBleHRlbnNpb24sIGV4dGVuc2lvbiwgZXh0ZW5zaW9uKSk7XG59XG5cbi8qKlxuICogR2V0IGxpc3Qgb2YgYWxsIHRoZSBleHRlbnNpb24gSlMgZmlsZXNcbiAqIEBwYXJhbSB7SFRNTEhlYWRFbGVtZW50fEVsZW1lbnR8U2hhZG93Um9vdH0gaGVhZFxuICogQHJldHVybiB7IUFycmF5PHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbnNpb25TY3JpcHRzSW5Ob2RlKGhlYWQpIHtcbiAgLy8gYW1wZG9jLmdldEhlYWROb2RlKCkgY2FuIHJldHVybiBudWxsXG4gIGlmICghaGVhZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBzY3JpcHRzID0gW107XG4gIGNvbnN0IGxpc3QgPSBoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFtjdXN0b20tZWxlbWVudF0nKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgc2NyaXB0cy5wdXNoKGxpc3RbaV0uZ2V0QXR0cmlidXRlKCdjdXN0b20tZWxlbWVudCcpKTtcbiAgfVxuICByZXR1cm4gc2NyaXB0cztcbn1cblxuLyoqXG4gKiBXYWl0cyBmb3IgYm9keSB0byBiZSBwcmVzZW50IHRoZW4gdmVyaWZpZXMgdGhhdCBhbiBleHRlbnNpb24gc2NyaXB0IGlzXG4gKiBwcmVzZW50IGluIGhlYWQgZm9yIGluc3RhbGxhdGlvbi5cbiAqIEBwYXJhbSB7IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbklkXG4gKiBAcmV0dXJuIHshUHJvbWlzZTxib29sZWFuPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXh0ZW5zaW9uU2NyaXB0SW5Ob2RlKGFtcGRvYywgZXh0ZW5zaW9uSWQpIHtcbiAgcmV0dXJuIGFtcGRvYy53aGVuQm9keUF2YWlsYWJsZSgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBleHRlbnNpb25TY3JpcHRJbk5vZGUoXG4gICAgICAgICAgICBhbXBkb2MuZ2V0SGVhZE5vZGUoKSwgZXh0ZW5zaW9uSWQpO1xuICAgICAgfSk7XG59XG5cbi8qKlxuICogVmVyaWZpZXMgdGhhdCBhbiBleHRlbnNpb24gc2NyaXB0IGlzIHByZXNlbnQgaW4gaGVhZCBmb3JcbiAqIGluc3RhbGxhdGlvbi5cbiAqIEBwYXJhbSB7SFRNTEhlYWRFbGVtZW50fEVsZW1lbnR8U2hhZG93Um9vdH0gaGVhZFxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbklkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBleHRlbnNpb25TY3JpcHRJbk5vZGUoaGVhZCwgZXh0ZW5zaW9uSWQpIHtcbiAgcmV0dXJuIGV4dGVuc2lvblNjcmlwdHNJbk5vZGUoaGVhZCkuaW5jbHVkZXMoZXh0ZW5zaW9uSWQpO1xufVxuXG4vKipcbiAqIFdhaXRzIGZvciBhbiBleHRlbnNpb24gaWYgaXRzIHNjcmlwdCBpcyBwcmVzZW50XG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvblxuICogQHBhcmFtIHtIVE1MSGVhZEVsZW1lbnR8RWxlbWVudHxTaGFkb3dSb290fSBoZWFkXG4gKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHdhaXRGb3JFeHRlbnNpb25JZlByZXNlbnQod2luLCBleHRlbnNpb24sIGhlYWQpIHtcbiAgLyoqXG4gICAqIElmIHRoZXJlIGlzIGFuIGV4dGVuc2lvbiBzY3JpcHQgd2FpdCBmb3IgaXQgdG8gbG9hZCBiZWZvcmUgdHJ5aW5nXG4gICAqIHRvIGdldCB0aGUgc2VydmljZS4gUHJldmVudHMgYSByYWNlIGNvbmRpdGlvbiB3aGVuIGV2ZXJ5dGhpbmcgYnV0XG4gICAqIHRoZSBleHRlbnNpb25zIGlzIGluIGNhY2hlLiBJZiB0aGVyZSBpcyBubyBzY3JpcHQgdGhlbiBpdCdzIGVpdGhlclxuICAgKiBub3QgcHJlc2VudCwgb3IgdGhlIHNlcnZpY2Ugd2FzIGRlZmluZWQgYnkgYSB0ZXN0LiBJbiB0aG9zZSBjYXNlc1xuICAgKiB3ZSBkb24ndCB3YWl0IGFyb3VuZCBmb3IgYW4gZXh0ZW5zaW9uIHRoYXQgZG9lcyBub3QgZXhpc3QuXG4gICAqL1xuXG4gIC8vIFRPRE8oanBldHRpdHQpIGludmVzdGlnYXRlIHJlZ2lzdGVyRXh0ZW5zaW9uIHRvIHNob3J0IGNpcmN1aXRcbiAgLy8gdGhlIGRvbSBjYWxsIGluIGV4dGVuc2lvblNjcmlwdHNJbk5vZGUoKVxuICBpZiAoIWV4dGVuc2lvblNjcmlwdEluTm9kZShoZWFkLCBleHRlbnNpb24pKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgY29uc3QgZXh0ZW5zaW9ucyA9IGdldFNlcnZpY2Uod2luLCAnZXh0ZW5zaW9ucycpO1xuICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTw/T2JqZWN0Pn0gKi8gKFxuICAgIGV4dGVuc2lvbnMud2FpdEZvckV4dGVuc2lvbih3aW4sIGV4dGVuc2lvbikpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHByb21pc2UgZm9yIHNlcnZpY2Ugd2l0aCBgaWRgIG9uIHRoZSBnaXZlbiB3aW5kb3cgaWYgYXZhaWxhYmxlLlxuICogT3RoZXJ3aXNlLCByZXNvbHZlcyB3aXRoIG51bGwgKHNlcnZpY2Ugd2FzIG5vdCByZWdpc3RlcmVkKS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9lbGVtZW50XG4gKiBAcmV0dXJuIHshUHJvbWlzZTxPYmplY3Q+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0RWxlbWVudFNlcnZpY2VQcm9taXNlT3JOdWxsKHdpbiwgaWQsIGV4dGVuc2lvbiwgb3B0X2VsZW1lbnQpIHtcbiAgcmV0dXJuIGRvbS53YWl0Rm9yQm9keVByb21pc2Uod2luLmRvY3VtZW50KVxuICAgICAgLnRoZW4oKCkgPT4gd2FpdEZvckV4dGVuc2lvbklmUHJlc2VudCh3aW4sIGV4dGVuc2lvbiwgd2luLmRvY3VtZW50LmhlYWQpKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBJZiB0aGlzIHNlcnZpY2UgaXMgcHJvdmlkZWQgYnkgYW4gZWxlbWVudCwgdGhlbiB3ZSBjYW4ndCBkZXBlbmQgb25cbiAgICAgICAgLy8gdGhlIHNlcnZpY2UgKHRoZXkgbWF5IG5vdCB1c2UgdGhlIGVsZW1lbnQpLlxuICAgICAgICBpZiAob3B0X2VsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0U2VydmljZVByb21pc2VPck51bGwod2luLCBpZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50U2NoZWR1bGVkKHdpbiwgZXh0ZW5zaW9uKSkge1xuICAgICAgICAgIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZSh3aW4sIGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuaW1wb3J0IHtBbXBFdmVudHN9IGZyb20gJy4vYW1wLWV2ZW50cyc7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7XG4gIFVTRVJfRVJST1JfU0VOVElORUwsXG4gIGRldixcbiAgZHVwbGljYXRlRXJyb3JJZk5lY2Vzc2FyeSxcbiAgaXNVc2VyRXJyb3JFbWJlZCxcbiAgaXNVc2VyRXJyb3JNZXNzYWdlLFxufSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge2V4cGVyaW1lbnRUb2dnbGVzT3JOdWxsLCBnZXRCaW5hcnlUeXBlLCBpc0NhbmFyeX0gZnJvbSAnLi9leHBlcmltZW50cyc7XG5pbXBvcnQge2V4cG9uZW50aWFsQmFja29mZn0gZnJvbSAnLi9leHBvbmVudGlhbC1iYWNrb2ZmJztcbmltcG9ydCB7Z2V0TW9kZX0gZnJvbSAnLi9tb2RlJztcbmltcG9ydCB7aXNFeHBlcmltZW50T259IGZyb20gJy4vZXhwZXJpbWVudHMnO1xuaW1wb3J0IHtcbiAgaXNMb2FkRXJyb3JNZXNzYWdlLFxufSBmcm9tICcuL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge2lzUHJveHlPcmlnaW59IGZyb20gJy4vdXJsJztcbmltcG9ydCB7bWFrZUJvZHlWaXNpYmxlfSBmcm9tICcuL3N0eWxlLWluc3RhbGxlcic7XG5pbXBvcnQge3N0YXJ0c1dpdGh9IGZyb20gJy4vc3RyaW5nJztcbmltcG9ydCB7dHJpZ2dlckFuYWx5dGljc0V2ZW50fSBmcm9tICcuL2FuYWx5dGljcyc7XG5pbXBvcnQge3VybHN9IGZyb20gJy4vY29uZmlnJztcblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgQ0FOQ0VMTEVEID0gJ0NBTkNFTExFRCc7XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IEJMT0NLX0JZX0NPTlNFTlQgPSAnQkxPQ0tfQllfQ09OU0VOVCc7XG5cblxuLyoqXG4gKiBUaGUgdGhyZXNob2xkIGZvciBlcnJvcnMgdGhyb3R0bGVkIGJlY2F1c2Ugbm90aGluZyBjYW4gYmUgZG9uZSBhYm91dFxuICogdGhlbSwgYnV0IHdlJ2Qgc3RpbGwgbGlrZSB0byByZXBvcnQgdGhlIHJvdWdoIG51bWJlci5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICovXG5jb25zdCBOT05fQUNUSU9OQUJMRV9FUlJPUl9USFJPVFRMRV9USFJFU0hPTEQgPSAwLjAwMTtcblxuLyoqXG4gKiBUaGUgdGhyZXNob2xkIGZvciBlcnJvcnMgdGhyb3R0bGVkIGJlY2F1c2Ugbm90aGluZyBjYW4gYmUgZG9uZSBhYm91dFxuICogdGhlbSwgYnV0IHdlJ2Qgc3RpbGwgbGlrZSB0byByZXBvcnQgdGhlIHJvdWdoIG51bWJlci5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICovXG5jb25zdCBVU0VSX0VSUk9SX1RIUk9UVExFX1RIUkVTSE9MRCA9IDAuMTtcblxuXG4vKipcbiAqIENvbGxlY3RzIGVycm9yIG1lc3NhZ2VzLCBzbyB0aGV5IGNhbiBiZSBpbmNsdWRlZCBpbiBzdWJzZXF1ZW50IHJlcG9ydHMuXG4gKiBUaGF0IGFsbG93cyBpZGVudGlmeWluZyBlcnJvcnMgdGhhdCBtaWdodCBiZSBjYXVzZWQgYnkgcHJldmlvdXMgZXJyb3JzLlxuICovXG5sZXQgYWNjdW11bGF0ZWRFcnJvck1lc3NhZ2VzID0gc2VsZi5BTVBFcnJvcnMgfHwgW107XG4vLyBVc2UgYSB0cnVlIGdsb2JhbCwgdG8gYXZvaWQgbXVsdGktbW9kdWxlIGluY2x1c2lvbiBpc3N1ZXMuXG5zZWxmLkFNUEVycm9ycyA9IGFjY3VtdWxhdGVkRXJyb3JNZXNzYWdlcztcblxuLyoqXG4gKiBQdXNoZXMgZWxlbWVudCBpbnRvIGFycmF5LCBrZWVwaW5nIGF0IG1vc3QgdGhlIG1vc3QgcmVjZW50IGxpbWl0IGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHshQXJyYXk8VD59IGFycmF5XG4gKiBAcGFyYW0ge1R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdFxuICogQHRlbXBsYXRlIFRcbiAqL1xuZnVuY3Rpb24gcHVzaExpbWl0KGFycmF5LCBlbGVtZW50LCBsaW1pdCkge1xuICBpZiAoYXJyYXkubGVuZ3RoID49IGxpbWl0KSB7XG4gICAgYXJyYXkuc3BsaWNlKDAsIGFycmF5Lmxlbmd0aCAtIGxpbWl0ICsgMSk7XG4gIH1cbiAgYXJyYXkucHVzaChlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIG91ciBleHBvbmVudGlhbEJhY2tvZmYsIHRvIGxhenkgaW5pdGlhbGl6ZSBpdCB0byBhdm9pZCBhblxuICogdW4tRENFJ2FibGUgc2lkZS1lZmZlY3QuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHdvcmsgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgYmFja29mZlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgc2V0VGltZW91dCBpZFxuICovXG5sZXQgcmVwb3J0aW5nQmFja29mZiA9IGZ1bmN0aW9uKHdvcmspIHtcbiAgLy8gU2V0IHJlcG9ydGluZ0JhY2tvZmYgYXMgdGhlIGxhenktY3JlYXRlZCBmdW5jdGlvbi4gSlMgVm9vb2Rvb29vLlxuICByZXBvcnRpbmdCYWNrb2ZmID0gZXhwb25lbnRpYWxCYWNrb2ZmKDEuNSk7XG4gIHJldHVybiByZXBvcnRpbmdCYWNrb2ZmKHdvcmspO1xufTtcblxuLyoqXG4gKiBBdHRlbXB0cyB0byBzdHJpbmdpZnkgYSB2YWx1ZSwgZmFsbGluZyBiYWNrIHRvIFN0cmluZy5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJ5SnNvblN0cmluZ2lmeSh2YWx1ZSkge1xuICB0cnkge1xuICAgIC8vIENhc3QgaXMgZmluZSwgYmVjYXVzZSB3ZSByZWFsbHkgZG9uJ3QgY2FyZSBoZXJlLiBKdXN0IHRyeWluZy5cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKHZhbHVlKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0cnVlIEpTIGVuZ2luZSwgYXMgZGV0ZWN0ZWQgYnkgaW5zcGVjdGluZyBhbiBFcnJvciBzdGFjay4gVGhpcyBzaG91bGQgYmVcbiAqIHVzZWQgd2l0aCB0aGUgdXNlckFnZW50IHRvIHRlbGwgZGVmaW5pdGVseS4gSS5lLiwgQ2hyb21lIG9uIGlPUyBpcyByZWFsbHkgYVxuICogU2FmYXJpIEpTIGVuZ2luZS5cbiAqL1xubGV0IGRldGVjdGVkSnNFbmdpbmU7XG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7Kn0gZXJyb3JcbiAqIEBwYXJhbSB7IUVsZW1lbnQ9fSBvcHRfYXNzb2NpYXRlZEVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydEVycm9yRm9yV2luKHdpbiwgZXJyb3IsIG9wdF9hc3NvY2lhdGVkRWxlbWVudCkge1xuICByZXBvcnRFcnJvcihlcnJvciwgb3B0X2Fzc29jaWF0ZWRFbGVtZW50KTtcbiAgaWYgKGVycm9yICYmICEhd2luICYmIGlzVXNlckVycm9yTWVzc2FnZShlcnJvci5tZXNzYWdlKVxuICAgICAgJiYgIWlzVXNlckVycm9yRW1iZWQoZXJyb3IubWVzc2FnZSkpIHtcbiAgICByZXBvcnRFcnJvclRvQW5hbHl0aWNzKC8qKiBAdHlwZSB7IUVycm9yfSAqLyhlcnJvciksIHdpbik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXBvcnRzIGFuIGVycm9yLiBJZiB0aGUgZXJyb3IgaGFzIGFuIFwiYXNzb2NpYXRlZEVsZW1lbnRcIiBwcm9wZXJ0eVxuICogdGhlIGVsZW1lbnQgaXMgbWFya2VkIHdpdGggdGhlIGBpLWFtcGh0bWwtZWxlbWVudC1lcnJvcmAgYW5kIGRpc3BsYXlzXG4gKiB0aGUgbWVzc2FnZSBpdHNlbGYuIFRoZSBtZXNzYWdlIGlzIGFsd2F5cyBzZW5kIHRvIHRoZSBjb25zb2xlLlxuICogSWYgdGhlIGVycm9yIGhhcyBhIFwibWVzc2FnZUFycmF5XCIgcHJvcGVydHksIHRoYXQgYXJyYXkgaXMgbG9nZ2VkLlxuICogVGhpcyB3YXkgb25lIGdldHMgdGhlIG5hdGl2ZSBmaWRlbGl0eSBvZiB0aGUgY29uc29sZSBmb3IgdGhpbmdzIGxpa2VcbiAqIGVsZW1lbnRzIGluc3RlYWQgb2Ygc3RyaW5naWZpY2F0aW9uLlxuICogQHBhcmFtIHsqfSBlcnJvclxuICogQHBhcmFtIHshRWxlbWVudD19IG9wdF9hc3NvY2lhdGVkRWxlbWVudFxuICogQHJldHVybiB7IUVycm9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0RXJyb3IoZXJyb3IsIG9wdF9hc3NvY2lhdGVkRWxlbWVudCkge1xuICB0cnkge1xuICAgIC8vIENvbnZlcnQgZXJyb3IgdG8gdGhlIGV4cGVjdGVkIHR5cGUuXG4gICAgbGV0IGlzVmFsaWRFcnJvcjtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXJyb3IgPSBkdXBsaWNhdGVFcnJvcklmTmVjZXNzYXJ5KC8qKiBAdHlwZSB7IUVycm9yfSAqLyhlcnJvcikpO1xuICAgICAgICBpc1ZhbGlkRXJyb3IgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3JpZ0Vycm9yID0gZXJyb3I7XG4gICAgICAgIGVycm9yID0gbmV3IEVycm9yKHRyeUpzb25TdHJpbmdpZnkob3JpZ0Vycm9yKSk7XG4gICAgICAgIGVycm9yLm9yaWdFcnJvciA9IG9yaWdFcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ1Vua25vd24gZXJyb3InKTtcbiAgICB9XG4gICAgLy8gUmVwb3J0IGlmIGVycm9yIGlzIG5vdCBhbiBleHBlY3RlZCB0eXBlLlxuICAgIGlmICghaXNWYWxpZEVycm9yICYmIGdldE1vZGUoKS5sb2NhbERldiAmJiAhZ2V0TW9kZSgpLnRlc3QpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHJldGhyb3cgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnX3JlcG9ydGVkXyBFcnJvciByZXBvcnRlZCBpbmNvcnJlY3RseTogJyArIGVycm9yKTtcbiAgICAgICAgdGhyb3cgcmV0aHJvdztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlcnJvci5yZXBvcnRlZCkge1xuICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IUVycm9yfSAqLyAoZXJyb3IpO1xuICAgIH1cbiAgICBlcnJvci5yZXBvcnRlZCA9IHRydWU7XG5cbiAgICAvLyBVcGRhdGUgZWxlbWVudC5cbiAgICBjb25zdCBlbGVtZW50ID0gb3B0X2Fzc29jaWF0ZWRFbGVtZW50IHx8IGVycm9yLmFzc29jaWF0ZWRFbGVtZW50O1xuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1lcnJvcicpO1xuICAgICAgaWYgKGdldE1vZGUoKS5kZXZlbG9wbWVudCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1lbGVtZW50LWVycm9yJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdlcnJvci1tZXNzYWdlJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVwb3J0IHRvIGNvbnNvbGUuXG4gICAgaWYgKHNlbGYuY29uc29sZSkge1xuICAgICAgY29uc3Qgb3V0cHV0ID0gKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpO1xuICAgICAgaWYgKGVycm9yLm1lc3NhZ2VBcnJheSkge1xuICAgICAgICBvdXRwdXQuYXBwbHkoY29uc29sZSwgZXJyb3IubWVzc2FnZUFycmF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgb3V0cHV0LmNhbGwoY29uc29sZSwgZXJyb3IubWVzc2FnZSwgZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWdldE1vZGUoKS5taW5pZmllZCkge1xuICAgICAgICAgIG91dHB1dC5jYWxsKGNvbnNvbGUsIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXRwdXQuY2FsbChjb25zb2xlLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmRpc3BhdGNoQ3VzdG9tRXZlbnRGb3JUZXN0aW5nKSB7XG4gICAgICBlbGVtZW50LmRpc3BhdGNoQ3VzdG9tRXZlbnRGb3JUZXN0aW5nKEFtcEV2ZW50cy5FUlJPUiwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLy8gJ2NhbGwnIHRvIG1ha2UgbGludGVyIGhhcHB5LiBBbmQgLmNhbGwgdG8gbWFrZSBjb21waWxlciBoYXBweVxuICAgIC8vIHRoYXQgZXhwZWN0cyBzb21lIEB0aGlzLlxuICAgIHJlcG9ydEVycm9yVG9TZXJ2ZXJbJ2NhbGwnXSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCwgZXJyb3IpO1xuICB9IGNhdGNoIChlcnJvclJlcG9ydGluZ0Vycm9yKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IGVycm9yUmVwb3J0aW5nRXJyb3I7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7IUVycm9yfSAqLyAoZXJyb3IpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gZXJyb3IgZm9yIGEgY2FuY2VsbGF0aW9uIG9mIGEgcHJvbWlzZS5cbiAqIEByZXR1cm4geyFFcnJvcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbGxhdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihDQU5DRUxMRUQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gZXJyb3JPck1lc3NhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbmNlbGxhdGlvbihlcnJvck9yTWVzc2FnZSkge1xuICBpZiAoIWVycm9yT3JNZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3JPck1lc3NhZ2UgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aChlcnJvck9yTWVzc2FnZSwgQ0FOQ0VMTEVEKTtcbiAgfVxuICBpZiAodHlwZW9mIGVycm9yT3JNZXNzYWdlLm1lc3NhZ2UgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aChlcnJvck9yTWVzc2FnZS5tZXNzYWdlLCBDQU5DRUxMRUQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGVycm9yIGZvciBjb21wb25lbnQgYmxvY2tlZCBieSBjb25zZW50XG4gKiBAcmV0dXJuIHshRXJyb3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibG9ja2VkQnlDb25zZW50RXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoQkxPQ0tfQllfQ09OU0VOVCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSBlcnJvck9yTWVzc2FnZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmxvY2tlZEJ5Q29uc2VudChlcnJvck9yTWVzc2FnZSkge1xuICBpZiAoIWVycm9yT3JNZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3JPck1lc3NhZ2UgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aChlcnJvck9yTWVzc2FnZSwgQkxPQ0tfQllfQ09OU0VOVCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvck9yTWVzc2FnZS5tZXNzYWdlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0YXJ0c1dpdGgoZXJyb3JPck1lc3NhZ2UubWVzc2FnZSwgQkxPQ0tfQllfQ09OU0VOVCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogSW5zdGFsbCBoYW5kbGluZyBvZiBnbG9iYWwgdW5oYW5kbGVkIGV4Y2VwdGlvbnMuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbEVycm9yUmVwb3J0aW5nKHdpbikge1xuICB3aW4ub25lcnJvciA9IC8qKiBAdHlwZSB7IUZ1bmN0aW9ufSAqLyAocmVwb3J0RXJyb3JUb1NlcnZlcik7XG4gIHdpbi5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCBldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50LnJlYXNvbiAmJlxuICAgICAgKGV2ZW50LnJlYXNvbi5tZXNzYWdlID09PSBDQU5DRUxMRUQgfHxcbiAgICAgIGV2ZW50LnJlYXNvbi5tZXNzYWdlID09PSBCTE9DS19CWV9DT05TRU5UKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVwb3J0RXJyb3IoZXZlbnQucmVhc29uIHx8IG5ldyBFcnJvcigncmVqZWN0ZWQgcHJvbWlzZSAnICsgZXZlbnQpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2lnbmF0dXJlIGRlc2lnbmVkLCBzbyBpdCBjYW4gd29yayB3aXRoIHdpbmRvdy5vbmVycm9yXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gbGluZVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBjb2xcbiAqIEBwYXJhbSB7Knx1bmRlZmluZWR9IGVycm9yXG4gKiBAdGhpcyB7IVdpbmRvd3x1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIHJlcG9ydEVycm9yVG9TZXJ2ZXIobWVzc2FnZSwgZmlsZW5hbWUsIGxpbmUsIGNvbCwgZXJyb3IpIHtcbiAgLy8gTWFrZSBhbiBhdHRlbXB0IHRvIHVuaGlkZSB0aGUgYm9keS5cbiAgaWYgKHRoaXMgJiYgdGhpcy5kb2N1bWVudCkge1xuICAgIG1ha2VCb2R5VmlzaWJsZSh0aGlzLmRvY3VtZW50KTtcbiAgfVxuICBpZiAoZ2V0TW9kZSgpLmxvY2FsRGV2IHx8IGdldE1vZGUoKS5kZXZlbG9wbWVudCB8fCBnZXRNb2RlKCkudGVzdCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgaGFzTm9uQW1wSnMgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBoYXNOb25BbXBKcyA9IGRldGVjdE5vbkFtcEpzKHNlbGYpO1xuICB9IGNhdGNoIChpZ25vcmUpIHtcbiAgICAvLyBJZ25vcmUgZXJyb3JzIGR1cmluZyBlcnJvciByZXBvcnQgZ2VuZXJhdGlvbi5cbiAgfVxuICBpZiAoaGFzTm9uQW1wSnMgJiYgTWF0aC5yYW5kb20oKSA+IDAuMDEpIHtcbiAgICAvLyBPbmx5IHJlcG9ydCAxJSBvZiBlcnJvcnMgb24gcGFnZXMgd2l0aCBub24tQU1QIEpTLlxuICAgIC8vIFRoZXNlIGVycm9ycyBjYW4gYWxtb3N0IG5ldmVyIGJlIGFjdGVkIHVwb24sIGJ1dCBzcGlrZXMgc3VjaCBhc1xuICAgIC8vIGR1ZSB0byBidWdneSBicm93c2VyIGV4dGVuc2lvbnMgbWF5IGJlIGhlbHBmdWwgdG8gbm90aWZ5IGF1dGhvcnMuXG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGRhdGEgPSBnZXRFcnJvclJlcG9ydERhdGEobWVzc2FnZSwgZmlsZW5hbWUsIGxpbmUsIGNvbCwgZXJyb3IsXG4gICAgICBoYXNOb25BbXBKcyk7XG4gIGlmIChkYXRhKSB7XG4gICAgLy8gUmVwb3J0IHRoZSBlcnJvciB0byB2aWV3ZXIgaWYgaXQgaGFzIHRoZSBjYXBhYmlsaXR5LiBUaGUgZGF0YSBwYXNzZWRcbiAgICAvLyB0byB0aGUgdmlld2VyIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhlIGRhdGEgcGFzc2VkIHRvIHRoZSBzZXJ2ZXJcbiAgICAvLyBiZWxvdy5cbiAgICBtYXliZVJlcG9ydEVycm9yVG9WaWV3ZXIodGhpcywgZGF0YSk7XG4gICAgcmVwb3J0aW5nQmFja29mZigoKSA9PiB7XG4gICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJscy5lcnJvclJlcG9ydGluZywgdHJ1ZSk7XG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQYXNzZXMgdGhlIGdpdmVuIGVycm9yIGRhdGEgdG8gdGhlIHZpZXdlciBpZiB0aGUgZm9sbG93aW5nIGNyaXRlcmlhIGlzIG1ldDpcbiAqIC0gVGhlIHZpZXdlciBpcyBhIHRydXN0ZWQgdmlld2VyXG4gKiAtIFRoZSB2aWV3ZXIgaGFzIHRoZSBgZXJyb3JSZXBvcnRlcmAgY2FwYWJpbGl0eVxuICogLSBUaGUgQU1QIGRvYyBpcyBpbiBzaW5nbGUgZG9jIG1vZGVcbiAqIC0gVGhlIEFNUCBkb2MgaXMgb3B0ZWQtaW4gZm9yIGVycm9yIGludGVyY2VwdGlvbiAoYDxodG1sPmAgdGFnIGhhcyB0aGVcbiAqICAgYHJlcG9ydC1lcnJvcnMtdG8tdmlld2VyYCBhdHRyaWJ1dGUpXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7IUpzb25PYmplY3R9IGRhdGEgRGF0YSBmcm9tIGBnZXRFcnJvclJlcG9ydERhdGFgLlxuICogQHJldHVybiB7IVByb21pc2U8Ym9vbGVhbj59IGBQcm9taXNlPFRydWU+YCBpZiB0aGUgZXJyb3Igd2FzIHNlbnQgdG8gdGhlXG4gKiAgICAgdmlld2VyLCBgUHJvbWlzZTxGYWxzZT5gIG90aGVyd2lzZS5cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWF5YmVSZXBvcnRFcnJvclRvVmlld2VyKHdpbiwgZGF0YSkge1xuICBjb25zdCBhbXBkb2NTZXJ2aWNlID0gU2VydmljZXMuYW1wZG9jU2VydmljZUZvcih3aW4pO1xuICBpZiAoIWFtcGRvY1NlcnZpY2UuaXNTaW5nbGVEb2MoKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICB9XG4gIGNvbnN0IGFtcGRvY1NpbmdsZSA9IGFtcGRvY1NlcnZpY2UuZ2V0QW1wRG9jKCk7XG4gIGNvbnN0IGh0bWxFbGVtZW50ID0gYW1wZG9jU2luZ2xlLmdldFJvb3ROb2RlKCkuZG9jdW1lbnRFbGVtZW50O1xuICBjb25zdCBkb2NPcHRlZEluID0gaHRtbEVsZW1lbnQuaGFzQXR0cmlidXRlKCdyZXBvcnQtZXJyb3JzLXRvLXZpZXdlcicpO1xuICBpZiAoIWRvY09wdGVkSW4pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IHZpZXdlciA9IFNlcnZpY2VzLnZpZXdlckZvckRvYyhhbXBkb2NTaW5nbGUpO1xuICBpZiAoIXZpZXdlci5oYXNDYXBhYmlsaXR5KCdlcnJvclJlcG9ydGVyJykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiB2aWV3ZXIuaXNUcnVzdGVkVmlld2VyKCkudGhlbih2aWV3ZXJUcnVzdGVkID0+IHtcbiAgICBpZiAoIXZpZXdlclRydXN0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmlld2VyLnNlbmRNZXNzYWdlKCdlcnJvcicsIGRhdGEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTaWduYXR1cmUgZGVzaWduZWQsIHNvIGl0IGNhbiB3b3JrIHdpdGggd2luZG93Lm9uZXJyb3JcbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gbWVzc2FnZVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBmaWxlbmFtZVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBsaW5lXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGNvbFxuICogQHBhcmFtIHsqfHVuZGVmaW5lZH0gZXJyb3JcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzTm9uQW1wSnNcbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fHVuZGVmaW5lZH0gVGhlIGRhdGEgdG8gcG9zdFxuICogdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yUmVwb3J0RGF0YShtZXNzYWdlLCBmaWxlbmFtZSwgbGluZSwgY29sLCBlcnJvcixcbiAgaGFzTm9uQW1wSnMpIHtcbiAgbGV0IGV4cGVjdGVkID0gZmFsc2U7XG4gIGlmIChlcnJvcikge1xuICAgIGlmIChlcnJvci5tZXNzYWdlKSB7XG4gICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgYmUgYSBzdHJpbmcsIGJ1dCBzb21ldGltZXMgaXQgaXMuXG4gICAgICBtZXNzYWdlID0gU3RyaW5nKGVycm9yKTtcbiAgICB9XG4gICAgLy8gQW4gXCJleHBlY3RlZFwiIGVycm9yIGlzIHN0aWxsIGFuIGVycm9yLCBpLmUuIHNvbWUgZmVhdHVyZXMgYXJlIGRpc2FibGVkXG4gICAgLy8gb3Igbm90IGZ1bmN0aW9uaW5nIGZ1bGx5IGJlY2F1c2Ugb2YgaXQuIEhvd2V2ZXIsIGl0J3MgYW4gZXhwZWN0ZWRcbiAgICAvLyBlcnJvci4gRS5nLiBhcyBpcyB0aGUgY2FzZSB3aXRoIHNvbWUgYnJvd3NlciBBUEkgbWlzc2luZyAoc3RvcmFnZSkuXG4gICAgLy8gVGh1cywgdGhlIGVycm9yIGNhbiBiZSBjbGFzc2lmaWVkIGRpZmZlcmVudGx5IGJ5IGxvZyBhZ2dyZWdhdG9ycy5cbiAgICAvLyBUaGUgbWFpbiBnb2FsIGlzIHRvIG1vbml0b3IgdGhhdCBhbiBcImV4cGVjdGVkXCIgZXJyb3IgZG9lc24ndCBkZXRlcmlvcmF0ZVxuICAgIC8vIG92ZXIgdGltZS4gSXQncyBpbXBvc3NpYmxlIHRvIGNvbXBsZXRlbHkgZWxpbWluYXRlIGl0LlxuICAgIGlmIChlcnJvci5leHBlY3RlZCkge1xuICAgICAgZXhwZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICBtZXNzYWdlID0gJ1Vua25vd24gZXJyb3InO1xuICB9XG4gIGlmICgvX3JlcG9ydGVkXy8udGVzdChtZXNzYWdlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobWVzc2FnZSA9PSBDQU5DRUxMRUQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkZXRhY2hlZFdpbmRvdyA9ICEoc2VsZiAmJiBzZWxmLndpbmRvdyk7XG4gIGNvbnN0IHRocm90dGxlQmFzZSA9IE1hdGgucmFuZG9tKCk7XG5cbiAgLy8gV2UgdGhyb3R0bGUgbG9hZCBlcnJvcnMgYW5kIGdlbmVyaWMgXCJTY3JpcHQgZXJyb3IuXCIgZXJyb3JzXG4gIC8vIHRoYXQgaGF2ZSBubyBpbmZvcm1hdGlvbiBhbmQgdGh1cyBjYW5ub3QgYmUgYWN0ZWQgdXBvbi5cbiAgaWYgKGlzTG9hZEVycm9yTWVzc2FnZShtZXNzYWdlKSB8fFxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW1wcHJvamVjdC9hbXBodG1sL2lzc3Vlcy83MzUzXG4gICAgLy8gZm9yIGNvbnRleHQuXG4gICAgbWVzc2FnZSA9PSAnU2NyaXB0IGVycm9yLicgfHxcbiAgICAvLyBXaW5kb3cgaGFzIGJlY29tZSBkZXRhY2hlZCwgcmVhbGx5IGFueXRoaW5nIGNhbiBoYXBwZW5cbiAgICAvLyBhdCB0aGlzIHBvaW50LlxuICAgIGRldGFjaGVkV2luZG93KSB7XG4gICAgZXhwZWN0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRocm90dGxlQmFzZSA+IE5PTl9BQ1RJT05BQkxFX0VSUk9SX1RIUk9UVExFX1RIUkVTSE9MRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzVXNlckVycm9yID0gaXNVc2VyRXJyb3JNZXNzYWdlKG1lc3NhZ2UpO1xuXG4gIC8vIE9ubHkgcmVwb3J0IGEgc3Vic2V0IG9mIHVzZXIgZXJyb3JzLlxuICBpZiAoaXNVc2VyRXJyb3IgJiYgdGhyb3R0bGVCYXNlID4gVVNFUl9FUlJPUl9USFJPVFRMRV9USFJFU0hPTEQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUaGlzIGlzIHRoZSBBcHAgRW5naW5lIGFwcCBpblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW1wcHJvamVjdC9lcnJvci10cmFja2VyXG4gIC8vIEl0IHN0b3JlcyBlcnJvciByZXBvcnRzIHZpYSBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vZXJyb3ItcmVwb3J0aW5nL1xuICAvLyBmb3IgYW5hbHl6aW5nIHByb2R1Y3Rpb24gaXNzdWVzLlxuICBjb25zdCBkYXRhID0gLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICBkYXRhWyd2J10gPSBnZXRNb2RlKCkucnR2VmVyc2lvbjtcbiAgZGF0YVsnbm9BbXAnXSA9IGhhc05vbkFtcEpzID8gJzEnIDogJzAnO1xuICBkYXRhWydtJ10gPSBtZXNzYWdlLnJlcGxhY2UoVVNFUl9FUlJPUl9TRU5USU5FTCwgJycpO1xuICBkYXRhWydhJ10gPSBpc1VzZXJFcnJvciA/ICcxJyA6ICcwJztcblxuICAvLyBFcnJvcnMgYXJlIHRhZ2dlZCB3aXRoIFwiZXhcIiAoXCJleHBlY3RlZFwiKSBsYWJlbCB0byBhbGxvdyBsb2dnZXJzIHRvXG4gIC8vIGNsYXNzaWZ5IHRoZXNlIGVycm9ycyBhcyBiZW5jaG1hcmtzIGFuZCBub3QgZXhjZXB0aW9ucy5cbiAgZGF0YVsnZXgnXSA9IGV4cGVjdGVkID8gJzEnIDogJzAnO1xuICBkYXRhWydkdyddID0gZGV0YWNoZWRXaW5kb3cgPyAnMScgOiAnMCc7XG5cbiAgbGV0IHJ1bnRpbWUgPSAnMXAnO1xuICBpZiAoc2VsZi5jb250ZXh0ICYmIHNlbGYuY29udGV4dC5sb2NhdGlvbikge1xuICAgIGRhdGFbJzNwJ10gPSAnMSc7XG4gICAgcnVudGltZSA9ICczcCc7XG4gIH0gZWxzZSBpZiAoZ2V0TW9kZSgpLnJ1bnRpbWUpIHtcbiAgICBydW50aW1lID0gZ2V0TW9kZSgpLnJ1bnRpbWU7XG4gIH1cbiAgZGF0YVsncnQnXSA9IHJ1bnRpbWU7XG5cbiAgLy8gVE9ETyhlcndpbm0pOiBSZW1vdmUgY2Egd2hlbiBhbGwgc3lzdGVtcyByZWFkIGBidGAgaW5zdGVhZCBvZiBgY2FgIHRvXG4gIC8vIGlkZW50aWZ5IGpzIGJpbmFyeSB0eXBlLlxuICBkYXRhWydjYSddID0gaXNDYW5hcnkoc2VsZikgPyAnMScgOiAnMCc7XG5cbiAgLy8gUGFzcyBiaW5hcnkgdHlwZS5cbiAgZGF0YVsnYnQnXSA9IGdldEJpbmFyeVR5cGUoc2VsZik7XG5cbiAgaWYgKHNlbGYubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zICYmIHNlbGYubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zWzBdKSB7XG4gICAgZGF0YVsnb3InXSA9IHNlbGYubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zWzBdO1xuICB9XG4gIGlmIChzZWxmLnZpZXdlclN0YXRlKSB7XG4gICAgZGF0YVsndnMnXSA9IHNlbGYudmlld2VyU3RhdGU7XG4gIH1cbiAgLy8gSXMgZW1iZWRkZWQ/XG4gIGlmIChzZWxmLnBhcmVudCAmJiBzZWxmLnBhcmVudCAhPSBzZWxmKSB7XG4gICAgZGF0YVsnaWVtJ10gPSAnMSc7XG4gIH1cblxuICBpZiAoc2VsZi5BTVAgJiYgc2VsZi5BTVAudmlld2VyKSB7XG4gICAgY29uc3QgcmVzb2x2ZWRWaWV3ZXJVcmwgPSBzZWxmLkFNUC52aWV3ZXIuZ2V0UmVzb2x2ZWRWaWV3ZXJVcmwoKTtcbiAgICBjb25zdCBtZXNzYWdpbmdPcmlnaW4gPSBzZWxmLkFNUC52aWV3ZXIubWF5YmVHZXRNZXNzYWdpbmdPcmlnaW4oKTtcbiAgICBpZiAocmVzb2x2ZWRWaWV3ZXJVcmwpIHtcbiAgICAgIGRhdGFbJ3J2dSddID0gcmVzb2x2ZWRWaWV3ZXJVcmw7XG4gICAgfVxuICAgIGlmIChtZXNzYWdpbmdPcmlnaW4pIHtcbiAgICAgIGRhdGFbJ21zbyddID0gbWVzc2FnaW5nT3JpZ2luO1xuICAgIH1cbiAgfVxuXG4gIGlmICghZGV0ZWN0ZWRKc0VuZ2luZSkge1xuICAgIGRldGVjdGVkSnNFbmdpbmUgPSBkZXRlY3RKc0VuZ2luZUZyb21TdGFjaygpO1xuICB9XG4gIGRhdGFbJ2pzZSddID0gZGV0ZWN0ZWRKc0VuZ2luZTtcblxuICBjb25zdCBleHBzID0gW107XG4gIGNvbnN0IGV4cGVyaW1lbnRzID0gZXhwZXJpbWVudFRvZ2dsZXNPck51bGwoc2VsZik7XG4gIGZvciAoY29uc3QgZXhwIGluIGV4cGVyaW1lbnRzKSB7XG4gICAgY29uc3Qgb24gPSBleHBlcmltZW50c1tleHBdO1xuICAgIGV4cHMucHVzaChgJHtleHB9PSR7b24gPyAnMScgOiAnMCd9YCk7XG4gIH1cbiAgZGF0YVsnZXhwcyddID0gZXhwcy5qb2luKCcsJyk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc3QgdGFnTmFtZSA9IGVycm9yLmFzc29jaWF0ZWRFbGVtZW50XG4gICAgICA/IGVycm9yLmFzc29jaWF0ZWRFbGVtZW50LnRhZ05hbWVcbiAgICAgIDogJ3UnOyAvLyBVbmtub3duXG4gICAgZGF0YVsnZWwnXSA9IHRhZ05hbWU7XG5cbiAgICBpZiAoZXJyb3IuYXJncykge1xuICAgICAgZGF0YVsnYXJncyddID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IuYXJncyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1VzZXJFcnJvciAmJiAhZXJyb3IuaWdub3JlU3RhY2sgJiYgZXJyb3Iuc3RhY2spIHtcbiAgICAgIGRhdGFbJ3MnXSA9IGVycm9yLnN0YWNrO1xuICAgIH1cblxuICAgIGVycm9yLm1lc3NhZ2UgKz0gJyBfcmVwb3J0ZWRfJztcbiAgfSBlbHNlIHtcbiAgICBkYXRhWydmJ10gPSBmaWxlbmFtZSB8fCAnJztcbiAgICBkYXRhWydsJ10gPSBsaW5lIHx8ICcnO1xuICAgIGRhdGFbJ2MnXSA9IGNvbCB8fCAnJztcbiAgfVxuICBkYXRhWydyJ10gPSBzZWxmLmRvY3VtZW50LnJlZmVycmVyO1xuICBkYXRhWydhZSddID0gYWNjdW11bGF0ZWRFcnJvck1lc3NhZ2VzLmpvaW4oJywnKTtcbiAgZGF0YVsnZnInXSA9IHNlbGYubG9jYXRpb24ub3JpZ2luYWxIYXNoIHx8IHNlbGYubG9jYXRpb24uaGFzaDtcblxuICBwdXNoTGltaXQoYWNjdW11bGF0ZWRFcnJvck1lc3NhZ2VzLCBtZXNzYWdlLCAyNSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGl0IGFwcGVhcnMgbGlrZSB0aGVyZSBpcyBub24tQU1QIEpTIG9uIHRoZVxuICogY3VycmVudCBwYWdlLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdE5vbkFtcEpzKHdpbikge1xuICBjb25zdCBzY3JpcHRzID0gd2luLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFtzcmNdJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaXNQcm94eU9yaWdpbihzY3JpcHRzW2ldLnNyYy50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXNldHMgYWNjdW11bGF0ZWQgZXJyb3IgbWVzc2FnZXMgZm9yIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0QWNjdW11bGF0ZWRFcnJvck1lc3NhZ2VzRm9yVGVzdGluZygpIHtcbiAgYWNjdW11bGF0ZWRFcnJvck1lc3NhZ2VzID0gW107XG59XG5cbi8qKlxuICogRG9lcyBhIHNlcmllcyBvZiBjaGVja3Mgb24gdGhlIHN0YWNrIG9mIGFuIHRocm93biBlcnJvciB0byBkZXRlcm1pbmUgdGhlXG4gKiBKUyBlbmdpbmUgdGhhdCBpcyBjdXJyZW50bHkgcnVubmluZy4gVGhpcyBnaXZlcyBhIGJpdCBtb3JlIGluZm9ybWF0aW9uIHRoYW5cbiAqIGp1c3QgdGhlIFVzZXJBZ2VudCwgc2luY2UgYnJvd3NlcnMgb2Z0ZW4gYWxsb3cgb3ZlcnJpZGluZyBpdCB0byBcImVtdWxhdGVcIlxuICogbW9iaWxlLlxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RKc0VuZ2luZUZyb21TdGFjaygpIHtcbiAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICBmdW5jdGlvbiBGbigpIHt9XG4gIEZuLnByb3RvdHlwZS50ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXNzYWdlJyk7XG4gIH07XG4gIGNvbnN0IG9iamVjdCA9IG5ldyBGbigpO1xuICB0cnkge1xuICAgIG9iamVjdC50KCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zdCB7c3RhY2t9ID0gZTtcblxuICAgIC8vIFNhZmFyaSBvbmx5IG1lbnRpb25zIHRoZSBtZXRob2QgbmFtZS5cbiAgICBpZiAoc3RhcnRzV2l0aChzdGFjaywgJ3RAJykpIHtcbiAgICAgIHJldHVybiAnU2FmYXJpJztcbiAgICB9XG5cbiAgICAvLyBGaXJlZm94IG1lbnRpb25zIFwicHJvdG90eXBlXCIuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YoJy5wcm90b3R5cGUudEAnKSA+IC0xKSB7XG4gICAgICByZXR1cm4gJ0ZpcmVmb3gnO1xuICAgIH1cblxuICAgIC8vIElFIGxvb2tzIGxpa2UgQ2hyb21lLCBidXQgaW5jbHVkZXMgYSBjb250ZXh0IGZvciB0aGUgYmFzZSBzdGFjayBsaW5lLlxuICAgIC8vIEV4cGxpY2l0bHksIHdlJ3JlIGxvb2tpbmcgZm9yIHNvbWV0aGluZyBsaWtlOlxuICAgIC8vIFwiICAgIGF0IEdsb2JhbCBjb2RlIChodHRwczovL2V4YW1wbGUuY29tL2FwcC5qczoxOjIwMClcIiBvclxuICAgIC8vIFwiICAgIGF0IEFub255bW91cyBmdW5jdGlvbiAoaHR0cHM6Ly9leGFtcGxlLmNvbS9hcHAuanM6MToyMDApXCJcbiAgICAvLyB2cyBDaHJvbWUgd2hpY2ggaGFzOlxuICAgIC8vIFwiICAgIGF0IGh0dHBzOi8vZXhhbXBsZS5jb20vYXBwLmpzOjE6MjAwXCJcbiAgICBjb25zdCBsYXN0ID0gc3RhY2suc3BsaXQoJ1xcbicpLnBvcCgpO1xuICAgIGlmICgvXFxiYXQgLiogXFwoL2kudGVzdChsYXN0KSkge1xuICAgICAgcmV0dXJuICdJRSc7XG4gICAgfVxuXG4gICAgLy8gRmluYWxseSwgY2hyb21lIGluY2x1ZGVzIHRoZSBlcnJvciBtZXNzYWdlIGluIHRoZSBzdGFjay5cbiAgICBpZiAoc3RhcnRzV2l0aChzdGFjaywgJ0Vycm9yOiBtZXNzYWdlJykpIHtcbiAgICAgIHJldHVybiAnQ2hyb21lJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJ3Vua25vd24nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUVycm9yfSBlcnJvclxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydEVycm9yVG9BbmFseXRpY3MoZXJyb3IsIHdpbikge1xuICBpZiAoaXNFeHBlcmltZW50T24od2luLCAndXNlci1lcnJvci1yZXBvcnRpbmcnKSkge1xuICAgIGNvbnN0IHZhcnMgPSB7XG4gICAgICAnZXJyb3JOYW1lJzogZXJyb3IubmFtZSxcbiAgICAgICdlcnJvck1lc3NhZ2UnOiBlcnJvci5tZXNzYWdlLFxuICAgIH07XG4gICAgdHJpZ2dlckFuYWx5dGljc0V2ZW50KGdldFJvb3RFbGVtZW50Xyh3aW4pLCAndXNlci1lcnJvcicsIHZhcnMpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdEVsZW1lbnRfKHdpbikge1xuICBjb25zdCByb290ID0gU2VydmljZXMuYW1wZG9jU2VydmljZUZvcih3aW4pLmdldEFtcERvYygpLmdldFJvb3ROb2RlKCk7XG4gIHJldHVybiBkZXYoKS5hc3NlcnRFbGVtZW50KHJvb3QuZG9jdW1lbnRFbGVtZW50IHx8IHJvb3QuYm9keSB8fCByb290KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAgKiBXaGV0aGVyIGFkZEV2ZW50TGlzdGVuZXIgc3VwcG9ydHMgb3B0aW9ucyBvciBvbmx5IHRha2VzIGNhcHR1cmUgYXMgYSBib29sZWFuXG4gICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAqL1xubGV0IG9wdHNTdXBwb3J0ZWQ7XG5cbi8qKlxuICogTGlzdGVucyBmb3IgdGhlIHNwZWNpZmllZCBldmVudCBvbiB0aGUgZWxlbWVudC5cbiAqXG4gKiBEbyBub3QgdXNlIHRoaXMgZGlyZWN0bHkuIFRoaXMgbWV0aG9kIGlzIGltcGxlbWVudGVkIGFzIGEgc2hhcmVkXG4gKiBkZXBlbmRlbmN5LiBVc2UgYGxpc3RlbigpYCBpbiBlaXRoZXIgYGV2ZW50LWhlbHBlcmAgb3IgYDNwLWZyYW1lLW1lc3NhZ2luZ2AsXG4gKiBkZXBlbmRpbmcgb24geW91ciB1c2UgY2FzZS5cbiAqXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBsaXN0ZW5lclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfZXZ0TGlzdGVuZXJPcHRzXG4gKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcm5hbExpc3RlbkltcGxlbWVudGF0aW9uKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIsXG4gIG9wdF9ldnRMaXN0ZW5lck9wdHMpIHtcbiAgbGV0IGxvY2FsRWxlbWVudCA9IGVsZW1lbnQ7XG4gIGxldCBsb2NhbExpc3RlbmVyID0gbGlzdGVuZXI7XG4gIC8qKlxuICAgKiBAdHlwZSB7P0Z1bmN0aW9ufVxuICAgKi9cbiAgbGV0IHdyYXBwZWQ7XG5cbiAgd3JhcHBlZCA9IGV2ZW50ID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGxvY2FsTGlzdGVuZXIoZXZlbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHJlcG9ydEVycm9yIGlzIGluc3RhbGxlZCBnbG9iYWxseSBwZXIgd2luZG93IGluIHRoZSBlbnRyeSBwb2ludC5cbiAgICAgIHNlbGYucmVwb3J0RXJyb3IoZSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3B0c1N1cHBvcnRlZCA9IGRldGVjdEV2dExpc3RlbmVyT3B0c1N1cHBvcnQoKTtcbiAgbGV0IGNhcHR1cmUgPSBmYWxzZTtcbiAgaWYgKG9wdF9ldnRMaXN0ZW5lck9wdHMpIHtcbiAgICBjYXB0dXJlID0gb3B0X2V2dExpc3RlbmVyT3B0cy5jYXB0dXJlO1xuICB9XG4gIGxvY2FsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZXZlbnRUeXBlLFxuICAgICAgd3JhcHBlZCxcbiAgICAgIG9wdHNTdXBwb3J0ZWQgPyBvcHRfZXZ0TGlzdGVuZXJPcHRzIDogY2FwdHVyZVxuICApO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChsb2NhbEVsZW1lbnQpIHtcbiAgICAgIGxvY2FsRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgICB3cmFwcGVkLFxuICAgICAgICAgIG9wdHNTdXBwb3J0ZWQgPyBvcHRfZXZ0TGlzdGVuZXJPcHRzIDogY2FwdHVyZVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gRW5zdXJlIHRoZXNlIGFyZSBHQydkXG4gICAgbG9jYWxMaXN0ZW5lciA9IG51bGw7XG4gICAgbG9jYWxFbGVtZW50ID0gbnVsbDtcbiAgICB3cmFwcGVkID0gbnVsbDtcbiAgfTtcbn1cblxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIHRoZSBicm93c2VyIHN1cHBvcnRzIG9wdGlvbnMgYXMgYW4gYXJndW1lbnQgb2YgYWRkRXZlbnRMaXN0ZW5lclxuICogb3Igbm90LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RFdnRMaXN0ZW5lck9wdHNTdXBwb3J0KCkge1xuICAvLyBPbmx5IHJ1biB0aGUgdGVzdCBvbmNlXG4gIGlmIChvcHRzU3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gb3B0c1N1cHBvcnRlZDtcbiAgfVxuXG4gIG9wdHNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICAvLyBUZXN0IHdoZXRoZXIgYnJvd3NlciBzdXBwb3J0cyBFdmVudExpc3RlbmVyT3B0aW9ucyBvciBub3RcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgZ2V0IGNhcHR1cmUoKSB7XG4gICAgICAgIG9wdHNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgfSxcbiAgICB9O1xuICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigndGVzdC1vcHRpb25zJywgbnVsbCwgb3B0aW9ucyk7XG4gICAgc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0LW9wdGlvbnMnLCBudWxsLCBvcHRpb25zKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRXZlbnRMaXN0ZW5lck9wdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgfVxuICByZXR1cm4gb3B0c1N1cHBvcnRlZDtcbn1cblxuLyoqXG4gICogUmVzZXRzIHRoZSB0ZXN0IGZvciB3aGV0aGVyIGFkZEV2ZW50TGlzdGVuZXIgc3VwcG9ydHMgb3B0aW9ucyBvciBub3QuXG4gICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRFdnRMaXN0ZW5lck9wdHNTdXBwb3J0Rm9yVGVzdGluZygpIHtcbiAgb3B0c1N1cHBvcnRlZCA9IHVuZGVmaW5lZDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2ludGVybmFsTGlzdGVuSW1wbGVtZW50YXRpb259IGZyb20gJy4vZXZlbnQtaGVscGVyLWxpc3Rlbic7XG5pbXBvcnQge3VzZXJ9IGZyb20gJy4vbG9nJztcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAgKi9cbmNvbnN0IExPQURfRkFJTFVSRV9QUkVGSVggPSAnRmFpbGVkIHRvIGxvYWQ6JztcblxuLyoqXG4gKiBSZXR1cm5zIGEgQ3VzdG9tRXZlbnQgd2l0aCBhIGdpdmVuIHR5cGUgYW5kIGRldGFpbDsgc3VwcG9ydHMgZmFsbGJhY2sgZm9yIElFLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0fHN0cmluZ3x1bmRlZmluZWR8bnVsbH0gZGV0YWlsXG4gKiBAcGFyYW0ge0V2ZW50SW5pdD19IG9wdF9ldmVudEluaXRcbiAqIEByZXR1cm4geyFFdmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUV2ZW50KHdpbiwgdHlwZSwgZGV0YWlsLCBvcHRfZXZlbnRJbml0KSB7XG4gIGNvbnN0IGV2ZW50SW5pdCA9IC8qKiBAdHlwZSB7IUN1c3RvbUV2ZW50SW5pdH0gKi8gKHtkZXRhaWx9KTtcbiAgT2JqZWN0LmFzc2lnbihldmVudEluaXQsIG9wdF9ldmVudEluaXQpO1xuICAvLyB3aW4uQ3VzdG9tRXZlbnQgaXMgYSBmdW5jdGlvbiBvbiBFZGdlLCBDaHJvbWUsIEZGLCBTYWZhcmkgYnV0XG4gIC8vIGlzIGFuIG9iamVjdCBvbiBJRSAxMS5cbiAgaWYgKHR5cGVvZiB3aW4uQ3VzdG9tRXZlbnQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBuZXcgd2luLkN1c3RvbUV2ZW50KHR5cGUsIGV2ZW50SW5pdCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gRGVwcmVjYXRlZCBmYWxsYmFjayBmb3IgSUUuXG4gICAgY29uc3QgZSA9IHdpbi5kb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudChcbiAgICAgICAgdHlwZSwgISFldmVudEluaXQuYnViYmxlcywgISFldmVudEluaXQuY2FuY2VsYWJsZSwgZGV0YWlsKTtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG4vKipcbiAqIExpc3RlbnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQgb24gdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBsaXN0ZW5lclxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfZXZ0TGlzdGVuZXJPcHRzXG4gKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4oZWxlbWVudCwgZXZlbnRUeXBlLCBsaXN0ZW5lciwgb3B0X2V2dExpc3RlbmVyT3B0cykge1xuICByZXR1cm4gaW50ZXJuYWxMaXN0ZW5JbXBsZW1lbnRhdGlvbihcbiAgICAgIGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdF9ldnRMaXN0ZW5lck9wdHMpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRhdGEgcHJvcGVydHkgb2YgYW4gZXZlbnQgd2l0aCB0aGUgY29ycmVjdCB0eXBlLlxuICogQHBhcmFtIHshRXZlbnR8e2RhdGE6ICFKc29uT2JqZWN0fX0gZXZlbnRcbiAqIEByZXR1cm4gez9Kc29uT2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhKGV2ZW50KSB7XG4gIHJldHVybiAvKiogQHR5cGUgez9Kc29uT2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9ICovIChldmVudC5kYXRhKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZXRhaWwgcHJvcGVydHkgb2YgYW4gZXZlbnQgd2l0aCB0aGUgY29ycmVjdCB0eXBlLlxuICogQHBhcmFtIHshRXZlbnR8e2RldGFpbDogIUpzb25PYmplY3R9fSBldmVudFxuICogQHJldHVybiB7P0pzb25PYmplY3R8c3RyaW5nfHVuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERldGFpbChldmVudCkge1xuICByZXR1cm4gLyoqIEB0eXBlIHs/SnNvbk9iamVjdHxzdHJpbmd8dW5kZWZpbmVkfSAqLyAoZXZlbnQuZGV0YWlsKTtcbn1cblxuLyoqXG4gKiBMaXN0ZW5zIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50IG9uIHRoZSBlbGVtZW50IGFuZCByZW1vdmVzIHRoZSBsaXN0ZW5lclxuICogYXMgc29vbiBhcyBldmVudCBoYXMgYmVlbiByZWNlaXZlZC5cbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCl9IGxpc3RlbmVyXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9ldnRMaXN0ZW5lck9wdHNcbiAqIEByZXR1cm4geyFVbmxpc3RlbkRlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2UoZWxlbWVudCwgZXZlbnRUeXBlLCBsaXN0ZW5lciwgb3B0X2V2dExpc3RlbmVyT3B0cykge1xuICBsZXQgbG9jYWxMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICBjb25zdCB1bmxpc3RlbiA9IGludGVybmFsTGlzdGVuSW1wbGVtZW50YXRpb24oZWxlbWVudCwgZXZlbnRUeXBlLCBldmVudCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsTGlzdGVuZXIoZXZlbnQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBFbnN1cmUgbGlzdGVuZXIgaXMgR0MnZFxuICAgICAgbG9jYWxMaXN0ZW5lciA9IG51bGw7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH1cbiAgfSwgb3B0X2V2dExpc3RlbmVyT3B0cyk7XG4gIHJldHVybiB1bmxpc3Rlbjtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBhcyBzb29uIGFzIHRoZSBzcGVjaWZpZWQgZXZlbnQgaGFzXG4gKiBmaXJlZCBvbiB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9ldnRMaXN0ZW5lck9wdHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIVVubGlzdGVuRGVmKT19IG9wdF9jYW5jZWwgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCwgd2hlblxuICogICAgIHByb3ZpZGVkLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSB1bmxpc3RlbmVyLiBUaGlzIGdpdmVzIHRoZSBjYWxsZXJcbiAqICAgICBhY2Nlc3MgdG8gdGhlIHVubGlzdGVuZXIsIHNvIGl0IG1heSBiZSBjYWxsZWQgbWFudWFsbHkgd2hlbiBuZWNlc3NhcnkuXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhRXZlbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuT25jZVByb21pc2UoZWxlbWVudCwgZXZlbnRUeXBlLCBvcHRfZXZ0TGlzdGVuZXJPcHRzLFxuICBvcHRfY2FuY2VsKSB7XG4gIGxldCB1bmxpc3RlbjtcbiAgY29uc3QgZXZlbnRQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgdW5saXN0ZW4gPSBsaXN0ZW5PbmNlKGVsZW1lbnQsIGV2ZW50VHlwZSwgcmVzb2x2ZSwgb3B0X2V2dExpc3RlbmVyT3B0cyk7XG4gIH0pO1xuICBldmVudFByb21pc2UudGhlbih1bmxpc3RlbiwgdW5saXN0ZW4pO1xuICBpZiAob3B0X2NhbmNlbCkge1xuICAgIG9wdF9jYW5jZWwodW5saXN0ZW4pO1xuICB9XG4gIHJldHVybiBldmVudFByb21pc2U7XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgZWxlbWVudC93aW5kb3cgaGFzIGJlZW4gbG9hZGVkIGFscmVhZHkuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFXaW5kb3d9IGVsZU9yV2luZG93XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMb2FkZWQoZWxlT3JXaW5kb3cpIHtcbiAgcmV0dXJuICEhKGVsZU9yV2luZG93LmNvbXBsZXRlIHx8IGVsZU9yV2luZG93LnJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJ1xuICAgICAgLy8gSWYgdGhlIHBhc3NlZCBpbiB0aGluZyBpcyBhIFdpbmRvdywgaW5mZXIgbG9hZGVkIHN0YXRlIGZyb21cbiAgICAgIC8vXG4gICAgICB8fCAoZWxlT3JXaW5kb3cuZG9jdW1lbnRcbiAgICAgICAgICAmJiBlbGVPcldpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvciBmYWlsIGJhc2VkIG9uIHRoZSBlbGVPcldpbmRvdydzICdsb2FkJ1xuICogYW5kICdlcnJvcicgZXZlbnRzLiBPcHRpb25hbGx5IHRoaXMgbWV0aG9kIHRha2VzIGEgdGltZW91dCwgd2hpY2ggd2lsbCByZWplY3RcbiAqIHRoZSBwcm9taXNlIGlmIHRoZSByZXNvdXJjZSBoYXMgbm90IGxvYWRlZCBieSB0aGVuLlxuICogQHBhcmFtIHtUfSBlbGVPcldpbmRvdyBTdXBwb3J0cyBib3RoIEVsZW1lbnRzIGFuZCBhcyBhIHNwZWNpYWwgY2FzZSBXaW5kb3dzLlxuICogQHJldHVybiB7IVByb21pc2U8VD59XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFByb21pc2UoZWxlT3JXaW5kb3cpIHtcbiAgbGV0IHVubGlzdGVuTG9hZDtcbiAgbGV0IHVubGlzdGVuRXJyb3I7XG4gIGlmIChpc0xvYWRlZChlbGVPcldpbmRvdykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVsZU9yV2luZG93KTtcbiAgfVxuICBjb25zdCBsb2FkaW5nUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBMaXN0ZW4gb25jZSBzaW5jZSBJRSA1LzYvNyBmaXJlIHRoZSBvbmxvYWQgZXZlbnQgY29udGludW91c2x5IGZvclxuICAgIC8vIGFuaW1hdGVkIEdJRnMuXG4gICAgY29uc3Qge3RhZ05hbWV9ID0gZWxlT3JXaW5kb3c7XG4gICAgaWYgKHRhZ05hbWUgPT09ICdBVURJTycgfHwgdGFnTmFtZSA9PT0gJ1ZJREVPJykge1xuICAgICAgdW5saXN0ZW5Mb2FkID0gbGlzdGVuT25jZShlbGVPcldpbmRvdywgJ2xvYWRzdGFydCcsIHJlc29sdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bmxpc3RlbkxvYWQgPSBsaXN0ZW5PbmNlKGVsZU9yV2luZG93LCAnbG9hZCcsIHJlc29sdmUpO1xuICAgIH1cbiAgICAvLyBGb3IgZWxlbWVudHMsIHVubGlzdGVuIG9uIGVycm9yIChkb24ndCBmb3IgV2luZG93cykuXG4gICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgIHVubGlzdGVuRXJyb3IgPSBsaXN0ZW5PbmNlKGVsZU9yV2luZG93LCAnZXJyb3InLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGxvYWRpbmdQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgIGlmICh1bmxpc3RlbkVycm9yKSB7XG4gICAgICB1bmxpc3RlbkVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBlbGVPcldpbmRvdztcbiAgfSwgKCkgPT4ge1xuICAgIGlmICh1bmxpc3RlbkxvYWQpIHtcbiAgICAgIHVubGlzdGVuTG9hZCgpO1xuICAgIH1cbiAgICBmYWlsZWRUb0xvYWQoZWxlT3JXaW5kb3cpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbWl0IGVycm9yIG9uIGxvYWQgZmFpbHVyZS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IVdpbmRvd30gZWxlT3JXaW5kb3cgU3VwcG9ydHMgYm90aCBFbGVtZW50cyBhbmQgYXMgYSBzcGVjaWFsXG4gKiAgICAgY2FzZSBXaW5kb3dzLlxuICovXG5mdW5jdGlvbiBmYWlsZWRUb0xvYWQoZWxlT3JXaW5kb3cpIHtcbiAgLy8gUmVwb3J0IGZhaWxlZCBsb2FkcyBhcyB1c2VyIGVycm9ycyBzbyB0aGF0IHRoZXkgYXV0b21hdGljYWxseSBnb1xuICAvLyBpbnRvIHRoZSBcImRvY3VtZW50IGVycm9yXCIgYnVja2V0LlxuICBsZXQgdGFyZ2V0ID0gZWxlT3JXaW5kb3c7XG4gIGlmICh0YXJnZXQgJiYgdGFyZ2V0LnNyYykge1xuICAgIHRhcmdldCA9IHRhcmdldC5zcmM7XG4gIH1cbiAgdGhyb3cgdXNlcigpLmNyZWF0ZUVycm9yKExPQURfRkFJTFVSRV9QUkVGSVgsIHRhcmdldCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZXJyb3IgbWVzc2FnZSBpcyB3YXMgY3JlYXRlZCBmb3IgYSBsb2FkIGVycm9yLlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgQW4gZXJyb3IgbWVzc2FnZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9hZEVycm9yTWVzc2FnZShtZXNzYWdlKSB7XG4gIHJldHVybiBtZXNzYWdlLmluZGV4T2YoTE9BRF9GQUlMVVJFX1BSRUZJWCkgIT0gLTE7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEV4cGVyaW1lbnRzIHN5c3RlbSBhbGxvd3MgYSBkZXZlbG9wZXIgdG8gb3B0LWluIHRvIHRlc3RcbiAqIGZlYXR1cmVzIHRoYXQgYXJlIG5vdCB5ZXQgZnVsbHkgdGVzdGVkLlxuICpcbiAqIEV4cGVyaW1lbnRzIHBhZ2U6IGh0dHBzOi8vY2RuLmFtcHByb2plY3Qub3JnL2V4cGVyaW1lbnRzLmh0bWwgKlxuICovXG5cbmltcG9ydCB7Z2V0Q29va2llLCBzZXRDb29raWV9IGZyb20gJy4vY29va2llcyc7XG5pbXBvcnQge2hhc093bn0gZnJvbSAnLi91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtwYXJzZVF1ZXJ5U3RyaW5nfSBmcm9tICcuL3VybCc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IENPT0tJRV9OQU1FID0gJ0FNUF9FWFAnO1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBDT09LSUVfTUFYX0FHRV9EQVlTID0gMTgwOyAvLyA2IG1vbnRoXG5cbi8qKiBAY29uc3Qge3RpbWV9ICovXG5jb25zdCBDT09LSUVfRVhQSVJBVElPTl9JTlRFUlZBTCA9IENPT0tJRV9NQVhfQUdFX0RBWVMgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBUT0dHTEVTX1dJTkRPV19QUk9QRVJUWSA9ICdfX0FNUF9fRVhQRVJJTUVOVF9UT0dHTEVTJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBpc1RyYWZmaWNFbGlnaWJsZTogZnVuY3Rpb24oIVdpbmRvdyk6Ym9vbGVhbixcbiAqICAgYnJhbmNoZXM6ICFBcnJheTxzdHJpbmc+XG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEV4cGVyaW1lbnRJbmZvO1xuXG4vKipcbiAqIFdoZXRoZXIgd2UgYXJlIGluIGNhbmFyeS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDYW5hcnkod2luKSB7XG4gIHJldHVybiAhISh3aW4uQU1QX0NPTkZJRyAmJiB3aW4uQU1QX0NPTkZJRy5jYW5hcnkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYmluYXJ5IHR5cGUsIGUuZy4sIGNhbmFyeSwgY29udHJvbCwgb3IgcHJvZHVjdGlvbi5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCaW5hcnlUeXBlKHdpbikge1xuICByZXR1cm4gd2luLkFNUF9DT05GSUcgJiYgd2luLkFNUF9DT05GSUcudHlwZSA/XG4gICAgd2luLkFNUF9DT05GSUcudHlwZSA6ICd1bmtub3duJztcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgZXhwZXJpbWVudCBpcyBvbiBvciBvZmYuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGV4cGVyaW1lbnRJZFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXhwZXJpbWVudE9uKHdpbiwgZXhwZXJpbWVudElkKSB7XG4gIGNvbnN0IHRvZ2dsZXMgPSBleHBlcmltZW50VG9nZ2xlcyh3aW4pO1xuICByZXR1cm4gISF0b2dnbGVzW2V4cGVyaW1lbnRJZF07XG59XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgZXhwZXJpbWVudCBvbiBvciBvZmYuIFJldHVybnMgdGhlIGFjdHVhbCB2YWx1ZSBvZiB0aGUgZXhwZXJpbWVudFxuICogYWZ0ZXIgdG9nZ2xpbmcgaXMgZG9uZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwZXJpbWVudElkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF90cmFuc2llbnRFeHBlcmltZW50ICBXaGV0aGVyIHRvIHRvZ2dsZSB0aGVcbiAqICAgICBleHBlcmltZW50IHN0YXRlIFwidHJhbnNpZW50bHlcIiAoaS5lLiwgZm9yIHRoaXMgcGFnZSBsb2FkIG9ubHkpIG9yXG4gKiAgICAgZHVyYWJseSAoYnkgc2F2aW5nIHRoZSBleHBlcmltZW50IElEcyB0byB0aGUgY29va2llIGFmdGVyIHRvZ2dsaW5nKS5cbiAqICAgICBEZWZhdWx0OiBmYWxzZSAoc2F2ZSBkdXJhYmx5KS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IE5ldyBzdGF0ZSBmb3IgZXhwZXJpbWVudElkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRXhwZXJpbWVudCh3aW4sIGV4cGVyaW1lbnRJZCwgb3B0X29uLFxuICBvcHRfdHJhbnNpZW50RXhwZXJpbWVudCkge1xuICBjb25zdCBjdXJyZW50bHlPbiA9IGlzRXhwZXJpbWVudE9uKHdpbiwgLypPSyovZXhwZXJpbWVudElkKTtcbiAgY29uc3Qgb24gPSAhIShvcHRfb24gIT09IHVuZGVmaW5lZCA/IG9wdF9vbiA6ICFjdXJyZW50bHlPbik7XG4gIGlmIChvbiAhPSBjdXJyZW50bHlPbikge1xuICAgIGNvbnN0IHRvZ2dsZXMgPSBleHBlcmltZW50VG9nZ2xlcyh3aW4pO1xuICAgIHRvZ2dsZXNbZXhwZXJpbWVudElkXSA9IG9uO1xuXG4gICAgaWYgKCFvcHRfdHJhbnNpZW50RXhwZXJpbWVudCkge1xuICAgICAgY29uc3QgY29va2llVG9nZ2xlcyA9IGdldEV4cGVyaW1lbnRUb2dnbGVzRnJvbUNvb2tpZSh3aW4pO1xuICAgICAgY29va2llVG9nZ2xlc1tleHBlcmltZW50SWRdID0gb247XG4gICAgICBzYXZlRXhwZXJpbWVudFRvZ2dsZXNUb0Nvb2tpZSh3aW4sIGNvb2tpZVRvZ2dsZXMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb247XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHdoZXRoZXIgdGhlIGV4cGVyaW1lbnQgaXMgb24gb3Igb2ZmIGJhc2VkIG9mZiBvZiB0aGVcbiAqIGNvb2tpZUZsYWcgb3IgdGhlIGdsb2JhbCBjb25maWcgZnJlcXVlbmN5IGdpdmVuLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGVyaW1lbnRUb2dnbGVzKHdpbikge1xuICBpZiAod2luW1RPR0dMRVNfV0lORE9XX1BST1BFUlRZXSkge1xuICAgIHJldHVybiB3aW5bVE9HR0xFU19XSU5ET1dfUFJPUEVSVFldO1xuICB9XG4gIHdpbltUT0dHTEVTX1dJTkRPV19QUk9QRVJUWV0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2dnbGVzID0gd2luW1RPR0dMRVNfV0lORE9XX1BST1BFUlRZXTtcblxuICAvLyBSZWFkIHRoZSBkZWZhdWx0IGNvbmZpZyBvZiB0aGlzIGJ1aWxkLlxuICBpZiAod2luLkFNUF9DT05GSUcpIHtcbiAgICBmb3IgKGNvbnN0IGV4cGVyaW1lbnRJZCBpbiB3aW4uQU1QX0NPTkZJRykge1xuICAgICAgY29uc3QgZnJlcXVlbmN5ID0gd2luLkFNUF9DT05GSUdbZXhwZXJpbWVudElkXTtcbiAgICAgIGlmICh0eXBlb2YgZnJlcXVlbmN5ID09PSAnbnVtYmVyJyAmJiBmcmVxdWVuY3kgPj0gMCAmJiBmcmVxdWVuY3kgPD0gMSkge1xuICAgICAgICB0b2dnbGVzW2V4cGVyaW1lbnRJZF0gPSBNYXRoLnJhbmRvbSgpIDwgZnJlcXVlbmN5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBSZWFkIGRvY3VtZW50IGxldmVsIG92ZXJyaWRlIGZyb20gbWV0YSB0YWcuXG4gIGlmICh3aW4uQU1QX0NPTkZJR1xuICAgICAgJiYgQXJyYXkuaXNBcnJheSh3aW4uQU1QX0NPTkZJR1snYWxsb3ctZG9jLW9wdC1pbiddKVxuICAgICAgJiYgd2luLkFNUF9DT05GSUdbJ2FsbG93LWRvYy1vcHQtaW4nXS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgYWxsb3dlZCA9IHdpbi5BTVBfQ09ORklHWydhbGxvdy1kb2Mtb3B0LWluJ107XG4gICAgY29uc3QgbWV0YSA9XG4gICAgICAgIHdpbi5kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImFtcC1leHBlcmltZW50cy1vcHQtaW5cIl0nKTtcbiAgICBpZiAobWV0YSkge1xuICAgICAgY29uc3Qgb3B0ZWRJbkV4cGVyaW1lbnRzID0gbWV0YS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKS5zcGxpdCgnLCcpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRlZEluRXhwZXJpbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFsbG93ZWQuaW5kZXhPZihvcHRlZEluRXhwZXJpbWVudHNbaV0pICE9IC0xKSB7XG4gICAgICAgICAgdG9nZ2xlc1tvcHRlZEluRXhwZXJpbWVudHNbaV1dID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5hc3NpZ24odG9nZ2xlcywgZ2V0RXhwZXJpbWVudFRvZ2dsZXNGcm9tQ29va2llKHdpbikpO1xuXG4gIGlmICh3aW4uQU1QX0NPTkZJR1xuICAgICAgJiYgQXJyYXkuaXNBcnJheSh3aW4uQU1QX0NPTkZJR1snYWxsb3ctdXJsLW9wdC1pbiddKVxuICAgICAgJiYgd2luLkFNUF9DT05GSUdbJ2FsbG93LXVybC1vcHQtaW4nXS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgYWxsb3dlZCA9IHdpbi5BTVBfQ09ORklHWydhbGxvdy11cmwtb3B0LWluJ107XG4gICAgY29uc3QgaGFzaCA9IHdpbi5sb2NhdGlvbi5vcmlnaW5hbEhhc2ggfHwgd2luLmxvY2F0aW9uLmhhc2g7XG4gICAgY29uc3QgcGFyYW1zID0gcGFyc2VRdWVyeVN0cmluZyhoYXNoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbG93ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zW2BlLSR7YWxsb3dlZFtpXX1gXTtcbiAgICAgIGlmIChwYXJhbSA9PSAnMScpIHtcbiAgICAgICAgdG9nZ2xlc1thbGxvd2VkW2ldXSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW0gPT0gJzAnKSB7XG4gICAgICAgIHRvZ2dsZXNbYWxsb3dlZFtpXV0gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvZ2dsZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2FjaGVkIGV4cGVyaW1lbnRzIHRvZ2dsZXMsIG9yIG51bGwgaWYgdGhleSBoYXZlIG5vdCBiZWVuXG4gKiBjb21wdXRlZCB5ZXQuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBlcmltZW50VG9nZ2xlc09yTnVsbCh3aW4pIHtcbiAgcmV0dXJuIHdpbltUT0dHTEVTX1dJTkRPV19QUk9QRVJUWV0gfHwgbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2V0IG9mIGV4cGVyaW1lbnQgSURzIGN1cnJlbnRseSBvbi5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gKi9cbmZ1bmN0aW9uIGdldEV4cGVyaW1lbnRUb2dnbGVzRnJvbUNvb2tpZSh3aW4pIHtcbiAgY29uc3QgZXhwZXJpbWVudENvb2tpZSA9IGdldENvb2tpZSh3aW4sIENPT0tJRV9OQU1FKTtcbiAgY29uc3QgdG9rZW5zID0gZXhwZXJpbWVudENvb2tpZSA/IGV4cGVyaW1lbnRDb29raWUuc3BsaXQoL1xccyosXFxzKi9nKSA6IFtdO1xuXG4gIGNvbnN0IHRvZ2dsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0b2tlbnNbaV0ubGVuZ3RoID09IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAodG9rZW5zW2ldWzBdID09ICctJykge1xuICAgICAgdG9nZ2xlc1t0b2tlbnNbaV0uc3Vic3RyKDEpXSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2dnbGVzW3Rva2Vuc1tpXV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b2dnbGVzO1xufVxuXG4vKipcbiAqIFNhdmVzIGEgc2V0IG9mIGV4cGVyaW1lbnQgSURzIGN1cnJlbnRseSBvbi5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdG9nZ2xlc1xuICovXG5mdW5jdGlvbiBzYXZlRXhwZXJpbWVudFRvZ2dsZXNUb0Nvb2tpZSh3aW4sIHRvZ2dsZXMpIHtcbiAgY29uc3QgZXhwZXJpbWVudElkcyA9IFtdO1xuICBmb3IgKGNvbnN0IGV4cGVyaW1lbnQgaW4gdG9nZ2xlcykge1xuICAgIGV4cGVyaW1lbnRJZHMucHVzaCgodG9nZ2xlc1tleHBlcmltZW50XSA9PT0gZmFsc2UgPyAnLScgOiAnJykgKyBleHBlcmltZW50KTtcbiAgfVxuXG4gIHNldENvb2tpZSh3aW4sIENPT0tJRV9OQU1FLCBleHBlcmltZW50SWRzLmpvaW4oJywnKSxcbiAgICAgIERhdGUubm93KCkgKyBDT09LSUVfRVhQSVJBVElPTl9JTlRFUlZBTCwge1xuICAgICAgICAvLyBTZXQgZXhwbGljaXQgZG9tYWluLCBzbyB0aGUgY29va2llIGdldHMgc2VuZCB0byBzdWIgZG9tYWlucy5cbiAgICAgICAgZG9tYWluOiB3aW4ubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgIGFsbG93T25Qcm94eU9yaWdpbjogdHJ1ZSxcbiAgICAgIH0pO1xufVxuXG4vKipcbiAqIFNlZSBnZXRFeHBlcmltZW50VG9nZ2xlc0Zyb21Db29raWUoKS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cGVyaW1lbnRUb2dsZXNGcm9tQ29va2llRm9yVGVzdGluZyh3aW4pIHtcbiAgcmV0dXJuIGdldEV4cGVyaW1lbnRUb2dnbGVzRnJvbUNvb2tpZSh3aW4pO1xufVxuXG4vKipcbiAqIFJlc2V0cyB0aGUgZXhwZXJpbWVudHNUb2dnbGUgY2FjaGUgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldEV4cGVyaW1lbnRUb2dnbGVzRm9yVGVzdGluZyh3aW4pIHtcbiAgc2V0Q29va2llKHdpbiwgQ09PS0lFX05BTUUsICcnLCAwLCB7XG4gICAgZG9tYWluOiB3aW4ubG9jYXRpb24uaG9zdG5hbWUsXG4gIH0pO1xuICB3aW5bVE9HR0xFU19XSU5ET1dfUFJPUEVSVFldID0gbnVsbDtcbn1cblxuLyoqXG4gKiBJbiBzb21lIGJyb3dzZXIgaW1wbGVtZW50YXRpb25zIG9mIE1hdGgucmFuZG9tKCksIHNlcXVlbnRpYWwgY2FsbHMgb2ZcbiAqIE1hdGgucmFuZG9tKCkgYXJlIGNvcnJlbGF0ZWQgYW5kIGNhbiBjYXVzZSBhIGJpYXMuICBJbiBwYXJ0aWN1bGFyLFxuICogaWYgdGhlIHByZXZpb3VzIHJhbmRvbSgpIGNhbGwgd2FzIDwgMC4wMDEgKGFzIGl0IHdpbGwgYmUgaWYgd2Ugc2VsZWN0XG4gKiBpbnRvIGFuIGV4cGVyaW1lbnQpLCB0aGUgbmV4dCB2YWx1ZSBjb3VsZCBiZSBsZXNzIHRoYW4gMC41IG1vcmUgdGhhblxuICogNTAuNyUgb2YgdGhlIHRpbWUuICBUaGlzIHByb3ZpZGVzIGFuIGltcGxlbWVudGF0aW9uIHRoYXQgcm9vdHMgZG93biBpbnRvXG4gKiB0aGUgY3J5cHRvIEFQSSwgd2hlbiBhdmFpbGFibGUsIHRvIHByb2R1Y2UgbGVzcyBiaWFzZWQgc2FtcGxlcy5cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBzZXVkby1yYW5kb20gZmxvYXRpbmctcG9pbnQgdmFsdWUgb24gdGhlIHJhbmdlIFswLCAxKS5cbiAqL1xuZnVuY3Rpb24gc2xvd0J1dEFjY3VyYXRlUHJuZygpIHtcbiAgLy8gVE9ETyh0ZHJsKTogSW1wbGVtZW50LlxuICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbn1cblxuLyoqXG4gKiBDb250YWluZXIgZm9yIGFsdGVybmF0ZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvciBpbXBsZW1lbnRhdGlvbnMuICBUaGlzXG4gKiBhbGxvd3MgdXMgdG8gc2V0IGFuIFwiYWNjdXJhdGVcIiBQUk5HIGZvciBicmFuY2ggc2VsZWN0aW9uLCBidXQgdG8gbW9jayBpdFxuICogb3V0IGVhc2lseSBpbiB0ZXN0cy5cbiAqXG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqIEBjb25zdCB7IXthY2N1cmF0ZVBybmc6IGZ1bmN0aW9uKCk6bnVtYmVyfX1cbiAqL1xuZXhwb3J0IGNvbnN0IFJBTkRPTV9OVU1CRVJfR0VORVJBVE9SUyA9IHtcbiAgYWNjdXJhdGVQcm5nOiBzbG93QnV0QWNjdXJhdGVQcm5nLFxufTtcblxuLyoqXG4gKiBTZWxlY3RzLCB1bmlmb3JtbHkgYXQgcmFuZG9tLCBhIHNpbmdsZSBpdGVtIGZyb20gdGhlIGFycmF5LlxuICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gYXJyIE9iamVjdCB0byBzZWxlY3QgZnJvbS5cbiAqIEByZXR1cm4gez9zdHJpbmd9IFNpbmdsZSBpdGVtIGZyb20gYXJyIG9yIG51bGwgaWYgYXJyIHdhcyBlbXB0eS5cbiAqL1xuZnVuY3Rpb24gc2VsZWN0UmFuZG9tSXRlbShhcnIpIHtcbiAgY29uc3Qgcm4gPSBSQU5ET01fTlVNQkVSX0dFTkVSQVRPUlMuYWNjdXJhdGVQcm5nKCk7XG4gIHJldHVybiBhcnJbTWF0aC5mbG9vcihybiAqIGFyci5sZW5ndGgpXSB8fCBudWxsO1xufVxuXG4vKipcbiAqIFNlbGVjdHMgd2hpY2ggcGFnZS1sZXZlbCBleHBlcmltZW50IGJyYW5jaGVzIGFyZSBlbmFibGVkLiBJZiBhIGdpdmVuXG4gKiBleHBlcmltZW50IG5hbWUgaXMgYWxyZWFkeSBzZXQgKGluY2x1ZGluZyB0byB0aGUgbnVsbCAvIG5vIGJyYW5jaGVzIHNlbGVjdGVkXG4gKiBzdGF0ZSksIHRoaXMgd29uJ3QgYWx0ZXIgaXRzIHN0YXRlLlxuICpcbiAqIENoZWNrIHdoZXRoZXIgYSBnaXZlbiBleHBlcmltZW50IGlzIHNldCB1c2luZyBpc0V4cGVyaW1lbnRPbih3aW4sXG4gKiBleHBlcmltZW50TmFtZSkgYW5kLCBpZiBpdCBpcyBvbiwgbG9vayBmb3Igd2hpY2ggYnJhbmNoIGlzIHNlbGVjdGVkIGluXG4gKiB3aW4uZXhwZXJpbWVudEJyYW5jaGVzW2V4cGVyaW1lbnROYW1lXS5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpbiBXaW5kb3cgY29udGV4dCBvbiB3aGljaCB0byBzYXZlIGV4cGVyaW1lbnRcbiAqICAgICBzZWxlY3Rpb24gc3RhdGUuXG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhRXhwZXJpbWVudEluZm8+fSBleHBlcmltZW50cyAgU2V0IG9mIGV4cGVyaW1lbnRzIHRvXG4gKiAgICAgY29uZmlndXJlIGZvciB0aGlzIHBhZ2UgbG9hZC5cbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBNYXAgb2YgZXhwZXJpbWVudCBuYW1lcyB0byBzZWxlY3RlZFxuICogICAgIGJyYW5jaGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tbHlTZWxlY3RVbnNldEV4cGVyaW1lbnRzKHdpbiwgZXhwZXJpbWVudHMpIHtcbiAgd2luLmV4cGVyaW1lbnRCcmFuY2hlcyA9IHdpbi5leHBlcmltZW50QnJhbmNoZXMgfHwge307XG4gIGNvbnN0IHNlbGVjdGVkRXhwZXJpbWVudHMgPSB7fTtcbiAgZm9yIChjb25zdCBleHBlcmltZW50TmFtZSBpbiBleHBlcmltZW50cykge1xuICAgIC8vIFNraXAgZXhwZXJpbWVudE5hbWUgaWYgaXQgaXMgbm90IGEga2V5IG9mIGV4cGVyaW1lbnRzIG9iamVjdCBvciBpZiBpdFxuICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gcG9wdWxhdGVkIGJ5IHNvbWUgb3RoZXIgcHJvcGVydHkuXG4gICAgaWYgKCFoYXNPd24oZXhwZXJpbWVudHMsIGV4cGVyaW1lbnROYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChoYXNPd24od2luLmV4cGVyaW1lbnRCcmFuY2hlcywgZXhwZXJpbWVudE5hbWUpKSB7XG4gICAgICBzZWxlY3RlZEV4cGVyaW1lbnRzW2V4cGVyaW1lbnROYW1lXSA9XG4gICAgICAgICAgd2luLmV4cGVyaW1lbnRCcmFuY2hlc1tleHBlcmltZW50TmFtZV07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIWV4cGVyaW1lbnRzW2V4cGVyaW1lbnROYW1lXS5pc1RyYWZmaWNFbGlnaWJsZSB8fFxuICAgICAgICAhZXhwZXJpbWVudHNbZXhwZXJpbWVudE5hbWVdLmlzVHJhZmZpY0VsaWdpYmxlKHdpbikpIHtcbiAgICAgIHdpbi5leHBlcmltZW50QnJhbmNoZXNbZXhwZXJpbWVudE5hbWVdID0gbnVsbDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIElmIHdlJ3JlIGluIHRoZSBleHBlcmltZW50LCBidXQgd2UgaGF2ZW4ndCBhbHJlYWR5IGZvcmNlZCBhIHNwZWNpZmljXG4gICAgLy8gZXhwZXJpbWVudCBicmFuY2ggKGUuZy4sIHZpYSBhIHRlc3Qgc2V0dXApLCB0aGVuIHJhbmRvbWl6ZSB0aGUgYnJhbmNoXG4gICAgLy8gY2hvaWNlLlxuICAgIGlmICghd2luLmV4cGVyaW1lbnRCcmFuY2hlc1tleHBlcmltZW50TmFtZV0gJiZcbiAgICAgIGlzRXhwZXJpbWVudE9uKHdpbiwgLypPSyovZXhwZXJpbWVudE5hbWUpKSB7XG4gICAgICBjb25zdCB7YnJhbmNoZXN9ID0gZXhwZXJpbWVudHNbZXhwZXJpbWVudE5hbWVdO1xuICAgICAgd2luLmV4cGVyaW1lbnRCcmFuY2hlc1tleHBlcmltZW50TmFtZV0gPSBzZWxlY3RSYW5kb21JdGVtKGJyYW5jaGVzKTtcbiAgICAgIHNlbGVjdGVkRXhwZXJpbWVudHNbZXhwZXJpbWVudE5hbWVdID1cbiAgICAgICAgICB3aW4uZXhwZXJpbWVudEJyYW5jaGVzW2V4cGVyaW1lbnROYW1lXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlbGVjdGVkRXhwZXJpbWVudHM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZXhwZXJpbWVudCBicmFuY2ggZW5hYmxlZCBmb3IgdGhlIGdpdmVuIGV4cGVyaW1lbnQgSUQuXG4gKiBGb3IgZXhhbXBsZSwgJ2NvbnRyb2wnIG9yICdleHBlcmltZW50Jy5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpbiBXaW5kb3cgY29udGV4dCB0byBjaGVjayBmb3IgZXhwZXJpbWVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHBlcmltZW50TmFtZSBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRvIGNoZWNrLlxuICogQHJldHVybiB7P3N0cmluZ30gQWN0aXZlIGV4cGVyaW1lbnQgYnJhbmNoIElEIGZvciBleHBlcmltZW50TmFtZSAocG9zc2libHlcbiAqICAgICBudWxsIGlmIGV4cGVyaW1lbnROYW1lIGhhcyBiZWVuIHRlc3RlZCBidXQgbm8gYnJhbmNoIHdhcyBlbmFibGVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cGVyaW1lbnRCcmFuY2god2luLCBleHBlcmltZW50TmFtZSkge1xuICByZXR1cm4gd2luLmV4cGVyaW1lbnRCcmFuY2hlcyA/IHdpbi5leHBlcmltZW50QnJhbmNoZXNbZXhwZXJpbWVudE5hbWVdIDogbnVsbDtcbn1cblxuLyoqXG4gKiBGb3JjZSBlbmFibGUgKG9yIGRpc2FibGUpIGEgc3BlY2lmaWMgYnJhbmNoIG9mIGEgZ2l2ZW4gZXhwZXJpbWVudCBuYW1lLlxuICogRGlzYWJsZXMgdGhlIGV4cGVyaW1lbnQgbmFtZSBhbHRvZ2V0aGVyIGlmIGJyYW5jaElkIGlzIGZhbHNlaXNoLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luIFdpbmRvdyBjb250ZXh0IHRvIGNoZWNrIGZvciBleHBlcmltZW50IHN0YXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cGVyaW1lbnROYW1lIE5hbWUgb2YgdGhlIGV4cGVyaW1lbnQgdG8gY2hlY2suXG4gKiBAcGFyYW0gez9zdHJpbmd9IGJyYW5jaElkIElEIG9mIGJyYW5jaCB0byBmb3JjZSBvciBudWxsIHRvIGRpc2FibGVcbiAqICAgICBhbHRvZ2V0aGVyLlxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JjZUV4cGVyaW1lbnRCcmFuY2god2luLCBleHBlcmltZW50TmFtZSwgYnJhbmNoSWQpIHtcbiAgd2luLmV4cGVyaW1lbnRCcmFuY2hlcyA9IHdpbi5leHBlcmltZW50QnJhbmNoZXMgfHwge307XG4gIHRvZ2dsZUV4cGVyaW1lbnQod2luLCBleHBlcmltZW50TmFtZSwgISFicmFuY2hJZCwgdHJ1ZSk7XG4gIHdpbi5leHBlcmltZW50QnJhbmNoZXNbZXhwZXJpbWVudE5hbWVdID0gYnJhbmNoSWQ7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2Jhc2UgRXhwb25lbnRpYWwgYmFzZS4gRGVmYXVsdHMgdG8gMi5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKGZ1bmN0aW9uKCkpOiBudW1iZXJ9IEZ1bmN0aW9uIHRoYXQgd2hlbiBpbnZva2VkIHdpbGxcbiAqICAgICBjYWxsIHRoZSBwYXNzZWQgaW4gZnVuY3Rpb24uIE9uIGV2ZXJ5IGludm9jYXRpb24gdGhlIG5leHRcbiAqICAgICBpbnZvY2F0aW9uIG9mIHRoZSBwYXNzZWQgaW4gZnVuY3Rpb24gd2lsbCBiZSBleHBvbmVudGlhbGx5XG4gKiAgICAgbGF0ZXIuIFJldHVybmVkIGZ1bmN0aW9uIHJldHVybnMgdGltZW91dCBpZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9uZW50aWFsQmFja29mZihvcHRfYmFzZSkge1xuICBjb25zdCBnZXRUaW1lb3V0ID0gZXhwb25lbnRpYWxCYWNrb2ZmQ2xvY2sob3B0X2Jhc2UpO1xuICByZXR1cm4gd29yayA9PiB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQod29yaywgZ2V0VGltZW91dCgpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9iYXNlIEV4cG9uZW50aWFsIGJhc2UuIERlZmF1bHRzIHRvIDIuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOiBudW1iZXJ9IEZ1bmN0aW9uIHRoYXQgd2hlbiBpbnZva2VkIHdpbGwgcmV0dXJuXG4gKiAgICBhIG51bWJlciB0aGF0IGV4cG9uZW50aWFsbHkgZ3Jvd3MgcGVyIGludm9jYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvbmVudGlhbEJhY2tvZmZDbG9jayhvcHRfYmFzZSkge1xuICBjb25zdCBiYXNlID0gb3B0X2Jhc2UgfHwgMjtcbiAgbGV0IGNvdW50ID0gMDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgd2FpdCA9IE1hdGgucG93KGJhc2UsIGNvdW50KyspO1xuICAgIHdhaXQgKz0gZ2V0Sml0dGVyKHdhaXQpO1xuICAgIHJldHVybiB3YWl0ICogMTAwMDtcbiAgfTtcbn1cblxuLyoqXG4gKiBBZGQgaml0dGVyIHRvIGF2b2lkIHRoZSB0aHVuZGVyaW5nIGhlcmQuIFRoaXMgY2FuIGUuZy4gaGFwcGVuIHdoZW5cbiAqIHdlIHBvbGwgYSBiYWNrZW5kIGFuZCBpdCBmYWlscyBmb3IgZXZlcnlvbmUgYXQgdGhlIHNhbWUgdGltZS5cbiAqIFdlIGFkZCB1cCB0byAzMCUgKGRlZmF1bHQpIGxvbmdlciBvciBzaG9ydGVyIHRoYW4gdGhlIGdpdmVuIHRpbWUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgdGhlIGFtb3VudCBpZiBiYXNlIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcGVyYyB0aGUgbWluL21heCBwZXJjZW50YWdlIHRvIGFkZCBvciBzdXRyYWN0XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKaXR0ZXIod2FpdCwgb3B0X3BlcmMpIHtcbiAgb3B0X3BlcmMgPSBvcHRfcGVyYyB8fCAuMztcbiAgbGV0IGppdHRlciA9IHdhaXQgKiBvcHRfcGVyYyAqIE1hdGgucmFuZG9tKCk7XG4gIGlmIChNYXRoLnJhbmRvbSgpID4gLjUpIHtcbiAgICBqaXR0ZXIgKj0gLTE7XG4gIH1cbiAgcmV0dXJuIGppdHRlcjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0NvbW1vblNpZ25hbHN9IGZyb20gJy4vY29tbW9uLXNpZ25hbHMnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICcuL29ic2VydmFibGUnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge1NpZ25hbHN9IGZyb20gJy4vdXRpbHMvc2lnbmFscyc7XG5pbXBvcnQge2Nsb3Nlc3RCeVNlbGVjdG9yLCBlc2NhcGVIdG1sfSBmcm9tICcuL2RvbSc7XG5pbXBvcnQge2RldiwgcmV0aHJvd0FzeW5jLCB1c2VyfSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge2Rpc3Bvc2VTZXJ2aWNlc0ZvckVtYmVkLCBnZXRUb3BXaW5kb3d9IGZyb20gJy4vc2VydmljZSc7XG5pbXBvcnQge2lzRG9jdW1lbnRSZWFkeX0gZnJvbSAnLi9kb2N1bWVudC1yZWFkeSc7XG5pbXBvcnQge2xheW91dFJlY3RMdHdoLCBtb3ZlTGF5b3V0UmVjdH0gZnJvbSAnLi9sYXlvdXQtcmVjdCc7XG5pbXBvcnQge2xvYWRQcm9taXNlfSBmcm9tICcuL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge1xuICBweCxcbiAgcmVzZXRTdHlsZXMsXG4gIHNldEltcG9ydGFudFN0eWxlcyxcbiAgc2V0U3R5bGUsXG4gIHNldFN0eWxlcyxcbn0gZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQge3RvV2lufSBmcm9tICcuL3R5cGVzJztcblxuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBFTUJFRF9QUk9QID0gJ19fQU1QX0VNQkVEX18nO1xuXG4vKiogQGNvbnN0IHshQXJyYXk8c3RyaW5nPn0gKi9cbmNvbnN0IEVYQ0xVREVfSU5JX0xPQUQgPVxuICAgIFsnQU1QLUFEJywgJ0FNUC1BTkFMWVRJQ1MnLCAnQU1QLVBJWEVMJywgJ0FNUC1BRC1FWElUJ107XG5cblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIHRoZSBuZXcgXCJmcmllbmRseSBpZnJhbWVcIiBlbWJlZC5cbiAqIC0gaHRtbDogVGhlIGNvbXBsZXRlIGNvbnRlbnQgb2YgYW4gQU1QIGVtYmVkLCB3aGljaCBpcyBpdHNlbGYgYW4gQU1QXG4gKiAgIGRvY3VtZW50LiBDYW4gaW5jbHVkZSB3aGF0ZXZlciBpcyBub3JtYWxseSBhbGxvd2VkIGluIGFuIEFNUCBkb2N1bWVudCxcbiAqICAgZXhjZXB0IGZvciBBTVAgYDxzY3JpcHQ+YCBkZWNsYXJhdGlvbnMuIFRob3NlIHNob3VsZCBiZSBwYXNzZWQgYXMgYW5cbiAqICAgYXJyYXkgb2YgYGV4dGVuc2lvbklkc2AuXG4gKiAtIGV4dGVuc2lvbnNJZHM6IEFuIG9wdGlvbmFsIGFycmF5IG9mIEFNUCBleHRlbnNpb24gSURzIHVzZWQgaW4gdGhpcyBlbWJlZC5cbiAqIC0gZm9udHM6IEFuIG9wdGlvbmFsIGFycmF5IG9mIGZvbnRzIHVzZWQgaW4gdGhpcyBlbWJlZC5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICBob3N0OiAoP0FtcEVsZW1lbnR8dW5kZWZpbmVkKSxcbiAqICAgdXJsOiBzdHJpbmcsXG4gKiAgIGh0bWw6IHN0cmluZyxcbiAqICAgZXh0ZW5zaW9uSWRzOiAoP0FycmF5PHN0cmluZz58dW5kZWZpbmVkKSxcbiAqICAgZm9udHM6ICg/QXJyYXk8c3RyaW5nPnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBGcmllbmRseUlmcmFtZVNwZWM7XG5cblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xubGV0IHNyY2RvY1N1cHBvcnRlZDtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSB2YWxcbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3JjZG9jU3VwcG9ydGVkRm9yVGVzdGluZyh2YWwpIHtcbiAgc3JjZG9jU3VwcG9ydGVkID0gdmFsO1xufVxuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBGcmllbmRseSBJZnJhbWVzIGFyZSBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NyY2RvY1N1cHBvcnRlZCgpIHtcbiAgaWYgKHNyY2RvY1N1cHBvcnRlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3JjZG9jU3VwcG9ydGVkID0gJ3NyY2RvYycgaW4gSFRNTElGcmFtZUVsZW1lbnQucHJvdG90eXBlO1xuICB9XG4gIHJldHVybiBzcmNkb2NTdXBwb3J0ZWQ7XG59XG5cblxuLyoqXG4gKiBTZXRzIHdoZXRoZXIgdGhlIGVtYmVkIGlzIGN1cnJlbnRseSB2aXNpYmxlLiBUaGUgaW50ZXJwcmV0YXRpb24gb2YgdmlzaWJpbGl0eVxuICogaXMgdXAgdG8gdGhlIGVtYmVkIHBhcmVudC4gSG93ZXZlciwgbW9zdCBvZiB0eXBpY2FsIGNhc2VzIHdvdWxkIHJlbHkgb25cbiAqIHdoZXRoZXIgdGhlIGVtYmVkIGlzIGN1cnJlbnRseSBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcGFyYW0geyFGcmllbmRseUlmcmFtZUVtYmVkfSBlbWJlZFxuICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlXG4gKiBUT0RPKGR2b3l0ZW5rbyk6IFJlLWV2YWx1YXRlIGFuZCBwcm9iYWJseSBkcm9wIG9uY2UgbGF5ZXJzIGFyZSByZWFkeS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZyaWVuZGx5SWZyYW1lRW1iZWRWaXNpYmxlKGVtYmVkLCB2aXNpYmxlKSB7XG4gIGVtYmVkLnNldFZpc2libGVfKHZpc2libGUpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgZW1iZWQgY3JlYXRlZCB1c2luZyBgaW5zdGFsbEZyaWVuZGx5SWZyYW1lRW1iZWRgIG9yIGBudWxsYC5cbiAqIENhdXRpb246IFRoaXMgd2lsbCBvbmx5IHJldHVybiB0aGUgRklFIGFmdGVyIHRoZSBpZnJhbWUgaGFzICdsb2FkZWQnLiBJZiB5b3VcbiAqIGFyZSBjaGVja2luZyBiZWZvcmUgdGhpcyBzaWduYWwgeW91IG1heSBiZSBpbiBhIHJhY2UgY29uZGl0aW9uIHRoYXQgcmV0dXJuc1xuICogbnVsbC5cbiAqIEBwYXJhbSB7IUhUTUxJRnJhbWVFbGVtZW50fSBpZnJhbWVcbiAqIEByZXR1cm4gez9GcmllbmRseUlmcmFtZUVtYmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnJpZW5kbHlJZnJhbWVFbWJlZE9wdGlvbmFsKGlmcmFtZSkge1xuICByZXR1cm4gLyoqIEB0eXBlIHs/RnJpZW5kbHlJZnJhbWVFbWJlZH0gKi8gKGlmcmFtZVtFTUJFRF9QUk9QXSk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSByZXF1ZXN0ZWQgXCJmcmllbmRseSBpZnJhbWVcIiBlbWJlZC4gUmV0dXJucyB0aGUgcHJvbWlzZSB0aGF0XG4gKiB3aWxsIGJlIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlIGVtYmVkIGlzIGF2YWlsYWJsZS4gVGhlIGFjdHVhbFxuICogaW5pdGlhbGl6YXRpb24gb2YgdGhlIGVtYmVkIHdpbGwgc3RhcnQgYXMgc29vbiBhcyB0aGUgYGlmcmFtZWAgaXMgYWRkZWRcbiAqIHRvIHRoZSBET00uXG4gKiBAcGFyYW0geyFIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gKiBAcGFyYW0geyFFbGVtZW50fSBjb250YWluZXJcbiAqIEBwYXJhbSB7IUZyaWVuZGx5SWZyYW1lU3BlY30gc3BlY1xuICogQHBhcmFtIHtmdW5jdGlvbighV2luZG93KT19IG9wdF9wcmVpbnN0YWxsQ2FsbGJhY2tcbiAqIEByZXR1cm4geyFQcm9taXNlPCFGcmllbmRseUlmcmFtZUVtYmVkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxGcmllbmRseUlmcmFtZUVtYmVkKGlmcmFtZSwgY29udGFpbmVyLCBzcGVjLFxuICBvcHRfcHJlaW5zdGFsbENhbGxiYWNrKSB7XG4gIC8qKiBAY29uc3QgeyFXaW5kb3d9ICovXG4gIGNvbnN0IHdpbiA9IGdldFRvcFdpbmRvdyh0b1dpbihpZnJhbWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykpO1xuICAvKiogQGNvbnN0IHshLi9zZXJ2aWNlL2V4dGVuc2lvbnMtaW1wbC5FeHRlbnNpb25zfSAqL1xuICBjb25zdCBleHRlbnNpb25zID0gU2VydmljZXMuZXh0ZW5zaW9uc0Zvcih3aW4pO1xuXG4gIHNldFN0eWxlKGlmcmFtZSwgJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3JlZmVycmVycG9saWN5JywgJ3Vuc2FmZS11cmwnKTtcblxuICAvLyBQcmUtbG9hZCBleHRlbnNpb25zLlxuICBpZiAoc3BlYy5leHRlbnNpb25JZHMpIHtcbiAgICBzcGVjLmV4dGVuc2lvbklkcy5mb3JFYWNoKFxuICAgICAgICBleHRlbnNpb25JZCA9PiBleHRlbnNpb25zLnByZWxvYWRFeHRlbnNpb24oZXh0ZW5zaW9uSWQpKTtcbiAgfVxuXG4gIGNvbnN0IGh0bWwgPSBtZXJnZUh0bWwoc3BlYyk7XG5cbiAgLy8gUmVjZWl2ZSB0aGUgc2lnbmFsIHdoZW4gaWZyYW1lIGlzIHJlYWR5OiBpdCdzIGRvY3VtZW50IGlzIGZvcm1lZC5cbiAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAvLyBDaHJvbWUgZG9lcyBub3QgcmVmbGVjdCB0aGUgaWZyYW1lIHJlYWR5c3RhdGUuXG4gICAgaWZyYW1lLnJlYWR5U3RhdGUgPSAnY29tcGxldGUnO1xuICB9O1xuICBjb25zdCByZWdpc3RlclZpb2xhdGlvbkxpc3RlbmVyID0gKCkgPT4ge1xuICAgIGlmcmFtZS5jb250ZW50V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3NlY3VyaXR5cG9saWN5dmlvbGF0aW9uJyxcbiAgICAgICAgdmlvbGF0aW9uRXZlbnQgPT4ge1xuICAgICAgICAgIGRldigpLndhcm4oJ0ZJRScsICdzZWN1cml0eSBwb2xpY3kgdmlvbGF0aW9uJywgdmlvbGF0aW9uRXZlbnQpO1xuICAgICAgICB9KTtcbiAgfTtcbiAgbGV0IGxvYWRlZFByb21pc2U7XG4gIGlmIChpc1NyY2RvY1N1cHBvcnRlZCgpKSB7XG4gICAgaWZyYW1lLnNyY2RvYyA9IGh0bWw7XG4gICAgbG9hZGVkUHJvbWlzZSA9IGxvYWRQcm9taXNlKGlmcmFtZSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgcmVnaXN0ZXJWaW9sYXRpb25MaXN0ZW5lcigpO1xuICB9IGVsc2Uge1xuICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIGNvbnN0IGNoaWxkRG9jID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgY2hpbGREb2Mub3BlbigpO1xuICAgIHJlZ2lzdGVyVmlvbGF0aW9uTGlzdGVuZXIoKTtcbiAgICBjaGlsZERvYy53cml0ZShodG1sKTtcbiAgICAvLyBXaXRoIGRvY3VtZW50LndyaXRlLCBgaWZyYW1lLm9ubG9hZGAgYXJyaXZlcyBhbG1vc3QgaW1tZWRpYXRlbHksIHRodXNcbiAgICAvLyB3ZSBuZWVkIHRvIHdhaXQgZm9yIGNoaWxkJ3MgYHdpbmRvdy5vbmxvYWRgLlxuICAgIGxvYWRlZFByb21pc2UgPSBsb2FkUHJvbWlzZShpZnJhbWUuY29udGVudFdpbmRvdyk7XG4gICAgY2hpbGREb2MuY2xvc2UoKTtcbiAgfVxuXG4gIC8vIFdhaXQgZm9yIGRvY3VtZW50IHJlYWR5IHNpZ25hbC5cbiAgLy8gVGhpcyBpcyBjb21wbGljYXRlZCBkdWUgdG8gY3JidWcuY29tLzY0OTIwMSBvbiBDaHJvbWUgYW5kIGEgc2ltaWxhciBpc3N1ZVxuICAvLyBvbiBTYWZhcmkgd2hlcmUgbmV3bHkgY3JlYXRlZCBkb2N1bWVudCdzIGByZWFkeVN0YXRlYCBpbW1lZGlhdGVseSBlcXVhbHNcbiAgLy8gYGNvbXBsZXRlYCwgZXZlbiB0aG91Z2ggdGhlIGRvY3VtZW50IGl0c2VsZiBpcyBub3QgeWV0IGF2YWlsYWJsZS4gVGhlcmUnc1xuICAvLyBubyBvdGhlciByZWxpYWJsZSBzaWduYWwgZm9yIGByZWFkeVN0YXRlYCBpbiBhIGNoaWxkIHdpbmRvdyBhbmQgdGh1c1xuICAvLyB3ZSBoYXZlIHRvIGZhbGxiYWNrIHRvIHBvbGxpbmcuXG4gIGxldCByZWFkeVByb21pc2U7XG4gIGlmIChpc0lmcmFtZVJlYWR5KGlmcmFtZSkpIHtcbiAgICByZWFkeVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSBlbHNlIHtcbiAgICByZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIC8qKiBAY29uc3Qge251bWJlcn0gKi9cbiAgICAgIGNvbnN0IGludGVydmFsID0gd2luLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKGlzSWZyYW1lUmVhZHkoaWZyYW1lKSkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB3aW4uY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sIC8qIG1pbGxpc2Vjb25kcyAqLyA1KTtcblxuICAgICAgLy8gRm9yIHNhZmV0eSwgbWFrZSBzdXJlIHdlIGRlZmluaXRlbHkgc3RvcCBwb2xsaW5nIHdoZW4gY2hpbGQgZG9jIGlzXG4gICAgICAvLyBsb2FkZWQuXG4gICAgICBsb2FkZWRQcm9taXNlLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgcmV0aHJvd0FzeW5jKGVycm9yKTtcbiAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIHdpbi5jbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlYWR5UHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICBjb25zdCBlbWJlZCA9IG5ldyBGcmllbmRseUlmcmFtZUVtYmVkKGlmcmFtZSwgc3BlYywgbG9hZGVkUHJvbWlzZSk7XG4gICAgaWZyYW1lW0VNQkVEX1BST1BdID0gZW1iZWQ7XG5cbiAgICBjb25zdCBjaGlsZFdpbiA9IC8qKiBAdHlwZSB7IVdpbmRvd30gKi8gKGlmcmFtZS5jb250ZW50V2luZG93KTtcbiAgICAvLyBBZGQgZXh0ZW5zaW9ucy5cbiAgICBleHRlbnNpb25zLmluc3RhbGxFeHRlbnNpb25zSW5DaGlsZFdpbmRvdyhcbiAgICAgICAgY2hpbGRXaW4sIHNwZWMuZXh0ZW5zaW9uSWRzIHx8IFtdLCBvcHRfcHJlaW5zdGFsbENhbGxiYWNrKTtcbiAgICAvLyBSZWFkeSB0byBiZSBzaG93bi5cbiAgICBlbWJlZC5zdGFydFJlbmRlcl8oKTtcbiAgICByZXR1cm4gZW1iZWQ7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgd2hlbiBpZnJhbWUgaXMgcmVhZHkuXG4gKiBAcGFyYW0geyFIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0lmcmFtZVJlYWR5KGlmcmFtZSkge1xuICAvLyBUaGlzIGlzIGNvbXBsaWNhdGVkIGR1ZSB0byBjcmJ1Zy5jb20vNjQ5MjAxIG9uIENocm9tZSBhbmQgYSBzaW1pbGFyIGlzc3VlXG4gIC8vIG9uIFNhZmFyaSB3aGVyZSBuZXdseSBjcmVhdGVkIGRvY3VtZW50J3MgYHJlYWR5U3RhdGVgIGltbWVkaWF0ZWx5IGVxdWFsc1xuICAvLyBgY29tcGxldGVgLCBldmVuIHRob3VnaCB0aGUgZG9jdW1lbnQgaXRzZWxmIGlzIG5vdCB5ZXQgYXZhaWxhYmxlLiBUaGVyZSdzXG4gIC8vIG5vIG90aGVyIHJlbGlhYmxlIHNpZ25hbCBmb3IgYHJlYWR5U3RhdGVgIGluIGEgY2hpbGQgd2luZG93IGFuZCB0aHVzXG4gIC8vIHRoZSBiZXN0IHdheSB0byBjaGVjayBpcyB0byBzZWUgdGhlIGNvbnRlbnRzIG9mIHRoZSBib2R5LlxuICBjb25zdCBjaGlsZERvYyA9IGlmcmFtZS5jb250ZW50V2luZG93ICYmIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICByZXR1cm4gISEoY2hpbGREb2MgJiZcbiAgICAgIGlzRG9jdW1lbnRSZWFkeShjaGlsZERvYykgJiZcbiAgICAgIGNoaWxkRG9jLmJvZHkgJiZcbiAgICAgIGNoaWxkRG9jLmJvZHkuZmlyc3RDaGlsZCk7XG59XG5cblxuLyoqXG4gKiBNZXJnZXMgYmFzZSBhbmQgZm9udHMgaW50byBodG1sIGRvY3VtZW50LlxuICogQHBhcmFtIHshRnJpZW5kbHlJZnJhbWVTcGVjfSBzcGVjXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSHRtbChzcGVjKSB7XG4gIGNvbnN0IG9yaWdpbmFsSHRtbCA9IHNwZWMuaHRtbDtcbiAgY29uc3Qgb3JpZ2luYWxIdG1sVXAgPSBvcmlnaW5hbEh0bWwudG9VcHBlckNhc2UoKTtcblxuICAvLyBGaW5kIHRoZSBpbnNlcnRpb24gcG9pbnQuXG4gIGxldCBpcCA9IG9yaWdpbmFsSHRtbFVwLmluZGV4T2YoJzxIRUFEJyk7XG4gIGlmIChpcCAhPSAtMSkge1xuICAgIGlwID0gb3JpZ2luYWxIdG1sVXAuaW5kZXhPZignPicsIGlwICsgMSkgKyAxO1xuICB9XG4gIGlmIChpcCA9PSAtMSkge1xuICAgIGlwID0gb3JpZ2luYWxIdG1sVXAuaW5kZXhPZignPEJPRFknKTtcbiAgfVxuICBpZiAoaXAgPT0gLTEpIHtcbiAgICBpcCA9IG9yaWdpbmFsSHRtbFVwLmluZGV4T2YoJzxIVE1MJyk7XG4gICAgaWYgKGlwICE9IC0xKSB7XG4gICAgICBpcCA9IG9yaWdpbmFsSHRtbFVwLmluZGV4T2YoJz4nLCBpcCArIDEpICsgMTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAvLyBQcmVhbWJ1bGUuXG4gIGlmIChpcCA+IDApIHtcbiAgICByZXN1bHQucHVzaChvcmlnaW5hbEh0bWwuc3Vic3RyaW5nKDAsIGlwKSk7XG4gIH1cblxuICAvLyBBZGQgPEJBU0U+IHRhZy5cbiAgcmVzdWx0LnB1c2goYDxiYXNlIGhyZWY9XCIke2VzY2FwZUh0bWwoc3BlYy51cmwpfVwiPmApO1xuXG4gIC8vIExvYWQgZm9udHMuXG4gIGlmIChzcGVjLmZvbnRzKSB7XG4gICAgc3BlYy5mb250cy5mb3JFYWNoKGZvbnQgPT4ge1xuICAgICAgcmVzdWx0LnB1c2goXG4gICAgICAgICAgYDxsaW5rIGhyZWY9XCIke2VzY2FwZUh0bWwoZm9udCl9XCIgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPmApO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTG9hZCBDU1BcbiAgcmVzdWx0LnB1c2goJzxtZXRhIGh0dHAtZXF1aXY9Q29udGVudC1TZWN1cml0eS1Qb2xpY3kgJyArXG4gICAgICAnY29udGVudD1cInNjcmlwdC1zcmMgXFwnbm9uZVxcJztvYmplY3Qtc3JjIFxcJ25vbmVcXCc7Y2hpbGQtc3JjIFxcJ25vbmVcXCdcIj4nKTtcblxuICAvLyBQb3N0YW1idWxlLlxuICBpZiAoaXAgPiAwKSB7XG4gICAgcmVzdWx0LnB1c2gob3JpZ2luYWxIdG1sLnN1YnN0cmluZyhpcCkpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wdXNoKG9yaWdpbmFsSHRtbCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xufVxuXG5cbi8qKlxuICogRXhwb3NlcyBgbWVyZ2VIdG1sYCBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqIEBwYXJhbSB7IUZyaWVuZGx5SWZyYW1lU3BlY30gc3BlY1xuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUh0bWxGb3JUZXN0aW5nKHNwZWMpIHtcbiAgcmV0dXJuIG1lcmdlSHRtbChzcGVjKTtcbn1cblxuXG4vKipcbiAqIEEgXCJmcmllbmRseSBpZnJhbWVcIiBlbWJlZC4gVGhpcyBpcyB0aGUgaWZyYW1lIHRoYXQncyBmdWxseSBhY2Nlc3NpYmxlIHRvXG4gKiB0aGUgQU1QIHJ1bnRpbWUuIEl0J3Mgc2ltaWxhciB0byBTaGFkb3cgRE9NIGluIG1hbnkgcmVzcGVjdHMsIGJ1dCBpdCBhbHNvXG4gKiBwcm92aWRlcyBpZnJhbWUvdmlld3BvcnQgbWVhc3VyZW1lbnRzIGFuZCBlbmFibGVzIHRoZSB1c2Ugb2YgYHZoYCwgYHZ3YCBhbmRcbiAqIGBAbWVkaWFgIENTUy5cbiAqXG4gKiBUaGUgZnJpZW5kbHkgaWZyYW1lIGlzIG1hbmFnZWQgYnkgdGhlIHRvcC1sZXZlbCBBTVAgUnVudGltZS4gV2hlbiBpdCdzXG4gKiBkZXN0cm95ZWQsIHRoZSBgZGVzdHJveWAgbWV0aG9kIG11c3QgYmUgY2FsbGVkIHRvIGZyZWUgdXAgdGhlIHNoYXJlZFxuICogcmVzb3VyY2VzLlxuICovXG5leHBvcnQgY2xhc3MgRnJpZW5kbHlJZnJhbWVFbWJlZCB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxJRnJhbWVFbGVtZW50fSBpZnJhbWVcbiAgICogQHBhcmFtIHshRnJpZW5kbHlJZnJhbWVTcGVjfSBzcGVjXG4gICAqIEBwYXJhbSB7IVByb21pc2V9IGxvYWRlZFByb21pc2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKGlmcmFtZSwgc3BlYywgbG9hZGVkUHJvbWlzZSkge1xuICAgIC8qKiBAY29uc3QgeyFIVE1MSUZyYW1lRWxlbWVudH0gKi9cbiAgICB0aGlzLmlmcmFtZSA9IGlmcmFtZTtcblxuICAgIC8qKiBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW4gPSAvKiogQHR5cGV7IVdpbmRvd30gKi8oaWZyYW1lLmNvbnRlbnRXaW5kb3cpO1xuXG4gICAgLyoqIEBjb25zdCB7IUZyaWVuZGx5SWZyYW1lU3BlY30gKi9cbiAgICB0aGlzLnNwZWMgPSBzcGVjO1xuXG4gICAgLyoqIEBjb25zdCB7P0FtcEVsZW1lbnR9ICovXG4gICAgdGhpcy5ob3N0ID0gc3BlYy5ob3N0IHx8IG51bGw7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IERhdGUubm93KCk7XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgb3V0IGFzIGludmlzaWJsZS4gVGhlIGludGVycHJldGF0aW9uIG9mIHRoaXMgZmxhZyBpcyB1cCB0b1xuICAgICAqIHRoZSBlbWRlZCBwYXJlbnQuXG4gICAgICogQHByaXZhdGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy52aXNpYmxlXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHshT2JzZXJ2YWJsZTxib29sZWFuPn0gKi9cbiAgICB0aGlzLnZpc2liaWxpdHlPYnNlcnZhYmxlXyA9IG5ldyBPYnNlcnZhYmxlKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5zaWduYWxzXyA9IHRoaXMuaG9zdCA/IHRoaXMuaG9zdC5zaWduYWxzKCkgOiBuZXcgU2lnbmFscygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2V9ICovXG4gICAgdGhpcy53aW5Mb2FkZWRQcm9taXNlXyA9IFByb21pc2UuYWxsKFtsb2FkZWRQcm9taXNlLCB0aGlzLndoZW5SZWFkeSgpXSk7XG4gIH1cblxuICAvKipcbiAgICogRW5zdXJlcyB0aGF0IGFsbCByZXNvdXJjZXMgZnJvbSB0aGlzIGlmcmFtZSBoYXZlIGJlZW4gcmVsZWFzZWQuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIFNlcnZpY2VzLnJlc291cmNlc0ZvckRvYyh0aGlzLmlmcmFtZSkucmVtb3ZlRm9yQ2hpbGRXaW5kb3codGhpcy53aW4pO1xuICAgIGRpc3Bvc2VTZXJ2aWNlc0ZvckVtYmVkKHRoaXMud2luKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHt0aW1lfVxuICAgKi9cbiAgZ2V0U3RhcnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXJ0VGltZV87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYmFzZSBVUkwgZm9yIHRoZSBlbWJlZGRlZCBkb2N1bWVudC5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0VXJsKCkge1xuICAgIHJldHVybiB0aGlzLnNwZWMudXJsO1xuICB9XG5cbiAgLyoqIEByZXR1cm4geyFTaWduYWxzfSAqL1xuICBzaWduYWxzKCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25hbHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGVtYmVkIGRvY3VtZW50IGlzIHJlYWR5LlxuICAgKiBOb3RpY2UgdGhhdCB0aGlzIHNpZ25hbCBjb2luY2lkZXMgd2l0aCB0aGUgZW1iZWQncyBgcmVuZGVyLXN0YXJ0YC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICB3aGVuUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbmFsc18ud2hlblNpZ25hbChDb21tb25TaWduYWxzLlJFTkRFUl9TVEFSVCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgd2hlbiB0aGUgY2hpbGQgd2luZG93J3MgYG9ubG9hZGAgZXZlbnRcbiAgICogaGFzIGJlZW4gZW1pdHRlZC4gSW4gZnJpZW5kbHkgaWZyYW1lcyB0aGlzIHR5cGljYWxseSBvbmx5IGluY2x1ZGVzIGZvbnRcbiAgICogbG9hZGluZy5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICB3aGVuV2luZG93TG9hZGVkKCkge1xuICAgIHJldHVybiB0aGlzLndpbkxvYWRlZFByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGluaXRpYWwgbG9hZCAgb2YgdGhlIGVtYmVkJ3NcbiAgICogY29udGVudCBoYXMgYmVlbiBjb21wbGV0ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgd2hlbkluaUxvYWRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zaWduYWxzXy53aGVuU2lnbmFsKENvbW1vblNpZ25hbHMuSU5JX0xPQUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXN0cmljdGVkXG4gICAqL1xuICBzdGFydFJlbmRlcl8oKSB7XG4gICAgaWYgKHRoaXMuaG9zdCkge1xuICAgICAgdGhpcy5ob3N0LnJlbmRlclN0YXJ0ZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaWduYWxzXy5zaWduYWwoQ29tbW9uU2lnbmFscy5SRU5ERVJfU1RBUlQpO1xuICAgIH1cbiAgICBzZXRTdHlsZSh0aGlzLmlmcmFtZSwgJ3Zpc2liaWxpdHknLCAnJyk7XG4gICAgaWYgKHRoaXMud2luLmRvY3VtZW50ICYmIHRoaXMud2luLmRvY3VtZW50LmJvZHkpIHtcbiAgICAgIHRoaXMud2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtZmllJyk7XG4gICAgICBzZXRTdHlsZXMoZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLndpbi5kb2N1bWVudC5ib2R5KSwge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZScsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbCBsb2FkIHNpZ25hbCBzaWduYWwuXG4gICAgbGV0IHJlY3Q7XG4gICAgaWYgKHRoaXMuaG9zdCkge1xuICAgICAgcmVjdCA9IHRoaXMuaG9zdC5nZXRMYXlvdXRCb3goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjdCA9IGxheW91dFJlY3RMdHdoKFxuICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgdGhpcy53aW4uLypPSyovaW5uZXJXaWR0aCxcbiAgICAgICAgICB0aGlzLndpbi4vKk9LKi9pbm5lckhlaWdodCk7XG4gICAgfVxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMud2hlblJlYWR5KCksXG4gICAgICB3aGVuQ29udGVudEluaUxvYWQodGhpcy5pZnJhbWUsIHRoaXMud2luLCByZWN0KSxcbiAgICBdKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2lnbmFsc18uc2lnbmFsKENvbW1vblNpZ25hbHMuSU5JX0xPQUQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGVtYmVkIGlzIGN1cnJlbnRseSB2aXNpYmxlLiBUaGUgaW50ZXJwcmV0YXRpb24gb2YgdmlzaWJpbGl0eVxuICAgKiBpcyB1cCB0byB0aGUgZW1iZWQgcGFyZW50LiBIb3dldmVyLCBtb3N0IG9mIHR5cGljYWwgY2FzZXMgd291bGQgcmVseSBvblxuICAgKiB3aGV0aGVyIHRoZSBlbWJlZCBpcyBjdXJyZW50bHkgaW4gdGhlIHZpZXdwb3J0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBUT0RPKGR2b3l0ZW5rbyk6IFJlLWV2YWx1YXRlIGFuZCBwcm9iYWJseSBkcm9wIG9uY2UgbGF5ZXJzIGFyZSByZWFkeS5cbiAgICovXG4gIGlzVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy52aXNpYmxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWUgYGlzVmlzaWJsZWAgZm9yIG1vcmUgaW5mby5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihib29sZWFuKX0gaGFuZGxlclxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqL1xuICBvblZpc2liaWxpdHlDaGFuZ2VkKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gdGhpcy52aXNpYmlsaXR5T2JzZXJ2YWJsZV8uYWRkKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmlzaWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmVzdHJpY3RlZFxuICAgKi9cbiAgc2V0VmlzaWJsZV8odmlzaWJsZSkge1xuICAgIGlmICh0aGlzLnZpc2libGVfICE9IHZpc2libGUpIHtcbiAgICAgIHRoaXMudmlzaWJsZV8gPSB2aXNpYmxlO1xuICAgICAgdGhpcy52aXNpYmlsaXR5T2JzZXJ2YWJsZV8uZmlyZSh0aGlzLnZpc2libGVfKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUhUTUxCb2R5RWxlbWVudH1cbiAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAqL1xuICBnZXRCb2R5RWxlbWVudCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshSFRNTEJvZHlFbGVtZW50fSAqLyAoXG4gICAgICAodGhpcy5pZnJhbWUuY29udGVudERvY3VtZW50IHx8IHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpXG4gICAgICAgICAgLmJvZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvcmVzb3VyY2VzLWltcGwuUmVzb3VyY2VzfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UmVzb3VyY2VzXygpIHtcbiAgICByZXR1cm4gU2VydmljZXMucmVzb3VyY2VzRm9yRG9jKHRoaXMuaWZyYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGEgbWVhc3VyZS9tdXRhdGUgY3ljbGUgZW5zdXJpbmcgdGhhdCB0aGUgaWZyYW1lIGNoYW5nZSBpcyBwcm9wYWdhdGVkXG4gICAqIHRvIHRoZSByZXNvdXJjZSBtYW5hZ2VyLlxuICAgKiBAcGFyYW0ge3ttZWFzdXJlOiAoZnVuY3Rpb24oKXx1bmRlZmluZWQpLCBtdXRhdGU6IGZ1bmN0aW9uKCl9fSB0YXNrXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWVhc3VyZU11dGF0ZV8odGFzaykge1xuICAgIHJldHVybiB0aGlzLmdldFJlc291cmNlc18oKS5tZWFzdXJlTXV0YXRlRWxlbWVudCh0aGlzLmlmcmFtZSxcbiAgICAgICAgdGFzay5tZWFzdXJlIHx8IG51bGwsIHRhc2subXV0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGVudGVyRnVsbE92ZXJsYXlNb2RlKCkge1xuICAgIGNvbnN0IGFtcEFkUGFyZW50ID0gZGV2KCkuYXNzZXJ0RWxlbWVudCh0aGlzLmlmcmFtZS5wYXJlbnROb2RlKTtcblxuICAgIC8vIFNlY3VyaXR5IGFzc2VydGlvbi4gT3RoZXJ3aXNlIGFueSAzcCBmcmFtZSBjb3VsZCByZXF1ZXN0IGxpZ2hib3ggbW9kZS5cbiAgICB1c2VyKCkuYXNzZXJ0KGFtcEFkUGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnYW1wLWFkJyxcbiAgICAgICAgJ09ubHkgPGFtcC1hZD4gaXMgYWxsb3dlZCB0byBlbnRlciBsaWdodGJveCBtb2RlLicpO1xuXG4gICAgY29uc3QgYm9keVN0eWxlID0ge1xuICAgICAgJ2JhY2tncm91bmQnOiAndHJhbnNwYXJlbnQnLFxuICAgICAgJ3Bvc2l0aW9uJzogJ2Fic29sdXRlJyxcbiAgICAgICdib3R0b20nOiAnYXV0bycsXG4gICAgICAncmlnaHQnOiAnYXV0bycsXG5cbiAgICAgIC8vIFNldCBmb3IgcmVwbGFjaW5nIHdpdGggdnN5bmMgdmFsdWVzLlxuICAgICAgJ3RvcCc6ICcnLFxuICAgICAgJ2xlZnQnOiAnJyxcbiAgICAgICd3aWR0aCc6ICcnLFxuICAgICAgJ2hlaWdodCc6ICcnLFxuICAgIH07XG5cbiAgICBjb25zdCBpZnJhbWVTdHlsZSA9IHtcbiAgICAgICdwb3NpdGlvbic6ICdmaXhlZCcsXG4gICAgICAnbGVmdCc6IDAsXG4gICAgICAncmlnaHQnOiAwLFxuICAgICAgJ2JvdHRvbSc6IDAsXG4gICAgICAnd2lkdGgnOiAnMTAwdncnLFxuICAgICAgJ3RvcCc6IDAsXG4gICAgICAnaGVpZ2h0JzogJzEwMHZoJyxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMubWVhc3VyZU11dGF0ZV8oe1xuICAgICAgbWVhc3VyZTogKCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5ob3N0ID9cbiAgICAgICAgICB0aGlzLmhvc3QuZ2V0TGF5b3V0Qm94KCkgOlxuICAgICAgICAgIHRoaXMuaWZyYW1lLi8qT0sqL2dldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIE9mZnNldCBieSBzY3JvbGwgdG9wIGFzIGlmcmFtZSB3aWxsIGJlIHBvc2l0aW9uOiBmaXhlZC5cbiAgICAgICAgY29uc3QgZHkgPSAtU2VydmljZXMudmlld3BvcnRGb3JEb2ModGhpcy5pZnJhbWUpLmdldFNjcm9sbFRvcCgpO1xuICAgICAgICBjb25zdCB7dG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0fSA9IG1vdmVMYXlvdXRSZWN0KHJlY3QsIC8qIGR4ICovIDAsIGR5KTtcblxuICAgICAgICAvLyBPZmZzZXQgYm9keSBieSBoZWFkZXIgaGVpZ2h0IHRvIHByZXZlbnQgdmlzdWFsIGp1bXAuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oYm9keVN0eWxlLCB7XG4gICAgICAgICAgJ3RvcCc6IHB4KHRvcCksXG4gICAgICAgICAgJ2xlZnQnOiBweChsZWZ0KSxcbiAgICAgICAgICAnd2lkdGgnOiBweCh3aWR0aCksXG4gICAgICAgICAgJ2hlaWdodCc6IHB4KGhlaWdodCksXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG11dGF0ZTogKCkgPT4ge1xuICAgICAgICAvLyAhaW1wb3J0YW50IHRvIHByZXZlbnQgYWJ1c2UgZS5nLiBib3ggQCBsdHdoID0gMCwgMCwgMCwgMFxuICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXModGhpcy5pZnJhbWUsIGlmcmFtZVN0eWxlKTtcblxuICAgICAgICAvLyBXZSBuZWVkIHRvIG92ZXJyaWRlIHJ1bnRpbWUtbGV2ZWwgIWltcG9ydGFudCBydWxlc1xuICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXModGhpcy5nZXRCb2R5RWxlbWVudCgpLCBib2R5U3R5bGUpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGxlYXZlRnVsbE92ZXJsYXlNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLm1lYXN1cmVNdXRhdGVfKHtcbiAgICAgIG11dGF0ZTogKCkgPT4ge1xuICAgICAgICByZXNldFN0eWxlcyh0aGlzLmlmcmFtZSwgW1xuICAgICAgICAgICdwb3NpdGlvbicsXG4gICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICdyaWdodCcsXG4gICAgICAgICAgJ3RvcCcsXG4gICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgJ3dpZHRoJyxcbiAgICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gd2UncmUgbm90IHJlc2V0dGluZyBiYWNrZ3JvdW5kIGhlcmUgYXMgd2UgbmVlZCB0byBzZXQgaXQgdG9cbiAgICAgICAgLy8gdHJhbnNwYXJlbnQgcGVybWFuZW50bHkuXG4gICAgICAgIHJlc2V0U3R5bGVzKHRoaXMuZ2V0Qm9keUVsZW1lbnQoKSwgW1xuICAgICAgICAgICdwb3NpdGlvbicsXG4gICAgICAgICAgJ3RvcCcsXG4gICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICd3aWR0aCcsXG4gICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgJ3JpZ2h0JyxcbiAgICAgICAgXSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiBhbGwgY29udGVudCBlbGVtZW50c1xuICogaGF2ZSBiZWVuIGxvYWRlZCBpbiB0aGUgaW5pdGlhbGx5IHZpc2libGUgc2V0LlxuICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gKiBAcGFyYW0geyFXaW5kb3d9IGhvc3RXaW5cbiAqIEBwYXJhbSB7IS4vbGF5b3V0LXJlY3QuTGF5b3V0UmVjdERlZn0gcmVjdFxuICogQHJldHVybiB7IVByb21pc2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuQ29udGVudEluaUxvYWQoZWxlbWVudE9yQW1wRG9jLCBob3N0V2luLCByZWN0KSB7XG4gIHJldHVybiBTZXJ2aWNlcy5yZXNvdXJjZXNGb3JEb2MoZWxlbWVudE9yQW1wRG9jKVxuICAgICAgLmdldFJlc291cmNlc0luUmVjdChob3N0V2luLCByZWN0KVxuICAgICAgLnRoZW4ocmVzb3VyY2VzID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgcmVzb3VyY2VzLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgaWYgKCFFWENMVURFX0lOSV9MT0FELmluY2x1ZGVzKHIuZWxlbWVudC50YWdOYW1lKSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyLmxvYWRlZE9uY2UoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0luRmllKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhY2xvc2VzdEJ5U2VsZWN0b3IoZWxlbWVudCwgJy5pLWFtcGh0bWwtZmllJyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtHZXN0dXJlUmVjb2duaXplcn0gZnJvbSAnLi9nZXN0dXJlJztcbmltcG9ydCB7Y2FsY1ZlbG9jaXR5fSBmcm9tICcuL21vdGlvbic7XG5cblxuLyoqXG4gKiBBIFwidGFwXCIgZ2VzdHVyZS5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGNsaWVudFg6IG51bWJlcixcbiAqICAgY2xpZW50WTogbnVtYmVyXG4gKiB9fVxuICovXG5sZXQgVGFwRGVmO1xuXG5cbi8qKlxuICogUmVjb2duaXplcyBcInRhcFwiIGdlc3R1cmVzLlxuICogQGV4dGVuZHMge0dlc3R1cmVSZWNvZ25pemVyPFRhcERlZj59XG4gKi9cbmV4cG9ydCBjbGFzcyBUYXBSZWNvZ25pemVyIGV4dGVuZHMgR2VzdHVyZVJlY29nbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9nZXN0dXJlLkdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIoJ3RhcCcsIG1hbmFnZXIpO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFhfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRZXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RZXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9FdmVudFRhcmdldH0gKi9cbiAgICB0aGlzLnRhcmdldF8gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoU3RhcnQoZSkge1xuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgdGhpcy50YXJnZXRfID0gZS50YXJnZXQ7XG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5zdGFydFhfID0gdG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5zdGFydFlfID0gdG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICBjb25zdCB0b3VjaGVzID0gZS5jaGFuZ2VkVG91Y2hlcyB8fCBlLnRvdWNoZXM7XG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5sYXN0WF8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLmxhc3RZXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIGNvbnN0IGR4ID0gTWF0aC5hYnModGhpcy5sYXN0WF8gLSB0aGlzLnN0YXJ0WF8pID49IDg7XG4gICAgICBjb25zdCBkeSA9IE1hdGguYWJzKHRoaXMubGFzdFlfIC0gdGhpcy5zdGFydFlfKSA+PSA4O1xuICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hFbmQodW51c2VkRSkge1xuICAgIHRoaXMuc2lnbmFsUmVhZHkoMCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjY2VwdFN0YXJ0KCkge1xuICAgIHRoaXMuc2lnbmFsRW1pdCh7XG4gICAgICBjbGllbnRYOiB0aGlzLmxhc3RYXyxcbiAgICAgIGNsaWVudFk6IHRoaXMubGFzdFlfLFxuICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldF8sXG4gICAgfSwgbnVsbCk7XG4gICAgdGhpcy5zaWduYWxFbmQoKTtcbiAgfVxufVxuXG5cblxuLyoqXG4gKiBBIFwiZG91YmxldGFwXCIgZ2VzdHVyZS5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGNsaWVudFg6IG51bWJlcixcbiAqICAgY2xpZW50WTogbnVtYmVyXG4gKiB9fVxuICovXG5sZXQgRG91YmxldGFwRGVmO1xuXG5cbi8qKlxuICogUmVjb2duaXplcyBhIFwiZG91YmxldGFwXCIgZ2VzdHVyZS4gVGhpcyBnZXN0dXJlIHdpbGwgYmxvY2sgYSBzaW5nbGUgXCJ0YXBcIlxuICogZm9yIGFib3V0IDMwMG1zIHdoaWxlIGl0J3MgZXhwZWN0aW5nIHRoZSBzZWNvbmQgXCJ0YXBcIi5cbiAqIEBleHRlbmRzIHtHZXN0dXJlUmVjb2duaXplcjxEb3VibGV0YXBEZWY+fVxuICovXG5leHBvcnQgY2xhc3MgRG91YmxldGFwUmVjb2duaXplciBleHRlbmRzIEdlc3R1cmVSZWNvZ25pemVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZ2VzdHVyZS5HZXN0dXJlc30gbWFuYWdlclxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKCdkb3VibGV0YXAnLCBtYW5hZ2VyKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy50YXBDb3VudF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RXZlbnR9ICovXG4gICAgdGhpcy5ldmVudF8gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoU3RhcnQoZSkge1xuICAgIGlmICh0aGlzLnRhcENvdW50XyA+IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qge3RvdWNoZXN9ID0gZTtcbiAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICB0aGlzLnN0YXJ0WF8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnN0YXJ0WV8gPSB0b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB0aGlzLmxhc3RYXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMubGFzdFlfID0gdG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICBjb25zdCB7dG91Y2hlc30gPSBlO1xuICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHRoaXMubGFzdFhfID0gdG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5sYXN0WV8gPSB0b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICBjb25zdCBkeCA9IE1hdGguYWJzKHRoaXMubGFzdFhfIC0gdGhpcy5zdGFydFhfKSA+PSA4O1xuICAgICAgY29uc3QgZHkgPSBNYXRoLmFicyh0aGlzLmxhc3RZXyAtIHRoaXMuc3RhcnRZXykgPj0gODtcbiAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICB0aGlzLmFjY2VwdENhbmNlbCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaEVuZChlKSB7XG4gICAgdGhpcy50YXBDb3VudF8rKztcbiAgICBpZiAodGhpcy50YXBDb3VudF8gPCAyKSB7XG4gICAgICB0aGlzLnNpZ25hbFBlbmRpbmcoMzAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ldmVudF8gPSBlO1xuICAgICAgdGhpcy5zaWduYWxSZWFkeSgwKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjY2VwdFN0YXJ0KCkge1xuICAgIHRoaXMudGFwQ291bnRfID0gMDtcbiAgICB0aGlzLnNpZ25hbEVtaXQoe2NsaWVudFg6IHRoaXMubGFzdFhfLCBjbGllbnRZOiB0aGlzLmxhc3RZX30sIHRoaXMuZXZlbnRfKTtcbiAgICB0aGlzLnNpZ25hbEVuZCgpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRDYW5jZWwoKSB7XG4gICAgdGhpcy50YXBDb3VudF8gPSAwO1xuICB9XG59XG5cblxuXG4vKipcbiAqIEEgXCJzd2lwZS14eVwiLCBcInN3aXBlLXhcIiBvciBcInN3aXBlLXlcIiBnZXN0dXJlLiBBIG51bWJlciBvZiB0aGVzZSBnZXN0dXJlc1xuICogbWF5IGJlIGVtaXR0ZWQgZm9yIGEgc2luZ2xlIHRvdWNoIHNlcmllcy5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGZpcnN0OiBib29sZWFuLFxuICogICBsYXN0OiBib29sZWFuLFxuICogICBkZWx0YVg6IG51bWJlcixcbiAqICAgZGVsdGFZOiBudW1iZXIsXG4gKiAgIHZlbG9jaXR5WDogbnVtYmVyLFxuICogICB2ZWxvY2l0eVk6IG51bWJlclxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTd2lwZURlZjtcblxuXG4vKipcbiAqIFJlY29nbml6ZXMgc3dpcGUgZ2VzdHVyZXMuIFRoaXMgZ2VzdHVyZSB3aWxsIHlpZWxkIGFib3V0IDEwbXMgdG8gb3RoZXJcbiAqIGdlc3R1cmVzLlxuICogQGV4dGVuZHMge0dlc3R1cmVSZWNvZ25pemVyPFN3aXBlRGVmPn1cbiAqL1xuY2xhc3MgU3dpcGVSZWNvZ25pemVyIGV4dGVuZHMgR2VzdHVyZVJlY29nbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogQHBhcmFtIHshLi9nZXN0dXJlLkdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpcbiAgICogQHBhcmFtIHtib29sZWFufSB2ZXJ0XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBtYW5hZ2VyLCBob3JpeiwgdmVydCkge1xuICAgIHN1cGVyKHR5cGUsIG1hbmFnZXIpO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaG9yaXpfID0gaG9yaXo7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy52ZXJ0XyA9IHZlcnQ7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2WF8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2WV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge3RpbWV9ICovXG4gICAgdGhpcy5sYXN0VGltZV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMucHJldlRpbWVfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WV8gPSAwO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoU3RhcnQoZSkge1xuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5zdGFydFRpbWVfID0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMuc3RhcnRYXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMuc3RhcnRZXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoTW92ZShlKSB7XG4gICAgY29uc3Qge3RvdWNoZXN9ID0gZTtcbiAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBjb25zdCB7Y2xpZW50WDogeCwgY2xpZW50WTogeX0gPSB0b3VjaGVzWzBdIDtcbiAgICAgIHRoaXMubGFzdFhfID0geDtcbiAgICAgIHRoaXMubGFzdFlfID0geTtcbiAgICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgICB0aGlzLmVtaXRfKGZhbHNlLCBmYWxzZSwgZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkeCA9IE1hdGguYWJzKHggLSB0aGlzLnN0YXJ0WF8pO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGguYWJzKHkgLSB0aGlzLnN0YXJ0WV8pO1xuICAgICAgICAvLyBTd2lwZSBpcyBwZW5hbGl6ZWQgc2xpZ2h0bHkgc2luY2UgaXQncyBvbmUgb2YgdGhlIGxlYXN0IGRlbWFuZGluZ1xuICAgICAgICAvLyBnZXN0dXJlLCB0aHVzIC0xMCBpbiBzaWduYWxSZWFkeS5cbiAgICAgICAgaWYgKHRoaXMuaG9yaXpfICYmIHRoaXMudmVydF8pIHtcbiAgICAgICAgICBpZiAoZHggPj0gOCB8fCBkeSA+PSA4KSB7XG4gICAgICAgICAgICB0aGlzLnNpZ25hbFJlYWR5KC0xMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaG9yaXpfKSB7XG4gICAgICAgICAgaWYgKGR4ID49IDggJiYgZHggPiBkeSkge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxSZWFkeSgtMTApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPj0gOCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZlcnRfKSB7XG4gICAgICAgICAgaWYgKGR5ID49IDggJiYgZHkgPiBkeCkge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxSZWFkeSgtMTApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZHggPj0gOCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoRW5kKGUpIHtcbiAgICB0aGlzLmVuZF8oZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjY2VwdFN0YXJ0KCkge1xuICAgIHRoaXMuZXZlbnRpbmdfID0gdHJ1ZTtcbiAgICAvLyBSZXNldCBzdGFydCBjb29yZGluYXRlcyB0byB3aGVyZSB0aGUgZ2VzdHVyZSBiZWdhbiB0byBhdm9pZCB2aXNpYmxlXG4gICAgLy8ganVtcCwgYnV0IHByZXNlcnZlIHRoZW0gYXMgXCJwcmV2XCIgY29vcmRpbmF0ZXMgdG8gY2FsY3VsYXRlIHRoZSByaWdodFxuICAgIC8vIHZlbG9jaXR5LlxuICAgIHRoaXMucHJldlhfID0gdGhpcy5zdGFydFhfO1xuICAgIHRoaXMucHJldllfID0gdGhpcy5zdGFydFlfO1xuICAgIHRoaXMucHJldlRpbWVfID0gdGhpcy5zdGFydFRpbWVfO1xuICAgIHRoaXMuc3RhcnRYXyA9IHRoaXMubGFzdFhfO1xuICAgIHRoaXMuc3RhcnRZXyA9IHRoaXMubGFzdFlfO1xuICAgIHRoaXMuZW1pdF8odHJ1ZSwgZmFsc2UsIG51bGwpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRDYW5jZWwoKSB7XG4gICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpcnN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbGFzdFxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVtaXRfKGZpcnN0LCBsYXN0LCBldmVudCkge1xuICAgIHRoaXMubGFzdFRpbWVfID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBkZWx0YVRpbWUgPSB0aGlzLmxhc3RUaW1lXyAtIHRoaXMucHJldlRpbWVfO1xuICAgIC8vIEl0J3Mgb2Z0ZW4gdGhhdCBgdG91Y2hlbmRgIGFycml2ZXMgb24gdGhlIG5leHQgZnJhbWUuIFRoZXNlIHNob3VsZFxuICAgIC8vIGJlIGlnbm9yZWQgdG8gYXZvaWQgYSBzaWduaWZpY2FudCB2ZWxvY2l0eSBkb3duZ3JhZGUuXG4gICAgaWYgKCghbGFzdCAmJiBkZWx0YVRpbWUgPiA0KSB8fCAobGFzdCAmJiBkZWx0YVRpbWUgPiAxNikpIHtcbiAgICAgIHRoaXMudmVsb2NpdHlYXyA9IGNhbGNWZWxvY2l0eSh0aGlzLmxhc3RYXyAtIHRoaXMucHJldlhfLCBkZWx0YVRpbWUsXG4gICAgICAgICAgdGhpcy52ZWxvY2l0eVhfKTtcbiAgICAgIHRoaXMudmVsb2NpdHlZXyA9IGNhbGNWZWxvY2l0eSh0aGlzLmxhc3RZXyAtIHRoaXMucHJldllfLCBkZWx0YVRpbWUsXG4gICAgICAgICAgdGhpcy52ZWxvY2l0eVlfKTtcbiAgICAgIHRoaXMudmVsb2NpdHlYXyA9IE1hdGguYWJzKHRoaXMudmVsb2NpdHlYXykgPiAxZS00ID8gdGhpcy52ZWxvY2l0eVhfIDogMDtcbiAgICAgIHRoaXMudmVsb2NpdHlZXyA9IE1hdGguYWJzKHRoaXMudmVsb2NpdHlZXykgPiAxZS00ID8gdGhpcy52ZWxvY2l0eVlfIDogMDtcbiAgICAgIHRoaXMucHJldlhfID0gdGhpcy5sYXN0WF87XG4gICAgICB0aGlzLnByZXZZXyA9IHRoaXMubGFzdFlfO1xuICAgICAgdGhpcy5wcmV2VGltZV8gPSB0aGlzLmxhc3RUaW1lXztcbiAgICB9XG5cbiAgICB0aGlzLnNpZ25hbEVtaXQoe1xuICAgICAgZmlyc3QsXG4gICAgICBsYXN0LFxuICAgICAgdGltZTogdGhpcy5sYXN0VGltZV8sXG4gICAgICBkZWx0YVg6IHRoaXMuaG9yaXpfID8gdGhpcy5sYXN0WF8gLSB0aGlzLnN0YXJ0WF8gOiAwLFxuICAgICAgZGVsdGFZOiB0aGlzLnZlcnRfID8gdGhpcy5sYXN0WV8gLSB0aGlzLnN0YXJ0WV8gOiAwLFxuICAgICAgc3RhcnRYOiB0aGlzLnN0YXJ0WF8sXG4gICAgICBzdGFydFk6IHRoaXMuc3RhcnRZXyxcbiAgICAgIGxhc3RYOiB0aGlzLmxhc3RYXyxcbiAgICAgIGxhc3RZOiB0aGlzLmxhc3RZXyxcbiAgICAgIHZlbG9jaXR5WDogdGhpcy5ob3Jpel8gPyB0aGlzLnZlbG9jaXR5WF8gOiAwLFxuICAgICAgdmVsb2NpdHlZOiB0aGlzLnZlcnRfID8gdGhpcy52ZWxvY2l0eVlfIDogMCxcbiAgICB9LCBldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/RXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbmRfKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZXZlbnRpbmdfKSB7XG4gICAgICB0aGlzLmV2ZW50aW5nXyA9IGZhbHNlO1xuICAgICAgdGhpcy5lbWl0XyhmYWxzZSwgdHJ1ZSwgZXZlbnQpO1xuICAgICAgdGhpcy5zaWduYWxFbmQoKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFJlY29nbml6ZXMgXCJzd2lwZS14eVwiIGdlc3R1cmUuIFlpZWxkcyBhYm91dCAxMG1zIHRvIG90aGVyIGdlc3R1cmVzLlxuICovXG5leHBvcnQgY2xhc3MgU3dpcGVYWVJlY29nbml6ZXIgZXh0ZW5kcyBTd2lwZVJlY29nbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9nZXN0dXJlLkdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIoJ3N3aXBlLXh5JywgbWFuYWdlciwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFJlY29nbml6ZXMgXCJzd2lwZS14XCIgZ2VzdHVyZS4gWWllbGRzIGFib3V0IDEwbXMgdG8gb3RoZXIgZ2VzdHVyZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTd2lwZVhSZWNvZ25pemVyIGV4dGVuZHMgU3dpcGVSZWNvZ25pemVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZ2VzdHVyZS5HZXN0dXJlc30gbWFuYWdlclxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKCdzd2lwZS14JywgbWFuYWdlciwgdHJ1ZSwgZmFsc2UpO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZWNvZ25pemVzIFwic3dpcGUteVwiIGdlc3R1cmUuIFlpZWxkcyBhYm91dCAxMG1zIHRvIG90aGVyIGdlc3R1cmVzLlxuICovXG5leHBvcnQgY2xhc3MgU3dpcGVZUmVjb2duaXplciBleHRlbmRzIFN3aXBlUmVjb2duaXplciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2dlc3R1cmUuR2VzdHVyZXN9IG1hbmFnZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICBzdXBlcignc3dpcGUteScsIG1hbmFnZXIsIGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuXG5cblxuLyoqXG4gKiBBIFwidGFwem9vbVwiIGdlc3R1cmUuIEl0IGhhcyBhIGNlbnRlciwgZGVsdGEgb2ZmIHRoZSBjZW50ZXIgY2VudGVyIGFuZFxuICogdGhlIHZlbG9jaXR5IG9mIG1vdmluZyBhd2F5IGZyb20gdGhlIGNlbnRlci5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGZpcnN0OiBib29sZWFuLFxuICogICBsYXN0OiBib29sZWFuLFxuICogICBjZW50ZXJDbGllbnRYOiBudW1iZXIsXG4gKiAgIGNlbnRlckNsaWVudFk6IG51bWJlcixcbiAqICAgZGVsdGFYOiBudW1iZXIsXG4gKiAgIGRlbHRhWTogbnVtYmVyLFxuICogICB2ZWxvY2l0eVg6IG51bWJlcixcbiAqICAgdmVsb2NpdHlZOiBudW1iZXJcbiAqIH19XG4gKi9cbmxldCBUYXB6b29tRGVmO1xuXG5cbi8qKlxuICogUmVjb2duaXplcyBhIFwidGFwem9vbVwiIGdlc3R1cmUuIFRoaXMgZ2VzdHVyZSB3aWxsIGJsb2NrIG90aGVyIGdlc3R1cmVzXG4gKiBmb3IgYWJvdXQgNDAwbXMgYWZ0ZXIgZmlyc3QgXCJ0YXBcIiB3aGlsZSBpdCdzIGV4cGVjdGluZyBzd2lwZS5cbiAqIEBleHRlbmRzIHtHZXN0dXJlUmVjb2duaXplcjxUYXB6b29tRGVmPn1cbiAqL1xuZXhwb3J0IGNsYXNzIFRhcHpvb21SZWNvZ25pemVyIGV4dGVuZHMgR2VzdHVyZVJlY29nbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9nZXN0dXJlLkdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIoJ3RhcHpvb20nLCBtYW5hZ2VyKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmV2ZW50aW5nXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFhfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc3RhcnRZXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxhc3RZXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnRhcENvdW50XyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnByZXZYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnByZXZZXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge3RpbWV9ICovXG4gICAgdGhpcy5sYXN0VGltZV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHt0aW1lfSAqL1xuICAgIHRoaXMucHJldlRpbWVfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlYXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WV8gPSAwO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoU3RhcnQoZSkge1xuICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB7dG91Y2hlc30gPSBlO1xuICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHRoaXMuc3RhcnRYXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMuc3RhcnRZXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblRvdWNoTW92ZShlKSB7XG4gICAgY29uc3Qge3RvdWNoZXN9ID0gZTtcbiAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICB0aGlzLmxhc3RYXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMubGFzdFlfID0gdG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgaWYgKHRoaXMuZXZlbnRpbmdfKSB7XG4gICAgICAgIHRoaXMuZW1pdF8oZmFsc2UsIGZhbHNlLCBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGR4ID0gTWF0aC5hYnModGhpcy5sYXN0WF8gLSB0aGlzLnN0YXJ0WF8pID49IDg7XG4gICAgICAgIGNvbnN0IGR5ID0gTWF0aC5hYnModGhpcy5sYXN0WV8gLSB0aGlzLnN0YXJ0WV8pID49IDg7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgIGlmICh0aGlzLnRhcENvdW50XyA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFjY2VwdENhbmNlbCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpZ25hbFJlYWR5KDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hFbmQoZSkge1xuICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgdGhpcy5lbmRfKGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudGFwQ291bnRfKys7XG4gICAgaWYgKHRoaXMudGFwQ291bnRfID09IDEpIHtcbiAgICAgIHRoaXMuc2lnbmFsUGVuZGluZyg0MDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYWNjZXB0Q2FuY2VsKCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjY2VwdFN0YXJ0KCkge1xuICAgIHRoaXMudGFwQ291bnRfID0gMDtcbiAgICB0aGlzLmV2ZW50aW5nXyA9IHRydWU7XG4gICAgdGhpcy5lbWl0Xyh0cnVlLCBmYWxzZSwgbnVsbCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjY2VwdENhbmNlbCgpIHtcbiAgICB0aGlzLnRhcENvdW50XyA9IDA7XG4gICAgdGhpcy5ldmVudGluZ18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpcnN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbGFzdFxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVtaXRfKGZpcnN0LCBsYXN0LCBldmVudCkge1xuICAgIHRoaXMubGFzdFRpbWVfID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoZmlyc3QpIHtcbiAgICAgIHRoaXMudmVsb2NpdHlYXyA9IHRoaXMudmVsb2NpdHlZXyA9IDA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmxhc3RUaW1lXyAtIHRoaXMucHJldlRpbWVfID4gMikge1xuICAgICAgdGhpcy52ZWxvY2l0eVhfID0gY2FsY1ZlbG9jaXR5KHRoaXMubGFzdFhfIC0gdGhpcy5wcmV2WF8sXG4gICAgICAgICAgdGhpcy5sYXN0VGltZV8gLSB0aGlzLnByZXZUaW1lXywgdGhpcy52ZWxvY2l0eVhfKTtcbiAgICAgIHRoaXMudmVsb2NpdHlZXyA9IGNhbGNWZWxvY2l0eSh0aGlzLmxhc3RZXyAtIHRoaXMucHJldllfLFxuICAgICAgICAgIHRoaXMubGFzdFRpbWVfIC0gdGhpcy5wcmV2VGltZV8sIHRoaXMudmVsb2NpdHlZXyk7XG4gICAgfVxuICAgIHRoaXMucHJldlhfID0gdGhpcy5sYXN0WF87XG4gICAgdGhpcy5wcmV2WV8gPSB0aGlzLmxhc3RZXztcbiAgICB0aGlzLnByZXZUaW1lXyA9IHRoaXMubGFzdFRpbWVfO1xuXG4gICAgdGhpcy5zaWduYWxFbWl0KHtcbiAgICAgIGZpcnN0LFxuICAgICAgbGFzdCxcbiAgICAgIGNlbnRlckNsaWVudFg6IHRoaXMuc3RhcnRYXyxcbiAgICAgIGNlbnRlckNsaWVudFk6IHRoaXMuc3RhcnRZXyxcbiAgICAgIGRlbHRhWDogdGhpcy5sYXN0WF8gLSB0aGlzLnN0YXJ0WF8sXG4gICAgICBkZWx0YVk6IHRoaXMubGFzdFlfIC0gdGhpcy5zdGFydFlfLFxuICAgICAgdmVsb2NpdHlYOiB0aGlzLnZlbG9jaXR5WF8sXG4gICAgICB2ZWxvY2l0eVk6IHRoaXMudmVsb2NpdHlZXyxcbiAgICB9LCBldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/RXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbmRfKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZXZlbnRpbmdfKSB7XG4gICAgICB0aGlzLmV2ZW50aW5nXyA9IGZhbHNlO1xuICAgICAgdGhpcy5lbWl0XyhmYWxzZSwgdHJ1ZSwgZXZlbnQpO1xuICAgICAgdGhpcy5zaWduYWxFbmQoKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8qKlxuICogQSBcInBpbmNoXCIgZ2VzdHVyZS4gSXQgaGFzIGEgY2VudGVyLCBkZWx0YSBvZmYgdGhlIGNlbnRlciBjZW50ZXIgYW5kXG4gKiB0aGUgdmVsb2NpdHkgb2YgbW92aW5nIGF3YXkgZnJvbSB0aGUgY2VudGVyLiBcImRpclwiIGNvbXBvbmVudCBvZiBgMWBcbiAqIGluZGljYXRlcyB0aGF0IGl0J3MgYSBleHBhbmQgbW90aW9uIGFuZCBgLTFgIGluZGljYXRlcyBwaW5jaCBtb3Rpb24uXG4gKiBAdHlwZWRlZiB7e1xuICogICBmaXJzdDogYm9vbGVhbixcbiAqICAgbGFzdDogYm9vbGVhbixcbiAqICAgY2VudGVyQ2xpZW50WDogbnVtYmVyLFxuICogICBjZW50ZXJDbGllbnRZOiBudW1iZXIsXG4gKiAgIGRpcjogbnVtYmVyLFxuICogICBkZWx0YVg6IG51bWJlcixcbiAqICAgZGVsdGFZOiBudW1iZXIsXG4gKiAgIHZlbG9jaXR5WDogbnVtYmVyLFxuICogICB2ZWxvY2l0eVk6IG51bWJlclxuICogfX1cbiAqL1xubGV0IFBpbmNoRGVmO1xuXG4vKipcbiAqIFRocmVzaG9sZCBpbiBwaXhlbHMgZm9yIGhvdyBtdWNoIHR3byB0b3VjaGVzIG1vdmUgYXdheSBmcm9tXG4gKiBlYWNoIG90aGVyIGJlZm9yZSB3ZSByZWNvZ25pemUgdGhlIGdlc3R1cmUgYXMgYSBwaW5jaC5cbiAqL1xuY29uc3QgUElOQ0hfQUNDRVBUX1RIUkVTSE9MRCA9IDQ7XG5cbi8qKlxuICogVGhyZXNob2xkIGluIHBpeGVscyBmb3IgaG93IG11Y2ggdHdvIHRvdWNoZXMgbW92ZSBpbiB0aGUgc2FtZVxuICogZGlyZWN0aW9uIGJlZm9yZSB3ZSByZWplY3QgdGhlIGdlc3R1cmUgYXMgYSBwaW5jaC5cbiAqL1xuY29uc3QgUElOQ0hfUkVKRUNUX1RIUkVTSE9MRCA9IDEwO1xuXG4vKipcbiAqIFJlY29nbml6ZXMgYSBcInBpbmNoXCIgZ2VzdHVyZS5cbiAqIEBleHRlbmRzIHtHZXN0dXJlUmVjb2duaXplcjxQaW5jaERlZj59XG4gKi9cbmV4cG9ydCBjbGFzcyBQaW5jaFJlY29nbml6ZXIgZXh0ZW5kcyBHZXN0dXJlUmVjb2duaXplciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2dlc3R1cmUuR2VzdHVyZXN9IG1hbmFnZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICBzdXBlcigncGluY2gnLCBtYW5hZ2VyKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmV2ZW50aW5nXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFgxXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGFydFkxXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WDJfID0gMDtcbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnN0YXJ0WTJfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFgxXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WTFfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFgyXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WTJfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMucHJldkRlbHRhWF8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMucHJldkRlbHRhWV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5jZW50ZXJDbGllbnRYXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5jZW50ZXJDbGllbnRZXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge3RpbWV9ICovXG4gICAgdGhpcy5zdGFydFRpbWVfID0gMDtcbiAgICAvKiogQHByaXZhdGUge3RpbWV9ICovXG4gICAgdGhpcy5sYXN0VGltZV8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7dGltZX0gKi9cbiAgICB0aGlzLnByZXZUaW1lXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5WF8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlZXyA9IDA7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uVG91Y2hTdGFydChlKSB7XG4gICAgY29uc3Qge3RvdWNoZXN9ID0gZTtcbiAgICAvLyBQaW5jaCB0b3VjaGVzIGFyZSBub3QgYWx3YXlzIHNpbXVsdGFuZW91cywgY29udGludWUgdG8gbGlzdGVuXG4gICAgLy8gZm9yIHNlY29uZCB0b3VjaC5cbiAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMikge1xuICAgICAgdGhpcy5zdGFydFRpbWVfID0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMuc3RhcnRYMV8gPSB0b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnN0YXJ0WTFfID0gdG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgdGhpcy5zdGFydFgyXyA9IHRvdWNoZXNbMV0uY2xpZW50WDtcbiAgICAgIHRoaXMuc3RhcnRZMl8gPSB0b3VjaGVzWzFdLmNsaWVudFk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaE1vdmUoZSkge1xuICAgIGNvbnN0IHt0b3VjaGVzfSA9IGU7XG4gICAgLy8gUGluY2ggdG91Y2hlcyBhcmUgbm90IGFsd2F5cyBzaW11bHRhbmVvdXMsIGNvbnRpbnVlIHRvIGxpc3RlblxuICAgIC8vIGZvciBzZWNvbmQgdG91Y2guXG4gICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDIpIHtcbiAgICAgIHRoaXMubGFzdFgxXyA9IHRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMubGFzdFkxXyA9IHRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHRoaXMubGFzdFgyXyA9IHRvdWNoZXNbMV0uY2xpZW50WDtcbiAgICAgIHRoaXMubGFzdFkyXyA9IHRvdWNoZXNbMV0uY2xpZW50WTtcbiAgICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgICB0aGlzLmVtaXRfKGZhbHNlLCBmYWxzZSwgZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkeDEgPSB0aGlzLmxhc3RYMV8gLSB0aGlzLnN0YXJ0WDFfO1xuICAgICAgICBjb25zdCBkeTEgPSB0aGlzLmxhc3RZMV8gLSB0aGlzLnN0YXJ0WTFfO1xuICAgICAgICBjb25zdCBkeDIgPSB0aGlzLmxhc3RYMl8gLSB0aGlzLnN0YXJ0WDJfO1xuICAgICAgICBjb25zdCBkeTIgPSB0aGlzLmxhc3RZMl8gLSB0aGlzLnN0YXJ0WTJfO1xuICAgICAgICAvLyBGaW5nZXJzIHNob3VsZCBtb3ZlIGluIG9wcG9zaXRlIGRpcmVjdGlvbnMgYW5kIGdvIG92ZXIgdGhlIHRocmVzaG9sZC5cbiAgICAgICAgaWYgKGR4MSAqIGR4MiA8PSAwICYmIGR5MSAqIGR5MiA8PSAwKSB7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKGR4MSAtIGR4MikgPj0gUElOQ0hfQUNDRVBUX1RIUkVTSE9MRFxuICAgICAgICAgICAgfHwgTWF0aC5hYnMoZHkxIC0gZHkyKSA+PSBQSU5DSF9BQ0NFUFRfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICB0aGlzLnNpZ25hbFJlYWR5KDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkeDEgKyBkeDIpID49IFBJTkNIX1JFSkVDVF9USFJFU0hPTERcbiAgICAgICAgICB8fCBNYXRoLmFicyhkeTEgKyBkeTIpID49IFBJTkNIX1JFSkVDVF9USFJFU0hPTEQpIHtcbiAgICAgICAgICAvLyBNb3ZpbmcgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIG92ZXIgYSB0aHJlc2hvbGQuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Ub3VjaEVuZChlKSB7XG4gICAgdGhpcy5lbmRfKGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY2NlcHRTdGFydCgpIHtcbiAgICB0aGlzLmV2ZW50aW5nXyA9IHRydWU7XG4gICAgdGhpcy5wcmV2VGltZV8gPSB0aGlzLnN0YXJ0VGltZV87XG4gICAgdGhpcy5wcmV2RGVsdGFYXyA9IDA7XG4gICAgdGhpcy5wcmV2RGVsdGFZXyA9IDA7XG4gICAgdGhpcy5jZW50ZXJDbGllbnRYXyA9ICh0aGlzLnN0YXJ0WDFfICsgdGhpcy5zdGFydFgyXykgKiAwLjU7XG4gICAgdGhpcy5jZW50ZXJDbGllbnRZXyA9ICh0aGlzLnN0YXJ0WTFfICsgdGhpcy5zdGFydFkyXykgKiAwLjU7XG4gICAgdGhpcy5lbWl0Xyh0cnVlLCBmYWxzZSwgbnVsbCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFjY2VwdENhbmNlbCgpIHtcbiAgICB0aGlzLmV2ZW50aW5nXyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlyc3RcbiAgICogQHBhcmFtIHtib29sZWFufSBsYXN0XG4gICAqIEBwYXJhbSB7P0V2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW1pdF8oZmlyc3QsIGxhc3QsIGV2ZW50KSB7XG4gICAgdGhpcy5sYXN0VGltZV8gPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGRlbHRhVGltZSA9IHRoaXMubGFzdFRpbWVfIC0gdGhpcy5wcmV2VGltZV87XG4gICAgY29uc3QgZGVsdGFYID0gdGhpcy5kZWx0YVhfKCk7XG4gICAgY29uc3QgZGVsdGFZID0gdGhpcy5kZWx0YVlfKCk7XG4gICAgLy8gSXQncyBvZnRlbiB0aGF0IGB0b3VjaGVuZGAgYXJyaXZlcyBvbiB0aGUgbmV4dCBmcmFtZS4gVGhlc2Ugc2hvdWxkXG4gICAgLy8gYmUgaWdub3JlZCB0byBhdm9pZCBhIHNpZ25pZmljYW50IHZlbG9jaXR5IGRvd25ncmFkZS5cbiAgICBpZiAoKCFsYXN0ICYmIGRlbHRhVGltZSA+IDQpIHx8IChsYXN0ICYmIGRlbHRhVGltZSA+IDE2KSkge1xuICAgICAgdGhpcy52ZWxvY2l0eVhfID0gY2FsY1ZlbG9jaXR5KGRlbHRhWCAtIHRoaXMucHJldkRlbHRhWF8sIGRlbHRhVGltZSxcbiAgICAgICAgICB0aGlzLnZlbG9jaXR5WF8pO1xuICAgICAgdGhpcy52ZWxvY2l0eVlfID0gY2FsY1ZlbG9jaXR5KGRlbHRhWSAtIHRoaXMucHJldkRlbHRhWV8sIGRlbHRhVGltZSxcbiAgICAgICAgICB0aGlzLnZlbG9jaXR5WV8pO1xuICAgICAgdGhpcy52ZWxvY2l0eVhfID0gTWF0aC5hYnModGhpcy52ZWxvY2l0eVhfKSA+IDFlLTQgPyB0aGlzLnZlbG9jaXR5WF8gOiAwO1xuICAgICAgdGhpcy52ZWxvY2l0eVlfID0gTWF0aC5hYnModGhpcy52ZWxvY2l0eVlfKSA+IDFlLTQgPyB0aGlzLnZlbG9jaXR5WV8gOiAwO1xuICAgICAgdGhpcy5wcmV2RGVsdGFYXyA9IGRlbHRhWDtcbiAgICAgIHRoaXMucHJldkRlbHRhWV8gPSBkZWx0YVk7XG4gICAgICB0aGlzLnByZXZUaW1lXyA9IHRoaXMubGFzdFRpbWVfO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0U3EgPSB0aGlzLnNxRGlzdF8odGhpcy5zdGFydFgxXywgdGhpcy5zdGFydFgyXyxcbiAgICAgICAgdGhpcy5zdGFydFkxXywgdGhpcy5zdGFydFkyXyk7XG4gICAgY29uc3QgbGFzdFNxID0gdGhpcy5zcURpc3RfKHRoaXMubGFzdFgxXywgdGhpcy5sYXN0WDJfLFxuICAgICAgICB0aGlzLmxhc3RZMV8sIHRoaXMubGFzdFkyXyk7XG4gICAgdGhpcy5zaWduYWxFbWl0KHtcbiAgICAgIGZpcnN0LFxuICAgICAgbGFzdCxcbiAgICAgIHRpbWU6IHRoaXMubGFzdFRpbWVfLFxuICAgICAgY2VudGVyQ2xpZW50WDogdGhpcy5jZW50ZXJDbGllbnRYXyxcbiAgICAgIGNlbnRlckNsaWVudFk6IHRoaXMuY2VudGVyQ2xpZW50WV8sXG4gICAgICBkaXI6IE1hdGguc2lnbihsYXN0U3EgLSBzdGFydFNxKSxcbiAgICAgIGRlbHRhWDogZGVsdGFYICogMC41LFxuICAgICAgZGVsdGFZOiBkZWx0YVkgKiAwLjUsXG4gICAgICB2ZWxvY2l0eVg6IHRoaXMudmVsb2NpdHlYXyAqIDAuNSxcbiAgICAgIHZlbG9jaXR5WTogdGhpcy52ZWxvY2l0eVlfICogMC41LFxuICAgIH0sIGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVuZF8oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgIHRoaXMuZXZlbnRpbmdfID0gZmFsc2U7XG4gICAgICB0aGlzLmVtaXRfKGZhbHNlLCB0cnVlLCBldmVudCk7XG4gICAgICB0aGlzLnNpZ25hbEVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHgyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5MVxuICAgKiBAcGFyYW0ge251bWJlcn0geTJcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3FEaXN0Xyh4MSwgeDIsIHkxLCB5Mikge1xuICAgIHJldHVybiAoeDEgLSB4MikgKiAoeDEgLSB4MikgKyAoeTEgLSB5MikgKiAoeTEgLSB5Mik7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVsdGFYXygpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoKHRoaXMubGFzdFgxXyAtIHRoaXMuc3RhcnRYMV8pIC1cbiAgICAgICAgKHRoaXMubGFzdFgyXyAtIHRoaXMuc3RhcnRYMl8pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWx0YVlfKCkge1xuICAgIHJldHVybiBNYXRoLmFicygodGhpcy5sYXN0WTFfIC0gdGhpcy5zdGFydFkxXykgLVxuICAgICAgICAodGhpcy5sYXN0WTJfIC0gdGhpcy5zdGFydFkyXykpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICcuL29ic2VydmFibGUnO1xuaW1wb3J0IHtQYXNzfSBmcm9tICcuL3Bhc3MnO1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4vbG9nJztcbmltcG9ydCB7ZmluZEluZGV4fSBmcm9tICcuL3V0aWxzL2FycmF5JztcbmltcG9ydCB7dG9XaW59IGZyb20gJy4vdHlwZXMnO1xuXG5cbmNvbnN0IFBST1BfID0gJ19fQU1QX0dlc3R1cmVzJztcblxuXG4vKipcbiAqIEEgZ2VzdHVyZSBvYmplY3QgY29udGFpbnMgdGhlIHR5cGUgYW5kIGRhdGEgb2YgdGhlIGdlc3R1cmUgc3VjaCBhc1xuICogYSB0YXAgb3IgYSBkb3VibGUtdGFwIG9yIGEgc3dpcGUuIFNlZSB7QGxpbmsgR2VzdHVyZVJlY29nbml6ZXJ9IGZvclxuICogbW9yZSBkZXRhaWxzLlxuICogQHN0cnVjdFxuICogQGNvbnN0XG4gKiBAdGVtcGxhdGUgREFUQVxuICovXG5leHBvcnQgY2xhc3MgR2VzdHVyZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZ2VzdHVyZSdzIHN0cmluZyB0eXBlLlxuICAgKiBAcGFyYW0ge0RBVEF9IGRhdGEgVGhlIGRhdGEgb2YgdGhlIGdlc3R1cmUuXG4gICAqIEBwYXJhbSB7dGltZX0gdGltZSBUaGUgdGltZSB0aGF0IHRoZSBnZXN0dXJlIGhhcyBiZWVuIGVtaXR0ZWQuXG4gICAqIEBwYXJhbSB7P0V2ZW50fSBldmVudCBBbiBvcHRpb25hbCBicm93c2VyIGV2ZW50IHRoYXQgcmVzdWx0ZWQgaW4gdGhlXG4gICAqICAgZ2VzdHVyZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIGRhdGEsIHRpbWUsIGV2ZW50KSB7XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgLyoqIEBjb25zdCB7REFUQX0gKi9cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIC8qKiBAY29uc3Qge3RpbWV9ICovXG4gICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAvKiogQGNvbnN0IHs/RXZlbnR9ICovXG4gICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICB9XG59XG5cblxuLyoqXG4gKiBHZXN0dXJlcyBvYmplY3QgbWFuYWdlcyBhbGwgZ2VzdHVyZXMgb24gYSBwYXJ0aWN1bGFyIGVsZW1lbnQuIEl0IGxpc3RlbnNcbiAqIHRvIGFsbCBwb2ludGVyIGV2ZW50cyBhbmQgZGVsZWdhdGVzIHRoZW0gdG8gaW5kaXZpZHVhbCBnZXN0dXJlIHJlY29nbml6ZXJzLlxuICogV2hlbiBhIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlIGFuZCByZWFkeSB0byBzdGFydCBlbWl0dGluZyBpdFxuICogaXQgcmVxdWVzdHMgcGVybWlzc2lvbiB0byBkbyBzbyBmcm9tIHRoaXMgY2xhc3Mgd2hpY2ggcmVzb2x2ZXMgY29uZmxpY3RzXG4gKiBiZXR3ZWVuIGNvbXBldGluZyByZWNvZ25pemVycyB0byBkZWNpZGUgd2hpY2ggZ2VzdHVyZSBzaG91bGQgZ28gZm9yd2FyZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEdlc3R1cmVzIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBpZiBub3QgeWV0IGNyZWF0ZWQgYW5kIHJldHVybnMgdGhlIHNoYXJlZCBHZXN0dXJlcyBpbnN0YW5jZSBmb3JcbiAgICogdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9zaG91bGROb3RQcmV2ZW50RGVmYXVsdFxuICAgKiBAcmV0dXJuIHshR2VzdHVyZXN9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGVsZW1lbnQsIG9wdF9zaG91bGROb3RQcmV2ZW50RGVmYXVsdCA9IGZhbHNlKSB7XG4gICAgbGV0IHJlcyA9IGVsZW1lbnRbUFJPUF9dO1xuICAgIGlmICghcmVzKSB7XG4gICAgICByZXMgPSBuZXcgR2VzdHVyZXMoZWxlbWVudCwgb3B0X3Nob3VsZE5vdFByZXZlbnREZWZhdWx0KTtcbiAgICAgIGVsZW1lbnRbUFJPUF9dID0gcmVzO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBzaG91bGROb3RQcmV2ZW50RGVmYXVsdFxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCwgc2hvdWxkTm90UHJldmVudERlZmF1bHQpIHtcbiAgICAvKiogQHByaXZhdGUgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuXG4gICAgLyoqIEBwcml2YXRlIHshQXJyYXk8IUdlc3R1cmVSZWNvZ25pemVyPn0gKi9cbiAgICB0aGlzLnJlY29nbml6ZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQXJyYXk8Ym9vbGVhbj59ICovXG4gICAgdGhpcy50cmFja2luZ18gPSBbXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PHRpbWU+fSAqL1xuICAgIHRoaXMucmVhZHlfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgeyFBcnJheTx0aW1lPn0gKi9cbiAgICB0aGlzLnBlbmRpbmdfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgez9HZXN0dXJlUmVjb2duaXplcn0gKi9cbiAgICB0aGlzLmV2ZW50aW5nXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5zaG91bGROb3RQcmV2ZW50RGVmYXVsdF8gPSBzaG91bGROb3RQcmV2ZW50RGVmYXVsdDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgdmFyaWFibGUgaW5kaWNhdGVzIHRoYXQgdGhlIGV2ZW50aW5nIGhhcyBzdG9wcGVkIG9uIHRoaXNcbiAgICAgKiBldmVudCBjeWNsZS5cbiAgICAgKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLndhc0V2ZW50aW5nXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHshUGFzc30gKi9cbiAgICB0aGlzLnBhc3NfID0gbmV3IFBhc3ModG9XaW4oZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSxcbiAgICAgICAgdGhpcy5kb1Bhc3NfLmJpbmQodGhpcykpO1xuXG4gICAgLyoqIEBwcml2YXRlIHshT2JzZXJ2YWJsZX0gKi9cbiAgICB0aGlzLnBvaW50ZXJEb3duT2JzZXJ2YWJsZV8gPSBuZXcgT2JzZXJ2YWJsZSgpO1xuXG4gICAgLyoqXG4gICAgICogT2JzZXJ2ZXJzIGZvciBlYWNoIHR5cGUgb2YgcmVnaXN0ZXJlZCBnZXN0dXJlIHR5cGVzLlxuICAgICAqIEBwcml2YXRlIHshT2JqZWN0PHN0cmluZywgIU9ic2VydmFibGU8IUdlc3R1cmU+Pn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJzZXJ2ZXJzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbighRXZlbnQpfSAqL1xuICAgIHRoaXMuYm91bmRPblRvdWNoU3RhcnRfID0gdGhpcy5vblRvdWNoU3RhcnRfLmJpbmQodGhpcyk7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7ZnVuY3Rpb24oIUV2ZW50KX0gKi9cbiAgICB0aGlzLmJvdW5kT25Ub3VjaEVuZF8gPSB0aGlzLm9uVG91Y2hFbmRfLmJpbmQodGhpcyk7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7ZnVuY3Rpb24oIUV2ZW50KX0gKi9cbiAgICB0aGlzLmJvdW5kT25Ub3VjaE1vdmVfID0gdGhpcy5vblRvdWNoTW92ZV8uYmluZCh0aGlzKTtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbighRXZlbnQpfSAqL1xuICAgIHRoaXMuYm91bmRPblRvdWNoQ2FuY2VsXyA9IHRoaXMub25Ub3VjaENhbmNlbF8uYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuYm91bmRPblRvdWNoU3RhcnRfKTtcbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5ib3VuZE9uVG91Y2hFbmRfKTtcbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuYm91bmRPblRvdWNoTW92ZV8pO1xuICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLmJvdW5kT25Ub3VjaENhbmNlbF8pO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMucGFzc0FmdGVyRXZlbnRfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmVzIGZyb20gYWxsIHBvaW50ZXIgZXZlbnRzIGFuZCByZW1vdmVzIHRoZSBzaGFyZWQgY2FjaGUgaW5zdGFuY2UuXG4gICAqL1xuICBjbGVhbnVwKCkge1xuICAgIHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuYm91bmRPblRvdWNoU3RhcnRfKTtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5ib3VuZE9uVG91Y2hFbmRfKTtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuYm91bmRPblRvdWNoTW92ZV8pO1xuICAgIHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLmJvdW5kT25Ub3VjaENhbmNlbF8pO1xuICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnRfW1BST1BfXTtcbiAgICB0aGlzLnBhc3NfLmNhbmNlbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZXMgdG8gYSBnZXN0dXJlIGVtaXR0ZWQgYnkgdGhlIHNwZWNpZmllZCByZWNvZ25pemVyLiBGb3IgYSBmaXJzdFxuICAgKiBnZXN0dXJlIGhhbmRsZXIgcmVnaXN0ZXJlZCBpbiB0aGlzIG1ldGhvZCB0aGUgcmVjb2duaXplciBpcyBpbnN0YWxsZWRcbiAgICogYW5kIGZyb20gdGhhdCBwb2ludCBvbiBpdCBwYXJ0aWNpcGF0ZXMgaW4gdGhlIGV2ZW50IHByb2Nlc3NpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Okdlc3R1cmVSZWNvZ25pemVyPERBVEE+LCAhR2VzdHVyZXMpfSByZWNvZ25pemVyQ29uc3RyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUdlc3R1cmU8REFUQT4pfSBoYW5kbGVyXG4gICAqIEByZXR1cm4geyFVbmxpc3RlbkRlZn1cbiAgICogQHRlbXBsYXRlIERBVEFcbiAgICovXG4gIG9uR2VzdHVyZShyZWNvZ25pemVyQ29uc3RyLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgcmVjb2duaXplciA9IG5ldyByZWNvZ25pemVyQ29uc3RyKHRoaXMpO1xuICAgIGNvbnN0IHR5cGUgPSByZWNvZ25pemVyLmdldFR5cGUoKTtcbiAgICBsZXQgb3ZlcnNlcnZlciA9IHRoaXMub3ZlcnNlcnZlcnNfW3R5cGVdO1xuICAgIGlmICghb3ZlcnNlcnZlcikge1xuICAgICAgdGhpcy5yZWNvZ25pemVyc18ucHVzaChyZWNvZ25pemVyKTtcbiAgICAgIG92ZXJzZXJ2ZXIgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgdGhpcy5vdmVyc2VydmVyc19bdHlwZV0gPSBvdmVyc2VydmVyO1xuICAgIH1cbiAgICByZXR1cm4gb3ZlcnNlcnZlci5hZGQoaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmVzIGFsbCBoYW5kbGVycyBmcm9tIHRoZSBnaXZlbiBnZXN0dXJlIHJlY29nbml6ZXIuIFJldHVybnNcbiAgICogdHJ1ZSBpZiBhbnl0aGluZyB3YXMgZG9uZS4gUmV0dXJucyBmYWxzZSBpZiB0aGVyZSB3ZXJlIG5vIGhhbmRsZXJzXG4gICAqIHJlZ2lzdGVyZWQgb24gdGhlIGdpdmVuIGdlc3R1cmUgcmVjb2duaXplciBpbiBmaXJzdCBwbGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihuZXc6R2VzdHVyZVJlY29nbml6ZXI8REFUQT4sICFHZXN0dXJlcyl9IHJlY29nbml6ZXJDb25zdHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHJlbW92ZUdlc3R1cmUocmVjb2duaXplckNvbnN0cikge1xuICAgIGNvbnN0IHR5cGUgPSBuZXcgcmVjb2duaXplckNvbnN0cih0aGlzKS5nZXRUeXBlKCk7XG4gICAgY29uc3Qgb3ZlcnNlcnZlciA9IHRoaXMub3ZlcnNlcnZlcnNfW3R5cGVdO1xuICAgIGlmIChvdmVyc2VydmVyKSB7XG4gICAgICBvdmVyc2VydmVyLnJlbW92ZUFsbCgpO1xuICAgICAgY29uc3QgaW5kZXggPSBmaW5kSW5kZXgodGhpcy5yZWNvZ25pemVyc18sIGUgPT4gZS5nZXRUeXBlKCkgPT0gdHlwZSk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSB0aGUgcmVjb2duaXplciBhcyB3ZWxsIGFzIGFsbCBhc3NvY2lhdGVkIHRyYWNraW5nIHN0YXRlXG4gICAgICB0aGlzLnJlY29nbml6ZXJzXy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdGhpcy5yZWFkeV8uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMucGVuZGluZ18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMudHJhY2tpbmdfLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBkZWxldGUgdGhpcy5vdmVyc2VydmVyc19bdHlwZV07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmVzIHRvIHBvaW50ZXIgZG93biBldmVudHMsIHN1Y2ggYXMgXCJ0b3VjaHN0YXJ0XCIgb3IgXCJtb3VzZWRvd25cIi5cbiAgICogQHBhcmFtIHshRnVuY3Rpb259IGhhbmRsZXJcbiAgICogQHJldHVybiB7IVVubGlzdGVuRGVmfVxuICAgKi9cbiAgb25Qb2ludGVyRG93bihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRlckRvd25PYnNlcnZhYmxlXy5hZGQoaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbGwgXCJ0b3VjaHN0YXJ0XCIgZXZlbnRzIGFuZCBkaXNwYXRjaGVzIHRoZW0gdG8gdGhlIHRyYWNraW5nXG4gICAqIHJlY29nbml6ZXJzLlxuICAgKiBAcGFyYW0geyFFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uVG91Y2hTdGFydF8oZXZlbnQpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMud2FzRXZlbnRpbmdfID0gZmFsc2U7XG5cbiAgICB0aGlzLnBvaW50ZXJEb3duT2JzZXJ2YWJsZV8uZmlyZShldmVudCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yZWFkeV9baV0pIHtcbiAgICAgICAgLy8gSWYgdGhlIHJlY29nbml6ZXIgaXMgaW4gdGhlIFwicmVhZHlcIiBzdGF0ZSwgaXQgd29uJ3QgcmVjZWl2ZVxuICAgICAgICAvLyBhbnkgbW9yZSB0b3VjaCBzZXJpZXMgdW50aWwgaXQncyBhbGxvd2VkIHRvIGVtaXQuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGVuZGluZ19baV0gJiYgdGhpcy5wZW5kaW5nX1tpXSA8IG5vdykge1xuICAgICAgICAvLyBQZW5kaW5nIHN0YXRlIGV4cGlyZWQuIFJlc2V0LlxuICAgICAgICB0aGlzLnN0b3BUcmFja2luZ18oaSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZWNvZ25pemVyc19baV0ub25Ub3VjaFN0YXJ0KGV2ZW50KSkge1xuICAgICAgICAvLyBXaGVuIGEgcmVjb2duaXplciBpcyBpbnRlcmVzdGVkIGluIHRoZSB0b3VjaCBzZXJpZXMgaXQgcmV0dXJucyBcInRydWVcIlxuICAgICAgICAvLyBmcm9tIGl0cyBvblRvdWNoU3RhcnQgbWV0aG9kLiBGb3IgdGhpcyByZWNvZ25pemVyIHdlIHN0YXJ0IHRyYWNraW5nXG4gICAgICAgIC8vIHRoZSB3aG9sZSBzZXJpZXMgb2YgdG91Y2ggZXZlbnRzIGZyb20gdG91Y2hzdGFydCB0byB0b3VjaGVuZC4gT3RoZXJcbiAgICAgICAgLy8gcmVjb2duaXplcnMgd2lsbCBub3QgcmVjZWl2ZSB0aGVtIHVubGVzcyB0aGV5IHJldHVybiBcInRydWVcIiBmcm9tXG4gICAgICAgIC8vIG9uVG91Y2hTdGFydC5cbiAgICAgICAgdGhpcy5zdGFydFRyYWNraW5nXyhpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFmdGVyRXZlbnRfKGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFsbCBcInRvdWNobW92ZVwiIGV2ZW50cyBhbmQgZGlzcGF0Y2hlcyB0aGVtIHRvIHRoZSB0cmFja2luZ1xuICAgKiByZWNvZ25pemVycy5cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblRvdWNoTW92ZV8oZXZlbnQpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnRyYWNraW5nX1tpXSkge1xuICAgICAgICAvLyBUaGUgd2hvbGUgdG91Y2ggc2VyaWVzIGFyZSBpZ25vcmVkIGZvciBub24tdHJhY2tpbmcgcmVjb2duaXplcnMuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGVuZGluZ19baV0gJiYgdGhpcy5wZW5kaW5nX1tpXSA8IG5vdykge1xuICAgICAgICAvLyBQZW5kaW5nIHN0YXRlIGV4cGlyZWQuIFJlc2V0LlxuICAgICAgICB0aGlzLnN0b3BUcmFja2luZ18oaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnJlY29nbml6ZXJzX1tpXS5vblRvdWNoTW92ZShldmVudCkpIHtcbiAgICAgICAgLy8gUmVjb2duaXplciBsb3N0IGludGVyZXN0IGluIHRoZSBzZXJpZXMuIFJlc2V0LlxuICAgICAgICB0aGlzLnN0b3BUcmFja2luZ18oaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hZnRlckV2ZW50XyhldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbGwgXCJ0b3VjaGVuZFwiIGV2ZW50cyBhbmQgZGlzcGF0Y2hlcyB0aGVtIHRvIHRoZSB0cmFja2luZ1xuICAgKiByZWNvZ25pemVycy5cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblRvdWNoRW5kXyhldmVudCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMudHJhY2tpbmdfW2ldKSB7XG4gICAgICAgIC8vIFRoZSB3aG9sZSB0b3VjaCBzZXJpZXMgYXJlIGlnbm9yZWQgZm9yIG5vbi10cmFja2luZyByZWNvZ25pemVycy5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wZW5kaW5nX1tpXSAmJiB0aGlzLnBlbmRpbmdfW2ldIDwgbm93KSB7XG4gICAgICAgIC8vIFBlbmRpbmcgc3RhdGUgZXhwaXJlZC4gUmVzZXQuXG4gICAgICAgIHRoaXMuc3RvcFRyYWNraW5nXyhpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0aGlzLnJlY29nbml6ZXJzX1tpXS5vblRvdWNoRW5kKGV2ZW50KTtcbiAgICAgIGlmICghdGhpcy5wZW5kaW5nX1tpXSB8fCB0aGlzLnBlbmRpbmdfW2ldIDwgbm93KSB7XG4gICAgICAgIHRoaXMuc3RvcFRyYWNraW5nXyhpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFmdGVyRXZlbnRfKGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFsbCBcInRvdWNoY2FuY2VsXCIgZXZlbnRzLiBDYW5jZWxzIGFsbCB0cmFja2luZy9lbWl0dGluZ1xuICAgKiByZWNvZ25pemVycy5cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvblRvdWNoQ2FuY2VsXyhldmVudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNvZ25pemVyc18ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY2FuY2VsRXZlbnRpbmdfKGkpO1xuICAgIH1cbiAgICB0aGlzLmFmdGVyRXZlbnRfKGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgYSBnZXN0dXJlIHJlY29nbml6ZXIgdG8gY29tbXVuaWNhdGUgdGhhdCBpdCdzIHJlYWR5IHRvXG4gICAqIHN0YXJ0IGVtaXR0aW5nIGdlc3R1cmVzLiBHZXN0dXJlcyBpbnN0YW5jZSBtYXkgb3IgbWF5IG5vdCBhbGxvdyB0aGVcbiAgICogcmVjb2duaXplciB0byBwcm9jZWVkLlxuICAgKiBAcGFyYW0geyFHZXN0dXJlUmVjb2duaXplcn0gcmVjb2duaXplclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gICAqIEBwcml2YXRlXG4gICAqIEByZXN0cmljdGVkXG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgKi9cbiAgc2lnbmFsUmVhZHlfKHJlY29nbml6ZXIsIG9mZnNldCkge1xuICAgIC8vIFNvbWVib2R5IGdvdCBoZXJlIGZpcnN0LlxuICAgIGlmICh0aGlzLmV2ZW50aW5nXykge1xuICAgICAgcmVjb2duaXplci5hY2NlcHRDYW5jZWwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHJlY29nbml6ZXIgYXMgcmVhZHkgYW5kIHdhaXQgZm9yIHRoZSBwYXNzIHRvXG4gICAgLy8gbWFrZSB0aGUgZGVjaXNpb24uXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yZWNvZ25pemVyc19baV0gPT0gcmVjb2duaXplcikge1xuICAgICAgICB0aGlzLnJlYWR5X1tpXSA9IG5vdyArIG9mZnNldDtcbiAgICAgICAgdGhpcy5wZW5kaW5nX1tpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucGFzc0FmdGVyRXZlbnRfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgYSBnZXN0dXJlIHJlY29nbml6ZXIgdG8gY29tbXVuaWNhdGUgdGhhdCBpdCdzIGNsb3NlIHRvXG4gICAqIHN0YXJ0IGVtaXR0aW5nIGdlc3R1cmVzLCBidXQgbmVlZHMgbW9yZSB0aW1lIHRvIHNlZSBtb3JlIGV2ZW50cy4gT25jZVxuICAgKiB0aGlzIHRpbWUgZXhwaXJlcyB0aGUgcmVjb2duaXplciBzaG91bGQgZWl0aGVyIHNpZ25hbCByZWFkaW5lc3Mgb3IgaXRcbiAgICogd2lsbCBiZSBjYW5jZWxlZC5cbiAgICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVMZWZ0XG4gICAqIEBwcml2YXRlXG4gICAqIEByZXN0cmljdGVkXG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgKi9cbiAgc2lnbmFsUGVuZGluZ18ocmVjb2duaXplciwgdGltZUxlZnQpIHtcbiAgICAvLyBTb21lYm9keSBnb3QgaGVyZSBmaXJzdC5cbiAgICBpZiAodGhpcy5ldmVudGluZ18pIHtcbiAgICAgIHJlY29nbml6ZXIuYWNjZXB0Q2FuY2VsKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yZWNvZ25pemVyc19baV0gPT0gcmVjb2duaXplcikge1xuICAgICAgICB0aGlzLnBlbmRpbmdfW2ldID0gbm93ICsgdGltZUxlZnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciBhIGdlc3R1cmUgcmVjb2duaXplciB0byBjb21tdW5pY2F0ZSB0aGF0IGl0J3MgZG9uZVxuICAgKiBlbWl0dGluZyBnZXN0dXJlcy5cbiAgICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICogQHByaXZhdGVcbiAgICogQHJlc3RyaWN0ZWRcbiAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAqL1xuICBzaWduYWxFbmRfKHJlY29nbml6ZXIpIHtcbiAgICBpZiAodGhpcy5ldmVudGluZ18gPT0gcmVjb2duaXplcikge1xuICAgICAgdGhpcy5ldmVudGluZ18gPSBudWxsO1xuICAgICAgdGhpcy53YXNFdmVudGluZ18gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgYSBnZXN0dXJlIGVtaXQgdGhlIGdlc3R1cmUuIE9ubHkgdGhlIGN1cnJlbnRseSBlbWl0dGluZ1xuICAgKiByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gZW1pdCBnZXN0dXJlcy5cbiAgICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICogQHBhcmFtIHsqfSBkYXRhXG4gICAqIEBwYXJhbSB7P0V2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmVzdHJpY3RlZFxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIHNpZ25hbEVtaXRfKHJlY29nbml6ZXIsIGRhdGEsIGV2ZW50KSB7XG4gICAgZGV2KCkuYXNzZXJ0KHRoaXMuZXZlbnRpbmdfID09IHJlY29nbml6ZXIsXG4gICAgICAgICdSZWNvZ25pemVyIGlzIG5vdCBjdXJyZW50bHkgYWxsb3dlZDogJXMnLCByZWNvZ25pemVyLmdldFR5cGUoKSk7XG4gICAgY29uc3Qgb3ZlcnNlcnZlciA9IHRoaXMub3ZlcnNlcnZlcnNfW3JlY29nbml6ZXIuZ2V0VHlwZSgpXTtcbiAgICBpZiAob3ZlcnNlcnZlcikge1xuICAgICAgb3ZlcnNlcnZlci5maXJlKG5ldyBHZXN0dXJlKHJlY29nbml6ZXIuZ2V0VHlwZSgpLCBkYXRhLCBEYXRlLm5vdygpLFxuICAgICAgICAgIGV2ZW50KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWZ0ZXJFdmVudF8oZXZlbnQpIHtcbiAgICBsZXQgY2FuY2VsRXZlbnQgPSAhIXRoaXMuZXZlbnRpbmdfIHx8IHRoaXMud2FzRXZlbnRpbmdfO1xuICAgIHRoaXMud2FzRXZlbnRpbmdfID0gZmFsc2U7XG4gICAgaWYgKCFjYW5jZWxFdmVudCkge1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNvZ25pemVyc18ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlfW2ldIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMucGVuZGluZ19baV0gJiYgdGhpcy5wZW5kaW5nX1tpXSA+PSBub3cpKSB7XG4gICAgICAgICAgY2FuY2VsRXZlbnQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjYW5jZWxFdmVudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoIXRoaXMuc2hvdWxkTm90UHJldmVudERlZmF1bHRfKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnBhc3NBZnRlckV2ZW50Xykge1xuICAgICAgdGhpcy5wYXNzQWZ0ZXJFdmVudF8gPSBmYWxzZTtcbiAgICAgIHRoaXMuZG9QYXNzXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFzcyB0aGF0IGRlY2lkZXMgd2hpY2ggcmVjb2duaXplcnMgY2FuIHN0YXJ0IGVtaXR0aW5nIGFuZCB3aGljaFxuICAgKiBhcmUgY2FuY2VsZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkb1Bhc3NfKCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAvLyBUaGUgXCJtb3N0IHJlYWR5XCIgcmVjb2duaXplciBpcyB0aGUgeW91bmdlc3QgaW4gdGhlIFwicmVhZHlcIiBzZXQuXG4gICAgLy8gT3RoZXJ3aXNlIHdlIHdvdWxkbid0IHdhaXQgZm9yIGl0IGF0IGFsbC5cbiAgICBsZXQgcmVhZHlJbmRleCA9IC0xO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNvZ25pemVyc18ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5yZWFkeV9baV0pIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ19baV0gJiYgdGhpcy5wZW5kaW5nX1tpXSA8IG5vdykge1xuICAgICAgICAgIC8vIFBlbmRpbmcgc3RhdGUgZXhwaXJlZC4gUmVzZXQuXG4gICAgICAgICAgdGhpcy5zdG9wVHJhY2tpbmdfKGkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWR5SW5kZXggPT0gLTEgfHwgdGhpcy5yZWFkeV9baV0gPiB0aGlzLnJlYWR5X1tyZWFkeUluZGV4XSkge1xuICAgICAgICByZWFkeUluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVhZHlJbmRleCA9PSAtMSkge1xuICAgICAgLy8gTm90aGluZyB0byBkby5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBMb29rIGZvciBjb25mbGljdHMuXG4gICAgbGV0IHdhaXRUaW1lID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb2duaXplcnNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yZWFkeV9baV0gfHwgIXRoaXMudHJhY2tpbmdfW2ldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgd2FpdFRpbWUgPSBNYXRoLm1heCh3YWl0VGltZSwgdGhpcy5wZW5kaW5nX1tpXSAtIG5vdyk7XG4gICAgfVxuXG4gICAgaWYgKHdhaXRUaW1lIDwgMikge1xuICAgICAgLy8gV2Ugd2FpdGVkIGxvbmcgZW5vdWdoLlxuICAgICAgdGhpcy5zdGFydEV2ZW50aW5nXyhyZWFkeUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTb21lIGNvbmZsaWN0czogaGF2ZSB0byB3YWl0IHRvIHNlZSB3aG8gd2lucy5cbiAgICB0aGlzLnBhc3NfLnNjaGVkdWxlKHdhaXRUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHJlY29nbml6ZXIgaXMgZ2l2ZW4gXCJnbyBhaGVhZFwiIGFuZCBhbGwgb3RoZXJzIGFyZSBjYW5jZWxlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGFydEV2ZW50aW5nXyhpbmRleCkge1xuICAgIGNvbnN0IHJlY29nbml6ZXIgPSB0aGlzLnJlY29nbml6ZXJzX1tpbmRleF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlY29nbml6ZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgIT0gaW5kZXgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxFdmVudGluZ18oaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVhZHlfW2luZGV4XSA9IDA7XG4gICAgdGhpcy5wZW5kaW5nX1tpbmRleF0gPSAwO1xuICAgIHRoaXMuZXZlbnRpbmdfID0gcmVjb2duaXplcjtcbiAgICByZWNvZ25pemVyLmFjY2VwdFN0YXJ0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGFydFRyYWNraW5nXyhpbmRleCkge1xuICAgIHRoaXMudHJhY2tpbmdfW2luZGV4XSA9IHRydWU7XG4gICAgdGhpcy5wZW5kaW5nX1tpbmRleF0gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RvcFRyYWNraW5nXyhpbmRleCkge1xuICAgIHRoaXMudHJhY2tpbmdfW2luZGV4XSA9IGZhbHNlO1xuICAgIHRoaXMucGVuZGluZ19baW5kZXhdID0gMDtcbiAgICBpZiAoIXRoaXMucmVhZHlfW2luZGV4XSkge1xuICAgICAgdGhpcy5yZWNvZ25pemVyc19baW5kZXhdLmFjY2VwdENhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNhbmNlbEV2ZW50aW5nXyhpbmRleCkge1xuICAgIHRoaXMucmVhZHlfW2luZGV4XSA9IDA7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmdfKGluZGV4KTtcbiAgfVxufVxuXG5cbi8qKlxuICogVGhlIGdlc3R1cmUgcmVjb2duaXplciByZWNlaXZlcyB0aGUgcG9pbnRlciBldmVudHMgZnJvbSBHZXN0dXJlcyBpbnN0YW5jZS5cbiAqIEJhc2VkIG9uIHRoZXNlIGV2ZW50cywgaXQgY2FuIFwicmVjb2duaXplXCIgdGhlIGdlc3R1cmUgaXQncyByZXNwb25zaWJsZSBmb3IsXG4gKiByZXF1ZXN0IHRvIHN0YXJ0IGVtaXR0aW5nIGFuZCBlbWl0IGdlc3R1cmVzLiBHZXN0dXJlcyBpbnN0YW5jZXMgbWFuYWdlc1xuICogc2V2ZXJhbCBjb21wZXRpbmcgcmVjb2duaXplcnMgYW5kIGRlY2lkZXMgd2hpY2ggb25lcyBnZXQgdG8gZW1pdCBnZXN0dXJlc1xuICogYW5kIHdoaWNoIGRvIG5vdC5cbiAqXG4gKiBUaGUgcmVjb2duaXplciBjYW4gYmUgaW4gc2V2ZXJhbCBtYWluIHN0YXRlczpcbiAqIDEuIFRyYWNraW5nIHN0YXRlLiBJbiB0aGlzIHN0YXRlIHRoZSByZWNvZ25pemVyIGlzIHJlY2VpdmluZyB0aGUgc2VyaWVzIG9mXG4gKiAgICB0b3VjaCBldmVudHMgZnJvbSB0b3VjaHN0YXJ0IHRvIHRvdWNoZW5kLiBUbyBnZXQgaW50byB0aGlzIHN0YXRlIHRoZVxuICogICAgcmVjb2duaXplciBoYXMgdG8gcmV0dXJuIFwidHJ1ZVwiIGZyb20gdGhlIHtAbGluayBvblRvdWNoU3RhcnR9LlxuICogMi4gUGVuZGluZyBzdGF0ZSAob3B0aW9uYWwpLiBUaGUgcmVjb2duaXplciBtYXRjaGVkIHBhcnQgb2YgdGhlIGdlc3R1cmUsXG4gKiAgICBidXQgbmVlZHMgbW9yZSB0aW1lIHRvIGdldCB0cmFjayBtb3JlIGV2ZW50cy4gSXQgcmVxdWVzdHMgbW9yZSB0aW1lXG4gKiAgICBieSBjYWxsaW5nIHtAbGluayBzaWduYWxQZW5kaW5nfSwgQnkgdGhlIGVuZCBvZiB0aGlzIHRpbWUgdGhlIHJlY29nbml6ZXJcbiAqICAgIGhhcyBlaXRoZXIgbWF0Y2hlZCB0aGUgZ2VzdHVyZSBvciBoYXMgYmVlbiBjYW5jZWxlZC5cbiAqIDMuIFJlYWR5IHN0YXRlLiBUaGUgcmVjb2duaXplciBtYXRjaGVkIHRoZSB3aG9sZSBnZXN0dXJlIGFuZCByZWFkeSB0byBzdGFydFxuICogICAgZW1pdHRpbmcuIEl0IGNvbW11bmljYXRlcyB0byB0aGUgR2VzdHVyZXMgdGhpcyByZWFkaW5lc3MgYnkgY2FsbGluZ1xuICogICAge0BsaW5rIHNpZ25hbFJlYWR5fS5cbiAqIDUuIEVtaXR0aW5nIHN0YXRlLiBJZiBHZXN0dXJlcyBkZWNpZGVzIHRvIGdvIGFoZWFkIHdpdGggdGhpcyByZWNvZ25pemVyLCBpdFxuICogICAgd2lsbCBjYWxsIHtAbGluayBhY2NlcHRTdGFydH0gbWV0aG9kLiBPdGhlcndpc2UsIGl0IHdpbGwgY2FsbFxuICogICAge0BsaW5rIGFjY2VwdENhbmNlbH0gbWV0aG9kLiBPbmNlIGluIHRoZSBlbWl0dGluZyBzdGF0ZSwgdGhlIHJlY29nbml6ZXJcbiAqICAgIGNhbiBlbWl0IGFueSBudW1iZXIgb2YgZXZlbnRzIGJ5IGNhbGxpbmcge0BsaW5rIHNpZ25hbEVtaXR9LlxuICogNi4gQ29tcGxldGUgc3RhdGUuIE9uY2UgZG9uZSwgdGhlIHJlY29nbml6ZXIgY2FuIGNhbGwge0BsaW5rIHNpZ25hbEVuZH0gdG9cbiAqICAgIGNvbW11bmljYXRlIHRoYXQgaXQncyBkb25lLlxuICpcbiAqIEB0ZW1wbGF0ZSBEQVRBXG4gKi9cbmV4cG9ydCBjbGFzcyBHZXN0dXJlUmVjb2duaXplciB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7IUdlc3R1cmVzfSBtYW5hZ2VyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBtYW5hZ2VyKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMudHlwZV8gPSB0eXBlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUdlc3R1cmVzfSAqL1xuICAgIHRoaXMubWFuYWdlcl8gPSBtYW5hZ2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHR5cGUgb2YgdGhlIGdlc3R1cmUgZW1pdHRlZCBieSB0aGUgaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICogSXQgaGFzIHRvIGJlIHVuaXF1ZSBpbiB0aGUgc2NvcGUgb2YgdGhlIEdlc3R1cmVzIGluc3RhbmNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByZWNvZ25pemVyIGNhbiBjYWxsIHRoaXMgbWV0aG9kIHRvIGNvbW11bmljYXRlIHRoYXQgaXQncyByZWFkeSB0b1xuICAgKiBzdGFydCBlbWl0dGluZyB0aGUgZ2VzdHVyZS4gT3B0aW9uYWxseSBpdCBjYW4gcGFzcyBhIHplcm8sIHBvc2l0aXZlIG9yXG4gICAqIG5lZ2F0aXZlIG9mZnNldCAtIGEgdGltZSBvbiBob3cgbXVjaCB0aGUgZ2VzdHVyZSBzaG91bGQgYmUgcGVuYWxpemVkIG9yXG4gICAqIGdpdmVuIGFkdmFudGFnZSBpbiBjb25mbGljdCByZXNvbHV0aW9uLiBUaGUgcmVjb2duaXplciBhdCB0aGlzIHBvaW50IGlzXG4gICAqIGluIHRoZSBcInJlYWR5XCIgc3RhdGUuXG4gICAqIEBwYXJhbSB7dGltZX0gb2Zmc2V0XG4gICAqL1xuICBzaWduYWxSZWFkeShvZmZzZXQpIHtcbiAgICB0aGlzLm1hbmFnZXJfLnNpZ25hbFJlYWR5Xyh0aGlzLCBvZmZzZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByZWNvZ25pemVyIGNhbiBjYWxsIHRoaXMgbWV0aG9kIHRvIGNvbW11bmljYXRlIHRoYXQgaXQgbmVlZHMgbW9yZVxuICAgKiB0aW1lICh0aW1lTGVmdCkgdG8gbWF0Y2ggdGhlIGdlc3R1cmUuIEJ5IHRoZSBlbmQgb2YgdGhpcyB0aW1lIHRoZVxuICAgKiByZWNvZ25pemVyIGhhcyB0byBlaXRoZXIgdHJhbnNpdCB0byB0aGUgcmVhZHkgc3RhdGUgdXNpbmdcbiAgICoge0BsaW5rIHNpZ25hbFJlYWR5fSBvciBpdCB3aWxsIGJlIGNhbmNlbGVkLiBUaGUgcmVjb2duaXplciBpcyBpbiB0aGVcbiAgICogXCJwZW5kaW5nXCIgc3RhdGUuXG4gICAqIEBwYXJhbSB7dGltZX0gdGltZUxlZnRcbiAgICovXG4gIHNpZ25hbFBlbmRpbmcodGltZUxlZnQpIHtcbiAgICB0aGlzLm1hbmFnZXJfLnNpZ25hbFBlbmRpbmdfKHRoaXMsIHRpbWVMZWZ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVjb2duaXplciBjYW4gY2FsbCB0aGlzIG1ldGhvZCB0byBjb21tdW5pY2F0ZSB0aGF0IGl0J3MgZG9uZVxuICAgKiBlbWl0dGluZyB0aGUgZ2VzdHVyZXMuIEl0IHdpbGwgcmV0dXJuIHRvIHRoZSB3YWl0aW5nIHN0YXRlLiBSZWNvZ25pemVyXG4gICAqIGNhbiBvbmx5IGNhbGwgdGhpcyBtZXRob2QgaWYgaXQgaGFzIHByZXZpb3VzbHkgcmVjZWl2ZWQgdGhlXG4gICAqIHtAbGluayBhY2NlcHRTdGFydH0gY2FsbC5cbiAgICovXG4gIHNpZ25hbEVuZCgpIHtcbiAgICB0aGlzLm1hbmFnZXJfLnNpZ25hbEVuZF8odGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHJlY29nbml6ZXIgY2FuIGNhbGwgdGhpcyBtZXRob2QgdG8gZW1pdCB0aGUgZ2VzdHVyZXMgd2hpbGUgaW4gdGhlXG4gICAqIFwiZW1pdHRpbmdcIiBzdGF0ZS4gUmVjb2duaXplciBjYW4gb25seSBjYWxsIHRoaXMgbWV0aG9kIGlmIGl0IGhhc1xuICAgKiBwcmV2aW91c2x5IHJlY2VpdmVkIHRoZSB7QGxpbmsgYWNjZXB0U3RhcnR9IGNhbGwuXG4gICAqIEBwYXJhbSB7REFUQX0gZGF0YVxuICAgKiBAcGFyYW0gez9FdmVudH0gZXZlbnRcbiAgICovXG4gIHNpZ25hbEVtaXQoZGF0YSwgZXZlbnQpIHtcbiAgICB0aGlzLm1hbmFnZXJfLnNpZ25hbEVtaXRfKHRoaXMsIGRhdGEsIGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgR2VzdHVyZXMgaW5zdGFuY2UgY2FsbHMgdGhpcyBtZXRob2QgdG8gYWxsb3cgdGhlIHJlY29nbml6ZXIgdG8gc3RhcnRcbiAgICogZW1pdHRpbmcgdGhlIGdlc3R1cmVzLiBBdCB0aGlzIHBvaW50IHRoZSByZWNvZ25pemVyIGlzIGluIHRoZSBcImVtaXR0aW5nXCJcbiAgICogc3RhdGUuIEl0IHdpbGwgYmUgaW4gdGhpcyBzdGF0ZSB1bnRpbCBpdCBjYWxscyB7QGxpbmsgc2lnbmFsRW5kfSBvclxuICAgKiB0aGUge0BsaW5rIGFjY2VwdENhbmNlbH0gaXMgY2FsbGVkIGJ5IHRoZSBHZXN0dXJlcyBpbnN0YW5jZS5cbiAgICovXG4gIGFjY2VwdFN0YXJ0KCkge1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBHZXN0dXJlcyBpbnN0YW5jZSBjYWxscyB0aGlzIG1ldGhvZCB0byByZXNldCB0aGUgcmVjb2duaXplci4gQXQgdGhpc1xuICAgKiBwb2ludCB0aGUgcmVjb2duaXplciBpcyBpbiB0aGUgaW5pdGlhbCB3YWl0aW5nIHN0YXRlLlxuICAgKi9cbiAgYWNjZXB0Q2FuY2VsKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBHZXN0dXJlcyBpbnN0YW5jZSBjYWxscyB0aGlzIG1ldGhvZCBmb3IgZWFjaCBcInRvdWNoc3RhcnRcIiBldmVudC4gSWZcbiAgICogdGhlIHJlY29nbml6ZXIgd2FudHMgdG8gcmVjZWl2ZSBvdGhlciB0b3VjaCBldmVudHMgaW4gdGhlIHNlcmllcywgaXQgaGFzXG4gICAqIHRvIHJldHVybiBcInRydWVcIi5cbiAgICogQHBhcmFtIHshRXZlbnR9IHVudXNlZEV2ZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBvblRvdWNoU3RhcnQodW51c2VkRXZlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhlIEdlc3R1cmVzIGluc3RhbmNlIGNhbGxzIHRoaXMgbWV0aG9kIGZvciBlYWNoIFwidG91Y2htb3ZlXCIgZXZlbnQuIElmXG4gICAqIHRoZSByZWNvZ25pemVyIHdhbnRzIHRvIGNvbnRpbnVlIHJlY2VpdmluZyB0b3VjaCBldmVudHMgaW4gdGhlIHNlcmllcyxcbiAgICogaXQgaGFzIHRvIHJldHVybiBcInRydWVcIi5cbiAgICogQHBhcmFtIHshRXZlbnR9IHVudXNlZEV2ZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBvblRvdWNoTW92ZSh1bnVzZWRFdmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgR2VzdHVyZXMgaW5zdGFuY2UgY2FsbHMgdGhpcyBtZXRob2QgZm9yIHRoZSBcInRvdWNoZW5kXCIgZXZlbnQuXG4gICAqIFNvbWV3aGVyZSB3aXRoaW4gdGhpcyB0b3VjaCBzZXJpZXMgdGhlIHJlY29nbml6ZXIgaGFzIHRvIGNhbGxcbiAgICoge0BsaW5rIHNpZ25hbFJlYWR5fSBvciB7QGxpbmsgc2lnbmFsUGVuZGluZ30gb3IgaXQgd2lsbCBiZSByZXNldCBmb3IgdGhlXG4gICAqIG5leHQgdG91Y2ggc2VyaWVzLlxuICAgKiBAcGFyYW0geyFFdmVudH0gdW51c2VkRXZlbnRcbiAgICovXG4gIG9uVG91Y2hFbmQodW51c2VkRXZlbnQpIHtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIG1vZHVsZSBkZWNsYXJlcyBKU09OIHR5cGVzIGFzIGRlZmluZWQgaW4gdGhlXG4gKiB7QGxpbmsgaHR0cDovL2pzb24ub3JnL30uXG4gKi9cblxuaW1wb3J0IHtpc09iamVjdH0gZnJvbSAnLi90eXBlcyc7XG5cblxuLy8gTk9URSBUeXBlIGFyZSBjaGFuZ2VkIHRvIHsqfSBiZWNhdXNlIG9mXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE5OTlcblxuLyoqXG4gKiBKU09OIHNjYWxhci4gSXQncyBlaXRoZXIgc3RyaW5nLCBudW1iZXIgb3IgYm9vbGVhbi5cbiAqIEB0eXBlZGVmIHsqfSBzaG91bGQgYmUgc3RyaW5nfG51bWJlcnxib29sZWFuXG4gKi9cbmxldCBKU09OU2NhbGFyRGVmO1xuXG5cbi8qKlxuICogSlNPTiBvYmplY3QuIEl0J3MgYSBtYXAgd2l0aCBzdHJpbmcga2V5cyBhbmQgSlNPTiB2YWx1ZXMuXG4gKiBAdHlwZWRlZiB7Kn0gc2hvdWxkIGJlICFPYmplY3Q8c3RyaW5nLCA/SlNPTlZhbHVlRGVmPlxuICovXG5sZXQgSlNPTk9iamVjdERlZjtcblxuXG4vKipcbiAqIEpTT04gYXJyYXkuIEl0J3MgYW4gYXJyYXkgd2l0aCBKU09OIHZhbHVlcy5cbiAqIEB0eXBlZGVmIHsqfSBzaG91bGQgYmUgIUFycmF5PD9KU09OVmFsdWVEZWY+XG4gKi9cbmxldCBKU09OQXJyYXlEZWY7XG5cblxuLyoqXG4gKiBKU09OIHZhbHVlLiBJdCdzIGVpdGhlciBhIHNjYWxhciwgYW4gb2JqZWN0IG9yIGFuIGFycmF5LlxuICogQHR5cGVkZWYgeyp9IHNob3VsZCBiZSAhSlNPTlNjYWxhckRlZnwhSlNPTk9iamVjdERlZnwhSlNPTkFycmF5RGVmXG4gKi9cbmxldCBKU09OVmFsdWVEZWY7XG5cbi8qKlxuICogUmVjcmVhdGVzIG9iamVjdHMgd2l0aCBwcm90b3R5cGUtbGVzcyBjb3BpZXMuXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0fSBvYmpcbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjcmVhdGVOb25Qcm90b09iamVjdChvYmopIHtcbiAgY29uc3QgY29weSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB2ID0gb2JqW2tdO1xuICAgIGNvcHlba10gPSBpc09iamVjdCh2KSA/IHJlY3JlYXRlTm9uUHJvdG9PYmplY3QodikgOiB2O1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAoY29weSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHZhbHVlIGZyb20gYW4gb2JqZWN0IGZvciBhIGZpZWxkLWJhc2VkIGV4cHJlc3Npb24uIFRoZSBleHByZXNzaW9uXG4gKiBpcyBhIHNpbXBsZSBuZXN0ZWQgZG90LW5vdGF0aW9uIG9mIGZpZWxkcywgc3VjaCBhcyBgZmllbGQxLmZpZWxkMmAuIElmIGFueVxuICogZmllbGQgaW4gYSBjaGFpbiBkb2VzIG5vdCBleGlzdCBvciBpcyBub3QgYW4gb2JqZWN0IG9yIGFycmF5LCB0aGUgcmV0dXJuZWRcbiAqIHZhbHVlIHdpbGwgYmUgYHVuZGVmaW5lZGAuXG4gKlxuICogQHBhcmFtIHshSnNvbk9iamVjdH0gb2JqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwclxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlRm9yRXhwcihvYmosIGV4cHIpIHtcbiAgLy8gVGhlIGAuYCBpbmRpY2F0ZXMgXCJ0aGUgb2JqZWN0IGl0c2VsZlwiLlxuICBpZiAoZXhwciA9PSAnLicpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIC8vIE90aGVyd2lzZSwgbmF2aWdhdGUgdmlhIHByb3BlcnRpZXMuXG4gIGNvbnN0IHBhcnRzID0gZXhwci5zcGxpdCgnLicpO1xuICBsZXQgdmFsdWUgPSBvYmo7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgaWYgKHBhcnQgJiZcbiAgICAgICAgdmFsdWUgJiZcbiAgICAgICAgdmFsdWVbcGFydF0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgcGFydClcbiAgICApIHtcbiAgICAgIHZhbHVlID0gdmFsdWVbcGFydF07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFNpbXBsZSB3cmFwcGVyIGFyb3VuZCBKU09OLnBhcnNlIHRoYXQgY2FzdHMgdGhlIHJldHVybiB2YWx1ZVxuICogdG8gSnNvbk9iamVjdC5cbiAqIENyZWF0ZSBhIG5ldyB3cmFwcGVyIGlmIGFuIGFycmF5IHJldHVybiB2YWx1ZSBpcyBkZXNpcmVkLlxuICogQHBhcmFtIHsqfSBqc29uIEpTT04gc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJuIHs/SnNvbk9iamVjdH0gTWF5IGJlIGV4dGVuZCB0byBwYXJzZSBhcnJheXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUpzb24oanNvbikge1xuICByZXR1cm4gLyoqIEB0eXBlIHs/SnNvbk9iamVjdH0gKi8oSlNPTi5wYXJzZSgvKiogQHR5cGUge3N0cmluZ30gKi8gKGpzb24pKSk7XG59XG5cbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiBganNvbmAgc3RyaW5nIHdpdGhvdXQgdGhyb3dpbmcgYW4gZXhjZXB0aW9uIGlmIG5vdCB2YWxpZC5cbiAqIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgcGFyc2luZyBmYWlscy5cbiAqIFJldHVybnMgdGhlIGBPYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIEpTT04gc3RyaW5nIHdoZW4gcGFyc2luZyBzdWNjZWVkcy5cbiAqIEBwYXJhbSB7Kn0ganNvbiBKU09OIHN0cmluZyB0byBwYXJzZVxuICogQHBhcmFtIHtmdW5jdGlvbighRXJyb3IpPX0gb3B0X29uRmFpbGVkIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWRcbiAqICAgICB3aXRoIHRoZSBlcnJvciBpZiBwYXJzaW5nIGZhaWxzLlxuICogQHJldHVybiB7P0pzb25PYmplY3R8dW5kZWZpbmVkfSBNYXkgYmUgZXh0ZW5kIHRvIHBhcnNlIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeVBhcnNlSnNvbihqc29uLCBvcHRfb25GYWlsZWQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGFyc2VKc29uKGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKG9wdF9vbkZhaWxlZCkge1xuICAgICAgb3B0X29uRmFpbGVkKGUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgY2hlY2tzIHN0cmljdCBlcXVhbGl0eSBvZiBpdGVtcyBpbiBuZXN0ZWQgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7SlNPTlZhbHVlRGVmfSBhXG4gKiBAcGFyYW0ge0pTT05WYWx1ZURlZn0gYlxuICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC4gTXVzdCBiZSBmaW5pdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogQHRocm93cyB7RXJyb3J9IElmIGRlcHRoIGFyZ3VtZW50IGlzIG5vdCBmaW5pdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWN1cnNpdmVFcXVhbHMoYSwgYiwgZGVwdGggPSAzKSB7XG4gIGlmICghaXNGaW5pdGUoZGVwdGgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkZXB0aCBhcmcgbXVzdCBiZSBmaW5pdGU6ICcgKyBkZXB0aCk7XG4gIH1cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBPbmx5IGNoZWNrIHNoYWxsb3cgZXF1YWxpdHkgZm9yIGRlcHRoIDwgMS5cbiAgaWYgKGRlcHRoIDwgMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFyZWN1cnNpdmVFcXVhbHMoYVtpXSwgYltpXSwgZGVwdGggLSAxKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMoLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoYSkpO1xuICAgIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMoLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoYikpO1xuICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXlBID0ga2V5c0FbaV07XG4gICAgICBjb25zdCB2YWx1ZUEgPSBhW2tleUFdO1xuICAgICAgY29uc3QgdmFsdWVCID0gYltrZXlBXTtcbiAgICAgIGlmICghcmVjdXJzaXZlRXF1YWxzKHZhbHVlQSwgdmFsdWVCLCBkZXB0aCAtIDEpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwga2V5KSB7XG4gIGlmIChvYmogPT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R9ICovIChvYmopLCBrZXkpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBUaGUgc3RydWN0dXJlIHRoYXQgY29tYmluZXMgcG9zaXRpb24gYW5kIHNpemUgZm9yIGFuIGVsZW1lbnQuIFRoZSBleGFjdFxuICogaW50ZXJwcmV0YXRpb24gb2YgcG9zaXRpb24gYW5kIHNpemUgZGVwZW5kcyBvbiB0aGUgdXNlIGNhc2UuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgdG9wOiBudW1iZXIsXG4gKiAgIGJvdHRvbTogbnVtYmVyLFxuICogICBsZWZ0OiBudW1iZXIsXG4gKiAgIHJpZ2h0OiBudW1iZXIsXG4gKiAgIHdpZHRoOiBudW1iZXIsXG4gKiAgIGhlaWdodDogbnVtYmVyLFxuICogICB4OiBudW1iZXIsXG4gKiAgIHk6IG51bWJlclxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBMYXlvdXRSZWN0RGVmO1xuXG5cbi8qKlxuICogVGhlIHN0cnVjdHVyZSB0aGF0IHJlcHJlc2VudHMgdGhlIG1hcmdpbnMgb2YgYW4gRWxlbWVudC5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICB0b3A6IG51bWJlcixcbiAqICAgcmlnaHQ6IG51bWJlcixcbiAqICAgYm90dG9tOiBudW1iZXIsXG4gKiAgIGxlZnQ6IG51bWJlclxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBMYXlvdXRNYXJnaW5zRGVmO1xuXG5cbi8qKlxuICogVGhlIHN0cnVjdHVyZSB0aGF0IHJlcHJlc2VudHMgYSByZXF1ZXN0ZWQgY2hhbmdlIHRvIHRoZSBtYXJnaW5zIG9mIGFuXG4gKiBFbGVtZW50LiBBbnkgbmV3IHZhbHVlcyBzcGVjaWZpZWQgd2lsbCByZXBsYWNlIGV4aXN0aW5nIG9uZXMgKHJhdGhlciB0aGFuXG4gKiBiZWluZyBhZGRpdGl2ZSkuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgdG9wOiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIHJpZ2h0OiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIGJvdHRvbTogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICBsZWZ0OiAobnVtYmVyfHVuZGVmaW5lZClcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTGF5b3V0TWFyZ2luc0NoYW5nZURlZjtcblxuLyoqXG4qIFJlbGF0aXZlUG9zaXRpb25zXG4qXG4qIERlc2NyaWJlcyB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB0byBhbm90aGVyICh3aGV0aGVyIHRoZVxuKiBmaXJzdCBpcyBpbnNpZGUgdGhlIHNlY29uZCwgb24gdG9wIG9mIHRoZSBzZWNvbmQgb3Igb24gdGhlIGJvdHRvbVxuKiBAZW51bSB7c3RyaW5nfVxuKi9cbmV4cG9ydCBjb25zdCBSZWxhdGl2ZVBvc2l0aW9ucyA9IHtcbiAgSU5TSURFOiAnaW5zaWRlJyxcbiAgVE9QOiAndG9wJyxcbiAgQk9UVE9NOiAnYm90dG9tJyxcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGxheW91dCByZWN0IGJhc2VkIG9uIHRoZSBsZWZ0LCB0b3AsIHdpZHRoIGFuZCBoZWlnaHQgcGFyYW1ldGVyc1xuICogaW4gdGhhdCBvcmRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0XG4gKiBAcGFyYW0ge251bWJlcn0gdG9wXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAqIEByZXR1cm4geyFMYXlvdXRSZWN0RGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGF5b3V0UmVjdEx0d2gobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHJldHVybiB7XG4gICAgbGVmdCxcbiAgICB0b3AsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGJvdHRvbTogdG9wICsgaGVpZ2h0LFxuICAgIHJpZ2h0OiBsZWZ0ICsgd2lkdGgsXG4gICAgeDogbGVmdCxcbiAgICB5OiB0b3AsXG4gIH07XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbGF5b3V0IHJlY3QgYmFzZWQgb24gdGhlIERPTVJlY3QsIGUuZy4gb2J0YWluZWQgZnJvbSBjYWxsaW5nXG4gKiBnZXRCb3VuZGluZ0NsaWVudFJlY3QuXG4gKiBAcGFyYW0geyFDbGllbnRSZWN0fSByZWN0XG4gKiBAcmV0dXJuIHshTGF5b3V0UmVjdERlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxheW91dFJlY3RGcm9tRG9tUmVjdChyZWN0KSB7XG4gIHJldHVybiBsYXlvdXRSZWN0THR3aChOdW1iZXIocmVjdC5sZWZ0KSwgTnVtYmVyKHJlY3QudG9wKSxcbiAgICAgIE51bWJlcihyZWN0LndpZHRoKSwgTnVtYmVyKHJlY3QuaGVpZ2h0KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdHdvIHJlY3RzIG92ZXJsYXAgYnkgYSBzaW5nbGUgcGl4ZWwuXG4gKiBAcGFyYW0geyFMYXlvdXRSZWN0RGVmfSByMVxuICogQHBhcmFtIHshTGF5b3V0UmVjdERlZn0gcjJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXlvdXRSZWN0c092ZXJsYXAocjEsIHIyKSB7XG4gIHJldHVybiAocjEudG9wIDw9IHIyLmJvdHRvbSAmJiByMi50b3AgPD0gcjEuYm90dG9tICYmXG4gICAgICByMS5sZWZ0IDw9IHIyLnJpZ2h0ICYmIHIyLmxlZnQgPD0gcjEucmlnaHQpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSwgYiBvciBudWxsIGlmIHRoZXJlIGlzIG5vbmUuXG4gKiBAcGFyYW0gey4uLj9MYXlvdXRSZWN0RGVmfHVuZGVmaW5lZH0gdmFyX2FyZ3NcbiAqIEByZXR1cm4gez9MYXlvdXRSZWN0RGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjdEludGVyc2VjdGlvbih2YXJfYXJncykge1xuICBsZXQgeDAgPSAtSW5maW5pdHk7XG4gIGxldCB4MSA9IEluZmluaXR5O1xuICBsZXQgeTAgPSAtSW5maW5pdHk7XG4gIGxldCB5MSA9IEluZmluaXR5O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgeDAgPSBNYXRoLm1heCh4MCwgY3VycmVudC5sZWZ0KTtcbiAgICB4MSA9IE1hdGgubWluKHgxLCBjdXJyZW50LmxlZnQgKyBjdXJyZW50LndpZHRoKTtcbiAgICB5MCA9IE1hdGgubWF4KHkwLCBjdXJyZW50LnRvcCk7XG4gICAgeTEgPSBNYXRoLm1pbih5MSwgY3VycmVudC50b3AgKyBjdXJyZW50LmhlaWdodCk7XG4gICAgaWYgKHgxIDwgeDAgfHwgeTEgPCB5MCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGlmICh4MSA9PSBJbmZpbml0eSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBsYXlvdXRSZWN0THR3aCh4MCwgeTAsIHgxIC0geDAsIHkxIC0geTApO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHIyIHJlbGF0aXZlIHRvIHIxXG4gKiBAcGFyYW0geyFMYXlvdXRSZWN0RGVmfSByMVxuICogQHBhcmFtIHshTGF5b3V0UmVjdERlZn0gcjJcbiAqIEByZXR1cm4ge1JlbGF0aXZlUG9zaXRpb25zfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGF5b3V0UmVjdHNSZWxhdGl2ZVBvcyhyMSwgcjIpIHtcbiAgaWYgKHIxLnRvcCA8IHIyLnRvcCkge1xuICAgIHJldHVybiBSZWxhdGl2ZVBvc2l0aW9ucy5UT1A7XG4gIH0gZWxzZSBpZiAocjEuYm90dG9tID4gcjIuYm90dG9tKSB7XG4gICAgcmV0dXJuIFJlbGF0aXZlUG9zaXRpb25zLkJPVFRPTTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUmVsYXRpdmVQb3NpdGlvbnMuSU5TSURFO1xuICB9XG59XG5cbi8qKlxuICogRXhwYW5kIHRoZSBsYXlvdXQgcmVjdCB1c2luZyBtdWx0aXBsZXMgb2Ygd2lkdGggYW5kIGhlaWdodC5cbiAqIEBwYXJhbSB7IUxheW91dFJlY3REZWZ9IHJlY3QgT3JpZ2luYWwgcmVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkdyBFeHBhbnNpb24gaW4gd2lkdGgsIHNwZWNpZmllZCBhcyBhIG11bHRpcGxlIG9mIHdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IGRoIEV4cGFuc2lvbiBpbiBoZWlnaHQsIHNwZWNpZmllZCBhcyBhIG11bHRpcGxlIG9mIGhlaWdodC5cbiAqIEByZXR1cm4geyFMYXlvdXRSZWN0RGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kTGF5b3V0UmVjdChyZWN0LCBkdywgZGgpIHtcbiAgcmV0dXJuIGxheW91dFJlY3RMdHdoKHJlY3QubGVmdCAtIHJlY3Qud2lkdGggKiBkdyxcbiAgICAgIHJlY3QudG9wIC0gcmVjdC5oZWlnaHQgKiBkaCxcbiAgICAgIHJlY3Qud2lkdGggKiAoMSArIGR3ICogMiksXG4gICAgICByZWN0LmhlaWdodCAqICgxICsgZGggKiAyKSk7XG59XG5cbi8qKlxuICogTW92ZXMgdGhlIGxheW91dCByZWN0IHVzaW5nIGR4IGFuZCBkeS5cbiAqIEBwYXJhbSB7IUxheW91dFJlY3REZWZ9IHJlY3QgT3JpZ2luYWwgcmVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeCBNb3ZlIGhvcml6b250YWxseSB3aXRoIHRoaXMgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gZHkgTW92ZSB2ZXJ0aWNhbGx5IHdpdGggdGhpcyB2YWx1ZS5cbiAqIEByZXR1cm4geyFMYXlvdXRSZWN0RGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZUxheW91dFJlY3QocmVjdCwgZHgsIGR5KSB7XG4gIGlmICgoZHggPT0gMCAmJiBkeSA9PSAwKSB8fFxuICAgICAgKHJlY3Qud2lkdGggPT0gMCAmJiByZWN0LmhlaWdodCA9PSAwKSkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIHJldHVybiBsYXlvdXRSZWN0THR3aChyZWN0LmxlZnQgKyBkeCwgcmVjdC50b3AgKyBkeSxcbiAgICAgIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUxheW91dE1hcmdpbnNEZWZ9IG1hcmdpbnNcbiAqIEBwYXJhbSB7IUxheW91dE1hcmdpbnNDaGFuZ2VEZWZ9IGNoYW5nZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZU1hcmdpbnNDaGFuZ2VkKG1hcmdpbnMsIGNoYW5nZSkge1xuICByZXR1cm4gKGNoYW5nZS50b3AgIT09IHVuZGVmaW5lZCAmJiBjaGFuZ2UudG9wICE9IG1hcmdpbnMudG9wKSB8fFxuICAgICAgKGNoYW5nZS5yaWdodCAhPT0gdW5kZWZpbmVkICYmIGNoYW5nZS5yaWdodCAhPSBtYXJnaW5zLnJpZ2h0KSB8fFxuICAgICAgKGNoYW5nZS5ib3R0b20gIT09IHVuZGVmaW5lZCAmJiBjaGFuZ2UuYm90dG9tICE9IG1hcmdpbnMuYm90dG9tKSB8fFxuICAgICAgKGNoYW5nZS5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgY2hhbmdlLmxlZnQgIT0gbWFyZ2lucy5sZWZ0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFMYXlvdXRSZWN0RGVmfSBmcm9tXG4gKiBAcGFyYW0geyFMYXlvdXRSZWN0RGVmfSB0b1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxheW91dFJlY3RTaXplRXF1YWxzKGZyb20sIHRvKSB7XG4gIHJldHVybiBmcm9tLndpZHRoID09IHRvLndpZHRoICYmXG4gICAgICBmcm9tLmhlaWdodCA9PT0gdG8uaGVpZ2h0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7P0xheW91dFJlY3REZWZ9IHIxXG4gKiBAcGFyYW0gez9MYXlvdXRSZWN0RGVmfSByMlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxheW91dFJlY3RFcXVhbHMocjEsIHIyKSB7XG4gIGlmICghcjEgfHwgIXIyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiByMS5sZWZ0ID09IHIyLmxlZnQgJiYgcjEudG9wID09IHIyLnRvcCAmJlxuICAgICAgcjEud2lkdGggPT0gcjIud2lkdGggJiYgcjEuaGVpZ2h0ID09IHIyLmhlaWdodDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0xheW91dE1hcmdpbnNDaGFuZ2VEZWZ8dW5kZWZpbmVkfSBtYXJnaW5zQ2hhbmdlXG4gKiBAcmV0dXJuIHtMYXlvdXRNYXJnaW5zQ2hhbmdlRGVmfHVuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lTGF5b3V0TWFyZ2luc0NoYW5nZURlZihtYXJnaW5zQ2hhbmdlKSB7XG4gIGlmICghbWFyZ2luc0NoYW5nZSkge1xuICAgIHJldHVybiBtYXJnaW5zQ2hhbmdlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdG9wOiBtYXJnaW5zQ2hhbmdlLnRvcCxcbiAgICBib3R0b206IG1hcmdpbnNDaGFuZ2UuYm90dG9tLFxuICAgIGxlZnQ6IG1hcmdpbnNDaGFuZ2UubGVmdCxcbiAgICByaWdodDogbWFyZ2luc0NoYW5nZS5yaWdodCxcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSW1wbGVtZW50cyBlbGVtZW50IGxheW91dC4gU2VlIGh0dHBzOi8vZ29vLmdsLzlhdlh1VCBmb3JcbiAqIGRldGFpbHMuXG4gKi9cblxuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4vbG9nJztcbmltcG9ydCB7aHRtbEZvcn0gZnJvbSAnLi9zdGF0aWMtdGVtcGxhdGUnO1xuaW1wb3J0IHtpc0Zpbml0ZU51bWJlcn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge3NldFN0eWxlLCBzZXRTdHlsZXN9IGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IHtzdGFydHNXaXRofSBmcm9tICcuL3N0cmluZyc7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IExheW91dCA9IHtcbiAgTk9ESVNQTEFZOiAnbm9kaXNwbGF5JyxcbiAgRklYRUQ6ICdmaXhlZCcsXG4gIEZJWEVEX0hFSUdIVDogJ2ZpeGVkLWhlaWdodCcsXG4gIFJFU1BPTlNJVkU6ICdyZXNwb25zaXZlJyxcbiAgQ09OVEFJTkVSOiAnY29udGFpbmVyJyxcbiAgRklMTDogJ2ZpbGwnLFxuICBGTEVYX0lURU06ICdmbGV4LWl0ZW0nLFxuICBGTFVJRDogJ2ZsdWlkJyxcbiAgSU5UUklOU0lDOiAnaW50cmluc2ljJyxcbn07XG5cblxuLyoqXG4gKiBMYXlvdXQgcHJpb3JpdGllcyB0byB1c2Ugd2l0aCBCYXNlRWxlbWVudCNnZXRMYXlvdXRQcmlvcml0eSgpIGFuZFxuICogQmFzZUVsZW1lbnQjdXBkYXRlTGF5b3V0UHJpb3JpdHkoKS5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBMYXlvdXRQcmlvcml0eSA9IHtcbiAgQ09OVEVOVDogMCxcbiAgTUVUQURBVEE6IDEsXG4gIEFEUzogMixcbiAgQkFDS0dST1VORDogMyxcbn07XG5cblxuLyoqXG4gKiBDU1MgTGVuZ3RoIHR5cGUuIEUuZy4gXCIxcHhcIiBvciBcIjIwdmhcIi5cbiAqIEB0eXBlZGVmIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBsZXQgTGVuZ3RoRGVmO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgd2lkdGg6IHN0cmluZyxcbiAqICAgaGVpZ2h0OiBzdHJpbmdcbiAqIH19XG4gKi9cbmxldCBEaW1lbnNpb25zRGVmO1xuXG5cbi8qKlxuICogVGhlIHNldCBvZiBlbGVtZW50cyB3aXRoIG5hdHVyYWwgZGltZW5zaW9ucywgdGhhdCBpcywgZWxlbWVudHNcbiAqIHdoaWNoIGhhdmUgYSBrbm93biBkaW1lbnNpb24gZWl0aGVyIGJhc2VkIG9uIHRoZWlyIHZhbHVlIHNwZWNpZmllZCBoZXJlLFxuICogb3IsIGlmIHRoZSB2YWx1ZSBpcyBudWxsLCBhIGRpbWVuc2lvbiBzcGVjaWZpYyB0byB0aGUgYnJvd3Nlci5cbiAqIGBoYXNOYXR1cmFsRGltZW5zaW9uc2AgY2hlY2tzIGZvciBtZW1iZXJzaGlwIGluIHRoaXMgc2V0LlxuICogYGdldE5hdHVyYWxEaW1lbnNpb25zYCBkZXRlcm1pbmVzIHRoZSBkaW1lbnNpb25zIGZvciBhbiBlbGVtZW50IGluIHRoZVxuICogICAgc2V0IGFuZCBjYWNoZXMgaXQuXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsID9EaW1lbnNpb25zRGVmPn1cbiAqIEBwcml2YXRlICBWaXNpYmxlIGZvciB0ZXN0aW5nIG9ubHkhXG4gKi9cbmV4cG9ydCBjb25zdCBuYXR1cmFsRGltZW5zaW9uc18gPSB7XG4gICdBTVAtUElYRUwnOiB7d2lkdGg6ICcwcHgnLCBoZWlnaHQ6ICcwcHgnfSxcbiAgJ0FNUC1BTkFMWVRJQ1MnOiB7d2lkdGg6ICcxcHgnLCBoZWlnaHQ6ICcxcHgnfSxcbiAgLy8gVE9ETyhkdm95dGVua28pOiBhdWRpbyBzaG91bGQgaGF2ZSB3aWR0aDphdXRvLlxuICAnQU1QLUFVRElPJzogbnVsbCxcbiAgJ0FNUC1TT0NJQUwtU0hBUkUnOiB7d2lkdGg6ICc2MHB4JywgaGVpZ2h0OiAnNDRweCd9LFxufTtcblxuXG4vKipcbiAqIEVsZW1lbnRzIHRoYXQgdGhlIHByb2dlc3MgY2FuIGJlIHNob3duIGZvci4gVGhpcyBzZXQgaGFzIHRvIGJlIGV4dGVybmFsaXplZFxuICogc2luY2UgdGhlIGVsZW1lbnQncyBpbXBsZW1lbnRhdGlvbiBtYXkgbm90IGJlIGRvd25sb2FkZWQgeWV0LlxuICogQGVudW0ge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZSAgVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5IVxuICovXG5leHBvcnQgY29uc3QgTE9BRElOR19FTEVNRU5UU18gPSB7XG4gICdBTVAtQU5JTSc6IHRydWUsXG4gICdBTVAtQlJJR0hUQ09WRSc6IHRydWUsXG4gICdBTVAtR09PR0xFLURPQ1VNRU5ULUVNQkVEJzogdHJ1ZSxcbiAgJ0FNUC1FTUJFRCc6IHRydWUsXG4gICdBTVAtRkFDRUJPT0snOiB0cnVlLFxuICAnQU1QLUZBQ0VCT09LLUNPTU1FTlRTJzogdHJ1ZSxcbiAgJ0FNUC1GQUNFQk9PSy1MSUtFJzogdHJ1ZSxcbiAgJ0FNUC1GQUNFQk9PSy1QQUdFJzogdHJ1ZSxcbiAgJ0FNUC1JRlJBTUUnOiB0cnVlLFxuICAnQU1QLUlNRyc6IHRydWUsXG4gICdBTVAtSU5TVEFHUkFNJzogdHJ1ZSxcbiAgJ0FNUC1MSVNUJzogdHJ1ZSxcbiAgJ0FNUC1PT1lBTEEtUExBWUVSJzogdHJ1ZSxcbiAgJ0FNUC1QSU5URVJFU1QnOiB0cnVlLFxuICAnQU1QLVBMQVlCVVpaJzogdHJ1ZSxcbiAgJ0FNUC1WSURFTyc6IHRydWUsXG4gICdBTVAtWU9VVFVCRSc6IHRydWUsXG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEByZXR1cm4ge0xheW91dHx1bmRlZmluZWR9IFJldHVybnMgdW5kZWZpbmVkIGluIGNhc2Ugb2YgZmFpbHVyZSB0byBwYXJzZVxuICogICB0aGUgbGF5b3V0IHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGF5b3V0KHMpIHtcbiAgZm9yIChjb25zdCBrIGluIExheW91dCkge1xuICAgIGlmIChMYXlvdXRba10gPT0gcykge1xuICAgICAgcmV0dXJuIExheW91dFtrXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUxheW91dH0gbGF5b3V0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXlvdXRDbGFzcyhsYXlvdXQpIHtcbiAgcmV0dXJuICdpLWFtcGh0bWwtbGF5b3V0LScgKyBsYXlvdXQ7XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGlzIGxheW91dCBpbmhlcmVudGx5IGRlZmluZXMgdGhlIHNpemUuXG4gKiBAcGFyYW0geyFMYXlvdXR9IGxheW91dFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGF5b3V0U2l6ZURlZmluZWQobGF5b3V0KSB7XG4gIHJldHVybiAobGF5b3V0ID09IExheW91dC5GSVhFRCB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5GSVhFRF9IRUlHSFQgfHxcbiAgICAgIGxheW91dCA9PSBMYXlvdXQuUkVTUE9OU0lWRSB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5GSUxMIHx8XG4gICAgICBsYXlvdXQgPT0gTGF5b3V0LkZMRVhfSVRFTSB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5GTFVJRCB8fFxuICAgICAgbGF5b3V0ID09IExheW91dC5JTlRSSU5TSUMpO1xufVxuXG5cbi8qKlxuICogV2hldGhlciB0aGUgdGFnIGlzIGFuIGludGVybmFsIChzZXJ2aWNlKSBBTVAgdGFnLlxuICogQHBhcmFtIHshTm9kZXxzdHJpbmd9IHRhZ1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJuYWxFbGVtZW50KHRhZykge1xuICBjb25zdCB0YWdOYW1lID0gKHR5cGVvZiB0YWcgPT0gJ3N0cmluZycpID8gdGFnIDogdGFnLnRhZ05hbWU7XG4gIHJldHVybiB0YWdOYW1lICYmIHN0YXJ0c1dpdGgodGFnTmFtZS50b0xvd2VyQ2FzZSgpLCAnaS0nKTtcbn1cblxuXG4vKipcbiAqIFBhcnNlcyB0aGUgQ1NTIGxlbmd0aCB2YWx1ZS4gSWYgbm8gdW5pdHMgc3BlY2lmaWVkLCB0aGUgYXNzdW1lZCB2YWx1ZSBpc1xuICogXCJweFwiLiBSZXR1cm5zIHVuZGVmaW5lZCBpbiBjYXNlIG9mIHBhcnNpbmcgZXJyb3IuXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR8bnVsbH0gc1xuICogQHJldHVybiB7IUxlbmd0aERlZnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUxlbmd0aChzKSB7XG4gIGlmICh0eXBlb2YgcyA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBzICsgJ3B4JztcbiAgfVxuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICghL15cXGQrKFxcLlxcZCspPyhweHxlbXxyZW18dmh8dnd8dm1pbnx2bWF4fGNtfG1tfHF8aW58cGN8cHQpPyQvLnRlc3QocykpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICgvXlxcZCsoXFwuXFxkKyk/JC8udGVzdChzKSkge1xuICAgIHJldHVybiBzICsgJ3B4JztcbiAgfVxuICByZXR1cm4gcztcbn1cblxuXG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IHRoZSBzdXBwbGllZCB2YWx1ZSBpcyBhIG5vbi1wZXJjZW50IENTUyBMZW5ndGggdmFsdWUuXG4gKiBAcGFyYW0geyFMZW5ndGhEZWZ8c3RyaW5nfG51bGx8dW5kZWZpbmVkfSBsZW5ndGhcbiAqIEByZXR1cm4geyFMZW5ndGhEZWZ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRMZW5ndGgobGVuZ3RoKSB7XG4gIHVzZXIoKS5hc3NlcnQoXG4gICAgICAvXlxcZCsoXFwuXFxkKyk/KHB4fGVtfHJlbXx2aHx2d3x2bWlufHZtYXh8Y218bW18cXxpbnxwY3xwdCkkLy50ZXN0KGxlbmd0aCksXG4gICAgICAnSW52YWxpZCBsZW5ndGggdmFsdWU6ICVzJywgbGVuZ3RoKTtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7IUxlbmd0aERlZn0gKi8gKGxlbmd0aCk7XG59XG5cblxuXG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IHRoZSBzdXBwbGllZCB2YWx1ZSBpcyBhIENTUyBMZW5ndGggdmFsdWVcbiAqIChpbmNsdWRpbmcgcGVyY2VudCB1bml0KS5cbiAqIEBwYXJhbSB7IUxlbmd0aERlZnxzdHJpbmd9IGxlbmd0aFxuICogQHJldHVybiB7IUxlbmd0aERlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydExlbmd0aE9yUGVyY2VudChsZW5ndGgpIHtcbiAgdXNlcigpLmFzc2VydCgvXlxcZCsoXFwuXFxkKyk/KHB4fGVtfHJlbXx2aHx2d3x2bWlufHZtYXh8JSkkLy50ZXN0KGxlbmd0aCksXG4gICAgICAnSW52YWxpZCBsZW5ndGggb3IgcGVyY2VudCB2YWx1ZTogJXMnLCBsZW5ndGgpO1xuICByZXR1cm4gbGVuZ3RoO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB1bml0cyBmcm9tIHRoZSBDU1MgbGVuZ3RoIHZhbHVlLlxuICogQHBhcmFtIHshTGVuZ3RoRGVmfHN0cmluZ3xudWxsfHVuZGVmaW5lZH0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZW5ndGhVbml0cyhsZW5ndGgpIHtcbiAgYXNzZXJ0TGVuZ3RoKGxlbmd0aCk7XG4gIGRldigpLmFzc2VydFN0cmluZyhsZW5ndGgpO1xuICBjb25zdCBtID0gdXNlcigpLmFzc2VydChsZW5ndGgubWF0Y2goL1thLXpdKy9pKSxcbiAgICAgICdGYWlsZWQgdG8gcmVhZCB1bml0cyBmcm9tICVzJywgbGVuZ3RoKTtcbiAgcmV0dXJuIG1bMF07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBudW1lcmljIHZhbHVlIG9mIGEgQ1NTIGxlbmd0aCB2YWx1ZS5cbiAqIEBwYXJhbSB7IUxlbmd0aERlZnxzdHJpbmd8bnVsbHx1bmRlZmluZWR9IGxlbmd0aFxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aE51bWVyYWwobGVuZ3RoKSB7XG4gIGNvbnN0IHJlcyA9IHBhcnNlRmxvYXQobGVuZ3RoKTtcbiAgcmV0dXJuIGlzRmluaXRlTnVtYmVyKHJlcykgPyByZXMgOiB1bmRlZmluZWQ7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHRhZ05hbWUgaXMgYSBrbm93biBlbGVtZW50IHRoYXQgaGFzIG5hdHVyYWwgZGltZW5zaW9uc1xuICogaW4gb3VyIHJ1bnRpbWUgb3IgdGhlIGJyb3dzZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBUaGUgZWxlbWVudCB0YWcgbmFtZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNOYXR1cmFsRGltZW5zaW9ucyh0YWdOYW1lKSB7XG4gIHRhZ05hbWUgPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gIHJldHVybiBuYXR1cmFsRGltZW5zaW9uc19bdGFnTmFtZV0gIT09IHVuZGVmaW5lZDtcbn1cblxuXG4vKipcbiAqIERldGVybWluZXMgdGhlIGRlZmF1bHQgZGltZW5zaW9ucyBmb3IgYW4gZWxlbWVudCB3aGljaCBjb3VsZCB2YXJ5IGFjcm9zc1xuICogZGlmZmVyZW50IGJyb3dzZXIgaW1wbGVtZW50YXRpb25zLCBsaWtlIDxhdWRpbz4gZm9yIGluc3RhbmNlLlxuICogVGhpcyBvcGVyYXRpb24gY2FuIG9ubHkgYmUgY29tcGxldGVkIGZvciBhbiBlbGVtZW50IHdoaXRlbGlzdGVkIGJ5XG4gKiBgaGFzTmF0dXJhbERpbWVuc2lvbnNgLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7RGltZW5zaW9uc0RlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5hdHVyYWxEaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICBkZXYoKS5hc3NlcnQobmF0dXJhbERpbWVuc2lvbnNfW3RhZ05hbWVdICE9PSB1bmRlZmluZWQpO1xuICBpZiAoIW5hdHVyYWxEaW1lbnNpb25zX1t0YWdOYW1lXSkge1xuICAgIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBuYXR1cmFsVGFnTmFtZSA9IHRhZ05hbWUucmVwbGFjZSgvXkFNUFxcLS8sICcnKTtcbiAgICBjb25zdCB0ZW1wID0gZG9jLmNyZWF0ZUVsZW1lbnQobmF0dXJhbFRhZ05hbWUpO1xuICAgIC8vIEZvciBhdWRpbywgc2hvdWxkIG5vLW9wIGVsc2V3aGVyZS5cbiAgICB0ZW1wLmNvbnRyb2xzID0gdHJ1ZTtcbiAgICBzZXRTdHlsZXModGVtcCwge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICB9KTtcbiAgICBkb2MuYm9keS5hcHBlbmRDaGlsZCh0ZW1wKTtcbiAgICBuYXR1cmFsRGltZW5zaW9uc19bdGFnTmFtZV0gPSB7XG4gICAgICB3aWR0aDogKHRlbXAuLypPSyovb2Zmc2V0V2lkdGggfHwgMSkgKyAncHgnLFxuICAgICAgaGVpZ2h0OiAodGVtcC4vKk9LKi9vZmZzZXRIZWlnaHQgfHwgMSkgKyAncHgnLFxuICAgIH07XG4gICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQodGVtcCk7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7RGltZW5zaW9uc0RlZn0gKi8gKG5hdHVyYWxEaW1lbnNpb25zX1t0YWdOYW1lXSk7XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBsb2FkaW5nIGNhbiBiZSBzaG93biBmb3IgdGhlIHNwZWNpZmllZCBlbGVtZWVudC4gVGhpcyBzZXQgaGFzXG4gKiB0byBiZSBleHRlcm5hbGl6ZWQgc2luY2UgdGhlIGVsZW1lbnQncyBpbXBsZW1lbnRhdGlvbiBtYXkgbm90IGJlXG4gKiBkb3dubG9hZGVkIHlldC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRpbmdBbGxvd2VkKGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICBpZiAodGFnTmFtZSA9PSAnQU1QLUFEJyB8fCB0YWdOYW1lID09ICdBTVAtRU1CRUQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIExPQURJTkdfRUxFTUVOVFNfW3RhZ05hbWVdIHx8IGZhbHNlO1xufVxuXG5cbi8qKlxuICogQXBwbGllcyBsYXlvdXQgdG8gdGhlIGVsZW1lbnQuIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seS5cbiAqXG4gKiBcXCAgIFxcICAvICBcXCAgLyAgIC8gLyAgIFxcICAgICB8ICAgXyAgXFwgICAgIHwgIFxcIHwgIHwgfCAgfCB8ICBcXCB8ICB8ICAvIF9fX19ffFxuICogIFxcICAgXFwvICAgIFxcLyAgIC8gLyAgXiAgXFwgICAgfCAgfF8pICB8ICAgIHwgICBcXHwgIHwgfCAgfCB8ICAgXFx8ICB8IHwgIHwgIF9fXG4gKiAgIFxcICAgICAgICAgICAgLyAvICAvX1xcICBcXCAgIHwgICAgICAvICAgICB8ICAuIGAgIHwgfCAgfCB8ICAuIGAgIHwgfCAgfCB8XyB8XG4gKiAgICBcXCAgICAvXFwgICAgLyAvICBfX19fXyAgXFwgIHwgIHxcXCAgXFwtLS0tLnwgIHxcXCAgIHwgfCAgfCB8ICB8XFwgICB8IHwgIHxfX3wgfFxuICogICAgIFxcX18vICBcXF9fLyAvX18vICAgICBcXF9fXFwgfCBffCBgLl9fX19ffHxfX3wgXFxfX3wgfF9ffCB8X198IFxcX198ICBcXF9fX19fX3xcbiAqXG4gKiBUaGUgZXF1aXZhbGVudCBvZiB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgKFNTUikgYW5kXG4gKiBhbnkgY2hhbmdlcyBtYWRlIHRvIGl0IG11c3QgYmUgbWFkZSBpbiBjb29yZGluYXRpb24gd2l0aCBjYWNoZXMgdGhhdFxuICogaW1wbGVtZW50IFNTUi4gRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gU1NSIHNlZSBiaXQubHkvYW1wLXNzci5cbiAqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHshTGF5b3V0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTdGF0aWNMYXlvdXQoZWxlbWVudCkge1xuICAvLyBDaGVjayBpZiB0aGUgbGF5b3V0IGhhcyBhbHJlYWR5IGJlZW4gZG9uZSBieSBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuIFRoZVxuICAvLyBkb2N1bWVudCBtYXkgYmUgdmlzaWJsZSB0byB0aGUgdXNlciBpZiB0aGUgYm9pbGVycGxhdGUgd2FzIHJlbW92ZWQgc29cbiAgLy8gcGxlYXNlIHRha2UgY2FyZSBpbiBtYWtpbmcgY2hhbmdlcyBoZXJlLlxuICBjb25zdCBjb21wbGV0ZWRMYXlvdXRBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2ktYW1waHRtbC1sYXlvdXQnKTtcbiAgaWYgKGNvbXBsZXRlZExheW91dEF0dHIpIHtcbiAgICBjb25zdCBsYXlvdXQgPSAvKiogQHR5cGUgeyFMYXlvdXR9ICovIChkZXYoKS5hc3NlcnQoXG4gICAgICAgIHBhcnNlTGF5b3V0KGNvbXBsZXRlZExheW91dEF0dHIpKSk7XG4gICAgaWYgKChsYXlvdXQgPT0gTGF5b3V0LlJFU1BPTlNJVkUgfHwgbGF5b3V0ID09IExheW91dC5JTlRSSU5TSUMpXG4gICAgICAmJiBlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICAvLyBGaW5kIHNpemVyLCBidXQgYXNzdW1lIHRoYXQgaXQgbWlnaHQgbm90IGhhdmUgYmVlbiBwYXJzZWQgeWV0LlxuICAgICAgZWxlbWVudC5zaXplckVsZW1lbnQgPVxuICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignaS1hbXBodG1sLXNpemVyJykgfHwgdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAobGF5b3V0ID09IExheW91dC5OT0RJU1BMQVkpIHtcbiAgICAgIGFwcGx5Tm9EaXNwbGF5TGF5b3V0KGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbGF5b3V0O1xuICB9XG5cbiAgLy8gSWYgdGhlIGxheW91dCB3YXMgYWxyZWFkeSBkb25lIGJ5IHNlcnZlci1zaWRlIHJlbmRlcmluZyAoU1NSKSwgdGhlbiB0aGVcbiAgLy8gY29kZSBiZWxvdyB3aWxsIG5vdCBydW4uIEFueSBjaGFuZ2VzIGJlbG93IHdpbGwgbmVjZXNzaXRhdGUgYSBjaGFuZ2UgdG8gU1NSXG4gIC8vIGFuZCBtdXN0IGJlIGNvb3JkaW5hdGVkIHdpdGggY2FjaGVzIHRoYXQgaW1wbGVtZW50IFNTUi4gU2VlIGJpdC5seS9hbXAtc3NyLlxuXG4gIC8vIFBhcnNlIGxheW91dCBmcm9tIHRoZSBlbGVtZW50LlxuICBjb25zdCBsYXlvdXRBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2xheW91dCcpO1xuICBjb25zdCB3aWR0aEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgY29uc3QgaGVpZ2h0QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcbiAgY29uc3Qgc2l6ZXNBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NpemVzJyk7XG4gIGNvbnN0IGhlaWdodHNBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hlaWdodHMnKTtcblxuICAvLyBJbnB1dCBsYXlvdXQgYXR0cmlidXRlcy5cbiAgY29uc3QgaW5wdXRMYXlvdXQgPSBsYXlvdXRBdHRyID8gcGFyc2VMYXlvdXQobGF5b3V0QXR0cikgOiBudWxsO1xuICB1c2VyKCkuYXNzZXJ0KGlucHV0TGF5b3V0ICE9PSB1bmRlZmluZWQsICdVbmtub3duIGxheW91dDogJXMnLCBsYXlvdXRBdHRyKTtcbiAgLyoqIEBjb25zdCB7c3RyaW5nfG51bGx8dW5kZWZpbmVkfSAqL1xuICBjb25zdCBpbnB1dFdpZHRoID0gKHdpZHRoQXR0ciAmJiB3aWR0aEF0dHIgIT0gJ2F1dG8nKSA/XG4gICAgcGFyc2VMZW5ndGgod2lkdGhBdHRyKSA6IHdpZHRoQXR0cjtcbiAgdXNlcigpLmFzc2VydChpbnB1dFdpZHRoICE9PSB1bmRlZmluZWQsICdJbnZhbGlkIHdpZHRoIHZhbHVlOiAlcycsIHdpZHRoQXR0cik7XG4gIC8qKiBAY29uc3Qge3N0cmluZ3xudWxsfHVuZGVmaW5lZH0gKi9cbiAgY29uc3QgaW5wdXRIZWlnaHQgPSAoaGVpZ2h0QXR0ciAmJiBoZWlnaHRBdHRyICE9ICdmbHVpZCcpID9cbiAgICBwYXJzZUxlbmd0aChoZWlnaHRBdHRyKSA6IGhlaWdodEF0dHI7XG4gIHVzZXIoKS5hc3NlcnQoaW5wdXRIZWlnaHQgIT09IHVuZGVmaW5lZCwgJ0ludmFsaWQgaGVpZ2h0IHZhbHVlOiAlcycsXG4gICAgICBoZWlnaHRBdHRyKTtcblxuICAvLyBFZmZlY3RpdmUgbGF5b3V0IGF0dHJpYnV0ZXMuIFRoZXNlIGFyZSBlZmZlY3RpdmVseSBjb25zdGFudHMuXG4gIGxldCB3aWR0aDtcbiAgbGV0IGhlaWdodDtcbiAgbGV0IGxheW91dDtcblxuICAvLyBDYWxjdWxhdGUgZWZmZWN0aXZlIHdpZHRoIGFuZCBoZWlnaHQuXG4gIGlmICgoIWlucHV0TGF5b3V0IHx8IGlucHV0TGF5b3V0ID09IExheW91dC5GSVhFRCB8fFxuICAgICAgaW5wdXRMYXlvdXQgPT0gTGF5b3V0LkZJWEVEX0hFSUdIVCkgJiZcbiAgICAgICghaW5wdXRXaWR0aCB8fCAhaW5wdXRIZWlnaHQpICYmIGhhc05hdHVyYWxEaW1lbnNpb25zKGVsZW1lbnQudGFnTmFtZSkpIHtcbiAgICAvLyBEZWZhdWx0IHdpZHRoIGFuZCBoZWlnaHQ6IGhhbmRsZSBlbGVtZW50cyB0aGF0IGRvIG5vdCBzcGVjaWZ5IGFcbiAgICAvLyB3aWR0aC9oZWlnaHQgYW5kIGFyZSBkZWZpbmVkIHRvIGhhdmUgbmF0dXJhbCBicm93c2VyIGRpbWVuc2lvbnMuXG4gICAgY29uc3QgZGltZW5zaW9ucyA9IGdldE5hdHVyYWxEaW1lbnNpb25zKGVsZW1lbnQpO1xuICAgIHdpZHRoID0gKGlucHV0V2lkdGggfHwgaW5wdXRMYXlvdXQgPT0gTGF5b3V0LkZJWEVEX0hFSUdIVCkgPyBpbnB1dFdpZHRoIDpcbiAgICAgIGRpbWVuc2lvbnMud2lkdGg7XG4gICAgaGVpZ2h0ID0gaW5wdXRIZWlnaHQgfHwgZGltZW5zaW9ucy5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSBpbnB1dFdpZHRoO1xuICAgIGhlaWdodCA9IGlucHV0SGVpZ2h0O1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIGVmZmVjdGl2ZSBsYXlvdXQuXG4gIGlmIChpbnB1dExheW91dCkge1xuICAgIGxheW91dCA9IGlucHV0TGF5b3V0O1xuICB9IGVsc2UgaWYgKCF3aWR0aCAmJiAhaGVpZ2h0KSB7XG4gICAgbGF5b3V0ID0gTGF5b3V0LkNPTlRBSU5FUjtcbiAgfSBlbHNlIGlmIChoZWlnaHQgPT0gJ2ZsdWlkJykge1xuICAgIGxheW91dCA9IExheW91dC5GTFVJRDtcbiAgfSBlbHNlIGlmIChoZWlnaHQgJiYgKCF3aWR0aCB8fCB3aWR0aCA9PSAnYXV0bycpKSB7XG4gICAgbGF5b3V0ID0gTGF5b3V0LkZJWEVEX0hFSUdIVDtcbiAgfSBlbHNlIGlmIChoZWlnaHQgJiYgd2lkdGggJiYgKHNpemVzQXR0ciB8fCBoZWlnaHRzQXR0cikpIHtcbiAgICBsYXlvdXQgPSBMYXlvdXQuUkVTUE9OU0lWRTtcbiAgfSBlbHNlIHtcbiAgICBsYXlvdXQgPSBMYXlvdXQuRklYRUQ7XG4gIH1cblxuICAvLyBWZXJpZnkgbGF5b3V0IGF0dHJpYnV0ZXMuXG4gIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZJWEVEIHx8IGxheW91dCA9PSBMYXlvdXQuRklYRURfSEVJR0hUIHx8XG4gICAgICBsYXlvdXQgPT0gTGF5b3V0LlJFU1BPTlNJVkUgfHwgbGF5b3V0ID09IExheW91dC5JTlRSSU5TSUMpIHtcbiAgICB1c2VyKCkuYXNzZXJ0KGhlaWdodCwgJ0V4cGVjdGVkIGhlaWdodCB0byBiZSBhdmFpbGFibGU6ICVzJywgaGVpZ2h0QXR0cik7XG4gIH1cbiAgaWYgKGxheW91dCA9PSBMYXlvdXQuRklYRURfSEVJR0hUKSB7XG4gICAgdXNlcigpLmFzc2VydCghd2lkdGggfHwgd2lkdGggPT0gJ2F1dG8nLFxuICAgICAgICAnRXhwZWN0ZWQgd2lkdGggdG8gYmUgZWl0aGVyIGFic2VudCBvciBlcXVhbCBcImF1dG9cIiAnICtcbiAgICAgICAgJ2ZvciBmaXhlZC1oZWlnaHQgbGF5b3V0OiAlcycsIHdpZHRoQXR0cik7XG4gIH1cbiAgaWYgKGxheW91dCA9PSBMYXlvdXQuRklYRUQgfHwgbGF5b3V0ID09IExheW91dC5SRVNQT05TSVZFIHx8XG4gICAgICBsYXlvdXQgPT0gTGF5b3V0LklOVFJJTlNJQykge1xuICAgIHVzZXIoKS5hc3NlcnQod2lkdGggJiYgd2lkdGggIT0gJ2F1dG8nLFxuICAgICAgICAnRXhwZWN0ZWQgd2lkdGggdG8gYmUgYXZhaWxhYmxlIGFuZCBub3QgZXF1YWwgdG8gXCJhdXRvXCI6ICVzJyxcbiAgICAgICAgd2lkdGhBdHRyKTtcbiAgfVxuXG4gIGlmIChsYXlvdXQgPT0gTGF5b3V0LlJFU1BPTlNJVkUgfHwgbGF5b3V0ID09IExheW91dC5JTlRSSU5TSUMpIHtcbiAgICB1c2VyKCkuYXNzZXJ0KGdldExlbmd0aFVuaXRzKHdpZHRoKSA9PSBnZXRMZW5ndGhVbml0cyhoZWlnaHQpLFxuICAgICAgICAnTGVuZ3RoIHVuaXRzIHNob3VsZCBiZSB0aGUgc2FtZSBmb3Igd2lkdGggYW5kIGhlaWdodDogJXMsICVzJyxcbiAgICAgICAgd2lkdGhBdHRyLCBoZWlnaHRBdHRyKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyKCkuYXNzZXJ0KGhlaWdodHNBdHRyID09PSBudWxsLFxuICAgICAgICAnVW5leHBlY3RlZCBcImhlaWdodHNcIiBhdHRyaWJ1dGUgZm9yIG5vbmUtcmVzcG9uc2l2ZSBsYXlvdXQnKTtcbiAgfVxuXG4gIC8vIEFwcGx5IFVJLlxuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoZ2V0TGF5b3V0Q2xhc3MobGF5b3V0KSk7XG4gIGlmIChpc0xheW91dFNpemVEZWZpbmVkKGxheW91dCkpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1sYXlvdXQtc2l6ZS1kZWZpbmVkJyk7XG4gIH1cbiAgaWYgKGxheW91dCA9PSBMYXlvdXQuTk9ESVNQTEFZKSB7XG4gICAgLy8gQ1NTIGRlZmluZXMgbGF5b3V0PW5vZGlzcGxheSBhdXRvbWF0aWNhbGx5IHdpdGggYGRpc3BsYXk6bm9uZWAuIFRodXNcbiAgICAvLyBubyBhZGRpdGlvbmFsIHN0eWxpbmcgaXMgbmVlZGVkLlxuICAgIGFwcGx5Tm9EaXNwbGF5TGF5b3V0KGVsZW1lbnQpO1xuICB9IGVsc2UgaWYgKGxheW91dCA9PSBMYXlvdXQuRklYRUQpIHtcbiAgICBzZXRTdHlsZXMoZWxlbWVudCwge1xuICAgICAgd2lkdGg6IGRldigpLmFzc2VydFN0cmluZyh3aWR0aCksXG4gICAgICBoZWlnaHQ6IGRldigpLmFzc2VydFN0cmluZyhoZWlnaHQpLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKGxheW91dCA9PSBMYXlvdXQuRklYRURfSEVJR0hUKSB7XG4gICAgc2V0U3R5bGUoZWxlbWVudCwgJ2hlaWdodCcsIGRldigpLmFzc2VydFN0cmluZyhoZWlnaHQpKTtcbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LlJFU1BPTlNJVkUpIHtcbiAgICBjb25zdCBzaXplciA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpLWFtcGh0bWwtc2l6ZXInKTtcbiAgICBzZXRTdHlsZXMoc2l6ZXIsIHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBwYWRkaW5nVG9wOlxuICAgICAgICAoKGdldExlbmd0aE51bWVyYWwoaGVpZ2h0KSAvIGdldExlbmd0aE51bWVyYWwod2lkdGgpKSAqIDEwMCkgKyAnJScsXG4gICAgfSk7XG4gICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoc2l6ZXIsIGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgZWxlbWVudC5zaXplckVsZW1lbnQgPSBzaXplcjtcbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LklOVFJJTlNJQykge1xuICAgIC8vIEludHJpbnNpYyB1c2VzIGFuIHN2ZyBpbnNpZGUgdGhlIHNpemVyIGVsZW1lbnQgcmF0aGVyIHRoYW4gdGhlIHBhZGRpbmdcbiAgICAvLyB0cmljayBOb3RlIGEgbmFrZWQgc3ZnIHdvbid0IHdvcmsgYmVjYXN1ZSBvdGhlciB0aGluZyBleHBlY3QgdGhlXG4gICAgLy8gaS1hbXBodG1sLXNpemVyIGVsZW1lbnRcbiAgICBjb25zdCBzaXplciA9IGh0bWxGb3IoZWxlbWVudClgXG4gICAgICA8aS1hbXBodG1sLXNpemVyIGNsYXNzPVwiaS1hbXBodG1sLXNpemVyXCI+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJpLWFtcGh0bWwtaW50cmluc2ljLXNpemVyXCIgLz5cbiAgICAgIDwvaS1hbXBodG1sLXNpemVyPmA7XG4gICAgY29uc3QgaW50cmluc2ljU2l6ZXIgPSBzaXplci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICBpbnRyaW5zaWNTaXplci5zZXRBdHRyaWJ1dGUoJ3NyYycsXG4gICAgICAgIGBkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCw8c3ZnIGhlaWdodD1cIiR7aGVpZ2h0fVwiIHdpZHRoPVwiJHt3aWR0aH1cIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiLz5gKTtcbiAgICBlbGVtZW50Lmluc2VydEJlZm9yZShzaXplciwgZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAvLyBUT0RPKGpwZXR0aXR0KTogc2l6ZXIgaXMgbGVha2VkIGFuZCBjYW4ndCBiZSBjbGVhbmVkIHVwLlxuICAgIGVsZW1lbnQuc2l6ZXJFbGVtZW50ID0gaW50cmluc2ljU2l6ZXI7XG4gIH0gZWxzZSBpZiAobGF5b3V0ID09IExheW91dC5GSUxMKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LkNPTlRBSU5FUikge1xuICAgIC8vIERvIG5vdGhpbmcuIEVsZW1lbnRzIHRoZW1zZWx2ZXMgd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBzdXBwbGllZFxuICAgIC8vIGxheW91dCB2YWx1ZSBpcyBhY2NlcHRhYmxlLiBJbiBwYXJ0aWN1bGFyIGNvbnRhaW5lciBpcyBvbmx5IE9LXG4gICAgLy8gc29tZXRpbWVzLlxuICB9IGVsc2UgaWYgKGxheW91dCA9PSBMYXlvdXQuRkxFWF9JVEVNKSB7XG4gICAgLy8gU2V0IGhlaWdodCBhbmQgd2lkdGggdG8gYSBmbGV4IGl0ZW0gaWYgdGhleSBleGlzdC5cbiAgICAvLyBUaGUgc2l6ZSBzZXQgdG8gYSBmbGV4IGl0ZW0gY291bGQgYmUgb3ZlcnJpZGRlbiBieSBgZGlzcGxheTogZmxleGAgbGF0ZXIuXG4gICAgaWYgKHdpZHRoKSB7XG4gICAgICBzZXRTdHlsZShlbGVtZW50LCAnd2lkdGgnLCB3aWR0aCk7XG4gICAgfVxuICAgIGlmIChoZWlnaHQpIHtcbiAgICAgIHNldFN0eWxlKGVsZW1lbnQsICdoZWlnaHQnLCBoZWlnaHQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gTGF5b3V0LkZMVUlEKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpLWFtcGh0bWwtbGF5b3V0LWF3YWl0aW5nLXNpemUnKTtcbiAgICBpZiAod2lkdGgpIHtcbiAgICAgIHNldFN0eWxlKGVsZW1lbnQsICd3aWR0aCcsIHdpZHRoKTtcbiAgICB9XG4gICAgc2V0U3R5bGUoZWxlbWVudCwgJ2hlaWdodCcsIDApO1xuICB9XG4gIHJldHVybiBsYXlvdXQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGFwcGx5Tm9EaXNwbGF5TGF5b3V0KGVsZW1lbnQpIHtcbiAgLy8gVE9ETyhkdm95dGVua28sICM5MzUzKTogb25jZSBgdG9nZ2xlTGF5b3V0RGlzcGxheWAgQVBJIGhhcyBiZWVuIGRlcGxveWVkXG4gIC8vIGV2ZXJ5d2hlcmUsIHN3aXRjaCBhbGwgcmVsZXZhbnQgZWxlbWVudHMgdG8gdGhpcyBBUEkuIEluIHRoZSBtZWFudGltZSxcbiAgLy8gc2ltcGx5IHVuYmxvY2sgZGlzcGxheSB0b2dnbGluZyB2aWEgYHN0eWxlPVwiZGlzcGxheTogLi4uXCJgLlxuICBzZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScsICdub25lJyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaS1hbXBodG1sLWRpc3BsYXknKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4vbW9kZSc7XG5pbXBvcnQge2dldE1vZGVPYmplY3R9IGZyb20gJy4vbW9kZS1vYmplY3QnO1xuaW1wb3J0IHtpc0VudW1WYWx1ZX0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVHJpcGxlIHplcm8gd2lkdGggc3BhY2UuXG4gKlxuICogVGhpcyBpcyBhZGRlZCB0byB1c2VyIGVycm9yIG1lc3NhZ2VzLCBzbyB0aGF0IHdlIGNhbiBsYXRlciBpZGVudGlmeVxuICogdGhlbSwgd2hlbiB0aGUgb25seSB0aGluZyB0aGF0IHdlIGhhdmUgaXMgdGhlIG1lc3NhZ2UuIFRoaXMgaXMgdGhlXG4gKiBjYXNlIGluIG1hbnkgYnJvd3NlcnMgd2hlbiB0aGUgZ2xvYmFsIGV4Y2VwdGlvbiBoYW5kbGVyIGlzIGludm9rZWQuXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBVU0VSX0VSUk9SX1NFTlRJTkVMID0gJ1xcdTIwMEJcXHUyMDBCXFx1MjAwQic7XG5cblxuLyoqXG4gKiBGb3VyIHplcm8gd2lkdGggc3BhY2UuXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBVU0VSX0VSUk9SX0VNQkVEX1NFTlRJTkVMID0gJ1xcdTIwMEJcXHUyMDBCXFx1MjAwQlxcdTIwMEInO1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBtZXNzYWdlIHdhcyBhIHVzZXIgZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VzZXJFcnJvck1lc3NhZ2UobWVzc2FnZSkge1xuICByZXR1cm4gbWVzc2FnZS5pbmRleE9mKFVTRVJfRVJST1JfU0VOVElORUwpID49IDA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBtZXNzYWdlIHdhcyBhIGEgdXNlciBlcnJvciBmcm9tIGFuIGlmcmFtZSBlbWJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVXNlckVycm9yRW1iZWQobWVzc2FnZSkge1xuICByZXR1cm4gbWVzc2FnZS5pbmRleE9mKFVTRVJfRVJST1JfRU1CRURfU0VOVElORUwpID49IDA7XG59XG5cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByaXZhdGUgVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5LlxuICovXG5leHBvcnQgY29uc3QgTG9nTGV2ZWwgPSB7XG4gIE9GRjogMCxcbiAgRVJST1I6IDEsXG4gIFdBUk46IDIsXG4gIElORk86IDMsXG4gIEZJTkU6IDQsXG59O1xuXG4vKipcbiAqIFNldHMgcmVwb3J0RXJyb3IgZnVuY3Rpb24uIENhbGxlZCBmcm9tIGVycm9yLmpzIHRvIGJyZWFrIGN5Y2xpY1xuICogZGVwZW5kZW5jeS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgIUVsZW1lbnQ9KXx1bmRlZmluZWR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRSZXBvcnRFcnJvcihmbikge1xuICBzZWxmLnJlcG9ydEVycm9yID0gZm47XG59XG5cbi8qKlxuICogQHR5cGUgeyFMb2dMZXZlbHx1bmRlZmluZWR9XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgbGV2ZWxPdmVycmlkZV8gPSB1bmRlZmluZWQ7XG5cbi8qKlxuICogQHBhcmFtIHshTG9nTGV2ZWx9IGxldmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdmVycmlkZUxvZ0xldmVsKGxldmVsKSB7XG4gIGxldmVsT3ZlcnJpZGVfID0gbGV2ZWw7XG59XG5cbi8qKlxuICogTG9nZ2luZyBjbGFzcy4gVXNlIG9mIHNlbnRpbmVsIHN0cmluZyBpbnN0ZWFkIG9mIGEgYm9vbGVhbiB0byBjaGVjayB1c2VyL2RldlxuICogZXJyb3JzIGJlY2F1c2UgZXJyb3JzIGNvdWxkIGJlIHJldGhyb3duIGJ5IHNvbWUgbmF0aXZlIGNvZGUgYXMgYSBuZXcgZXJyb3IsXG4gKiBhbmQgb25seSBhIG1lc3NhZ2Ugd291bGQgc3Vydml2ZS4gQWxzbywgc29tZSBicm93c2VyIGRvbuKAmXQgc3VwcG9ydCBhIDV0aFxuICogZXJyb3Igb2JqZWN0IGFyZ3VtZW50IGluIHdpbmRvdy5vbmVycm9yLiBMaXN0IG9mIHN1cHBvcnRpbmcgYnJvd3NlciBjYW4gYmVcbiAqIGZvdW5kIGhlcmU6XG4gKiBodHRwczovL2Jsb2cuc2VudHJ5LmlvLzIwMTYvMDEvMDQvY2xpZW50LWphdmFzY3JpcHQtcmVwb3J0aW5nLXdpbmRvdy1vbmVycm9yLmh0bWxcbiAqIEBmaW5hbFxuICogQHByaXZhdGUgVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5LlxuICovXG5leHBvcnQgY2xhc3MgTG9nIHtcbiAgLyoqXG4gICAqIG9wdF9zdWZmaXggd2lsbCBiZSBhcHBlbmRlZCB0byBlcnJvciBtZXNzYWdlIHRvIGlkZW50aWZ5IHRoZSB0eXBlIG9mIHRoZVxuICAgKiBlcnJvciBtZXNzYWdlLiBXZSBjYW4ndCByZWx5IG9uIHRoZSBlcnJvciBvYmplY3QgdG8gcGFzcyBhbG9uZyB0aGUgdHlwZVxuICAgKiBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgZG8gbm90IGhhdmUgdGhpcyBwYXJhbSBpbiBpdHMgd2luZG93Lm9uZXJyb3IgQVBJLlxuICAgKiBTZWU6XG4gICAqIGh0dHBzOi8vYmxvZy5zZW50cnkuaW8vMjAxNi8wMS8wNC9jbGllbnQtamF2YXNjcmlwdC1yZXBvcnRpbmctd2luZG93LW9uZXJyb3IuaHRtbFxuICAgKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCEuL21vZGUuTW9kZURlZik6IUxvZ0xldmVsfSBsZXZlbEZ1bmNcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfc3VmZml4XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIGxldmVsRnVuYywgb3B0X3N1ZmZpeCkge1xuICAgIC8qKlxuICAgICAqIEluIHRlc3RzIHdlIHVzZSB0aGUgbWFpbiB0ZXN0IHdpbmRvdyBpbnN0ZWFkIG9mIHRoZSBpZnJhbWUgd2hlcmVcbiAgICAgKiB0aGUgdGVzdHMgcnVucyBiZWNhdXNlIG9ubHkgdGhlIGZvcm1lciBpcyByZWxheWVkIHRvIHRoZSBjb25zb2xlLlxuICAgICAqIEBjb25zdCB7IVdpbmRvd31cbiAgICAgKi9cbiAgICB0aGlzLndpbiA9IChnZXRNb2RlKCkudGVzdCAmJiB3aW4uQU1QX1RFU1RfSUZSQU1FKSA/IHdpbi5wYXJlbnQgOiB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbighLi9tb2RlLk1vZGVEZWYpOiFMb2dMZXZlbH0gKi9cbiAgICB0aGlzLmxldmVsRnVuY18gPSBsZXZlbEZ1bmM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshTG9nTGV2ZWx9ICovXG4gICAgdGhpcy5sZXZlbF8gPSB0aGlzLmRlZmF1bHRMZXZlbF8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnN1ZmZpeF8gPSBvcHRfc3VmZml4IHx8ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFMb2dMZXZlbH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldExldmVsXygpIHtcbiAgICByZXR1cm4gKGxldmVsT3ZlcnJpZGVfICE9PSB1bmRlZmluZWQpID8gbGV2ZWxPdmVycmlkZV8gOiB0aGlzLmxldmVsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshTG9nTGV2ZWx9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWZhdWx0TGV2ZWxfKCkge1xuICAgIC8vIE5vIGNvbnNvbGUgLSBjYW4ndCBlbmFibGUgbG9nZ2luZy5cbiAgICBpZiAoIXRoaXMud2luLmNvbnNvbGUgfHwgIXRoaXMud2luLmNvbnNvbGUubG9nKSB7XG4gICAgICByZXR1cm4gTG9nTGV2ZWwuT0ZGO1xuICAgIH1cblxuICAgIC8vIExvZ2dpbmcgaGFzIGJlZW4gZXhwbGljaXRseSBkaXNhYmxlZC5cbiAgICBpZiAoZ2V0TW9kZSgpLmxvZyA9PSAnMCcpIHtcbiAgICAgIHJldHVybiBMb2dMZXZlbC5PRkY7XG4gICAgfVxuXG4gICAgLy8gTG9nZ2luZyBpcyBlbmFibGVkIGZvciB0ZXN0cyBkaXJlY3RseS5cbiAgICBpZiAoZ2V0TW9kZSgpLnRlc3QgJiYgdGhpcy53aW4uRU5BQkxFX0xPRykge1xuICAgICAgcmV0dXJuIExvZ0xldmVsLkZJTkU7XG4gICAgfVxuXG4gICAgLy8gTG9jYWxEZXYgYnkgZGVmYXVsdCBhbGxvd3MgSU5GTyBsZXZlbCwgdW5sZXNzIG92ZXJyaWRlbiBieSBgI2xvZ2AuXG4gICAgaWYgKGdldE1vZGUoKS5sb2NhbERldiAmJiAhZ2V0TW9kZSgpLmxvZykge1xuICAgICAgcmV0dXJuIExvZ0xldmVsLklORk87XG4gICAgfVxuXG4gICAgLy8gRGVsZWdhdGUgdG8gdGhlIHNwZWNpZmljIHJlc29sdmVyLlxuICAgIHJldHVybiB0aGlzLmxldmVsRnVuY18oZ2V0TW9kZU9iamVjdCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXZlbFxuICAgKiBAcGFyYW0geyFBcnJheX0gbWVzc2FnZXNcbiAgICovXG4gIG1zZ18odGFnLCBsZXZlbCwgbWVzc2FnZXMpIHtcbiAgICBpZiAodGhpcy5nZXRMZXZlbF8oKSAhPSBMb2dMZXZlbC5PRkYpIHtcbiAgICAgIGxldCBmbiA9IHRoaXMud2luLmNvbnNvbGUubG9nO1xuICAgICAgaWYgKGxldmVsID09ICdFUlJPUicpIHtcbiAgICAgICAgZm4gPSB0aGlzLndpbi5jb25zb2xlLmVycm9yIHx8IGZuO1xuICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PSAnSU5GTycpIHtcbiAgICAgICAgZm4gPSB0aGlzLndpbi5jb25zb2xlLmluZm8gfHwgZm47XG4gICAgICB9IGVsc2UgaWYgKGxldmVsID09ICdXQVJOJykge1xuICAgICAgICBmbiA9IHRoaXMud2luLmNvbnNvbGUud2FybiB8fCBmbjtcbiAgICAgIH1cbiAgICAgIGlmIChnZXRNb2RlKCkubG9jYWxEZXYpIHtcbiAgICAgICAgbWVzc2FnZXMudW5zaGlmdCgnWycgKyB0YWcgKyAnXScpO1xuICAgICAgfVxuICAgICAgZm4uYXBwbHkodGhpcy53aW4uY29uc29sZSwgbWVzc2FnZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGV2ZWxfKCkgIT0gTG9nTGV2ZWwuT0ZGO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydHMgYSBmaW5lLWdyYWluZWQgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqL1xuICBmaW5lKHRhZywgdmFyX2FyZ3MpIHtcbiAgICBpZiAodGhpcy5nZXRMZXZlbF8oKSA+PSBMb2dMZXZlbC5GSU5FKSB7XG4gICAgICB0aGlzLm1zZ18odGFnLCAnRklORScsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGEgaW5mb3JtYXRpb25hbCBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICovXG4gIGluZm8odGFnLCB2YXJfYXJncykge1xuICAgIGlmICh0aGlzLmdldExldmVsXygpID49IExvZ0xldmVsLklORk8pIHtcbiAgICAgIHRoaXMubXNnXyh0YWcsICdJTkZPJywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydHMgYSB3YXJuaW5nIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKi9cbiAgd2Fybih0YWcsIHZhcl9hcmdzKSB7XG4gICAgaWYgKHRoaXMuZ2V0TGV2ZWxfKCkgPj0gTG9nTGV2ZWwuV0FSTikge1xuICAgICAgdGhpcy5tc2dfKHRhZywgJ1dBUk4nLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0cyBhbiBlcnJvciBtZXNzYWdlLiBJZiB0aGUgbG9nZ2luZyBpcyBkaXNhYmxlZCwgdGhlIGVycm9yIGlzIHJldGhyb3duXG4gICAqIGFzeW5jaHJvbm91c2x5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICogQHJldHVybiB7IUVycm9yfHVuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVycm9yXyh0YWcsIHZhcl9hcmdzKSB7XG4gICAgaWYgKHRoaXMuZ2V0TGV2ZWxfKCkgPj0gTG9nTGV2ZWwuRVJST1IpIHtcbiAgICAgIHRoaXMubXNnXyh0YWcsICdFUlJPUicsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvciA9IGNyZWF0ZUVycm9yVmFyZ3MuYXBwbHkobnVsbCxcbiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgIHRoaXMucHJlcGFyZUVycm9yXyhlcnJvcik7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydHMgYW4gZXJyb3IgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqL1xuICBlcnJvcih0YWcsIHZhcl9hcmdzKSB7XG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLmVycm9yXy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgZXJyb3IubmFtZSA9IHRhZyB8fCBlcnJvci5uYW1lO1xuICAgICAgLy8gcmVwb3J0RXJyb3IgaXMgaW5zdGFsbGVkIGdsb2JhbGx5IHBlciB3aW5kb3cgaW4gdGhlIGVudHJ5IHBvaW50LlxuICAgICAgc2VsZi5yZXBvcnRFcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydHMgYW4gZXJyb3IgbWVzc2FnZSBhbmQgbWFya3Mgd2l0aCBhbiBleHBlY3RlZCBwcm9wZXJ0eS4gSWYgdGhlXG4gICAqIGxvZ2dpbmcgaXMgZGlzYWJsZWQsIHRoZSBlcnJvciBpcyByZXRocm93biBhc3luY2hyb25vdXNseS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVudXNlZFRhZ1xuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqL1xuICBleHBlY3RlZEVycm9yKHVudXNlZFRhZywgdmFyX2FyZ3MpIHtcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuZXJyb3JfLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBlcnJvci5leHBlY3RlZCA9IHRydWU7XG4gICAgICAvLyByZXBvcnRFcnJvciBpcyBpbnN0YWxsZWQgZ2xvYmFsbHkgcGVyIHdpbmRvdyBpbiB0aGUgZW50cnkgcG9pbnQuXG4gICAgICBzZWxmLnJlcG9ydEVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlcnJvciBvYmplY3QuXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICogQHJldHVybiB7IUVycm9yfVxuICAgKi9cbiAgY3JlYXRlRXJyb3IodmFyX2FyZ3MpIHtcbiAgICBjb25zdCBlcnJvciA9IGNyZWF0ZUVycm9yVmFyZ3MuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB0aGlzLnByZXBhcmVFcnJvcl8oZXJyb3IpO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVycm9yIG9iamVjdCB3aXRoIGl0cyBleHBlY3RlZCBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKiBAcmV0dXJuIHshRXJyb3J9XG4gICAqL1xuICBjcmVhdGVFeHBlY3RlZEVycm9yKHZhcl9hcmdzKSB7XG4gICAgY29uc3QgZXJyb3IgPSBjcmVhdGVFcnJvclZhcmdzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5wcmVwYXJlRXJyb3JfKGVycm9yKTtcbiAgICBlcnJvci5leHBlY3RlZCA9IHRydWU7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXNuJ3QgdHJ1ZWlzaC5cbiAgICpcbiAgICogU3VwcG9ydHMgYXJndW1lbnQgc3Vic3RpdHV0aW9uIGludG8gdGhlIG1lc3NhZ2UgdmlhICVzIHBsYWNlaG9sZGVycy5cbiAgICpcbiAgICogVGhyb3dzIGFuIGVycm9yIG9iamVjdCB0aGF0IGhhcyB0d28gZXh0cmEgcHJvcGVydGllczpcbiAgICogLSBhc3NvY2lhdGVkRWxlbWVudDogVGhpcyBpcyB0aGUgZmlyc3QgZWxlbWVudCBwcm92aWRlZCBpbiB0aGUgdmFyIGFyZ3MuXG4gICAqICAgSXQgY2FuIGJlIHVzZWQgZm9yIGltcHJvdmVkIGRpc3BsYXkgb2YgZXJyb3IgbWVzc2FnZXMuXG4gICAqIC0gbWVzc2FnZUFycmF5OiBUaGUgZWxlbWVudHMgb2YgdGhlIHN1YnN0aXR1dGVkIG1lc3NhZ2UgYXMgbm9uLXN0cmluZ2lmaWVkXG4gICAqICAgZWxlbWVudHMgaW4gYW4gYXJyYXkuIFdoZW4gZS5nLiBwYXNzZWQgdG8gY29uc29sZS5lcnJvciB0aGlzIHlpZWxkc1xuICAgKiAgIG5hdGl2ZSBkaXNwbGF5cyBvZiB0aGluZ3MgbGlrZSBIVE1MIGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge1R9IHNob3VsZEJlVHJ1ZWlzaCBUaGUgdmFsdWUgdG8gYXNzZXJ0LiBUaGUgYXNzZXJ0IGZhaWxzIGlmIGl0IGRvZXNcbiAgICogICAgIG5vdCBldmFsdWF0ZSB0byB0cnVlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9tZXNzYWdlIFRoZSBhc3NlcnRpb24gbWVzc2FnZVxuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzIEFyZ3VtZW50cyBzdWJzdGl0dXRlZCBpbnRvICVzIGluIHRoZSBtZXNzYWdlLlxuICAgKiBAcmV0dXJuIHtUfSBUaGUgdmFsdWUgb2Ygc2hvdWxkQmVUcnVlaXNoLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBlc2xpbnQgXCJnb29nbGUtY2FtZWxjYXNlL2dvb2dsZS1jYW1lbGNhc2VcIjogMFxuICAgKi9cbiAgYXNzZXJ0KHNob3VsZEJlVHJ1ZWlzaCwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gICAgbGV0IGZpcnN0RWxlbWVudDtcbiAgICBpZiAoIXNob3VsZEJlVHJ1ZWlzaCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG9wdF9tZXNzYWdlIHx8ICdBc3NlcnRpb24gZmFpbGVkJztcbiAgICAgIGNvbnN0IHNwbGl0TWVzc2FnZSA9IG1lc3NhZ2Uuc3BsaXQoJyVzJyk7XG4gICAgICBjb25zdCBmaXJzdCA9IHNwbGl0TWVzc2FnZS5zaGlmdCgpO1xuICAgICAgbGV0IGZvcm1hdHRlZCA9IGZpcnN0O1xuICAgICAgY29uc3QgbWVzc2FnZUFycmF5ID0gW107XG4gICAgICBwdXNoSWZOb25FbXB0eShtZXNzYWdlQXJyYXksIGZpcnN0KTtcbiAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaWYgKHZhbCAmJiB2YWwudGFnTmFtZSkge1xuICAgICAgICAgIGZpcnN0RWxlbWVudCA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0Q29uc3RhbnQgPSBzcGxpdE1lc3NhZ2Uuc2hpZnQoKTtcbiAgICAgICAgbWVzc2FnZUFycmF5LnB1c2godmFsKTtcbiAgICAgICAgcHVzaElmTm9uRW1wdHkobWVzc2FnZUFycmF5LCBuZXh0Q29uc3RhbnQudHJpbSgpKTtcbiAgICAgICAgZm9ybWF0dGVkICs9IHRvU3RyaW5nKHZhbCkgKyBuZXh0Q29uc3RhbnQ7XG4gICAgICB9XG4gICAgICBjb25zdCBlID0gbmV3IEVycm9yKGZvcm1hdHRlZCk7XG4gICAgICBlLmZyb21Bc3NlcnQgPSB0cnVlO1xuICAgICAgZS5hc3NvY2lhdGVkRWxlbWVudCA9IGZpcnN0RWxlbWVudDtcbiAgICAgIGUubWVzc2FnZUFycmF5ID0gbWVzc2FnZUFycmF5O1xuICAgICAgdGhpcy5wcmVwYXJlRXJyb3JfKGUpO1xuICAgICAgLy8gcmVwb3J0RXJyb3IgaXMgaW5zdGFsbGVkIGdsb2JhbGx5IHBlciB3aW5kb3cgaW4gdGhlIGVudHJ5IHBvaW50LlxuICAgICAgc2VsZi5yZXBvcnRFcnJvcihlKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRCZVRydWVpc2g7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpc24ndCBhbiBFbGVtZW50XG4gICAqXG4gICAqIE90aGVyd2lzZSBzZWUgYGFzc2VydGAgZm9yIHVzYWdlXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gc2hvdWxkQmVFbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgVGhlIGFzc2VydGlvbiBtZXNzYWdlXG4gICAqIEByZXR1cm4geyFFbGVtZW50fSBUaGUgdmFsdWUgb2Ygc2hvdWxkQmVUcnVlaXNoLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBlc2xpbnQgXCJnb29nbGUtY2FtZWxjYXNlL2dvb2dsZS1jYW1lbGNhc2VcIjogMlxuICAgKi9cbiAgYXNzZXJ0RWxlbWVudChzaG91bGRCZUVsZW1lbnQsIG9wdF9tZXNzYWdlKSB7XG4gICAgY29uc3Qgc2hvdWxkQmVUcnVlaXNoID0gc2hvdWxkQmVFbGVtZW50ICYmIHNob3VsZEJlRWxlbWVudC5ub2RlVHlwZSA9PSAxO1xuICAgIHRoaXMuYXNzZXJ0KHNob3VsZEJlVHJ1ZWlzaCwgKG9wdF9tZXNzYWdlIHx8ICdFbGVtZW50IGV4cGVjdGVkJykgKyAnOiAlcycsXG4gICAgICAgIHNob3VsZEJlRWxlbWVudCk7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovIChzaG91bGRCZUVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXNuJ3QgYSBzdHJpbmcuIFRoZSBzdHJpbmcgY2FuXG4gICAqIGJlIGVtcHR5LlxuICAgKlxuICAgKiBGb3IgbW9yZSBkZXRhaWxzIHNlZSBgYXNzZXJ0YC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBzaG91bGRCZVN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9tZXNzYWdlIFRoZSBhc3NlcnRpb24gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgdmFsdWUuIENhbiBiZSBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIGVzbGludCBcImdvb2dsZS1jYW1lbGNhc2UvZ29vZ2xlLWNhbWVsY2FzZVwiOiAyXG4gICAqL1xuICBhc3NlcnRTdHJpbmcoc2hvdWxkQmVTdHJpbmcsIG9wdF9tZXNzYWdlKSB7XG4gICAgdGhpcy5hc3NlcnQodHlwZW9mIHNob3VsZEJlU3RyaW5nID09ICdzdHJpbmcnLFxuICAgICAgICAob3B0X21lc3NhZ2UgfHwgJ1N0cmluZyBleHBlY3RlZCcpICsgJzogJXMnLCBzaG91bGRCZVN0cmluZyk7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc2hvdWxkQmVTdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXNuJ3QgYSBudW1iZXIuIFRoZSBhbGxvd2VkIHZhbHVlc1xuICAgKiBpbmNsdWRlIGAwYCBhbmQgYE5hTmAuXG4gICAqXG4gICAqIEZvciBtb3JlIGRldGFpbHMgc2VlIGBhc3NlcnRgLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHNob3VsZEJlTnVtYmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgVGhlIGFzc2VydGlvbiBtZXNzYWdlXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciB2YWx1ZS4gVGhlIGFsbG93ZWQgdmFsdWVzIGluY2x1ZGUgYDBgXG4gICAqICAgYW5kIGBOYU5gLlxuICAgKi9cbiAgYXNzZXJ0TnVtYmVyKHNob3VsZEJlTnVtYmVyLCBvcHRfbWVzc2FnZSkge1xuICAgIHRoaXMuYXNzZXJ0KHR5cGVvZiBzaG91bGRCZU51bWJlciA9PSAnbnVtYmVyJyxcbiAgICAgICAgKG9wdF9tZXNzYWdlIHx8ICdOdW1iZXIgZXhwZWN0ZWQnKSArICc6ICVzJywgc2hvdWxkQmVOdW1iZXIpO1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHNob3VsZEJlTnVtYmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzbid0IGEgYm9vbGVhbi5cbiAgICpcbiAgICogRm9yIG1vcmUgZGV0YWlscyBzZWUgYGFzc2VydGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gc2hvdWxkQmVCb29sZWFuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgVGhlIGFzc2VydGlvbiBtZXNzYWdlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBib29sZWFuIHZhbHVlLlxuICAgKi9cbiAgYXNzZXJ0Qm9vbGVhbihzaG91bGRCZUJvb2xlYW4sIG9wdF9tZXNzYWdlKSB7XG4gICAgdGhpcy5hc3NlcnQoISFzaG91bGRCZUJvb2xlYW4gPT09IHNob3VsZEJlQm9vbGVhbixcbiAgICAgICAgKG9wdF9tZXNzYWdlIHx8ICdCb29sZWFuIGV4cGVjdGVkJykgKyAnOiAlcycsIHNob3VsZEJlQm9vbGVhbik7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHNob3VsZEJlQm9vbGVhbik7XG4gIH1cblxuICAvKipcbiAgICogQXNzZXJ0cyBhbmQgcmV0dXJucyB0aGUgZW51bSB2YWx1ZS4gSWYgdGhlIGVudW0gZG9lc24ndCBjb250YWluIHN1Y2ggYVxuICAgKiB2YWx1ZSwgdGhlIGVycm9yIGlzIHRocm93bi5cbiAgICpcbiAgICogQHBhcmFtIHshT2JqZWN0PFQ+fSBlbnVtT2JqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2VudW1OYW1lXG4gICAqIEByZXR1cm4ge1R9XG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqIGVzbGludCBcImdvb2dsZS1jYW1lbGNhc2UvZ29vZ2xlLWNhbWVsY2FzZVwiOiAyXG4gICAqL1xuICBhc3NlcnRFbnVtVmFsdWUoZW51bU9iaiwgcywgb3B0X2VudW1OYW1lKSB7XG4gICAgaWYgKGlzRW51bVZhbHVlKGVudW1PYmosIHMpKSB7XG4gICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgdGhpcy5hc3NlcnQoZmFsc2UsXG4gICAgICAgICdVbmtub3duICVzIHZhbHVlOiBcIiVzXCInLFxuICAgICAgICBvcHRfZW51bU5hbWUgfHwgJ2VudW0nLCBzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFcnJvcn0gZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByZXBhcmVFcnJvcl8oZXJyb3IpIHtcbiAgICBlcnJvciA9IGR1cGxpY2F0ZUVycm9ySWZOZWNlc3NhcnkoZXJyb3IpO1xuICAgIGlmICh0aGlzLnN1ZmZpeF8pIHtcbiAgICAgIGlmICghZXJyb3IubWVzc2FnZSkge1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gdGhpcy5zdWZmaXhfO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluZGV4T2YodGhpcy5zdWZmaXhfKSA9PSAtMSkge1xuICAgICAgICBlcnJvci5tZXNzYWdlICs9IHRoaXMuc3VmZml4XztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVXNlckVycm9yTWVzc2FnZShlcnJvci5tZXNzYWdlKSkge1xuICAgICAgZXJyb3IubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UucmVwbGFjZShVU0VSX0VSUk9SX1NFTlRJTkVMLCAnJyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8IUVsZW1lbnR9IHZhbFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWwpIHtcbiAgLy8gRG8gY2hlY2sgZXF1aXZhbGVudCB0byBgdmFsIGluc3RhbmNlb2YgRWxlbWVudGAgd2l0aG91dCBjcm9zcy13aW5kb3cgYnVnXG4gIGlmICh2YWwgJiYgdmFsLm5vZGVUeXBlID09IDEpIHtcbiAgICByZXR1cm4gdmFsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSArICh2YWwuaWQgPyAnIycgKyB2YWwuaWQgOiAnJyk7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodmFsKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUFycmF5fSBhcnJheVxuICogQHBhcmFtIHsqfSB2YWxcbiAqL1xuZnVuY3Rpb24gcHVzaElmTm9uRW1wdHkoYXJyYXksIHZhbCkge1xuICBpZiAodmFsICE9ICcnKSB7XG4gICAgYXJyYXkucHVzaCh2YWwpO1xuICB9XG59XG5cbi8qKlxuICogU29tZSBleGNlcHRpb25zIChET01FeGNlcHRpb24sIG5hbWVseSkgaGF2ZSByZWFkLW9ubHkgbWVzc2FnZS5cbiAqIEBwYXJhbSB7IUVycm9yfSBlcnJvclxuICogQHJldHVybiB7IUVycm9yfTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGR1cGxpY2F0ZUVycm9ySWZOZWNlc3NhcnkoZXJyb3IpIHtcbiAgY29uc3Qge21lc3NhZ2V9ID0gZXJyb3I7XG4gIGNvbnN0IHRlc3QgPSBTdHJpbmcoTWF0aC5yYW5kb20oKSk7XG4gIGVycm9yLm1lc3NhZ2UgPSB0ZXN0O1xuXG4gIGlmIChlcnJvci5tZXNzYWdlID09PSB0ZXN0KSB7XG4gICAgZXJyb3IubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgY29uc3QgZSA9IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgLy8gQ29weSBhbGwgdGhlIGV4dHJhbmVvdXMgdGhpbmdzIHdlIGF0dGFjaC5cbiAgZm9yIChjb25zdCBwcm9wIGluIGVycm9yKSB7XG4gICAgZVtwcm9wXSA9IGVycm9yW3Byb3BdO1xuICB9XG4gIC8vIEVuc3VyZSB0aGVzZSBhcmUgY29waWVkLlxuICBlLnN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gIHJldHVybiBlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAqIEByZXR1cm4geyFFcnJvcn1cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JWYXJncyh2YXJfYXJncykge1xuICBsZXQgZXJyb3IgPSBudWxsO1xuICBsZXQgbWVzc2FnZSA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IgJiYgIWVycm9yKSB7XG4gICAgICBlcnJvciA9IGR1cGxpY2F0ZUVycm9ySWZOZWNlc3NhcnkoYXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZSArPSAnICc7XG4gICAgICB9XG4gICAgICBtZXNzYWdlICs9IGFyZztcbiAgICB9XG4gIH1cblxuICBpZiAoIWVycm9yKSB7XG4gICAgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH0gZWxzZSBpZiAobWVzc2FnZSkge1xuICAgIGVycm9yLm1lc3NhZ2UgPSBtZXNzYWdlICsgJzogJyArIGVycm9yLm1lc3NhZ2U7XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufVxuXG5cbi8qKlxuICogUmV0aHJvd3MgdGhlIGVycm9yIHdpdGhvdXQgdGVybWluYXRpbmcgdGhlIGN1cnJlbnQgY29udGV4dC4gVGhpcyBwcmVzZXJ2ZXNcbiAqIHdoZXRoZXIgdGhlIG9yaWdpbmFsIGVycm9yIGRlc2lnbmF0aW9uIGlzIGEgdXNlciBlcnJvciBvciBhIGRldiBlcnJvci5cbiAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldGhyb3dBc3luYyh2YXJfYXJncykge1xuICBjb25zdCBlcnJvciA9IGNyZWF0ZUVycm9yVmFyZ3MuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgLy8gcmVwb3J0RXJyb3IgaXMgaW5zdGFsbGVkIGdsb2JhbGx5IHBlciB3aW5kb3cgaW4gdGhlIGVudHJ5IHBvaW50LlxuICAgIHNlbGYucmVwb3J0RXJyb3IoZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIENhY2hlIGZvciBsb2dzLiBXZSBkbyBub3QgdXNlIGEgU2VydmljZSBzaW5jZSB0aGUgc2VydmljZSBtb2R1bGUgZGVwZW5kc1xuICogb24gTG9nIGFuZCBjbG9zdXJlIGxpdGVyYWxseSBjYW4ndCBldmVuLlxuICogQHR5cGUge3t1c2VyOiA/TG9nLCBkZXY6ID9Mb2csIHVzZXJGb3JFbWJlZDogP0xvZ319XG4gKi9cbnNlbGYubG9nID0gKHNlbGYubG9nIHx8IHtcbiAgdXNlcjogbnVsbCxcbiAgZGV2OiBudWxsLFxuICB1c2VyRm9yRW1iZWQ6IG51bGwsXG59KTtcblxuY29uc3QgbG9ncyA9IHNlbGYubG9nO1xuXG4vKipcbiAqIEV2ZW50dWFsbHkgaG9sZHMgYSBjb25zdHJ1Y3RvciBmb3IgTG9nIG9iamVjdHMuIExhemlseSBpbml0aWFsaXplZCwgc28gd2VcbiAqIGNhbiBhdm9pZCBldmVyIHJlZmVyZW5jaW5nIHRoZSByZWFsIGNvbnN0cnVjdG9yIGV4Y2VwdCBpbiBKUyBiaW5hcmllc1xuICogdGhhdCBhY3R1YWxseSB3YW50IHRvIGluY2x1ZGUgdGhlIGltcGxlbWVudGF0aW9uLlxuICogQHR5cGUgez9GdW5jdGlvbn1cbiAqL1xubGV0IGxvZ0NvbnN0cnVjdG9yID0gbnVsbDtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBsb2cgY29udHJ1Y3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRMb2dDb25zdHJ1Y3RvcigpIHtcbiAgbG9nQ29uc3RydWN0b3IgPSBMb2c7XG4gIC8vIEluaXRpYWxpemUgaW5zdGFuY2VzIGZvciB1c2UuIElmIGEgYmluYXJ5IChhbiBleHRlbnNpb24gZm9yIGV4YW1wbGUpIHRoYXRcbiAgLy8gZG9lcyBub3QgY2FsbCBgaW5pdExvZ0NvbnN0cnVjdG9yYCBpbnZva2VzIGBkZXYoKWAgb3IgYHVzZXIoKWAgZWFybGllciB0aGFuXG4gIC8vIHRoZSBiaW5hcnkgdGhhdCBkb2VzIGNhbGwgYGluaXRMb2dDb25zdHJ1Y3RvcmAgKGFtcC5qcyksIHRoZSBleHRlbnNpb24gd2lsbFxuICAvLyB0aHJvdyBhbiBlcnJvciBhcyB0aGF0IGV4dGVuc2lvbiB3aWxsIG5ldmVyIGJlIGFibGUgdG8gaW5pdGlhbGl6ZSB0aGUgbG9nXG4gIC8vIGluc3RhbmNlcyBhbmQgd2UgYWxzbyBkb24ndCB3YW50IGl0IHRvIGNhbGwgYGluaXRMb2dDb25zdHJ1Y3RvcmAgZWl0aGVyXG4gIC8vIChzaW5jZSB0aGF0IHdpbGwgY2F1c2UgdGhlIExvZyBpbXBsZW1lbnRhdGlvbiB0byBiZSBidW5kbGVkIGludG8gdGhhdFxuICAvLyBiaW5hcnkpLiBTbyB3ZSBtdXN0IGluaXRpYWxpemUgdGhlIGluc3RhbmNlcyBlYWdlcmx5IHNvIHRoYXQgdGhleSBhcmUgcmVhZHlcbiAgLy8gZm9yIHVzZSAoc3RvcmVkIGdsb2JhbGx5KSBhZnRlciB0aGUgbWFpbiBiaW5hcnkgY2FsbHMgYGluaXRMb2dDb25zdHJ1Y3RvcmAuXG4gIGRldigpO1xuICB1c2VyKCk7XG59XG5cbi8qKlxuICogUmVzZXRzIGxvZyBjb250cnVjdG9yIGZvciB0ZXN0aW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRMb2dDb25zdHJ1Y3RvckZvclRlc3RpbmcoKSB7XG4gIGxvZ0NvbnN0cnVjdG9yID0gbnVsbDtcbn1cblxuLyoqXG4gKiBQdWJsaXNoZXIgbGV2ZWwgbG9nLlxuICpcbiAqIEVuYWJsZWQgaW4gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogIDEuIE5vdCBkaXNhYmxlZCB1c2luZyBgI2xvZz0wYC5cbiAqICAyLiBEZXZlbG9wbWVudCBtb2RlIGlzIGVuYWJsZWQgdmlhIGAjZGV2ZWxvcG1lbnQ9MWAgb3IgbG9nZ2luZyBpcyBleHBsaWNpdGx5XG4gKiAgICAgZW5hYmxlZCB2aWEgYCNsb2c9RGAgd2hlcmUgRCA+PSAxLlxuICogIDMuIEFNUC5zZXRMb2dMZXZlbChEKSBpcyBjYWxsZWQsIHdoZXJlIEQgPj0gMS5cbiAqXG4gKiBAcGFyYW0geyFFbGVtZW50PX0gb3B0X2VsZW1lbnRcbiAqIEByZXR1cm4geyFMb2d9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VyKG9wdF9lbGVtZW50KSB7XG4gIGlmICghbG9ncy51c2VyKSB7XG4gICAgbG9ncy51c2VyID0gZ2V0VXNlckxvZ2dlcihVU0VSX0VSUk9SX1NFTlRJTkVMKTtcbiAgfVxuICBpZiAoIWlzRnJvbUVtYmVkKGxvZ3MudXNlci53aW4sIG9wdF9lbGVtZW50KSkge1xuICAgIHJldHVybiBsb2dzLnVzZXI7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxvZ3MudXNlckZvckVtYmVkKSB7XG4gICAgICByZXR1cm4gbG9ncy51c2VyRm9yRW1iZWQ7XG4gICAgfVxuICAgIHJldHVybiBsb2dzLnVzZXJGb3JFbWJlZCA9IGdldFVzZXJMb2dnZXIoVVNFUl9FUlJPUl9FTUJFRF9TRU5USU5FTCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXR0ZXIgZm9yIHVzZXIgbG9nZ2VyXG4gKiBAcGFyYW0ge3N0cmluZz19IHN1ZmZpeFxuICogQHJldHVybiB7IUxvZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VXNlckxvZ2dlcihzdWZmaXgpIHtcbiAgaWYgKCFsb2dDb25zdHJ1Y3Rvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGNhbGwgaW5pdExvZ0NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBsb2dDb25zdHJ1Y3RvcihzZWxmLCBtb2RlID0+IHtcbiAgICBjb25zdCBsb2dOdW0gPSBwYXJzZUludChtb2RlLmxvZywgMTApO1xuICAgIGlmIChtb2RlLmRldmVsb3BtZW50IHx8IGxvZ051bSA+PSAxKSB7XG4gICAgICByZXR1cm4gTG9nTGV2ZWwuRklORTtcbiAgICB9XG4gICAgcmV0dXJuIExvZ0xldmVsLldBUk47XG4gIH0sIHN1ZmZpeCk7XG59XG5cbi8qKlxuICogQU1QIGRldmVsb3BtZW50IGxvZy4gQ2FsbHMgdG8gYGRldkxvZygpLmFzc2VydGAgYW5kIGBkZXYuZmluZWAgYXJlIHN0cmlwcGVkXG4gKiBpbiB0aGUgUFJPRCBiaW5hcnkuIEhvd2V2ZXIsIGBkZXZMb2coKS5hc3NlcnRgIHJlc3VsdCBpcyBwcmVzZXJ2ZWQgaW4gZWl0aGVyXG4gKiBjYXNlLlxuICpcbiAqIEVuYWJsZWQgaW4gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogIDEuIE5vdCBkaXNhYmxlZCB1c2luZyBgI2xvZz0wYC5cbiAqICAyLiBMb2dnaW5nIGlzIGV4cGxpY2l0bHkgZW5hYmxlZCB2aWEgYCNsb2c9RGAsIHdoZXJlIEQgPj0gMi5cbiAqICAzLiBBTVAuc2V0TG9nTGV2ZWwoRCkgaXMgY2FsbGVkLCB3aGVyZSBEID49IDIuXG4gKlxuICogQHJldHVybiB7IUxvZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldigpIHtcbiAgaWYgKGxvZ3MuZGV2KSB7XG4gICAgcmV0dXJuIGxvZ3MuZGV2O1xuICB9XG4gIGlmICghbG9nQ29uc3RydWN0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBjYWxsIGluaXRMb2dDb25zdHJ1Y3RvcicpO1xuICB9XG4gIHJldHVybiBsb2dzLmRldiA9IG5ldyBsb2dDb25zdHJ1Y3RvcihzZWxmLCBtb2RlID0+IHtcbiAgICBjb25zdCBsb2dOdW0gPSBwYXJzZUludChtb2RlLmxvZywgMTApO1xuICAgIGlmIChsb2dOdW0gPj0gMykge1xuICAgICAgcmV0dXJuIExvZ0xldmVsLkZJTkU7XG4gICAgfVxuICAgIGlmIChsb2dOdW0gPj0gMikge1xuICAgICAgcmV0dXJuIExvZ0xldmVsLklORk87XG4gICAgfVxuICAgIHJldHVybiBMb2dMZXZlbC5PRkY7XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFFbGVtZW50PX0gb3B0X2VsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlzRW1iZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnJvbUVtYmVkKHdpbiwgb3B0X2VsZW1lbnQpIHtcbiAgaWYgKCFvcHRfZWxlbWVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gb3B0X2VsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAhPSB3aW47XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtnZXRNb2RlfSBmcm9tICcuL21vZGUnO1xuXG4vKipcbiAqIFByb3ZpZGVzIGluZm8gYWJvdXQgdGhlIGN1cnJlbnQgYXBwLiBUaGlzIHJldHVybiB2YWx1ZSBtYXkgYmUgY2FjaGVkIGFuZFxuICogcGFzc2VkIGFyb3VuZCBhcyBpdCB3aWxsIGFsd2F5cyBiZSBEQ0UnZC5cbiAqIEBwYXJhbSB7P1dpbmRvdz19IG9wdF93aW5cbiAqIEByZXR1cm4geyEuL21vZGUuTW9kZURlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVPYmplY3Qob3B0X3dpbikge1xuICByZXR1cm4ge1xuICAgIGxvY2FsRGV2OiBnZXRNb2RlKG9wdF93aW4pLmxvY2FsRGV2LFxuICAgIGRldmVsb3BtZW50OiBnZXRNb2RlKG9wdF93aW4pLmRldmVsb3BtZW50LFxuICAgIGZpbHRlcjogZ2V0TW9kZShvcHRfd2luKS5maWx0ZXIsXG4gICAgbWluaWZpZWQ6IGdldE1vZGUob3B0X3dpbikubWluaWZpZWQsXG4gICAgbGl0ZTogZ2V0TW9kZShvcHRfd2luKS5saXRlLFxuICAgIHRlc3Q6IGdldE1vZGUob3B0X3dpbikudGVzdCxcbiAgICBsb2c6IGdldE1vZGUob3B0X3dpbikubG9nLFxuICAgIHZlcnNpb246IGdldE1vZGUob3B0X3dpbikudmVyc2lvbixcbiAgICBydHZWZXJzaW9uOiBnZXRNb2RlKG9wdF93aW4pLnJ0dlZlcnNpb24sXG4gIH07XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtwYXJzZVF1ZXJ5U3RyaW5nX30gZnJvbSAnLi91cmwtcGFyc2UtcXVlcnktc3RyaW5nJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBsb2NhbERldjogYm9vbGVhbixcbiAqICAgZGV2ZWxvcG1lbnQ6IGJvb2xlYW4sXG4gKiAgIGZpbHRlcjogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBtaW5pZmllZDogYm9vbGVhbixcbiAqICAgbGl0ZTogYm9vbGVhbixcbiAqICAgdGVzdDogYm9vbGVhbixcbiAqICAgbG9nOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHZlcnNpb246IHN0cmluZyxcbiAqICAgcnR2VmVyc2lvbjogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBNb2RlRGVmO1xuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbmNvbnN0IHZlcnNpb24gPSAnJGludGVybmFsUnVudGltZVZlcnNpb24kJztcblxuLyoqXG4gKiBgcnR2VmVyc2lvbmAgaXMgdGhlIHByZWZpeGVkIHZlcnNpb24gd2Ugc2VydmUgb2ZmIG9mIHRoZSBjZG4uXG4gKiBUaGUgcHJlZml4IGRlbm90ZXMgY2FuYXJ5KDAwKSBvciBwcm9kKDAxKSBvciBhbiBleHBlcmltZW50IHZlcnNpb24gKCA+IDAxKS5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmxldCBydHZWZXJzaW9uID0gJyc7XG5cbi8qKlxuICogUHJvdmlkZXMgaW5mbyBhYm91dCB0aGUgY3VycmVudCBhcHAuXG4gKiBAcGFyYW0gez9XaW5kb3c9fSBvcHRfd2luXG4gKiBAcmV0dXJuIHshTW9kZURlZn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGUob3B0X3dpbikge1xuICBjb25zdCB3aW4gPSBvcHRfd2luIHx8IHNlbGY7XG4gIGlmICh3aW4uQU1QX01PREUpIHtcbiAgICByZXR1cm4gd2luLkFNUF9NT0RFO1xuICB9XG4gIHJldHVybiB3aW4uQU1QX01PREUgPSBnZXRNb2RlXyh3aW4pO1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGluZm8gYWJvdXQgdGhlIGN1cnJlbnQgYXBwLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyFNb2RlRGVmfVxuICovXG5mdW5jdGlvbiBnZXRNb2RlXyh3aW4pIHtcbiAgLy8gTWFnaWMgY29uc3RhbnRzIHRoYXQgYXJlIHJlcGxhY2VkIGJ5IGNsb3N1cmUgY29tcGlsZXIuXG4gIC8vIElTX01JTklGSUVEIGlzIGFsd2F5cyByZXBsYWNlZCB3aXRoIHRydWUgd2hlbiBjbG9zdXJlIGNvbXBpbGVyIGlzIHVzZWRcbiAgLy8gd2hpbGUgSVNfREVWIGlzIG9ubHkgcmVwbGFjZWQgd2hlbiBgZ3VscCBkaXN0YCBpcyBjYWxsZWQgd2l0aG91dCB0aGVcbiAgLy8gLS1mb3J0ZXN0aW5nIGZsYWcuXG4gIGNvbnN0IElTX0RFViA9IHRydWU7XG4gIGNvbnN0IElTX01JTklGSUVEID0gZmFsc2U7XG5cbiAgY29uc3QgbG9jYWxEZXZFbmFibGVkID0gISEoc2VsZi5BTVBfQ09ORklHICYmIHNlbGYuQU1QX0NPTkZJRy5sb2NhbERldik7XG4gIGNvbnN0IHJ1bm5pbmdUZXN0cyA9IElTX0RFViAmJiAhISh3aW4uQU1QX1RFU1QgfHwgd2luLl9fa2FybWFfXyk7XG4gIGNvbnN0IGlzTG9jYWxEZXYgPSBJU19ERVYgJiYgKGxvY2FsRGV2RW5hYmxlZCB8fCBydW5uaW5nVGVzdHMpO1xuICBjb25zdCBoYXNoUXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nXyhcbiAgICAgIC8vIGxvY2F0aW9uLm9yaWdpbmFsSGFzaCBpcyBzZXQgYnkgdGhlIHZpZXdlciB3aGVuIGl0IHJlbW92ZXMgdGhlIGZyYWdtZW50XG4gICAgICAvLyBmcm9tIHRoZSBVUkwuXG4gICAgICB3aW4ubG9jYXRpb24ub3JpZ2luYWxIYXNoIHx8IHdpbi5sb2NhdGlvbi5oYXNoKTtcblxuICBjb25zdCBzZWFyY2hRdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmdfKHdpbi5sb2NhdGlvbi5zZWFyY2gpO1xuXG4gIGlmICghcnR2VmVyc2lvbikge1xuICAgIHJ0dlZlcnNpb24gPSBnZXRSdHZWZXJzaW9uKHdpbiwgaXNMb2NhbERldik7XG4gIH1cblxuICAvLyBUaGUgYG1pbmlmaWVkYCwgYHRlc3RgIGFuZCBgbG9jYWxEZXZgIHByb3BlcnRpZXMgYXJlIHJlcGxhY2VkXG4gIC8vIGFzIGJvb2xlYW4gbGl0ZXJhbHMgd2hlbiB3ZSBydW4gYGd1bHAgZGlzdGAgd2l0aG91dCB0aGUgYC0tZm9ydGVzdGluZ2BcbiAgLy8gZmxhZ3MuIFRoaXMgaW1wcm92ZWQgRENFIG9uIHRoZSBwcm9kdWN0aW9uIGZpbGUgd2UgZGVwbG95IGFzIHRoZSBjb2RlXG4gIC8vIHBhdGhzIGZvciBsb2NhbGhvc3QvdGVzdGluZy9kZXZlbG9wbWVudCBhcmUgZWxpbWluYXRlZC5cbiAgcmV0dXJuIHtcbiAgICBsb2NhbERldjogaXNMb2NhbERldixcbiAgICAvLyBUcmlnZ2VycyB2YWxpZGF0aW9uIG9yIGVuYWJsZSBwdWIgbGV2ZWwgbG9nZ2luZy4gVmFsaWRhdGlvbiBjYW4gYmVcbiAgICAvLyBieXBhc3NlZCB2aWEgI3ZhbGlkYXRlPTAuXG4gICAgLy8gTm90ZSB0aGF0IEFNUF9ERVZfTU9ERSBmbGFnIGlzIHVzZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gICAgZGV2ZWxvcG1lbnQ6ICEhKGhhc2hRdWVyeVsnZGV2ZWxvcG1lbnQnXSA9PSAnMScgfHwgd2luLkFNUF9ERVZfTU9ERSksXG4gICAgZXhhbWluZXI6IGhhc2hRdWVyeVsnZGV2ZWxvcG1lbnQnXSA9PSAnMicsXG4gICAgLy8gQWxsb3dzIGZpbHRlcmluZyB2YWxpZGF0aW9uIGVycm9ycyBieSBlcnJvciBjYXRlZ29yeS4gRm9yIHRoZVxuICAgIC8vIGF2YWlsYWJsZSBjYXRlZ29yaWVzLCBzZWUgRXJyb3JDYXRlZ29yeSBpbiB2YWxpZGF0b3IvdmFsaWRhdG9yLnByb3RvLlxuICAgIGZpbHRlcjogaGFzaFF1ZXJ5WydmaWx0ZXInXSxcbiAgICAvLyBhbXAtZ2VvIG92ZXJyaWRlXG4gICAgZ2VvT3ZlcnJpZGU6IGhhc2hRdWVyeVsnYW1wLWdlbyddLFxuICAgIG1pbmlmaWVkOiBJU19NSU5JRklFRCxcbiAgICAvLyBXaGV0aGVyIGRvY3VtZW50IGlzIGluIGFuIGFtcC1saXRlIHZpZXdlci4gSXQgc2lnbmFsIHRoYXQgdGhlIHVzZXJcbiAgICAvLyB3b3VsZCBwcmVmZXIgdG8gdXNlIGxlc3MgYmFuZHdpZHRoLlxuICAgIGxpdGU6IHNlYXJjaFF1ZXJ5WydhbXBfbGl0ZSddICE9IHVuZGVmaW5lZCxcbiAgICB0ZXN0OiBydW5uaW5nVGVzdHMsXG4gICAgbG9nOiBoYXNoUXVlcnlbJ2xvZyddLFxuICAgIHZlcnNpb24sXG4gICAgcnR2VmVyc2lvbixcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgYHJ0dlZlcnNpb25gIHdoaWNoIHdpbGwgaGF2ZSBhIG51bWVyaWMgcHJlZml4XG4gKiBkZW5vdGluZyBjYW5hcnkvcHJvZC9leHBlcmltZW50ICh1bmxlc3MgYGlzTG9jYWxEZXZgIGlzIHRydWUpLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzTG9jYWxEZXZcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0UnR2VmVyc2lvbih3aW4sIGlzTG9jYWxEZXYpIHtcbiAgLy8gSWYgaXQncyBsb2NhbCBkZXYgdGhlbiB3ZSB3b24ndCBhY3R1YWxseSBoYXZlIGEgZnVsbCB2ZXJzaW9uIHNvXG4gIC8vIGp1c3QgdXNlIHRoZSB2ZXJzaW9uLlxuICBpZiAoaXNMb2NhbERldikge1xuICAgIHJldHVybiB2ZXJzaW9uO1xuICB9XG5cbiAgaWYgKHdpbi5BTVBfQ09ORklHICYmIHdpbi5BTVBfQ09ORklHLnYpIHtcbiAgICByZXR1cm4gd2luLkFNUF9DT05GSUcudjtcbiAgfVxuXG4gIC8vIEN1cnJlbnRseSBgJGludGVybmFsUnVudGltZVZlcnNpb24kYCBhbmQgdGh1cyBgbW9kZS52ZXJzaW9uYCBjb250YWluIG9ubHlcbiAgLy8gbWFqb3IgdmVyc2lvbi4gVGhlIGZ1bGwgdmVyc2lvbiBob3dldmVyIG11c3QgYWxzbyBjYXJyeSB0aGUgbWlub3IgdmVyc2lvbi5cbiAgLy8gV2Ugd2lsbCBkZWZhdWx0IHRvIHByb2R1Y3Rpb24gZGVmYXVsdCBgMDFgIG1pbm9yIHZlcnNpb24gZm9yIG5vdy5cbiAgLy8gVE9ETyhlcndpbm1vbWJheSk6IGRlY2lkZSB3aGV0aGVyICRpbnRlcm5hbFJ1bnRpbWVWZXJzaW9uJCBzaG91bGQgY29udGFpblxuICAvLyBtaW5vciB2ZXJzaW9uLlxuICByZXR1cm4gYDAxJHt2ZXJzaW9ufWA7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtib29sZWFufSBpc0xvY2FsRGV2XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJ0dlZlcnNpb25Gb3JUZXN0aW5nKHdpbiwgaXNMb2NhbERldikge1xuICByZXR1cm4gZ2V0UnR2VmVyc2lvbih3aW4sIGlzTG9jYWxEZXYpO1xufVxuXG5cbi8qKiBAdmlzaWJsZUZvclRlc3RpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFJ0dlZlcnNpb25Gb3JUZXN0aW5nKCkge1xuICBydHZWZXJzaW9uID0gJyc7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtEZWZlcnJlZH0gZnJvbSAnLi91dGlscy9wcm9taXNlJztcbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4vc2VydmljZXMnO1xuXG4vKiogQGNvbnN0IHtmdW5jdGlvbigpfSAqL1xuY29uc3QgTk9PUF9DQUxMQkFDS18gPSBmdW5jdGlvbigpIHt9O1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBNSU5fVkVMT0NJVFlfID0gMC4wMjtcblxuLyoqIEBjb25zdCB7bnVtYmVyfSAqL1xuY29uc3QgRlJBTUVfQ09OU1RfID0gMTYuNjc7XG5cbi8qKiBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IEVYUF9GUkFNRV9DT05TVF8gPSBNYXRoLnJvdW5kKC1GUkFNRV9DT05TVF8gLyBNYXRoLmxvZygwLjk1KSk7XG5cbi8qKlxuICogRGVwcmVjaWF0aW9uIGZhY3RvciBvZiAxLzEwMCBvZiBhIG1pbGxpc2Vjb25kLiBUaGlzIGlzIGhvdyBtdWNoIHByZXZpb3VzXG4gKiB2ZWxvY2l0eSBpcyBkZXByZWNpYXRlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBuZXcgdmVsb2NpdHkuXG4gKiBAY29uc3Qge251bWJlcn1cbiAqL1xuY29uc3QgVkVMT0NJVFlfREVQUl9GQUNUT1JfID0gRlJBTUVfQ09OU1RfICogMjtcblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdmVsb2NpdHkgZm9yIGFuIG9iamVjdCB0cmF2ZWxpbmcgdGhlIGRpc3RhbmNlIGRlbHRhViBpbiB0aGVcbiAqIHRpbWUgZGVsdGFUaW1lIGdpdmVuIHRoZSBwcmV2aW91cyB2ZWxvY2l0eSBwcmV2VmVsb2NpdHkuIFRoZSBjYWxjdWxhdGlvblxuICogYXNzdW1lcyBhIGJhc2ljIGluZm9ybWF0aW9uYWwgZGVwcmVjaWF0aW9uIG9mIHByZXZpb3VzIHZlbG9jaXR5LlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVlxuICogQHBhcmFtIHt0aW1lfSBkZWx0YVRpbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmV2VmVsb2NpdHlcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGNWZWxvY2l0eShkZWx0YVYsIGRlbHRhVGltZSwgcHJldlZlbG9jaXR5KSB7XG4gIGlmIChkZWx0YVRpbWUgPCAxKSB7XG4gICAgZGVsdGFUaW1lID0gMTtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBzcGVlZCBhbmQgc3BlZWQgZGVwcmVjaWF0aW9uLlxuICBjb25zdCBzcGVlZCA9IGRlbHRhViAvIGRlbHRhVGltZTtcblxuICAvLyBEZXByZWNpYXRpb24gaXMgc2ltcGx5IGFuIGluZm9ybWF0aW9uYWwgcXVhbGl0eS4gSXQgYmFzaWNhbGx5IG1lYW5zOlxuICAvLyB3ZSBjYW4ndCBpZ25vcmUgdGhlIHZlbG9jaXR5IHdlIGtuZXcgcmVjZW50bHksIGJ1dCB3ZSdkIG9ubHkgY29uc2lkZXJcbiAgLy8gaXQgcHJvcG9ydGlvbmFsbHkgdG8gaG93IGxvbmcgYWdvIHdlJ3ZlIHNlZW4gaXQuIEN1cnJlbnRseSwgdGhpc1xuICAvLyBkZXByZWNpYXRpb24gZmFjdG9yIGlzIDEvMTAwIG9mIGEgbWlsbGlzZWNvbmQuIE5ldyBhdmVyYWdlIHZlbG9jaXR5IGlzXG4gIC8vIGNhbGN1bGF0ZWQgYnkgd2VpZ2hpbmcgdG93YXJkIHRoZSBuZXcgdmVsb2NpdHkgYW5kIGF3YXkgZnJvbSBvbGRcbiAgLy8gdmVsb2NpdHkgYmFzZWQgb24gdGhlIGRlcHJlY2lhdGlvbi5cbiAgY29uc3QgZGVwciA9IDAuNSArIE1hdGgubWluKGRlbHRhVGltZSAvIFZFTE9DSVRZX0RFUFJfRkFDVE9SXywgMC41KTtcbiAgcmV0dXJuIHNwZWVkICogZGVwciArIHByZXZWZWxvY2l0eSAqICgxIC0gZGVwcik7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgbW90aW9uIHByb2Nlc3MgdGhhdCB3aWxsIHlpZWxkIHdoZW4gdGhlIHZlbG9jaXR5IGhhcyBydW4gZG93biB0b1xuICogemVycC4gRm9yIGVhY2ggaXRlcmF0aW9uLCB0aGUgdmVsb2NpdHkgaXMgZGVwcmVjaWF0ZWQgYW5kIHRoZSBjb29yZGluYXRlc1xuICogYXJlIGFkdmFuY2VkIGZyb20gc3RhcnQgWC9ZIHRvIHRoZSBkZXN0aW5hdGlvbiBhY2NvcmRpbmcgdG8gdmVsb2NpdHlcbiAqIHZlY3RvcnMuIEZvciBlYWNoIHN1Y2ggaXRlcmF0aW9uIHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCB0aGUgbmV3IHggYW5kIHkuXG4gKiBAcGFyYW0geyFOb2RlfSBjb250ZXh0Tm9kZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBTdGFydCBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIFN0YXJ0IFkgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2ZWxvWCBTdGFydGluZyBYIHZlbG9jaXR5LlxuICogQHBhcmFtIHtudW1iZXJ9IHZlbG9ZIFN0YXJ0aW5nIFkgdmVsb2NpdHkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyKTpib29sZWFufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZm9yIGVhY2hcbiAqICAgc3RlcCBvZiB0aGUgZGVjZWxlcmF0aW9uIG1vdGlvbi5cbiAqIEBwYXJhbSB7IS4vc2VydmljZS92c3luYy1pbXBsLlZzeW5jPX0gb3B0X3ZzeW5jIE1vc3RseSBmb3IgdGVzdGluZyBvbmx5LlxuICogQHJldHVybiB7IU1vdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRpbnVlTW90aW9uKGNvbnRleHROb2RlLCBzdGFydFgsIHN0YXJ0WSwgdmVsb1gsIHZlbG9ZLFxuICBjYWxsYmFjaywgb3B0X3ZzeW5jKSB7XG4gIHJldHVybiBuZXcgTW90aW9uKGNvbnRleHROb2RlLCBzdGFydFgsIHN0YXJ0WSwgdmVsb1gsIHZlbG9ZLFxuICAgICAgY2FsbGJhY2ssIG9wdF92c3luYykuc3RhcnQoKTtcbn1cblxuXG4vKipcbiAqIE1vdGlvbiBwcm9jZXNzIHRoYXQgYWxsb3dzIHRyYWNraW5nIGFuZCBtb25pdG9yaW5nIG9mIHRoZSBydW5uaW5nIG1vdGlvbi5cbiAqIE1vc3QgaW1wb3J0YW50bHkgaXQgZXhwb3NlcyBtZXRob2RzIFwidGhlblwiIGFuZCBcInRoZW5BbHdheXNcIiB0aGF0IGhhdmUgdGhlXG4gKiBzZW1hbnRpY3Mgb2YgYSBQcm9taXNlIGFuZCBzaWduYWwgd2hlbiB0aGUgbW90aW9uIGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkLlxuICogQWRkaXRpb25hbGx5LCBpdCBleHBvc2VzIHRoZSBtZXRob2QgXCJoYWx0XCIgd2hpY2ggYWxsb3dzIHRvIHN0b3AvcmVzZXQgdGhlXG4gKiBtb3Rpb24uXG4gKiBAaW1wbGVtZW50cyB7SVRoZW5hYmxlfVxuICovXG5leHBvcnQgY2xhc3MgTW90aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IU5vZGV9IGNvbnRleHROb2RlIENvbnRleHQgbm9kZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBTdGFydCBYIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgU3RhcnQgWSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmVsb1ggU3RhcnRpbmcgWCB2ZWxvY2l0eS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZlbG9ZIFN0YXJ0aW5nIFkgdmVsb2NpdHkuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyLCBudW1iZXIpOmJvb2xlYW59IGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmb3IgZWFjaFxuICAgKiAgIHN0ZXAgb2YgdGhlIGRlY2VsZXJhdGlvbiBtb3Rpb24uXG4gICAqIEBwYXJhbSB7IS4vc2VydmljZS92c3luYy1pbXBsLlZzeW5jPX0gb3B0X3ZzeW5jXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0Tm9kZSwgc3RhcnRYLCBzdGFydFksIHZlbG9YLCB2ZWxvWSwgY2FsbGJhY2ssIG9wdF92c3luYykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY30gKi9cbiAgICB0aGlzLnZzeW5jXyA9IG9wdF92c3luYyB8fCBTZXJ2aWNlcy52c3luY0ZvcihzZWxmKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFOb2RlfSAqL1xuICAgIHRoaXMuY29udGV4dE5vZGVfID0gY29udGV4dE5vZGU7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5jYWxsYmFja18gPSBjYWxsYmFjaztcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubGFzdFhfID0gc3RhcnRYO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5sYXN0WV8gPSBzdGFydFk7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLm1heFZlbG9jaXR5WF8gPSB2ZWxvWDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubWF4VmVsb2NpdHlZXyA9IHZlbG9ZO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eVhfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlZXyA9IDA7XG5cbiAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuXG4gICAgLyoqIEBwcml2YXRlIHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLnByb21pc2VfID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUZ1bmN0aW9ufSAqL1xuICAgIHRoaXMucmVzb2x2ZV8gPSBkZWZlcnJlZC5yZXNvbHZlO1xuXG4gICAgLyoqIEBwcml2YXRlIHshRnVuY3Rpb259ICovXG4gICAgdGhpcy5yZWplY3RfID0gZGVmZXJyZWQucmVqZWN0O1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuY29udGludWluZ18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKiAqL1xuICBzdGFydCgpIHtcbiAgICB0aGlzLmNvbnRpbnVpbmdfID0gdHJ1ZTtcbiAgICBpZiAoTWF0aC5hYnModGhpcy5tYXhWZWxvY2l0eVhfKSA8PSBNSU5fVkVMT0NJVFlfICYmXG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLm1heFZlbG9jaXR5WV8pIDw9IE1JTl9WRUxPQ0lUWV8pIHtcbiAgICAgIHRoaXMuZmlyZU1vdmVfKCk7XG4gICAgICB0aGlzLmNvbXBsZXRlQ29udGludWVfKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bkNvbnRpbnVpbmdfKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbHRzIHRoZSBtb3Rpb24uIFRoZSBtb3Rpb24gcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHNpbmNlIHRoZSBtb3Rpb25cbiAgICogaGFzIGJlZW4gaW50ZXJydXB0ZWQuXG4gICAqL1xuICBoYWx0KCkge1xuICAgIGlmICh0aGlzLmNvbnRpbnVpbmdfKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlQ29udGludWVfKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hhaW5zIHRvIHRoZSBtb3Rpb24ncyBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIG1vdGlvbiBoYXNcbiAgICogY29tcGxldGVkIG9yIHdpbGwgcmVqZWN0IGlmIG1vdGlvbiBoYXMgZmFpbGVkIG9yIHdhcyBpbnRlcnJ1cHRlZC5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKG9wdF9yZXNvbHZlLCBvcHRfcmVqZWN0KSB7XG4gICAgaWYgKCFvcHRfcmVzb2x2ZSAmJiAhb3B0X3JlamVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZV87XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb21pc2VfLnRoZW4ob3B0X3Jlc29sdmUsIG9wdF9yZWplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciByZWdhcmRsZXNzIHdoZXRoZXIgdGhlIG1vdGlvbiBzdWNjZWVkcyBvciBmYWlscy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpPX0gb3B0X2NhbGxiYWNrXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgdGhlbkFsd2F5cyhvcHRfY2FsbGJhY2spIHtcbiAgICBjb25zdCBjYWxsYmFjayA9IG9wdF9jYWxsYmFjayB8fCBOT09QX0NBTExCQUNLXztcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZX0gKi8gKHRoaXMudGhlbihjYWxsYmFjaywgY2FsbGJhY2spKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJ1bkNvbnRpbnVpbmdfKCkge1xuICAgIHRoaXMudmVsb2NpdHlYXyA9IHRoaXMubWF4VmVsb2NpdHlYXztcbiAgICB0aGlzLnZlbG9jaXR5WV8gPSB0aGlzLm1heFZlbG9jaXR5WV87XG4gICAgY29uc3QgYm91bmRTdGVwID0gdGhpcy5zdGVwQ29udGludWVfLmJpbmQodGhpcyk7XG4gICAgY29uc3QgYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGVDb250aW51ZV8uYmluZCh0aGlzLCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcy52c3luY18ucnVuQW5pbU11dGF0ZVNlcmllcyh0aGlzLmNvbnRleHROb2RlXywgYm91bmRTdGVwLCA1MDAwKVxuICAgICAgICAudGhlbihib3VuZENvbXBsZXRlLCBib3VuZENvbXBsZXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIFwidHJ1ZVwiIHRvIGNvbnRpbnVlIGFuZCBcImZhbHNlXCIgdG8gc3RvcCBtb3Rpb24gcHJvY2Vzcy5cbiAgICogQHBhcmFtIHt0aW1lfSB0aW1lU2luY2VTdGFydFxuICAgKiBAcGFyYW0ge3RpbWV9IHRpbWVTaW5jZVByZXZcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0ZXBDb250aW51ZV8odGltZVNpbmNlU3RhcnQsIHRpbWVTaW5jZVByZXYpIHtcbiAgICBpZiAoIXRoaXMuY29udGludWluZ18pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RYXyArPSB0aW1lU2luY2VQcmV2ICogdGhpcy52ZWxvY2l0eVhfO1xuICAgIHRoaXMubGFzdFlfICs9IHRpbWVTaW5jZVByZXYgKiB0aGlzLnZlbG9jaXR5WV87XG4gICAgaWYgKCF0aGlzLmZpcmVNb3ZlXygpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZGVjZWwgPSBNYXRoLmV4cCgtdGltZVNpbmNlU3RhcnQgLyBFWFBfRlJBTUVfQ09OU1RfKTtcbiAgICB0aGlzLnZlbG9jaXR5WF8gPSB0aGlzLm1heFZlbG9jaXR5WF8gKiBkZWNlbDtcbiAgICB0aGlzLnZlbG9jaXR5WV8gPSB0aGlzLm1heFZlbG9jaXR5WV8gKiBkZWNlbDtcbiAgICByZXR1cm4gKE1hdGguYWJzKHRoaXMudmVsb2NpdHlYXykgPiBNSU5fVkVMT0NJVFlfIHx8XG4gICAgICAgIE1hdGguYWJzKHRoaXMudmVsb2NpdHlZXykgPiBNSU5fVkVMT0NJVFlfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3NcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbXBsZXRlQ29udGludWVfKHN1Y2Nlc3MpIHtcbiAgICBpZiAoIXRoaXMuY29udGludWluZ18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb250aW51aW5nXyA9IGZhbHNlO1xuICAgIHRoaXMuZmlyZU1vdmVfKCk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMucmVzb2x2ZV8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWplY3RfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGZpcmVNb3ZlXygpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFja18odGhpcy5sYXN0WF8sIHRoaXMubGFzdFlfKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGVscHMgdG8gbWFuYWdlIG9ic2VydmVycy4gT2JzZXJ2ZXJzIGNhbiBiZSBhZGRlZCwgcmVtb3ZlZCBvclxuICogZmlyZWQgdGhyb3VnaCBhbmQgaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAqIEB0ZW1wbGF0ZSBUWVBFXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBPYnNlcnZhYmxlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHs/QXJyYXk8ZnVuY3Rpb24oVFlQRSk+fSAqL1xuICAgIHRoaXMuaGFuZGxlcnNfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBvYnNlcnZlciB0byB0aGlzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFRZUEUpfSBoYW5kbGVyIE9ic2VydmVyJ3MgaGFuZGxlci5cbiAgICogQHJldHVybiB7IVVubGlzdGVuRGVmfVxuICAgKi9cbiAgYWRkKGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlcnNfKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzXyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZXJzXy5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZShoYW5kbGVyKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIG9ic2VydmVyIGZyb20gdGhpcyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihUWVBFKX0gaGFuZGxlciBPYnNlcnZlcidzIGluc3RhbmNlLlxuICAgKi9cbiAgcmVtb3ZlKGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlcnNfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5oYW5kbGVyc18uaW5kZXhPZihoYW5kbGVyKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5oYW5kbGVyc18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgb2JzZXJ2ZXJzLlxuICAgKi9cbiAgcmVtb3ZlQWxsKCkge1xuICAgIGlmICghdGhpcy5oYW5kbGVyc18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVyc18ubGVuZ3RoID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBhbiBldmVudC4gQWxsIG9ic2VydmVycyBhcmUgY2FsbGVkLlxuICAgKiBAcGFyYW0ge1RZUEU9fSBvcHRfZXZlbnRcbiAgICovXG4gIGZpcmUob3B0X2V2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmhhbmRsZXJzXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNfO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1tpXTtcbiAgICAgIGhhbmRsZXIob3B0X2V2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBudW1iZXIgb2YgaGFuZGxlcnMuIE1vc3RseSBuZWVkZWQgZm9yIHRlc3RzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXRIYW5kbGVyQ291bnQoKSB7XG4gICAgaWYgKCF0aGlzLmhhbmRsZXJzXykge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzXy5sZW5ndGg7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcblxuXG4vKipcbiAqIFBhc3MgY2xhc3MgaGVscHMgdG8gbWFuYWdlIHNpbmdsZS1wYXNzIHByb2Nlc3MuIEEgcGFzcyBpcyBzY2hlZHVsZWQgdXNpbmdcbiAqIGRlbGF5IG1ldGhvZC4gT25seSBvbmUgcGFzcyBjYW4gYmUgcGVuZGluZyBhdCBhIHRpbWUuIElmIG5vIHBhc3MgaXMgcGVuZGluZ1xuICogdGhlIHByb2Nlc3MgaXMgY29uc2lkZXJlZCB0byBiZSBcImlkbGVcIi5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhc3Mge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFBhc3MgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gaGFuZGxlciBIYW5kbGVyIHRvIGJlIGV4ZWN1dGVkIHdoZW4gcGFzcyBpcyB0cmlnZ2VyZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2RlZmF1bHREZWxheSBEZWZhdWx0IGRlbGF5IHRvIGJlIHVzZWQgd2hlbiBzY2hlZHVsZVxuICAgKiAgIGlzIGNhbGxlZCB3aXRob3V0IG9uZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgaGFuZGxlciwgb3B0X2RlZmF1bHREZWxheSkge1xuICAgIHRoaXMudGltZXJfID0gU2VydmljZXMudGltZXJGb3Iod2luKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge2Z1bmN0aW9uKCl9ICovXG4gICAgdGhpcy5oYW5kbGVyXyA9IGhhbmRsZXI7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtudW1iZXJ9ICovXG4gICAgdGhpcy5kZWZhdWx0RGVsYXlfID0gb3B0X2RlZmF1bHREZWxheSB8fCAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ8c3RyaW5nfSAqL1xuICAgIHRoaXMuc2NoZWR1bGVkXyA9IC0xO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5uZXh0VGltZV8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMucnVubmluZ18gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFGdW5jdGlvbn0gKi9cbiAgICB0aGlzLmJvdW5kUGFzc18gPSAoKSA9PiB0aGlzLnBhc3NfKCk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgYSBwYXNzIGlzIGN1cnJlbnRseSBwZW5kaW5nLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnNjaGVkdWxlZF8gIT0gLTE7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gc2NoZWR1bGUgYSBuZXcgcGFzcyBvcHRpb25hbGx5IHdpdGggc3BlY2lmaWVkIGRlbGF5LiBJZiB0aGUgbmV3XG4gICAqIHJlcXVlc3RlZCBwYXNzIGlzIHJlcXVlc3RlZCBiZWZvcmUgdGhlIHBlbmRpbmcgcGFzcywgdGhlIHBlbmRpbmcgcGFzcyBpc1xuICAgKiBjYW5jZWxlZC4gSWYgdGhlIG5ldyBwYXNzIGlzIHJlcXVlc3RlZCBhZnRlciB0aGUgcGVuZGluZyBwYXNzLCB0aGUgbmV3bHlcbiAgICogcmVxdWVzdGVkIHBhc3MgaXMgaWdub3JlZC5cbiAgICpcbiAgICogUmV0dXJucyB7QGNvZGUgdHJ1ZX0gaWYgdGhlIHBhc3MgaGFzIGJlZW4gc2NoZWR1bGVkIGFuZCB7QGNvZGUgZmFsc2V9IGlmXG4gICAqIGlnbm9yZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2RlbGF5IERlbGF5IHRvIHNjaGVkdWxlIHRoZSBwYXNzLiBJZiBub3Qgc3BlY2lmaWVkXG4gICAqICAgdGhlIGRlZmF1bHQgZGVsYXkgaXMgdXNlZCwgZmFsbGluZyBiYWNrIHRvIDAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzY2hlZHVsZShvcHRfZGVsYXkpIHtcbiAgICBsZXQgZGVsYXkgPSBvcHRfZGVsYXkgfHwgdGhpcy5kZWZhdWx0RGVsYXlfO1xuICAgIGlmICh0aGlzLnJ1bm5pbmdfICYmIGRlbGF5IDwgMTApIHtcbiAgICAgIC8vIElmIHdlIGdldCBjYWxsZWQgcmVjdXJzaXZlbHksIHdhaXQgYXQgbGVhc3QgMTBtcyBmb3IgdGhlIG5leHRcbiAgICAgIC8vIGV4ZWN1dGlvbi5cbiAgICAgIGRlbGF5ID0gMTA7XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dFRpbWUgPSBEYXRlLm5vdygpICsgZGVsYXk7XG4gICAgLy8gU2NoZWR1bGUgYW5ldyBpZiBub3RoaW5nIGlzIHNjaGVkdWxlZCBjdXJyZW50bHkgb3IgaWYgdGhlIG5ldyB0aW1lIGlzXG4gICAgLy8gc29vbmVyIHRoZW4gcHJldmlvdXNseSByZXF1ZXN0ZWQuXG4gICAgaWYgKCF0aGlzLmlzUGVuZGluZygpIHx8IG5leHRUaW1lIC0gdGhpcy5uZXh0VGltZV8gPCAtMTApIHtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLm5leHRUaW1lXyA9IG5leHRUaW1lO1xuICAgICAgdGhpcy5zY2hlZHVsZWRfID0gdGhpcy50aW1lcl8uZGVsYXkodGhpcy5ib3VuZFBhc3NfLCBkZWxheSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcGFzc18oKSB7XG4gICAgdGhpcy5zY2hlZHVsZWRfID0gLTE7XG4gICAgdGhpcy5uZXh0VGltZV8gPSAwO1xuICAgIHRoaXMucnVubmluZ18gPSB0cnVlO1xuICAgIHRoaXMuaGFuZGxlcl8oKTtcbiAgICB0aGlzLnJ1bm5pbmdfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgcGVuZGluZyBwYXNzIGlmIGFueS5cbiAgICovXG4gIGNhbmNlbCgpIHtcbiAgICBpZiAodGhpcy5pc1BlbmRpbmcoKSkge1xuICAgICAgdGhpcy50aW1lcl8uY2FuY2VsKHRoaXMuc2NoZWR1bGVkXyk7XG4gICAgICB0aGlzLnNjaGVkdWxlZF8gPSAtMTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4vbW9kZSc7XG5pbXBvcnQge2luc3RhbGwgYXMgaW5zdGFsbEFycmF5SW5jbHVkZXN9IGZyb20gJy4vcG9seWZpbGxzL2FycmF5LWluY2x1ZGVzJztcbmltcG9ydCB7aW5zdGFsbCBhcyBpbnN0YWxsQ3VzdG9tRWxlbWVudHN9IGZyb20gJy4vcG9seWZpbGxzL2N1c3RvbS1lbGVtZW50cyc7XG5pbXBvcnQge1xuICBpbnN0YWxsIGFzIGluc3RhbGxET01Ub2tlbkxpc3RUb2dnbGUsXG59IGZyb20gJy4vcG9seWZpbGxzL2RvbXRva2VubGlzdC10b2dnbGUnO1xuaW1wb3J0IHtpbnN0YWxsIGFzIGluc3RhbGxEb2NDb250YWluc30gZnJvbSAnLi9wb2x5ZmlsbHMvZG9jdW1lbnQtY29udGFpbnMnO1xuaW1wb3J0IHtpbnN0YWxsIGFzIGluc3RhbGxNYXRoU2lnbn0gZnJvbSAnLi9wb2x5ZmlsbHMvbWF0aC1zaWduJztcbmltcG9ydCB7aW5zdGFsbCBhcyBpbnN0YWxsT2JqZWN0QXNzaWdufSBmcm9tICcuL3BvbHlmaWxscy9vYmplY3QtYXNzaWduJztcbmltcG9ydCB7aW5zdGFsbCBhcyBpbnN0YWxsUHJvbWlzZX0gZnJvbSAnLi9wb2x5ZmlsbHMvcHJvbWlzZSc7XG5pbXBvcnQge2luc3RhbGxDdXN0b21FbGVtZW50cyBhcyBpbnN0YWxsUmVnaXN0ZXJFbGVtZW50fSBmcm9tXG4gICdkb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50L2J1aWxkL2RvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnQucGF0Y2hlZCc7XG5pbXBvcnQge2lzRXhwZXJpbWVudE9ufSBmcm9tICcuL2V4cGVyaW1lbnRzJztcblxuaWYgKGlzRXhwZXJpbWVudE9uKHNlbGYsICdjdXN0b20tZWxlbWVudHMtdjEnKSB8fCBnZXRNb2RlKCkudGVzdCkge1xuICBpbnN0YWxsQ3VzdG9tRWxlbWVudHMoc2VsZiwgY2xhc3Mge30pO1xufSBlbHNlIHtcbiAgaW5zdGFsbFJlZ2lzdGVyRWxlbWVudChzZWxmLCAnYXV0bycpO1xufVxuaW5zdGFsbERPTVRva2VuTGlzdFRvZ2dsZShzZWxmKTtcbmluc3RhbGxNYXRoU2lnbihzZWxmKTtcbmluc3RhbGxPYmplY3RBc3NpZ24oc2VsZik7XG5pbnN0YWxsUHJvbWlzZShzZWxmKTtcbmluc3RhbGxEb2NDb250YWlucyhzZWxmKTtcbmluc3RhbGxBcnJheUluY2x1ZGVzKHNlbGYpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIGFycmF5IGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJvbUluZGV4XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogQHRoaXMge0FycmF5fVxuICovXG5mdW5jdGlvbiBpbmNsdWRlcyh2YWx1ZSwgb3B0X2Zyb21JbmRleCkge1xuICBjb25zdCBmcm9tSW5kZXggPSBvcHRfZnJvbUluZGV4IHx8IDA7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoO1xuICBsZXQgaSA9IGZyb21JbmRleCA+PSAwID8gZnJvbUluZGV4IDogTWF0aC5tYXgobGVuICsgZnJvbUluZGV4LCAwKTtcbiAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IG90aGVyID0gdGhpc1tpXTtcbiAgICAvLyBJZiB2YWx1ZSBoYXMgYmVlbiBmb3VuZCBPUiAodmFsdWUgaXMgTmFOIEFORCBvdGhlciBpcyBOYU4pXG4gICAgLyplc2xpbnQgXCJuby1zZWxmLWNvbXBhcmVcIjogMCovXG4gICAgaWYgKG90aGVyID09PSB2YWx1ZSB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuKiBTZXRzIHRoZSBBcnJheS5jb250YWlucyBwb2x5ZmlsbCBpZiBpdCBkb2VzIG5vdCBleGlzdC5cbiogQHBhcmFtIHshV2luZG93fSB3aW5cbiovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbCh3aW4pIHtcbiAgaWYgKCF3aW4uQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzKSB7XG4gICAgd2luLk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdpbmNsdWRlcycsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogaW5jbHVkZXMsXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHByb21pc2U6ICFQcm9taXNlPHVuZGVmaW5lZD4sXG4gKiAgIHJlc29sdmU6IGZ1bmN0aW9uKCksXG4gKiB9fVxuICovXG5sZXQgRGVmZXJyZWREZWY7XG5cbi8qKlxuICogQHR5cGVkZWYgeyFGdW5jdGlvbn1cbiAqL1xubGV0IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvckRlZjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogIG5hbWU6IHN0cmluZyxcbiAqICBjdG9yOiAhQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yRGVmLFxuICogfX1cbiAqL1xubGV0IEN1c3RvbUVsZW1lbnREZWY7XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBjdXN0b20gZWxlbWVudCdzIG5hbWUuXG4gKiBUaGlzIGludGVudGlvbmFsbHkgaWdub3JlcyBcInZhbGlkXCIgaGlnaGVyIFVuaWNvZGUgQ29kZSBQb2ludHMuXG4gKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9jdXN0b20tZWxlbWVudHMuaHRtbCN2YWxpZC1jdXN0b20tZWxlbWVudC1uYW1lXG4gKi9cbmNvbnN0IFZBTElEX05BTUUgPSAvXlthLXpdW2EtejAtOS5fXSotW2EtejAtOS5fLV0qJC87XG5jb25zdCBJTlZBTElEX05BTUVTID0gW1xuICAnYW5ub3RhdGlvbi14bWwnLFxuICAnY29sb3ItcHJvZmlsZScsXG4gICdmb250LWZhY2UnLFxuICAnZm9udC1mYWNlLXNyYycsXG4gICdmb250LWZhY2UtdXJpJyxcbiAgJ2ZvbnQtZmFjZS1mb3JtYXQnLFxuICAnZm9udC1mYWNlLW5hbWUnLFxuICAnbWlzc2luZy1nbHlwaCcsXG5dO1xuXG4vKipcbiAqIEFzc2VydHMgdGhhdCB0aGUgY3VzdG9tIGVsZW1lbnQgbmFtZSBjb25mb3JtcyB0byB0aGUgc3BlYy5cbiAqXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gU3ludGF4RXJyb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFZhbGlkTmFtZShTeW50YXhFcnJvciwgbmFtZSkge1xuICBpZiAoIVZBTElEX05BTUUudGVzdChuYW1lKSB8fCBJTlZBTElEX05BTUVTLmluZGV4T2YobmFtZSkgPj0gMCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgaW52YWxpZCBjdXN0b20gZWxlbWVudCBuYW1lIFwiJHtuYW1lfVwiYCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEb2VzIHdpbiBoYXZlIGEgZnVsbCBDdXN0b20gRWxlbWVudHMgcmVnaXN0cnk/XG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGhhc0N1c3RvbUVsZW1lbnRzKHdpbikge1xuICBjb25zdCB7Y3VzdG9tRWxlbWVudHN9ID0gd2luO1xuXG4gIHJldHVybiAhIShcbiAgICBjdXN0b21FbGVtZW50cyAmJlxuICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSAmJlxuICAgIGN1c3RvbUVsZW1lbnRzLmdldCAmJlxuICAgIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKTtcbn1cblxuLyoqXG4gKiBXYXMgSFRNTEVsZW1lbnQgYWxyZWFkeSBwYXRjaGVkIGZvciB0aGlzIHdpbmRvdz9cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNQYXRjaGVkKHdpbikge1xuICBjb25zdCB0YWcgPSB3aW4uSFRNTEVsZW1lbnQudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHRhZy5pbmRleE9mKCdbbmF0aXZlIGNvZGVdJykgPT09IC0xO1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQ3VzdG9tIEVsZW1lbnRzIEFQSS5cbiAqL1xuY2xhc3MgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IVJlZ2lzdHJ5fSByZWdpc3RyeVxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luLCByZWdpc3RyeSkge1xuICAgIC8qKlxuICAgICAqIEBjb25zdCBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdCBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVnaXN0cnlfID0gcmVnaXN0cnk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIERlZmVycmVkRGVmPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdFxuICAgICAqL1xuICAgIHRoaXMucGVuZGluZ0RlZmluZXNfID0gdGhpcy53aW5fLk9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlIGN1c3RvbSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyFDdXN0b21FbGVtZW50Q29uc3RydWN0b3JEZWZ9IGN0b3JcbiAgICogQHBhcmFtIHshT2JqZWN0PX0gb3B0aW9uc1xuICAgKi9cbiAgZGVmaW5lKG5hbWUsIGN0b3IsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJlZ2lzdHJ5Xy5kZWZpbmUobmFtZSwgY3Rvciwgb3B0aW9ucyk7XG5cbiAgICAvLyBJZiBhbnlvbmUgaXMgd2FpdGluZyBmb3IgdGhpcyBjdXN0b20gZWxlbWVudCB0byBiZSBkZWZpbmVkLCByZXNvbHZlXG4gICAgLy8gdGhlaXIgcHJvbWlzZS5cbiAgICBjb25zdCBwZW5kaW5nID0gdGhpcy5wZW5kaW5nRGVmaW5lc187XG4gICAgY29uc3QgZGVmZXJyZWQgPSBwZW5kaW5nW25hbWVdO1xuICAgIGlmIChkZWZlcnJlZCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgZGVsZXRlIHBlbmRpbmdbbmFtZV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29uc3RydWN0b3Igb2YgdGhlIChhbHJlYWR5IGRlZmluZWQpIGN1c3RvbSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHshQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yRGVmfHVuZGVmaW5lZH1cbiAgICovXG4gIGdldChuYW1lKSB7XG4gICAgY29uc3QgZGVmID0gdGhpcy5yZWdpc3RyeV8uZ2V0QnlOYW1lKG5hbWUpO1xuICAgIGlmIChkZWYpIHtcbiAgICAgIHJldHVybiBkZWYuY3RvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3YWl0cyB1bnRpbCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgZGVmaW5lZC5cbiAgICogSWYgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGFscmVhZHkgZGVmaW5lZCwgcmV0dXJucyBhIHJlc29sdmVkIHByb21pc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4geyFQcm9taXNlPHVuZGVmaW5lZD59XG4gICAqL1xuICB3aGVuRGVmaW5lZChuYW1lKSB7XG4gICAgY29uc3Qge1Byb21pc2UsIFN5bnRheEVycm9yfSA9IHRoaXMud2luXztcbiAgICBhc3NlcnRWYWxpZE5hbWUoU3ludGF4RXJyb3IsIG5hbWUpO1xuXG4gICAgaWYgKHRoaXMucmVnaXN0cnlfLmdldEJ5TmFtZShuYW1lKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHBlbmRpbmcgPSB0aGlzLnBlbmRpbmdEZWZpbmVzXztcbiAgICBjb25zdCBkZWZlcnJlZCA9IHBlbmRpbmdbbmFtZV07XG4gICAgaWYgKGRlZmVycmVkKSB7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZTtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IC8qT0sqL1Byb21pc2UocmVzID0+IHJlc29sdmUgPSByZXMpO1xuICAgIHBlbmRpbmdbbmFtZV0gPSB7XG4gICAgICBwcm9taXNlLFxuICAgICAgcmVzb2x2ZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogVXBncmFkZSBhbGwgY3VzdG9tIGVsZW1lbnRzIGluc2lkZSByb290LlxuICAgKlxuICAgKiBAcGFyYW0geyFOb2RlfSByb290XG4gICAqL1xuICB1cGdyYWRlKHJvb3QpIHtcbiAgICB0aGlzLnJlZ2lzdHJ5Xy51cGdyYWRlKHJvb3QpO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBpbnRlcm5hbCBBUElzIG5lY2Vzc2FyeSB0byBydW4gdGhlIEN1c3RvbUVsZW1lbnRSZWdpc3RyeS5cbiAqIFNpbmNlIFJlZ2lzdHJ5IGlzIG5ldmVyIGV4cG9zZWQgZXh0ZXJuYWxseSwgYWxsIG1ldGhvZHMgYXJlIGFjdHVhbGx5XG4gKiBhdmFpbGFibGUgb24gdGhlIGluc3RhbmNlLlxuICovXG5jbGFzcyBSZWdpc3RyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgQGNvbnN0XG4gICAgICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgQGNvbnN0XG4gICAgICovXG4gICAgdGhpcy5kb2NfID0gd2luLmRvY3VtZW50O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhQ3VzdG9tRWxlbWVudERlZj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cbiAgICB0aGlzLmRlZmluaXRpb25zXyA9IHdpbi5PYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgLyoqXG4gICAgICogQSB1cC10by1kYXRlIERPTSBzZWxlY3RvciBmb3IgYWxsIGN1c3RvbSBlbGVtZW50cy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucXVlcnlfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudGx5IHVwZ3JhZGluZyBlbGVtZW50LlxuICAgICAqIEBwcml2YXRlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHktYmVpbmctdXBncmFkZWQgY3VzdG9tIGVsZW1lbnQuXG4gICAqXG4gICAqIFdoZW4gYW4gYWxyZWFkeSBjcmVhdGVkICh0aHJvdWdoIHRoZSBET00gcGFyc2luZyBBUElzLCBvciBpbm5lckhUTUwpXG4gICAqIGN1c3RvbSBlbGVtZW50IG5vZGUgaXMgYmVpbmcgdXBncmFkZWQsIHdlIGNhbid0IGp1c3QgY3JlYXRlIGEgbmV3IG5vZGVcbiAgICogKGl0J3MgaWxsZWdhbCBpbiB0aGUgc3BlYykuIEJ1dCB3ZSBzdGlsbCBuZWVkIHRvIHJ1biB0aGUgY3VzdG9tIGVsZW1lbnQnc1xuICAgKiBjb25zdHJ1Y3RvciBjb2RlIG9uIHRoZSBub2RlLiBXZSBhdm9pZCB0aGlzIGNvbnVuZHJ1bSBieSBydW5uaW5nIHRoZVxuICAgKiBjb25zdHJ1Y3RvciB3aGlsZSByZXR1cm5pbmcgdGhpcyBjdXJyZW50IG5vZGUgaW4gdGhlIEhUTUxFbGVtZW50XG4gICAqIGNsYXNzIGNvbnN0cnVjdG9yICh0aGUgYmFzZSBjbGFzcyBvZiBhbGwgY3VzdG9tIGVsZW1lbnRzKS5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICovXG4gIGN1cnJlbnQoKSB7XG4gICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudF87XG4gICAgdGhpcy5jdXJyZW50XyA9IG51bGw7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIGN1c3RvbSBlbGVtZW50IGRlZmluaXRpb24gYnkgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7Q3VzdG9tRWxlbWVudERlZnx1bmRlZmluZWR9XG4gICAqL1xuICBnZXRCeU5hbWUobmFtZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSB0aGlzLmRlZmluaXRpb25zX1tuYW1lXTtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgcmV0dXJuIGRlZmluaXRpb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBjdXN0b20gZWxlbWVudCBkZWZpbml0aW9uIGJ5IGNvbnN0cnVjdG9yIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0N1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvckRlZn0gY3RvclxuICAgKiBAcmV0dXJuIHtDdXN0b21FbGVtZW50RGVmfHVuZGVmaW5lZH1cbiAgICovXG4gIGdldEJ5Q29uc3RydWN0b3IoY3Rvcikge1xuICAgIGNvbnN0IGRlZmluaXRpb25zID0gdGhpcy5kZWZpbml0aW9uc187XG5cbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZGVmaW5pdGlvbnMpIHtcbiAgICAgIGNvbnN0IGRlZiA9IGRlZmluaXRpb25zW25hbWVdO1xuICAgICAgaWYgKGRlZi5jdG9yID09PSBjdG9yKSB7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgY3VzdG9tIGVsZW1lbnQgZGVmaW5pdGlvbiwgYW5kIHVwZ3JhZGVzIGFsbCBlbGVtZW50cyBieSB0aGF0XG4gICAqIG5hbWUgaW4gdGhlIHJvb3QgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7IUN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvckRlZn0gY3RvclxuICAgKiBAcGFyYW0geyFPYmplY3R8dW5kZWZpbmVkfSBvcHRpb25zXG4gICAqL1xuICBkZWZpbmUobmFtZSwgY3Rvciwgb3B0aW9ucykge1xuICAgIGNvbnN0IHtFcnJvciwgU3ludGF4RXJyb3J9ID0gdGhpcy53aW5fO1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kaW5nIG5hdGl2ZSBjdXN0b20gZWxlbWVudHMgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cblxuICAgIGFzc2VydFZhbGlkTmFtZShTeW50YXhFcnJvciwgbmFtZSk7XG5cbiAgICBpZiAodGhpcy5nZXRCeU5hbWUobmFtZSkgfHxcbiAgICAgICAgdGhpcy5nZXRCeUNvbnN0cnVjdG9yKGN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGR1cGxpY2F0ZSBkZWZpbml0aW9uIFwiJHtuYW1lfVwiYCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyhqcmlkZ2V3ZWxsKTogUmVjb3JkIGNvbm5lY3RlZENhbGxiYWNrLCBkaXNjb25uZWN0ZWRDYWxsYmFjayxcbiAgICAvLyBhZG9wdGVkQ2FsbGJhY2ssIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaywgYW5kIG9ic2VydmVkQXR0cmlidXRlcy5cbiAgICAvLyBUT0RPKGpyaWRnZXdlbGwpOiBJZiBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2ssIGdhdGhlciBvYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICB0aGlzLmRlZmluaXRpb25zX1tuYW1lXSA9IHtcbiAgICAgIG5hbWUsXG4gICAgICBjdG9yLFxuICAgIH07XG5cbiAgICB0aGlzLm9ic2VydmVfKG5hbWUpO1xuICAgIHRoaXMudXBncmFkZSh0aGlzLmRvY18sIG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZ3JhZGVzIGN1c3RvbSBlbGVtZW50cyBkZXNjZW5kYW50cyBvZiByb290IChidXQgbm90IGluY2x1ZGluZyByb290KS5cbiAgICpcbiAgICogV2hlbiBjYWxsZWQgd2l0aCBhbiBvcHRfcXVlcnksIGl0IGJvdGggdXBncmFkZXMgYW5kIGNvbm5lY3RzIHRoZSBjdXN0b21cbiAgICogZWxlbWVudHMgKHRoaXMgaXMgdXNlZCBkdXJpbmcgdGhlIGN1c3RvbSBlbGVtZW50IGRlZmluZSBhbGdvcml0aG0pLlxuICAgKlxuICAgKiBAcGFyYW0geyFOb2RlfSByb290XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3F1ZXJ5XG4gICAqL1xuICB1cGdyYWRlKHJvb3QsIG9wdF9xdWVyeSkge1xuICAgIC8vIE9ubHkgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LnAuZGVmaW5lIHByb3ZpZGVzIGEgcXVlcnkgKHRoZSBuZXdseSBkZWZpbmVkXG4gICAgLy8gY3VzdG9tIGVsZW1lbnQpLiBJbiB0aGlzIGNhc2UsIHdlIGFyZSBib3RoIHVwZ3JhZGluZyBfYW5kXyBjb25uZWN0aW5nXG4gICAgLy8gdGhlIGN1c3RvbSBlbGVtZW50cy5cbiAgICBjb25zdCBuZXdseURlZmluZWQgPSAhIW9wdF9xdWVyeTtcbiAgICBjb25zdCBxdWVyeSA9IG9wdF9xdWVyeSB8fCB0aGlzLnF1ZXJ5XztcbiAgICBjb25zdCB1cGdyYWRlQ2FuZGlkYXRlcyA9IHRoaXMucXVlcnlBbGxfKHJvb3QsIHF1ZXJ5KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBncmFkZUNhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHVwZ3JhZGVDYW5kaWRhdGVzW2ldO1xuICAgICAgaWYgKG5ld2x5RGVmaW5lZCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENhbGxiYWNrXyhjYW5kaWRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGdyYWRlU2VsZihjYW5kaWRhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGdyYWRlcyB0aGUgY3VzdG9tIGVsZW1lbnQgbm9kZSwgaWYgYSBjdXN0b20gZWxlbWVudCBoYXMgYmVlbiByZWdpc3RlcmVkXG4gICAqIGJ5IHRoaXMgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKi9cbiAgdXBncmFkZVNlbGYobm9kZSkge1xuICAgIGNvbnN0IGRlZiA9IHRoaXMuZ2V0QnlOYW1lKG5vZGUubG9jYWxOYW1lKTtcbiAgICBpZiAoIWRlZikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudXBncmFkZVNlbGZfKC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovKG5vZGUpLCBkZWYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU5vZGV9IHJvb3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG4gICAqIEByZXR1cm4geyFBcnJheXwhTm9kZUxpc3R9XG4gICAqL1xuICBxdWVyeUFsbF8ocm9vdCwgcXVlcnkpIHtcbiAgICBpZiAoIXF1ZXJ5IHx8ICFyb290LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8uLi5cbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGdyYWRlcyB0aGUgKGFscmVhZHkgY3JlYXRlZCB2aWEgRE9NIHBhcnNpbmcpIGN1c3RvbSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7IUN1c3RvbUVsZW1lbnREZWZ9IGRlZlxuICAgKi9cbiAgdXBncmFkZVNlbGZfKG5vZGUsIGRlZikge1xuICAgIGNvbnN0IHtjdG9yfSA9IGRlZjtcbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIGN0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXNwaXRlIGhvdyBpdCBsb29rcywgdGhpcyBpcyBub3QgYSB1c2VsZXNzIGNvbnN0cnVjdGlvbi5cbiAgICAvLyBIVE1MRWxlbWVudFBvbHlmaWxsICh0aGUgYmFzZSBjbGFzcyBvZiBhbGwgY3VzdG9tIGVsZW1lbnRzKSB3aWxsIHJldHVyblxuICAgIC8vIHRoZSBjdXJyZW50IG5vZGUsIGFsbG93aW5nIHRoZSBjdXN0b20gZWxlbWVudCdzIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvXG4gICAgLy8gcnVuIG9uIHRoZSBub2RlLiBUaGUgbm9kZSBpdHNlbGYgaXMgYWxyZWFkeSBjb25zdHJ1Y3RlZCwgc28gdGhlIHJldHVyblxuICAgIC8vIHZhbHVlIGlzIGp1c3QgdGhlIG5vZGUuXG4gICAgdGhpcy5jdXJyZW50XyA9IG5vZGU7XG4gICAgY29uc3QgZWwgPSBuZXcgY3RvcigpO1xuXG4gICAgaWYgKGVsICE9PSBub2RlKSB7XG4gICAgICB0aHJvdyBuZXcgdGhpcy53aW5fLkVycm9yKFxuICAgICAgICAgICdDb25zdHJ1Y3RvciBpbGxlZ2FsbHkgcmV0dXJuZWQgYSBkaWZmZXJlbnQgaW5zdGFuY2UuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGNvbm5lY3RlZENhbGxiYWNrIG9uIHRoZSBjdXN0b20gZWxlbWVudCwgaWYgaXQgaGFzIG9uZS5cbiAgICogVGhpcyBhbHNvIHVwZ3JhZGVzIHRoZSBjdXN0b20gZWxlbWVudCwgc2luY2UgaXQgbWF5IG5vdCBoYXZlIGJlZW5cbiAgICogYWNjZXNzaWJsZSB2aWEgdGhlIHJvb3QgZG9jdW1lbnQgYmVmb3JlIChhIGRldGFjaGVkIERPTSB0cmVlKS5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2tfKG5vZGUpIHtcbiAgICBjb25zdCBkZWYgPSB0aGlzLmdldEJ5TmFtZShub2RlLmxvY2FsTmFtZSk7XG4gICAgaWYgKCFkZWYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51cGdyYWRlU2VsZl8oLyoqIEB0eXBlIHshRWxlbWVudH0gKi8obm9kZSksIGRlZik7XG4gICAgLy8gVE9ETyhqcmlkZ2V3ZWxsKTogSXQgbWF5IGJlIGFwcHJvcHJpYXRlIHRvIGFkb3B0Q2FsbGJhY2ssIGlmIHRoZSBub2RlXG4gICAgLy8gdXNlZCB0byBiZSBpbiBhbm90aGVyIGRvYy5cbiAgICAvLyBUT0RPKGpyaWRnZXdlbGwpOiBJIHNob3VsZCBiZSBjYWxsaW5nIHRoZSBkZWZpbml0aW9ucyBjb25uZWN0ZWRDYWxsYmFja1xuICAgIC8vIHdpdGggbm9kZSBhcyB0aGUgY29udGV4dC5cbiAgICBpZiAobm9kZS5jb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgbm9kZS5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBkaXNjb25uZWN0ZWRDYWxsYmFjayBvbiB0aGUgY3VzdG9tIGVsZW1lbnQsIGlmIGl0IGhhcyBvbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrXyhub2RlKSB7XG4gICAgLy8gVE9ETyhqcmlkZ2V3ZWxsKTogSSBzaG91bGQgYmUgY2FsbGluZyB0aGUgZGVmaW5pdGlvbnMgY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAvLyB3aXRoIG5vZGUgYXMgdGhlIGNvbnRleHQuXG4gICAgaWYgKG5vZGUuZGlzY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgIG5vZGUuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkcyBuYW1lIGFzIGEgcmVnaXN0ZXJlZCBjdXN0b20gZWxlbWVudCB0byBvYnNlcnZlLlxuICAgKlxuICAgKiBTdGFydHMgdGhlIE11dGF0aW9uIE9ic2VydmVyIGlmIHRoaXMgaXMgdGhlIGZpcnN0IHJlZ2lzdGVyZWQgY3VzdG9tXG4gICAqIGVsZW1lbnQuIFRoaXMgaXMgZGVmZXJyZWQgdW50aWwgdGhlIGZpcnN0IGN1c3RvbSBlbGVtZW50IGlzIGRlZmluZWQgdG9cbiAgICogc3BlZWQgdXAgaW5pdGlhbCByZW5kZXJpbmcgb2YgdGhlIHBhZ2UuXG4gICAqXG4gICAqIE11dGF0aW9uIE9ic2VydmVycyBhcmUgY29udmVuaWVudGx5IGF2YWlsYWJsZSBpbiBldmVyeSBicm93c2VyIHdlIGNhcmVcbiAgICogYWJvdXQuIFdoZW4gYSBub2RlIGlzIGNvbm5lY3RlZCB0byB0aGUgcm9vdCBkb2N1bWVudCwgYWxsIGN1c3RvbVxuICAgKiBlbGVtZW50cyAoaW5jbHVkaW5nIHRoYXQgbm9kZSBpdGVzZWxmKSB3aWxsIGJlIHVwZ3JhZGVkIGFuZCBjYWxsXG4gICAqIGNvbm5lY3RlZENhbGxiYWNrLiBXaGVuIGEgbm9kZSBpcyBkaXNjb25uZWN0ZWRDYWxsYmFjayBmcm9tIHRoZSByb290XG4gICAqIGRvY3VtZW50LCBhbGwgY3VzdG9tIGVsZW1lbnRzIHdpbGwgY2FsbCBkaXNjb25uZWN0ZWRDYWxsYmFjay5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG4gIG9ic2VydmVfKG5hbWUpIHtcbiAgICBpZiAodGhpcy5xdWVyeV8pIHtcbiAgICAgIHRoaXMucXVlcnlfICs9IGAsJHtuYW1lfWA7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5xdWVyeV8gPSBuYW1lO1xuXG4gICAgLy8gVGhlIGZpcnN0IHJlZ2lzdGVyZWQgbmFtZSBzdGFydHMgdGhlIG11dGF0aW9uIG9ic2VydmVyLlxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IHRoaXMud2luXy5NdXRhdGlvbk9ic2VydmVyKHJlY29yZHMgPT4ge1xuICAgICAgaWYgKHJlY29yZHMpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVSZWNvcmRzXyhyZWNvcmRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZG9jXywge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYWxsIHRoZSBNdXRhdGlvbiBPYnNlcnZlcidzIE11dGF0aW9uIFJlY29yZHMuXG4gICAqIEFsbCBhZGRlZCBjdXN0b20gZWxlbWVudHMgd2lsbCBiZSB1cGdyYWRlZCAoaWYgbm90IGFscmVhZHkpIGFuZCBjYWxsXG4gICAqIGNvbm5lY3RlZENhbGxiYWNrLiBBbGwgcmVtb3ZlZCBjdXN0b20gZWxlbWVudHMgd2lsbCBjYWxsXG4gICAqIGRpc2Nvbm5lY3RlZENhbGxiYWNrLlxuICAgKlxuICAgKiBAcGFyYW0geyFBcnJheTwhTXV0YXRpb25SZWNvcmQ+fSByZWNvcmRzXG4gICAqL1xuICBoYW5kbGVSZWNvcmRzXyhyZWNvcmRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZWNvcmQgPSByZWNvcmRzW2ldO1xuICAgICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHthZGRlZE5vZGVzLCByZW1vdmVkTm9kZXN9ID0gcmVjb3JkO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBhZGRlZE5vZGVzW2ldO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWRDYW5kaWRhdGVzID0gdGhpcy5xdWVyeUFsbF8obm9kZSwgdGhpcy5xdWVyeV8pO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENhbGxiYWNrXyhub2RlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25uZWN0ZWRDYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWRDYWxsYmFja18oY29ubmVjdGVkQ2FuZGlkYXRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHJlbW92ZWROb2Rlc1tpXTtcbiAgICAgICAgY29uc3QgZGlzY29ubmVjdGVkQ2FuZGlkYXRlcyA9IHRoaXMucXVlcnlBbGxfKG5vZGUsIHRoaXMucXVlcnlfKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRDYWxsYmFja18obm9kZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzY29ubmVjdGVkQ2FuZGlkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGVkQ2FsbGJhY2tfKGRpc2Nvbm5lY3RlZENhbmRpZGF0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRG9lcyB0aGUgcG9seWZpbGxpbmcuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5mdW5jdGlvbiBwb2x5ZmlsbCh3aW4pIHtcbiAgY29uc3Qge0hUTUxFbGVtZW50LCBFbGVtZW50LCBOb2RlLCBEb2N1bWVudCwgT2JqZWN0LCBkb2N1bWVudH0gPSB3aW47XG4gIGNvbnN0IHtjcmVhdGVFbGVtZW50LCBjbG9uZU5vZGUsIGltcG9ydE5vZGV9ID0gZG9jdW1lbnQ7XG5cbiAgY29uc3QgcmVnaXN0cnkgPSBuZXcgUmVnaXN0cnkod2luKTtcbiAgY29uc3QgY3VzdG9tRWxlbWVudHMgPSBuZXcgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5KHdpbiwgcmVnaXN0cnkpO1xuXG4gIC8vIEV4cG9zZSB0aGUgY3VzdG9tIGVsZW1lbnQgcmVnaXN0cnkuXG4gIC8vIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LCAnY3VzdG9tRWxlbWVudHMnKVxuICAvLyB7Z2V0OiDGkiwgc2V0OiB1bmRlZmluZWQsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbiwgJ2N1c3RvbUVsZW1lbnRzJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIC8vIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogY3VzdG9tRWxlbWVudHMsXG4gIH0pO1xuXG4gIC8vIFBhdGNoIGNyZWF0ZUVsZW1lbnQgdG8gaW1tZWRpYXRlbHkgdXBncmFkZSB0aGUgY3VzdG9tIGVsZW1lbnQuXG4gIC8vIFRoaXMgaGFzIHRoZSBhZGRlZCBiZW5lZml0IHRoYXQgaXQgYXZvaWRzIHRoZSBcImFscmVhZHkgY3JlYXRlZCBidXQgbmVlZHNcbiAgLy8gY29uc3RydWN0b3IgY29kZSBydW5cIiBjaGlja2VuLWFuZC1lZ2cgcHJvYmxlbS5cbiAgRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50UG9seWZpbGwobmFtZSkge1xuICAgIGNvbnN0IGRlZiA9IHJlZ2lzdHJ5LmdldEJ5TmFtZShuYW1lKTtcbiAgICBpZiAoZGVmKSB7XG4gICAgICByZXR1cm4gbmV3IGRlZi5jdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gUGF0Y2ggaW1wb3J0Tm9kZSB0byBpbW1lZGlhdGVseSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50cy5cbiAgLy8gVE9ETyhqcmlkZ2V3ZWxsKTogQ2FuIGZpcmUgYWRvcHRlZENhbGxiYWNrIGZvciBjcm9zcyBkb2MgaW1wb3J0cy5cbiAgRG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGUgPSBmdW5jdGlvbiBpbXBvcnROb2RlUG9seWZpbGwoKSB7XG4gICAgY29uc3QgaW1wb3J0ZWQgPSBpbXBvcnROb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGltcG9ydGVkKSB7XG4gICAgICByZWdpc3RyeS51cGdyYWRlU2VsZihpbXBvcnRlZCk7XG4gICAgICByZWdpc3RyeS51cGdyYWRlKGltcG9ydGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGltcG9ydGVkO1xuICB9O1xuXG4gIC8vIFBhdGNoIGNsb25lTm9kZSB0byBpbW1lZGlhdGVseSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50cy5cbiAgTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gY2xvbmVOb2RlUG9seWZpbGwoKSB7XG4gICAgY29uc3QgY2xvbmVkID0gY2xvbmVOb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmVnaXN0cnkudXBncmFkZVNlbGYoY2xvbmVkKTtcbiAgICByZWdpc3RyeS51cGdyYWRlKGNsb25lZCk7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfTtcblxuICAvLyBQYXRjaCB0aGUgaW5uZXJIVE1MIHNldHRlciB0byBpbW1lZGlhdGVseSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50cy5cbiAgLy8gTm90ZSwgdGhpcyBjb3VsZCB0ZWNobmljYWxseSBmaXJlIGNvbm5lY3RlZENhbGxiYWNrcyBpZiB0aGlzIG5vZGUgd2FzXG4gIC8vIGNvbm5lY3RlZCwgYnV0IHdlIGxlYXZlIHRoYXQgdG8gdGhlIE11dGF0aW9uIE9ic2VydmVyLlxuICBjb25zdCBpbm5lckhUTUxEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFbGVtZW50LnByb3RvdHlwZSxcbiAgICAgICdpbm5lckhUTUwnKTtcbiAgY29uc3QgaW5uZXJIVE1MU2V0dGVyID0gaW5uZXJIVE1MRGVzYy5zZXQ7XG4gIGlubmVySFRNTERlc2Muc2V0ID0gZnVuY3Rpb24oaHRtbCkge1xuICAgIGlubmVySFRNTFNldHRlci5jYWxsKHRoaXMsIGh0bWwpO1xuICAgIHJlZ2lzdHJ5LnVwZ3JhZGUodGhpcyk7XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgJ2lubmVySFRNTCcsIGlubmVySFRNTERlc2MpO1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuJ3QgdXNlIHRoZSByZWFsIEhUTUxFbGVtZW50IGNvbnN0cnVjdG9yLCBiZWNhdXNlIHlvdSBjYW4ndCBzdWJjbGFzc1xuICAgKiBpdCB3aXRob3V0IHVzaW5nIG5hdGl2ZSBjbGFzc2VzLiBTbywgbW9jayBpdHMgYXBwcm94aW1hdGlvbiB1c2luZ1xuICAgKiBjcmVhdGVFbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gSFRNTEVsZW1lbnRQb2x5ZmlsbCgpIHtcbiAgICBjb25zdCB7Y29uc3RydWN0b3J9ID0gdGhpcztcblxuICAgIC8vIElmIHdlJ3JlIHVwZ3JhZGluZyBhbiBhbHJlYWR5IGNyZWF0ZWQgY3VzdG9tIGVsZW1lbnQsIHdlIGNhbid0IGNyZWF0ZVxuICAgIC8vIGFub3RoZXIgbmV3IG5vZGUgKGJ5IHRoZSBzcGVjLCBpdCBtdXN0IGJlIHRoZSBzYW1lIG5vZGUpLlxuICAgIGxldCBlbCA9IHJlZ2lzdHJ5LmN1cnJlbnQoKTtcblxuICAgIC8vIElmIHRoZXJlJ3Mgbm90IGEgYWxyZWFkeSBjcmVhdGVkIGN1c3RvbSBlbGVtZW50LCB3ZSdyZSBiZWluZyBpbnZva2VkIHZpYVxuICAgIC8vIGBuZXdgaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAvL1xuICAgIC8vIFRlY2huaWNhbGx5LCB3ZSBjb3VsZCBnZXQgaGVyZSB2aWEgY3JlYXRlRWxlbWVudCwgYnV0IHdlIHBhdGNoZWQgdGhhdC5cbiAgICAvLyBJZiBpdCB0aGUgY3VzdG9tIGVsZW1lbnQgd2FzIHJlZ2lzdGVyZWQsIHRoZSBwYXRjaCB0dXJuZWQgaXQgaW50byBhXG4gICAgLy8gYG5ld2AgY2FsbC5cbiAgICAvLyBJZiBpdCB3YXMgbm90IHJlZ2lzdGVyZWQsIHRoZSBuYXRpdmUgY3JlYXRlRWxlbWVudCBpcyB1c2VkLiBBbmQgaWZcbiAgICAvLyBuYXRpdmUgY3JlYXRlRWxlbWVudCBpcyBiZWluZyB1c2VkIGFuZCB3ZSBnb3QgdG8gdGhpcyBjb2RlLCB3ZSdyZSByZWFsbHlcbiAgICAvLyBpbiBhbiBpbmZpbml0ZSBsb29wIChhIG5hdGl2ZSBjcmVhdGVFbGVtZW50IGNhbGwganVzdCBiZWxvdykgc28gd2UndmVcbiAgICAvLyBnb3QgYmlnZ2VyIHByb2JsZW1zLlxuICAgIC8vXG4gICAgLy8gU28ganVzdCB0YWtlIG15IHdvcmQgd2UgZ290IGhlcmUgdmlhIGBuZXdgLlxuICAgIGlmICghZWwpIHtcbiAgICAgIC8vIFRoZSBjdXN0b20gZWxlbWVudCBkZWZpbml0aW9uIGlzIGFuIGludmFyaWFudC4gSWYgdGhlIGN1c3RvbSBlbGVtZW50XG4gICAgICAvLyBpcyByZWdpc3RlcmVkLCBldmVyeXRoaW5nIHdvcmtzLiBJZiBpdCdzIG5vdCwgaXQgdGhyb3dzIGluIHRoZSBtZW1iZXJcbiAgICAgIC8vIHByb3BlcnR5IGFjY2VzcyAob25seSBkZWZpbmVkIGN1c3RvbSBlbGVtZW50cyBjYW4gYmUgZGlyZWN0bHlcbiAgICAgIC8vIGNvbnN0cnVjdGVkIHZpYSBgbmV3YCkuXG4gICAgICBjb25zdCBkZWYgPSByZWdpc3RyeS5nZXRCeUNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKTtcbiAgICAgIGVsID0gY3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCBkZWYubmFtZSk7XG4gICAgfVxuXG4gICAgLy8gRmluYWxseSwgaWYgdGhlIG5vZGUgd2FzIGFscmVhZHkgY29uc3RydWN0ZWQsIHdlIG5lZWQgdG8gcmVzZXQgaXQnc1xuICAgIC8vIHByb3RvdHlwZSB0byB0aGUgY3VzdG9tIGVsZW1lbnQgcHJvdG90eXBlLiBBbmQgaWYgaXQgd2Fzbid0IGFscmVhZHlcbiAgICAvLyBjb25zdHJ1Y3RlZCwgd2UgY3JlYXRlZCBhIG5ldyBub2RlIHZpYSBuYXRpdmUgY3JlYXRlRWxlbWVudCwgYW5kIHdlIG5lZWRcbiAgICAvLyB0byByZXNldCBpdCdzIHByb3RvdHlwZS4gQmFzaWNhbGx5IGFsd2F5cyByZXNldCB0aGUgcHJvdG90eXBlLlxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihlbCwgY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgc3ViQ2xhc3MoT2JqZWN0LCBIVE1MRWxlbWVudCwgSFRNTEVsZW1lbnRQb2x5ZmlsbCk7XG5cbiAgLy8gRXhwb3NlIHRoZSBwb2x5ZmlsbGVkIEhUTUxFbGVtZW50IGNvbnN0cnVjdG9yIGZvciBldmVyeW9uZSB0byBleHRlbmQgZnJvbS5cbiAgd2luLkhUTUxFbGVtZW50ID0gSFRNTEVsZW1lbnRQb2x5ZmlsbDtcbn1cblxuLyoqXG4gKiBXcmFwcyBIVE1MRWxlbWVudCBpbiBhIFJlZmxlY3QuY29uc3RydWN0IGNvbnN0cnVjdG9yLCBzbyB0aGF0IHRyYW5zcGlsZWRcbiAqIGNsYXNzZXMgY2FuIGBfdGhpcyA9IHN1cGVyQ2xhc3MuY2FsbCh0aGlzKWAgZHVyaW5nIHRoZWlyIGNvbnN0cnVjdGlvbi5cbiAqXG4gKiBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuIEN1c3RvbSBFbGVtZW50cyB2MSBpcyBhbHJlYWR5IGF2YWlsYWJsZSBfYW5kXyB3ZSdyZVxuICogdXNpbmcgdHJhbnNwaWxlZCBjbGFzc2VzICh3aGljaCB1c2UgRVM1IGNvbnN0cnVjdGlvbiBpZGlvbXMpLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKi9cbmZ1bmN0aW9uIHdyYXBIVE1MRWxlbWVudCh3aW4pIHtcbiAgY29uc3Qge0hUTUxFbGVtZW50LCBSZWZsZWN0LCBPYmplY3R9ID0gd2luO1xuICAvKipcbiAgICovXG4gIGZ1bmN0aW9uIEhUTUxFbGVtZW50V3JhcHBlcigpIHtcbiAgICBjb25zdCBjdG9yID0gLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4/KTo/fHVuZGVmaW5lZH0gKi8oXG4gICAgICAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcykuY29uc3RydWN0b3IpO1xuXG4gICAgLy8gUmVmbGVjdC5jb25zdHJ1Y3QgYWxsb3dzIHVzIHRvIGNvbnN0cnVjdCBhIG5ldyBIVE1MRWxlbWVudCB3aXRob3V0IHVzaW5nXG4gICAgLy8gYG5ld2AgKHdoaWNoIHdpbGwgYWx3YXlzIGZhaWwgYmVjYXVzZSBuYXRpdmUgSFRNTEVsZW1lbnQgaXMgYSByZXN0cmljdGVkXG4gICAgLy8gY29uc3RydWN0b3IpLlxuICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdChIVE1MRWxlbWVudCwgW10sIGN0b3IpO1xuICB9XG4gIHN1YkNsYXNzKE9iamVjdCwgSFRNTEVsZW1lbnQsIEhUTUxFbGVtZW50V3JhcHBlcik7XG5cbiAgLy8gRXhwb3NlIHRoZSB3cmFwcGVkIEhUTUxFbGVtZW50IGNvbnN0cnVjdG9yIGZvciBldmVyeW9uZSB0byBleHRlbmQgZnJvbS5cbiAgd2luLkhUTUxFbGVtZW50ID0gSFRNTEVsZW1lbnRXcmFwcGVyO1xufVxuXG4vKipcbiAqIFNldHVwcyB1cCBwcm90b3R5cGUgaW5oZXJpdGFuY2VcbiAqXG4gKiBAcGFyYW0geyFPYmplY3R9IE9iamVjdFxuICogQHBhcmFtIHshRnVuY3Rpb259IHN1cGVyQ2xhc3NcbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBzdWJDbGFzc1xuICovXG5mdW5jdGlvbiBzdWJDbGFzcyhPYmplY3QsIHN1cGVyQ2xhc3MsIHN1YkNsYXNzKSB7XG4gIC8vIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3VwZXJDbGFzcy5wcm90b3R5cGUsICdjb25zdHJ1Y3RvcicpXG4gIC8vIHt2YWx1ZTogxpIsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlfVxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgfSxcbiAgfSk7XG59XG5cbi8qKlxuICogUG9seWZpbGxzIEN1c3RvbSBFbGVtZW50cyB2MSBBUEkuIFRoaXMgaGFzIDQgbW9kZXM6XG4gKlxuICogMS4gQ3VzdG9tIGVsZW1lbnRzIHYxIGFscmVhZHkgc3VwcG9ydGVkLCB1c2luZyBuYXRpdmUgY2xhc3Nlc1xuICogMi4gQ3VzdG9tIGVsZW1lbnRzIHYxIGFscmVhZHkgc3VwcG9ydGVkLCB1c2luZyB0cmFuc3BpbGVkIGNsYXNzZXNcbiAqIDMuIEN1c3RvbSBlbGVtZW50cyB2MSBub3Qgc3VwcG9ydGVkLCB1c2luZyBuYXRpdmUgY2xhc3Nlc1xuICogNC4gQ3VzdG9tIGVsZW1lbnRzIHYxIG5vdCBzdXBwb3J0ZWQsIHVzaW5nIHRyYW5zcGlsZWQgY2xhc3Nlc1xuICpcbiAqIEluIG1vZGUgMSwgbm90aGluZyBpcyBkb25lLiBJbiBtb2RlIDIsIGEgbWluaW1hbCBwb2x5ZmlsbCBpcyB1c2VkIHRvIHN1cHBvcnRcbiAqIGV4dGVuZGluZyB0aGUgSFRNTEVsZW1lbnQgYmFzZSBjbGFzcy4gSW4gbW9kZSAzIGFuZCA0LCBhIGZ1bGwgcG9seWZpbGwgaXNcbiAqIGRvbmUuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsKHdpbiwgY3Rvcikge1xuICBpZiAoaXNQYXRjaGVkKHdpbikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaW5zdGFsbCA9IHRydWU7XG4gIGxldCBpbnN0YWxsV3JhcHBlciA9IGZhbHNlO1xuXG4gIGlmIChoYXNDdXN0b21FbGVtZW50cyh3aW4pKSB7XG4gICAgLy8gSWYgY3RvciBpcyBjb25zdHJ1Y3RhYmxlIHdpdGhvdXQgbmV3LCBpdCdzIGEgZnVuY3Rpb24uIFRoYXQgbWVhbnMgaXQgd2FzXG4gICAgLy8gY29tcGlsZWQgZG93biwgYW5kIHdlIG5lZWQgdG8gZG8gdGhlIG1pbmltYWwgcG9seWZpbGwgYmVjYXVzZSBhbGwgeW91XG4gICAgLy8gY2Fubm90IGV4dGVuZCBIVE1MRWxlbWVudCB3aXRob3V0IG5hdGl2ZSBjbGFzc2VzLlxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7T2JqZWN0LCBSZWZsZWN0fSA9IHdpbjtcblxuICAgICAgLy8gXCJDb25zdHJ1Y3RcIiBjdG9yIHVzaW5nIEVTNSBpZGlvbXNcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShjdG9yLnByb3RvdHlwZSk7XG4gICAgICBjdG9yLmNhbGwoaW5zdGFuY2UpO1xuXG4gICAgICAvLyBJZiB0aGF0IHN1Y2NlZWRlZCwgd2UncmUgaW4gYSB0cmFuc3BpbGVkIGVudmlyb25tZW50XG4gICAgICAvLyBMZXQncyBmaW5kIG91dCBpZiB3ZSBjYW4gd3JhcCBIVE1MRWxlbWVudCBhbmQgYXZvaWQgYSBmdWxsIHBhdGNoLlxuICAgICAgaW5zdGFsbFdyYXBwZXIgPSAhIShSZWZsZWN0ICYmIFJlZmxlY3QuY29uc3RydWN0KTtcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIC8vIFRoZSBjdG9yIHRocmV3IHdoZW4gd2UgY29uc3RydWN0ZWQgaXMgdmlhIEVTNSwgc28gaXQncyBhIHJlYWwgY2xhc3MuXG4gICAgICAvLyBXZSdyZSBvayB0byBub3QgaW5zdGFsbCB0aGUgcG9seWZpbGwuXG4gICAgICBpbnN0YWxsID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGluc3RhbGxXcmFwcGVyKSB7XG4gICAgd3JhcEhUTUxFbGVtZW50KHdpbik7XG4gIH0gZWxzZSBpZiAoaW5zdGFsbCkge1xuICAgIHBvbHlmaWxsKHdpbik7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cbi8qKlxuICogUG9seWZpbGwgZm9yIGBkb2N1bWVudC5jb250YWlucygpYCBtZXRob2QuIE5vdGljZSB0aGF0IGFjY29yZGluZyB0byBzcGVjXG4gKiBgZG9jdW1lbnQuY29udGFpbnNgIGlzIGluY2x1c2lvbmFyeS5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9jb250YWluc1xuICogQHBhcmFtIHs/Tm9kZX0gbm9kZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0aGlzIHtOb2RlfVxuICovXG5mdW5jdGlvbiBkb2N1bWVudENvbnRhaW5zUG9seWZpbGwobm9kZSkge1xuICAvLyBQZXIgc3BlYywgXCJjb250YWluc1wiIG1ldGhvZCBpcyBpbmNsdXNpb25hcnlcbiAgLy8gaS5lLiBgbm9kZS5jb250YWlucyhub2RlKSA9PSB0cnVlYC4gSG93ZXZlciwgd2Ugc3RpbGwgbmVlZCB0byB0ZXN0XG4gIC8vIGVxdWFsaXR5IHRvIHRoZSBkb2N1bWVudCBpdHNlbGYuXG4gIHJldHVybiBub2RlID09IHRoaXMgfHwgdGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMobm9kZSk7XG59XG5cblxuLyoqXG4gKiBQb2x5ZmlsbHMgYEhUTUxEb2N1bWVudC5jb250YWluc2AgQVBJLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwod2luKSB7XG4gIC8vIEhUTUxEb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAsIGJ1dCBpdCBoYXMgRG9jdW1lbnQsXG4gIC8vIHNvIHdlIHVzZSB0aGF0IGFzIGEgZmFsbGJhY2suXG4gIGNvbnN0IGRvY3VtZW50Q2xhc3MgPSB3aW4uSFRNTERvY3VtZW50IHx8IHdpbi5Eb2N1bWVudDtcbiAgaWYgKCFkb2N1bWVudENsYXNzLnByb3RvdHlwZS5jb250YWlucykge1xuICAgIHdpbi5PYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnRDbGFzcy5wcm90b3R5cGUsICdjb250YWlucycsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZG9jdW1lbnRDb250YWluc1BvbHlmaWxsLFxuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBgRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGUodG9rZW4sIG9wdF9mb3JjZSlgIG1ldGhvZC4gVGhpc1xuICogaXMgc3BlY2lhbGx5IGltcG9ydGFudCBiZWNhdXNlIElFIGRvZXMgbm90IHN1cHBvcnQgYG9wdF9mb3JjZWAgYXR0cmlidXRlLiBTZWVcbiAqIGh0dHBzOi8vZ29vLmdsL2hnS05ZWSBmb3IgZGV0YWlscy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlblxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2ZvcmNlXG4gKiBAdGhpcyB7RE9NVG9rZW5MaXN0fVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZG9tVG9rZW5MaXN0VG9nZ2xlUG9seWZpbGwodG9rZW4sIG9wdF9mb3JjZSkge1xuICBjb25zdCByZW1vdmUgPSBvcHRfZm9yY2UgPT09IHVuZGVmaW5lZCA/IHRoaXMuY29udGFpbnModG9rZW4pIDogIW9wdF9mb3JjZTtcbiAgaWYgKHJlbW92ZSkge1xuICAgIHRoaXMucmVtb3ZlKHRva2VuKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hZGQodG9rZW4pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cblxuLyoqXG4gKiBQb2x5ZmlsbHMgYERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlYCBBUEkgaW4gSUUuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbCh3aW4pIHtcbiAgaWYgKGlzSWUod2luKSAmJiB3aW4uRE9NVG9rZW5MaXN0KSB7XG4gICAgd2luLk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW4uRE9NVG9rZW5MaXN0LnByb3RvdHlwZSwgJ3RvZ2dsZScsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZG9tVG9rZW5MaXN0VG9nZ2xlUG9seWZpbGwsXG4gICAgfSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBpcyBhIElFIGJyb3dzZXIuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNJZSh3aW4pIHtcbiAgcmV0dXJuIC9UcmlkZW50fE1TSUV8SUVNb2JpbGUvaS50ZXN0KHdpbi5uYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFBhcnNlcyB0aGUgbnVtYmVyIHggYW5kIHJldHVybnMgaXRzIHNpZ24uIEZvciBwb3NpdGl2ZSB4IHJldHVybnMgMSwgZm9yXG4gKiBuZWdhdGl2ZSwgLTEuIEZvciAwIGFuZCAtMCwgcmV0dXJucyAwIGFuZCAtMCByZXNwZWN0aXZlbHkuIEZvciBhbnkgbnVtYmVyXG4gKiB0aGF0IHBhcnNlcyB0byBOYU4sIHJldHVybnMgTmFOLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWduKHgpIHtcbiAgeCA9IE51bWJlcih4KTtcblxuICAvLyBJZiB4IGlzIDAsIC0wLCBvciBOYU4sIHJldHVybiBpdC5cbiAgaWYgKCF4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG59XG5cblxuLyoqXG4gKiBTZXRzIHRoZSBNYXRoLnNpZ24gcG9seWZpbGwgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbCh3aW4pIHtcbiAgaWYgKCF3aW4uTWF0aC5zaWduKSB7XG4gICAgd2luLk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW4uTWF0aCwgJ3NpZ24nLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHNpZ24sXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCB7aGFzT3duUHJvcGVydHl9ID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBDb3BpZXMgdmFsdWVzIG9mIGFsbCBlbnVtZXJhYmxlIG93biBwcm9wZXJ0aWVzIGZyb20gb25lIG9yIG1vcmUgc291cmNlXG4gKiBvYmplY3RzIChwcm92aWRlZCBhcyBleHRlbmRlZCBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uKSB0byBhIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHshT2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSB2YXJfYXJnc1xuICogQHJldHVybiB7IU9iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHZhcl9hcmdzKSB7XG4gIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICB9XG5cbiAgY29uc3Qgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGlmIChzb3VyY2UgIT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG4vKipcbiAqIFNldHMgdGhlIE9iamVjdC5hc3NpZ24gcG9seWZpbGwgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbCh3aW4pIHtcbiAgaWYgKCF3aW4uT2JqZWN0LmFzc2lnbikge1xuICAgIHdpbi5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luLk9iamVjdCwgJ2Fzc2lnbicsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogYXNzaWduLFxuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuXG5pbXBvcnQgKiBhcyBQcm9taXNlIGZyb20gJ3Byb21pc2UtcGpzL3Byb21pc2UnO1xuXG4vKipcbiAqIFNldHMgdGhlIFByb21pc2UgcG9seWZpbGwgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbCh3aW4pIHtcbiAgaWYgKCF3aW4uUHJvbWlzZSkge1xuICAgIHdpbi5Qcm9taXNlID0gLyoqIEB0eXBlIHs/fSAqLyAoUHJvbWlzZSk7XG4gICAgLy8gSW4gYmFiZWwgdGhlICogZXhwb3J0IGlzIGFuIE9iamVjdCB3aXRoIGEgZGVmYXVsdCBwcm9wZXJ0eS5cbiAgICAvLyBJbiBjbG9zdXJlIGNvbXBpbGVyIGl0IGlzIHRoZSBQcm9taXNlIGZ1bmN0aW9uIGl0c2VsZi5cbiAgICBpZiAoUHJvbWlzZS5kZWZhdWx0KSB7XG4gICAgICB3aW4uUHJvbWlzZSA9IFByb21pc2UuZGVmYXVsdDtcbiAgICB9XG4gICAgLy8gV2UgY29weSB0aGUgaW5kaXZpZHVhbCBzdGF0aWMgbWV0aG9kcywgYmVjYXVzZSBjbG9zdXJlXG4gICAgLy8gY29tcGlsZXIgZmxhdHRlbnMgdGhlIHBvbHlmaWxsIG5hbWVzcGFjZS5cbiAgICB3aW4uUHJvbWlzZS5yZXNvbHZlID0gUHJvbWlzZS5yZXNvbHZlO1xuICAgIHdpbi5Qcm9taXNlLnJlamVjdCA9IFByb21pc2UucmVqZWN0O1xuICAgIHdpbi5Qcm9taXNlLmFsbCA9IFByb21pc2UuYWxsO1xuICAgIHdpbi5Qcm9taXNlLnJhY2UgPSBQcm9taXNlLnJhY2U7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge2dldFNlcnZpY2VQcm9taXNlfSBmcm9tICcuL3NlcnZpY2UnO1xuXG4vKipcbiAqIEEgbWFwIG9mIHNlcnZpY2VzIHRoYXQgZGVsYXkgcmVuZGVyaW5nLiBUaGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlXG4gKiBhbmQgdGhlIHZhbHVlIGlzIGEgRE9NIHF1ZXJ5IHdoaWNoIGlzIHVzZWQgdG8gY2hlY2sgaWYgdGhlIHNlcnZpY2UgaXMgbmVlZGVkXG4gKiBpbiB0aGUgY3VycmVudCBkb2N1bWVudC5cbiAqIERvIG5vdCBhZGQgYSBzZXJ2aWNlIHVubGVzcyBhYnNvbHV0ZWx5IG5lY2Vzc2FyeS5cbiAqXG4gKiBcXCAgIFxcICAvICBcXCAgLyAgIC8gLyAgIFxcICAgICB8ICAgXyAgXFwgICAgIHwgIFxcIHwgIHwgfCAgfCB8ICBcXCB8ICB8ICAvIF9fX19ffFxuICogIFxcICAgXFwvICAgIFxcLyAgIC8gLyAgXiAgXFwgICAgfCAgfF8pICB8ICAgIHwgICBcXHwgIHwgfCAgfCB8ICAgXFx8ICB8IHwgIHwgIF9fXG4gKiAgIFxcICAgICAgICAgICAgLyAvICAvX1xcICBcXCAgIHwgICAgICAvICAgICB8ICAuIGAgIHwgfCAgfCB8ICAuIGAgIHwgfCAgfCB8XyB8XG4gKiAgICBcXCAgICAvXFwgICAgLyAvICBfX19fXyAgXFwgIHwgIHxcXCAgXFwtLS0tLnwgIHxcXCAgIHwgfCAgfCB8ICB8XFwgICB8IHwgIHxfX3wgfFxuICogICAgIFxcX18vICBcXF9fLyAvX18vICAgICBcXF9fXFwgfCBffCBgLl9fX19ffHxfX3wgXFxfX3wgfF9ffCB8X198IFxcX198ICBcXF9fX19fX3xcbiAqXG4gKiBUaGUgZXF1aXZhbGVudCBvZiB0aGlzIGxpc3QgaXMgdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nIChTU1IpIGFuZCBhbnlcbiAqIGNoYW5nZXMgbWFkZSB0byBpdCBtdXN0IGJlIG1hZGUgaW4gY29vcmRpbmF0aW9uIHdpdGggY2FjaGVzIHRoYXQgaW1wbGVtZW50XG4gKiBTU1IuIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIFNTUiBzZWUgYml0Lmx5L2FtcC1zc3IuXG4gKlxuICogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuY29uc3QgU0VSVklDRVMgPSB7XG4gICdhbXAtZHluYW1pYy1jc3MtY2xhc3Nlcyc6ICdbY3VzdG9tLWVsZW1lbnQ9YW1wLWR5bmFtaWMtY3NzLWNsYXNzZXNdJyxcbiAgJ3ZhcmlhbnQnOiAnYW1wLWV4cGVyaW1lbnQnLFxuICAnYW1wLXN0b3J5JzogJ2FtcC1zdG9yeVtzdGFuZGFsb25lXScsXG59O1xuXG4vKipcbiAqIE1heGltdW0gbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFsbCBleHRlbnNpb25zIHRvIGxvYWQgYmVmb3JlIGVycm9yaW5nLlxuICogQGNvbnN0XG4gKi9cbmNvbnN0IExPQURfVElNRU9VVCA9IDMwMDA7XG5cbi8qKlxuICogRGV0ZWN0cyBhbnkgcmVuZGVyIGRlbGF5aW5nIHNlcnZpY2VzIHRoYXQgYXJlIHJlcXVpcmVkIG9uIHRoZSBwYWdlLCBhbmRcbiAqIHJldHVybnMgYSBwcm9taXNlIHdpdGggYSB0aW1lb3V0LlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyFQcm9taXNlPCFBcnJheTwqPj59IHJlc29sdmVzIHRvIGFuIEFycmF5IHRoYXQgaGFzIHRoZSBzYW1lIGxlbmd0aFxuICogICAgIGFzIHRoZSBkZXRlY3RlZCByZW5kZXIgZGVsYXlpbmcgc2VydmljZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTZXJ2aWNlcyh3aW4pIHtcbiAgY29uc3QgcHJvbWlzZXMgPSBpbmNsdWRlZFNlcnZpY2VzKHdpbikubWFwKHNlcnZpY2UgPT4ge1xuICAgIHJldHVybiBTZXJ2aWNlcy50aW1lckZvcih3aW4pLnRpbWVvdXRQcm9taXNlKFxuICAgICAgICBMT0FEX1RJTUVPVVQsXG4gICAgICAgIGdldFNlcnZpY2VQcm9taXNlKHdpbiwgc2VydmljZSksXG4gICAgICAgIGBSZW5kZXIgdGltZW91dCB3YWl0aW5nIGZvciBzZXJ2aWNlICR7c2VydmljZX0gdG8gYmUgcmVhZHkuYFxuICAgICk7XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFnZSBoYXMgYSByZW5kZXIgZGVsYXlpbmcgc2VydmljZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUmVuZGVyRGVsYXlpbmdTZXJ2aWNlcyh3aW4pIHtcbiAgcmV0dXJuIGluY2x1ZGVkU2VydmljZXMod2luKS5sZW5ndGggPiAwO1xufVxuXG4vKipcbiAqIERldGVjdHMgd2hpY2gsIGlmIGFueSwgcmVuZGVyLWRlbGF5aW5nIGV4dGVuc2lvbnMgYXJlIGluY2x1ZGVkIG9uIHRoZSBwYWdlLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZWRTZXJ2aWNlcyh3aW4pIHtcbiAgLyoqIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gIGRldigpLmFzc2VydChkb2MuYm9keSk7XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKFNFUlZJQ0VTKS5maWx0ZXIoc2VydmljZSA9PiB7XG4gICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yKFNFUlZJQ0VTW3NlcnZpY2VdKTtcbiAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFJlZ2lzdHJhdGlvbiBhbmQgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgQU1QIHNlcnZpY2VzLlxuICpcbiAqIEludmFyaWFudDogU2VydmljZSBnZXR0ZXJzIG5ldmVyIHJldHVybiBudWxsIGZvciByZWdpc3RlcmVkIHNlcnZpY2VzLlxuICovXG5cbi8vIHNyYy9wb2x5ZmlsbHMuanMgbXVzdCBiZSB0aGUgZmlyc3QgaW1wb3J0LlxuaW1wb3J0ICcuL3BvbHlmaWxscyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgc29ydC1pbXBvcnRzLWVzNi1hdXRvZml4L3NvcnQtaW1wb3J0cy1lczZcblxuaW1wb3J0IHtEZWZlcnJlZH0gZnJvbSAnLi91dGlscy9wcm9taXNlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge3RvV2lufSBmcm9tICcuL3R5cGVzJztcblxuXG4vKipcbiAqIEhvbGRzIGluZm8gYWJvdXQgYSBzZXJ2aWNlLlxuICogLSBvYmo6IEFjdHVhbCBzZXJ2aWNlIGltcGxlbWVudGF0aW9uIHdoZW4gYXZhaWxhYmxlLlxuICogLSBwcm9taXNlOiBQcm9taXNlIGZvciB0aGUgb2JqLlxuICogLSByZXNvbHZlOiBGdW5jdGlvbiB0byByZXNvbHZlIHRoZSBwcm9taXNlIHdpdGggdGhlIG9iamVjdC5cbiAqIC0gY29udGV4dDogQXJndW1lbnQgZm9yIGN0b3IsIGVpdGhlciBhIHdpbmRvdyBvciBhbiBhbXBkb2MuXG4gKiAtIGN0b3I6IEZ1bmN0aW9uIHRoYXQgY29uc3RydWN0cyBhbmQgcmV0dXJucyB0aGUgc2VydmljZS5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIG9iajogKD9PYmplY3QpLFxuICogICBwcm9taXNlOiAoP1Byb21pc2UpLFxuICogICByZXNvbHZlOiAoP2Z1bmN0aW9uKCFPYmplY3QpKSxcbiAqICAgY29udGV4dDogKD9XaW5kb3d8Py4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2MpLFxuICogICBjdG9yOiAoP2Z1bmN0aW9uKG5ldzpPYmplY3QsICFXaW5kb3cpfFxuICogICAgICAgICAgP2Z1bmN0aW9uKG5ldzpPYmplY3QsICEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jKSksXG4gKiB9fVxuICovXG5sZXQgU2VydmljZUhvbGRlckRlZjtcblxuXG4vKipcbiAqIFRoaXMgaW50ZXJmYWNlIHByb3ZpZGVzIGEgYGRpc3Bvc2VgIG1ldGhvZCB0aGF0IHdpbGwgYmUgY2FsbGVkIGJ5XG4gKiBydW50aW1lIHdoZW4gYSBzZXJ2aWNlIG5lZWRzIHRvIGJlIGRpc3Bvc2VkIG9mLlxuICogQGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgRGlzcG9zYWJsZSB7XG5cbiAgLyoqXG4gICAqIEluc3RydWN0cyB0aGUgc2VydmljZSB0byByZWxlYXNlIGFueSByZXNvdXJjZXMgaXQgbWlnaHQgYmUgaG9sZGluZy4gQ2FuXG4gICAqIGJlIGNhbGxlZCBvbmx5IG9uY2UgaW4gdGhlIGxpZmVjeWNsZSBvZiBhIHNlcnZpY2UuXG4gICAqL1xuICBkaXNwb3NlKCkge31cbn1cblxuXG4vKipcbiAqIFRoaXMgaW50ZXJmYWNlIHByb3ZpZGVzIGEgYGFkb3B0RW1iZWRXaW5kb3dgIG1ldGhvZCB0aGF0IHdpbGwgYmUgY2FsbGVkIGJ5XG4gKiBydW50aW1lIGZvciBhIG5ldyBlbWJlZCB3aW5kb3cuXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZGRhYmxlU2VydmljZSB7XG5cbiAgLyoqXG4gICAqIEluc3RydWN0cyB0aGUgc2VydmljZSB0byBhZG9wdCB0aGUgZW1iZWQgd2luZG93IGFuZCBhZGQgYW55IG5lY2Vzc2FyeVxuICAgKiBsaXN0ZW5lcnMgYW5kIHJlc291cmNlcy5cbiAgICogQHBhcmFtIHshV2luZG93fSB1bnVzZWRFbWJlZFdpblxuICAgKi9cbiAgYWRvcHRFbWJlZFdpbmRvdyh1bnVzZWRFbWJlZFdpbikge31cbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBzZXJ2aWNlIHdpdGggdGhlIGdpdmVuIGlkLiBBc3N1bWVzIHRoYXQgaXQgaGFzIGJlZW4gcmVnaXN0ZXJlZFxuICogYWxyZWFkeS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9mYWxsYmFja1RvVG9wV2luXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzZXJ2aWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhpc3RpbmdTZXJ2aWNlSW5FbWJlZFNjb3BlKHdpbiwgaWQsIG9wdF9mYWxsYmFja1RvVG9wV2luKSB7XG4gIC8vIEZpcnN0LCB0cnkgdG8gcmVzb2x2ZSB2aWEgbG9jYWwgKGVtYmVkKSB3aW5kb3cuXG4gIGNvbnN0IGxvY2FsID0gZ2V0TG9jYWxFeGlzdGluZ1NlcnZpY2VGb3JFbWJlZFdpbk9yTnVsbCh3aW4sIGlkKTtcbiAgaWYgKGxvY2FsKSB7XG4gICAgcmV0dXJuIGxvY2FsO1xuICB9XG4gIGlmIChvcHRfZmFsbGJhY2tUb1RvcFdpbikge1xuICAgIHJldHVybiBnZXRTZXJ2aWNlKHdpbiwgaWQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzZXJ2aWNlIHdpdGggdGhlIGdpdmVuIGlkLiBBc3N1bWVzIHRoYXQgaXQgaGFzIGJlZW4gY29uc3RydWN0ZWRcbiAqIGFscmVhZHkuXG4gKlxuICogVW5saWtlIG1vc3Qgc2VydmljZSBnZXR0ZXJzLCBwYXNzaW5nIGBOb2RlYCBpcyBuZWNlc3NhcnkgZm9yIHNvbWUgRklFLXNjb3BlXG4gKiBzZXJ2aWNlcyBzaW5jZSBzb21ldGltZXMgd2Ugb25seSBoYXZlIHRoZSBGSUUgRG9jdW1lbnQgZm9yIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHshTm9kZXwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9mYWxsYmFja1RvVG9wV2luXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzZXJ2aWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhpc3RpbmdTZXJ2aWNlRm9yRG9jSW5FbWJlZFNjb3BlKFxuICBub2RlT3JEb2MsIGlkLCBvcHRfZmFsbGJhY2tUb1RvcFdpbikge1xuICAvLyBGaXJzdCwgdHJ5IHRvIHJlc29sdmUgdmlhIGxvY2FsIChlbWJlZCkgd2luZG93LlxuICBpZiAobm9kZU9yRG9jLm5vZGVUeXBlKSB7XG4gICAgLy8gSWYgYSBub2RlIGlzIHBhc3NlZCwgdHJ5IHRvIHJlc29sdmUgdmlhIHRoaXMgbm9kZS5cbiAgICBjb25zdCB3aW4gPSB0b1dpbigvKiogQHR5cGUgeyFEb2N1bWVudH0gKi8gKFxuICAgICAgbm9kZU9yRG9jLm93bmVyRG9jdW1lbnQgfHwgbm9kZU9yRG9jKS5kZWZhdWx0Vmlldyk7XG4gICAgY29uc3QgbG9jYWwgPSBnZXRMb2NhbEV4aXN0aW5nU2VydmljZUZvckVtYmVkV2luT3JOdWxsKHdpbiwgaWQpO1xuICAgIGlmIChsb2NhbCkge1xuICAgICAgcmV0dXJuIGxvY2FsO1xuICAgIH1cbiAgfVxuICAvLyBJZiBhbiBhbXBkb2MgaXMgcGFzc2VkIG9yIGZhbGxiYWNrIGlzIGFsbG93ZWQsIGNvbnRpbnVlIHJlc29sdmluZy5cbiAgaWYgKCFub2RlT3JEb2Mubm9kZVR5cGUgfHwgb3B0X2ZhbGxiYWNrVG9Ub3BXaW4pIHtcbiAgICByZXR1cm4gZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQobm9kZU9yRG9jLCBpZCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogSW5zdGFsbHMgYSBzZXJ2aWNlIG92ZXJyaWRlIG9uIGFtcC1kb2MgbGV2ZWwuXG4gKiBAcGFyYW0geyFXaW5kb3d9IGVtYmVkV2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7IU9iamVjdH0gc2VydmljZSBUaGUgc2VydmljZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxTZXJ2aWNlSW5FbWJlZFNjb3BlKGVtYmVkV2luLCBpZCwgc2VydmljZSkge1xuICBjb25zdCB0b3BXaW4gPSBnZXRUb3BXaW5kb3coZW1iZWRXaW4pO1xuICBkZXYoKS5hc3NlcnQoZW1iZWRXaW4gIT0gdG9wV2luLFxuICAgICAgJ1NlcnZpY2Ugb3ZlcnJpZGUgY2FuIG9ubHkgYmUgaW5zdGFsbGVkIGluIGVtYmVkIHdpbmRvdzogJXMnLCBpZCk7XG4gIGRldigpLmFzc2VydCghZ2V0TG9jYWxFeGlzdGluZ1NlcnZpY2VGb3JFbWJlZFdpbk9yTnVsbChlbWJlZFdpbiwgaWQpLFxuICAgICAgJ1NlcnZpY2Ugb3ZlcnJpZGUgaGFzIGFscmVhZHkgYmVlbiBpbnN0YWxsZWQ6ICVzJywgaWQpO1xuICByZWdpc3RlclNlcnZpY2VJbnRlcm5hbChlbWJlZFdpbiwgZW1iZWRXaW4sIGlkLCAoKSA9PiBzZXJ2aWNlKTtcbiAgZ2V0U2VydmljZUludGVybmFsKGVtYmVkV2luLCBpZCk7IC8vIEZvcmNlIHNlcnZpY2UgdG8gYnVpbGQuXG59XG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSBlbWJlZFdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJuIHs/T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRMb2NhbEV4aXN0aW5nU2VydmljZUZvckVtYmVkV2luT3JOdWxsKGVtYmVkV2luLCBpZCkge1xuICAvLyBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY3VycmVudGx5IG9ubHkgcmVzb2x2ZXMgYWdhaW5zdCB0aGUgZ2l2ZW4gd2luZG93LlxuICAvLyBJdCBkb2VzIG5vdCB0cnkgdG8gZ28gYWxsIHRoZSB3YXkgdXAgdGhlIHBhcmVudCB3aW5kb3cgY2hhaW4uIFdlIGNhbiBjaGFuZ2VcbiAgLy8gdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgZm9yIG5vdyB0aGlzIGdpdmVzIHVzIGEgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICBjb25zdCB0b3BXaW4gPSBnZXRUb3BXaW5kb3coZW1iZWRXaW4pO1xuICBpZiAoZW1iZWRXaW4gIT0gdG9wV2luICYmIGlzU2VydmljZVJlZ2lzdGVyZWQoZW1iZWRXaW4sIGlkKSkge1xuICAgIHJldHVybiBnZXRTZXJ2aWNlSW50ZXJuYWwoZW1iZWRXaW4sIGlkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIHNlcnZpY2UgZ2l2ZW4gYSBjbGFzcyB0byBiZSB1c2VkIGFzIGltcGxlbWVudGF0aW9uLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Ok9iamVjdCwgIVdpbmRvdyl9IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5zdGFudGlhdGUgV2hldGhlciB0byBpbW1lZGlhdGVseSBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZUJ1aWxkZXIod2luLFxuICBpZCxcbiAgY29uc3RydWN0b3IsXG4gIG9wdF9pbnN0YW50aWF0ZSkge1xuICB3aW4gPSBnZXRUb3BXaW5kb3cod2luKTtcbiAgcmVnaXN0ZXJTZXJ2aWNlSW50ZXJuYWwod2luLCB3aW4sIGlkLCBjb25zdHJ1Y3Rvcik7XG4gIGlmIChvcHRfaW5zdGFudGlhdGUpIHtcbiAgICBnZXRTZXJ2aWNlSW50ZXJuYWwod2luLCBpZCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBzZXJ2aWNlIGFuZCByZWdpc3RlcnMgaXQgZ2l2ZW4gYSBjbGFzcyB0byBiZSB1c2VkIGFzXG4gKiBpbXBsZW1lbnRhdGlvbi5cbiAqIEBwYXJhbSB7IU5vZGV8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IG5vZGVPckRvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6T2JqZWN0LCAhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvYyl9IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5zdGFudGlhdGUgV2hldGhlciB0byBpbW1lZGlhdGVseSBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZUJ1aWxkZXJGb3JEb2Mobm9kZU9yRG9jLFxuICBpZCxcbiAgY29uc3RydWN0b3IsXG4gIG9wdF9pbnN0YW50aWF0ZSkge1xuICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2Mobm9kZU9yRG9jKTtcbiAgY29uc3QgaG9sZGVyID0gZ2V0QW1wZG9jU2VydmljZUhvbGRlcihhbXBkb2MpO1xuICByZWdpc3RlclNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGFtcGRvYywgaWQsIGNvbnN0cnVjdG9yKTtcbiAgaWYgKG9wdF9pbnN0YW50aWF0ZSkge1xuICAgIGdldFNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGlkKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHNlcnZpY2UgZm9yIHRoZSBnaXZlbiBpZCBhbmQgd2luZG93IChhIHBlci13aW5kb3cgc2luZ2xldG9uKS4gVXNlcnNcbiAqIHNob3VsZCB0eXBpY2FsbHkgd3JhcCB0aGlzIGFzIGEgc3BlY2lhbCBwdXJwb3NlIGZ1bmN0aW9uIChlLmcuXG4gKiBgU2VydmljZXMudnN5bmNGb3Iod2luKWApIGZvciB0eXBlIHNhZmV0eSBhbmQgYmVjYXVzZSB0aGUgZmFjdG9yeSBzaG91bGQgbm90XG4gKiBiZSBwYXNzZWQgYXJvdW5kLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcmV0dXJuIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmljZSh3aW4sIGlkKSB7XG4gIHdpbiA9IGdldFRvcFdpbmRvdyh3aW4pO1xuICByZXR1cm4gZ2V0U2VydmljZUludGVybmFsKHdpbiwgaWQpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIGEgc2VydmljZSBmb3IgdGhlIGdpdmVuIGlkIGFuZCB3aW5kb3cuIEFsc28gZXhwZWN0cyBhblxuICogZWxlbWVudCB0aGF0IGhhcyB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uLiBUaGUgcHJvbWlzZSByZXNvbHZlcyB3aGVuIHRoZVxuICogaW1wbGVtZW50YXRpb24gbG9hZGVkLiBVc2VycyBzaG91bGQgdHlwaWNhbGx5IHdyYXAgdGhpcyBhcyBhIHNwZWNpYWwgcHVycG9zZVxuICogZnVuY3Rpb24gKGUuZy4gYFNlcnZpY2VzLnZzeW5jRm9yKHdpbilgKSBmb3IgdHlwZSBzYWZldHkgYW5kIGJlY2F1c2UgdGhlXG4gKiBmYWN0b3J5IHNob3VsZCBub3QgYmUgcGFzc2VkIGFyb3VuZC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgb2YgdGhlIHNlcnZpY2UuXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhT2JqZWN0Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VQcm9taXNlKHdpbiwgaWQpIHtcbiAgcmV0dXJuIGdldFNlcnZpY2VQcm9taXNlSW50ZXJuYWwod2luLCBpZCk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2VydmljZSBvciBudWxsIHdpdGggdGhlIGdpdmVuIGlkLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7P09iamVjdH0gVGhlIHNlcnZpY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeGlzdGluZ1NlcnZpY2VPck51bGwod2luLCBpZCkge1xuICB3aW4gPSBnZXRUb3BXaW5kb3cod2luKTtcbiAgaWYgKGlzU2VydmljZVJlZ2lzdGVyZWQod2luLCBpZCkpIHtcbiAgICByZXR1cm4gZ2V0U2VydmljZUludGVybmFsKHdpbiwgaWQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cblxuLyoqXG4gKiBMaWtlIGdldFNlcnZpY2VQcm9taXNlIGJ1dCByZXR1cm5zIG51bGwgaWYgdGhlIHNlcnZpY2Ugd2FzIG5ldmVyIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJuIHs/UHJvbWlzZTwhT2JqZWN0Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VQcm9taXNlT3JOdWxsKHdpbiwgaWQpIHtcbiAgcmV0dXJuIGdldFNlcnZpY2VQcm9taXNlT3JOdWxsSW50ZXJuYWwod2luLCBpZCk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2VydmljZSBmb3IgdGhlIGdpdmVuIGlkIGFuZCBhbXBkb2MgKGEgcGVyLWFtcGRvYyBzaW5nbGV0b24pLlxuICogRXhwZWN0cyBzZXJ2aWNlIGBpZGAgdG8gYmUgcmVnaXN0ZXJlZC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJuIHtUfVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCBpZCkge1xuICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2MoZWxlbWVudE9yQW1wRG9jKTtcbiAgY29uc3QgaG9sZGVyID0gZ2V0QW1wZG9jU2VydmljZUhvbGRlcihhbXBkb2MpO1xuICByZXR1cm4gZ2V0U2VydmljZUludGVybmFsKGhvbGRlciwgaWQpO1xufVxuXG5cbi8qKlxuICogdGw7ZHIgLS0gVXNlIGdldFNlcnZpY2VGb3JEb2MoKSBpbnN0ZWFkIG9mIHRoaXMuXG4gKlxuICogUHJpdmlsZWdlZCB2YXJpYW50IG9mIGdldFNlcnZpY2VGb3JEb2MoKSB0aGF0IGFjY2VwdHMgbm9uLWVsZW1lbnQgcGFyYW1zLFxuICogZS5nLiB3aW5kb3cuZG9jdW1lbnQuIFRoaXMgaXMgY3VycmVudGx5IG5lY2Vzc2FyeSBmb3IgZG9jLWxldmVsIHNlcnZpY2VzXG4gKiB1c2VkIGluIHN0YXJ0dXAsIGUuZy4gQ2h1bmtzLiBFdmVudHVhbGx5IHdlIHdhbnQgdG8gcmVtb3ZlIHRoaXMgZnVuY3Rpb25cbiAqIGFuZCBoYXZlIGNhbGxlcnMgZmluZCB0aGUgYXBwcm9wcmlhdGUgQW1wRG9jIGFuZCB1c2UgZ2V0U2VydmljZUZvckRvYygpLlxuICpcbiAqIEBwYXJhbSB7IU5vZGV8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IG5vZGVPckRvY1xuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJuIHtUfVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKG5vZGVPckRvYywgaWQpIHtcbiAgY29uc3QgYW1wZG9jID0gZ2V0QW1wZG9jKG5vZGVPckRvYyk7XG4gIGNvbnN0IGhvbGRlciA9IGdldEFtcGRvY1NlcnZpY2VIb2xkZXIoYW1wZG9jKTtcbiAgcmV0dXJuIGdldFNlcnZpY2VJbnRlcm5hbChob2xkZXIsIGlkKTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciBhIHNlcnZpY2UgZm9yIHRoZSBnaXZlbiBpZCBhbmQgYW1wZG9jLiBBbHNvIGV4cGVjdHNcbiAqIGEgc2VydmljZSB0aGF0IGhhcyB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uLiBUaGUgcHJvbWlzZSByZXNvbHZlcyB3aGVuXG4gKiB0aGUgaW1wbGVtZW50YXRpb24gbG9hZGVkLlxuICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4geyFQcm9taXNlPCFPYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmljZVByb21pc2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCBpZCkge1xuICByZXR1cm4gZ2V0U2VydmljZVByb21pc2VJbnRlcm5hbChcbiAgICAgIGdldEFtcGRvY1NlcnZpY2VIb2xkZXIoZWxlbWVudE9yQW1wRG9jKSwgaWQpO1xufVxuXG5cbi8qKlxuICogTGlrZSBnZXRTZXJ2aWNlUHJvbWlzZUZvckRvYyBidXQgcmV0dXJucyBudWxsIGlmIHRoZSBzZXJ2aWNlIHdhcyBuZXZlclxuICogcmVnaXN0ZXJlZCBmb3IgdGhpcyBhbXBkb2MuXG4gKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7P1Byb21pc2U8IU9iamVjdD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGlkKSB7XG4gIHJldHVybiBnZXRTZXJ2aWNlUHJvbWlzZU9yTnVsbEludGVybmFsKFxuICAgICAgZ2V0QW1wZG9jU2VydmljZUhvbGRlcihlbGVtZW50T3JBbXBEb2MpLCBpZCk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBwYXJlbnQgYW5kIHRvcCB3aW5kb3dzIG9uIGEgY2hpbGQgd2luZG93IChmcmllbmRseSBpZnJhbWUpLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7IVdpbmRvd30gcGFyZW50V2luXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXJlbnRXaW5kb3cod2luLCBwYXJlbnRXaW4pIHtcbiAgd2luLl9fQU1QX1BBUkVOVCA9IHBhcmVudFdpbjtcbiAgd2luLl9fQU1QX1RPUCA9IGdldFRvcFdpbmRvdyhwYXJlbnRXaW4pO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGFyZW50IHdpbmRvdyBmb3IgYSBjaGlsZCB3aW5kb3cgKGZyaWVuZGx5IGlmcmFtZSkuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7IVdpbmRvd31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudFdpbmRvdyh3aW4pIHtcbiAgcmV0dXJuIHdpbi5fX0FNUF9QQVJFTlQgfHwgd2luO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdG9wIHdpbmRvdyB3aGVyZSBBTVAgUnVudGltZSBpcyBpbnN0YWxsZWQgZm9yIGEgY2hpbGQgd2luZG93XG4gKiAoZnJpZW5kbHkgaWZyYW1lKS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshV2luZG93fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wV2luZG93KHdpbikge1xuICByZXR1cm4gd2luLl9fQU1QX1RPUCB8fCB3aW47XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnQgXCJmcmllbmRseVwiIGlmcmFtZSBpZiB0aGUgbm9kZSBiZWxvbmdzIHRvIGEgY2hpbGQgd2luZG93LlxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHBhcmFtIHshV2luZG93fSB0b3BXaW5cbiAqIEByZXR1cm4gez9IVE1MSUZyYW1lRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudFdpbmRvd0ZyYW1lRWxlbWVudChub2RlLCB0b3BXaW4pIHtcbiAgY29uc3QgY2hpbGRXaW4gPSAobm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUpLmRlZmF1bHRWaWV3O1xuICBpZiAoY2hpbGRXaW4gJiYgY2hpbGRXaW4gIT0gdG9wV2luICYmIGdldFRvcFdpbmRvdyhjaGlsZFdpbikgPT0gdG9wV2luKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAvKiogQHR5cGUgez9IVE1MSUZyYW1lRWxlbWVudH0gKi8gKGNoaWxkV2luLmZyYW1lRWxlbWVudCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlIHRoZSBlcnJvci5cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW1wZG9jKG5vZGVPckRvYykge1xuICBpZiAobm9kZU9yRG9jLm5vZGVUeXBlKSB7XG4gICAgY29uc3Qgd2luID0gdG9XaW4oLyoqIEB0eXBlIHshRG9jdW1lbnR9ICovIChcbiAgICAgIG5vZGVPckRvYy5vd25lckRvY3VtZW50IHx8IG5vZGVPckRvYykuZGVmYXVsdFZpZXcpO1xuICAgIHJldHVybiBnZXRBbXBkb2NTZXJ2aWNlKHdpbikuZ2V0QW1wRG9jKC8qKiBAdHlwZSB7IU5vZGV9ICovIChub2RlT3JEb2MpKTtcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gKi8gKG5vZGVPckRvYyk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfCFXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldEFtcGRvY1NlcnZpY2VIb2xkZXIobm9kZU9yRG9jKSB7XG4gIGNvbnN0IGFtcGRvYyA9IGdldEFtcGRvYyhub2RlT3JEb2MpO1xuICByZXR1cm4gYW1wZG9jLmlzU2luZ2xlRG9jKCkgPyBhbXBkb2Mud2luIDogYW1wZG9jO1xufVxuXG5cbi8qKlxuICogVGhpcyBpcyBlc3NlbnRpYWxseSBhIGR1cGxpY2F0ZSBvZiBgYW1wZG9jLmpzYCwgYnV0IG5lY2Vzc2FyeSB0byBhdm9pZFxuICogY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jU2VydmljZX1cbiAqL1xuZnVuY3Rpb24gZ2V0QW1wZG9jU2VydmljZSh3aW4pIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2NTZXJ2aWNlfSAqLyAoXG4gICAgZ2V0U2VydmljZSh3aW4sICdhbXBkb2MnKSk7XG59XG5cblxuLyoqXG4gKiBHZXQgc2VydmljZSBgaWRgIGZyb20gYGhvbGRlcmAuIEFzc3VtZXMgdGhlIHNlcnZpY2VcbiAqIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZC5cbiAqIEBwYXJhbSB7IU9iamVjdH0gaG9sZGVyIE9iamVjdCBob2xkaW5nIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHJldHVybiB7T2JqZWN0fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZnVuY3Rpb24gZ2V0U2VydmljZUludGVybmFsKGhvbGRlciwgaWQpIHtcbiAgZGV2KCkuYXNzZXJ0KGlzU2VydmljZVJlZ2lzdGVyZWQoaG9sZGVyLCBpZCksXG4gICAgICBgRXhwZWN0ZWQgc2VydmljZSAke2lkfSB0byBiZSByZWdpc3RlcmVkYCk7XG4gIGNvbnN0IHNlcnZpY2VzID0gZ2V0U2VydmljZXMoaG9sZGVyKTtcbiAgY29uc3QgcyA9IHNlcnZpY2VzW2lkXTtcbiAgaWYgKCFzLm9iaikge1xuICAgIGRldigpLmFzc2VydChzLmN0b3IsIGBTZXJ2aWNlICR7aWR9IHJlZ2lzdGVyZWQgd2l0aG91dCBjdG9yIG5vciBpbXBsLmApO1xuICAgIGRldigpLmFzc2VydChzLmNvbnRleHQsIGBTZXJ2aWNlICR7aWR9IHJlZ2lzdGVyZWQgd2l0aG91dCBjb250ZXh0LmApO1xuICAgIHMub2JqID0gbmV3IHMuY3RvcihzLmNvbnRleHQpO1xuICAgIGRldigpLmFzc2VydChzLm9iaiwgYFNlcnZpY2UgJHtpZH0gY29uc3RydWN0ZWQgdG8gbnVsbC5gKTtcbiAgICBzLmN0b3IgPSBudWxsO1xuICAgIHMuY29udGV4dCA9IG51bGw7XG4gICAgLy8gVGhlIHNlcnZpY2UgbWF5IGhhdmUgYmVlbiByZXF1ZXN0ZWQgYWxyZWFkeSwgaW4gd2hpY2ggY2FzZSB3ZSBoYXZlIGFcbiAgICAvLyBwZW5kaW5nIHByb21pc2Ugd2UgbmVlZCB0byBmdWxmaWxsLlxuICAgIGlmIChzLnJlc29sdmUpIHtcbiAgICAgIHMucmVzb2x2ZShzLm9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBzLm9iajtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlciBPYmplY3QgaG9sZGluZyB0aGUgc2VydmljZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7IVdpbmRvd3whLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gY29udGV4dCBXaW4gb3IgQW1wRG9jLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHBhcmFtIHs/ZnVuY3Rpb24obmV3Ok9iamVjdCwgIVdpbmRvdyl8P2Z1bmN0aW9uKG5ldzpPYmplY3QsICEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jKX0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBuZXcgdGhlIHNlcnZpY2UuIENhbGxlZCB3aXRoIGNvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZUludGVybmFsKGhvbGRlciwgY29udGV4dCwgaWQsIGN0b3IpIHtcbiAgY29uc3Qgc2VydmljZXMgPSBnZXRTZXJ2aWNlcyhob2xkZXIpO1xuICBsZXQgcyA9IHNlcnZpY2VzW2lkXTtcblxuICBpZiAoIXMpIHtcbiAgICBzID0gc2VydmljZXNbaWRdID0ge1xuICAgICAgb2JqOiBudWxsLFxuICAgICAgcHJvbWlzZTogbnVsbCxcbiAgICAgIHJlc29sdmU6IG51bGwsXG4gICAgICBjb250ZXh0OiBudWxsLFxuICAgICAgY3RvcjogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHMuY3RvciB8fCBzLm9iaikge1xuICAgIC8vIFNlcnZpY2UgYWxyZWFkeSByZWdpc3RlcmVkLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHMuY3RvciA9IGN0b3I7XG4gIHMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgLy8gVGhlIHNlcnZpY2UgbWF5IGhhdmUgYmVlbiByZXF1ZXN0ZWQgYWxyZWFkeSwgaW4gd2hpY2ggY2FzZSB0aGVyZSBpcyBhXG4gIC8vIHBlbmRpbmcgcHJvbWlzZSB0aGF0IG5lZWRzIHRvIGZ1bGZpbGxlZC5cbiAgaWYgKHMucmVzb2x2ZSkge1xuICAgIC8vIGdldFNlcnZpY2VJbnRlcm5hbCB3aWxsIHJlc29sdmUgdGhlIHByb21pc2UuXG4gICAgZ2V0U2VydmljZUludGVybmFsKGhvbGRlciwgaWQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHshT2JqZWN0fSBob2xkZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBvZiB0aGUgc2VydmljZS5cbiAqIEByZXR1cm4geyFQcm9taXNlPCFPYmplY3Q+fVxuICovXG5mdW5jdGlvbiBnZXRTZXJ2aWNlUHJvbWlzZUludGVybmFsKGhvbGRlciwgaWQpIHtcbiAgY29uc3QgY2FjaGVkID0gZ2V0U2VydmljZVByb21pc2VPck51bGxJbnRlcm5hbChob2xkZXIsIGlkKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgLy8gU2VydmljZSBpcyBub3QgcmVnaXN0ZXJlZC5cblxuICAvLyBUT0RPKEBjcmFtZm9yY2UpOiBBZGQgYSBjaGVjayB0aGF0IGlmIHRoZSBlbGVtZW50IGlzIGV2ZW50dWFsbHkgcmVnaXN0ZXJlZFxuICAvLyB0aGF0IHRoZSBzZXJ2aWNlIGlzIGFjdHVhbGx5IHByb3ZpZGVkIGFuZCB0aGlzIHByb21pc2UgcmVzb2x2ZXMuXG4gIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG4gIGNvbnN0IHtwcm9taXNlLCByZXNvbHZlfSA9IGRlZmVycmVkO1xuXG4gIGNvbnN0IHNlcnZpY2VzID0gZ2V0U2VydmljZXMoaG9sZGVyKTtcbiAgc2VydmljZXNbaWRdID0ge1xuICAgIG9iajogbnVsbCxcbiAgICBwcm9taXNlLFxuICAgIHJlc29sdmUsXG4gICAgY29udGV4dDogbnVsbCxcbiAgICBjdG9yOiBudWxsLFxuICB9O1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciBzZXJ2aWNlIGBpZGAgaWYgdGhlIHNlcnZpY2UgaGFzIGJlZW4gcmVnaXN0ZXJlZFxuICogb24gYGhvbGRlcmAuXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHJldHVybiB7P1Byb21pc2U8IU9iamVjdD59XG4gKi9cbmZ1bmN0aW9uIGdldFNlcnZpY2VQcm9taXNlT3JOdWxsSW50ZXJuYWwoaG9sZGVyLCBpZCkge1xuICBjb25zdCBzZXJ2aWNlcyA9IGdldFNlcnZpY2VzKGhvbGRlcik7XG4gIGNvbnN0IHMgPSBzZXJ2aWNlc1tpZF07XG4gIGlmIChzKSB7XG4gICAgaWYgKHMucHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHMucHJvbWlzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW5zdGFudGlhdGUgc2VydmljZSBpZiBub3QgYWxyZWFkeSBpbnN0YW50aWF0ZWQuXG4gICAgICBnZXRTZXJ2aWNlSW50ZXJuYWwoaG9sZGVyLCBpZCk7XG4gICAgICByZXR1cm4gcy5wcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKHMub2JqKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgb2JqZWN0IHRoYXQgaG9sZHMgdGhlIHNlcnZpY2VzIHJlZ2lzdGVyZWQgaW4gYSBob2xkZXIuXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlclxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIVNlcnZpY2VIb2xkZXJEZWY+fVxuICovXG5mdW5jdGlvbiBnZXRTZXJ2aWNlcyhob2xkZXIpIHtcbiAgbGV0IHtzZXJ2aWNlc30gPSBob2xkZXI7XG4gIGlmICghc2VydmljZXMpIHtcbiAgICBzZXJ2aWNlcyA9IGhvbGRlci5zZXJ2aWNlcyA9IHt9O1xuICB9XG4gIHJldHVybiBzZXJ2aWNlcztcbn1cblxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIHNwZWNpZmllZCBzZXJ2aWNlIGltcGxlbWVudHMgYERpc3Bvc2FibGVgIGludGVyZmFjZS5cbiAqIEBwYXJhbSB7IU9iamVjdH0gc2VydmljZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGlzcG9zYWJsZShzZXJ2aWNlKSB7XG4gIHJldHVybiB0eXBlb2Ygc2VydmljZS5kaXNwb3NlID09ICdmdW5jdGlvbic7XG59XG5cblxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIHNwZWNpZmllZCBzZXJ2aWNlIGltcGxlbWVudHMgYERpc3Bvc2FibGVgIGludGVyZmFjZSBhbmRcbiAqIHR5cGVjYXN0cyB0aGUgaW5zdGFuY2UgdG8gYERpc3Bvc2FibGVgLlxuICogQHBhcmFtIHshT2JqZWN0fSBzZXJ2aWNlXG4gKiBAcmV0dXJuIHshRGlzcG9zYWJsZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERpc3Bvc2FibGUoc2VydmljZSkge1xuICBkZXYoKS5hc3NlcnQoaXNEaXNwb3NhYmxlKHNlcnZpY2UpLCAncmVxdWlyZWQgdG8gaW1wbGVtZW50IERpc3Bvc2FibGUnKTtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7IURpc3Bvc2FibGV9ICovIChzZXJ2aWNlKTtcbn1cblxuXG4vKipcbiAqIERpc3Bvc2VzIGFsbCBkaXNwb3NhYmxlIChpbXBsZW1lbnRzIGBEaXNwb3NhYmxlYCBpbnRlcmZhY2UpIHNlcnZpY2VzIGluXG4gKiBhbXBkb2Mgc2NvcGUuXG4gKiBAcGFyYW0geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2VTZXJ2aWNlc0ZvckRvYyhhbXBkb2MpIHtcbiAgZGlzcG9zZVNlcnZpY2VzSW50ZXJuYWwoYW1wZG9jKTtcbn1cblxuXG4vKipcbiAqIERpc3Bvc2VzIGFsbCBkaXNwb3NhYmxlIChpbXBsZW1lbnRzIGBEaXNwb3NhYmxlYCBpbnRlcmZhY2UpIHNlcnZpY2VzIGluXG4gKiBlbWJlZCBzY29wZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gZW1iZWRXaW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2VTZXJ2aWNlc0ZvckVtYmVkKGVtYmVkV2luKSB7XG4gIGRpc3Bvc2VTZXJ2aWNlc0ludGVybmFsKGVtYmVkV2luKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gaG9sZGVyIE9iamVjdCBob2xkaW5nIHRoZSBzZXJ2aWNlIGluc3RhbmNlcy5cbiAqL1xuZnVuY3Rpb24gZGlzcG9zZVNlcnZpY2VzSW50ZXJuYWwoaG9sZGVyKSB7XG4gIC8vIFRPRE8oZHZveXRlbmtvKTogQ29uc2lkZXIgbWFya2luZyBob2xkZXIgYXMgZGVzdHJveWVkIGZvciBsYXRlci1hcnJpdmluZ1xuICAvLyBzZXJ2aWNlIHRvIGJlIGNhbmNlbGVkIGF1dG9tYXRpY2FsbHkuXG4gIGNvbnN0IHNlcnZpY2VzID0gZ2V0U2VydmljZXMoaG9sZGVyKTtcbiAgZm9yIChjb25zdCBpZCBpbiBzZXJ2aWNlcykge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNlcnZpY2VzLCBpZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBzZXJ2aWNlSG9sZGVyID0gc2VydmljZXNbaWRdO1xuICAgIGlmIChzZXJ2aWNlSG9sZGVyLm9iaikge1xuICAgICAgZGlzcG9zZVNlcnZpY2VJbnRlcm5hbChpZCwgc2VydmljZUhvbGRlci5vYmopO1xuICAgIH0gZWxzZSBpZiAoc2VydmljZUhvbGRlci5wcm9taXNlKSB7XG4gICAgICBzZXJ2aWNlSG9sZGVyLnByb21pc2UudGhlbihcbiAgICAgICAgICBpbnN0YW5jZSA9PiBkaXNwb3NlU2VydmljZUludGVybmFsKGlkLCBpbnN0YW5jZSkpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0geyFPYmplY3R9IHNlcnZpY2VcbiAqL1xuZnVuY3Rpb24gZGlzcG9zZVNlcnZpY2VJbnRlcm5hbChpZCwgc2VydmljZSkge1xuICBpZiAoIWlzRGlzcG9zYWJsZShzZXJ2aWNlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0cnkge1xuICAgIGFzc2VydERpc3Bvc2FibGUoc2VydmljZSkuZGlzcG9zZSgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gRW5zdXJlIHRoYXQgYSBmYWlsdXJlIHRvIGRpc3Bvc2UgYSBzZXJ2aWNlIGRvZXMgbm90IGRpc3J1cHQgb3RoZXJcbiAgICAvLyBzZXJ2aWNlcy5cbiAgICBkZXYoKS5lcnJvcignU0VSVklDRScsICdmYWlsZWQgdG8gZGlzcG9zZSBzZXJ2aWNlJywgaWQsIGUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgc2VydmljZSBpbXBsZW1lbnRzIGBFbWJlZGRhYmxlU2VydmljZWAgaW50ZXJmYWNlLlxuICogQHBhcmFtIHshT2JqZWN0fSBzZXJ2aWNlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbWJlZGRhYmxlKHNlcnZpY2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBzZXJ2aWNlLmFkb3B0RW1iZWRXaW5kb3cgPT0gJ2Z1bmN0aW9uJztcbn1cblxuXG4vKipcbiAqIEFkb3B0cyBhbiBlbWJlZGRhYmxlIChpbXBsZW1lbnRzIGBFbWJlZGRhYmxlU2VydmljZWAgaW50ZXJmYWNlKSBzZXJ2aWNlXG4gKiBpbiBlbWJlZCBzY29wZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gZW1iZWRXaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlSWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkb3B0U2VydmljZUZvckVtYmVkKGVtYmVkV2luLCBzZXJ2aWNlSWQpIHtcbiAgY29uc3QgYWRvcHRlZCA9IGFkb3B0U2VydmljZUZvckVtYmVkSWZFbWJlZGRhYmxlKGVtYmVkV2luLCBzZXJ2aWNlSWQpO1xuICBkZXYoKS5hc3NlcnQoYWRvcHRlZCwgYFNlcnZpY2UgJHtzZXJ2aWNlSWR9IG5vdCBmb3VuZCBvbiBwYXJlbnQgYCArXG4gICAgICAnb3IgZG9lc25cXCd0IGltcGxlbWVudCBFbWJlZGRhYmxlU2VydmljZS4nKTtcbn1cblxuXG4vKipcbiAqIEFkb3B0cyBhbiBlbWJlZGRhYmxlIChpbXBsZW1lbnRzIGBFbWJlZGRhYmxlU2VydmljZWAgaW50ZXJmYWNlKSBzZXJ2aWNlXG4gKiBpbiBlbWJlZCBzY29wZS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gZW1iZWRXaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlSWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZG9wdFNlcnZpY2VGb3JFbWJlZElmRW1iZWRkYWJsZShlbWJlZFdpbiwgc2VydmljZUlkKSB7XG4gIGNvbnN0IGZyYW1lRWxlbWVudCA9IC8qKiBAdHlwZSB7IU5vZGV9ICovIChkZXYoKS5hc3NlcnQoXG4gICAgICBlbWJlZFdpbi5mcmFtZUVsZW1lbnQsXG4gICAgICAnZnJhbWVFbGVtZW50IG5vdCBmb3VuZCBmb3IgZW1iZWQnKSk7XG4gIGNvbnN0IGFtcGRvYyA9IGdldEFtcGRvYyhmcmFtZUVsZW1lbnQpO1xuICBjb25zdCBob2xkZXIgPSBnZXRBbXBkb2NTZXJ2aWNlSG9sZGVyKGFtcGRvYyk7XG4gIGlmICghaXNTZXJ2aWNlUmVnaXN0ZXJlZChob2xkZXIsIHNlcnZpY2VJZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc2VydmljZSA9IGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKGZyYW1lRWxlbWVudCwgc2VydmljZUlkKTtcbiAgaWYgKCFpc0VtYmVkZGFibGUoc2VydmljZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc2VydmljZS5hZG9wdEVtYmVkV2luZG93KGVtYmVkV2luKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBSZXNldHMgYSBzaW5nbGUgc2VydmljZSwgc28gaXQgZ2V0cyByZWNyZWF0ZWQgb24gbmV4dCBnZXRTZXJ2aWNlIGludm9jYXRpb24uXG4gKiBAcGFyYW0geyFPYmplY3R9IGhvbGRlclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTZXJ2aWNlRm9yVGVzdGluZyhob2xkZXIsIGlkKSB7XG4gIGlmIChob2xkZXIuc2VydmljZXMpIHtcbiAgICBob2xkZXIuc2VydmljZXNbaWRdID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gaG9sZGVyIE9iamVjdCBob2xkaW5nIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIG9mIHRoZSBzZXJ2aWNlLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTZXJ2aWNlUmVnaXN0ZXJlZChob2xkZXIsIGlkKSB7XG4gIGNvbnN0IHNlcnZpY2UgPSBob2xkZXIuc2VydmljZXMgJiYgaG9sZGVyLnNlcnZpY2VzW2lkXTtcbiAgLy8gQWxsIHJlZ2lzdGVyZWQgc2VydmljZXMgbXVzdCBoYXZlIGFuIGltcGxlbWVudGF0aW9uIG9yIGEgY29uc3RydWN0b3IuXG4gIHJldHVybiAhIShzZXJ2aWNlICYmIChzZXJ2aWNlLmN0b3IgfHwgc2VydmljZS5vYmopKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FjdGlvblRydXN0fSBmcm9tICcuLi9hY3Rpb24tY29uc3RhbnRzJztcbmltcG9ydCB7S2V5Q29kZXN9IGZyb20gJy4uL3V0aWxzL2tleS1jb2Rlcyc7XG5pbXBvcnQge1JBV19PQkpFQ1RfQVJHU19LRVl9IGZyb20gJy4uL2FjdGlvbi1jb25zdGFudHMnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vc2VydmljZXMnO1xuaW1wb3J0IHtkZWJvdW5jZSwgdGhyb3R0bGV9IGZyb20gJy4uL3V0aWxzL3JhdGUtbGltaXQnO1xuaW1wb3J0IHtkZXYsIHVzZXJ9IGZyb20gJy4uL2xvZyc7XG5pbXBvcnQge2RpY3QsIGhhc093biwgbWFwfSBmcm9tICcuLi91dGlscy9vYmplY3QnO1xuaW1wb3J0IHtnZXREZXRhaWx9IGZyb20gJy4uL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4uL21vZGUnO1xuaW1wb3J0IHtnZXRWYWx1ZUZvckV4cHJ9IGZyb20gJy4uL2pzb24nO1xuaW1wb3J0IHtcbiAgaW5zdGFsbFNlcnZpY2VJbkVtYmVkU2NvcGUsXG4gIHJlZ2lzdGVyU2VydmljZUJ1aWxkZXJGb3JEb2MsXG59IGZyb20gJy4uL3NlcnZpY2UnO1xuaW1wb3J0IHtpc0FycmF5LCBpc0Zpbml0ZU51bWJlciwgdG9XaW59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7aXNFbmFibGVkfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHtyZXBvcnRFcnJvcn0gZnJvbSAnLi4vZXJyb3InO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBUQUdfID0gJ0FjdGlvbic7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEFDVElPTl9NQVBfID0gJ19fQU1QX0FDVElPTl9NQVBfXycgKyBNYXRoLnJhbmRvbSgpO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBBQ1RJT05fUVVFVUVfID0gJ19fQU1QX0FDVElPTl9RVUVVRV9fJztcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQUNUSU9OX0hBTkRMRVJfID0gJ19fQU1QX0FDVElPTl9IQU5ETEVSX18nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBERUZBVUxUX01FVEhPRF8gPSAnYWN0aXZhdGUnO1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9ICovXG5jb25zdCBERUZBVUxUX0RFQk9VTkNFX1dBSVQgPSAzMDA7IC8vIG1zXG5cbi8qKiBAY29uc3Qge251bWJlcn0gKi9cbmNvbnN0IERFRkFVTFRfVEhST1RUTEVfSU5URVJWQUwgPSAxMDA7IC8vIG1zXG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCFBcnJheTxzdHJpbmc+Pn0gKi9cbmNvbnN0IEVMRU1FTlRTX0FDVElPTlNfTUFQXyA9IHtcbiAgJ2Zvcm0nOiBbJ3N1Ym1pdCcsICdjbGVhciddLFxufTtcblxuLyoqXG4gKiBJbnRlcmFjdGFibGUgd2lkZ2V0cyB3aGljaCBzaG91bGQgdHJpZ2dlciB0YXAgZXZlbnRzIHdoZW4gdGhlIHVzZXIgY2xpY2tzXG4gKiBvciBhY3RpdmF0ZXMgdmlhIHRoZSBrZXlib2FyZC4gTm90IGFsbCBhcmUgaGVyZSwgZS5nLiBwcm9ncmVzc2JhciwgdGFicGFuZWwsXG4gKiBzaW5jZSB0aGV5IGFyZSB0ZXh0IGlucHV0cywgcmVhZG9ubHksIG9yIGNvbXBvc2l0ZSB3aWRnZXRzIHRoYXQgc2hvdWxkbid0XG4gKiBuZWVkIHRvIHRyaWdnZXIgdGFwIGV2ZW50cyBmcm9tIHNwYWNlYmFyIG9yIGVudGVyIG9uIHRoZWlyIG93bi5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyN3aWRnZXRfcm9sZXNcbiAqIEBjb25zdCB7IU9iamVjdDxib29sZWFuPn1cbiAqL1xuZXhwb3J0IGNvbnN0IFRBUFBBQkxFX0FSSUFfUk9MRVMgPSB7XG4gICdidXR0b24nOiB0cnVlLFxuICAnY2hlY2tib3gnOiB0cnVlLFxuICAnbGluayc6IHRydWUsXG4gICdsaXN0Ym94JzogdHJ1ZSxcbiAgJ21lbnVpdGVtJzogdHJ1ZSxcbiAgJ21lbnVpdGVtY2hlY2tib3gnOiB0cnVlLFxuICAnbWVudWl0ZW1yYWRpbyc6IHRydWUsXG4gICdvcHRpb24nOiB0cnVlLFxuICAncmFkaW8nOiB0cnVlLFxuICAnc2Nyb2xsYmFyJzogdHJ1ZSxcbiAgJ3NsaWRlcic6IHRydWUsXG4gICdzcGluYnV0dG9uJzogdHJ1ZSxcbiAgJ3N3aXRjaCc6IHRydWUsXG4gICd0YWInOiB0cnVlLFxuICAndHJlZWl0ZW0nOiB0cnVlLFxufTtcblxuLyoqXG4gKiBBbiBleHByZXNzaW9uIGFyZyB2YWx1ZSwgZS5nLiBgZm9vLmJhcmAgaW4gYGU6dC5tKGFyZz1mb28uYmFyKWAuXG4gKiBAdHlwZWRlZiB7e2V4cHJlc3Npb246IHN0cmluZ319XG4gKi9cbmxldCBBY3Rpb25JbmZvQXJnRXhwcmVzc2lvbkRlZjtcblxuLyoqXG4gKiBBbiBhcmcgdmFsdWUuXG4gKiBAdHlwZWRlZiB7KGJvb2xlYW58bnVtYmVyfHN0cmluZ3xBY3Rpb25JbmZvQXJnRXhwcmVzc2lvbkRlZil9XG4gKi9cbmxldCBBY3Rpb25JbmZvQXJnVmFsdWVEZWY7XG5cbi8qKlxuICogTWFwIG9mIGFyZyBuYW1lcyB0byB0aGVpciB2YWx1ZXMsIGUuZy4ge2FyZzogMTIzfSBpbiBgZTp0Lm0oYXJnPTEyMylgLlxuICogQHR5cGVkZWYge09iamVjdDxzdHJpbmcsIEFjdGlvbkluZm9BcmdWYWx1ZURlZj59XG4gKi9cbmxldCBBY3Rpb25JbmZvQXJnc0RlZjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBldmVudDogc3RyaW5nLFxuICogICB0YXJnZXQ6IHN0cmluZyxcbiAqICAgbWV0aG9kOiBzdHJpbmcsXG4gKiAgIGFyZ3M6ID9BY3Rpb25JbmZvQXJnc0RlZixcbiAqICAgc3RyOiBzdHJpbmdcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgQWN0aW9uSW5mb0RlZjtcblxuLyoqXG4gKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBhbiBhY3Rpb24gaXMgaW52b2tlZC5cbiAqXG4gKiBPcHRpb25hbGx5LCB0YWtlcyB0aGlzIGFjdGlvbidzIHBvc2l0aW9uIHdpdGhpbiBhbGwgYWN0aW9ucyB0cmlnZ2VyZWQgYnlcbiAqIHRoZSBzYW1lIGV2ZW50LCBhcyB3ZWxsIGFzIHNhaWQgYWN0aW9uIGFycmF5LCBhcyBwYXJhbXMuXG4gKlxuICogSWYgdGhlIGFjdGlvbiBpcyBjaGFpbmFibGUsIHJldHVybnMgYSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlXG4gKiBhY3Rpb24gaXMgY29tcGxldGUuIE90aGVyd2lzZSwgcmV0dXJucyBudWxsLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbighQWN0aW9uSW52b2NhdGlvbiwgbnVtYmVyPSwgIUFycmF5PCFBY3Rpb25JbmZvRGVmPj0pOj9Qcm9taXNlfVxuICovXG5sZXQgQWN0aW9uSGFuZGxlckRlZjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RXZlbnR8RGVmZXJyZWRFdmVudH1cbiAqL1xuZXhwb3J0IGxldCBBY3Rpb25FdmVudERlZjtcblxuLyoqXG4gKiBUaGUgc3RydWN0dXJlIHRoYXQgY29udGFpbnMgYWxsIGRldGFpbHMgb2YgdGhlIGFjdGlvbiBtZXRob2QgaW52b2NhdGlvbi5cbiAqIEBzdHJ1Y3QgQGNvbnN0IEBwYWNrYWdlIEZvciB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgQWN0aW9uSW52b2NhdGlvbiB7XG4gIC8qKlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogICA8ZGl2IGlkPVwiZGl2XCIgb249XCJ0YXA6bXlGb3JtLnN1Ym1pdChmb289YmFyKVwiPlxuICAgKiAgICAgPGJ1dHRvbiBpZD1cImJ0blwiPlN1Ym1pdDwvYnV0dG9uPlxuICAgKiAgIDwvZGl2PlxuICAgKlxuICAgKiBgbm9kZWAgaXMgI215Rm9ybS5cbiAgICogYG1ldGhvZGAgaXMgXCJzdWJtaXRcIi5cbiAgICogYGFyZ3NgIGlzIHsnZm9vJzogJ2Jhcid9LlxuICAgKiBgc291cmNlYCBpcyAjYnRuLlxuICAgKiBgY2FsbGVyYCBpcyAjZGl2LlxuICAgKiBgZXZlbnRgIGlzIGEgXCJjbGlja1wiIEV2ZW50IG9iamVjdC5cbiAgICogYGFjdGlvbkV2ZW50VHlwZWAgaXMgXCJ0YXBcIi5cbiAgICogYHRydXN0YCBkZXBlbmRzIG9uIHdoZXRoZXIgdGhpcyBhY3Rpb24gd2FzIGEgcmVzdWx0IG9mIGEgdXNlciBnZXN0dXJlLlxuICAgKiBgdGFnT3JUYXJnZXRgIGlzIFwiYW1wLWZvcm1cIi5cbiAgICogYHNlcXVlbmNlSWRgIGlzIGEgcHNldWRvLVVVSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgRWxlbWVudCB3aG9zZSBhY3Rpb24gaXMgYmVpbmcgaW52b2tlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBOYW1lIG9mIHRoZSBhY3Rpb24gYmVpbmcgaW52b2tlZC5cbiAgICogQHBhcmFtIHs/SnNvbk9iamVjdH0gYXJncyBOYW1lZCBhY3Rpb24gYXJndW1lbnRzLlxuICAgKiBAcGFyYW0gez9FbGVtZW50fSBzb3VyY2UgRWxlbWVudCB0aGF0IGdlbmVyYXRlZCB0aGUgYGV2ZW50YC5cbiAgICogQHBhcmFtIHs/RWxlbWVudH0gY2FsbGVyIEVsZW1lbnQgY29udGFpbmluZyB0aGUgb249XCIuLi5cIiBhY3Rpb24gaGFuZGxlci5cbiAgICogQHBhcmFtIHs/QWN0aW9uRXZlbnREZWZ9IGV2ZW50IFRoZSBldmVudCBvYmplY3QgdGhhdCB0cmlnZ2VyZWQgdGhpcyBhY3Rpb24uXG4gICAqIEBwYXJhbSB7QWN0aW9uVHJ1c3R9IHRydXN0IFRoZSB0cnVzdCBsZXZlbCBvZiB0aGlzIGludm9jYXRpb24ncyB0cmlnZ2VyLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGFjdGlvbkV2ZW50VHlwZSBUaGUgQU1QIGV2ZW50IG5hbWUgdGhhdCB0cmlnZ2VyZWQgdGhpcy5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSB0YWdPclRhcmdldCBUaGUgZ2xvYmFsIHRhcmdldCBuYW1lIG9yIHRoZSBlbGVtZW50IHRhZ05hbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZXF1ZW5jZUlkIEFuIGlkZW50aWZpZXIgZm9yIHRoaXMgYWN0aW9uJ3Mgc2VxdWVuY2UgKGFsbFxuICAgKiAgIGFjdGlvbnMgdHJpZ2dlcmVkIGJ5IG9uZSBldmVudCBlLmcuIFwidGFwOmZvcm0xLnN1Ym1pdCwgZm9ybTIuc3VibWl0XCIpLlxuICAgKi9cbiAgY29uc3RydWN0b3Iobm9kZSwgbWV0aG9kLCBhcmdzLCBzb3VyY2UsIGNhbGxlciwgZXZlbnQsIHRydXN0LFxuICAgIGFjdGlvbkV2ZW50VHlwZSA9ICc/JywgdGFnT3JUYXJnZXQgPSBudWxsLCBzZXF1ZW5jZUlkID0gTWF0aC5yYW5kb20oKSkge1xuICAgIC8qKiBAY29uc3QgeyFOb2RlfSAqL1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgIC8qKiBAY29uc3Qgez9Kc29uT2JqZWN0fSAqL1xuICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgLyoqIEBjb25zdCB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgLyoqIEBjb25zdCB7P0VsZW1lbnR9ICovXG4gICAgdGhpcy5jYWxsZXIgPSBjYWxsZXI7XG4gICAgLyoqIEBjb25zdCB7P0FjdGlvbkV2ZW50RGVmfSAqL1xuICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAvKiogQGNvbnN0IHtBY3Rpb25UcnVzdH0gKi9cbiAgICB0aGlzLnRydXN0ID0gdHJ1c3Q7XG4gICAgLyoqIEBjb25zdCB7P3N0cmluZ30gKi9cbiAgICB0aGlzLmFjdGlvbkV2ZW50VHlwZSA9IGFjdGlvbkV2ZW50VHlwZTtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy50YWdPclRhcmdldCA9IHRhZ09yVGFyZ2V0IHx8IG5vZGUudGFnTmFtZTtcbiAgICAvKiogQGNvbnN0IHtudW1iZXJ9ICovXG4gICAgdGhpcy5zZXF1ZW5jZUlkID0gc2VxdWVuY2VJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRyaWdnZXIgZXZlbnQgaGFzIGEgdHJ1c3QgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuXG4gICAqIGBtaW5pbXVtVHJ1c3RgLiBPdGhlcndpc2UsIGxvZ3MgYSB1c2VyIGVycm9yIGFuZCByZXR1cm5zIGZhbHNlLlxuICAgKiBAcGFyYW0ge0FjdGlvblRydXN0fSBtaW5pbXVtVHJ1c3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHNhdGlzZmllc1RydXN0KG1pbmltdW1UcnVzdCkge1xuICAgIC8vIFNhbml0eSBjaGVjay5cbiAgICBpZiAoIWlzRmluaXRlTnVtYmVyKHRoaXMudHJ1c3QpKSB7XG4gICAgICBkZXYoKS5lcnJvcihUQUdfLCBgSW52YWxpZCB0cnVzdCBmb3IgJyR7dGhpcy5tZXRob2R9JzogJHt0aGlzLnRydXN0fWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy50cnVzdCA8IG1pbmltdW1UcnVzdCkge1xuICAgICAgdXNlcigpLmVycm9yKFRBR18sIGBcIiR7dGhpcy5hY3Rpb25FdmVudFR5cGV9XCIgaXMgbm90IGFsbG93ZWQgdG8gaW52b2tlIGAgK1xuICAgICAgICAgIGBcIiR7dGhpcy50YWdPclRhcmdldH0uJHt0aGlzLm1ldGhvZH1cIi5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUT0RPKGR2b3l0ZW5rbyk6IGNvbnNpZGVyIHNwbGl0dGluZyB0aGlzIGNsYXNzIGludG8gdHdvOlxuICogMS4gQSBjbGFzcyB0aGF0IGhhcyBhIG1ldGhvZCBcInRyaWdnZXIoZWxlbWVudCwgZXZlbnRUeXBlLCBkYXRhKVwiIGFuZFxuICogICAgc2ltcGx5IGNhbiBzZWFyY2ggdGFyZ2V0IGluIERPTSBhbmQgdHJpZ2dlciBtZXRob2RzIG9uIGl0LlxuICogMi4gQSBjbGFzcyB0aGF0IGNvbmZpZ3VyZXMgZXZlbnQgcmVjb2duaXplcnMgYW5kIHJ1bGVzIGFuZCB0aGVuXG4gKiAgICBzaW1wbHkgY2FsbHMgYWN0aW9uLnRyaWdnZXIuXG4gKiBAaW1wbGVtZW50cyB7Li4vc2VydmljZS5FbWJlZGRhYmxlU2VydmljZX1cbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGlvblNlcnZpY2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICAgKiBAcGFyYW0geyghRG9jdW1lbnR8IVNoYWRvd1Jvb3QpPX0gb3B0X3Jvb3RcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYywgb3B0X3Jvb3QpIHtcbiAgICAvKiogQGNvbnN0IHshLi9hbXBkb2MtaW1wbC5BbXBEb2N9ICovXG4gICAgdGhpcy5hbXBkb2MgPSBhbXBkb2M7XG5cbiAgICAvKiogQGNvbnN0IHshRG9jdW1lbnR8IVNoYWRvd1Jvb3R9ICovXG4gICAgdGhpcy5yb290XyA9IG9wdF9yb290IHx8IGFtcGRvYy5nZXRSb290Tm9kZSgpO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgd2hpdGVsaXN0IG9mIGFjdGlvbnMgZS5nLiBbXCJBTVAubmF2aWdhdGVUb1wiLCBcImFtcC1mb3JtLnN1Ym1pdFwiXS5cbiAgICAgKiBJZiBub3QgbnVsbCwgYW55IGFjdGlvbnMgdGhhdCBhcmUgbm90IGluIHRoZSB3aGl0ZWxpc3Qgd2lsbCBiZSBpZ25vcmVkXG4gICAgICogYW5kIHRocm93IGEgdXNlciBlcnJvciBhdCBpbnZvY2F0aW9uIHRpbWUuXG4gICAgICogQHByaXZhdGUgez9BcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMud2hpdGVsaXN0XyA9IHRoaXMucXVlcnlXaGl0ZWxpc3RfKCk7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshT2JqZWN0PHN0cmluZywgQWN0aW9uSGFuZGxlckRlZj59ICovXG4gICAgdGhpcy5nbG9iYWxUYXJnZXRzXyA9IG1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0IEBwcml2YXRlIHshT2JqZWN0PHN0cmluZywge2hhbmRsZXI6IEFjdGlvbkhhbmRsZXJEZWYsIG1pblRydXN0OiBBY3Rpb25UcnVzdH0+fVxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsTWV0aG9kSGFuZGxlcnNfID0gbWFwKCk7XG4gICAgLy8gQWRkIGNvcmUgZXZlbnRzLlxuICAgIHRoaXMuYWRkRXZlbnQoJ3RhcCcpO1xuICAgIHRoaXMuYWRkRXZlbnQoJ3N1Ym1pdCcpO1xuICAgIHRoaXMuYWRkRXZlbnQoJ2NoYW5nZScpO1xuICAgIHRoaXMuYWRkRXZlbnQoJ2lucHV0LWRlYm91bmNlZCcpO1xuICAgIHRoaXMuYWRkRXZlbnQoJ2lucHV0LXRocm90dGxlZCcpO1xuICAgIHRoaXMuYWRkRXZlbnQoJ3ZhbGlkJyk7XG4gICAgdGhpcy5hZGRFdmVudCgnaW52YWxpZCcpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZG9wdEVtYmVkV2luZG93KGVtYmVkV2luKSB7XG4gICAgaW5zdGFsbFNlcnZpY2VJbkVtYmVkU2NvcGUoZW1iZWRXaW4sICdhY3Rpb24nLFxuICAgICAgICBuZXcgQWN0aW9uU2VydmljZSh0aGlzLmFtcGRvYywgZW1iZWRXaW4uZG9jdW1lbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBUT0RPKGR2b3l0ZW5rbyk6IHN3aXRjaCB0byBhIHN5c3RlbSB3aGVyZSB0aGUgZXZlbnQgcmVjb2duaXplcnMgYXJlXG4gICAqIHJlZ2lzdGVyZWQgd2l0aCBBY3Rpb24gaW5zdGVhZCwgZS5nLiBcImRvdWJsZXRhcFwiLCBcInRhcCB0byB6b29tXCIuXG4gICAqL1xuICBhZGRFdmVudChuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT0gJ3RhcCcpIHtcbiAgICAgIC8vIFRPRE8oZHZveXRlbmtvKTogaWYgbmVlZGVkLCBhbHNvIGNvbmZpZ3VyZSB0b3VjaC1iYXNlZCB0YXAsIGUuZy4gZm9yXG4gICAgICAvLyBmYXN0LWNsaWNrLlxuICAgICAgdGhpcy5yb290Xy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoZWxlbWVudCwgbmFtZSwgZXZlbnQsIEFjdGlvblRydXN0LkhJR0gpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMucm9vdF8uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgY29uc3Qge2tleUNvZGV9ID0gZXZlbnQ7XG4gICAgICAgIGlmIChrZXlDb2RlID09IEtleUNvZGVzLkVOVEVSIHx8IGtleUNvZGUgPT0gS2V5Q29kZXMuU1BBQ0UpIHtcbiAgICAgICAgICBjb25zdCByb2xlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICAgICAgICBjb25zdCBpc1RhcEV2ZW50Um9sZSA9XG4gICAgICAgICAgICAgIChyb2xlICYmIGhhc093bihUQVBQQUJMRV9BUklBX1JPTEVTLCByb2xlLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgaXNUYXBFdmVudFJvbGUpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoZWxlbWVudCwgbmFtZSwgZXZlbnQsIEFjdGlvblRydXN0LkhJR0gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09ICdzdWJtaXQnKSB7XG4gICAgICB0aGlzLnJvb3RfLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZGV2KCkuYXNzZXJ0RWxlbWVudChldmVudC50YXJnZXQpO1xuICAgICAgICAvLyBGb3IgZ2V0IHJlcXVlc3RzLCB0aGUgZGVsZWdhdGluZyB0byB0aGUgdmlld2VyIG5lZWRzIHRvIGhhcHBlblxuICAgICAgICAvLyBiZWZvcmUgdGhpcy5cbiAgICAgICAgdGhpcy50cmlnZ2VyKGVsZW1lbnQsIG5hbWUsIGV2ZW50LCBBY3Rpb25UcnVzdC5ISUdIKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PSAnY2hhbmdlJykge1xuICAgICAgdGhpcy5yb290Xy5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5hZGRUYXJnZXRQcm9wZXJ0aWVzQXNEZXRhaWxfKGV2ZW50KTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKGVsZW1lbnQsIG5hbWUsIGV2ZW50LCBBY3Rpb25UcnVzdC5ISUdIKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PSAnaW5wdXQtZGVib3VuY2VkJykge1xuICAgICAgY29uc3QgZGVib3VuY2VkSW5wdXQgPSBkZWJvdW5jZSh0aGlzLmFtcGRvYy53aW4sIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZGV2KCkuYXNzZXJ0RWxlbWVudChldmVudC50YXJnZXQpO1xuICAgICAgICB0aGlzLnRyaWdnZXIodGFyZ2V0LCBuYW1lLCAvKiogQHR5cGUgeyFBY3Rpb25FdmVudERlZn0gKi8gKGV2ZW50KSxcbiAgICAgICAgICAgIEFjdGlvblRydXN0LkhJR0gpO1xuICAgICAgfSwgREVGQVVMVF9ERUJPVU5DRV9XQUlUKTtcblxuICAgICAgdGhpcy5yb290Xy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGV2ZW50ID0+IHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgRGVmZXJyZWRFdmVudCB0byBhdm9pZCByYWNlcyB3aGVyZSB0aGUgYnJvd3NlciBjbGVhbnMgdXBcbiAgICAgICAgLy8gdGhlIGV2ZW50IG9iamVjdCBiZWZvcmUgdGhlIGFzeW5jIGRlYm91bmNlZCBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICAgIGNvbnN0IGRlZmVycmVkRXZlbnQgPSBuZXcgRGVmZXJyZWRFdmVudChldmVudCk7XG4gICAgICAgIHRoaXMuYWRkVGFyZ2V0UHJvcGVydGllc0FzRGV0YWlsXyhkZWZlcnJlZEV2ZW50KTtcbiAgICAgICAgZGVib3VuY2VkSW5wdXQoZGVmZXJyZWRFdmVudCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT0gJ2lucHV0LXRocm90dGxlZCcpIHtcbiAgICAgIGNvbnN0IHRocm90dGxlZElucHV0ID0gdGhyb3R0bGUodGhpcy5hbXBkb2Mud2luLCBldmVudCA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGRldigpLmFzc2VydEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKHRhcmdldCwgbmFtZSwgLyoqIEB0eXBlIHshQWN0aW9uRXZlbnREZWZ9ICovIChldmVudCksXG4gICAgICAgICAgICBBY3Rpb25UcnVzdC5ISUdIKTtcbiAgICAgIH0sIERFRkFVTFRfVEhST1RUTEVfSU5URVJWQUwpO1xuXG4gICAgICB0aGlzLnJvb3RfLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBkZWZlcnJlZEV2ZW50ID0gbmV3IERlZmVycmVkRXZlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLmFkZFRhcmdldFByb3BlcnRpZXNBc0RldGFpbF8oZGVmZXJyZWRFdmVudCk7XG4gICAgICAgIHRocm90dGxlZElucHV0KGRlZmVycmVkRXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09ICd2YWxpZCcgfHwgbmFtZSA9PSAnaW52YWxpZCcpIHtcbiAgICAgIHRoaXMucm9vdF8uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHRoaXMudHJpZ2dlcihlbGVtZW50LCBuYW1lLCBldmVudCwgQWN0aW9uVHJ1c3QuSElHSCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSBhY3Rpb24gdGFyZ2V0IHRoYXQgd2lsbCByZWNlaXZlIGFsbCBkZXNpZ25hdGVkIGFjdGlvbnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7QWN0aW9uSGFuZGxlckRlZn0gaGFuZGxlclxuICAgKi9cbiAgYWRkR2xvYmFsVGFyZ2V0KG5hbWUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLmdsb2JhbFRhcmdldHNfW25hbWVdID0gaGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGFjdGlvbiBoYW5kbGVyIGZvciBhIGNvbW1vbiBtZXRob2QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7QWN0aW9uSGFuZGxlckRlZn0gaGFuZGxlclxuICAgKiBAcGFyYW0ge0FjdGlvblRydXN0fSBtaW5UcnVzdFxuICAgKi9cbiAgYWRkR2xvYmFsTWV0aG9kSGFuZGxlcihuYW1lLCBoYW5kbGVyLCBtaW5UcnVzdCA9IEFjdGlvblRydXN0LkhJR0gpIHtcbiAgICB0aGlzLmdsb2JhbE1ldGhvZEhhbmRsZXJzX1tuYW1lXSA9IHtoYW5kbGVyLCBtaW5UcnVzdH07XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlcnMgdGhlIHNwZWNpZmllZCBldmVudCBvbiB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAqIEBwYXJhbSB7P0FjdGlvbkV2ZW50RGVmfSBldmVudFxuICAgKiBAcGFyYW0ge0FjdGlvblRydXN0fSB0cnVzdFxuICAgKi9cbiAgdHJpZ2dlcih0YXJnZXQsIGV2ZW50VHlwZSwgZXZlbnQsIHRydXN0KSB7XG4gICAgdGhpcy5hY3Rpb25fKHRhcmdldCwgZXZlbnRUeXBlLCBldmVudCwgdHJ1c3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kIG9uIGEgdGFyZ2V0L21ldGhvZC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gdGFyZ2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICogQHBhcmFtIHs/SnNvbk9iamVjdH0gYXJnc1xuICAgKiBAcGFyYW0gez9FbGVtZW50fSBzb3VyY2VcbiAgICogQHBhcmFtIHs/RWxlbWVudH0gY2FsbGVyXG4gICAqIEBwYXJhbSB7P0FjdGlvbkV2ZW50RGVmfSBldmVudFxuICAgKiBAcGFyYW0ge0FjdGlvblRydXN0fSB0cnVzdFxuICAgKi9cbiAgZXhlY3V0ZSh0YXJnZXQsIG1ldGhvZCwgYXJncywgc291cmNlLCBjYWxsZXIsIGV2ZW50LCB0cnVzdCkge1xuICAgIGNvbnN0IGludm9jYXRpb24gPSBuZXcgQWN0aW9uSW52b2NhdGlvbihcbiAgICAgICAgdGFyZ2V0LCBtZXRob2QsIGFyZ3MsIHNvdXJjZSwgY2FsbGVyLCBldmVudCwgdHJ1c3QpO1xuICAgIHRoaXMuaW52b2tlXyhpbnZvY2F0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnN0YWxscyBhY3Rpb24gaGFuZGxlciBmb3IgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSB0YXJnZXRcbiAgICogQHBhcmFtIHtBY3Rpb25IYW5kbGVyRGVmfSBoYW5kbGVyXG4gICAqIEBwYXJhbSB7QWN0aW9uVHJ1c3R9IG1pblRydXN0XG4gICAqL1xuICBpbnN0YWxsQWN0aW9uSGFuZGxlcih0YXJnZXQsIGhhbmRsZXIsIG1pblRydXN0ID0gQWN0aW9uVHJ1c3QuSElHSCkge1xuICAgIC8vIFRPRE8oZHZveXRlbmtvLCAjNzA2Myk6IHN3aXRjaCBiYWNrIHRvIGB0YXJnZXQuaWRgIHdpdGggZm9ybSBwcm94eS5cbiAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJykgfHwgJyc7XG4gICAgY29uc3QgZGVidWdJZCA9IHRhcmdldC50YWdOYW1lICsgJyMnICsgdGFyZ2V0SWQ7XG4gICAgZGV2KCkuYXNzZXJ0KCh0YXJnZXRJZCAmJiB0YXJnZXRJZC5zdWJzdHJpbmcoMCwgNCkgPT0gJ2FtcC0nKSB8fFxuICAgICAgICB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpIGluIEVMRU1FTlRTX0FDVElPTlNfTUFQXyxcbiAgICAnQU1QIGVsZW1lbnQgb3IgYSB3aGl0ZWxpc3RlZCB0YXJnZXQgZWxlbWVudCBpcyBleHBlY3RlZDogJXMnLCBkZWJ1Z0lkKTtcblxuICAgIGlmICh0YXJnZXRbQUNUSU9OX0hBTkRMRVJfXSkge1xuICAgICAgZGV2KCkuZXJyb3IoVEFHXywgYEFjdGlvbiBoYW5kbGVyIGFscmVhZHkgaW5zdGFsbGVkIGZvciAke3RhcmdldH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiogQGNvbnN0IHtBcnJheTwhQWN0aW9uSW52b2NhdGlvbj59ICovXG4gICAgY29uc3QgY3VycmVudFF1ZXVlID0gdGFyZ2V0W0FDVElPTl9RVUVVRV9dO1xuXG4gICAgdGFyZ2V0W0FDVElPTl9IQU5ETEVSX10gPSB7aGFuZGxlciwgbWluVHJ1c3R9O1xuXG4gICAgLy8gRGVxdWV1ZSB0aGUgY3VycmVudCBxdWV1ZS5cbiAgICBpZiAoaXNBcnJheShjdXJyZW50UXVldWUpKSB7XG4gICAgICBTZXJ2aWNlcy50aW1lckZvcih0b1dpbih0YXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykpLmRlbGF5KCgpID0+IHtcbiAgICAgICAgLy8gVE9ETyhkdm95dGVua28sICMxMjYwKTogZGVkdXBlIGFjdGlvbnMuXG4gICAgICAgIGN1cnJlbnRRdWV1ZS5mb3JFYWNoKGludm9jYXRpb24gPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaW52b2NhdGlvbi5zYXRpc2ZpZXNUcnVzdChcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge0FjdGlvblRydXN0fSAqLyAobWluVHJ1c3QpKSkge1xuICAgICAgICAgICAgICBoYW5kbGVyKGludm9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRldigpLmVycm9yKFRBR18sICdBY3Rpb24gZXhlY3V0aW9uIGZhaWxlZDonLCBpbnZvY2F0aW9uLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0YXJnZXRbQUNUSU9OX1FVRVVFX10ubGVuZ3RoID0gMDtcbiAgICAgIH0sIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaGFzIHJlZ2lzdGVyZWQgYSBwYXJ0aWN1bGFyIGFjdGlvbiB0eXBlLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbkV2ZW50VHlwZVxuICAgKiBAcGFyYW0geyFFbGVtZW50PX0gb3B0X3N0b3BBdFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaGFzQWN0aW9uKHRhcmdldCwgYWN0aW9uRXZlbnRUeXBlLCBvcHRfc3RvcEF0KSB7XG4gICAgcmV0dXJuICEhdGhpcy5maW5kQWN0aW9uXyh0YXJnZXQsIGFjdGlvbkV2ZW50VHlwZSwgb3B0X3N0b3BBdCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcndyaXRlcyB0aGUgY3VycmVudCBhY3Rpb24gd2hpdGVsaXN0IChpZiBhbnkpLiBUYWtlcyBhbiBhcnJheSBvZiBzdHJpbmdzXG4gICAqIG9mIHRoZSBmb3JtIFwiPHRhZ09yVGFyZ2V0Pi48bWV0aG9kPlwiIGUuZy4gXCJhbXAtZm9ybS5zdWJtaXRcIiBvciBcIkFNUC5wcmludFwiLlxuICAgKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSB3aGl0ZWxpc3RcbiAgICovXG4gIHNldFdoaXRlbGlzdCh3aGl0ZWxpc3QpIHtcbiAgICB0aGlzLndoaXRlbGlzdF8gPSB3aGl0ZWxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbiBhY3Rpb24gdG8gdGhlIHdoaXRlbGlzdC4gVGFrZXMgb25lIHN0cmluZyBvZiB0aGUgZm9ybVxuICAgKiBcIjx0YWdPclRhcmdldD4uPG1ldGhvZD5cIiwgZS5nLiBcImFtcC1mb3JtLnN1Ym1pdFwiIG9yIFwiQU1QLnByaW50XCIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAgICovXG4gIGFkZFRvV2hpdGVsaXN0KGFjdGlvbikge1xuICAgIGlmICghdGhpcy53aGl0ZWxpc3RfKSB7XG4gICAgICB0aGlzLndoaXRlbGlzdF8gPSBbXTtcbiAgICB9XG4gICAgdGhpcy53aGl0ZWxpc3RfLnB1c2goYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBzb3VyY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbkV2ZW50VHlwZVxuICAgKiBAcGFyYW0gez9BY3Rpb25FdmVudERlZn0gZXZlbnRcbiAgICogQHBhcmFtIHtBY3Rpb25UcnVzdH0gdHJ1c3RcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFjdGlvbl8oc291cmNlLCBhY3Rpb25FdmVudFR5cGUsIGV2ZW50LCB0cnVzdCkge1xuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZmluZEFjdGlvbl8oc291cmNlLCBhY3Rpb25FdmVudFR5cGUpO1xuICAgIGlmICghYWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFVzZSBhIHBzZXVkby1VVUlEIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgc2VxdWVuY2Ugb2YgYWN0aW9ucy5cbiAgICAvLyBBIHNlcXVlbmNlIGlzIGFsbCBhY3Rpb25zIHRyaWdnZXJlZCBieSBhIHNpbmdsZSBldmVudC5cbiAgICBjb25zdCBzZXF1ZW5jZUlkID0gTWF0aC5yYW5kb20oKTtcbiAgICAvLyBJbnZva2UgYWN0aW9ucyBzZXJpYWxseSwgd2hlcmUgZWFjaCBhY3Rpb24gd2FpdHMgZm9yIGl0cyBwcmVkZWNlc3NvclxuICAgIC8vIHRvIGNvbXBsZXRlLiBgY3VycmVudFByb21pc2VgIGlzIHRoZSBpJ3RoIHByb21pc2UgaW4gdGhlIGNoYWluLlxuICAgIGxldCBjdXJyZW50UHJvbWlzZSA9IG51bGw7XG4gICAgYWN0aW9uLmFjdGlvbkluZm9zLmZvckVhY2goYWN0aW9uSW5mbyA9PiB7XG4gICAgICBjb25zdCB7dGFyZ2V0fSA9IGFjdGlvbkluZm87XG4gICAgICAvLyBSZXBsYWNlIGFueSB2YXJpYWJsZXMgaW4gYXJncyB3aXRoIGRhdGEgaW4gYGV2ZW50YC5cbiAgICAgIGNvbnN0IGFyZ3MgPSBkZXJlZmVyZW5jZUV4cHJzSW5BcmdzKGFjdGlvbkluZm8uYXJncywgZXZlbnQpO1xuICAgICAgY29uc3QgaW52b2tlQWN0aW9uID0gKCkgPT4ge1xuICAgICAgICAvLyBGb3IgZ2xvYmFsIHRhcmdldHMgZS5nLiBcIkFNUCwgYG5vZGVgIGlzIHRoZSBkb2N1bWVudCByb290LiBPdGhlcndpc2UsXG4gICAgICAgIC8vIGB0YXJnZXRgIGlzIGFuIGVsZW1lbnQgaWQgYW5kIGBub2RlYCBpcyB0aGUgY29ycmVzcG9uZGluZyBlbGVtZW50LlxuICAgICAgICBjb25zdCBub2RlID0gKHRoaXMuZ2xvYmFsVGFyZ2V0c19bdGFyZ2V0XSlcbiAgICAgICAgICA/IHRoaXMucm9vdF9cbiAgICAgICAgICA6IHRoaXMucm9vdF8uZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICBjb25zdCBpbnZvY2F0aW9uID0gbmV3IEFjdGlvbkludm9jYXRpb24obm9kZSwgYWN0aW9uSW5mby5tZXRob2QsXG4gICAgICAgICAgICAgIGFyZ3MsIHNvdXJjZSwgYWN0aW9uLm5vZGUsIGV2ZW50LCB0cnVzdCxcbiAgICAgICAgICAgICAgYWN0aW9uRXZlbnRUeXBlLCBub2RlLnRhZ05hbWUgfHwgdGFyZ2V0LCBzZXF1ZW5jZUlkKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VfKGludm9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXJyb3JfKGBUYXJnZXQgXCIke3RhcmdldH1cIiBub3QgZm91bmQgZm9yIGFjdGlvbiBgICtcbiAgICAgICAgICAgICAgYFske2FjdGlvbkluZm8uc3RyfV0uYCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvLyBXYWl0IGZvciB0aGUgcHJldmlvdXMgYWN0aW9uLCBpZiBhbnkuXG4gICAgICBjdXJyZW50UHJvbWlzZSA9IChjdXJyZW50UHJvbWlzZSlcbiAgICAgICAgPyBjdXJyZW50UHJvbWlzZS50aGVuKGludm9rZUFjdGlvbilcbiAgICAgICAgOiBpbnZva2VBY3Rpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgKiBAcGFyYW0gez9FbGVtZW50PX0gb3B0X2VsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVycm9yXyhtZXNzYWdlLCBvcHRfZWxlbWVudCkge1xuICAgIGlmIChvcHRfZWxlbWVudCkge1xuICAgICAgLy8gcmVwb3J0RXJyb3IoKSBzdXBwb3J0cyBkaXNwbGF5aW5nIHRoZSBlbGVtZW50IGluIGRldiBjb25zb2xlLlxuICAgICAgY29uc3QgZSA9IHVzZXIoKS5jcmVhdGVFcnJvcihgWyR7VEFHX31dICR7bWVzc2FnZX1gKTtcbiAgICAgIHJlcG9ydEVycm9yKGUsIG9wdF9lbGVtZW50KTtcbiAgICAgIHRocm93IGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXIoKS5lcnJvcihUQUdfLCBtZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQWN0aW9uSW52b2NhdGlvbn0gaW52b2NhdGlvblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGludm9rZV8oaW52b2NhdGlvbikge1xuICAgIGNvbnN0IHttZXRob2QsIHRhZ09yVGFyZ2V0fSA9IGludm9jYXRpb247XG5cbiAgICAvLyBDaGVjayB0aGF0IHRoaXMgYWN0aW9uIGlzIHdoaXRlbGlzdGVkIChpZiBhIHdoaXRlbGlzdCBpcyBzZXQpLlxuICAgIGlmICh0aGlzLndoaXRlbGlzdF8pIHtcbiAgICAgIGNvbnN0IGlkID0gYCR7dGFnT3JUYXJnZXR9LiR7bWV0aG9kfWA7XG4gICAgICBpZiAoIXRoaXMud2hpdGVsaXN0Xy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgdGhpcy5lcnJvcl8oYFwiJHtpZH1cIiBpcyBub3Qgd2hpdGVsaXN0ZWQgKCR7dGhpcy53aGl0ZWxpc3RffSkuYCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBnbG9iYWwgdGFyZ2V0cyBlLmcuIFwiQU1QXCIuXG4gICAgY29uc3QgZ2xvYmFsVGFyZ2V0ID0gdGhpcy5nbG9iYWxUYXJnZXRzX1t0YWdPclRhcmdldF07XG4gICAgaWYgKGdsb2JhbFRhcmdldCkge1xuICAgICAgcmV0dXJuIGdsb2JhbFRhcmdldChpbnZvY2F0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBTdWJzZXF1ZW50IGhhbmRsZXJzIGFzc3VtZSB0aGF0IGludm9jYXRpb24gdGFyZ2V0IGlzIGFuIEVsZW1lbnQuXG4gICAgY29uc3Qgbm9kZSA9IGRldigpLmFzc2VydEVsZW1lbnQoaW52b2NhdGlvbi5ub2RlKTtcblxuICAgIC8vIEhhbmRsZSBnbG9iYWwgYWN0aW9ucyBlLmcuIFwiPGFueS1lbGVtZW50LWlkPi50b2dnbGVcIi5cbiAgICBjb25zdCBnbG9iYWxNZXRob2QgPSB0aGlzLmdsb2JhbE1ldGhvZEhhbmRsZXJzX1ttZXRob2RdO1xuICAgIGlmIChnbG9iYWxNZXRob2QgJiYgaW52b2NhdGlvbi5zYXRpc2ZpZXNUcnVzdChnbG9iYWxNZXRob2QubWluVHJ1c3QpKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsTWV0aG9kLmhhbmRsZXIoaW52b2NhdGlvbik7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGVsZW1lbnQtc3BlY2lmaWMgYWN0aW9ucy5cbiAgICBjb25zdCBsb3dlclRhZ05hbWUgPSBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJUYWdOYW1lLnN1YnN0cmluZygwLCA0KSA9PSAnYW1wLScpIHtcbiAgICAgIGlmIChub2RlLmVucXVlQWN0aW9uKSB7XG4gICAgICAgIG5vZGUuZW5xdWVBY3Rpb24oaW52b2NhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVycm9yXyhgVW5yZWNvZ25pemVkIEFNUCBlbGVtZW50IFwiJHtsb3dlclRhZ05hbWV9XCIuYCwgbm9kZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTcGVjaWFsIGVsZW1lbnRzIHdpdGggQU1QIElEIG9yIGtub3duIHN1cHBvcnRlZCBhY3Rpb25zLlxuICAgIGNvbnN0IHN1cHBvcnRlZEFjdGlvbnMgPSBFTEVNRU5UU19BQ1RJT05TX01BUF9bbG93ZXJUYWdOYW1lXTtcbiAgICAvLyBUT0RPKGR2b3l0ZW5rbywgIzcwNjMpOiBzd2l0Y2ggYmFjayB0byBgdGFyZ2V0LmlkYCB3aXRoIGZvcm0gcHJveHkuXG4gICAgY29uc3QgdGFyZ2V0SWQgPSBub2RlLmdldEF0dHJpYnV0ZSgnaWQnKSB8fCAnJztcbiAgICBpZiAoKHRhcmdldElkICYmIHRhcmdldElkLnN1YnN0cmluZygwLCA0KSA9PSAnYW1wLScpIHx8XG4gICAgICAgIChzdXBwb3J0ZWRBY3Rpb25zICYmIHN1cHBvcnRlZEFjdGlvbnMuaW5kZXhPZihtZXRob2QpID4gLTEpKSB7XG4gICAgICBjb25zdCBob2xkZXIgPSBub2RlW0FDVElPTl9IQU5ETEVSX107XG4gICAgICBpZiAoaG9sZGVyKSB7XG4gICAgICAgIGNvbnN0IHtoYW5kbGVyLCBtaW5UcnVzdH0gPSBob2xkZXI7XG4gICAgICAgIGlmIChpbnZvY2F0aW9uLnNhdGlzZmllc1RydXN0KG1pblRydXN0KSkge1xuICAgICAgICAgIGhhbmRsZXIoaW52b2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVbQUNUSU9OX1FVRVVFX10gPSBub2RlW0FDVElPTl9RVUVVRV9dIHx8IFtdO1xuICAgICAgICBub2RlW0FDVElPTl9RVUVVRV9dLnB1c2goaW52b2NhdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBVbnN1cHBvcnRlZCBtZXRob2QuXG4gICAgdGhpcy5lcnJvcl8oYFRhcmdldCAoJHt0YWdPclRhcmdldH0pIGRvZXNuJ3Qgc3VwcG9ydCBcIiR7bWV0aG9kfVwiIGFjdGlvbi5gLFxuICAgICAgICBpbnZvY2F0aW9uLmNhbGxlcik7XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbkV2ZW50VHlwZVxuICAgKiBAcGFyYW0geyFFbGVtZW50PX0gb3B0X3N0b3BBdFxuICAgKiBAcmV0dXJuIHs/e25vZGU6ICFFbGVtZW50LCBhY3Rpb25JbmZvczogIUFycmF5PCFBY3Rpb25JbmZvRGVmPn19XG4gICAqL1xuICBmaW5kQWN0aW9uXyh0YXJnZXQsIGFjdGlvbkV2ZW50VHlwZSwgb3B0X3N0b3BBdCkge1xuICAgIC8vIEdvIGZyb20gdGFyZ2V0IHVwIHRoZSBET00gdHJlZSBhbmQgZmluZCB0aGUgYXBwbGljYWJsZSBhY3Rpb24uXG4gICAgbGV0IG4gPSB0YXJnZXQ7XG4gICAgd2hpbGUgKG4pIHtcbiAgICAgIGlmIChvcHRfc3RvcEF0ICYmIG4gPT0gb3B0X3N0b3BBdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFjdGlvbkluZm9zID0gdGhpcy5tYXRjaEFjdGlvbkluZm9zXyhuLCBhY3Rpb25FdmVudFR5cGUpO1xuICAgICAgaWYgKGFjdGlvbkluZm9zICYmIGlzRW5hYmxlZChuKSkge1xuICAgICAgICByZXR1cm4ge25vZGU6IG4sIGFjdGlvbkluZm9zOiBkZXYoKS5hc3NlcnQoYWN0aW9uSW5mb3MpfTtcbiAgICAgIH1cbiAgICAgIG4gPSBuLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IG5vZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbkV2ZW50VHlwZVxuICAgKiBAcmV0dXJuIHs/QXJyYXk8IUFjdGlvbkluZm9EZWY+fVxuICAgKi9cbiAgbWF0Y2hBY3Rpb25JbmZvc18obm9kZSwgYWN0aW9uRXZlbnRUeXBlKSB7XG4gICAgY29uc3QgYWN0aW9uTWFwID0gdGhpcy5nZXRBY3Rpb25NYXBfKG5vZGUpO1xuICAgIGlmICghYWN0aW9uTWFwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGFjdGlvbk1hcFthY3Rpb25FdmVudFR5cGVdIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gbm9kZVxuICAgKiBAcmV0dXJuIHs/T2JqZWN0PHN0cmluZywgIUFycmF5PCFBY3Rpb25JbmZvRGVmPj59XG4gICAqL1xuICBnZXRBY3Rpb25NYXBfKG5vZGUpIHtcbiAgICBsZXQgYWN0aW9uTWFwID0gbm9kZVtBQ1RJT05fTUFQX107XG4gICAgaWYgKGFjdGlvbk1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhY3Rpb25NYXAgPSBudWxsO1xuICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKCdvbicpKSB7XG4gICAgICAgIGFjdGlvbk1hcCA9IHBhcnNlQWN0aW9uTWFwKG5vZGUuZ2V0QXR0cmlidXRlKCdvbicpLCBub2RlKTtcbiAgICAgIH1cbiAgICAgIG5vZGVbQUNUSU9OX01BUF9dID0gYWN0aW9uTWFwO1xuICAgIH1cbiAgICByZXR1cm4gYWN0aW9uTWFwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhIG5vZGUncyBhY3Rpb25zIHdpdGggdGhvc2UgZGVmaW5lZCBpbiB0aGUgZ2l2ZW4gYWN0aW9ucyBzdHJpbmcuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IG5vZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbnNTdHJcbiAgICovXG4gIHNldEFjdGlvbnMobm9kZSwgYWN0aW9uc1N0cikge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKCdvbicsIGFjdGlvbnNTdHIpO1xuXG4gICAgLy8gQ2xlYXIgY2FjaGUuXG4gICAgZGVsZXRlIG5vZGVbQUNUSU9OX01BUF9dO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIGZvciBhIHdoaXRlbGlzdCBtZXRhIHRhZywgcGFyc2VzIGFuZCByZXR1cm5zIGl0cyBjb250ZW50cy5cbiAgICpcbiAgICogRm9yIGV4YW1wbGU6XG4gICAqIDxtZXRhIG5hbWU9XCJhbXAtYWN0aW9uLXdoaXRlbGlzdFwiIGNvbnRlbnQ9XCJBTVAuc2V0U3RhdGUsIGFtcC1mb3JtLnN1Ym1pdFwiPlxuICAgKlxuICAgKiBSZXR1cm5zOlxuICAgKiBbXCJBTVAuc2V0U3RhdGVcIiwgXCJhbXAtZm9ybS5zdWJtaXRcIl1cbiAgICpcbiAgICogQHJldHVybiB7P0FycmF5PHN0cmluZz59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBxdWVyeVdoaXRlbGlzdF8oKSB7XG4gICAgY29uc3Qge2hlYWR9ID0gdGhpcy5hbXBkb2MuZ2V0Um9vdE5vZGUoKTtcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtZXRhID0gaGVhZC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJhbXAtYWN0aW9uLXdoaXRlbGlzdFwiXScpO1xuICAgIGlmICghbWV0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBtZXRhLmdldEF0dHJpYnV0ZSgnY29udGVudCcpLnNwbGl0KCcsJykubWFwKGFjdGlvbiA9PiBhY3Rpb24udHJpbSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIGJyb3dzZXIgJ2NoYW5nZScgb3IgJ2lucHV0JyBldmVudCwgYWRkIGBkZXRhaWxzYCBwcm9wZXJ0eSB0byBpdFxuICAgKiBjb250YWluaW5nIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMgb2YgdGhlIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0geyFBY3Rpb25FdmVudERlZn0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFkZFRhcmdldFByb3BlcnRpZXNBc0RldGFpbF8oZXZlbnQpIHtcbiAgICBjb25zdCBkZXRhaWwgPSAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAobWFwKCkpO1xuICAgIGNvbnN0IHt0YXJnZXR9ID0gZXZlbnQ7XG5cbiAgICBpZiAodGFyZ2V0LnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRldGFpbFsndmFsdWUnXSA9IHRhcmdldC52YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0YWdOYW1lIGluc3RlYWQgc2luY2UgYHZhbHVlQXNOdW1iZXJgIGlzbid0IHN1cHBvcnRlZCBvbiBJRS5cbiAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT0gJ0lOUFVUJykge1xuICAgICAgLy8gUHJvYmFibHkgc3VwcG9ydGVkIG5hdGl2ZWx5IGJ1dCBjb252ZXJ0IGFueXdheXMgZm9yIGNvbnNpc3RlbmN5LlxuICAgICAgZGV0YWlsWyd2YWx1ZUFzTnVtYmVyJ10gPSBOdW1iZXIodGFyZ2V0LnZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LmNoZWNrZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGV0YWlsWydjaGVja2VkJ10gPSB0YXJnZXQuY2hlY2tlZDtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0Lm1pbiAhPT0gdW5kZWZpbmVkIHx8IHRhcmdldC5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGV0YWlsWydtaW4nXSA9IHRhcmdldC5taW47XG4gICAgICBkZXRhaWxbJ21heCddID0gdGFyZ2V0Lm1heDtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoZGV0YWlsKS5sZW5ndGggPiAwKSB7XG4gICAgICBldmVudC5kZXRhaWwgPSBkZXRhaWw7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBBIGNsb25lIG9mIGFuIGV2ZW50IG9iamVjdCB3aXRoIGl0cyBmdW5jdGlvbiBwcm9wZXJ0aWVzIHJlcGxhY2VkLlxuICogVGhpcyBpcyB1c2VmdWwgZS5nLiBmb3IgZXZlbnQgb2JqZWN0cyB0aGF0IG5lZWQgdG8gYmUgcGFzc2VkIHRvIGFuIGFzeW5jXG4gKiBjb250ZXh0LCBidXQgdGhlIGJyb3dzZXIgbWlnaHQgaGF2ZSBjbGVhbmVkIHVwIHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gKiBUaGlzIGNsb25lIHJlcGxhY2VzIGZ1bmN0aW9ucyB3aXRoIGVycm9yIHRocm93cyBzaW5jZSB0aGV5IHdvbid0IGJlaGF2ZVxuICogbm9ybWFsbHkgYWZ0ZXIgdGhlIG9yaWdpbmFsIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gKiBAcHJpdmF0ZSB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldmVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoZXZlbnQpIHtcbiAgICAvKiogQHR5cGUgez9PYmplY3R9ICovXG4gICAgdGhpcy5kZXRhaWwgPSBudWxsO1xuXG4gICAgY2xvbmVXaXRob3V0RnVuY3Rpb25zKGV2ZW50LCB0aGlzKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2xvbmVzIGFuIG9iamVjdCBhbmQgcmVwbGFjZXMgaXRzIGZ1bmN0aW9uIHByb3BlcnRpZXMgd2l0aCB0aHJvd3MuXG4gKiBAcGFyYW0geyFUfSBvcmlnaW5hbFxuICogQHBhcmFtIHshVD19IG9wdF9kZXN0XG4gKiBAcmV0dXJuIHshVH1cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbG9uZVdpdGhvdXRGdW5jdGlvbnMob3JpZ2luYWwsIG9wdF9kZXN0KSB7XG4gIGNvbnN0IGNsb25lID0gb3B0X2Rlc3QgfHwgbWFwKCk7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBvcmlnaW5hbCkge1xuICAgIGNvbnN0IHZhbHVlID0gb3JpZ2luYWxbcHJvcF07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2xvbmVbcHJvcF0gPSBub3RJbXBsZW1lbnRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xvbmVbcHJvcF0gPSBvcmlnaW5hbFtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSAqL1xuZnVuY3Rpb24gbm90SW1wbGVtZW50ZWQoKSB7XG4gIGRldigpLmFzc2VydChudWxsLCAnRGVmZXJyZWQgZXZlbnRzIGNhbm5vdCBhY2Nlc3MgbmF0aXZlIGV2ZW50IGZ1bmN0aW9ucy4nKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKiBAcGFyYW0geyFFbGVtZW50fSBjb250ZXh0XG4gKiBAcmV0dXJuIHs/T2JqZWN0PHN0cmluZywgIUFycmF5PCFBY3Rpb25JbmZvRGVmPj59XG4gKiBAcHJpdmF0ZSBWaXNpYmxlIGZvciB0ZXN0aW5nIG9ubHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFjdGlvbk1hcChzLCBjb250ZXh0KSB7XG4gIGNvbnN0IGFzc2VydEFjdGlvbiA9IGFzc2VydEFjdGlvbkZvclBhcnNlci5iaW5kKG51bGwsIHMsIGNvbnRleHQpO1xuICBjb25zdCBhc3NlcnRUb2tlbiA9IGFzc2VydFRva2VuRm9yUGFyc2VyLmJpbmQobnVsbCwgcywgY29udGV4dCk7XG5cbiAgbGV0IGFjdGlvbk1hcCA9IG51bGw7XG5cbiAgY29uc3QgdG9rcyA9IG5ldyBQYXJzZXJUb2tlbml6ZXIocyk7XG4gIGxldCB0b2s7XG4gIGxldCBwZWVrO1xuICBkbyB7XG4gICAgdG9rID0gdG9rcy5uZXh0KCk7XG4gICAgaWYgKHRvay50eXBlID09IFRva2VuVHlwZS5FT0YgfHxcbiAgICAgICAgICAgICh0b2sudHlwZSA9PSBUb2tlblR5cGUuU0VQQVJBVE9SICYmIHRvay52YWx1ZSA9PSAnOycpKSB7XG4gICAgICAvLyBFeHBlY3RlZCwgaWdub3JlLlxuICAgIH0gZWxzZSBpZiAodG9rLnR5cGUgPT0gVG9rZW5UeXBlLkxJVEVSQUwgfHwgdG9rLnR5cGUgPT0gVG9rZW5UeXBlLklEKSB7XG5cbiAgICAgIC8vIEZvcm1hdDogZXZlbnQ6dGFyZ2V0Lm1ldGhvZFxuXG4gICAgICAvLyBFdmVudDogXCJldmVudDpcIlxuICAgICAgY29uc3QgZXZlbnQgPSB0b2sudmFsdWU7XG5cbiAgICAgIC8vIFRhcmdldDogXCI6dGFyZ2V0LlwiIHNlcGFyYXRvclxuICAgICAgYXNzZXJ0VG9rZW4odG9rcy5uZXh0KCksIFtUb2tlblR5cGUuU0VQQVJBVE9SXSwgJzonKTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuXG4gICAgICAvLyBIYW5kbGVycyBmb3IgZXZlbnRcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gYXNzZXJ0VG9rZW4oXG4gICAgICAgICAgICB0b2tzLm5leHQoKSwgW1Rva2VuVHlwZS5MSVRFUkFMLCBUb2tlblR5cGUuSURdKS52YWx1ZTtcblxuICAgICAgICAvLyBNZXRob2Q6IFwiLm1ldGhvZFwiLiBNZXRob2QgaXMgb3B0aW9uYWwuXG4gICAgICAgIGxldCBtZXRob2QgPSBERUZBVUxUX01FVEhPRF87XG4gICAgICAgIGxldCBhcmdzID0gbnVsbDtcblxuICAgICAgICBwZWVrID0gdG9rcy5wZWVrKCk7XG4gICAgICAgIGlmIChwZWVrLnR5cGUgPT0gVG9rZW5UeXBlLlNFUEFSQVRPUiAmJiBwZWVrLnZhbHVlID09ICcuJykge1xuICAgICAgICAgIHRva3MubmV4dCgpOyAvLyBTa2lwICcuJ1xuICAgICAgICAgIG1ldGhvZCA9IGFzc2VydFRva2VuKFxuICAgICAgICAgICAgICB0b2tzLm5leHQoKSwgW1Rva2VuVHlwZS5MSVRFUkFMLCBUb2tlblR5cGUuSURdKS52YWx1ZSB8fCBtZXRob2Q7XG5cbiAgICAgICAgICAvLyBPcHRpb25hbGx5LCB0aGVyZSBtYXkgYmUgYXJndW1lbnRzOiBcIihrZXkgPSB2YWx1ZSwga2V5ID0gdmFsdWUpXCIuXG4gICAgICAgICAgcGVlayA9IHRva3MucGVlaygpO1xuICAgICAgICAgIGlmIChwZWVrLnR5cGUgPT0gVG9rZW5UeXBlLlNFUEFSQVRPUiAmJiBwZWVrLnZhbHVlID09ICcoJykge1xuICAgICAgICAgICAgdG9rcy5uZXh0KCk7IC8vIFNraXAgJygnXG4gICAgICAgICAgICBhcmdzID0gdG9rZW5pemVNZXRob2RBcmd1bWVudHModG9rcywgYXNzZXJ0VG9rZW4sIGFzc2VydEFjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIGFyZ3M6IChhcmdzICYmIGdldE1vZGUoKS50ZXN0ICYmIE9iamVjdC5mcmVlemUpID9cbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoYXJncykgOiBhcmdzLFxuICAgICAgICAgIHN0cjogcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGVlayA9IHRva3MucGVlaygpO1xuXG4gICAgICB9IHdoaWxlIChwZWVrLnR5cGUgPT0gVG9rZW5UeXBlLlNFUEFSQVRPUiAmJiBwZWVrLnZhbHVlID09ICcsJ1xuICAgICAgICAgICYmIHRva3MubmV4dCgpKTsgLy8gc2tpcCBcIixcIiB3aGVuIGZvdW5kXG5cbiAgICAgIGlmICghYWN0aW9uTWFwKSB7XG4gICAgICAgIGFjdGlvbk1hcCA9IG1hcCgpO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb25NYXBbZXZlbnRdID0gYWN0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVW5leHBlY3RlZCB0b2tlbi5cbiAgICAgIGFzc2VydEFjdGlvbihmYWxzZSwgYDsgdW5leHBlY3RlZCB0b2tlbiBbJHt0b2sudmFsdWUgfHwgJyd9XWApO1xuICAgIH1cblxuICB9IHdoaWxlICh0b2sudHlwZSAhPSBUb2tlblR5cGUuRU9GKTtcblxuICByZXR1cm4gYWN0aW9uTWFwO1xufVxuXG4vKipcbiAqIFRva2VuaXplcyBhbmQgcmV0dXJucyBtZXRob2QgYXJndW1lbnRzLCBlLmcuIHRhcmdldC5tZXRob2QoYXJndW1lbnRzKS5cbiAqIEBwYXJhbSB7IVBhcnNlclRva2VuaXplcn0gdG9rc1xuICogQHBhcmFtIHshRnVuY3Rpb259IGFzc2VydFRva2VuXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gYXNzZXJ0QWN0aW9uXG4gKiBAcmV0dXJuIHtBY3Rpb25JbmZvQXJnc0RlZn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRva2VuaXplTWV0aG9kQXJndW1lbnRzKHRva3MsIGFzc2VydFRva2VuLCBhc3NlcnRBY3Rpb24pIHtcbiAgbGV0IHBlZWsgPSB0b2tzLnBlZWsoKTtcbiAgbGV0IHRvaztcbiAgbGV0IGFyZ3MgPSBudWxsO1xuICAvLyBPYmplY3QgbGl0ZXJhbC4gRm9ybWF0OiB7Li4ufVxuICBpZiAocGVlay50eXBlID09IFRva2VuVHlwZS5PQkpFQ1QpIHtcbiAgICAvLyBEb24ndCBwYXJzZSBvYmplY3QgbGl0ZXJhbHMuIFRva2VuaXplIGFzIGEgc2luZ2xlIGV4cHJlc3Npb25cbiAgICAvLyBmcmFnbWVudCBhbmQgZGVsZWdhdGUgdG8gc3BlY2lmaWMgYWN0aW9uIGhhbmRsZXIuXG4gICAgYXJncyA9IG1hcCgpO1xuICAgIGNvbnN0IHt2YWx1ZX0gPSB0b2tzLm5leHQoKTtcbiAgICBhcmdzW1JBV19PQkpFQ1RfQVJHU19LRVldID0gdmFsdWU7XG4gICAgYXNzZXJ0VG9rZW4odG9rcy5uZXh0KCksIFtUb2tlblR5cGUuU0VQQVJBVE9SXSwgJyknKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBLZXktdmFsdWUgcGFpcnMuIEZvcm1hdDoga2V5ID0gdmFsdWUsIC4uLi5cbiAgICBkbyB7XG4gICAgICB0b2sgPSB0b2tzLm5leHQoKTtcbiAgICAgIGNvbnN0IHt0eXBlLCB2YWx1ZX0gPSB0b2s7XG4gICAgICBpZiAodHlwZSA9PSBUb2tlblR5cGUuU0VQQVJBVE9SICYmICh2YWx1ZSA9PSAnLCcgfHwgdmFsdWUgPT0gJyknKSkge1xuICAgICAgICAvLyBFeHBlY3RlZDogaWdub3JlLlxuICAgICAgfSBlbHNlIGlmICh0eXBlID09IFRva2VuVHlwZS5MSVRFUkFMIHx8IHR5cGUgPT0gVG9rZW5UeXBlLklEKSB7XG4gICAgICAgIC8vIEtleTogXCJrZXkgPSBcIlxuICAgICAgICBhc3NlcnRUb2tlbih0b2tzLm5leHQoKSwgW1Rva2VuVHlwZS5TRVBBUkFUT1JdLCAnPScpO1xuICAgICAgICAvLyBWYWx1ZSBpcyBlaXRoZXIgYSBsaXRlcmFsIG9yIGFuIGV4cHJlc3Npb246IFwiZm9vLmJhci5iYXpcIlxuICAgICAgICB0b2sgPSBhc3NlcnRUb2tlbih0b2tzLm5leHQoLyogY29udmVydFZhbHVlICovIHRydWUpLFxuICAgICAgICAgICAgW1Rva2VuVHlwZS5MSVRFUkFMLCBUb2tlblR5cGUuSURdKTtcbiAgICAgICAgY29uc3QgYXJnVmFsdWVUb2tlbnMgPSBbdG9rXTtcbiAgICAgICAgLy8gRXhwcmVzc2lvbnMgaGF2ZSBvbmUgb3IgbW9yZSBkZXJlZmVyZW5jZXM6IFwiLmlkZW50aWZpZXJcIlxuICAgICAgICBpZiAodG9rLnR5cGUgPT0gVG9rZW5UeXBlLklEKSB7XG4gICAgICAgICAgZm9yIChwZWVrID0gdG9rcy5wZWVrKCk7XG4gICAgICAgICAgICBwZWVrLnR5cGUgPT0gVG9rZW5UeXBlLlNFUEFSQVRPUiAmJiBwZWVrLnZhbHVlID09ICcuJztcbiAgICAgICAgICAgIHBlZWsgPSB0b2tzLnBlZWsoKSkge1xuICAgICAgICAgICAgdG9rcy5uZXh0KCk7IC8vIFNraXAgJy4nLlxuICAgICAgICAgICAgdG9rID0gYXNzZXJ0VG9rZW4odG9rcy5uZXh0KGZhbHNlKSwgW1Rva2VuVHlwZS5JRF0pO1xuICAgICAgICAgICAgYXJnVmFsdWVUb2tlbnMucHVzaCh0b2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmdWYWx1ZSA9IGFyZ1ZhbHVlRm9yVG9rZW5zKGFyZ1ZhbHVlVG9rZW5zKTtcbiAgICAgICAgaWYgKCFhcmdzKSB7XG4gICAgICAgICAgYXJncyA9IG1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3NbdmFsdWVdID0gYXJnVmFsdWU7XG4gICAgICAgIHBlZWsgPSB0b2tzLnBlZWsoKTtcbiAgICAgICAgYXNzZXJ0QWN0aW9uKFxuICAgICAgICAgICAgcGVlay50eXBlID09IFRva2VuVHlwZS5TRVBBUkFUT1IgJiZcbiAgICAgICAgICAgIChwZWVrLnZhbHVlID09ICcsJyB8fCBwZWVrLnZhbHVlID09ICcpJyksXG4gICAgICAgICAgICAnRXhwZWN0ZWQgZWl0aGVyIFssXSBvciBbKV0nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVuZXhwZWN0ZWQgdG9rZW4uXG4gICAgICAgIGFzc2VydEFjdGlvbihmYWxzZSwgYDsgdW5leHBlY3RlZCB0b2tlbiBbJHt0b2sudmFsdWUgfHwgJyd9XWApO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKCEodG9rLnR5cGUgPT0gVG9rZW5UeXBlLlNFUEFSQVRPUiAmJiB0b2sudmFsdWUgPT0gJyknKSk7XG4gIH1cbiAgcmV0dXJuIGFyZ3M7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTwhVG9rZW5EZWY+fSB0b2tlbnNcbiAqIEByZXR1cm4gez9BY3Rpb25JbmZvQXJnVmFsdWVEZWZ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhcmdWYWx1ZUZvclRva2Vucyh0b2tlbnMpIHtcbiAgaWYgKHRva2Vucy5sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKHRva2Vucy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyhib29sZWFufG51bWJlcnxzdHJpbmcpfSAqLyAodG9rZW5zWzBdLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB0b2tlbnMubWFwKHRva2VuID0+IHRva2VuLnZhbHVlKTtcbiAgICBjb25zdCBleHByZXNzaW9uID0gdmFsdWVzLmpvaW4oJy4nKTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtBY3Rpb25JbmZvQXJnRXhwcmVzc2lvbkRlZn0gKi8gKHtleHByZXNzaW9ufSk7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXJlZmVyZW5jZXMgZXhwcmVzc2lvbiBhcmdzIGluIGBhcmdzYCB1c2luZyBkYXRhIGluIGBldmVudGAuXG4gKiBAcGFyYW0gez9BY3Rpb25JbmZvQXJnc0RlZn0gYXJnc1xuICogQHBhcmFtIHs/QWN0aW9uRXZlbnREZWZ9IGV2ZW50XG4gKiBAcmV0dXJuIHs/SnNvbk9iamVjdH1cbiAqIEBwcml2YXRlXG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcmVmZXJlbmNlRXhwcnNJbkFyZ3MoYXJncywgZXZlbnQpIHtcbiAgaWYgKCFhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3M7XG4gIH1cbiAgY29uc3QgZGF0YSA9IGRpY3QoKTtcbiAgaWYgKGV2ZW50ICYmIGdldERldGFpbCgvKiogQHR5cGUgeyFFdmVudH0gKi8gKGV2ZW50KSkpIHtcbiAgICBkYXRhWydldmVudCddID0gZ2V0RGV0YWlsKC8qKiBAdHlwZSB7IUV2ZW50fSAqLyAoZXZlbnQpKTtcbiAgfVxuICBjb25zdCBhcHBsaWVkID0gbWFwKCk7XG4gIE9iamVjdC5rZXlzKGFyZ3MpLmZvckVhY2goa2V5ID0+IHtcbiAgICBsZXQgdmFsdWUgPSBhcmdzW2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZS5leHByZXNzaW9uKSB7XG4gICAgICBjb25zdCBleHByID1cbiAgICAgICAgLyoqIEB0eXBlIHtBY3Rpb25JbmZvQXJnRXhwcmVzc2lvbkRlZn0gKi8gKHZhbHVlKS5leHByZXNzaW9uO1xuICAgICAgY29uc3QgZXhwclZhbHVlID0gZ2V0VmFsdWVGb3JFeHByKGRhdGEsIGV4cHIpO1xuICAgICAgLy8gSWYgZXhwciBjYW4ndCBiZSBmb3VuZCBpbiBkYXRhLCB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cbiAgICAgIHZhbHVlID0gKGV4cHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSA/IG51bGwgOiBleHByVmFsdWU7XG4gICAgfVxuICAgIGFwcGxpZWRba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIGFwcGxpZWQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7P1R9IGNvbmRpdGlvblxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbWVzc2FnZVxuICogQHJldHVybiB7VH1cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhc3NlcnRBY3Rpb25Gb3JQYXJzZXIocywgY29udGV4dCwgY29uZGl0aW9uLCBvcHRfbWVzc2FnZSkge1xuICByZXR1cm4gdXNlcigpLmFzc2VydChjb25kaXRpb24sICdJbnZhbGlkIGFjdGlvbiBkZWZpbml0aW9uIGluICVzOiBbJXNdICVzJyxcbiAgICAgIGNvbnRleHQsIHMsIG9wdF9tZXNzYWdlIHx8ICcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc1xuICogQHBhcmFtIHshRWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHshVG9rZW5EZWZ9IHRva1xuICogQHBhcmFtIHtBcnJheTxUb2tlblR5cGU+fSB0eXBlc1xuICogQHBhcmFtIHsqPX0gb3B0X3ZhbHVlXG4gKiBAcmV0dXJuIHshVG9rZW5EZWZ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhc3NlcnRUb2tlbkZvclBhcnNlcihzLCBjb250ZXh0LCB0b2ssIHR5cGVzLCBvcHRfdmFsdWUpIHtcbiAgaWYgKG9wdF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0QWN0aW9uRm9yUGFyc2VyKHMsIGNvbnRleHQsXG4gICAgICAgIHR5cGVzLmluY2x1ZGVzKHRvay50eXBlKSAmJiB0b2sudmFsdWUgPT0gb3B0X3ZhbHVlLFxuICAgICAgICBgOyBleHBlY3RlZCBbJHtvcHRfdmFsdWV9XWApO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydEFjdGlvbkZvclBhcnNlcihzLCBjb250ZXh0LCB0eXBlcy5pbmNsdWRlcyh0b2sudHlwZSkpO1xuICB9XG4gIHJldHVybiB0b2s7XG59XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuY29uc3QgVG9rZW5UeXBlID0ge1xuICBJTlZBTElEOiAwLFxuICBFT0Y6IDEsXG4gIFNFUEFSQVRPUjogMixcbiAgTElURVJBTDogMyxcbiAgSUQ6IDQsXG4gIE9CSkVDVDogNSxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge3t0eXBlOiBUb2tlblR5cGUsIHZhbHVlOiAqfX1cbiAqL1xubGV0IFRva2VuRGVmO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBXSElURVNQQUNFX1NFVCA9ICcgXFx0XFxuXFxyXFxmXFx2XFx1MDBBMFxcdTIwMjhcXHUyMDI5JztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgU0VQQVJBVE9SX1NFVCA9ICc7Oi4oKT0sfCEnO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBTVFJJTkdfU0VUID0gJ1wiXFwnJztcblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgT0JKRUNUX1NFVCA9ICd7fSc7XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IFNQRUNJQUxfU0VUID1cbiAgICBXSElURVNQQUNFX1NFVCArIFNFUEFSQVRPUl9TRVQgKyBTVFJJTkdfU0VUICsgT0JKRUNUX1NFVDtcblxuLyoqIEBwcml2YXRlICovXG5jbGFzcyBQYXJzZXJUb2tlbml6ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3RyKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMuc3RyXyA9IHN0cjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuaW5kZXhfID0gLTE7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbmV4dCB0b2tlbiBhbmQgYWR2YW5jZXMgdGhlIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfY29udmVydFZhbHVlc1xuICAgKiBAcmV0dXJuIHshVG9rZW5EZWZ9XG4gICAqL1xuICBuZXh0KG9wdF9jb252ZXJ0VmFsdWVzKSB7XG4gICAgY29uc3QgdG9rID0gdGhpcy5uZXh0XyhvcHRfY29udmVydFZhbHVlcyB8fCBmYWxzZSk7XG4gICAgdGhpcy5pbmRleF8gPSB0b2suaW5kZXg7XG4gICAgcmV0dXJuIHRvaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBuZXh0IHRva2VuIGJ1dCBrZWVwcyB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2NvbnZlcnRWYWx1ZXNcbiAgICogQHJldHVybiB7IVRva2VuRGVmfVxuICAgKi9cbiAgcGVlayhvcHRfY29udmVydFZhbHVlcykge1xuICAgIHJldHVybiB0aGlzLm5leHRfKG9wdF9jb252ZXJ0VmFsdWVzIHx8IGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbnZlcnRWYWx1ZXNcbiAgICogQHJldHVybiB7IXt0eXBlOiBUb2tlblR5cGUsIHZhbHVlOiAqLCBpbmRleDogbnVtYmVyfX1cbiAgICovXG4gIG5leHRfKGNvbnZlcnRWYWx1ZXMpIHtcbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmluZGV4XyArIDE7XG4gICAgaWYgKG5ld0luZGV4ID49IHRoaXMuc3RyXy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLkVPRiwgaW5kZXg6IHRoaXMuaW5kZXhffTtcbiAgICB9XG5cbiAgICBsZXQgYyA9IHRoaXMuc3RyXy5jaGFyQXQobmV3SW5kZXgpO1xuXG4gICAgLy8gV2hpdGVzcGFjZTogc3RhbmRhcmQgc2V0LlxuICAgIGlmIChXSElURVNQQUNFX1NFVC5pbmRleE9mKGMpICE9IC0xKSB7XG4gICAgICBuZXdJbmRleCsrO1xuICAgICAgZm9yICg7IG5ld0luZGV4IDwgdGhpcy5zdHJfLmxlbmd0aDsgbmV3SW5kZXgrKykge1xuICAgICAgICBpZiAoV0hJVEVTUEFDRV9TRVQuaW5kZXhPZih0aGlzLnN0cl8uY2hhckF0KG5ld0luZGV4KSkgPT0gLTEpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5ld0luZGV4ID49IHRoaXMuc3RyXy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuRU9GLCBpbmRleDogbmV3SW5kZXh9O1xuICAgICAgfVxuICAgICAgYyA9IHRoaXMuc3RyXy5jaGFyQXQobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIC8vIEEgbnVtZXJpYy4gTm90aWNlIHRoYXQgaXQgc3RlYWxzIHRoZSBgLmAgZnJvbSBzZXBhcmF0b3JzLlxuICAgIGlmIChjb252ZXJ0VmFsdWVzICYmIChpc051bShjKSB8fFxuICAgICAgICAgICAgKGMgPT0gJy4nICYmIG5ld0luZGV4ICsgMSA8IHRoaXMuc3RyXy5sZW5ndGggJiZcbiAgICAgICAgICAgIGlzTnVtKHRoaXMuc3RyX1tuZXdJbmRleCArIDFdKSkpKSB7XG4gICAgICBsZXQgaGFzRnJhY3Rpb24gPSBjID09ICcuJztcbiAgICAgIGxldCBlbmQgPSBuZXdJbmRleCArIDE7XG4gICAgICBmb3IgKDsgZW5kIDwgdGhpcy5zdHJfLmxlbmd0aDsgZW5kKyspIHtcbiAgICAgICAgY29uc3QgYzIgPSB0aGlzLnN0cl8uY2hhckF0KGVuZCk7XG4gICAgICAgIGlmIChjMiA9PSAnLicpIHtcbiAgICAgICAgICBoYXNGcmFjdGlvbiA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc051bShjMikpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcyA9IHRoaXMuc3RyXy5zdWJzdHJpbmcobmV3SW5kZXgsIGVuZCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGhhc0ZyYWN0aW9uID8gcGFyc2VGbG9hdChzKSA6IHBhcnNlSW50KHMsIDEwKTtcbiAgICAgIG5ld0luZGV4ID0gZW5kIC0gMTtcbiAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLkxJVEVSQUwsIHZhbHVlLCBpbmRleDogbmV3SW5kZXh9O1xuICAgIH1cblxuICAgIC8vIERpZmZlcmVudCBzZXBhcmF0b3JzLlxuICAgIGlmIChTRVBBUkFUT1JfU0VULmluZGV4T2YoYykgIT0gLTEpIHtcbiAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLlNFUEFSQVRPUiwgdmFsdWU6IGMsIGluZGV4OiBuZXdJbmRleH07XG4gICAgfVxuXG4gICAgLy8gU3RyaW5nIGxpdGVyYWwuXG4gICAgaWYgKFNUUklOR19TRVQuaW5kZXhPZihjKSAhPSAtMSkge1xuICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IHRoaXMuc3RyXy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5zdHJfLmNoYXJBdChpKSA9PSBjKSB7XG4gICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVuZCA9PSAtMSkge1xuICAgICAgICByZXR1cm4ge3R5cGU6IFRva2VuVHlwZS5JTlZBTElELCBpbmRleDogbmV3SW5kZXh9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0cl8uc3Vic3RyaW5nKG5ld0luZGV4ICsgMSwgZW5kKTtcbiAgICAgIG5ld0luZGV4ID0gZW5kO1xuICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuTElURVJBTCwgdmFsdWUsIGluZGV4OiBuZXdJbmRleH07XG4gICAgfVxuXG4gICAgLy8gT2JqZWN0IGxpdGVyYWwuXG4gICAgaWYgKGMgPT0gJ3snKSB7XG4gICAgICBsZXQgbnVtYmVyT2ZCcmFjZXMgPSAxO1xuICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IHRoaXMuc3RyXy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGFyID0gdGhpcy5zdHJfW2ldO1xuICAgICAgICBpZiAoY2hhciA9PSAneycpIHtcbiAgICAgICAgICBudW1iZXJPZkJyYWNlcysrO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT0gJ30nKSB7XG4gICAgICAgICAgbnVtYmVyT2ZCcmFjZXMtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyT2ZCcmFjZXMgPD0gMCkge1xuICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbmQgPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuSU5WQUxJRCwgaW5kZXg6IG5ld0luZGV4fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zdHJfLnN1YnN0cmluZyhuZXdJbmRleCwgZW5kICsgMSk7XG4gICAgICBuZXdJbmRleCA9IGVuZDtcbiAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLk9CSkVDVCwgdmFsdWUsIGluZGV4OiBuZXdJbmRleH07XG4gICAgfVxuXG4gICAgLy8gQWR2YW5jZSB1bnRpbCBuZXh0IHNwZWNpYWwgY2hhcmFjdGVyLlxuICAgIGxldCBlbmQgPSBuZXdJbmRleCArIDE7XG4gICAgZm9yICg7IGVuZCA8IHRoaXMuc3RyXy5sZW5ndGg7IGVuZCsrKSB7XG4gICAgICBpZiAoU1BFQ0lBTF9TRVQuaW5kZXhPZih0aGlzLnN0cl8uY2hhckF0KGVuZCkpICE9IC0xKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzID0gdGhpcy5zdHJfLnN1YnN0cmluZyhuZXdJbmRleCwgZW5kKTtcbiAgICBuZXdJbmRleCA9IGVuZCAtIDE7XG5cbiAgICAvLyBCb29sZWFuIGxpdGVyYWwuXG4gICAgaWYgKGNvbnZlcnRWYWx1ZXMgJiYgKHMgPT0gJ3RydWUnIHx8IHMgPT0gJ2ZhbHNlJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gKHMgPT0gJ3RydWUnKTtcbiAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLkxJVEVSQUwsIHZhbHVlLCBpbmRleDogbmV3SW5kZXh9O1xuICAgIH1cblxuICAgIC8vIElkZW50aWZpZXIuXG4gICAgaWYgKCFpc051bShzLmNoYXJBdCgwKSkpIHtcbiAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLklELCB2YWx1ZTogcywgaW5kZXg6IG5ld0luZGV4fTtcbiAgICB9XG5cbiAgICAvLyBLZXkuXG4gICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuTElURVJBTCwgdmFsdWU6IHMsIGluZGV4OiBuZXdJbmRleH07XG4gIH1cbn1cblxuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgYSBjaGFjdGVyIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTnVtKGMpIHtcbiAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbEFjdGlvblNlcnZpY2VGb3JEb2MoYW1wZG9jKSB7XG4gIHJlZ2lzdGVyU2VydmljZUJ1aWxkZXJGb3JEb2MoXG4gICAgICBhbXBkb2MsXG4gICAgICAnYWN0aW9uJyxcbiAgICAgIEFjdGlvblNlcnZpY2UsXG4gICAgICAvKiBvcHRfaW5zdGFudGlhdGUgKi8gdHJ1ZSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgYmFzZUluc3RhbmNlIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgUG9zaXRpb25PYnNlcnZlcldvcmtlciwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xufSBmcm9tICcuL3Bvc2l0aW9uLW9ic2VydmVyLXdvcmtlcic7XG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7XG5pbXBvcnQge2RlYm91bmNlfSBmcm9tICcuLi8uLi91dGlscy9yYXRlLWxpbWl0JztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi9sb2cnO1xuaW1wb3J0IHtyZWdpc3RlclNlcnZpY2VCdWlsZGVyRm9yRG9jfSBmcm9tICcuLi8uLi9zZXJ2aWNlJztcblxuLyoqIEBjb25zdCBAcHJpdmF0ZSAqL1xuY29uc3QgVEFHID0gJ1BPU0lUSU9OX09CU0VSVkVSJztcblxuLyoqIEBjb25zdCBAcHJpdmF0ZSAqL1xuY29uc3QgU0NST0xMX1RJTUVPVVQgPSA1MDA7XG5cblxuZXhwb3J0IGNsYXNzIFBvc2l0aW9uT2JzZXJ2ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi4vYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYykge1xuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gKi9cbiAgICB0aGlzLmFtcGRvY18gPSBhbXBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gYW1wZG9jLndpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PCFQb3NpdGlvbk9ic2VydmVyV29ya2VyPn0gKi9cbiAgICB0aGlzLndvcmtlcnNfID0gW107XG5cbiAgICAvKiogQHByaXZhdGUgeyEuLi92c3luYy1pbXBsLlZzeW5jfSAqL1xuICAgIHRoaXMudnN5bmNfID0gU2VydmljZXMudnN5bmNGb3IodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL3ZpZXdwb3J0L3ZpZXdwb3J0LWltcGwuVmlld3BvcnR9ICovXG4gICAgdGhpcy52aWV3cG9ydF8gPSBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyhhbXBkb2MpO1xuXG4gICAgLyoqIEBwcml2YXRlIHtBcnJheTxmdW5jdGlvbigpPn0gKi9cbiAgICB0aGlzLnVubGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaW5TY3JvbGxfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5tZWFzdXJlXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuY2FsbGJhY2tTdGFydGVkXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtmdW5jdGlvbigpfSAqL1xuICAgIHRoaXMuYm91bmRTdG9wU2Nyb2xsXyA9IGRlYm91bmNlKHRoaXMud2luXywgKCkgPT4ge1xuICAgICAgdGhpcy5pblNjcm9sbF8gPSBmYWxzZTtcbiAgICB9LCBTQ1JPTExfVElNRU9VVCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0geyFQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHl9IGZpZGVsaXR5XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oPy4vcG9zaXRpb24tb2JzZXJ2ZXItd29ya2VyLlBvc2l0aW9uSW5WaWV3cG9ydEVudHJ5RGVmKX0gaGFuZGxlclxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqL1xuICBvYnNlcnZlKGVsZW1lbnQsIGZpZGVsaXR5LCBoYW5kbGVyKSB7XG4gICAgY29uc3Qgd29ya2VyID1cbiAgICAgICAgbmV3IFBvc2l0aW9uT2JzZXJ2ZXJXb3JrZXIodGhpcy5hbXBkb2NfLCBlbGVtZW50LCBmaWRlbGl0eSwgaGFuZGxlcik7XG5cbiAgICB0aGlzLndvcmtlcnNfLnB1c2god29ya2VyKTtcblxuICAgIGlmICghdGhpcy5jYWxsYmFja1N0YXJ0ZWRfKSB7XG4gICAgICB0aGlzLnN0YXJ0Q2FsbGJhY2tfKCk7XG4gICAgfVxuXG4gICAgd29ya2VyLnVwZGF0ZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy53b3JrZXJzX1tpXSA9PSB3b3JrZXIpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVdvcmtlcl8oaSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICB1bm9ic2VydmUoZWxlbWVudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMud29ya2Vyc19baV0uZWxlbWVudCA9PSBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlV29ya2VyXyhpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBkZXYoKS5lcnJvcihUQUcsICdjYW5ub3QgdW5vYnNlcnZlIHVub2JzZXJ2ZWQgZWxlbWVudCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVtb3ZlV29ya2VyXyhpbmRleCkge1xuICAgIHRoaXMud29ya2Vyc18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAodGhpcy53b3JrZXJzXy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5zdG9wQ2FsbGJhY2tfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiBzdGFydCB0byBvYnNlcnZlIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRDYWxsYmFja18oKSB7XG4gICAgdGhpcy5jYWxsYmFja1N0YXJ0ZWRfID0gdHJ1ZTtcbiAgICAvLyBsaXN0ZW4gdG8gdmlld3BvcnQgc2Nyb2xsIGV2ZW50IHRvIGhlbHAgcGFzcyBkZXRlcm1pbmUgaWYgbmVlZCB0b1xuICAgIHRoaXMudW5saXN0ZW5lcnNfLnB1c2godGhpcy52aWV3cG9ydF8ub25TY3JvbGwoKCkgPT4ge1xuICAgICAgdGhpcy5vblNjcm9sbEhhbmRsZXJfKCk7XG4gICAgfSkpO1xuICAgIHRoaXMudW5saXN0ZW5lcnNfLnB1c2godGhpcy52aWV3cG9ydF8ub25SZXNpemUoKCkgPT4ge1xuICAgICAgdGhpcy5vblJlc2l6ZUhhbmRsZXJfKCk7XG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB1bm9ic2VydmUgbGFzdCBvYnNlcnZlZCBlbGVtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RvcENhbGxiYWNrXygpIHtcbiAgICB0aGlzLmNhbGxiYWNrU3RhcnRlZF8gPSBmYWxzZTtcbiAgICB3aGlsZSAodGhpcy51bmxpc3RlbmVyc18ubGVuZ3RoKSB7XG4gICAgICBjb25zdCB1bmxpc3RlbiA9IHRoaXMudW5saXN0ZW5lcnNfLnBvcCgpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCBpbiB2c3luYy5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2ZvcmNlXG4gICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAqL1xuICB1cGRhdGVBbGxFbnRyaWVzKG9wdF9mb3JjZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgd29ya2VyID0gdGhpcy53b3JrZXJzX1tpXTtcbiAgICAgIHdvcmtlci51cGRhdGUob3B0X2ZvcmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHZpZXdwb3J0IHNjcm9sbCBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25TY3JvbGxIYW5kbGVyXygpIHtcbiAgICB0aGlzLmJvdW5kU3RvcFNjcm9sbF8oKTtcbiAgICB0aGlzLmluU2Nyb2xsXyA9IHRydWU7XG4gICAgaWYgKCF0aGlzLm1lYXN1cmVfKSB7XG4gICAgICB0aGlzLnNjaGVkdWxlUGFzc18oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHZpZXdwb3J0IHJlc2l6ZSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SZXNpemVIYW5kbGVyXygpIHtcbiAgICB0aGlzLnVwZGF0ZUFsbEVudHJpZXModHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFsbCBlbnRyaWVzIGR1cmluZyBzY3JvbGxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNjaGVkdWxlUGFzc18oKSB7XG4gICAgLy8gVE9ETyAoQHpob3V5eCwgIzkyMDgpOlxuICAgIC8vIFAxOiBhY2NvdW50IGZvciBlZmZlY3RpdmUgZmlkZWxpdHkgdXNpbmcgdGhpcy5lZmZlY3RpdmVGaWRlbGl0eVxuICAgIC8vIFAyOiBkbyBwYXNzZXMgb24gb25Eb21NdXRhdGlvbiAoaWYgYXZhaWxhYmxlIHVzaW5nIE11dGF0aW9uT2JzZXJ2ZXJcbiAgICAvLyBtb3N0bHkgZm9yIGluLWEtYm94IGhvc3QsIHNpbmNlIG1vc3QgRE9NIG11dGF0aW9ucyBhcmUgY29uc3RyYWludCB0byB0aGVcbiAgICAvLyBBTVAgZWxlbWVudHMpLlxuICAgIHRoaXMudXBkYXRlQWxsRW50cmllcygpO1xuICAgIHRoaXMubWVhc3VyZV8gPSB0cnVlO1xuICAgIGlmICghdGhpcy5pblNjcm9sbF8pIHtcbiAgICAgIC8vIFN0b3AgbWVhc3VyZSBpZiB2aWV3cG9ydCBpcyBubyBsb25nZXIgc2Nyb2xsaW5nXG4gICAgICB0aGlzLm1lYXN1cmVfID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudnN5bmNfLm1lYXN1cmUoKCkgPT4ge1xuICAgICAgdGhpcy5zY2hlZHVsZVBhc3NfKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyEuLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFBvc2l0aW9uT2JzZXJ2ZXJTZXJ2aWNlRm9yRG9jKGFtcGRvYykge1xuICByZWdpc3RlclNlcnZpY2VCdWlsZGVyRm9yRG9jKGFtcGRvYywgJ3Bvc2l0aW9uLW9ic2VydmVyJywgKCkgPT4ge1xuICAgIHJldHVybiBuZXcgUG9zaXRpb25PYnNlcnZlcihhbXBkb2MpO1xuICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSBiYXNlSW5zdGFuY2UgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4uLy4uL3NlcnZpY2VzJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi9sb2cnO1xuaW1wb3J0IHtcbiAgbGF5b3V0UmVjdEVxdWFscyxcbiAgbGF5b3V0UmVjdEx0d2gsXG4gIGxheW91dFJlY3RzT3ZlcmxhcCxcbiAgbGF5b3V0UmVjdHNSZWxhdGl2ZVBvcyxcbn0gZnJvbSAnLi4vLi4vbGF5b3V0LXJlY3QnO1xuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmV4cG9ydCBjb25zdCBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHkgPSB7XG4gIEhJR0g6IDEsXG4gIExPVzogMCxcbn07XG5cbi8qKiBAY29uc3QgQHByaXZhdGUgKi9cbmNvbnN0IExPV19GSURFTElUWV9GUkFNRV9DT1VOVCA9IDQ7XG5cbi8qKlxuICogVE9ETyAoQHpob3V5eCk6IHJlbmFtZSByZWxhdGl2ZVBvcyB0byByZWxhdGl2ZVBvc2l0aW9uc1xuICogVGhlIHBvc2l0aW9uT2JzZXJ2ZXIgcmV0dXJuZWQgcG9zaXRpb24gdmFsdWUgd2hpY2ggaW5jbHVkZXMgdGhlIHBvc2l0aW9uIHJlY3RcbiAqIHJlbGF0aXZlIHRvIHZpZXdwb3J0LiBBbmQgdmlld3BvcnQgcmVjdCB3aGljaCBhbHdheXMgaGFzIHRvcCAwLCBsZWZ0IDAsIGFuZFxuICogdmlld3BvcnQgd2lkdGggYW5kIGhlaWdodC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgcG9zaXRpb25SZWN0OiA/Li4vLi4vbGF5b3V0LXJlY3QuTGF5b3V0UmVjdERlZixcbiAqICB2aWV3cG9ydFJlY3Q6ICEuLi8uLi9sYXlvdXQtcmVjdC5MYXlvdXRSZWN0RGVmLFxuICogIHJlbGF0aXZlUG9zOiBzdHJpbmcsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFBvc2l0aW9uSW5WaWV3cG9ydEVudHJ5RGVmO1xuXG5leHBvcnQgY2xhc3MgUG9zaXRpb25PYnNlcnZlcldvcmtlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7IVBvc2l0aW9uT2JzZXJ2ZXJGaWRlbGl0eX0gZmlkZWxpdHlcbiAgICogQHBhcmFtIHtmdW5jdGlvbig/UG9zaXRpb25JblZpZXdwb3J0RW50cnlEZWYpfSBoYW5kbGVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhbXBkb2MsIGVsZW1lbnQsIGZpZGVsaXR5LCBoYW5kbGVyKSB7XG4gICAgLyoqIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgIC8qKiBAY29uc3Qge2Z1bmN0aW9uKD9Qb3NpdGlvbkluVmlld3BvcnRFbnRyeURlZil9ICovXG4gICAgdGhpcy5oYW5kbGVyXyA9IGhhbmRsZXI7XG5cbiAgICAvKiogQHR5cGUgeyFQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHl9ICovXG4gICAgdGhpcy5maWRlbGl0eSA9IGZpZGVsaXR5O1xuXG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpcy50dXJuID0gKGZpZGVsaXR5ID09IFBvc2l0aW9uT2JzZXJ2ZXJGaWRlbGl0eS5MT1cpID9cbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExPV19GSURFTElUWV9GUkFNRV9DT1VOVCkgOiAwO1xuXG4gICAgLyoqIEB0eXBlIHs/UG9zaXRpb25JblZpZXdwb3J0RW50cnlEZWZ9ICovXG4gICAgdGhpcy5wcmV2UG9zaXRpb25fID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL3ZpZXdwb3J0L3ZpZXdwb3J0LWltcGwuVmlld3BvcnR9ICovXG4gICAgdGhpcy52aWV3cG9ydF8gPSBTZXJ2aWNlcy52aWV3cG9ydEZvckRvYyhhbXBkb2MpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgdG8gdHJpZ2dlciBhbiBlbnRyeSBoYW5kbGVyXG4gICAqIEBwYXJhbSB7IVBvc2l0aW9uSW5WaWV3cG9ydEVudHJ5RGVmfSBwb3NpdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJpZ2dlcl8ocG9zaXRpb24pIHtcbiAgICBjb25zdCBwcmV2UG9zID0gdGhpcy5wcmV2UG9zaXRpb25fO1xuICAgIGlmIChwcmV2UG9zXG4gICAgICAgICYmIGxheW91dFJlY3RFcXVhbHMocHJldlBvcy5wb3NpdGlvblJlY3QsIHBvc2l0aW9uLnBvc2l0aW9uUmVjdClcbiAgICAgICAgJiYgbGF5b3V0UmVjdEVxdWFscyhwcmV2UG9zLnZpZXdwb3J0UmVjdCwgcG9zaXRpb24udmlld3BvcnRSZWN0KSkge1xuICAgICAgLy8gcG9zaXRpb24gZGlkbid0IGNoYW5nZSwgZG8gbm90aGluZy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkZXYoKS5hc3NlcnQocG9zaXRpb24ucG9zaXRpb25SZWN0LFxuICAgICAgICAnUG9zaXRpb25PYnNlcnZlciBzaG91bGQgYWx3YXlzIHRyaWdnZXIgZW50cnkgd2l0aCBjbGllbnRSZWN0Jyk7XG4gICAgY29uc3QgcG9zaXRpb25SZWN0ID1cbiAgICAvKiogQHR5cGUgeyEuLi8uLi9sYXlvdXQtcmVjdC5MYXlvdXRSZWN0RGVmfSAqLyAocG9zaXRpb24ucG9zaXRpb25SZWN0KTtcbiAgICAvLyBBZGQgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IHRvIGl0cyB2aWV3cG9ydFxuICAgIHBvc2l0aW9uLnJlbGF0aXZlUG9zID0gbGF5b3V0UmVjdHNSZWxhdGl2ZVBvcyhwb3NpdGlvblJlY3QsXG4gICAgICAgIHBvc2l0aW9uLnZpZXdwb3J0UmVjdCk7XG5cbiAgICBpZiAobGF5b3V0UmVjdHNPdmVybGFwKHBvc2l0aW9uUmVjdCwgcG9zaXRpb24udmlld3BvcnRSZWN0KSkge1xuICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICB0aGlzLnByZXZQb3NpdGlvbl8gPSBwb3NpdGlvbjtcbiAgICAgIC8vIE9ubHkgY2FsbCBoYW5kbGVyIGlmIGVudHJ5IGVsZW1lbnQgb3ZlcmxhcCB3aXRoIHZpZXdwb3J0LlxuICAgICAgdGhpcy5oYW5kbGVyXyhwb3NpdGlvbik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByZXZQb3NpdGlvbl8pIHtcbiAgICAgIC8vIE5lZWQgdG8gbm90aWZ5IHRoYXQgZWxlbWVudCBnZXRzIG91dHNpZGUgdmlld3BvcnRcbiAgICAgIC8vIE5PVEU6IFRoaXMgaXMgcmVxdWlyZWQgZm9yIGluYWJveCBwb3NpdGlvbiBvYnNlcnZlci5cbiAgICAgIHRoaXMucHJldlBvc2l0aW9uXyA9IG51bGw7XG4gICAgICBwb3NpdGlvbi5wb3NpdGlvblJlY3QgPSBudWxsO1xuICAgICAgdGhpcy5oYW5kbGVyXyhwb3NpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvIHVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgZW50cnkgZWxlbWVudCB3aGVuIGl0IGlzIHJlYWR5LlxuICAgKiBDYWxsZWQgd2hlbiB1cGRhdGVBbGxFbnRyaWVzLCBvciB3aGVuIGZpcnN0IG9ic2VydmUgYW4gZWxlbWVudC5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2ZvcmNlXG4gICAqL1xuICB1cGRhdGUob3B0X2ZvcmNlKSB7XG4gICAgaWYgKCFvcHRfZm9yY2UpIHtcbiAgICAgIGlmICh0aGlzLnR1cm4gIT0gMCkge1xuICAgICAgICB0aGlzLnR1cm4tLTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5maWRlbGl0eSA9PSBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHkuTE9XKSB7XG4gICAgICAgIHRoaXMudHVybiA9IExPV19GSURFTElUWV9GUkFNRV9DT1VOVDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2aWV3cG9ydFNpemUgPSB0aGlzLnZpZXdwb3J0Xy5nZXRTaXplKCk7XG4gICAgY29uc3Qgdmlld3BvcnRCb3ggPVxuICAgICAgICBsYXlvdXRSZWN0THR3aCgwLCAwLCB2aWV3cG9ydFNpemUud2lkdGgsIHZpZXdwb3J0U2l6ZS5oZWlnaHQpO1xuICAgIHRoaXMudmlld3BvcnRfLmdldENsaWVudFJlY3RBc3luYyh0aGlzLmVsZW1lbnQpLnRoZW4oZWxlbWVudEJveCA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXJfKFxuICAgICAgLyoqIEB0eXBlIHsuL3Bvc2l0aW9uLW9ic2VydmVyLXdvcmtlci5Qb3NpdGlvbkluVmlld3BvcnRFbnRyeURlZn0qLyAoe1xuICAgICAgICAgICAgcG9zaXRpb25SZWN0OiBlbGVtZW50Qm94LFxuICAgICAgICAgICAgdmlld3BvcnRSZWN0OiB2aWV3cG9ydEJveCxcbiAgICAgICAgICAgIHJlbGF0aXZlUG9zOiAnJyxcbiAgICAgICAgICB9KSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cbi8qKiBAdHlwZWRlZiB7Li4vdmlkZW8taW50ZXJmYWNlLlZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZn0gKi9cbmxldCBWaWRlb0FuYWx5dGljc0RldGFpbHNEZWY7IC8vIGFsaWFzIGZvciBsaW5lIGxlbmd0aFxuXG5cbi8qKiBAaW50ZXJmYWNlICovXG5leHBvcnQgY2xhc3MgVmlkZW9TZXJ2aWNlSW50ZXJmYWNlIHtcblxuICAvKiogQHBhcmFtIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSB1bnVzZWRWaWRlbyAqL1xuICByZWdpc3Rlcih1bnVzZWRWaWRlbykge31cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBhbmFseXRpY3MgZGV0YWlscyBmb3IgdGhlIGdpdmVuIHZpZGVvLlxuICAgKiBGYWlscyBzaWxlbnRseSBpZiB0aGUgdmlkZW8gaXMgbm90IHJlZ2lzdGVyZWQuXG4gICAqIEBwYXJhbSB7IUFtcEVsZW1lbnR9IHVudXNlZFZpZGVvXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFWaWRlb0FuYWx5dGljc0RldGFpbHNEZWY+fCFQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgZ2V0QW5hbHl0aWNzRGV0YWlscyh1bnVzZWRWaWRlbykge31cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSB1bnVzZWRWaWRlb1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNNdXRlZCh1bnVzZWRWaWRlbykge31cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSB1bnVzZWRWaWRlb1xuICAgKiBAcmV0dXJuIHshLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvSW50ZXJmYWNlfSBQbGF5aW5nU3RhdGVzXG4gICAqL1xuICBnZXRQbGF5aW5nU3RhdGUodW51c2VkVmlkZW8pIHt9XG59XG5cblxuLyoqIEBlbnVtIHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgVmlkZW9TZXJ2aWNlU2lnbmFscyA9IHtcbiAgVVNFUl9JTlRFUkFDVEVEOiAndXNlci1pbnRlcmFjdGVkJyxcbiAgQVVUT1BMQVlfREVMRUdBVEVEOiAnYXV0b3BsYXktZGVsZWdhdGVkJyxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBdXRvcGxheSwgQXV0b3BsYXlFdmVudHN9IGZyb20gJy4vdmlkZW8vYXV0b3BsYXknO1xuaW1wb3J0IHtQbGF5aW5nU3RhdGVzLCBWaWRlb0F0dHJpYnV0ZXMsIFZpZGVvRXZlbnRzfSBmcm9tICcuLi92aWRlby1pbnRlcmZhY2UnO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vc2VydmljZXMnO1xuaW1wb3J0IHtWaWRlb1NlcnZpY2VTaWduYWxzfSBmcm9tICcuL3ZpZGVvLXNlcnZpY2UtaW50ZXJmYWNlJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi9sb2cnO1xuaW1wb3J0IHtnZXRBbXBkb2N9IGZyb20gJy4uL3NlcnZpY2UnO1xuaW1wb3J0IHtnZXRFbGVtZW50U2VydmljZUZvckRvY30gZnJvbSAnLi4vZWxlbWVudC1zZXJ2aWNlJztcbmltcG9ydCB7aXNFeHBlcmltZW50T259IGZyb20gJy4uL2V4cGVyaW1lbnRzJztcbmltcG9ydCB7bGlzdGVuLCBsaXN0ZW5PbmNlUHJvbWlzZX0gZnJvbSAnLi4vZXZlbnQtaGVscGVyJztcbmltcG9ydCB7b25jZX0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb24nO1xuXG5cbi8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IEVYVEVOU0lPTiA9ICdhbXAtdmlkZW8tc2VydmljZSc7XG5cblxuLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVEFHID0gJ3ZpZGVvLXNlcnZpY2UnO1xuXG5cbi8qKlxuICogQHR5cGVkZWZcbiAqIHsuLi8uLi9leHRlbnNpb25zL2FtcC12aWRlby1zZXJ2aWNlLzAuMS9hbXAtdmlkZW8tc2VydmljZS5WaWRlb1NlcnZpY2V9XG4gKi9cbmxldCBWaWRlb1NlcnZpY2VEZWY7IC8vIGFsaWFzIGZvciBsaW5lIGxlbmd0aC5cblxuXG4vKipcbiAqIFByb3ZpZGVzIHVuaWZpZWQgYmVoYXZpb3IgZm9yIGFsbCB2aWRlb3MgcmVnYXJkbGVzcyBvZiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgYSBmYcOnYWRlIGFyb3VuZCBhbiBhc3luYy1sb2FkZWQgaW1wbGVtZW50YXRpb24uXG4gKiBTZWUge0BsaW5rIEFtcFZpZGVvU2VydmljZX0gZm9yIHRoZSB1bmRlcmx5aW5nIHNlcnZpY2UuXG4gKlxuICogVGhpcyBjby1lZXhpc3RzIHdpdGggYFZpZGVvTWFuYWdlcmAgKGRlcHJlY2F0ZWQpIHdoaWxlIHRoZSBpbXBsZW1lbnRhdGlvblxuICogaXMgbWlncmF0ZWQuXG4gKlxuICogQGltcGxlbWVudHMgey4vdmlkZW8tc2VydmljZS1pbnRlcmZhY2UuVmlkZW9TZXJ2aWNlSW50ZXJmYWNlfVxuICovXG5leHBvcnQgY2xhc3MgVmlkZW9TZXJ2aWNlU3luYyB7XG5cbiAgLyoqIEBwYXJhbSB7IS4vYW1wZG9jLWltcGwuQW1wRG9jfSBhbXBkb2MgKi9cbiAgY29uc3RydWN0b3IoYW1wZG9jKSB7XG4gICAgY29uc3Qge3dpbn0gPSBhbXBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbXBkb2MtaW1wbC5BbXBEb2N9ICovXG4gICAgdGhpcy5hbXBkb2NfID0gYW1wZG9jO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IVZpZGVvU2VydmljZURlZj59ICAqL1xuICAgIHRoaXMuYXN5bmNJbXBsXyA9IFZpZGVvU2VydmljZVN5bmMudmlkZW9TZXJ2aWNlRm9yKHdpbiwgYW1wZG9jKTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFBdXRvcGxheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZ2V0QXV0b3BsYXlfID0gb25jZSgoKSA9PiBuZXcgQXV0b3BsYXkodGhpcy5hbXBkb2NfKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHZpc2libGVGb3JUZXN0aW5nXG4gICAqL1xuICBzdGF0aWMgc2hvdWxkQmVVc2VkSW4od2luKSB7XG4gICAgcmV0dXJuIGlzRXhwZXJpbWVudE9uKHdpbiwgJ3ZpZGVvLXNlcnZpY2UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0geyFOb2RlfCEuL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFWaWRlb1NlcnZpY2VEZWY+fVxuICAgKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAgICovXG4gIHN0YXRpYyB2aWRlb1NlcnZpY2VGb3Iod2luLCBub2RlT3JEb2MpIHtcbiAgICAvLyBOb3QgZXhwb3NlZCBpbiAuLi9zZXJ2aWNlcy5qcyBzaW5jZSB3ZSBkb24ndCB3YW50IG90aGVyIG1vZHVsZXMgdG9cbiAgICAvLyBpbnN0YW50aWF0ZSBvciBhY2Nlc3MgdGhlIHNlcnZpY2UuXG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IFNlcnZpY2VzLmV4dGVuc2lvbnNGb3Iod2luKTtcbiAgICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2Mobm9kZU9yRG9jKTtcbiAgICByZXR1cm4gZXh0ZW5zaW9ucy5pbnN0YWxsRXh0ZW5zaW9uRm9yRG9jKGFtcGRvYywgRVhURU5TSU9OKVxuICAgICAgICAudGhlbigoKSA9PiAvKiogQHR5cGUgeyFQcm9taXNlPCFWaWRlb1NlcnZpY2VEZWY+fSAqLyAoXG4gICAgICAgICAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoYW1wZG9jLCAndmlkZW8tc2VydmljZScsIEVYVEVOU0lPTikpKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVnaXN0ZXIodmlkZW8pIHtcbiAgICB0aGlzLmFzeW5jSW1wbF8udGhlbihpbXBsID0+XG4gICAgICBpbXBsLnJlZ2lzdGVyKHZpZGVvKSk7XG5cbiAgICB0aGlzLm1heWJlSW5zdGFsbEF1dG9wbGF5Xyh2aWRlbyk7XG5cbiAgICBuZXcgVmlkZW9FbnRyeSh2aWRlbyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7IS4uL3ZpZGVvLWludGVyZmFjZS5WaWRlb09yQmFzZUVsZW1lbnREZWZ9IHZpZGVvXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtYXliZUluc3RhbGxBdXRvcGxheV8odmlkZW8pIHtcbiAgICBpZiAoIXZpZGVvLmVsZW1lbnQuaGFzQXR0cmlidXRlKFZpZGVvQXR0cmlidXRlcy5BVVRPUExBWSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmdldEF1dG9wbGF5XygpLnJlZ2lzdGVyKHZpZGVvKTtcblxuICAgIGNvbnN0IGF1dG9wbGF5RGVsZWdhdGVkID0gVmlkZW9TZXJ2aWNlU2lnbmFscy5BVVRPUExBWV9ERUxFR0FURUQ7XG4gICAgdmlkZW8uc2lnbmFscygpLndoZW5TaWduYWwoYXV0b3BsYXlEZWxlZ2F0ZWQpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5nZXRBdXRvcGxheV8oKS5kZWxlZ2F0ZSh2aWRlby5lbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBbXBFbGVtZW50fCEuLi9iYXNlLWVsZW1lbnQuQmFzZUVsZW1lbnR9IHZpZGVvXG4gICAqL1xuICBzdGF0aWMgZGVsZWdhdGVBdXRvcGxheSh2aWRlbykge1xuICAgIHZpZGVvLnNpZ25hbHMoKS5zaWduYWwoVmlkZW9TZXJ2aWNlU2lnbmFscy5BVVRPUExBWV9ERUxFR0FURUQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRBbmFseXRpY3NEZXRhaWxzKHZpZGVvKSB7XG4gICAgcmV0dXJuIHRoaXMuYXN5bmNJbXBsXy50aGVuKGltcGwgPT5cbiAgICAgIGltcGwuZ2V0QW5hbHl0aWNzRGV0YWlscyh2aWRlbykpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpc011dGVkKHVudXNlZFZpZGVvKSB7XG4gICAgZGV2KCkud2FybihUQUcsICdpc011dGVkIGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UGxheWluZ1N0YXRlKHVudXNlZFZpZGVvKSB7XG4gICAgZGV2KCkud2FybihUQUcsICdnZXRQbGF5aW5nU3RhdGUgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gICAgcmV0dXJuIFBsYXlpbmdTdGF0ZXMuUEFVU0VEO1xuICB9XG59XG5cblxuLyoqIEB2aXNpYmxlRm9yVGVzdGluZyAqL1xuZXhwb3J0IGNsYXNzIFZpZGVvRW50cnkge1xuXG4gIC8qKiBAcGFyYW0geyEuLi92aWRlby1pbnRlcmZhY2UuVmlkZW9PckJhc2VFbGVtZW50RGVmfSB2aWRlbyAqL1xuICBjb25zdHJ1Y3Rvcih2aWRlbykge1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3ZpZGVvLWludGVyZmFjZS5WaWRlb09yQmFzZUVsZW1lbnREZWZ9ICovXG4gICAgdGhpcy52aWRlb18gPSB2aWRlbztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBbXBFbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSB2aWRlby5lbGVtZW50O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2V9ICovXG4gICAgdGhpcy5sb2FkUHJvbWlzZV8gPSBsaXN0ZW5PbmNlUHJvbWlzZSh0aGlzLmVsZW1lbnRfLCBWaWRlb0V2ZW50cy5MT0FEKTtcblxuICAgIHRoaXMubGlzdGVuVG9BdXRvcGxheUV2ZW50c18oKTtcblxuICAgIHNldFZpZGVvQ29tcG9uZW50Q2xhc3NuYW1lKHRoaXMuZWxlbWVudF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCl9IGhhbmRsZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxpc3Rlbk9uTG9hZF8oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBsaXN0ZW4odGhpcy5lbGVtZW50XywgZXZlbnQsIGUgPT4ge1xuICAgICAgdGhpcy5sb2FkUHJvbWlzZV8udGhlbigoKSA9PiB7XG4gICAgICAgIGhhbmRsZXIoZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBsaXN0ZW5Ub0F1dG9wbGF5RXZlbnRzXygpIHtcbiAgICAvLyBUT0RPKGFsYW5vcm96Y28pOiBLZWVwIHRyYWNrIG9mIHNlc3Npb25cbiAgICB0aGlzLmxpc3Rlbk9uTG9hZF8oQXV0b3BsYXlFdmVudHMuUExBWSwgKCkgPT4ge1xuICAgICAgdGhpcy52aWRlb18ucGxheSgvKiBhdXRvICovIHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5saXN0ZW5PbkxvYWRfKEF1dG9wbGF5RXZlbnRzLlBBVVNFLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZGVvXy5wYXVzZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VmlkZW9Db21wb25lbnRDbGFzc25hbWUoZWxlbWVudCkge1xuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC12aWRlby1jb21wb25lbnQnKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBNSU5fVklTSUJJTElUWV9SQVRJT19GT1JfQVVUT1BMQVksXG4gIFZpZGVvRXZlbnRzLFxufSBmcm9tICcuLi8uLi92aWRlby1pbnRlcmZhY2UnO1xuaW1wb3J0IHtcbiAgUG9zaXRpb25PYnNlcnZlckZpZGVsaXR5LFxufSBmcm9tICcuLi9wb3NpdGlvbi1vYnNlcnZlci9wb3NpdGlvbi1vYnNlcnZlci13b3JrZXInO1xuaW1wb3J0IHtTZXJ2aWNlc30gZnJvbSAnLi4vLi4vc2VydmljZXMnO1xuaW1wb3J0IHtWaWRlb1NlcnZpY2VTaWduYWxzfSBmcm9tICcuLi92aWRlby1zZXJ2aWNlLWludGVyZmFjZSc7XG5pbXBvcnQge1ZpZGVvVXRpbHN9IGZyb20gJy4uLy4uL3V0aWxzL3ZpZGVvJztcbmltcG9ydCB7ZGV2fSBmcm9tICcuLi8uLi9sb2cnO1xuaW1wb3J0IHtnZXREYXRhLCBsaXN0ZW4sIGxpc3Rlbk9uY2V9IGZyb20gJy4uLy4uL2V2ZW50LWhlbHBlcic7XG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4uLy4uL21vZGUnO1xuaW1wb3J0IHtnZXRTZXJ2aWNlRm9yRG9jfSBmcm9tICcuLi8uLi9zZXJ2aWNlJztcbmltcG9ydCB7aHRtbEZvcn0gZnJvbSAnLi4vLi4vc3RhdGljLXRlbXBsYXRlJztcbmltcG9ydCB7aW5zdGFsbEF1dG9wbGF5U3R5bGVzRm9yRG9jfSBmcm9tICcuL2luc3RhbGwtYXV0b3BsYXktc3R5bGVzJztcbmltcG9ydCB7XG4gIGluc3RhbGxQb3NpdGlvbk9ic2VydmVyU2VydmljZUZvckRvYyxcbn0gZnJvbSAnLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbCc7XG5pbXBvcnQge2lzRmluaXRlTnVtYmVyfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge29uY2V9IGZyb20gJy4uLy4uL3V0aWxzL2Z1bmN0aW9uJztcbmltcG9ydCB7cmVtb3ZlRWxlbWVudH0gZnJvbSAnLi4vLi4vZG9tJztcblxuXG4vKiogQHByaXZhdGUgQGVudW0ge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBBdXRvcGxheUV2ZW50cyA9IHtcbiAgUExBWTogJ2FtcDphdXRvcGxheScsXG4gIFBBVVNFOiAnYW1wOmF1dG9wYXVzZScsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjbG9uZURlZXAobm9kZSkge1xuICByZXR1cm4gZGV2KCkuYXNzZXJ0RWxlbWVudChub2RlLmNsb25lTm9kZSgvKiBkZWVwICovIHRydWUpKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIVdpbmRvdywgIUVsZW1lbnQpOiFFbGVtZW50fSByZW5kZXJGblxuICogQHJldHVybiB7ZnVuY3Rpb24oIVdpbmRvdywgIUVsZW1lbnQpOiFFbGVtZW50fVxuICovXG5mdW5jdGlvbiByZW5kZXJPckNsb25lKHJlbmRlckZuKSB7XG4gIGNvbnN0IHNlZWRGbiA9IG9uY2UocmVuZGVyRm4pO1xuICByZXR1cm4gKHdpbiwgZG9jKSA9PiBjbG9uZURlZXAoc2VlZEZuKHdpbiwgZG9jKSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHVudXNlZFdpblxuICogQHBhcmFtIHshRWxlbWVudHwhRG9jdW1lbnR9IGVsT3JEb2NcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySW50ZXJhY3Rpb25PdmVybGF5KHVudXNlZFdpbiwgZWxPckRvYykge1xuICBjb25zdCBodG1sID0gaHRtbEZvcihlbE9yRG9jKTtcbiAgcmV0dXJuIGh0bWxgPGktYW1waHRtbC12aWRlby1tYXNrIGNsYXNzPVwiaS1hbXBodG1sLWZpbGwtY29udGVudFwiIHJvbGU9YnV0dG9uPlxuICAgIDwvaS1hbXBodG1sLXZpZGVvLW1hc2s+YDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFFbGVtZW50fCFEb2N1bWVudH0gZWxPckRvY1xuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJJY29uKHdpbiwgZWxPckRvYykge1xuICBjb25zdCBpY29uID0gaHRtbEZvcihlbE9yRG9jKWA8aS1hbXBodG1sLXZpZGVvLWljb24gY2xhc3M9XCJhbXAtdmlkZW8tZXFcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYW1wLXZpZGVvLWVxLWNvbFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImFtcC12aWRlby1lcS1maWxsZXJcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJhbXAtdmlkZW8tZXEtZmlsbGVyXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvaS1hbXBodG1sLXZpZGVvLWljb24+YDtcblxuICAvLyBDb3B5IGVxdWFsaXplciBjb2x1bW4gNHggYW5kIGFubm90YXRlIGZpbGxlciBwb3NpdGlvbnMgZm9yIGFuaW1hdGlvbi5cbiAgY29uc3QgZmlyc3RDb2wgPSBkZXYoKS5hc3NlcnRFbGVtZW50KGljb24uZmlyc3RFbGVtZW50Q2hpbGQpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGNvbnN0IGNvbCA9IGNsb25lRGVlcChmaXJzdENvbCk7XG4gICAgY29uc3QgZmlsbGVycyA9IGNvbC5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpbGxlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGZpbGxlciA9IGZpbGxlcnNbal07XG4gICAgICBmaWxsZXIuY2xhc3NMaXN0LmFkZChgYW1wLXZpZGVvLWVxLSR7aSArIDF9LSR7aiArIDF9YCk7XG4gICAgfVxuICAgIGljb24uYXBwZW5kQ2hpbGQoY29sKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBzZWVkIGNvbHVtbi5cbiAgcmVtb3ZlRWxlbWVudChmaXJzdENvbCk7XG5cbiAgaWYgKFNlcnZpY2VzLnBsYXRmb3JtRm9yKHdpbikuaXNJb3MoKSkge1xuICAgIC8vIGlPUyBpcyB1bmFibGUgdG8gcGF1c2UgaGFyZHdhcmUgYWNjZWxlcmF0ZWQgYW5pbWF0aW9ucy5cbiAgICBpY29uLnNldEF0dHJpYnV0ZSgndW5wYXVzYWJsZScsICcnKTtcbiAgfVxuXG4gIHJldHVybiBpY29uO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB1bnVzZWRXaW5cbiAqIEBwYXJhbSB7IUVsZW1lbnR8IURvY3VtZW50fSBlbE9yRG9jXG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuY29uc3QgcmVuZGVyT3JDbG9uZUludGVyYWN0aW9uT3ZlcmxheSA9IHJlbmRlck9yQ2xvbmUocmVuZGVySW50ZXJhY3Rpb25PdmVybGF5KTtcblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gdW51c2VkV2luXG4gKiBAcGFyYW0geyFFbGVtZW50fCFEb2N1bWVudH0gZWxPckRvY1xuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmNvbnN0IHJlbmRlck9yQ2xvbmVJY29uID0gcmVuZGVyT3JDbG9uZShyZW5kZXJJY29uKTtcblxuXG4vKiogTWFuYWdlcyBhdXRvcGxheSB2aWRlby4gKi9cbmV4cG9ydCBjbGFzcyBBdXRvcGxheSB7XG5cbiAgLyoqIEBwYXJhbSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYykge1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gKi9cbiAgICB0aGlzLmFtcGRvY18gPSBhbXBkb2M7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbC5Qb3NpdGlvbk9ic2VydmVyfVxuICAgICAqIEByZXN0cmljdGVkXG4gICAgICovXG4gICAgdGhpcy5nZXRQb3NpdGlvbk9ic2VydmVyXyA9IG9uY2UoKCkgPT4gdGhpcy5pbnN0YWxsUG9zaXRpb25PYnNlcnZlcl8oKSk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8IUF1dG9wbGF5RW50cnk+fSAqL1xuICAgIHRoaXMuZW50cmllc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFQcm9taXNlPGJvb2xlYW4+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pc1N1cHBvcnRlZF8gPSBvbmNlKCgpID0+IHtcbiAgICAgIC8vIENhbid0IGRlc3RydWN0dXJlIGFzIHRoZSBjb21waWxlciBleHBlY3RzIGRpcmVjdCBtZW1iZXIgYWNjZXNzIGZvclxuICAgICAgLy8gYGdldE1vZGVgLlxuICAgICAgY29uc3Qge3dpbn0gPSB0aGlzLmFtcGRvY187XG4gICAgICBjb25zdCBpc0xpdGUgPSBnZXRNb2RlKHdpbikubGl0ZTtcbiAgICAgIHJldHVybiBWaWRlb1V0aWxzLmlzQXV0b3BsYXlTdXBwb3J0ZWQod2luLCAvKiBpc0xpdGVNb2RlICovIGlzTGl0ZSk7XG4gICAgfSk7XG5cbiAgICBpbnN0YWxsQXV0b3BsYXlTdHlsZXNGb3JEb2ModGhpcy5hbXBkb2NfKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBpbnN0YWxsUG9zaXRpb25PYnNlcnZlcl8oKSB7XG4gICAgaW5zdGFsbFBvc2l0aW9uT2JzZXJ2ZXJTZXJ2aWNlRm9yRG9jKHRoaXMuYW1wZG9jXyk7XG4gICAgLy8gTm8gZ2V0dGVyIGluIHNlcnZpY2VzLmpzLlxuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge1xuICAgICAgICogICAhLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbC5Qb3NpdGlvbk9ic2VydmVyXG4gICAgICAgKiB9ICovIChnZXRTZXJ2aWNlRm9yRG9jKHRoaXMuYW1wZG9jXywgJ3Bvc2l0aW9uLW9ic2VydmVyJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi8uLi92aWRlby1pbnRlcmZhY2UuVmlkZW9PckJhc2VFbGVtZW50RGVmfSB2aWRlb1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/QXV0b3BsYXlFbnRyeT59IGBudWxsYCB3aGVuIHVuc3VwcG9ydGVkLlxuICAgKi9cbiAgcmVnaXN0ZXIodmlkZW8pIHtcbiAgICAvLyBDb250cm9scyBhcmUgaGlkZGVuIGJlZm9yZSBzdXBwb3J0IGlzIGRldGVybWluZWQgdG8gcHJldmVudCB2aXN1YWwganVtcFxuICAgIC8vIGZvciB0aGUgY29tbW9uIGNhc2Ugd2hlcmUgYXV0b3BsYXkgaXMgc3VwcG9ydGVkLlxuICAgIGlmICh2aWRlby5pc0ludGVyYWN0aXZlKCkpIHtcbiAgICAgIHZpZGVvLmhpZGVDb250cm9scygpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmlzU3VwcG9ydGVkXygpLnRoZW4oaXNTdXBwb3J0ZWQgPT4ge1xuICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAvLyBEaXNhYmxlIGF1dG9wbGF5XG4gICAgICAgIGlmICh2aWRlby5pc0ludGVyYWN0aXZlKCkpIHtcbiAgICAgICAgICB2aWRlby5zaG93Q29udHJvbHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gQXV0b3BsYXlFbnRyeS5jcmVhdGUodGhpcywgdmlkZW8pO1xuICAgICAgdGhpcy5lbnRyaWVzXy5wdXNoKGVudHJ5KTtcbiAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICBkZWxlZ2F0ZShlbGVtZW50KSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmdldEVudHJ5Rm9yXyhlbGVtZW50KTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVudHJ5LmRlbGVnYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHs/QXV0b3BsYXlFbnRyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEVudHJ5Rm9yXyhlbGVtZW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVudHJpZXNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50cmllc19baV07XG4gICAgICBpZiAoZW50cnkudmlkZW8uZWxlbWVudCA9PSBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuXG4vKiogQHZpc2libGVGb3JUZXN0aW5nICovXG5leHBvcnQgY2xhc3MgQXV0b3BsYXlFbnRyeSB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jXG4gICAqIEBwYXJhbSB7XG4gICAqICAgIS4uL3Bvc2l0aW9uLW9ic2VydmVyL3Bvc2l0aW9uLW9ic2VydmVyLWltcGwuUG9zaXRpb25PYnNlcnZlclxuICAgKiB9IHBvc2l0aW9uT2JzZXJ2ZXJcbiAgICogQHBhcmFtIHshLi4vLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvT3JCYXNlRWxlbWVudERlZn0gdmlkZW9cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFtcGRvYywgcG9zaXRpb25PYnNlcnZlciwgdmlkZW8pIHtcblxuICAgIC8qKiBAY29uc3QgeyEuLi8uLi92aWRlby1pbnRlcmZhY2UuVmlkZW9PckJhc2VFbGVtZW50RGVmfSAqL1xuICAgIHRoaXMudmlkZW8gPSB2aWRlbztcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL2FtcGRvYy1pbXBsLkFtcERvY30gYW1wZG9jfSAqL1xuICAgIHRoaXMuYW1wZG9jXyA9IGFtcGRvYztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBbXBFbGVtZW50fSAgKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gdmlkZW8uZWxlbWVudDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzVmlzaWJsZV8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0FycmF5PCFVbmxpc3RlbkRlZj59ICovXG4gICAgdGhpcy52aXNpYmlsaXR5VW5saXN0ZW5lcnNfID0gW1xuICAgICAgdGhpcy5vYnNlcnZlT25fKHBvc2l0aW9uT2JzZXJ2ZXIpLFxuICAgICAgdGhpcy5saXN0ZW5Ub1Zpc2liaWxpdHlDaGFuZ2VfKCksXG4gICAgXTtcblxuICAgIC8vIE9ubHkgbXV0ZWQgdmlkZW9zIGFyZSBhbGxvd2VkIHRvIGF1dG9wbGF5XG4gICAgdmlkZW8ubXV0ZSgpO1xuICAgIHZpZGVvLmhpZGVDb250cm9scygpO1xuXG4gICAgdGhpcy5hdHRhY2hBcnRpZmFjdHNfKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXV0b3BsYXl9IG1hbmFnZXJcbiAgICogQHBhcmFtIHshLi4vLi4vdmlkZW8taW50ZXJmYWNlLlZpZGVvT3JCYXNlRWxlbWVudERlZn0gdmlkZW9cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUobWFuYWdlciwgdmlkZW8pIHtcbiAgICByZXR1cm4gbmV3IEF1dG9wbGF5RW50cnkoXG4gICAgICAgIG1hbmFnZXIuYW1wZG9jXywgbWFuYWdlci5nZXRQb3NpdGlvbk9ic2VydmVyXygpLCB2aWRlbyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtcbiAgICogICAhLi4vcG9zaXRpb24tb2JzZXJ2ZXIvcG9zaXRpb24tb2JzZXJ2ZXItaW1wbC5Qb3NpdGlvbk9ic2VydmVyXG4gICAqIH0gcG9zaXRpb25PYnNlcnZlclxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvYnNlcnZlT25fKHBvc2l0aW9uT2JzZXJ2ZXIpIHtcbiAgICByZXR1cm4gcG9zaXRpb25PYnNlcnZlci5vYnNlcnZlKFxuICAgICAgICB0aGlzLmVsZW1lbnRfLFxuICAgICAgICBQb3NpdGlvbk9ic2VydmVyRmlkZWxpdHkuSElHSCxcbiAgICAgICAgKCkgPT4gdGhpcy5vblBvc2l0aW9uQ2hhbmdlXygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshVW5saXN0ZW5EZWZ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsaXN0ZW5Ub1Zpc2liaWxpdHlDaGFuZ2VfKCkge1xuICAgIHJldHVybiBsaXN0ZW4odGhpcy5lbGVtZW50XywgVmlkZW9FdmVudHMuVklTSUJJTElUWSwgZSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZ2V0RGF0YShlKTtcbiAgICAgIGNvbnN0IGVuZm9yY2VkQnlFdmVudCA9IGRhdGEgJiYgZGF0YVsndmlzaWJsZSddO1xuICAgICAgaWYgKGVuZm9yY2VkQnlFdmVudCAmJiAhdGhpcy5pc1Zpc2libGVfKSB7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlXyA9IGVuZm9yY2VkQnlFdmVudDtcbiAgICAgICAgdGhpcy50cmlnZ2VyXygvKiBpc1BsYXlpbmcgKi8gZW5mb3JjZWRCeUV2ZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy50cmlnZ2VyQnlWaXNpYmlsaXR5XygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGVnYXRlcyBhdXRvcGxheSBzbyB0aGF0IGl0J3MgdHJpZ2dlcmVkIGJ5IGEgZGlmZmVyZW50IG1vZHVsZS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZGVsZWdhdGUoKSB7XG4gICAgdGhpcy5kaXNhYmxlVHJpZ2dlckJ5VmlzaWJpbGl0eV8oKTtcbiAgICB0aGlzLnZpZGVvLnBhdXNlKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25Qb3NpdGlvbkNoYW5nZV8oKSB7XG4gICAgdGhpcy50cmlnZ2VyQnlWaXNpYmlsaXR5XygpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHRyaWdnZXJCeVZpc2liaWxpdHlfKCkge1xuICAgIGNvbnN0IHJhdGlvID0gdGhpcy5lbGVtZW50Xy5nZXRJbnRlcnNlY3Rpb25DaGFuZ2VFbnRyeSgpLmludGVyc2VjdGlvblJhdGlvO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9ICghaXNGaW5pdGVOdW1iZXIocmF0aW8pID8gMCA6IHJhdGlvKSA+PVxuICAgICAgICBNSU5fVklTSUJJTElUWV9SQVRJT19GT1JfQVVUT1BMQVk7XG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlXyA9PSBpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc1Zpc2libGVfID0gaXNWaXNpYmxlO1xuICAgIHRoaXMudHJpZ2dlcl8oLyogaXNQbGF5aW5nICovIGlzVmlzaWJsZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1BsYXlpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXJfKGlzUGxheWluZykge1xuICAgIHRoaXMuZWxlbWVudF8uZGlzcGF0Y2hDdXN0b21FdmVudChcbiAgICAgICAgaXNQbGF5aW5nID8gQXV0b3BsYXlFdmVudHMuUExBWSA6IEF1dG9wbGF5RXZlbnRzLlBBVVNFKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhdHRhY2hBcnRpZmFjdHNfKCkge1xuICAgIC8vIFRPRE8oYWxhbm9yb3pjbyk6IEFEX1NUQVJULCBBRF9FTkRcbiAgICBjb25zdCB7dmlkZW99ID0gdGhpcztcbiAgICBjb25zdCBzaWduYWxzID0gdmlkZW8uc2lnbmFscygpO1xuICAgIGNvbnN0IHVzZXJJbnRlcmFjdGVkID0gVmlkZW9TZXJ2aWNlU2lnbmFscy5VU0VSX0lOVEVSQUNURUQ7XG5cbiAgICBpZiAoc2lnbmFscy5nZXQodXNlckludGVyYWN0ZWQpICE9IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7d2lufSA9IHRoaXMuYW1wZG9jXztcblxuICAgIGNvbnN0IGljb24gPSByZW5kZXJPckNsb25lSWNvbih3aW4sIHRoaXMuZWxlbWVudF8pO1xuXG4gICAgdmlkZW8ubXV0YXRlRWxlbWVudCgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGljb24pO1xuICAgIH0pO1xuXG4gICAgY29uc3Qge2VsZW1lbnR9ID0gdmlkZW87XG4gICAgY29uc3QgcGxheU9yUGF1c2VJY29uQW5pbSA9IHRoaXMucGxheU9yUGF1c2VJY29uQW5pbV8uYmluZCh0aGlzLCBpY29uKTtcblxuICAgIGNvbnN0IHVubGlzdGVuZXJzID0gW1xuICAgICAgbGlzdGVuKGVsZW1lbnQsIFZpZGVvRXZlbnRzLlBMQVlJTkcsICgpID0+IHBsYXlPclBhdXNlSWNvbkFuaW0odHJ1ZSkpLFxuICAgICAgbGlzdGVuKGVsZW1lbnQsIFZpZGVvRXZlbnRzLlBBVVNFLCAoKSA9PiBwbGF5T3JQYXVzZUljb25BbmltKGZhbHNlKSksXG4gICAgXTtcblxuICAgIHNpZ25hbHMud2hlblNpZ25hbCh1c2VySW50ZXJhY3RlZCkudGhlbigoKSA9PiB7XG4gICAgICB1bmxpc3RlbmVycy5mb3JFYWNoKHVubGlzdGVuID0+IHVubGlzdGVuKCkpO1xuICAgICAgdGhpcy5vbkludGVyYWN0aW9uXygpO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnZpZGVvLmlzSW50ZXJhY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG92ZXJsYXkgPSByZW5kZXJPckNsb25lSW50ZXJhY3Rpb25PdmVybGF5KHdpbiwgdGhpcy5lbGVtZW50Xyk7XG5cbiAgICBsaXN0ZW5PbmNlKG92ZXJsYXksICdjbGljaycsICgpID0+IHNpZ25hbHMuc2lnbmFsKHVzZXJJbnRlcmFjdGVkKSk7XG5cbiAgICB2aWRlby5tdXRhdGVFbGVtZW50KCgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25JbnRlcmFjdGlvbl8oKSB7XG4gICAgY29uc3QgbWFzayA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignaS1hbXBodG1sLXZpZGVvLW1hc2snKTtcbiAgICB0aGlzLmRpc2FibGVUcmlnZ2VyQnlWaXNpYmlsaXR5XygpO1xuICAgIGlmIChtYXNrKSB7XG4gICAgICByZW1vdmVFbGVtZW50KG1hc2spO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWRlby5pc0ludGVyYWN0aXZlKCkpIHtcbiAgICAgIHRoaXMudmlkZW8uc2hvd0NvbnRyb2xzKCk7XG4gICAgfVxuICAgIHRoaXMudmlkZW8udW5tdXRlKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgZGlzYWJsZVRyaWdnZXJCeVZpc2liaWxpdHlfKCkge1xuICAgIGlmICghdGhpcy52aXNpYmlsaXR5VW5saXN0ZW5lcnNfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudmlzaWJpbGl0eVVubGlzdGVuZXJzXy5mb3JFYWNoKHVubGlzdGVuZXIgPT4gdW5saXN0ZW5lcigpKTtcbiAgICB0aGlzLnZpc2liaWxpdHlVbmxpc3RlbmVyc18gPSBudWxsOyAvLyBHQ1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGljb25cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1BsYXlpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBsYXlPclBhdXNlSWNvbkFuaW1fKGljb24sIGlzUGxheWluZykge1xuICAgIHRoaXMudmlkZW8ubXV0YXRlRWxlbWVudCgoKSA9PlxuICAgICAgaWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhbXAtdmlkZW8tZXEtcGxheScsIGlzUGxheWluZykpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtpbnN0YWxsU3R5bGVzRm9yRG9jfSBmcm9tICcuLi8uLi9zdHlsZS1pbnN0YWxsZXInO1xuLy8gU291cmNlIGZvciB0aGlzIGNvbnN0YW50IGlzIGNzcy92aWRlby1hdXRvcGxheS5jc3NcbmltcG9ydCB7Y3NzVGV4dH0gZnJvbSAnLi4vLi4vLi4vYnVpbGQvdmlkZW8tYXV0b3BsYXkuY3NzLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSAgeyEuLi9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbEF1dG9wbGF5U3R5bGVzRm9yRG9jKGFtcGRvYykge1xuICBpbnN0YWxsU3R5bGVzRm9yRG9jKFxuICAgICAgYW1wZG9jLFxuICAgICAgY3NzVGV4dCxcbiAgICAgIC8qIGNhbGxiYWNrICovIG51bGwsXG4gICAgICAvKiBvcHRfaXNSdW50aW1lQ3NzICovIGZhbHNlLFxuICAgICAgLyogb3B0X2V4dCAqLyAnYW1wLXZpZGVvLWF1dG9wbGF5Jyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0QW1wZG9jLFxuICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUsXG4gIGdldEV4aXN0aW5nU2VydmljZU9yTnVsbCxcbiAgZ2V0U2VydmljZSxcbiAgZ2V0U2VydmljZUZvckRvYyxcbiAgZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQsXG4gIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jLFxufSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IHtcbiAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MsXG4gIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGUsXG4gIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2MsXG4gIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2NJbkVtYmVkU2NvcGUsXG59IGZyb20gJy4vZWxlbWVudC1zZXJ2aWNlJztcblxuLyoqIEB0eXBlZGVmIHshLi4vZXh0ZW5zaW9ucy9hbXAtc3Vic2NyaXB0aW9ucy8wLjEvYW1wLXN1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uU2VydmljZX0gKi9cbmV4cG9ydCBsZXQgU3Vic2NyaXB0aW9uU2VydmljZTtcblxuZXhwb3J0IGNsYXNzIFNlcnZpY2VzIHtcbiAgLyoqXG4gICAqIEhpbnQ6IEFkZCBleHRlbnNpb25zIGZvbGRlciBwYXRoIHRvIGNvbXBpbGUuanMgd2l0aFxuICAgKiB3YXJuaW5ncyBjYW5ub3QgZmluZCBtb2R1bGVzLlxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBBY2Nlc3Mgc2VydmljZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC1hY2Nlc3MvMC4xL2FtcC1hY2Nlc3MuQWNjZXNzU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgYWNjZXNzU2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLWFjY2Vzcy8wLjEvYW1wLWFjY2Vzcy5BY2Nlc3NTZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnYWNjZXNzJywgJ2FtcC1hY2Nlc3MnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgQWNjZXNzIHNlcnZpY2Ugb3IgYSBwcm9taXNlIGZvciBudWxsIGlmIHRoZVxuICAgKiBzZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUgb24gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1hY2Nlc3MvMC4xL2FtcC1hY2Nlc3MuQWNjZXNzU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgYWNjZXNzU2VydmljZUZvckRvY09yTnVsbChlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLWFjY2Vzcy8wLjEvYW1wLWFjY2Vzcy5BY2Nlc3NTZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdhY2Nlc3MnLFxuICAgICAgICAgICdhbXAtYWNjZXNzJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIFN1YnNjcmlwdGlvbnMgc2VydmljZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFTdWJzY3JpcHRpb25TZXJ2aWNlPn1cbiAgICovXG4gIHN0YXRpYyBzdWJzY3JpcHRpb25zU2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8IVN1YnNjcmlwdGlvblNlcnZpY2U+fSAqLyAoXG4gICAgICBnZXRFbGVtZW50U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdzdWJzY3JpcHRpb25zJyxcbiAgICAgICAgICAnYW1wLXN1YnNjcmlwdGlvbnMnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgU3Vic2NyaXB0aW9ucyBzZXJ2aWNlLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8P1N1YnNjcmlwdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIHN1YnNjcmlwdGlvbnNTZXJ2aWNlRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAoLyoqIEB0eXBlIHshUHJvbWlzZTw/U3Vic2NyaXB0aW9uU2VydmljZT59ICovIChcbiAgICAgIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgICAgJ2FtcC1zdWJzY3JpcHRpb25zJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmxpa2UgbW9zdCBzZXJ2aWNlIGdldHRlcnMsIHBhc3NpbmcgYE5vZGVgIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBGSUUtc2NvcGVcbiAgICogc2VydmljZXMgc2luY2Ugc29tZXRpbWVzIHdlIG9ubHkgaGF2ZSB0aGUgRklFIERvY3VtZW50IGZvciBjb250ZXh0LlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25TZXJ2aWNlfVxuICAgKi9cbiAgc3RhdGljIGFjdGlvblNlcnZpY2VGb3JEb2Mobm9kZU9yRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9hY3Rpb24taW1wbC5BY3Rpb25TZXJ2aWNlfSAqLyAoXG4gICAgICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgbm9kZU9yRG9jLCAnYWN0aW9uJywgLyogb3B0X2ZhbGxiYWNrVG9Ub3BXaW4gKi8gdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQWN0aXZpdHk+fVxuICAgKi9cbiAgc3RhdGljIGFjdGl2aXR5Rm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCFBY3Rpdml0eT59ICovIChcbiAgICAgIGdldEVsZW1lbnRTZXJ2aWNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgJ2FjdGl2aXR5JywgJ2FtcC1hbmFseXRpY3MnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ2xvYmFsIGluc3RhbmNlIG9mIHRoZSBgQW1wRG9jU2VydmljZWAgc2VydmljZSB0aGF0IGNhbiBiZVxuICAgKiB1c2VkIHRvIHJlc29sdmUgYW4gYW1wZG9jIGZvciBhbnkgbm9kZTogZWl0aGVyIGluIHRoZSBzaW5nbGUtZG9jIG9yXG4gICAqIHNoYWRvdy1kb2MgZW52aXJvbm1lbnQuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jU2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBhbXBkb2NTZXJ2aWNlRm9yKHdpbmRvdykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jU2VydmljZX0gKi8gKFxuICAgICAgZ2V0U2VydmljZSh3aW5kb3csICdhbXBkb2MnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgQW1wRG9jIGZvciB0aGUgc3BlY2lmaWVkIGNvbnRleHQgbm9kZS5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfVxuICAgKi9cbiAgc3RhdGljIGFtcGRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gZ2V0QW1wZG9jKGVsZW1lbnRPckFtcERvYyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGxvYWRBbmFseXRpY3NcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLWFuYWx5dGljcy8wLjEvaW5zdHJ1bWVudGF0aW9uLkluc3RydW1lbnRhdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIGFuYWx5dGljc0ZvckRvYyhlbGVtZW50T3JBbXBEb2MsIGxvYWRBbmFseXRpY3MgPSBmYWxzZSkge1xuICAgIGlmIChsb2FkQW5hbHl0aWNzKSB7XG4gICAgICAvLyBHZXQgRXh0ZW5zaW9ucyBzZXJ2aWNlIGFuZCBmb3JjZSBsb2FkIGFuYWx5dGljcyBleHRlbnNpb24uXG4gICAgICBjb25zdCBhbXBkb2MgPSBnZXRBbXBkb2MoZWxlbWVudE9yQW1wRG9jKTtcbiAgICAgIFNlcnZpY2VzLmV4dGVuc2lvbnNGb3IoYW1wZG9jLndpbikuLypPSyovaW5zdGFsbEV4dGVuc2lvbkZvckRvYyhcbiAgICAgICAgICBhbXBkb2MsICdhbXAtYW5hbHl0aWNzJyk7XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC1hbmFseXRpY3MvMC4xL2luc3RydW1lbnRhdGlvbi5JbnN0cnVtZW50YXRpb25TZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnYW1wLWFuYWx5dGljcy1pbnN0cnVtZW50YXRpb24nLFxuICAgICAgICAgICdhbXAtYW5hbHl0aWNzJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtYW5hbHl0aWNzLzAuMS9pbnN0cnVtZW50YXRpb24uSW5zdHJ1bWVudGF0aW9uU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgYW5hbHl0aWNzRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1hbmFseXRpY3MvMC4xL2luc3RydW1lbnRhdGlvbi5JbnN0cnVtZW50YXRpb25TZXJ2aWNlPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsXG4gICAgICAgICAgJ2FtcC1hbmFseXRpY3MtaW5zdHJ1bWVudGF0aW9uJywgJ2FtcC1hbmFseXRpY3MnKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5kb3dcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9iYXRjaGVkLXhoci1pbXBsLkJhdGNoZWRYaHJ9XG4gICAqL1xuICBzdGF0aWMgYmF0Y2hlZFhockZvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL2JhdGNoZWQteGhyLWltcGwuQmF0Y2hlZFhocn0gKi8gKFxuICAgICAgZ2V0U2VydmljZSh3aW5kb3csICdiYXRjaGVkLXhocicpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLWJpbmQvMC4xL2JpbmQtaW1wbC5CaW5kPn1cbiAgICovXG4gIHN0YXRpYyBiaW5kRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1iaW5kLzAuMS9iaW5kLWltcGwuQmluZD59ICovIChcbiAgICAgIGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGVGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgZWxlbWVudE9yQW1wRG9jLCAnYmluZCcsICdhbXAtYmluZCcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4vc2VydmljZS9jaWQtaW1wbC5DaWQ+fVxuICAgKi9cbiAgc3RhdGljIGNpZEZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTwhLi9zZXJ2aWNlL2NpZC1pbXBsLkNpZD59ICovIChcbiAgICAgIGdldFNlcnZpY2VQcm9taXNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgJ2NpZCcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9uYXZpZ2F0aW9uLk5hdmlnYXRpb259XG4gICAqL1xuICBzdGF0aWMgbmF2aWdhdGlvbkZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL25hdmlnYXRpb24uTmF2aWdhdGlvbn0gKi8gKFxuICAgICAgZ2V0U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICduYXZpZ2F0aW9uJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvY3J5cHRvLWltcGwuQ3J5cHRvfVxuICAgKi9cbiAgc3RhdGljIGNyeXB0b0Zvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IS4vc2VydmljZS9jcnlwdG8taW1wbC5DcnlwdG99ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAnY3J5cHRvJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9kb2N1bWVudC1pbmZvLWltcGwuRG9jdW1lbnRJbmZvRGVmfSBJbmZvIGFib3V0IHRoZSBkb2NcbiAgICovXG4gIHN0YXRpYyBkb2N1bWVudEluZm9Gb3JEb2MoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9kb2N1bWVudC1pbmZvLWltcGwuRG9jSW5mb30gKi8gKFxuICAgICAgZ2V0U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdkb2N1bWVudEluZm8nKSkuZ2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5kb3dcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9kb2N1bWVudC1zdGF0ZS5Eb2N1bWVudFN0YXRlfVxuICAgKi9cbiAgc3RhdGljIGRvY3VtZW50U3RhdGVGb3Iod2luZG93KSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2Uod2luZG93LCAnZG9jdW1lbnRTdGF0ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvZXh0ZW5zaW9ucy1pbXBsLkV4dGVuc2lvbnN9XG4gICAqL1xuICBzdGF0aWMgZXh0ZW5zaW9uc0Zvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL2V4dGVuc2lvbnMtaW1wbC5FeHRlbnNpb25zfSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlKHdpbmRvdywgJ2V4dGVuc2lvbnMnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBzZXJ2aWNlIGltcGxlbWVudGVkIGluIHNlcnZpY2UvaGlzdG9yeS1pbXBsLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS9oaXN0b3J5LWltcGwuSGlzdG9yeX1cbiAgICovXG4gIHN0YXRpYyBoaXN0b3J5Rm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvaGlzdG9yeS1pbXBsLkhpc3Rvcnl9ICovIChcbiAgICAgIGdldFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnaGlzdG9yeScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshLi9pbnB1dC5JbnB1dH1cbiAgICovXG4gIHN0YXRpYyBpbnB1dEZvcih3aW4pIHtcbiAgICByZXR1cm4gZ2V0U2VydmljZSh3aW4sICdpbnB1dCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL2xheWVycy1pbXBsLkxheW91dExheWVyc31cbiAgICovXG4gIHN0YXRpYyBsYXllcnNGb3JEb2MoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9sYXllcnMtaW1wbC5MYXlvdXRMYXllcnN9ICovIChcbiAgICAgIGdldFNlcnZpY2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAnbGF5ZXJzJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvcGVyZm9ybWFuY2UtaW1wbC5QZXJmb3JtYW5jZX1cbiAgICovXG4gIHN0YXRpYyBwZXJmb3JtYW5jZUZvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL3BlcmZvcm1hbmNlLWltcGwuUGVyZm9ybWFuY2V9Ki8gKFxuICAgICAgZ2V0U2VydmljZSh3aW5kb3csICdwZXJmb3JtYW5jZScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpbmRvd1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3BlcmZvcm1hbmNlLWltcGwuUGVyZm9ybWFuY2V9XG4gICAqL1xuICBzdGF0aWMgcGVyZm9ybWFuY2VGb3JPck51bGwod2luZG93KSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9wZXJmb3JtYW5jZS1pbXBsLlBlcmZvcm1hbmNlfSovIChcbiAgICAgIGdldEV4aXN0aW5nU2VydmljZU9yTnVsbCh3aW5kb3csICdwZXJmb3JtYW5jZScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpbmRvd1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3BsYXRmb3JtLWltcGwuUGxhdGZvcm19XG4gICAqL1xuICBzdGF0aWMgcGxhdGZvcm1Gb3Iod2luZG93KSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9wbGF0Zm9ybS1pbXBsLlBsYXRmb3JtfSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlKHdpbmRvdywgJ3BsYXRmb3JtJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXMgZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQoKSBzaW5jZSBSZXNvdXJjZXMgaXMgYSBzdGFydHVwIHNlcnZpY2UuXG4gICAqIEBwYXJhbSB7IU5vZGV8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IG5vZGVPckRvY1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3Jlc291cmNlcy1pbXBsLlJlc291cmNlc31cbiAgICovXG4gIHN0YXRpYyByZXNvdXJjZXNGb3JEb2Mobm9kZU9yRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS9yZXNvdXJjZXMtaW1wbC5SZXNvdXJjZXN9ICovIChcbiAgICAgIGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKG5vZGVPckRvYywgJ3Jlc291cmNlcycpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTw/e2luY29taW5nRnJhZ21lbnQ6IHN0cmluZywgb3V0Z29pbmdGcmFnbWVudDogc3RyaW5nfT59XG4gICAqL1xuICBzdGF0aWMgc2hhcmVUcmFja2luZ0Zvck9yTnVsbCh3aW4pIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8P3tpbmNvbWluZ0ZyYWdtZW50OiBzdHJpbmcsIG91dGdvaW5nRnJhZ21lbnQ6IHN0cmluZ30+fSAqLyAoXG4gICAgICBnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlKHdpbiwgJ3NoYXJlLXRyYWNraW5nJyxcbiAgICAgICAgICAnYW1wLXNoYXJlLXRyYWNraW5nJywgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL3ZhcmlhYmxlLXNlcnZpY2UuU3RvcnlWYXJpYWJsZURlZj59XG4gICAqL1xuICBzdGF0aWMgc3RvcnlWYXJpYWJsZVNlcnZpY2VGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvdmFyaWFibGUtc2VydmljZS5TdG9yeVZhcmlhYmxlRGVmPn0gKi9cbiAgICAgIChnZXRFbGVtZW50U2VydmljZUlmQXZhaWxhYmxlKHdpbiwgJ3N0b3J5LXZhcmlhYmxlJywgJ2FtcC1zdG9yeScsXG4gICAgICAgICAgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJzaW9uIG9mIHRoZSBzdG9yeSBzdG9yZSBzZXJ2aWNlIGRlcGVuZHMgb24gd2hpY2ggdmVyc2lvbiBvZiBhbXAtc3RvcnlcbiAgICogdGhlIHB1Ymxpc2hlciBpcyBsb2FkaW5nLiBUaGV5IGFsbCBoYXZlIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIHN0b3J5U3RvcmVTZXJ2aWNlRm9yT3JOdWxsKHdpbikge1xuICAgIHJldHVybiAoXG4gICAgLyoqIEB0eXBlIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2U+fSAqL1xuICAgICAgKGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGUod2luLCAnc3Rvcnktc3RvcmUnLCAnYW1wLXN0b3J5JykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHs/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfVxuICAgKi9cbiAgc3RhdGljIHN0b3J5U3RvcmVTZXJ2aWNlKHdpbikge1xuICAgIHJldHVybiAoLyoqIEB0eXBlIHs/Li4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMS4wL2FtcC1zdG9yeS1zdG9yZS1zZXJ2aWNlLkFtcFN0b3J5U3RvcmVTZXJ2aWNlfSAqL1xuICAgICAgKGdldEV4aXN0aW5nU2VydmljZU9yTnVsbCh3aW4sICdzdG9yeS1zdG9yZScpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktcmVxdWVzdC1zZXJ2aWNlLkFtcFN0b3J5UmVxdWVzdFNlcnZpY2V9XG4gICAqL1xuICBzdGF0aWMgc3RvcnlSZXF1ZXN0U2VydmljZSh3aW4pIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9hbXAtc3RvcnktcmVxdWVzdC1zZXJ2aWNlLkFtcFN0b3J5UmVxdWVzdFNlcnZpY2V9ICovXG4gICAgICAoZ2V0RXhpc3RpbmdTZXJ2aWNlT3JOdWxsKHdpbiwgJ3N0b3J5LXJlcXVlc3QnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4geyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIGxvY2FsaXphdGlvblNlcnZpY2VGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1zdG9yeS8xLjAvbG9jYWxpemF0aW9uLkxvY2FsaXphdGlvblNlcnZpY2U+fSAqL1xuICAgICAgKGdldEVsZW1lbnRTZXJ2aWNlSWZBdmFpbGFibGUod2luLCAnbG9jYWxpemF0aW9uJywgJ2FtcC1zdG9yeScsIHRydWUpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7IS4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzEuMC9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBsb2NhbGl6YXRpb25TZXJ2aWNlKHdpbikge1xuICAgIHJldHVybiBnZXRTZXJ2aWNlKHdpbiwgJ2xvY2FsaXphdGlvbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE8oIzE0MzU3KTogUmVtb3ZlIHRoaXMgd2hlbiBhbXAtc3Rvcnk6MC4xIGlzIGRlcHJlY2F0ZWQuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4geyEuLi9leHRlbnNpb25zL2FtcC1zdG9yeS8wLjEvYW1wLXN0b3J5LXN0b3JlLXNlcnZpY2UuQW1wU3RvcnlTdG9yZVNlcnZpY2V9XG4gICAqL1xuICBzdGF0aWMgc3RvcnlTdG9yZVNlcnZpY2VWMDEod2luKSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2Uod2luLCAnc3Rvcnktc3RvcmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPKCMxNDM1Nyk6IFJlbW92ZSB0aGlzIHdoZW4gYW1wLXN0b3J5OjAuMSBpcyBkZXByZWNhdGVkLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshLi4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2FtcC1zdG9yeS1yZXF1ZXN0LXNlcnZpY2UuQW1wU3RvcnlSZXF1ZXN0U2VydmljZX1cbiAgICovXG4gIHN0YXRpYyBzdG9yeVJlcXVlc3RTZXJ2aWNlVjAxKHdpbikge1xuICAgIHJldHVybiBnZXRTZXJ2aWNlKHdpbiwgJ3N0b3J5LXJlcXVlc3QtdjAxJyk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETygjMTQzNTcpOiBSZW1vdmUgdGhpcyB3aGVuIGFtcC1zdG9yeTowLjEgaXMgZGVwcmVjYXRlZC5cbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHJldHVybiB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZT59XG4gICAqL1xuICBzdGF0aWMgbG9jYWxpemF0aW9uU2VydmljZUZvck9yTnVsbFYwMSh3aW4pIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKiBAdHlwZSB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLXN0b3J5LzAuMS9sb2NhbGl6YXRpb24uTG9jYWxpemF0aW9uU2VydmljZT59ICovXG4gICAgICAoZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sICdsb2NhbGl6YXRpb24tdjAxJywgJ2FtcC1zdG9yeScsXG4gICAgICAgICAgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPKCMxNDM1Nyk6IFJlbW92ZSB0aGlzIHdoZW4gYW1wLXN0b3J5OjAuMSBpcyBkZXByZWNhdGVkLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshLi4vZXh0ZW5zaW9ucy9hbXAtc3RvcnkvMC4xL2xvY2FsaXphdGlvbi5Mb2NhbGl6YXRpb25TZXJ2aWNlfVxuICAgKi9cbiAgc3RhdGljIGxvY2FsaXphdGlvblNlcnZpY2VWMDEod2luKSB7XG4gICAgcmV0dXJuIGdldFNlcnZpY2Uod2luLCAnbG9jYWxpemF0aW9uLXYwMScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEByZXR1cm4gez9Qcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC12aWV3ZXItaW50ZWdyYXRpb24vMC4xL3ZhcmlhYmxlLXNlcnZpY2UuVmlld2VySW50ZWdyYXRpb25WYXJpYWJsZURlZj59XG4gICAqL1xuICBzdGF0aWMgdmlld2VySW50ZWdyYXRpb25WYXJpYWJsZVNlcnZpY2VGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC12aWV3ZXItaW50ZWdyYXRpb24vMC4xL3ZhcmlhYmxlLXNlcnZpY2UuVmlld2VySW50ZWdyYXRpb25WYXJpYWJsZURlZj59ICovXG4gICAgICAoZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sICd2aWV3ZXItaW50ZWdyYXRpb24tdmFyaWFibGUnLFxuICAgICAgICAgICdhbXAtdmlld2VyLWludGVncmF0aW9uJywgdHJ1ZSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLWFuaW1hdGlvbi8wLjEvd2ViLWFuaW1hdGlvbi1zZXJ2aWNlLldlYkFuaW1hdGlvblNlcnZpY2U+fVxuICAgKi9cbiAgc3RhdGljIHdlYkFuaW1hdGlvblNlcnZpY2VGb3IoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuICgvKiogQHR5cGUgeyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC1hbmltYXRpb24vMC4xL3dlYi1hbmltYXRpb24tc2VydmljZS5XZWJBbmltYXRpb25TZXJ2aWNlPn0gKi9cbiAgICAgIChnZXRFbGVtZW50U2VydmljZUZvckRvYyhcbiAgICAgICAgICBlbGVtZW50T3JBbXBEb2MsICd3ZWItYW5pbWF0aW9uJywgJ2FtcC1hbmltYXRpb24nKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhLi9zZXJ2aWNlL3N0b3JhZ2UtaW1wbC5TdG9yYWdlPn1cbiAgICovXG4gIHN0YXRpYyBzdG9yYWdlRm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCEuL3NlcnZpY2Uvc3RvcmFnZS1pbXBsLlN0b3JhZ2U+fSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlUHJvbWlzZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICdzdG9yYWdlJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdGVtcGxhdGUtaW1wbC5UZW1wbGF0ZXN9XG4gICAqL1xuICBzdGF0aWMgdGVtcGxhdGVzRm9yKHdpbmRvdykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvdGVtcGxhdGUtaW1wbC5UZW1wbGF0ZXN9ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAndGVtcGxhdGVzJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdGltZXItaW1wbC5UaW1lcn1cbiAgICovXG4gIHN0YXRpYyB0aW1lckZvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL3RpbWVyLWltcGwuVGltZXJ9ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAndGltZXInKSk7XG4gIH1cblxuICAvKipcbiAgICogVW5saWtlIG1vc3Qgc2VydmljZSBnZXR0ZXJzLCBwYXNzaW5nIGBOb2RlYCBpcyBuZWNlc3NhcnkgZm9yIHNvbWUgRklFLXNjb3BlXG4gICAqIHNlcnZpY2VzIHNpbmNlIHNvbWV0aW1lcyB3ZSBvbmx5IGhhdmUgdGhlIEZJRSBEb2N1bWVudCBmb3IgY29udGV4dC5cbiAgICogQHBhcmFtIHshTm9kZXwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gbm9kZU9yRG9jXG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdXJsLXJlcGxhY2VtZW50cy1pbXBsLlVybFJlcGxhY2VtZW50c31cbiAgICovXG4gIHN0YXRpYyB1cmxSZXBsYWNlbWVudHNGb3JEb2Mobm9kZU9yRG9jKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IS4vc2VydmljZS91cmwtcmVwbGFjZW1lbnRzLWltcGwuVXJsUmVwbGFjZW1lbnRzfSAqLyAoXG4gICAgICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgbm9kZU9yRG9jLCAndXJsLXJlcGxhY2UnLCAvKiBvcHRfZmFsbGJhY2tUb1RvcFdpbiAqLyB0cnVlKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi9leHRlbnNpb25zL2FtcC11c2VyLW5vdGlmaWNhdGlvbi8wLjEvYW1wLXVzZXItbm90aWZpY2F0aW9uLlVzZXJOb3RpZmljYXRpb25NYW5hZ2VyPn1cbiAgICovXG4gIHN0YXRpYyB1c2VyTm90aWZpY2F0aW9uTWFuYWdlckZvckRvYyhlbGVtZW50T3JBbXBEb2MpIHtcbiAgICByZXR1cm4gKC8qKiBAdHlwZSB7IVByb21pc2U8IS4uL2V4dGVuc2lvbnMvYW1wLXVzZXItbm90aWZpY2F0aW9uLzAuMS9hbXAtdXNlci1ub3RpZmljYXRpb24uVXNlck5vdGlmaWNhdGlvbk1hbmFnZXI+fSAqL1xuICAgICAgKGdldEVsZW1lbnRTZXJ2aWNlRm9yRG9jKGVsZW1lbnRPckFtcERvYywgJ3VzZXJOb3RpZmljYXRpb25NYW5hZ2VyJyxcbiAgICAgICAgICAnYW1wLXVzZXItbm90aWZpY2F0aW9uJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGNvbnNlbnRQb2xpY3kgU2VydmljZSBvciBhIHByb21pc2UgZm9yIG51bGwgaWZcbiAgICogdGhlIHNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgY3VycmVudCBwYWdlLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBlbGVtZW50T3JBbXBEb2NcbiAgICogQHJldHVybiB7IVByb21pc2U8Py4uL2V4dGVuc2lvbnMvYW1wLWNvbnNlbnQvMC4xL2NvbnNlbnQtcG9saWN5LW1hbmFnZXIuQ29uc2VudFBvbGljeU1hbmFnZXI+fVxuICAgKi9cbiAgc3RhdGljIGNvbnNlbnRQb2xpY3lTZXJ2aWNlRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAoLyoqIEB0eXBlIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtY29uc2VudC8wLjEvY29uc2VudC1wb2xpY3ktbWFuYWdlci5Db25zZW50UG9saWN5TWFuYWdlcj59ICovXG4gICAgICAoZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsXG4gICAgICAgICAgJ2NvbnNlbnRQb2xpY3lNYW5hZ2VyJywgJ2FtcC1jb25zZW50JykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGdlbyBzZXJ2aWNlIG9yIGEgcHJvbWlzZSBmb3IgbnVsbCBpZlxuICAgKiB0aGUgc2VydmljZSBpcyBub3QgYXZhaWxhYmxlIG9uIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/Li4vZXh0ZW5zaW9ucy9hbXAtZ2VvLzAuMS9hbXAtZ2VvLkdlb0RlZj59XG4gICAqL1xuICBzdGF0aWMgZ2VvRm9yRG9jT3JOdWxsKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPD8uLi9leHRlbnNpb25zL2FtcC1nZW8vMC4xL2FtcC1nZW8uR2VvRGVmPn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZUZvckRvYyhcbiAgICAgICAgICBlbGVtZW50T3JBbXBEb2MsICdnZW8nLCAnYW1wLWdlbycsIHRydWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmxpa2UgbW9zdCBzZXJ2aWNlIGdldHRlcnMsIHBhc3NpbmcgYE5vZGVgIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBGSUUtc2NvcGVcbiAgICogc2VydmljZXMgc2luY2Ugc29tZXRpbWVzIHdlIG9ubHkgaGF2ZSB0aGUgRklFIERvY3VtZW50IGZvciBjb250ZXh0LlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS91cmwtaW1wbC5Vcmx9XG4gICAqL1xuICBzdGF0aWMgdXJsRm9yRG9jKG5vZGVPckRvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UvdXJsLWltcGwuVXJsfSAqLyAoXG4gICAgICBnZXRFeGlzdGluZ1NlcnZpY2VGb3JEb2NJbkVtYmVkU2NvcGUoXG4gICAgICAgICAgbm9kZU9yRG9jLCAndXJsJywgLyogb3B0X2ZhbGxiYWNrVG9Ub3BXaW4gKi8gdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgZXhwZXJpbWVudCB2YXJpYW50cyBvciBhIHByb21pc2UgZm9yIG51bGwgaWYgaXRcbiAgICogaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgY3VycmVudCBwYWdlLlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTw/T2JqZWN0PHN0cmluZz4+fVxuICAgKi9cbiAgc3RhdGljIHZhcmlhbnRGb3JPck51bGwod2luKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IVByb21pc2U8P09iamVjdDxzdHJpbmc+Pn0gKi8gKFxuICAgICAgZ2V0RWxlbWVudFNlcnZpY2VJZkF2YWlsYWJsZSh3aW4sICd2YXJpYW50JywgJ2FtcC1leHBlcmltZW50JywgdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGVsZW1lbnRPckFtcERvY1xuICAgKiBAcmV0dXJuIHshLi9zZXJ2aWNlL3ZpZGVvLXNlcnZpY2UtaW50ZXJmYWNlLlZpZGVvU2VydmljZUludGVyZmFjZX1cbiAgICovXG4gIHN0YXRpYyB2aWRlb01hbmFnZXJGb3JEb2MoZWxlbWVudE9yQW1wRG9jKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7IS4vc2VydmljZS92aWRlby1zZXJ2aWNlLWludGVyZmFjZS5WaWRlb1NlcnZpY2VJbnRlcmZhY2V9ICovIChcbiAgICAgICAgZ2V0U2VydmljZUZvckRvYyhlbGVtZW50T3JBbXBEb2MsICd2aWRlby1tYW5hZ2VyJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VzIGdldFNlcnZpY2VGb3JEb2NEZXByZWNhdGVkKCkgc2luY2UgVmlld2VyIGlzIGEgc3RhcnR1cCBzZXJ2aWNlLlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS92aWV3ZXItaW1wbC5WaWV3ZXJ9XG4gICAqL1xuICBzdGF0aWMgdmlld2VyRm9yRG9jKG5vZGVPckRvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyfSAqLyAoXG4gICAgICBnZXRTZXJ2aWNlRm9yRG9jRGVwcmVjYXRlZChub2RlT3JEb2MsICd2aWV3ZXInKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwcm9taXNlIGZvciB0aGUgdmlld2VyLiBUaGlzIGlzIGFuIHVudXN1YWwgY2FzZSBhbmQgbmVjZXNzYXJ5IG9ubHlcbiAgICogZm9yIHNlcnZpY2VzIHRoYXQgbmVlZCByZWZlcmVuY2UgdG8gdGhlIHZpZXdlciBiZWZvcmUgaXQgaGFzIGJlZW5cbiAgICogaW5pdGlhbGl6ZWQuIE1vc3Qgb2YgdGhlIGNvZGUsIGhvd2V2ZXIsIGp1c3Qgc2hvdWxkIHVzZSBgdmlld2VyRm9yRG9jYC5cbiAgICogQHBhcmFtIHshRWxlbWVudHwhLi9zZXJ2aWNlL2FtcGRvYy1pbXBsLkFtcERvY30gZWxlbWVudE9yQW1wRG9jXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyPn1cbiAgICovXG4gIHN0YXRpYyB2aWV3ZXJQcm9taXNlRm9yRG9jKGVsZW1lbnRPckFtcERvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCEuL3NlcnZpY2Uvdmlld2VyLWltcGwuVmlld2VyPn0gKi8gKFxuICAgICAgZ2V0U2VydmljZVByb21pc2VGb3JEb2MoZWxlbWVudE9yQW1wRG9jLCAndmlld2VyJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93XG4gICAqIEByZXR1cm4geyEuL3NlcnZpY2UvdnN5bmMtaW1wbC5Wc3luY31cbiAgICovXG4gIHN0YXRpYyB2c3luY0Zvcih3aW5kb3cpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshLi9zZXJ2aWNlL3ZzeW5jLWltcGwuVnN5bmN9ICovIChcbiAgICAgIGdldFNlcnZpY2Uod2luZG93LCAndnN5bmMnKSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlcyBnZXRTZXJ2aWNlRm9yRG9jRGVwcmVjYXRlZCgpIHNpbmNlIFZpZXdwb3J0IGlzIGEgc3RhcnR1cCBzZXJ2aWNlLlxuICAgKiBAcGFyYW0geyFOb2RlfCEuL3NlcnZpY2UvYW1wZG9jLWltcGwuQW1wRG9jfSBub2RlT3JEb2NcbiAgICogQHJldHVybiB7IS4vc2VydmljZS92aWV3cG9ydC92aWV3cG9ydC1pbXBsLlZpZXdwb3J0fVxuICAgKi9cbiAgc3RhdGljIHZpZXdwb3J0Rm9yRG9jKG5vZGVPckRvYykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2Uvdmlld3BvcnQvdmlld3BvcnQtaW1wbC5WaWV3cG9ydH0gKi8gKFxuICAgICAgZ2V0U2VydmljZUZvckRvY0RlcHJlY2F0ZWQobm9kZU9yRG9jLCAndmlld3BvcnQnKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5kb3dcbiAgICogQHJldHVybiB7IS4vc2VydmljZS94aHItaW1wbC5YaHJ9XG4gICAqL1xuICBzdGF0aWMgeGhyRm9yKHdpbmRvdykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyEuL3NlcnZpY2UveGhyLWltcGwuWGhyfSAqLyAoZ2V0U2VydmljZSh3aW5kb3csICd4aHInKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1NlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7U2hhZG93Q1NTfSBmcm9tICcuLi90aGlyZF9wYXJ0eS93ZWJjb21wb25lbnRzanMvU2hhZG93Q1NTJztcbmltcG9ydCB7XG4gIFNoYWRvd0RvbVZlcnNpb24sXG4gIGdldFNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb24sXG4gIGlzU2hhZG93Q3NzU3VwcG9ydGVkLFxuICBpc1NoYWRvd0RvbVN1cHBvcnRlZCxcbn0gZnJvbSAnLi93ZWItY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBjaGlsZEVsZW1lbnRzQnlUYWcsXG4gIGNsb3Nlc3ROb2RlLFxuICBlc2NhcGVDc3NTZWxlY3RvcklkZW50LFxuICBpdGVyYXRlQ3Vyc29yLFxuICByZW1vdmVFbGVtZW50LFxufSBmcm9tICcuL2RvbSc7XG5pbXBvcnQge2Rldn0gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtpbnN0YWxsQ3NzVHJhbnNmb3JtZXJ9IGZyb20gJy4vc3R5bGUtaW5zdGFsbGVyJztcbmltcG9ydCB7c2V0U3R5bGV9IGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IHt0b0FycmF5LCB0b1dpbn0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVXNlZCBmb3Igbm9uLWNvbXBvc2VkIHJvb3Qtbm9kZSBzZWFyY2guIFNlZSBgZ2V0Um9vdE5vZGVgLlxuICogQGNvbnN0IHshR2V0Um9vdE5vZGVPcHRpb25zfVxuICovXG5jb25zdCBVTkNPTVBPU0VEX1NFQVJDSCA9IHtjb21wb3NlZDogZmFsc2V9O1xuXG4vKiogQGNvbnN0IHshUmVnRXhwfSAqL1xuY29uc3QgQ1NTX1NFTEVDVE9SX0JFR19SRUdFWCA9IC9bXlxcLlxcLVxcXzAtOWEtekEtWl0vO1xuXG4vKiogQGNvbnN0IHshUmVnRXhwfSAqL1xuY29uc3QgQ1NTX1NFTEVDVE9SX0VORF9SRUdFWCA9IC9bXlxcLVxcXzAtOWEtekEtWl0vO1xuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAqL1xubGV0IHNoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZDtcblxuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFkb3cgcm9vdCBmb3IgdGhlIHNwZWNpZmllZCBob3N0IGFuZCByZXR1cm5zIGl0LiBQb2x5ZmlsbHNcbiAqIHNoYWRvdyByb290IGNyZWF0aW9uIGlmIG5lY2Vzc2FyeS5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGhvc3RFbGVtZW50XG4gKiBAcmV0dXJuIHshU2hhZG93Um9vdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRvd1Jvb3QoaG9zdEVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gdG9XaW4oaG9zdEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG5cbiAgY29uc3QgZXhpc3RpbmdSb290ID0gaG9zdEVsZW1lbnQuc2hhZG93Um9vdCB8fCBob3N0RWxlbWVudC5fX0FNUF9TSEFET1dfUk9PVDtcbiAgaWYgKGV4aXN0aW5nUm9vdCkge1xuICAgIGV4aXN0aW5nUm9vdC4vKk9LKi9pbm5lckhUTUwgPSAnJztcbiAgICByZXR1cm4gZXhpc3RpbmdSb290O1xuICB9XG5cbiAgbGV0IHNoYWRvd1Jvb3Q7XG4gIGNvbnN0IHNoYWRvd0RvbVN1cHBvcnRlZCA9IGdldFNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb24oKTtcbiAgaWYgKHNoYWRvd0RvbVN1cHBvcnRlZCA9PSBTaGFkb3dEb21WZXJzaW9uLlYxKSB7XG4gICAgc2hhZG93Um9vdCA9IGhvc3RFbGVtZW50LmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgaWYgKCFzaGFkb3dSb290LnN0eWxlU2hlZXRzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2hhZG93Um9vdCwgJ3N0eWxlU2hlZXRzJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgICAgaXRlcmF0ZUN1cnNvcihzaGFkb3dSb290LmNoaWxkTm9kZXMsIGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgIGl0ZW1zLnB1c2goY2hpbGQuc2hlZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzaGFkb3dEb21TdXBwb3J0ZWQgPT0gU2hhZG93RG9tVmVyc2lvbi5WMCkge1xuICAgIHNoYWRvd1Jvb3QgPSBob3N0RWxlbWVudC5jcmVhdGVTaGFkb3dSb290KCk7XG4gIH0gZWxzZSB7XG4gICAgc2hhZG93Um9vdCA9IGNyZWF0ZVNoYWRvd1Jvb3RQb2x5ZmlsbChob3N0RWxlbWVudCk7XG4gIH1cblxuICBpZiAoIWlzU2hhZG93Q3NzU3VwcG9ydGVkKCkpIHtcbiAgICBjb25zdCByb290SWQgPSBgaS1hbXBodG1sLXNkLSR7d2luLk1hdGguZmxvb3Iod2luLk1hdGgucmFuZG9tKCkgKiAxMDAwMCl9YDtcbiAgICBzaGFkb3dSb290LmlkID0gcm9vdElkO1xuICAgIHNoYWRvd1Jvb3QuaG9zdC5jbGFzc0xpc3QuYWRkKHJvb3RJZCk7XG5cbiAgICAvLyBDU1MgaXNvbGF0aW9uLlxuICAgIGluc3RhbGxDc3NUcmFuc2Zvcm1lcihzaGFkb3dSb290LCBjc3MgPT4ge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybVNoYWRvd0NzcyhzaGFkb3dSb290LCBjc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNoYWRvd1Jvb3Q7XG59XG5cblxuLyoqXG4gKiBTaGFkb3cgcm9vdCBwb2x5ZmlsbC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGhvc3RFbGVtZW50XG4gKiBAcmV0dXJuIHshU2hhZG93Um9vdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2hhZG93Um9vdFBvbHlmaWxsKGhvc3RFbGVtZW50KSB7XG4gIGNvbnN0IGRvYyA9IGhvc3RFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cbiAgLy8gSG9zdCBDU1MgcG9seWZpbGwuXG4gIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ktYW1waHRtbC1zaGFkb3ctaG9zdC1wb2x5ZmlsbCcpO1xuICBjb25zdCBob3N0U3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgaG9zdFN0eWxlLnRleHRDb250ZW50ID1cbiAgICAgICcuaS1hbXBodG1sLXNoYWRvdy1ob3N0LXBvbHlmaWxsPjpub3QoaS1hbXBodG1sLXNoYWRvdy1yb290KSdcbiAgICAgICsgJ3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSc7XG4gIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKGhvc3RTdHlsZSk7XG5cbiAgLy8gU2hhZG93IHJvb3QuXG4gIGNvbnN0IHNoYWRvd1Jvb3QgPSAvKiogQHR5cGUgeyFTaGFkb3dSb290fSAqLyAoXG4gICAgLy8gQ2FzdCB0byBTaGFkb3dSb290IGV2ZW4gdGhvdWdoIGl0IGlzIGFuIEVsZW1lbnRcbiAgICAvLyBUT0RPKEBkdm95dGVua28pIENvbnNpZGVyIHRvIHN3aXRjaCB0byBhIHR5cGUgdW5pb24gaW5zdGVhZC5cbiAgICAvKiogQHR5cGUgez99ICAqLyAoZG9jLmNyZWF0ZUVsZW1lbnQoJ2ktYW1waHRtbC1zaGFkb3ctcm9vdCcpKSk7XG4gIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKHNoYWRvd1Jvb3QpO1xuICBob3N0RWxlbWVudC5zaGFkb3dSb290ID0gaG9zdEVsZW1lbnQuX19BTVBfU0hBRE9XX1JPT1QgPSBzaGFkb3dSb290O1xuXG4gIC8vIEFQSTogaHR0cHM6Ly93d3cudzMub3JnL1RSL3NoYWRvdy1kb20vI3RoZS1zaGFkb3dyb290LWludGVyZmFjZVxuXG4gIHNoYWRvd1Jvb3QuaG9zdCA9IGhvc3RFbGVtZW50O1xuXG4gIC8vIGBnZXRFbGVtZW50QnlJZGAgaXMgcmVzb2x2ZWQgdmlhIGBxdWVyeVNlbGVjdG9yKCcjaWQnKWAuXG4gIHNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQgPSBmdW5jdGlvbihpZCkge1xuICAgIGNvbnN0IGVzY2FwZWRJZCA9IGVzY2FwZUNzc1NlbGVjdG9ySWRlbnQoaWQpO1xuICAgIHJldHVybiAvKiogQHR5cGUge0hUTUxFbGVtZW50fG51bGx9ICovIChcbiAgICAgIHNoYWRvd1Jvb3QuLypPSyovcXVlcnlTZWxlY3RvcihgIyR7ZXNjYXBlZElkfWApKTtcbiAgfTtcblxuICAvLyBUaGUgc3R5bGVTaGVldHMgcHJvcGVydHkgc2hvdWxkIGhhdmUgYSBsaXN0IG9mIGxvY2FsIHN0eWxlcy5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNoYWRvd1Jvb3QsICdzdHlsZVNoZWV0cycsIHtcbiAgICBnZXQ6ICgpID0+IHtcbiAgICAgIGlmICghZG9jLnN0eWxlU2hlZXRzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b0FycmF5KGRvYy5zdHlsZVNoZWV0cykuZmlsdGVyKFxuICAgICAgICAgIHN0eWxlU2hlZXQgPT4gc2hhZG93Um9vdC5jb250YWlucyhzdHlsZVNoZWV0Lm93bmVyTm9kZSkpO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBzaGFkb3dSb290O1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB2YWx1ZSBpcyBhY3R1YWxseSBhIGBTaGFkb3dSb290YCBub2RlLlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2hhZG93Um9vdCh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIE5vZGUubm9kZVR5cGUgPT0gRE9DVU1FTlRfRlJBR01FTlQgdG8gc3BlZWQgdXAgdGhlIHRlc3RzLiBVbmZvcnR1bmF0ZWx5LFxuICAvLyBub2RlVHlwZSBvZiBET0NVTUVOVF9GUkFHTUVOVCBpcyB1c2VkIGN1cnJlbnRseSBmb3IgU2hhZG93Um9vdCBub2Rlcy5cbiAgaWYgKHZhbHVlLnRhZ05hbWUgPT0gJ0ktQU1QSFRNTC1TSEFET1ctUk9PVCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gKHZhbHVlLm5vZGVUeXBlID09IC8qIERPQ1VNRU5UX0ZSQUdNRU5UICovIDExICYmXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBTaGFkb3dSb290XScpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHNoYWRvdyByb290IGZvciB0aGUgc3BlY2lmaWVkIG5vZGUuXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gKiBAcmV0dXJuIHs/U2hhZG93Um9vdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNoYWRvd1Jvb3ROb2RlKG5vZGUpIHtcbiAgaWYgKGlzU2hhZG93RG9tU3VwcG9ydGVkKCkgJiYgTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHs/U2hhZG93Um9vdH0gKi8gKG5vZGUuZ2V0Um9vdE5vZGUoVU5DT01QT1NFRF9TRUFSQ0gpKTtcbiAgfVxuICAvLyBQb2x5ZmlsbCBzaGFkb3cgcm9vdCBsb29rdXAuXG4gIHJldHVybiAvKiogQHR5cGUgez9TaGFkb3dSb290fSAqLyAoY2xvc2VzdE5vZGUobm9kZSwgbiA9PiBpc1NoYWRvd1Jvb3QobikpKTtcbn1cblxuXG4vKipcbiAqIEltcG9ydHMgYSBib2R5IGludG8gYSBzaGFkb3cgcm9vdCB3aXRoIHRoZSB3b3JrYXJvdW5kIGZvciBhIHBvbHlmaWxsIGNhc2UuXG4gKiBAcGFyYW0geyFTaGFkb3dSb290fSBzaGFkb3dSb290XG4gKiBAcGFyYW0geyFFbGVtZW50fSBib2R5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRlZXBcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW1wb3J0U2hhZG93Qm9keShzaGFkb3dSb290LCBib2R5LCBkZWVwKSB7XG4gIGNvbnN0IGRvYyA9IHNoYWRvd1Jvb3Qub3duZXJEb2N1bWVudDtcbiAgbGV0IHJlc3VsdEJvZHk7XG4gIGlmIChpc1NoYWRvd0Nzc1N1cHBvcnRlZCgpKSB7XG4gICAgcmVzdWx0Qm9keSA9IGRldigpLmFzc2VydEVsZW1lbnQoZG9jLmltcG9ydE5vZGUoYm9keSwgZGVlcCkpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdEJvZHkgPSBkb2MuY3JlYXRlRWxlbWVudCgnYW1wLWJvZHknKTtcbiAgICBzZXRTdHlsZShyZXN1bHRCb2R5LCAnZGlzcGxheScsICdibG9jaycpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9keS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRCb2R5LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBib2R5LmF0dHJpYnV0ZXNbMF0ubmFtZSwgYm9keS5hdHRyaWJ1dGVzWzBdLnZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGRlZXApIHtcbiAgICAgIGZvciAobGV0IG4gPSBib2R5LmZpcnN0Q2hpbGQ7ICEhbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgcmVzdWx0Qm9keS5hcHBlbmRDaGlsZChkb2MuaW1wb3J0Tm9kZShuLCB0cnVlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNldFN0eWxlKHJlc3VsdEJvZHksICdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHJlc3VsdEJvZHkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2hhZG93Um9vdCwgJ2JvZHknLCB7dmFsdWU6IHJlc3VsdEJvZHl9KTtcbiAgcmV0dXJuIHJlc3VsdEJvZHk7XG59XG5cblxuLyoqXG4gKiBJZiBuZWNlc3NhcnksIHRyYW5zZm9ybXMgQ1NTIHRvIGlzb2xhdGUgQU1QIENTUyB3aXRoaW4gdGhlIHNoYW9kdyByb290IGFuZFxuICogcmVkdWNlIHRoZSBwb3NzaWJpbGl0eSBvZiBoaWdoLWxldmVsIGNvbmZsaWN0cy5cbiAqIEBwYXJhbSB7IVNoYWRvd1Jvb3R9IHNoYWRvd1Jvb3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVNoYWRvd0NzcyhzaGFkb3dSb290LCBjc3MpIHtcbiAgcmV0dXJuIHNjb3BlU2hhZG93Q3NzKHNoYWRvd1Jvb3QsIGNzcyk7XG59XG5cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIENTUyB0byBpc29sYXRlIEFNUCBDU1Mgd2l0aGluIHRoZSBzaGFkb3cgcm9vdCBhbmQgcmVkdWNlIHRoZVxuICogcG9zc2liaWxpdHkgb2YgaGlnaC1sZXZlbCBjb25mbGljdHMuIFRoZXJlIGFyZSB0d28gdHlwZXMgb2YgdHJhbnNmb3JtYXRpb25zOlxuICogMS4gUm9vdCB0cmFuc2Zvcm1hdGlvbjogYGJvZHlgIC0+IGBhbXAtYm9keWAsIGV0Yy5cbiAqIDIuIFNjb3Bpbmc6IGBhIHt9YCAtPiBgLmktYW1waHRtbC1zZC0xMjMgYSB7fWAuXG4gKlxuICogQHBhcmFtIHshU2hhZG93Um9vdH0gc2hhZG93Um9vdFxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1xuICogQHJldHVybiB7c3RyaW5nfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY29wZVNoYWRvd0NzcyhzaGFkb3dSb290LCBjc3MpIHtcbiAgY29uc3QgaWQgPSBkZXYoKS5hc3NlcnQoc2hhZG93Um9vdC5pZCk7XG4gIGNvbnN0IGRvYyA9IHNoYWRvd1Jvb3Qub3duZXJEb2N1bWVudDtcbiAgbGV0IHJ1bGVzID0gbnVsbDtcbiAgLy8gVHJ5IHRvIHVzZSBhIHNlcGFyYXRlIGRvY3VtZW50LlxuICB0cnkge1xuICAgIHJ1bGVzID0gZ2V0U3R5bGVzaGVldFJ1bGVzKGRvYy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpLCBjc3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLlxuICB9XG4gIC8vIFRyeSB0byB1c2UgdGhlIGN1cnJlbnQgZG9jdW1lbnQuXG4gIGlmICghcnVsZXMpIHtcbiAgICB0cnkge1xuICAgICAgcnVsZXMgPSBnZXRTdHlsZXNoZWV0UnVsZXMoZG9jLCBjc3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZS5cbiAgICB9XG4gIH1cblxuICAvLyBObyBydWxlcyBjb3VsZCBiZSBwYXJzZWQgLSByZXR1cm4gY3NzIGFzIGlzLlxuICBpZiAoIXJ1bGVzKSB7XG4gICAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIC8vIFBhdGNoIHNlbGVjdG9ycy5cbiAgLy8gSW52b2tlIGBTaGFkb3dDU1Muc2NvcGVSdWxlc2AgdmlhIGBjYWxsYCBiZWNhdXNlIHRoZSB3YXkgaXQgdXNlcyBgdGhpc2BcbiAgLy8gaW50ZXJuYWxseSBjb25mbGljdHMgd2l0aCBDbG9zdXJlIGNvbXBpbGVyJ3MgYWR2YW5jZWQgb3B0aW1pemF0aW9ucy5cbiAgY29uc3Qge3Njb3BlUnVsZXN9ID0gU2hhZG93Q1NTO1xuICByZXR1cm4gc2NvcGVSdWxlcy5jYWxsKFNoYWRvd0NTUywgcnVsZXMsIGAuJHtpZH1gLCB0cmFuc2Zvcm1Sb290U2VsZWN0b3JzKTtcbn1cblxuXG4vKipcbiAqIFJlcGxhY2VzIHRvcC1sZXZlbCBzZWxlY3RvcnMgc3VjaCBhcyBgaHRtbGAgYW5kIGBib2R5YCB3aXRoIHRoZWlyIHBvbHlmaWxsXG4gKiBjb3VudGVycGFydHM6IGBhbXAtaHRtbGAgYW5kIGBhbXAtYm9keWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtUm9vdFNlbGVjdG9ycyhzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IucmVwbGFjZSgvKGh0bWx8Ym9keSkvZywgcm9vdFNlbGVjdG9yUHJlZml4ZXIpO1xufVxuXG5cbi8qKlxuICogU2VlIGB0cmFuc2Zvcm1Sb290U2VsZWN0b3JzYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcm9vdFNlbGVjdG9yUHJlZml4ZXIobWF0Y2gsIG5hbWUsIHBvcywgc2VsZWN0b3IpIHtcbiAgY29uc3QgcHJldiA9IHNlbGVjdG9yLmNoYXJBdChwb3MgLSAxKTtcbiAgY29uc3QgbmV4dCA9IHNlbGVjdG9yLmNoYXJBdChwb3MgKyBtYXRjaC5sZW5ndGgpO1xuICBpZiAoKCFwcmV2IHx8IENTU19TRUxFQ1RPUl9CRUdfUkVHRVgudGVzdChwcmV2KSkgJiZcbiAgICAgICghbmV4dCB8fCBDU1NfU0VMRUNUT1JfRU5EX1JFR0VYLnRlc3QobmV4dCkpKSB7XG4gICAgcmV0dXJuICdhbXAtJyArIG1hdGNoO1xuICB9XG4gIHJldHVybiBtYXRjaDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NcbiAqIEByZXR1cm4gez9DU1NSdWxlTGlzdH1cbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVzaGVldFJ1bGVzKGRvYywgY3NzKSB7XG4gIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLi8qT0sqL3RleHRDb250ZW50ID0gY3NzO1xuICB0cnkge1xuICAgIChkb2MuaGVhZCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgaWYgKHN0eWxlLnNoZWV0KSB7XG4gICAgICByZXR1cm4gc3R5bGUuc2hlZXQuY3NzUnVsZXM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChzdHlsZS5wYXJlbnROb2RlKSB7XG4gICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IHZhbFxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaGFkb3dEb21TdHJlYW1pbmdTdXBwb3J0ZWRGb3JUZXN0aW5nKHZhbCkge1xuICBzaGFkb3dEb21TdHJlYW1pbmdTdXBwb3J0ZWQgPSB2YWw7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgU2hhZG93IERPTSBzdHJlYW1pbmcgaXMgc3VwcG9ydGVkLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCh3aW4pIHtcbiAgaWYgKHNoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc2hhZG93RG9tU3RyZWFtaW5nU3VwcG9ydGVkID0gY2FsY1NoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCh3aW4pO1xuICB9XG4gIHJldHVybiBzaGFkb3dEb21TdHJlYW1pbmdTdXBwb3J0ZWQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FsY1NoYWRvd0RvbVN0cmVhbWluZ1N1cHBvcnRlZCh3aW4pIHtcbiAgLy8gQVBJIG11c3QgYmUgc3VwcG9ydGVkLlxuICBpZiAoIXdpbi5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbiB8fFxuICAgICAgdHlwZW9mIHdpbi5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBGaXJlZm94IGRvZXMgbm90IHN1cHBvcnQgRE9NIHN0cmVhbWluZy5cbiAgLy8gU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04NjcxMDJcbiAgaWYgKFNlcnZpY2VzLnBsYXRmb3JtRm9yKHdpbikuaXNGaXJlZm94KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGZ1bGwgc3RyZWFtaW5nIHN1cHBvcnQuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgU2hhZG93IERPTSB3cml0ZXIgYXZhaWxhYmxlIG9uIHRoaXMgcGxhdGZvcm0uXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7IVNoYWRvd0RvbVdyaXRlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRvd0RvbVdyaXRlcih3aW4pIHtcbiAgaWYgKGlzU2hhZG93RG9tU3RyZWFtaW5nU3VwcG9ydGVkKHdpbikpIHtcbiAgICByZXR1cm4gbmV3IFNoYWRvd0RvbVdyaXRlclN0cmVhbWVyKHdpbik7XG4gIH1cbiAgcmV0dXJuIG5ldyBTaGFkb3dEb21Xcml0ZXJCdWxrKHdpbik7XG59XG5cblxuLyoqXG4gKiBUYWtlcyBhcyBhbiBpbnB1dCBhIHRleHQgc3RyZWFtLCBwYXJzZXMgaXQgYW5kIGluY3JlbWVudGFsbHkgcmVjb25zdHJ1Y3RzXG4gKiBpdCBpbiB0aGUgc2hhZG93IHJvb3QuXG4gKlxuICogU2VlIGh0dHBzOi8vamFrZWFyY2hpYmFsZC5jb20vMjAxNi9mdW4taGFja3MtZmFzdGVyLWNvbnRlbnQvIGZvciBtb3JlXG4gKiBkZXRhaWxzLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqIEBleHRlbmRzIHtXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJ9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIFNoYWRvd0RvbVdyaXRlciB7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBib2R5IGhhcyBiZWVuIHBhcnNlZC5cbiAgICpcbiAgICogVW5saWtlIG1vc3Qgb2Ygb3RoZXIgbm9kZXMsIGA8Ym9keT5gIGNhbm5vdCBiZSBzaW1wbHkgbWVyZ2VkIHRvIHN1cHBvcnRcbiAgICogU0QgcG9seWZpbGwgd2hlcmUgdGhlIHVzZSBvZiBgPGJvZHk+YCBlbGVtZW50IGlzIG5vdCBwb3NzaWJsZS4gVGhlXG4gICAqIGNhbGxiYWNrIHdpbGwgYmUgZ2l2ZW4gdGhlIHBhcnNlZCBkb2N1bWVudCBhbmQgaXQgbXVzdCByZXR1cm4gYmFja1xuICAgKiB0aGUgcmVjb25zdHJ1Y3RlZCBgPGJvZHk+YCBub2RlIGluIHRoZSB0YXJnZXQgRE9NIHdoZXJlIGFsbCBjaGlsZHJlblxuICAgKiB3aWxsIGJlIHN0cmVhbWVkIGludG8uXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIURvY3VtZW50KTohRWxlbWVudH0gdW51c2VkQ2FsbGJhY2tcbiAgICovXG4gIG9uQm9keSh1bnVzZWRDYWxsYmFjaykge31cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIG5ldyBub2RlcyBoYXZlIGJlZW4gbWVyZ2VkXG4gICAqIGludG8gdGhlIHRhcmdldCBET00uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gdW51c2VkQ2FsbGJhY2tcbiAgICovXG4gIG9uQm9keUNodW5rKHVudXNlZENhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIERPTSBoYXMgYmVlbiBmdWxseVxuICAgKiBjb25zdHJ1Y3RlZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSB1bnVzZWRDYWxsYmFja1xuICAgKi9cbiAgb25FbmQodW51c2VkQ2FsbGJhY2spIHt9XG59XG5cblxuLyoqXG4gKiBUYWtlcyBhcyBhbiBpbnB1dCBhIHRleHQgc3RyZWFtLCBwYXJzZXMgaXQgYW5kIGluY3JlbWVudGFsbHkgcmVjb25zdHJ1Y3RzXG4gKiBpdCBpbiB0aGUgc2hhZG93IHJvb3QuXG4gKlxuICogU2VlIGh0dHBzOi8vamFrZWFyY2hpYmFsZC5jb20vMjAxNi9mdW4taGFja3MtZmFzdGVyLWNvbnRlbnQvIGZvciBtb3JlXG4gKiBkZXRhaWxzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtTaGFkb3dEb21Xcml0ZXJ9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIFNoYWRvd0RvbVdyaXRlclN0cmVhbWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshRG9jdW1lbnR9ICovXG4gICAgdGhpcy5wYXJzZXJfID0gd2luLmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gICAgdGhpcy5wYXJzZXJfLm9wZW4oKTtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgKi9cbiAgICB0aGlzLnZzeW5jXyA9IFNlcnZpY2VzLnZzeW5jRm9yKHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0ICovXG4gICAgdGhpcy5ib3VuZE1lcmdlXyA9IHRoaXMubWVyZ2VfLmJpbmQodGhpcyk7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbighRG9jdW1lbnQpOiFFbGVtZW50fSAqL1xuICAgIHRoaXMub25Cb2R5XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigpfSAqL1xuICAgIHRoaXMub25Cb2R5Q2h1bmtfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Z1bmN0aW9uKCl9ICovXG4gICAgdGhpcy5vbkVuZF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMubWVyZ2VTY2hlZHVsZWRfID0gZmFsc2U7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLnN1Y2Nlc3NfID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5lb2ZfID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMudGFyZ2V0Qm9keV8gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvbkJvZHkoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uQm9keV8gPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Cb2R5Q2h1bmsoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uQm9keUNodW5rXyA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvbkVuZChjYWxsYmFjaykge1xuICAgIHRoaXMub25FbmRfID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHdyaXRlKGNodW5rKSB7XG4gICAgaWYgKHRoaXMuZW9mXykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbG9zZWQgYWxyZWFkeScpO1xuICAgIH1cbiAgICBpZiAoY2h1bmspIHtcbiAgICAgIHRoaXMucGFyc2VyXy53cml0ZSgvKiogQHR5cGUge3N0cmluZ30gKi8gKGNodW5rKSk7XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGVfKCk7XG4gICAgcmV0dXJuIHRoaXMuc3VjY2Vzc187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMucGFyc2VyXy5jbG9zZSgpO1xuICAgIHRoaXMuZW9mXyA9IHRydWU7XG4gICAgdGhpcy5zY2hlZHVsZV8oKTtcbiAgICByZXR1cm4gdGhpcy5zdWNjZXNzXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWJvcnQodW51c2VkUmVhc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVsZWFzZUxvY2soKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXQgZGVzaXJlZFNpemUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IHJlYWR5KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc2NoZWR1bGVfKCkge1xuICAgIGRldigpLmFzc2VydCh0aGlzLm9uQm9keV8gJiYgdGhpcy5vbkJvZHlDaHVua18gJiYgdGhpcy5vbkVuZF8pO1xuICAgIGlmICghdGhpcy5tZXJnZVNjaGVkdWxlZF8pIHtcbiAgICAgIHRoaXMubWVyZ2VTY2hlZHVsZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMudnN5bmNfLm11dGF0ZSh0aGlzLmJvdW5kTWVyZ2VfKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgbWVyZ2VfKCkge1xuICAgIHRoaXMubWVyZ2VTY2hlZHVsZWRfID0gZmFsc2U7XG5cbiAgICAvLyBCb2R5IGhhcyBiZWVuIG5ld2x5IHBhcnNlZC5cbiAgICBpZiAoIXRoaXMudGFyZ2V0Qm9keV8gJiYgdGhpcy5wYXJzZXJfLmJvZHkpIHtcbiAgICAgIHRoaXMudGFyZ2V0Qm9keV8gPSB0aGlzLm9uQm9keV8odGhpcy5wYXJzZXJfKTtcbiAgICB9XG5cbiAgICAvLyBNZXJnZSBib2R5IGNoaWxkcmVuLlxuICAgIGlmICh0aGlzLnRhcmdldEJvZHlfKSB7XG4gICAgICBjb25zdCBpbnB1dEJvZHkgPSAvKiogQHR5cGUgIUVsZW1lbnQgKi8oZGV2KCkuYXNzZXJ0KHRoaXMucGFyc2VyXy5ib2R5KSk7XG4gICAgICBjb25zdCB0YXJnZXRCb2R5ID0gZGV2KCkuYXNzZXJ0KHRoaXMudGFyZ2V0Qm9keV8pO1xuICAgICAgbGV0IHRyYW5zZmVyQ291bnQgPSAwO1xuICAgICAgcmVtb3ZlTm9TY3JpcHRFbGVtZW50cyhpbnB1dEJvZHkpO1xuICAgICAgd2hpbGUgKGlucHV0Qm9keS5maXJzdENoaWxkKSB7XG4gICAgICAgIHRyYW5zZmVyQ291bnQrKztcbiAgICAgICAgdGFyZ2V0Qm9keS5hcHBlbmRDaGlsZChpbnB1dEJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmZXJDb3VudCA+IDApIHtcbiAgICAgICAgdGhpcy5vbkJvZHlDaHVua18oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFT0YuXG4gICAgaWYgKHRoaXMuZW9mXykge1xuICAgICAgdGhpcy5vbkVuZF8oKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFRha2VzIGFzIGFuIGlucHV0IGEgdGV4dCBzdHJlYW0sIGFnZ3JlZ2F0ZXMgaXQgYW5kIHBhcnNlcyBpdCBpbiBvbmUgYnVsay5cbiAqIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGFnYWluc3QgdGhlIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgc3RyZWFtaW5nIERPTVxuICogcGFyc2luZy4gTWFpbmx5IGN1cnJlbnRseSBGaXJlZm94LlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzI4MjcgYW5kXG4gKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04NjcxMDJcbiAqXG4gKiBAaW1wbGVtZW50cyB7U2hhZG93RG9tV3JpdGVyfVxuICogQHZpc2libGVGb3JUZXN0aW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFkb3dEb21Xcml0ZXJCdWxrIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgeyFBcnJheTxzdHJpbmc+fSAqL1xuICAgIHRoaXMuZnVsbEh0bWxfID0gW107XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlICovXG4gICAgdGhpcy52c3luY18gPSBTZXJ2aWNlcy52c3luY0Zvcih3aW4pO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oIURvY3VtZW50KTohRWxlbWVudH0gKi9cbiAgICB0aGlzLm9uQm9keV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLm9uQm9keUNodW5rXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigpfSAqL1xuICAgIHRoaXMub25FbmRfID0gbnVsbDtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMuc3VjY2Vzc18gPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmVvZl8gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25Cb2R5KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbkJvZHlfID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uQm9keUNodW5rKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbkJvZHlDaHVua18gPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgb25FbmQoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uRW5kXyA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB3cml0ZShjaHVuaykge1xuICAgIGRldigpLmFzc2VydCh0aGlzLm9uQm9keV8gJiYgdGhpcy5vbkJvZHlDaHVua18gJiYgdGhpcy5vbkVuZF8pO1xuICAgIGlmICh0aGlzLmVvZl8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xvc2VkIGFscmVhZHknKTtcbiAgICB9XG4gICAgaWYgKGNodW5rKSB7XG4gICAgICB0aGlzLmZ1bGxIdG1sXy5wdXNoKGRldigpLmFzc2VydFN0cmluZyhjaHVuaykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdWNjZXNzXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2xvc2UoKSB7XG4gICAgZGV2KCkuYXNzZXJ0KHRoaXMub25Cb2R5XyAmJiB0aGlzLm9uQm9keUNodW5rXyAmJiB0aGlzLm9uRW5kXyk7XG4gICAgdGhpcy5lb2ZfID0gdHJ1ZTtcbiAgICB0aGlzLnZzeW5jXy5tdXRhdGUoKCkgPT4gdGhpcy5jb21wbGV0ZV8oKSk7XG4gICAgcmV0dXJuIHRoaXMuc3VjY2Vzc187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFib3J0KHVudXNlZFJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlbGVhc2VMb2NrKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldCBjbG9zZWQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IGRlc2lyZWRTaXplKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldCByZWFkeSgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGNvbXBsZXRlXygpIHtcbiAgICBjb25zdCBmdWxsSHRtbCA9IHRoaXMuZnVsbEh0bWxfLmpvaW4oJycpO1xuICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZnVsbEh0bWwsICd0ZXh0L2h0bWwnKTtcblxuICAgIC8vIE1lcmdlIGJvZHkuXG4gICAgaWYgKGRvYy5ib2R5KSB7XG4gICAgICBjb25zdCBpbnB1dEJvZHkgPSBkb2MuYm9keTtcbiAgICAgIGNvbnN0IHRhcmdldEJvZHkgPSB0aGlzLm9uQm9keV8oZG9jKTtcbiAgICAgIGxldCB0cmFuc2ZlckNvdW50ID0gMDtcbiAgICAgIHJlbW92ZU5vU2NyaXB0RWxlbWVudHMoaW5wdXRCb2R5KTtcbiAgICAgIHdoaWxlIChpbnB1dEJvZHkuZmlyc3RDaGlsZCkge1xuICAgICAgICB0cmFuc2ZlckNvdW50Kys7XG4gICAgICAgIHRhcmdldEJvZHkuYXBwZW5kQ2hpbGQoaW5wdXRCb2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zZmVyQ291bnQgPiAwKSB7XG4gICAgICAgIHRoaXMub25Cb2R5Q2h1bmtfKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRU9GLlxuICAgIHRoaXMub25FbmRfKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYW55IG5vc2NyaXB0IGVsZW1lbnRzLlxuICpcbiAqIEFjY29yZGluZyB0byB0aGUgc3BlY1xuICogKGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9ET00tUGFyc2luZy8jdGhlLWRvbXBhcnNlci1pbnRlcmZhY2UpLCB3aXRoXG4gKiBgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nYCwgY29udGVudHMgb2YgYG5vc2NyaXB0YCBnZXQgcGFyc2VkIGFzIG1hcmt1cCxcbiAqIHNvIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZW0gbWFudWFsbHkuIFdoeT8gwq9cXF8o44OEKV8vwq8gYGNyZWF0ZUhUTUxEb2N1bWVudCgpYFxuICogc2VlbXMgdG8gYmVoYXZlIHRoZSBzYW1lIHdheS5cbiAqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTm9TY3JpcHRFbGVtZW50cyhwYXJlbnQpIHtcbiAgY29uc3Qgbm9zY3JpcHRFbGVtZW50cyA9IGNoaWxkRWxlbWVudHNCeVRhZyhwYXJlbnQsICdub3NjcmlwdCcpO1xuICBpdGVyYXRlQ3Vyc29yKG5vc2NyaXB0RWxlbWVudHMsIGVsZW1lbnQgPT4ge1xuICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudCk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7ZGV2fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge21hcH0gZnJvbSAnLi91dGlscy9vYmplY3QuanMnO1xuXG5sZXQgY29udGFpbmVyO1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGh0bWwgaGVscGVyIGZvciB0aGUgZG9jLlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR8IURvY3VtZW50fSBub2RlT3JEb2NcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCFBcnJheTxzdHJpbmc+KTohRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh0bWxGb3Iobm9kZU9yRG9jKSB7XG4gIGNvbnN0IGRvYyA9IG5vZGVPckRvYy5vd25lckRvY3VtZW50IHx8IG5vZGVPckRvYztcbiAgaWYgKCFjb250YWluZXIgfHwgY29udGFpbmVyLm93bmVyRG9jdW1lbnQgIT09IGRvYykge1xuICAgIGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgfVxuXG4gIHJldHVybiBodG1sO1xufVxuXG4vKipcbiAqIEEgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWwgaGVscGVyIHRvIGdlbmVyYXRlIHN0YXRpYyBET00gdHJlZXMuXG4gKiBUaGlzIG11c3QgYmUgdXNlZCBhcyBhIHRhZ2dlZCB0ZW1wbGF0ZSwgaWVcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGRpdiA9IGh0bWxgPGRpdj48c3Bhbj48L3NwYW4+PC9kaXY+YDtcbiAqIGBgYFxuICpcbiAqIE9ubHkgdGhlIHJvb3QgZWxlbWVudCBhbmQgaXRzIHN1YnRyZWUgd2lsbCBiZSByZXR1cm5lZC4gRE8gTk9UIHVzZSB0aGlzIHRvXG4gKiByZW5kZXIgc3VidHJlZSdzIHdpdGggZHluYW1pYyBjb250ZW50LCBpdCBXSUxMIHJlc3VsdCBpbiBhbiBlcnJvciFcbiAqXG4gKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBzdHJpbmdzXG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gaHRtbChzdHJpbmdzKSB7XG4gIGRldigpLmFzc2VydChzdHJpbmdzLmxlbmd0aCA9PT0gMSwgJ0ltcHJvcGVyIGh0bWwgdGVtcGxhdGUgdGFnIHVzYWdlLicpO1xuICBjb250YWluZXIuLypPSyovaW5uZXJIVE1MID0gc3RyaW5nc1swXTtcblxuICBjb25zdCBlbCA9IGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgZGV2KCkuYXNzZXJ0KGVsLCAnTm8gZWxlbWVudHMgaW4gdGVtcGxhdGUnKTtcbiAgZGV2KCkuYXNzZXJ0KCFlbC5uZXh0RWxlbWVudFNpYmxpbmcsICdUb28gbWFueSByb290IGVsZW1lbnRzIGluIHRlbXBsYXRlJyk7XG5cbiAgLy8gQ2xlYXIgdG8gZnJlZSBtZW1vcnkuXG4gIGNvbnRhaW5lci4vKk9LKi9pbm5lckhUTUwgPSAnJztcblxuICByZXR1cm4gZWw7XG59XG5cbi8qKlxuICogUXVlcmllcyBhbiBlbGVtZW50IGZvciBhbGwgZWxlbWVudHMgd2l0aCBhIFwicmVmXCIgYXR0cmlidXRlLCByZW1vdmluZ1xuICogdGhlIGF0dHJpYnV0ZSBhZnRlcndhcmRzLlxuICogUmV0dXJucyBhIG5hbWVkIG1hcCBvZiBhbGwgcmVmIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCAhRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodG1sUmVmcyhyb290KSB7XG4gIGNvbnN0IGVsZW1lbnRzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbcmVmXScpO1xuICBjb25zdCByZWZzID0gbWFwKCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBjb25zdCByZWYgPSBkZXYoKS5hc3NlcnQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JlZicpLCAnRW1wdHkgcmVmIGF0dHInKTtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVmJyk7XG4gICAgZGV2KCkuYXNzZXJ0KHJlZnNbcmVmXSA9PT0gdW5kZWZpbmVkLCAnRHVwbGljYXRlIHJlZicpO1xuICAgIHJlZnNbcmVmXSA9IGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gcmVmcztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBfbWF0Y2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9VcHBlckNhc2UoX21hdGNoLCBjaGFyYWN0ZXIpIHtcbiAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBwcmVwZW5kRGFzaEFuZFRvTG93ZXJDYXNlKG1hdGNoKSB7XG4gIHJldHVybiAnLScgKyBtYXRjaC50b0xvd2VyQ2FzZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEF0dHJpYnV0ZSBuYW1lIGNvbnRhaW5pbmcgZGFzaGVzLlxuICogQHJldHVybiB7c3RyaW5nfSBEYXNoZXMgcmVtb3ZlZCBhbmQgc3VjY2Vzc2l2ZSBjaGFyYWN0ZXIgc2VudCB0byB1cHBlciBjYXNlLlxuICogdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhc2hUb0NhbWVsQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoLy0oW2Etel0pL2csIHRvVXBwZXJDYXNlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyB0aGF0IGlzIGluIGNhbWVsQ2FzZSB0byBvbmUgdGhhdCBpcyBpbiBkYXNoLWNhc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgaW4gZGFzaC1jYXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FtZWxDYXNlVG9EYXNoKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyg/IV4pW0EtWl0vZywgcHJlcGVuZERhc2hBbmRUb0xvd2VyQ2FzZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWUgd2l0aCBkYXNoZXNcbiAqIEByZXR1cm4ge3N0cmluZ30gRGFzaGVzIHJlcGxhY2VkIGJ5IHVuZGVybGluZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYXNoVG9VbmRlcmxpbmUobmFtZSkge1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKCctJywgJ18nKTtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdWZmaXhcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHN1ZmZpeCkge1xuICBjb25zdCBpbmRleCA9IHN0cmluZy5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHJpbmcuaW5kZXhPZihzdWZmaXgsIGluZGV4KSA9PSBpbmRleDtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCBwcmVmaXgpIHtcbiAgaWYgKHByZWZpeC5sZW5ndGggPiBzdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBzdHJpbmcubGFzdEluZGV4T2YocHJlZml4LCAwKSA9PSAwO1xufVxuXG4vKipcbiAqIEV4cGFuZHMgcGxhY2Vob2xkZXJzIGluIGEgZ2l2ZW4gdGVtcGxhdGUgc3RyaW5nIHdpdGggdmFsdWVzLlxuICpcbiAqIFBsYWNlaG9sZGVycyB1c2UgJHtrZXktbmFtZX0gc3ludGF4IGFuZCBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgdmFsdWVcbiAqIHJldHVybmVkIGZyb20gdGhlIGdpdmVuIGdldHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgVGhlIHRlbXBsYXRlIHN0cmluZyB0byBleHBhbmQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyk6Kn0gZ2V0dGVyIEZ1bmN0aW9uIHVzZWQgdG8gcmV0cmlldmUgYSB2YWx1ZSBmb3IgYVxuICogICBwbGFjZWhvbGRlci4gUmV0dXJucyB2YWx1ZXMgd2lsbCBiZSBjb2VyY2VkIGludG8gc3RyaW5ncy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X21heEl0ZXJhdGlvbnMgTnVtYmVyIG9mIHRpbWVzIHRvIGV4cGFuZCB0aGUgdGVtcGxhdGUuXG4gKiAgIERlZmF1bHRzIHRvIDEsIGJ1dCBzaG91bGQgYmUgc2V0IHRvIGEgbGFyZ2VyIHZhbHVlIHlvdXIgcGxhY2Vob2xkZXIgdG9rZW5zXG4gKiAgIGNhbiBiZSBleHBhbmRlZCB0byBvdGhlciBwbGFjZWhvbGRlciB0b2tlbnMuIFRha2UgY2F1dGlvbiB3aXRoIGxhcmdlIHZhbHVlc1xuICogICBhcyByZWN1cnNpdmVseSBleHBhbmRpbmcgYSBzdHJpbmcgY2FuIGJlIGV4cG9uZW50aWFsbHkgZXhwZW5zaXZlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kVGVtcGxhdGUodGVtcGxhdGUsIGdldHRlciwgb3B0X21heEl0ZXJhdGlvbnMpIHtcbiAgY29uc3QgbWF4SXRlcmF0aW9ucyA9IG9wdF9tYXhJdGVyYXRpb25zIHx8IDE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgbGV0IG1hdGNoZXMgPSAwO1xuICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvXFwkeyhbXn1dKil9L2csIChfYSwgYikgPT4ge1xuICAgICAgbWF0Y2hlcysrO1xuICAgICAgcmV0dXJuIGdldHRlcihiKTtcbiAgICB9KTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbi8qKlxuICogSGFzaCBmdW5jdGlvbiBkamIyYVxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSBhIHNpbXBsZSwgZmFzdCBoYXNoaW5nIGZ1bmN0aW9uIHVzaW5nIG1pbmltYWwgY29kZS5cbiAqIEl0IGRvZXMgKm5vdCogaGF2ZSBnb29kIGNyeXB0b2dyYXBoaWMgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge3N0cmluZ30gMzItYml0IHVuc2lnbmVkIGhhc2ggb2YgdGhlIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nSGFzaDMyKHN0cikge1xuICBjb25zdCB7bGVuZ3RofSA9IHN0cjtcbiAgbGV0IGhhc2ggPSA1MzgxO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaGFzaCA9IGhhc2ggKiAzMyBeIHN0ci5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIC8vIENvbnZlcnQgZnJvbSAzMi1iaXQgc2lnbmVkIHRvIHVuc2lnbmVkLlxuICByZXR1cm4gU3RyaW5nKGhhc2ggPj4+IDApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7U2VydmljZXN9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHtkZXYsIHJldGhyb3dBc3luY30gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtpbnNlcnRBZnRlck9yQXRTdGFydCwgd2FpdEZvckJvZHl9IGZyb20gJy4vZG9tJztcbmltcG9ydCB7bWFwfSBmcm9tICcuL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge3NldFN0eWxlc30gZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQge3dhaXRGb3JTZXJ2aWNlc30gZnJvbSAnLi9yZW5kZXItZGVsYXlpbmctc2VydmljZXMnO1xuXG5jb25zdCBUUkFOU0ZPUk1FUl9QUk9QID0gJ19fQU1QX0NTU19UUic7XG5jb25zdCBTVFlMRV9NQVBfUFJPUCA9ICdfX0FNUF9DU1NfU00nO1xuY29uc3QgYm9keVZpc2libGVTZW50aW5lbCA9ICdfX0FNUF9CT0RZX1ZJU0lCTEUnO1xuXG5cbi8qKlxuICogQWRkcyB0aGUgZ2l2ZW4gY3NzIHRleHQgdG8gdGhlIGdpdmVuIGFtcGRvYy5cbiAqXG4gKiBUaGUgc3R5bGUgdGFncyB3aWxsIGJlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGhlYWQgYmVmb3JlIGFsbCBhdXRob3JcbiAqIHN0eWxlcy4gT25lIGVsZW1lbnQgY2FuIGJlIHRoZSBtYWluIHJ1bnRpbWUgQ1NTLiBUaGlzIGlzIGd1YXJhbnRlZWRcbiAqIHRvIGFsd2F5cyBiZSB0aGUgZmlyc3Qgc3R5bGVzaGVldCBpbiB0aGUgZG9jLlxuICpcbiAqIEBwYXJhbSB7IS4vc2VydmljZS9hbXBkb2MtaW1wbC5BbXBEb2N9IGFtcGRvYyBUaGUgYW1wZG9jIHRoYXQgc2hvdWxkIGdldCB0aGUgbmV3IHN0eWxlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcGFyYW0gez9mdW5jdGlvbighRWxlbWVudCl8dW5kZWZpbmVkfSBjYiBDYWxsZWQgd2hlbiB0aGUgbmV3IHN0eWxlcyBhcmUgYXZhaWxhYmxlLlxuICogICAgIE5vdCB1c2luZyBhIHByb21pc2UsIGJlY2F1c2UgdGhpcyBpcyBzeW5jaHJvbm91cyB3aGVuIHBvc3NpYmxlLlxuICogICAgIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNSdW50aW1lQ3NzIElmIHRydWUsIHRoaXMgc3R5bGUgdGFnIHdpbGwgYmUgaW5zZXJ0ZWRcbiAqICAgICBhcyB0aGUgZmlyc3QgZWxlbWVudCBpbiBoZWFkIGFuZCBhbGwgc3R5bGUgZWxlbWVudHMgd2lsbCBiZSBwb3NpdGlvbmVkXG4gKiAgICAgYWZ0ZXIuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9leHRcbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFN0eWxlc0ZvckRvYyhcbiAgYW1wZG9jLCBjc3NUZXh0LCBjYiwgb3B0X2lzUnVudGltZUNzcywgb3B0X2V4dCkge1xuICBjb25zdCBjc3NSb290ID0gYW1wZG9jLmdldEhlYWROb2RlKCk7XG4gIGNvbnN0IHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KFxuICAgICAgY3NzUm9vdCxcbiAgICAgIG1heWJlVHJhbnNmb3JtKGNzc1Jvb3QsIGNzc1RleHQpLFxuICAgICAgb3B0X2lzUnVudGltZUNzcyB8fCBmYWxzZSxcbiAgICAgIG9wdF9leHQgfHwgbnVsbCk7XG5cbiAgaWYgKGNiKSB7XG4gICAgY29uc3Qgcm9vdE5vZGUgPSBhbXBkb2MuZ2V0Um9vdE5vZGUoKTtcbiAgICAvLyBTdHlsZXMgYXJlbid0IGFsd2F5cyBhdmFpbGFibGUgc3luY2hyb25vdXNseS4gRS5nLiBpZiB0aGVyZSBpcyBhXG4gICAgLy8gcGVuZGluZyBzdHlsZSBkb3dubG9hZCwgaXQgd2lsbCBoYXZlIHRvIGZpbmlzaCBiZWZvcmUgdGhlIG5ld1xuICAgIC8vIHN0eWxlIGlzIHZpc2libGUuXG4gICAgLy8gRm9yIHRoaXMgcmVhc29uIHdlIHBvbGwgdW50aWwgdGhlIHN0eWxlIGJlY29tZXMgYXZhaWxhYmxlLlxuICAgIC8vIFN5bmMgY2FzZS5cbiAgICBpZiAoc3R5bGVMb2FkZWQocm9vdE5vZGUsIHN0eWxlKSkge1xuICAgICAgY2Ioc3R5bGUpO1xuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cbiAgICAvLyBQb2xsIHVudGlsIHN0eWxlcyBhcmUgYXZhaWxhYmxlLlxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHN0eWxlTG9hZGVkKHJvb3ROb2RlLCBzdHlsZSkpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGNiKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9LCA0KTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5cblxuLyoqXG4gKiBBZGRzIHRoZSBnaXZlbiBjc3MgdGV4dCB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gKiBUT0RPKGR2b3l0ZW5rbywgIzEwNzA1KTogUmVtb3ZlIHRoaXMgbWV0aG9kIG9uY2UgRklFL2FtcGRvYyBtaWdyYXRpb24gaXNcbiAqIGRvbmUuXG4gKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvYyBUaGUgZG9jdW1lbnQgdGhhdCBzaG91bGQgZ2V0IHRoZSBuZXcgc3R5bGVzLlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7P2Z1bmN0aW9uKCFFbGVtZW50KXx1bmRlZmluZWR9IGNiIENhbGxlZCB3aGVuIHRoZSBuZXcgc3R5bGVzIGFyZVxuICogICAgIGF2YWlsYWJsZS4gTm90IHVzaW5nIGEgcHJvbWlzZSwgYmVjYXVzZSB0aGlzIGlzIHN5bmNocm9ub3VzIHdoZW5cbiAqICAgICBwb3NzaWJsZS4gZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc1J1bnRpbWVDc3MgSWYgdHJ1ZSwgdGhpcyBzdHlsZSB0YWcgd2lsbCBiZSBpbnNlcnRlZFxuICogICAgIGFzIHRoZSBmaXJzdCBlbGVtZW50IGluIGhlYWQgYW5kIGFsbCBzdHlsZSBlbGVtZW50cyB3aWxsIGJlIHBvc2l0aW9uZWRcbiAqICAgICBhZnRlci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2V4dFxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsU3R5bGVzTGVnYWN5KFxuICBkb2MsIGNzc1RleHQsIGNiLCBvcHRfaXNSdW50aW1lQ3NzLCBvcHRfZXh0KSB7XG4gIGNvbnN0IHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KFxuICAgICAgZGV2KCkuYXNzZXJ0RWxlbWVudChkb2MuaGVhZCksXG4gICAgICBjc3NUZXh0LFxuICAgICAgb3B0X2lzUnVudGltZUNzcyB8fCBmYWxzZSxcbiAgICAgIG9wdF9leHQgfHwgbnVsbCk7XG5cbiAgaWYgKGNiKSB7XG4gICAgLy8gU3R5bGVzIGFyZW4ndCBhbHdheXMgYXZhaWxhYmxlIHN5bmNocm9ub3VzbHkuIEUuZy4gaWYgdGhlcmUgaXMgYVxuICAgIC8vIHBlbmRpbmcgc3R5bGUgZG93bmxvYWQsIGl0IHdpbGwgaGF2ZSB0byBmaW5pc2ggYmVmb3JlIHRoZSBuZXdcbiAgICAvLyBzdHlsZSBpcyB2aXNpYmxlLlxuICAgIC8vIEZvciB0aGlzIHJlYXNvbiB3ZSBwb2xsIHVudGlsIHRoZSBzdHlsZSBiZWNvbWVzIGF2YWlsYWJsZS5cbiAgICAvLyBTeW5jIGNhc2UuXG4gICAgaWYgKHN0eWxlTG9hZGVkKGRvYywgc3R5bGUpKSB7XG4gICAgICBjYihzdHlsZSk7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICAgIC8vIFBvbGwgdW50aWwgc3R5bGVzIGFyZSBhdmFpbGFibGUuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoc3R5bGVMb2FkZWQoZG9jLCBzdHlsZSkpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGNiKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9LCA0KTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBwcm9wZXJseSBjb25maWd1cmVkIHN0eWxlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFTaGFkb3dSb290fSBjc3NSb290XG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHBhcmFtIHtib29sZWFufSBpc1J1bnRpbWVDc3NcbiAqIEBwYXJhbSB7P3N0cmluZ30gZXh0XG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KGNzc1Jvb3QsIGNzc1RleHQsIGlzUnVudGltZUNzcywgZXh0KSB7XG4gIGxldCBzdHlsZU1hcCA9IGNzc1Jvb3RbU1RZTEVfTUFQX1BST1BdO1xuICBpZiAoIXN0eWxlTWFwKSB7XG4gICAgc3R5bGVNYXAgPSBjc3NSb290W1NUWUxFX01BUF9QUk9QXSA9IG1hcCgpO1xuICB9XG5cbiAgY29uc3QgaXNFeHRDc3MgPSAhaXNSdW50aW1lQ3NzICYmXG4gICAgICAoZXh0ICYmIGV4dCAhPSAnYW1wLWN1c3RvbScgJiYgZXh0ICE9ICdhbXAta2V5ZnJhbWVzJyk7XG4gIGNvbnN0IGtleSA9XG4gICAgICBpc1J1bnRpbWVDc3MgPyAnYW1wLXJ1bnRpbWUnIDpcbiAgICAgICAgaXNFeHRDc3MgPyBgYW1wLWV4dGVuc2lvbj0ke2V4dH1gIDogbnVsbDtcblxuICAvLyBDaGVjayBpZiBpdCBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQgb3IgZGlzY292ZXJlZC5cbiAgaWYgKGtleSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gZ2V0RXhpc3RpbmdTdHlsZUVsZW1lbnQoY3NzUm9vdCwgc3R5bGVNYXAsIGtleSk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBuZXcgc3R5bGUgZWxlbWVudCBhbmQgYXBwZW5kIHRvIGNzc1Jvb3QuXG4gIGNvbnN0IGRvYyA9IChjc3NSb290Lm93bmVyRG9jdW1lbnQgfHwgY3NzUm9vdCk7XG4gIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLi8qT0sqL3RleHRDb250ZW50ID0gY3NzVGV4dDtcbiAgbGV0IGFmdGVyRWxlbWVudCA9IG51bGw7XG4gIC8vIE1ha2Ugc3VyZSB0aGF0IHdlIHBsYWNlIHN0eWxlIHRhZ3MgYWZ0ZXIgdGhlIG1haW4gcnVudGltZSBDU1MuIE90aGVyd2lzZVxuICAvLyB0aGUgb3JkZXIgaXMgcmFuZG9tLlxuICBpZiAoaXNSdW50aW1lQ3NzKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdhbXAtcnVudGltZScsICcnKTtcbiAgfSBlbHNlIGlmIChpc0V4dENzcykge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnYW1wLWV4dGVuc2lvbicsIGV4dCB8fCAnJyk7XG4gICAgYWZ0ZXJFbGVtZW50ID0gZGV2KCkuYXNzZXJ0RWxlbWVudChnZXRFeGlzdGluZ1N0eWxlRWxlbWVudChcbiAgICAgICAgY3NzUm9vdCwgc3R5bGVNYXAsICdhbXAtcnVudGltZScpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZXh0KSB7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoZXh0LCAnJyk7XG4gICAgfVxuICAgIGFmdGVyRWxlbWVudCA9IGNzc1Jvb3QubGFzdENoaWxkO1xuICB9XG4gIGluc2VydEFmdGVyT3JBdFN0YXJ0KGNzc1Jvb3QsIHN0eWxlLCBhZnRlckVsZW1lbnQpO1xuICBpZiAoa2V5KSB7XG4gICAgc3R5bGVNYXBba2V5XSA9IHN0eWxlO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR8IVNoYWRvd1Jvb3R9IGNzc1Jvb3RcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFFbGVtZW50Pn0gc3R5bGVNYXBcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4gez9FbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXRFeGlzdGluZ1N0eWxlRWxlbWVudChjc3NSb290LCBzdHlsZU1hcCwga2V5KSB7XG4gIC8vIEFscmVhZHkgY2FjaGVkLlxuICBpZiAoc3R5bGVNYXBba2V5XSkge1xuICAgIHJldHVybiBzdHlsZU1hcFtrZXldO1xuICB9XG4gIC8vIENoZWNrIGlmIHRoZSBzdHlsZSBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIGJ5IHRoZSBzZXJ2ZXIgbGF5b3V0LlxuICBjb25zdCBleGlzdGluZyA9IGNzc1Jvb3QuLypPSyovcXVlcnlTZWxlY3Rvcihgc3R5bGVbJHtrZXl9XWApO1xuICBpZiAoZXhpc3RpbmcpIHtcbiAgICBzdHlsZU1hcFtrZXldID0gZXhpc3Rpbmc7XG4gICAgcmV0dXJuIGV4aXN0aW5nO1xuICB9XG4gIC8vIE5vdGhpbmcgZm91bmQuXG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogQXBwbGllcyBhIHRyYW5zZm9ybWVyIHRvIHRoZSBDU1MgdGV4dCBpZiBpdCBoYXMgYmVlbiByZWdpc3RlcmVkLlxuICogQHBhcmFtIHshRWxlbWVudHwhU2hhZG93Um9vdH0gY3NzUm9vdFxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpOnN0cmluZ30gdHJhbnNmb3JtZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxDc3NUcmFuc2Zvcm1lcihjc3NSb290LCB0cmFuc2Zvcm1lcikge1xuICBjc3NSb290W1RSQU5TRk9STUVSX1BST1BdID0gdHJhbnNmb3JtZXI7XG59XG5cblxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNmb3JtZXIgdG8gdGhlIENTUyB0ZXh0IGlmIGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0geyFFbGVtZW50fCFTaGFkb3dSb290fSBjc3NSb290XG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBtYXliZVRyYW5zZm9ybShjc3NSb290LCBjc3NUZXh0KSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gY3NzUm9vdFtUUkFOU0ZPUk1FUl9QUk9QXTtcbiAgcmV0dXJuIHRyYW5zZm9ybWVyID8gdHJhbnNmb3JtZXIoY3NzVGV4dCkgOiBjc3NUZXh0O1xufVxuXG5cbi8qKlxuICogU2V0cyB0aGUgZG9jdW1lbnQncyBib2R5IG9wYWNpdHkgdG8gMS5cbiAqIElmIHRoZSBib2R5IGlzIG5vdCB5ZXQgYXZhaWxhYmxlIChiZWNhdXNlIG91ciBzY3JpcHQgd2FzIGxvYWRlZFxuICogc3luY2hyb25vdXNseSksIHBvbGxzIHVudGlsIGl0IGlzLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvYyBUaGUgZG9jdW1lbnQgd2hvJ3MgYm9keSB3ZSBzaG91bGQgbWFrZSB2aXNpYmxlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3dhaXRGb3JTZXJ2aWNlcyBXaGV0aGVyIHRoZSBib2R5IHZpc2liaWxpdHkgc2hvdWxkXG4gKiAgICAgYmUgYmxvY2tlZCBvbiBrZXkgc2VydmljZXMgYmVpbmcgbG9hZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUJvZHlWaXNpYmxlKGRvYywgb3B0X3dhaXRGb3JTZXJ2aWNlcykge1xuICBkZXYoKS5hc3NlcnQoZG9jLmRlZmF1bHRWaWV3LCAnUGFzc2VkIGluIGRvY3VtZW50IG11c3QgaGF2ZSBhIGRlZmF1bHRWaWV3Jyk7XG4gIGNvbnN0IHdpbiA9IC8qKiBAdHlwZSB7IVdpbmRvd30gKi8gKGRvYy5kZWZhdWx0Vmlldyk7XG4gIGlmICh3aW5bYm9keVZpc2libGVTZW50aW5lbF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2V0ID0gKCkgPT4ge1xuICAgIHdpbltib2R5VmlzaWJsZVNlbnRpbmVsXSA9IHRydWU7XG4gICAgc2V0U3R5bGVzKGRldigpLmFzc2VydEVsZW1lbnQoZG9jLmJvZHkpLCB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLFxuICAgICAgJ2FuaW1hdGlvbic6ICdub25lJyxcbiAgICB9KTtcbiAgICByZW5kZXJTdGFydGVkTm9JbmxpbmUoZG9jKTtcbiAgfTtcbiAgdHJ5IHtcbiAgICB3YWl0Rm9yQm9keShkb2MsICgpID0+IHtcbiAgICAgIGlmICh3aW5bYm9keVZpc2libGVTZW50aW5lbF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luW2JvZHlWaXNpYmxlU2VudGluZWxdID0gdHJ1ZTtcbiAgICAgIGlmIChvcHRfd2FpdEZvclNlcnZpY2VzKSB7XG4gICAgICAgIHdhaXRGb3JTZXJ2aWNlcyh3aW4pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgcmV0aHJvd0FzeW5jKHJlYXNvbik7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9KS50aGVuKHNlcnZpY2VzID0+IHtcbiAgICAgICAgICBzZXQoKTtcbiAgICAgICAgICBpZiAoc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgU2VydmljZXMucmVzb3VyY2VzRm9yRG9jKGRvYykuLypPSyovc2NoZWR1bGVQYXNzKFxuICAgICAgICAgICAgICAgIDEsIC8qIHJlbGF5b3V0QWxsICovIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGVyZiA9IFNlcnZpY2VzLnBlcmZvcm1hbmNlRm9yKHdpbik7XG4gICAgICAgICAgICBwZXJmLnRpY2soJ21idicpO1xuICAgICAgICAgICAgcGVyZi5mbHVzaCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZiB0aGVyZSB3YXMgYW4gZXJyb3IgZHVyaW5nIHRoZSBsb2dpYyBhYm92ZSAoc3VjaCBhcyBzZXJ2aWNlIG5vdFxuICAgIC8vIHlldCBpbnN0YWxsZWQsIGRlZmluaXRlbHkgdHJ5IHRvIG1ha2UgdGhlIGJvZHkgdmlzaWJsZS5cbiAgICBzZXQoKTtcbiAgICAvLyBBdm9pZCBlcnJvcnMgaW4gdGhlIGZ1bmN0aW9uIHRvIGJyZWFrIGV4ZWN1dGlvbiBmbG93IGFzIHRoaXMgaXNcbiAgICAvLyBvZnRlbiBjYWxsZWQgYXMgYSBsYXN0IHJlc29ydC5cbiAgICByZXRocm93QXN5bmMoZSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3RhcnRlZE5vSW5saW5lKGRvYykge1xuICB0cnkge1xuICAgIFNlcnZpY2VzLnJlc291cmNlc0ZvckRvYyhkb2MpLnJlbmRlclN0YXJ0ZWQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGBtYWtlQm9keVZpc2libGVgIGlzIGNhbGxlZCBpbiB0aGUgZXJyb3ItcHJvY2Vzc2luZyBjeWNsZSBhbmQgdGh1c1xuICAgIC8vIGNvdWxkIGJlIHRyaWdnZXJlZCB3aGVuIHJ1bnRpbWUncyBpbml0aWFsaXphdGlvbiBpcyBpbmNvbXBsZXRlIHdoaWNoXG4gICAgLy8gd291bGQgY2F1c2UgdW5yZWxhdGVkIGVycm9ycyB0byBiZSB0aHJvd24gaGVyZS5cbiAgfVxufVxuXG5cbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgdGhlIGJvZHkgaXMgYWx3YXlzIHZpc2libGUuIEZvciBpbnN0YW5jZSwgaW4gY2FzZSBvZiBQV0EuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9keUFsd2F5c1Zpc2libGUod2luKSB7XG4gIHdpbltib2R5VmlzaWJsZVNlbnRpbmVsXSA9IHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHN0eWxlIGVsZW1lbnQgd2FzIHJlZ2lzdGVyZWQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSB7IURvY3VtZW50fCFTaGFkb3dSb290fSBkb2NcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzdHlsZUxvYWRlZChkb2MsIHN0eWxlKSB7XG4gIGNvbnN0IHNoZWV0cyA9IGRvYy5zdHlsZVNoZWV0cztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzaGVldCA9IHNoZWV0c1tpXTtcbiAgICBpZiAoc2hlZXQub3duZXJOb2RlID09IHN0eWxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIE5vdGU6IGxvYWRlZCBieSAzcCBzeXN0ZW0uIENhbm5vdCByZWx5IG9uIGJhYmVsIHBvbHlmaWxscy5cbmltcG9ydCB7bWFwfSBmcm9tICcuL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQge3N0YXJ0c1dpdGh9IGZyb20gJy4vc3RyaW5nJztcblxuXG4vKiogQHR5cGUge09iamVjdDxzdHJpbmcsIHN0cmluZz59ICovXG5sZXQgcHJvcGVydHlOYW1lQ2FjaGU7XG5cbi8qKiBAY29uc3QgeyFBcnJheTxzdHJpbmc+fSAqL1xuY29uc3QgdmVuZG9yUHJlZml4ZXMgPSBbJ1dlYmtpdCcsICd3ZWJraXQnLCAnTW96JywgJ21veicsICdtcycsICdPJywgJ28nXTtcblxuXG4vKipcbiAqIEBleHBvcnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYW1lbENhc2UgY2FtZWwgY2FzZWQgc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRpdGxlIGNhc2VkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2FtZWxDYXNlVG9UaXRsZUNhc2UoY2FtZWxDYXNlKSB7XG4gIHJldHVybiBjYW1lbENhc2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYW1lbENhc2Uuc2xpY2UoMSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHRoZSBzdHlsZSBpZiBhIHByZWZpeGVkIHZlcnNpb24gb2YgYSBwcm9wZXJ0eSBleGlzdHMgYW5kIHJldHVybnNcbiAqIGl0IG9yIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7IU9iamVjdH0gc3R5bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZUNhc2UgdGhlIHRpdGxlIGNhc2UgdmVyc2lvbiBvZiBhIGNzcyBwcm9wZXJ0eSBuYW1lXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eSBuYW1lIG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvckpzUHJvcGVydHlOYW1lXyhzdHlsZSwgdGl0bGVDYXNlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmVuZG9yUHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSB2ZW5kb3JQcmVmaXhlc1tpXSArIHRpdGxlQ2FzZTtcbiAgICBpZiAoc3R5bGVbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHlOYW1lO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcG9zc2libHkgcHJlZml4ZWQgSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lIG9mIGEgc3R5bGUgcHJvcGVydHlcbiAqIChleC4gV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uKSBnaXZlbiBhIGNhbWVsQ2FzZSdkIHZlcnNpb24gb2YgdGhlIHByb3BlcnR5XG4gKiAoZXguIHRyYW5zaXRpb25EdXJhdGlvbikuXG4gKiBAZXhwb3J0XG4gKiBAcGFyYW0geyFPYmplY3R9IHN0eWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FtZWxDYXNlIHRoZSBjYW1lbCBjYXNlZCB2ZXJzaW9uIG9mIGEgY3NzIHByb3BlcnR5IG5hbWVcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9ieXBhc3NDYWNoZSBieXBhc3MgdGhlIG1lbW9pemVkIGNhY2hlIG9mIHByb3BlcnR5XG4gKiAgIG1hcHBpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZlbmRvckpzUHJvcGVydHlOYW1lKHN0eWxlLCBjYW1lbENhc2UsIG9wdF9ieXBhc3NDYWNoZSkge1xuICBpZiAoc3RhcnRzV2l0aChjYW1lbENhc2UsICctLScpKSB7XG4gICAgLy8gQ1NTIHZhcnMgYXJlIHJldHVybmVkIGFzIGlzLlxuICAgIHJldHVybiBjYW1lbENhc2U7XG4gIH1cbiAgaWYgKCFwcm9wZXJ0eU5hbWVDYWNoZSkge1xuICAgIHByb3BlcnR5TmFtZUNhY2hlID0gbWFwKCk7XG4gIH1cbiAgbGV0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZUNhY2hlW2NhbWVsQ2FzZV07XG4gIGlmICghcHJvcGVydHlOYW1lIHx8IG9wdF9ieXBhc3NDYWNoZSkge1xuICAgIHByb3BlcnR5TmFtZSA9IGNhbWVsQ2FzZTtcbiAgICBpZiAoc3R5bGVbY2FtZWxDYXNlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCB0aXRsZUNhc2UgPSBjYW1lbENhc2VUb1RpdGxlQ2FzZShjYW1lbENhc2UpO1xuICAgICAgY29uc3QgcHJlZml4ZWRQcm9wZXJ0eU5hbWUgPSBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZV8oc3R5bGUsIHRpdGxlQ2FzZSk7XG5cbiAgICAgIGlmIChzdHlsZVtwcmVmaXhlZFByb3BlcnR5TmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wZXJ0eU5hbWUgPSBwcmVmaXhlZFByb3BlcnR5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFvcHRfYnlwYXNzQ2FjaGUpIHtcbiAgICAgIHByb3BlcnR5TmFtZUNhY2hlW2NhbWVsQ2FzZV0gPSBwcm9wZXJ0eU5hbWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0eU5hbWU7XG59XG5cblxuLyoqXG4gKiBTZXRzIHRoZSBDU1Mgc3R5bGVzIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudCB3aXRoICFpbXBvcnRhbnQuIFRoZSBzdHlsZXNcbiAqIGFyZSBzcGVjaWZpZWQgYXMgYSBtYXAgZnJvbSBDU1MgcHJvcGVydHkgbmFtZXMgdG8gdGhlaXIgdmFsdWVzLlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgKj59IHN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SW1wb3J0YW50U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICBmb3IgKGNvbnN0IGsgaW4gc3R5bGVzKSB7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgZ2V0VmVuZG9ySnNQcm9wZXJ0eU5hbWUoc3R5bGVzLCBrKSwgc3R5bGVzW2tdLnRvU3RyaW5nKCksICdpbXBvcnRhbnQnKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHN0eWxlIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudCB3aXRoIG9wdGlvbmFsIHVuaXRzLCBlLmcuIFwicHhcIi5cbiAqIEBwYXJhbSB7P0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdW5pdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9ieXBhc3NDYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgcHJvcGVydHksIHZhbHVlLCBvcHRfdW5pdHMsIG9wdF9ieXBhc3NDYWNoZSkge1xuICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZShlbGVtZW50LnN0eWxlLCBwcm9wZXJ0eSxcbiAgICAgIG9wdF9ieXBhc3NDYWNoZSk7XG4gIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPVxuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChvcHRfdW5pdHMgPyB2YWx1ZSArIG9wdF91bml0cyA6IHZhbHVlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIENTUyBzdHlsZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9ieXBhc3NDYWNoZVxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKGVsZW1lbnQsIHByb3BlcnR5LCBvcHRfYnlwYXNzQ2FjaGUpIHtcbiAgY29uc3QgcHJvcGVydHlOYW1lID0gZ2V0VmVuZG9ySnNQcm9wZXJ0eU5hbWUoZWxlbWVudC5zdHlsZSwgcHJvcGVydHksXG4gICAgICBvcHRfYnlwYXNzQ2FjaGUpO1xuICBpZiAoIXByb3BlcnR5TmFtZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXTtcbn1cblxuXG4vKipcbiAqIFNldHMgdGhlIENTUyBzdHlsZXMgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50LiBUaGUgc3R5bGVzXG4gKiBhIHNwZWNpZmllZCBhcyBhIG1hcCBmcm9tIENTUyBwcm9wZXJ0eSBuYW1lcyB0byB0aGVpciB2YWx1ZXMuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAqPn0gc3R5bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gIGZvciAoY29uc3QgayBpbiBzdHlsZXMpIHtcbiAgICBzZXRTdHlsZShlbGVtZW50LCBrLCBzdHlsZXNba10pO1xuICB9XG59XG5cblxuLyoqXG4gKiBTaG93cyBvciBoaWRlcyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZGlzcGxheVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQsIG9wdF9kaXNwbGF5KSB7XG4gIGlmIChvcHRfZGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0X2Rpc3BsYXkgPSBnZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScpID09ICdub25lJztcbiAgfVxuICBzZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScsIG9wdF9kaXNwbGF5ID8gJycgOiAnbm9uZScpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHBpeGVsIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBweCh2YWx1ZSkge1xuICByZXR1cm4gYCR7dmFsdWV9cHhgO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBkZWdyZWUgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZyh2YWx1ZSkge1xuICByZXR1cm4gYCR7dmFsdWV9ZGVnYDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgXCJ0cmFuc2xhdGVYXCIgZm9yIENTUyBcInRyYW5zZm9ybVwiIHByb3BlcnR5LlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlWCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7dmFsdWV9KWA7XG4gIH1cbiAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7cHgodmFsdWUpfSlgO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIFwidHJhbnNsYXRlWFwiIGZvciBDU1MgXCJ0cmFuc2Zvcm1cIiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30geFxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBvcHRfeVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKHgsIG9wdF95KSB7XG4gIGlmICh0eXBlb2YgeCA9PSAnbnVtYmVyJykge1xuICAgIHggPSBweCh4KTtcbiAgfVxuICBpZiAob3B0X3kgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBgdHJhbnNsYXRlKCR7eH0pYDtcbiAgfVxuICBpZiAodHlwZW9mIG9wdF95ID09ICdudW1iZXInKSB7XG4gICAgb3B0X3kgPSBweChvcHRfeSk7XG4gIH1cbiAgcmV0dXJuIGB0cmFuc2xhdGUoJHt4fSwgJHtvcHRfeX0pYDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYSBcInNjYWxlXCIgZm9yIENTUyBcInRyYW5zZm9ybVwiIHByb3BlcnR5LlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUodmFsdWUpIHtcbiAgcmV0dXJuIGBzY2FsZSgke3ZhbHVlfSlgO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBcInJvdGF0ZVwiIGZvciBDU1MgXCJ0cmFuc2Zvcm1cIiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgdmFsdWUgPSBkZWcodmFsdWUpO1xuICB9XG4gIHJldHVybiBgcm90YXRlKCR7dmFsdWV9KWA7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFscGhhIHZhbHVlIGZyb20gYSByZ2JhIGNvbG9yIHZhbHVlLlxuICogUmV0dXJuIHRoZSBuZXcgY29sb3IgcHJvcGVydHkgd2l0aCBhbHBoYSBlcXVhbHMgaWYgaGFzIHRoZSBhbHBoYSB2YWx1ZS5cbiAqIENhbGxlciBuZWVkcyB0byBtYWtlIHN1cmUgdGhlIGlucHV0IGNvbG9yIHZhbHVlIGlzIGEgdmFsaWQgcmdiYS9yZ2IgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZ2JhQ29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFscGhhRnJvbUNvbG9yKHJnYmFDb2xvcikge1xuICByZXR1cm4gcmdiYUNvbG9yLnJlcGxhY2UoXG4gICAgICAvXFwoKFteLF0rKSwoW14sXSspLChbXiwpXSspLFteKV0rXFwpL2csICcoJDEsJDIsJDMsIDEpJyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY29tcHV0ZWQgc3R5bGUgb2YgdGhlIGVsZW1lbnQuIFRoZSBoZWxwZXIgaXMgbmVjZXNzYXJ5IHRvIGVuZm9yY2VcbiAqIHRoZSBwb3NzaWJsZSBgbnVsbGAgdmFsdWUgcmV0dXJuZWQgYnkgYSBidWdneSBGaXJlZm94LlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbFxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlZFN0eWxlKHdpbiwgZWwpIHtcbiAgY29uc3Qgc3R5bGUgPSAvKiogQHR5cGUgez9DU1NTdHlsZURlY2xhcmF0aW9ufSAqLyh3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCkpO1xuICByZXR1cm4gLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gKi8oc3R5bGUpIHx8IG1hcCgpO1xufVxuXG5cbi8qKlxuICogUmVzZXRzIHN0eWxlcyB0aGF0IHdlcmUgc2V0IGR5bmFtaWNhbGx5IChpLmUuIGlubGluZSlcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U3R5bGVzKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgY29uc3Qgc3R5bGVPYmogPSB7fTtcbiAgcHJvcGVydGllcy5mb3JFYWNoKHByb3AgPT4ge1xuICAgIHN0eWxlT2JqW3Byb3BdID0gbnVsbDtcbiAgfSk7XG4gIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZU9iaik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogQGNvbnN0ICovXG5jb25zdCB0b1N0cmluZ18gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIEVDTUEgW1tDbGFzc11dIG9mIGEgdmFsdWVcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHRvU3RyaW5nXy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHZhbHVlIGlzIGFjdHVhbGx5IGFuIEFycmF5LlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIGFycmF5LlxuICogQHBhcmFtIHs/SUFycmF5TGlrZTxUPnxzdHJpbmd9IGFycmF5TGlrZVxuICogQHJldHVybiB7IUFycmF5PFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXlMaWtlKSB7XG4gIGlmICghYXJyYXlMaWtlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGFycmF5ID0gbmV3IEFycmF5KGFycmF5TGlrZS5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5TGlrZS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gYXJyYXlMaWtlW2ldO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHZhbHVlIGlzIGFjdHVhbGx5IGFuIE9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHZhbHVlIGlzIG9mIG51bWJlciB0eXBlIGFuZCBmaW5pdGUuXG4gKiBOYU4gYW5kIEluZmluaXR5IGFyZSBub3QgY29uc2lkZXJlZCBhIGZpbml0ZSBudW1iZXIuXG4gKiBTdHJpbmcgbnVtYmVycyBhcmUgbm90IGNvbnNpZGVyZWQgbnVtYmVycy5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Zpbml0ZU51bWJlcih2YWx1ZSkge1xuICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBgc2AgaXMgYSB2YWxpZCB2YWx1ZSBvZiBgZW51bU9iamAuXG4gKlxuICogQHBhcmFtIHshT2JqZWN0PFQ+fSBlbnVtT2JqXG4gKiBAcGFyYW0ge1R9IHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbnVtVmFsdWUoZW51bU9iaiwgcykge1xuICBmb3IgKGNvbnN0IGsgaW4gZW51bU9iaikge1xuICAgIGlmIChlbnVtT2JqW2tdID09PSBzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEV4dGVybnMgZGVjbGFyZSB0aGF0IGFjY2VzcyBgZGVmYXVsdFZpZXdgIGZyb20gYGRvY3VtZW50YCBvclxuICogYG93bmVyRG9jdW1lbnRgIGlzIG9mIHR5cGUgYChXaW5kb3d8bnVsbClgIGJ1dCBtb3N0IG9mIG91ciBwYXJhbWV0ZXIgdHlwZXNcbiAqIGFzc3VtZSB0aGF0IGl0IGlzIG5ldmVyIG51bGwuIFRoaXMgaXMgT0sgaW4gcHJhY3RpY2UgYXMgd2UgZXZlciBvbmx5IGdldFxuICogbnVsbCBvbiBkaXNjb25uZWN0ZWQgZG9jdW1lbnRzIG9yIG9sZCBJRS5cbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIGNhc3RzIGl0IGludG8ganVzdCBhIHNpbXBsZSBXaW5kb3cgcmV0dXJuIHR5cGUuXG4gKlxuICogQHBhcmFtIHshV2luZG93fG51bGx9IHdpbk9yTnVsbFxuICogQHJldHVybiB7IVdpbmRvd31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvV2luKHdpbk9yTnVsbCkge1xuICByZXR1cm4gLyoqIEB0eXBlIHshV2luZG93fSAqLyAod2luT3JOdWxsKTtcbn1cblxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7dHJ5RGVjb2RlVXJpQ29tcG9uZW50X30gZnJvbSAnLi91cmwtdHJ5LWRlY29kZS11cmktY29tcG9uZW50JztcblxuY29uc3QgcmVnZXggPSAvKD86XlsjP10/fCYpKFtePSZdKykoPzo9KFteJl0qKSk/L2c7XG5cbi8qKlxuICogUGFyc2VzIHRoZSBxdWVyeSBzdHJpbmcgb2YgYW4gVVJMLiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgc2ltcGxlIGtleS92YWx1ZVxuICogbWFwLiBJZiB0aGVyZSBhcmUgZHVwbGljYXRlIGtleXMgdGhlIGxhdGVzdCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAqXG4gKiBETyBOT1QgaW1wb3J0IHRoZSBmdW5jdGlvbiBmcm9tIHRoaXMgZmlsZS4gSW5zdGVhZCwgaW1wb3J0IHBhcnNlUXVlcnlTdHJpbmdcbiAqIGZyb20gYHNyYy91cmwuanNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVN0cmluZ1xuICogQHJldHVybiB7IUpzb25PYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nXyhxdWVyeVN0cmluZykge1xuICBjb25zdCBwYXJhbXMgPSAvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gIGlmICghcXVlcnlTdHJpbmcpIHtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgbGV0IG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyhxdWVyeVN0cmluZykpKSB7XG4gICAgY29uc3QgbmFtZSA9IHRyeURlY29kZVVyaUNvbXBvbmVudF8obWF0Y2hbMV0sIG1hdGNoWzFdKTtcbiAgICBjb25zdCB2YWx1ZSA9IG1hdGNoWzJdID8gdHJ5RGVjb2RlVXJpQ29tcG9uZW50XyhtYXRjaFsyXSwgbWF0Y2hbMl0pIDogJyc7XG4gICAgcGFyYW1zW25hbWVdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFRyaWVzIHRvIGRlY29kZSBhIFVSSSBjb21wb25lbnQsIGZhbGxpbmcgYmFjayB0byBvcHRfZmFsbGJhY2sgKG9yIGFuIGVtcHR5XG4gKiBzdHJpbmcpXG4gKlxuICogRE8gTk9UIGltcG9ydCB0aGUgZnVuY3Rpb24gZnJvbSB0aGlzIGZpbGUuIEluc3RlYWQsIGltcG9ydFxuICogdHJ5RGVjb2RlVXJpQ29tcG9uZW50IGZyb20gYHNyYy91cmwuanNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gZmFsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeURlY29kZVVyaUNvbXBvbmVudF8oY29tcG9uZW50LCBmYWxsYmFjayA9ICcnKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjb21wb25lbnQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtMcnVDYWNoZX0gZnJvbSAnLi91dGlscy9scnUtY2FjaGUnO1xuaW1wb3J0IHtkaWN0fSBmcm9tICcuL3V0aWxzL29iamVjdCc7XG5pbXBvcnQge2VuZHNXaXRoLCBzdGFydHNXaXRofSBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4vbW9kZSc7XG5pbXBvcnQge2lzQXJyYXl9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtwYXJzZVF1ZXJ5U3RyaW5nX30gZnJvbSAnLi91cmwtcGFyc2UtcXVlcnktc3RyaW5nJztcbmltcG9ydCB7dHJ5RGVjb2RlVXJpQ29tcG9uZW50X30gZnJvbSAnLi91cmwtdHJ5LWRlY29kZS11cmktY29tcG9uZW50JztcbmltcG9ydCB7dXJsc30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuL2xvZyc7XG5cbi8qKlxuICogQHR5cGUgeyFKc29uT2JqZWN0fVxuICovXG5jb25zdCBTRVJWSU5HX1RZUEVfUFJFRklYID0gZGljdCh7XG4gIC8vIE5vIHZpZXdlclxuICAnYyc6IHRydWUsXG4gIC8vIEluIHZpZXdlclxuICAndic6IHRydWUsXG4gIC8vIEFkIGxhbmRpbmcgcGFnZVxuICAnYSc6IHRydWUsXG4gIC8vIEFkXG4gICdhZCc6IHRydWUsXG59KTtcblxuLyoqXG4gKiBDYWNoZWQgYS10YWcgdG8gYXZvaWQgbWVtb3J5IGFsbG9jYXRpb24gZHVyaW5nIFVSTCBwYXJzaW5nLlxuICogQHR5cGUge0hUTUxBbmNob3JFbGVtZW50fVxuICovXG5sZXQgYTtcblxuLyoqXG4gKiBXZSBjYWNoZWQgYWxsIHBhcnNlZCBVUkxzLiBBcyBvZiBub3cgdGhlcmUgYXJlIG5vIHVzZSBjYXNlc1xuICogb2YgQU1QIGRvY3MgdGhhdCB3b3VsZCBldmVyIHBhcnNlIGFuIGFjdHVhbCBsYXJnZSBudW1iZXIgb2YgVVJMcyxcbiAqIGJ1dCB3ZSBvZnRlbiBwYXJzZSB0aGUgc2FtZSBvbmUgb3ZlciBhbmQgb3ZlciBhZ2Fpbi5cbiAqIEB0eXBlIHtMcnVDYWNoZX1cbiAqL1xubGV0IGNhY2hlO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IE1hdGNoZXMgYW1wX2pzXyogcGFyYW1ldGVycyBpbiBxdWVyeSBzdHJpbmcuICovXG5jb25zdCBBTVBfSlNfUEFSQU1TX1JFR0VYID0gL1s/Jl1hbXBfanNbXiZdKi87XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgTWF0Y2hlcyBhbXBfZ3NhIHBhcmFtZXRlcnMgaW4gcXVlcnkgc3RyaW5nLiAqL1xuY29uc3QgQU1QX0dTQV9QQVJBTVNfUkVHRVggPSAvWz8mXWFtcF9nc2FbXiZdKi87XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgTWF0Y2hlcyBhbXBfciBwYXJhbWV0ZXJzIGluIHF1ZXJ5IHN0cmluZy4gKi9cbmNvbnN0IEFNUF9SX1BBUkFNU19SRUdFWCA9IC9bPyZdYW1wX3JbXiZdKi87XG5cbi8qKiBAcHJpdmF0ZSBAY29uc3QgTWF0Y2hlcyB1c3FwIHBhcmFtZXRlcnMgZnJvbSBnb29nIGV4cGVyaW1lbnQgaW4gcXVlcnkgc3RyaW5nLiAqL1xuY29uc3QgR09PR0xFX0VYUEVSSU1FTlRfUEFSQU1TX1JFR0VYID0gL1s/Jl11c3FwW14mXSovO1xuXG5jb25zdCBJTlZBTElEX1BST1RPQ09MUyA9IFtcbiAgLyplc2xpbnQgbm8tc2NyaXB0LXVybDogMCovICdqYXZhc2NyaXB0OicsXG4gIC8qZXNsaW50IG5vLXNjcmlwdC11cmw6IDAqLyAnZGF0YTonLFxuICAvKmVzbGludCBuby1zY3JpcHQtdXJsOiAwKi8gJ3Zic2NyaXB0OicsXG5dO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgU09VUkNFX09SSUdJTl9QQVJBTSA9ICdfX2FtcF9zb3VyY2Vfb3JpZ2luJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb3JyZWN0IG9yaWdpbiBmb3IgYSBnaXZlbiB3aW5kb3cuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7c3RyaW5nfSBvcmlnaW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbk9yaWdpbih3aW4pIHtcbiAgcmV0dXJuIHdpbi5vcmlnaW4gfHwgcGFyc2VVcmxEZXByZWNhdGVkKHdpbi5sb2NhdGlvbi5ocmVmKS5vcmlnaW47XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvY2F0aW9uLWxpa2Ugb2JqZWN0IGZvciB0aGUgZ2l2ZW4gVVJMLiBJZiBpdCBpcyByZWxhdGl2ZSxcbiAqIHRoZSBVUkwgZ2V0cyByZXNvbHZlZC5cbiAqIENvbnNpZGVyIHRoZSByZXR1cm5lZCBvYmplY3QgaW1tdXRhYmxlLiBUaGlzIGlzIGVuZm9yY2VkIGR1cmluZ1xuICogdGVzdGluZyBieSBmcmVlemluZyB0aGUgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X25vY2FjaGVcbiAqIEByZXR1cm4geyFMb2NhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwsIG9wdF9ub2NhY2hlKSB7XG4gIGlmICghYSkge1xuICAgIGEgPSAvKiogQHR5cGUgeyFIVE1MQW5jaG9yRWxlbWVudH0gKi8gKHNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpKTtcbiAgICBjYWNoZSA9IHNlbGYuVXJsQ2FjaGUgfHwgKHNlbGYuVXJsQ2FjaGUgPSBuZXcgTHJ1Q2FjaGUoMTAwKSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VVcmxXaXRoQShhLCB1cmwsIG9wdF9ub2NhY2hlID8gbnVsbCA6IGNhY2hlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgTG9jYXRpb24tbGlrZSBvYmplY3QgZm9yIHRoZSBnaXZlbiBVUkwuIElmIGl0IGlzIHJlbGF0aXZlLFxuICogdGhlIFVSTCBnZXRzIHJlc29sdmVkLlxuICogQ29uc2lkZXIgdGhlIHJldHVybmVkIG9iamVjdCBpbW11dGFibGUuIFRoaXMgaXMgZW5mb3JjZWQgZHVyaW5nXG4gKiB0ZXN0aW5nIGJ5IGZyZWV6aW5nIHRoZSBvYmplY3QuXG4gKiBAcGFyYW0geyFIVE1MQW5jaG9yRWxlbWVudH0gYVxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtMcnVDYWNoZT19IG9wdF9jYWNoZVxuICogQHJldHVybiB7IUxvY2F0aW9ufVxuICogQHJlc3RyaWN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsV2l0aEEoYSwgdXJsLCBvcHRfY2FjaGUpIHtcbiAgaWYgKG9wdF9jYWNoZSAmJiBvcHRfY2FjaGUuaGFzKHVybCkpIHtcbiAgICByZXR1cm4gb3B0X2NhY2hlLmdldCh1cmwpO1xuICB9XG5cbiAgYS5ocmVmID0gdXJsO1xuXG4gIC8vIElFMTEgZG9lc24ndCBwcm92aWRlIGZ1bGwgVVJMIGNvbXBvbmVudHMgd2hlbiBwYXJzaW5nIHJlbGF0aXZlIFVSTHMuXG4gIC8vIEFzc2lnbmluZyB0byBpdHNlbGYgYWdhaW4gZG9lcyB0aGUgdHJpY2sgIzM0NDkuXG4gIGlmICghYS5wcm90b2NvbCkge1xuICAgIGEuaHJlZiA9IGEuaHJlZjtcbiAgfVxuXG4gIGNvbnN0IGluZm8gPSAvKiogQHR5cGUgeyFMb2NhdGlvbn0gKi8oe1xuICAgIGhyZWY6IGEuaHJlZixcbiAgICBwcm90b2NvbDogYS5wcm90b2NvbCxcbiAgICBob3N0OiBhLmhvc3QsXG4gICAgaG9zdG5hbWU6IGEuaG9zdG5hbWUsXG4gICAgcG9ydDogYS5wb3J0ID09ICcwJyA/ICcnIDogYS5wb3J0LFxuICAgIHBhdGhuYW1lOiBhLnBhdGhuYW1lLFxuICAgIHNlYXJjaDogYS5zZWFyY2gsXG4gICAgaGFzaDogYS5oYXNoLFxuICAgIG9yaWdpbjogbnVsbCwgLy8gU2V0IGJlbG93LlxuICB9KTtcblxuICAvLyBTb21lIElFMTEgc3BlY2lmaWMgcG9seWZpbGxzLlxuICAvLyAxKSBJRTExIHN0cmlwcyBvdXQgdGhlIGxlYWRpbmcgJy8nIGluIHRoZSBwYXRobmFtZS5cbiAgaWYgKGluZm8ucGF0aG5hbWVbMF0gIT09ICcvJykge1xuICAgIGluZm8ucGF0aG5hbWUgPSAnLycgKyBpbmZvLnBhdGhuYW1lO1xuICB9XG5cbiAgLy8gMikgRm9yIFVSTHMgd2l0aCBpbXBsaWNpdCBwb3J0cywgSUUxMSBwYXJzZXMgdG8gZGVmYXVsdCBwb3J0cyB3aGlsZVxuICAvLyBvdGhlciBicm93c2VycyBsZWF2ZSB0aGUgcG9ydCBmaWVsZCBlbXB0eS5cbiAgaWYgKChpbmZvLnByb3RvY29sID09ICdodHRwOicgJiYgaW5mby5wb3J0ID09IDgwKVxuICAgICAgfHwgKGluZm8ucHJvdG9jb2wgPT0gJ2h0dHBzOicgJiYgaW5mby5wb3J0ID09IDQ0MykpIHtcbiAgICBpbmZvLnBvcnQgPSAnJztcbiAgICBpbmZvLmhvc3QgPSBpbmZvLmhvc3RuYW1lO1xuICB9XG5cbiAgLy8gRm9yIGRhdGEgVVJJIGEub3JpZ2luIGlzIGVxdWFsIHRvIHRoZSBzdHJpbmcgJ251bGwnIHdoaWNoIGlzIG5vdCB1c2VmdWwuXG4gIC8vIFdlIGluc3RlYWQgcmV0dXJuIHRoZSBhY3R1YWwgb3JpZ2luIHdoaWNoIGlzIHRoZSBmdWxsIFVSTC5cbiAgaWYgKGEub3JpZ2luICYmIGEub3JpZ2luICE9ICdudWxsJykge1xuICAgIGluZm8ub3JpZ2luID0gYS5vcmlnaW47XG4gIH0gZWxzZSBpZiAoaW5mby5wcm90b2NvbCA9PSAnZGF0YTonIHx8ICFpbmZvLmhvc3QpIHtcbiAgICBpbmZvLm9yaWdpbiA9IGluZm8uaHJlZjtcbiAgfSBlbHNlIHtcbiAgICBpbmZvLm9yaWdpbiA9IGluZm8ucHJvdG9jb2wgKyAnLy8nICsgaW5mby5ob3N0O1xuICB9XG5cbiAgLy8gRnJlZXplIGR1cmluZyB0ZXN0aW5nIHRvIGF2b2lkIGFjY2lkZW50YWwgbXV0YXRpb24uXG4gIGNvbnN0IGZyb3plbiA9IChnZXRNb2RlKCkudGVzdCAmJiBPYmplY3QuZnJlZXplKSA/IE9iamVjdC5mcmVlemUoaW5mbykgOiBpbmZvO1xuXG4gIGlmIChvcHRfY2FjaGUpIHtcbiAgICBvcHRfY2FjaGUucHV0KHVybCwgZnJvemVuKTtcbiAgfVxuXG4gIHJldHVybiBmcm96ZW47XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgc3RyaW5nIGp1c3QgYmVmb3JlIHRoZSBmcmFnbWVudCBwYXJ0IChvciBvcHRpb25hbGx5XG4gKiB0byB0aGUgZnJvbnQgb2YgdGhlIHF1ZXJ5IHN0cmluZykgb2YgdGhlIFVSTC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVN0cmluZ1xuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2FkZFRvRnJvbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEVuY29kZWRQYXJhbVN0cmluZ1RvVXJsKHVybCwgcGFyYW1TdHJpbmcsXG4gIG9wdF9hZGRUb0Zyb250KSB7XG4gIGlmICghcGFyYW1TdHJpbmcpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGNvbnN0IG1haW5BbmRGcmFnbWVudCA9IHVybC5zcGxpdCgnIycsIDIpO1xuICBjb25zdCBtYWluQW5kUXVlcnkgPSBtYWluQW5kRnJhZ21lbnRbMF0uc3BsaXQoJz8nLCAyKTtcblxuICBsZXQgbmV3VXJsID0gbWFpbkFuZFF1ZXJ5WzBdICsgKFxuICAgIG1haW5BbmRRdWVyeVsxXVxuICAgICAgPyAob3B0X2FkZFRvRnJvbnRcbiAgICAgICAgPyBgPyR7cGFyYW1TdHJpbmd9JiR7bWFpbkFuZFF1ZXJ5WzFdfWBcbiAgICAgICAgOiBgPyR7bWFpbkFuZFF1ZXJ5WzFdfSYke3BhcmFtU3RyaW5nfWApXG4gICAgICA6IGA/JHtwYXJhbVN0cmluZ31gKTtcbiAgbmV3VXJsICs9IG1haW5BbmRGcmFnbWVudFsxXSA/IGAjJHttYWluQW5kRnJhZ21lbnRbMV19YCA6ICcnO1xuICByZXR1cm4gbmV3VXJsO1xufVxuLyoqXG4gKiBBcHBlbmRzIGEgcXVlcnkgc3RyaW5nIGZpZWxkIGFuZCB2YWx1ZSB0byBhIHVybC4gYGtleWAgYW5kIGB2YWx1ZWBcbiAqIHdpbGwgYmUgcmFuIHRocm91Z2ggYGVuY29kZVVSSUNvbXBvbmVudGAgYmVmb3JlIGFwcGVuZGluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2FkZFRvRnJvbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFBhcmFtVG9VcmwodXJsLCBrZXksIHZhbHVlLCBvcHRfYWRkVG9Gcm9udCkge1xuICBjb25zdCBmaWVsZCA9IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcbiAgcmV0dXJuIGFwcGVuZEVuY29kZWRQYXJhbVN0cmluZ1RvVXJsKHVybCwgZmllbGQsIG9wdF9hZGRUb0Zyb250KTtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHF1ZXJ5IHN0cmluZyBmaWVsZHMgYW5kIHZhbHVlcyB0byBhIHVybC4gVGhlIGBwYXJhbXNgIG9iamVjdHMnXG4gKiBga2V5YHMgYW5kIGB2YWx1ZWBzIHdpbGwgYmUgdHJhbnNmb3JtZWQgaW50byBxdWVyeSBzdHJpbmcga2V5cy92YWx1ZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0PHN0cmluZywgc3RyaW5nfCFBcnJheTxzdHJpbmc+Pn0gcGFyYW1zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXJhbXNUb1VybCh1cmwsIHBhcmFtcykge1xuICByZXR1cm4gYXBwZW5kRW5jb2RlZFBhcmFtU3RyaW5nVG9VcmwodXJsLCBzZXJpYWxpemVRdWVyeVN0cmluZyhwYXJhbXMpKTtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemVzIHRoZSBwYXNzZWQgcGFyYW1ldGVyIG1hcCBpbnRvIGEgcXVlcnkgc3RyaW5nIHdpdGggYm90aCBrZXlzXG4gKiBhbmQgdmFsdWVzIGVuY29kZWQuXG4gKiBAcGFyYW0geyFKc29uT2JqZWN0PHN0cmluZywgc3RyaW5nfCFBcnJheTxzdHJpbmc+Pn0gcGFyYW1zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVRdWVyeVN0cmluZyhwYXJhbXMpIHtcbiAgY29uc3QgcyA9IFtdO1xuICBmb3IgKGNvbnN0IGsgaW4gcGFyYW1zKSB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1trXTtcbiAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodikpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdiA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodltpXSk7XG4gICAgICAgIHMucHVzaChgJHtlbmNvZGVVUklDb21wb25lbnQoayl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN2KX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3YgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHYpO1xuICAgICAgcy5wdXNoKGAke2VuY29kZVVSSUNvbXBvbmVudChrKX09JHtlbmNvZGVVUklDb21wb25lbnQoc3YpfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBpcyBzZWN1cmU6IGVpdGhlciBIVFRQUyBvciBsb2NhbGhvc3QgKGZvciB0ZXN0aW5nKS5cbiAqIEBwYXJhbSB7c3RyaW5nfCFMb2NhdGlvbn0gdXJsXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTZWN1cmVVcmxEZXByZWNhdGVkKHVybCkge1xuICBpZiAodHlwZW9mIHVybCA9PSAnc3RyaW5nJykge1xuICAgIHVybCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwpO1xuICB9XG4gIHJldHVybiAodXJsLnByb3RvY29sID09ICdodHRwczonIHx8XG4gICAgICB1cmwuaG9zdG5hbWUgPT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAgIGVuZHNXaXRoKHVybC5ob3N0bmFtZSwgJy5sb2NhbGhvc3QnKSk7XG59XG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IGEgZ2l2ZW4gdXJsIGlzIEhUVFBTIG9yIHByb3RvY29sIHJlbGF0aXZlLiBJdCdzIGEgdXNlci1sZXZlbFxuICogYXNzZXJ0LlxuICpcbiAqIFByb3ZpZGVzIGFuIGV4Y2VwdGlvbiBmb3IgbG9jYWxob3N0LlxuICpcbiAqIEBwYXJhbSB7P3N0cmluZ3x1bmRlZmluZWR9IHVybFN0cmluZ1xuICogQHBhcmFtIHshRWxlbWVudHxzdHJpbmd9IGVsZW1lbnRDb250ZXh0IEVsZW1lbnQgd2hlcmUgdGhlIHVybCB3YXMgZm91bmQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHNvdXJjZU5hbWUgVXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRIdHRwc1VybChcbiAgdXJsU3RyaW5nLCBlbGVtZW50Q29udGV4dCwgc291cmNlTmFtZSA9ICdzb3VyY2UnKSB7XG4gIHVzZXIoKS5hc3NlcnQodXJsU3RyaW5nICE9IG51bGwsICclcyAlcyBtdXN0IGJlIGF2YWlsYWJsZScsXG4gICAgICBlbGVtZW50Q29udGV4dCwgc291cmNlTmFtZSk7XG4gIC8vIChlcndpbm0sICM0NTYwKTogdHlwZSBjYXN0IG5lY2Vzc2FyeSB1bnRpbCAjNDU2MCBpcyBmaXhlZC5cbiAgY29uc3QgdGhlVXJsU3RyaW5nID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovICh1cmxTdHJpbmcpO1xuICB1c2VyKCkuYXNzZXJ0KGlzU2VjdXJlVXJsRGVwcmVjYXRlZCh0aGVVcmxTdHJpbmcpIHx8IC9eKFxcL1xcLykvLnRlc3QodGhlVXJsU3RyaW5nKSxcbiAgICAgICclcyAlcyBtdXN0IHN0YXJ0IHdpdGggJyArXG4gICAgICAnXCJodHRwczovL1wiIG9yIFwiLy9cIiBvciBiZSByZWxhdGl2ZSBhbmQgc2VydmVkIGZyb20gJyArXG4gICAgICAnZWl0aGVyIGh0dHBzIG9yIGZyb20gbG9jYWxob3N0LiBJbnZhbGlkIHZhbHVlOiAlcycsXG4gICAgICBlbGVtZW50Q29udGV4dCwgc291cmNlTmFtZSwgdGhlVXJsU3RyaW5nKTtcbiAgcmV0dXJuIHRoZVVybFN0cmluZztcbn1cblxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgYSBnaXZlbiB1cmwgaXMgYW4gYWJzb2x1dGUgSFRUUCBvciBIVFRQUyBVUkwuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsU3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBYnNvbHV0ZUh0dHBPckh0dHBzVXJsKHVybFN0cmluZykge1xuICB1c2VyKCkuYXNzZXJ0KC9eaHR0cHM/XFw6L2kudGVzdCh1cmxTdHJpbmcpLFxuICAgICAgJ1VSTCBtdXN0IHN0YXJ0IHdpdGggXCJodHRwOi8vXCIgb3IgXCJodHRwczovL1wiLiBJbnZhbGlkIHZhbHVlOiAlcycsXG4gICAgICB1cmxTdHJpbmcpO1xuICByZXR1cm4gcGFyc2VVcmxEZXByZWNhdGVkKHVybFN0cmluZykuaHJlZjtcbn1cblxuXG4vKipcbiAqIFBhcnNlcyB0aGUgcXVlcnkgc3RyaW5nIG9mIGFuIFVSTC4gVGhpcyBtZXRob2QgcmV0dXJucyBhIHNpbXBsZSBrZXkvdmFsdWVcbiAqIG1hcC4gSWYgdGhlcmUgYXJlIGR1cGxpY2F0ZSBrZXlzIHRoZSBsYXRlc3QgdmFsdWUgaXMgcmV0dXJuZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbXBsZW1lbnRlZCBpbiBhIHNlcGFyYXRlIGZpbGUgdG8gYXZvaWQgYSBjaXJjdWxhclxuICogZGVwZW5kZW5jeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmdcbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZykge1xuICByZXR1cm4gcGFyc2VRdWVyeVN0cmluZ18ocXVlcnlTdHJpbmcpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIFVSTCB3aXRob3V0IGZyYWdtZW50LiBJZiBVUkwgZG9lc24ndCBjb250YWluIGZyYWdtZW50LCB0aGUgc2FtZVxuICogc3RyaW5nIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRnJhZ21lbnQodXJsKSB7XG4gIGNvbnN0IGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZnJhZ21lbnQgZnJvbSB0aGUgVVJMLiBJZiB0aGUgVVJMIGRvZXNuJ3QgY29udGFpbiBmcmFnbWVudCxcbiAqIHRoZSBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFnbWVudCh1cmwpIHtcbiAgY29uc3QgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoaW5kZXgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgVVJMIGhhcyB0aGUgb3JpZ2luIG9mIGEgcHJveHkuXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybCBVUkwgb2YgYW4gQU1QIGRvY3VtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJveHlPcmlnaW4odXJsKSB7XG4gIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybCk7XG4gIH1cbiAgcmV0dXJuIHVybHMuY2RuUHJveHlSZWdleC50ZXN0KHVybC5vcmlnaW4pO1xufVxuXG4vKipcbiAqIEZvciBwcm94eS1vcmlnaW4gVVJMcywgcmV0dXJucyB0aGUgc2VydmluZyB0eXBlLiBPdGhlcndpc2UsIHJldHVybnMgbnVsbC5cbiAqIEUuZy4sICdodHRwczovL2FtcC1jb20uY2RuLmFtcHByb2plY3Qub3JnL2Evcy9hbXAuY29tL2FtcF9kb2N1bWVudC5odG1sJ1xuICogcmV0dXJucyAnYScuXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybCBVUkwgb2YgYW4gQU1QIGRvY3VtZW50LlxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3h5U2VydmluZ1R5cGUodXJsKSB7XG4gIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybCk7XG4gIH1cbiAgaWYgKCFpc1Byb3h5T3JpZ2luKHVybCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lLnNwbGl0KCcvJywgMik7XG4gIHJldHVybiBwYXRoWzFdO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgVVJMIG9yaWdpbiBpcyBsb2NhbGhvc3QuXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IHVybCBVUkwgb2YgYW4gQU1QIGRvY3VtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9jYWxob3N0T3JpZ2luKHVybCkge1xuICBpZiAodHlwZW9mIHVybCA9PSAnc3RyaW5nJykge1xuICAgIHVybCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwpO1xuICB9XG4gIHJldHVybiB1cmxzLmxvY2FsaG9zdFJlZ2V4LnRlc3QodXJsLm9yaWdpbik7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBVUkwgaGFzIHZhbGlkIHByb3RvY29sLlxuICogRGVlcCBsaW5rIHByb3RvY29sIGlzIHZhbGlkLCBidXQgbm90IGphdmFzY3JpcHQgZXRjLlxuICogQHBhcmFtIHtzdHJpbmd8IUxvY2F0aW9ufSB1cmxcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3RvY29sVmFsaWQodXJsKSB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB1cmwgPT0gJ3N0cmluZycpIHtcbiAgICB1cmwgPSBwYXJzZVVybERlcHJlY2F0ZWQodXJsKTtcbiAgfVxuICByZXR1cm4gIUlOVkFMSURfUFJPVE9DT0xTLmluY2x1ZGVzKHVybC5wcm90b2NvbCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFVSTCB3aXRob3V0IEFNUCBKUyBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQW1wSnNQYXJhbXNGcm9tVXJsKHVybCkge1xuICBjb25zdCBwYXJzZWQgPSBwYXJzZVVybERlcHJlY2F0ZWQodXJsKTtcbiAgY29uc3Qgc2VhcmNoID0gcmVtb3ZlQW1wSnNQYXJhbXNGcm9tU2VhcmNoKHBhcnNlZC5zZWFyY2gpO1xuICByZXR1cm4gcGFyc2VkLm9yaWdpbiArIHBhcnNlZC5wYXRobmFtZSArIHNlYXJjaCArIHBhcnNlZC5oYXNoO1xuXG59XG5cbi8qKlxuICogUmV0dXJucyBhIFVSTCB3aXRob3V0IGEgcXVlcnkgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2VhcmNoKHVybCkge1xuICBjb25zdCBpbmRleCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gIGlmIChpbmRleCA9PSAtMSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgY29uc3QgZnJhZ21lbnQgPSBnZXRGcmFnbWVudCh1cmwpO1xuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCBpbmRleCkgKyBmcmFnbWVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHBhcmFtZXRlcnMgdGhhdCBzdGFydCB3aXRoIGFtcCBqcyBwYXJhbWV0ZXIgcGF0dGVybiBhbmQgcmV0dXJucyB0aGVcbiAqIG5ldyBzZWFyY2ggc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFNlYXJjaFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZW1vdmVBbXBKc1BhcmFtc0Zyb21TZWFyY2godXJsU2VhcmNoKSB7XG4gIGlmICghdXJsU2VhcmNoIHx8IHVybFNlYXJjaCA9PSAnPycpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3Qgc2VhcmNoID0gdXJsU2VhcmNoXG4gICAgICAucmVwbGFjZShBTVBfSlNfUEFSQU1TX1JFR0VYLCAnJylcbiAgICAgIC5yZXBsYWNlKEFNUF9HU0FfUEFSQU1TX1JFR0VYLCAnJylcbiAgICAgIC5yZXBsYWNlKEFNUF9SX1BBUkFNU19SRUdFWCwgJycpXG4gICAgICAucmVwbGFjZShHT09HTEVfRVhQRVJJTUVOVF9QQVJBTVNfUkVHRVgsICcnKVxuICAgICAgLnJlcGxhY2UoL15bPyZdLywgJycpOyAvLyBSZW1vdmVzIGZpcnN0ID8gb3IgJi5cbiAgcmV0dXJuIHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNvdXJjZSBVUkwgb2YgYW4gQU1QIGRvY3VtZW50IGZvciBkb2N1bWVudHMgc2VydmVkXG4gKiBvbiBhIHByb3h5IG9yaWdpbiBvciBkaXJlY3RseS5cbiAqIEBwYXJhbSB7c3RyaW5nfCFMb2NhdGlvbn0gdXJsIFVSTCBvZiBhbiBBTVAgZG9jdW1lbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTb3VyY2VVcmwodXJsKSB7XG4gIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHVybCk7XG4gIH1cblxuICAvLyBOb3QgYSBwcm94eSBVUkwgLSByZXR1cm4gdGhlIFVSTCBpdHNlbGYuXG4gIGlmICghaXNQcm94eU9yaWdpbih1cmwpKSB7XG4gICAgcmV0dXJuIHVybC5ocmVmO1xuICB9XG5cbiAgLy8gQSBwcm94eSBVUkwuXG4gIC8vIEV4YW1wbGUgcGF0aCB0aGF0IGlzIGJlaW5nIG1hdGNoZWQgaGVyZS5cbiAgLy8gaHR0cHM6Ly9jZG4uYW1wcHJvamVjdC5vcmcvYy9zL3d3dy5vcmlnaW4uY29tL2Zvby9cbiAgLy8gVGhlIC9zLyBpcyBvcHRpb25hbCBhbmQgc2lnbmFscyBhIHNlY3VyZSBvcmlnaW4uXG4gIGNvbnN0IHBhdGggPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgY29uc3QgcHJlZml4ID0gcGF0aFsxXTtcbiAgdXNlcigpLmFzc2VydChTRVJWSU5HX1RZUEVfUFJFRklYW3ByZWZpeF0sXG4gICAgICAnVW5rbm93biBwYXRoIHByZWZpeCBpbiB1cmwgJXMnLCB1cmwuaHJlZik7XG4gIGNvbnN0IGRvbWFpbk9ySHR0cHNTaWduYWwgPSBwYXRoWzJdO1xuICBjb25zdCBvcmlnaW4gPSBkb21haW5Pckh0dHBzU2lnbmFsID09ICdzJ1xuICAgID8gJ2h0dHBzOi8vJyArIGRlY29kZVVSSUNvbXBvbmVudChwYXRoWzNdKVxuICAgIDogJ2h0dHA6Ly8nICsgZGVjb2RlVVJJQ29tcG9uZW50KGRvbWFpbk9ySHR0cHNTaWduYWwpO1xuICAvLyBTYW5pdHkgdGVzdCB0aGF0IHdoYXQgd2UgZm91bmQgbG9va3MgbGlrZSBhIGRvbWFpbi5cbiAgdXNlcigpLmFzc2VydChvcmlnaW4uaW5kZXhPZignLicpID4gMCwgJ0V4cGVjdGVkIGEgLiBpbiBvcmlnaW4gJXMnLCBvcmlnaW4pO1xuICBwYXRoLnNwbGljZSgxLCBkb21haW5Pckh0dHBzU2lnbmFsID09ICdzJyA/IDMgOiAyKTtcbiAgcmV0dXJuIG9yaWdpbiArIHBhdGguam9pbignLycpICtcbiAgICAgIHJlbW92ZUFtcEpzUGFyYW1zRnJvbVNlYXJjaCh1cmwuc2VhcmNoKSArICh1cmwuaGFzaCB8fCAnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc291cmNlIG9yaWdpbiBvZiBhbiBBTVAgZG9jdW1lbnQgZm9yIGRvY3VtZW50cyBzZXJ2ZWRcbiAqIG9uIGEgcHJveHkgb3JpZ2luIG9yIGRpcmVjdGx5LlxuICogQHBhcmFtIHtzdHJpbmd8IUxvY2F0aW9ufSB1cmwgVVJMIG9mIGFuIEFNUCBkb2N1bWVudC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHNvdXJjZSBvcmlnaW4gb2YgdGhlIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNvdXJjZU9yaWdpbih1cmwpIHtcbiAgcmV0dXJuIHBhcnNlVXJsRGVwcmVjYXRlZChnZXRTb3VyY2VVcmwodXJsKSkub3JpZ2luO1xufVxuXG4vKipcbiAqIFJldHVybnMgYWJzb2x1dGUgVVJMIHJlc29sdmVkIGJhc2VkIG9uIHRoZSByZWxhdGl2ZSBVUkwgYW5kIHRoZSBiYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVXJsU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ3whTG9jYXRpb259IGJhc2VVcmxcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSZWxhdGl2ZVVybChyZWxhdGl2ZVVybFN0cmluZywgYmFzZVVybCkge1xuICBpZiAodHlwZW9mIGJhc2VVcmwgPT0gJ3N0cmluZycpIHtcbiAgICBiYXNlVXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKGJhc2VVcmwpO1xuICB9XG4gIGlmICh0eXBlb2YgVVJMID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IFVSTChyZWxhdGl2ZVVybFN0cmluZywgYmFzZVVybC5ocmVmKS50b1N0cmluZygpO1xuICB9XG4gIHJldHVybiByZXNvbHZlUmVsYXRpdmVVcmxGYWxsYmFja18ocmVsYXRpdmVVcmxTdHJpbmcsIGJhc2VVcmwpO1xufVxuXG4vKipcbiAqIEZhbGxiYWNrIGZvciBVUkwgcmVzb2x2ZXIgd2hlbiBVUkwgY2xhc3MgaXMgbm90IGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVybFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd8IUxvY2F0aW9ufSBiYXNlVXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZSBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJlbGF0aXZlVXJsRmFsbGJhY2tfKHJlbGF0aXZlVXJsU3RyaW5nLCBiYXNlVXJsKSB7XG4gIGlmICh0eXBlb2YgYmFzZVVybCA9PSAnc3RyaW5nJykge1xuICAgIGJhc2VVcmwgPSBwYXJzZVVybERlcHJlY2F0ZWQoYmFzZVVybCk7XG4gIH1cbiAgcmVsYXRpdmVVcmxTdHJpbmcgPSByZWxhdGl2ZVVybFN0cmluZy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gIGNvbnN0IHJlbGF0aXZlVXJsID0gcGFyc2VVcmxEZXByZWNhdGVkKHJlbGF0aXZlVXJsU3RyaW5nKTtcblxuICAvLyBBYnNvbHV0ZSBVUkwuXG4gIGlmIChzdGFydHNXaXRoKHJlbGF0aXZlVXJsU3RyaW5nLnRvTG93ZXJDYXNlKCksIHJlbGF0aXZlVXJsLnByb3RvY29sKSkge1xuICAgIHJldHVybiByZWxhdGl2ZVVybC5ocmVmO1xuICB9XG5cbiAgLy8gUHJvdG9jb2wtcmVsYXRpdmUgVVJMLlxuICBpZiAoc3RhcnRzV2l0aChyZWxhdGl2ZVVybFN0cmluZywgJy8vJykpIHtcbiAgICByZXR1cm4gYmFzZVVybC5wcm90b2NvbCArIHJlbGF0aXZlVXJsU3RyaW5nO1xuICB9XG5cbiAgLy8gQWJzb2x1dGUgcGF0aC5cbiAgaWYgKHN0YXJ0c1dpdGgocmVsYXRpdmVVcmxTdHJpbmcsICcvJykpIHtcbiAgICByZXR1cm4gYmFzZVVybC5vcmlnaW4gKyByZWxhdGl2ZVVybFN0cmluZztcbiAgfVxuXG4gIC8vIFJlbGF0aXZlIHBhdGguXG4gIHJldHVybiBiYXNlVXJsLm9yaWdpbiArIGJhc2VVcmwucGF0aG5hbWUucmVwbGFjZSgvXFwvW14vXSokLywgJy8nKVxuICAgICAgKyByZWxhdGl2ZVVybFN0cmluZztcbn1cblxuXG4vKipcbiAqIEFkZCBcIl9fYW1wX3NvdXJjZV9vcmlnaW5cIiBxdWVyeSBwYXJhbWV0ZXIgdG8gdGhlIFVSTC5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JzVXJsKHdpbiwgdXJsKSB7XG4gIGNoZWNrQ29yc1VybCh1cmwpO1xuICBjb25zdCBzb3VyY2VPcmlnaW4gPSBnZXRTb3VyY2VPcmlnaW4od2luLmxvY2F0aW9uLmhyZWYpO1xuICByZXR1cm4gYWRkUGFyYW1Ub1VybCh1cmwsIFNPVVJDRV9PUklHSU5fUEFSQU0sIHNvdXJjZU9yaWdpbik7XG59XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHVybCBoYXMgX19hbXBfc291cmNlX29yaWdpbiBhbmQgdGhyb3dzIGlmIGl0IGRvZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NvcnNVcmwodXJsKSB7XG4gIGNvbnN0IHBhcnNlZFVybCA9IHBhcnNlVXJsRGVwcmVjYXRlZCh1cmwpO1xuICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcocGFyc2VkVXJsLnNlYXJjaCk7XG4gIHVzZXIoKS5hc3NlcnQoIShTT1VSQ0VfT1JJR0lOX1BBUkFNIGluIHF1ZXJ5KSxcbiAgICAgICdTb3VyY2Ugb3JpZ2luIGlzIG5vdCBhbGxvd2VkIGluICVzJywgdXJsKTtcbn1cblxuLyoqXG4gKiBUcmllcyB0byBkZWNvZGUgYSBVUkkgY29tcG9uZW50LCBmYWxsaW5nIGJhY2sgdG8gb3B0X2ZhbGxiYWNrIChvciBhbiBlbXB0eVxuICogc3RyaW5nKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2ZhbGxiYWNrXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlEZWNvZGVVcmlDb21wb25lbnQoY29tcG9uZW50LCBvcHRfZmFsbGJhY2spIHtcbiAgcmV0dXJuIHRyeURlY29kZVVyaUNvbXBvbmVudF8oY29tcG9uZW50LCBvcHRfZmFsbGJhY2spO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBDb21wYXJlcyBpZiB0d28gYXJyYXlzIGNvbnRhaW5zIGV4YWN0bHkgc2FtZSBlbGVtZW50cyBvZiBzYW1lIG51bWJlclxuICogb2Ygc2FtZSBvcmRlci5cbiAqIE5vdGljZSB0aGF0IGl0IGRvZXMgTk9UIGhhbmRsZSBOYU4gY2FzZSBhcyBleHBlY3RlZFxuICpcbiAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIxXG4gKiBAcGFyYW0geyFBcnJheTxUPn0gYXJyMlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVFcXVhbE9yZGVyZWQoYXJyMSwgYXJyMikge1xuICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycjFbaV0gIT09IGFycjJbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBBIGJpdCBsaWtlIEFycmF5I2ZpbHRlciwgYnV0IHJlbW92ZXMgZWxlbWVudHMgdGhhdCBmaWx0ZXIgZmFsc2UgZnJvbSB0aGVcbiAqIGFycmF5LiBSZXR1cm5zIHRoZSBmaWx0ZXJlZCBpdGVtcy5cbiAqXG4gKiBAcGFyYW0geyFBcnJheTxUPn0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCAhQXJyYXk8VD4pOmJvb2xlYW59IGZpbHRlclxuICogQHJldHVybiB7IUFycmF5PFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclNwbGljZShhcnJheSwgZmlsdGVyKSB7XG4gIGNvbnN0IHNwbGljZSA9IFtdO1xuICBsZXQgaW5kZXggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaXRlbSA9IGFycmF5W2ldO1xuICAgIGlmIChmaWx0ZXIoaXRlbSwgaSwgYXJyYXkpKSB7XG4gICAgICBpZiAoaW5kZXggPCBpKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IGl0ZW07XG4gICAgICB9XG4gICAgICBpbmRleCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpY2UucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaW5kZXggPCBhcnJheS5sZW5ndGgpIHtcbiAgICBhcnJheS5sZW5ndGggPSBpbmRleDtcbiAgfVxuXG4gIHJldHVybiBzcGxpY2U7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgbWF0Y2hpbmcgdGhlIHByZWRpY2F0ZS5cbiAqIExpa2UgQXJyYXkjZmluZEluZGV4LlxuICpcbiAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIsICFBcnJheTxUPik6Ym9vbGVhbn0gcHJlZGljYXRlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaV0sIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gaXRlcmF0b3IgdG8gYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIHshSXRlcmF0b3I8VD59IGl0ZXJhdG9yXG4gKiBAcmV0dXJuIHtBcnJheTxUPn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgY29uc3QgYXJyYXkgPSBbXTtcbiAgZm9yIChsZXQgZSA9IGl0ZXJhdG9yLm5leHQoKTsgIWUuZG9uZTsgZSA9IGl0ZXJhdG9yLm5leHQoKSkge1xuICAgIGFycmF5LnB1c2goZS52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEFkZHMgaXRlbSB0byBhcnJheSBpZiBpdCBpcyBub3QgYWxyZWFkeSBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8VD59IGFycmF5XG4gKiBAcGFyYW0ge1R9IGl0ZW1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdXNoSWZOb3RFeGlzdChhcnJheSwgaXRlbSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZihpdGVtKSA8IDApIHtcbiAgICBhcnJheS5wdXNoKGl0ZW0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVE9ETyhyc2ltaGEsICMxNTMzNCk6IEVuYWJsZSB0aGlzIHJ1bGUuXG4vKiBlc2xpbnQganNkb2MvY2hlY2stdHlwZXM6IDAgKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyBldmFsdWF0ZWQgb25seSBvbmNlIGFuZCByZXR1cm5zIHRoZSBjYWNoZWQgcmVzdWx0XG4gKiBzdWJzZXF1ZW50bHkuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBgb25jZWAgb25seSB0YWtlcyB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpbnRvIGFjY291bnQsXG4gKiBzbyBpdCB3aWxsIHJldHVybiB0aGUgc2FtZSBjYWNoZWQgdmFsdWUgZXZlbiB3aGVuIHRoZSBhcmd1bWVudHMgYXJlXG4gKiBkaWZmZXJlbnQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4pOlR9IGZuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi4pOlR9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZXZhbHVhdGVkID0gZmFsc2U7XG4gIGxldCByZXRWYWx1ZSA9IG51bGw7XG4gIGxldCBjYWxsYmFjayA9IGZuO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIWV2YWx1YXRlZCkge1xuICAgICAgcmV0VmFsdWUgPSBjYWxsYmFjay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIGV2YWx1YXRlZCA9IHRydWU7XG4gICAgICBjYWxsYmFjayA9IG51bGw7IC8vIEdDXG4gICAgfVxuICAgIHJldHVybiByZXRWYWx1ZTtcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBLZXlDb2RlcyA9IHtcbiAgRU5URVI6IDEzLFxuICBFU0NBUEU6IDI3LFxuICBTUEFDRTogMzIsXG4gIExFRlRfQVJST1c6IDM3LFxuICBVUF9BUlJPVzogMzgsXG4gIFJJR0hUX0FSUk9XOiAzOSxcbiAgRE9XTl9BUlJPVzogNDAsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7ZGV2fSBmcm9tICcuLi9sb2cnO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBUQUcgPSAnbHJ1LWNhY2hlJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgTHJ1Q2FjaGUge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNhcGFjaXR5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYXBhY2l0eSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge251bWJlcn0gKi9cbiAgICB0aGlzLmNhcGFjaXR5XyA9IGNhcGFjaXR5O1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5zaXplXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBBbiBpbmNyZW1lbnRpbmcgY291bnRlciB0byBkZWZpbmUgdGhlIGxhc3QgYWNjZXNzLlxuICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hY2Nlc3NfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IU9iamVjdDwobnVtYmVyfHN0cmluZyksIHtwYXlsb2FkOiBULCBhY2Nlc3M6IG51bWJlcn0+fSAqL1xuICAgIHRoaXMuY2FjaGVfID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIga2V5IGlzIGNhY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGhhcyhrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLmNhY2hlX1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30ga2V5XG4gICAqIEByZXR1cm4ge1R9IFRoZSBjYWNoZWQgcGF5bG9hZC5cbiAgICovXG4gIGdldChrZXkpIHtcbiAgICBjb25zdCBjYWNoZWFibGUgPSB0aGlzLmNhY2hlX1trZXldO1xuICAgIGlmIChjYWNoZWFibGUpIHtcbiAgICAgIGNhY2hlYWJsZS5hY2Nlc3MgPSArK3RoaXMuYWNjZXNzXztcbiAgICAgIHJldHVybiBjYWNoZWFibGUucGF5bG9hZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge1R9IHBheWxvYWQgVGhlIHBheWxvYWQgdG8gY2FjaGUuXG4gICAqL1xuICBwdXQoa2V5LCBwYXlsb2FkKSB7XG4gICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICB0aGlzLnNpemVfKys7XG4gICAgfVxuICAgIHRoaXMuY2FjaGVfW2tleV0gPSB7cGF5bG9hZCwgYWNjZXNzOiB0aGlzLmFjY2Vzc199O1xuICAgIHRoaXMuZXZpY3RfKCk7XG4gIH1cblxuICAvKipcbiAgICogRXZpY3RzIHRoZSBvbGRlc3QgY2FjaGUgZW50cnksIGlmIHdlJ3ZlIGV4Y2VlZGVkIGNhcGFjaXR5LlxuICAgKi9cbiAgZXZpY3RfKCkge1xuICAgIGlmICh0aGlzLnNpemVfIDw9IHRoaXMuY2FwYWNpdHlfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGV2KCkud2FybihUQUcsICdUcmltbWluZyBMUlUgY2FjaGUnKTtcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVfO1xuICAgIGxldCBvbGRlc3QgPSB0aGlzLmFjY2Vzc18gKyAxO1xuICAgIGxldCBvbGRlc3RLZXk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY2FjaGUpIHtcbiAgICAgIGNvbnN0IHthY2Nlc3N9ID0gY2FjaGVba2V5XTtcbiAgICAgIGlmIChhY2Nlc3MgPCBvbGRlc3QpIHtcbiAgICAgICAgb2xkZXN0ID0gYWNjZXNzO1xuICAgICAgICBvbGRlc3RLZXkgPSBrZXk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9sZGVzdEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgY2FjaGVbb2xkZXN0S2V5XTtcbiAgICAgIHRoaXMuc2l6ZV8tLTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2lzT2JqZWN0fSBmcm9tICcuLi90eXBlcyc7XG5cbi8qIEBjb25zdCAqL1xuY29uc3QgaGFzT3duXyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogUmV0dXJucyBhIG1hcC1saWtlIG9iamVjdC5cbiAqIElmIG9wdF9pbml0aWFsIGlzIHByb3ZpZGVkLCBjb3BpZXMgaXRzIG93biBwcm9wZXJ0aWVzIGludG8gdGhlXG4gKiBuZXdseSBjcmVhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7VD19IG9wdF9pbml0aWFsIFRoaXMgc2hvdWxkIHR5cGljYWxseSBiZSBhbiBvYmplY3QgbGl0ZXJhbC5cbiAqIEByZXR1cm4ge1R9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwKG9wdF9pbml0aWFsKSB7XG4gIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChvcHRfaW5pdGlhbCkge1xuICAgIE9iamVjdC5hc3NpZ24ob2JqLCBvcHRfaW5pdGlhbCk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gZW1wdHkgSnNvbk9iamVjdCBvciBtYWtlcyB0aGUgcGFzc2VkIGluIG9iamVjdCBsaXRlcmFsXG4gKiBhbiBKc29uT2JqZWN0LlxuICogVGhlIEpzb25PYmplY3QgdHlwZSBpcyBqdXN0IGEgc2ltcGxlIG9iamVjdCB0aGF0IGlzIGF0LWRpY3QuXG4gKiBTZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci93aWtpL0BzdHJ1Y3QtYW5kLUBkaWN0LUFubm90YXRpb25zXG4gKiBmb3Igd2hhdCBhIGRpY3QgaXMgdHlwZS13aXNlLlxuICogVGhlIGxpbnRlciBlbmZvcmNlcyB0aGF0IHRoZSBhcmd1bWVudCBpcywgaW4gZmFjdCwgYXQtZGljdCBsaWtlLlxuICogQHBhcmFtIHshT2JqZWN0PX0gb3B0X2luaXRpYWxcbiAqIEByZXR1cm4geyFKc29uT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGljdChvcHRfaW5pdGlhbCkge1xuICAvLyBXZSBkbyBub3QgY29weS4gVGhlIGxpbnRlciBlbmZvcmNlcyB0aGF0IHRoZSBwYXNzZWQgaW4gb2JqZWN0IGlzIGEgbGl0ZXJhbFxuICAvLyBhbmQgdGh1cyB0aGUgY2FsbGVyIGNhbm5vdCBoYXZlIGEgcmVmZXJlbmNlIHRvIGl0LlxuICByZXR1cm4gLyoqIEB0eXBlIHshSnNvbk9iamVjdH0gKi8gKG9wdF9pbml0aWFsIHx8IHt9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGtleSBpcyBhIHByb3BlcnR5IGluIHRoZSBtYXAuXG4gKlxuICogQHBhcmFtIHtUfSAgb2JqIGEgbWFwIGxpa2UgcHJvcGVydHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gIGtleVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNPd24ob2JqLCBrZXkpIHtcbiAgcmV0dXJuIGhhc093bl8uY2FsbChvYmosIGtleSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBvYmpba2V5XSBpZmYga2V5IGlzIG9iaidzIG93biBwcm9wZXJ0eSAoaXMgbm90IGluaGVyaXRlZCkuXG4gKiBPdGhlcndpc2UsIHJldHVybnMgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvd25Qcm9wZXJ0eShvYmosIGtleSkge1xuICBpZiAoaGFzT3duKG9iaiwga2V5KSkge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogRGVlcCBtZXJnZXMgc291cmNlIGludG8gdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7IU9iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0geyFPYmplY3R9IHNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIG1lcmdlIGRlcHRoLiBJZiBleGNlZWRlZCwgT2JqZWN0LmFzc2lnblxuICogICAgICAgICAgICAgICAgICAgICAgIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7IU9iamVjdH1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBzb3VyY2UgY29udGFpbnMgYSBjaXJjdWxhciByZWZlcmVuY2UuXG4gKiBOb3RlOiBPbmx5IG5lc3RlZCBvYmplY3RzIGFyZSBkZWVwLW1lcmdlZCwgcHJpbWl0aXZlcyBhbmQgYXJyYXlzIGFyZSBub3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UsIGRlcHRoID0gMTApIHtcbiAgLy8gS2VlcCB0cmFjayBvZiBzZWVuIG9iamVjdHMgdG8gZGV0ZWN0IHJlY3Vyc2l2ZSByZWZlcmVuY2VzLlxuICBjb25zdCBzZWVuID0gW107XG5cbiAgLyoqIEB0eXBlIHshQXJyYXk8e3Q6ICFPYmplY3QsIHM6ICFPYmplY3QsIGQ6IG51bWJlcn0+fSAqL1xuICBjb25zdCBxdWV1ZSA9IFtdO1xuICBxdWV1ZS5wdXNoKHt0OiB0YXJnZXQsIHM6IHNvdXJjZSwgZDogMH0pO1xuXG4gIC8vIEJGUyB0byBlbnN1cmUgb2JqZWN0cyBkb24ndCBoYXZlIHJlY3Vyc2l2ZSByZWZlcmVuY2VzIGF0IHNoYWxsb3dlciBkZXB0aHMuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3Qge3QsIHMsIGR9ID0gcXVldWUuc2hpZnQoKTtcbiAgICBpZiAoc2Vlbi5pbmNsdWRlcyhzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2Ugb2JqZWN0IGhhcyBhIGNpcmN1bGFyIHJlZmVyZW5jZS4nKTtcbiAgICB9XG4gICAgc2Vlbi5wdXNoKHMpO1xuICAgIGlmICh0ID09PSBzKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGQgPiBkZXB0aCkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0LCBzKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHNba2V5XTtcbiAgICAgIC8vIFBlcmZvcm0gYSBkZWVwIG1lcmdlIElGRiBib3RoIHRhcmdldCBhbmQgc291cmNlIGhhdmUgdGhlIHNhbWUga2V5XG4gICAgICAvLyB3aG9zZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBhcmUgb2JqZWN0cy5cbiAgICAgIGlmIChoYXNPd24odCwga2V5KSkge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRba2V5XTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KG5ld1ZhbHVlKSAmJiBpc09iamVjdChvbGRWYWx1ZSkpIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHt0OiBvbGRWYWx1ZSwgczogbmV3VmFsdWUsIGQ6IGQgKyAxfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0W2tleV0gPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gbyBBbiBvYmplY3QgdG8gcmVtb3ZlIHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gcHJvcHMgQSBsaXN0IG9mIHByb3BlcnRpZXMgdG8gcmVtb3ZlIGZyb20gdGhlIE9iamVjdFxuICogQHJldHVybiB7IU9iamVjdH0gQW4gb2JqZWN0IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXMgcmVtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gb21pdChvLCBwcm9wcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMobykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGlmICghcHJvcHMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgYWNjW2tleV0gPSBvW2tleV07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBEZWZlcnJlZCBzdHJ1Y3QsIHdoaWNoIGhvbGRzIGEgcGVuZGluZyBwcm9taXNlIGFuZCBpdHMgYXNzb2NpYXRlZFxuICogcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy5cbiAqXG4gKiBUaGlzIGlzIHByZWZlcnJlZCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgUHJvbWlzZSBpbnN0YW5jZSB0byBleHRyYWN0IHRoZVxuICogcmVzb2x2ZS9yZWplY3QgZnVuY3Rpb25zIHlvdXJzZWxmOlxuICpcbiAqIGBgYFxuICogLy8gQXZvaWQgZG9pbmdcbiAqIGxldCByZXNvbHZlO1xuICogY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlcyA9PiB7XG4gKiAgIHJlc29sdmUgPSByZXM7XG4gKiB9KTtcbiAqXG4gKiAvLyBHb29kXG4gKiBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICogY29uc3QgeyBwcm9taXNlLCByZXNvbHZlIH0gPSBkZWZlcnJlZDtcbiAqIGBgYFxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIERlZmVycmVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IHJlc29sdmUsIHJlamVjdDtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdCB7IVByb21pc2U8VD59XG4gICAgICovXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IC8qT0sqL1Byb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgcmVqZWN0ID0gcmVqO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0IHtmdW5jdGlvbihUPSl9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdCB7ZnVuY3Rpb24oKj0pfVxuICAgICAqL1xuICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHByb21pc2UgcmVzb2x2ZWQgdG8gdGhlIHJldHVybiB2YWx1ZSBvZiBmbi5cbiAqIElmIGZuIHN5bmMgdGhyb3dzLCBpdCB3aWxsIGNhdXNlIHRoZSBwcm9taXNlIHRvIHJlamVjdC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6VH0gZm5cbiAqIEByZXR1cm4geyFQcm9taXNlPFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeVJlc29sdmUoZm4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHJlc29sdmUoZm4oKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIGlmIGEgdGhyZXNob2xkIGFtb3VudCBvZiB0aGUgZ2l2ZW4gcHJvbWlzZXNcbiAqIHJlc29sdmUsIGFuZCByZWplY3RzIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7IUFycmF5PCFQcm9taXNlPn0gcHJvbWlzZXMgVGhlIGFycmF5IG9mIHByb21pc2VzIHRvIHRlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnQgVGhlIG51bWJlciBvZiBwcm9taXNlcyB0aGF0IG11c3QgcmVzb2x2ZSBmb3IgdGhlXG4gKiAgICAgcmV0dXJuZWQgcHJvbWlzZSB0byByZXNvbHZlLlxuICogQHJldHVybiB7IVByb21pc2V9IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIGFueSBvZiB0aGUgZ2l2ZW4gcHJvbWlzZXNcbiAqICAgICByZXNvbHZlLCBhbmQgd2hpY2ggcmVqZWN0cyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb21lKHByb21pc2VzLCBjb3VudCA9IDEpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb3VudCA9IE1hdGgubWF4KGNvdW50LCAwKTtcbiAgICBjb25zdCBleHRyYSA9IHByb21pc2VzLmxlbmd0aCAtIGNvdW50O1xuICAgIGlmIChleHRyYSA8IDApIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ25vdCBlbm91Z2ggcHJvbWlzZXMgdG8gcmVzb2x2ZScpKTtcbiAgICB9XG4gICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXNvbHZlKFtdKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgY29uc3QgcmVhc29ucyA9IFtdO1xuXG4gICAgY29uc3Qgb25GdWxmaWxsZWQgPSB2YWx1ZSA9PiB7XG4gICAgICBpZiAodmFsdWVzLmxlbmd0aCA8IGNvdW50KSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09IGNvdW50KSB7XG4gICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZWFzb24gPT4ge1xuICAgICAgaWYgKHJlYXNvbnMubGVuZ3RoIDw9IGV4dHJhKSB7XG4gICAgICAgIHJlYXNvbnMucHVzaChyZWFzb24pO1xuICAgICAgfVxuICAgICAgaWYgKHJlYXNvbnMubGVuZ3RoID4gZXh0cmEpIHtcbiAgICAgICAgcmVqZWN0KHJlYXNvbnMpO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKHByb21pc2VzW2ldKS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBwcm9taXNlIGFkZGVkLlxuICogQGltcGxlbWVudHMge0lUaGVuYWJsZX1cbiAqL1xuZXhwb3J0IGNsYXNzIExhc3RBZGRlZFJlc29sdmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCFQcm9taXNlPj19IG9wdF9wcm9taXNlc1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0X3Byb21pc2VzKSB7XG4gICAgbGV0IHJlc29sdmVfLCByZWplY3RfO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMucHJvbWlzZV8gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXNvbHZlXyA9IHJlc29sdmU7XG4gICAgICByZWplY3RfID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5yZXNvbHZlXyA9IHJlc29sdmVfO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5yZWplY3RfID0gcmVqZWN0XztcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuY291bnRfID0gMDtcblxuICAgIGlmIChvcHRfcHJvbWlzZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0X3Byb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkKG9wdF9wcm9taXNlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHByb21pc2UgdG8gcG9zc2libHkgYmUgcmVzb2x2ZWQuXG4gICAqIEBwYXJhbSB7IVByb21pc2V9IHByb21pc2VcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBhZGQocHJvbWlzZSkge1xuICAgIGNvbnN0IGNvdW50QXRBZGQgPSArK3RoaXMuY291bnRfO1xuICAgIFByb21pc2UucmVzb2x2ZShwcm9taXNlKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICBpZiAodGhpcy5jb3VudF8gPT09IGNvdW50QXRBZGQpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlXyhyZXN1bHQpO1xuICAgICAgfVxuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIC8vIERvbid0IGZvbGxvdyBiZWhhdmlvciBvZiBQcm9taXNlLmFsbCBhbmQgUHJvbWlzZS5yYWNlIGVycm9yIHNvIHRoYXRcbiAgICAgIC8vIHRoaXMgd2lsbCBvbmx5IHJlamVjdCB3aGVuIG1vc3QgcmVjZW50bHkgYWRkZWQgcHJvbWlzZSBmYWlscy5cbiAgICAgIGlmICh0aGlzLmNvdW50XyA9PT0gY291bnRBdEFkZCkge1xuICAgICAgICB0aGlzLnJlamVjdF8oZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnByb21pc2VfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB0aGVuKG9wdF9yZXNvbHZlLCBvcHRfcmVqZWN0KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZV8udGhlbihvcHRfcmVzb2x2ZSwgb3B0X3JlamVjdCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFdyYXBzIGEgZ2l2ZW4gY2FsbGJhY2sgYW5kIGFwcGxpZXMgYSByYXRlIGxpbWl0LlxuICogSXQgdGhyb3R0bGVzIHRoZSBjYWxscyBzbyB0aGF0IG5vIGNvbnNlcXVlbnQgY2FsbHMgaGF2ZSB0aW1lIGludGVydmFsXG4gKiBzbWFsbGVyIHRoYW4gdGhlIGdpdmVuIG1pbmltYWwgaW50ZXJ2YWwuXG4gKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uKil9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gbWluSW50ZXJ2YWwgdGhlIG1pbmltdW0gdGltZSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZFxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uKil9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZSh3aW4sIGNhbGxiYWNrLCBtaW5JbnRlcnZhbCkge1xuICBsZXQgbG9ja2VyID0gMDtcbiAgbGV0IG5leHRDYWxsQXJncyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gYXJnc1xuICAgKi9cbiAgZnVuY3Rpb24gZmlyZShhcmdzKSB7XG4gICAgbmV4dENhbGxBcmdzID0gbnVsbDtcbiAgICAvLyBMb2NrIHRoZSBmaXJlIGZvciBtaW5JbnRlcnZhbCBtaWxsaXNlY29uZHNcbiAgICBsb2NrZXIgPSB3aW4uc2V0VGltZW91dCh3YWl0ZXIsIG1pbkludGVydmFsKTtcblxuICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXRlciBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gd2FpdGVyKCkge1xuICAgIGxvY2tlciA9IDA7XG4gICAgLy8gSWYgZHVyaW5nIHRoZSBwZXJpb2QgdGhlcmUncmUgaW52b2NhdGlvbnMgcXVldWVkIHVwLCBmaXJlIG9uY2UuXG4gICAgaWYgKG5leHRDYWxsQXJncykge1xuICAgICAgZmlyZShuZXh0Q2FsbEFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgaWYgKGxvY2tlcikge1xuICAgICAgbmV4dENhbGxBcmdzID0gYXJncztcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyZShhcmdzKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogV3JhcHMgYSBnaXZlbiBjYWxsYmFjayBhbmQgYXBwbGllcyBhIHdhaXQgdGltZXIsIHNvIHRoYXQgbWluSW50ZXJ2YWxcbiAqIG1pbGxpc2Vjb25kcyBtdXN0IHBhc3Mgc2luY2UgdGhlIGxhc3QgY2FsbCBiZWZvcmUgdGhlIGNhbGxiYWNrIGlzIGFjdHVhbGx5XG4gKiBpbnZva2VkLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopfSBjYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IG1pbkludGVydmFsIHRoZSBtaW5pbXVtIHRpbWUgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLiopfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2Uod2luLCBjYWxsYmFjaywgbWluSW50ZXJ2YWwpIHtcbiAgbGV0IGxvY2tlciA9IDA7XG4gIGxldCB0aW1lc3RhbXAgPSAwO1xuICBsZXQgbmV4dENhbGxBcmdzID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIHs/QXJyYXl9IGFyZ3NcbiAgICovXG4gIGZ1bmN0aW9uIGZpcmUoYXJncykge1xuICAgIG5leHRDYWxsQXJncyA9IG51bGw7XG4gICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBmdW5jdGlvbiBmb3IgZGVib3VuY2VcbiAgICovXG4gIGZ1bmN0aW9uIHdhaXRlcigpIHtcbiAgICBsb2NrZXIgPSAwO1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IG1pbkludGVydmFsIC0gKHdpbi5EYXRlLm5vdygpIC0gdGltZXN0YW1wKTtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgbG9ja2VyID0gd2luLnNldFRpbWVvdXQod2FpdGVyLCByZW1haW5pbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXJlKG5leHRDYWxsQXJncyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICB0aW1lc3RhbXAgPSB3aW4uRGF0ZS5ub3coKTtcbiAgICBuZXh0Q2FsbEFyZ3MgPSBhcmdzO1xuICAgIGlmICghbG9ja2VyKSB7XG4gICAgICBsb2NrZXIgPSB3aW4uc2V0VGltZW91dCh3YWl0ZXIsIG1pbkludGVydmFsKTtcbiAgICB9XG4gIH07XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBBTVAgSFRNTCBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtEZWZlcnJlZH0gZnJvbSAnLi9wcm9taXNlJztcbmltcG9ydCB7bWFwfSBmcm9tICcuL29iamVjdCc7XG5cblxuLyoqXG4gKiBUaGlzIG9iamVjdCB0cmFjdHMgc2lnbmFscyBhbmQgYWxsb3dzIGJsb2NraW5nIHVudGlsIGEgc2lnbmFsIGhhcyBiZWVuXG4gKiByZWNlaXZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNpZ25hbHMge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFNpZ25hbHMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBBIG1hcHBpbmcgZnJvbSBhIHNpZ25hbCBuYW1lIHRvIHRoZSBzaWduYWwgcmVzcG9uc2U6IGVpdGhlciB0aW1lIG9yXG4gICAgICogYW4gZXJyb3IuXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgKHRpbWV8IUVycm9yKT59XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcHBpbmcgZnJvbSBhIHNpZ25hbCBuYW1lIHRvIHRoZSBzaWduYWwgcHJvbWlzZSwgcmVzb2x2ZSBhbmQgcmVqZWN0LlxuICAgICAqIE9ubHkgYWxsb2NhdGVkIHdoZW4gcHJvbWlzZSBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAgICogQHByaXZhdGUgez9PYmplY3Q8c3RyaW5nLCB7XG4gICAgICogICBwcm9taXNlOiAhUHJvbWlzZSxcbiAgICAgKiAgIHJlc29sdmU6IChmdW5jdGlvbih0aW1lKXx1bmRlZmluZWQpLFxuICAgICAqICAgcmVqZWN0OiAoZnVuY3Rpb24oIUVycm9yKXx1bmRlZmluZWQpXG4gICAgICogfT59XG4gICAgICovXG4gICAgdGhpcy5wcm9taXNlTWFwXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBrbm93biB2YWx1ZSBvZiB0aGUgc2lnbmFsLiBJZiBzaWduYWwgaXMgbm90IHlldFxuICAgKiBhdmFpbGFibGUsIGBudWxsYCBpcyByZXR1cm5lZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7bnVtYmVyfCFFcnJvcnxudWxsfVxuICAgKi9cbiAgZ2V0KG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfW25hbWVdIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvbWlzZSB0aGF0J3MgcmVzb2x2ZWQgd2hlbiB0aGUgc2lnbmFsIGlzIHRyaWdnZXJlZC4gVGhlXG4gICAqIHJlc29sdmVkIHZhbHVlIGlzIHRoZSB0aW1lIG9mIHRoZSBzaWduYWwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4geyFQcm9taXNlPHRpbWU+fVxuICAgKi9cbiAgd2hlblNpZ25hbChuYW1lKSB7XG4gICAgbGV0IHByb21pc2VTdHJ1Y3QgPSB0aGlzLnByb21pc2VNYXBfICYmIHRoaXMucHJvbWlzZU1hcF9bbmFtZV07XG4gICAgaWYgKCFwcm9taXNlU3RydWN0KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm1hcF9bbmFtZV07XG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgLy8gSW1tZWRpYXRlbHkgcmVzb2x2ZSBzaWduYWwuXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0eXBlb2YgcmVzdWx0ID09ICdudW1iZXInID9cbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUocmVzdWx0KSA6XG4gICAgICAgICAgUHJvbWlzZS5yZWplY3QocmVzdWx0KTtcbiAgICAgICAgcHJvbWlzZVN0cnVjdCA9IHtwcm9taXNlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFsbG9jYXRlIHRoZSBwcm9taXNlL3Jlc29sdmVyIGZvciB3aGVuIHRoZSBzaWduYWwgYXJyaXZlcyBpbiB0aGVcbiAgICAgICAgLy8gZnV0dXJlLlxuICAgICAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgICAgICBjb25zdCB7cHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0fSA9IGRlZmVycmVkO1xuXG4gICAgICAgIHByb21pc2VTdHJ1Y3QgPSB7cHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0fTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wcm9taXNlTWFwXykge1xuICAgICAgICB0aGlzLnByb21pc2VNYXBfID0gbWFwKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnByb21pc2VNYXBfW25hbWVdID0gcHJvbWlzZVN0cnVjdDtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VTdHJ1Y3QucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyB0aGUgc2lnbmFsIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIG9uIHRoZSBlbGVtZW50LiBUaGUgdGltZSBpc1xuICAgKiBvcHRpb25hbDsgaWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB0aW1lIGlzIHVzZWQuIFRoZSBhc3NvY2lhdGVkXG4gICAqIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0aW5nIHRpbWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7dGltZT19IG9wdF90aW1lXG4gICAqL1xuICBzaWduYWwobmFtZSwgb3B0X3RpbWUpIHtcbiAgICBpZiAodGhpcy5tYXBfW25hbWVdICE9IG51bGwpIHtcbiAgICAgIC8vIERvIG5vdCBkdXBsaWNhdGUgc2lnbmFscy5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGltZSA9IG9wdF90aW1lIHx8IERhdGUubm93KCk7XG4gICAgdGhpcy5tYXBfW25hbWVdID0gdGltZTtcbiAgICBjb25zdCBwcm9taXNlU3RydWN0ID0gdGhpcy5wcm9taXNlTWFwXyAmJiB0aGlzLnByb21pc2VNYXBfW25hbWVdO1xuICAgIGlmIChwcm9taXNlU3RydWN0ICYmIHByb21pc2VTdHJ1Y3QucmVzb2x2ZSkge1xuICAgICAgcHJvbWlzZVN0cnVjdC5yZXNvbHZlKHRpbWUpO1xuICAgICAgcHJvbWlzZVN0cnVjdC5yZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgcHJvbWlzZVN0cnVjdC5yZWplY3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlamVjdHMgdGhlIHNpZ25hbC4gSW5kaWNhdGVzIHRoYXQgdGhlIHNpZ25hbCB3aWxsIG5ldmVyIHN1Y2NlZWQuIFRoZVxuICAgKiBhc3NvY2lhdGVkIHNpZ25hbCBpcyByZWplY3RlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHshRXJyb3J9IGVycm9yXG4gICAqL1xuICByZWplY3RTaWduYWwobmFtZSwgZXJyb3IpIHtcbiAgICBpZiAodGhpcy5tYXBfW25hbWVdICE9IG51bGwpIHtcbiAgICAgIC8vIERvIG5vdCBkdXBsaWNhdGUgc2lnbmFscy5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5tYXBfW25hbWVdID0gZXJyb3I7XG4gICAgY29uc3QgcHJvbWlzZVN0cnVjdCA9IHRoaXMucHJvbWlzZU1hcF8gJiYgdGhpcy5wcm9taXNlTWFwX1tuYW1lXTtcbiAgICBpZiAocHJvbWlzZVN0cnVjdCAmJiBwcm9taXNlU3RydWN0LnJlamVjdCkge1xuICAgICAgcHJvbWlzZVN0cnVjdC5yZWplY3QoZXJyb3IpO1xuICAgICAgcHJvbWlzZVN0cnVjdC5yZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgcHJvbWlzZVN0cnVjdC5yZWplY3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbGwgc2lnbmFscy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG4gIHJlc2V0KG5hbWUpIHtcbiAgICBpZiAodGhpcy5tYXBfW25hbWVdKSB7XG4gICAgICBkZWxldGUgdGhpcy5tYXBfW25hbWVdO1xuICAgIH1cbiAgICAvLyBSZXNldCBwcm9taXNlIGl0IGhhcyBhbHJlYWR5IGJlZW4gcmVzb2x2ZWQuXG4gICAgY29uc3QgcHJvbWlzZVN0cnVjdCA9IHRoaXMucHJvbWlzZU1hcF8gJiYgdGhpcy5wcm9taXNlTWFwX1tuYW1lXTtcbiAgICBpZiAocHJvbWlzZVN0cnVjdCAmJiAhcHJvbWlzZVN0cnVjdC5yZXNvbHZlKSB7XG4gICAgICBkZWxldGUgdGhpcy5wcm9taXNlTWFwX1tuYW1lXTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtkZXZ9IGZyb20gJy4uL2xvZyc7XG5pbXBvcnQge29uY2V9IGZyb20gJy4vZnVuY3Rpb24nO1xuaW1wb3J0IHtzZXRTdHlsZXN9IGZyb20gJy4uL3N0eWxlJztcblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzTGl0ZVZpZXdlclxuICogQHJldHVybiB7IVByb21pc2U8Ym9vbGVhbj59XG4gKi9cbmZ1bmN0aW9uIGlzQXV0b3BsYXlTdXBwb3J0ZWRJbXBsKHdpbiwgaXNMaXRlVmlld2VyKSB7XG4gIC8vIFdlIGRvIG5vdCBzdXBwb3J0IGF1dG9wbGF5IGluIGFtcC1saXRlIHZpZXdlciByZWdhcmRsZXNzIG9mIHBsYXRmb3JtLlxuICBpZiAoaXNMaXRlVmlld2VyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gIH1cblxuICAvLyBUbyBkZXRlY3QgYXV0b3BsYXksIHdlIGNyZWF0ZSBhIHZpZGVvIGVsZW1lbnQgYW5kIGNhbGwgcGxheSBvbiBpdCwgaWZcbiAgLy8gYHBhdXNlZGAgaXMgdHJ1ZSBhZnRlciBgcGxheSgpYCBjYWxsLCBhdXRvcGxheSBpcyBzdXBwb3J0ZWQuIEFsdGhvdWdoXG4gIC8vIHRoaXMgaXMgdW5pbnR1aXRpdmUsIGl0IHdvcmtzIGFjcm9zcyBicm93c2VycyBhbmQgaXMgY3VycmVudGx5IHRoZSBsaWdodGVzdFxuICAvLyB3YXkgdG8gZGV0ZWN0IGF1dG9wbGF5IHdpdGhvdXQgdXNpbmcgYSBkYXRhIHNvdXJjZS5cbiAgY29uc3QgZGV0ZWN0aW9uRWxlbWVudCA9IHdpbi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gIC8vIE5PVEUoYWdoYXNzZW1pKTogV2UgbmVlZCBib3RoIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXMgZHVlIHRvIENocm9tZSBhbmRcbiAgLy8gU2FmYXJpIGRpZmZlcmVuY2VzIHdoZW4gZGVhbGluZyB3aXRoIG5vbi1hdHRhY2hlZCBlbGVtZW50cy5cbiAgZGV0ZWN0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xuICBkZXRlY3Rpb25FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG4gIGRldGVjdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gIGRldGVjdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnMCcpO1xuICBkZXRlY3Rpb25FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMCcpO1xuXG4gIGRldGVjdGlvbkVsZW1lbnQubXV0ZWQgPSB0cnVlO1xuICBkZXRlY3Rpb25FbGVtZW50LnBsYXlzaW5saW5lID0gdHJ1ZTtcbiAgZGV0ZWN0aW9uRWxlbWVudC53ZWJraXRQbGF5c2lubGluZSA9IHRydWU7XG5cbiAgc2V0U3R5bGVzKGRldGVjdGlvbkVsZW1lbnQsIHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICB0b3A6ICcwJyxcbiAgICB3aWR0aDogJzAnLFxuICAgIGhlaWdodDogJzAnLFxuICAgIG9wYWNpdHk6ICcwJyxcbiAgfSk7XG5cbiAgLy8gUHJvbWlzZSB3cmFwcGVkIHRoaXMgd2F5IHRvIGNhdGNoIGJvdGggc3luYyB0aHJvd3MgYW5kIGFzeW5jIHJlamVjdGlvbnMuXG4gIC8vIE1vcmUgaW5mbzogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbiAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiByZXNvbHZlKGRldGVjdGlvbkVsZW1lbnQucGxheSgpKSkuY2F0Y2goKCkgPT4ge1xuICAgIC8vIFN1cHByZXNzIGFueSBlcnJvcnMsIHVzZWxlc3MgdG8gcmVwb3J0IGFzIHRoZXkgYXJlIGV4cGVjdGVkLlxuICB9KTtcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCFkZXRlY3Rpb25FbGVtZW50LnBhdXNlZCk7XG59XG5cblxuLyoqIEBwcml2YXRlIHs/KGZ1bmN0aW9uKFdpbmRvdywgYm9vbGVhbik6IVByb21pc2U8Ym9vbGVhbj4pfSAqL1xubGV0IGlzQXV0b3BsYXlTdXBwb3J0ZWQgPSBudWxsO1xuXG4vKipcbiAqIFNldHMgaWYgYXV0b3BsYXkgaXMgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBzZXRJc0F1dG9wbGF5U3VwcG9ydGVkKCkge1xuICBpc0F1dG9wbGF5U3VwcG9ydGVkID1cbiAgICAvKiogQHR5cGUge2Z1bmN0aW9uKFdpbmRvdywgYm9vbGVhbik6IVByb21pc2U8Ym9vbGVhbj59ICovIChcbiAgICAgIG9uY2UoaXNBdXRvcGxheVN1cHBvcnRlZEltcGwpKTtcbn1cblxuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIHN0YXRpYyB1dGlsaXRpZXMgZm9yIHRlc3RhYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgVmlkZW9VdGlscyB7XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGF1dG9wbGF5IHN1cHBvcnQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCBldmVuIGlmIHBsYXRmcm9tIHN1cHBvcnRzIGF1dG9wbGF5LCB1c2VycyBvciBicm93c2VycyBjYW4gZGlzYWJsZVxuICAgKiBhdXRvcGxheSB0byBzYXZlIGRhdGEgLyBiYXR0ZXJ5LiBUaGlzIGRldGVjdHMgYm90aCBwbGF0ZnJvbSBzdXBwb3J0IGFuZFxuICAgKiB3aGVuIGF1dG9wbGF5IGhhcyBiZWVuIGRpc2FibGVkIGJ5IHRoZSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTGl0ZVZpZXdlclxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIHN0YXRpYyBpc0F1dG9wbGF5U3VwcG9ydGVkKHdpbiwgaXNMaXRlVmlld2VyKSB7XG4gICAgaWYgKCFpc0F1dG9wbGF5U3VwcG9ydGVkKSB7XG4gICAgICBzZXRJc0F1dG9wbGF5U3VwcG9ydGVkKCk7XG4gICAgfVxuICAgIHJldHVybiBpc0F1dG9wbGF5U3VwcG9ydGVkKHdpbiwgaXNMaXRlVmlld2VyKTtcbiAgfVxuXG4gIC8qKiBAdmlzaWJsZUZvclRlc3RpbmcgKi9cbiAgc3RhdGljIHJlc2V0SXNBdXRvcGxheVN1cHBvcnRlZCgpIHtcbiAgICBzZXRJc0F1dG9wbGF5U3VwcG9ydGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHshRWxlbWVudH1cbiAqIE5vdGU6IE5vdCBpbmNsdWRlZCBpbiBgVmlkZW9VdGlsc2AgYXMgd2UgZG9uJ3QgbmVlZCB0byB0ZXN0IGFcbiAqIHN0YXRpYyBzZWxlY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVybmFsVmlkZW9FbGVtZW50Rm9yKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGRldigpLmFzc2VydEVsZW1lbnQoZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbywgaWZyYW1lJykpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUaGUgQU1QIEhUTUwgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBNSU5fVklTSUJJTElUWV9SQVRJT19GT1JfQVVUT1BMQVkgPSAwLjU7XG5cbi8qKlxuICogVmlkZW9JbnRlcmZhY2UgZGVmaW5lcyBhIGNvbW1vbiB2aWRlbyBBUEkgd2hpY2ggYW55IEFNUCBjb21wb25lbnQgdGhhdCBwbGF5c1xuICogdmlkZW9zIGlzIGV4cGVjdGVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBTVAgcnVudGltZSB1c2VzIHRoaXMgY29tbW9uIEFQSSB0byBwcm92aWRlIGNvbnNpc3RlbnQgdmlkZW8gZXhwZXJpZW5jZSBhbmRcbiAqIGFuYWx5dGljcyBhY3Jvc3MgYWxsIHZpZGVvIHBsYXllcnMuXG4gKlxuICogQ29tcG9uZW50cyBpbXBsZW1lbnRpbmcgdGhpcyBpbnRlcmZhY2UgbXVzdCBhbHNvIGV4dGVuZFxuICoge0BsaW5rIC4vYmFzZS1lbGVtZW50LkJhc2VFbGVtZW50fSBhbmQgcmVnaXN0ZXIgd2l0aCB0aGVcbiAqIFZpZGVvIE1hbmFnZXIge0BsaW5rIC4vc2VydmljZS92aWRlby1tYW5hZ2VyLWltcGwuVmlkZW9NYW5hZ2VyfSBkdXJpbmdcbiAqIHRoZWlyIGBidWlsdENhbGxiYWNrYC5cbiAqXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWRlb0ludGVyZmFjZSB7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGNvbXBvbmVudCBzdXBwb3J0cyB2aWRlbyBwbGF5YmFjayBpbiB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAgICogSWYgZmFsc2UsIGNvbXBvbmVudCB3aWxsIGJlIG5vdCB0cmVhdGVkIGFzIGEgdmlkZW8gY29tcG9uZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc3VwcG9ydHNQbGF0Zm9ybSgpIHt9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdXNlcnMgY2FuIGludGVyYWN0IHdpdGggdGhlIHZpZGVvIHN1Y2ggYXMgcGF1c2luZyBpdC5cbiAgICogRXhhbXBsZSBvZiBub24taW50ZXJhY3RpdmUgdmlkZW9zIGluY2x1ZGUgZGVzaWduIGJhY2tncm91bmQgdmlkZW9zIHdoZXJlXG4gICAqIGFsbCBjb250cm9scyBhcmUgaGlkZGVuIGZyb20gdGhlIHVzZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0ludGVyYWN0aXZlKCkge31cblxuICAvKipcbiAgICogQ3VycmVudCBwbGF5YmFjayB0aW1lIGluIHNlY29uZHMgYXQgdGltZSBvZiB0cmlnZ2VyXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldEN1cnJlbnRUaW1lKCkge31cblxuICAvKipcbiAgICogVG90YWwgZHVyYXRpb24gb2YgdGhlIHZpZGVvIGluIHNlY29uZHNcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0RHVyYXRpb24oKSB7fVxuXG4gIC8qKlxuICAgKiBHZXQgYSAyZCBhcnJheSBvZiBzdGFydCBhbmQgc3RvcCB0aW1lcyB0aGF0IHRoZSB1c2VyIGhhcyB3YXRjaGVkLlxuICAgKiBAcmV0dXJuIHshQXJyYXk8QXJyYXk8bnVtYmVyPj59XG4gICAqL1xuICBnZXRQbGF5ZWRSYW5nZXMoKSB7fVxuXG4gIC8qKlxuICAgKiBQbGF5cyB0aGUgdmlkZW8uLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVudXNlZElzQXV0b3BsYXkgV2hldGhlciB0aGUgY2FsbCB0byB0aGUgYHBsYXlgIG1ldGhvZCBpc1xuICAgKiB0cmlnZ2VyZWQgYnkgdGhlIGF1dG9wbGF5IGZ1bmN0aW9uYWxpdHkuIFZpZGVvIHBsYXllcnMgY2FuIHVzZSB0aGlzIGhpbnRcbiAgICogdG8gbWFrZSBkZWNpc2lvbnMgc3VjaCBhcyBub3QgcGxheWluZyBwcmUtcm9sbCB2aWRlbyBhZHMuXG4gICAqL1xuICBwbGF5KHVudXNlZElzQXV0b3BsYXkpIHt9XG5cbiAgLyoqXG4gICAqIFBhdXNlcyB0aGUgdmlkZW8uXG4gICAqL1xuICBwYXVzZSgpIHt9XG5cbiAgLyoqXG4gICAqIE11dGVzIHRoZSB2aWRlby5cbiAgICovXG4gIG11dGUoKSB7fVxuXG4gIC8qKlxuICAgKiBVbm11dGVzIHRoZSB2aWRlby5cbiAgICovXG4gIHVubXV0ZSgpIHt9XG5cbiAgLyoqXG4gICAqIE1ha2VzIHRoZSB2aWRlbyBVSSBjb250cm9scyB2aXNpYmxlLlxuICAgKlxuICAgKiBBTVAgd2lsbCBub3QgY2FsbCB0aGlzIG1ldGhvZCBpZiBgY29udHJvbHNgIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LlxuICAgKi9cbiAgc2hvd0NvbnRyb2xzKCkge31cblxuICAvKipcbiAgICogSGlkZXMgdGhlIHZpZGVvIFVJIGNvbnRyb2xzLlxuICAgKlxuICAgKiBBTVAgd2lsbCBub3QgY2FsbCB0aGlzIG1ldGhvZCBpZiBgY29udHJvbHNgIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LlxuICAgKi9cbiAgaGlkZUNvbnRyb2xzKCkge31cblxuICAvKipcbiAgICogUmV0dXJucyB2aWRlbydzIG1ldGEgZGF0YSAoYXJ0d29yaywgdGl0bGUsIGFydGlzdCwgYWxidW0sIGV0Yy4pIGZvciB1c2VcbiAgICogd2l0aCB0aGUgTWVkaWEgU2Vzc2lvbiBBUElcbiAgICogYXJ0d29yayAoQXJyYXkpOiBVUkwgdG8gdGhlIHBvc3RlciBpbWFnZSAocHJlZmVyYWJseSBhIDUxMng1MTIgUE5HKVxuICAgKiB0aXRsZSAoc3RyaW5nKTogTmFtZSBvZiB0aGUgdmlkZW9cbiAgICogYXJ0aXN0IChzdHJpbmcpOiBOYW1lIG9mIHRoZSB2aWRlbydzIGF1dGhvci9hcnRpc3RcbiAgICogYWxidW0gKHN0cmluZyk6IE5hbWUgb2YgdGhlIHZpZGVvJ3MgYWxidW0gaWYgaXQgZXhpc3RzXG4gICAqIEByZXR1cm4geyEuL21lZGlhc2Vzc2lvbi1oZWxwZXIuTWV0YWRhdGFEZWZ8dW5kZWZpbmVkfSBtZXRhZGF0YVxuICAgKi9cbiAgZ2V0TWV0YWRhdGEoKSB7fVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgYXNzdW1lZCB0aGF0IHRoZSBwbGF5ZXIgaW1wbGVtZW50c1xuICAgKiBhIGZlYXR1cmUgdG8gZW50ZXIgZnVsbHNjcmVlbiBvbiBkZXZpY2Ugcm90YXRpb24gaW50ZXJuYWxseSwgc28gdGhhdCB0aGVcbiAgICogdmlkZW8gbWFuYWdlciBkb2VzIG5vdCBvdmVycmlkZSBpdC4gSWYgbm90LCB0aGUgdmlkZW8gbWFuYWdlciB3aWxsXG4gICAqIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgYXV0b21hdGljYWxseSBmb3IgdmlkZW9zIHdpdGggdGhlIGF0dHJpYnV0ZVxuICAgKiBgcm90YXRlLXRvLWZ1bGxzY3JlZW5gLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgcHJlaW1wbGVtZW50c0F1dG9GdWxsc2NyZWVuKCkge31cblxuICAvKipcbiAgICogSWYgdGhpcyByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIGFzc3VtZWQgdGhhdCB0aGUgcGxheWVyIGltcGxlbWVudHNcbiAgICogdGhlIE1lZGlhU2Vzc2lvbiBBUEkgaW50ZXJuYWxseSBzbyB0aGF0IHRoZSB2aWRlbyBtYW5hZ2VyIGRvZXMgbm90IG92ZXJyaWRlXG4gICAqIGl0LiBJZiBub3QsIHRoZSB2aWRlbyBtYW5hZ2VyIHdpbGwgdXNlIHRoZSBtZXRhZGF0YSB2YXJpYWJsZSBhcyB3ZWxsIGFzXG4gICAqIGluZmVycmVkIG1ldGEtZGF0YSB0byB1cGRhdGUgdGhlIHZpZGVvJ3MgTWVkaWEgU2Vzc2lvbiBub3RpZmljYXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBwcmVpbXBsZW1lbnRzTWVkaWFTZXNzaW9uQVBJKCkge31cblxuICAvKipcbiAgICogRW5hYmxlcyBmdWxsc2NyZWVuIG9uIHRoZSBpbnRlcm5hbCB2aWRlbyBlbGVtZW50XG4gICAqIE5PVEU6IFdoaWxlIGltcGxlbWVudGluZywga2VlcCBpbiBtaW5kIHRoYXQgU2FmYXJpL2lPUyBkbyBub3QgYWxsb3cgdGFraW5nXG4gICAqIGFueSBlbGVtZW50IG90aGVyIHRoYW4gPHZpZGVvPiB0byBmdWxsc2NyZWVuLCBpZiB0aGUgcGxheWVyIGhhcyBhbiBpbnRlcm5hbFxuICAgKiBpbXBsZW1lbnRhdGlvbiBvZiBmdWxsc2NyZWVuIChmbGFzaCBmb3IgZXhhbXBsZSkgdGhlbiBjaGVja1xuICAgKiBpZiBTZXJ2aWNlcy5wbGF0Zm9ybUZvcih0aGlzLndpbikuaXNTYWZhcmkgaXMgdHJ1ZSBhbmQgdXNlIHRoZSBpbnRlcm5hbFxuICAgKiBpbXBsZW1lbnRhdGlvbiBpbnN0ZWFkLiBJZiBub3QsIGl0IGlzIHJlY29tbWVuZGVkIHRvIHRha2UgdGhlIGlmcmFtZVxuICAgKiB0byBmdWxsc2NyZWVuIHVzaW5nIGZ1bGxzY3JlZW5FbnRlciBmcm9tIGRvbS5qc1xuICAgKi9cbiAgZnVsbHNjcmVlbkVudGVyKCkge31cblxuICAvKipcbiAgICogUXVpdHMgZnVsbHNjcmVlbiBtb2RlXG4gICAqL1xuICBmdWxsc2NyZWVuRXhpdCgpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgdmlkZW8gaXMgY3VycmVudGx5IGluIGZ1bGxzY3JlZW4gbW9kZSBvciBub3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzRnVsbHNjcmVlbigpIHt9XG59XG5cblxuLyoqXG4gKiBBdHRyaWJ1dGVzXG4gKlxuICogQ29tcG9uZW50cyBpbXBsZW1lbnRpbmcgdGhlIFZpZGVvSW50ZXJmYWNlIGFyZSBleHBlY3RlZCB0byBzdXBwb3J0XG4gKiB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXMuXG4gKlxuICogQGNvbnN0YW50IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvQXR0cmlidXRlcyA9IHtcbiAgLyoqXG4gICAqIGF1dG9wbGF5XG4gICAqXG4gICAqIFdoZXRoZXIgdGhlIGRldmVsb3BlciBoYXMgY29uZmlndXJlZCBhdXRvcGxheSBvbiB0aGUgY29tcG9uZW50LlxuICAgKiBUaGlzIGlzIG5vcm1hbGx5IGRvbmUgYnkgc2V0dGluZyBgYXV0b3BsYXlgIGF0dHJpYnV0ZSBvbiB0aGUgY29tcG9uZW50LlxuICAgKlxuICAgKiBBTVAgcnVudGltZSBtYW5hZ2VzIGF1dG9wbGF5IGJlaGF2aW91ciBpdHNlbGYgdXNpbmcgbWV0aG9kcyBzdWNoIGFzIGBwbGF5YCxcbiAgICogYHBhdXNlYCwgYHNob3dDb250cm9sc2AsIGBoaWRlQ29udHJvbHNgLCBgbXV0ZWAsIGV0Yy4uIHRoZXJlZm9yZSBjb21wb25lbnRzXG4gICAqIHNob3VsZCBub3QgcHJvcGFnYXRlIHRoZSBhdXRvcGxheSBhdHRyaWJ1dGUgdG8gdGhlIHVuZGVybHlpbmcgcGxheWVyXG4gICAqIGltcGxlbWVudGF0aW9uLlxuICAgKlxuICAgKiBXaGVuIGEgdmlkZW8gaXMgcmVxdWVzdGVkIHRvIGF1dG9wbGF5LCBBTVAgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAqIG11dGUgYW5kIGhpZGUgdGhlIGNvbnRyb2xzIGZvciB0aGUgdmlkZW8sIHdoZW4gdmlkZW8gaXMgNzUlIHZpc2libGUgaW5cbiAgICogdGhlIHZpZXdwb3J0LCBBTVAgd2lsbCBwbGF5IHRoZSB2aWRlbyBhbmQgbGF0ZXIgcGF1c2VzIGl0IHdoZW4gMjUlXG4gICAqIG9yIG1vcmUgb2YgdGhlIHZpZGVvIGV4aXRzIHRoZSB2aWV3cG9ydC4gSWYgYW4gYXV0by1wbGF5aW5nIHZpZGVvIGFsc28gaGFzXG4gICAqIGNvbnRyb2xzLCBBTVAgd2lsbCBpbnN0YWxsIGEgdGFwXG4gICAqIGhhbmRsZXIgb24gdGhlIHZpZGVvLCBhbmQgd2hlbiBhbiBlbmQtdXNlciB0YXBzIHRoZSB2aWRlbywgQU1QIHdpbGwgc2hvd1xuICAgKiB0aGUgY29udHJvbHMuXG4gICAqXG4gICAqL1xuICBBVVRPUExBWTogJ2F1dG9wbGF5JyxcbiAgLyoqXG4gICAqIGRvY2tcbiAgICpcbiAgICogU2V0dGluZyB0aGUgYGRvY2tgIGF0dHJpYnV0ZSBvbiB0aGUgY29tcG9uZW50IG1ha2VzIHRoZSB2aWRlbyBtaW5pbWl6ZVxuICAgKiB0byB0aGUgY29ybmVyIHdoZW4gc2Nyb2xsZWQgb3V0IG9mIHZpZXcgYW5kIGhhcyBiZWVuIGludGVyYWN0ZWQgd2l0aC5cbiAgICovXG4gIERPQ0s6ICdkb2NrJyxcbiAgLyoqXG4gICAqIHJvdGF0ZS10by1mdWxsc2NyZWVuXG4gICAqXG4gICAqIElmIGVuYWJsZWQsIHRoaXMgYXV0b21hdGljYWxseSBleHBhbmRzIHRoZSBjdXJyZW50bHkgdmlzaWJsZSB2aWRlbyBhbmRcbiAgICogcGxheWluZyB0byBmdWxsc2NyZWVuIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgZGV2aWNlJ3Mgb3JpZW50YXRpb24gdG9cbiAgICogbGFuZHNjYXBlIGlmIHRoZSB2aWRlbyB3YXMgc3RhcnRlZCBmb2xsb3dpbmcgYSB1c2VyIGludGVyYWN0aW9uXG4gICAqIChub3QgYXV0b3BsYXkpXG4gICAqXG4gICAqIERlcGVuZGVudCB1cG9uIGJyb3dzZXIgc3VwcG9ydCBvZlxuICAgKiBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9c2NyZWVuLW9yaWVudGF0aW9uXG4gICAqIGFuZCBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9ZnVsbHNjcmVlblxuICAgKi9cbiAgUk9UQVRFX1RPX0ZVTExTQ1JFRU46ICdyb3RhdGUtdG8tZnVsbHNjcmVlbicsXG4gIC8qKlxuICAgKiBub2F1ZGlvXG4gICAqXG4gICAqIElmIHNldCBhbmQgYXV0b3BsYXksIHRoZSBlcXVhbGl6ZXIgaWNvbiB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuXG4gICAqL1xuICBOT19BVURJTzogJ25vYXVkaW8nLFxufTtcblxuXG4vKipcbiAqIEV2ZW50c1xuICpcbiAqIENvbXBvbmVudHMgaW1wbGVtZW50aW5nIHRoZSBWaWRlb0ludGVyZmFjZSBhcmUgZXhwZWN0ZWQgdG8gZGlzcGF0Y2hcbiAqIHRoZSBmb2xsb3dpbmcgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY29uc3RhbnQgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5leHBvcnQgY29uc3QgVmlkZW9FdmVudHMgPSB7XG4gIC8qKlxuICAgKiByZWdpc3RlcmVkXG4gICAqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIHBsYXllciBlbGVtZW50IGlzIGJ1aWx0IGFuZCBoYXMgYmVlbiByZWdpc3RlcmVkIHdpdGhcbiAgICogdGhlIHZpZGVvIG1hbmFnZXIuXG4gICAqXG4gICAqIEBldmVudCByZWdpc3RlcmVkXG4gICAqL1xuICBSRUdJU1RFUkVEOiAncmVnaXN0ZXJlZCcsXG5cbiAgLyoqXG4gICAqIGxvYWRcbiAgICpcbiAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gcGxheWVyIGlzIGxvYWRlZCBhbmQgY2FsbHMgdG8gbWV0aG9kcyBzdWNoIGFzIGBwbGF5KClgXG4gICAqIGFyZSBhbGxvd2VkLlxuICAgKlxuICAgKiBAZXZlbnQgbG9hZFxuICAgKi9cbiAgTE9BRDogJ2xvYWQnLFxuXG4gIC8qKlxuICAgKiBwbGF5aW5nXG4gICAqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGJlZ2lucyBwbGF5aW5nLlxuICAgKlxuICAgKiBAZXZlbnQgcGxheWluZ1xuICAgKi9cbiAgUExBWUlORzogJ3BsYXlpbmcnLFxuXG4gIC8qKlxuICAgKiBwYXVzZVxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBwYXVzZXMuXG4gICAqXG4gICAqIEBldmVudCBwYXVzZVxuICAgKi9cbiAgUEFVU0U6ICdwYXVzZScsXG5cbiAgLyoqXG4gICAqIGVuZGVkXG4gICAqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGVuZHMuXG4gICAqXG4gICAqIFRoaXMgZXZlbnQgc2hvdWxkIGJlIGZpcmVkIGluIGFkZGl0aW9uIHRvIGBwYXVzZWAgd2hlbiB2aWRlbyBlbmRzLlxuICAgKlxuICAgKiBAZXZlbnQgZW5kZWRcbiAgICovXG4gIEVOREVEOiAnZW5kZWQnLFxuXG4gIC8qKlxuICAgKiBtdXRlZFxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBtdXRlZC5cbiAgICpcbiAgICogQGV2ZW50IG11dGVkXG4gICAqL1xuICBNVVRFRDogJ211dGVkJyxcblxuICAvKipcbiAgICogdW5tdXRlZFxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyB1bm11dGVkLlxuICAgKlxuICAgKiBAZXZlbnQgdW5tdXRlZFxuICAgKi9cbiAgVU5NVVRFRDogJ3VubXV0ZWQnLFxuXG4gIC8qKlxuICAgKiBhbXA6dmlkZW86dmlzaWJpbGl0eVxuICAgKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbydzIHZpc2liaWxpdHkgY2hhbmdlcy4gTm9ybWFsbHkgZmlyZWRcbiAgICogZnJvbSBgdmlld3BvcnRDYWxsYmFja2AuXG4gICAqXG4gICAqIEBldmVudCBhbXA6dmlkZW86dmlzaWJpbGl0eVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHZpc2libGUgV2hldGhlciB0aGUgdmlkZW8gcGxheWVyIGlzIHZpc2libGUgb3Igbm90LlxuICAgKi9cbiAgVklTSUJJTElUWTogJ2FtcDp2aWRlbzp2aXNpYmlsaXR5JyxcblxuICAvKipcbiAgICogcmVsb2FkXG4gICAqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvJ3Mgc3JjIGNoYW5nZXMuXG4gICAqXG4gICAqIEBldmVudCByZWxvYWRlZFxuICAgKi9cbiAgUkVMT0FEOiAncmVsb2FkZWQnLFxuXG4gIC8qKlxuICAgKiBwcmUvbWlkL3Bvc3QgQWQgc3RhcnRcbiAgICpcbiAgICogRmlyZWQgd2hlbiBhbiBBZCBzdGFydHMgcGxheWluZy5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VkIHRvIHJlbW92ZSBhbnkgb3ZlcmxheSBzaGltcyBkdXJpbmcgQWQgcGxheSBkdXJpbmcgYXV0b3BsYXlcbiAgICogb3IgbWluaW1pemVkLXRvLWNvcm5lciB2ZXJzaW9uIG9mIHRoZSBwbGF5ZXIuXG4gICAqXG4gICAqIEBldmVudCBhZF9zdGFydFxuICAgKi9cbiAgQURfU1RBUlQ6ICdhZF9zdGFydCcsXG5cbiAgLyoqXG4gICAqIHByZS9taWQvcG9zdCBBZCBlbmRzXG4gICAqXG4gICAqIEZpcmVkIHdoZW4gYW4gQWQgZW5kcyBwbGF5aW5nLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVzdG9yZSBhbnkgb3ZlcmxheSBzaGltcyBkdXJpbmcgQWQgcGxheSBkdXJpbmcgYXV0b3BsYXlcbiAgICogb3IgbWluaW1pemVkLXRvLWNvcm5lciB2ZXJzaW9uIG9mIHRoZSBwbGF5ZXIuXG4gICAqXG4gICAqIEBldmVudCBhZF9lbmRcbiAgICovXG4gIEFEX0VORDogJ2FkX2VuZCcsXG59O1xuXG5cbi8qKlxuICogUGxheWluZyBTdGF0ZXNcbiAqXG4gKiBJbnRlcm5hbCBwbGF5aW5nIHN0YXRlcyB1c2VkIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gdmlkZW8gcGxheWluZyBvbiB1c2VyJ3NcbiAqIGNvbW1hbmQgYW5kIHZpZGVvcyBwbGF5aW5nIGF1dG9tYXRpY2FsbHlcbiAqXG4gKiBAY29uc3RhbnQgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5leHBvcnQgY29uc3QgUGxheWluZ1N0YXRlcyA9IHtcbiAgLyoqXG4gICAqIHBsYXlpbmdfbWFudWFsXG4gICAqXG4gICAqIFdoZW4gdGhlIHZpZGVvIHVzZXIgbWFudWFsbHkgaW50ZXJhY3RlZCB3aXRoIHRoZSB2aWRlbyBhbmQgdGhlIHZpZGVvXG4gICAqIGlzIG5vdyBwbGF5aW5nXG4gICAqXG4gICAqIEBldmVudCBwbGF5aW5nX21hbnVhbFxuICAgKi9cbiAgUExBWUlOR19NQU5VQUw6ICdwbGF5aW5nX21hbnVhbCcsXG5cbiAgLyoqXG4gICAqIHBsYXlpbmdfYXV0b1xuICAgKlxuICAgKiBXaGVuIHRoZSB2aWRlbyBoYXMgYXV0b3BsYXkgYW5kIHRoZSB1c2VyIGhhc24ndCBpbnRlcmFjdGVkIHdpdGggaXQgeWV0XG4gICAqXG4gICAqIEBldmVudCBwbGF5aW5nX2F1dG9cbiAgICovXG4gIFBMQVlJTkdfQVVUTzogJ3BsYXlpbmdfYXV0bycsXG5cbiAgLyoqXG4gICAqIHBhdXNlZFxuICAgKlxuICAgKiBXaGVuIHRoZSB2aWRlbyBpcyBwYXVzZWQuXG4gICAqXG4gICAqIEBldmVudCBwYXVzZWRcbiAgICovXG4gIFBBVVNFRDogJ3BhdXNlZCcsXG59O1xuXG5cbi8qKiBAZW51bSB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvQW5hbHl0aWNzRXZlbnRzID0ge1xuICAvKipcbiAgICogdmlkZW8tZW5kZWRcbiAgICpcbiAgICogSW5kaWNhdGVzIHRoYXQgYSB2aWRlbyBlbmRlZC5cbiAgICogQHByb3BlcnR5IHshVmlkZW9BbmFseXRpY3NEZXRhaWxzRGVmfSBkZXRhaWxzXG4gICAqIEBldmVudCB2aWRlby1lbmRlZFxuICAgKi9cbiAgRU5ERUQ6ICd2aWRlby1lbmRlZCcsXG5cbiAgLyoqXG4gICAqIHZpZGVvLXBhdXNlXG4gICAqXG4gICAqIEluZGljYXRlcyB0aGF0IGEgdmlkZW8gcGF1c2VkLlxuICAgKiBAcHJvcGVydHkgeyFWaWRlb0FuYWx5dGljc0RldGFpbHNEZWZ9IGRldGFpbHNcbiAgICogQGV2ZW50IHZpZGVvLXBhdXNlXG4gICAqL1xuICBQQVVTRTogJ3ZpZGVvLXBhdXNlJyxcblxuICAvKipcbiAgICogdmlkZW8tcGxheVxuICAgKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCBhIHZpZGVvIGJlZ2FuIHRvIHBsYXkuXG4gICAqIEBwcm9wZXJ0eSB7IVZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZn0gZGV0YWlsc1xuICAgKiBAZXZlbnQgdmlkZW8tcGxheVxuICAgKi9cbiAgUExBWTogJ3ZpZGVvLXBsYXknLFxuXG4gIC8qKlxuICAgKiB2aWRlby1zZXNzaW9uXG4gICAqXG4gICAqIEluZGljYXRlcyB0aGF0IHNvbWUgc2VnbWVudCBvZiB0aGUgdmlkZW8gcGxheWVkLlxuICAgKiBAcHJvcGVydHkgeyFWaWRlb0FuYWx5dGljc0RldGFpbHNEZWZ9IGRldGFpbHNcbiAgICogQGV2ZW50IHZpZGVvLXNlc3Npb25cbiAgICovXG4gIFNFU1NJT046ICd2aWRlby1zZXNzaW9uJyxcblxuICAvKipcbiAgICogdmlkZW8tc2Vzc2lvbi12aXNpYmxlXG4gICAqXG4gICAqIEluZGljYXRlcyB0aGF0IHNvbWUgc2VnbWVudCBvZiB0aGUgdmlkZW8gcGxheWVkIGluIHRoZSB2aWV3cG9ydC5cbiAgICogQHByb3BlcnR5IHshVmlkZW9BbmFseXRpY3NEZXRhaWxzRGVmfSBkZXRhaWxzXG4gICAqIEBldmVudCB2aWRlby1zZXNzaW9uLXZpc2libGVcbiAgICovXG4gIFNFU1NJT05fVklTSUJMRTogJ3ZpZGVvLXNlc3Npb24tdmlzaWJsZScsXG5cbiAgLyoqXG4gICAqIHZpZGVvLXNlY29uZHMtcGxheWVkXG4gICAqXG4gICAqIEluZGljYXRlcyB0aGF0IGEgdmlkZW8gd2FzIHBsYXlpbmcgd2hlbiB0aGVcbiAgICogdmlkZW8tc2Vjb25kcy1wbGF5ZWQgaW50ZXJ2YWwgZmlyZWQuXG4gICAqIEBwcm9wZXJ0eSB7IVZpZGVvQW5hbHl0aWNzRGV0YWlsc0RlZn0gZGV0YWlsc1xuICAgKiBAZXZlbnQgdmlkZW8tc2Vzc2lvbi12aXNpYmxlXG4gICAqL1xuICBTRUNPTkRTX1BMQVlFRDogJ3ZpZGVvLXNlY29uZHMtcGxheWVkJyxcbn07XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBhdXRvcGxheTogYm9vbGVhbixcbiAqICAgY3VycmVudFRpbWU6IG51bWJlcixcbiAqICAgZHVyYXRpb246IG51bWJlcixcbiAqICAgaGVpZ2h0OiBudW1iZXIsXG4gKiAgIGlkOiBzdHJpbmcsXG4gKiAgIHBsYXllZFJhbmdlc0pzb246IHN0cmluZyxcbiAqICAgcGxheWVkVG90YWw6IG51bWJlcixcbiAqICAgbXV0ZWQ6IGJvb2xlYW4sXG4gKiAgIHN0YXRlOiBzdHJpbmcsXG4gKiAgIHdpZHRoOiBudW1iZXJcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgVmlkZW9BbmFseXRpY3NEZXRhaWxzRGVmO1xuXG5cbi8qKlxuICogSGVscGVyIHVuaW9uIHR5cGUgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LCBzbyB0aGF0IHRoZSBjb21waWxlciB0cmVhdHNcbiAqIGBWaWRlb0ludGVyZmFjZWAgb2JqZWN0cyBhcyBgQmFzZUVsZW1lbnRgcywgd2hpY2ggdGhleSBzaG91bGQgYmUgYW55d2F5LlxuICpcbiAqIFdBUk5JTkc6IERvbid0IHVzZSB0aGlzIGF0IHRoZSBzZXJ2aWNlIGxldmVsLiBJdHMgYHJlZ2lzdGVyYCBtZXRob2Qgc2hvdWxkXG4gKiBvbmx5IGFsbG93IGBWaWRlb0ludGVyZmFjZWAgYXMgYSBndWFyZGluZyBtZWFzdXJlLlxuICpcbiAqIEB0eXBlZGVmIHshVmlkZW9JbnRlcmZhY2V8IS4vYmFzZS1lbGVtZW50LkJhc2VFbGVtZW50fVxuICovXG5leHBvcnQgbGV0IFZpZGVvT3JCYXNlRWxlbWVudERlZjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVGhlIEFNUCBIVE1MIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFBvc3NpYmxlIHZlcnNpb25zIG9mIFNoYWRvdyBET00gc3BlY1xuICogQGNvbnN0XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgU2hhZG93RG9tVmVyc2lvbiA9IHtcbiAgTk9ORTogJ25vbmUnLFxuICBWMDogJ3YwJyxcbiAgVjE6ICd2MScsXG59O1xuXG4vKipcbiAqIEB0eXBlIHtTaGFkb3dEb21WZXJzaW9ufHVuZGVmaW5lZH1cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5sZXQgc2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbjtcblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xubGV0IHNoYWRvd0Nzc1N1cHBvcnRlZDtcblxuLyoqXG4gKiBAcGFyYW0ge1NoYWRvd0RvbVZlcnNpb258dW5kZWZpbmVkfSB2YWxcbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbkZvclRlc3RpbmcodmFsKSB7XG4gIHNoYWRvd0RvbVN1cHBvcnRlZFZlcnNpb24gPSB2YWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gdmFsXG4gKiBAdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNoYWRvd0Nzc1N1cHBvcnRlZEZvclRlc3RpbmcodmFsKSB7XG4gIHNoYWRvd0Nzc1N1cHBvcnRlZCA9IHZhbDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgU2hhZG93IERPTSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTaGFkb3dEb21TdXBwb3J0ZWQoKSB7XG4gIHJldHVybiBnZXRTaGFkb3dEb21TdXBwb3J0ZWRWZXJzaW9uKCkgIT0gU2hhZG93RG9tVmVyc2lvbi5OT05FO1xufVxuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIFNoYWRvdyBDU1MgZW5jYXBzdWxhdGlvbiBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTaGFkb3dDc3NTdXBwb3J0ZWQoKSB7XG4gIGlmIChzaGFkb3dDc3NTdXBwb3J0ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHNoYWRvd0Nzc1N1cHBvcnRlZCA9IGlzU2hhZG93RG9tU3VwcG9ydGVkKCkgJiYgKFxuICAgICAgaXNOYXRpdmUoRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93KSB8fFxuICAgICAgaXNOYXRpdmUoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdClcbiAgICApO1xuICB9XG4gIHJldHVybiBzaGFkb3dDc3NTdXBwb3J0ZWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBhc3NlZCBmdW5jdGlvbiBpcyBuYXRpdmUgdG8gdGhlIGJyb3dzZXIsIGFuZCBpcyBub3RcbiAqIHBvbHlmaWxsZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKXx1bmRlZmluZWR9IGZ1bmMgQSBmdW5jdGlvbiB0aGF0IGlzIGF0dGF0Y2hlZCB0byBhIEpTXG4gKiBvYmplY3QuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc05hdGl2ZShmdW5jKSB7XG4gIHJldHVybiAhIWZ1bmMgJiYgZnVuYy50b1N0cmluZygpLmluZGV4T2YoJ1tuYXRpdmUgY29kZV0nKSAhPSAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdXBwb3J0ZWQgdmVyc2lvbiBvZiBTaGFkb3cgRE9NIHNwZWMuXG4gKiBAcGFyYW0gez9mdW5jdGlvbihuZXc6RWxlbWVudCk9fSBvcHRfZWxlbWVudENsYXNzIG9wdGlvbmFsIGZvciB0ZXN0aW5nXG4gKiBAcmV0dXJuIHtTaGFkb3dEb21WZXJzaW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hhZG93RG9tU3VwcG9ydGVkVmVyc2lvbihvcHRfZWxlbWVudENsYXNzKSB7XG4gIGlmIChzaGFkb3dEb21TdXBwb3J0ZWRWZXJzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBzaGFkb3dEb21TdXBwb3J0ZWRWZXJzaW9uID1cbiAgICAgICAgZ2V0U2hhZG93RG9tVmVyc2lvbihvcHRfZWxlbWVudENsYXNzIHx8IEVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBzaGFkb3dEb21TdXBwb3J0ZWRWZXJzaW9uO1xufVxuXG4vKipcbiAqIFJldHVybnMgc2hhZG93IGRvbSB2ZXJzaW9uLlxuICpcbiAqIEBwYXJhbSB7P2Z1bmN0aW9uKG5ldzpFbGVtZW50KT19IGVsZW1lbnRcbiAqIEByZXR1cm4ge1NoYWRvd0RvbVZlcnNpb259XG4gKi9cbmZ1bmN0aW9uIGdldFNoYWRvd0RvbVZlcnNpb24oZWxlbWVudCkge1xuICBpZiAoISFlbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3cpIHtcbiAgICByZXR1cm4gU2hhZG93RG9tVmVyc2lvbi5WMTtcbiAgfSBlbHNlIGlmICghIWVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpIHtcbiAgICByZXR1cm4gU2hhZG93RG9tVmVyc2lvbi5WMDtcbiAgfVxuICByZXR1cm4gU2hhZG93RG9tVmVyc2lvbi5OT05FO1xufVxuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9jc3Nlc2NhcGUgdjEuNS4xIGJ5IEBtYXRoaWFzIHwgTUlUIGxpY2Vuc2UgKi9cblxuXG4vKipcbiAqIFRoaXMgcmVnZXggY29uc2lzdHMgb2YgNCBtYXRjaGluZyBjYXB0dXJlIGdyb3VwcyBhbmQgb25lIChub24tbWF0Y2hpbmcpIGZhbGxiYWNrOlxuICpcbiAqIC0gKFxcMCksIGNhdGNoIHRoZSBudWxsIHRlcm1pbmF0b3IgY2hhcmFjdGVyIHNvIGl0IG1heSBiZSByZXBsYWNlZCBieSBVVEZcbiAqICAgUmVwbGFjZW1lbnQgQ2hhclxuICogLSBeKC0pJCwgY2F0Y2ggYSBzb2xpdGFyeSBkYXNoIGNoYXIsIHNvIHRoYXQgaXQgbWF5IGJlIGJhY2tzbGFzaCBlc2NhcGVkLlxuICogICBUaGlzIGlzIGEgc2VwYXJhdGUgY2FwdHVyZSBncm91cCBzbyB0aGF0IHRoZSBsZWdhbC1jaGFycyAoZ3JvdXAgNCkgZG9lc24ndFxuICogICBjYXB0dXJlIGl0IGZpcnN0LCBzaW5jZSB0aGF0IGdyb3VwIGRvZXNuJ3QgbmVlZCB0byBlc2NhcGUgaXRzIGRhc2guXG4gKiAtIChbXFx4MDEtXFx4MWZcXHg3Zl18Xi0/WzAtOV0pLCBjYXRjaCBhIFVURiBjb250cm9sIGNoYXIsIG9yIGFueSBsZWFkaW5nXG4gKiAgIG51bWJlciAod2l0aCBhbiBvcHRpb25hbCBsZWFkaW5nIGRhc2gpLiBUaGUgY29udHJvbCBvciB0aGUgbnVtYmVyIChidXQgbm90XG4gKiAgIHRoZSBsZWFkaW5nIGRhc2gpIG11c3QgYmUgaGV4LWVzY2FwZWQsLlxuICogLSAoW1xceDgwLVxcdWZmZmYwLTlhLXpBLVpfLV0rKSwgY2F0Y2ggbGVnYWwtY2hhcnMsIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBhXG4gKiAgIHNvbGl0YXJ5IGRhc2gsIHdoaWNoIHdpbGwgYWxyZWFkeSBoYXZlIG1hdGNoZWQgaW4gZ3JvdXAgMS5cbiAqIC0gW15dLCBmaW5hbGx5LCBhIGNhdGNoLWFsbCB0aGF0IGFsbG93cyB1cyB0byBiYWNrc2xhc2ggZXNjYXBlIHRoZSBjaGFyLlxuICpcbiAqIFRvZ2V0aGVyLCB0aGlzIG1hdGNoZXMgZXZlcnl0aGluZyBuZWNlc3NhcnkgZm9yIENTUy5lc2NhcGUuXG4gKi9cbnZhciByZWdleCA9IC8oXFwwKXxeKC0pJHwoW1xceDAxLVxceDFmXFx4N2ZdfF4tP1swLTldKXwoW1xceDgwLVxcdWZmZmYwLTlhLXpBLVpfLV0rKXxbXl0vZztcblxuZnVuY3Rpb24gZXNjYXBlcihtYXRjaCwgbmlsLCBkYXNoLCBoZXhFc2NhcGUsIGNoYXJzKSB7XG4gIC8vIENoYXJzIGlzIHRoZSBsZWdhbC1jaGFycyAoZ3JvdXAgNCkgY2FwdHVyZVxuICBpZiAoY2hhcnMpIHtcbiAgICByZXR1cm4gY2hhcnM7XG4gIH1cbiAgLy8gTmlsIGlzIHRoZSBudWxsIHRlcm1pbmF0b3IgKGdyb3VwIDEpIGNhcHR1cmVcbiAgaWYgKG5pbCkge1xuICAgIHJldHVybiAnXFx1RkZGRCc7XG4gIH1cbiAgLy8gQm90aCBVVEYgY29udHJvbCBjaGFycywgYW5kIGxlYWRpbmcgbnVtYmVycyAod2l0aCBvcHRpb25hbCBsZWFkaW5nIGRhc2gpXG4gIC8vIChncm91cCAzKSBtdXN0IGJlIGJhY2tzbGFzaCBlc2NhcGVkIHdpdGggYSB0cmFpbGluZyBzcGFjZS4gIEZ1bm5pbHksIHRoZVxuICAvLyBsZWFkaW5nIGRhc2ggbXVzdCBub3QgYmUgZXNjYXBlZCwgYnV0IHRoZSBudW1iZXIuIDpzaHJ1ZzpcbiAgaWYgKGhleEVzY2FwZSkge1xuICAgIHJldHVybiBtYXRjaC5zbGljZSgwLCAtMSkgKyAnXFxcXCcgKyBtYXRjaC5zbGljZSgtMSkuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikgKyAnICdcbiAgfVxuICAvLyBGaW5hbGx5LCB0aGUgc29saXRhcnkgZGFzaCBhbmQgdGhlIGNhdGNoLWFsbCBjaGFycyByZXF1aXJlIGJhY2tzbGFzaFxuICAvLyBlc2NhcGluZy5cbiAgcmV0dXJuICdcXFxcJyArIG1hdGNoO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jc2VyaWFsaXplLWFuLWlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRXNjYXBlKHZhbHVlKSB7XG4gIHJldHVybiBTdHJpbmcodmFsdWUpLnJlcGxhY2UocmVnZXgsIGVzY2FwZXIpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE0IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qXG4gIFRoaXMgaXMgYSBsaW1pdGVkIHNoaW0gZm9yIFNoYWRvd0RPTSBjc3Mgc3R5bGluZy5cbiAgaHR0cHM6Ly9kdmNzLnczLm9yZy9oZy93ZWJjb21wb25lbnRzL3Jhdy1maWxlL3RpcC9zcGVjL3NoYWRvdy9pbmRleC5odG1sI3N0eWxlc1xuXG4gIFRoZSBpbnRlbnRpb24gaGVyZSBpcyB0byBzdXBwb3J0IG9ubHkgdGhlIHN0eWxpbmcgZmVhdHVyZXMgd2hpY2ggY2FuIGJlXG4gIHJlbGF0aXZlbHkgc2ltcGx5IGltcGxlbWVudGVkLiBUaGUgZ29hbCBpcyB0byBhbGxvdyB1c2VycyB0byBhdm9pZCB0aGVcbiAgbW9zdCBvYnZpb3VzIHBpdGZhbGxzIGFuZCBkbyBzbyB3aXRob3V0IGNvbXByb21pc2luZyBwZXJmb3JtYW5jZSBzaWduaWZpY2FudGx5LlxuICBGb3IgU2hhZG93RE9NIHN0eWxpbmcgdGhhdCdzIG5vdCBjb3ZlcmVkIGhlcmUsIGEgc2V0IG9mIGJlc3QgcHJhY3RpY2VzXG4gIGNhbiBiZSBwcm92aWRlZCB0aGF0IHNob3VsZCBhbGxvdyB1c2VycyB0byBhY2NvbXBsaXNoIG1vcmUgY29tcGxleCBzdHlsaW5nLlxuXG4gIFRoZSBmb2xsb3dpbmcgaXMgYSBsaXN0IG9mIHNwZWNpZmljIFNoYWRvd0RPTSBzdHlsaW5nIGZlYXR1cmVzIGFuZCBhIGJyaWVmXG4gIGRpc2N1c3Npb24gb2YgdGhlIGFwcHJvYWNoIHVzZWQgdG8gc2hpbS5cblxuICBTaGltbWVkIGZlYXR1cmVzOlxuXG4gICogOmhvc3QsIDpob3N0LWNvbnRleHQ6IFNoYWRvd0RPTSBhbGxvd3Mgc3R5bGluZyBvZiB0aGUgc2hhZG93Um9vdCdzIGhvc3RcbiAgZWxlbWVudCB1c2luZyB0aGUgOmhvc3QgcnVsZS4gVG8gc2hpbSB0aGlzIGZlYXR1cmUsIHRoZSA6aG9zdCBzdHlsZXMgYXJlXG4gIHJlZm9ybWF0dGVkIGFuZCBwcmVmaXhlZCB3aXRoIGEgZ2l2ZW4gc2NvcGUgbmFtZSBhbmQgcHJvbW90ZWQgdG8gYVxuICBkb2N1bWVudCBsZXZlbCBzdHlsZXNoZWV0LlxuICBGb3IgZXhhbXBsZSwgZ2l2ZW4gYSBzY29wZSBuYW1lIG9mIC5mb28sIGEgcnVsZSBsaWtlIHRoaXM6XG5cbiAgICA6aG9zdCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgYmVjb21lczpcblxuICAgIC5mb28ge1xuICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgIH1cblxuICAqIGVuY2Fwc3VsdGlvbjogU3R5bGVzIGRlZmluZWQgd2l0aGluIFNoYWRvd0RPTSwgYXBwbHkgb25seSB0b1xuICBkb20gaW5zaWRlIHRoZSBTaGFkb3dET00uIFBvbHltZXIgdXNlcyBvbmUgb2YgdHdvIHRlY2huaXF1ZXMgdG8gaW1sZW1lbnRcbiAgdGhpcyBmZWF0dXJlLlxuXG4gIEJ5IGRlZmF1bHQsIHJ1bGVzIGFyZSBwcmVmaXhlZCB3aXRoIHRoZSBob3N0IGVsZW1lbnQgdGFnIG5hbWVcbiAgYXMgYSBkZXNjZW5kYW50IHNlbGVjdG9yLiBUaGlzIGVuc3VyZXMgc3R5bGluZyBkb2VzIG5vdCBsZWFrIG91dCBvZiB0aGUgJ3RvcCdcbiAgb2YgdGhlIGVsZW1lbnQncyBTaGFkb3dET00uIEZvciBleGFtcGxlLFxuXG4gIGRpdiB7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgYmVjb21lczpcblxuICB4LWZvbyBkaXYge1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gIGJlY29tZXM6XG5cblxuICBBbHRlcm5hdGl2ZWx5LCBpZiBXZWJDb21wb25lbnRzLlNoYWRvd0NTUy5zdHJpY3RTdHlsaW5nIGlzIHNldCB0byB0cnVlIHRoZW5cbiAgc2VsZWN0b3JzIGFyZSBzY29wZWQgYnkgYWRkaW5nIGFuIGF0dHJpYnV0ZSBzZWxlY3RvciBzdWZmaXggdG8gZWFjaFxuICBzaW1wbGUgc2VsZWN0b3IgdGhhdCBjb250YWlucyB0aGUgaG9zdCBlbGVtZW50IHRhZyBuYW1lLiBFYWNoIGVsZW1lbnRcbiAgaW4gdGhlIGVsZW1lbnQncyBTaGFkb3dET00gdGVtcGxhdGUgaXMgYWxzbyBnaXZlbiB0aGUgc2NvcGUgYXR0cmlidXRlLlxuICBUaHVzLCB0aGVzZSBydWxlcyBtYXRjaCBvbmx5IGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgc2NvcGUgYXR0cmlidXRlLlxuICBGb3IgZXhhbXBsZSwgZ2l2ZW4gYSBzY29wZSBuYW1lIG9mIHgtZm9vLCBhIHJ1bGUgbGlrZSB0aGlzOlxuXG4gICAgZGl2IHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cblxuICBiZWNvbWVzOlxuXG4gICAgZGl2W3gtZm9vXSB7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgTm90ZSB0aGF0IGVsZW1lbnRzIHRoYXQgYXJlIGR5bmFtaWNhbGx5IGFkZGVkIHRvIGEgc2NvcGUgbXVzdCBoYXZlIHRoZSBzY29wZVxuICBzZWxlY3RvciBhZGRlZCB0byB0aGVtIG1hbnVhbGx5LlxuXG4gICogdXBwZXIvbG93ZXIgYm91bmQgZW5jYXBzdWxhdGlvbjogU3R5bGVzIHdoaWNoIGFyZSBkZWZpbmVkIG91dHNpZGUgYVxuICBzaGFkb3dSb290IHNob3VsZCBub3QgY3Jvc3MgdGhlIFNoYWRvd0RPTSBib3VuZGFyeSBhbmQgc2hvdWxkIG5vdCBhcHBseVxuICBpbnNpZGUgYSBzaGFkb3dSb290LlxuXG4gIFRoaXMgc3R5bGluZyBiZWhhdmlvciBpcyBub3QgZW11bGF0ZWQuIFNvbWUgcG9zc2libGUgd2F5cyB0byBkbyB0aGlzIHRoYXRcbiAgd2VyZSByZWplY3RlZCBkdWUgdG8gY29tcGxleGl0eSBhbmQvb3IgcGVyZm9ybWFuY2UgY29uY2VybnMgaW5jbHVkZTogKDEpIHJlc2V0XG4gIGV2ZXJ5IHBvc3NpYmxlIHByb3BlcnR5IGZvciBldmVyeSBwb3NzaWJsZSBzZWxlY3RvciBmb3IgYSBnaXZlbiBzY29wZSBuYW1lO1xuICAoMikgcmUtaW1wbGVtZW50IGNzcyBpbiBqYXZhc2NyaXB0LlxuXG4gIEFzIGFuIGFsdGVybmF0aXZlLCB1c2VycyBzaG91bGQgbWFrZSBzdXJlIHRvIHVzZSBzZWxlY3RvcnNcbiAgc3BlY2lmaWMgdG8gdGhlIHNjb3BlIGluIHdoaWNoIHRoZXkgYXJlIHdvcmtpbmcuXG5cbiAgKiA6OmRpc3RyaWJ1dGVkOiBUaGlzIGJlaGF2aW9yIGlzIG5vdCBlbXVsYXRlZC4gSXQncyBvZnRlbiBub3QgbmVjZXNzYXJ5XG4gIHRvIHN0eWxlIHRoZSBjb250ZW50cyBvZiBhIHNwZWNpZmljIGluc2VydGlvbiBwb2ludCBhbmQgaW5zdGVhZCwgZGVzY2VuZGFudHNcbiAgb2YgdGhlIGhvc3QgZWxlbWVudCBjYW4gYmUgc3R5bGVkIHNlbGVjdGl2ZWx5LiBVc2VycyBjYW4gYWxzbyBjcmVhdGUgYW5cbiAgZXh0cmEgbm9kZSBhcm91bmQgYW4gaW5zZXJ0aW9uIHBvaW50IGFuZCBzdHlsZSB0aGF0IG5vZGUncyBjb250ZW50c1xuICB2aWEgZGVzY2VuZGVudCBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCB3aXRoIGEgc2hhZG93Um9vdCBsaWtlIHRoaXM6XG5cbiAgICA8c3R5bGU+XG4gICAgICA6OmNvbnRlbnQoZGl2KSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICAgIDxjb250ZW50PjwvY29udGVudD5cblxuICBjb3VsZCBiZWNvbWU6XG5cbiAgICA8c3R5bGU+XG4gICAgICAvICpAcG9seWZpbGwgLmNvbnRlbnQtY29udGFpbmVyIGRpdiAqIC9cbiAgICAgIDo6Y29udGVudChkaXYpIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtY29udGFpbmVyXCI+XG4gICAgICA8Y29udGVudD48L2NvbnRlbnQ+XG4gICAgPC9kaXY+XG5cbiAgTm90ZSB0aGUgdXNlIG9mIEBwb2x5ZmlsbCBpbiB0aGUgY29tbWVudCBhYm92ZSBhIFNoYWRvd0RPTSBzcGVjaWZpYyBzdHlsZVxuICBkZWNsYXJhdGlvbi4gVGhpcyBpcyBhIGRpcmVjdGl2ZSB0byB0aGUgc3R5bGluZyBzaGltIHRvIHVzZSB0aGUgc2VsZWN0b3JcbiAgaW4gY29tbWVudHMgaW4gbGlldSBvZiB0aGUgbmV4dCBzZWxlY3RvciB3aGVuIHJ1bm5pbmcgdW5kZXIgcG9seWZpbGwuXG4qL1xuXG5leHBvcnQgY29uc3QgU2hhZG93Q1NTID0ge1xuICBzdHJpY3RTdHlsaW5nOiBmYWxzZSxcbiAgLy8gY2hhbmdlIGEgc2VsZWN0b3IgbGlrZSAnZGl2JyB0byAnbmFtZSBkaXYnXG4gIC8qKiBAdGhpcyB7U2hhZG93Q1NTfSAqL1xuICBzY29wZVJ1bGVzOiBmdW5jdGlvbihjc3NSdWxlcywgc2NvcGVTZWxlY3Rvciwgb3B0X3RyYW5zZm9ybWVyKSB7XG4gICAgdmFyIGNzc1RleHQgPSAnJztcbiAgICBpZiAoY3NzUnVsZXMpIHtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoY3NzUnVsZXMsIGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ICYmIChydWxlLnN0eWxlICYmIHJ1bGUuc3R5bGUuY3NzVGV4dCAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgIGNzc1RleHQgKz0gdGhpcy5zY29wZVNlbGVjdG9yKHJ1bGUuc2VsZWN0b3JUZXh0LCBzY29wZVNlbGVjdG9yLFxuICAgICAgICAgICAgdGhpcy5zdHJpY3RTdHlsaW5nLCBvcHRfdHJhbnNmb3JtZXIpICsgJyB7XFxuXFx0JztcbiAgICAgICAgICBjc3NUZXh0ICs9IHRoaXMucHJvcGVydGllc0Zyb21SdWxlKHJ1bGUpICsgJ1xcbn1cXG5cXG4nO1xuICAgICAgICB9IGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gQ1NTUnVsZS5NRURJQV9SVUxFKSB7XG4gICAgICAgICAgY3NzVGV4dCArPSAnQG1lZGlhICcgKyBydWxlLm1lZGlhLm1lZGlhVGV4dCArICcge1xcbic7XG4gICAgICAgICAgY3NzVGV4dCArPSB0aGlzLnNjb3BlUnVsZXMocnVsZS5jc3NSdWxlcywgc2NvcGVTZWxlY3Rvcik7XG4gICAgICAgICAgY3NzVGV4dCArPSAnXFxufVxcblxcbic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gS0VZRlJBTUVTX1JVTEUgaW4gSUUgdGhyb3dzIHdoZW4gd2UgcXVlcnkgY3NzVGV4dFxuICAgICAgICAgIC8vIHdoZW4gaXQgY29udGFpbnMgYSAtd2Via2l0LSBwcm9wZXJ0eS5cbiAgICAgICAgICAvLyBpZiB0aGlzIGhhcHBlbnMsIHdlIGZhbGxiYWNrIHRvIGNvbnN0cnVjdGluZyB0aGUgcnVsZVxuICAgICAgICAgIC8vIGZyb20gdGhlIENTU1J1bGVTZXRcbiAgICAgICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFja2RldGFpbC92aWV3Lzk1NTcwMy9hY2Nlc3NpbmctY3NzdGV4dC1vZi1hLWtleWZyYW1lLXJ1bGUtdGhhdC1jb250YWlucy1hLXdlYmtpdC1wcm9wZXJ0eS12aWEtY3Nzb20tZ2VuZXJhdGVzLWV4Y2VwdGlvblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocnVsZS5jc3NUZXh0KSB7XG4gICAgICAgICAgICAgIGNzc1RleHQgKz0gcnVsZS5jc3NUZXh0ICsgJ1xcblxcbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCh4KSB7XG4gICAgICAgICAgICBpZiAocnVsZS50eXBlID09PSBDU1NSdWxlLktFWUZSQU1FU19SVUxFICYmIHJ1bGUuY3NzUnVsZXMpIHtcbiAgICAgICAgICAgICAgY3NzVGV4dCArPSB0aGlzLmllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlKHJ1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBjc3NUZXh0O1xuICB9LFxuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgaWVTYWZlQ3NzVGV4dEZyb21LZXlGcmFtZVJ1bGU6IGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICB2YXIgY3NzVGV4dCA9ICdAa2V5ZnJhbWVzICcgKyBydWxlLm5hbWUgKyAnIHsnO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwocnVsZS5jc3NSdWxlcywgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgY3NzVGV4dCArPSAnICcgKyBydWxlLmtleVRleHQgKyAnIHsnICsgcnVsZS5zdHlsZS5jc3NUZXh0ICsgJ30nO1xuICAgIH0pO1xuICAgIGNzc1RleHQgKz0gJyB9JztcbiAgICByZXR1cm4gY3NzVGV4dDtcbiAgfSxcbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIHNjb3BlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCBzY29wZVNlbGVjdG9yLCBzdHJpY3QsIG9wdF90cmFuc2Zvcm1lcikge1xuICAgIHZhciByID0gW10sIHBhcnRzID0gc2VsZWN0b3Iuc3BsaXQoJywnKTtcbiAgICBwYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcbiAgICAgIHAgPSBwLnRyaW0oKTtcbiAgICAgIGlmIChvcHRfdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgcCA9IG9wdF90cmFuc2Zvcm1lcihwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKHAsIHNjb3BlU2VsZWN0b3IpKSB7XG4gICAgICAgIHAgPSAoc3RyaWN0ICYmICFwLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcikpID9cbiAgICAgICAgICAgIHRoaXMuYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlKHAsIHNjb3BlU2VsZWN0b3IpIDpcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTZWxlY3RvclNjb3BlKHAsIHNjb3BlU2VsZWN0b3IpO1xuICAgICAgfVxuICAgICAgci5wdXNoKHApO1xuICAgIH0sIHRoaXMpO1xuICAgIHJldHVybiByLmpvaW4oJywgJyk7XG4gIH0sXG4gIC8qKiBAdGhpcyB7U2hhZG93Q1NTfSAqL1xuICBzZWxlY3Rvck5lZWRzU2NvcGluZzogZnVuY3Rpb24oc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY29wZVNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciByZSA9IHRoaXMubWFrZVNjb3BlTWF0Y2hlcihzY29wZVNlbGVjdG9yKTtcbiAgICByZXR1cm4gIXNlbGVjdG9yLm1hdGNoKHJlKTtcbiAgfSxcbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIG1ha2VTY29wZU1hdGNoZXI6IGZ1bmN0aW9uKHNjb3BlU2VsZWN0b3IpIHtcbiAgICBzY29wZVNlbGVjdG9yID0gc2NvcGVTZWxlY3Rvci5yZXBsYWNlKC9cXFsvZywgJ1xcXFxbJykucmVwbGFjZSgvXFxdL2csICdcXFxcXScpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeKCcgKyBzY29wZVNlbGVjdG9yICsgJyknICsgc2VsZWN0b3JSZVN1ZmZpeCwgJ20nKTtcbiAgfSxcbiAgLyoqIEB0aGlzIHtTaGFkb3dDU1N9ICovXG4gIGFwcGx5U2VsZWN0b3JTY29wZTogZnVuY3Rpb24oc2VsZWN0b3IsIHNlbGVjdG9yU2NvcGUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzZWxlY3RvclNjb3BlKSA/XG4gICAgICAgIHRoaXMuYXBwbHlTZWxlY3RvclNjb3BlTGlzdChzZWxlY3Rvciwgc2VsZWN0b3JTY29wZSkgOlxuICAgICAgICB0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShzZWxlY3Rvciwgc2VsZWN0b3JTY29wZSk7XG4gIH0sXG4gIC8vIGFwcGx5IGFuIGFycmF5IG9mIHNlbGVjdG9yc1xuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgYXBwbHlTZWxlY3RvclNjb3BlTGlzdDogZnVuY3Rpb24oc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3JMaXN0KSB7XG4gICAgdmFyIHIgPSBbXTtcbiAgICBmb3IgKHZhciBpPTAsIHM7IChzPXNjb3BlU2VsZWN0b3JMaXN0W2ldKTsgaSsrKSB7XG4gICAgICByLnB1c2godGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoc2VsZWN0b3IsIHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHIuam9pbignLCAnKTtcbiAgfSxcbiAgLy8gc2NvcGUgdmlhIG5hbWUgYW5kIFtpcz1uYW1lXVxuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOiBmdW5jdGlvbihzZWxlY3Rvciwgc2NvcGVTZWxlY3Rvcikge1xuICAgIGlmIChzZWxlY3Rvci5tYXRjaChwb2x5ZmlsbEhvc3RSZSkpIHtcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsIHNjb3BlU2VsZWN0b3IpO1xuICAgICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIHNjb3BlU2VsZWN0b3IgKyAnICcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2NvcGVTZWxlY3RvciArICcgJyArIHNlbGVjdG9yO1xuICAgIH1cbiAgfSxcbiAgLy8gcmV0dXJuIGEgc2VsZWN0b3Igd2l0aCBbbmFtZV0gc3VmZml4IG9uIGVhY2ggc2ltcGxlIHNlbGVjdG9yXG4gIC8vIGUuZy4gLmZvby5iYXIgPiAuem90IGJlY29tZXMgLmZvb1tuYW1lXS5iYXJbbmFtZV0gPiAuem90W25hbWVdXG4gIC8qKiBAdGhpcyB7U2hhZG93Q1NTfSAqL1xuICBhcHBseVN0cmljdFNlbGVjdG9yU2NvcGU6IGZ1bmN0aW9uKHNlbGVjdG9yLCBzY29wZVNlbGVjdG9yKSB7XG4gICAgc2NvcGVTZWxlY3RvciA9IHNjb3BlU2VsZWN0b3IucmVwbGFjZSgvXFxbaXM9KFteXFxdXSopXFxdL2csICckMScpO1xuICAgIHZhciBzcGxpdHMgPSBbJyAnLCAnPicsICcrJywgJ34nXSxcbiAgICAgIHNjb3BlZCA9IHNlbGVjdG9yLFxuICAgICAgYXR0ck5hbWUgPSAnWycgKyBzY29wZVNlbGVjdG9yICsgJ10nO1xuICAgIHNwbGl0cy5mb3JFYWNoKGZ1bmN0aW9uKHNlcCkge1xuICAgICAgdmFyIHBhcnRzID0gc2NvcGVkLnNwbGl0KHNlcCk7XG4gICAgICBzY29wZWQgPSBwYXJ0cy5tYXAoZnVuY3Rpb24ocCkge1xuICAgICAgICAvLyByZW1vdmUgOmhvc3Qgc2luY2UgaXQgc2hvdWxkIGJlIHVubmVjZXNzYXJ5XG4gICAgICAgIHZhciB0ID0gcC50cmltKCkucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSwgJycpO1xuICAgICAgICBpZiAodCAmJiAoc3BsaXRzLmluZGV4T2YodCkgPCAwKSAmJiAodC5pbmRleE9mKGF0dHJOYW1lKSA8IDApKSB7XG4gICAgICAgICAgcCA9IHQucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywgJyQxJyArIGF0dHJOYW1lICsgJyQyJDMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2NvcGVkO1xuICB9LFxuICAvKiogQHRoaXMge1NoYWRvd0NTU30gKi9cbiAgcHJvcGVydGllc0Zyb21SdWxlOiBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGNzc1RleHQgPSBydWxlLnN0eWxlLmNzc1RleHQ7XG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogU2FmYXJpIGNzc29tIGluY29ycmVjdGx5IHJlbW92ZXMgcXVvdGVzIGZyb20gdGhlIGNvbnRlbnRcbiAgICAvLyBwcm9wZXJ0eS4gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTgwNDUpXG4gICAgLy8gZG9uJ3QgcmVwbGFjZSBhdHRyIHJ1bGVzXG4gICAgaWYgKHJ1bGUuc3R5bGUuY29udGVudCAmJiAhcnVsZS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJ1wiXSt8YXR0ci8pKSB7XG4gICAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCAnY29udGVudDogXFwnJyArXG4gICAgICAgICAgcnVsZS5zdHlsZS5jb250ZW50ICsgJ1xcJzsnKTtcbiAgICB9XG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogd2UgY2FuIHdvcmthcm91bmQgdGhpcyBpc3N1ZSBoZXJlLCBidXQgd2UgbmVlZCBhIGxpc3RcbiAgICAvLyBvZiB0cm91Ymxlc29tZSBwcm9wZXJ0aWVzIHRvIGZpeCBodHRwczovL2dpdGh1Yi5jb20vUG9seW1lci9wbGF0Zm9ybS9pc3N1ZXMvNTNcbiAgICAvL1xuICAgIC8vIGluaGVyaXQgcnVsZXMgY2FuIGJlIG9taXR0ZWQgZnJvbSBjc3NUZXh0XG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogcmVtb3ZlIHdoZW4gQmxpbmsgYnVnIGlzIGZpeGVkOlxuICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNTgyNzNcbiAgICB2YXIgc3R5bGUgPSBydWxlLnN0eWxlO1xuICAgIGZvciAodmFyIGkgaW4gc3R5bGUpIHtcbiAgICAgIGlmIChzdHlsZVtpXSA9PT0gJ2luaXRpYWwnKSB7XG4gICAgICAgIGNzc1RleHQgKz0gaSArICc6IGluaXRpYWw7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjc3NUZXh0O1xuICB9XG59O1xuXG52YXIgc2VsZWN0b3JSZSA9IC8oW157XSopKHtbXFxzXFxTXSo/fSkvZ2ltLFxuICAgIGNzc0NvbW1lbnRSZSA9IC9cXC9cXCpbXipdKlxcKisoW14vKl1bXipdKlxcKispKlxcLy9naW0sXG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogcmVtb3ZlIGVpdGhlciBjb250ZW50IG9yIGNvbW1lbnRcbiAgICBjc3NDb21tZW50TmV4dFNlbGVjdG9yUmUgPSAvXFwvXFwqXFxzKkBwb2x5ZmlsbCAoW14qXSpcXCorKFteLypdW14qXSpcXCorKSpcXC8pKFtee10qPyl7L2dpbSxcbiAgICBjc3NDb250ZW50TmV4dFNlbGVjdG9yUmUgPSAvcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudFxcOltcXHNdKj9bJ1wiXSguKj8pWydcIl1bO1xcc10qfShbXntdKj8pey9naW0sXG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogcmVtb3ZlIGVpdGhlciBjb250ZW50IG9yIGNvbW1lbnRcbiAgICBjc3NDb21tZW50UnVsZVJlID0gL1xcL1xcKlxcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqKVxcLy9naW0sXG4gICAgY3NzQ29udGVudFJ1bGVSZSA9IC8ocG9seWZpbGwtcnVsZSlbXn1dKihjb250ZW50XFw6W1xcc10qWydcIl0oLio/KVsnXCJdKVs7XFxzXSpbXn1dKn0vZ2ltLFxuICAgIC8vIFRPRE8oc29ydmVsbCk6IHJlbW92ZSBlaXRoZXIgY29udGVudCBvciBjb21tZW50XG4gICAgY3NzQ29tbWVudFVuc2NvcGVkUnVsZVJlID0gL1xcL1xcKlxcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqKVxcLy9naW0sXG4gICAgY3NzQ29udGVudFVuc2NvcGVkUnVsZVJlID0gLyhwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKVtefV0qKGNvbnRlbnRcXDpbXFxzXSpbJ1wiXSguKj8pWydcIl0pWztcXHNdKltefV0qfS9naW0sXG4gICAgY3NzUHNldWRvUmUgPSAvOjooeC1bXlxcc3ssKF0qKS9naW0sXG4gICAgY3NzUGFydFJlID0gLzo6cGFydFxcKChbXildKilcXCkvZ2ltLFxuICAgIC8vIG5vdGU6IDpob3N0IHByZS1wcm9jZXNzZWQgdG8gLXNoYWRvd2Nzc2hvc3QuXG4gICAgcG9seWZpbGxIb3N0ID0gJy1zaGFkb3djc3Nob3N0JyxcbiAgICAvLyBub3RlOiA6aG9zdC1jb250ZXh0IHByZS1wcm9jZXNzZWQgdG8gLXNoYWRvd2Nzc2hvc3Rjb250ZXh0LlxuICAgIHBvbHlmaWxsSG9zdENvbnRleHQgPSAnLXNoYWRvd2Nzc2NvbnRleHQnLFxuICAgIHBhcmVuU3VmZml4ID0gJykoPzpcXFxcKCgnICtcbiAgICAgICAgJyg/OlxcXFwoW14pKF0qXFxcXCl8W14pKF0qKSs/JyArXG4gICAgICAgICcpXFxcXCkpPyhbXix7XSopJztcbiAgICB2YXIgY3NzQ29sb25Ib3N0UmUgPSBuZXcgUmVnRXhwKCcoJyArIHBvbHlmaWxsSG9zdCArIHBhcmVuU3VmZml4LCAnZ2ltJyksXG4gICAgY3NzQ29sb25Ib3N0Q29udGV4dFJlID0gbmV3IFJlZ0V4cCgnKCcgKyBwb2x5ZmlsbEhvc3RDb250ZXh0ICsgcGFyZW5TdWZmaXgsICdnaW0nKSxcbiAgICBzZWxlY3RvclJlU3VmZml4ID0gJyhbPlxcXFxzfitcXFsuLHs6XVtcXFxcc1xcXFxTXSopPyQnLFxuICAgIGNvbG9uSG9zdFJlID0gL1xcOmhvc3QvZ2ltLFxuICAgIGNvbG9uSG9zdENvbnRleHRSZSA9IC9cXDpob3N0LWNvbnRleHQvZ2ltLFxuICAgIC8qIGhvc3QgbmFtZSB3aXRob3V0IGNvbWJpbmF0b3IgKi9cbiAgICBwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IgPSBwb2x5ZmlsbEhvc3QgKyAnLW5vLWNvbWJpbmF0b3InLFxuICAgIHBvbHlmaWxsSG9zdFJlID0gbmV3IFJlZ0V4cChwb2x5ZmlsbEhvc3QsICdnaW0nKSxcbiAgICBwb2x5ZmlsbEhvc3RDb250ZXh0UmUgPSBuZXcgUmVnRXhwKHBvbHlmaWxsSG9zdENvbnRleHQsICdnaW0nKSxcbiAgICBzaGFkb3dET01TZWxlY3RvcnNSZSA9IFtcbiAgICAgIC8+Pj4vZyxcbiAgICAgIC86OnNoYWRvdy9nLFxuICAgICAgLzo6Y29udGVudC9nLFxuICAgICAgLy8gRGVwcmVjYXRlZCBzZWxlY3RvcnNcbiAgICAgIC9cXC9kZWVwXFwvL2csIC8vIGZvcm1lciA+Pj5cbiAgICAgIC9cXC9zaGFkb3dcXC8vZywgLy8gZm9ybWVyIDo6c2hhZG93XG4gICAgICAvXFwvc2hhZG93LWRlZXBcXC8vZywgLy8gZm9ybWVyIC9kZWVwL1xuICAgICAgL1xcXlxcXi9nLCAgICAgLy8gZm9ybWVyIC9zaGFkb3cvXG4gICAgICAvXFxeKD8hPSkvZyAgIC8vIGZvcm1lciAvc2hhZG93LWRlZXAvXG4gICAgXTtcbiJdfQ=="}