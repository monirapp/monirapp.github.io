(self.AMP=self.AMP||[]).push({n:"amp-soundcloud",v:"0",f:(function(AMP,_){
function e(a,d){function f(){}f.prototype=d.prototype;a.prototype=new f;a.prototype.constructor=a;for(var b in d)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(d,b);g&&Object.defineProperty(a,b,g)}else a[b]=d[b]};self.log=self.log||{user:null,dev:null,userForEmbed:null};var h=self.log;function l(a){a=AMP.BaseElement.call(this,a)||this;a.c=null;return a}e(l,AMP.BaseElement);l.prototype.preconnectCallback=function(a){this.preconnect.url("https://api.soundcloud.com/",a)};l.prototype.isLayoutSupported=function(a){return"fixed-height"==a};
l.prototype.layoutCallback=function(){var a=this.element.getAttribute("height"),d=this.element.getAttribute("data-color"),f=this.element.getAttribute("data-visual"),b="https://api.soundcloud.com/"+(this.element.hasAttribute("data-trackid")?"tracks":"playlists")+"/";if(!h.user)throw Error("failed to call initLogConstructor");var g=h.user.assert(this.element.getAttribute("data-trackid")||this.element.getAttribute("data-playlistid"),"data-trackid or data-playlistid is required for <amp-soundcloud> %s",
this.element),k=this.element.getAttribute("data-secret-token"),c=this.element.ownerDocument.createElement("iframe");c.setAttribute("frameborder","no");c.setAttribute("scrolling","no");b="https://w.soundcloud.com/player/?url="+encodeURIComponent(b+g);k&&(b+=encodeURIComponent("?secret_token="+k));"true"===f?b+="&visual=true":d&&(b+="&color="+encodeURIComponent(d));c.src=b;this.applyFillContent(c);c.height=a;this.element.appendChild(c);this.c=c;return this.loadPromise(c)};
l.prototype.pauseCallback=function(){this.c&&this.c.contentWindow&&this.c.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://w.soundcloud.com")};(function(a){a.registerElement("amp-soundcloud",l)})(self.AMP);
})});
//# sourceMappingURL=amp-soundcloud-0.1.js.map

