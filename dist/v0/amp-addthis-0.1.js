(self.AMP=self.AMP||[]).push({n:"amp-addthis",v:"0",f:(function(AMP,_){
function aa(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c]};var ba=Object.prototype.toString;function ca(a){if(!a)return[];for(var b=Array(a.length),d=0;d<a.length;d++)b[d]=a[d];return b};self.log=self.log||{user:null,dev:null,userForEmbed:null};var r=self.log;function da(){if(!r.user)throw Error("failed to call initLogConstructor");return r.user};function u(a){return a||{}};function ea(a,b){a=a.__AMP_TOP||a;return fa(a,b)}function w(a,b){a=ga(a);a=ga(a);a=a.isSingleDoc()?a.win:a;return fa(a,b)}function ga(a){return a.nodeType?ea((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function fa(a,b){var d=a.services;d||(d=a.services={});var c=d;a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function y(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};function A(a,b,d){a=a.createElement(b);for(var c in d)a.setAttribute(c,d[c]);return a};function B(a){this.W=a;this.I=this.P=0;this.C=Object.create(null)}B.prototype.has=function(a){return!!this.C[a]};B.prototype.get=function(a){var b=this.C[a];if(b)return b.access=++this.I,b.payload};
B.prototype.put=function(a,b){this.has(a)||this.P++;this.C[a]={payload:b,access:this.I};if(!(this.P<=this.W)){if(r.dev)a=r.dev;else throw Error("failed to call initLogConstructor");a.warn("lru-cache","Trimming LRU cache");a=this.C;var d=this.I+1,c,e;for(e in a){var f=a[e].access;f<d&&(d=f,c=e)}void 0!==c&&(delete a[c],this.P--)}};u({c:!0,v:!0,a:!0,ad:!0});var C,ha;
function F(a){var b;C||(C=self.document.createElement("a"),ha=self.UrlCache||(self.UrlCache=new B(100)));var d=b?null:ha,c=C;if(d&&d.has(a))a=d.get(a);else{c.href=a;c.protocol||(c.href=c.href);var e={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=
c.origin&&"null"!=c.origin?c.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;d&&d.put(a,e);a=e}return a}function G(a,b){var d;if(!b)return a;var c=a.split("#",2),e=c[0].split("?",2),f=e[0]+(e[1]?d?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=c[1]?"#"+c[1]:""}
function H(a){var b=[],d;for(d in a){var c=a[d];if(null!=c)if(Array.isArray(c))for(var e=0;e<c.length;e++){var f=c[e];b.push(encodeURIComponent(d)+"="+encodeURIComponent(f))}else b.push(encodeURIComponent(d)+"="+encodeURIComponent(c))}return b.join("&")};var I;function K(a,b,d){var c=void 0,e=a,f=d,g;g=function(a){try{return f(a)}catch(n){throw self.reportError(n),n;}};var h=ia(),J=!1;c&&(J=c.capture);e.addEventListener(b,g,h?c:J)}function ia(){if(void 0!==I)return I;I=!1;try{var a={get capture(){I=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return I};function ja(a,b){K(a,"pagehide",b)};var L,ka="Webkit webkit Moz moz ms O o".split(" ");function la(a,b){var d=void 0;if(y(b,"--"))return b;L||(L=Object.create(null));var c=L[b];if(!c||d){c=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<ka.length;f++){var g=ka[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var h=e;void 0!==a[h]&&(c=h)}d||(L[b]=c)}return c}function M(a,b,d){var c;(b=la(a.style,b))&&(a.style[b]=c?d+c:d)};function N(){this.m={};this.S=0;this.l=this.F=null}N.prototype.startForDoc=function(a){this.l=a.win;this.F=this.l.document.activeElement;var b=this.X.bind(this);K(this.l,"blur",b);b=this.Y.bind(this);K(this.l,"click",b)};N.prototype.X=function(){var a=this.l.document.activeElement;if(a){var b=a!==this.F;if("IFRAME"===a.tagName&&b){var d=a.src.split("://").pop();this.m[d]?this.m[d]++:this.m[d]=1}this.F=a}};N.prototype.Y=function(){this.S++;this.F=this.l.document.activeElement};
N.prototype.getPageClicks=function(){return this.S};N.prototype.getIframeClickString=function(){var a=this;return Object.keys(this.m).map(function(b){return b+"|"+a.m[b]}).join(",")};var ma="url title media description email_template email_vars passthrough url_transforms".split(" "),na="services_exclude services_compact services_expanded services_custom ui_click ui_disable ui_delay ui_hover_direction ui_language ui_offset_top ui_offset_left ui_tabindex track_addressbar track_clickback ga_property ga_social".split(" "),oa=/[A-Z]/gi,pa=/[^a-zA-Z]/g,qa=/\s/g;function O(){this.h={};this.D=[];this.K=null}O.prototype.receiveConfiguration=function(a){var b=a.config,d=a.pubId,c=a.source,e=this,f=this.D.some(function(a){return a.contentWindow===c});if(f){var g=this.h[d];g.config=b;g.requestStatus=2;var h=g.iframeData;h.forEach(function(a){var b=a,c=b.widgetId,f=b.shareConfig,g=b.atConfig;ra(e,{iframe:b.iframe,widgetId:c,pubId:d,shareConfig:f,atConfig:g})})}};
function ra(a,b){var d=b.iframe,c=b.pubId,e=a.h[c],f=e.config,g=e.requestStatus,h=u({event:"addthis.amp.configuration",shareConfig:b.shareConfig,atConfig:b.atConfig,pubId:c,widgetId:b.widgetId,configRequestStatus:g,dashboardConfig:f});f&&f.widgets&&0<Object.keys(f.widgets).length&&a.K.record({widget:f});d.contentWindow.postMessage(JSON.stringify(h),"https://s7.addthis.com");0===g&&(a.D.push(d),e.requestStatus=1)}
O.prototype.register=function(a){var b=a,d=b.pubId,c=b.widgetId,e=b.iframe,f=b.iframeLoadPromise,g=b.shareConfig,h=b.atConfig,J=b.activeToolsMonitor,ya=this;this.K||(this.K=J);this.h[d]||(this.h[d]={});b=this.h[d];b.requestStatus||(b.requestStatus=0);b.iframeData||(b.iframeData=[]);b.iframeData.push({iframe:e,shareConfig:g,atConfig:h,widgetId:c});f.then(function(){return ra(ya,{iframe:e,pubId:d,widgetId:c,shareConfig:g,atConfig:h})})};
O.prototype.unregister=function(a){var b=a.pubId,d=a.iframe;this.D=this.D.filter(function(a){return a!==d});a=this.h[b]||{};a.iframeData&&(a.iframeData=a.iframeData.filter(function(a){return a.iframe!==d}))};function P(){this.N=0;this.H=null}P.prototype.startForDoc=function(a){this.H=w(a,"viewer");this.H.onVisibilityChanged(this.listener.bind(this))};P.prototype.listener=function(){if(!this.H.isVisible()){var a=this.H.getLastVisibleTime()||0;this.N+=Date.now()-a}};P.prototype.getDwellTime=function(){return this.N};function Q(){this.w={}}Q.prototype.on=function(a,b){this.w[a]||(this.w[a]=[]);this.w[a].push(b)};function sa(a,b,d){a.w[b]&&a.w[b].forEach(function(a){return a(d)})}
Q.prototype.handleAddThisMessage=function(a){if("https://s7.addthis.com"===a.origin&&a.data){var b=a.data;if("[object Object]"!==ba.call(b)){var d;if("string"===typeof b&&y(b,"{"))b:{try{d=JSON.parse(b);break b}catch(c){}d=void 0}else d=void 0;b=d}b=b||{};switch(b.event){case "addthis.amp.configuration":sa(this,"addthis.amp.configuration",Object.assign({},b,{source:a.source}));break;case "addthis.share":sa(this,"addthis.share",b)}}};function R(){this.j=null;this.G=this.A=this.O=0}R.prototype.startForDoc=function(a){this.j=w(a,"viewport");this.O=this.j.getHeight()||0;this.A=this.j.getScrollTop()||0;this.G=this.A+this.O;this.j.onScroll(this.listener.bind(this))};R.prototype.listener=function(){var a=this.j.getScrollTop()||0;this.A=Math.max(this.A,a);this.G=Math.max(this.G,(this.j.getHeight()||0)+a)};R.prototype.getInitialViewHeight=function(){return this.O};R.prototype.getScrollHeight=function(){return this.G-this.A};var ta=/^[0-9a-f]{16}$/,ua=Date.now();var S=function(){return(ua/1E3&4294967295).toString(16)+("00000000"+Math.floor(4294967296*Math.random()).toString(16).slice(-8))}();var va=/#iframe$/;function xa(a){var b=a.map(function(a){var b=a.delay;return Object.assign({},a,{delay:Array.isArray(b)&&b.length?b:[0]})}),d=b.map(function(a){var b=a.delay;return b.map(function(b){return{delay:b,pixels:[a]}})}).reduce(function(a,b){return a.concat(b)},[]).reduce(function(a,b){var c=b.delay;b=b.pixels;a[c]||(a[c]=[]);a[c]=a[c].concat(b);return a},{});return Object.keys(d).map(function(a){return{delay:Number(a),pixels:d[a]}})}
function T(a,b){b=b.win.document;var d=A(b,"amp-pixel",u({layout:"nodisplay",referrerpolicy:"no-referrer",src:a}));b.body.appendChild(d)}
function za(a,b){var d=b.sid,c=b.ampDoc,e=xa(a);e.forEach(function(a){var b=a.delay,e=a.pixels;setTimeout(function(){var a=e.map(function(a){var b=a.url,d=va.test(b);if(-1!==b.indexOf("//"))if(d){var e=F(b).host.split(".").concat("pxltr frame".replace(/\s/,"_")),d=c.win.document,b=A(d,"iframe",u({frameborder:0,width:0,height:0,name:e,title:"Pxltr Frame",src:b})),e=!1;void 0===e&&(e=(e=la(b.style,"display"))?b.style[e]:void 0,e="none"==e);M(b,"display",e?"":"none");var e={position:"absolute",clip:"rect(0px 0px 0px 0px)"},
f;for(f in e)M(b,f,e[f]);d.body.appendChild(b)}else T(b,c);return a.id}),f=u({delay:""+b,ids:a.join("-"),sid:d}),f=G("https://m.addthisedge.com/live/prender",H(f));c.win.navigator.sendBeacon?c.win.navigator.sendBeacon(f,"{}"):T(f,c)},1E3*b)})}function Aa(a){var b={};if(void 0===a||null===a)return b;var d="string"===typeof a?a:JSON.stringify(a);try{var c=JSON.parse(d);if("[object Object]"===ba.call(c))for(var e in c)b[e]=c[e]}catch(f){}return b}
function Ba(a){var b=a.ampDoc,d=a.endpoint,c=Aa(a.data);a=G(d,H(c));ea(b.win,"xhr").fetchJson(a,{mode:"cors",method:"GET",ampCors:!1,credentials:"include"}).then(function(a){return a.json()}).then(function(a){a=void 0===a.pixels?[]:a.pixels;0<a.length&&za(a,{sid:c.sid,ampDoc:b})})};function U(a){var b=(a.getAttribute("property")||a.name||"").toLowerCase();return{name:b,content:a.content||""}};function Ca(a){return a.replace(oa,function(a){a=a.charCodeAt(0);var b=90>=a?90:122;return String.fromCharCode(b>=a+13?a+13:a-13)})}function Da(a){return a.reduce(function(a,d){a[Ca(d)]=1;return a},{})};var Ea=/^(?:q|search|bs|wd|p|kw|keyword|query|qry|querytext|text|searchcriteria|searchstring|searchtext|sp_q)=(.*)/i,Fa=/ws\/results\/(web|images|video|news)/,Ga=/google.*\/(search|url|aclk|m\?)/,Ha=/aol.*\/aol/,Ia=Da("cbea cbeab kkk zvys gvgf shpxf chfflyvcf pernzcvr svfgvat wvmm fcybbtr flovna".split(" ")),Ja=Da(["phz"]);function V(a,b){a=void 0===a?"":a;b=void 0===b?!1:b;for(var d=0,c=a.toLowerCase().split(pa),e=0;e<c.length;e++){var f=c[e];if(Ia[f]||!b&&Ja[f]){d|=1;break}}return d}
function Ka(a,b){var d=V(a.title)|V(a.hostname,!0);b.forEach(function(a){var b=U(a),c=b.name,b=b.content;if("description"===c||"keywords"===c)d|=V(b);if("rating"===c){var c=d,g=0,b=(void 0===b?"":b).toLowerCase().replace(qa,"");if("mature"===b||"adult"===b||"rta-5042-1996-1400-1577-rta"===b)g|=1;d=c|g}});return d}
function La(a,b,d){var c=0;if(a&&b){var c=b.host===d.host?c|2:c|4,e=a,e=void 0===e?"":e,f=e.toLowerCase(),g;if(!(g=f.match(Fa))){a:{for(var e=e.split("?").pop().toLowerCase().split("&"),h=0;h<e.length;h++)if(g=Ea.exec(e[h])){e=g[1];break a}e=void 0}g=void 0===e?0:-1===f.indexOf("addthis")&&(Ga.test(f)||Ha.test(f)||-1<f.indexOf("/pagead/aclk?")||-1<f.indexOf(".com/url")||-1<f.indexOf(".com/l.php")||-1<f.indexOf("/search?")||-1<f.indexOf("/search/?")||-1<f.indexOf("search?")||-1<f.indexOf("yandex.ru/clck/jsredir?")||
-1<f.indexOf(".com/search")||-1<f.indexOf(".org/search")||-1<f.indexOf("/search.html?")||-1<f.indexOf("search/results.")||-1<f.indexOf(".com/s?bs")||-1<f.indexOf(".com/s?wd")||-1<f.indexOf(".com/mb?search")||-1<f.indexOf(".com/mvc/search")||-1<f.indexOf(".com/web")||-1<f.indexOf("hotbot.com/"))}g&&(c|=1)}return c}
function Ma(a,b){if(a.getElementById("product")||0<(a.getElementsByClassName("product")||[]).length||a.getElementById("productDescription")||a.getElementById("page-product")||a.getElementById("vm_cart_products")||window.Virtuemart)return!0;var d=b.reduce(function(a,b){var c=U(b);b=c.name;c=c.content;if(y(b,"og:")){var d=b.split(":").pop();a[d]=c}return a},{});return"product"===d.type}
function Na(a){return a.filter(function(a){return"keywords"===U(a).name.toLowerCase()}).map(function(a){var b=[];a=U(a).content.split(",");for(var c=0,e=0;e<a.length;e++){var f=(a[e]||"").trim();if(f){if(200<=f.length+c+1)break;b.push(f);c+=f.length+1}}return b}).reduce(function(a,d){return a.concat(d)},[]).join(",")};var Oa=/^\.[a-z0-9\-_]{11}(\.[a-z0-9_]+)?$/i;function W(a){a=a.split("#").pop();a=a.split(";").shift();if(Oa.test(a))return a};var Pa=/\.gov|\.mil/;var Qa=/[0-9\-].*/;function X(){this.J={}}X.prototype.record=function(a){a=a.widget;var b=(a.id||a.pco||"").replace(Qa,"");b&&!this.J[b]&&oa.test(b)&&(this.J[b]=b)};X.prototype.getActivePcos=function(){return Object.keys(this.J)};var Y=new O,Ra=new R,Sa=new P,Ta=new N,Ua=new X,Va=!0;function Z(a){a=AMP.BaseElement.call(this,a)||this;a.o=null;a.B="";a.V="";a.R="";a.M="";a.T="";a.U=null;a.L=null;return a}aa(Z,AMP.BaseElement);
Z.prototype.buildCallback=function(){var a=this,b=this.element.getAttribute("data-pub-id"),d=this.element.getAttribute("data-widget-id");this.B=da().assert(b,"The data-pub-id attribute is required for <amp-addthis> %s",this.element);this.V=da().assert(d,"The data-widget-id attribute is required for <amp-addthis> %s",this.element);var c=this.getAmpDoc();this.R=this.element.getAttribute("data-canonical-url")||c.getUrl();this.M=this.element.getAttribute("data-canonical-title")||c.win.document.title;
this.U=Wa(this);this.L=Xa(this,c);if(Va){Va=!1;var e=w(c,"viewer"),f=F(this.R);e.whenFirstVisible().then(function(){return e.getReferrerUrl()}).then(function(b){a.T=b;var d=a.M,e=a.B,g=a.L,n=f.href,t=f.hostname,z=f.host,x=f.search,p=f.pathname,q=f.hash,m=f.protocol,D=f.port,d={du:n.split("#").shift(),hostname:t,href:n,referrer:b,search:x,pathname:p,title:d,hash:q,protocol:m,port:D},n=b?F(b):{},p=g.ui_language.split("-"),x=p[0],p=p.slice(1);q=(q=W(d.du))?q.split(".").slice(2).shift():void 0;var m=
c.win,D=ca(m.document.head.querySelectorAll("meta")),Ya=m.navigator.doNotTrack&&"unspecified"!==m.navigator.doNotTrack&&"no"!==m.navigator.doNotTrack&&"0"!==m.navigator.doNotTrack,Za=0|(!1!==g.use_cookies?1:0)|(!0===g.track_textcopy?2:0)|(!0===g.track_addressbar?4:0),$a=Ka(d,D),ab=Date.now(),g=!1!==g.track_clickback&&!1!==g.track_linkback?1:0,bb=z===n.host?void 0:n.host,E;E=q?"":(E=W(d.du))?E.split(".").slice(1).shift():void 0;var v;v=d.du;var k;if(W(v))k=!0;else{k=v.split("#").pop();var l;if(l=k&&
k.match(ta)){l=new Date;try{l=new Date(1E3*parseInt(k.substr(0,8),16))}catch(gb){}k=l;k.setDate(k.getDate()-1);l=new Date;if(k.getFullYear()<l.getFullYear())k=!1;else{var wa=k.getFullYear()===l.getFullYear(),cb=k.getMonth()>l.getMonth(),db=k.getMonth()===l.getMonth(),eb=k.getDate()>l.getDate();k=k.getFullYear()>l.getFullYear()||wa&&cb||wa&&db&&eb}l=!k}k=l||-1<v.indexOf("#at_pco=")?!0:!1}v=k?v.split("#").shift():v;b={amp:1,bl:Za,cb:$a,colc:ab,ct:g,dc:1,dp:z,dr:bb,fcu:E,fp:F(v).pathname,fr:n.pathname||
"",gen:100,ln:x,lnlc:p,mk:Na(D),of:Ya?4:Pa.test(t)?1:0,pd:Ma(m.document,D)?1:0,pub:e,rb:La(b,n,F(d.du)),sid:S,skipb:1,sr:q};Ba({ampDoc:c,endpoint:"https://m.addthis.com/live/red_lojson/300lo.json",data:b});Sa.startForDoc(c);Ra.startForDoc(c);Ta.startForDoc(c)});fb(this,{ampDoc:c,loc:f,pubId:this.B})}};
Z.prototype.preconnectCallback=function(a){this.preconnect.url("https://s7.addthis.com",a);this.preconnect.url("https://m.addthis.com",a);this.preconnect.url("https://m.addthisedge.com",a);this.preconnect.url("https://api-public.addthis.com",a);this.preconnect.url("https://cache.addthiscdn.com",a);this.preconnect.url("https://su.addthis.com",a)};
Z.prototype.createPlaceholderCallback=function(){var a=A(this.win.document,"div",u({placeholder:""}));M(a,"background-color","#eee");var b=A(this.win.document,"amp-img",u({src:"https://cache.addthiscdn.com/icons/v3/thumbs/32x32/addthis.png",layout:"fixed",width:"32",height:"32",referrerpolicy:"origin",alt:"AddThis Website Tools"}));a.appendChild(b);return a};
Z.prototype.layoutCallback=function(){var a=A(this.element.ownerDocument,"iframe",u({frameborder:0,title:"AddThis Website Tools",src:"https://s7.addthis.com/dc/amp-addthis.html"})),b=this.loadPromise(a);M(a,"margin-bottom","-5px");this.applyFillContent(a);this.element.appendChild(a);this.o=a;Y.register({pubId:this.B,widgetId:this.V,shareConfig:this.U,atConfig:this.L,iframe:a,iframeLoadPromise:b,activeToolsMonitor:Ua});return b};
Z.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};Z.prototype.unlayoutCallback=function(){if(this.o){var a=this.o;a.parentElement&&a.parentElement.removeChild(a);Y.unregister({pubId:this.B,iframe:this.o});this.o=null}return!0};
function Wa(a){var b={};ma.map(function(d){var c=a.element.getAttribute("data-"+d);c?b[d]=c:"url"===d?b[d]=a.getAmpDoc().getUrl():"title"===d&&(b[d]=a.getAmpDoc().win.document.title)});return b}function Xa(a,b){return na.reduce(function(d,c){var e=a.element.getAttribute("data-"+c);e?d[c]=e:(e=b.win,"ui_language"===c&&(d[c]=e.document.documentElement.lang||e.navigator.language||e.navigator.userLanguage||"en"));return d},{})}
function fb(a,b){var d=b.ampDoc,c=b.loc,e=b.pubId;ja(d.win,function(){var a=c.host,b=c.pathname,f=c.hash,g=w(d,"viewport"),t=Ua.getActivePcos().join(",")||void 0,z=Sa.getDwellTime(),b=b.replace(f,""),f=Ta.getIframeClickString(),x=Ra.getInitialViewHeight(),p=Ta.getPageClicks(),q=d.win.navigator.sendBeacon?0:1,g=g.getHeight(),m=Ra.getScrollHeight(),a=u({al:t,amp:1,dc:1,dp:a,dt:z,fp:b,ict:f,ivh:x,pct:p,pfm:q,ph:g,pub:e,sh:m,sid:S}),a=G("https://m.addthis.com/live/red_lojson/100eng.json",H(a));d.win.navigator.sendBeacon?
d.win.navigator.sendBeacon(a,"{}"):T(a,d)});var f=new Q,g=f.handleAddThisMessage.bind(f);K(d.win,"message",g);f.on("addthis.share",function(b){var f=a.T,g=a.M,h=c.href,t=c.hostname,z=c.search,x=c.pathname,p=c.hash,q=c.protocol,m=c.port,g={du:h.split("#").shift(),hostname:t,href:h,referrer:f,search:z,pathname:x,title:g,hash:p,protocol:q,port:m},h=f?F(f):{},t=ca(d.win.document.head.querySelectorAll("meta"));b={amp:1,cb:Ka(g,t),dc:1,dest:b.service,gen:300,mk:Na(t),pub:e,rb:La(f,h,F(g.du)),sid:S,url:b.url};
Ba({ampDoc:d,endpoint:"https://m.addthis.com/live/red_pjson",data:b})});f.on("addthis.amp.configuration",Y.receiveConfiguration.bind(Y))}(function(a){a.registerElement("amp-addthis",Z)})(self.AMP);
})});
//# sourceMappingURL=amp-addthis-0.1.js.map

