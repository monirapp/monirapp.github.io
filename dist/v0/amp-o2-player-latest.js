(self.AMP=self.AMP||[]).push({n:"amp-o2-player",v:"0",f:(function(AMP,_){
function d(a,b){function f(){}f.prototype=b.prototype;a.prototype=new f;a.prototype.constructor=a;for(var e in b)if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(b,e);c&&Object.defineProperty(a,e,c)}else a[e]=b[e]};self.log=self.log||{user:null,dev:null,userForEmbed:null};var h=self.log;function k(){if(!h.user)throw Error("failed to call initLogConstructor");return h.user};function l(a){return a||{}};function m(a){a=AMP.BaseElement.call(this,a)||this;a.h=null;a.l="";a.j="";a.c="";a.m="";return a}d(m,AMP.BaseElement);m.prototype.preconnectCallback=function(a){this.preconnect.url(this.c,a)};m.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
m.prototype.buildCallback=function(){this.l=k().assert(this.element.getAttribute("data-pid"),"data-pid attribute is required for <amp-o2-player> %s",this.element);this.j=k().assert(this.element.getAttribute("data-bcid"),"data-bcid attribute is required for <amp-o2-player> %s",this.element);var a=this.element.getAttribute("data-bid"),b=this.element.getAttribute("data-vid"),f=this.element.getAttribute("data-macros"),e=this.element.getAttribute("data-env");this.c="https://delivery."+("stage"!=e?"":"dev.")+
"vidible.tv";var c=this.c+"/htmlembed/",g=[],c=c+("pid="+encodeURIComponent(this.l)+"/"+encodeURIComponent(this.j)+".html");a&&g.push("bid="+encodeURIComponent(a));b&&g.push("vid="+encodeURIComponent(b));f&&g.push(f);0<g.length&&(c+="?"+g.join("&"));this.m=c};
m.prototype.layoutCallback=function(){k().assert(this.l,"data-pid attribute is required for <amp-o2-player> %s",this.element);k().assert(this.j,"data-bcid attribute is required for <amp-o2-player> %s",this.element);var a=this.element.ownerDocument.createElement("iframe");a.setAttribute("frameborder","0");a.setAttribute("allowfullscreen","true");a.src=this.m;this.h=a;this.applyFillContent(a);this.element.appendChild(a);return this.loadPromise(a)};
m.prototype.pauseCallback=function(){this.h&&this.h.contentWindow&&this.h.contentWindow.postMessage(JSON.stringify(l({method:"pause",value:this.c})),"*")};(function(a){a.registerElement("amp-o2-player",m)})(self.AMP);
})});
//# sourceMappingURL=amp-o2-player-0.1.js.map

