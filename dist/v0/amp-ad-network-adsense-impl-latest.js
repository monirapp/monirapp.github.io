(self.AMP=self.AMP||[]).push({n:"amp-ad-network-adsense-impl",v:"0",f:(function(AMP,_){
var g;function aa(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}(function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a})(this);function ba(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ca=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function q(a){var b=Object.create(null);if(!a)return b;for(var c;c=ca.exec(a);){var d=ba(c[1],c[1]),e=c[2]?ba(c[2],c[2]):"";b[d]=e}return b};var da="";
function u(a){var b=a||self,c;if(b.AMP_MODE)c=b.AMP_MODE;else{c=b;var d=!!(self.AMP_CONFIG||{}).test||!1,e=q(c.location.originalHash||c.location.hash),f=q(c.location.search);da||(da=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"010");c=b.AMP_MODE={localDev:!1,development:!("1"!=e.development&&!c.AMP_DEV_MODE),examiner:"2"==e.development,filter:e.filter,geoOverride:e["amp-geo"],minified:!0,lite:void 0!=f.amp_lite,test:d,log:e.log,version:"0",rtvVersion:da}}return c};var ea=Object.prototype.toString;function fa(a){return"number"===typeof a&&isFinite(a)};function ga(a){var b=a.message,c=String(Math.random());a.message=c;if(a.message===c)return a.message=b,a;var b=Error(a.message),d;for(d in a)b[d]=a[d];b.stack=a.stack;return b}function ha(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=ga(e):(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function x(a){var b=ha.apply(null,arguments);setTimeout(function(){self.reportError(b);throw b;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};
var ia=self.log;function z(){if(!ia.user)throw Error("failed to call initLogConstructor");return ia.user}function A(){if(ia.dev)return ia.dev;throw Error("failed to call initLogConstructor");};var C=Object.prototype.hasOwnProperty;function D(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function E(a){return a||{}};function ja(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b}function ka(a){return new Promise(function(b){b(a())})};function la(a,b){if(a.nodeType){var c=ma((a.ownerDocument||a).defaultView,b);if(c)return c}return F(a,b)}function pa(a,b){var c=qa(a);ma(a,"url-replace");ra(a,a,function(){return b});G(a,"url-replace")}function ma(a,b){var c=qa(a);return a!=c&&sa(a,b)?G(a,b):null}function H(a,b){a=qa(a);return G(a,b)}function F(a,b){a=I(a);a=J(a);return G(a,b)}function ta(a,b){return ua(J(a),b)}function qa(a){return a.__AMP_TOP||a}
function I(a){return a.nodeType?H((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function J(a){a=I(a);return a.isSingleDoc()?a.win:a}function G(a,b){sa(a,b);var c=L(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function ra(a,b,c){var d=L(a),e=d["url-replace"];e||(e=d["url-replace"]={obj:null,promise:null,resolve:null,context:null,ctor:null});e.ctor||e.obj||(e.ctor=c,e.context=b,e.resolve&&G(a,"url-replace"))}
function va(a,b){var c=ua(a,b);if(c)return c;var d=new ja,e=d,f=e.promise,e=e.resolve;L(a)[b]={obj:null,promise:f,resolve:e,context:null,ctor:null};return f}function ua(a,b){var c=L(a)[b];if(c){if(c.promise)return c.promise;G(a,b);return c.promise=Promise.resolve(c.obj)}return null}function L(a){var b=a.services;b||(b=a.services={});return b}
function wa(a){a=L(a);var b={},c;for(c in a)if(b.id=c,Object.prototype.hasOwnProperty.call(a,b.id)){var d=a[b.id];d.obj?xa(b.id,d.obj):d.promise&&d.promise.then(function(a){return function(b){return xa(a.id,b)}}(b));b={id:b.id}}}function xa(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){A().error("SERVICE","failed to dispose service",a,c)}}function sa(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ya(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)}function za(a){for(var b=a.length,c=5381,d=0;d<b;d++)c=33*c^a.charCodeAt(d);return String(c>>>0)};var Aa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ba=/(&|<|>|"|'|`)/g;function Ca(a,b,c){a=a.createElement(b);for(var d in c)a.setAttribute(d,c[d]);return a}function Da(a,b){for(var c,d=a;d&&d!==c;d=d.parentElement)if(b(d))return d;return null}function Ea(a){var b="A";if(a.closest)return a.closest(b);b=b.toUpperCase();return Da(a,function(a){return a.tagName==b})}function Fa(a){return a?a.replace(Ba,Ga):a}function Ga(a){return Aa[a]};function Ha(a,b,c){var d=I(a),e=ta(a,b);return e?e:d.whenBodyAvailable().then(function(){var a;a=d.win;var b=d.getHeadNode(),e;if(b){e=[];for(var b=b.querySelectorAll("script[custom-element]"),l=0;l<b.length;l++)e.push(b[l].getAttribute("custom-element"))}else e=[];a=e.includes(c)?H(a,"extensions").waitForExtension(a,c):Promise.resolve();return a}).then(function(){var e=d.win;return e.ampExtendedElements&&e.ampExtendedElements[c]?va(J(a),b):null})};function Ia(a){return Ha(a,"amp-analytics-instrumentation","amp-analytics")}function M(a){a=I(a);a=J(a);return G(a,"documentInfo").get()}function Ja(a){return H(a,"extensions")}function La(a){return F(a,"resources")}function N(a){return H(a,"timer")}function O(a){return F(a,"viewer")};function Ma(a){this.oa=a;this.da=this.o=0;this.Y=Object.create(null)}Ma.prototype.has=function(a){return!!this.Y[a]};Ma.prototype.get=function(a){var b=this.Y[a];if(b)return b.access=++this.da,b.payload};Ma.prototype.put=function(a,b){this.has(a)||this.o++;this.Y[a]={payload:b,access:this.da};if(!(this.o<=this.oa)){A().warn("lru-cache","Trimming LRU cache");a=this.Y;var c=this.da+1,d,e;for(e in a){var f=a[e].access;f<c&&(c=f,d=e)}void 0!==d&&(delete a[d],this.o--)}};var Q=self.AMP_CONFIG||{},Na={thirdParty:Q.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:Q.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof Q.thirdPartyFrameRegex?new RegExp(Q.thirdPartyFrameRegex):Q.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:Q.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof Q.cdnProxyRegex?new RegExp(Q.cdnProxyRegex):Q.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:Q.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:Q.localDev||!1};E({c:!0,v:!0,a:!0,ad:!0});var Oa,Pa,Qa=["javascript:","data:","vbscript:"];
function R(a,b){Oa||(Oa=self.document.createElement("a"),Pa=self.UrlCache||(self.UrlCache=new Ma(100)));var c=b?null:Pa,d=Oa;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=
d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;c&&c.put(a,e);a=e}return a}function Ra(a,b){var c;if(!b)return a;var d=a.split("#",2),e=d[0].split("?",2),f=e[0]+(e[1]?c?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=d[1]?"#"+d[1]:""}
function Sa(a){var b=[],c;for(c in a){var d=a[c];if(null!=d)if(Array.isArray(d))for(var e=0;e<d.length;e++){var f=d[e];b.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}else b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")}function Ta(a){"string"==typeof a&&(a=R(a));var b;(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}
function Ua(a,b){var c;c=void 0===c?"source":c;z().assert(null!=a,"%s %s must be available",b,c);var d=a;z().assert(Ta(d)||/^(\/\/)/.test(d),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,d)}function Va(a){if(!a)return!0;"string"==typeof a&&(a=R(a));return!Qa.includes(a.protocol)};function Wa(a){for(var b=[],c=0;a&&1==a.nodeType&&25>c;){var d="";a.id&&(d="/"+a.id);var e=a.nodeName.toLowerCase();b.push(""+e+d+Xa(a));c++;a=a.parentElement}return b.join()}function Xa(a){for(var b=a.nodeName,c=0,d=0,e=a.previousElementSibling;e&&25>d&&100>c;)e.nodeName==b&&d++,c++,e=e.previousElementSibling;return 25>d&&100>c?"."+d:""};function Ya(a,b){return Ha(a,"consentPolicyManager","amp-consent").then(function(a){return a?a.whenPolicyResolved(b):null})};function Za(a){var b,c="AMP_ECID_GOOGLE",d="_ga",e=isNaN(b)||null==b?1E3:b,f=va(J(a),"cid").then(function(a){if(a)return a.get({scope:c,createCookieIfNotPresent:!0,cookieName:d},Promise.resolve(void 0)).catch(function(a){A().error("AD-CID",a)})});return N(a.win).timeoutPromise(e,f,"cid timeout").catch(function(a){A().warn("AD-CID",a)})};var S;function $a(a,b,c){var d=void 0,e=a,f=c,h;h=function(a){try{return f(a)}catch(r){throw self.reportError(r),r;}};var k=ab(),l=!1;d&&(l=d.capture);e.addEventListener(b,h,k?d:l);return function(){e&&e.removeEventListener(b,h,k?d:l);h=e=f=null}}function ab(){if(void 0!==S)return S;S=!1;try{var a={get capture(){S=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return S};function bb(a,b,c){var d=c,e=$a(a,b,function(a){try{d(a)}finally{d=null,e()}});return e}function cb(a){var b,c;if(a.complete||"complete"==a.readyState||a.document&&"complete"==a.document.readyState)return Promise.resolve(a);var d=new Promise(function(d,f){var e=a.tagName;b="AUDIO"===e||"VIDEO"===e?bb(a,"loadstart",d):bb(a,"load",d);e&&(c=bb(a,"error",f))});return d.then(function(){c&&c();return a},function(){b&&b();var c=a;c&&c.src&&(c=c.src);throw z().createError("Failed to load:",c);})};function db(a,b,c){return cb(a).then(function(){return eb(a,b,c)})}function eb(a,b,c){var d=a.performance&&a.performance.timing;if(d&&0!=d.navigationStart){var e=void 0===c?d[b]:d[c]-d[b];if(fa(e)&&!(0>e))return e}}function fb(a,b){var c=a.performance&&a.performance.navigation;if(c&&void 0!==c[b])return c[b]}function gb(a){this.ampdoc=a;this.R=this.S=void 0;this.A=Object.create(null);this.$=!1;hb(this)}g=gb.prototype;g.initialize=function(){};
g.get=function(a){this.$||(this.initialize(),this.$=!0);return this.A[a]};g.set=function(a,b){this.A[a]=this.A[a]||{sync:void 0,async:void 0};this.A[a].sync=b;this.R=this.S=void 0;return this};g.setAsync=function(a,b){this.A[a]=this.A[a]||{sync:void 0,async:void 0};this.A[a].async=b;this.R=this.S=void 0;return this};g.setBoth=function(a,b,c){return this.set(a,b).setAsync(a,c)};
g.getExpr=function(a,b,c){var d=this;this.$||(this.initialize(),this.$=!0);var e=a?Object.keys(a):null;if(e&&0<e.length){var f=Object.keys(this.A);e.forEach(function(a){void 0===d.A[a]&&f.push(a)});return ib(this,f,b,c)}this.S||b||(this.S=ib(this,Object.keys(this.A)));!this.R&&b&&(this.R=ib(this,Object.keys(this.A),b,c));return b?this.R:this.S};
function ib(a,b,c,d){hb(a)&&(b=b.filter(function(b){return hb(a).includes(b)}));d&&(b=b.filter(function(a){return d[a]}));if(0===b.length){var e=/_^/g;return e}b.sort(function(a,b){return b.length-a.length});var f=b.map(function(a){return"$"===a[0]?"\\"+a:a}).join("|"),h="\\$?("+f+")";c||(h+="(?:\\(((?:\\s*[0-9a-zA-Z-_.]*\\s*(?=,|\\)),?)*)\\s*\\))?");return new RegExp(h,"g")}
function hb(a){if(a.ha)return a.ha;var b=a.ampdoc.getRootNode().head;if(!b)return null;var c=b.querySelector('meta[name="amp-allowed-url-macros"]');if(!c)return null;a.ha=c.getAttribute("content").split(",").map(function(a){return a.trim()});return a.ha};function jb(a){return a.AMP_CONFIG&&a.AMP_CONFIG.type?a.AMP_CONFIG.type:"unknown"}function T(a,b){var c=kb(a);return!!c[b]}
function kb(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var e=a.AMP_CONFIG["allow-doc-opt-in"];if(c=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]')){var f=
c.getAttribute("content").split(",");for(c=0;c<f.length;c++)-1!=e.indexOf(f[c])&&(b[f[c]]=!0)}}Object.assign(b,lb(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=q(a.location.originalHash||a.location.hash);for(var h=0;h<c.length;h++){var k=a["e-"+c[h]];"1"==k&&(b[c[h]]=!0);"0"==k&&(b[c[h]]=!1)}}return b}
function lb(a){a:{var b;try{b=a.document.cookie}catch(h){b=""}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),d=c.indexOf("=");if(-1!=d&&"AMP_EXP"==ba(c.substring(0,d).trim(),void 0)){a=c.substring(d+1).trim();a=ba(a,a);break a}}a=null}var e=a,f=e?e.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<f.length;b++)0!=f[b].length&&("-"==f[b][0]?a[f[b].substr(1)]=!1:a[f[b]]=!0);return a}
function mb(a,b){a.experimentBranches=a.experimentBranches||{};var c={},d;for(d in b)if(C.call(b,d))if(C.call(a.experimentBranches,d))c[d]=a.experimentBranches[d];else if(!b[d].isTrafficEligible||!b[d].isTrafficEligible(a))a.experimentBranches[d]=null;else if(!a.experimentBranches[d]&&T(a,d)){var e=b[d].branches,f=e;a.experimentBranches[d]=f[Math.floor(Math.random()*f.length)]||null;c[d]=a.experimentBranches[d]}return c}function nb(a,b){return a.experimentBranches?a.experimentBranches[b]:null};var ob={"AMP-CAROUSEL":"ac","AMP-FX-FLYING-CARPET":"fc","AMP-LIGHTBOX":"lb","AMP-STICKY-AD":"sa"},pb={visible:"1",hidden:"2",prerender:"3",unloaded:"5"},U={name:"trunc",value:"1"},qb=/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org((\/.*)|($))+/;
function rb(a,b){for(var c=a,d=c.element,c=c.win,e=a.getPageLayoutBox(),f=0;c!=c.parent&&100>f;)c=c.parent,f++;var h=f,k=sb(d),l=d.getAttribute("data-experiment-id");b&&(l=tb(b,l));return{adf:za(Wa(d)),nhd:h,eid:l,adx:e.left,ady:e.top,oid:"2",act:k.length?k.join():null}}
function ub(a,b){var c=a.win,d=a.getAmpDoc(),e=N(c).timeoutPromise(1E3,O(d).getReferrerUrl()).catch(function(){A().error("AMP-A4A","Referrer timeout!");return""});return Promise.all([Za(d),e]).then(function(e){var f=e[0],k=e[1],l=M(d),m=l.pageViewId,r=l.canonicalUrl;c.gaGlobal=c.gaGlobal||{cid:f,hid:m};var n=c.screen,t=F(d,"viewport"),v=t.getRect(),p=t.getSize(),w=O(d).getVisibilityState(),l=a.isXhrAllowed()?"3":"5",y=vb(c,d,f),B=c.gaGlobal.cid||null,P=c.gaGlobal.hid||null,na=v.width,xc=v.height,
yc=n?n.availWidth:null,zc=n?n.availHeight:null,Ac=n?n.colorDepth:null,Bc=n?n.width:null,n=n?n.height:null,Cc=-(new Date).getTimezoneOffset(),Ka;try{Ka=c.history.length}catch(vd){Ka=0}var Dc=c!=c.top?p.width:null,Ec=c!=c.top?p.height:null,Z;Z=wb(jb(c));Z=qb.test(c.location.origin)&&"0"!=Z?Z:null;var Fc=pb[w]||"0",Gc=t.getScrollLeft(),Hc=t.getScrollTop(),oa=0,K=c.document;c.SVGElement&&K.createElementNS&&(oa|=xb);K=K.createElement("iframe");K.sandbox&&K.sandbox.supports&&(K.sandbox.supports("allow-top-navigation-by-user-activation")&&
(oa|=yb),K.sandbox.supports("allow-popups-to-escape-sandbox")&&(oa|=zb));return{is_amp:l,amp_v:"0",d_imp:"1",c:y,ga_cid:B,ga_hid:P,dt:b,biw:na,bih:xc,u_aw:yc,u_ah:zc,u_cd:Ac,u_w:Bc,u_h:n,u_tz:Cc,u_his:Ka,isw:Dc,ish:Ec,art:Z,vis:Fc,scr_x:Gc,scr_y:Hc,bc:oa||null,debug_experiment_id:(/(?:#|,)deid=([\d,]+)/i.exec(c.location.hash)||[])[1]||null,url:r||null,top:c!=c.top?Ab(c):null,loc:c.location.href==r?null:c.location.href,ref:k||null}})}
function Bb(a,b,c,d){var e=rb(a,d);return ub(a,b).then(function(a){Object.assign(c,e,a);var d=c,f=[],l=U&&null!=U.value&&""!==U.value?encodeURIComponent(U.name)+"="+encodeURIComponent(String(U.value)):null,m=16328;l&&(m-=l.length+1);for(var r=Object.keys(d),n=0;n<r.length;n++){var t=r[n],v=d[t];if(null!=v&&""!==v){var t=encodeURIComponent(t)+"=",v=encodeURIComponent(String(v)),p=t.length+v.length+1;if(p>m){(d=v.substr(0,m-t.length-1).replace(/%\w?$/,""))&&f.push(t+d);l&&f.push(l);break}f.push(t+v);
m-=p}}l=Date.now()-b;return(f.length?"https://googleads.g.doubleclick.net/pagead/ads?"+f.join("&"):"https://googleads.g.doubleclick.net/pagead/ads")+"&dtd="+(1E6<=l?"M":0<=l?l:"-M")})}function Cb(a){return(/^(?:https?:\/\/)?([^\/\?:]+)/i.exec(a)||[])[1]||a}
function Ab(a){var b=a.location.ancestorOrigins;if(b){var c=a.location.origin,d=b[b.length-1];if(c==d)return a.top.location.hostname;var e=Db(a);return e==a||c==b[b.length-2]?Cb(e.document.referrer):Cb(d)}try{return a.top.location.hostname}catch(f){}a=Db(a);try{return Cb(a.document.referrer)}catch(f){}return null}function Db(a){for(var b=0;a.parent!=a.parent.parent&&100>b;)a=a.parent,b++;return a}
function vb(a,b,c){if(!a.ampAdPageCorrelator){if(T(a,"exp-new-correlator"))b=Math.floor(4503599627370496*Math.random());else{var d=M(b).pageViewId;b=c;d=Number(d||0);b=b?d+b.replace(/\D/g,"")%1E6*1E6:Math.floor(4503599627370496*Math.random())}a.ampAdPageCorrelator=b}return a.ampAdPageCorrelator}
function Eb(a,b){var c,d,e,f,h,k;try{c=a.screenX,d=a.screenY}catch(l){}try{e=a.outerWidth,f=a.outerHeight}catch(l){}try{h=b.width,k=b.height}catch(l){}return[a.screenLeft,a.screenTop,c,d,a.screen?a.screen.availWidth:void 0,a.screen?a.screen.availTop:void 0,e,f,h,k].join()}function Fb(a,b){return E({on:a,request:"csi",sampleSpec:{sampleOn:"a4a-csi-${pageViewId}",threshold:1},selector:"amp-ad",selectionMethod:"closest",extraUrlParams:b})}
function Gb(a){if(!a.has("X-AmpAnalytics"))return null;try{var b=JSON.parse(a.get("X-AmpAnalytics")),c=b.url;if(!c.length)return null;for(var d={transport:{beacon:!1,xhrpost:!1},triggers:{continuousVisible:{on:"visible",visibilitySpec:{selector:"amp-ad",selectionMethod:"closest",visiblePercentageMin:50,continuousTimeMin:1E3}}}},e={},f=1;f<=c.length;f++)e["visibility"+f]=""+c[f-1];d.requests=e;d.triggers.continuousVisible.request=Object.keys(e);return d}catch(h){A().error("AMP-A4A","Invalid analytics",
h,a.get("X-AmpAnalytics"))}return null}function tb(a,b){var c=a.filter(function(a){return Number(a)}).join(",");b=b||"";return b+(b&&c?",":"")+c}function sb(a){var b={};a=a.parentElement;for(var c=0;a&&20>c;a=a.parentElement,c++){var d=a.tagName.toUpperCase();ob[d]&&(b[ob[d]]=!0)}return Object.keys(b)}function wb(a){return{production:"0",control:"1",canary:"2"}[a]||null}var Hb=/\.google\.(?:com?\.)?[a-z]{2,3}$/;
function Ib(a,b,c){a.goog_identity_prom=a.goog_identity_prom||(c?Ya(b,c):Promise.resolve(3)).then(function(c){return 2==c||4==c?{}:Jb(a,b)});return a.goog_identity_prom}
function Jb(a,b,c,d,e){c=void 0===c?1:c;e=void 0===e?Date.now():e;d=Kb(a,b,d);return H(a,"xhr").fetchJson(d,{mode:"cors",method:"GET",ampCors:!1,credentials:"include"}).then(function(a){return a.json()}).then(function(d){var f=d.newToken,k=d["1p_jar"]||"",l=d.pucrd||"",m=parseInt(d.freshLifetimeSecs||"",10),r=parseInt(d.validLifetimeSecs||"",10),n=d.altDomain,t=Date.now()-e;return Hb.test(n)?c--?Jb(a,b,c,n,e):{fetchTimeMs:t}:0<m&&0<r&&"string"==typeof f?{token:f,jar:k,pucrd:l,freshLifetimeSecs:m,
validLifetimeSecs:r,fetchTimeMs:t}:{fetchTimeMs:t}}).catch(function(){return{}})}function Kb(a,b,c){!c&&a!=a.top&&a.location.ancestorOrigins&&(c=(a=Hb.exec(a.location.ancestorOrigins[a.location.ancestorOrigins.length-1]))&&a[0]||void 0);c=c||".google.com";var d=Cb(M(b).canonicalUrl);return"https://adservice"+c+"/adsid/integrator.json?domain="+d}var xb=1,yb=2,zb=4;function Lb(a){return a?a.split(","):[]}function Mb(a){return Lb(a.getAttribute("data-experiment-id")).some(function(a){return"117152632"===a})}function Nb(a){return a.every(function(a){return!isNaN(parseInt(a,10))})};function Ob(){}Ob.prototype.maybeSelectExperiment=function(a,b,c,d){var e={};e[d]={isTrafficEligible:function(){return!0},branches:c};mb(a,e);return nb(a,d)};new Ob;var Pb={google:"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json",cloudflare:"https://amp.cloudflare.com/amp-ad-verifying-keyset.json","cloudflare-dev":"https://amp.cloudflare.com/amp-ad-verifying-keyset-dev.json"};var Qb,Rb="Webkit webkit Moz moz ms O o".split(" ");function Sb(a,b,c){if(ya(b,"--"))return b;Qb||(Qb=D());var d=Qb[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<Rb.length;f++){var h=Rb[f]+e;if(void 0!==a[h]){e=h;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(Qb[b]=d)}return d}function Tb(a,b){a=a.style;for(var c in b)a.setProperty(Sb(a,c),b[c].toString(),"important")}function V(a,b,c,d){(b=Sb(a.style,b,void 0))&&(a.style[b]=d?c+d:c)}
function Ub(a,b){for(var c in b)V(a,c,b[c])}function Vb(a,b){for(var c=0;c<b.length;c++)V(a,b[c],null)};function Wb(a,b,c){Ia(a).then(function(d){d&&d.triggerEventForTarget(a,b,c)})};self.AMPErrors=self.AMPErrors||[];var Xb={isTrafficEligible:function(a){return!!a.document.querySelector("AMP-AUTO-ADS")},branches:["19861210","19861211"]};function Yb(a){mb(a,{"amp-auto-ads-adsense-responsive":Xb});return nb(a,"amp-auto-ads-adsense-responsive")||null};var Zb={isTrafficEligible:function(a){return!!a.document.querySelector("AMP-AUTO-ADS")},branches:["3782001","3782002"]};function $b(a){mb(a,{"amp-auto-ads-adsense-holdout":Zb});return nb(a,"amp-auto-ads-adsense-holdout")||null};["320","50"].map(function(a){return Number(a)});function ac(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}};function bc(){this.l=null}g=bc.prototype;g.add=function(a){var b=this;this.l||(this.l=[]);this.l.push(a);return function(){b.remove(a)}};g.remove=function(a){this.l&&(a=this.l.indexOf(a),-1<a&&this.l.splice(a,1))};g.removeAll=function(){this.l&&(this.l.length=0)};g.fire=function(a){if(this.l)for(var b=this.l,c=0;c<b.length;c++)(0,b[c])(a)};g.getHandlerCount=function(){return this.l?this.l.length:0};var cc={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0,"AMP-LIGHTBOX-GALLERY":!0};function dc(a){a=parseFloat(a);return fa(a)?a:void 0};function ec(a,b,c,d){var e=Date.now(),f=b.getAttribute("width"),h=b.getAttribute("height");d=d?d:{};d.width=dc(f);d.height=dc(h);b.getAttribute("title")&&(d.title=b.getAttribute("title"));var k=a.location.href;"about:srcdoc"==k&&(k=a.parent.location.href);var l=M(b),f=O(b),h=f.getUnconfirmedReferrerUrl(),m=b.getPageLayoutBox(),r=d,n=Na.thirdParty+"/0/ampcontext-v0.js",t=l.sourceUrl,v=l.canonicalUrl,p=l.pageViewId,w={href:k},y=b.tagName,B={localDev:!1,development:u(void 0).development,
filter:u(void 0).filter,minified:!0,lite:u(void 0).lite,test:!1,log:u(void 0).log,version:u(void 0).version,rtvVersion:u(void 0).rtvVersion},P=a;r._context=E({ampcontextVersion:"0",ampcontextFilepath:n,sourceUrl:t,referrer:h,canonicalUrl:v,pageViewId:p,location:w,startTime:e,tagName:y,mode:B,canary:!(!P.AMP_CONFIG||!P.AMP_CONFIG.canary),hidden:!f.isVisible(),initialLayoutRect:m?{left:m.left,top:m.top,width:m.width,height:m.height}:null,initialIntersection:b.getIntersectionChangeEntry(),
domFingerprint:za(Wa(b)),experimentToggles:kb(a),sentinel:c});var na=b.getAttribute("src");na&&(d.src=na);return d};function fc(a){var b="nameframe",c=b||"frame";a.defaultBootstrapSubDomain=a.defaultBootstrapSubDomain||"d-"+gc(a);return"https://"+a.defaultBootstrapSubDomain+("."+Na.thirdPartyFrameHost+"/0/")+(c+".html")}function gc(a){var b;if(a.crypto&&a.crypto.getRandomValues){var c=new Uint32Array(2);a.crypto.getRandomValues(c);b=String(c[0])+c[1]}else b=String(a.Math.random()).substr(2)+"0";return b}
function hc(a){if(a.sandbox&&a.sandbox.supports){for(var b=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],c="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts".split(" "),d=0;d<b.length;d++){var e=b[d];if(!a.sandbox.supports(e)){A().info("3p-frame","Iframe doesn't support "+e);return}}a.sandbox=b.join(" ")+" "+c.join(" ")}};var ic=null,jc=null;function kc(a,b){void 0===a["3pla"]&&(a["3pla"]=0);a["3pla"]++;if(!ic){var c=new ja;ic=c.promise;jc=c.resolve}N(a).timeoutPromise(1E3,b).catch(function(){}).then(function(){--a["3pla"]||(jc(),jc=ic=null)})};var lc="AMPDOC_HOST AMPDOC_HOSTNAME AMPDOC_URL AMP_VERSION AVAILABLE_SCREEN_HEIGHT AVAILABLE_SCREEN_WIDTH BACKGROUND_STATE BROWSER_LANGUAGE CANONICAL_HOST CANONICAL_HOSTNAME CANONICAL_PATH CANONICAL_URL COUNTER DOCUMENT_CHARSET DOCUMENT_REFERRER FIRST_CONTENTFUL_PAINT FIRST_VIEWPORT_READY MAKE_BODY_VISIBLE PAGE_VIEW_ID RANDOM SCREEN_COLOR_DEPTH SCREEN_HEIGHT SCREEN_WIDTH SCROLL_HEIGHT SCROLL_LEFT SCROLL_TOP SCROLL_WIDTH SHARE_TRACKING_INCOMING SHARE_TRACKING_OUTGOING SOURCE_HOST SOURCE_HOSTNAME SOURCE_PATH SOURCE_URL TIMESTAMP TIMEZONE TIMEZONE_CODE TITLE TOTAL_ENGAGED_TIME USER_AGENT VARIANT VARIANTS VIEWER VIEWPORT_HEIGHT VIEWPORT_WIDTH".split(" ");
function mc(a,b){gb.call(this,a);this.ra=la(a,"url-replace").getVariableSource();this.B=b}aa(mc,gb);
mc.prototype.initialize=function(){var a=this;this.set("AD_NAV_TIMING",function(b,c){z().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return eb(a.B,b,c)}).setAsync("AD_NAV_TIMING",function(b,c){z().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return db(a.B,b,c)});this.set("AD_NAV_TYPE",function(){return fb(a.B,"type")});this.set("AD_NAV_REDIRECT_COUNT",function(){return fb(a.B,"redirectCount")});this.set("HTML_ATTR",
this.sa.bind(this));this.set("CLIENT_ID",function(){return null});for(var b=0;b<lc.length;b++){var c=lc[b],d=this.ra.get(c);this.set(c,d.sync).setAsync(c,d.async)}};
mc.prototype.sa=function(a,b){var c=20,d=10,e=10,f="A4AVariableSource",h=Array.prototype.slice.call(arguments,1);if(!a||!h.length)return"[]";if(h.length>e)return z().error(f,"At most "+e+" may be requested."),"[]";a=decodeURI(a);var k;try{k=this.B.document.querySelectorAll(a)}catch(p){return z().error(f,"Invalid selector: "+a),"[]"}if(k.length>c)return z().error(f,"CSS selector may match at most "+(c+" elements.")),"[]";for(var l=[],m=0;m<k.length&&l.length<d;++m){for(var r={},n=!1,t=0;t<h.length;++t){var v=
h[t];k[m].hasAttribute(v)&&(r[v]=k[m].getAttribute(v),n=!0)}n&&l.push(r)}return JSON.stringify(l)};function nc(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode(a);for(var b=new Uint8Array(a.buffer||a),c=Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);var e=c.join("");return decodeURIComponent(escape(e))}function oc(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b};function pc(a,b){this.B=a;this.ta=b;this.U=H(a,"crypto").isPkcsAvailable()?{}:null;this.ia=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now}pc.prototype.loadKeyset=function(a){if(this.U&&!this.U[a]){var b={},c=qc(this,b,a,null);this.U[a]={promise:c,keys:b}}};
pc.prototype.verify=function(a,b){var c=/^([A-Za-z0-9._-]+):([A-Za-z0-9._-]+):([A-Za-z0-9+/]{341}[AQgw]==)$/;if(!b.has("AMP-Fast-Fetch-Signature"))return Promise.resolve(1);var d=b.get("AMP-Fast-Fetch-Signature");b=c.exec(d);return b?this.verifyCreativeAndSignature(b[1],b[2],oc(atob(b[3])),a):(z().error("AMP-A4A","Invalid signature header: "+d.split(":")[0]),Promise.resolve(3))};
pc.prototype.verifyCreativeAndSignature=function(a,b,c,d){var e=this;if(!this.U)return Promise.resolve(4);var f=this.U[a];return f.promise.then(function(h){if(!h)return 1;var k=f.keys[b];return void 0===k?(f.promise=qc(e,f.keys,a,b).then(function(a){void 0===f.keys[b]&&(f.keys[b]=null);return a}),e.verifyCreativeAndSignature(a,b,c,d)):null===k?2:k.then(function(a){if(!a)return 1;var b=H(e.B,"crypto");return b.verifyPkcs(a,c,d).then(function(a){return a?0:3},function(a){a=a&&a.message;A().error("AMP-A4A",
"Failed to verify signature: "+a);return 1})})})};
function qc(a,b,c,d){var e=a.ta[c];null!=d&&(e+="?kid="+encodeURIComponent(d));return H(a.B,"xhr").fetchJson(e,{mode:"cors",method:"GET",ampCors:!1,credentials:"omit"}).then(function(d){d.headers.get("Content-Type");return d.json().then(function(d){var e=d;if(!e||!Array.isArray(e.keys))return rc(c,"Key set ("+JSON.stringify(e)+') has no "keys"'),!1;e.keys.forEach(function(d){d&&"string"==typeof d.kid?void 0===b[d.kid]&&(b[d.kid]=H(a.B,"crypto").importPkcsKey(d).catch(function(a){var b=JSON.stringify(d);
rc(c,"Failed to import key ("+b+"): "+(a&&a.message));return null})):rc(c,"Key ("+JSON.stringify(d)+') has no "kid"')});return!0},function(a){rc(c,"Failed to parse JSON: "+(a&&a.response));return!1})},function(a){a&&a.response&&rc(c,"Status code "+a.response.status);return!1})}function rc(a,b){A().error("AMP-A4A","Signing service error for "+a+": "+b)};function sc(a,b,c){var d=!0,d=void 0===d?!1:d;c=void 0===c?!1:c;var e=a.ownerDocument,f=Ca(e,"amp-analytics",E({sandbox:"true",trigger:c?"":"immediate"})),h=Ca(e,"script",E({type:"application/json"}));h.textContent=JSON.stringify(b);f.appendChild(h);f.CONFIG=b;d?(b=Ja(a.ownerDocument.defaultView),d=I(a),b.installExtensionForDoc(d,"amp-analytics")):Ia(a).then(function(){});a.appendChild(f);return f};function tc(){this.G=D();this.m=null}g=tc.prototype;g.get=function(a){return this.G[a]||null};g.whenSignal=function(a){var b=this.m&&this.m[a];if(!b){var c=this.G[a];null!=c?b={promise:"number"==typeof c?Promise.resolve(c):Promise.reject(c)}:(c=new ja,b={promise:c.promise,resolve:c.resolve,reject:c.reject});this.m||(this.m=D());this.m[a]=b}return b.promise};
g.signal=function(a,b){if(null==this.G[a]){var c=b||Date.now();this.G[a]=c;(a=this.m&&this.m[a])&&a.resolve&&(a.resolve(c),a.resolve=void 0,a.reject=void 0)}};g.rejectSignal=function(a,b){null==this.G[a]&&(this.G[a]=b,(a=this.m&&this.m[a])&&a.reject&&(a.reject(b),a.resolve=void 0,a.reject=void 0))};g.reset=function(a){this.G[a]&&delete this.G[a];var b=this.m&&this.m[a];b&&!b.resolve&&delete this.m[a]};var uc=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],vc;function wc(a,b){Ic(a,b)}
function Jc(a,b,c,d){function e(){a.contentWindow.addEventListener("securitypolicyviolation",function(a){A().warn("FIE","security policy violation",a)})}var f=qa(a.ownerDocument.defaultView),h=Ja(f);V(a,"visibility","hidden");a.setAttribute("referrerpolicy","unsafe-url");c.extensionIds&&c.extensionIds.forEach(function(a){return h.preloadExtension(a)});var k=Kc(c);a.onload=function(){a.readyState="complete"};var l;void 0===vc&&(vc="srcdoc"in HTMLIFrameElement.prototype);if(vc)a.srcdoc=k,l=cb(a),b.appendChild(a),
e();else{a.src="about:blank";b.appendChild(a);var m=a.contentWindow.document;m.open();e();m.write(k);l=cb(a.contentWindow);m.close()}var r;r=Lc(a)?Promise.resolve():new Promise(function(b){var c=f.setInterval(function(){Lc(a)&&(b(),f.clearInterval(c))},5);l.catch(function(a){x(a)}).then(function(){b();f.clearInterval(c)})});return r.then(function(){var b=new Mc(a,c,l);a.__AMP_EMBED__=b;h.installExtensionsInChildWindow(a.contentWindow,c.extensionIds||[],d);Nc(b);return b})}
function Lc(a){a=a.contentWindow&&a.contentWindow.document;return!!(a&&"loading"!=a.readyState&&"uninitialized"!=a.readyState&&a.body&&a.body.firstChild)}
function Kc(a){var b=a.html,c=b.toUpperCase(),d=c.indexOf("<HEAD");-1!=d&&(d=c.indexOf(">",d+1)+1);-1==d&&(d=c.indexOf("<BODY"));-1==d&&(d=c.indexOf("<HTML"),-1!=d&&(d=c.indexOf(">",d+1)+1));var e=[];0<d&&e.push(b.substring(0,d));e.push('<base href="'+Fa(a.url)+'">');a.fonts&&a.fonts.forEach(function(a){e.push('<link href="'+Fa(a)+'" rel="stylesheet" type="text/css">')});e.push("<meta http-equiv=Content-Security-Policy content=\"script-src 'none';object-src 'none';child-src 'none'\">");0<d?e.push(b.substring(d)):
e.push(b);return e.join("")}function Mc(a,b,c){this.iframe=a;this.win=a.contentWindow;this.spec=b;this.host=b.host||null;this.ua=Date.now();this.ca=!1;this.ma=new bc;this.T=this.host?this.host.signals():new tc;this.va=Promise.all([c,this.whenReady()])}g=Mc.prototype;g.destroy=function(){La(this.iframe).removeForChildWindow(this.win);wa(this.win)};g.getStartTime=function(){return this.ua};g.getUrl=function(){return this.spec.url};g.signals=function(){return this.T};g.whenReady=function(){return this.T.whenSignal("render-start")};
g.whenWindowLoaded=function(){return this.va};g.whenIniLoaded=function(){return this.T.whenSignal("ini-load")};
function Nc(a){a.host?a.host.renderStarted():a.T.signal("render-start");V(a.iframe,"visibility","");a.win.document&&a.win.document.body&&(a.win.document.documentElement.classList.add("i-amphtml-fie"),Ub(a.win.document.body,{opacity:1,visibility:"visible",animation:"none"}));var b;b=a.host?a.host.getLayoutBox():ac(0,0,a.win.innerWidth,a.win.innerHeight);Promise.all([a.whenReady(),Oc(a.iframe,a.win,b)]).then(function(){a.T.signal("ini-load")})}g.isVisible=function(){return this.ca};
g.onVisibilityChanged=function(a){return this.ma.add(a)};function Ic(a,b){a.ca!=b&&(a.ca=b,a.ma.fire(a.ca))}g.getBodyElement=function(){return(this.iframe.contentDocument||this.iframe.contentWindow.document).body};function Pc(a,b){return La(a.iframe).measureMutateElement(a.iframe,b.measure||null,b.mutate)}
g.enterFullOverlayMode=function(){var a=this,b=this.iframe.parentNode;z().assert("amp-ad"==b.tagName.toLowerCase(),"Only <amp-ad> is allowed to enter lightbox mode.");var c;return Pc(this,{measure:function(){var b=a.host?a.host.getLayoutBox():a.iframe.getBoundingClientRect(),e=-F(a.iframe,"viewport").getScrollTop(),b=0==e||0==b.width&&0==b.height?b:ac(b.left+0,b.top+e,b.width,b.height);c={top:b.top+"px",left:b.left+"px",width:b.width+"px",height:b.height+"px"}},mutate:function(){Tb(a.iframe,{position:"fixed",
left:0,right:0,bottom:0,width:"100vw",top:0,height:"100vh"});Tb(a.getBodyElement(),{background:"transparent",position:"absolute",bottom:"auto",right:"auto",top:c.top,left:c.left,width:c.width,height:c.height})}})};g.leaveFullOverlayMode=function(){var a=this;return Pc(this,{mutate:function(){Vb(a.iframe,"position left right top bottom width height".split(" "));Vb(a.getBodyElement(),"position top left width height bottom right".split(" "))}})};
function Oc(a,b,c){return La(a).getResourcesInRect(b,c).then(function(a){var b=[];a.forEach(function(a){uc.includes(a.element.tagName)||b.push(a.loadedOnce())});return Promise.all(b)})};var Qc={ANCESTOR_ORIGIN:!0};function Rc(a){this.K=a}Rc.prototype.expand=function(a,b,c,d,e){if(!a.length)return d?a:Promise.resolve(a);e=this.K.getExpr(b,!0,e);e=Sc(a,e);return e.length?Tc(this,a,e,b,c,d):d?a:Promise.resolve(a)};function Sc(a,b){var c=[];a.replace(b,function(a,b,f){a=a.length;var d=a+f-1;c.push({start:f,stop:d,name:b,length:a})});return c}
function Tc(a,b,c,d,e,f){function h(){for(var p="",w=[];l<b.length&&m<=c.length;){if(r&&l===r.start){var y=void 0;d&&C.call(d,r.name)?y={name:r.name,prioritized:d[r.name]}:(y=a.K.get(r.name),y.name=r.name);l=r.stop+1;r=c[++m];"("===b[l]?(l++,n++,k.push(y),p.trim().length&&w.push(p),w.push(h())):(p.length&&w.push(p),w.push(Uc(y,void 0,e,f)));p=""}else{if("`"===b[l])t?t=!1:(v=t=!0,z().assert(""===p.trim(),'The substring "'+p+'" was lost during url-replacement. Please ensure the url syntax is correct'),
p="");else if(n&&","===b[l]&&!t){if(p.length){var B=v?p:p.trim();w.push(B);v=!1}","===b[l+1]&&(w.push(""),l++);p=""}else{if(n&&")"===b[l]&&!t){l++;n--;var P=k.pop();w.push(v?p:p.trim());v=!1;return Uc(P,w,e,f)}p+=b[l]}l++}l===b.length&&p.length&&w.push(p)}return f?w.join(""):Promise.all(w).then(function(a){return a.join("")}).catch(function(a){x(a);return""})}var k=[],l=0,m=0,r=c[m],n=0,t=!1,v=!1;return h()}
function Uc(a,b,c,d){var e=a.name,f;C.call(a,"prioritized")?f=a.prioritized:d&&C.call(a,"sync")?f=a.sync:d?(z().error("Expander","ignoring async replacement key: ",a.name),f=""):f=a.async||a.sync;var h;if(d){d=f;try{var k="function"===typeof d?d.apply(null,b):d,l;k&&k.then?(z().error("Expander","ignoring async macro resolution"),l=""):l="string"===typeof k||"number"===typeof k?Qc[e]?k.toString():encodeURIComponent(k):"";c&&(c[e]=l);h=l}catch(m){x(m),c&&(c[e]=""),h=""}}else h=Vc(f,e,b,c);return h}
function Vc(a,b,c,d){var e;try{return e="function"===typeof a?c?Promise.all(c).then(function(b){return a.apply(null,b)}):ka(a):Promise.resolve(a),e.then(function(a){a=null==a?"":Qc[b]?a:encodeURIComponent(a);d&&(d[b]=a);return a}).catch(function(a){x(a);d&&(d[b]="");return Promise.resolve("")})}catch(f){return x(f),d&&(d[b]=""),Promise.resolve("")}};function Wc(a,b){this.ampdoc=a;this.K=b;this.pa=new Rc(this.K)}g=Wc.prototype;g.expandStringSync=function(a,b,c,d){return W(this,a,b,c,!0,d)};g.expandStringAsync=function(a,b){return W(this,a,b)};g.expandUrlSync=function(a,b,c,d){return Xc(a,W(this,a,b,c,!0,d))};g.expandUrlAsync=function(a,b,c){return W(this,a,b,void 0,void 0,c).then(function(b){return Xc(a,b)})};g.expandInputValueAsync=function(a){return Yc(this,a,!1)};g.expandInputValueSync=function(a){return Yc(this,a,!0)};
function Yc(a,b,c){"INPUT"==b.tagName&&b.getAttribute("type");var d=Zc(b);if(!d)return c?b.value:Promise.resolve(b.value);void 0===b["amp-original-value"]&&(b["amp-original-value"]=b.value);a=W(a,b["amp-original-value"]||b.value,void 0,void 0,c,d);return c?b.value=a:a.then(function(a){return b.value=a})}
function Zc(a,b){if(a=a.getAttribute("data-amp-replace")){var c={};a.trim().split(/\s+/).forEach(function(a){!b||C.call(b,a)?c[a]=!0:z().warn("URL","Ignoring unsupported replacement",a)});return c}}
g.maybeExpandLink=function(a,b){var c={CLIENT_ID:!0,QUERY_PARAM:!0},d=a.getAttribute("data-amp-addparams")||"",e=Zc(a,c);if(e||d||b){var f=a["amp-original-href"]||a.getAttribute("href"),h=R(f);null==a["amp-original-href"]&&(a["amp-original-href"]=f);if(d)var k=q(d),f=Ra(f,Sa(k));a:if(k=M(this.ampdoc),h.origin==R(k.canonicalUrl).origin||h.origin==R(k.sourceUrl).origin)h=!0;else{if((k=this.ampdoc.getRootNode().querySelector("meta[name=amp-link-variable-allowed-origin]"))&&k.hasAttribute("content"))for(var k=
k.getAttribute("content").trim().split(/\s+/),l=0;l<k.length;l++)if(h.origin==R(k[l]).origin){h=!0;break a}h=!1}var m=h;if(!m)return e&&z().warn("URL","Ignoring link replacement",f," because the link does not go to the document's source, canonical, or whitelisted origin."),a.href=f;if(b){if(!e||!e.QUERY_PARAM){var r={QUERY_PARAM:!0};b=this.expandUrlSync(b,void 0,void 0,r)}h=q(b);f=Ra(f,Sa(h))}e&&(f=this.expandUrlSync(f,void 0,void 0,e));return a.href=f}};
function W(a,b,c,d,e,f){var h=T(a.ampdoc.win,"url-replacement-v2");if(h)return a.pa.expand(b,c,d,e,f);var k=a.K.getExpr(c),l,m=b.replace(k,function(b,h,k){var r=[];"string"==typeof k&&(r=k.split(/,\s*/));if(f&&!f[h])return b;var p;if(c&&h in c)p=c[h];else if(p=a.K.get(h))if(e){if(p=p.sync,!p)return z().error("UrlReplacements","ignoring async replacement key: ",h),""}else p=p.async||p.sync;var n;try{n="function"==typeof p?p.apply(null,r):p}catch(B){e&&(n=""),x(B)}if(n&&n.then){if(e)return z().error("UrlReplacements",
"ignoring promise value for key: ",h),"";var t=n.catch(function(a){x(a)}).then(function(a){m=m.replace(b,Qc[b]?a:null==a?"":encodeURIComponent(a));d&&(d[b]=a)});l=l?l.then(function(){return t}):t;return b}d&&(d[b]=n);return Qc[b]?n:null==n?"":encodeURIComponent(n)});l&&(l=l.then(function(){return m}));return e?m:l||Promise.resolve(m)}g.collectVars=function(a,b){var c=Object.create(null);return W(this,a,b,c).then(function(){return c})};
g.collectUnwhitelistedVarsSync=function(a){var b=a.getAttribute("src"),c=Object.create(null);this.expandStringSync(b,void 0,c);var d=Object.keys(c),e=Zc(a);return e?d.filter(function(a){return!e[a]}):d};function Xc(a,b){var c=R(b,!0).protocol,d=R(a,!0).protocol;if(c!=d)return z().error("UrlReplacements","Illegal replacement of the protocol: ",a),a;z().assert(Va(b),"The replacement url has invalid protocol: %s",b);return b}g.getVariableSource=function(){return this.K};var $c=["<script amp-ad-metadata type=application/json>",'<script type="application/json" amp-ad-metadata>',"<script type=application/json amp-ad-metadata>"],ad={CLIENT_CACHE:"client_cache",SAFEFRAME:"safeframe",NAMEFRAME:"nameframe",IFRAME_GET:"iframe_get"},bd=E({frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"}),cd={adRequestStart:"ad-request-start",adRequestEnd:"ad-response-end",renderFriendlyStart:"ad-render-start",renderCrossDomainStart:"ad-render-start",
renderSafeFrameStart:"ad-render-start",renderFriendlyEnd:"ad-render-end",renderCrossDomainEnd:"ad-render-end",friendlyIframeIniLoad:"ad-iframe-loaded",crossDomainIframeLoaded:"ad-iframe-loaded"};function dd(a,b,c){return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];try{return a.apply(b,e)}catch(h){if(c)try{return e.unshift(h),c.apply(b,e)}catch(k){}}}}
function X(a){a=AMP.BaseElement.call(this,a)||this;a.ka=null;a.D=null;a.M=0;a.j=null;a.J=null;a.uiHandler=null;a.C=null;a.aa=!1;a.O=null;a.F=null;a.H=null;a.I=a.getNonAmpCreativeRenderingMethod();a.ia=a.win.performance&&a.win.performance.now?a.win.performance.now.bind(a.win.performance):Date.now;var b;b=window;for(var c=0,d=b;d&&d!=d.parent;d=d.parent)c++;b=String(c)+"-"+gc(b);a.sentinel=b;a.fa=!1;a.iframe=null;a.fromResumeCallback=!1;a.safeframeVersion="1-0-23";a.isRefreshing=!1;a.isRelayoutNeededFlag=
!1;a.wa=wb(jb(a.win))||"-1";a.postAdResponseExperimentFeatures={};a.V=null;a.na=null;a.isSinglePageStoryAd=!1;return a}aa(X,AMP.BaseElement);g=X.prototype;g.getLayoutPriority=function(){var a=!this.element.getAmpDoc().isSingleDoc();return a?1:2};g.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};g.isRelayoutNeeded=function(){return this.isRelayoutNeededFlag};
g.buildCallback=function(){var a=this;this.F={width:this.element.getAttribute("width"),height:this.element.getAttribute("height")};var b=Math.round(this.getResource().getUpgradeDelayMs());A().info("amp-a4a","upgradeDelay "+this.element.getAttribute("type")+": "+b);this.uiHandler=new AMP.AmpAdUIHandler(this);var c=ed(this.win);this.ka=O(this.getAmpDoc()).whenFirstVisible().then(function(){a.getSigningServiceNames().forEach(function(a){c.loadKeyset(a)})});if(this.V=this.getA4aAnalyticsConfig())this.na=
sc(this.element,this.V);this.isSinglePageStoryAd=this.element.hasAttribute("amp-story")};
g.renderOutsideViewport=function(){if(!this.aa&&this.win["3pla"]&&!this.inNonAmpPreferenceExp())return!1;var a;var b=this.element.getAttribute("data-loading-strategy");null==b?a=null:"prefer-viewability-over-views"==b||""==b?a=1.25:(a="Value of data-loading-strategy should be a float number in range of [0, 3], but got "+b,b=z().assertNumber(parseFloat(b),a),z().assert(0<=b&&3>=b,a),a=b);var c=a;return null!==c?c:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};g.isValidElement=function(){return!0};
g.getCreativeSize=function(){return this.F};g.delayAdRequestEnabled=function(){return!1};g.getPreconnectUrls=function(){return[]};g.getPrefetchUrls=function(){return[]};g.isAmpAdElement=function(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName};g.preconnectCallback=function(){var a=this,b=this.getPreconnectUrls();b&&b.forEach(function(b){a.preconnect.url(b,!0)})};
g.resumeCallback=function(){if(!this.J){this.fromResumeCallback=!0;var a=this.getResource();if(a.hasBeenMeasured()&&!a.isMeasureRequested())this.onLayoutMeasure()}};g.getResource=function(){return this.element.getResources().getResourceForElement(this.element)};g.hasAdPromise=function(){return!!this.D};g.inNonAmpPreferenceExp=function(){return!!this.postAdResponseExperimentFeatures.pref_neutral_enabled&&["adsense","doubleclick"].includes(this.element.getAttribute("type"))};
function fd(a){var b=a.getIntersectionElementLayoutBox();if("fluid"!=a.getLayout()&&(0==b.height||0==b.width))return!1;var b=a.win,c=!1,d=0,e=a.element;do{if(cc[e.tagName])d++,c=!1;else{var f=(b.getComputedStyle(e)||D()).position;"fixed"!=f&&"sticky"!=f||(c=!0)}e=e.parentElement}while(e&&"BODY"!=e.tagName);return!c&&1>=d?a.isValidElement()?!0:(z().warn("amp-a4a",a.element.getAttribute("type"),"Amp ad element ignored as invalid",a.element),!1):(z().warn("amp-a4a","<"+a.element.tagName+"> is not allowed to be "+
("placed in elements with position:fixed: "+a.element)),!1)}g.onLayoutMeasure=function(){this.initiateAdRequest()};
g.initiateAdRequest=function(){var a=this;if(this.C)this.C.onLayoutMeasure();if(!this.D&&fd(this)){++this.M;var b=this.verifyStillCurrent();this.D=O(this.getAmpDoc()).whenFirstVisible().then(function(){b();var c=a.delayAdRequestEnabled();if(c)return a.getResource().whenWithinViewport("number"==typeof c?c:a.renderOutsideViewport())}).then(function(){b();var c=AMP.BaseElement.prototype.getConsentPolicy.call(a);return c?Ya(a.getAmpDoc(),c).catch(function(a){z().error("amp-a4a","Error determining consent state",
a);return 4}):Promise.resolve(null)}).then(function(c){b();return a.getAdUrl(c,gd(a,c))}).then(function(c){b();a.j=c;return!a.isXhrAllowed()&&a.j?(a.I="iframe_get",Promise.reject("IFRAME-GET")):c&&a.sendXhrRequest(c)}).then(function(c){b();Y(a,"adRequestEnd");if(!c||!c.arrayBuffer||c.headers.has("amp-ff-empty-creative"))return a.forceCollapse(),Promise.reject("NO-CONTENT-RESPONSE");c.headers&&c.headers.has("amp-ff-exps")&&hd(a,c.headers.get("amp-ff-exps"));var d=a.getNonAmpCreativeRenderingMethod(c.headers.get("X-AmpAdRender"));
a.I=d;"nameframe"==a.I&&a.preconnect.preload(fc(a.win));var e=c.headers.get("X-AmpSafeFrameVersion");/^[0-9-]+$/.test(e)&&"1-0-23"!=e&&(a.safeframeVersion=e,a.preconnect.preload(a.getSafeframePath()));return c.arrayBuffer().then(function(b){return 0==b.byteLength?(a.forceCollapse(),Promise.reject("NO-CONTENT-RESPONSE")):{bytes:b,headers:c.headers}})}).then(function(c){b();if(!c)return Promise.resolve();var d=c,e=d.bytes,d=d.headers,f=a.extractSize(c.headers);a.F=f||a.F;"client_cache"!=a.I&&e&&(a.O=
e);return a.maybeValidateAmpCreative(e,d)}).then(function(c){b();a.aa=!!c;return c&&nc(c)}).then(function(c){b();var d;if(!c||!(d=a.getAmpAdMetadata(c)))return a.inNonAmpPreferenceExp()&&a.updateLayoutPriority(0),null;a.updateLayoutPriority(0);var e=Ja(a.win);d.customElementExtensions.forEach(function(a){return e.preloadExtension(a)});(d.customStylesheets||[]).forEach(function(b){return a.preconnect.preload(b.href)});var f=la(a.getAmpDoc(),"url");(d.images||[]).forEach(function(b){return f.isSecure(b)&&
a.preconnect.preload(b)});return d}).catch(function(b){switch(b.message||b){case "IFRAME-GET":case "NETWORK-FAILURE":return null;case "INVALID-SPSA-RESPONSE":case "NO-CONTENT-RESPONSE":return{minifiedCreative:"",customElementExtensions:[],customStylesheets:[]}}id(a,b);return null})}};
g.maybeValidateAmpCreative=function(a,b){var c=this,d=this.verifyStillCurrent();return this.ka.then(function(){return"fake"!=c.element.getAttribute("type")||c.element.getAttribute("checksig")?ed(c.win).verify(a,b):Promise.resolve(0)}).then(function(b){d();var e=null;switch(b){case 0:e=a;break;case 4:e=c.shouldPreferentialRenderWithoutCrypto()?a:null;break;case 2:case 3:z().error("amp-a4a",c.element.getAttribute("type"),"Signature verification failed")}if(c.isSinglePageStoryAd&&!e)throw Error("INVALID-SPSA-RESPONSE");
return e})};function hd(a,b){b.split(",").forEach(function(b){if(b){var c=b.split("=");2==c.length&&c[0]?a.postAdResponseExperimentFeatures[c[0]]=c[1]:A().warn("amp-a4a","invalid experiment feature "+b)}})}
g.refresh=function(a){var b=this;this.isRefreshing=!0;this.tearDownSlot();this.initiateAdRequest();if(!this.D)return Promise.resolve();var c=this.M;return this.D.then(function(){if(b.isRefreshing&&c==b.M)return b.mutateElement(function(){Wb(b.element,"ad-refresh");b.togglePlaceholder(!0);return N(b.win).promise(1E3).then(function(){b.isRelayoutNeededFlag=!0;b.getResource().layoutCanceled();O(b.getAmpDoc()).whenNextVisible().then(function(){La(b.getAmpDoc()).requireLayout(b.element)})})});a()})};
function id(a,b){var c,d=b;if(d&&("string"==typeof d?ya(d,"CANCELLED"):"string"==typeof d.message&&ya(d.message,"CANCELLED")))throw b;b=b&&b.message?ga(b):Error("unknown error "+b);c&&(b.ignoreStack=c);d=a.element.getAttribute("type")||"notype";0!=b.message.indexOf("amp-a4a: "+d+":")&&(b.message="amp-a4a: "+d+": "+b.message);a=a.j;!a||b.args&&b.args.au||(d=a.indexOf("?"),-1!=d&&((b.args||(b.args={})).au=a.substring(d+1,d+251)));u().development||u().log?z().error("amp-a4a",b):(z().warn("amp-a4a",b),
.01>Math.random()&&A().expectedError("amp-a4a",b))}g.layoutCallback=function(){this.isRefreshing&&this.destroyFrame(!0);return this.attemptToRenderCreative()};
g.attemptToRenderCreative=function(){var a=this;if(!this.D)return fd(this)&&A().error("amp-a4a","Null promise in layoutCallback"),Promise.resolve();var b=this.verifyStillCurrent();return this.D.then(function(c){b();return a.fa||a.iframe&&!a.isRefreshing?Promise.resolve():c?jd(a,c).catch(function(c){b();z().warn("amp-a4a",a.element.getAttribute("type"),"Error injecting creative in friendly frame",c);return a.renderNonAmpCreative()}):a.renderNonAmpCreative()}).catch(function(b){id(a,b);throw Error("CANCELLED");
})};g.isXhrAllowed=function(){return!0};g.attemptChangeSize=function(a,b){this.H=this.H||this.getLayoutBox();return AMP.BaseElement.prototype.attemptChangeSize.call(this,a,b)};g.unlayoutCallback=function(){this.tearDownSlot();return!0};
g.tearDownSlot=function(){var a=this;this.M++;this.uiHandler.applyUnlayoutUI();this.H&&AMP.BaseElement.prototype.attemptChangeSize.call(this,this.H.height,this.H.width).then(function(){a.H=null}).catch(function(a){A().warn("amp-a4a","unable to revert to original size",a)});this.fa=!1;this.destroyFrame();this.O=this.j=this.D=null;this.fromResumeCallback=this.aa=!1;this.I=this.getNonAmpCreativeRenderingMethod();this.postAdResponseExperimentFeatures={}};
g.destroyFrame=function(a){if((a=void 0===a?!1:a)||!this.isRefreshing)this.J&&(this.J.destroy(),this.J=null),this.iframe&&this.iframe.parentElement&&(this.iframe.parentElement.removeChild(this.iframe),this.iframe=null),this.C&&(this.C.freeXOriginIframe(),this.C=null)};g.viewportCallback=function(a){this.J&&Ic(this.J,a);this.C&&this.C.viewportCallback(a)};g.createPlaceholderCallback=function(){return this.uiHandler.createPlaceholder()};
g.getAdUrl=function(){throw Error("getAdUrl not implemented!");};g.resetAdUrl=function(){this.j=null};g.verifyStillCurrent=function(){var a=this,b=this.M;return function(){if(b!=a.M)throw Error("CANCELLED");}};g.extractSize=function(a){a=a.get("X-CreativeSize");if(!a)return null;var b=/^([0-9]+)x([0-9]+)$/.exec(a);return b?{width:Number(b[1]),height:Number(b[2])}:(z().error("amp-a4a","Invalid size header: "+a),null)};
g.forceCollapse=function(){this.isRefreshing?this.isRefreshing=!1:(this.H=this.H||this.getLayoutBox(),this.uiHandler.applyNoContentUI(),this.fa=!0)};g.onCreativeRender=function(a){Y(this,a?"renderFriendlyEnd":"renderCrossDomainEnd")};g.onCrossDomainIframeCreated=function(a){A().info("amp-a4a",this.element.getAttribute("type"),"onCrossDomainIframeCreated "+a)};g.sandboxHTMLCreativeFrame=function(){return T(this.win,"sandbox-ads")};
g.sendXhrRequest=function(a){var b=this;Y(this,"adRequestStart");var c={mode:"cors",method:"GET",credentials:"include"};return H(this.win,"xhr").fetch(a,c).catch(function(a){if(a.response&&200<a.response.status)return null;var c=b.onNetworkFailure(a,b.j);if(c.frameGetDisabled)A().info("amp-a4a","frame get disabled as part of network failure handler"),b.resetAdUrl();else return b.j=c.adUrl||b.j,Promise.reject("NETWORK-FAILURE");return null})};g.onNetworkFailure=function(){return{}};
g.getSigningServiceNames=function(){return["google"]};
g.renderNonAmpCreative=function(a){var b=this;if("true"==this.element.getAttribute("disable3pfallback"))return z().warn("amp-a4a",this.element.getAttribute("type"),"fallback to 3p disabled"),Promise.resolve(!1);A().warn("amp-a4a","fallback to 3p");var c=this.I,d=Promise.resolve(!1);"safeframe"!=c&&"nameframe"!=c||!this.O?this.j?(Ua(this.j,this.element),d=kd(this,this.j)):z().warn("amp-a4a",this.element.getAttribute("type"),"No creative or URL available -- A4A can't render any ad"):(d=ld(this,this.O),
this.O=null);a||this.inNonAmpPreferenceExp()||kc(this.win,d);return d.then(function(a){Y(b,"crossDomainIframeLoaded");return a})};
function jd(a,b){Y(a,"renderFriendlyStart");a.iframe=Ca(a.element.ownerDocument,"iframe",E({height:a.F.height,width:a.F.width,frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no"}));a.applyFillContent(a.iframe);var c=[];b.customStylesheets&&b.customStylesheets.forEach(function(a){(a=a.href)&&c.push(a)});var d=a.verifyStillCurrent();return Jc(a.iframe,a.element,{host:a.element,url:a.j,html:b.minifiedCreative,extensionIds:b.customElementExtensions||[],fonts:c},function(b){var c=a.getAmpDoc(),
d=new mc(a.getAmpDoc(),b);pa(b,new Wc(c,d))}).then(function(c){d();a.J=c;wc(c,a.isInViewport());var e=c.iframe.contentDocument||c.win.document;V(e.body,"visibility","visible");dd(a.onCreativeRender,a,function(b){A().error("amp-a4a",a.element.getAttribute("type"),"Error executing onCreativeRender",b)})(b);return c.whenIniLoaded()}).then(function(){d();Y(a,"friendlyIframeIniLoad")})}
function md(a,b){var c=Object.assign(b,E({height:a.F.height,width:a.F.width}));a.sentinel&&(c["data-amp-3p-sentinel"]=a.sentinel);T(a.win,"no-sync-xhr-in-ads")&&(c.allow="sync-xhr 'none';");a.iframe=Ca(a.element.ownerDocument,"iframe",Object.assign(c,bd));a.sandboxHTMLCreativeFrame()&&hc(a.iframe);a.C=new AMP.AmpAdXOriginIframeHandler(a);var d=a.C.init(a.iframe,!0);dd(a.onCreativeRender,a,function(b){A().error("amp-a4a",a.element.getAttribute("type"),"Error executing onCreativeRender",b)})(null);
return d}function kd(a,b){Y(a,"renderCrossDomainStart");return md(a,E({src:H(a.win,"xhr").getCorsUrl(a.win,b),name:JSON.stringify(ec(a.win,a.element,a.sentinel))}))}
function ld(a,b){var c=a.I;Y(a,"renderSafeFrameStart");var d=a.verifyStillCurrent();return ka(function(){return nc(b)}).then(function(b){d();var e,h="";switch(c){case "safeframe":e=a.getSafeframePath()+"?n=0";break;case "nameframe":e=fc(a.win);break;default:return z().error("A4A","A4A received unrecognized cross-domain name attribute iframe rendering mode request: %s.  Unable to render a creative for slot %s.",c,a.element.getAttribute("id")),Promise.reject("Unrecognized rendering mode request")}var k=
ec(a.win,a.element,a.sentinel,a.getAdditionalContextMetadata("safeframe"==c));"nameframe"==c?(k.creative=b,h=JSON.stringify(k)):"safeframe"==c&&(k=JSON.stringify(k),h=a.safeframeVersion+";"+b.length+";"+b+(""+k));return md(a,E({src:e,name:h}))})}
g.getAmpAdMetadata=function(a){for(var b=-1,c,d=0;d<$c.length&&!(c=$c[d],b=a.lastIndexOf(c),0<=b);d++);if(0>b)return A().warn("amp-a4a",this.element.getAttribute("type"),"Could not locate start index for amp meta data in: %s",a),null;var e=a.lastIndexOf("\x3c/script>");if(0>e)return A().warn("amp-a4a",this.element.getAttribute("type"),"Could not locate closing script tag for amp meta data in: %s",a),null;try{var f=JSON.parse(a.slice(b+c.length,e)),h=f.ampRuntimeUtf16CharOffsets;if(!Array.isArray(h)||
2!=h.length||"number"!==typeof h[0]||"number"!==typeof h[1])throw Error("Invalid runtime offsets");var k={};if(f.customElementExtensions){if(k.customElementExtensions=f.customElementExtensions,!Array.isArray(k.customElementExtensions))throw Error("Invalid extensions",k.customElementExtensions);}else k.customElementExtensions=[];if(f.customStylesheets){k.customStylesheets=f.customStylesheets;var l="Invalid custom stylesheets";if(!Array.isArray(k.customStylesheets))throw Error(l);var m=la(this.getAmpDoc(),
"url");k.customStylesheets.forEach(function(a){if("[object Object]"!==ea.call(a)||!a.href||"string"!==typeof a.href||!m.isSecure(a.href))throw Error(l);})}Array.isArray(f.images)&&(k.images=f.images.splice(0,5));if(this.isSinglePageStoryAd){if(!f.ctaUrl||!f.ctaType)throw Error("INVALID-SPSA-RESPONSE");this.element.setAttribute("data-vars-ctatype",f.ctaType);this.element.setAttribute("data-vars-ctaurl",f.ctaUrl)}k.minifiedCreative=a.slice(0,h[0])+a.slice(h[1],b)+a.slice(e+9);return k}catch(r){A().warn("amp-a4a",
this.element.getAttribute("type"),"Invalid amp metadata: %s",a.slice(b+c.length,e));if(this.isSinglePageStoryAd)throw r;return null}};g.getSafeframePath=function(){return"https://tpc.googlesyndication.com/safeframe/"+(this.safeframeVersion+"/html/container.html")};function Y(a,b){if(a.V){var c=cd[b],d=Object.assign({time:Math.round(a.ia())},a.getA4aAnalyticsVars(c));Wb(a.element,c,d)}}g.getA4aAnalyticsVars=function(){return{}};g.getA4aAnalyticsConfig=function(){return null};
function gd(a,b){if(AMP.RealTimeConfigManager)try{return(new AMP.RealTimeConfigManager(a)).maybeExecuteRealTimeConfig({},b)}catch(c){z().error("amp-a4a","Could not perform Real Time Config.",c)}else a.element.getAttribute("rtc-config")&&z().error("amp-a4a","RTC not supported for ad network "+a.element.getAttribute("type"))}g.shouldPreferentialRenderWithoutCrypto=function(){return!1};
g.getNonAmpCreativeRenderingMethod=function(a){if(a){var b;a:{for(b in ad)if(ad[b]===a){b=!0;break a}b=!1}if(b)return a;A().error("AMP-A4A","cross-origin render mode header "+a)}return H(this.win,"platform").isIos()?"nameframe":null};g.getAdditionalContextMetadata=function(){};g.isVerifiedAmpCreative=function(){return this.aa};function ed(a){return a.AMP_FAST_FETCH_SIGNATURE_VERIFIER_||(a.AMP_FAST_FETCH_SIGNATURE_VERIFIER_=new pc(a,Pb))};function nd(a,b){var c=Ea(b.target);if(c&&c.href){var d=c.getAttribute("data-a4a-orig-href")||c.getAttribute("href");d&&(a=la(a,"url-replace").expandUrlSync(d,{CLICK_X:function(){return b.pageX},CLICK_Y:function(){return b.pageY}},void 0,{CLICK_X:!0,CLICK_Y:!0}),a!=d&&(c.getAttribute("data-a4a-orig-href")||c.setAttribute("data-a4a-orig-href",d),c.setAttribute("href",a)))}};function od(){this.P=[]}od.prototype.addNewSlot=function(a,b,c,d){var e={pv:2,prevFmts:"",prevSlotnames:""};this.P.forEach(function(a){e.prevFmts+=(e.prevFmts?",":"")+a.format;a.slotname&&(e.prevSlotnames+=(e.prevSlotnames?",":"")+a.slotname);a.client==c&&(e.pv=1)});this.P.push({id:b,format:a,client:c,slotname:d});return e};od.prototype.removeSlot=function(a){this.P=this.P.filter(function(b){return b.id!=a})};od.prototype.reset=function(){this.P=[]};var pd=new od;function qd(a){a=X.call(this,a)||this;a.ba=null;a.L=null;a.qa=Ja(a.win);a.o=null;a.W=null;a.N=null;a.la=!1;a.X=null;a.ja=null;a.ea=null;a.Z=0;a.ga=!1;return a}aa(qd,X);function rd(a){if(a.X)switch(a.X){case "rspv":return 13;case "mcrspv":return 15}return null}g=qd.prototype;
g.isValidElement=function(){if(rd(this)){if(!this.element.hasAttribute("data-full-width"))return z().warn("amp-ad-network-adsense-impl","Responsive AdSense ad units require the attribute data-full-width."),!1;var a=this.element.getAttribute("height"),b=this.element.getAttribute("width");if(320!=a)return z().warn("amp-ad-network-adsense-impl","Specified height "+a+" in <amp-ad> tag is not equal to the required height of 320 for responsive AdSense ad units."),!1;if("100vw"!=b)return z().warn("amp-ad-network-adsense-impl",
"Invalid width "+b+" for full-width responsive <amp-ad> tag. Width must be 100vw."),!1}return!!this.element.getAttribute("data-ad-client")&&this.isAmpAdElement()};g.delayAdRequestEnabled=function(){return!0};
g.buildCallback=function(){var a=this;X.prototype.buildCallback.call(this);this.ja=O(this.getAmpDoc()).whenFirstVisible().then(function(){return Ib(a.win,a.getAmpDoc(),X.prototype.getConsentPolicy.call(a))});this.X=this.element.getAttribute("data-auto-format")||"";if(rd(this)){var b=this.getViewport().getSize();return this.attemptChangeSize(sd(this.X,b),b.width).catch(function(){})}this.divertExperiments()};g.getConsentPolicy=function(){return null};
g.divertExperiments=function(){var a=this,b={},b=(b["as-use-attr-for-format"]={isTrafficEligible:function(){return!rd(a)&&0<Number(a.element.getAttribute("width"))&&0<Number(a.element.getAttribute("height"))},branches:["21062003","21062004"]},b),c=mb(this.win,b);Object.keys(c).forEach(function(b){b=c[b];var d=a.element;if(b){var f=d.getAttribute("data-experiment-id");f&&Nb(Lb(f))?d.setAttribute("data-experiment-id",tb([b],f)):d.setAttribute("data-experiment-id",b)}})};
g.getAdUrl=function(a){var b=this;if(4==a&&"true"!=this.element.getAttribute("data-npa-on-unknown-consent"))return z().info("amp-ad-network-adsense-impl","Ad request suppressed due to unknown consent"),Promise.resolve("");var c=Date.now(),d=this.win,e=this.element.getAttribute("data-ad-client"),e=e.toLowerCase();"ca-"!=e.substring(0,3)&&(e="ca-"+e);var f=this.element.getAttribute("data-adtest")||Mb(this.element),h=Number(this.element.getAttribute("width")),k=Number(this.element.getAttribute("height"));
this.o="21062004"==nb(this.win,"as-use-attr-for-format")?{width:h,height:k}:this.getIntersectionElementLayoutBox();var h=this.o.width+"x"+this.o.height,k=this.element.getAttribute("data-amp-slot-index"),l=td(this,h);this.ba=k+l;var k=this.element.getAttribute("data-ad-slot"),m=pd.addNewSlot(h,this.ba,e,k),r=this.getViewport().getSize();this.Z||(this.win.ampAdGoogleIfiCounter=this.win.ampAdGoogleIfiCounter||1,this.Z=this.win.ampAdGoogleIfiCounter++);var n=sb(this.element),t=n.includes(ob["AMP-FX-FLYING-CARPET"])||
n.includes(ob["AMP-STICKY-AD"]),v={client:e,format:h,w:this.o.width,h:this.o.height,iu:k,npa:2==a||4==a?1:null,adtest:f?"on":null,adk:l,output:"html",bc:d.SVGElement&&d.document.createElementNS?"1":null,ctypes:ud(),host:this.element.getAttribute("data-ad-host"),hl:this.element.getAttribute("data-language"),to:this.element.getAttribute("data-tag-origin"),pv:m.pv,channel:this.element.getAttribute("data-ad-channel"),wgl:d.WebGLRenderingContext?"1":"0",asnt:this.sentinel,dff:(this.win.getComputedStyle(this.element)||
D())["font-family"],prev_fmts:m.prevFmts||null,prev_slotnames:m.prevSlotnames||null,brdim:Eb(this.win,r),ifi:this.Z,rc:this.fromResumeCallback?1:null,rafmt:rd(this),pfx:t?"1":"0",crui:this.element.getAttribute("data-matched-content-ui-type"),cr_row:this.element.getAttribute("data-matched-content-rows-num"),cr_col:this.element.getAttribute("data-matched-content-columns-num"),pwprc:this.element.getAttribute("data-package")},p=[],w=$b(this.win),y=Yb(this.win);w&&p.push(w);y&&p.push(y);var B=N(this.win).timeoutPromise(1E3,
this.ja).catch(function(){return{}});return B.then(function(a){return Bb(b,c,Object.assign({adsid:a.token||null,jar:a.jar||null,pucrd:a.pucrd||null},v),p)})};g.onNetworkFailure=function(a,b){A().info("amp-ad-network-adsense-impl","network error, attempt adding of error parameter",a);a=(new RegExp("[?|&]("+encodeURIComponent(U.name)+"="+(encodeURIComponent(String(U.value))+"|aet=[^&]*)$"))).test(b)?void 0:b+"&aet=n";return{adUrl:a}};
g.extractSize=function(a){this.L=Gb(a);this.N=a.get("X-QQID");this.ga="true"==a.get("amp-ff-sandbox");this.L&&this.qa.installExtensionForDoc(this.getAmpDoc(),"amp-analytics");return this.o};function td(a,b){a=a.element;b=(a.getAttribute("data-ad-slot")||"")+":"+b+":"+Wa(a);return za(b)}function ud(){var a;return null}g.isXhrAllowed=function(){return qb.test(this.win.location.origin)||!1||!1};g.sandboxHTMLCreativeFrame=function(){return this.ga};
g.onCreativeRender=function(a){X.prototype.onCreativeRender.call(this,a);this.ea=!!a;if(a&&!a.customElementExtensions.includes("amp-ad-exit")){var b=this.getAmpDoc();this.iframe.contentWindow.document.documentElement.addEventListener("click",nd.bind(null,b),!0)}if(this.L){var b=this.element.getAttribute("type"),c=this.win;if(("doubleclick"==b||"adsense"==b)&&T(c,"a4aProfilingRate")){var d=this.win,e=this.element,b=this.L,c=this.N,f=!!a,h=vb(d,e);a=Number(e.getAttribute("data-amp-slot-index"));var k=
encodeURIComponent(e.getAttribute("data-experiment-id")),e=e.getAttribute("type"),l=Number(eb(d,"navigationStart")||Date.now()),d=Math.round(d.performance&&d.performance.now?d.performance.now():Date.now()-l),c="https://csi.gstatic.com/csi?s=a4a"+("&c="+h+"&slotId="+a+"&qqid."+a+"="+c)+("&dt="+l)+("null"!=k?"&e."+a+"="+k:"")+("&rls=0&adt."+a+"="+e),f=f?"Friendly":"CrossDomain";b.triggers.continuousVisibleIniLoad={on:"ini-load",selector:"amp-ad",selectionMethod:"closest",request:"iniLoadCsi"};
b.triggers.continuousVisibleRenderStart={on:"render-start",selector:"amp-ad",selectionMethod:"closest",request:"renderStartCsi"};b.requests.iniLoadCsi=c+("&met.a4a."+a+"=iniLoadCsi"+f+"."+d);b.requests.renderStartCsi=c+("&met.a4a."+a+"=renderStartCsi"+f+"."+d);b.requests.visibilityCsi=c+("&met.a4a."+a+"=visibilityCsi."+d);b.triggers.continuousVisible.request.push("visibilityCsi")}this.W=sc(this.element,this.L,!!this.postAdResponseExperimentFeatures.avr_disable_immediate)}Ub(this.iframe,{width:this.o.width+
"px",height:this.o.height+"px"});this.N&&this.element.setAttribute("data-google-query-id",this.N);this.iframe.id="google_ads_iframe_"+this.Z};g.unlayoutCallback=function(){if(this.ea)return!1;var a=X.prototype.unlayoutCallback.call(this);this.element.setAttribute("data-amp-slot-index",this.win.ampAdSlotIdCounter++);this.ba&&pd.removeSlot(this.ba);if(this.W){var b=this.W;b.parentElement&&b.parentElement.removeChild(b);this.W=null}this.ea=this.N=this.L=null;this.ga=!1;return a};
g.onLayoutMeasure=function(){var a=this;X.prototype.onLayoutMeasure.call(this);if(rd(this)&&!this.la){this.la=!0;var b=this.getLayoutBox();this.getVsync().run({measure:function(b){b.direction=(a.win.getComputedStyle(a.element.parentElement)||D()).direction},mutate:function(c){"rtl"==c.direction?V(a.element,"marginRight",b.left,"px"):V(a.element,"marginLeft",-b.left,"px")}},{direction:""})}};g.getPreconnectUrls=function(){this.preconnect.preload(fc(this.win));return["https://googleads.g.doubleclick.net"]};
g.getA4aAnalyticsVars=function(a){var b=this.N,c=this.win,d=this.getAmpDoc(),e=O(d),f=c.performance&&c.performance.timing&&c.performance.timing.navigationStart||0,c={correlator:vb(c,d),slotId:this.element.getAttribute("data-amp-slot-index"),viewerLastVisibleTime:e.getLastVisibleTime()-f};b&&(c.qqid=b);"ad-render-start"==a&&(c.scheduleTime=this.element.layoutScheduleTime-f);return c};
g.getA4aAnalyticsConfig=function(){return E({requests:{csi:"https://csi.gstatic.com/csi?"},transport:{xhrpost:!1},triggers:{adRequestStart:Fb("ad-request-start",{"met.a4a":"afs_lvt.${viewerLastVisibleTime}~afs.${time}"}),adResponseEnd:Fb("ad-response-end",{"met.a4a":"afe.${time}"}),adRenderStart:Fb("ad-render-start",{"met.a4a":"ast.${scheduleTime}~ars_lvt.${viewerLastVisibleTime}~ars.${time}",qqid:"${qqid}"}),adIframeLoaded:Fb("ad-iframe-loaded",{"met.a4a":"ail.${time}"})},extraUrlParams:{s:"ampad",
ctx:"2",c:"${correlator}",slotId:"${slotId}",puid:"${requestCount}~${timestamp}"}})};function sd(a,b){switch(a){case "rspv":var c=100,d=Math.min(300,b.height),e=Math.round(b.width/1.2);return Math.min(Math.max(e,c),d);case "mcrspv":return Math.floor(3.4*b.width+112);default:return 0}}(function(a){a.registerElement("amp-ad-network-adsense-impl",qd)})(self.AMP);
})});
//# sourceMappingURL=amp-ad-network-adsense-impl-0.1.js.map

