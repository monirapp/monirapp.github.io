(self.AMP=self.AMP||[]).push({n:"amp-ima-video",v:"0",f:(function(AMP,_){
var l;function aa(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}function ba(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ca=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function da(a){var b=Object.create(null);if(!a)return b;for(var c;c=ca.exec(a);){var d=ba(c[1],c[1]),e=c[2]?ba(c[2],c[2]):"";b[d]=e}return b};var ea="";
function n(a){var b=a||self,c;if(b.AMP_MODE)c=b.AMP_MODE;else{c=b;var d=!!(self.AMP_CONFIG||{}).test||!1,e=da(c.location.originalHash||c.location.hash),f=da(c.location.search);ea||(ea=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"010");c=b.AMP_MODE={localDev:!1,development:!("1"!=e.development&&!c.AMP_DEV_MODE),examiner:"2"==e.development,filter:e.filter,geoOverride:e["amp-geo"],minified:!0,lite:void 0!=f.amp_lite,test:d,log:e.log,version:"0",rtvVersion:ea}}return c}
;var fa=Object.prototype.toString;function ga(a){if(!a)return[];for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return b}function r(a){return"number"===typeof a&&isFinite(a)};self.log=self.log||{user:null,dev:null,userForEmbed:null};var ha=self.log;function t(){if(!ha.user)throw Error("failed to call initLogConstructor");return ha.user}function u(){if(ha.dev)return ha.dev;throw Error("failed to call initLogConstructor");};function ia(a){var b=Object.create(null);a&&Object.assign(b,a);return b}function x(a){return a||{}};function ja(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function ka(a,b){if(a.nodeType){var c=(a.ownerDocument||a).defaultView;if(c=c!=(c.__AMP_TOP||c)&&la(c,b)?z(c,b):null)return c}return ma(a,b)}function na(a,b,c){var d=A(a),e=B(d);a=e;var f=oa(a),g=f[b];g||(g=f[b]={obj:null,promise:null,resolve:null,context:null,ctor:null});g.ctor||g.obj||(g.ctor=c,g.context=d,g.resolve&&z(a,b))}function D(a,b){a=a.__AMP_TOP||a;return z(a,b)}function pa(a,b){var c=A(a),c=B(c);return z(c,b)}function ma(a,b){a=A(a);a=B(a);return z(a,b)}
function qa(a,b){return ra(B(a),b)}function A(a){return a.nodeType?D((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function B(a){a=A(a);return a.isSingleDoc()?a.win:a}function z(a,b){la(a,b);var c=oa(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function ra(a,b){var c=oa(a)[b];if(c){if(c.promise)return c.promise;z(a,b);return c.promise=Promise.resolve(c.obj)}return null}
function oa(a){var b=a.services;b||(b=a.services={});return b}function la(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function sa(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};function E(a){a.parentElement&&a.parentElement.removeChild(a)}function ta(a,b){for(var c,d=a;d&&d!==c;d=d.parentElement)if(b(d))return d;return null}function ua(a){return a.closest?a.closest(".amp-video-docked-controls"):ta(a,function(a){var b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return b?b.call(a,".amp-video-docked-controls"):!1})}var va;
function wa(a,b){if(null==va){var c=a.ownerDocument;try{var d=c.createElement("div"),e=c.createElement("div");d.appendChild(e);va=d.querySelector(":scope div")===e}catch(f){va=!1}}if(va)return a.querySelectorAll(":scope "+b);a.classList.add("i-amphtml-scoped");b=a.querySelectorAll(".i-amphtml-scoped "+b);a.classList.remove("i-amphtml-scoped");return b}function xa(a){return"SCRIPT"==a.tagName&&a.hasAttribute("type")&&"APPLICATION/JSON"==a.getAttribute("type").toUpperCase()}
function ya(a){var b=a.body.getAttribute("dir")||a.documentElement.getAttribute("dir")||"ltr";return"rtl"==b};function za(a){return Aa(a,"video-service","amp-video-service",void 0).then(function(a){return t().assert(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","video-service","amp-video-service","amp-video-service","amp-video-service")})}
function Aa(a,b,c,d){var e=A(a),f=qa(a,b);return f?f:e.whenBodyAvailable().then(function(){var a;a=e.win;var b=e.getHeadNode(),d;if(b){d=[];for(var b=b.querySelectorAll("script[custom-element]"),f=0;f<b.length;f++)d.push(b[f].getAttribute("custom-element"))}else d=[];a=d.includes(c)?D(a,"extensions").waitForExtension(a,c):Promise.resolve();return a}).then(function(){var f;if(d)f=qa(a,b);else if(f=e.win,f.ampExtendedElements&&f.ampExtendedElements[c]){f=B(a);var h=ra(f,b);if(!h){var k=new ja,h=k.promise,
k=k.resolve;oa(f)[b]={obj:null,promise:h,resolve:k,context:null,ctor:null}}f=h}else f=null;return f})};function Ba(a){return D(a,"platform")}function F(a){return ma(a,"viewport")};function Ca(a){this.Sa=a;this.ga=this.ra=0;this.W=Object.create(null)}Ca.prototype.has=function(a){return!!this.W[a]};Ca.prototype.get=function(a){var b=this.W[a];if(b)return b.access=++this.ga,b.payload};Ca.prototype.put=function(a,b){this.has(a)||this.ra++;this.W[a]={payload:b,access:this.ga};if(!(this.ra<=this.Sa)){u().warn("lru-cache","Trimming LRU cache");a=this.W;var c=this.ga+1,d,e;for(e in a){var f=a[e].access;f<c&&(c=f,d=e)}void 0!==d&&(delete a[d],this.ra--)}};var I=self.AMP_CONFIG||{},Da={thirdParty:I.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:I.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof I.thirdPartyFrameRegex?new RegExp(I.thirdPartyFrameRegex):I.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:I.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof I.cdnProxyRegex?new RegExp(I.cdnProxyRegex):I.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:I.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:I.localDev||!1};x({c:!0,v:!0,a:!0,ad:!0});var Ea,Fa;
function J(a){var b;Ea||(Ea=self.document.createElement("a"),Fa=self.UrlCache||(self.UrlCache=new Ca(100)));var c=b?null:Fa,d=Ea;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;
e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;c&&c.put(a,e);a=e}return a}function Ia(a){"string"==typeof a&&(a=J(a));var b;(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}
function Ja(a,b){var c;c=void 0===c?"source":c;t().assert(null!=a,"%s %s must be available",b,c);var d=a;t().assert(Ia(d)||/^(\/\/)/.test(d),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,d);return d};function Ka(a){for(var b=a.nodeName,c=0,d=0,e=a.previousElementSibling;e&&25>d&&100>c;)e.nodeName==b&&d++,c++,e=e.previousElementSibling;return 25>d&&100>c?"."+d:""};function La(a,b){return Aa(a,"consentPolicyManager","amp-consent").then(function(a){return a?a.whenPolicyResolved(b):null})};var K;function Ma(a,b,c,d){var e=a,f=c,g;g=function(a){try{return f(a)}catch(p){throw self.reportError(p),p;}};var h=Na(),k=!1;d&&(k=d.capture);e.addEventListener(b,g,h?d:k);return function(){e&&e.removeEventListener(b,g,h?d:k);g=e=f=null}}function Na(){if(void 0!==K)return K;K=!1;try{var a={get capture(){K=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return K};function Oa(a,b,c){var d,e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function L(a,b,c){return Ma(a,b,c,void 0)}function Pa(a,b,c,d){var e=c,f=Ma(a,b,function(a){try{e(a)}finally{e=null,f()}},d);return f}function Qa(a){var b,c=M.LOAD,d,e=new Promise(function(b){d=Pa(a,c,b,void 0)});e.then(d,d);b&&b(d);return e};function Ra(a){var b;try{return JSON.parse(a)}catch(c){b&&b(c)}};function Sa(a,b){var c=Ta(a);return!!c[b]}
function Ta(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var e=a.AMP_CONFIG["allow-doc-opt-in"],f=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(f){var g=
f.getAttribute("content").split(",");for(c=0;c<g.length;c++)-1!=e.indexOf(g[c])&&(b[g[c]]=!0)}}Object.assign(b,Ua(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=da(a.location.originalHash||a.location.hash);for(var h=0;h<c.length;h++){var k=a["e-"+c[h]];"1"==k&&(b[c[h]]=!0);"0"==k&&(b[c[h]]=!1)}}return b}
function Ua(a){a:{var b;try{b=a.document.cookie}catch(g){b=""}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),d=c.indexOf("=");if(-1!=d&&"AMP_EXP"==ba(c.substring(0,d).trim(),void 0)){a=c.substring(d+1).trim();a=ba(a,a);break a}}a=null}var e=a,f=e?e.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<f.length;b++)0!=f[b].length&&("-"==f[b][0]?a[f[b].substr(1)]=!1:a[f[b]]=!0);return a};var Va,Wa="Webkit webkit Moz moz ms O o".split(" ");function Xa(a,b,c){if(sa(b,"--"))return b;Va||(Va=ia());var d=Va[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<Wa.length;f++){var g=Wa[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var h=e;void 0!==a[h]&&(d=h)}c||(Va[b]=d)}return d}function N(a,b){a=a.style;for(var c in b)a.setProperty(Xa(a,c),b[c].toString(),"important")}function Ya(a,b,c){var d;(b=Xa(a.style,b,void 0))&&(a.style[b]=d?c+d:c)}
function Za(a){var b={position:"fixed",top:"0",width:"0",height:"0",opacity:"0"},c;for(c in b)Ya(a,c,b[c])}function $a(a,b){"number"==typeof a&&(a+="px");if(void 0===b)return"translate("+a+")";"number"==typeof b&&(b+="px");return"translate("+a+", "+b+")"};function ab(a,b,c){var d=!1,e=a.getHeadNode(),f;a=b;var g=e.__AMP_CSS_TR;f=g?g(a):a;a:{a=e;var h=d||!1,k=c||null;(g=a.__AMP_CSS_SM)||(g=a.__AMP_CSS_SM=ia());var m=!h&&k&&"amp-custom"!=k&&"amp-keyframes"!=k,p=h?"amp-runtime":m?"amp-extension="+k:null;if(p){var q=bb(a,g,p);if(q){q.textContent!==f&&(q.textContent=f);break a}}q=(a.ownerDocument||a).createElement("style");q.textContent=f;f=null;h?q.setAttribute("amp-runtime",""):m?(q.setAttribute("amp-extension",k||""),f=bb(a,g,"amp-runtime")):(k&&q.setAttribute(k,
""),f=a.lastChild);h=f;a.insertBefore(q,h?h.nextSibling:a.firstChild);p&&(g[p]=q)}}function bb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null};function cb(){this.currentTime=0;this.duration=1;this.playedRanges=[]}cb.prototype.update=function(a){this.currentTime=a.currentTime;this.duration=a.duration;var b=a.played,c=b.length;this.playedRanges=[];for(var d=0;d<c;d++)this.playedRanges.push([b.start(d),b.end(d)])};function db(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}}function eb(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1};function fb(){this.A=null}l=fb.prototype;l.add=function(a){var b=this;this.A||(this.A=[]);this.A.push(a);return function(){b.remove(a)}};l.remove=function(a){this.A&&(a=this.A.indexOf(a),-1<a&&this.A.splice(a,1))};l.removeAll=function(){this.A&&(this.A.length=0)};l.fire=function(a){if(this.A)for(var b=this.A,c=0;c<b.length;c++)(0,b[c])(a)};l.getHandlerCount=function(){return this.A?this.A.length:0};function gb(a,b){function c(){d=0;var g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}var d=0,e=0,f=null;return function(b){for(var g=[],k=0;k<arguments.length;++k)g[k-0]=arguments[k];e=a.Date.now();f=g;d||(d=a.setTimeout(c,500))}};function hb(a,b,c){var d=0,e=1,f=e,g=d;d>e&&(f=d,g=e);a<g?a=g:a>f&&(a=f);return(a-d)*(c-b)/(e-d)+b};var P;function Q(a){a=a.ownerDocument||a;P&&P.ownerDocument===a||(P=a.createElement("div"));return ib}function ib(a){P.innerHTML=a[0];var b=P.firstElementChild;P.removeChild(b);return b}function jb(a){a=a.querySelectorAll("[ref]");for(var b=ia(),c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("ref");d.removeAttribute("ref");b[e]=d}return b};function kb(a){a=parseFloat(a);return r(a)?a:void 0};var R={};
function lb(a,b,c){t().assert("ima-video","Attribute type required for <amp-ad>: %s",b);for(var d=0,e=a;e&&e!=e.parent;e=e.parent)d++;var d=String(d)+"-"+mb(a),f=e={},g=b.dataset,h;for(h in g)sa(h,"vars")||(f[h]=g[h]);if(h=b.getAttribute("json")){h=Ra(h);if(void 0===h)throw t().createError("Error parsing JSON in json attribute in element %s",b);for(var k in h)f[k]=h[k]}k=e;e=Date.now();f=b.getAttribute("width");h=b.getAttribute("height");k=k?k:{};k.width=kb(f);k.height=kb(h);b.getAttribute("title")&&(k.title=
b.getAttribute("title"));var m=a.location.href;"about:srcdoc"==m&&(m=a.parent.location.href);var p=pa(b,"documentInfo").get(),q=ma(b,"viewer"),f=q.getUnconfirmedReferrerUrl(),v=b.getPageLayoutBox();h=k;var g=Da.thirdParty+"/0/ampcontext-v0.js",G=p.sourceUrl,O=p.canonicalUrl,p=p.pageViewId,m={href:m},Ga=b.tagName,Ha={localDev:!1,development:n(void 0).development,filter:n(void 0).filter,minified:!0,lite:n(void 0).lite,test:!1,log:n(void 0).log,version:n(void 0).version,rtvVersion:n(void 0).rtvVersion},
uc=!(!a.AMP_CONFIG||!a.AMP_CONFIG.canary),q=!q.isVisible(),v=v?{left:v.left,top:v.top,width:v.width,height:v.height}:null,vc=b.getIntersectionChangeEntry(),w;w=b;for(var H=[],y=0;w&&1==w.nodeType&&25>y;){var C="";w.id&&(C="/"+w.id);H.push(""+w.nodeName.toLowerCase()+C+Ka(w));y++;w=w.parentElement}w=H.join();H=w.length;y=5381;for(C=0;C<H;C++)y=33*y^w.charCodeAt(C);h._context=x({ampcontextVersion:"0",ampcontextFilepath:g,sourceUrl:G,referrer:f,canonicalUrl:O,pageViewId:p,location:m,
startTime:e,tagName:Ga,mode:Ha,canary:uc,hidden:q,initialLayoutRect:v,initialIntersection:vc,domFingerprint:String(y>>>0),experimentToggles:Ta(a),sentinel:d});(a=b.getAttribute("src"))&&(k.src=a);e=k;e.type="ima-video";Object.assign(e._context,c);return e}
function nb(a,b,c){var d={allowFullscreen:!0},d=void 0===d?{}:d,e=d.disallowCustom,f=d.allowFullscreen;c=lb(a,b,c);var g=a.document.createElement("iframe");R[c.type]||(R[c.type]=0);R[c.type]+=1;var d=ob(a,"ima-video",e),h=J(d).hostname,k=JSON.stringify(x({host:h,type:c.type,count:R[c.type],attributes:c}));g.src=d;g.ampLocation=J(d);g.name=k;c.width&&(g.width=c.width);c.height&&(g.height=c.height);c.title&&(g.title=c.title);f&&g.setAttribute("allowfullscreen","true");g.setAttribute("scrolling","no");
Ya(g,"border","none");g.onload=function(){this.readyState="complete"};Sa(a,"no-sync-xhr-in-ads")&&g.setAttribute("allow","sync-xhr 'none';");Sa(a,"sandbox-ads")&&pb(g);g.setAttribute("data-amp-3p-sentinel",c._context.sentinel);return g}
function ob(a,b,c){var d=void 0,e=a.bootstrapBaseUrl;if(e)a=e;else{var f;f=d;var g=a.document.querySelector('meta[name="amp-3p-iframe-src"]');g?c?(t().error("3p-frame","3p iframe url disabled for "+(b||"unknown")),f=null):(b=Ja(g.getAttribute("content"),g),t().assert(-1==b.indexOf("?"),"3p iframe url must not include query string %s in element %s.",b,g),c=J(b),t().assert("localhost"==c.hostname&&!f||c.origin!=J(a.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.",
b,c.origin,g),f=b+"?0"):f=null;f||(a.defaultBootstrapSubDomain=a.defaultBootstrapSubDomain||"d-"+mb(a),f="https://"+a.defaultBootstrapSubDomain+("."+Da.thirdPartyFrameHost+"/0/")+"frame.html");a=a.bootstrapBaseUrl=f}return a}function mb(a){var b;if(a.crypto&&a.crypto.getRandomValues){var c=new Uint32Array(2);a.crypto.getRandomValues(c);b=String(c[0])+c[1]}else b=String(a.Math.random()).substr(2)+"0";return b}
function pb(a){if(a.sandbox&&a.sandbox.supports){for(var b=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],c="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts".split(" "),d=0;d<b.length;d++){var e=b[d];if(!a.sandbox.supports(e)){u().info("3p-frame","Iframe doesn't support "+e);return}}a.sandbox=b.join(" ")+" "+c.join(" ")}};var M={REGISTERED:"registered",LOAD:"load",PLAYING:"playing",PAUSE:"pause",ENDED:"ended",MUTED:"muted",UNMUTED:"unmuted",VISIBILITY:"amp:video:visibility",RELOAD:"reloaded",AD_START:"ad_start",AD_END:"ad_end"};function S(a){var b=!1,c=null,d=a;return function(a){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];b||(c=d.apply(self,e),b=!0,d=null);return c}};function qb(a,b){if(b)return Promise.resolve(!1);var c=a.document.createElement("video");c.setAttribute("muted","");c.setAttribute("playsinline","");c.setAttribute("webkit-playsinline","");c.setAttribute("height","0");c.setAttribute("width","0");c.muted=!0;c.playsinline=!0;c.webkitPlaysinline=!0;Za(c);(new Promise(function(a){return a(c.play())})).catch(function(){});return Promise.resolve(!c.paused)}var T=null;function U(a){return a.querySelector("video, iframe")};function rb(a){ab(a,"i-amphtml-video-mask{display:block;z-index:1}.amp-video-eq{display:none}.i-amphtml-video-component:not(amp-video) .amp-video-eq,amp-story .amp-video-eq,amp-video[controls] .amp-video-eq{display:-webkit-box;display:-ms-flexbox;display:flex}[noaudio] .amp-video-eq{display:none!important}.amp-video-eq{pointer-events:none!important;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:7px;height:12px;opacity:0.8;overflow:hidden;position:absolute;right:7px;width:20px;z-index:1}.amp-video-eq .amp-video-eq-col{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;margin-right:1px;position:relative}.amp-video-eq .amp-video-eq-col div{-webkit-animation-name:amp-video-eq-animation;animation-name:amp-video-eq-animation;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;background-color:#fafafa;height:100%;position:absolute;width:100%;will-change:transform;-webkit-animation-play-state:paused;animation-play-state:paused}.amp-video-eq[unpausable] .amp-video-eq-col div{-webkit-animation-name:none;animation-name:none}.amp-video-eq[unpausable].amp-video-eq-play .amp-video-eq-col div{-webkit-animation-name:amp-video-eq-animation;animation-name:amp-video-eq-animation}.amp-video-eq.amp-video-eq-play .amp-video-eq-col div{-webkit-animation-play-state:running;animation-play-state:running}.amp-video-eq-1-1{-webkit-animation-duration:0.3s;animation-duration:0.3s}.amp-video-eq-1-1,.amp-video-eq-1-2{-webkit-transform:translateY(60%);transform:translateY(60%)}.amp-video-eq-1-2{-webkit-animation-duration:0.45s;animation-duration:0.45s}.amp-video-eq-2-1{-webkit-animation-duration:0.5s;animation-duration:0.5s}.amp-video-eq-2-1,.amp-video-eq-2-2{-webkit-transform:translateY(30%);transform:translateY(30%)}.amp-video-eq-2-2{-webkit-animation-duration:0.4s;animation-duration:0.4s}.amp-video-eq-3-1{-webkit-animation-duration:0.3s;animation-duration:0.3s}.amp-video-eq-3-1,.amp-video-eq-3-2{-webkit-transform:translateY(70%);transform:translateY(70%)}.amp-video-eq-3-2{-webkit-animation-duration:0.35s;animation-duration:0.35s}.amp-video-eq-4-1{-webkit-animation-duration:0.4s;animation-duration:0.4s}.amp-video-eq-4-1,.amp-video-eq-4-2{-webkit-transform:translateY(50%);transform:translateY(50%)}.amp-video-eq-4-2{-webkit-animation-duration:0.25s;animation-duration:0.25s}@-webkit-keyframes amp-video-eq-animation{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes amp-video-eq-animation{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}\n/*# sourceURL=/css/video-autoplay.css*/",
"amp-video-autoplay")};function sb(a,b,c,d){this.element=b;this.X=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.ea=null;this.l=F(a)}
sb.prototype.J=function(a){var b=this.ea;if(!(b&&eb(b.positionRect,a.positionRect)&&eb(b.viewportRect,a.viewportRect))){var c=a.positionRect,d=c,e=a.viewportRect;a.relativePos=d.top<e.top?"top":d.bottom>e.bottom?"bottom":"inside";d=c;e=a.viewportRect;d.top<=e.bottom&&e.top<=d.bottom&&d.left<=e.right&&e.left<=d.right?(this.ea=a,this.X(a)):this.ea&&(this.ea=null,a.positionRect=null,this.X(a))}};
sb.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.l.getSize(),d=db(0,0,c.width,c.height);this.l.getClientRectAsync(this.element).then(function(a){b.J({positionRect:a,viewportRect:d,relativePos:""})})};function tb(a){var b=this;this.j=a;this.Na=a.win;this.B=[];this.ab=D(this.Na,"vsync");this.l=F(a);this.G=[];this.ia=this.oa=this.la=!1;this.Ra=gb(this.Na,function(){b.la=!1})}tb.prototype.observe=function(a,b,c){var d=this,e=new sb(this.j,a,b,c);this.B.push(e);this.ia||ub(this);e.update();return function(){for(var a=0;a<d.B.length;a++)if(d.B[a]==e){d.B.splice(a,1);0==d.B.length&&vb(d);break}}};
tb.prototype.unobserve=function(a){for(var b=0;b<this.B.length;b++)if(this.B[b].element==a){this.B.splice(b,1);0==this.B.length&&vb(this);return}u().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function ub(a){a.ia=!0;a.G.push(a.l.onScroll(function(){a.Ra();a.la=!0;a.oa||wb(a)}));a.G.push(a.l.onResize(function(){a.updateAllEntries(!0)}))}function vb(a){for(a.ia=!1;a.G.length;)a.G.pop()()}tb.prototype.updateAllEntries=function(a){for(var b=0;b<this.B.length;b++)this.B[b].update(a)};
function wb(a){a.updateAllEntries();a.oa=!0;a.la?a.ab.measure(function(){wb(a)}):a.oa=!1}function xb(a){na(a,"position-observer",function(){return new tb(a)})};var yb=['<i-amphtml-video-icon class="amp-video-eq">\n    <div class="amp-video-eq-col">\n      <div class="amp-video-eq-filler"></div>\n      <div class="amp-video-eq-filler"></div>\n    </div>\n  </i-amphtml-video-icon>'];yb.raw=['<i-amphtml-video-icon class="amp-video-eq">\n    <div class="amp-video-eq-col">\n      <div class="amp-video-eq-filler"></div>\n      <div class="amp-video-eq-filler"></div>\n    </div>\n  </i-amphtml-video-icon>'];var zb=['<i-amphtml-video-mask class="i-amphtml-fill-content" role=button>\n    </i-amphtml-video-mask>'];
zb.raw=['<i-amphtml-video-mask class="i-amphtml-fill-content" role=button>\n    </i-amphtml-video-mask>'];function Ab(a){var b=S(a);return function(a,d){return b(a,d).cloneNode(!0)}}function Bb(a,b){var c=Q(b);return c(zb)}function Cb(a,b){var c=Q(b)(yb),d=c.firstElementChild;for(b=0;4>b;b++){for(var e=d.cloneNode(!0),f=e.children,g=0;g<f.length;g++){var h=f[g];h.classList.add("amp-video-eq-"+(b+1)+"-"+(g+1))}c.appendChild(e)}E(d);Ba(a).isIos()&&c.setAttribute("unpausable","");return c}
var Db=Ab(Bb),Eb=Ab(Cb);function Fb(a){var b=this;this.j=a;this.ja=S(function(){xb(b.j);return pa(b.j,"position-observer")});this.m=[];this.Ya=S(function(){var a=b.j.win,d=n(a).lite;T||(T=S(qb));return T(a,d)});rb(this.j)}Fb.prototype.register=function(a){var b=this;a.isInteractive()&&a.hideControls();return this.Ya().then(function(c){if(!c)return a.isInteractive()&&a.showControls(),null;var d=a,e=new Gb(b.j,b.ja(),d);b.m.push(e);return e})};
Fb.prototype.delegate=function(a){a:{for(var b=0;b<this.m.length;b++){var c=this.m[b];if(c.video.element==a){a=c;break a}}a=null}a&&a.delegate()};function Gb(a,b,c){this.video=c;this.j=a;this.w=c.element;this.o=!1;this.wa=[Hb(this,b),Ib(this)];c.mute();c.hideControls();Jb(this)}function Hb(a,b){return b.observe(a.w,1,function(){Kb(a)})}function Ib(a){return L(a.w,M.VISIBILITY,function(b){var c=(b=b.data)&&b.visible;c&&!a.o?(a.o=c,a.J(c)):Kb(a)})}Gb.prototype.delegate=function(){Lb(this);this.video.pause()};
function Kb(a){var b=a.w.getIntersectionChangeEntry().intersectionRatio,c=.5<=(r(b)?b:0);a.o!=c&&(a.o=c,a.J(c))}Gb.prototype.J=function(a){this.w.dispatchCustomEvent(a?"amp:autoplay":"amp:autopause")};
function Jb(a){var b=a.video,c=b.signals(),d=null;if(null==c.get("user-interacted")){var e=a.j.win,f=Eb(e,a.w);b.mutateElement(function(){a.w.appendChild(f)});var g=b.element,h=a.$a.bind(a,f),k=[L(g,M.PLAYING,function(){return h(!0)}),L(g,M.PAUSE,function(){return h(!1)})];c.whenSignal("user-interacted").then(function(){k.forEach(function(a){return a()});Mb(a)});if(a.video.isInteractive()){var m=Db(e,a.w);Pa(m,"click",function(){return c.signal("user-interacted")});b.mutateElement(function(){a.w.appendChild(m)})}}}
function Mb(a){var b=a.w.querySelector("i-amphtml-video-mask");Lb(a);b&&E(b);a.video.isInteractive()&&a.video.showControls();a.video.unmute()}function Lb(a){a.wa&&(a.wa.forEach(function(a){return a()}),a.wa=null)}Gb.prototype.$a=function(a,b){this.video.mutateElement(function(){return a.classList.toggle("amp-video-eq-play",b)})};function Nb(a){var b=this,c=a.win;this.j=a;this.ya=Ob(c,a);this.Da=S(function(){return new Fb(b.j)})}function Ob(a,b){a=D(a,"extensions");var c=A(b);return a.installExtensionForDoc(c,"amp-video-service").then(function(){return za(c)})}Nb.prototype.register=function(a){this.ya.then(function(b){return b.register(a)});Pb(this,a);new Qb(a)};
function Pb(a,b){if(b.element.hasAttribute("autoplay")){a.Da().register(b);var c=null;b.signals().whenSignal("autoplay-delegated").then(function(){a.Da().delegate(b.element)})}}Nb.prototype.getAnalyticsDetails=function(a){return this.ya.then(function(b){return b.getAnalyticsDetails(a)})};Nb.prototype.isMuted=function(){u().warn("video-service","isMuted is not implemented");return!1};Nb.prototype.getPlayingState=function(){u().warn("video-service","getPlayingState is not implemented");return"paused"};
function Qb(a){this.Ma=a;this.w=a.element;this.Za=Qa(this.w);Rb(this);Sb(this.w)}function Vb(a,b,c){L(a.w,b,function(b){a.Za.then(function(){c(b)})})}function Rb(a){Vb(a,"amp:autoplay",function(){a.Ma.play(!0)});Vb(a,"amp:autopause",function(){a.Ma.pause()})}function Sb(a){a.classList.add("i-amphtml-video-component")};var Wb={title:"",artist:"",album:"",artwork:[{src:""}]};function Xb(a,b,c,d){var e=a.win,f=e.navigator;"mediaSession"in f&&e.MediaMetadata&&(f.mediaSession.metadata=new e.MediaMetadata(Wb),Yb(a,b),f.mediaSession.metadata=new e.MediaMetadata(b),f.mediaSession.setActionHandler("play",c),f.mediaSession.setActionHandler("pause",d))}
function Zb(a){var b=a.querySelector('script[type="application/ld+json"]');if(b){var c=Ra(b.textContent);if(c&&c.image){if("string"===typeof c.image)return c.image;if(c.image["@list"]&&"string"===typeof c.image["@list"][0])return c.image["@list"][0];if("string"===typeof c.image.url)return c.image.url;if("string"===typeof c.image[0])return c.image[0]}}}
function Yb(a,b){var c=ka(a,"url");if(b&&b.artwork){var d=b.artwork;d.forEach(function(a){if(a){var b="[object Object]"===fa.call(a)?a.src:a;t().assert(c.isProtocolValid(b))}})}};var $b=['\n          <div class="amp-video-docked-controls" hidden>\n            <div class="amp-video-docked-main-button-group">\n              <div class="amp-video-docked-button-group">\n                <div role="button" ref="playButton"\n                    class="amp-video-docked-play"></div>\n                <div role="button" ref="pauseButton"\n                    class="amp-video-docked-pause"></div>\n              </div>\n              <div class="amp-video-docked-button-group">\n                <div role="button" ref="muteButton"\n                    class="amp-video-docked-mute"></div>\n                <div role="button" ref="unmuteButton"\n                    class="amp-video-docked-unmute">\n                </div>\n              </div>\n              <div class="amp-video-docked-button-group">\n                <div role="button" ref="fullscreenButton"\n                    class="amp-video-docked-fullscreen">\n                </div>\n              </div>\n            </div>\n            <div class="amp-video-docked-button-dismiss-group"\n                ref="dismissContainer">\n              <div role="button" ref="dismissButton"\n                  class="amp-video-docked-dismiss"></div>\n            </div>\n          </div>'];
$b.raw=['\n          <div class="amp-video-docked-controls" hidden>\n            <div class="amp-video-docked-main-button-group">\n              <div class="amp-video-docked-button-group">\n                <div role="button" ref="playButton"\n                    class="amp-video-docked-play"></div>\n                <div role="button" ref="pauseButton"\n                    class="amp-video-docked-pause"></div>\n              </div>\n              <div class="amp-video-docked-button-group">\n                <div role="button" ref="muteButton"\n                    class="amp-video-docked-mute"></div>\n                <div role="button" ref="unmuteButton"\n                    class="amp-video-docked-unmute">\n                </div>\n              </div>\n              <div class="amp-video-docked-button-group">\n                <div role="button" ref="fullscreenButton"\n                    class="amp-video-docked-fullscreen">\n                </div>\n              </div>\n            </div>\n            <div class="amp-video-docked-button-dismiss-group"\n                ref="dismissContainer">\n              <div role="button" ref="dismissButton"\n                  class="amp-video-docked-dismiss"></div>\n            </div>\n          </div>'];
var ac=['\n      <div class="i-amphtml-video-docked-overlay" hidden></div>'];ac.raw=['\n      <div class="i-amphtml-video-docked-overlay" hidden></div>'];var bc=['\n      <div class="amp-video-docked-shadow" hidden></div>'];bc.raw=['\n      <div class="amp-video-docked-shadow" hidden></div>'];function V(a,b){a.setAttribute("hidden","");b.removeAttribute("hidden")}
function cc(a,b){var c=!1;return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];c||(c=!0,a.requestAnimationFrame(function(){b.apply(null,e);c=!1}))}}function dc(a){var b=a.touches?a.touches[0]:a;return{x:"x"in b?b.x:b.clientX,y:"y"in b?b.y:b.clientY}}function ec(a,b){this.U=D(a,"timer");this.X=b;this.S=null}
ec.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=this;this.cancel();this.S=this.U.delay(function(){return e.X.apply(null,c)},a)};ec.prototype.cancel=function(){null!==this.S&&(this.U.cancel(this.S),this.S=null)};ec.prototype.isWaiting=function(){return null!==this.S};
function fc(a,b){var c=this;this.j=a;this.F=b;this.l=F(a);this.h=null;this.Ta=gc(this,function(a){c.L||c.h&&(!c.h||c.h.video!=a)||!c.h||!hc(c)&&ic(c,a,.7,50)||jc(c,a,c.h.target,1)});this.Va=gc(this,function(){return kc(c,!0)});this.ka=gc(this,function(a){return lc(c,a)});this.Ka=ya(this.j.getRootNode())?0:1;this.Ea=S(function(){return mc(c,Q(c.j.getRootNode())(bc))});this.P=S(function(){var a=Q(c.j.getRootNode())(ac);mc(c,a);return nc(c,oc(c,a))});this.H=S(function(){return pc(c,Q(c.j.getRootNode())($b))});
this.Z=this.na=null;this.va=[];this.fa=this.T=this.M=null;this.Ga=this.l.getScrollTop();this.L=this.sa=!1;this.Ia=[];this.Xa=S(function(){c.l.onScroll(cc(c.j.win,function(){var a=c.l.getScrollTop();c.fa=a>c.Ga?1:-1;c.Ga=a}));c.l.onResize(function(){return qc(c)});ab(c.j,".amp-video-docked-controls{opacity:0;pointer-events:none!important;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2)}.amp-video-docked-controls-bg{background:hsla(0,0%,90.2%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;-webkit-transform-origin:left top!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity}.i-amphtml-video-docked-overlay{opacity:0;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39.2%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/css/video-docking.css*/",
"amp-video-docking")});this.R=S(function(){var a;a=c.j.getRootNode();var b=a.querySelector("[dock]");t().assert(b.signals().get(M.REGISTERED),"`dock` attribute can only be set on video components.");b=b.getAttribute("dock").trim();""==b?a=null:(a=a.querySelector(b))&&t().assert("amp-layout"==a.tagName.toLowerCase(),"Dock slot must be an <amp-layout> element.");return a});this.Wa=S(function(){return rc(c)})}function gc(a,b){return S(function(){return new ec(a.j.win,b)})}
function qc(a){a.Ia.forEach(function(b){var c=sc(a,b);c&&jc(a,b,c)})}l=fc.prototype;l.register=function(a){var b=this;this.Xa();var c=a.element;this.ja().observe(c,1,function(){var c=sc(b,a);if(c){var e;b.na!=a||null!==b.Z&&!tc(b,b.Z)?e=!1:(b.o(a.element,.02)&&(b.na=null,b.Z=null),e=!0);e||(e=wc(b,a.element,c),b.h&&b.h.step>=(void 0===e?1:e)-.02&&hc(b)||(jc(b,a,c,e),b.Ta().trigger(200,a)))}});this.Ia.push(a)};function mc(a,b){return(a.j.getRootNode().body||a.j.getRootNode()).appendChild(b)}
function nc(a,b){L(b,"mouseup",function(){if(!a.L){var b=a.h.video,d=a.H(),e=d.container,f=d.playButton,g=d.pauseButton,h=d.muteButton,k=d.unmuteButton,d=a.P();e.removeAttribute("hidden");e.classList.add("amp-video-docked-controls-shown");d.classList.add("amp-video-docked-controls-bg");a.D()?V(f,g):V(g,f);a.F.isMuted(b)?V(h,k):V(k,h);xc(a)}});return b}function rc(a){L(a.j.getRootNode(),"mousedown",function(b){a.h&&(ua(b.target)||kc(a,!0))})}
function oc(a,b){function c(b){return yc(a,b)}L(b,"touchstart",c);L(b,"mousedown",c);return b}
function pc(a,b){var c=jb(b),d=c,e=d.dismissButton,f=d.playButton,g=d.pauseButton,h=d.unmuteButton,k=d.muteButton,m=d.fullscreenButton;Object.assign(c,{container:b});W(a,e,function(){lc(a,a.h.video)});W(a,f,function(){a.h.video.play(!1)});W(a,g,function(){a.h.video.pause()});W(a,k,function(){a.h.video.mute()});W(a,h,function(){a.h.video.unmute()});W(a,m,function(){a.h.video.fullscreenEnter()});L(b,"mouseup",function(){return xc(a,1E3)});oc(a,b);mc(a,b);return c}
function W(a,b,c){L(b,"click",function(b){a.L||c(b)})}l.ja=function(){xb(this.j);return pa(this.j,"position-observer")};
function sc(a,b){var c;if(!(c=a.L))if(c=b.getLayoutBox(),1>c.width/c.height){c=b.element;var d=c.tagName.toUpperCase();t().error(d,"Minimize-to-corner (`dock`) does not support portrait video.",c);c=!0}else c=320>a.l.getSize().width-0?!0:!1;if(c||a.h&&(!a.h||a.h.video!=b)||!a.h&&!a.D(b)||ic(a,b))return null;if(zc(a)){c=Ac(a);var e=b.element.getIntersectionChangeEntry().intersectionRect,d=e.top,e=e.bottom,f=Bc(a),g=f.top,f=f.height,f=a.l.getSize().height-f-g;c=0==c?d<=g:e>=f}else c=!1;if(c)return a.R();
zc(a)?b=null:a.h&&a.h.video==b?b=a.h.target.posY:(b=b.element.getIntersectionChangeEntry().intersectionRect,c=b.bottom,b=0>=b.top&&1==a.fa?0:c>=a.l.getSize().height&&-1==a.fa?1:null);var h=b;return null===h?h:{posY:h,posX:a.Ka}}function Bc(a){var b=a.R().getLayoutBox();a=-a.l.getScrollTop();return 0==a||0==b.width&&0==b.height?b:db(b.left+0,b.top+a,b.width,b.height)}function zc(a){if(!a.R())return!1;a=Bc(a);var b=a.height;return 0<a.width&&0<b}
function ic(a,b,c,d){d=void 0===d?40:d;var e=b.element;if(a.h&&a.o(e,void 0===c?1:c))return a.ka().isWaiting()||a.ka().trigger(d,b),!0;a.ka().cancel();return!1}l.D=function(a){a=void 0===a?null:a;return"playing_manual"==this.F.getPlayingState(a||this.h.video)};function hc(a){return a.h?a.h&&1==a.h.target.nodeType?tc(a,Ac(a)):null==a.h.target.posY?!1:tc(a,a.h.target.posY):!1}function Ac(a){var b=Bc(a),c=b.top,b=b.height,d=a.l.getSize().height;return d-b-c>c?0:1}
function tc(a,b){a=a.fa;return 0==b&&1==a||1==b&&-1==a}function jc(a,b,c,d){d=void 0===d?null:d;var e=r(d)?d:wc(a,b.element,c);if(!(.01>e)){.7<=e&&a.h&&!a.h.triggeredDock&&(a.J(b,"dock"),a.h.triggeredDock=!0);var f=b.element.querySelector(".i-amphtml-android-poster-bug");f&&E(f);var g=Cc(a,b,c,e),f=g.x,h=g.y,g=g.scale;b.hideControls();Dc(a,b,f,h,g,e);a.h&&a.h.video==b||Ec(a,b.element);a.h={video:b,target:c,step:e,triggeredDock:(a.h||{triggeredDock:!1}).triggeredDock};a.Wa()}}
l.J=function(a,b){var c=null,d=Oa(this.j.win,b,x({})),e=ka(this.j,"action");e.trigger(a.element,b,d,1)};function wc(a,b,c){a=Fc(a,b,c);return 1-Math.pow(a,3)}function Fc(a,b,c){c=void 0===c?null:c;if(null==c||1!=c.nodeType)return b.getIntersectionChangeEntry().intersectionRatio;var d=b.getLayoutBox();b=d.top;c=d.bottom;var d=d.height,e=a.R().getLayoutBox(),f=e.top,e=e.bottom;return 0==Ac(a)?(c-Math.max(b,f))/d:(e-b)/d}function Gc(a,b){var c=500;return a.h?Math.abs(b-a.h.step)*c:0}
function Dc(a,b,c,d,e,f,g){g=void 0===g?null:g;if(!a.M||a.M.x!=c||a.M.y!=d||a.M.scale!=e){var h=g?g:Gc(a,f),k=b.getLayoutBox(),m=k.width,p=k.height;a.M={x:c,y:d,scale:e};var q=200<h?"ease-in":"linear",v=U(b.element),G=a.Ea(),O=a.P(),k=a.H(),Ga=k.container,Ha=k.dismissContainer;b.mutateElement(function(){v.classList.add("i-amphtml-video-docked");G.removeAttribute("hidden");O.removeAttribute("hidden");for(var b=[v,G,O],g=0;g<b.length;g++){var k=b[g];N(k,{transform:"translate("+c+"px, "+d+"px) scale("+
e+")","transition-duration":h+"ms","transition-timing-function":q});var H=!a.T||a.T.width!=m||a.T.height!=p;H&&(a.T={width:m,height:p});H&&N(k,{width:m+"px",height:p+"px"})}N(G,{opacity:f});var y=e/2,C=c+m*y,Tc=d+p*y;N(Ga,{transform:$a(C,Tc)});var Tb=8,Ub=40,Uc=m*y-Tb-Ub,Vc=-(p*y-Tb-Ub);N(Ha,{transform:$a(Uc,Vc)})})}}
function Ec(a,b){for(;a.va.length;)a.va.pop().call();a.va=[L(b,M.PLAYING,function(){var b=a.H(),d=b.playButton,b=b.pauseButton;a.sa=!1;V(d,b)}),L(b,M.PAUSE,function(){var b=a.H(),d=b.pauseButton,b=b.playButton;a.sa=!0;V(d,b)}),L(b,M.MUTED,function(){var b=a.H();V(b.muteButton,b.unmuteButton)}),L(b,M.UNMUTED,function(){var b=a.H();V(b.unmuteButton,b.muteButton)})]}l.o=function(a,b){b=void 0===b?1:b;var c=zc(this)?this.R():null,d=Fc(this,a,c);return d>b-.02};
function yc(a,b){if(a.h&&(!a.h||1!=a.h.target.nodeType)&&a.h&&.73<=a.h.step){b=dc(b);var c=b.x,d=b.y,e={x:0,y:0};b=a.h.target;var f=b.posX,g=b.posY,h=cc(a.j.win,function(b){var h=a.h.target,k=h.posY;if(h.posX===f&&k===g&&(h=dc(b),k=h.y,e.x=h.x-c,e.y=k-d,!(10>=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))))){b.preventDefault();b.stopPropagation();kc(a);a.L=!0;b=e.x;var h=e.y,k=a.h.video,m=Cc(a,k,a.h.target,1);Dc(a,k,m.x+b,m.y+h,m.scale,1,0);Hc(a,e.x,e.y)}}),k=function(){return Ic(a,m,e)};b=a.j.getRootNode();
var m=[Jc(a),Kc(a),Lc(a),L(b,"touchmove",h),L(b,"mousemove",h),Pa(b,"touchend",k),Pa(b,"mouseup",k)]}}function Kc(a){var b=a.j.getRootNode().documentElement,c="i-amphtml-select-disabled";b.classList.add(c);return function(){return b.classList.remove(c)}}function Jc(a){a.l.disableScroll();return a.l.resetScroll.bind(a.l)}
function Hc(a,b,c){var d=a.h.video,e=U(d.element),f=Mc(a,b,c);d.mutateElement(function(){e.classList.toggle("amp-video-docked-almost-dismissed",f);a.P().classList.toggle("amp-video-docked-almost-dismissed",f)})}function Lc(a){function b(a){return a.preventDefault()}var c=a.j.win;if(!Ba(c).isIos())return function(){};c.addEventListener("touchmove",b,{passive:!1});return function(){return c.removeEventListener("touchmove",b)}}
function Ic(a,b,c){b.forEach(function(a){return a.call()});a.L=!1;Nc(a,c.x,c.y)||Oc(a,c.x,c.y)}function Nc(a,b,c){var d=Mc(a,b,c);if(d){var e,f;e=void 0===e?0:e;f=void 0===f?0:f;b=a.h.video;c=a.h.target.posY;b.pause();a.na=b;a.Z=c||null;lc(a,b,e,f)}return d}function Mc(a,b,c){var d=20,e=a.l.getSize(),f=e.width,e=e.height;b=Pc(a,b,c);a=b.centerX;b=b.centerY;return a>=f-d||a<=d||b>=e-d||b<=d}
function Pc(a,b,c){var d=a.h,e=d.target,f=d.step,g=a.h.video,h=g.getLayoutBox(),d=h.width,h=h.height;a=Cc(a,g,e,f);e=a.scale;return{centerX:a.x+b+d*e/2,centerY:a.y+c+h*e/2}}
function Oc(a,b,c){var d=a.h.video,e=a.h.step;b=Pc(a,b,c);var f=b.centerX,g=b.centerY,h=null,k=null,m=null;[0,1].forEach(function(b){[0,1].forEach(function(c){var d=0==b?0:a.l.getSize().width,e=0==c?0:a.l.getSize().height,p=Math.sqrt(Math.pow(d-f,2)+Math.pow(e-g,2));if(null===h||p<h)h=p,m=c,k=b})});b={posX:k,posY:m};a.h.target=b;a.Ka=k;b=Cc(a,d,b,e);Dc(a,d,b.x,b.y,b.scale,e,200)}
function Cc(a,b,c,d){var e=b.getLayoutBox(),f=e.left,e=e.width;if(1==c.nodeType){var g=b.getLayoutBox(),h=g.width,g=g.height;c=c.getLayoutBox();var k=c.width,m=c.height,p=c.left;b=Bc(a);c=b.top;b=b.bottom;var q;h/g>k/m?(q=k/h,k=c+m/2-g*q/2,m=p):(q=m/g,m=p+k/2-h*q/2,k=c);a=Ac(a);a={x:m,y:k,targetWidth:h*q,targetHeight:g*q,initialY:0==a?c:b-g}}else g=c.posX,h=c.posY,c=b.getLayoutBox(),b=c.width,c=c.height,q=Math.min(30,.04*(a.l.getSize().width-0)),k=b/c,b=Math.max(180,.3*(a.l.getSize().width-0)),k=
b/k,g=1==g?a.l.getSize().width-q-b:0+q,q=0==h?0+q:a.l.getSize().height-q-k,a=a.l.getSize().height,a={x:g,y:q,targetWidth:b,targetHeight:k,initialY:0==h?0:a-c};h=a.y;g=a.targetWidth;c=a.initialY;var v=hb(d,f,a.x),G=hb(d,e,g),O=hb(d,c,h);return{x:v,y:O,scale:G/e}}
function lc(a,b,c,d){c=void 0===c?0:c;d=void 0===d?0:d;var e=U(b.element);a.J(b,"undock");b.mutateElement(function(){kc(a);b.showControls();a.M=null;a.T=null;e.classList.remove("i-amphtml-video-docked");var c=a.Ea(),d=a.P(),h="amp-video-docked-almost-dismissed";e.classList.remove(h);d.classList.remove(h);c.setAttribute("hidden","");d.setAttribute("hidden","");c=[e,c,d];for(d=0;d<c.length;d++)for(var k=c[d],m=["transform","transition","width","height","opacity"],p=0;p<m.length;p++)Ya(k,m[p],null);
a.h=null})}function kc(a,b){b=void 0===b?!1:b;if(!b||!a.sa){var c=a.H().container;a.P().classList.remove("amp-video-docked-controls-bg");c.classList.remove("amp-video-docked-controls-shown")}}function xc(a,b){b=void 0===b?1600:b;a.Va().trigger(b)};function X(){this.Y=!1;this.Aa=new fb}X.prototype.onSessionEnd=function(a){this.Aa.add(a)};X.prototype.beginSession=function(){this.Y=!0};X.prototype.endSession=function(){this.Y&&this.Aa.fire();this.Y=!1};X.prototype.isSessionActive=function(){return this.Y};function Qc(a){var b=this;this.ampdoc=a;this.installAutoplayStyles=S(function(){return rb(b.ampdoc)});this.l=F(this.ampdoc);this.m=null;this.La=!1;this.U=D(a.win,"timer");this.Oa=ka(a,"action");this.za=function(){for(var a=0;a<b.m.length;a++){var d=b.m[a];if("paused"!==d.getPlayingState()){Y(d,"video-seconds-played");var e=d.video.getCurrentTime(),f=d.video.getDuration();r(e)&&r(f)&&0<f&&(e=Oa(b.ampdoc.win,"video-manager.timeUpdate",x({time:e,percent:e/f})),b.Oa.trigger(d.video.element,"timeUpdate",
e,1))}}b.U.delay(b.za,1E3)};this.Ca=S(function(){return new Rc(b.ampdoc,b)});this.Ua=S(function(){return new fc(b.ampdoc,b)});this.U.delay(this.za,1E3)}l=Qc.prototype;l.register=function(a){Sc(a);if(a.supportsPlatform()){this.m=this.m||[];var b=new Wc(this,a);Xc(this,b);this.m.push(b);b=b.video.element;b.dispatchCustomEvent(M.REGISTERED);Sb(b);a.signals().signal(M.REGISTERED);b.classList.add("i-amphtml-video-interface")}};
function Sc(a){function b(b,d){a.registerAction(b,function(){a.signals().signal("user-interacted");d()},1)}b("play",function(){return a.play(!1)});b("pause",function(){return a.pause()});b("mute",function(){return a.mute()});b("unmute",function(){return a.unmute()});b("fullscreen",function(){return a.fullscreenEnter()})}
function Xc(a,b){var c=b.video.element;L(c,M.VISIBILITY,function(a){var c=a.data;c&&1==c.visible?b.updateVisibility(!0):b.updateVisibility()});L(c,M.RELOAD,function(){b.videoLoaded()});if(!a.La){var d=function(){for(var b=0;b<a.m.length;b++)a.m[b].updateVisibility()};a.l.onScroll(d);a.l.onChanged(d);a.La=!0}}function Yc(a,b){for(var c=0;c<a.m.length;c++)if(a.m[c].video===b)return a.m[c];u().error("video-manager","video is not registered to this video manager");return null}
l.getAnalyticsDetails=function(a){var b;a:{for(b=0;b<this.m.length;b++){var c=this.m[b];if(c.video.element===a){b=c;break a}}u().error("video-manager","video is not registered to this video manager");b=null}return b?b.getAnalyticsDetails():Promise.resolve()};l.getPlayingState=function(a){return Yc(this,a).getPlayingState()};l.isMuted=function(a){return Yc(this,a).isMuted()};l.userInteracted=function(a){return Yc(this,a).userInteracted()};l.registerForAutoFullscreen=function(a){this.Ca().register(a)};
l.registerForDocking=function(a){this.Ua().register(a.video)};l.bb=function(){return this.Ca()};
function Wc(a,b){var c=this;this.F=a;this.j=a.ampdoc;this.video=b;this.xa=!0;this.o=this.D=this.Ha=!1;this.ha=new X;this.ha.onSessionEnd(function(){return Y(c,"video-session")});this.N=new X;this.N.onSessionEnd(function(){return Y(c,"video-session-visible")});this.ta=function(){var a=c.j.win,b=n(a).lite;T||(T=S(qb));return T(a,b)};this.pa=this.Ja=!1;this.ma=null;this.$=!1;(this.hasAutoplay=b.element.hasAttribute("autoplay"))&&this.F.installAutoplayStyles();this.I=Wb;Qa(b.element).then(function(){return c.videoLoaded()});
L(b.element,M.PAUSE,function(){Y(c,"video-pause");c.D=!1;c.pa?c.pa=!1:c.ha.endSession()});L(b.element,M.PLAYING,function(){return Zc(c)});L(b.element,M.MUTED,function(){return c.$=!0});L(b.element,M.UNMUTED,function(){return c.$=!1});L(b.element,M.ENDED,function(){Y(c,"video-ended")});b.signals().whenSignal(M.REGISTERED).then(function(){var a=c.video.element;(c.video.preimplementsAutoFullscreen()||!a.hasAttribute("rotate-to-fullscreen")?0:t().assert(c.video.isInteractive(),"Only interactive videos are allowed to enter fullscreen on rotate. Set the `controls` attribute on %s to enable.",
a))&&c.F.registerForAutoFullscreen(c);c.video.element.hasAttribute("dock")&&c.F.registerForDocking(c);c.updateVisibility();c.hasAutoplay&&$c(c)});this.Ba=S(function(){var a="firstPlay",b=Oa(c.j.win,a,x({}));ka(c.j,"action").trigger(c.video.element,a,b,1)});ad(this)}function ad(a){a.video.signals().whenSignal("autoplay-delegated").then(function(){a.xa=!1;a.D&&a.video.pause()})}l=Wc.prototype;l.isMuted=function(){return this.$};
function Zc(a){a.D=!0;"playing_manual"==a.getPlayingState()&&a.Ba();a.video.preimplementsMediaSessionAPI()||Xb(a.j,a.I,function(){a.video.play(!1)},function(){a.video.pause()});a.ha.beginSession();a.o&&a.N.beginSession();Y(a,"video-play")}
l.videoLoaded=function(){this.Ha=!0;this.ma=U(this.video.element);if(!this.video.preimplementsMediaSessionAPI()){this.video.getMetadata()&&(this.I=ia(this.video.getMetadata()));var a=this.j.win.document;if(!this.I.artwork||0==this.I.artwork.length){var b;(b=Zb(a))||(b=(b=a.querySelector('meta[property="og:image"]'))?b.getAttribute("content"):void 0);b||(b=(b=a.querySelector('link[rel="shortcut icon"]')||a.querySelector('link[rel="icon"]'))?b.getAttribute("href"):void 0);b&&(this.I.artwork=[{src:b}])}!this.I.title&&
(a=this.video.element.getAttribute("title")||this.video.element.getAttribute("aria-label")||this.ma.getAttribute("title")||this.ma.getAttribute("aria-label")||a.title)&&(this.I.title=a)}this.updateVisibility();this.o&&bd(this)};function bd(a){ma(a.j,"viewer").isVisible()&&a.ta().then(function(b){var c=a.hasAutoplay&&!a.userInteracted();c&&b?a.xa&&(a.o?(a.N.beginSession(),a.video.play(!0),a.Ja=!0):(a.D&&a.N.endSession(),a.video.pause(),a.pa=!0)):a.o?a.N.beginSession():a.D&&a.N.endSession()})}
function $c(a){a.video.isInteractive()&&a.video.hideControls();a.ta().then(function(b){!b&&a.video.isInteractive()?a.video.showControls():(a.video.mute(),cd(a))})}
function cd(a){var b=a.video,c=a.video,d=c.element,c=c.win;if(!d.hasAttribute("noaudio")&&!d.signals().get("user-interacted")){var e=Cb(c,d),f=function(a){b.mutateElement(function(){e.classList.toggle("amp-video-eq-play",a)})};b.mutateElement(function(){d.appendChild(e)});var g=[L(d,M.PAUSE,function(){return f(!1)}),L(d,M.PLAYING,function(){return f(!0)})];b.signals().whenSignal("user-interacted").then(function(){var b=a.video,c=b.element;a.Ba();b.isInteractive()&&b.showControls();b.unmute();g.forEach(function(a){a()});
b=c.querySelector(".amp-video-eq");c=c.querySelector("i-amphtml-video-mask");b&&E(b);c&&E(c)});if(b.isInteractive()){var h=Bb(0,d),k=function(a){b.mutateElement(function(){var b=a;void 0===b&&(b=(b=Xa(h.style,"display",void 0))?h.style[b]:void 0,b="none"==b);Ya(h,"display",b?"":"none")})};b.hideControls();b.mutateElement(function(){d.appendChild(h)});[L(h,"click",function(){b.signals().signal("user-interacted")}),L(d,M.AD_START,function(){return k(!1)}),L(d,M.AD_END,function(){return k(!0)})].forEach(function(a){return g.push(a)})}}}
l.updateVisibility=function(a){var b=this.o;if(a)this.o=!0;else{var c=this.video.element.getIntersectionChangeEntry().intersectionRatio;this.o=.5<=(r(c)?c:0)}this.o!=b&&this.Ha&&bd(this)};l.getPlayingState=function(){return this.D?this.D&&this.Ja&&!this.userInteracted()?"playing_auto":"playing_manual":"paused"};l.userInteracted=function(){return null!=this.video.signals().get("user-interacted")};
l.getAnalyticsDetails=function(){var a=this,b=this.video;return this.ta().then(function(c){var d=b.element.getLayoutBox(),e=d.width,d=d.height,f=a.hasAutoplay&&c,g=b.getPlayedRanges(),h=g.reduce(function(a,b){return a+b[1]-b[0]},0);return{autoplay:f,currentTime:b.getCurrentTime(),duration:b.getDuration(),height:d,id:b.element.id,muted:a.$,playedTotal:h,playedRangesJson:JSON.stringify(g),state:a.getPlayingState(),width:e}})};
function Rc(a,b){var c=this;this.F=b;this.j=a;this.K=this.O=null;this.m=[];this.V=function(){return dd(c)};this.Qa=function(a){return"playing_manual"==c.F.getPlayingState(a)};this.Pa=function(a,b){a=a.element.getIntersectionChangeEntry();var d=a.intersectionRatio;a=a.boundingClientRect;var e=b.element.getIntersectionChangeEntry();b=e.boundingClientRect;d-=e.intersectionRatio;.1<Math.abs(d)?a=d:(e=F(c.j),d=ed(e,a),e=ed(e,b),a=d<e||d>e?d-e:a.top-b.top);return a};fd(this);gd(this)}
Rc.prototype.register=function(a){a=a.video;var b=a.element,c;"video"==U(b).tagName.toLowerCase()?c=!0:(c=Ba(this.j.win),c=c.isIos()||c.isSafari()?!!{"amp-dailymotion":!0,"amp-ima-video":!0}[b.tagName.toLowerCase()]:!0);c&&(this.m.push(a),L(b,M.PAUSE,this.V),L(b,M.PLAYING,this.V),L(b,M.ENDED,this.V),a.signals().whenSignal("user-interacted").then(this.V),dd(this))};
function gd(a){function b(){a.O=null}var c=a.j.getRootNode();L(c,"webkitfullscreenchange",b);L(c,"mozfullscreenchange",b);L(c,"fullscreenchange",b);L(c,"MSFullscreenChange",b)}Rc.prototype.isInLandscape=function(){var a=this.j.win;return a.screen&&"orientation"in a.screen?sa(a.screen.orientation.type,"landscape"):90==Math.abs(a.orientation)};
function fd(a){var b=a.j.win,c=b.screen;if(c&&"orientation"in c){var d=c.orientation;L(d,"change",function(){return hd(a)})}L(b,"orientationchange",function(){return hd(a)})}function hd(a){a.isInLandscape()?null!=a.K&&id(a,a.K):a.O&&jd(a,a.O)}function id(a,b){var c=Ba(a.j.win);a.O=b;c.isAndroid()&&c.isChrome()?b.fullscreenEnter():kd(a,b).then(function(){return b.fullscreenEnter()})}function jd(a,b){a.O=null;kd(a,b,"center").then(function(){return b.fullscreenExit()})}
function kd(a,b,c){c=void 0===c?null:c;var d=b.element,e=F(a.j),f="ease-in";return ld(a).then(function(){var a=d.getIntersectionChangeEntry().boundingClientRect,b=a,k=b.top,b=b.bottom,m=e.getSize().height,p=0<=k&&b<=m;return p?Promise.resolve():e.animateScrollIntoView(d,300,f,c?c:b>m?"bottom":"top")})}function ld(a){var b=330;return D(a.j.win,"timer").promise(b)}
function dd(a){if(a.isInLandscape())return a.K;a.K=null;var b=a.m.filter(a.Qa).sort(a.Pa)[0];b&&.5<=b.element.getIntersectionChangeEntry().intersectionRatio&&(a.K=b);return a.K}function ed(a,b){b=b.top+b.height/2;var c=a.getSize().height/2;return Math.abs(b-c)}function Y(a,b){var c,d=a.video,e=c?Promise.resolve(c):a.getAnalyticsDetails();e.then(function(a){d.element.dispatchCustomEvent(b,a)})}function md(a){na(a,"video-manager",function(a){return Sa(a.win,"video-service")?new Nb(a):new Qc(a)})};function nd(a){a=AMP.BaseElement.call(this,a)||this;a.C=null;a.l=null;a.ba=null;a.qa=null;a.ua=null;a.ca=null;a.da=null;a.Fa=!1;a.G={};a.aa=new cb;return a}aa(nd,AMP.BaseElement);l=nd.prototype;
l.buildCallback=function(){var a=this;this.l=this.getViewport();"true"===this.element.getAttribute("data-delay-ad-request")&&(this.G.onFirstScroll=this.l.onScroll(function(){Z(a,"onFirstScroll")}),D(this.win,"timer").delay(function(){Z(a,"onAdRequestDelayTimeout")},3E3));Ja(this.element.getAttribute("data-tag"),"The data-tag attribute is required for <amp-video-ima> and must be https");var b=wa(this.element,"> SOURCE"),c=wa(this.element,"> TRACK"),d=ga(b).concat(ga(c));if(0<d.length){var e=[];d.forEach(function(b){"SOURCE"!=
b.tagName||a.ca?"TRACK"!=b.tagName||a.da||(a.da=b.src):a.ca=b.src;e.push(b.outerHTML)});this.element.setAttribute("data-child-elements",JSON.stringify(e))}var f=wa(this.element,"> SCRIPT")[0];f&&xa(f)&&this.element.setAttribute("data-ima-settings",f.innerHTML)};
l.preconnectCallback=function(){var a=this.element,b=this.preconnect;b.preload("https://imasdk.googleapis.com/js/sdkloader/ima3.js","script");var c=a.getAttribute("data-src");c&&b.url(c);this.ca&&b.url(this.ca);this.da&&b.url(this.da);b.url(a.getAttribute("data-tag"));a=ob(this.win,void 0,void 0);b.preload(a,"document");b.preload(Da.thirdParty+"/0/f.js","script")};
l.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};l.getConsentPolicy=function(){return null};
l.layoutCallback=function(){var a=this,b=this.getAmpDoc(),c=AMP.BaseElement.prototype.getConsentPolicy.call(this),d=c?La(b,c):Promise.resolve(null);return d.then(function(c){var d=a.element,e=nb(a.win,d,{initialConsentState:c});a.applyFillContent(e);a.C=e;var h=new ja;a.ba=h.promise;a.qa=h.resolve;a.ua=L(a.win,"message",function(b){if(b.source==a.C.contentWindow&&(b=b.data,"[object Object]"===fa.call(b))){var c=b.event,d;a:{var e=M;for(d in e)if(e[d]===c){d=!0;break a}d=!1}d?(c==M.LOAD&&a.qa(a.C),
a.element.dispatchCustomEvent(c)):"imaPlayerData"==c?a.aa=b.data:"fullscreenchange"==c&&(a.Fa=!!b.isFullscreen)}});d.appendChild(e);md(d);pa(b,"video-manager").register(a);return a.loadPromise(e).then(function(){return a.ba})})};l.viewportCallback=function(a){this.element.dispatchCustomEvent(M.VISIBILITY,{visible:a})};l.unlayoutCallback=function(){this.C&&(E(this.C),this.C=null);this.ua&&this.ua();var a=new ja;this.ba=a.promise;this.qa=a.resolve;return!0};
l.onLayoutMeasure=function(){if(this.C){var a=this.getLayoutBox();Z(this,"resize",{width:a.width,height:a.height})}};function Z(a,b,c){a.C&&a.C.contentWindow&&a.ba.then(function(){a.C.contentWindow.postMessage(JSON.stringify(x({event:"command",func:b,args:c||""})),"*")});if(a.G[b])a.G[b]()}l.supportsPlatform=function(){return!0};l.isInteractive=function(){return!0};l.play=function(){Z(this,"playVideo")};l.pause=function(){Z(this,"pauseVideo")};l.mute=function(){Z(this,"mute")};
l.unmute=function(){Z(this,"unMute")};l.showControls=function(){Z(this,"showControls")};l.hideControls=function(){Z(this,"hideControls")};l.fullscreenEnter=function(){Z(this,"enterFullscreen")};l.fullscreenExit=function(){Z(this,"exitFullscreen")};l.isFullscreen=function(){return this.Fa};l.getMetadata=function(){};l.preimplementsMediaSessionAPI=function(){return!1};l.preimplementsAutoFullscreen=function(){return!1};l.getCurrentTime=function(){return this.aa.currentTime};l.getDuration=function(){return this.aa.duration};
l.getPlayedRanges=function(){return this.aa.playedRanges};(function(a){a.registerElement("amp-ima-video",nd)})(self.AMP);
})});
//# sourceMappingURL=amp-ima-video-0.1.js.map

